(()=>{var jo=Object.defineProperty;var o=(w,s)=>jo(w,"name",{value:s,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-async-client-boot-deferred"],{"+8Px":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("X6iR"),t=e("pu3F");function a(i){return Object(n.a)(i,t.R)}o(a,"isSlackAction")},"+8pe":function(w,s,e){"use strict";e.d(s,"a",function(){return t});const n={NOT_STARTED:"not_started",IN_PROGRESS:"in_progress",DONE:"done"},t={LINK:"link",MESSAGE:"message",FILE:"file",FOLDER:"local_folder",PINNED_MESSAGE:"pinned_message",SHORTCUT:"shortcut",AUTO_GEN_SHORTCUT:"auto_gen_shortcut",LEGACY_WORKFLOW:"legacy_workflow",AUTO_GEN_LEGACY_WORKFLOW:"auto_gen_legacy_workflow"}},"+FG2":function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t});var n;(function(a){a.BUILTIN="builtin",a.CERTIFIED="certified",a.CUSTOM="custom"})(n||(n={}));var t;(function(a){a.BUILTIN="builtin",a.APP="app"})(t||(t={}))},"+HIp":function(w,s,e){"use strict";e.d(s,"f",function(){return l}),e.d(s,"g",function(){return h}),e.d(s,"e",function(){return u}),e.d(s,"c",function(){return b}),e.d(s,"a",function(){return v}),e.d(s,"d",function(){return d}),e.d(s,"b",function(){return m});var n=e("uZL6"),t=e("ZKjC"),a=e("JoR1"),i=e("O86Y"),c=e("ZOzc"),r=e("s4P+"),f=e("ZgSn");const l=Object(n.a)(g=>Object(a.t)(g,f.a),g=>Object(i.g)(g),function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}",O=arguments.length>1?arguments[1]:void 0;try{return JSON.parse(g)}catch(E){return Object(r.a)({teamId:O}).error("ID-LINKS","Unable to parse user prefs. Defaulting to {}.",E),{}}}),p=Object(t.b)(g=>Object(c.a)(g,f.a));p.meta={name:"createSelector",key:"createSelectorselectIdentityLinksTeamPrefs",description:g=>Object(c.a)(g,f.a)};const h=Object(t.b)(g=>{const O=p(g);var E;return(E=O==null?void 0:O.is_enabled)!==null&&E!==void 0?E:!1});h.meta={name:"createSelector",key:"createSelectorselectIsIdentityLinksEnabledByAdmin",description:g=>{const O=p(g);var E;return(E=O==null?void 0:O.is_enabled)!==null&&E!==void 0?E:!1}};const u=Object(t.b)((g,O)=>{const E=l(g);var y;return(y=E==null?void 0:E[O])!==null&&y!==void 0?y:!1});u.meta={name:"createSelector",key:"createSelectorselectIdentityLinkPrefByAppId",description:(g,O)=>{const E=l(g);var y;return(y=E==null?void 0:E[O])!==null&&y!==void 0?y:!1}};const b=Object(t.b)((g,O)=>{const E=u(g,O);var y;return(y=E==null?void 0:E.date_opted_out)!==null&&y!==void 0?y:null});b.meta={name:"createSelector",key:"createSelectorgetDateOptedOut",description:(g,O)=>{const E=u(g,O);var y;return(y=E==null?void 0:E.date_opted_out)!==null&&y!==void 0?y:null}};const v=Object(t.b)((g,O)=>{const E=u(g,O);var y;return(y=E==null?void 0:E.completed_transfer)!==null&&y!==void 0?y:!1});v.meta={name:"createSelector",key:"createSelectorgetCompletedTransferPref",description:(g,O)=>{const E=u(g,O);var y;return(y=E==null?void 0:E.completed_transfer)!==null&&y!==void 0?y:!1}};const d=Object(t.b)((g,O)=>{const E=u(g,O);var y;return(y=E==null?void 0:E.num_skipped)!==null&&y!==void 0?y:0});d.meta={name:"createSelector",key:"createSelectorgetNumSkipped",description:(g,O)=>{const E=u(g,O);var y;return(y=E==null?void 0:E.num_skipped)!==null&&y!==void 0?y:0}};const m=Object(t.b)((g,O)=>{const E=u(g,O);var y;return(y=E==null?void 0:E.date_disconnected)!==null&&y!==void 0?y:null});m.meta={name:"createSelector",key:"createSelectorgetDateDisconnected",description:(g,O)=>{const E=u(g,O);var y;return(y=E==null?void 0:E.date_disconnected)!==null&&y!==void 0?y:null}}},"+J8q":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("lhZz"),t=e("yrot"),a=e("TyLq");function i(c,r,f){const l=f&&Object(n.getStateByTeamId)(f);return l&&Object(t.o)(l,{text:c,teamId:f})&&Object(a.a)(r)?`${c}::skin-tone-${r}`:c}o(i,"getSkinToneModifiedName")},"+QGB":function(w,s,e){"use strict";e.d(s,"a",function(){return j});var n=e("ifKl"),t=e("q1tI"),a=e.n(t),i=e("/MKj"),c=e("4YJR"),r=e("9oTK"),f=e("SQ0V"),l=e("Oyf8"),p=e("IaLB"),h=e("v5z3");const u=Object(f.c)("Dismiss all Progressive Disclosure tips from user clicking 'Don't show tips' option",function(){var M=Object(r.coroutine)(function*(T,D){const S=D();Object(p.X)(S)&&(T(Object(c.k)(null)),T(Object(c.k)({tip:h.f.DismissedAll,state:h.g.Success})),yield T(Object(l.a)()))});return function(T,D){return M.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkdismissAllProgressiveDisclosureTips",description:"Dismiss all Progressive Disclosure tips from user clicking 'Don't show tips' option"};var b=e("T1zM"),v=e("ktUG"),d=e("Trx9"),m=e("WM2Z"),g=e("zxER"),O=e("83nZ"),E=e("eWGC"),y=e("7+Lm"),C=e("uVZW");function I(){return I=Object.assign||function(M){for(var T=1;T<arguments.length;T++){var D=arguments[T];for(var S in D)Object.prototype.hasOwnProperty.call(D,S)&&(M[S]=D[S])}return M},I.apply(this,arguments)}o(I,"_extends");const j=o(M=>{let{onDismiss:T=n.a,onDismissAll:D=n.a,shouldClearMessageInputCtaOnClose:S,tipState:A=h.g.Explainer,...P}=M;const N=Object(t.useRef)(),G=Object(t.useCallback)(U=>{N.current=U},[]),V=Object(g.c)(U=>Object(y.c)(U,C.g.PROGRESSIVE_DISCLOSURE)),k=Object(i.useDispatch)(),x=Object(t.useCallback)(()=>{S&&k(Object(O.a)({pref:"message_input_cta_complete",value:!0}))},[k,S]),H=Object(t.useCallback)(()=>{S&&k(Object(O.a)({pref:"has_dismissed_first_message_tip",value:!0}))},[k,S]),R=Object(t.useCallback)(U=>{var _;U.stopPropagation(),(_=N.current)===null||_===void 0||_.call(N,{action:v.UiAction.CLICK,elementName:`prog_disc_${A}_tip_dismiss_single`}),x(),H(),k(Object(c.k)(null)),k(Object(E.a)({notificationName:V,action:C.f.DISMISS})),T()},[V,k,x,H,T,A]),W=Object(t.useCallback)(U=>{var _;U.stopPropagation(),(_=N.current)===null||_===void 0||_.call(N,{action:v.UiAction.CLICK,elementName:`prog_disc_${A}_tip_dismiss_all`}),x(),H(),k(u()),k(Object(b.f)({pref:"onboarding_tip_opt_out",value:!0})),k(Object(E.a)({notificationName:V,action:C.f.DISMISS,notificationParams:{dismiss_all_education:!0}})),D()},[V,k,x,H,D,A]);return a.a.createElement(d.a,{elementName:`prog_disc_${A}_tip_dismiss`,trackClogRef:G},a.a.createElement(m.a,I({onClickCloseThis:R,onClickDismissAllTips:W},P)))},"ProgressiveDisclosureDismissalMenu");j.displayName="ProgressiveDisclosureDismissalMenu"},"+h1i":function(w,s,e){"use strict";e.d(s,"h",function(){return K}),e.d(s,"f",function(){return Z}),e.d(s,"g",function(){return ne}),e.d(s,"b",function(){return F}),e.d(s,"a",function(){return J}),e.d(s,"d",function(){return X}),e.d(s,"e",function(){return ae}),e.d(s,"c",function(){return ee}),e.d(s,"j",function(){return te}),e.d(s,"i",function(){return de});var n=e("AFNo"),t=e("72cY"),a=e("o97p"),i=e("Qm7m"),c=e("wOIf"),r=e("q1tI"),f=e.n(r),l=e("nNoG"),p=e("TKl6"),h=e.n(p);const u=new l.b("workflow_builder"),b={getTitle:()=>u.t("Customize how to start the workflow",{fallbackHash:"5695013e040ce5cadf7d7deb2e87ac2471bb0650"}),getDescription:()=>"Third party event trigger",getIsEnabled:()=>!1,getIcon:()=>f.a.createElement("img",{alt:u.t("Salesforce Icon",{ns:"data_sources"}),className:"c-icon",src:h.a})},v=new l.b("workflow_builder"),d={getTitle:()=>v.t("Choose how to start the workflow",{fallbackHash:"25242dffe7c0126525f9e58ffcb6126aa72ecf9b"}),getDescription:()=>"Hermes webhook trigger",getIsEnabled:()=>!1,getIcon:()=>"code"},m=new l.b("workflow_builder"),g={getTitle:()=>m.t("Choose how to start the workflow",{fallbackHash:"25242dffe7c0126525f9e58ffcb6126aa72ecf9b"}),getDescription:()=>"Template trigger description",getIsEnabled:()=>!1,getIcon:()=>"clock"};var O=e("DzIv");const E=new l.b("workflow_builder"),y={getTitle:()=>E.t("New channel member"),getDescription:()=>E.t("Someone joins a specific channel"),getIsEnabled:()=>!0,getIcon:()=>"user-add"},C=new l.b("workflow_builder"),I={getTitle:()=>C.t("Slash command"),getDescription:()=>C.t("Someone enters a specific slash command"),getIsEnabled:()=>!1,getIcon:()=>"paper-plane"},j=new l.b("workflow_builder"),M={getTitle:()=>j.t("Message action"),getDescription:()=>j.rt("A message action is chosen from the <strong>more actions</strong> menu in a message"),getIsEnabled:()=>!1,getIcon:()=>"threads"},T=new l.b("workflow_builder"),D={getTitle:()=>T.t("Shortcut"),getDescription:()=>T.t("Someone selects the workflow from the available shortcuts in a channel"),getIsEnabled:()=>!0,getIcon:()=>"bolt"},S=new l.b("workflow_builder"),A={getTitle:()=>S.t("Emoji reaction"),getDescription:()=>S.t("Someone adds a specific emoji reaction in a channel"),getIsEnabled:()=>!0,getIcon:()=>"emoji"};var P=e("Rthn");const N=new l.b("workflow_builder"),G={getTitle:()=>N.t("Webhook"),getDescription:()=>N.t("Starts when an app or service sends a web request"),getIsEnabled:(re,oe,ce)=>Object(P.e)(re,ce?[ce]:void 0),getIcon:()=>"code",getIsAdvanced:()=>!0},V=new l.b("workflow_builder"),k={getTitle:()=>V.t("Scheduled date & time"),getDescription:()=>V.t("Set a date and time for this workflow to start. Choose if you'd like the workflow to repeat."),getIsEnabled:()=>!0,getIcon:()=>"clock"},x=new l.b("workflow_builder"),H={getTitle:()=>x.t("Choose how to start the workflow",{fallbackHash:"25242dffe7c0126525f9e58ffcb6126aa72ecf9b"}),getDescription:()=>"Someone clicks a shortcut",getIsEnabled:()=>!1,getIcon:()=>"link"},R=new l.b("workflow_builder"),W={getTitle:()=>R.t("Send a message"),getDescription:()=>R.t("Slack"),getIsEnabled:()=>!0,getIcon:()=>"message"},U=new l.b("workflow_builder"),_={getTitle:()=>U.t("Send a form",{fallbackHash:"079648120f8dae4939b83fcf714b1434e372a942"}),getDescription:()=>U.t("Slack"),getIsEnabled:()=>!0,getIcon:()=>"text-snippet"};var B=e("4Ky9");const z={getTitle:(re,oe)=>{const ce=Object(a.d)(re,oe);return ce==null?void 0:ce.name},getDescription:(re,oe)=>{var ce;const ue=Object(a.d)(re,oe);return ue!=null&&ue.app_id?(ce=Object(B.a)(re,ue.app_id))===null||ce===void 0?void 0:ce.name:void 0},getIsEnabled:()=>!1,getAppName:(re,oe)=>{const ce=Object(a.d)(re,oe);return ce==null?void 0:ce.app_name}},L={getTitle:()=>"Create a story prompt",getDescription:()=>"Slack",getIsEnabled:()=>!1,getIcon:()=>"video"},$={getTitle:()=>"",getDescription:()=>"",getIsEnabled:()=>!1,getAppName:()=>"",getFunctionType:()=>""};function Q(re){switch(re){case i.MEMBER_JOINED_CHANNEL:return y;case i.SLASH_COMMAND:return I;case i.MESSAGE_ACTION:return M;case i.CHANNEL_ACTION:return D;case i.REACTION_ADDED:return A;case i.WEBHOOK:return G;case i.SCHEDULED:return k;case i.EXTERNAL:return b;case i.HERMES_WEBHOOK:return d;case i.HERMES_SCHEDULED:return g;case i.SLACK_EVENT:return O.b;case i.SHORTCUT:return H;case c.MESSAGE:return W;case c.DIALOG:return _;case c.EXTENSION:return z;case c.STORY:return L;case c.SLACK_FUNCTION:return $;default:return null}}o(Q,"getSegmentInfo");const K=Object(n.c)((re,oe)=>{const{type:ce,subtype:ue}=oe;if(!Q(ce))return!0;switch(ce){case c.EXTENSION:return Object(a.e)(re,ue);case c.SLACK_FUNCTION:return!0;default:return!1}});K.meta={name:"createSelector",key:"createSelectorgetSegmentTypeIsUnknown",description:(re,oe)=>{const{type:ce,subtype:ue}=oe;if(!Q(ce))return!0;switch(ce){case c.EXTENSION:return Object(a.e)(re,ue);case c.SLACK_FUNCTION:return!0;default:return!1}}};const Z=Object(n.c)((re,oe)=>{var ce;const ue=Q(oe.type);return ue==null||(ce=ue.getTitle)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype)});Z.meta={name:"createSelector",key:"createSelectorgetSegmentTitle",description:(re,oe)=>{var ce;const ue=Q(oe.type);return ue==null||(ce=ue.getTitle)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype)}};const ne=o((re,oe)=>{var ce;const ue=Q(oe.type);if(oe.type===c.EXTENSION){var Pe,Ye;return(Ye=(Pe=re)===null||Pe===void 0?void 0:Pe.name)!==null&&Ye!==void 0?Ye:""}if(oe.type===c.SLACK_FUNCTION&&Object(t.c)(re)){var $e,Ke,qe;return(qe=re==null||($e=re.config)===null||$e===void 0||(Ke=$e.slackFunction)===null||Ke===void 0?void 0:Ke.title)!==null&&qe!==void 0?qe:""}var ct;return(ct=ue==null||(ce=ue.getTitle)===null||ce===void 0?void 0:ce.call(ue,{},oe.subtype))!==null&&ct!==void 0?ct:""},"getSegmentTitleUsingSegment"),F=Object(n.c)((re,oe)=>{var ce;const ue=Q(oe.type);var Pe;return(Pe=ue==null||(ce=ue.getDescription)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype))!==null&&Pe!==void 0?Pe:null});F.meta={name:"createSelector",key:"createSelectorgetSegmentDescription",description:(re,oe)=>{var ce;const ue=Q(oe.type);var Pe;return(Pe=ue==null||(ce=ue.getDescription)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype))!==null&&Pe!==void 0?Pe:null}};const J=Object(n.c)((re,oe)=>{var ce;const ue=Q(oe.type);var Pe;return(Pe=ue==null||(ce=ue.getAppName)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype))!==null&&Pe!==void 0?Pe:null});J.meta={name:"createSelector",key:"createSelectorgetSegmentAppName",description:(re,oe)=>{var ce;const ue=Q(oe.type);var Pe;return(Pe=ue==null||(ce=ue.getAppName)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype))!==null&&Pe!==void 0?Pe:null}};const X=o((re,oe)=>{var ce;const ue=Q(re.type);var Pe;return(Pe=ue==null||(ce=ue.getIcon)===null||ce===void 0?void 0:ce.call(ue,re==null?void 0:re.type,oe))!==null&&Pe!==void 0?Pe:null},"getSegmentIcon"),Y=Object(n.c)((re,oe,ce)=>{var ue;const Pe=Q(oe.type);var Ye;return(Ye=Pe==null||(ue=Pe.getIsEnabled)===null||ue===void 0?void 0:ue.call(Pe,re,oe.subtype,ce))!==null&&Ye!==void 0?Ye:!1});Y.meta={name:"createSelector",key:"createSelectorgetSegmentIsEnabled",description:(re,oe,ce)=>{var ue;const Pe=Q(oe.type);var Ye;return(Ye=Pe==null||(ue=Pe.getIsEnabled)===null||ue===void 0?void 0:ue.call(Pe,re,oe.subtype,ce))!==null&&Ye!==void 0?Ye:!1}};const ae=Object(n.c)((re,oe)=>{var ce;const ue=Q(oe.type);var Pe;return(Pe=ue==null||(ce=ue.getIsAdvanced)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype))!==null&&Pe!==void 0?Pe:!1});ae.meta={name:"createSelector",key:"createSelectorgetSegmentIsAdvanced",description:(re,oe)=>{var ce;const ue=Q(oe.type);var Pe;return(Pe=ue==null||(ce=ue.getIsAdvanced)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype))!==null&&Pe!==void 0?Pe:!1}};const ee=Object(n.c)((re,oe)=>{var ce;const ue=Q(oe.type);return(ue==null||(ce=ue.getFunctionType)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype))||""});ee.meta={name:"createSelector",key:"createSelectorgetSegmentFunctionCallbackId",description:(re,oe)=>{var ce;const ue=Q(oe.type);return(ue==null||(ce=ue.getFunctionType)===null||ce===void 0?void 0:ce.call(ue,re,oe.subtype))||""}};const q=[i.CHANNEL_ACTION,i.MEMBER_JOINED_CHANNEL,i.MESSAGE_ACTION,i.REACTION_ADDED,i.SCHEDULED,i.SLASH_COMMAND,i.WEBHOOK],te=Object(n.c)((re,oe)=>Object.values(q).reduce((ce,ue)=>Y(re,{type:ue},oe)?[...ce,ue]:ce,[]));te.meta={name:"createSelector",key:"createSelectorselectEnabledTriggerTypes",description:(re,oe)=>Object.values(q).reduce((ce,ue)=>Y(re,{type:ue},oe)?[...ce,ue]:ce,[])};const de=Object(n.c)(re=>Object.values(c).reduce((oe,ce)=>Y(re,{type:ce})?[...oe,ce]:oe,[]));de.meta={name:"createSelector",key:"createSelectorselectEnabledStepTypes",description:re=>Object.values(c).reduce((oe,ce)=>Y(re,{type:ce})?[...oe,ce]:oe,[])};const se={getSegmentInfo:Q}},"+iwk":function(w,s,e){w.exports=e.p+"connection-0b04091.svg"},"+oez":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("SQ0V"),t=e("E3dU");const a=Object(n.c)("get channel by id",(i,c,r)=>{let{channelId:f,fetchIfMissing:l=!0}=r;const p=c();return Object(t.d)(p,f,l)});a.meta={name:"createThunk",key:"createThunkgetChannelById",description:"get channel by id"}},"+uU3":function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("ALys"),t=e("F294"),a=e("7jFJ"),i=e("m5Yc");function c(r){const f=Object(t.a)(r.attachments);if(!f||!f.is_msg_unfurl)return!1;const l=f.from_url;if(Object(n.a)(r)){const p=Object(t.a)(r.blocks);if(!p||!p.elements)return!1;const h=Object(a.a)(p.elements,{hasMsgLink:!1,hasOtherContent:!1},(u,b)=>b.type===i.b.LINK&&b.url===l&&(!b.text||b.text===l)?{...u,hasMsgLink:!0}:{...u,hasOtherContent:!0});return h.length===1&&h[0].hasMsgLink&&!h[0].hasOtherContent}return!r.text||r.text===`<${l}>`}o(c,"isSimpleMessageUnfurl")},"+wAm":function(w,s,e){"use strict";var n=e("Lgge"),t=e("n3tL"),a=e("2XU3"),i=e("WCk1");const c=Object(i.a)("API call for slack-action:// URL",(b,v,d)=>{let{botId:m,payload:g}=d;return b(Object(a.apiCall)({method:"chat.action",args:{bot:m,payload:decodeURIComponent(g)}}))});c.meta={name:"createFetcher",key:"createFetcherpostChatAction",description:"API call for slack-action:// URL"},c.propTypes={botId:t.default.string.isRequired,payload:t.default.string.isRequired};var r=c,f=e("SQ0V"),l=e("+8Px"),p=e("pu3F");const h=Object(f.c)("Execute slack-action:// URL",(b,v,d)=>{if(Object(l.a)(d)){const m=d.replace(p.R,"").split("/"),g=m.shift(),O=m.join("/");return b(r({botId:g,payload:O}))}return n.a.reject(new Error("Not a Slack action URL"))});h.meta={name:"createThunk",key:"createThunkdoSlackAction",description:"Execute slack-action:// URL"},h.propTypes=t.default.string.isRequired;var u=s.a=h},"/+/u":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("C3vN"),t=e("52Wj"),a=e("2oNE");function i(c){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object(a.a)(Object(n.m)(c)||"",`@${Object(t.b)(c)}`,r)}o(i,"makeSlackmentionForMember")},"/0iu":function(w,s,e){"use strict";e.d(s,"d",function(){return t}),e.d(s,"c",function(){return a}),e.d(s,"a",function(){return c}),e.d(s,"f",function(){return r}),e.d(s,"b",function(){return f}),e.d(s,"e",function(){return l});var n=e("2VFn");const t="QuipEmbed",a=[t,"QuipInsertionToolbar","QuipFloatingFormattingBar","QuipEmbeddeddUIToolbar"],i=["QuipHeaderView","QuipMegaphoneHeader","QuipActivityHistoryFloatingBar","QuipEmptyStateOptions","QuipSystemMessageBanner","QuipFlexpaneFooter"],c=["HuddleWindowBottomToolbar","HuddleWindowFlexpane","HuddleWindowTitlebar","HuddleWindowThread","HuddleWindowContent","HuddleWindowVideoStrip"],r=["WFBTemplatePreviewSidebar","WFBTemplatePreviewPrimary","WFBCanvas","WFBStepLibrary"],f=[...a,...i,"WorkspaceTabRail","WorkspaceSwitcherRail","WorkspaceSwitcher","TopNav","ControlStrip",n.h.Sidebar,n.h.Primary,n.h.Secondary,n.h.Modal,n.h.Tile,"HuddleWorkspace"],l=["PrimaryView","SecondaryView","SecondaryWorkspaceActions","HuddleSidebar","WorkspaceNavigation","CollapsedWorkspaceNavigation","TeamSidebar","TopNavToolbar","Composer",...f]},"/2YZ":function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"h",function(){return t}),e.d(s,"i",function(){return a}),e.d(s,"d",function(){return i}),e.d(s,"g",function(){return c}),e.d(s,"f",function(){return r}),e.d(s,"a",function(){return f}),e.d(s,"c",function(){return l}),e.d(s,"e",function(){return p});const n=[0,-1],t=[0,2],a=250,i=2;var c;(function(h){h.EMOJI="emoji",h.GIF="gif"})(c||(c={}));const r=3,f=16,l={"Frequently Used":0,"Smileys & People":1,"Animals & Nature":2,"Food & Drink":3,"Travel & Places":4,Activities:5,Objects:6,Symbols:7,Flags:8,Custom:9},p={"Smileys & People":"emoji",People:"emoji","Frequently Used":"clock","Animals & Nature":"emoji-nature","Food & Drink":"emoji-food",Activities:"emoji-activities","Travel & Places":"emoji-travel",Objects:"emoji-objects",Symbols:"emoji-symbols",Flags:"emoji-flag",Custom:"slack-logo",Search:"search"}},"/46j":function(w,s,e){"use strict";e.d(s,"c",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c});var n=e("ZKjC"),t=e("UOL+");const a=Object(n.b)((r,f)=>{var l,p,h;const u=(h=(l=Object(t.a)(r))===null||l===void 0?void 0:l.quipTitle)!==null&&h!==void 0?h:r==null?void 0:r.quipTitle;return u==null||(p=u[f])===null||p===void 0?void 0:p.titleString});a.meta={name:"createSelector",key:"createSelectorlastQuipTitleString",description:(r,f)=>{var l,p,h;const u=(h=(l=Object(t.a)(r))===null||l===void 0?void 0:l.quipTitle)!==null&&h!==void 0?h:r==null?void 0:r.quipTitle;return u==null||(p=u[f])===null||p===void 0?void 0:p.titleString}};const i=Object(n.b)((r,f)=>{var l,p,h;const u=(h=(l=Object(t.a)(r))===null||l===void 0?void 0:l.quipTitle)!==null&&h!==void 0?h:r==null?void 0:r.quipTitle;return u==null||(p=u[f])===null||p===void 0?void 0:p.titleBlocks});i.meta={name:"createSelector",key:"createSelectorlastQuipTitleBlocks",description:(r,f)=>{var l,p,h;const u=(h=(l=Object(t.a)(r))===null||l===void 0?void 0:l.quipTitle)!==null&&h!==void 0?h:r==null?void 0:r.quipTitle;return u==null||(p=u[f])===null||p===void 0?void 0:p.titleBlocks}};const c=Object(n.b)((r,f)=>{var l,p,h;const u=(h=(l=Object(t.a)(r))===null||l===void 0?void 0:l.quipTitle)!==null&&h!==void 0?h:r==null?void 0:r.quipTitle;return u==null||(p=u[f])===null||p===void 0?void 0:p.isEmpty});c.meta={name:"createSelector",key:"createSelectorlastQuipTitleEmpty",description:(r,f)=>{var l,p,h;const u=(h=(l=Object(t.a)(r))===null||l===void 0?void 0:l.quipTitle)!==null&&h!==void 0?h:r==null?void 0:r.quipTitle;return u==null||(p=u[f])===null||p===void 0?void 0:p.isEmpty}}},"/ArA":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("UXvI"),c=e("ifKl"),r=e("+wAm"),f=e("5IZy"),l=e("qiCS");function p(P){let N=Object(l.e)(P).state;N=N?N.match(/(\{.*\})/g):null,N=N?N[0]:null;try{N=N?JSON.parse(N):null}catch{N=null}return N}o(p,"extractStateObjectFromUrl");var h=e("+8Px"),u=e("FWtP"),b=e("orxu"),v=e("HKlo"),d=e("qDEp"),m=e("AwEi"),g=e("UnpP"),O=e("NV6F"),E=e("WBOM"),y=e("9Gfp"),C=e("O86Y"),I=e("53ci");const j=["","default","primary","danger","tractor"];let M=o(class extends n.PureComponent{componentDidUpdate(N){const{hideConfirmDialog:G,isLoading:V}=this.props;N.isLoading&&!V&&G&&G(!0)}onClick(N){const{clogLinkClick:G,confirm:V,url:k,onClick:x,showConfirmDialog:H,triggerAction:R,clogger:W,parsedPermalink:U,dispatchOpenPermalink:_}=this.props,B=!!k,z=N.currentTarget.href,L=!!V,$=Object(h.a)(k||"");if(B){G&&G({link_attachment_field:"attachment_link_button",url:k});const Z=p(k);if(Z&&Z.is_external_auth_url){var Q;const ne=Z.ask==="auto"?"PLATFORM_APPS_TARGETED_SUGGESTIONS_SELECTED":"PLATFORM_APPS_TARGETED_SUGGESTIONS_JUST_THIS_ONCE_SELECTED";W.track(ne,{app_id:Z.service_type_id,app_name:(Q=Z.app_name)===null||Q===void 0?void 0:Q.split("+").join(" "),old:!0})}}else G&&G();if(x){x(N);return}let K=R;B&&(N.preventDefault(),$?K=o(()=>this.props.doSlackAction(k),"buttonActionFn"):U?K=o(()=>_({permalink:k}),"buttonActionFn"):K=o(()=>window.open(z,"_blank"),"buttonActionFn")),L?H&&H({onConfirmDialogGo:K}):K&&K()}getFocusTransitionListeners(N,G){return{[v.c.LEGACY_ATTACHMENT_ACTIONS]:V=>{var k,x;return V.uiState.focusId!==N||G?!1:((k=this.ref)===null||k===void 0||(x=k.current)===null||x===void 0||x.focus(),!0)}}}isDefaultVariant(){return this.props.variant&&["","default"].includes(this.props.variant)}isValidVariant(){return this.props.variant&&j.includes(this.props.variant)}render(){const{text:N,variant:G,isDisabled:V,url:k,autoClogProps:x,focusId:H}=this.props,R=this.isDefaultVariant()||!this.isValidVariant()?"outline":`outline-${G}`,W=`message_attachment_button${this.isDefaultVariant()||!this.isValidVariant()?"":`_${G}`}`;return t.a.createElement(b.a,{listeners:this.getFocusTransitionListeners(H,V)},t.a.createElement(d.f,{className:"c-message_attachment__button",href:Object(h.a)(k||"")?void 0:k,key:"attachment-action-button",onClick:this.throttledOnClick,size:"small",type:R,disabled:V,"data-qa":W,ref:this.ref,autoClogProps:x},t.a.createElement(m.a,{className:"overflow_ellipsis",text:N,noJumbomoji:!0,emojiSize:g.a.SMALL})))}constructor(N){super(N),this.getFocusTransitionListeners=Object(u.a)(this.getFocusTransitionListeners.bind(this)),this.throttledOnClick=Object(i.a)(this.onClick.bind(this),250,{trailing:!1}),this.ref=t.a.createRef()}},"AttachmentActionButton");M.displayName="AttachmentActionButton",M.defaultProps={variant:"",isLoading:!1,isDisabled:!1,triggerAction:c.a,clogLinkClick:c.a,showConfirmDialog:c.a,hideConfirmDialog:c.a,parsedPermalink:null};const T=o((P,N)=>{let{url:G}=N;return{clogger:Object(f.a)({state:P}),parsedPermalink:Object(E.e)(P,G||""),currentUserId:Object(y.a)(P),teamId:Object(C.g)(P)}},"mapStateToProps"),D=o(P=>({doSlackAction:N=>P(Object(r.a)(N)),dispatchOpenPermalink:N=>P(Object(O.r)(N))}),"mapDispatchToProps"),S=Object(a.a)(T,D)(M);var A=s.a=Object(I.a)(S)},"/CFe":function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t});var n;(function(a){a.MODAL="canvas_share_dialog",a.ACCESS_SELECT="canvas_share_dialog_access_select",a.SAVE_CHANGES="canvas_share_dialog_canvas_save",a.SKIP_FOR_NOW="canvas_share_dialog_skip_for_now",a.ORG_SHARING_MESSAGE_SECTION="canvas_share_dialog_org_message_section",a.ORG_SHARING_MESSAGE="canvas_share_dialog_org_message",a.ORG_SHARING_MESSAGE_LABEL="canvas_share_dialog_org_message_label",a.CHANGE_ACCESS_SPEEDBUMP="canvas_share_dialog_change_access_speedbump",a.REVOKE_ACCESS_SPEEDBUMP="canvas_share_dialog_revoke_access_speedbump",a.AWAY_CANVAS_SPEEDBUMP="away_canvas_share_speedbump",a.EXTERNAL_WORKSPACE_CANVAS_SHARING_WARNING_SPEEDBUMP="external_workspace_canvas_sharing_warning_speedbump",a.SC_CANVAS_SHARING_BLOCKED_SPEEDBUMP="sc_sharing_blocked_speedbump",a.SHARE_DIALOG_ORG_SHARING_TEAM="canvas_share_dialog_org_sharing_team",a.SHARE_DIALOG_MESSAGE_INPUT="canvas_share_dialog_message_input",a.CANVAS_TEMPLATE_CONVERSION_LABEL="canvas_share_dialog_convert_canvas_template_label"})(n||(n={}));var t;(function(a){a.OFFLINE_ALERT="canvas_share_dialog_alert_sharing_offline_message",a.SHARED_WIDELY_ALERT="canvas_share_dialog_share_alert_shared_widely",a.CANVAS_ALERT="canvas_share_dialog_alert_canvas_message",a.NOT_IN_ONE_CHANNEL_ALERT="canvas_share_dialog_alert_sharing_not_in_one_channel_message",a.CANVAS_SHARE_ALERT="canvas_share_dialog_share_alert"})(t||(t={}))},"/L8c":function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("ZKjC"),t=e("E3dU"),a=e("Z6bF"),i=e("hjzp");const c=Object(n.b)((r,f)=>{const l=Object(t.d)(r,f),{fileId:p}=Object(a.a)(l);return p&&Object(i.a)(p)});c.meta={name:"createSelector",key:"createSelectorgetFileChannelIdForChannelId",description:(r,f)=>{const l=Object(t.d)(r,f),{fileId:p}=Object(a.a)(l);return p&&Object(i.a)(p)}}},"/NRl":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("Muja"),c=e("TGBA"),r=e("LpvA"),f=e("m5HF"),l=e("+ltV"),p=e("9Gfp"),h=e("SQ0V"),u=e("lURg"),b=e("x0Hm"),v=e("9zMb");const d=Object(h.c)("Install a sidebar theme",(z,L,$)=>{let{sidebarTheme:Q="custom_theme",sidebarThemeCustomValues:K}=$;Q==="custom_theme"?z(Object(u.a)({newCustomTheme:K})):Object(v.p)(Q)&&z(Object(b.a)({themeName:Q}))});d.meta={name:"createThunk",key:"createThunkinstallSidebarTheme",description:"Install a sidebar theme"};var m=d,g=e("/ArA"),O=e("nWdO"),E=e("s4P+"),y=e("nNoG"),C=e("rZ8V");const I=new y.b("string_format");let j=o(class extends r.a{UNSAFE_componentWillReceiveProps(L){const{showUndoButton:$}=this.state,{featureSidebarThemeUndo:Q}=this.props,K=L.currentSidebarTheme;Q&&($&&this.matchesTheme(K)||this.setState(()=>({showUndoButton:!1})))}onClick(){const{onThemeInstall:L,featureSidebarThemeUndo:$,themeName:Q,currentCustomTheme:K,buttonSidebarTheme:Z}=this.props;if($){if(this.matchesCurrentTheme())return;this.setState(()=>({previousSidebarTheme:K,previousThemeName:Q,showUndoButton:!0}))}L({sidebarThemeCustomValues:Z})}onUndoClick(){const{onThemeInstall:L,featureSidebarThemeUndo:$}=this.props,{previousSidebarTheme:Q,previousThemeName:K}=this.state;$&&(this.setState(()=>({previousSidebarTheme:void 0,previousThemeName:null,showUndoButton:!1})),K&&Q&&L({sidebarTheme:K,sidebarThemeCustomValues:Q}))}matchesTheme(L){const{buttonSidebarTheme:$,iaTheme:Q}=this.props,K=$&&Object(v.e)($,Q);return Object(i.a)(K,L)}matchesCurrentTheme(){return this.matchesTheme(this.props.currentSidebarTheme)}shouldShowUndoButton(){const{currentSidebarTheme:L,featureSidebarThemeUndo:$}=this.props,{showUndoButton:Q,previousSidebarTheme:K}=this.state;return $&&Q&&K&&!Object(i.a)(K,L)}renderMatchesCurrentSidebarButton(){const{featureSidebarThemeUndo:L}=this.props;return L?t.a.createElement(O.c,{tip:I.t("This is your current sidebar theme")},t.a.createElement("span",null,this.renderSwitchSidebarThemeButton())):null}renderSwitchSidebarThemeButton(){const{featureSidebarThemeUndo:L,buttonSidebarTheme:$,experimentThemingM2GroupOn:Q}=this.props;return t.a.createElement(g.a,{"data-qa-theme":Object(c.a)($).join(),onClick:this.onClick,text:Q?I.t("Apply Slack theme"):I.t("Switch sidebar theme"),isDisabled:L&&this.matchesCurrentTheme()})}render(){const{featureSidebarThemeUndo:L,buttonSidebarTheme:$,logger:Q,experimentIA4ThemingGroupOn:K,experimentThemingM2GroupOn:Z}=this.props;if(!$)return Q.error("Error getting formatted sidebar theme colors. Not rendering attachment button."),null;if(K)return t.a.createElement(O.c,{tip:I.t("This theme isn\u2019t supported")},t.a.createElement("span",null,t.a.createElement(g.a,{text:Z?I.t("Apply Slack theme"):I.t("Switch sidebar theme"),isDisabled:!0})));if(L){if(this.shouldShowUndoButton())return t.a.createElement(g.a,{onClick:this.onUndoClick,text:I.t("Undo")});if(this.matchesCurrentTheme())return this.renderMatchesCurrentSidebarButton()}return this.renderSwitchSidebarThemeButton()}constructor(L){super(L),this.onClick=this.onClick.bind(this),this.onUndoClick=this.onUndoClick.bind(this),this.state={showUndoButton:!1,previousSidebarTheme:void 0,previousThemeName:null}}},"ThemeInstallButton");j.displayName="ThemeInstallButton",j.defaultProps={buttonSidebarTheme:void 0,iaTheme:void 0,themeName:"custom_theme",currentCustomTheme:void 0};function M(z,L){let{colors:$}=L;const Q=Object(E.a)({state:z}),K=Object(v.f)($),Z=Object(f.c)(z),ne=Object(l.a)(z),F=Object(f.d)(z),J=Object(f.b)(z);return{featureSidebarThemeUndo:Object(p.i)(z,"feature_sidebar_theme_undo"),experimentIA4ThemingGroupOn:Object(C.G)(z),experimentThemingM2GroupOn:Object(C.H)(z),buttonSidebarTheme:K,currentSidebarTheme:J,logger:Q,themeName:Z,iaTheme:Object(v.o)(ne)?ne:void 0,currentCustomTheme:F}}o(M,"mapStateToProps");const T=o(z=>({onThemeInstall:L=>z(m(L))}),"mapDispatchToProps");var D=Object(a.a)(M,T)(j),S=e("m5Yc"),A=e("9oTK"),P=e("/MKj"),N=e("zxER"),G=e("m8R6"),V=e("WMzb"),k=e("mNau"),x=e("Tsh7"),H=e("8Bjr");const R=new y.b("string_format"),W=o(z=>{let{colors:L}=z;const $=Object(P.useDispatch)(),Q=Object(N.c)(k.b),K=Object(N.c)(C.H),Z=Object(V.a)(),[ne,F]=Object(n.useState)(null),J=Object(n.useMemo)(()=>Object(v.i)({themePref:Q,colors:L,enableIA4HexLength:K}),[L,Q,K]),X=Object(n.useMemo)(()=>Object(G.a)(Q,["mode"]),[Q]),Y=Object(n.useMemo)(()=>Object(G.a)(J,["mode"]),[J]),ae=Object(i.a)(X,Y),ee=Object(n.useCallback)(()=>{J&&(F(Q),$(Object(H.a)(J)))},[$,J,Q]),q=Object(n.useCallback)(Object(A.coroutine)(function*(){yield $(Object(H.a)(ne)),F(null)}),[$,ne]);return L?ae?t.a.createElement("div",{className:"display_flex gap_50"},t.a.createElement(x.d,{tip:K?R.t("This is your current Slack theme"):R.t("This is your current sidebar theme")},t.a.createElement("span",null,t.a.createElement(g.a,{isDisabled:!0,text:K?R.t("Apply Slack theme"):R.t("Switch sidebar theme")}))),ne&&t.a.createElement(g.a,{onClick:q,text:R.t("Undo")})):t.a.createElement(g.a,{onClick:ee,text:K?R.t("Apply Slack theme"):R.t("Switch sidebar theme")}):(Z.warn("RICH_TEXT","Theme update button not rendered because colors are not provided."),null)},"ThemeIa4InstallButton");W.displayName="ThemeIa4InstallButton";var U=W;const _=o(z=>{let{type:L,colors:$}=z;const Q=Object(N.c)(C.H),K=Object(N.c)(C.G);return L!==S.b._THEME_INSTALL_BUTTON||!$||!$.length||!$.every(Z=>Object(v.s)(Z))?null:Q?t.a.createElement("div",{className:"p-rich_text_block__theme_install_btn_wrapper"},t.a.createElement(U,{colors:$})):K&&!Q?null:t.a.createElement("div",{className:"p-rich_text_block__theme_install_btn_wrapper"},t.a.createElement(D,{colors:$}))},"rich_text_elements_theme_install_button_ThemeInstallButton");_.displayName="ThemeInstallButton";var B=s.a=_},"/Q0P":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("SQ0V"),c=e("3l96"),r=e("MeLy"),f=e("/k71"),l=e("5Yu9");const p={errorSubtype:a.default.string,children:a.default.node.isRequired},h={errorSubtype:"lazy_modal"},u=o(()=>t.a.createElement(f.a,null),"renderError");function b(g){const{children:O,errorSubtype:E}=g;return t.a.createElement(r.a,{subtype:E,renderError:u},t.a.createElement(n.Suspense,{fallback:t.a.createElement(l.a,null)},O))}o(b,"LazyModal"),b.displayName="LazyModal",b.propTypes=p,b.defaultProps=h;var v=b;const d=Object(i.c)("Open a React.lazy modal",(g,O,E)=>{let{element:y,errorSubtype:C,...I}=E;g(Object(c.a)({element:t.a.createElement(v,{errorSubtype:C},y),...I}))});d.meta={name:"createThunk",key:"createThunkopenLazyModal",description:"Open a React.lazy modal"},d.propTypes={element:a.default.node,errorSubtype:a.default.string};var m=s.a=d},"/Qyu":function(w,s,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the ShareContactModal in client (noop)");t.meta={name:"createAction",key:"createActionopenShareContactModalCircular",description:"Triggers a side-effect that opens the ShareContactModal in client (noop)"},s.a=t},"/YJq":function(w,s,e){"use strict";var n=e("SQ0V"),t=e("ohbk"),a=e("3NZ6"),i=e("oUrV"),c=e("hjzp"),r=e("O86Y"),f=e("xcHN"),l=e("25cE"),p=e("WUSA"),h=e("nNoG"),u=e("gPPH"),b=e("bczA");const v=new h.b("client"),d=Object(n.c)("Jumps to a primary view with a specified thread",(m,g,O)=>{let{channelId:E,threadTs:y,threadTsToHighlight:C,teamId:I,isSpaceship:j=!1}=O;const M=g(),T=Object(b.a)(M),D=y&&T===l.b,S=y&&(T==null?void 0:T.includes("FLEX"));return j?m(Object(a.a)({fileId:Object(c.b)(E),source:i.a.OPEN_PRIMARY_VIEW_WITH_THREAD_THUNK,threadTs:y})).finally(()=>{D?m(Object(p.a)({message:v.t("Secondary view has opened")})):S&&m(Object(p.a)({message:v.t("Secondary view has changed"),uuid:Object(u.a)()}))}):I!==Object(r.g)(M)?m(Object(t.a)({teamId:I,id:E,startTs:y,openThread:!0,routeParams:{threadId:Object(f.c)(E,y)}})):m(Object(t.a)({teamId:I,id:E,startTs:y,reason:"open-primary-with-thread",openThread:!0,routeParams:{threadId:Object(f.c)(E,y),replyTs:C}})).finally(()=>{D?m(Object(p.a)({message:v.t("Secondary view has opened"),uuid:Object(u.a)()})):S&&m(Object(p.a)({message:v.t("Secondary view has changed"),uuid:Object(u.a)()}))})});d.meta={name:"createThunk",key:"createThunkopenPrimaryViewWithThread",description:"Jumps to a primary view with a specified thread"},s.a=d},"/ZWZ":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("fujP"),c=e("nNoG"),r=e("zxER"),f=e("JoR1"),l=e("8dl9"),p=e("uHvG"),h=e("YKBt"),u=e("WSQ4");function b(){return b=Object.assign||function(E){for(var y=1;y<arguments.length;y++){var C=arguments[y];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(E[I]=C[I])}return E},b.apply(this,arguments)}o(b,"_extends");const v=new c.b("stories_av"),d=1,m=10,g=o(E=>{let{duration:y,elapsed:C,color:I="#1D9BD1",scrubbable:j=!0,interpolate:M=!1,videoRef:T,isPlaying:D=!1,autoFocus:S=!1,backgroundIsDark:A=!1,reactions:P}=E;const N=Object(r.c)($=>Object(f.t)($,"media_playback_speed")||1),{window:G}=Object(n.useContext)(u.a),[V,k]=Object(n.useState)(C),x=Object(n.useRef)(void 0),H=Object(n.useRef)(M),R=Object(n.useRef)(D);Object(n.useLayoutEffect)(()=>{if(!M){x.current&&(G.cancelAnimationFrame(x.current),H.current=!1);return}const $=Date.now(),Q=o(()=>{if(!H.current)return;const K=Date.now()-$;k(C+K/1e3*N),x.current=G.requestAnimationFrame(Q)},"tick");return k(C),x.current=G.requestAnimationFrame(Q),H.current=!0,()=>{x.current&&G.cancelAnimationFrame(x.current)}},[C,M,N,G]);const W=Object(n.useCallback)($=>{var Q;T==null||(Q=T.current)===null||Q===void 0||Q.setCurrentTime($,!1)},[T]),U=Object(n.useCallback)(()=>{var $;R.current=D,T==null||($=T.current)===null||$===void 0||$.pause()},[T,D]),_=Object(n.useCallback)(()=>{if(R.current){var $;T==null||($=T.current)===null||$===void 0||$.play()}},[T]),B=Object(n.useCallback)($=>t.a.createElement("div",b({className:Object(a.default)("p-media_progress_bar",{"p-media_progress_bar--scrubbable":j,"p-media_progress_bar--dark":A})},$)),[A,j]),z=Object(n.useCallback)($=>t.a.createElement(t.a.Fragment,null,t.a.createElement("div",b({className:"p-media_progress_bar__track"},$)),P&&!Object(i.a)(P)&&t.a.createElement(p.a,{duration:y,reactions:P,className:"p-video_controls_scrubber__reactions"})),[y,P]),L=Object(n.useCallback)($=>t.a.createElement("div",b({},$,{className:"p-media_progress_bar__bar",style:{...$.style,backgroundColor:I}})),[I]);return t.a.createElement(h.a,{value:M?V:C,max:y,tick:d,jump:m,onChange:W,renderContainer:B,renderTrack:z,renderInner:L,onMouseDown:U,onMouseUp:_,autoFocus:S,"aria-label":v.t("Time scrubber",{currentTime:Object(l.a)(C),totalTime:Object(l.a)(y),fallbackHash:"638b3954642581b284074f5e0f0f6dd701690df1"}),"aria-valuetext":Object(l.a)(C)})},"MediaProgressBar");g.displayName="MediaProgressBar";var O=s.a=g},"/eV9":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("n3tL"),t=e("SQ0V"),a=e("Rw2D");const i=Object(t.c)("Prepare message",(c,r,f)=>{const l=r();return Object(a.a)(l,f)});i.meta={name:"createThunk",key:"createThunkprepareMessageThunk",description:"Prepare message"},i.propTypes={channelId:n.default.string,text:n.default.string}},"/k71":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("7JUD"),c=e("AEEY"),r=e("9org"),f=e("Tevt"),l=e("0csk"),p=e("+kJ4"),h=e("nNoG"),u=e("d/xU"),b=e("9v4y");const v=new h.b("error_boundary");function d(m){return t.a.createElement(i.a,{closeModal:m.closeModal},t.a.createElement(c.a,null,t.a.createElement(r.a,null,t.a.createElement("div",{className:"c-error_modal","data-qa":"error_modal"},t.a.createElement("h1",{className:"margin_bottom_50"},t.a.createElement("span",null,v.t("Something went wrong")),t.a.createElement("span",{className:"p-error_boundary__turtle",role:"img","aria-label":v.t("Something went wrong")},"\u{1F422}")),t.a.createElement("p",null,v.rt("If the problem persists, please <a>drop us a line.</a>",null,g=>{let{text:O,key:E}=g;return t.a.createElement(f.a,{href:`https://${Object(u.l)()}/help/contact`,rel:"noopener noreferrer",key:E},O)})),m.errCode&&t.a.createElement(l.a,{errCode:m.errCode})))))}o(d,"ErrorModal"),d.displayName="ErrorModal",s.a=Object(a.a)(null,m=>({closeModal:function(){for(var g=arguments.length,O=new Array(g),E=0;E<g;E++)O[E]=arguments[E];return m(Object(p.a)(...O))}}))(d)},"/mzS":function(w,s,e){"use strict";e.d(s,"b",function(){return O}),e.d(s,"a",function(){return E});var n=e("9oTK"),t=e("Ybt4"),a=e("lhZz"),i=e("O6kw"),c=e("SQ0V"),r=e("6Q+y"),f=e("Mqk2"),l=e("Lgge"),p=e("O86Y"),h=e("P9LH");const u={thumb_64:64,thumb_80:80,thumb_160:160},b=Object(c.c)("Upload files from Slack Doc",function(){var y=Object(n.coroutine)(function*(C,I,j){const M=Object(p.g)(I());let T={fileIds:[]};M&&(T=yield C(Object(r.a)({teamId:M,files:j.files,hideBanner:!j.showBanner})));const D=T.fileIds.map(A=>C(Object(f.d)({fileId:A,reason:"quip-file-upload.fetchFileInfo"})));return(yield l.a.all(D)).map(A=>{const P=[];var N,G;if(P.push({width:(N=A.original_w)!==null&&N!==void 0?N:0,height:(G=A.original_h)!==null&&G!==void 0?G:0,sizeName:"original"}),A.thumb_64&&P.push({width:u.thumb_64,height:u.thumb_64,sizeName:"thumb_64"}),A.thumb_80&&P.push({width:u.thumb_80,height:u.thumb_80,sizeName:"thumb_80"}),A.thumb_160&&P.push({width:u.thumb_160,height:u.thumb_160,sizeName:"thumb_160"}),A.thumb_360){var V,k;P.push({width:(V=A.thumb_360_w)!==null&&V!==void 0?V:0,height:(k=A.thumb_360_h)!==null&&k!==void 0?k:0,sizeName:"thumb_360"})}if(A.thumb_360_gif){var x,H;P.push({width:(x=A.thumb_360_w)!==null&&x!==void 0?x:0,height:(H=A.thumb_360_h)!==null&&H!==void 0?H:0,sizeName:"thumb_360_gif"})}if(A.thumb_480){var R,W;P.push({width:(R=A.thumb_480_w)!==null&&R!==void 0?R:0,height:(W=A.thumb_480_h)!==null&&W!==void 0?W:0,sizeName:"thumb_480"})}if(A.thumb_480_gif){var U,_;P.push({width:(U=A.thumb_480_w)!==null&&U!==void 0?U:0,height:(_=A.thumb_480_h)!==null&&_!==void 0?_:0,sizeName:"thumb_480_gif"})}if(A.thumb_720){var B,z;P.push({width:(B=A.thumb_720_w)!==null&&B!==void 0?B:0,height:(z=A.thumb_720_h)!==null&&z!==void 0?z:0,sizeName:"thumb_720"})}if(A.thumb_800){var L,$;P.push({width:(L=A.thumb_800_w)!==null&&L!==void 0?L:0,height:($=A.thumb_800_h)!==null&&$!==void 0?$:0,sizeName:"thumb_800"})}if(A.thumb_960){var Q,K;P.push({width:(Q=A.thumb_960_w)!==null&&Q!==void 0?Q:0,height:(K=A.thumb_960_h)!==null&&K!==void 0?K:0,sizeName:"thumb_960"})}if(A.thumb_1024){var Z,ne;P.push({width:(Z=A.thumb_1024_w)!==null&&Z!==void 0?Z:0,height:(ne=A.thumb_1024_h)!==null&&ne!==void 0?ne:0,sizeName:"thumb_1024"})}if(A.thumb_video){var F,J;P.push({width:(F=A.thumb_video_w)!==null&&F!==void 0?F:0,height:(J=A.thumb_video_h)!==null&&J!==void 0?J:0,sizeName:"thumb_video"})}if(A.thumb_pdf){var X,Y;P.push({width:(X=A.thumb_pdf_w)!==null&&X!==void 0?X:0,height:(Y=A.thumb_pdf_h)!==null&&Y!==void 0?Y:0,sizeName:"thumb_pdf"})}if(A.deanimate){var ae,ee;P.push({width:(ae=A.original_w)!==null&&ae!==void 0?ae:0,height:(ee=A.original_h)!==null&&ee!==void 0?ee:0,sizeName:"deanimate"})}if(A.deanimate_gif){var q,te;P.push({width:(q=A.original_w)!==null&&q!==void 0?q:0,height:(te=A.original_h)!==null&&te!==void 0?te:0,sizeName:"deanimate_gif"})}var de,se;return{name:Object(h.K)(A),size:(de=A.size)!==null&&de!==void 0?de:0,id:A.id,slackFileId:A.id,mimeType:(se=A.mimetype)!==null&&se!==void 0?se:"",sizes:P,...Object(h.J)(A),url:Object(h.eb)(A),deleted:Object(h.xb)(A),altText:Object(h.D)(A),permalink:Object(h.M)(A,M??"","","")}})});return function(C,I,j){return y.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkfilesUploadFromDoc",description:"Upload files from Slack Doc"};var v=e("twB+"),d=e("7XZu"),m=e("bCCa"),g=e("gPPH");const O=new v.a;let E=o(class mo{static getOrCreate(C){return O.get(C,(I,j)=>new mo({teamId:I}))}uploadFiles(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var j=this;return Object(n.coroutine)(function*(){if(!C||C.length===0){const D="No files passed to uploadFiles",S=new Error(D);throw j.logger.error(S),S}const M=yield Object(a.dispatchForTeamId)(j.teamId,Object(i.a)({selectedFiles:C}));if(!M||M.length===0){const D="No allowed files passed to uploadFiles",S=new Error(D);throw j.logger.error(S),S.disallowedFiles=!0,S}return{results:yield Object(a.dispatchForTeamId)(j.teamId,b({files:M,showBanner:I}))}})()}processAndDecorateFileForUpload(C){const I=Object(g.a)();return C.id=I,Object(a.dispatchForTeamId)(this.teamId,Object(d.c)({files:[C]})),Object(a.dispatchForTeamId)(this.teamId,Object(m.a)({file:C})),C}constructor({teamId:C}){this.teamId=C,this.logger=Object(t.b)({state:Object(a.getStateByTeamId)(C)})}},"QuipFileDataProvider")},"/o10":function(w,s,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the File Viewer modal in client (noop)");t.meta={name:"createAction",key:"createActionopenFileViewerCircular",description:"Triggers a side-effect that opens the File Viewer modal in client (noop)"},s.a=t},"/uJc":function(w,s,e){"use strict";var n=e("SQ0V"),t=e("pu3F"),a=e("coh6"),i=e("GS6c"),c=e("O86Y"),r=e("wWBL"),f=e("PX9a");const l=Object(n.c)("Find channels that match a search query",function(p,h){let{query:u,limit:b=t.c,searchViewContext:v,searcherKey:d="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=h(),g={entities:{channels:{includePrivate:!0,includeFromAnotherTeam:!0,searchPreviousNames:!0,includeRecordChannels:Object(f.a)(m)}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete"},limit:b,tiered:!0,returnMetadata:!0,searchViewContext:v};return Object(r.c)(m)?Object(i.a)({teamId:Object(c.g)(m),key:d}).search({query:u,options:g}):p(Object(a.F)({query:u,options:g}))});l.meta={name:"createThunk",key:"createThunkautocompleteChannels",description:"Find channels that match a search query"},s.a=l},"/xaE":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("zxER"),c=e("DneB"),r=e("+CZ0"),f=e("E97Y"),l=e("+kJ4"),p=e("qDEp"),h=e("GNR7"),u=e("lhZz"),b=e("SIMs"),v=e("5IZy"),d=e("ktUG"),m=e("1I7x"),g=e("74tS"),O=e("lpU5"),E=e("jaNT"),y=e("HoeF"),C=e("QIbu"),I=e("RpF1"),j=e("F5gv"),M=e("nR/p"),T=e("Z9Pi");const D=o(x=>{let{fileId:H,entryPoint:R}=x;const W=Object(a.useDispatch)(),U=Object(u.getStateForClientStore)(),_=Object(r.a)(U),B=Object(i.c)(Z=>Object(h.r)(Z,_)),z=B==null?void 0:B.channels[0],L=Object(i.c)(Z=>Object(b.V)(Z,{huddleId:B==null?void 0:B.id})),$=L==null?void 0:L.ts,Q=Object(i.c)(Z=>Object(v.a)({state:Z})),K=Object(i.c)(Z=>Object(b.a)(Z,{huddleId:_,surface:C.b.WINDOW_COMPACT}));return Object(n.useCallback)(()=>{if(!(!z||!_)){if(W(Object(M.a)({fileId:H,draftId:Object(T.b)({channelId:z,threadTs:$}),channelId:z,threadTs:$,isFromComposer:!1,reason:"insert-canvas-share-modal"})),W(Object(l.a)()),!Object(m.b)(z))W(Object(y.N)({huddleId:_,surface:C.b.WINDOW_COMPACT,areTabsOpen:!0})),W(Object(y.a)({huddleId:_,surface:C.b.WINDOW_COMPACT,height:780,width:I.f})),W(Object(O.c)({}));else{const Z=Object(j.a)(z);Z&&!K&&W(Object(E.a)({huddleId:_,surface:C.b.WINDOW_COMPACT,areTabsOpen:!0,window:Z}))}Object(g.a)(z),W(Object(y.x)({isThreadOpen:!0})),Q.track(d.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:R,action:d.UiAction.CLICK}}})}},[z,_,W,H,$,Q,R,K])},"useShareFileToHuddle");var S=e("jWAO"),A=e("E3dU"),P=e("Yauy"),N=e("nNoG");const G=new N.b("huddles"),V=o(x=>{let{fileId:H}=x;const R=Object(a.useDispatch)(),W=Object(c.b)(r.a),U=Object(i.c)(Q=>{var K;return(K=Object(h.r)(Q,W))===null||K===void 0?void 0:K.channels[0]}),_=D({fileId:H,entryPoint:"HUDDLE_CANVAS_SHARE_DIALOG"}),B=Object(n.useCallback)(()=>{_(),R(Object(l.a)())},[R,_]),z=Object(i.c)(Q=>Object(A.d)(Q,U)),L=Object(f.h)(z),$=Object(i.c)(Q=>Object(P.t)(Q,z));return!W||!$?null:t.a.createElement("div",{className:"c-sk-modal_title_bar p-share_dialog_send_to_huddle"},t.a.createElement(S.d,{type:S.c.custom,level:S.b.info,className:"p-share_dialog_send_to_huddle__alert"},t.a.createElement("div",{className:"p-share_dialog_send_to_huddle__text"},t.a.createElement("div",null,L?G.t("Want to share this with {channelName}?",{channelName:Object(N.k)($),fallbackHash:"73a88734a46ddb68ffbfae8bb9ac14c4861af763"}):G.t("Want to share this in {channelName}?",{channelName:Object(N.k)($),fallbackHash:"73a88734a46ddb68ffbfae8bb9ac14c4861af763"})),t.a.createElement(p.d,{className:"p-share_dialog_send_to_huddle__share",onClick:B},G.t("Share in huddle",{fallbackHash:"0b9efdc0aed2790db109dee6687853b144b7845c"})))))},"ShareDialogSendToHuddle");V.displayName="ShareDialogSendToHuddle";var k=s.a=t.a.memo(V)},"0/8Q":function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Sets the origin view the Composer page was opened from");t.meta={name:"createAction",key:"createActionsetComposerOrigin",description:"Sets the origin view the Composer page was opened from"};const a=Object(n.a)("Sets a value indicating whether email classification is supported in the composer");a.meta={name:"createAction",key:"createActionsetComposerEmailClassificationSupported",description:"Sets a value indicating whether email classification is supported in the composer"}},"03PU":function(w,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"b",function(){return f});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("P8PK");const c={TopLeft:"top-left",Top:"top",TopRight:"top-right",BottomLeft:"bottom-left",Bottom:"bottom",BottomRight:"bottom-right",LeftTop:"left-top",Left:"left",LeftRight:"left-bottom",RightTop:"right-top",Right:"right",RightBottom:"right-bottom"},r=["top-left","top","top-right","bottom-left","bottom","bottom-right","left-top","left","left-bottom","right-top","right","right-bottom"];function f(l){let{children:p,coachmarkAnchorClassNames:h,coachmarkElement:u,orientation:b,style:v}=l;const d=Object(n.useRef)(null),[m,g]=Object(n.useState)(0),O=Object(i.a)(),E=Object(a.default)("c-coachmark-anchor",h);return Object(n.useEffect)(()=>{g(y=>y+1)},[]),t.a.createElement("div",{role:"none",id:`c-coachmark-anchor_${O}`,ref:d,className:E,style:v},p,u&&t.a.cloneElement(u,{anchorRef:d,orientation:b}))}o(f,"CoachmarkAnchor")},"0MjI":function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("ZobM"),t=e("q1tI"),a=e.n(t),i={container:"container__yGwRR"};const c=o(r=>{let{icon:f}=r;return Object(t.isValidElement)(f)?f:a.a.createElement("div",{className:i.container,"data-qa":"segment-icon"},a.a.createElement(n.a,{name:f,size:"20"}))},"SegmentIcon");c.displayName="SegmentIcon"},"0Qg5":function(w,s,e){"use strict";e.d(s,"b",function(){return p}),e.d(s,"c",function(){return u}),e.d(s,"e",function(){return b}),e.d(s,"d",function(){return v}),e.d(s,"a",function(){return d});var n=e("NFsq"),t=e("HI9p"),a=e("nNoG"),i=e("x3CK"),c=e("kBpe");const r=new a.b("shortcuts_flexpane"),f=/key_(Cmd|Option|Ctrl|CtrlAlternative|ShiftAlternative|Enter|Space)/,l=o(m=>{let{keyboardLocale:g,enableUnreadView:O}=m;return E=>{const y=Object(c.i)()?"":Object(c.c)(),C=Object(c.f)();if(E.isSsbOnly&&!Object(c.i)()||E.isDisabled)return!1;const I=E.browserBlockList||[];return!(Object(n.a)(I,y)||Object(n.a)(I,C)||Object(n.a)(E.localeBlockList,g)||E.id==="open_all_unreads"&&!O)}},"makeShortcutFilterFn"),p=o((m,g)=>{const O=Object(c.x)(),E=Object(c.o)(),y=O||E;return(m==="Cmd"||m==="Ctrl")&&y&&g==="de"?"Strg":m==="Cmd"&&y?"Ctrl":m==="Option"&&y?"Alt":m==="CtrlAlternative"?"Ctrl":m==="ShiftAlternative"?"Shift":m},"getModifierKeyForOS"),h=o(m=>g=>{if(!f.test(g))return g;const O=g.split("key_")[1];if(!O)return g;const E=p(O,m);return g.replace(O,E)},"makeReplaceModifierKeyFn"),u=o(m=>g=>{const{keys:O,keysWin:E,keysLinux:y,...C}=g;if(Object(c.x)()&&E)return{...C,keys:E};if(Object(c.o)()&&y)return{...C,keys:y};const I=h(m);return{...C,keys:O.map(I)}},"makeReplaceModifierKeysForOSFn"),b=o(function(){let{keyboardLocale:m,enableUnreadView:g,featureAppViewsReminders:O=!1,featureHuddlesI18n:E=!1,upToEditMessage:y=!1,isScreenReaderEnabled:C=!1,experimentA11YMessageReplayGroupOn:I=!1,experimentFeMessageForwardingM2GroupOn:j=!1,canAccessCanvas:M=!1,experimentConversationViewsGroupOn:T=!1,canCreateCanvas:D=!1,canUndoSendMessages:S=!1,experimentSavedForLaterGroupOn:A=!1,experimentDesktopIa4GroupOn:P=!1,experimentDesktopCopyTextGroupOn:N=!1,experimentWorkspaceNotificationSummaryGroupOn:G=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const k=Object(c.c)(),x=[{title:r.t("Basics"),id:"basics",shortcuts:[{title:r.t("New message",{ns:"drafts"}),keys:["key_Cmd","key_N"],id:"new_message",isSsbOnly:!0,isDisabled:!1},{title:r.t("New canvas",{fallbackHash:"6cd287b7403ecddfea11738faf851e48d6088be9",fallbackHashNs:"drafts"}),keys:["key_Cmd","key_Shift","key_N"],id:"new_canvas",isSsbOnly:!0,isDisabled:!D},{title:r.t("Jump to a conversation",{fallbackHash:"66d3ce0aa57a3b14881f5588807ccbd726af7a15"}),keys:Object(c.i)()?["key_Cmd","key_K",r.t("  or  "),"key_T"]:["key_Cmd","key_K"],hasInfoButton:!0,infoButtonMessage:r.t("Jump to another conversation by just typing its name"),id:"quick_switcher"},{title:r.t("Search"),keys:["key_Cmd","key_G"],isSsbOnly:!0},{title:r.t("Search current conversation",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049"}),keys:["key_Cmd","key_F"],isSsbOnly:!0},...P?[]:[{title:r.t("All DMs",{ns:"channel_sidebar"}),keys:["key_Shift","key_Cmd","key_K"],id:"browse_dms"},{title:r.t("Browse channels",{ns:"channel_browser"}),keys:["key_Shift","key_Cmd","key_L"],id:"browse_channels"}],{title:r.t("Edit last message (in empty text input)"),keys:y?["key_Cmd","key_\u2191"]:["key_\u2191",r.t("  or  "),"key_Cmd","key_\u2191"]},{title:r.t("Unsend last message (in empty text input)",{fallbackHash:"381ad751ada30c90490b00f448d0f9ed6b0124cd",fallbackHashNs:"msg_edit"}),keys:["key_Cmd","key_Z"],isDisabled:!S},{title:r.t("Back in history"),keys:["key_Cmd","key_["],keysWin:["key_Alt","key_\u2190"],keysLinux:["key_Alt","key_\u2190"],localeBlockList:["de","fr","it","zh-pinyin","zh-cangjie-zhuyin","ru"]},{title:r.t("Forward in history"),keys:["key_Cmd","key_]"],keysWin:["key_Alt","key_\u2192"],keysLinux:["key_Alt","key_\u2192"],localeBlockList:["de","fr","it","zh-pinyin","zh-cangjie-zhuyin","ru"]},{title:r.t("Back in history"),keys:["key_Cmd","key_\u2190"],keysWin:["key_Alt","key_\u2190"],keysLinux:["key_Alt","key_\u2190"],localeBlockList:["us","gb","es","ja"]},{title:r.t("Forward in history"),keys:["key_Cmd","key_\u2192"],keysWin:["key_Alt","key_\u2192"],keysLinux:["key_Alt","key_\u2192"],localeBlockList:["us","gb","es","ja"]},{title:r.t("All Unreads"),keys:["key_Shift","key_Cmd","key_A"],id:"open_all_unreads"},{title:r.t("Threads"),keys:["key_Shift","key_Cmd","key_T"],id:"open_all_threads",isSsbOnly:!0},{title:r.t("Dismiss dialogs"),keys:["key_Esc"]},{title:r.t("Show / hide sidebar",{fallbackHash:"8b9b1bbd66e4f30b1663e314b5949325f7d89ece"}),keys:["key_Shift","key_Cmd","key_D"],isSsbOnly:!0}]},{title:r.t("Navigation"),id:"navigation",shortcuts:[...P?[{title:r.t("Home",{ns:"view"}),keys:[...Object(c.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_1"],id:"home"},{title:r.t("DMs",{ns:"view"}),keys:[...Object(c.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_2",r.t("  or  "),"key_Shift","key_Cmd","key_K"],id:"browse_dms"},{title:r.t("Activity",{ns:"view"}),keys:[...Object(c.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_3",...Object(c.i)()||Object(c.c)()!=="chrome"?[r.t("  or  "),"key_Shift","key_Cmd","key_M"]:[]],id:"open_activity"},{title:r.t("Later",{ns:"view"}),keys:[...Object(c.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_4"],id:"open_later"},{title:r.t("Open More menu",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"slack-kit"}),keys:[...Object(c.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_0"]}]:[],{title:r.t("Move focus through messages"),keys:["key_\u2191",r.t("  or  "),"key_\u2193"]},{title:r.t("Move focus to the next section"),keys:[...Object(c.i)()?["key_F6"]:["key_Cmd","key_F6"],...Object(c.p)()?[r.t("  or  "),"key_Ctrl","key_Cmd","key_\u2192"]:[]]},{title:r.t("Move focus to the previous section"),keys:[...Object(c.i)()?["key_Shift","key_F6"]:["key_Shift","key_Cmd","key_F6"],...Object(c.p)()?[r.t("  or  "),"key_Ctrl","key_Cmd","key_\u2190"]:[]]},{title:r.t('Take action or "click" on selected element'),keys:["key_Enter"]},{title:r.t("Increase text size"),keys:["key_Cmd","key_+"]},{title:r.t("Decrease text size"),keys:["key_Cmd","key_-"]},{title:r.t("Scroll up"),keys:["key_\u2191",r.t("  or  "),"key_Page Up"]},{title:r.t("Scroll down"),keys:["key_\u2193",r.t("  or  "),"key_Page Down"]},{title:r.t("Scroll to previous day"),keys:["key_Shift","key_Page Up"]},{title:r.t("Scroll to next day"),keys:["key_Shift","key_Page Down"]},{title:r.t("Preferences"),keys:["key_Cmd",`key_${Object(i.c)(",",{kb:m},V)}`],id:"open_preferences",isSsbOnly:!0,browserBlockList:["windows","linux"]},{title:T?r.t("Close right pane"):r.t("Close or re-open right pane"),keys:["key_Cmd",`key_${Object(i.c)(".",{kb:m},V)}`]},{title:r.t("Open channel canvas"),keys:["key_Cmd","key_Option",`key_${Object(i.c)(".",{kb:m},V)}`]},{title:r.t("Channel Info"),keys:["key_Shift","key_Cmd","key_I"],isSsbOnly:!0},...P?[{title:r.t("Browse channels",{ns:"channel_browser"}),keys:["key_Shift","key_Cmd","key_L"],id:"browse_channels"}]:[{title:r.t("Mentions & reactions"),keys:["key_Shift","key_Cmd","key_M"],browserBlockList:["chrome"],id:"open_mentions_reactions"}],{title:r.t("Directory"),keys:["key_Shift","key_Cmd","key_E"],browserBlockList:["firefox"]},...P?[]:[{title:A?r.t("Later",{fallbackHash:"56e2f5d3634ea4aac5b56f1548e92680dd4cdd05",fallbackHashNs:"saved_for_later"}):r.t("Saved items"),keys:["key_Shift","key_Cmd","key_S"],browserBlockList:["firefox"],id:A?"open_later":"open_saved_items"}],{title:r.t("Toggle full screen"),keys:["key_Ctrl","key_Cmd","key_F"],...!Object(c.i)()||Object(c.j)("4.30.0")?{keysWin:["key_F11"],keysLinux:["key_F11"]}:{keysWin:["key_Ctrl","key_Shift","key_F"],keysLinux:["key_Ctrl","key_Shift","key_F"]}}]},...I?[{title:r.t("Screen readers"),id:"screen_readers",shortcuts:[{title:r.t("Play back a number of recent messages"),keys:[...Object(c.p)()?["key_Cmd","key_Option"]:["key_Alt"],r.t(",  "),"key_0",r.t("  -  "),"key_9"]},...G?[{title:r.t("Play summary of notifications across workspaces"),keys:[...Object(c.p)()?["key_Cmd","key_Option","key_S"]:["key_Ctrl","key_Alt","key_S"]]}]:[]]}]:[],{title:r.t("Messaging"),id:"messaging",shortcuts:[{title:r.t("Select text to beginning of current line"),keys:["key_Shift","key_\u2191"]},{title:r.t("Select text to end of current line"),keys:["key_Shift","key_\u2193"]},{title:r.t("Start a new line"),keys:["key_Shift","key_Enter"]},{title:r.t("React to last message (or message with focus)"),keys:["key_Shift","key_Cmd",`key_${Object(i.c)("\\",{kb:m},V)}`]},{title:r.t("Autocomplete @username"),keys:["key_@"]},{title:r.t("Autocomplete channel"),keys:["key_#"]},{title:r.t("Autocomplete emoji"),keys:["key_:"]}]},{title:r.t("Mark Messages Read and Unread"),id:"mark_messages_read_unread",shortcuts:[{title:r.t("Mark all messages in current channel as read"),keys:["key_Esc"]},{title:r.t("Mark all messages as read"),keys:["key_Shift","key_Esc"]},{title:r.t("Mark a message as unread"),keys:["key_Option",r.t("  and click message")],keysWin:["key_Alt",r.t("  and click message")],keysLinux:["key_Alt",r.t("  and click message")]}]},{title:r.t("Channels & Direct Messages"),shortcuts:[{title:r.t("Previous channel or DM"),keys:["key_Option","key_\u2191"]},{title:r.t("Next channel or DM"),keys:["key_Option","key_\u2193"]},{title:r.t("Previous unread channel or DM"),keys:["key_Option","key_Shift","key_\u2191"]},{title:r.t("Next unread channel or DM"),keys:["key_Option","key_Shift","key_\u2193"]}]},{title:r.t("All Unreads"),id:"all_unreads",shortcuts:[{title:r.t("Expand channel"),keys:["key_\u2192"]},{title:r.t("Collapse channel"),keys:["key_\u2190"]},{title:r.t("Mark channel as read"),keys:["key_Esc"]},{title:r.t("Previous channel"),keys:["key_Shift","key_Page Up"]},{title:r.t("Next channel"),keys:["key_Shift","key_Page Down"]}]},{title:r.t("Files and Snippets"),shortcuts:[{title:r.t("Add a file"),keys:["key_Cmd","key_U"],browserBlockList:["firefox"]},{title:r.t("Create a snippet"),keys:["key_Shift","key_Cmd","key_Enter"]},{title:r.t("View all downloads",{fallbackHash:"3f7c5037f710ccabbca2f24155aca1a91de7a4a5",fallbackHashNs:"page_client"}),keys:["key_Shift","key_Cmd","key_J"]}]},{title:r.t("Calls"),id:"calls_shortcuts",shortcuts:[{title:r.t("Toggle mute"),keys:["key_M"]},{title:r.t("Toggle video"),keys:["key_V"]},{title:r.t("Invite list"),keys:["key_+",r.t("  or  "),"key_A"]},{title:r.t("Emoji reactions"),keys:["key_E",r.t("  then 1-9")]}]},{title:r.t("Workspace Switching"),id:"workspaces",shortcuts:[{title:r.t("Previous workspace"),keys:["key_Cmd","key_Shift",`key_${Object(i.c)("[",{kb:m},V)}`],keysWin:["key_Ctrl","key_Tab"]},{title:r.t("Next workspace"),keys:["key_Cmd","key_Shift",`key_${Object(i.c)("]",{kb:m},V)}`],keysWin:["key_Ctrl","key_Shift","key_Tab"]},{title:r.t("A specific workspace"),keys:["key_Cmd",r.t("  and 1-9")]},...P?[{title:r.t("Open workspace switcher",{fallbackHash:"2e996392fcc2bd1e60176dc5dbd7ccd98d799902",fallbackHashNs:"classic_nav"}),keys:["key_Shift","key_Cmd","key_S"],browserBlockList:["firefox"]}]:[]]}],H=[{title:r.t("Edit (your own message)"),keys:["key_E"]},{title:r.t("Delete (your own message)"),keys:["key_Delete"]},{title:r.t("Add an emoji reaction"),keys:["key_R"]},{title:r.t("Open a thread"),keys:["key_\u2192",r.t("or"),"key_T"]},{title:r.t("Pin / unpin"),keys:["key_P"]},{title:j?r.t("Forward"):r.t("Share"),keys:j?["key_F"]:["key_S"]},{title:A?r.t("Save / remove from Later",{fallbackHash:"083846cc700b9990ef8fcab89207bb188a870677"}):r.t("Save / remove from saved items"),keys:["key_A"]},{title:r.t("Mark as unread from this message"),keys:["key_U"]}];O&&H.push({title:r.t("Remind me about this message"),keys:["key_M"]}),N&&H.push({title:r.t("Copy a link to this message"),keys:["key_L"]}),x.push({title:r.t("When focused on a message"),id:"message_shortcuts",shortcuts:H});const R=[{title:r.t("Collapse or expand all"),keys:["key_Option",r.t("  and click section")],keysWin:["key_Alt",r.t("  and click section")]}];x.push({title:r.t("Channel Sections"),id:"channel_sections",shortcuts:R});const W=x[Object(t.a)(x,["id","basics"])].shortcuts,U=x[Object(t.a)(x,["id","navigation"])].shortcuts,_=x[Object(t.a)(x,["id","messaging"])].shortcuts,B=Object(t.a)(x,["id","calls_shortcuts"]),z=Object(t.a)(x,["id","workspaces"]);if(E){const K={title:r.t("Huddles"),id:"huddles_shortcuts",shortcuts:[]};Object(c.i)()?K.shortcuts.push({title:r.t("Toggle huddles start / stop"),keys:["key_Shift","key_Cmd","key_H"],keysWin:["key_Ctrl","key_Shift","key_H"]}):K.shortcuts.push({title:r.t("Toggle huddles start / stop"),keys:["key_Cmd","key_Option","key_Shift","key_H"],keysWin:["key_Ctrl","key_Alt","key_Shift","key_H"]}),K.shortcuts.push({title:r.t("Toggle huddles mute / unmute"),keys:["key_Shift","key_Cmd","key_Space"],keysWin:["key_Ctrl","key_Shift","key_Space"]}),x.splice(B+1,0,K)}if(Object(c.i)()&&U.push({title:r.t("Jump to unread messages"),keys:["key_Cmd","key_J"]}),T&&(U.push({title:r.t("Open sidebar item in a new window"),keys:["key_Cmd",r.t("  and click")]}),U.push({title:r.t("Open a conversation in a new window"),keys:["key_Cmd","key_Enter"]})),T&&(U.push({title:r.t("Close window"),keys:["key_Cmd","key_W"]}),U.push({title:r.t("Reopen last closed window"),keys:["key_Cmd","key_Shift","key_W"]})),M){const K=[{title:r.t("View comment thread"),keys:["key_Cmd","key_Option","key_T"]},{title:r.t("Open context menu"),keys:["key_Cmd","key_Shift",`key_${Object(i.c)("/",{kb:m},V)}`],keysWin:["key_Shift","key_F10"]},{title:r.t("Show reader / edit view"),keys:k===c.a.SAFARI?["key_Ctrl","key_R"]:["key_Cmd","key_Option","key_R"]},{title:r.t("Find"),keys:["key_Cmd","key_F"]},{title:r.t("Find next"),keys:["key_Cmd","key_G"]},{title:r.t("Find previous"),keys:["key_Cmd","key_Shift","key_G"]},{title:r.t("Insert link"),keys:["key_Cmd","key_Shift","key_U"]},{title:r.t("Copy anchor link"),keys:["key_Ctrl","key_Option","key_Q"]},{title:r.t("Undo"),keys:["key_Cmd","key_Z"]},{title:r.t("Redo"),keys:["key_Cmd","key_Shift","key_Z"]},{title:r.t("Move list item up"),keys:["key_Cmd","key_Option","key_\u2191"]},{title:r.t("Move list item down"),keys:["key_Cmd","key_Option","key_\u2193"]},{title:r.t("Bold"),keys:["key_Cmd","key_B"]},{title:r.t("Italic"),keys:["key_Cmd","key_I"]},{title:r.t("Strikethrough"),keys:["key_Cmd","key_Shift","key_X"]},{title:r.t("Inline code"),keys:["key_Cmd","key_Shift","key_C"]},{title:r.t("Paragraph (normal text) style"),keys:["key_Cmd","key_Option","key_0"]},{title:r.t("Big heading style"),keys:["key_Cmd","key_Option","key_1"]},{title:r.t("Medium heading style"),keys:["key_Cmd","key_Option","key_2"]},{title:r.t("Small heading style"),keys:["key_Cmd","key_Option","key_3"]},{title:r.t("Block quote style"),keys:["key_Cmd","key_Shift","key_9"]},{title:r.t("Code block style"),keys:["key_Cmd","key_Option","key_Shift","key_C"]},{title:r.t("Checklist style"),keys:["key_Cmd","key_Shift","key_0"]},{title:r.t("Bulleted list style"),keys:["key_Cmd","key_Shift","key_8"]},{title:r.t("Numbered list style"),keys:["key_Cmd","key_Shift","key_7"]},{title:r.t("Toggle heading and list styles"),keys:["key_Ctrl",`key_${Object(i.c)("`",{kb:m},V)}`]},{title:r.t("Insert file"),keys:["key_Cmd","key_U"]},{title:r.t("Interact with card view"),keys:["key_Cmd","key_Enter"]}];x.splice(z,0,{title:r.t("Canvas Editing"),id:"canvas_shortcuts",shortcuts:K})}_.push({title:r.t("Bold text"),keys:["key_Cmd","key_B"]}),_.push({title:r.t("Italic text"),keys:["key_Cmd","key_I"]}),_.push({title:r.t("Strikethrough text"),keys:["key_Shift","key_Cmd","key_X"]}),_.push({title:r.t("Format text as code"),keys:["key_Shift","key_Cmd","key_C"]}),_.push({title:r.t("Format selection as bullet list"),keys:["key_Shift","key_Cmd","key_8"]}),_.push({title:r.t("Format selection as numbered list"),keys:["key_Shift","key_Cmd","key_7"]}),_.push({title:r.t("Format selection as quote"),keys:["key_Shift","key_Cmd","key_9"]}),_.push({title:r.t("Format selection as code block"),keys:["key_Option","key_Shift","key_Cmd","key_c"],keysWin:["key_Alt","key_Shift","key_Cmd","key_c"]}),W.push({title:r.t("Set a status"),keys:["key_Shift","key_Cmd","key_Y"],id:"set_a_status"}),W.push({title:r.t("Open Help"),keys:["key_F1"],id:"open_help",isSsbOnly:!0});const L=Object(c.f)();L==="windows"||L==="linux"?W.push({title:r.t("Open context menu"),keys:["key_Shift","key_F10"]}):L==="mac"&&C&&W.push({title:r.t("Open context menu (with VoiceOver on)"),keys:["key_Ctrl","key_Option","key_Shift","key_M"]});const $=l({keyboardLocale:m,enableUnreadView:g}),Q=u(m);return x.map(K=>{const{shortcuts:Z,...ne}=K;return{...ne,shortcuts:Z.filter($).map(Q)}})},"shortcutsData"),v=o(function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1?arguments[1]:void 0;return(b(m,g)||[]).reduce((E,y)=>{let{shortcuts:C}=y;return E.concat(C)},[]).filter(E=>{let{id:y}=E;return y}).reduce((E,y)=>(E[y.id]=y,E),{})},"shortcutsById"),d=o(function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1?arguments[1]:void 0;const O=v(m,g),E={Cmd:"Meta",Ctrl:"Control","\u2193":"ArrowDown","\u2190":"ArrowLeft","\u2192":"ArrowRight","\u2191":"ArrowUp",Esc:"Escape",Option:"Alt","Page Down":"PageDown","Page Up":"PageUp","+":"Plus"};return Object.keys(O).reduce((y,C)=>(y[C]=O[C].keys.map(I=>{const j=I.replace("key_","");return E[j]||j}).join("+"),y),{})},"ariaShortcutsById")},"0SKT":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("RVJP");function t(a){return Object(n.d)(a,"private_message_sharing")==="on"}o(t,"isPrivateMessageSharingEnabled")},"0SZ4":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("s4P+"),t=e("p9fx");function a(i){let{globalIndex:c,results:r,matchLength:f,formats:l}=i;const p=r[0];return Object(n.b)().info("AUTOSLUG",`Creating emoji (${p.id})`),{id:p.id,label:`:${Object(t.a)({name:p.name||""})}:`,globalIndex:c,length:f,formats:l,type:"emoji"}}o(a,"createPotentialEmojiObject")},"0UjO":function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return r});var n=e("ZKjC"),t=e("UOL+"),a;const i=Object(n.b)(f=>{var l;return(a=(l=Object(t.a)(f))===null||l===void 0?void 0:l.draftImageThumbnails)!==null&&a!==void 0?a:f==null?void 0:f.draftImageThumbnails});var c;i.meta={name:"createSelector",key:"createSelectorgetAllDraftImageThumbnails",description:f=>{var l;return(c=(l=Object(t.a)(f))===null||l===void 0?void 0:l.draftImageThumbnails)!==null&&c!==void 0?c:f==null?void 0:f.draftImageThumbnails}};const r=Object(n.b)((f,l)=>{var p;return(p=i(f))===null||p===void 0?void 0:p[l]});r.meta={name:"createSelector",key:"createSelectorgetImageThumbnailByFileId",description:(f,l)=>{var p;return(p=i(f))===null||p===void 0?void 0:p[l]}}},"0aqA":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("ZKjC");const t=Object(n.b)((a,i)=>a.canvasReadOnly[i]?a.canvasReadOnly[i]:!1);t.meta={name:"createSelector",key:"createSelectorgetReadOnlyState",description:(a,i)=>a.canvasReadOnly[i]?a.canvasReadOnly[i]:!1}},"0f4s":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("Y/OQ");function t(a,i,c){return Object(n.a)(a?a.ops:[]).substr(i,c)}o(t,"getDeltaSubStr")},"0kN6":function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),i=e("UIhb"),c=e("7Zpt"),r=e("wla9"),f=e("O86Y");const l=Object(a.c)("Fetch and upsert messages",function(){var p=Object(n.coroutine)(function*(h,u,b){let{timestamps:v,reason:d="fetchAndUpsertMessages"}=b;const m=Object(f.g)(u()),g={},O=v.map(y=>{let{channelId:C,ts:I}=y;const j=Object(i.b)(u(),C,I,!1);return j||(g[C]=g[C]||new Set,g[C].add(I)),j}),E=Object.entries(g).map(y=>{let[C,I]=y;return{channel:C,timestamps:Array.from(I)}});if(E.length){const y=yield h(Object(c.a)({query:E,reason:d}));y.length>0&&m&&h(Object(r.a)(m,y))}return v.map((y,C)=>{let{channelId:I,ts:j}=y;return Object(i.b)(u(),I,j,!1)||O[C]})});return function(h,u,b){return p.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkensureMessages",description:"Fetch and upsert messages"}},"0kyL":function(w,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("+l5E"),t=e("lCmp"),a=e("pu3F");function i(y){return y?c(y.blocks)?!0:!!y.attachments&&Object(t.a)(y.attachments,C=>c(C.blocks)):!1}o(i,"hasCallBlockInMessage");function c(y){return!!y&&Object(t.a)(y,C=>C.type===a.e.call)}o(c,"hasCallBlock");var r=e("JQ3U"),f=e("s8RM"),l=e("rebY"),p=e("HYaO"),h=e("Yauy"),u=e("pZC0"),b=e("+KEP"),v=e("E97Y"),d=e("ccuj"),m=e("nnVK"),g=e("8agj"),O=e("9Gfp");function E(y,C){let{message:I,channel:j,ignoreMembership:M,ignoreImWithDeletedMmbr:T}=C;const D=Object(r.a)(I),S=Object(f.a)(D),A=Object(l.a)(I);if(S||A||Object(n.bb)(I)||Object(p.a)(I)||Object(h.T)(j)||Object(g.a)(D)||!Object(O.i)(y,"feature_threaded_call_block")&&i(I)||!Object(h.b)(y,j)||!T&&Object(h.bb)(y,j))return!1;const P=Object(v.l)(j)&&!Object(h.db)(j);if(!M&&P&&!Object(u.a)(j)||!Object(b.a)(y,j==null?void 0:j.id)&&Object(h.Y)(y,j))return!1;const N=Object(d.a)(I);return!(N&&(j!=null&&j.id)&&Object(m.a)(y,{threadTs:N,channelId:j==null?void 0:j.id}))}o(E,"canReplyOrComment")},"0mlZ":function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"c",function(){return t}),e.d(s,"a",function(){return a});var n;(function(i){i.MESSAGE="message",i.SHORTCUT="shortcut",i.FILE="file",i.DOC_SECTION="doc_section",i.CHANNEL_SET="channel_set",i.RECORD="record",i.CANVAS="canvas",i.LIST="list"})(n||(n={}));function t(i){return i===n.FILE||i===n.CANVAS||i===n.LIST||i===n.RECORD||i===n.DOC_SECTION}o(t,"isFileShareType");const a={DLP_USER_WARNING:"dlp_user_warning",MESSAGE_LIMIT_EXCEEDED:"message_limit_exceeded",RESTRICTED_ACTION_EXTERNAL_WORKSPACE:"restricted_action_external_workspace"}},"0ufv":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("E97Y"),t=e("FdVR"),a=e("C3vN"),i=e("K7jq"),c=e("ehcD");function r(f,l){if(!f||!l||!l.id)return[];if(Object(a.db)(l)){const p=Object(c.c)(f,l);if(Object(i.a)(l)&&p)return[p]}return Object(n.e)(l)?Object(t.a)(f,l):[]}o(r,"getConnectedTeamIdsForModelObject")},"0zuE":function(w,s,e){"use strict";e.d(s,"a",function(){return m});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("Ccc1"),c=e("YUBf"),r=e("zxER"),f=e("E3dU"),l=e("jWAO"),p=e("G0eX"),h=e("O86Y"),u=e("beVI"),b=e("/MKj"),v=e("+kJ4");const d=new a.b("slack_connect_external_limited"),m={AddPeople:"add_people",AddWorkflows:"add_workflows",AddShortcut:"add_shortcut",AddApps:"add_apps"},g=o((E,y)=>{switch(y){case m.AddPeople:return{title:d.t("Add people",{fallbackHash:"b9c735ea3637189c3033255e1dd2387bf8c60ef0",fallbackHashNs:"channel_invite"}),body:d.rt("Members of <strong>{ownTeamName}</strong> aren\u2019t able to add people to this channel.",{ownTeamName:E})};case m.AddShortcut:return{title:d.t("Add shortcut",{fallbackHash:"4ae23d8ab2019211a98e5c0c7f64e8f5b2428341",fallbackHashNs:"channel_actions_section"}),body:d.rt("Members of <strong>{ownTeamName}</strong> aren\u2019t able to add shortcuts to this channel.",{ownTeamName:E})};case m.AddWorkflows:return{title:d.t("Add workflows"),body:d.rt("Members of <strong>{ownTeamName}</strong> aren\u2019t able to add workflows to this channel.",{ownTeamName:E})};case m.AddApps:return{title:d.t("Add apps"),body:d.rt("Members of <strong>{ownTeamName}</strong> aren\u2019t able to add apps to this channel.",{ownTeamName:E})};default:return{title:d.t("Can\u2019t continue"),body:d.rt("There are a few things people from <strong>{ownTeamName}</strong> can\u2019t do in this channel \u2014 and you\u2019ve just found one of them.",{ownTeamName:E})}}},"getTitleAndBody"),O=o(E=>{let{source:y,channel:C,title:I,body:j}=E;const M=Object(b.useDispatch)(),T=Object(r.c)(V=>typeof C=="string"?Object(f.d)(V,C):C),D=Object(r.c)(V=>{const k=Object(u.s)(V,Object(h.i)(V));return Object(p.h)(k)}),{title:S,body:A}=g(D,y),P=I??S,N=j??A,G=Object(n.useCallback)(()=>M(Object(v.a)()),[M]);return t.a.createElement(c.a,{closeModal:G,dataQa:"external-limited-roadblock-modal"},t.a.createElement(c.i,null,t.a.createElement(c.l,{title:P,subtitle:C?t.a.createElement(i.a,{channel:T}):null})),t.a.createElement(c.d,null,t.a.createElement(c.e,null,t.a.createElement(l.d,{icon:"info-circle"},t.a.createElement("span",null,N)))),t.a.createElement(c.g,null,t.a.createElement(c.h,null,t.a.createElement(c.c,{type:"outline","data-qa":"external-limited-member-roadblock-modal-ok-button"},d.t("OK")))))},"ExternalLimitedRoadblockModal");O.displayName="ExternalLimitedRoadblockModal",s.b=O},"11j0":function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("ykb+"),t=e("kBpe"),a=e("Yauy");const i=o((r,f,l)=>{if(!r||!f||!l)return null;if(!Object(t.i)()){const h=Object(n.a)(window.location.host),u=h.envSubdomain?`${h.envSubdomain}.`:"",b=h.isEU?"eu":"com";return`https://${u}slack.${b}/app_redirect?app=${f}&team=${r}`}return`slack://user?team=${r}&id=${l}`},"constructAppDmUrl"),c=o((r,f,l)=>!r||!f||!l?null:Object(t.i)()?`slack://channel?team=${r}&id=${f}`:Object(a.c)({channelId:f,team:l}),"constructChannelUrl")},"13wQ":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Set document title");t.meta={name:"createAction",key:"createActionupdateLatestTitle",description:"Set document title"}},"18hm":function(w,s,e){w.exports=e.p+"exchange-unlinked-760993c.svg"},"1Aeb":function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=o(t=>{let{currentSelection:a,selection:i,cursorPosition:c,numPerRow:r,index:f}=t;const l=i===a,p=c[1]*r+c[0];return l&&f===p},"isCellSelected")},"1DMY":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("/MKj"),c=e("YpEo"),r=e("9Gfp"),f=e("2IYT"),l=e("NV6F");const p=o(h=>{let{id:u,children:b,forceOpen:v=!1,onClick:d,onClose:m,menuAriaLabel:g,sidebar:O,header:E,channelSection:y,onEnterEditModeClick:C,transitionFocusTo:I}=h;const j=Object(a.c)(r.h),M=Object(i.useDispatch)(),T=Object(n.useCallback)(()=>M(Object(l.b)({id:u,sidebar:O,header:E,channelSection:y,onEnterEditModeClick:C,transitionFocusTo:I})),[M,u,O,E,y,C,I]);return!j||!u?Object(c.a)(b):t.a.createElement(f.a,{menuAriaLabel:g,getTemplate:T,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,forceOpen:v,onClick:d,onClose:m,width:"auto"},b)},"ChannelContextMenu");p.displayName="ChannelContextMenu",s.a=p},"1FnB":function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=o(t=>{var a;if(!(t!=null&&t.is_app_unfurl))return!1;var i;return(i=t==null||(a=t.blocks)===null||a===void 0?void 0:a.some(c=>c.type==="file"&&c.source==="remote"))!==null&&i!==void 0?i:!1},"isRemoteFileAppUnfurl")},"1LR9":function(w,s,e){"use strict";e.d(s,"e",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"d",function(){return i}),e.d(s,"a",function(){return c}),e.d(s,"g",function(){return r}),e.d(s,"c",function(){return f}),e.d(s,"f",function(){return l});var n=e("DwFS");const t=Object(n.a)("Set draft sending state");t.meta={name:"createAction",key:"createActionsetDraftSending",description:"Set draft sending state"};const a=Object(n.a)("Remove draft sending state");a.meta={name:"createAction",key:"createActionclearDraftSending",description:"Remove draft sending state"};const i=Object(n.a)("Set error state for a draft");i.meta={name:"createAction",key:"createActionsetDraftError",description:"Set error state for a draft"};const c=Object(n.a)("Clear error state for a draft");c.meta={name:"createAction",key:"createActionclearDraftError",description:"Clear error state for a draft"};const r=Object(n.a)("Set sending invites for draft state");r.meta={name:"createAction",key:"createActionsetSendingInvitesForDraft",description:"Set sending invites for draft state"};const f=Object(n.a)("Remove sending invites for draft state");f.meta={name:"createAction",key:"createActionclearSendingInvitesForDraft",description:"Remove sending invites for draft state"};const l=Object(n.a)("Mark the draft as sent");l.meta={name:"createAction",key:"createActionsetDraftSent",description:"Mark the draft as sent"}},"1LZ8":function(w,s,e){"use strict";e.d(s,"a",function(){return b});var n=e("9oTK"),t=e("q1tI"),a=e.n(t),i=e("SQ0V"),c=e("oY18"),r=e("g3a/"),f=e("plVP"),l=e("zxER"),p=e("nNoG");const h=new p.b("express_templates");function u(){const v=Object(l.c)(f.a);return a.a.createElement(r.a,null,a.a.createElement("span",null,v?h.t("Oops! Something went wrong"):"Oops! Something went wrong"))}o(u,"WorkflowSuggestionsErrorToast"),u.displayName="WorkflowSuggestionsErrorToast";const b=Object(i.c)("enqueues a suggested workflow create error toast",function(){var v=Object(n.coroutine)(function*(d,m){return d(Object(c.a)({element:a.a.createElement(u,null)}))});return function(d,m){return v.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkenqueueSuggestedWorkflowErrorToast",description:"enqueues a suggested workflow create error toast"}},"1PxT":function(w,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"b",function(){return r}),e.d(s,"c",function(){return l}),e.d(s,"f",function(){return p}),e.d(s,"d",function(){return h}),e.d(s,"e",function(){return u});var n=e("X/qK"),t=e("ZKjC"),a=e("Cnv9"),i=e("i5Ig");const c={CANT_UNFURL:"cant_unfurl",COMPLETE:"complete",ERROR:"error",FETCHING:"fetching",REMOVED:"removed"},r=Object(t.b)((b,v)=>{var d;return b==null||(d=b.draftContactUnfurls)===null||d===void 0?void 0:d[v]});r.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlEntriesForDraft",description:(b,v)=>{var d;return b==null||(d=b.draftContactUnfurls)===null||d===void 0?void 0:d[v]}};const f=Object(t.b)(function(b){let{draftId:v,contactUserId:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!v||!d)return null;const m=r(b,v);return m?m[d]:null});f.meta={name:"createSelector",key:"createSelectorgetContactUnfurlEntryForDraft",description:function(b){let{draftId:v,contactUserId:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!v||!d)return null;const m=r(b,v);return m?m[d]:null}};const l=Object(t.b)((b,v)=>{const d=r(b,v);return d?Object.keys(d):[]});l.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlIdsForDraft",description:(b,v)=>{const d=r(b,v);return d?Object.keys(d):[]}};const p=Object(t.b)((b,v)=>{let d=[];if(!v)return d;const m=r(b,v);return m&&(d=Object(n.a)(m,(g,O,E)=>{O&&O.status===c.REMOVED&&g.push(E)},[])),d});p.meta={name:"createSelector",key:"createSelectorgetRemovedContactUnfurlIdsForDraft",description:(b,v)=>{let d=[];if(!v)return d;const m=r(b,v);return m&&(d=Object(n.a)(m,(g,O,E)=>{O&&O.status===c.REMOVED&&g.push(E)},[])),d}};const h=Object(t.b)((b,v)=>{let d=[];if(!v)return d;const m=r(b,v);return m&&(d=Object(n.a)(m,(g,O,E)=>{O&&O.status===c.COMPLETE&&g.push(E)},[])),d});h.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlIdsForDraft",description:(b,v)=>{let d=[];if(!v)return d;const m=r(b,v);return m&&(d=Object(n.a)(m,(g,O,E)=>{O&&O.status===c.COMPLETE&&g.push(E)},[])),d}};const u=Object(t.b)((b,v)=>{if(!Object(a.b)(b)||!v)return i.a;const d=r(b,v);if(!d)return i.a;const m=Object(n.a)(d,(g,O)=>{O&&O.status===c.COMPLETE&&g.push(O.data)},[]);return m.length?m:i.a});u.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlsForDraft",description:(b,v)=>{if(!Object(a.b)(b)||!v)return i.a;const d=r(b,v);if(!d)return i.a;const m=Object(n.a)(d,(g,O)=>{O&&O.status===c.COMPLETE&&g.push(O.data)},[]);return m.length?m:i.a}}},"1TxD":function(w,s,e){"use strict"},"1VCh":function(w,s,e){"use strict";e.d(s,"a",function(){return p});var n=e("RVJP"),t=e("xwCZ"),a=e("C3vN"),i=e("P9LH"),c=e("QoUg"),r=e("awTC");const f="ALQ9XG76D",l=o(h=>Object(n.d)(h,"box_remote_file_previews")==="on","canPreviewBoxRemoteFilesEnabled"),p=o((h,u)=>{if(!l(h)||!u||!Object(i.Kb)(u)||!Object(r.d)(u))return!1;const b=u.bot_user_id||u.user;if(!b)return!1;const v=Object(t.g)(h,b),d=Object(a.d)(v);return d&&d===f?Object(c.a)(h,u):!1},"canPreviewBoxRemoteFiles")},"1Wxh":function(w,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"b",function(){return p});var n=e("mYQK"),t=e.n(n),a=e("nzWX"),i=e("9Gfp"),c=e("AFNo"),r=e("kBpe"),f=e("28Q5");const l=o(h=>Object(a.h)("no_download_banner")!=="1"&&Object(a.h)("defer_download_banner")!=="1"&&!h,"shouldShowDownloadAppBannerBoot"),p=Object(c.c)(h=>{const u=Object(i.e)(h,"userSawNotificationsBanner"),b=Object(a.f)();return Object(f.e)(h)&&u&&b.no_download_ssb_banner!=="1"&&b.defer_download_ssb_banner!=="1"&&b.no_download_banner!=="1"&&b.defer_download_banner!=="1"&&!Object(r.i)()&&!t.a.chromeBook});p.meta={name:"createSelector",key:"createSelectorshouldShowDownloadAppBannerWorkspace",description:h=>{const u=Object(i.e)(h,"userSawNotificationsBanner"),b=Object(a.f)();return Object(f.e)(h)&&u&&b.no_download_ssb_banner!=="1"&&b.defer_download_ssb_banner!=="1"&&b.no_download_banner!=="1"&&b.defer_download_banner!=="1"&&!Object(r.i)()&&!t.a.chromeBook}}},"1ao7":function(w,s,e){"use strict";var n=e("Lgge"),t=e("fujP"),a=e("OtLZ"),i=e("n3tL"),c=e("Kn+X"),r=e("SQ0V"),f=e("9Gfp"),l=e("CMT/"),p=e("jlq+"),h=e("E3dU");const u=Object(r.c)("Prepare a draft to be sent to a channel, DM, or MPDM",function(b,v){let{draft:d,isQuiet:m}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=Object(c.d)(d);if(!Object(t.a)(g))return b(Object(p.a)({channelId:g[0]})).then(()=>({channelId:g[0]}));const O=Object(c.m)(d);if(!Object(t.a)(O)){let E,y;if(O.length===1)y=O,E=Object(h.m)(v(),O[0]);else{const C=Object(f.a)(v());y=Object(a.a)(O,C);const I=[C,...y];E=Object(h.q)(v(),I)}return E&&m?n.a.resolve({channelId:E.id}):b(Object(l.a)({isQuiet:m,memberIds:y,shouldNavigateToChannel:!1})).then(C=>({channelId:C.id}))}return n.a.resolve({})});u.meta={name:"createThunk",key:"createThunkprepareDraftForSend",description:"Prepare a draft to be sent to a channel, DM, or MPDM"},u.propTypes={draft:i.default.object.isRequired},s.a=u},"1czH":function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"c",function(){return a}),e.d(s,"b",function(){return i});var n=e("ROZo");const t=Object(n.a)("TS.channels.left_sig.dispatch"),a=Object(n.a)("TS.channels.legacyOnJoin"),i=Object(n.a)("TS.channels.legacyAlertSetTopicError")},"1dAw":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("Efzj"),c=e("E3dU"),r=e("11j0"),f=e("E97Y"),l=e("O86Y"),p=e("beVI");const h=o(u=>{let{channel:b,channelId:v,team:d,teamId:m,children:g}=u;return Object(f.j)(b)?g:t.a.createElement(i.a,{href:Object(r.a)(m,v,d),target:"_blank"},g)},"ChannelLink");s.a=Object(a.a)((u,b)=>{let{channelId:v}=b;const d=Object(l.g)(u);return{team:Object(p.s)(u,d),teamId:d,channel:Object(c.d)(u,v),channelId:v}})(h)},"1lhz":function(w,s,e){"use strict";var n=e("9oTK"),t=e("Lgge"),a=e("SQ0V"),i=e("3L56"),c=e("Btza"),r=e("7ibc"),f=e("TdVx"),l=e("NV6F"),p=e("Ybt4"),h=e("ktUG"),u=e("5IZy");const b=Object(a.c)("Clog the creation of a doc",(E,y,C)=>{let{fileId:I,source:j}=C;Object(u.a)({getState:y}).track(h.EventId.QUIP_DOC_CREATION,{contexts:{ui_context:{ui_properties:{element_name:j},ui_component_name:h.UiComponentName.QUIP_MAIN_EMBED,ui_step:h.UiStep.QUIP_CREATION},core:{quip_file_id:I,file_id:I}}})});b.meta={name:"createThunk",key:"createThunkclogCreateDoc",description:"Clog the creation of a doc"};var v=b;const d=40*1e3,m=Object(a.c)("Finalize a temporary document",function(){var E=Object(n.coroutine)(function*(y,C,I){let{tempId:j,finalId:M,onCreate:T,source:D}=I;const S=yield y(Object(i.a)({quipThreadId:M,reason:"finalize-quip-doc"}));y(Object(c.a)({fileId:S,lastReadByUser:Date.now()})),T&&(D!=="create-channel-space"&&y(v({fileId:S,source:D})),T({tempId:j,finalId:M,fileId:S}))});return function(y,C,I){return E.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkfinalizeDoc",description:"Finalize a temporary document"};const g=Object(a.c)("Create a Quip doc",function(){var E=Object(n.coroutine)(function*(y,C,I){let{onCreate:j,options:M,isChannelCanvas:T,source:D}=I;if(!Object(f.a)(C()))return Object(p.b)({getState:C}).error(new Error("Failed to create a canvas - user does not have permission")),t.a.reject(new Error("Cannot create canvas"));const A={usesOnlyInlineTextComments:Object(r.a)(C()),...M},N=yield(yield y(Object(l.l)())).docs.create(A);if(N.isCreated())y(m({tempId:"",finalId:N.id.get(),onCreate:j,source:D}));else{const G=setTimeout(()=>{Object(p.b)({getState:C}).error(new Error("createDoc timeout"),{source:D,isChannelCanvas:T})},d),V=o((k,x)=>{N.isCreated()&&(clearTimeout(G),y(m({tempId:k,finalId:x,onCreate:j,source:D})),N.id.unlisten(V))},"listener");N.id.listen(V)}return N});return function(y,C,I){return E.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkcreateDoc",description:"Create a Quip doc"};var O=s.a=g},"1m8D":function(w,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});var n;(function(a){a.NONE="NONE",a.START="START",a.OPEN="OPEN"})(n||(n={}));function t(a){let{overrideDefaultFormats:i,overridesDefaultComposerButtons:c,useWorkflowTokens:r,useQuipTokens:f=!1,useVariables:l=!1,useNewOptionOrdering:p=!1,useChannelCanvasShareSelection:h=!1,quipThreadButtonType:u=n.NONE}=a;if(r)return{formats:["bold","italic","strike","link","code","bullet-list","ordered-list","code-block","blockquote"],buttons:[["bold","italic","strike","code","link"],["ordered-list","bullet-list","blockquote","code-block"]]};if(f){const d=[["select"],["bold","italic","strike"],["code"]],m=l?["link","insert-variable"]:["link"];switch(d.push(m),u){case n.START:d.push(["start-thread"]);break;case n.OPEN:d.push(["open-thread"]);break;default:break}h&&d.push(["channel-canvas-share"]);const g=p?["h1","h2","h3","paragraph"]:["paragraph","h1","h2","h3"],O=["option-list-divider","check-list","ordered-list","bullet-list","option-list-divider","code-block","blockquote"];return{formats:["bold","italic","strike"],buttons:d,selectOptions:[...g,...O]}}let b=["bold","italic","strike","link","code","bullet-list","ordered-list","code-block","blockquote"],v=[["bold","italic","strike"],["link"],["ordered-list","bullet-list"],["blockquote"],["code","code-block"]];return b.includes("border")||b.push("border"),i&&(b=i),c&&(v=c),{formats:b,buttons:v}}o(t,"getButtonsAndFormats")},"1wfM":function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"c",function(){return a}),e.d(s,"a",function(){return i});var n=e("AFNo");const t=Object(n.c)((c,r)=>{let{widgets:f}=c;var l,p;return(p=(l=f.widgets)===null||l===void 0?void 0:l[r])!==null&&p!==void 0?p:void 0});t.meta={name:"createSelector",key:"createSelectorgetWidget",description:(c,r)=>{let{widgets:f}=c;var l,p;return(p=(l=f.widgets)===null||l===void 0?void 0:l[r])!==null&&p!==void 0?p:void 0}};const a=Object(n.c)((c,r)=>{let{widgets:f}=c;var l,p;return(p=(l=f.widgetPlacements)===null||l===void 0?void 0:l[r])!==null&&p!==void 0?p:void 0});a.meta={name:"createSelector",key:"createSelectorgetWidgetPlacement",description:(c,r)=>{let{widgets:f}=c;var l,p;return(p=(l=f.widgetPlacements)===null||l===void 0?void 0:l[r])!==null&&p!==void 0?p:void 0}};const i=Object(n.c)(c=>{let{widgets:r}=c;var f;return(f=Object.values(r==null?void 0:r.widgets))!==null&&f!==void 0?f:void 0});i.meta={name:"createSelector",key:"createSelectorgetAllWidgets",description:c=>{let{widgets:r}=c;var f;return(f=Object.values(r==null?void 0:r.widgets))!==null&&f!==void 0?f:void 0}}},"1yAZ":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("nNoG"),t=e("O7R9"),a=e("q1tI"),i=e.n(a);const c=new n.b("workflow_builder"),r=o(f=>{let{date:l,toLowerCase:p=!1}=f;switch(Object(t.h)(l)){case 1:return p?i.a.createElement(i.a.Fragment,null,c.t("first")):i.a.createElement(i.a.Fragment,null,c.t("First"));case 2:return p?i.a.createElement(i.a.Fragment,null,c.t("second")):i.a.createElement(i.a.Fragment,null,c.t("Second"));case 3:return p?i.a.createElement(i.a.Fragment,null,c.t("third")):i.a.createElement(i.a.Fragment,null,c.t("Third"));case 4:return p?i.a.createElement(i.a.Fragment,null,c.t("fourth")):i.a.createElement(i.a.Fragment,null,c.t("Fourth"));case-1:return p?i.a.createElement(i.a.Fragment,null,c.t("last")):i.a.createElement(i.a.Fragment,null,c.t("Last"));default:return i.a.createElement(i.a.Fragment,null,c.t("Same"))}},"NthDay")},"1yr/":function(w,s,e){"use strict";var n=e("IW9Y"),t=e("Gs4e");const a=Object(n.b)(t.b,i=>{let{name:c,setFieldValue:r,handleBlur:f,setFieldTouched:l,validateOnBlur:p}=i;return{onChange:h=>r(c,h),...p&&{onBlur:()=>{f(c),l(c,!0)}},...!p&&{onBlur:()=>{l(c,!1)}}}});s.a=a},"238b":function(w,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("fujP"),t=e("SQ0V"),a=e("Lgge"),i=e("s4P+"),c=e("m5fH"),r=e("gCYc"),f=e("hD77"),l=e("q3X1"),p=e("Kn+X"),h=e("I27i"),u=e("jKtb"),b=e("Y4Ot");const v=Object(t.c)("Syncs draft updates",function(g,O){let{draftId:E,reason:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!E)return a.a.reject(void 0);const{error:C,info:I}=Object(i.a)({getState:O,label:"DRAFTS"}),j=Object(r.k)(O(),E);if(!j||Object(n.a)(j))return I(`No need to sync changes for a draft that no longer exists locally - ${E}`),a.a.resolve();if(!Object(h.e)(O()))return I(`Deferring update draft API while offline (id: ${E})`),g(Object(u.c)({draftClientId:E})),a.a.resolve();const M=Object(p.o)(j),T=`client id: ${E} || server id: ${M}`;return I(`Syncing draft updates - ${T}`),Object(l.a)(M),g(Object(b.a)({draft:j,reason:y})).then(D=>{if(I(`Draft updates synced \u2705 - ${T}`),!D.draft){C(`No draft received from the drafts.update response - ${T}`);return}const S=Object(r.k)(O(),E);if(Object(n.a)(S)){I(`Draft no longer exists locally, skipping post API updates - ${T}`);return}g(Object(c.h)({client_draft_id:E,last_updated_ts:parseFloat(D.draft.last_updated_ts)}))}).catch(D=>{C(`Draft updates failed to sync - ${T}`,D)}).finally(()=>{Object(l.b)(M)})});v.meta={name:"createThunk",key:"createThunksyncDraftUpdates",description:"Syncs draft updates"};const d=Object(t.c)("Updates a draft locally and via API",function(g,O){let{draft:E,reason:y,syncImmediately:C=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object(n.a)(E))return;const{error:I}=Object(i.a)({getState:O,label:"DRAFTS"}),j=Object(p.e)(E);if(!j){I("Draft does not have an ID - an ID is required to update a draft");return}const M=o(()=>g(v({draftId:j,reason:y})),"sync");C?M():Object(f.b)({draftId:j,sync:M})});d.meta={name:"createThunk",key:"createThunkupdateDraft",description:"Updates a draft locally and via API"};const m={syncDraftUpdates:v}},"25Vh":function(w,s,e){"use strict";e.d(s,"b",function(){return P}),e.d(s,"a",function(){return N});var n=e("RvCK"),t=e("F294"),a=e("gSGL"),i=e("qAkX"),c=e("m8R6"),r=e("mM05"),f=e.n(r),l=e("ifKl"),p=e("fujP"),h=e("lCmp");const u=o(function(G){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.a;if(Object(p.a)(G))return null;if(!Object(h.a)(G.contents,"attributes.slackmention.id"))return G;let x=!1;const H=G.contents.map(R=>{const W=R.attributes&&R.attributes.slackmention&&R.attributes.slackmention.id;if(!W||V({id:W}))return R;x=!0;const U=Object(c.a)(R,"attributes.slackmention");return Object(p.a)(U.attributes)&&delete U.attributes,U});return x?{...G,contents:H}:G},"detachInvalidMentionsFromContents");var b=u;const v=o((G,V)=>{if(!G||!G.ops)return null;const k={contents:G.ops},x=u(k,V);if(!x)return null;const H=new f.a(x.contents);return new f.a().compose(H)},"detachInvalidMentionsFromDelta");var d=e("Yu+/"),m=e("XpTY");function g(G){return G.filter(V=>Object(m.c)(V)&&Object(d.a)(V)).length}o(g,"getListItemCountInDelta");var O=e("tfz1"),E=e("TQ9f"),y=e("htTJ"),C=e("lnVG");function I(G){const V=/^\s+$/g;return!!(G&&Object(a.a)(G.insert)&&V.test(G.insert))}o(I,"isOpWhitespace");var j=e("0qhH");function M(G){if(!G||!G.ops)return null;const V=G.map(k=>{if(!Object(j.a)(k))return k;let x=Object(j.b)(k);return x=x.replace(/\r\n/g,`
`),x=x.replace(/\r/g,`
`),{...k,insert:x}});return new f.a(V)}o(M,"normalizeNewlineCharacters");var T=e("VJ6u"),D=e("6Fta"),S=e("zKt1"),A=e("CMoc");function P(G,V){return N(G,"slack-texty",V,new f.a,{useWysiwyg:!0,supportsAnchorText:!0})}o(P,"preparePastedDeltaForExternal");function N(G,V,k,x,H,R,W,U){var _;if(!G)return null;let B=G;const z=M(B);if(z&&(B=z),R){const F=v(B,R);B=F??B}if(!H.useWysiwyg||H.usePlainTextMode)return B;if(B=new f.a(B.map(F=>Object(A.a)(F)?{insert:`
`}:F)),x&&x.length()!==0&&(!k||!k.list||(k==null?void 0:k.list)==="bullet"||(k==null?void 0:k.list)==="ordered")&&g(B)===1&&(B=B.slice(0,B.length()-1)),x&&x.length()!==0&&k&&!k["code-block"]){const F=Object(t.a)(B.ops);if(F&&Object(O.a)(F)&&Object(j.a)(F)&&Object(a.a)(F.insert)){var L;if(B.ops.length>1||(((L=F.insert)===null||L===void 0?void 0:L.match(/\n/g))||[]).length>1)B=new f.a().insert(`
`).concat(B);else{const J={...F,insert:F.insert.replace(`
`,""),attributes:{...F.attributes,"code-block":!1}};B=new f.a([J])}}}if(k!=null&&k.code){const F=B.map(J=>({...J,attributes:{...J.attributes,code:!0}}));B=new f.a(F)}if(k!=null&&k.blockquote){var $;const F=B.map(Y=>{var ae,ee,q;const te=!(Y==null||(ae=Y.attributes)===null||ae===void 0)&&ae.blockquote||!(Y==null||(ee=Y.attributes)===null||ee===void 0)&&ee.list||!(Y==null||(q=Y.attributes)===null||q===void 0)&&q["code-block"]?{border:1}:{blockquote:!0};return{...Y,attributes:{...Y.attributes,...te}}}),J=Object(i.a)(F);Object(a.a)(J==null?void 0:J.insert)&&(J==null||($=J.insert)===null||$===void 0?void 0:$.match)&&J.insert.match(/^\n$/g)||F.push({insert:`
`,attributes:{blockquote:!0}}),B=new f.a(F),W&&W(!1)}if(V==="slack/texty"){const F=!!(k!=null&&k.code||k!=null&&k["code-block"]),J=B.map(X=>{if(X&&F&&Object(E.a)(X)&&!Object(a.a)(X==null?void 0:X.insert)){var Y,ae;return{insert:((Y=X.insert)===null||Y===void 0||(ae=Y.slackemoji)===null||ae===void 0?void 0:ae.text)||"",attributes:{...k}}}let ee=k;return ee=Object(c.a)(k,["indent","border"]),{insert:X.insert||"",attributes:{...X.attributes,...ee}}});B=new f.a(J)}V!=="text/uri-list"&&(U!=null&&U.getModule("slackdocimage")||H.supportsAnchorText?B=Object(S.a)(B,{doImageReplacement:U==null?void 0:U.getModule("slackdocimage")}):B=Object(S.d)(B));const Q=B.length(),K=Object(T.a)(B,{stripInlineFormattingFromCodeBlock:!0,stripAllInlineFormatting:k==null?void 0:k["code-block"]});if(B=B.compose(K),K.length()>Q){const F=Object(i.a)(B.ops);F&&Object(C.a)(F)&&F.retain===1&&(B=new f.a(B.ops.slice(0,B.ops.length-1)))}B=Object(D.a)(B);const Z=B.ops[0];if(H.useWysiwyg&&H.supportsAnchorText&&V!=="text/uri-list"&&B.ops.length===1&&Z&&Object(a.a)(Z.insert)&&Object(y.a)(Z)&&Z.insert===((_=Z.attributes)===null||_===void 0?void 0:_.link)){const F=Object(n.b)(Z.insert);if(F!==Z.insert)return new f.a().insert(F,Z.attributes)}return g(B)>1&&B.forEach((F,J)=>{var X,Y,ae;const ee=B==null||(X=B.ops)===null||X===void 0?void 0:X[J-1];if(!(ee&&Object(d.a)(ee)))return;const te=B==null||(Y=B.ops)===null||Y===void 0?void 0:Y[J+1];if(!(te&&Object(d.a)(te)))return;const se=F;if(!I(F)||!Object(a.a)(se.insert))return;const re=se==null||(ae=se.insert)===null||ae===void 0?void 0:ae.match(/\n/gm);if(re&&re.length<2)return;const oe=(re==null?void 0:re.length)&&Math.ceil(re.length/2);oe&&(se.insert=`
`.repeat(oe))}),B}o(N,"prepareDeltaForPaste")},"26ZP":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("oNuo"),t=e("6kKm");function a(i){let{type:c,tsfMode:r="NORMAL"}=i;if(!c)return null;let f;return c==="group"?f="group":f=Object(t.a)(Object(n.a)(`BK${c}`)),r==="EDIT"?`<@BK${c}|@${f}>`:`@${f}`}o(a,"formatBroadcastCommand")},"28cP":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("Cfcg"),c=e("BHdc"),r=e("fujP"),f=e("CD4m"),l=e("CTEJ"),p=e("sGXp"),h=e("naKU"),u=e("Zxte"),b=e("NNLN"),v=e("dmdh"),d=e("ekM3"),m=e("P9LH"),g=e("gnJq"),O=e("/MKj"),E=e("lqu/"),y=e("aBhT"),C=e("XayX"),I=e("oh9B"),j=e("Tevt"),M=e("i9y5"),T=e("nNoG"),D=e("7ibc"),S=e("NV6F");const A=new T.b("files"),P=o(F=>{let{detailType:J,file:X,fileAction:Y,isHovering:ae,timestampProps:ee,isDetailTextBold:q,detailTextOverride:te,documentUnfurlTs:de=void 0,refreshProps:se=void 0,allowLiveTitle:re,fileBadge:oe,fromCanvasOrganization:ce=!1,showCanvasIa4Metadata:ue,useNewChannelCanvasNaming:Pe=!1,showCanvasModalMetadata:Ye=!1}=F;const $e=!J||!X||te,Ke=Object(O.useStore)(),qe=$e?null:Object(I.a)(Ke.getState(),X,J,ee,de),ct=Object(a.c)(D.D);let Be=null;te?Be=te:ae?Be=Object(C.a)(Y,X,Ke.getState()):qe&&(Be=qe);const pe=Object(a.c)(D.u);Be=se!=null&&se.shouldShowRefresh&&(se!=null&&se.isLoading)?t.a.createElement(M.a,{size:"small",noMargin:!0,inline:!0}):t.a.createElement(f.c,{className:Object(c.default)("c-file_entity-user-timestamp",{"c-file-entity-bold-description":!q,"c-file_entity-refresh__highlighted":(se==null?void 0:se.shouldShowRefresh)&&(se==null?void 0:se.shouldHighlightRefresh)})},ct&&(se!=null&&se.shouldShowRefresh)?t.a.createElement(j.a,{className:Object(c.default)("c-file_entity-refresh-link",{"c-file_entity-refresh__highlighted":se==null?void 0:se.shouldHighlightRefresh}),onClick:se.onRefreshClick},Be," | ",ct?A.t("Refresh"):""):t.a.createElement(t.a.Fragment,null,Be));const me=!!oe||ue,Se=t.a.createElement(E.a,{file:X,allowLiveTitle:re,fromCanvasOrganization:ce,useNewChannelCanvasNaming:Pe}),je=ue&&pe&&!Ye?Object(S.x)({quipFileId:X.id,target:Se}):Se;return t.a.createElement(t.a.Fragment,null,t.a.createElement(f.c,{className:Object(c.default)("c-file_entity__text c-file_entity__text--first-line",{"c-file_entity__text--first-line__flex":me}),"data-qa":"file-entity-metadata-title",inline:me},t.a.createElement(y.a,{lines:1,withTooltip:!0},je),oe),t.a.createElement("div",{className:"c-file_entity-user-timestamp","data-qa":"file-entity-metadata-description"},t.a.createElement(y.a,{lines:1,withTooltip:!0},Be)))},"FileEntityMetadata");P.displayName="FileEntityMetadata";var N=P,G=e("a/x4"),V=e("8z04"),k=e("q31X"),x=e("O86Y"),H=e("hUMe"),R=e("ZobM"),W=e("z28c"),U=e("NFkq"),_=e("3bXy"),B=e("ZBdd"),z=e("2R1f");function L(){return L=Object.assign||function(F){for(var J=1;J<arguments.length;J++){var X=arguments[J];for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(F[Y]=X[Y])}return F},L.apply(this,arguments)}o(L,"_extends");const $=new T.b("files"),Q={fontWeight:"bold"};function K(F){let{className:J,"data-qa":X,"data-sk":Y,fileFromPropsOrState:ae,fileAction:ee,hideActionText:q=!1,id:te,isDisabled:de,invert:se,detailType:re=V.a.FILETYPE,timestampProps:oe,forceIconThumbnail:ce,isDetailTextBold:ue,detailTextOverride:Pe,hasNotification:Ye,allowLiveTitle:$e,documentUnfurlTs:Ke=void 0,refreshProps:qe=void 0,isViewOnly:ct,fromCanvasOrganization:Be=!1,preventHoverOver:pe=!1,showCanvasIa4Metadata:fe,useNewChannelCanvasNaming:me=!1,noBadge:Se,showCanvasModalMetadata:je=!1}=F;var Ue;const ve=Object(a.c)(W.a),ge=Object(a.c)(D.u),le=Object(a.c)(x.g),he=Object(n.useCallback)(on=>{let{className:_t}=on,be;return ct?be=t.a.createElement("span",{className:"c-file_entity__view_only_icon"},t.a.createElement(R.a,{name:"eye-open",size:"20","data-qa":"file_entity__view_only_icon"})):be=t.a.createElement(G.a,{className:_t,file:ae,size:p.a.medium,forceIconThumbnail:ce,hasNotification:Ye}),fe&&ge&&!je?Object(S.x)({quipFileId:ae.id,target:be}):be},[ge,ae,ce,Ye,ct,fe,je]),Te=(Ue=Object(n.useContext)(b.a))===null||Ue===void 0?void 0:Ue.viewContext,Re=Object(n.useCallback)(on=>{const _t=le?t.a.createElement(H.a,{id:le,bold:!1}):"";if(Object(g.a)(on))return t.a.createElement(t.a.Fragment,null,t.a.createElement(l.a,null),t.a.createElement("br",null),t.a.createElement(l.a,null));if(Object(m.Rb)(on))return t.a.createElement("span",null,$.t("This file was deleted."));if(Object(m.Eb)(on))return t.a.createElement("span",null,$.t("You don\u2019t have access to this file."));if(Object(m.Db)(on))return t.a.createElement("span",null,$.t("This file was not found."));if(Object(m.jb)(on)){let be=$.t("You don\u2019t have permission to view this file."),ot=$.rt("Sharing canvases with external organizations has been turned off by your admins.");return on.file_access===k.a.SlackConnectCanvasSharingBlocked||on.mode==="canvas_slack_connect_blocked"?(be=$.t("Can\u2019t view this canvas"),ot=$.rt("Another team owns this canvas. Canvases from external organizations can\u2019t be viewed by members of {currentWorkspaceOrgName}.",{currentWorkspaceOrgName:_t})):on.file_access===k.a.SlackConnectTeamBlocked?(be=$.t("You don\u2019t have permission to view this file."),ot=$.rt("This feature is still being rolled out so your organization may not be able to view this canvas yet.",{fallbackHash:"263630df4ed2247421f0023a0d80dcff3d38049c"})):(be=$.t("Can\u2019t view this canvas"),ot=$.rt("Another team owns this canvas. Canvases from external organizations can\u2019t be viewed by members of {currentWorkspaceOrgName}.",{currentWorkspaceOrgName:_t})),t.a.createElement("div",null,t.a.createElement("h4",{style:Q},be),t.a.createElement("h5",null,ot))}if(Object(m.rb)(on)){let be=$.t("This file isn\u2019t visible to you."),ot=$.rt("This file is only visible to members of the conversation where it was originally shared");return ve&&Object(m.u)(on)&&(be=$.t("Need permission to view"),ot=$.rt("Another team owns this canvas. It\u2019s only been shared with specific people in your organization.")),t.a.createElement("div",null,t.a.createElement("h4",{style:Q},be),t.a.createElement("h5",null,ot))}if(Object(m.Bb)(on)){let be="file_header";return Te&&(be=`${be}_${Te}`),t.a.createElement(u.a,{context:be})}return null},[Te,ve,le]),[Ve,Ee]=Object(n.useState)(!1),Ae=Object(n.useContext)(h.a),Ge=Object(n.useCallback)(()=>{Ee(!0)},[]),Ze=Object(n.useCallback)(()=>{Ee(!1)},[]);if(Object(r.a)(ae))return null;const ze=Re(ae);let lt=de?p.d.dim:void 0;se&&(lt=p.d.highlightDark);const tt=Object(c.default)("c-file_entity__medium_base_entity",{"c-file_entity__medium_base_entity--access-denied":Object(m.rb)(ae),"c-file_entity__medium_base_entity--storage-limit":Object(m.Bb)(ae)}),Ot=Ae?Ae.mouseOver:Ve,Ct=ae?ae.id:te,St=Se?null:t.a.createElement(U.a,{id:Ct,size:_.b.Small,showIsChannelCanvas:!0}),zt=t.a.createElement(f.d,{size:"medium",className:tt,"data-id":te||(ae==null?void 0:ae.id),"data-sk":Object(r.a)(Y)?"medium_file_entity":Y,style:lt,avatar:he,text:ze?t.a.createElement("span",{"data-qa":"medium_file_entity_exception"},ze):t.a.createElement(N,{detailType:re,isHovering:!pe&&Ot,file:ae,fileAction:q?null:ee,timestampProps:oe,isDetailTextBold:ue,detailTextOverride:Pe,documentUnfurlTs:Ke,refreshProps:qe,allowLiveTitle:$e,fileBadge:St,fromCanvasOrganization:Be,useNewChannelCanvasNaming:me,showCanvasIa4Metadata:fe,showCanvasModalMetadata:je})}),kt={className:Object(c.default)("c-file_entity",J,{"c-file_entity--exception":ze}),onMouseEnter:Ge,onMouseLeave:Ze,"data-qa":X};return t.a.createElement("div",L({},kt),zt)}o(K,"MediumFileEntity"),K.displayName="MediumFileEntity";function Z(F,J){let{id:X,file:Y}=J;const ae=Y||Object(v.e)(F,X);return{fileAction:Object(m.t)(ae)?null:Object(d.a)(F,ae),fileFromPropsOrState:ae}}o(Z,"mapStateToProps");var ne=s.a=Object(i.a)(Z)(K)},"2CL1":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("ZKjC");const t=Object(n.b)(i=>{var c;return i==null||(c=i.composerPage)===null||c===void 0?void 0:c.composerOrigin});t.meta={name:"createSelector",key:"createSelectorgetComposerOrigin",description:i=>{var c;return i==null||(c=i.composerPage)===null||c===void 0?void 0:c.composerOrigin}};const a=Object(n.b)(i=>(i==null?void 0:i.composerPage.composerEmailClassificationSupported)||!1);a.meta={name:"createSelector",key:"createSelectorgetComposerEmailClassificationSupported",description:i=>(i==null?void 0:i.composerPage.composerEmailClassificationSupported)||!1}},"2IYT":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("TSHB"),i=e("ifKl"),c=e("vfQU"),r=e("gPPH"),f=e("c+dP"),l=e("gz6s"),p=e("YpEo");function h(){return h=Object.assign||function(b){for(var v=1;v<arguments.length;v++){var d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(b[m]=d[m])}return b},h.apply(this,arguments)}o(h,"_extends");let u=o(class extends n.Component{onDesktopContextMenu(v){const{getTemplate:d,overrideDefaultMenu:m}=this.props,g=o(C=>({...C,id:Object(r.a)(),submenu:C.submenu&&C.submenu.map(g)}),"addIdsToItem"),O=d?d().map(g):[];if(!O.length)return;const{x:E,y}=Object(a.a)(this.getCoordinatesForContextMenu(v),C=>Object(c.bb)()*C);Object(c.vc)(O,{x:E,y,overrideDefaultMenu:m}),this.props.onClick&&this.props.onClick()}getCoordinatesForContextMenu(v){if(!this.props.hasKeyboardFocus||!v)return{};const{left:d,top:m,width:g,height:O}=v.currentTarget.getBoundingClientRect(),E=d+g/2,y=m+O/2;return{x:E,y}}renderMenuFromTemplate(v){const{getTemplate:d,width:m,showSlackKitContextMenuOnDesktop:g,menuAriaLabel:O}=this.props;function E(C){return C.replace(/&([\w&])/g,(I,j)=>j)}o(E,"removeKeyboardAccelerators");const y=d?d().map(C=>!C.label||g?C:{...C,label:E(C.label)}):[];return y.length?t.a.createElement(f.a,h({"aria-label":O,width:m},v,{template:y,isContextMenu:!0,stripTerminalSeparators:!0})):null}render(){if(Object(c.fb)()&&!this.props.showSlackKitContextMenuOnDesktop)return Object(p.a)(this.props.children,{onContextMenu:this.onDesktopContextMenu});const{forceOpen:v,onClick:d,onClose:m,isDisabled:g,renderMenu:O,preventScroll:E}=this.props;return this.props.desktopAppOnly?Object(p.a)(this.props.children):t.a.createElement(f.e,{isContextMenu:!0,position:"right-bottom",tryOppositePosition:!0,forceOpen:v,shouldFade:!1,renderMenu:O||this.renderMenuFromTemplate,onClick:d,onClose:m,isDisabled:g,preventScroll:E},this.props.children)}constructor(v){super(v),this.onDesktopContextMenu=this.onDesktopContextMenu.bind(this),this.renderMenuFromTemplate=this.renderMenuFromTemplate.bind(this)}},"ContextMenuTrigger");u.displayName="ContextMenuTrigger",u.defaultProps={overrideDefaultMenu:!1,desktopAppOnly:!0,hasKeyboardFocus:!1,showSlackKitContextMenuOnDesktop:!1,onClick:i.a,onClose:i.a,isDisabled:!1,forceOpen:!1,stripTerminalSeparators:!1},s.a=Object(l.a)(u)},"2R1f":function(w,s,e){"use strict"},"2Wdf":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("3l96"),i=e("SQ0V"),c=e("/MKj"),r=e("+kJ4"),f=e("Tevt"),l=e("nNoG"),p=e("d/xU"),h=e("YUBf");const u=new l.b("request_access_error"),b=o(()=>{const g=Object(c.useDispatch)(),O=Object(n.useCallback)(()=>{g(Object(r.a)())},[g]),E=u.rt("Something\u2019s gone wrong. If the problem persists, <a>let us know</a>.",null,y=>{let{tag:C,text:I}=y;return t.a.createElement(f.a,{key:C,target:"_blank",href:`https://${Object(p.l)()}/help/requests/new`},I)});return t.a.createElement(h.a,{closeModal:O,centered:!0,shouldCloseOnOverlayClick:!0},t.a.createElement(h.i,null,t.a.createElement(h.l,null,t.a.createElement("h2",null,u.t("Error")))),t.a.createElement(h.d,null,t.a.createElement(h.e,null,E)),t.a.createElement(h.g,null,t.a.createElement(h.h,null,t.a.createElement(h.c,{type:"danger",onClick:O},u.t("Close")))))},"RequestAccessErrorModal");b.displayName="RequestAccessErrorModal";var v=b;const d=Object(i.c)("Opens the Request Access Done confirmation modal in client",(g,O)=>{g(Object(a.a)({element:t.a.createElement(v,null)}))});d.meta={name:"createThunk",key:"createThunkopenRequestAccessErrorModal",description:"Opens the Request Access Done confirmation modal in client"};var m=s.a=d},"2Wms":function(w,s,e){"use strict";e.d(s,"a",function(){return p});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("zxER"),c=e("u0LO"),r=e("MRve"),f=e("Cyb+"),l=e("vrU2");const p=o(function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c.c.ClipsNux;const u=Object(a.useDispatch)(),b=Object(i.c)(v=>Object(l.b)(v,{component:h}));Object(n.useEffect)(()=>{u(Object(r.a)({interactions:[{component:h,type:c.a.Click},{component:h,type:c.a.Impression},{component:h,type:c.a.Dismiss}],useCache:!0,cacheFilter:f.f,reason:"useClipsNUXUserInteractions"}))},[u,h]),Object(n.useEffect)(()=>{b&&u(Object(r.b)({component:h,type:c.a.Impression,reason:"useClipsNUXUserInteractions"}))},[u,b,h])},"useClipsNUXUserInteractions")},"2XGx":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("pu3F"),t=e("fujP");function a(i){return!i||Object(t.a)(i)?[]:i.map(r=>({hide_color:!0,blocks:[{type:n.e.contact_card,contact_user_id:r.contact_user_id}]}))}o(a,"getFormattedContactCardAttachments")},"2cBL":function(w,s,e){"use strict";e.d(s,"a",function(){return p});var n=e("ZKjC"),t=e("beVI"),a=e("G0eX"),i=e("g05w"),c=e("Yauy"),r=e("e55/"),f=e("RVJP"),l=e("zCzZ");const p=Object(n.b)((h,u)=>{let{channel:b,xwsAlpha:v=!1}=u;const d=Object(f.d)(h,"shouty_workspace_name_pref")==="on";if(v&&Object(i.b)(b)){const g=Object(r.a)(h,b),O=Object(l.n)(h,"always_show_workspace_name"),E=g==null?void 0:g.map(y=>Object(t.s)(h,y)).filter(y=>d&&O!=null&&O.length?!!(O!=null&&O.includes(Object(a.n)(y))):!0).sort((y,C)=>{const I=Object(a.h)(y),j=Object(a.h)(C);return I.localeCompare(j)});if(E!=null&&E[0])return E[0]}const m=!Object(i.b)(b)&&Object(c.Eb)(h,b);return(m?Object(t.s)(h,m):void 0)||Object(t.g)(h)});p.meta={name:"createSelector",key:"createSelectorgetTeamForChannelInUnifiedGrid",description:(h,u)=>{let{channel:b,xwsAlpha:v=!1}=u;const d=Object(f.d)(h,"shouty_workspace_name_pref")==="on";if(v&&Object(i.b)(b)){const g=Object(r.a)(h,b),O=Object(l.n)(h,"always_show_workspace_name"),E=g==null?void 0:g.map(y=>Object(t.s)(h,y)).filter(y=>d&&O!=null&&O.length?!!(O!=null&&O.includes(Object(a.n)(y))):!0).sort((y,C)=>{const I=Object(a.h)(y),j=Object(a.h)(C);return I.localeCompare(j)});if(E!=null&&E[0])return E[0]}const m=!Object(i.b)(b)&&Object(c.Eb)(h,b);return(m?Object(t.s)(h,m):void 0)||Object(t.g)(h)}}},"2dIn":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n);const a=o(i=>{let{color:c,className:r}=i;return t.a.createElement("svg",{width:"128",height:"24",viewBox:"0 0 128 24",xmlns:"http://www.w3.org/2000/svg",fill:c,className:r},t.a.createElement("path",{d:"M35.332 12.835C45.414 3.033 56.712-.931 69.013.18c10.028.906 20.409 5.12 31.341 12.083l.699.448c10.403 6.722 17.788 6.722 22.762 2.83a11.037 11.037 0 001.788-1.75c.21-.26.361-.472.454-.616l.075-.12 1.736.992c-.457.799-1.377 1.94-2.82 3.07-5.602 4.382-13.771 4.44-24.644-2.447l-.437-.28C75.97-1.114 55.09-3.134 37.265 13.752l-.539.518c-6.62 6.435-13.034 9.394-19.15 9.394-4.792 0-9.083-1.796-12.805-4.775a26.253 26.253 0 01-3.395-3.256l-.33-.386a17.729 17.729 0 01-.721-.917l-.152-.215 1.654-1.125.182.251.073.097c.224.295.492.625.803.982a24.266 24.266 0 003.135 3.007c3.394 2.716 7.266 4.337 11.555 4.337 5.441 0 11.238-2.62 17.357-8.444l.4-.384z"}),t.a.createElement("path",{d:"M53.692 9.412c5.018-6.938 9.75-8.065 15.17-4.68l.736.476c.98.642 1.508 1.037 3.146 2.502l3.63 3.295c4.11 3.748 6.77 5.685 9.835 6.792 3.884 1.403 7.82 1.002 12.223-1.606 8.52-5.045 15.346-8.195 20.668-9.805 3.518-1.064 5.986-1.35 7.568-1.163l.178.023c.165.024.294.051.39.077l.066.019-.604 1.907-.141-.024c-1.258-.184-3.489.05-6.878 1.076-4.89 1.479-11.156 4.33-18.95 8.861l-1.278.75c-4.913 2.91-9.47 3.374-13.921 1.766-3.384-1.222-6.21-3.28-10.504-7.196l-2.362-2.15c-2.64-2.396-3.107-2.762-4.272-3.523l-.364-.237c-4.532-2.937-8.109-2.218-12.496 3.711l-.22.3c-5.424 7.5-13.974 9.967-24.67 8.427-5.901-.85-12.182-2.88-18.546-5.729a103.916 103.916 0 01-8.377-4.216l-.865-.491c-.555-.32-1.065-.62-1.528-.901l-.867-.537 1.082-1.682.542.338.279.17c.676.41 1.458.867 2.336 1.36a101.93 101.93 0 008.215 4.134c6.208 2.78 12.32 4.754 18.013 5.574 9.869 1.421 17.588-.738 22.525-7.292l.24-.326z",opacity:".3"}),t.a.createElement("path",{d:"M28.549 5.575c4.913-2.91 9.47-3.373 13.921-1.766 3.384 1.223 6.21 3.28 10.504 7.196l3.68 3.34c1.624 1.447 2.072 1.76 3.13 2.448l.188.122c4.532 2.937 8.109 2.218 12.496-3.71l.22-.302c5.424-7.498 13.974-9.966 24.67-8.425 5.901.85 12.182 2.879 18.546 5.728a103.916 103.916 0 018.377 4.216 84.92 84.92 0 012.393 1.393l.867.536-1.082 1.682-.675-.42-.146-.088a82.93 82.93 0 00-2.336-1.359 101.93 101.93 0 00-8.215-4.135c-6.208-2.78-12.32-4.754-18.013-5.574-9.869-1.42-17.588.738-22.525 7.293l-.24.326c-5.02 6.937-9.752 8.064-15.17 4.68l-1.076-.702c-1.002-.675-1.673-1.239-4.216-3.549l-2.22-2.022c-4.11-3.748-6.771-5.685-9.836-6.793-3.884-1.402-7.82-1.002-12.223 1.606l-1.298.762C20.352 12.66 13.95 15.574 8.9 17.1c-3.653 1.105-6.174 1.37-7.746 1.14l-.221-.038a2.644 2.644 0 01-.17-.039l-.065-.019.604-1.906.141.023c1.258.184 3.489-.05 6.878-1.075 4.89-1.48 11.156-4.33 18.95-8.862l1.278-.75z",opacity:".3"}))},"AudioOnlyWaves");s.a=a},"2pz5":function(w,s,e){"use strict";e.d(s,"h",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"f",function(){return c}),e.d(s,"d",function(){return r}),e.d(s,"e",function(){return f}),e.d(s,"g",function(){return l}),e.d(s,"b",function(){return p}),e.d(s,"c",function(){return h});var n=e("n3tL"),t=e("DwFS");const a=Object(t.a)("Started uploading a file");a.meta={name:"createAction",key:"createActionuploadStarting",description:"Started uploading a file"},a.propTypes={fileName:n.default.string,fileCount:n.default.number,isRetry:n.default.bool.isRequired,cancelable:n.default.bool.isRequired};const i=Object(t.a)("Update to the file upload % complete");i.meta={name:"createAction",key:"createActionprogressUpdate",description:"Update to the file upload % complete"},i.propTypes={percentComplete:n.default.number.isRequired};const c=Object(t.a)("File is being processed by the backend");c.meta={name:"createAction",key:"createActionuploadProcessing",description:"File is being processed by the backend"},c.propTypes=null;const r=Object(t.a)("Canceled the file upload");r.meta={name:"createAction",key:"createActionuploadCanceled",description:"Canceled the file upload"},r.propTypes=null;const f=Object(t.a)("Finished the file upload");f.meta={name:"createAction",key:"createActionuploadComplete",description:"Finished the file upload"},f.propTypes=null;const l=Object(t.a)("Done all uploads");l.meta={name:"createAction",key:"createActionuploadQueueEmptied",description:"Done all uploads"},l.propTypes=null;const p=Object(t.a)("Un-hide the banner if it was hidden");p.meta={name:"createAction",key:"createActionunHideBanner",description:"Un-hide the banner if it was hidden"},p.propTypes=null;const h=Object(t.a)("Update to the origin window Id");h.meta={name:"createAction",key:"createActionupdateOriginWindowId",description:"Update to the origin window Id"},h.propTypes={originWindowId:n.default.string.isRequired}},"2vX4":function(w,s,e){"use strict";var n=e("bPB8"),t=e("BeL+"),a=e("zmn3"),i=e("fujP"),c=e("q1tI"),r=e.n(c),f=e("BHdc"),l=e("yxNq"),p=e("Cfcg"),h=e("tZQI"),u=e("CMT/"),b=e("1HOW"),v=e("iKzC"),d=e("mzsf"),m=e("bp2J"),g=e("P4EH"),O=e("E3dU"),E=e("xwCZ"),y=e("Zbwg"),C=e("eUIW"),I=e("gVOt"),j=e("E97Y");const M=o((R,W)=>{if(Object(C.a)(W))return{type:"member",entity:Object(E.g)(R,W)};if(!Object(y.a)(W))return{};const U=Object(O.d)(R,W);if(!Object(j.g)(U))return{type:"channel",entity:U};const _=Object(I.a)(U);return{type:"member",entity:Object(E.g)(R,_)}},"getEntity");var T=e("Yauy"),D=e("+tZp");const S=o((R,W,U)=>{if(W==="channel"&&!Object(j.q)(U))return Object(T.t)(R,U);if(W==="member")return Object(D.a)(R,U)},"getLabelForEntity");var A=e("i5Ig"),P=e("bLbp"),N=e("nNoG");const G=new N.b("share-dialog");let V=o(class extends c.PureComponent{componentDidMount(){this.resizeTimeout=window.setTimeout(()=>window.dispatchEvent(new Event("resize")),200)}componentWillUnmount(){clearTimeout(this.resizeTimeout)}onOptionSelected(W){const{shouldForceCreateDmDuringMultiSelect:U,useMultiSelect:_,experimentFeMessageForwardingM2GroupOn:B,isPrivateMessageSharing:z}=this.props,L=Object(n.a)(Object(t.a)(Object(a.a)(W,"value")));if(_){let $;this.props.categorizeDestinationIdsThunk({ids:L}).then(Q=>{const K=Q.memberIds.length;K>1||K&&U||K&&B&&z?(this.props.onChangeTotalDestinationMembers&&this.props.onChangeTotalDestinationMembers(Q.memberIds.length),this.props.startMpimByMemberIds({isQuiet:!0,memberIds:Q.memberIds,shouldNavigateToChannel:!1}).then(Z=>{$=Z.id,this.props.onChange&&this.props.onChange($,Q),this.props.onChangeError&&this.props.onChangeError(null)}).catch(Z=>{this.props.onChangeError&&this.props.onChangeError(Z.name)})):($=Object(i.a)(W)?"":W[0].value,this.props.onChange&&this.props.onChange($,Q),this.props.onChangeError&&this.props.onChangeError(null))})}else this.props.onChange&&this.props.onChange(W.value);this.props.onChangeError&&this.props.onChangeError(null)}renderOption(W){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{value:_}=W,{isActive:B}=U;return r.a.createElement(d.b,{id:_,isActive:B})}onKeyDown(W){var U;const{destination:_}=this.props,B=(_==null||(U=_.channelIds)===null||U===void 0?void 0:U.length)>0;W.key!=="Tab"&&B&&(W.preventDefault(),W.stopPropagation())}getSearcherSearchSelectOptions(){const{onlySearchOnExternalWorkspaceId:W}=this.props;return{entities:{channels:{includeArchived:!1,includeFromAnotherTeam:!0,includePrivate:!0,includeMpims:!0,canPost:!0,matchEmailField:!0,onlyFromExternalWorkspaceId:W},members:{includeSelf:!0,matchEmailField:!0}},returnMetadata:!0,allowEmptyQuery:!0,limit:100}}getCustomTokenProps(){return{enableProfileHoverCard:!0,customizeProfileHoverCardProps:{hideButtons:!0,disableMemberProfileLink:!0}}}renderMultiSelectOption(W,U){return r.a.createElement(m.a,{entity:W.entity,id:W.value,isActive:U.isActive,isDisabled:W.isDisabled,matchData:W.matchData})}getInitialMultiSelectOption(){const{initialOption:W}=this.props;return W?[W]:A.a}getMultiSelectSearcherOptions(){const{destination:W,shouldSearchForChannels:U,shouldSearchForMembers:_,shouldAllowShareExternal:B,onlySearchOnExternalWorkspaceId:z,onlyShowChannelsCanPost:L,isPrivateMessageSharing:$,experimentFeMessageForwardingM2GroupOn:Q}=this.props,K=W&&W.memberIds,Z=W&&W.channelIds,ne=Object(i.a)(K),F=Object(i.a)(Z);return{allowEmptyQuery:!0,entities:{channels:U&&{includePublic:$?Q:!0,includeExternallyShared:B,includeFromAnotherTeam:!0,includePrivate:!0,includeMpims:F,includeArchived:!1,onlyVisibleMpims:!0,onlyFromExternalWorkspaceId:z,canPost:L},members:_&&{includeSelf:!0,includeSlackbot:ne,includeBots:!$,includeWorkflows:!1,includeExternal:B,onlyLocalTeam:!1,includeGuests:!0,matchEmailField:!0},userGroups:!1}}}render(){const{isDisabled:W,ariaLabel:U,dialogType:_,focusOnMount:B,expandOnFocus:z,useMultiSelect:L,selectId:$,initialOption:Q,destination:K,shouldShowFilePermissionsPrototype:Z,shouldSearchForChannels:ne,shouldSearchForMembers:F,initialChannelId:J,inputRef:X,onInputFocused:Y}=this.props,ae=K&&K.memberIds,ee=K&&K.channelIds,q=z===void 0?Object(i.a)(ae)&&Object(i.a)(ee):z,te=!F||!ne&&F||J,de=Object(f.default)("p-share_dialog_channel_picker",{flex_one:Z,margin_right_75:Z&&te,no_min_width:Z}),se=Z?G.t("Add by name or channel"):G.t("Search for channel or person");return L?r.a.createElement(h.e,{ariaLabel:U||se,className:de,classPrefix:"p-share_dialog_channel_picker",enableLoadingState:!1,expandOnFocus:q,onSelectedItemsChange:this.onOptionSelected,optionsRowHeight:32,maxOptionsListHeight:200,placeholderText:se,isDisabled:W,onKeyDown:this.onKeyDown,renderOption:this.renderMultiSelectOption,searcherOptions:this.getMultiSelectSearcherOptions(),selectId:`${_}_channel_picker`,selectedOptions:this.getInitialMultiSelectOption(),selectDataQa:P.b.CHANNEL_PICKER,width:"100%",focusOnMount:B,inputRef:X,onInputFocused:Y,customizeTokenProps:this.getCustomTokenProps()}):r.a.createElement(b.e,{isRequired:!0,width:"100%",optionsRowHeight:32,maxOptionsListHeight:200,isDisabled:W,ariaLabel:U||se,placeholderText:se,className:"p-share_dialog_channel_picker",classPrefix:"p-share_dialog_channel_picker",selectId:$||`${_}_channel_picker`,selectDataQa:"share_dialog_channel_picker",selectedOption:Q,searcherOptions:this.getSearcherSearchSelectOptions(),onOptionSelected:this.onOptionSelected,renderOption:this.renderOption,renderSelectedOption:this.renderOption,focusOnMount:B,enableLoadingState:!1,inputRef:X})}constructor(W){super(W),this.onOptionSelected=this.onOptionSelected.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.getSearcherSearchSelectOptions=this.getSearcherSearchSelectOptions.bind(this),this.renderMultiSelectOption=this.renderMultiSelectOption.bind(this),this.getInitialMultiSelectOption=this.getInitialMultiSelectOption.bind(this),this.getMultiSelectSearcherOptions=this.getMultiSelectSearcherOptions.bind(this),this.getCustomTokenProps=this.getCustomTokenProps.bind(this)}},"ShareDialogChannelPicker");V.displayName="ShareDialogChannelPicker",V.defaultProps={shouldSearchForChannels:!0,shouldSearchForMembers:!0,shouldAllowShareExternal:!0};const k=o((R,W)=>{let{initialChannelId:U}=W;const{type:_,entity:B}=M(R,U||""),z=B&&S(R,_,B);return{initialOption:B&&z?{value:B.id,label:z,entity:B}:void 0,experimentFeMessageForwardingM2GroupOn:Object(g.a)(R)}},"mapStateToProps"),x=o(R=>({startMpimByMemberIds:function(){for(var W=arguments.length,U=new Array(W),_=0;_<W;_++)U[_]=arguments[_];return R(Object(u.a)(...U))},categorizeDestinationIdsThunk:function(){for(var W=arguments.length,U=new Array(W),_=0;_<W;_++)U[_]=arguments[_];return R(Object(v.a)(...U))}}),"mapDispatchToProps");var H=s.a=Object(p.a)(k,x,null,{areStatePropsEqual:(R,W)=>Object(l.a)(R,W,2)})(V)},"2ySF":function(w,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("wd/R"),t=e.n(n),a=e("q1tI"),i=e.n(a),c=e("fp5s"),r=e("WIr4"),f=e("BHdc"),l=e("NBsH"),p=e("ykb+"),h=e("s4P+"),u=e("nNoG"),b=e("BQeT"),v=e("3V+Q");const d=new u.b("date_time_picker"),m="YYYY-MM-DD",g="HH:mm",O="YYYY-MM-DDTHH:mm";var E;(function(I){I.DateInput="DateInput",I.TimeInput="TimeInput"})(E||(E={}));let y=o(class extends a.Component{getId(){return this.props.id?this.props.id:(this.defaultId=this.defaultId||Object(c.a)("date_time_picker"),this.defaultId)}getMaxMoment(){if(this.props.max)return t()(this.props.max,this.props.valueFormat)}getMinMoment(){if(this.props.min)return t()(this.props.min,this.props.valueFormat)}getValueMoment(){if(this.props.value)return t()(this.props.value,this.props.valueFormat)}handleChange(){let{date:j,time:M}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=j?t()(j,m):this.getValueMoment()||t()();const D=M?t()(M,g):this.getValueMoment()||t()();T.hour(D.hour()),T.minute(D.minute());const S=this.getMinMoment();S&&T.isBefore(S)&&(T=S);const A=this.getMaxMoment();A&&T.isAfter(A)&&(T=A),T.isValid()&&this.props.onChange(T.format(this.props.valueFormat))}handleDateChange(j){this.handleChange({date:j})}handleTimeChange(j){this.handleChange({time:j})}renderDatePicker(){const{"aria-label":j,"aria-labelledby":M,"data-qa":T,disabled:D,isRequired:S,size:A,dateDisplayFormat:P,focusOnMountOption:N}=this.props,G=`${this.getId()}-datepicker`;let V=d.t("Date");j&&(V=`${j} ${V}`);const k=this.getValueMoment(),x=k?k.format(m):void 0,H=d.t("Select a date",{fallbackHash:"642b09c1f60b0090861264facba6e0e0f1b98c05",fallbackHashNs:"block_kit"}),R=this.getMinMoment(),W=this.getMaxMoment();return i.a.createElement("div",{className:"c-date_time_picker__date_picker_container"},i.a.createElement(l.a,{id:G,dateFormat:m,selectedDate:x,onDateChange:this.handleDateChange,datePickerDisabled:D,datePlaceholder:H,disableDatesBefore:R?R.format(m):void 0,disableDatesAfter:W?W.format(m):void 0,"aria-label":V,"aria-labelledby":M,"data-qa":T?`${T}_date_picker`:void 0,required:S,size:A,displayFormat:P,focusOnMount:N===E.DateInput}))}renderTimePicker(){const{"aria-label":j,"aria-labelledby":M,"data-qa":T,isInvalid:D,isRequired:S,showTimeZone:A,optionsHourIncrement:P,timezone:N,size:G,focusOnMountOption:V}=this.props;let k=d.t("Time");j&&(k=`${j} ${k}`);const x=this.getValueMoment(),H=this.getMinMoment(),R=this.getMaxMoment(),W=x&&x.format(g),U=H&&x&&H.isSame(x,"date")?H.format(g):void 0,_=R&&x&&R.isSame(x,"date")?R.format(g):void 0,B=this.props.disabled||!x&&!!(H||R);return i.a.createElement("div",{className:"c-date_time_picker__time_picker_container"},i.a.createElement(b.b,{value:W,onChange:this.handleTimeChange,isDisabled:B,min:U,max:_,width:"100%",ariaLabel:k,ariaLabelledBy:M,timeZone:N,selectDataQa:`${T}_time_picker`,showTimeZone:A,isInvalid:D,optionsHourIncrement:P,isRequired:S,size:G,focusOnMount:V===E.TimeInput}))}render(){const{className:j,dateLabel:M,timeLabel:T}=this.props;return i.a.createElement("div",{id:this.getId(),className:Object(f.default)(j,"c-date_time_picker"),"data-qa":this.props["data-qa"]},M?i.a.createElement(v.b,{text:M,id:"custom-modal-date-label","data-qa":"custom-modal-date-label-data-qa"},this.renderDatePicker()):this.renderDatePicker(),T&&i.a.createElement("br",null),T?i.a.createElement(v.b,{text:T,id:"custom-modal-time-label","data-qa":"custom-modal-time-label-data-qa"},this.renderTimePicker()):this.renderTimePicker())}constructor(j){super(j),!j.isRequired&&(Object(p.b)()||Object(p.c)())&&Object(h.b)().error("DateTimePicker: Support for isRequired=false not implemented  yet"),Object(r.a)(this,["handleDateChange","handleTimeChange"])}},"DateTimePicker");y.displayName="DateTimePicker",y.defaultProps={valueFormat:O,showTimeZone:!0,isRequired:!0,"data-qa":"date_time_picker"};var C=s.b=y},"2yT+":function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n={People:"people",Channels:"channels",Integrations:"integrations",Settings:"settings"}},"3D8U":function(w,s,e){"use strict";e.d(s,"c",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"b",function(){return r});var n=e("ZKjC"),t=e("UOL+");const a=Object(n.b)((f,l,p)=>{var h,u,b,v;return(h=Object(t.a)(f))===null||h===void 0||(u=h.filePermissions)===null||u===void 0||(b=u.draftPermissions)===null||b===void 0||(v=b[l])===null||v===void 0?void 0:v[p]});a.meta={name:"createSelector",key:"createSelectorgetSelectedFilePermission",description:(f,l,p)=>{var h,u,b,v;return(h=Object(t.a)(f))===null||h===void 0||(u=h.filePermissions)===null||u===void 0||(b=u.draftPermissions)===null||b===void 0||(v=b[l])===null||v===void 0?void 0:v[p]}};const i=Object(n.b)((f,l)=>{var p,h,u;return(p=Object(t.a)(f))===null||p===void 0||(h=p.filePermissions)===null||h===void 0||(u=h.draftPermissions)===null||u===void 0?void 0:u[l]});i.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissionsByDraftId",description:(f,l)=>{var p,h,u;return(p=Object(t.a)(f))===null||p===void 0||(h=p.filePermissions)===null||h===void 0||(u=h.draftPermissions)===null||u===void 0?void 0:u[l]}};const c=Object(n.b)(f=>{var l;return(l=Object(t.a)(f))===null||l===void 0?void 0:l.filePermissions});c.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissions",description:f=>{var l;return(l=Object(t.a)(f))===null||l===void 0?void 0:l.filePermissions}};const r=Object(n.b)((f,l)=>{var p,h;return((p=Object(t.a)(f))===null||p===void 0||(h=p.filePermissions)===null||h===void 0?void 0:h.messageTs)===l});r.meta={name:"createSelector",key:"createSelectorgetMessageTsForPermissionRequest",description:(f,l)=>{var p,h;return((p=Object(t.a)(f))===null||p===void 0||(h=p.filePermissions)===null||h===void 0?void 0:h.messageTs)===l}}},"3G7u":function(w,s,e){"use strict";var n=e("d5BB");const t=o(a=>{let{invite:i}=a;var c,r;const f=(c=i.acceptances)===null||c===void 0?void 0:c[0];if(!f)return[];const l=Object(n.g)(i,f).id,p=Object(n.p)(i).id;let h=!1,u=!1;(r=f.reviews)===null||r===void 0||r.forEach(d=>{var m;(d.reviewing_team.id===((m=f.accepting_sub_team)===null||m===void 0?void 0:m.id)||d.reviewing_team.id===l)&&(h=!0),d.reviewing_team.id===p&&(u=!0)});const b=[];if(!h){var v;b.push(((v=f.accepting_sub_team)===null||v===void 0?void 0:v.id)||l)}return u||b.push(p),b},"getPendingApprovalTeamIds");s.a=t},"3H60":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Te+D"),i=e("Tsh7"),c=e("pmw5"),r=e("nNoG");const f=new r.b("stories_av");function l(p){let{isPlaying:h,videoRef:u,className:b,backgroundStyle:v,togglePlayPause:d}=p;const m=h?f.t("Pause"):f.t("Play"),g=t.a.createElement(a.a,{title:m,mainKey:f.t("Space")}),O=Object(n.useCallback)(()=>{var E;if(d){d();return}u==null||(E=u.current)===null||E===void 0||E.togglePlayPause()},[d,u]);return t.a.createElement(i.d,{tip:g,position:"top",delay:i.a,hideFromScreenReader:!0},t.a.createElement(c.a,{className:b,backgroundStyle:v,onClick:O,"aria-label":f.t("Play"),"aria-pressed":h,icon:h?"pause":"play",size:"medium"}))}o(l,"TogglePlayButton"),l.displayName="TogglePlayButton",s.a=l},"3L56":function(w,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),i=e("kQBZ"),c=e("RqAw"),r=e("B1w/");const f=Object(a.c)("Fetch Slack Doc file IDs for and re-map",function(){var l=Object(n.coroutine)(function*(p,h,u){let{quipThreadId:b,reason:v="get-and-upsert-slack-doc-file-id"}=u;const d=Object(r.a)(h(),b);if(d)return d;const{file_id:m}=yield p(Object(i.dg)({quipThreadId:b,reason:v}));return p(Object(c.a)({objects:[{id:b,fileId:m}]})),m});return function(p,h,u){return l.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkgetAndUpsertSlackDocFileId",description:"Fetch Slack Doc file IDs for and re-map"},s.a=f},"3NWu":function(w,s,e){"use strict";e.d(s,"a",function(){return u}),e.d(s,"c",function(){return b}),e.d(s,"e",function(){return v}),e.d(s,"d",function(){return m}),e.d(s,"b",function(){return g}),e.d(s,"f",function(){return C});var n=e("ZaGd"),t=e("TlwC"),a=e.n(t),i=e("T10+"),c=e.n(i),r=e("Hl+J"),f=e.n(r),l=e("8uib"),p=e.n(l),h=e("BHH9");const u={WEEKLY_UPDATES:"weekly updates",WEEKLY_KUDOS:"weekly kudos"},b="https://slack.com/shortcuts/Ft041TF2Q2KV/defe8705ec8e44ff1bec29cf5d5db924";var v;(function(I){I.Message="message",I.Channel="channel",I.RecurringDate="recurring_date",I.Date="date",I.ListId="list_id",I.ListColumnKeyAndValue="column_key_and_value",I.ListColumnIdsToAddToForm="column_ids_to_add_to_form"})(v||(v={}));const d={id:h.a.ADD_RECORD_TO_LIST,title:"Share a form",madLibDescription:"Send a notification to {{channel_id}} when a {{column_ids_to_add_to_form}} is recorded",confirmationMessage:"We'll send a notification in {{channel_id}} when a form response is recorded",inputs:{channel_id:{type:v.Channel},list_id:{type:v.ListId},column_ids_to_add_to_form:{type:v.ListColumnIdsToAddToForm,initialValue:[]}}},m={[h.a.WEEKLY_REMINDER]:{id:h.a.WEEKLY_REMINDER,title:"Collect Weekly Updates",madLibDescription:"Asks members of {{a channel|channel_id}} for {{an update on this week's progress|message}} every {{week|schedule}}",confirmationMessage:"We'll ask {{channel_id}} for updates every {{schedule}}.",inputs:{message:{type:v.Message,placeholder:"an update on this week's progress",initialValue:new n.a().insert("Collecting weekly updates! Please share highlights, progress, and personal updates from the week?")},channel_id:{type:v.Channel},schedule:{type:v.RecurringDate}},previewImg:a.a},[h.a.KUDOS]:{id:h.a.KUDOS,title:"Team Kudos",madLibDescription:"Send a message to {{channel_id}} asking for {{message}} every {{schedule}}",confirmationMessage:"We'll ask {{channel_id}} to share kudos every {{schedule}}.",inputs:{message:{type:v.Message,placeholder:"kudos",initialValue:new n.a().insert("It\u2019s that time of the week! Recognize people who went above and beyond this week and deserve some kudos")},channel_id:{type:v.Channel},schedule:{type:v.RecurringDate}},previewImg:f.a},[h.a.PTO_REQUEST]:{id:h.a.PTO_REQUEST,title:"",madLibDescription:"Attach a workflow that lets channel members log time off.",confirmationMessage:"You've shared the PTO workflow with this message.",inputs:{},previewImg:c.a},[h.a.STANDUP]:{id:h.a.STANDUP,title:"Virtual Standup",madLibDescription:"Ask members of {{channel_id}} for {{message}} every {{schedule}}",confirmationMessage:"We'll start a standup thread in {{channel_id}} every {{schedule}}.",inputs:{message:{type:v.Message,placeholder:"an update on what they're working on",initialValue:new n.a().insert("Time for virtual standup! What are you working on this week? Any key milestones reached or blockers you need help resolving?")},channel_id:{type:v.Channel},schedule:{type:v.RecurringDate}},previewImg:p.a},[h.a.LISTS_COLUMN_CHANGED]:{id:h.a.LISTS_COLUMN_CHANGED,title:"Status Alert",madLibDescription:"When {{column_key_and_value}}, send a notification to {{channel_id}}",confirmationMessage:"We'll send a notification in {{channel_id}} when {{column_key_and_value}}.",inputs:{channel_id:{type:v.Channel},column_key_and_value:{type:v.ListColumnKeyAndValue},list_id:{type:v.ListId}}},[h.a.ADD_RECORD_TO_LIST_NO_NOTIFICATION]:{id:h.a.ADD_RECORD_TO_LIST_NO_NOTIFICATION,title:"Share a form",madLibDescription:"Adds an item to your list from a {{column_ids_to_add_to_form}}",confirmationMessage:"Adds an item to your list when from a form",inputs:{column_ids_to_add_to_form:{type:v.ListColumnIdsToAddToForm,initialValue:[]},list_id:{type:v.ListId}}},[h.a.ADD_RECORD_TO_LIST]:d,[h.a.FEEDBACK_FORM_FOR_LIST]:{...d,id:h.a.FEEDBACK_FORM_FOR_LIST,inputs:{...d.inputs,column_ids_to_add_to_form:{...d.inputs.column_ids_to_add_to_form,type:v.ListColumnIdsToAddToForm,initialValue:["name","details","type","severity"]}}},[h.a.BUG_FORM_FOR_LIST]:{...d,id:h.a.BUG_FORM_FOR_LIST,inputs:{...d.inputs,column_ids_to_add_to_form:{...d.inputs.column_ids_to_add_to_form,type:v.ListColumnIdsToAddToForm,initialValue:["name","details","type","severity"]}}},[h.a.HELP_FORM_FOR_LIST]:{...d,id:h.a.HELP_FORM_FOR_LIST,inputs:{...d.inputs,column_ids_to_add_to_form:{...d.inputs.column_ids_to_add_to_form,type:v.ListColumnIdsToAddToForm,initialValue:["name","details","severity"]}}}},g="\\b(add|log|schedule)\\b.*\\b(your|upcoming|future|planned)\\b.*\\b(pto|fto|vacation|time off|time-off|holiday)\\b",O="\\b(post|share|reminder)\\b.*\\b(your|status|weekly|daily|standup)\\b.*\\bupdate(s\\b|\\b)",E="(\\b(async|virtual) (standup|stand up|stand-up)\\b)|(\\b(standup|stand up|stand-up) updates?\\b)|(\\bupdates?\\b (standup|stand up|stand-up)\\b)",y="(?:monday|tuesday|wednesday|thursday|friday|saturday|sunday|week|weekly|weeks)\\b.*\\bkudos",C={[g]:h.a.PTO_REQUEST,[O]:h.a.WEEKLY_REMINDER,[E]:h.a.STANDUP,[y]:h.a.KUDOS}},"3NZ6":function(w,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("Lgge"),i=e("SQ0V"),c=e("UIhb"),r=e("7Zpt"),f=e("hjzp"),l=e("FcR8");const p=Object(i.c)("Open a Slack doc with a threadTs",(h,u,b)=>{let{fileId:v,inTile:d,source:m,threadTs:g,focusSectionId:O,inFlexpane:E}=b;const y=Object(f.a)(v),C=u();if(!g)return h(Object(l.a)({fileId:v,inTile:d,source:m,sectionId:O||"",inFlexpane:E}));const I=Object(c.b)(C,y,g,!1);return(I?a.a.resolve(I):h(Object(r.a)({query:[{channel:y,timestamps:[g]}],reason:"quip-root-comment-not-loaded"})).then(M=>M[0]?M[0]:a.a.reject(new Error("openDocFromThreadTs: Could not load the missing root comment")))).then(function(){var M=Object(n.coroutine)(function*(T){var D,S;const A=T.subtype==="document_mention"?(D=T.document_mention)===null||D===void 0?void 0:D.section_id:"";yield h(Object(l.a)({fileId:v,inTile:d,source:m,commentThreadId:(T==null||(S=T.document_comment)===null||S===void 0?void 0:S.thread_id)||"",sectionId:A,inFlexpane:E}))});return function(T){return M.apply(this,arguments)}}())});p.meta={name:"createThunk",key:"createThunkopenDocWithThreadTs",description:"Open a Slack doc with a threadTs"},s.a=p},"3TE0":function(w,s,e){"use strict";var n=e("xwCZ"),t=e("ZOzc");const a=o((i,c)=>{const r=Object(n.c)(i),f=Object(t.a)(i,"disable_file_editing");return c.user===r.id&&(c.mode==="hosted"||c.mode==="email")&&!f&&!c.is_tombstoned},"canUserEditFile");s.a=a},"3Tbp":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("SQ0V"),t=e("Q7We"),a=e("dUj5");const i=Object(n.c)("Remove placeholder from placeholder and message stores",(c,r,f)=>{let{clientMsgId:l,channelId:p,ts:h}=f;c(Object(a.b)(l)),c(Object(t.a)({channelId:p,ts:h}))});i.meta={name:"createThunk",key:"createThunkcleanUpPlaceholder",description:"Remove placeholder from placeholder and message stores"}},"3WT/":function(w,s,e){"use strict";e.d(s,"b",function(){return p}),e.d(s,"a",function(){return h});var n=e("E3dU"),t=e("xwCZ"),a=e("Yauy"),i=e("gVOt"),c=e("E97Y"),r=e("Zbwg"),f=e("eUIW"),l=e("yxNq");const p=o((u,b)=>{let{channel:v,id:d,member:m,memberIds:g=[]}=b;const O=d||(v==null?void 0:v.id)||(m==null?void 0:m.id);let E=g,y=v;Object(r.a)(O)&&(y==null?void 0:y.id)!==O&&(y=Object(n.d)(u,O));let C;Object(f.a)(O)?C=O:Object(c.g)(y)?C=Object(i.a)(y):E.length===1&&(C=E[0]);const I=C?Object(t.g)(u,C):null;if(I&&E[0]!==C)E=[C];else if(Object(c.i)(y)){const T=Object(a.C)(y);T&&E.length!==T.length&&(E=[...T])}const j=y!=null&&y.id?[y.id]:[],M=(E==null?void 0:E.length)>0?E:j;return{channel:y,member:I,memberIds:E,modelObIds:M}},"parseMapStateToPropsArgs"),h=o((u,b)=>Object(l.a)(u.channel,b.channel)&&Object(l.a)(u.member,b.member)&&Object(l.a)(u.memberIds,b.memberIds),"areOwnPropsEqual")},"3dye":function(w,s,e){"use strict";e.d(s,"b",function(){return u}),e.d(s,"a",function(){return b});var n=e("/1FC"),t=e("n3tL"),a=e("Lgge"),i=e("s4P+"),c=e("WCk1"),r=e("2XU3"),f=e("rKeN"),l=e("ktUG"),p=e("2mvv"),h=e("vjzz");const u=Object(c.a)("Get the user recommendations",function(v,d){let{memberIds:m,source:g="composer",reason:O,limit:E=10}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const y=d();if(!Object(n.a)(m))return a.a.reject(new Error("invalid memberIds for users.recommend"));try{return v(Object(r.apiCall)({method:"users.recommend",args:{query:m.join(","),source:g,limit:E},reason:O||g,token:Object(f.a)(y)?Object(p.a)(y):void 0}))}catch(C){return Object(i.a)({getState:d}).error("Could not fetch suggested users for users.recommend"),a.a.reject(C)}});u.meta={name:"createFetcher",key:"createFetcherfetchUsersRecommend",description:"Get the user recommendations"},u.propTypes={memberIds:t.default.arrayOf(t.default.string),source:t.default.string,reason:t.default.string};const b=o(v=>{let{clogger:d,data:m}=v;const{requestId:g,selectedItemId:O,selectedPosition:E,draftId:y=void 0,selectedAction:C=void 0}=m,I={request_id:Object(h.c)(g,h.b),selected_id:O,selected_position:E,selected_type:"user",...y&&{draft_id:y},...C&&{selected_action:C}};d.track(l.EventId.RECOMMEND_ACCEPT,I)},"clogUsersRecommendAccept")},"3tUm":function(w,s,e){"use strict";var n=e("fujP"),t=e("SQ0V"),a=e("6Q+y"),i=e("AyK6"),c=e("Shth"),r=e("O86Y"),f=e("B+Mk"),l=e("tvTu");const p=Object(t.c)("Retry failed uploads",(h,u,b)=>{let{draftId:v,pendingFileIds:d}=b;Object(n.a)(d)||d.forEach(m=>{const g=Object(i.b)(u(),{pendingFileId:m});if(!g||g.status!==c.a.ERROR)return;const O=Object(f.a)(g);if(!O)return;const E=Object(r.g)(u());if(E){const y=h(Object(a.a)({teamId:E,files:[O],shareData:{isEagerUpload:!0}}));h(Object(l.a)({file:O,pendingFileId:m,uploadPromise:y,draftId:v}))}})});p.meta={name:"createThunk",key:"createThunkretryFailedUploads",description:"Retry failed uploads"},s.a=p},"3yS5":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("xwCZ"),t=e("s4P+"),a=e("K7jq");function i(c,r){var f;const l=(f=Object(n.g)(c,r))!==null&&f!==void 0?f:void 0;return l?Object(a.a)(l):(Object(t.a)({state:c}).warn(`Trying to check for external team membership by id (${r}) but member is not present in the model.`),!1)}o(i,"isExternalById")},"3ysv":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),i=e("kQBZ"),c=e("R/i+");const r=Object(a.c)("Gets a placement widget based on an id",function(){var f=Object(n.coroutine)(function*(l,p,h){let{widgetPlacementId:u}=h;l(Object(c.a)({widgetPlacementId:u}));const b=yield l(Object(i.Vh)({widgetPlacementId:u,reason:"fetch-placement-widget-thunk"}));l(Object(c.d)({widgetPlacement:b.widget_placement}))});return function(l,p,h){return f.apply(this,arguments)}}());r.meta={name:"createThunk",key:"createThunkfetchWidgetPlacement",description:"Gets a placement widget based on an id"}},"3yyz":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("gSGL"),t=e("dA19");function a(i){return i?Object(t.a)(i)?1:Object(n.a)(i.insert)?i.insert.length:1:0}o(a,"getOpLength")},"4/od":function(w,s,e){"use strict";e.d(s,"d",function(){return a}),e.d(s,"b",function(){return i}),e.d(s,"c",function(){return c}),e.d(s,"a",function(){return r}),e.d(s,"e",function(){return f});var n=e("QcFm"),t=e("sOnb"),a;(function(l){l.everyone="everyone",l.app_collaborators="app_collaborators",l.named_entities="named_entities"})(a||(a={}));var i;(function(l){l.everyone="everyone",l.collaborators="collaborators"})(i||(i={}));const c={NotApplicable:"not_applicable",InProgress:"in_progress",Completed:"completed",Failed:"failed"};var r;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.TEMPLATE=1]="TEMPLATE",l[l.COPY=2]="COPY",l[l.FROM_SCRATCH=3]="FROM_SCRATCH",l[l.FROM_V1_MIGRATION=4]="FROM_V1_MIGRATION"})(r||(r={}));const f=o(l=>{if(!l)return!1;const p="workflow"in l?l.workflow.id:"",h="trigger"in l?l.trigger.id:"";return Object(n.a)(p)&&Object(t.a)(h)},"isLatestHermesWorkflowEditorData")},"4ALb":function(w,s,e){"use strict";e.d(s,"e",function(){return c}),e.d(s,"f",function(){return r}),e.d(s,"a",function(){return f}),e.d(s,"b",function(){return l}),e.d(s,"c",function(){return p}),e.d(s,"d",function(){return h});var n=e("JoAr"),t=e("nNoG"),a=e("FH+Z");const i=new t.b("stories_av");function c(u){return r(u==null?void 0:u.user)}o(c,"getStoryAccentColor");function r(u){const b=parseInt(u??"0",36);return a.g[b%a.g.length]}o(r,"getStoryAccentColorFromUser");function f(u){if(u===1/0||isNaN(u))return"0:00";const b=Math.floor(u/60).toString(10),v=Math.floor(u%60).toString(10).padStart(2,"0");return`${b}:${v}`}o(f,"formatTime");function l(u){let{audioOnly:b,screenCapture:v,blob:d}=u;if(d.name)return d.name;let m;b||d.type.indexOf("audio")===0?m=i.t("Audio"):m=v?i.t("Screenshare"):i.t("Video");const g=Object(n.a)(Math.floor(Date.now()/1e3),"{date_num} {time_secs}");let O="webm";return d.type.includes("mp4")&&(O="mp4"),`${m} - ${g}.${O}`}o(l,"getFileName");function p(u){let{ts:b,mediaIndex:v}=u;return`${b}-${v}`}o(p,"getMediaId");function h(u){let{quipFileId:b,fileId:v,entityId:d}=u;return`${b}-${d}-${v}`}o(h,"getQuipMediaId")},"4AlF":function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("bPB8"),t=e("BeL+"),a=e("xWuZ"),i=e("E3dU"),c=e("xwCZ"),r=e("0ufv"),f=e("Zbwg"),l=e("eUIW"),p=e("i5Ig");function h(u,b){if(!u||!(b!=null&&b.length))return p.a;const v=!1,d=Object(n.a)(b.map(g=>{const O=Object(l.a)(g)?Object(c.g)(u,g,{preferNonExistentToNull:!1,fetchIfMissing:v}):!1,E=Object(f.a)(g)?Object(i.d)(u,g,v):!1,y=O||E;if(!y)return!1;const C=Object(r.a)(u,y);return C!=null&&C.length?C:!1})),m=Object(t.a)(Object(a.a)(d));return m.length===0?p.a:m}o(h,"getConnectedTeamIdsForModelObjectIds")},"4EP9":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("aykK"),t=e("wGfi"),a=e("E3dU"),i=e("miM7"),c=e("eUIW");const r=o(function(f,l){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Object(c.a)(l))return null;const h=Object(a.d)(f,l),u=p.includes("BKeveryone"),b=p.includes("BKchannel"),v=p.includes("BKgroup"),d=p.includes("BKhere");if(!(u||b||v||d))return null;if(!Object(i.a)(h)&&u)return"@everyone";const g=u&&!d&&!b&&!v;if(Object(i.a)(h)&&g&&Object(t.a)(f,l))return null;if(Object(i.a)(h)&&!Object(t.a)(f,l)||!Object(n.a)(f,l)){if(d)return"@here";if(b)return"@channel";if(v)return"@group";if(u)return"@everyone"}return null},"checkForBlockedAtChannelKeyword")},"4Etr":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("wSSu"),i=e.n(a),c=e("nTNk"),r=e("gPPH");const f=Object(c.a)(),l=f.import("blots/block/embed"),p={},h=o((v,d)=>{p[v]=d},"addEmbedElement"),u=o(v=>p[v]||null,"getEmbedElementById");let b=o(class Zs extends l{static create(d,m){const g=super.create(),O={...d};if(!O.embedId){const y=Object(r.a)();O.embedId=`doc-embed-${y}`}const E=t.a.createElement(m,O);return i.a.render(E,g),Zs.setPropsOnDOM(g,O),h(O.embedId,E),g}static value(d){return Zs.getPropsFromDOM(d)}index(d,m){return this.domNode.contains(d)?m:-1}static formats(d){return Zs.getPropsFromDOM(d)}static updateComponent(d,m){const g=d.dataset,O=g&&g.embedId,E=typeof O=="string"&&u(O);if(E&&E){const y=t.a.cloneElement(E,m);i.a.render(y,d),Zs.setPropsOnDOM(d,m)}}static getPropsFromDOM(d){return{...d.dataset}}static setPropsOnDOM(d,m){var g,O;Object.keys(m).forEach(E=>{E!=="store"&&(d.dataset[E]=m[E])}),!((g=d==null?void 0:d.firstChild)===null||g===void 0||(O=g.dataset)===null||O===void 0)&&O.isPrivate&&(d.dataset.isPrivate=!0)}static addClassesToContainer(d){for(var m=arguments.length,g=new Array(m>1?m-1:0),O=1;O<m;O++)g[O-1]=arguments[O];d.classList.add(...g)}static registerEmbeds(d){Array.isArray(d)?d.forEach(m=>f.register(m)):typeof d=="function"&&f.register(d)}constructor(d){super(d)}},"DocsBlockEmbed");b.tagName="docsblockembed",s.a=b},"4TL0":function(w,s,e){"use strict";e.d(s,"a",function(){return v}),e.d(s,"b",function(){return d}),e.d(s,"c",function(){return m});var n=e("ifKl"),t=e("WIr4"),a=e("q1tI"),i=e.n(a),c=e("BHdc"),r=e("wd/R"),f=e.n(r),l=e("QYtq"),p=e("i5Ig"),h=e("INTg"),u=e("aqlM");function b(){return b=Object.assign||function(g){for(var O=1;O<arguments.length;O++){var E=arguments[O];for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&(g[y]=E[y])}return g},b.apply(this,arguments)}o(b,"_extends");const v={x:-4,y:-4},d={x:0,y:-4};let m=o(class extends a.Component{static getDerivedStateFromProps(O,E){if(O.selectedDate!==E.passedSelectedDate||O.dateFormat!==E.passedDateFormat){const y=f()(O.selectedDate,O.dateFormat).isValid()?O.selectedDate:void 0;return{selectedDate:y,passedSelectedDate:y,passedDateFormat:O.dateFormat}}return null}handleDateChange(O){var E,y;if(this.setState(()=>({selectedDate:O})),(y=(E=this.props).onDateChange)===null||y===void 0||y.call(E,O),this.trigger.current){const C=this.trigger.current;C!=null&&C.closePopover&&C.closePopover()}}triggerPopover(O){if(this.trigger.current){const E=this.trigger.current;E!=null&&E.onTrigger&&E.onTrigger(O)}}renderPopover(O){const{calendarClassName:E,dropdownClassName:y,disabledDates:C,yearTitleFormat:I,dateFormat:j,isDateDisabled:M,disableDatesBefore:T,disableDatesAfter:D,onRenderPopover:S,onDatePickerClose:A}=this.props,{onClose:P,...N}=O,G=Object(c.default)(y,"c-date_picker__dropdown");return S==null||S(),i.a.createElement(l.a,b({position:"bottom-right",offsetX:v.x,offsetY:v.y,onClose:()=>{P==null||P(),A==null||A()}},N),i.a.createElement("div",{className:G,"data-qa":"date_picker_dropdown"},i.a.createElement(h.a,{className:E,selectedDate:this.state.selectedDate,disabledDates:C||p.a,yearTitleFormat:I,dateFormat:j||"YYYY-MM-DD",onDateChange:this.handleDateChange,isDateDisabled:M,disableDatesBefore:T,disableDatesAfter:D,focusOnMount:O.openedWithKeyboard})))}renderTrigger(){return this.props.renderTrigger?this.props.renderTrigger(this.state.selectedDate):this.props.children}render(){const{children:O,renderTrigger:E,calendarClassName:y,dropdownClassName:C,selectedDate:I,disabledDates:j,yearTitleFormat:M,dateFormat:T,onDateChange:D,isDateDisabled:S,disableDatesBefore:A,disableDatesAfter:P,...N}=this.props;return i.a.createElement(l.b,b({},N,{ref:this.trigger,renderPopover:this.renderPopover}),this.renderTrigger())}constructor(O){super(O);const E=f()(O.selectedDate,O.dateFormat).isValid()?O.selectedDate:void 0;this.state={selectedDate:E,passedSelectedDate:E,passedDateFormat:O.dateFormat},this.trigger=i.a.createRef(),Object(t.a)(this,["handleDateChange","renderPopover"])}},"DatePickerTrigger");m.displayName="DatePickerTrigger",m.defaultProps={children:null,renderTrigger:void 0,dropdownClassName:void 0,onDateChange:n.a,onDatePickerClose:n.a,dateFormat:void 0,calendarClassName:void 0,selectedDate:void 0,disabledDates:void 0,yearTitleFormat:void 0,isDateDisabled:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0,onRenderPopover:n.a}},"4V1c":function(w,s,e){"use strict";e.r(s),e.d(s,"getFileInsertData",function(){return d}),e.d(s,"getInsertData",function(){return m}),e.d(s,"getMatch",function(){return g}),e.d(s,"getResultFrecencyId",function(){return O}),e.d(s,"recordSelection",function(){return E}),e.d(s,"isValidMatch",function(){return y});var n=e("qAkX"),t=e("5IZy"),a=e("s2GU"),i=e("2oNE"),c=e("I8Au"),r=e("coh6"),f=e("GS6c"),l=e("wsJ+"),p=e("6dQg"),h=e("P9LH"),u=e("tcou"),b=e("ktUG");const v=/(^|\n|.)?((?:@|\uFF20)([^\n@\uFF20]*))$/i,d=o(function(C){let{teamId:I,usePlainTextMode:j}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{item:M}=C;if(!C||!C.item||!Object(p.a)(M.id||""))return null;Object(t.a)().track(b.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"file"}}});let T;const D=Object(h.E)(M,I||"");return T=Object(h.F)(M),T=(T||"").replace(Object(l.a)(),"").replace(/\s+/g," ").trim(),T=T||D,j?{text:`${D}`}:{text:`${T}`,format:{link:D}}},"getFileInsertData"),m=o(function(C){let{teamId:I,highlightWords:j,shouldRenderBroadcastsAsText:M=!1,experimentFilesInAtMenuGroupTreatment:T=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T&&C&&C.type==="file")return d(C,{teamId:I||"",usePlainTextMode:!1});const D=C&&C.item;if(!D||!D.id)return null;Object(t.a)().track(b.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"member"}}});const S=Object(a.a)(D);return D.is_broadcast_keyword&&M?{text:S}:{text:S,format:{slackmention:Object(i.a)(D.id,S,j)}}},"getInsertData"),g=o(function(C){let{isUserSolicited:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j;if(C.replace(v,function(D){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",A=arguments.length>2?arguments[2]:void 0,P=arguments.length>3?arguments[3]:void 0,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(y(P,S)){if(S==="/"){const G=Object(u.a)(C);if(G&&G.length===1&&G[0].text===C)return}j={match:A,index:N+S.length}}}),!j&&I){let D=Object(n.a)(/(^|\s)([^\s\n@\uFF20]+)$/.exec(C));D=Object(c.a)(D||"",{trimCJK:!1}),D&&(j={match:D,index:C.length-D.length})}if(!j)return null;const M=4;return j.match.split(" ").length-1>M?null:j},"getMatch"),O=o(C=>C&&C.item.id,"getResultFrecencyId"),E=o(C=>{let{clogger:I,query:j,result:M,results:T,teamId:D,useSearcherSessions:S}=C;const A={query:j,results:T,selectedItemId:M.item.id,source:"texty-autocomplete"};S?Object(f.a)({teamId:D,key:"texty-autocomplete"}).clogSearcherAccept({clogger:I,data:A}):Object(r.c)({clogger:I,data:A})},"recordSelection");function y(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return!(Object(c.a)(I)||C.match(/^\s/))}o(y,"isValidMatch")},"4WY+":function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return i}),e.d(s,"c",function(){return c}),e.d(s,"d",function(){return r});var n=e("c8Bs");function t(f){var l;return!!((f==null||(l=f.statics)===null||l===void 0?void 0:l.blotName)==="list-item")}o(t,"lineIsListItem");function a(f){return!!((f==null?void 0:f.length)>0&&Object(n.a)(f,p=>t(p)))}o(a,"everyLineIsListItem");function i(f){var l,p;return t(f)?{isOrdered:(f==null||(l=f.parent)===null||l===void 0||(p=l.domNode)===null||p===void 0?void 0:p.tagName)==="OL"}:{}}o(i,"getListQualitiesOfLine");function c(f){if(!t(f))return!1;const l=i(f);return!!(l!=null&&l.isOrdered)}o(c,"lineIsOrderedListItem");function r(f){if(!t(f))return!1;const l=i(f);return!(l!=null&&l.isOrdered)}o(r,"lineIsUnorderedListItem")},"4eEG":function(w,s,e){"use strict";e.d(s,"a",function(){return D}),e.d(s,"b",function(){return S});var n=e("rdha"),t=e("O86Y"),a=e("9068"),i=e("9oTK"),c=e("oTSI"),r=e("lhZz"),f=e("kQBZ"),l=e("Kmpi"),p=e("7f4g"),h=e("s4P+"),u=e("uAML"),b=e("GkPN");const v=`${b.a}-cfm`;function d(A,P){return m.apply(this,arguments)}o(d,"fetchAndUpsertFunctionsById");function m(){return m=Object(i.coroutine)(function*(A,P){try{const{functions:N,ok:G}=yield Object(r.dispatchForTeamId)(A,Object(f.ef)({functionIds:P,reason:"hermes-functions-store/conditional-fetch"}));if(!G){Object(h.a)({teamId:A,label:v}).error(new Error(`unable to fetch ${P}, functions.get responded with not ok`));return}Object(r.dispatchForTeamId)(A,Object(p.a)({functions:N}))}catch{}}),m.apply(this,arguments)}o(m,"_fetchAndUpsertFunctionsById");const g=Object(c.a)(()=>new u.b({fetch:d,isEnabled:()=>!0})),O={fetchAndUpsertFunctionsById:d};var E=e("i5Ig");const y=`${b.a}-ufm`,C=Object(c.a)(()=>new l.a({fetch:I,metricsName:"functions",upsertKnown:M,upsertNonExistent:M}));function I(A,P){return j.apply(this,arguments)}o(I,"fetchFunctionsById");function j(){return j=Object(i.coroutine)(function*(A,P){try{const{functions:N,ok:G}=yield Object(r.dispatchForTeamId)(A,Object(f.ef)({functionIds:P,reason:"hermes-functions-store/unknown-fetch"}));return G?N:(Object(h.a)({teamId:A,label:y}).error(new Error(`unable to fetch ${P}, functions.get responded with not ok`)),E.a)}catch{return E.a}}),j.apply(this,arguments)}o(j,"_fetchFunctionsById");function M(A,P){const N=P.map(G=>G.id);return g().markObjectsAsFresh(A,N),Object(r.dispatchForTeamId)(A,Object(p.a)({functions:P}))}o(M,"upsertFunctionsforTeamId");const T={fetchFunctionsById:I,upsertFunctionsforTeamId:M},D=Object(n.f)(function(A,P){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var G;const V=A==null||(G=A.hermesFunctions)===null||G===void 0?void 0:G[P],k=Object(t.g)(A);return k?V?(g().maybeRefetch(k,P),V):N?C().fetchObjectWithId(k,P):Object(a.e)(P):Object(a.e)(P)}),S=Object(n.f)((A,P)=>{let{ids:N}=P;return N.length?N.map(G=>D(A,G,!0)):E.a})},"4eGI":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("q1tI"),t=e.n(n);function a(i){const[c,r]=Object(n.useState)(i==null?void 0:i.get());return Object(n.useEffect)(()=>{r(i==null?void 0:i.get())},[i]),Object(n.useEffect)(()=>{const f=o((l,p)=>r(p),"listener");return i==null||i.listen(f),()=>i==null?void 0:i.unlisten(f)},[i]),c}o(a,"useQuipValue")},"4gSQ":function(w,s,e){"use strict";e.d(s,"c",function(){return f}),e.d(s,"b",function(){return l}),e.d(s,"a",function(){return p});var n=e("s4P+"),t=e("dmdh"),a=e("0UjO"),i=e("P9LH"),c=e("Shth");const r=Object(n.b)({label:"PENDING-FILE-UPLOADS"}),f=o(h=>h?{file:h,pendingFileId:h.id,percentComplete:0,status:c.a.IDLE,isSending:!1}:(r.error("A file object is required to create a pending file object"),null),"createBasePendingFile"),l=o((h,u)=>{if(Object(i.xb)(h??{}))return null;const{dataUrl:b,width:v,height:d,orientation:m}=u||{};return{file:h,percentComplete:100,status:c.a.COMPLETE,persistedFileId:h==null?void 0:h.id,dataUrl:b,orientation:m,width:v,height:d}},"createBaseDraftFileByFile"),p=o((h,u)=>{if(!u||!h)return null;const b=Object(t.e)(h,u);return b||Object(n.a)({state:h}).error(`createBaseDraftFile: missing file:${b} id:${u}`),l(b,Object(a.b)(h,u)||{})},"createBaseDraftFile")},"4lPb":function(w,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("uXhx"),i=e("kpmE"),c=e("SQ0V"),r=e("GhjL");const f=Object(c.c)("Ensures unknown user groups with corresponding ids have been fetched",function(){var l=Object(n.coroutine)(function*(p,h,u){let{reason:b,userGroupIds:v}=u;const d=h(),m=Object(a.a)(v,g=>Object(r.i)(d,g));yield p(Object(i.b)({ids:m,reason:b}))});return function(p,h,u){return l.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkensureUserGroupsArePresent",description:"Ensures unknown user groups with corresponding ids have been fetched"},s.a=f},"4oy+":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("ifKl"),c=e("fujP"),r=e("/MKj"),f=e("zxER"),l=e("nNoG"),p=e("JoR1"),h=e("zm5I"),u=e("VO0X"),b=e("gCYc"),v=e("RB1+"),d=e("oEDn"),m=e("6R8Z"),g=e("N8ug"),O=e("NV6F"),E=e("Tsh7"),y=e("WSQ4"),C=e("qDEp"),I=e("T1zM"),j=e("HkGY"),M=e("B0VD"),T=e("5IZy"),D=e("ktUG"),S=e("SQ0V");const A=Object(S.c)("Clog when toggling WYSIWYG formatting controls",(it,at,ft)=>{let{isEnabled:yt}=ft;Object(T.a)({getState:at}).track(D.EventId.MSG_FORMATTING_TOOLBAR_TOGGLE,{contexts:{ui_context:{ui_properties:{element_value:yt?"sticky":"floating"}}}})});A.meta={name:"createThunk",key:"createThunkclogFormattingToggle",description:"Clog when toggling WYSIWYG formatting controls"};const P=Object(S.c)("Clog when clicking the emoji button",(it,at)=>{Object(T.a)({getState:at}).track(D.EventId.MSG_BTN_EMOJI)});P.meta={name:"createThunk",key:"createThunkclogEmojiClick",description:"Clog when clicking the emoji button"};const N=Object(S.c)("Clog when clicking the mention button",(it,at)=>{Object(T.a)({getState:at}).track(D.EventId.MSG_BTN_MENTIONS)});N.meta={name:"createThunk",key:"createThunkclogMentionClick",description:"Clog when clicking the mention button"};var G=e("wTse"),V=e("c07z"),k=e("0cEW"),x=e("nKt2"),H=e("fRJc"),R=e("nWdO"),W=e("nFQW"),U=e("u0LO"),_=e("WY9I"),B=e("ZKjC");const z=Object(B.b)((it,at)=>{var ft,yt;return it==null||(ft=it.composerToolbarButtonUI)===null||ft===void 0||(yt=ft[_.a===null||_.a===void 0?void 0:_.a[at]])===null||yt===void 0?void 0:yt.expanded});z.meta={name:"createSelector",key:"createSelectorisComposerButtonExpanded",description:(it,at)=>{var ft,yt;return it==null||(ft=it.composerToolbarButtonUI)===null||ft===void 0||(yt=ft[_.a===null||_.a===void 0?void 0:_.a[at]])===null||yt===void 0?void 0:yt.expanded}};var L=e("MRve"),$=e("wKGu"),Q=e("ZobM"),K=e("DEph"),Z=e("z5hj"),ne=e("RVJP"),F=e("vrU2"),J=e("2Wms"),X=e("71eM"),Y=e("F1Bf"),ae=e("77xR");function ee(){return ee=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},ee.apply(this,arguments)}o(ee,"_extends");const q=new l.b("stories_av");function te(it){let{draftId:at,enableClipsCoachmarkHighlight:ft,textyRef:yt}=it;const Tt=Object(r.useDispatch)(),Zt=Object(f.c)(wt=>z(wt,_.a.STORY)),In=Object(f.c)(wt=>Object(x.a)(wt,at)),_n=Object($.a)(),Nn=Object(f.c)(wt=>Object(ne.d)(wt,"onbrd_1198")==="treatment"),Fn=Object(f.c)(wt=>Object(ne.d)(wt,"onbrd_1198_feature")==="on"),Bn=Object(f.c)(wt=>Object(F.b)(wt,{component:U.c.ClipsNuxEntrypointVideo}));Object(J.a)(U.c.ClipsNuxEntrypointVideo);const Un=Object(n.useCallback)(()=>{Tt(Object(L.b)({component:U.c.ClipsNuxEntrypointVideo,type:U.a.Click,reason:"VideoComposerButton"})),Tt(Object(X.a)({component:U.c.ClipsNuxEntrypointVideo,override:!1}))},[Tt]),zn=Object(n.useCallback)(wt=>{wt.preventDefault(),Tt(Object(Y.a)({draftId:at})),_n.track(D.EventId.AV_CAPTURE,{media_type:"video",contexts:{ui_context:{ui_step:"entry_point",action:"click",ui_properties:{element_type:D.ElementType.BUTTON,element_name:"video_composer_button"}}}}),Bn&&Un(),yt.current&&!Zt&&yt.current.focus(),Fn&&Nn&&Tt(Object(K.b)({reason:Z.b.VIDEO_CLIPS_FALLBACK_EMAIL,eventHandler:Z.a.VIDEO_CLIPS_FALLBACK_EVENT_HANDLER,subtype:Z.c.VIDEO_CLIPS_FALLBACK_EVENT_HANDLER}))},[Tt,at,Bn,_n,Un,Fn,Nn,yt,Zt]),wn=q.t("Record video clip"),Rn=o(()=>Bn?q.rt('<span className="p-clips_nux_pill__tooltip_span">New!</span> Create video clips'):wn,"getTooltipContent"),ra=o(wt=>t.a.createElement(W.a,ee({className:Object(a.default)("p-video_composer_button c-wysiwyg_container__button c-wysiwyg_container__button--story_meeting",{"c-wysiwyg_container__button--disabled":In,"p-video_composer_button--highlight":Bn||ft}),onClick:zn,tabIndex:-1,disabled:In,"aria-label":wn,"aria-expanded":Zt?"true":"false",size:"small","data-qa":"video_composer_button"},wt),t.a.createElement(Q.a,{name:"video",size:"18"})),"renderContent");return t.a.createElement(R.c,{tip:Rn(),position:k.b.Top,offsetY:-7,delay:500,zIndex:H.a.AboveFullScreen},ra())}o(te,"VideoComposerButton"),te.displayName="VideoComposerButton";var de=te,se=e("pmw5"),re=e("Dp5f"),oe=e("9oTK"),ce=e("Lgge"),ue=e("yIs4"),Pe=e("6JBJ"),Ye=e("ZtOl");const $e=Object(S.c)("Send a draft message by draft ID",(it,at,ft)=>{const yt=Object(b.k)(at(),ft);yt&&it(Object(Ye.a)({draft:yt}))});$e.meta={name:"createThunk",key:"createThunksendDraftMessageById",description:"Send a draft message by draft ID"};var Ke=e("68qM"),qe=e("Z2IC"),ct=e("gPPH"),Be=e("zHTW"),pe=e("oy9Z"),fe=e("7nKM"),me=e("Rbqs"),Se=e("sXH4"),je=e("RcB+");function Ue(){return Ue=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},Ue.apply(this,arguments)}o(Ue,"audio_popover_extends");const ve=new l.b("stories_av"),ge=o(it=>{let{popoverProps:at,draftId:ft,enableScheduleSendButton:yt}=it;const{duration:Tt,audioWaveformRecorderProps:Zt,onAttach:In,file:_n,finishUpload:Nn}=Object(me.a)({fileName:"audio_message.webm",fileSubtype:"slack_audio",draftId:ft,onFileAttach:()=>{var xn;at==null||(xn=at.onClose)===null||xn===void 0||xn.call(at)}}),Fn=Zt.warningHighlight,Bn=Object(r.useDispatch)(),Un=Object($.a)(),[zn,wn]=Object(n.useState)(!1),[Rn,ra]=Object(n.useState)(!1),[wt,pn]=Object(n.useState)(!1),Hn=Object(qe.a)(()=>({media_type:"audio",recording_session:Object(ct.a)()})),Jn=Object(n.useContext)(je.a),Ca=Object(n.useCallback)(Object(oe.coroutine)(function*(){var xn;yield ce.a.resolve(Nn()),Bn($e(ft)),at==null||(xn=at.onClose)===null||xn===void 0||xn.call(at)}),[Bn,Nn,ft,at]),qn=Object(n.useCallback)(function(){var xn=Object(oe.coroutine)(function*(Ta){let{dateScheduled:La,isSuggestedDate:Ka}=Ta;var Ha;yield ce.a.resolve(Nn()),Object(ue.a)(La)?Bn(Object(Pe.a)({draftId:ft,dateScheduled:La,isSuggestedDate:Ka})):Bn(Object(pe.a)({draftId:ft,onMessageScheduled:i.a})),at==null||(Ha=at.onClose)===null||Ha===void 0||Ha.call(at)});return function(Ta){return xn.apply(this,arguments)}}(),[Bn,Nn,ft,at]),ua=Object(n.useCallback)(()=>{In(),Un.track(D.EventId.AV_CAPTURE,{...Hn,length_seconds:Tt,contexts:{ui_context:{ui_step:"recording",action:"click",ui_properties:{element_type:"button",element_name:"attach"}}}})},[In,Un,Hn,Tt]),va=Object(n.useCallback)(()=>{var xn;at==null||(xn=at.onClose)===null||xn===void 0||xn.call(at),Un.track(D.EventId.AV_CAPTURE,{...Hn,length_seconds:Tt,contexts:{ui_context:{ui_step:"recording",action:"click",ui_properties:{element_type:"button",element_name:"cancel"}}}}),Un.track(D.EventId.AV_CAPTURE,{...Hn,length_seconds:Tt,contexts:{ui_context:{ui_step:"recording",action:"click",ui_properties:{element_type:"button",element_name:"close"}}}})},[at,Un,Hn,Tt]),Ea=Object(n.useCallback)(xn=>{var Ta,La;!(xn==null||(Ta=xn.target)===null||Ta===void 0||(La=Ta.classList)===null||La===void 0)&&La.contains("c-popover")&&pn(!0)},[]);Object(n.useEffect)(()=>{zn&&_n&&(wn(!1),Ca())},[zn,_n,Ca]),Object(n.useEffect)(()=>{Rn&&_n&&(ra(!1),qn(Rn))},[Rn,_n,qn]),Object(Ke.a)(()=>(Jn.setIsOpen(!0),()=>Jn.setIsOpen(!1)),[]),Object(n.useEffect)(()=>{if(wt){const xn=setTimeout(()=>pn(!1),1e3);return()=>clearTimeout(xn)}},[wt]),Object(Ke.a)(()=>{Un.track(D.EventId.AV_CAPTURE,{...Hn,contexts:{ui_context:{ui_step:"initial_screen",action:"impression"}}})},[]);const _a=t.a.createElement(t.a.Fragment,null,t.a.createElement(Se.a,{streamManager:Zt.streamManager,recording:Zt.recording,onDotsUpdate:Zt.onDotsUpdate,warningHighlight:Zt.warningHighlight,className:"p-audio_popover__waveform"}),t.a.createElement("div",{className:Object(a.default)("p-audio_popover__timer",{"p-audio_popover__timer--warning":Fn})},Object(fe.a)(Math.floor(Tt??0)))),Ra=t.a.createElement(E.d,{tip:ve.t("Stop recording"),position:"top",delay:E.a},t.a.createElement(m.a,{className:Object(a.default)("p-audio_popover__attach",{"p-audio_popover__attach--scheduled_send":yt}),onClick:ua,"aria-label":ve.t("Attach"),autoFocus:!0,visibleAutoFocus:!1},t.a.createElement(d.a,{type:"check-large-bold",className:"p-audio_popover__attach__icon",size:"inherit"}))),Va=t.a.createElement("div",{className:"p-audio_popover__footer"},Ra);return t.a.createElement("div",{onClick:Ea},t.a.createElement(Be.a,Ue({},at,{offsetX:-64,offsetY:28,allowanceX:4,zIndex:"below_menu",shouldCloseOnOverlayClick:!1,ariaRole:"dialog",ariaLabel:ve.t("Audio recorder")}),t.a.createElement("div",{className:"p-audio_popover"},t.a.createElement("div",{className:Object(a.default)("p-audio_popover__strip",{"p-audio_popover__strip--speedbump":wt})},_a),Va),t.a.createElement(E.d,{tip:ve.t("Cancel recording"),position:"top",delay:E.a},t.a.createElement(m.a,{className:"p-audio_popover__close",onClick:va,"aria-label":ve.t("Cancel recording")},t.a.createElement(d.a,{type:"times-small"})))))},"AudioPopover");ge.displayName="AudioPopover";var le=ge,he=e("FC23");function Te(){return Te=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},Te.apply(this,arguments)}o(Te,"audio_composer_button_extends");const Re=new l.b("stories_av"),Ve=o(it=>{let{draftId:at,enableScheduleSendButton:ft,enableClipsCoachmarkHighlight:yt,textyRef:Tt}=it;const Zt=Object(r.useDispatch)(),In=Object(f.c)(Rn=>Object(F.b)(Rn,{component:U.c.ClipsNuxEntrypointAudio})),_n=Object($.a)();Object(J.a)(U.c.ClipsNuxEntrypointAudio);const Nn=Object(n.useCallback)(Rn=>t.a.createElement(le,{popoverProps:Rn,draftId:at,enableScheduleSendButton:ft}),[at,ft]),Fn=Object(n.useCallback)(()=>{Tt.current&&Tt.current.focus()},[Tt]),Bn=Object(n.useCallback)(()=>{_n.track(D.EventId.AV_CAPTURE,{media_type:"audio",contexts:{ui_context:{ui_step:"entry_point",action:"click",ui_properties:{element_type:D.ElementType.BUTTON,element_name:"audio_composer_button"}}}}),In&&(Zt(Object(L.b)({component:U.c.ClipsNuxEntrypointAudio,type:U.a.Click,reason:"AudioComposerButton"})),Zt(Object(X.a)({component:U.c.ClipsNuxEntrypointAudio,override:!1})))},[Zt,In,_n]),Un=Re.t("Record audio clip"),zn=o(()=>In?Re.rt('<span className="p-clips_nux_pill__tooltip_span">New!</span> Send audio clips'):Un,"getTooltipContent"),wn=o(Rn=>t.a.createElement(se.a,Te({className:Object(a.default)("p-audio_composer_button","c-wysiwyg_container__button",{"p-audio_composer_button--highlight":In||yt}),size:"small","aria-label":Un,tabIndex:-1},Rn),t.a.createElement(Q.a,{name:"microphone",size:"18"})),"renderContent");return t.a.createElement(re.a,{position:"top-left",renderPopover:Nn,onClick:Bn,onClose:Fn},t.a.createElement(E.d,{tip:zn(),position:k.b.Top,offsetY:-7,delay:500,zIndex:H.a.AboveFullScreen},wn()))},"AudioComposerButton");Ve.displayName="AudioComposerButton";var Ee=t.a.memo(Ve),Ae=e("pt+W");const Ge=o(it=>{let{draftId:at}=it;const ft=Object(r.useDispatch)(),yt=Object(n.useCallback)(()=>{ft(Object(Ae.a)({draftId:at}))},[ft,at]),Tt="Create slides";return t.a.createElement(R.c,{tip:Tt,position:k.b.Top,offsetY:-7,delay:500,zIndex:H.a.AboveFullScreen},t.a.createElement(W.a,{className:"c-wysiwyg_container__button",tabIndex:-1,"aria-label":Tt,size:"small",onClick:yt},t.a.createElement(Q.a,{name:"file-browser",size:"18"})))},"SlidesComposerButton");Ge.displayName="SlidesComposerButton";var Ze=t.a.memo(Ge),ze=e("v5z3"),lt=e("aZWb"),tt=e("QcWC"),Ot=e("rq2v"),Ct=e("uVZW"),St=e("qMw6"),zt=e("tcEy"),kt=e("Cfcg"),on=e("c+dP"),_t=e("Sk0/"),be=e("7PJ0"),ot=e("PPXB"),rt=e("0Qg5"),Jt=e("LWrH"),Qt=e("Te+D"),qt=e("I27i");const $t=new l.b("message_input_plus_button"),hn=o(it=>{let{onFilesSelected:at,onOpen:ft,onClose:yt,forceOpen:Tt,renderMenu:Zt,isOffline:In,keyboardLocale:_n}=it;const Nn=Object(n.useRef)(null),Fn=Object(n.useCallback)(Rn=>{Object(c.a)(Rn)||at&&at(Rn)},[at]),Bn=Object(n.useCallback)(Rn=>Zt?Zt(Rn,Nn):null,[Zt]),Un=Object(n.useCallback)(()=>{const Rn=Object(rt.b)("Cmd",_n),ra=t.a.createElement(Qt.a,{title:$t.t("Attach file"),mainKey:"U",modifier:Rn==="Cmd"?"\u2318":Rn});return In?t.a.createElement(be.a,{tooltipLabel:ra}):ra},[_n,In]),zn=Object(n.useCallback)(()=>{ft&&ft()},[ft]),wn=Object(n.useCallback)(()=>{yt&&yt()},[yt]);return t.a.createElement(ot.a,{subtype:"files"},t.a.createElement(on.e,{renderMenu:Bn,position:"top-right",offsetX:4,offsetY:-6,onOpen:zn,onClose:wn,forceOpen:Tt},t.a.createElement(R.c,{tip:Un(),position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(W.a,{className:"c-wysiwyg_container__button","aria-label":$t.t("Attach file"),tabIndex:-1,"data-qa":"msg_input_file_btn_inset",size:"small"},t.a.createElement(Q.a,{name:"attachment",size:"18"})))),t.a.createElement(_t.a,{ref:Nn,onFilesSelectedHandler:Fn}))},"FileMenuButton");hn.displayName="FileMenuButton";function gn(it){return{isOffline:!Object(qt.d)(it)}}o(gn,"mapStateToProps");const Cn=Object(kt.a)(gn)(hn);var Mn=Object(Jt.a)(Cn);const kn=new l.b("includes_client"),na=o(it=>{let{isDisabled:at,onClick:ft=i.a,textyRef:yt}=it;const Tt=Object(n.useRef)(null),Zt=Object(n.useRef)(!1),In=Object(f.c)(b.p),_n=o(wn=>{let{key:Rn}=wn;["Enter",""].includes(Rn)&&(Zt.current=!0)},"handleOnKeyDown"),Nn=o(()=>{ft(Tt,{focusOnUpdate:Zt.current}),Zt.current=!1},"handleOnClick"),Fn=o(wn=>{var Rn,ra;!((Rn=yt.current)===null||Rn===void 0||(ra=Rn.element)===null||ra===void 0)&&ra.contains(document.activeElement)&&wn.preventDefault()},"handleOnMouseDown"),Bn=Object(a.default)("c-wysiwyg_container__button c-wysiwyg_container__button--composer",{"c-wysiwyg_container__button--composer_active":In}),Un=In?kn.t("Hide formatting"):kn.t("Show formatting"),zn=t.a.createElement(W.a,{ref:Tt,className:Bn,"aria-disabled":at,onKeyDown:_n,onClick:Nn,onMouseDown:Fn,"data-qa":"texty_composer_button",tabIndex:-1,"aria-label":kn.t("Show formatting"),"aria-pressed":In?"true":"false",size:"small"},t.a.createElement(Q.a,{name:"formatting",size:"18"}));return t.a.createElement(R.c,{tip:Un,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},zn)},"ComposerButton");na.displayName="ComposerButton";var oa=na;const ba=new l.b("includes_client"),ga=o(it=>{let{onClick:at=i.a}=it;const ft=ba.t("Mention someone");return t.a.createElement(R.c,{tip:ft,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(W.a,{className:"c-wysiwyg_container__button",onClick:at,"data-qa":"texty_mention_button",tabIndex:-1,"aria-label":ft,size:"small"},t.a.createElement(Q.a,{name:"mentions",size:"18"})))},"MentionButton");ga.displayName="MentionButton";var ya=ga,Zn=e("iTjT"),Xn=e("o3gz"),Ht=e("03PU"),ut=e("8j9e"),gt=e("itAW");function Wt(){return Wt=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},Wt.apply(this,arguments)}o(Wt,"slash_commands_shortcuts_education_coachmark_extends");const Mt=new l.b("slash-commands"),Xe={eventId:D.EventId.WORKFLOW_EDUCATION,uiComponentName:D.UiComponentName.SLASH_COMMANDS_AUTOCOMPLETE_MENU,elementName:"slash_commands_education_coachmark"},bt=o(it=>{let{onClose:at,onPrimaryAction:ft,onSecondaryAction:yt,UNSAFE_parentSelector:Tt}=it;const Zt=t.a.createElement(Xn.a,{arrowPosition:10,offsetX:-25,offsetY:-10,alignActionsRight:!0,closeCoachmark:at,primaryCallToActionText:Mt.t("Done"),onClickPrimaryButton:ft,onClickSecondaryButton:yt,isOpen:!0,width:400,title:Mt.t("Run shortcuts"),bodyText:Mt.t("Run any workflow or shortcut by typing / followed by the name of the shortcut"),UNSAFE_parentSelector:Tt,autoClogProps:Xe});return t.a.createElement(Ht.b,{coachmarkElement:Zt,orientation:"top"})},"SlashCommandsShortcutsEducationCoachmark");bt.displayName="SlashCommandsShortcutsEducationCoachmark";const Nt=o(it=>{const at=Object(r.useDispatch)(),ft=Object(f.c)(gt.p),yt=Object(n.useCallback)(_n=>{_n==null||_n.stopPropagation(),at(Object(ut.e)({tourId:null}))},[at]),Tt=Object(n.useCallback)(_n=>{_n==null||_n.stopPropagation(),at(Object(ut.e)({tourId:null}))},[at]),Zt=Object(n.useCallback)(()=>{at(Object(ut.e)({tourId:"platform-coachmark-tour"}))},[at]);return ft&&it.isMessagePaneView?t.a.createElement(bt,Wt({onClose:yt,onPrimaryAction:Tt,onSecondaryAction:Zt},it)):null},"ConnectedSlashCommandsShortcutsEducationCoachmark");Nt.displayName="ConnectedSlashCommandsShortcutsEducationCoachmark";var Pt=Nt,nn=e("Trx9");const rn=new l.b("slash_commands"),mn={elementName:"slash_commands_autocomplete_menu_composer_button",action:D.UiAction.CLICK,onClick:{enableClogAction:!0}},vn=o(it=>{let{onClick:at=i.a,isDisabled:ft,isMessagePaneView:yt}=it;const Tt=rn.t("Run shortcut"),Zt=Object(a.default)("c-wysiwyg_container__button","c-wysiwyg_container__button--workflows",{"c-wysiwyg_container__button--disabled":ft});return t.a.createElement(nn.a,{eventId:D.EventId.SLASH_COMMANDS_AUTOCOMPLETE,uiComponentName:D.UiComponentName.SLASH_COMMANDS_AUTOCOMPLETE_MENU_COMPOSER_BUTTON},t.a.createElement(Pt,{isMessagePaneView:yt}),t.a.createElement(R.c,{tip:Tt,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(W.a,{className:Zt,onClick:at,"data-qa":"slash_commands_composer_button","aria-disabled":ft,tabIndex:-1,"aria-label":Tt,size:"small",autoClogProps:mn},t.a.createElement(Q.a,{name:"slash-box",size:"18"}))))},"SlashCommandsButton");vn.displayName="SlashCommandsButton";var Xt=vn,ht=e("khnw");const It=new l.b("texty_buttons_overflow"),Ft=36,Bt=5,en=o(it=>{let{width:at,textyHasFocus:ft,numOfTextyButtons:yt,children:Tt}=it;const[Zt,In]=Object(n.useState)(!1),[_n,Nn]=Object(n.useState)(220),Fn=Object(n.useRef)(null),Bn=Object(n.useRef)(null);Object(n.useEffect)(()=>{if(yt>Bt){const qn=(yt-Bt)*Ft;Nn(ua=>ua+qn)}},[Nn,yt]);const Un=Object(f.c)(qn=>Object(ne.d)(qn,"hermes_next")==="on"),zn=Object(n.useCallback)(()=>{In(!1)},[]),wn=Object(n.useCallback)(qn=>{document.querySelector(".ReactModalPortal")||Bn.current&&!Bn.current.contains(qn.target)&&zn()},[Bn,zn]);Object(n.useEffect)(()=>{if(Zt)return document.addEventListener("click",wn),()=>{document.removeEventListener("click",wn)}},[Zt,wn]);const Rn=Object(n.useCallback)(qn=>{if(qn.keyCode!==ht.q)return;const ua=document.querySelector(".c-wysiwyg_container__footer");ua&&!ua.contains(qn.target)&&zn()},[zn]);Object(n.useEffect)(()=>{if(Zt)return ft&&zn(),document.addEventListener("keydown",Rn),()=>{document.removeEventListener("keydown",Rn)}},[ft,Rn,zn,Zt]);const ra=Object(n.useCallback)(qn=>{let{keyCode:ua}=qn;var va;if(ua===ht.f&&(zn(),Fn!=null&&Fn.current&&(!(Bn==null||(va=Bn.current)===null||va===void 0)&&va.contains(document.activeElement)))){var Ea;Fn==null||(Ea=Fn.current)===null||Ea===void 0||Ea.focus()}},[zn]),wt=Object(n.useCallback)(()=>{In(qn=>!qn)},[]),pn=Object(a.default)({"c-texty_buttons--overflow":Zt}),Hn=Object(a.default)("c-wysiwyg_container__button"),Jn=It.t("More options");Object(n.useEffect)(()=>{Zt&&(Bn!=null&&Bn.current)&&Bn.current.querySelectorAll("button").forEach(ua=>{ua.setAttribute("role","menuitem")})},[Bn,Zt]);const Ca=Object(a.default)({display_none:Zt});return yt<Bt?Tt:at&&at<_n?t.a.createElement("div",{className:"c-texty_buttons__overflow_container"},t.a.createElement(R.c,{tipClassName:Ca,tip:Jn,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(W.a,{ref:Fn,className:Hn,onClick:wt,"data-qa":"slash_commands_overflow_button",tabIndex:-1,"aria-label":Jn,size:"small","aria-haspopup":"menu"},t.a.createElement(Q.a,{name:"ellipsis-horizontal",variation:"filled",size:"18"}))),Zt&&t.a.createElement("div",{ref:Bn,role:"menu","aria-label":Un?It.t("Composer actions overflow menu"):"",tabIndex:-1,className:pn,onKeyDown:ra},Tt)):Tt},"TextyButtonOverflow");en.displayName="TextyButtonOverflow";var On=en,yn=e("EAKl"),Dn=e("mM05"),En=e.n(Dn),Vt=e("VXbZ"),an=e("i9y5"),sn=e("BUaB"),bn=e("iTAQ");function jn(){return jn=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},jn.apply(this,arguments)}o(jn,"slackai_composer_popover_extends");const Tn=new l.b("assistant"),An=o(it=>{let{textyRef:at,onClose:ft,...yt}=it;const Tt=Object(r.useDispatch)(),Zt=Object(f.c)(yn.e),[In,_n]=Object(n.useState)(!0),Nn=Object(n.useRef)(null);Object(Ke.a)(()=>{var Un,zn;const wn=new En.a((zn=(Un=at.current)===null||Un===void 0?void 0:Un.getContents())===null||zn===void 0?void 0:zn.contents),Rn=Tt(Object(Vt.b)({delta:wn}));Array.isArray(Rn)||Tt(Object(bn.a)({reason:"post-zhuzhing",blocks:Rn.blocks})).then(ra=>{if(!ra.ok)return;const wt=Tt(Object(Vt.a)({blocks:ra==null?void 0:ra.blocks}));Nn.current.setContents({contents:wt.ops})}).finally(()=>{_n(!1)})},[]);const Fn=Object(n.useCallback)(()=>{at.current.setContents(Nn.current.getContents()),at.current.setSelectionAtEnd(),ft==null||ft()},[at,ft]),Bn=Object(n.useMemo)(()=>({setTextyInstance:i.a,setIsFocused:i.a,setActiveFormats:i.a,setToolbarOverflowVisible:i.a,setToolbarPositionData:i.a,requestFloatingToolbarClose:i.a}),[]);return Zt?t.a.createElement(Be.a,jn({},yt,{onClose:ft,position:"top",isOpen:!0,offsetY:-6,overlayClassName:"c-sk-overlay"}),t.a.createElement("div",{className:"p-slackai_composer_popover"},t.a.createElement("div",{className:"p-slackai_composer_popover__explainer"},In?Tn.t("Slack AI is taking a look at your message\u2026"):Tn.t("Slack AI came up with the following message")),t.a.createElement("div",{className:"p-slackai_composer_popover__content"},In&&t.a.createElement(an.a,{color:"blue",size:"jumbo"}),t.a.createElement("div",{className:Object(a.default)("p-slackai_composer_popover__content_blocks_wrapper",{"p-slackai_composer_popover__content_blocks_wrapper--hidden":In})},t.a.createElement(G.a.Provider,{value:Bn},t.a.createElement(sn.a,{ariaLabel:Tn.t("Slack AI suggested message"),placeholder:"",zIndex:"above_fs",completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,completeOnLinks:!0,completeOnLists:!0,ref:Nn})))),t.a.createElement("div",{className:"p-slackai_composer_popover__footer"},t.a.createElement(C.f,{type:"outline",onClick:ft},Tn.t("Cancel")),t.a.createElement(C.f,{disabled:In,onClick:Fn},Tn.t("Accept"))))):null},"SlackAIComposerPopover");An.displayName="SlackAIComposerPopover";var Vn=t.a.memo(An);function un(){return un=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},un.apply(this,arguments)}o(un,"slackai_composer_button_extends");const Kn=new l.b("assistant"),$n=o(it=>{let{textyRef:at}=it;const ft=Object(f.c)(yn.e),yt=Object(n.useCallback)(_n=>t.a.createElement(Vn,un({textyRef:at},_n)),[at]),Tt=Object(n.useCallback)(()=>{at.current&&at.current.focus()},[at]);if(!ft)return null;const Zt=Kn.t("Zhuzh this message"),In=o(_n=>t.a.createElement(se.a,un({className:Object(a.default)("c-wysiwyg_container__button"),size:"small","aria-label":Zt,tabIndex:-1},_n),t.a.createElement(Q.a,{name:"sparkles",size:"18"})),"renderContent");return t.a.createElement(re.a,{position:"top",renderPopover:yt,onClose:Tt},t.a.createElement(E.d,{tip:Zt,position:k.b.Top,offsetY:-7,delay:500,zIndex:H.a.AboveFullScreen},In()))},"SlackAIComposerButton");$n.displayName="SlackAIComposerButton";var da=t.a.memo($n);function fa(){return fa=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},fa.apply(this,arguments)}o(fa,"texty_buttons_extends");const aa={spaceName:Ct.g.IN_PRODUCT_COACHMARK,notifications:{[Ct.h.CLIPS_REPACKAGING_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"zP0t")))}}},ha=o(it=>{let{enableDividerForShortcutsButton:at=!1,enableEmojiButton:ft=!1,enableGifPicker:yt=!1,enableMentionButton:Tt=!1,enableComposerButton:Zt=!1,enableSendButton:In=!1,enableFileButton:_n=!1,enableStoryButton:Nn=!1,enableAudioButton:Fn=!1,enableSlidesButton:Bn=!1,enableSlackAIButton:Un=!1,enableScheduleSendButton:zn=!1,enableClipsRepackagingCoachmark:wn=!1,isComposerDisabled:Rn=!1,enableEmojiButtonBadge:ra=!1,enableSlashCommandsButton:wt=!1,onGifSelected:pn=i.a,onComposerClick:Hn,onFilesSelected:Jn,onFileMenuOpen:Ca,onFileMenuClose:qn,forceFileMenuOpen:ua=!1,renderFileMenu:va,textyRef:Ea,showProgressiveDisclosureAtMentionFlag:_a=!1,draftId:Ra,viewContext:Va,isFeedbackFlexpaneComposer:xn,isTextyInputEmpty:Ta=!1,textyHasFocus:La}=it;const Ka=Object(r.useDispatch)(),Ha=Object(f.c)(tt.a),xa=Object(n.useRef)(null),[za,us]=Object(n.useState)(null),[ss,Ja]=Object(n.useState)(0);Object(n.useEffect)(()=>{if(xa!=null&&xa.current){var Ie;const et=xa==null||(Ie=xa.current)===null||Ie===void 0?void 0:Ie.querySelectorAll("button");Ja(et.length)}},[xa,Ja]),Object(n.useEffect)(()=>{const Ie=o(()=>{var De;xa!=null&&xa.current&&us((De=xa.current)===null||De===void 0?void 0:De.offsetWidth)},"handleTextyButtonsResize");let et=null;const Ne=Object(zt.a)(Ie);return xa!=null&&xa.current&&(Ne.observe(xa.current),et=xa.current),()=>{et&&Ne.unobserve(et)}},[xa]);const Na=Object(n.useCallback)(()=>{Ka(P())},[Ka]),Qa=Object(n.useCallback)(()=>{var Ie;Ea==null||(Ie=Ea.current)===null||Ie===void 0||Ie.maybeTriggerMentionAutocomplete(),Ka(N())},[Ka,Ea]),$a=Object(n.useCallback)(()=>{var Ie;Ea==null||(Ie=Ea.current)===null||Ie===void 0||Ie.maybeTriggerSlashCommandsAutocomplete()},[Ea]);if(!Zt&&!Tt&&!ft&&!_n&&!Nn&&!Fn&&!Bn&&!In&&!zn&&!wt)return null;const bs=_n&&t.a.createElement(Mn,{onFilesSelected:Jn,onOpen:Ca,onClose:qn,forceOpen:ua,renderMenu:va}),gs=ft&&t.a.createElement(Zn.a,{textyRef:Ea,enableMentionButton:Tt,enableGifPicker:yt,onEmojiMenuTriggerClick:Na,enableEmojiButtonBadge:ra,draftId:Ra,onGifSelected:pn}),ys=Tt&&(_a?t.a.createElement(lt.b,{tip:ze.f.AtMention,onClick:Qa}):t.a.createElement(ya,{onClick:Qa})),ps=Zt&&t.a.createElement(oa,{isDisabled:Rn,onClick:Hn,textyRef:Ea}),Cs=wt&&t.a.createElement(Xt,{onClick:$a,isDisabled:!Ta,isMessagePaneView:Va===St.a.MESSAGE_PANE}),os=Nn&&t.a.createElement(de,{draftId:Ra||"",enableClipsCoachmarkHighlight:wn,textyRef:Ea}),Os=Fn&&t.a.createElement(Ee,{draftId:Ra||"",enableScheduleSendButton:zn,enableClipsCoachmarkHighlight:wn,textyRef:Ea}),Xa=Bn&&t.a.createElement(Ze,{draftId:Ra||""}),ts=Un&&t.a.createElement(da,{textyRef:Ea}),Ya=t.a.createElement("span",{className:"c-wysiwyg_container__footer_divider"}),ds=o(()=>{const Ie=t.a.createElement(t.a.Fragment,null,os,Os,Xa);return wn?t.a.createElement(Ot.c,fa({},aa,{shouldAlwaysRenderChildren:!0,isOpen:wn}),Ie):Ie},"getClipsButtons");ds.displayName="getClipsButtons";const js=(os||Os||Xa)&&!Ha,Je=t.a.createElement(t.a.Fragment,null,ps,gs,ys,t.a.createElement(On,{textyHasFocus:La,numOfTextyButtons:ss,width:za},js&&Ya,js&&t.a.createElement(t.a.Fragment,null,ds(),Ya),at&&!js&&Ya,wt&&Cs,xn&&bs,Un&&t.a.createElement(t.a.Fragment,null,Ya,ts)));return t.a.createElement("div",{ref:xa,className:"c-texty_buttons"},Je)},"TextyButtons");ha.displayName="TextyButtons";var Ia=ha,Ba=e("ohbk"),ca=e("Kn+X"),Aa=e("Ba7O"),Ma=e("5/Zs"),ja=e("WMzb"),Fa=e("8sbp"),ta=e("zygp");function Pn(){return Pn=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},Pn.apply(this,arguments)}o(Pn,"schedule_send_menu_extends");const dn=new l.b("drafts");function Rt(it){let{menuProps:at,draftId:ft,onScheduleSend:yt,viewContext:Tt}=it;const Zt=Object(r.useDispatch)(),In=Object(ja.a)(),_n=Object(f.c)(zn=>Object(ta.f)(zn,{draftId:ft}));function Nn(zn){const wn=zn!==ta.a.Custom;let Rn;if(wn&&(Rn=Zt(Object(ta.g)({option:zn,draftId:ft})),!Rn)){In.error("SCHEDULE-SEND","Failed to determine dateScheduled from schedule send menu item. Returning early.");return}yt({dateScheduled:Rn,isSuggestedDate:wn})}o(Nn,"onItemSelected");function Fn(zn){if(!(zn!==ta.a.Custom))return null;const Rn=Zt(Object(ta.g)({option:zn,draftId:ft}));return Rn?Zt(Object(Fa.c)({draftId:ft,schedulingTime:Rn})):null}o(Fn,"getMenuItemDescription");function Bn(zn){return Zt(Object(ta.c)({option:zn,draftId:ft}))}o(Bn,"getMenuItemLabel");const Un=Tt===St.a.MESSAGE_PANE?"chat":"composer";return t.a.createElement(nn.a,{eventId:D.EventId.COMPOSE_FLOW,uiStep:D.UiStep.SCHEDULED_SCHEDULING_MODAL_OPEN,scheduleSendActionSource:Un,clogImpression:!0},t.a.createElement(on.f,Pn({width:"260px"},at),t.a.createElement(on.c,{label:dn.t("Schedule message")}),_n.map(zn=>{const wn=zn===ta.a.Custom;return t.a.createElement(t.a.Fragment,{key:zn},wn&&t.a.createElement(on.d,null),t.a.createElement(on.b,{label:Bn(zn),description:Fn(zn),"data-qa":"p-schedule_send_menu__scheduling_option",onSelected:()=>Nn(zn)}))})))}o(Rt,"ScheduleSendMenu");var vt=e("tiWk"),At=e("I0j/"),Gt=e("37+L"),ln=e("mQiU"),Dt=e("UmHn");function He(){return He=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},He.apply(this,arguments)}o(He,"schedule_send_edit_menu_extends");const Le=new l.b("drafts");function Qe(it){let{menuProps:at,onSend:ft,draftId:yt}=it;const Tt=Object(r.useDispatch)(),{shouldUseNavigate:Zt}=Object(n.useContext)(ln.a),In=Object(n.useCallback)(()=>{Tt(Object(vt.a)({draftId:yt,dateScheduled:0})),Tt(Zt?Object(At.a)(Object(Gt.M)(Dt.a.Drafts)):Object(Ba.a)({id:"Pdrafts"}))},[Tt,yt,Zt]);return t.a.createElement(on.f,He({width:"180px"},at),t.a.createElement(on.b,{label:Le.t("Send now"),onSelected:ft,"data-qa":"p-schedule_send_edit_menu__send_now"}),t.a.createElement(on.b,{label:Le.t("Save to drafts"),"data-qa":"p-schedule_send_edit_menu__save_to_drafts",onSelected:In}))}o(Qe,"schedule_send_edit_menu_ScheduleSendMenu");const Ce=new l.b("drafts"),ye=["CmdOrCtrl"],ie=o(it=>{let{draftId:at,disabled:ft,onSend:yt,onScheduleSend:Tt,enableScheduleSendButton:Zt,day1Highlighting:In,viewContext:_n,enterCreatesNewlinePref:Nn}=it;const Fn=Object(r.useDispatch)(),{shouldUseNavigate:Bn}=Object(n.useContext)(ln.a),Un=Object(f.c)(tt.a),zn=Object(f.c)(Ca=>Object(b.k)(Ca,at)),wn=!!Object(ca.i)(zn),Rn=Object(n.useCallback)(()=>{Fn(Bn?Object(At.a)(Object(Gt.M)(Dt.a.ScheduledMessages)):Object(Ba.a)({id:"Pscheduled-messages"}))},[Fn,Bn]),ra=Object(n.useCallback)(()=>{if(yt)return yt({fromKeyboardShortcut:!1})},[yt]),wt=Object(n.useCallback)(Ca=>wn?t.a.createElement(Qe,{menuProps:Ca,draftId:at,onSend:ra}):t.a.createElement(Rt,{menuProps:Ca,draftId:at,onScheduleSend:Tt||i.a,viewContext:_n}),[wn,Tt,_n,at,ra]);if(Zt&&!Un){const Ca=Object(a.default)("c-wysiwyg_container__send_button--with_options",{"c-wysiwyg_container__send_button--with_options_disabled":ft}),qn=Object(a.default)("c-wysiwyg_container__button","c-wysiwyg_container__button--send",{"c-wysiwyg_container__button--disabled":ft,"c-wysiwyg_container__button--day1":In}),ua=Object(a.default)("c-wysiwyg_container__button","c-wysiwyg_container__button--send_options",{"c-wysiwyg_container__button--disabled":ft,"c-wysiwyg_container__button--day1":In}),va=wn?Ce.t("Save changes"):Ce.t("Send now"),Ea=wn?t.a.createElement(W.a,{className:qn,tabIndex:ft?-1:0,"aria-disabled":ft,onClick:Rn,"data-qa":"texty_done_editing_scheduled_message_button","aria-label":va,size:"small"},t.a.createElement(Q.a,{name:"check",size:"16"})):t.a.createElement(W.a,{className:qn,tabIndex:ft?-1:0,"aria-disabled":ft,onClick:ra,"data-qa":"texty_send_button","aria-label":va,size:"small"},t.a.createElement(Q.a,{name:"send",variation:"filled",size:"16"})),_a=wn?Ce.t("Message options"):Ce.t("Schedule for later");return t.a.createElement("span",{className:Ca},t.a.createElement(R.c,{position:"top-right",tip:t.a.createElement(Qt.a,{title:va,modifiers:Nn?ye:void 0,mainKey:"Return",useSlimModifiers:!0})},Ea),t.a.createElement(on.e,{renderMenu:wt,position:"top-right",offsetX:0},t.a.createElement(R.c,{position:"top-right",tip:_a},t.a.createElement(W.a,{className:ua,tabIndex:-1,"aria-disabled":ft,"data-qa":"texty_send_options_button","aria-label":_a,size:"small"},t.a.createElement(Q.a,{name:"caret-down"})))))}const pn=Object(a.default)("c-wysiwyg_container__button","c-wysiwyg_container__button--send c-wysiwyg_container__button--experiment_draft_scheduling",{"c-wysiwyg_container__button--disabled":ft,"c-wysiwyg_container__button--day1":In}),Jn=_n===St.a.THREAD||_n===St.a.THREADS_VIEW?Ce.t("Send reply",{fallbackHash:"c70a890d1411098b6bbd10f59252da322a68af82"}):Ce.t("Send message");return t.a.createElement(R.c,{position:"top-right",tip:Ce.t("Send message")},t.a.createElement(W.a,{tabIndex:ft?-1:0,className:pn,"aria-disabled":ft,onClick:ra,"data-qa":"texty_send_button","aria-label":Jn,size:"small"},t.a.createElement(Q.a,{name:"send",variation:"filled",size:"16"})))},"SendButton");ie.displayName="SendButton";function Oe(it,at){let{disabled:ft,isInputExpanded:yt}=at;const Tt=Object(Aa.a)(it);let Zt=ft;return Tt||Object(qt.i)(it)||(Zt=!0),{disabled:Zt,enterCreatesNewlinePref:Object(Ma.a)(it,yt)}}o(Oe,"send_button_mapStateToProps");var We=Object(kt.a)(Oe)(ie),ke=e("rZ8V"),nt=e("i5Ig");function st(){return st=Object.assign||function(it){for(var at=1;at<arguments.length;at++){var ft=arguments[at];for(var yt in ft)Object.prototype.hasOwnProperty.call(ft,yt)&&(it[yt]=ft[yt])}return it},st.apply(this,arguments)}o(st,"wysiwyg_container_extends");const mt=new l.b("drafts");function pt(it){let{channelId:at,children:ft,className:yt,confirmationSuffixButtons:Tt,enableDividerForShortcutsButton:Zt=!1,enableComposerButton:In=!1,enableEmojiButton:_n=!1,enableGifPicker:Nn=!1,enableEmojiButtonBadge:Fn=!1,enableExpandButton:Bn=!1,enableFileButton:Un=!1,enableMentionButton:zn=!1,enableSendButton:wn=!1,enableShortcutsButton:Rn=!1,enableStoryButton:ra=!1,enableAudioButton:wt=!1,enableSlidesButton:pn=!1,enableSlackAIButton:Hn=!1,enableScheduleSendButton:Jn=!1,enableSlashCommandsButton:Ca=!1,enableClipsRepackagingCoachmark:qn=!1,forceFileMenuOpen:ua=!1,isDisabled:va=!1,isInvalid:Ea=!1,isExpanded:_a=!1,isSendingDisabled:Ra=!1,numMaxLines:Va,numMinLines:xn,onGifSelected:Ta=i.a,onExpand:La,onFileMenuClose:Ka,onFileMenuOpen:Ha,onFilesSelected:xa,onSubmit:za,onScheduleSend:us,renderFileMenu:ss,threadTs:Ja,viewContext:Na,forcePlainTextModeDisabled:Qa=!1,withWorkflowTokens:$a=!1,forceToolbarDisabled:bs=!1,withBasicContainerBorder:gs=!1,hints:ys=nt.a,errors:ps=nt.a,day1Highlighting:Cs=!1,day1ProgressiveDisclosureHighlighting:os=!1,showProgressiveDisclosureFirstMessageFlag:Os=!1,showProgressiveDisclosureAtMentionFlag:Xa=!1,draftId:ts,isComposerPage:Ya=!1,isFeedbackFlexpaneComposer:ds=!1,isTextyInputEmpty:js=void 0}=it;const{window:Je}=Object(n.useContext)(y.a),Ie=Object(n.useRef)(null),[et,Ne]=Object(n.useState)(!1),_e=Ra?0:o(()=>{const pa=Ie.current;return pa?pa.getButtons().findIndex(qa=>qa.classList.contains("c-wysiwyg_container__button--send")):0},"getSendButtonIndex")();Object(n.useEffect)(()=>{if(!et)return;const pa=Ie.current;if(!pa)return;const qa=pa.getButtons().find(ns=>ns.classList.contains("c-wysiwyg_container__button--composer"));qa&&qa.focus()});const Me=Object(r.useDispatch)(),xe=Object(f.c)(b.p),Fe=Object(f.c)(pa=>!!Object(p.t)(pa,"plain_text_mode")),we=!bs&&(Qa||!Fe),dt=Object(f.c)(h.a),Ut=Object(n.useRef)(),[Lt,xt]=Object(n.useState)(!1),[jt,tn]=Object(n.useState)([]),[fn,Gn]=Object(n.useState)(!1),[Wn,ma]=Object(n.useState)(),Da=Object(n.useRef)(),Pa=Object(n.useMemo)(()=>({setTextyInstance:pa=>{Ut.current=pa},setIsFocused:xt,setActiveFormats:tn,setToolbarOverflowVisible:Gn,setToolbarPositionData:ma,requestFloatingToolbarClose:()=>{var pa;(pa=Da.current)===null||pa===void 0||pa.closeToolbar()}}),[]),Ga=Object(n.useCallback)(function(pa){let{focusOnUpdate:qa}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focusOnUpdate:!1};var ns,Rs,Kt;pa.current===Je.document.activeElement&&((ns=pa.current)===null||ns===void 0||(Rs=ns.classList)===null||Rs===void 0?void 0:Rs.contains("c-button--focus-visible"))&&!qa&&(Ut==null||(Kt=Ut.current)===null||Kt===void 0||Kt.focus());const Sn=o(()=>{qa&&(Ne(!0),Ne(!1))},"onComplete");Me(Object(I.f)({pref:"msg_input_sticky_composer",value:!xe})),Me(A({isEnabled:!xe})),Sn&&Sn()},[Me,xe,Je]),Es=Object(n.useMemo)(()=>Rn&&t.a.createElement("div",{className:"c-wysiwyg_container__prefix","data-qa":"wysiwyg-container_prefix"},Object(O.E)({channelId:at,isStandalone:!1,isDisabled:va,threadTs:Ja,viewContext:Na,onFilesSelected:xa,draftId:ts,isComposerPage:Ya,onFileMenuClose:Ka,forceFileMenuOpen:ua})),[at,ts,Rn,ua,Ya,va,Ka,xa,Ja,Na]),zs=Object(n.useMemo)(()=>t.a.createElement(Ia,{enableDividerForShortcutsButton:Zt,enableComposerButton:In&&we,enableEmojiButton:_n,enableGifPicker:Nn,enableEmojiButtonBadge:Fn,enableFileButton:Un,enableMentionButton:zn,enableSendButton:wn,enableStoryButton:ra,enableAudioButton:wt,enableSlidesButton:pn,enableSlackAIButton:Hn,enableScheduleSendButton:Jn,enableSlashCommandsButton:Ca,enableClipsRepackagingCoachmark:qn,forceFileMenuOpen:ua,onGifSelected:Ta,onComposerClick:Ga,onFileMenuClose:Ka,onFileMenuOpen:Ha,onFilesSelected:xa,renderFileMenu:ss,textyRef:Ut,showProgressiveDisclosureAtMentionFlag:Xa,draftId:ts||"",viewContext:Na||"",isFeedbackFlexpaneComposer:ds,isTextyInputEmpty:js,textyHasFocus:Lt}),[ts,wt,qn,In,Zt,_n,Nn,Fn,Un,zn,Jn,wn,pn,Hn,ra,ua,Ga,ds,Ca,Ta,Ka,Ha,xa,ss,Xa,we,Na,js,Lt]);let ms=null;Object(c.a)(Tt)?wn&&(ms=t.a.createElement(We,{disabled:Ra||va,onSend:za,day1Highlighting:Cs,enableScheduleSendButton:Jn,onScheduleSend:us,draftId:ts||"",viewContext:Na||"",isInputExpanded:_a})):ms=t.a.createElement("div",{className:"c-wysiwyg_container__suffix__confirmation-buttons"},t.a.createElement(C.f,{tabIndex:-1,type:"outline",size:"small",onClick:Tt==null?void 0:Tt.onCancelClick},mt.t("Cancel")),t.a.createElement(C.f,{size:"small",className:"margin_left_50",onClick:Tt==null?void 0:Tt.onSaveClick,"aria-disabled":Tt==null?void 0:Tt.isSaveDisabled},mt.t("Save",{fallbackHash:"efc007a393f66cdb14d57d385822a3d9e36ef873",fallbackHashNs:"message"})));const Hs=Object(n.useMemo)(()=>t.a.createElement("div",{className:"c-wysiwyg_container__toolbar_buttons","data-qa":"wysiwyg-container_toolbar-buttons"},zs),[zs]),Gs=o(pa=>{const qa=pa.target,ns=Na,Rs=at;if(qa.closest(".c-wysiwyg_container__formatting")&&!(qa!=null&&qa.closest("button"))){const Kt=Object(v.a)({viewContext:ns,channelId:Rs,threadTs:Ja});Kt==null||Kt.focus()}},"onFormattingBarClick"),ks=o(pa=>{const qa=pa.target,ns=Na,Rs=at;if(qa.closest(".c-wysiwyg_container__footer")&&!(qa!=null&&qa.closest("button"))){const Kt=Object(v.a)({viewContext:ns,channelId:Rs,threadTs:Ja});Kt==null||Kt.focus()}},"onFooterClick"),xs=Object(n.useCallback)(()=>{const pa=Object(v.a)({viewContext:Na,channelId:at,threadTs:Ja});pa==null||pa.focus(),La==null||La(!_a)},[_a,La,Na,at,Ja]),Fs=o(()=>t.a.createElement(E.d,{tip:_a?mt.t("Collapse"):mt.t("Expand input"),delay:500,position:"left"},t.a.createElement(m.a,{"aria-pressed":_a,"aria-label":mt.t("Expand input"),className:"c-wysiwyg_container__button--expand_toggle",onClick:xs},t.a.createElement(d.a,{size:"inherit",type:_a?"collapse-vertical":"expand-vertical"}))),"renderExpandButton");Fs.displayName="renderExpandButton";const fs=Object(n.useCallback)(pa=>{let{source:qa}=pa;return Me(Object(u.a)({textyInstance:Ut.current,source:qa}))},[Me]),Ls=Object(n.useMemo)(()=>we&&t.a.createElement(M.a,{useStickyComposer:xe,textyHasFocus:Lt,textyRef:Ut,activeFormats:jt,showLinkForm:fs,useWorkflowTokens:$a,toolbarOverflowVisible:fn,setToolbarOverflowVisible:Gn,ref:xe?void 0:Da,toolbarPositionData:xe?void 0:Wn,enableStickyComposer:!1,supportsAnchorText:!0,isDisabled:va}),[jt,Lt,xe,fs,we,fn,Wn,$a,va]),Us=we&&t.a.createElement(j.b,st({className:xe?"c-wysiwyg_container__formatting":"","data-qa":xe?"wysiwyg-container_formatting-enabled":""},xe&&{onClick:Gs},{"aria-label":mt.t("Formatting")}),Ls),Ms=Object(f.c)(ke.m);return t.a.createElement(g.a,null,pa=>{let{measureRef:qa,width:ns}=pa;const Rs=ns<400,Kt=t.a.createElement(j.b,{className:Object(a.default)("c-wysiwyg_container__footer",{"c-wysiwyg_container__footer--with_formatting":we&&xe}),onClick:ks,ref:Ie,"aria-label":Ms?mt.t("Composer actions"):mt.t("Composer primary actions"),activeItemIndex:_e},Es,Hs,ms&&!Es&&!(we&&xe)&&t.a.createElement("div",{className:"c-wysiwyg_container__spacer"}),t.a.createElement("div",{className:"c-wysiwyg_container__suffix","data-qa":"wysiwyg-container_suffix"},ms));return t.a.createElement(G.a.Provider,{value:Pa},t.a.createElement(V.a,{className:Object(a.default)(yt,"c-wysiwyg_container",`c-wysiwyg_container--theme_${dt}`,"c-wysiwyg_container--with_footer",{[`c-wysiwyg_container--theme_${dt}_bordered`]:!gs,"c-wysiwyg_container--disabled":va,"c-wysiwyg_container--double_decker":Rs,"c-wysiwyg_container--with_floating_toolbar":we&&!xe,"c-wysiwyg_container--expandable":Bn,"c-wysiwyg_container--day1":!!Cs,"c-wysiwyg_container--day1-prog-disc":!!os,"c-wysiwyg_container--day1-prog-disc_ia4":!!os&&Ms,"c-wysiwyg_container--day1-prog-disc-first-message-tip":!!Os}),hideBorder:!gs,isDisabled:va,isInvalid:Ea,hints:ys,errors:ps,numMaxLines:Va,numMinLines:xn,ref:qa},Us,ft,Kt,Bn&&Fs()))})}o(pt,"WysiwygContainer"),pt.displayName="WysiwygContainer";var Et=s.a=pt},"4r5K":function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("KYPV"),t=e("q1tI"),a=e.n(t),i=e("MYuU");function c(r){const{getFieldMeta:f}=Object(n.e)(),l=f(r),{touched:p,error:h}=l;return Object(t.useMemo)(()=>p&&h&&h.map&&h.length>0?h.map(u=>({id:`${r}_error_${Object(i.d)()}`,message:u})):p&&h?[{id:h,message:h}]:[],[h,r,p])}o(c,"useFieldErrors")},"5/Zs":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("JoR1");function t(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!!(Object(n.t)(a,"msg_input_send_btn")||i)}o(t,"getEnterCreatesNewlinePref")},"53ci":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("ifKl"),c=e("WIr4"),r=e("3l96"),f=e("417x"),l=e("YGCq");function p(){return p=Object.assign||function(u){for(var b=1;b<arguments.length;b++){var v=arguments[b];for(var d in v)Object.prototype.hasOwnProperty.call(v,d)&&(u[d]=v[d])}return u},p.apply(this,arguments)}o(p,"_extends");function h(u){let b=o(class extends n.PureComponent{handleConfirmDialogCancel(){this.onConfirmDialogCancel&&this.onConfirmDialogCancel(),this.hideConfirmDialog&&this.hideConfirmDialog()}handleConfirmDialogGo(){this.onConfirmDialogGo&&this.onConfirmDialogGo(),this.hideConfirmDialog&&this.hideConfirmDialog()}hideConfirmDialog(m){m&&this.dialog&&this.dialog.close()}showConfirmDialog(m){let{onConfirmDialogGo:g=i.a,onConfirmDialogCancel:O=i.a}=m;this.onConfirmDialogGo=g,this.onConfirmDialogCancel=O,this.dialog=this.props.openModal({element:this.renderConfirmDialog()})}renderConfirmDialog(){const{confirm:m,variant:g}=this.props;return t.a.createElement(l.a,p({},Object(f.b)(m),{dangerGoButton:g==="danger",onCancel:this.handleConfirmDialogCancel,onGo:this.handleConfirmDialogGo}))}render(){return t.a.createElement(u,p({showConfirmDialog:this.showConfirmDialog,hideConfirmDialog:this.hideConfirmDialog},this.props))}constructor(m){super(m),Object(c.a)(this,["showConfirmDialog","hideConfirmDialog","handleConfirmDialogGo","handleConfirmDialogCancel"])}},"AttachmentActionConfirmDialogWrapper");b.displayName="AttachmentActionConfirmDialogWrapper";const v={openModal:r.a};return Object(a.a)(null,v)(b)}o(h,"withAttachmentActionConfirmDialog"),h.displayName="withAttachmentActionConfirmDialog",s.a=h},"59Ab":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("q1tI"),t=e.n(n);function a(){const i=Object(n.useRef)(!1);return Object(n.useEffect)(()=>(i.current=!0,()=>{i.current=!1})),i}o(a,"useMounted")},"5BbJ":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("ZKjC"),t=e("G0eX"),a=e("2cBL");const i=Object(n.b)((c,r)=>{let{channel:f,xwsAlpha:l=!1}=r;const p=Object(a.a)(c,{channel:f,xwsAlpha:l});return Object(t.h)(p)});i.meta={name:"createSelector",key:"createSelectorgetTeamNameForChannelInUnifiedGrid",description:(c,r)=>{let{channel:f,xwsAlpha:l=!1}=r;const p=Object(a.a)(c,{channel:f,xwsAlpha:l});return Object(t.h)(p)}}},"5SjC":function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t,a){t.eachLine((i,c)=>{i.insert(`
`,c);const r={insert:`
`,attributes:c};i.forEach(f=>{a(f,r)})})}o(n,"deltaForEachWithLineData")},"5icM":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("F294"),c=e("SQ0V"),r=e("3l96"),f=e("+kJ4"),l=e("WIr4"),p=e("Cfcg"),h=e("BHdc"),u=e("E3dU"),b=e("T1zM"),v=e("dlm8"),d=e("kQBZ"),m=e("q0lC"),g=e("E97Y"),O=e("oNuo"),E=e("6kKm"),y=e("YUBf"),C=e("Ccc1"),I=e("qMw6"),j=e("RB1+"),M=e("nNoG"),T=e("Efzj"),D=e("zxER"),S=e("zm5I");function A(z){let{handleMouseEnterOrClick:L}=z;return t.a.createElement("div",{onMouseEnter:L,onClick:L,role:"presentation",className:"p-shouty_rooster_animation"},t.a.createElement("svg",{width:"520",height:"291",viewBox:"0 0 400 180",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M186.961 169.996c31.972 0 57.89-1.335 57.89-2.983 0-1.648-25.918-2.984-57.89-2.984s-57.891 1.336-57.891 2.984 25.919 2.983 57.891 2.983Z",fill:"#000"}),t.a.createElement("g",{className:"p-shouty_rooster_animation__clouds"},t.a.createElement("path",{className:"p-shouty_rooster_animation__left-cloud",d:"M14.667 73.97h79.472S71.352 40.424 63.472 60.745c0 0-34.234-28.137-31.49 0 0 0-31.49-15.046-17.315 13.223Z",fill:"#fff"}),t.a.createElement("path",{d:"M338.514 53.164c7.853 0 14.219-6.374 14.219-14.238 0-7.863-6.366-14.237-14.219-14.237s-14.218 6.374-14.218 14.237c0 7.864 6.365 14.238 14.218 14.238Z",fill:"#ECB22E"}),t.a.createElement("path",{className:"p-shouty_rooster_animation__right-cloud",d:"M384.076 59.276h-79.473s22.789-33.544 30.668-13.223c0 0 34.234-28.137 31.49 0 0 0 31.49-15.031 17.315 13.223Z",fill:"#fff"})),t.a.createElement("g",null,t.a.createElement("path",{d:"m191.562 164.553-11.926-20.339 3.112-1.697 11.927 20.338-3.113 1.698Z",fill:"#BF7900"}),t.a.createElement("path",{d:"M209.011 165.428h-22.769a1.434 1.434 0 0 1-1.012-.416 1.43 1.43 0 0 1-.417-1.012 1.43 1.43 0 0 1 1.355-1.429l21.945-.934a2.278 2.278 0 0 1 2.218 1.385c.122.286.185.593.184.903a1.5 1.5 0 0 1-.438 1.065 1.505 1.505 0 0 1-1.066.438Z",fill:"#BF7900"}),t.a.createElement("path",{d:"m186.871 156.552-4.07 2.677s2.155 2.991 6.524.852l-2.454-3.529Z",fill:"#BF7900"}),t.a.createElement("path",{d:"m184.05 144.73-2.267 3.156-2.147-3.672 3.112-1.697 1.302 2.213Z",fill:"#805100"}),t.a.createElement("path",{d:"m173.036 164.553-11.927-20.339 3.113-1.697.756 1.286 11.171 19.052-3.113 1.698Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M190.485 165.428h-22.769a1.43 1.43 0 0 1-1.012-.416 1.415 1.415 0 0 1-.417-1.012 1.42 1.42 0 0 1 1.355-1.429l21.945-.934a2.287 2.287 0 0 1 2.402 2.288 1.505 1.505 0 0 1-.438 1.065 1.505 1.505 0 0 1-1.066.438Z",fill:"#FFA100"}),t.a.createElement("path",{d:"m168.352 156.552-4.063 2.677s2.155 2.991 6.525.852l-2.462-3.529Z",fill:"#FFA100"}),t.a.createElement("path",{d:"m164.978 143.803-2.597 2.587-1.272-2.176 3.113-1.697.756 1.286Z",fill:"#805100"})),t.a.createElement("g",{className:"p-shouty_rooster_animation__body"},t.a.createElement("g",{className:"p-shouty_rooster_animation__right-wing"},t.a.createElement("path",{d:"M256.434 63.42s-3.816-6.123-11.747 2.199-33.386 17.086-41.579 27.666c-8.194 10.581 7.482 30.74 31.47 21.543s23.524-16.204 15.242-16.002c0 0 18.421-9.541.202-11 0 0 14.515-6.415 10.108-10.61-4.407-4.194-11.074-.261-11.074-.261s9.907-7.986 7.378-13.534Z",fill:"#921D21"}),t.a.createElement("path",{d:"M260.13 77.194c-4.414-4.195-11.073-.261-11.073-.261s9.906-8.001 7.377-13.512c0 0-3.352-5.384-10.303.8a5.135 5.135 0 0 1 6.248 1.772c2.529 5.51-7.378 13.512-7.378 13.512s6.659-3.933 11.066.261c2.013 1.915.09 4.285-2.603 6.304 3.988-2.198 9.644-6.042 6.666-8.876Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M249.909 98.804a36.853 36.853 0 0 1-4.167 2.572c5.596-.134 7.639 2.991.987 7.896 11.239-6.288 9.63-10.573 3.18-10.468Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M250.022 87.805c-2.492 1.495-4.056 2.572-4.056 2.572 11.785.95 8.231 5.234 4.258 8.225 2.581-1.428 16.745-9.407-.202-10.797Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M222.464 79.437a31.99 31.99 0 0 1 7.176 20.25s.239 7.851-5.163 17.392a33.018 33.018 0 0 0 6.457-1.092c8.687-26.186-8.47-36.55-8.47-36.55Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M245.001 79.505s-5.402 3.626-10.288 5.234c0 0 9.263-4.629 13.154-7.926a17.017 17.017 0 0 1-2.866 2.692Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M245.966 90.377a63.809 63.809 0 0 1-6.248 3.118l10.304-5.69-4.056 2.572Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M245.757 101.376a68.983 68.983 0 0 1-6.375 2.886l9.293-4.606-2.918 1.72Z",fill:"#6E1619"})),t.a.createElement("path",{className:"p-shouty_rooster_animation__yellow-tail",d:"M144.514 77.733s-2.993-9.527-9.997-10.506a1.497 1.497 0 0 0-1.496 2.243c1.496 2.624 3.816 6.976 3.816 9.145 0 0-9.555-6.73-17.546-2.049a1.626 1.626 0 0 0-.769 1.6 1.625 1.625 0 0 0 1.158 1.346l10.034 2.991s-12.077-.037-16.461 7.478a1.764 1.764 0 0 0 2.124 2.564c3.106-1.159 7.43-2.624 9.383-2.624 0 0-7.654 5.062-8.515 13.504a2.285 2.285 0 0 0 1.181 2.286 2.29 2.29 0 0 0 2.561-.267c3.419-2.849 8.814-6.812 13.266-7.732 0 0-9.278 3.896-10.086 12.764-.809 8.868 5.379 4.307 9.278-6.984 3.898-11.29 13.849-13.31 13.849-13.31l-1.78-12.45Z",fill:"#FFA100"}),t.a.createElement("path",{className:"p-shouty_rooster_animation__pink-tail",d:"M149.033 87.087s-1.497-11.62-5.11-11.62c0 0-2.245-.464-1.632 4.875.614 5.339.584 7.904.584 7.904s-4.422-12.084-12.555-8.973c0 0-1.983 1.817 1.661 5.458a47.666 47.666 0 0 1 5.133 5.803s-6.66-3.888-10.131-1.593c-3.472 2.296-1.123 3.537 2.648 4.3 3.771.762 4.804 1.802 4.804 1.802s-9.151 2.243-9.151 7.739c0 0-.075 4.539 7.482-1.884 0 0-4.362 4.538-4.362 8.972 0 4.435 3.741 4.711 6.891-2.475a11.442 11.442 0 0 1 10.476-6.886l4.654-7.717-1.392-5.705Z",fill:"#F2606A"}),t.a.createElement("g",{className:"p-shouty_rooster_animation__shout"},t.a.createElement("path",{d:"m245.854 17.322-12.997 8.734a.94.94 0 0 1-.975.08.94.94 0 0 1-.521-.828l-.561-13.4a.945.945 0 0 0-1.774-.41l-6.801 12.606a.944.944 0 0 1-1.654 0l-4.676-8.225a.945.945 0 0 0-1.759.36l-1.818 15.47a.943.943 0 0 1-1.406.71l-7.326-4.18a.94.94 0 0 0-1.078.097.949.949 0 0 0-.304.48.947.947 0 0 0 .028.567l2.761 7.553a.946.946 0 0 1-.15.91.948.948 0 0 1-.852.353l-5.844-.673a.951.951 0 0 0-.891 1.496l15.249 22.357c.077.105.171.196.277.27l14.037 8.71a.942.942 0 0 0 1.437-.926l-1.108-8.293a.95.95 0 0 1 .289-.809.944.944 0 0 1 .826-.238l13.468 2.572a.945.945 0 0 0 1.025-.542.942.942 0 0 0-.276-1.125l-8.568-6.774a.94.94 0 0 1-.328-.973.94.94 0 0 1 .755-.695l15.009-2.468a.94.94 0 0 0 .657-1.41.944.944 0 0 0-.455-.392l-10.655-4.419a.941.941 0 0 1 0-1.735l13.693-6.094a.943.943 0 0 0-.381-1.81h-13.708a.941.941 0 0 1-.748-1.495l9.472-14.147a.942.942 0 0 0-1.369-1.264Z",fill:"#fff"}),t.a.createElement("path",{d:"M219.651 29.623a44.455 44.455 0 0 1-3.09 11.111 44.455 44.455 0 0 1 3.09-11.111Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M229.296 30.939a34.492 34.492 0 0 1-5.866 8.33 34.968 34.968 0 0 1 5.866-8.33Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M229.842 44.435a25.07 25.07 0 0 1-6.951 5.093 24.803 24.803 0 0 1 6.951-5.093Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M222.734 43.957a7.684 7.684 0 0 1-3.083 3.627 7.754 7.754 0 0 1 3.083-3.627Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M237.092 38.723a10.344 10.344 0 0 1-4.938 2.467 10.312 10.312 0 0 1 4.938-2.467Z",fill:"#FFA100"})),t.a.createElement("path",{d:"M229.64 99.694a32.196 32.196 0 0 0-16.617-28.157 32.248 32.248 0 0 0-32.699.871l-3.36 25.08c-6.345.748-17.897 1.495-25.148-2.184 0 0 3.465-11.148-.748-11.148-4.212 0-4.22 11.148-4.22 11.148s-2.409-9.19-6.48-9.19c-4.07 0 1.347 8.278 1.347 8.278s-6.36-5.234-8.29-3.267c-1.931 1.966 5.746 7.006 5.746 7.006s-5.237-1.45-6.928 2.31c-1.497 3.358 4.437 2.535 5.761 2.311-1.07.209-5.058 1.249-4.407 4.771.748 4.067 5.238 0 5.238 0s-2.514 23.045 17.089 28.466a6.227 6.227 0 0 0 4.007 8.213 6.243 6.243 0 0 0 3.378.065l11.538-3.036c-1.609 10.468 22.567-1.608 22.567-1.608 19.371-9.878 26.629-21.789 26.629-21.789 5.851-9.885 5.597-18.14 5.597-18.14Z",fill:"#921D21"}),t.a.createElement("path",{d:"m182.269 59.996.749-1.144c1.129-6.82 4.556-9.182 8.23-10.349l2.499-2.662a5.765 5.765 0 0 1 6.847 3.829s6.157-2.505 5.088-5.893c-.951-2.99-5.62-3.417-6.735-7.627a.805.805 0 0 0-.694-.588.81.81 0 0 0-.802.431 4.292 4.292 0 0 0-.441 2.087.621.621 0 0 1-1.063.471c-1.279-1.309-2.993-3.35-3.487-5.444a.799.799 0 0 0-1.089-.56.806.806 0 0 0-.355.29 4.811 4.811 0 0 0-.651 3.934.61.61 0 0 1-.623.756.61.61 0 0 1-.349-.128c-1.759-1.346-4.408-3.955-5.111-7.799a.806.806 0 0 0-.639-.686.805.805 0 0 0-.857.38c-.876 1.443-1.624 3.918-.105 7.41a.624.624 0 0 1-.185.712.62.62 0 0 1-.735.036 13.07 13.07 0 0 1-5.014-6.401.804.804 0 0 0-1.163-.513c-.144.08-.26.2-.333.348-1.085 1.922-2.11 5.6 1.586 10.237a.606.606 0 0 1 .069.683.61.61 0 0 1-.608.319c-1.496-.187-4.077-1.316-6.113-6.199a.798.798 0 0 0-1.23-.292.799.799 0 0 0-.266.397c-.861 3.267-1.497 9.324 4.04 12.487a.623.623 0 0 1 .293.694.62.62 0 0 1-.592.465 16.682 16.682 0 0 1-6.233-1.226.808.808 0 0 0-1.062 1.017c1.354 3.507 5.462 10.984 17.134 10.528Z",fill:"#F2606A"}),t.a.createElement("path",{d:"M182.778 37.055a.614.614 0 0 0 .546-.86c-1.496-3.372-.815-5.78 0-7.245a.695.695 0 0 0-.494.329c-.875 1.443-1.623 3.918-.104 7.41a.625.625 0 0 1 .052.366Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M190.388 37.018a.611.611 0 0 0 .598-.748 4.79 4.79 0 0 1 .546-3.739.747.747 0 0 0-.471.307 4.813 4.813 0 0 0-.651 3.933.605.605 0 0 1-.022.247Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M177.047 41.617a.608.608 0 0 0 .607-.683.602.602 0 0 0-.136-.312c-3.606-4.486-2.709-8.135-1.661-10.095a.741.741 0 0 0-.501.352c-1.085 1.922-2.11 5.6 1.586 10.236a.62.62 0 0 1 .105.502Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M197.631 37.564c-.03-.69.111-1.375.411-1.997a.752.752 0 0 0-.546.404 4.305 4.305 0 0 0-.442 2.086.598.598 0 0 1-.044.15.618.618 0 0 0 .582-.398.605.605 0 0 0 .039-.245Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M187.335 50.485a12.309 12.309 0 0 1 3.951-1.997l.411-.433a11.6 11.6 0 0 0-4.362 2.43Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M201.207 49.161a5.765 5.765 0 0 0-6.846-3.828l-.442.47a5.756 5.756 0 0 1 6.734 3.852 14.216 14.216 0 0 0 3.697-2.31 14.643 14.643 0 0 1-3.143 1.816Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M165.793 48.974a.805.805 0 0 1 0-.575.812.812 0 0 0-.546.392.81.81 0 0 0-.06.67c1.272 3.514 5.358 10.991 17.052 10.52l.33-.493c-11.471.358-15.511-7.03-16.776-10.514Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M172.842 48.51a.588.588 0 0 1 .291.659.611.611 0 0 0 .543-.853.614.614 0 0 0-.258-.291c-5.56-3.17-4.901-9.227-4.041-12.495l.038-.06a.745.745 0 0 0-.614.553c-.89 3.268-1.549 9.325 4.041 12.488Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"m208.637 69.5 2.11-8.136-7.827-9.93-4.489-7.843-7.362 2.325c-3.689 1.167-7.124 3.53-8.231 10.349l-2.514 16.144-1.25 9.376-2.948 21.954 4.25-5.713a3.04 3.04 0 0 1 5.238.613l.292.68a1.28 1.28 0 0 0 2.192.285l3.33-4.314a1.278 1.278 0 0 1 2.117.134l2.245 3.888a1.286 1.286 0 0 0 2.245-.067l2.005-3.933a1.279 1.279 0 0 1 2.02-.344l3.539 3.342a1.288 1.288 0 0 0 2.035-.374l2.125-4.396a1.292 1.292 0 0 1 1.488-.676 1.3 1.3 0 0 1 .518.272l4.743 4.157a1.292 1.292 0 0 0 1.242.248 1.284 1.284 0 0 0 .853-.935l1.377-6.23a1.277 1.277 0 0 1 .821-.958 1.278 1.278 0 0 1 1.244.211 23.71 23.71 0 0 0 4.594 2.894 1.29 1.29 0 0 0 1.798-.767c.075-.236.079-.49.013-.729a32.268 32.268 0 0 0-7.327-13.135 32.302 32.302 0 0 0-12.486-8.392Z",fill:"#FFA100"}),t.a.createElement("path",{d:"m190.522 78.473 3.038-5.982a1.06 1.06 0 0 1 1.405-.477c.166.079.308.2.413.35l3.742 5.436a1.056 1.056 0 0 0 .904.457 1.064 1.064 0 0 0 .876-.51l3.106-5.122a1.047 1.047 0 0 1 .777-.505 1.055 1.055 0 0 1 .876.303l2.858 2.85a1.066 1.066 0 0 0 1.513-.016c.131-.135.223-.303.268-.486l.98-4.112a33.34 33.34 0 0 0-2.656-1.13l2.11-8.135-7.826-9.93-4.49-7.843-7.362 2.325c-3.689 1.166-7.124 3.53-8.231 10.349l-2.499 16.114-.651 4.905a1.051 1.051 0 0 0 .659 1.15 1.055 1.055 0 0 0 1.264-.403l2.731-4.03a1.063 1.063 0 0 1 1.803.067l2.537 4.435a1.058 1.058 0 0 0 .945.523 1.055 1.055 0 0 0 .91-.583Z",fill:"#FED4BE"}),t.a.createElement("path",{d:"m184.065 72.222 2.529-16.144c1.13-6.82 4.557-9.182 8.231-10.349l4.085-1.294-.479-.844-7.362 2.325c-3.689 1.167-7.124 3.53-8.231 10.349l-2.514 16.144-1.25 9.376 4.654-6.871.337-2.692Z",fill:"#fff"}),t.a.createElement("path",{d:"M202.898 44.294s3.876-5.392 10.834-1.705c0 0-5.821.112-7.624 8.778l-3.21-7.073Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M203.519 45.116a7.985 7.985 0 0 1 9.383-2.363c.284-.072.575-.118.868-.135-6.959-3.686-10.835 1.705-10.835 1.705l3.21 7.074c0-.112.045-.217.075-.329l-2.701-5.952Z",fill:"#FFC766"}),t.a.createElement("path",{d:"M205.659 51.674c2.073-.584 2.941.747 9.727-2.767 0 0-1.429 6.969-5.739 6.55l-3.988-3.783Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M214.032 49.572c-.674 1.997-2.245 5.317-5.238 5.093l.823.792c4.31.419 5.739-6.55 5.739-6.55a27.67 27.67 0 0 1-1.324.666Z",fill:"#BF7900"}),t.a.createElement("path",{d:"M216.239 57.7c-.958-2.684-2.177-5.33-6.143-5.04a2.994 2.994 0 0 1-3.741-1.943l-1.048-3.298a5.757 5.757 0 0 0-6.846-3.828 5.582 5.582 0 0 0-3.477 2.83 5.582 5.582 0 0 0-.264 4.474 5.595 5.595 0 0 0 7.011 3.358 2.748 2.748 0 0 1 2.147.15 3.892 3.892 0 0 1 2.006 2.625l2.446 11.216c.039.32.106.635.202.942a5.583 5.583 0 0 0 10.648-3.358l-2.941-8.128Z",fill:"#F2606A"}),t.a.createElement("path",{d:"m219.172 65.836-2.933-8.136c-.658-1.847-1.444-3.671-3.158-4.538.434.789.797 1.614 1.085 2.467l2.918 8.128A5.57 5.57 0 0 1 212.211 71a5.578 5.578 0 0 1-3.215-.722 5.584 5.584 0 0 0 9.92-.463 5.575 5.575 0 0 0 .249-3.98h.007Z",fill:"#B54850"}),t.a.createElement("path",{d:"M195.528 51.472a5.59 5.59 0 0 1 .264-4.477 5.577 5.577 0 0 1 3.477-2.836 5.497 5.497 0 0 1 4.243.613 5.534 5.534 0 0 0-6.796-.374 5.527 5.527 0 0 0-2.011 6.498 5.524 5.524 0 0 0 2.454 2.886 5.458 5.458 0 0 1-1.631-2.31Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M200.025 51.77a3.18 3.18 0 1 0-3.18-3.177 3.18 3.18 0 0 0 3.18 3.178Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"m179.059 81.778-2.94 21.961 5.088-25.132-2.148 3.17Z",fill:"#FFC766"}),t.a.createElement("path",{d:"M199.621 50.395a2.35 2.35 0 0 1-.674-.105 2.252 2.252 0 0 1-1.331-1.106.501.501 0 0 1 .59-.71.498.498 0 0 1 .292.246 1.248 1.248 0 0 0 .749.613 1.213 1.213 0 0 0 .965-.09 1.247 1.247 0 0 0 .613-.748 1.27 1.27 0 0 0-.089-.964.497.497 0 0 1 .589-.672c.12.031.225.105.294.209a2.242 2.242 0 0 1-.943 3.058 2.246 2.246 0 0 1-1.055.269Z",fill:"#000"}),t.a.createElement("path",{d:"M174.862 141.208c-1.609 10.469 22.566-1.607 22.566-1.607a7.818 7.818 0 0 0 2.604-2.161 47.085 47.085 0 0 0 10.124-28.414s-1.968 22.35-35.294 32.182Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M156.336 141.313a6.164 6.164 0 0 0 6.988 2.931l11.538-3.036a4.961 4.961 0 0 0 0 1.802l11.223-6.064c-25.694 8.36-29.704 4.374-29.749 4.367Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M138.849 107.5s-2.431 22.432 16.304 28.22l4.22-3.193c-20.95-2.453-20.524-25.027-20.524-25.027Z",fill:"#6E1619"}),t.a.createElement("g",{className:"p-shouty_rooster_animation__left-wing"},t.a.createElement("path",{d:"M147.454 108.697s-1.646-6.379 8.859-6.379c10.505 0 32.316-11.313 44.468-10.08 12.151 1.234 15.645 24.272-5.56 34.352-21.205 10.08-25.529 5.354-20.202 0 0 0-17.905 6.176-7.407-6.79 0 0-13.386 5.556-13.386 0 0-5.555 6.794-7.477 6.794-7.477s-11.501 1.511-13.566-3.626Z",fill:"#921D21"}),t.a.createElement("path",{d:"M185.472 123.554s-17.913 6.176-7.415-6.789c0 0-13.379 5.555-13.379 0 0-5.556 6.794-7.478 6.794-7.478s-11.53 1.496-13.588-3.634a4.646 4.646 0 0 1 .674-3.484 18.52 18.52 0 0 1-2.245.149c-10.475 0-8.859 6.378-8.859 6.378 2.065 5.145 13.588 3.627 13.588 3.627s-6.794 1.929-6.794 7.477c0 5.549 13.386 0 13.386 0-10.475 12.966 7.407 6.79 7.407 6.79-4.773 4.778-1.833 9.048 13.925 2.752-6.397.792-6.914-2.371-3.494-5.788Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M156.807 114.634a12.6 12.6 0 0 1 4.235-2.311s-11.523 1.496-13.588-3.627a4.6 4.6 0 0 1 0-1.719 4.633 4.633 0 0 0-.928 3.821c1.325 3.357 6.704 3.88 10.281 3.836Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M167.604 119.815s-13.386 5.556-13.386 0a6.497 6.497 0 0 1 .18-1.495 6.239 6.239 0 0 0-1.13 3.612c0 4.71 9.622 1.428 12.548.321a30.424 30.424 0 0 1 1.788-2.438Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M175.041 126.59s-12.166 4.195-10.557-1.593c-4.445 7.545 5.814 4.868 8.814 3.956a8.54 8.54 0 0 1 1.743-2.363Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M195.221 126.59c-16.371 7.784-22.671 6.73-22.237 3.395-3.42 4.733 1.81 7.971 21.279-1.286 7.483-3.552 11.86-8.704 13.91-13.946-2.334 4.494-6.495 8.801-12.952 11.837Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M171.472 109.287s6.128-.957 15.227-5.025c0 0-12.72 5.407-24.909 4.487 0-.023 1.796 1.099 9.682.538Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M178.079 116.765a116.934 116.934 0 0 0 12.032-5.377l-17.299 7.126 5.267-1.749Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M185.472 123.554s5.986-2.767 8.724-5.982c0 0-7.722 5.661-12.076 6.894l3.352-.912Z",fill:"#6E1619"})))))}o(A,"ShoutyRooster"),A.displayName="ShoutyRooster";var P=A;function N(){const L=Object(D.c)(S.a)==="dark",[$,Q]=Object(n.useState)(!0),K=Object(h.default)("p-message_pane_modal_rooster__header p-message_pane_modal_rooster__header--animation",{"p-message_pane_modal_rooster__header--dark":L,on:$}),Z=o(()=>{Q(!1),setTimeout(()=>{Q(!0)},10)},"handleMouseEnterOrClick");return t.a.createElement(y.i,{className:K},t.a.createElement(P,{handleMouseEnterOrClick:Z}))}o(N,"MessagePaneModalRooster"),N.displayName="MessagePaneModalRooster";var G=N,V=e("Lgge"),k=e("vbTZ");const x=new M.b("message-input");let H=o(class extends n.Component{componentDidMount(){const{channelId:L}=this.props;this.props.fetchConversationInfo({channel:L||"",timezoneCount:!0,displayCounts:!0,reason:"message-input-broadcast-warning"}).then($=>{!$||!$.channel||this.setState(()=>({timezoneCount:$.channel.timezone_count,memberCount:$.channel.display_counts.display_counts}))}),this.props.setUserPrefByApi({pref:"last_seen_at_channel_warning",value:Date.now()})}sendMessage(){const{channelId:L,dateScheduled:$}=this.props,Q=Object(j.a)({viewContext:I.a.MESSAGE_PANE,channelId:L});Q&&!$&&Q.clear(),this.props.onSend&&this.props.onSend(),this.props.onClose&&this.props.onClose({didSend:!0})}render(){const{channel:L,isCurrentUserAdmin:$,blockedKeyword:Q}=this.props,{timezoneCount:K,memberCount:Z}=this.state,ne=Object(O.a)(Q||""),F=Object(E.a)(ne),J=Z-1,X=Object(g.i)(L);let Y,ae="",ee=null;Q==="BKhere"?X?Y=x.rt("Notify everyone currently online?",{fallbackHash:"a03d9c400e94492c69f43d82d4acccaa9c845571"}):Y=x.rt("Notify everyone currently online in {channelName}?",{channelName:t.a.createElement(C.a,{channel:L})}):!K||K<2?Y=x.rt("Notify {member_count, plural, =1 {# person} other {# people}}?",{member_count:J}):Y=x.rt("Notify {member_count, plural, =1 {# person} other {# people}} across {timezone_count} time zones?",{member_count:J,timezone_count:K}),Q==="BKhere"?ae=x.rt("Using {keyword} pings everyone in the channel who\u2019s currently online. It\u2019s a bit noisy! Are you sure you want to send this?",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",F)}):ae=x.rt("Using {keyword} pings everyone in the channel. It\u2019s rather noisy! Are you sure you want to send this?",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",F)}),this.props.dateScheduled&&(Q==="BKhere"?(Y=x.rt("Notify everyone who\u2019ll be online in {channelName}?",{channelName:t.a.createElement(C.a,{channel:L})}),X&&(Y=x.rt("Notify everyone who\u2019ll be online?",{fallbackHash:"a03d9c400e94492c69f43d82d4acccaa9c845571"}))):!K||K<2?(Y=x.rt("Notify everyone in {channelName}?",{channelName:t.a.createElement(C.a,{channel:L})}),X&&(Y=x.rt("Notify everyone?",{fallbackHash:"a03d9c400e94492c69f43d82d4acccaa9c845571"}))):Y=x.rt("Notify everyone in this channel across {timezone_count} timezones?",{timezone_count:K}),Q==="BKhere"?(ae=x.rt("Using {keyword} will notify everyone in the channel who\u2019s online at the time this message is sent. It can be a bit noisy \u2014 please confirm that this is what you\u2019d like to do.",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",F)}),X&&(ae=x.rt("Using {keyword} will notify everyone who\u2019s online at the time this message is sent. It can be a bit noisy \u2014 please confirm that this is what you\u2019d like to do.",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",F)}))):(ae=x.rt("Using {keyword} will notify about {member_count, plural, =1 {# person} other {# people}} when this message sends (the number of members can change day by day). This type of mention can be a bit noisy \u2014 please confirm that this is what you\u2019d like to do.",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",F),member_count:J,fallbackHash:"911a1611422dac393a3d0d45e7358845eb6af463",fallbackHashNs:"message-input"}),X&&(ae=x.rt("Using {keyword} will notify {member_count, plural, =1 {# person} other {# people}} when this message sends. This type of mention can be a bit noisy \u2014 please confirm that this is what you\u2019d like to do.",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",F),member_count:J})))),$&&(ee=x.rt("Pssst, admins\u2026 You can control this warning in {workspace_settings_link}.",{workspace_settings_link:t.a.createElement(T.a,{href:"/admin/settings#permissions",target:"_blank"},x.t("Workspace settings")),fallbackHash:"615aa02f49bf059029c3416b43186a213e8263af"}));const q=Object(h.default)({margin_top_125:!Y,margin_bottom_0:!ee});return t.a.createElement(y.a,{closeModal:this.props.onClose},t.a.createElement(G,null),t.a.createElement(y.d,null,t.a.createElement(y.e,null,Y&&t.a.createElement("h3",{className:"subtitle margin_bottom_100 margin_top_125"},Y),t.a.createElement("p",{className:q},ae),ee)),t.a.createElement(y.g,null,t.a.createElement(y.h,null,t.a.createElement(y.c,{type:"outline"},x.t("Edit Message",{fallbackHash:"96116a523d6a64a028149a2a0d6bd6d0f094c901"})),t.a.createElement(y.c,{onClick:this.sendMessage,autoFocus:!0},this.props.dateScheduled?x.t("Schedule Message"):x.t("Send")))))}constructor(L){super(L),this.state={timezoneCount:void 0,memberCount:L.initialMemberCount},Object(l.a)(this,["sendMessage"])}},"MessagePaneInputBroadcastWarning");H.displayName="MessagePaneInputBroadcastWarning",H.defaultProps={isCurrentUserAdmin:!1,onClose:a.a,onSend:a.a,fetchConversationInfo:()=>V.a.resolve(),setUserPrefByApi:a.a};const R=o((z,L)=>{let{channelId:$}=L;const Q=Object(v.d)(z,$);return{channel:Object(u.d)(z,$),initialMemberCount:Q&&Q.counts&&Q.counts.member_count,isCurrentUserAdmin:Object(m.e)(z)}},"mapStateToProps"),W={fetchConversationInfo:z=>Object(d.id)(z),setUserPrefByApi:z=>Object(b.f)(z)};var U=Object(p.a)(R,W)(H);const _=Object(c.c)("Display broadcast warning (shouty rooster)",(z,L,$)=>{let{channelId:Q,keywordsInUse:K,dateScheduled:Z,onClose:ne=a.a,onSend:F}=$,J=Object(i.a)(K);K.includes("BKchannel")&&(J="BKchannel"),K.includes("BKeveryone")&&(J="BKeveryone");const X=t.a.createElement(U,{channelId:Q,blockedKeyword:J,dateScheduled:Z,onClose:Y=>{z(Object(f.a)()),ne&&ne(Y)},onSend:F});z(Object(r.a)({element:X}))});_.meta={name:"createThunk",key:"createThunkopenBroadcastKeywordWarningDialog",description:"Display broadcast warning (shouty rooster)"};var B=s.a=_},"5jHt":function(w,s,e){"use strict";e.d(s,"o",function(){return P}),e.d(s,"d",function(){return G}),e.d(s,"r",function(){return V}),e.d(s,"l",function(){return k}),e.d(s,"c",function(){return H}),e.d(s,"q",function(){return R}),e.d(s,"a",function(){return W}),e.d(s,"b",function(){return U}),e.d(s,"k",function(){return B}),e.d(s,"h",function(){return z}),e.d(s,"p",function(){return L}),e.d(s,"i",function(){return $}),e.d(s,"n",function(){return Q}),e.d(s,"m",function(){return Z}),e.d(s,"f",function(){return ne}),e.d(s,"g",function(){return F}),e.d(s,"e",function(){return J}),e.d(s,"j",function(){return X});var n=e("fujP"),t=e("zmn3"),a=e("lCmp"),i=e("AFNo"),c=e("DOHs"),r=e("kBpe"),f=e("9Gfp"),l=e("E3dU"),p=e("6CnZ"),h=e("UIhb"),u=e("ZOzc"),b=e("xwCZ"),v=e("+tZp"),d=e("dmdh"),m=e("mzZe"),g=e("y/Pn"),O=e("xcHN"),E=e("P9LH"),y=e("sp7N"),C=e("se5Z"),I=e("Yauy"),j=e("o5tZ"),M=e("nNoG"),T=e("i5Ig"),D=e("FH+Z"),S=e("ZTSm");const A=new M.b("stories_av"),P=o((Y,ae)=>{const ee=!!ae&&Object(g.a)(ae);let q=!0;return ee?q=Object(u.a)(Y,"allow_video_clips")&&Object(u.a)(Y,"allow_video_clip_sharing_slack_connect"):q=Object(u.a)(Y,"allow_video_clips"),q},"isVideoClipSharingEnabledForChannel"),N=o((Y,ae,ee)=>{const q=Object(l.d)(Y,ae),te=P(Y,q);return(!ae||!ee&&Object(m.b)(Y,ae)||!!ee&&Object(I.b)(Y,q))&&te},"canDestinationReceiveVideoClips"),G=o((Y,ae,ee)=>N(Y,ae,ee),"canPostVideoClipInDestination"),V=o((Y,ae,ee)=>N(Y,ae,ee)&&G(Y,ae,ee)&&!!window.MediaRecorder,"shouldRenderVideoRecorderButtonInComposer"),k=o((Y,ae)=>{const ee=!!ae&&Object(g.a)(ae);let q=!0;return ee?q=Object(u.a)(Y,"allow_audio_clips")&&Object(u.a)(Y,"allow_audio_clip_sharing_slack_connect"):q=Object(u.a)(Y,"allow_audio_clips"),q},"isAudioClipSharingEnabledForChannel"),x=o((Y,ae,ee)=>{const q=Object(l.d)(Y,ae),te=k(Y,q);return(!ae||!ee&&Object(m.b)(Y,ae)||!!ee&&Object(I.b)(Y,q))&&te},"canDestinationReceiveAudioClips"),H=o((Y,ae,ee)=>x(Y,ae,ee),"canPostAudioMessageInDestination"),R=o((Y,ae,ee)=>x(Y,ae,ee)&&H(Y,ae,ee)&&!!window.MediaRecorder,"shouldRenderAudioRecorderButtonInComposer"),W=o((Y,ae)=>{if(!Q(ae))return!0;const ee=Object(u.a)(Y,"allow_clip_downloads"),q=Object(f.a)(Y),te=Object(c.b)(Y,q);if(ee==="anyone"||te)return!0;const de=ae.user!==null&&ae.user===q;return!!(ee==="creator_and_admins"&&de)},"canDownloadClip"),U=o((Y,ae)=>W(Y,ae)||Object(r.i)(),"canOpenClipInNewWindow"),_=Object(i.c)((Y,ae)=>{if(!ae)return!1;if(Object(n.a)(ae.files))return T.a;const ee=Object(t.a)(ae.files,q=>Object(d.e)(Y,q));return Object(a.a)(ee,y.a)});_.meta={name:"createSelector",key:"createSelectorisStoryMessage",description:(Y,ae)=>{if(!ae)return!1;if(Object(n.a)(ae.files))return T.a;const ee=Object(t.a)(ae.files,q=>Object(d.e)(Y,q));return Object(a.a)(ee,y.a)}};function B(Y){let{state:ae,threadKey:ee,includeAllMessages:q=!1,startTs:te}=Y;const{channelId:de,threadTs:se}=Object(O.a)(ee),{timestamps:re,reachedStart:oe,reachedEnd:ce}=Object(p.h)(ae,ee,te||se)||{},ue=re!=null&&re.length&&de?re.map(Pe=>Object(h.b)(ae,de,Pe)).filter(S.a):[];return{messages:q?ue:ue.filter(Pe=>_(ae,Pe)),reachedStart:!!oe,reachedEnd:!!ce}}o(B,"getMediaThread");function z(Y){var ae;return Y!=null&&Y.vtt?j.a.available:(Y==null||(ae=Y.transcription)===null||ae===void 0?void 0:ae.status)==="processing"?j.a.processing:j.a.none}o(z,"getCaptionsAvailability");const L=o(Y=>Object(u.a)(Y,"allow_media_transcriptions"),"shouldAllowMediaTranscriptions");function $(Y,ae){let ee="";if(ae.user){const te=Object(b.g)(Y,ae.user);ee=te?Object(v.a)(Y,te):""}let q;return ee?q=Object(C.a)(ae)?A.t("Audio clip from {memberName}",{memberName:ee}):A.t("Video clip from {memberName}",{memberName:ee}):q=Object(C.a)(ae)?A.t("Audio clip"):A.t("Video clip"),q}o($,"getLabelForClip");function Q(Y){return Y!=null&&Y.subtype?K(Y.subtype):!1}o(Q,"isClip");function K(Y){let{clipsSubtypes:ae=D.i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ae.includes(Y)}o(K,"isClipsSubtype");function Z(Y){return Y===D.f}o(Z,"isAudioClipSubtype");function ne(Y){return Y&&Y.some(ae=>K(ae.subtype))}o(ne,"containsClip");function F(Y){return Y?Y.filter(ae=>K(ae.subtype)):[]}o(F,"findClips");function J(Y,ae){const ee=Object(f.a)(Y);return(ae==null?void 0:ae.user)===ee}o(J,"canRemoveTranscriptPreview");function X(Y){return Object(E.r)(Y)?(Y==null?void 0:Y.aac)||(Y==null?void 0:Y.url_private):(Y==null?void 0:Y.mp4)||(Y==null?void 0:Y.url_private)}o(X,"getMediaSrc")},"62K+":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("Cnv9"),t=e("SQ0V"),a=e("1PxT");const i=Object(t.c)("Gets contacts to unfurl and formats them as message attachments",function(c,r){let{draftId:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=r();if(!Object(n.b)(l))return[];if(!f)return[];const p=Object(a.d)(l,f);if(!(p!=null&&p.length))return[];const h=p.map(u=>({contact_user_id:u}));return h!=null&&h.length?h:[]});i.meta={name:"createThunk",key:"createThunkgetContactUnfurlsForMessageSend",description:"Gets contacts to unfurl and formats them as message attachments"}},"69+H":function(w,s,e){"use strict";e.d(s,"a",function(){return h}),e.d(s,"b",function(){return u});var n=e("Z7Ay"),t=e("Z3Pq"),a=e("FepR"),i=e("s4P+"),c=e("4p6e");const r=[{$id:"optional-values",$schema:"http://json-schema.org/draft-07/schema#",additionalProperties:{properties:{id:{type:"string"},optional:{type:"string"}},required:["id"],type:"object"},id:"optional-values",type:"object"}];function f(){return Object(t.a)(a.a,"schema.id")}o(f,"linkPrecompiledSchemas");function l(){const b=[...a.a,...r],v=new window.TestAjv({schemaId:"auto"});return v.addMetaSchema(window.ajvMetaSchema),v.addSchema(b),b.reduce((d,m)=>{const g=o(O=>v.validate(m.id,O),"validator");return g.errors=v.errors,d[m.id]=g,d},{})}o(l,"linkRuntimeSchemasForTest");const p=Object(c.a)()?l():f();function h(b){return!!p[b]}o(h,"hasSchema");function u(b,v){let{logErrorOnFailure:d=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=p[b];return m(v)?!0:((d?Object(i.b)({label:"SCHEMA"}).error:Object(i.b)({label:"SCHEMA"}).warn)(`Invalid data for schema '${b}'. This does not necessarily mean that an error has occurred. Errors:
${JSON.stringify(m.errors)}`,{subtype:b}),!1)}o(u,"validateSchema"),Object(n.a)("schema",{validateSchema:u,hasSchema:h})},"6C1v":function(w,s,e){"use strict";e.d(s,"a",function(){return ht});var n=e("q1tI"),t=e.n(n),a=e("wOIf"),i=e("Qm7m"),c=e("nNoG"),r=e("a7YP"),f=e("zxER");const l=new c.b("workflow_builder"),p=o(()=>{const Ft=Object(f.c)(r.b)?l.t("Starts with a Salesforce event"):"Starts with a Salesforce event";return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"name"},Ft))},"ExternalTriggerSummary");p.displayName="ExternalTriggerSummary";const h=new c.b("workflow_builder"),u=o(()=>t.a.createElement("span",null,h.t("Starts with a webhook")),"HermesWebhookTriggerSummary");u.displayName="HermesWebhookTriggerSummary";var b=e("F1Sp"),v=e("A/zn"),d=e("UrBK"),m=e("/qcS"),g=e("1dAw"),O=e("Ccc1");const E=new c.b("workflow_builder"),y=o(It=>{let{trigger:Ft}=It;const Bt=Object(v.f)(Ft.config.event),en=Object(v.c)(Ft);return!Bt.length||!en.length?t.a.createElement(t.a.Fragment,null,E.t("Starts when an emoji reaction is used",{fallbackHash:"9d5d5b9d1a8ce869235253c5e3aea5bd8c19c888"})):t.a.createElement(t.a.Fragment,null,E.rt("Starts when someone reacts with {emoji} in {channel}",{emoji:Object(c.h)(Bt.map(On=>t.a.createElement(m.b,{key:`emoji-${On}`,text:On,emojiSize:"small"})),{conj:"or",keyPrefix:"emoji"}),channel:Object(c.h)(en.map(On=>t.a.createElement(g.a,{channelId:On,key:`channel-${On}`},t.a.createElement(O.a,{channelId:On}))),{conj:"or",keyPrefix:"channel"})}))},"ReactionAddedSummary");y.displayName="ReactionAddedSummary";const C=new c.b("workflow_builder"),I=o(It=>{let{trigger:Ft}=It;const Bt=Object(v.c)(Ft);return Bt.length?t.a.createElement(t.a.Fragment,null,C.rt("Starts when a person joins {channel}",{channel:Object(c.h)(Bt.map(en=>t.a.createElement(g.a,{channelId:en,key:`channel-${en}`},t.a.createElement(O.a,{channelId:en}))),{conj:"or",keyPrefix:"channel"}),fallbackHash:"03af28e3553cf7a604c8cebf5fdd0cb2714d9cda"})):t.a.createElement(t.a.Fragment,null,C.t("Starts when a person joins a channel",{fallbackHash:"30a2a7f97c4e37879b5c67d28548c68e275a490a"}))},"UserJoinedChannelSummary");I.displayName="UserJoinedChannelSummary";var j=e("TVHa"),M=e("8z04"),T={inline__file_entity:"inline__file_entity__DFlPO",inline__title:"inline__title__n5VGF"};const D=new c.b("workflow_builder"),S=o(It=>{let{trigger:Ft}=It;const Bt=Object(v.e)(Ft);return Bt?t.a.createElement("span",{className:T.inline__title},D.rt("Starts when an item is created in {list}",{list:t.a.createElement(j.a,{id:Bt,detailType:M.a.NONE,className:T.inline__file_entity}),fallbackHash:"8bddb4cc8b3a58cca34cd47fcd074c0330af08d3"})):t.a.createElement(t.a.Fragment,null,D.t("Starts when a list item is created",{fallbackHash:"8bddb4cc8b3a58cca34cd47fcd074c0330af08d3"}))},"ListRecordCreatedSummary");S.displayName="ListRecordCreatedSummary";const A=new c.b("workflow_builder"),P=o(It=>{let{trigger:Ft}=It;const Bt=Object(v.e)(Ft);return Bt?t.a.createElement("span",{className:T.inline__title},A.rt("Starts when an item is updated in {list}",{list:t.a.createElement(j.a,{id:Bt,detailType:M.a.NONE,className:T.inline__file_entity}),fallbackHash:"8bddb4cc8b3a58cca34cd47fcd074c0330af08d3"})):t.a.createElement(t.a.Fragment,null,A.t("Starts when a list item is updated",{fallbackHash:"8bddb4cc8b3a58cca34cd47fcd074c0330af08d3"}))},"ListRecordUpdatedSummary");P.displayName="ListRecordUpdatedSummary";const N=new c.b("workflow_builder"),G=o(It=>{let{trigger:Ft}=It;const Bt=Object(f.c)(r.p),en=Object(v.b)(Ft.config.event);return en?t.a.createElement(t.a.Fragment,null,Bt?N.rt('Starts when a channel containing "{channelSubstring}" is created',{channelSubstring:en}):`Starts when a channel containing "${en}" is created`):t.a.createElement(t.a.Fragment,null,Bt?N.t("Starts when a channel is created"):"Starts when a channel is created")},"ChannelCreatedSummary"),V=o(It=>{let{trigger:Ft}=It;const Bt=Object(v.g)(Ft);switch(Object(v.d)(Ft)){case d.a.ReactionAdded:return t.a.createElement(y,{trigger:Ft});case d.a.UserJoinedChannel:return t.a.createElement(I,{trigger:Ft});case d.a.ListRecordCreated:return t.a.createElement(S,{trigger:Ft});case d.a.ListRecordUpdated:return t.a.createElement(P,{trigger:Ft});case d.a.ChannelCreated:return t.a.createElement(G,{trigger:Ft});default:return t.a.createElement("span",null,Bt)}},"SlackEventTriggerSummary");V.displayName="SlackEventTriggerSummary";var k=e("CdxK");const x=new c.b("workflow_builder"),H=o(It=>{let{trigger:Ft}=It;const Bt=Object(k.b)(Ft)[0];return t.a.createElement("span",null,x.rt('Starts from "{action}" shortcut in {channel}',{action:t.a.createElement("span",null,`${Object(k.d)(Ft)}`),channel:t.a.createElement(g.a,{channelId:Bt},t.a.createElement(O.a,{channelId:Bt}))}))},"ChannelActionSummary");H.displayName="ChannelActionSummary";var R=e("IbHz");const W=new c.b("workflow_builder"),U=o(It=>{let{trigger:Ft}=It;const Bt=Object(R.b)(Ft);return Bt?t.a.createElement("span",null,W.rt("Starts when someone joins {channel}",{channel:t.a.createElement(g.a,{channelId:Bt},t.a.createElement(O.a,{channelId:Bt}))})):t.a.createElement("span",null,W.t("Someone joins a specific channel"))},"MemberJoinedChannelSummary");U.displayName="MemberJoinedChannelSummary";var _=e("Qyzc");const B=new c.b("workflow_builder"),z=o(It=>{let{trigger:Ft}=It;return t.a.createElement("span",null,B.rt("Anyone can quickly start this workflow by typing in the slash command {command}",{command:`/${Object(_.b)(Ft)}`}))},"SlashCommandSummary");var L=e("gwqd");const $=new c.b("workflow_builder"),Q=o(It=>{let{trigger:Ft}=It;return t.a.createElement("span",null,$.rt("Anyone can quickly start this workflow from a message action {action}",{action:`${Object(L.c)(Ft)}`}))},"MessageActionSummary");var K=e("BHdc"),Z=e("fZDj"),ne=e("eM3y"),F=e("iEyB"),J={emoji:"emoji__YBSGZ"};const X=new c.b("workflow_builder"),Y=o(It=>{let{reactions:Ft}=It;return t.a.createElement("span",{className:Object(K.default)(J.emoji,{margin_left_4:Ft.length===0})},Ft.map((Bt,en)=>{const On=en===Ft.length-1;return On&&Ft.length>=2?X.rt(" or {emoji}",{emoji:t.a.createElement(m.b,{key:Bt.value,text:Bt.value,emojiSize:"small"})}):!On&&Ft.length>2?X.rt("{emoji}, ",{emoji:t.a.createElement(m.b,{key:Bt.value,text:Bt.value,emojiSize:"small"})}):t.a.createElement(m.b,{key:Bt.value,text:Bt.value,emojiSize:"small"})}))},"Reactions"),ae=o(It=>{let{trigger:Ft}=It;const Bt=Object(F.b)(Ft),en=Object(F.c)(Ft);return en.length===0&&Bt?t.a.createElement("span",null,X.rt("Starts when someone reacts with {emoji} in {channel}",{emoji:t.a.createElement(ne.a,{size:15}),channel:t.a.createElement(g.a,{channelId:Bt},t.a.createElement(O.a,{channelId:Bt}))})):en.length>0&&!Bt?t.a.createElement("span",null,X.rt("Starts when someone reacts with {emoji} in {channel}",{emoji:t.a.createElement(Y,{reactions:en}),channel:t.a.createElement(Z.a,{size:"small"})})):!Bt||en.length===0?t.a.createElement("span",null,X.t("Someone adds a specific emoji reaction in a channel")):t.a.createElement("span",null,X.rt("Starts when someone reacts with {reactions} in {channel}",{channel:t.a.createElement(g.a,{channelId:Bt},t.a.createElement(O.a,{channelId:Bt})),reactions:t.a.createElement(Y,{reactions:en})}))},"summary_ReactionAddedSummary");ae.displayName="ReactionAddedSummary";var ee=e("wd/R"),q=e.n(ee),te=e("Cfcg"),de=e("A/mR"),se=e("JoR1"),re=e("xwCZ"),oe=e("9Gfp"),ce=e("C3vN"),ue=e("bol+"),Pe=e("1yAZ");const Ye=new c.b("workflow_builder"),$e=o((It,Ft)=>{let Bt;switch(It){case ue.c.FREQUENCY_DAILY:Bt=Ye.t("and repeats daily");break;case ue.c.FREQUENCY_WEEKDAYS:Bt=Ye.t("and repeats every weekday");break;case ue.c.FREQUENCY_WEEKLY:Bt=Ye.t("and repeats weekly on {dayOfWeek}s",{dayOfWeek:Ft.format("dddd")});break;case ue.c.FREQUENCY_MONTHLY_NTH_DAY:Bt=Ye.rt("and repeats monthly on the {nth} {dayOfWeek}",{nth:t.a.createElement(Pe.a,{date:Ft,toLowerCase:!0}),dayOfWeek:Ft.format("dddd")});break;case ue.c.FREQUENCY_YEARLY:Bt=Ye.t("and repeats annually");break;case ue.c.FREQUENCY_CUSTOM:Bt=Ye.t("and repeats on a custom schedule");break;default:Bt=""}return Bt},"getHumanReadableRepeatType");$e.displayName="getHumanReadableRepeatType";const Ke=o(It=>{let{trigger:Ft,do24hrTime:Bt,timeZoneOffset:en}=It;const On=Object(ue.l)(Ft),yn=Object(ue.k)(Ft),Dn=Object(de.q)(On,{excludeYear:!0}),En=On*1e3,Vt=q.a.utc(En).utcOffset(en/60);return t.a.createElement("span",null,Ye.rt("Starts {humanReadableDate} at {humanReadableTime} {repeat}",{humanReadableDate:Dn,humanReadableTime:Vt.format(Bt?"HH:mm":"h:mma"),repeat:$e(yn,Vt)}))},"_ScheduledSummary");Ke.displayName="_ScheduledSummary";const qe=o(It=>{const Ft=Object(oe.a)(It),Bt=Object(re.g)(It,Ft);return{do24hrTime:Object(se.t)(It,"time24"),timeZoneOffset:Object(ce.E)(Bt)}},"mapStateToProps"),ct=Object(te.a)(qe)(Ke);var Be=e("Tevt"),pe=e("zb/F"),fe=e("oY18"),me=e("rAyg"),Se=e("vycc");const je=new c.b("workflow_builder"),Ue=o(It=>{let{trigger:Ft,enqueueToast:Bt}=It;const en=Object(Se.d)(Ft),On=Object(n.useCallback)(()=>{Object(pe.e)(en),Bt({element:t.a.createElement(me.a,null,je.t("URL copied to clipboard."))})},[Bt,en]);return en?t.a.createElement("span",null,je.rt("Starts when an app or service sends a web request | <a>Copy URL</a>",null,yn=>{let{text:Dn}=yn;return t.a.createElement(Be.a,{onClick:On},Dn)})):t.a.createElement("span",null,je.t("Starts when an app or service sends a web request"))},"_WebhookSummary");Ue.displayName="_WebhookSummary";const ve={enqueueToast:function(){for(var It=arguments.length,Ft=new Array(It),Bt=0;Bt<It;Bt++)Ft[Bt]=arguments[Bt];return Object(fe.a)(...Ft)}},ge=Object(te.a)(null,ve)(Ue);var le={shortcut_summary_header:"shortcut_summary_header__wANR3",shortcut_summary_header_icon:"shortcut_summary_header_icon__rWczm"};const he=new c.b("workflow_builder"),Te=o(()=>t.a.createElement("div",{className:le.shortcut_summary_header},he.t("Starts from a link in Slack")),"ShortcutSummary");Te.displayName="ShortcutSummary";var Re=e("oEDn"),Ve=e("hooW"),Ee=e("rYD8"),Ae=e("sLwf"),Ge=e("iCgo"),Ze={variable_container:"variable_container__Dia51"};const ze=new c.b("workflow_builder"),lt=o((It,Ft)=>{var Bt;return(Bt=It.find(en=>en.id===Ft))===null||Bt===void 0?void 0:Bt.label},"findDynamicItemLabel"),tt=o(It=>{let{step:Ft,hasErrors:Bt}=It;const en=Object(Ae.b)(Ft),On=Object(Ge.l)(Ft),yn=Object(Ge.n)(Ft),Dn=Object(Ge.b)(Ft),En=Object(Ge.e)(Ft),Vt=Object(Ge.d)(Ft),an=en.list;if(On)return t.a.createElement("span",null,ze.rt("Send a message to {channel}",{channel:t.a.createElement(g.a,{channelId:On},t.a.createElement(O.a,{channelId:On}))}));if(yn)return t.a.createElement("span",null,ze.rt("Send a message to @{user}",{user:t.a.createElement(Ee.a,{id:yn})}));if(Dn){const sn=lt(an,Dn);return sn?t.a.createElement("span",null,ze.rt("Send a message to <span>{dynamic_channel_label}</span>",{dynamic_channel_label:sn},bn=>{let{text:jn}=bn;return t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"})," ",jn)})):t.a.createElement("span",null,ze.t("Sends a message to a channel"))}if(En){const sn=lt(an,En);return sn?t.a.createElement("span",null,ze.rt("Send a message to <span>{dynamic_user_label}</span>",{dynamic_user_label:sn},bn=>{let{text:jn}=bn;return t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"})," ",jn)})):t.a.createElement("span",null,ze.t("Sends a message to a user"))}if(Vt){const sn=lt(an,Vt);return sn?t.a.createElement("span",null,ze.rt("Send a message to <span>{dynamic_thread_label}</span>",{dynamic_thread_label:sn},bn=>{let{text:jn}=bn;return t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"})," ",jn)})):t.a.createElement("span",null,ze.t("Sends a message to a thread"))}return Bt?t.a.createElement("span",null,ze.rt("Send a message to {error}",{error:t.a.createElement(Ve.a,{type:"unknown"})})):t.a.createElement("span",null,ze.rt("Sends a message to a channel or person"))},"MessageSummary");tt.displayName="MessageSummary";var Ot=e("p8wN");const Ct=new c.b("workflow_builder"),St=o((It,Ft)=>{var Bt;return(Bt=It.find(en=>en.id===Ft))===null||Bt===void 0?void 0:Bt.label},"summary_findDynamicItemLabel"),zt=o(It=>{let{step:Ft,hasErrors:Bt}=It;const en=Object(Ae.b)(Ft),On=Object(Ot.u)(Ft),yn=Object(Ot.v)(Ft),Dn=Object(Ot.h)(Ft),En=Object(Ot.i)(Ft),Vt=en.list;if(On)return t.a.createElement("span",null,Ct.rt("Send a form to {channel}",{channel:t.a.createElement(g.a,{channelId:On},t.a.createElement(O.a,{channelId:On}))}));if(yn)return t.a.createElement("span",null,Ct.rt("Send a form to @{user}",{user:t.a.createElement(Ee.a,{id:yn})}));if(Dn){const an=St(Vt,Dn);return an?t.a.createElement("span",null,Ct.rt("Send a form to <span>{dynamic_channel_label}</span>",{dynamic_channel_label:an},sn=>{let{text:bn}=sn;return t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"})," ",bn)})):t.a.createElement("span",null,Ct.t("Send a custom form to a person or channel"))}if(En){const an=St(Vt,En);return an?t.a.createElement("span",{key:En},Ct.rt("Send a form to <span>{dynamic_user_label}</span>",{dynamic_user_label:an},sn=>{let{text:bn}=sn;return t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"})," ",bn)})):t.a.createElement("span",null,Ct.t("Send a custom form to a person or channel"))}return Bt?t.a.createElement("span",null,Ct.rt("Send a form to {error}",{error:t.a.createElement(Ve.a,{type:"unknown"})})):Object(Ot.j)(Ft)?t.a.createElement("span",null,Ct.rt("Send a custom form to a person or channel")):t.a.createElement("span",null,Ct.rt("Open a form"))},"DialogSummary");zt.displayName="DialogSummary";const kt=o((It,Ft)=>{var Bt;return(Bt=It.find(en=>en.id===Ft))===null||Bt===void 0?void 0:Bt.label},"preview_summary_findDynamicItemLabel"),on=o(It=>{let{step:Ft}=It;const en=Object(Ae.b)(Ft).list,On=Ft.config.channel.value,yn=Ft.config.channel.ref;if(On)return t.a.createElement("span",null,"Send a story prompt to",t.a.createElement(g.a,{channelId:On},t.a.createElement(O.a,{channelId:On})));if(yn){const Dn=kt(en,yn);return Dn?t.a.createElement("span",null,"Send a story prompt to"," ",t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"})," ",Dn)):t.a.createElement("span",null,"Send a story prompt to a channel")}return t.a.createElement("span",null,"Send a story prompt to a channel")},"StorySummary");on.displayName="StorySummary";var _t=e("vIgB"),be=e("M39c"),ot=e("8aX7"),rt=e("JhjB"),Jt=e("2IlT");const Qt=new c.b("workflow_builder");function qt(It){let{segment:Ft,stepData:Bt}=It;var en,On;const yn=Object(be.d)(Ft),Dn=Object(Ae.b)(Ft),En=Bt||Dn,Vt=(en=yn.channel_id)===null||en===void 0?void 0:en.value,an=(On=yn.user_id)===null||On===void 0?void 0:On.value,sn=Object(be.h)(Ft);if(typeof Vt=="string"&&typeof an=="string"){const bn=Object(rt.a)(Vt),jn=Object(rt.a)(an),Tn=bn?Object(Jt.a)(En.list,Vt):null,An=jn?Object(Jt.a)(En.list,an):null,Vn=Tn&&!Tn.isTombstone?Tn.label:Qt.t("Missing Data"),un=An&&!An.isTombstone?An.label:Qt.t("Missing Data"),Kn=jn?t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"}),un):t.a.createElement(ot.a,{id:an}),$n=bn?t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"}),Vn):t.a.createElement(g.a,{channelId:Vt},t.a.createElement(O.a,{channelId:Vt}));return jn?t.a.createElement("span",null,Qt.rt("Send an ephemeral message to {user} in {channel}",{user:Kn,channel:$n,fallbackHash:"2826a04933908bf2bc4143809f09f387840708b8"})):t.a.createElement("span",null,Qt.rt("Send an ephemeral message to @{user} in {channel}",{user:Kn,channel:$n}))}return t.a.createElement("span",null,sn==null?void 0:sn.title)}o(qt,"SendEphemeralMessageSummary");const $t=new c.b("workflow_builder");function hn(It){let{segment:Ft,hasErrors:Bt}=It;var en,On;const yn=Object(be.d)(Ft),Dn=Object(Ae.b)(Ft),En=(en=yn.channel_id)===null||en===void 0?void 0:en.value,Vt=(On=yn.user_id)===null||On===void 0?void 0:On.value,an=Object(be.h)(Ft);if(En){if(Object(rt.a)(En)){const sn=Object(Jt.a)(Dn.list,En),bn=sn&&!sn.isTombstone?sn.label:$t.t("Missing Data");return!sn||!bn?t.a.createElement("span",null,$t.t("Sends a message to a channel")):t.a.createElement("span",null,$t.rt("Send a message to <span>{dynamic_channel_label}</span>",{dynamic_channel_label:bn},jn=>{let{text:Tn}=jn;return t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"})," ",Tn)}))}return t.a.createElement("span",null,$t.rt("Send a message to {channel}",{channel:t.a.createElement(g.a,{channelId:En},t.a.createElement(O.a,{channelId:En}))}))}if(Vt){if(Object(rt.a)(Vt)){const sn=Object(Jt.a)(Dn.list,Vt),bn=sn&&!sn.isTombstone?sn.label:$t.t("Missing Data");return!sn||!bn?t.a.createElement("span",null,$t.t("Sends a message to a user")):t.a.createElement("span",null,$t.rt("Send a message to <span>{dynamic_user_label}</span>",{dynamic_user_label:bn},jn=>{let{text:Tn}=jn;return t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Re.a,{inline:!0,type:"magic",size:"inherit"})," ",Tn)}))}return t.a.createElement("span",null,$t.rt("Send a message to @{user}",{user:t.a.createElement(Ee.a,{id:Vt})}))}return Bt?t.a.createElement("span",null,$t.rt("Send a message to {error}",{error:t.a.createElement(Ve.a,{type:"unknown"})})):t.a.createElement("span",null,an==null?void 0:an.title)}o(hn,"SendMessageSummary");const gn=new c.b("workflow_builder");function Cn(It){let{segment:Ft}=It;var Bt;const On=(Bt=Object(be.d)(Ft).minutes_to_delay)===null||Bt===void 0?void 0:Bt.value;return t.a.createElement("span",null,On?gn.rt("Delay for {delayDisplay} {delayNumber, plural, =1 {minute} other {minutes}}",{delayDisplay:On.toLocaleString(),delayNumber:parseInt(On,10)}):"")}o(Cn,"DelaySummary");var Mn=e("ZobM");const kn=new c.b("workflow_builder"),na=o(It=>{let{label:Ft}=It;return t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Mn.a,{inline:!0,name:"magic-wand",size:"inherit"}),Ft??kn.t("Missing Data"))},"DynamicItemLabel"),oa=o((It,Ft)=>{if(It.length>1)return kn.t("{qty} people",{qty:It.length,fallbackHash:"b37554f695b15005fd23907b9488e0a8ad4bca5f"});const Bt=It[0];if(Object(rt.a)(Bt)){var en;return t.a.createElement(na,{label:(en=Object(Jt.a)(Ft.list,Bt))===null||en===void 0?void 0:en.label})}return kn.rt("@{user}",{user:t.a.createElement(ot.a,{id:Bt,truncate:!0}),fallbackHash:"457d64a8b6c031bbf97653abb1689cab35c6261c"})},"getUserLabel");oa.displayName="getUserLabel";const ba=o((It,Ft)=>{if(It.length>1)return kn.t("{qty} channels",{qty:It.length,fallbackHash:"18e03e2a37ba37df713f9665ef752fb8b40fc1e8"});const Bt=It[0];if(Object(rt.a)(Bt)){var en;return t.a.createElement(na,{label:(en=Object(Jt.a)(Ft.list,Bt))===null||en===void 0?void 0:en.label})}return t.a.createElement(g.a,{channelId:Bt},t.a.createElement(O.a,{channelId:Bt,truncate:!0}))},"getChannelLabel");ba.displayName="getChannelLabel";function ga(It){let{segment:Ft,stepData:Bt}=It;var en,On,yn,Dn;const En=Object(be.d)(Ft),Vt=Object(Ae.b)(Ft),an=Bt||Vt;if(!(!((en=En.user_ids)===null||en===void 0)&&en.value)||!(!((On=En.channel_ids)===null||On===void 0)&&On.value))return t.a.createElement("span",null,kn.rt("Invite to channel",{fallbackHash:"9a409d1a0f27bcc7944c5c19495e584fb26964d3",fallbackHashNs:"huddles"}));const sn=[(yn=En.channel_ids)===null||yn===void 0?void 0:yn.value].flat(),bn=[(Dn=En.user_ids)===null||Dn===void 0?void 0:Dn.value].flat(),jn=oa(bn,an),Tn=ba(sn,an);return t.a.createElement("span",null,kn.rt("Invite {userLabel} to {channelLabel}",{userLabel:jn,channelLabel:Tn,fallbackHash:"9a409d1a0f27bcc7944c5c19495e584fb26964d3",fallbackHashNs:"huddles"}))}o(ga,"InviteToChannelSummary");const ya=new c.b("workflow_builder"),Zn=o((It,Ft)=>{var Bt;return t.a.createElement("span",{className:Ze.variable_container},t.a.createElement(Mn.a,{inline:!0,name:"magic-wand",size:"inherit"}),(Bt=It.find(en=>en.id===Ft))===null||Bt===void 0?void 0:Bt.label)},"summarize_channel_findDynamicItemLabel"),Xn=o((It,Ft)=>{if(It)return Object(rt.a)(It)?Zn(Ft.list,It):t.a.createElement(g.a,{channelId:It},t.a.createElement(O.a,{channelId:It,truncate:!0}))},"summarize_channel_getChannelLabel");Xn.displayName="getChannelLabel";function Ht(It){let{segment:Ft}=It;var Bt,en,On,yn,Dn;const En=Object(be.d)(Ft),Vt=Object(Ae.b)(Ft);if(!(!((Bt=En.channel_id)===null||Bt===void 0)&&Bt.value)||!(!((en=En.days)===null||en===void 0)&&en.value)||Object(rt.a)((On=En.days)===null||On===void 0?void 0:On.value))return t.a.createElement("span",null,ya.rt("Summarize channel",{fallbackHash:"1b8962f14007d162f0dc43de8d265d059787b34a",fallbackHashNs:"assistant"}));const an=(yn=En.channel_id)===null||yn===void 0?void 0:yn.value,sn=Xn(an,Vt),bn=Number((Dn=En.days)===null||Dn===void 0?void 0:Dn.value);return t.a.createElement("span",null,ya.rt("Summarize the last {dayCount} {dayCount, plural, =1 {day} other {days}} of {channelLabel}",{channelLabel:sn,dayCount:bn,fallbackHash:"1b8962f14007d162f0dc43de8d265d059787b34a",fallbackHashNs:"assistant"}))}o(Ht,"SummarizeChannelSummary");var ut=e("E6EU"),gt=e("5yBE"),Wt=e("Afhv"),Mt=e("RVJP"),Xe={title:"title__SaBeH",icon:"icon__9r1Us"};const bt=new c.b("workflow_builder");function Nt(It){let{segment:Ft}=It;const Bt=Object(be.h)(Ft),en=Object(be.e)(Ft),On=Object(be.d)(Ft),yn=On.spreadsheet_id.value,Dn=`${ut.d}/${yn}`,En=On.spreadsheet_id.label,Vt=Object(n.useCallback)(jn=>{jn.stopPropagation(),Object(Wt.a)(Dn)},[Dn]);if(!(Object(f.c)(jn=>Object(Mt.d)(jn,"wfb_back_to_basics_gsheets_link_in_summary"))==="on"))return null;if(!Dn||!En)return t.a.createElement("span",null,Bt==null?void 0:Bt.title);const sn=Object.values(En)[0],bn=o(()=>{switch(en){case _t.c.AddSpreadsheetRow:return bt.t("Add to");case _t.c.SelectSpreadsheetRow:return bt.t("Select from");case _t.c.UpdateSpreadsheetRow:return bt.t("Update");case _t.c.DeleteSpreadsheetRow:return bt.t("Delete from");default:return t.a.createElement("span",null,Bt==null?void 0:Bt.title)}},"getSummaryLabel");return bn.displayName="getSummaryLabel",t.a.createElement("span",null,t.a.createElement("span",{className:Xe.title},bn()),t.a.createElement(gt.a,{onClick:Vt},t.a.createElement("span",null,sn),t.a.createElement("span",{className:Xe.icon},t.a.createElement(Mn.a,{name:"new-window",inline:!0,size:"20"}))))}o(Nt,"GoogleSheetsSummary");var Pt=e("CTEJ"),nn=e("kjgz"),rn=e("XFNL"),mn=e("4eEG"),vn=e("9068");const Xt=o(It=>{let{segment:Ft,stepData:Bt,hasErrors:en}=It;const On=Object(f.c)(an=>Object(Mt.d)(an,"wfb_back_to_basics_gsheets_link_in_summary"))==="on",yn=Object(f.c)(an=>{const sn=Object(rn.c)(Ft)&&Object(rn.b)(Ft);return sn?Object(mn.a)(an,sn):void 0}),Dn=Object(be.e)(Ft),En=yn??Object(be.h)(Ft),Vt=Object(be.i)(Ft);if(yn&&Object(vn.d)(yn))return t.a.createElement(Pt.a,{size:"large"});if(On&&Vt===nn.c)return Nt({segment:Ft});if(Dn!==_t.g.SendMessage&&Dn!==_t.g.SendToMySalesHome&&Dn!==_t.g.SendToSalesHome&&Dn!==_t.g.SendEphemeralMessage&&Dn!==_t.g.SendDm&&Dn!==_t.g.ReplyInThread&&Dn!==_t.g.InviteUserToChannel&&Dn!==_t.g.Delay&&Dn!==_t.g.SummarizeChannel)return t.a.createElement("span",null,En==null?void 0:En.title);switch(Dn){case _t.g.SendDm:case _t.g.SendMessage:case _t.g.SendToMySalesHome:case _t.g.SendToSalesHome:case _t.g.ReplyInThread:return hn({segment:Ft,hasErrors:en});case _t.g.SendEphemeralMessage:return qt({segment:Ft,stepData:Bt});case _t.g.Delay:return Cn({segment:Ft});case _t.g.InviteUserToChannel:return ga({segment:Ft,stepData:Bt});case _t.g.SummarizeChannel:return Ht({segment:Ft});default:return t.a.createElement("span",null,En==null?void 0:En.title)}},"SlackFunctionSummary");Xt.displayName="SlackFunctionSummary";function ht(It,Ft,Bt){switch(It==null?void 0:It.type){case i.CHANNEL_ACTION:return t.a.createElement(H,{trigger:It});case i.MEMBER_JOINED_CHANNEL:return t.a.createElement(U,{trigger:It});case i.SLASH_COMMAND:return t.a.createElement(z,{trigger:It});case i.MESSAGE_ACTION:return t.a.createElement(Q,{trigger:It});case i.REACTION_ADDED:return t.a.createElement(ae,{trigger:It});case i.SCHEDULED:return t.a.createElement(ct,{trigger:It});case i.WEBHOOK:return t.a.createElement(ge,{trigger:It});case i.EXTERNAL:return t.a.createElement(p,null);case i.SLACK_EVENT:return t.a.createElement(V,{trigger:It});case i.SHORTCUT:return t.a.createElement(Te,null);case i.HERMES_WEBHOOK:return t.a.createElement(u,null);case i.HERMES_SCHEDULED:return t.a.createElement(b.a,{trigger:It});case a.MESSAGE:return t.a.createElement(tt,{step:It,hasErrors:Bt});case a.DIALOG:return t.a.createElement(zt,{step:It,hasErrors:Bt});case a.STORY:return t.a.createElement(on,{step:It});case a.SLACK_FUNCTION:return t.a.createElement(Xt,{segment:It,stepData:Ft,hasErrors:Bt});default:return null}}o(ht,"getSegmentSummary"),ht.displayName="getSegmentSummary"},"6CqW":function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("2VFn"),i=e("v7mh");const c=o(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.c;const f=Object(n.useCallback)(p=>{const h=Object(i.a)(p);return r===a.c?Object(i.h)(p,{tab:h}):Object(i.e)(p,{windowId:r})},[r]);return{getSiblingView:Object(n.useCallback)((p,h)=>{let{container:u}=h;const b=f(p);return b?b[u]:void 0},[f]),getViewSet:f}},"useWindowViewSet")},"6Fta":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("qAkX"),t=e("XpTY");function a(i){if(!i||i.length()===0)return i;const c=i.slice(i.length()-1);if(!c)return i;const r=Object(n.a)(c.ops)||{};return!r||(r==null?void 0:r.insert)!==`
`||Object(t.c)(r)?i:i.slice(0,i.length()-1)}o(a,"stripTrailingNewline")},"6HaY":function(w,s,e){w.exports=e.p+"collaboration-dark-95d7ba1.svg"},"6JBJ":function(w,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("fujP"),i=e("F294"),c=e("BeL+"),r=e("ifKl"),f=e("mM05"),l=e.n(f),p=e("SQ0V"),h=e("s4P+"),u=e("5IZy"),b=e("ktUG"),v=e("9Gfp"),d=e("E3dU"),m=e("O5bS"),g=e("vlz8"),O=e("e33t"),E=e("gCYc"),y=e("Yauy"),C=e("vUys"),I=e("Kn+X"),j=e("BBdC"),M=e("Cnv9"),T=e("zcRq"),D=e("kDB5"),S=e("nNoG"),A=e("62K+"),P=e("Z9Pi"),N=e("jBIF"),G=e("f7Y4"),V=e("yzO5"),k=e("LTE6");const x=new S.b("drafts");function H(W){let{state:U,draft:_}=W;const B=Object(I.d)(_);if(!Object(a.a)(B))return Object(i.a)(B);const z=Object(I.m)(_);if(!Object(a.a)(z)){if(z.length===1){const Z=Object(d.m)(U,z[0]);if(Z)return Object(y.i)(Z)}const $=Object(v.a)(U),Q=Object(c.a)([$,...z]),K=Object(d.q)(U,Q);if(K)return Object(y.i)(K)}return Object(h.a)({state:U,label:"SCHEDULED-SEND"}).info("No existing channel found for draft"),null}o(H,"getDraftChannelId");const R=Object(p.c)("Schedule a message to be sent",function(){var W=Object(n.coroutine)(function*(U,_,B){let{draftId:z,dateScheduled:L,isSuggestedDate:$=!1,onMessageScheduled:Q=r.a,isFromScheduledPage:K=!1}=B;const Z=_(),ne=Object(h.a)({state:Z,label:"SCHEDULED-SEND"});ne.info(`attempt schedule send message; draftId: ${z}, dateScheduled: ${L}`);const F=Object(E.k)(Z,z),J=Object(I.s)(F),X=H({state:Z,draft:F}),Y=Object(I.n)(F),ae=Object(j.a)(F),ee=Object(C.a)(_(),z),q=U(Object(T.a)({draftId:z||Object(P.b)({channelId:X}),ops:Y})),te=U(Object(D.a)({unfurls:q,draftId:z}));let de;Object(M.b)(Z)&&(de=U(Object(A.a)({draftId:z||Object(P.b)({channelId:X})})));const se=U(Object(N.a)({draftId:z||Object(P.b)({channelId:X})}));return Object(u.a)({state:Z}).track(b.EventId.COMPOSE_FLOW,{scheduled_send:{draft_id:z,is_suggested_date:$,scheduling_date:Object(I.i)(F)||0,new_scheduling_date:L},contexts:{ui_context:{action:b.UiAction.CLICK,step:b.UiStep.SCHEDULED_MESSAGE_SCHEDULED}}}),U(Object(O.a)({ephemeralType:m.a.scheduleSendError,channelId:X})),U(Object(G.c)({draftId:z,draftUniqueId:J,delta:new l.a(Y),channelId:X,fileIds:ae,unfurls:q,unfurlsWithData:te,contactUnfurls:de,filePermissions:se,pendingFileIds:ee,dateScheduled:L,includeBroadcastKeywordWarning:!0,includePrivateFileReshareWarning:!0,includeAtMentionInviteWarning:!1,includeExternalMembersSpeedBump:!K,includeLoginInitiateRedirectLinkWarning:!0,includePrivateMessageForwardingSpeedBump:!0})).then(()=>{Q()}).catch(oe=>{if(G.a.includes(oe==null?void 0:oe.message)){ne.info(`Non fatal error caught while schedule sending message: ${oe.message}, draftId: ${z}, dateScheduled: ${L}`);return}if(ne.error(`Error with schedule send message: ${oe.message}, draftId: ${z}, dateScheduled: ${L}`),(oe==null?void 0:oe.name)===k.a.MessageLimitExceeded){U(Object(V.a)({isScheduledMessage:!0}));return}const ce=x.t("We\u2019re not sure what happened, but your message couldn\u2019t be scheduled. It\u2019s been saved in your Drafts so you can try again.");U(Object(g.a)({ephemeralType:m.a.scheduleSendError,message:{channel:X,text:ce}}))})});return function(U,_,B){return W.apply(this,arguments)}}());R.meta={name:"createThunk",key:"createThunkscheduleSendMessage",description:"Schedule a message to be sent"},s.a=R},"6Mvn":function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("+l5E"),t=e("JQ3U"),a=e("E3dU"),i=e("vfvl"),c=e("ccuj"),r=e("nnVK"),f=e("RcBX"),l=e("m64q"),p=e("RVJP");function h(u,b){if(!b||!Object(n.T)(b)||!(Object(p.d)(u,"canvas_content_reactions")==="on")&&Object(l.a)(b)||Object(t.g)(b))return!1;const d=Object(a.d)(u,b.channel);if(Object(i.a)(d)||Object(f.a)(d))return!1;const m=Object(c.a)(b);return!(m&&Object(r.a)(u,{threadTs:m,channelId:d?d.id:""}))}o(h,"canAddReaction")},"6Q+y":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("SQ0V"),t=e("H2PH"),a=e("PIf0");const i=Object(n.c)("Upload Files to queue instance and set the correct windowId",(c,r,f,l)=>{let{teamId:p,files:h,shareData:u={},traceTags:b={},samplingOptions:v,hideBanner:d}=f;const m=Object(t.a)(p),g=l(a.a),O=g==null?void 0:g.windowId;return m.uploadFiles({files:h,shareData:u,traceTags:b,samplingOptions:v,hideBanner:d,originWindowId:O})});i.meta={name:"createThunk",key:"createThunkuploadFiles",description:"Upload Files to queue instance and set the correct windowId"}},"6X65":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("ZKjC"),t=e("P9LH"),a=e("mZIY");const i=Object(n.b)((c,r)=>{let{file:f}=r;return!f||!Object(t.g)(f)?!1:Object(a.b)(c,f.source_team)});i.meta={name:"createSelector",key:"createSelectorisExternalWorkspaceOwnedCanvas",description:(c,r)=>{let{file:f}=r;return!f||!Object(t.g)(f)?!1:Object(a.b)(c,f.source_team)}}},"6YLm":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("m5Yc");const{BROADCAST:t}=n.b,a=o(i=>{var c;return((c=i)===null||c===void 0?void 0:c.type)===t},"isRichTextBroadcastElement")},"6je6":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("m5Yc");const{USERGROUP:t}=n.b,a=o(i=>{var c;return((c=i)===null||c===void 0?void 0:c.type)===t},"isRichTextUsergroupElement")},"6kwQ":function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=new Map([["open_form","text-snippet"],["send_message","message"],["reply_in_thread","threads"],["send_ephemeral_message","message"],["update_channel_topic","channel"],["create_channel","channel"],["invite_user_to_channel","channel"],["channel start message","channel"],["delay","code"],["archive_channel","channel"],["create_usergroup","user-groups"],["add_user_to_usergroup","user-groups"],["add_pin","channel"],["remove_user_from_usergroup","user-groups"],["send_dm","message"],["create_channel_section","channel"],["add_channel_to_channel_section","channel"],["find_channels_by_keywords","channel"],["add_channel_list_to_section","channel"],["select_channels","channel"],["add_bookmark","bookmark"],["add_channel_manager","channel"],["create_list","lists"],["lists_fetch_columns","lists"],["list_add_record","lists"],["add_list_record","lists"],["share_list_users","lists"],["share_list_channels","lists"],["read_list_record","lists"],["delete_list_record","lists"],["update_list_record","lists"],["copy_list","lists"],["canvas_create","canvas"],["canvas_update_content","canvas"],["channel_canvas_create","canvas"],["share_canvas","canvas"],["find_dm_or_mpdm_channel_canvas","canvas"],["canvas_copy","canvas"],["canvas_fetch_placeholders","canvas"],["canvas_update_data_labels","canvas"],["canvas_fetch_header_sections","canvas"],["send_to_sales_home","sales"],["send_to_my_sales_home","sales"],["add_reaction","emoji"],["remove_reaction","emoji"]])},"6uJ7":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("vIgB"),t=e("kNaz");const{SlackTypesUserId:a,SlackTypesChannelId:i,SlackTypesFileId:c}=n.d,r=o(f=>{if(f.questionType)return f.questionType;switch(f.type){case"text":return t.c.Text;case"textarea":return t.c.Textarea;case n.d.Boolean:return t.c.Boolean;case n.d.SlackTypesDate:return t.c.Date;case n.d.SlackTypesTimestamp:return t.c.DateTime;case n.d.Integer:return t.c.Integer;case"number":return t.c.Number;case"string":return f.long?t.c.LongText:f.options?t.c.Dropdown:t.c.ShortText;case"selectPerson":return t.c.SelectUser;case"selectChannel":return t.c.SelectConversation;case"select":{if(f.data_source==="users")return t.c.SelectUser;if(f.data_source&&[t.b.Conversations,t.b.Channels].includes(f.data_source))return t.c.SelectConversation;if(f.data_source===t.b.Static)return t.c.SelectStatic;throw new Error(`Question with base type 'select' has unrecognized data_source: ${f}`)}case"array":{var l;const p=(l=f.items)===null||l===void 0?void 0:l.type;if(p===a)return t.c.UserMultiSelect;if(p===i)return t.c.ChannelMultiSelect;if(p===c)return t.c.File;if(p==="string")return f.display_type==="checkboxes"?t.c.StaticMultiSelectWithCheckboxes:t.c.StaticMultiSelect;throw new Error(`Question with base type 'array' has unrecognized items type: ${p}`)}case n.d.SlackTypesRichText:return t.c.RichText;default:throw new Error(`Unable to identify question: ${f}`)}},"identifyQuestion")},"6v4I":function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n=e("LK2A");const t=[{regExp:/https:\/\/(.+?)(\.dev[0-9]*?|\.staging)?\.slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}\/p([0-9]+)(?:\?thread_ts=[0-9]+\.[0-9]+&cid=(?:C|G|D)[A-Z0-9]{8,})?/,urlType:n.CollabUrlType.SLACK_MESSAGE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+\.(jpe?g|png|gif)$/,urlType:n.CollabUrlType.SLACK_IMAGE_FILE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+/,urlType:n.CollabUrlType.SLACK_FILE},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/(?:docs|canvas)\/([^/]+?)(?:\/(F[A-Z0-9]{8,}).*?)?(?:\?focus_section_id=[^=#\s&]+)(?:&([^#\s]*))?(?:#([\S]*))?/,urlType:n.CollabUrlType.SLACK_DOCUMENT_SECTION},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/docs\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:n.CollabUrlType.SLACK_DOCUMENT},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/team\/(U|W)[A-Z0-9]{8,}/,urlType:n.CollabUrlType.SLACK_USER},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}$/,urlType:n.CollabUrlType.SLACK_CHANNEL},{regExp:/https:\/\/((dev|qa|staging|staging-master)([0-9]+?)?\.)?(slack|slack-gov|slack-gov-dev)\.com\/shortcuts\/Ft[A-Za-z0-9_-]+?\/([A-Za-z0-9_-]{32})/,urlType:n.CollabUrlType.SLACK_WORKFLOW}];let a=o(class{constructor(){this.supportedUrlParsers=t}},"QuipUrlParsersProvider")},"7/SY":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("mM05"),t=e.n(n),a=e("pu3F"),i=e("FZE2"),c=e("6pED");function r(f){if(!f)return!1;const l=new t.a(f.contents);return!(!Object(c.a)(l,{trimWhitespace:!0})||Object(i.a)(l)>a.D)}o(r,"isValidMessageContents")},"71eM":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Sets the visibility override for a Clips NUX component for the session");t.meta={name:"createAction",key:"createActionsetClipsNuxOverride",description:"Sets the visibility override for a Clips NUX component for the session"}},"71i0":function(w,s,e){w.exports=e.p+"sandwich@2x-123b870.png"},"72cY":function(w,s,e){"use strict";e.d(s,"a",function(){return I}),e.d(s,"b",function(){return j}),e.d(s,"c",function(){return M.a});var n=e("XIp8"),t=e("/HJZ"),a=e("i5Ig"),i=e("ntOI"),c=e("vIgB");const r=o(T=>{var D;const[S]=(D=Object.entries(T).find(A=>{let[P,{value:N}]=A;return N==="{{client.query}}"}))!==null&&D!==void 0?D:[];return S?{typeahead:!0,typeaheadQueryKey:S}:a.b},"deriveTypeaheadAttributesFromInputs"),f=o(T=>{const D=T.dynamic_options,S=D==null?void 0:D.inputs;return!D||!S?{}:r(S)},"deriveTypeaheadAttributesFromParameter"),l=o(T=>({...T,...f(T)}),"addTypeaheadAttributesToParameter"),p=o(T=>T.map(l),"addTypeaheadAttributesToParameters"),h=o(T=>{const D=T==null?void 0:T.inputs;return D?{...T,...r(D)}:T},"deriveNestedTypeaheadAttributesFromNestedDynamicOptions"),u=o(T=>{var D,S;const A=T.dynamic_options;if(!(A==null||(D=A.options)===null||D===void 0||(S=D.value)===null||S===void 0?void 0:S.dynamic_options))return T;const N=Object(n.a)(T);return Object(t.a)(N,"dynamic_options.options.value.dynamic_options",G=>h(G)),N},"addNestedTypeaheadAttributesToParameter"),b=o(T=>T.map(u),"addNestedTypeaheadAttributesToParameters"),v=o(T=>T.type===c.e.String||T.type===c.e.Object?c.b.SELECT:T.type===c.e.Array?c.b.MULTI_SELECT:null,"getDefaultSelectionType"),d=o(T=>{const D=T.dynamic_options;if(!D)return{};if(D.selection_type)return{dynamic_options:{...D,selectionType:D.selection_type}};const S=v(T);return S?{dynamic_options:{...D,selectionType:S}}:{}},"deriveSelectionTypeAttributesFromParameter"),m=o(T=>({...T,...d(T)}),"addSelectionTypeAttributesToParameter"),g=o(T=>T.map(m),"addSelectionTypeAttributesToParameters"),O=o(T=>{const D=T.dynamic_options,S=D==null?void 0:D.inputs;return!D||!S?[]:Object.values(S).reduce((A,P)=>{let{value:N}=P;if(typeof N=="string"){const G=i.a.exec(N);if(G){const[,V]=G;return A.push(V),A}}return A},[])},"deriveParentInputsFromParameter"),E=o(T=>{const D={...T};return D.parentInputs=O(D),D},"addParentInputsToParameter"),y=o(T=>T.map(E),"addParentInputsToParameters"),C=o(T=>T.map(D=>{const S={...D},A=new Set;return T.forEach(P=>{const N=P==null?void 0:P.parentInputs;N&&N.includes(D.name)&&A.add(P.name)}),S.childInputs=[...A],S}),"addChildInputsToParameters"),I=o(T=>{let D=[...T];return D=y(D),D=C(D),D=p(D),D=b(D),D=g(D),D},"addAttributesToParameters"),j=o((T,D)=>T.dynamic_options?!(typeof D=="object"&&!Array.isArray(D)&&Object.values(D||{}).some(P=>Number.isNaN(P))):!0,"hasValidDynamicInputValues");var M=e("YeHW")},"74tS":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("6inW"),t=e("DuRM"),a=e("kBpe"),i=e("vfQU"),c=e("s4P+");const r=o(f=>{const l=Object(n.a)(f),p=Object(t.c)(l),h=p==null?void 0:p.childWindowRef,u=h?h.browserWindowId:null;Object(a.i)()?Object(i.fb)()?u?Object(i.y)(u):Object(c.b)({label:"HUDDLES_PRO_MAX"}).warn("Skip focus huddle pro max window, reason: no windowId available"):Object(c.b)({label:"HUDDLES_PRO_MAX"}).warn("Skip focus huddle pro max window, reason: desktop API not available"):h?h.focus():Object(c.b)({label:"HUDDLES_PRO_MAX"}).warn("Skip focus huddle pro max window, reason: desktop API not available")},"focusHuddleChildWindow")},"77xR":function(w,s,e){"use strict"},"7AiH":function(w,s,e){"use strict";e.d(s,"a",function(){return O});var n=e("gSGL"),t=e("0qhH"),a=e("htTJ"),i=e("IOc2"),c=e("tfz1"),r=e("5SjC"),f=e("wsJ+"),l=e("3yyz"),p=e("mSgU");const h=p.d.concat(["@","#","`","$","%","^","&","+","=","|",'"',"/"]),u=h.filter(E=>E!==".").map(E=>`\\${E}`).join("|"),b=h.filter(E=>E!=="."&&E!=="_").map(E=>`\\${E}`).join("|"),v=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${u}|$)`,"g"),d=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20#\uFF03].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${b}|$)`,"g"),m=new RegExp(`[\\.|\\s|${u}]+$`),g=new RegExp(`(${Object(f.a)().source})`,"g");function O(E){let{useChannelTagging:y=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!E)return[];let C=0;const I=[],j=y?d:v;return Object(r.a)(E,(M,T)=>{if(Object(c.a)(T)||!Object(t.a)(M)||Object(i.a)(M)||Object(a.a)(M)){C+=Object(l.a)(M);return}Object(n.a)(M.insert)&&M.insert.replace(j,(S,A,P)=>{let N=P,G=A;const V=S.indexOf("@");V>0&&(N+=V);const k=S.indexOf("\uFF20");if(k>0&&(N+=k),y){const R=S.indexOf("#");R>0&&(N+=R);const W=S.indexOf("\uFF03");W>0&&(N+=W)}const x=A.length;G=A.replace(m,"");const H=y?G.replace(/^[@\uFF20#\uFF03]/,""):G.replace(/^[@\uFF20]/,"");H.length&&I.push({type:y&&["#","\uFF03"].includes(A.charAt(0))?"channel":"member",text:Object(n.a)(M.insert)?M.insert:"",matchLength:x,label:G,labelWithoutPrefix:H,localIndex:N,globalIndex:N+C})}),Object(n.a)(M.insert)&&M.insert.replace(g,(S,A,P,N)=>{let G=N;const V=S.indexOf(":");V>0&&(G+=V);const k=A.length,x=A.replace(/:/g,"");if(!x.length)return;const H=/^:[0-9]+:$/.test(S),R=Object(n.a)(M.insert)?M.insert.substring(0,N):"",W=/(^|\s)[0-9]+$/.test(R);H&&W||I.push({type:"emoji",text:Object(n.a)(M.insert)?M.insert:"",matchLength:k,label:A,labelWithoutPrefix:x,localIndex:G,globalIndex:G+C})}),C+=Object(l.a)(M)}),I}o(O,"getPotentialMentionMatches")},"7HMQ":function(w,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("qBqz"),t=e("xwCZ"),a=e("K7jq");function i(b){return b==null?void 0:b[n.a]}o(i,"getMemberWhoCanShareContactCardPref");function c(b,v){const d=Object(t.g)(b,v);if(!d)return!1;const m=i(d);return m===n.b.NO_ONE?!1:Object(a.a)(d)?m===n.b.EVERYONE:!0}o(c,"isMemberContactInfoShareableById");var r=e("Cnv9"),f=e("9Gfp"),l=e("C3vN");const p={...r.a,CONTACT_PREFS_RESTRICTED:"contact_prefs_restricted",CONTACT_IS_SELF:"contact_is_self",CONTACT_NOT_ACTIVE_MEMBER:"contact_not_active_member"};function h(b,v){let d=[];Object(f.a)(b)===v&&(d=d.concat(p.CONTACT_IS_SELF));const g=Object(t.g)(b,v);Object(l.N)(g)||(d=d.concat(p.CONTACT_NOT_ACTIVE_MEMBER));const O=Object(r.c)(b);return!O.ok&&O.reasons&&(d=d.concat(O.reasons)),c(b,v)||d.push(p.CONTACT_PREFS_RESTRICTED),d.length>0?{ok:!1,reasons:d}:{ok:!0}}o(h,"canUserShareContactByIdWithReasons");function u(b,v){return h(b,v).ok}o(u,"canUserShareContactById")},"7INw":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("SQ0V"),c=e("3l96"),r=e("htTJ"),f=e("9avG"),l=e("/MKj"),p=e("zxER"),h=e("mM05"),u=e.n(h),b=e("+kJ4"),v=e("Wya+"),d=e("5IZy"),m=e("Z44y"),g=e("ktUG"),O=e("mSgU"),E=e("RvCK"),y=e("zlyu"),C=e("RUo5"),I=e("WSQ4"),j=e("nNoG"),M=e("Tevt");const T=new j.b("message-input"),D={zIndex:1012},S=400,A=160,P=200,N=o((R,W)=>{const U=R.left+R.width/2,z=(W/2-U)/S*100,L=50-Math.round(z/10)*10;return Math.max(Math.min(L,90),10)},"offsetCoachmarkInNarrowViewport"),G=o((R,W)=>{const U=R.left+R.width/2,_=U+S-S*.1,B=U+S/2;return _<W?10:B<W?50:90},"offsetCoachmark");function V(R){let{quillRef:W,anchorElement:U,text:_,url:B,isTruncated:z,canBeTruncated:L,initialRange:$,adjustedRange:Q,initialBlocks:K,textIsEditable:Z,source:ne}=R;const F=Object(l.useDispatch)(),J=Object(p.c)(de=>Object(d.a)({state:de})),{window:X}=Object(n.useContext)(I.a);let Y=10;const ae=X.document.documentElement.clientWidth-10,ee=U?U.getBoundingClientRect():null;ee&&(ae<S+A?Y=N(ee,ae):Y=G(ee,ae));let q=null;z&&(q=T.t("Show full link")),L&&(q=T.t("Shorten link"));const te=Object(n.useMemo)(()=>{let de=C.a.Top;return ee&&ee.top<P&&(de=C.a.Bottom),de},[ee]);return t.a.createElement(y.a,{isOpen:!0,anchorElement:U,orientation:te,centerOnArrow:!0,offsetY:-5,closeCoachmark:()=>{var de,se;F(Object(b.a)()),W==null||(de=W.current)===null||de===void 0||de.focus(),W==null||(se=W.current)===null||se===void 0||se.setSelection($)},overlayStyle:D,primaryCallToActionText:T.t("Remove"),onClickPrimaryButton:()=>{var de,se;F(Object(b.a)()),W==null||(de=W.current)===null||de===void 0||de.formatText(Q.index,Q.length,{link:!1,unlink:!0}),J.track(g.EventId.MSG_FORMATTING_REMOVED,{input_context:Object(m.a)()?g.MsgFormattingInputContext.POST:g.MsgFormattingInputContext.MESSAGE,input_source:ne,input_format:O.a.link,is_selection:!0}),W==null||(se=W.current)===null||se===void 0||se.setSelection($.index+$.length,0)},secondaryCallToActionText:T.t("Edit"),onClickSecondaryButton:()=>{F(Object(b.a)()),F(Object(v.b)({quill:W==null?void 0:W.current,initialBlocks:K,initialText:_,initialUrl:B,textIsEditable:Z,range:Q,source:ne}))},primaryCallToActionType:"danger",tertiaryCallToActionText:q,onClickTertiaryButton:()=>{var de,se;const re=(z?B:Object(E.b)(B||""))||"";W==null||(de=W.current)===null||de===void 0||de.updateContents(new u.a().retain(Q.index).delete(Q.length).insert(re,{link:B||""})),W==null||(se=W.current)===null||se===void 0||se.setSelection(Q.index+re.length,0)},arrowPosition:Y,isMegaphoneCoachmark:!1},t.a.createElement("div",{className:"overflow_ellipsis"},t.a.createElement("b",null,_)),t.a.createElement("div",{className:"p-composer_edit_link_popover__url"},t.a.createElement(M.a,{alwaysPerformDefaultOnClickBehavior:!0,href:B||""},B)))}o(V,"ComposerEditLinkPopover"),V.displayName="ComposerEditLinkPopover";var k=V;const x=Object(i.c)("Opens the Texty edit link modal",(R,W,U)=>{let{quill:_,initialRange:B,adjustedRange:z,anchorElement:L,initialContents:$,initialText:Q,initialUrl:K,textIsEditable:Z,source:ne}=U;const F="composer_edit_link_popover",J=Object(r.c)({insert:Q,attributes:{link:K}}),X=Z?null:Object(f.b)({delta:$,state:W()}),Y=!J&&K===Q&&Object(E.b)(K)!==K,ae=t.a.createElement(k,{quillRef:{current:_},anchorElement:L,text:Q,url:K,isTruncated:J,canBeTruncated:Y,initialRange:B,adjustedRange:z,initialBlocks:X,textIsEditable:Z,source:ne});R(Object(c.a)({element:ae,name:F,isStackable:!0}))});x.meta={name:"createThunk",key:"createThunkopenTextyEditLinkModal",description:"Opens the Texty edit link modal"},x.propTypes={quill:a.default.object.isRequired,initialRange:a.default.object.isRequired,adjustedRange:a.default.object.isRequired,anchorElement:a.default.instanceOf(Element).isRequired,initialBlocks:a.default.arrayOf(a.default.object),initialText:a.default.string,initialUrl:a.default.string,textIsEditable:a.default.bool.isRequired,source:a.default.number.isRequired};var H=s.a=x},"7PJ0":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("oEDn");const c=new a.b("offline_mode");let r=o(class extends n.Component{render(){const{tooltipLabel:l}=this.props;return t.a.createElement(t.a.Fragment,null,l,t.a.createElement("br",null),t.a.createElement("span",{className:"sk_foreground_high_solid"},t.a.createElement(i.a,{type:"cloud-offline-small",className:"margin_right_25",size:"inherit"}),c.t("No connection")))}},"OfflineTooltipLabel");r.displayName="OfflineTooltipLabel",s.a=r},"7Tv/":function(w,s,e){"use strict"},"7UMc":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("26ZP");let c=o(class extends n.PureComponent{render(){const{type:f,noHighlights:l,noLinking:p}=this.props,h=!l,u=Object(i.a)({type:f,tsfMode:"NORMAL"}),b=u,v=Object(a.default)("c-mrkdwn__broadcast",{"c-mrkdwn__broadcast--link":!p,"c-mrkdwn__broadcast--mention":h});return t.a.createElement("span",{className:v,"data-broadcast-id":`BK${f}`,"data-stringify-text":u},b)}},"MrkdwnBroadcastCommand");c.displayName="MrkdwnBroadcastCommand",c.defaultProps={noHighlights:!1,noLinking:!1},s.a=c},"7UjL":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),i=e("7DVt"),c=e("Oyf8");const r=Object(a.c)("Check conditions and show a Progressive Disclosure tip",function(){var f=Object(n.coroutine)(function*(l,p){const h=p(),u=Object(i.a)(h),b=Object.keys(Object(i.d)(h));u.every(d=>b.includes(d))&&(yield l(Object(c.a)()))});return function(l,p){return f.apply(this,arguments)}}());r.meta={name:"createThunk",key:"createThunkmaybeMarkProgressiveDisclosureAsComplete",description:"Check conditions and show a Progressive Disclosure tip"}},"7XZu":function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return i}),e.d(s,"d",function(){return c}),e.d(s,"g",function(){return r}),e.d(s,"h",function(){return f}),e.d(s,"f",function(){return l}),e.d(s,"e",function(){return p});var n=e("DwFS");const t=Object(n.a)("Updates a pending file with its persisted file ID");t.meta={name:"createAction",key:"createActionaddPersistedFileId",description:"Updates a pending file with its persisted file ID"};const a=Object(n.a)("Updates a pending file with the origin team ID of the upload");a.meta={name:"createAction",key:"createActionaddUploadTeamId",description:"Updates a pending file with the origin team ID of the upload"};const i=Object(n.a)("Add file objects for uploading");i.meta={name:"createAction",key:"createActioninternalAddPendingFiles",description:"Add file objects for uploading"};const c=Object(n.a)("Removes a pending file");c.meta={name:"createAction",key:"createActionremovePendingFile",description:"Removes a pending file"};const r=Object(n.a)("Updates the file upload percent complete");r.meta={name:"createAction",key:"createActionupdateUploadProgress",description:"Updates the file upload percent complete"};const f=Object(n.a)("Updates the file upload status");f.meta={name:"createAction",key:"createActionupdateUploadStatus",description:"Updates the file upload status"};const l=Object(n.a)("Updates the file sending status");l.meta={name:"createAction",key:"createActionupdateSendingStatus",description:"Updates the file sending status"};const p=Object(n.a)("Update the cached preview data");p.meta={name:"createAction",key:"createActionupdatePreviewData",description:"Update the cached preview data"}},"7YN0":function(w,s,e){"use strict";e.d(s,"e",function(){return a}),e.d(s,"b",function(){return i}),e.d(s,"c",function(){return c}),e.d(s,"d",function(){return r}),e.d(s,"a",function(){return f});var n=e("Olm7");const t={},a=o((l,p)=>{let{pendingFileId:h,uploadPromise:u}=p;!l||!u||!h||(t[l]?t[l].push({pendingFileId:h,uploadPromise:u}):t[l]=[{pendingFileId:h,uploadPromise:u}])},"setUploadPromise"),i=o(l=>{delete t[l]},"deleteUploadPromises"),c=o(l=>{var p;return(p=t[l])===null||p===void 0?void 0:p.map(h=>h.uploadPromise)},"getUploadPromises"),r=o(l=>t[l],"getUploadPromisesAndIds"),f=o((l,p)=>Object(n.a)(t[l],h=>h.pendingFileId===p),"deleteUploadPromise")},"7Yrm":function(w,s,e){"use strict";var n=e("n3tL"),t=e("SQ0V"),a=e("dmdh"),i=e("/o10"),c=e("Mqk2"),r=e("P9LH"),f=e("VmGj");const l=Object(t.c)("Ensure a file exists and open it in the full screen file viewer",(h,u,b)=>{let{fileId:v,ts:d,channelId:m,threadTs:g,viewContext:O,isStackable:E,fileChannelMediaInfo:y,mediaId:C}=b;p(h,u,{fileId:v,ts:d,channelId:m,threadTs:g,viewContext:O,isStackable:E,fileChannelMediaInfo:y,mediaId:C})||h(Object(c.d)({fileId:v,reason:"file-image-thumbnail.ensureFileAndOpenViewer"})).then(()=>{p(h,u,{fileId:v,ts:d,channelId:m,threadTs:g,viewContext:O,isStackable:E,fileChannelMediaInfo:y,mediaId:C})})});l.meta={name:"createThunk",key:"createThunkensureFileAndOpenViewer",description:"Ensure a file exists and open it in the full screen file viewer"};function p(h,u,b){let{fileId:v,ts:d,channelId:m,threadTs:g,viewContext:O,isStackable:E,fileChannelMediaInfo:y,mediaId:C}=b;const I=Object(a.e)(u(),v);return I?Object(r.Rb)(I)?(h(Object(f.a)({fileId:v})),!0):(h(Object(i.a)({fileId:v,ts:d,channelId:m,threadTs:g,viewContext:O,isStackable:E,fileChannelMediaInfo:y,mediaId:C})),!0):!1}o(p,"openViewerIfFileExists"),l.propTypes={fileId:n.default.string},s.a=l},"7bEI":function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return!!t&&!t.detail}o(n,"isKeyboardClick")},"7exg":function(w,s,e){"use strict";e.d(s,"a",function(){return j});var n=e("Qm7m"),t=e("wOIf"),a=e("sIIQ"),i=e("JaUH"),c=e("8SHP"),r=e("A/zn"),f=e("CdxK"),l=e("IbHz"),p=e("gwqd"),h=e("iEyB"),u=e("bol+"),b=e("Qyzc"),v=e("vycc"),d=e("GY1C"),m=e("p8wN"),g=e("yepT"),O=e("iCgo"),E=e("XIp8"),y=e("gPPH");const C=o(M=>{let{derivedData:T}=M;return{id:Object(y.a)(),type:t.STORY,config:{channel:{value:""},title:{value:""},emoji:{value:""},description:[],users:[]},derived:Object(E.a)(T)}},"createStoryStep");var I=e("M39c");function j(M,T){switch(M){case n.CHANNEL_ACTION:return Object(f.a)(T);case n.MEMBER_JOINED_CHANNEL:return Object(l.a)(T);case n.MESSAGE_ACTION:return Object(p.a)(T);case n.REACTION_ADDED:return Object(h.a)(T);case n.SCHEDULED:return Object(u.b)(T);case n.SLASH_COMMAND:return Object(b.a)(T);case n.WEBHOOK:return Object(v.a)(T);case n.EXTERNAL:return Object(a.g)(T);case n.SLACK_EVENT:return Object(r.a)(T);case n.SHORTCUT:return Object(d.c)(T);case n.HERMES_WEBHOOK:return Object(i.a)(T);case n.HERMES_SCHEDULED:return Object(c.a)(T);case t.DIALOG:return Object(m.c)(T);case t.EXTENSION:return Object(g.a)(T);case t.MESSAGE:return Object(O.a)(T);case t.STORY:return C(T);case t.SLACK_FUNCTION:return Object(I.b)(T);default:throw new Error(`Unable to create segment of type "${M}"`)}}o(j,"createSegment")},"7f4g":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Adds functions to store");t.meta={name:"createAction",key:"createActionupsertFunctions",description:"Adds functions to store"}},"7jFJ":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("ifKl"),t=e("m5Yc");function a(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.a;return i?i.reduce((f,l)=>{if(l.type===t.b.LIST){const h=(l.elements||[]).map(u=>u.elements.reduce((b,v)=>r(b,v),c));return f.concat(h)}const p=(l.elements||[]).reduce((h,u)=>r(h,u),c);return f.concat([p])},[]):[]}o(a,"richTextChunkReduce")},"7nKM":function(w,s,e){"use strict";function n(t){const a=Math.floor(t/3600),i=Math.floor((t-a*3600)/60),c=Math.floor(t-a*3600-i*60),r=c<10?`0${c}`:`${c}`;if(a>0){const f=i<10?`0${i}`:`${i}`;return`${a}:${f}:${r}`}return`${i}:${r}`}o(n,"secondsToAudioTime"),s.a=n},"7t7g":function(w,s,e){"use strict";e.d(s,"b",function(){return D});var n=e("q1tI"),t=e.n(n),a=e("Z0Cl"),i=e("E3dU"),c=e("ISSR"),r=e("Yauy"),f=e("4EP9"),l=e("miM7"),p=e("Ql5a"),h=e("Os2i"),u=e("E97Y"),b=e("UIhb"),v=e("dlm8"),d=e("eUIW"),m=e("xwCZ"),g=e("Enx8"),O=e("C3vN"),E=e("mzZe"),y=e("dmdh"),C=e("zZFv"),I=e("iheS"),j=e("ajVY");function M(){return M=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var P=arguments[A];for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&(S[N]=P[N])}return S},M.apply(this,arguments)}o(M,"_extends");function T(S){let A=o(class extends n.PureComponent{setMsgOps(N){this.setState(()=>({msgOps:N}))}setMsgText(N){this.setState(()=>({msgText:N}))}setSelectedChannel(N,G){this.setState(()=>({channelId:N,destination:G}))}render(){const N=S;return t.a.createElement(N,M({msgText:this.state.msgText,setMsgText:this.setMsgText,msgOps:this.state.msgOps,setMsgOps:this.setMsgOps,selectedChannelId:this.state.channelId,setSelectedChannel:this.setSelectedChannel,destination:this.state.destination},this.props))}constructor(N){super(N),this.state={channelId:N.initialChannelId||"",msgText:N.initialText||"",msgOps:void 0,destination:{}},this.setSelectedChannel=this.setSelectedChannel.bind(this),this.setMsgText=this.setMsgText.bind(this),this.setMsgOps=this.setMsgOps.bind(this)}},"ShareDialogWrapper");return A.displayName="ShareDialogWrapper",A.defaultProps={initialChannelId:null,initialText:""},A}o(T,"withShareDialogWrapper"),T.displayName="withShareDialogWrapper",s.a=T;function D(S,A){let{selectedChannelId:P,msgOps:N,destination:G,fileId:V,ts:k,channelId:x}=A,H=!1,R=!1,W=!1,U="",_=null,B=!1,z=null,L=Object(i.d)(S,P)||Object(i.m)(S,P||"");L&&(H=Object(E.b)(S,L.id)&&!Object(c.a)(L),R=Object(l.a)(L),W=Object(u.l)(L)&&!Object(r.db)(L),_=Object(u.d)(L),B=Object(r.b)(S,L));const $=G&&G.channelIds,Q=G&&G.memberIds,K=$&&$.length>1,Z=$&&Object(i.d)(S,$[0]),ne=Q&&Object(i.m)(S,Q[0]),F=Q&&Q.filter(qe=>{const ct=Object(m.g)(S,qe);return Object(O.V)(ct)}),J=Q&&Q.length>8,X=$&&Q&&$.length&&Q.length;(K||J||X)&&(H=!1);const Y=Object(y.e)(S,V||"");k&&x&&(z=Object(b.b)(S,x,k));const ae=L?Object(j.a)(S,"allow_box_cfs",L):Object(j.d)(S,"allow_box_cfs");let ee;const q=Q==null?void 0:Q.map(qe=>Object(i.n)(S,qe));ee=[...$??[],...q??[]].some(qe=>Object(p.a)(S,qe||"")),ee=ee&&!ae;const te=Object(h.b)(S,P||"",Y),de=z&&z.files,se=Object(a.a)(de,qe=>{var ct;return((ct=Object(y.e)(S,qe))===null||ct===void 0?void 0:ct.mode)==="hosted"}),re=Y&&Y.mode==="hosted",oe=se.length>0,ce={contents:N||[]},ue=Object(C.a)(ce),Pe=P&&Object(f.a)(S,P,ue);let Ye,$e=0;if(P&&Object(I.a)(S,P,ue)){const{counts:qe}=Object(v.d)(S,P);$e=qe.member_count,ue.includes("BKhere")&&(Ye="@here"),ue.includes("BKchannel")&&(Ye="@channel"),ue.includes("BKeveryone")&&(Ye="@everyone")}return Object(d.a)(P)&&!(Object(r.Y)(S,L)&&!H)?(U=Object(g.a)(S,P||""),H=!0):L&&(U=Object(r.t)(S,L)),L||(L=Object(m.g)(S,P)),(re||oe)&&ee&&(H=!1),{canPostInSelectedChannel:H,hostedFilesOnMessage:se,canThread:B,selectedChannelIsGeneral:R,willJoinChannel:W,isHostedFile:re,selectedChannelName:U,channelType:_,disallowedKeywordInMsgText:Pe||void 0,atChannelWarningKeyword:Ye||void 0,channelMemberCount:$e,selectedChannel:L,selectedChannelId:P,useMultiSelect:!0,channelIds:$,memberIds:Q,nonMemberChannel:Z,memberChannel:ne,slackConnectFileSharingBlocked:ee,deactivatedMemberIds:F,slackConnectCanvasSharingBlocked:te}}o(D,"shareDialogMapStateToProps")},"7y/j":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("vLZU"),t=e("Kyco"),a=e("iAR/");const i="slackConnectGuidelines",c=Object(t.b)({},{},{scope:n.k.orgShared,storeKey:i,persistenceEnabled:!0}).on(a.a,(r,f)=>{let{type:l,guidelines:p}=f;return{...r,[l]:{...p}}}).on(a.b,(r,f)=>{let{type:l,enabled:p}=f;const h=r[l];return h.enabled=p,{...r,[l]:{...h}}});s.b=c},"80lu":function(w,s,e){"use strict";e.d(s,"c",function(){return f}),e.d(s,"a",function(){return l}),e.d(s,"b",function(){return p});var n=e("Lgge"),t=e("WCk1"),a=e("2XU3"),i=e("ktUG"),c=e("s4P+"),r=e("vjzz");const f=Object(t.a)("Get the channel recommendations",(h,u,b)=>{let{selectedMembers:v,limit:d,reason:m,source:g="suggested-channels-sidebar"}=b;return h(Object(a.apiCall)({method:"conversations.recommend",args:{query:v||"",source:g,channels_info:!0,limit:d},reason:m||g})).catch(O=>(Object(c.a)({getState:u}).error("Could not fetch suggested channels for conversations.recommend"),n.a.reject(O)))});f.meta={name:"createFetcher",key:"createFetcherfetchConversationsRecommend",description:"Get the channel recommendations"};const l=o(h=>{let{clogger:u,data:b}=h;const{requestId:v,selectedItemId:d,selectedPosition:m,selectedAction:g}=b,O={request_id:Object(r.c)(v,r.a),selected_id:d,selected_position:m,selected_type:"channel",...g&&{selected_action:g}};u.track(i.EventId.RECOMMEND_ACCEPT,O)},"clogConversationsRecommendAccept"),p=Object(t.a)("Get additional metadata for a group of channels",(h,u,b)=>{let{channelIds:v,reason:d="channel_metadata_fetch"}=b;return h(Object(a.apiCall)({method:"conversations.bulkFetchMetadata",args:{channel_ids:v},reason:d})).catch(m=>(Object(c.a)({getState:u}).error("Could not fetch channel metadata for provided channels"),n.a.reject(m)))});p.meta={name:"createFetcher",key:"createFetcherfetchConversationBulkMetaData",description:"Get additional metadata for a group of channels"}},"844o":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("wd/R"),c=e.n(i),r=e("INuR");let f=o(class extends n.Component{renderDay(h,u,b){const{dateFormat:v,renderDate:d}=this.props,m=h.startOf("day").format(v),g=h.diff(u,"days"),O=h.clone().endOf("day").diff(b,"days"),E=g>=0&&O<=0,y=h.isSame(new Date,"day"),C=h.weekday(),I=E&&C===0&&g<7,j=E&&C===6&&g<7,M=E&&C===0&&O>-7,T=E&&C===6&&O>-7,D=d({value:m,dateFormat:v,sameMonth:E,isToday:y,monthStart:g===0,monthEnd:O===0,firstWeekStart:I,firstWeekEnd:j,lastWeekStart:M,lastWeekEnd:T});return t.a.createElement("td",{key:m,className:"c-calendar_month__date_container","data-qa":"calendar_month_date_container"},D)}renderWeek(h,u,b){const v=h.clone(),d=[];for(;d.length<7;)d.push(this.renderDay(v,u,b)),v.add(1,"day");return t.a.createElement("tr",{key:h.week(),className:"c-calendar_month__week"},d)}render(){const{month:h,monthFormat:u,className:b,header:v}=this.props,d=c()(h,u),m=d.clone().startOf("month"),g=d.clone().endOf("month"),O=m.clone().startOf("week"),E=[];for(;O.isBefore(g);)E.push(this.renderWeek(O.clone(),m,g)),O.add(1,"week");const y=Object(a.default)("c-calendar_month",b);return t.a.createElement("table",{className:y},t.a.createElement("thead",null,v),t.a.createElement("tbody",null,E))}},"MonthView");f.displayName="MonthView",f.defaultProps={monthFormat:"YYYY-MM",renderDate:p=>{let{value:h,dateFormat:u,sameMonth:b}=p;return b&&c()(h,u).format("D")},dateFormat:"YYYY-MM-DD",header:t.a.createElement(r.a,null)};var l=s.a=f},"84jr":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("SQ0V"),t=e("7+Lm"),a=e("uVZW"),i=e("RVJP"),c=e("69o4");const r=Object(n.c)("Dismiss",(f,l)=>{const p=l();if(!(Object(i.d)(p,"onbrd_1572_feature")==="on"))return;Object(t.c)(p,a.g.MESSAGE_PANE)===a.h.CHATTY_TO_CHANNEL_MESSAGE_SUGGESTION_BANNER&&f(Object(c.a)({spaceName:a.g.MESSAGE_PANE,action:a.f.DISMISS}))});r.meta={name:"createThunk",key:"createThunkmaybeDismissChannelSuggestionMessage",description:"Dismiss"}},"8AeK":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("RVJP");const t=o(a=>Object(n.d)(a,"pnp_ooo")==="on","isProfileOutOfOfficeEnabled")},"8Bjr":function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("SQ0V"),t=e("s4P+"),a=e("T1zM"),i=e("I6n1"),c=e("5MVR"),r=e("ct/k"),f=e("Cgcc"),l=e("zm5I"),p=e("9zMb");const h=Object(n.c)("Set ia4 theme preferences",(u,b,v)=>{const{mode:d,...m}=v,g=b(),O=Object(l.a)(g);return m.sidebarInverted=O==="dark"?!1:m.sidebarInverted&&Object(p.q)(m.brightness||f.a),u(Object(a.f)({pref:i.h,value:Object(c.c)(m)})).then(()=>u(Object(r.a)())).catch(E=>{const y=E&&E.data&&E.data.error||"unknown error";Object(t.a)({getState:b}).error("PREFS",`users.prefs.set failed to write new theme preferences ia_theme: ${y}`)})});h.meta={name:"createThunk",key:"createThunksetIaThemePrefByApi",description:"Set ia4 theme preferences"}},"8Dn9":function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Store/replace last save date for Quip doc");t.meta={name:"createAction",key:"createActionsetLastSaved",description:"Store/replace last save date for Quip doc"};const a=Object(n.a)("Remove updates from store");a.meta={name:"createAction",key:"createActionbulkRemoveUpdates",description:"Remove updates from store"}},"8HWa":function(w,s,e){"use strict";e.d(s,"a",function(){return H});var n=e("ifKl"),t=e("n3tL"),a=e("q1tI"),i=e.n(a),c=e("Cfcg"),r=e("BHdc"),f=e("G5NC"),l=e("9Gfp"),p=e("nNoG"),h=e("HFEL"),u=e("xwCZ"),b=e("O86Y"),v=e("9I4P"),d=e("6JJY"),m=e("tg2r"),g=e("eUIW"),O=e("C3vN"),E=e("52Wj"),y=e("Nnn3"),C=e("nWdO"),I=e("hooW"),j=e("M2+7"),M=e("NV6F"),T=e("Tevt"),D=e("LvvF"),S=e("BfA7"),A=e("I0j/"),P=e("37+L"),N=e("i9jZ");function G(){return G=Object.assign||function(_){for(var B=1;B<arguments.length;B++){var z=arguments[B];for(var L in z)Object.prototype.hasOwnProperty.call(z,L)&&(_[L]=z[L])}return _},G.apply(this,arguments)}o(G,"_extends");const V={id:t.default.string.isRequired,fallback:t.default.string,isCurrentUser:t.default.bool,name:t.default.string,noHighlights:t.default.bool,noLinking:t.default.bool,showTooltip:t.default.bool,onClick:t.default.func,isUnknown:t.default.bool,isNonExistent:t.default.bool,serviceId:t.default.string,appTeamId:t.default.string,clogLinkClick:t.default.func,openProfileProp:t.default.func,showMemberProfileInWindow:t.default.func,isUserHidden:t.default.bool,className:t.default.string,clientTheme:t.default.string,tabIndex:t.default.number,ariaHidden:t.default.bool,navigate:t.default.func,shouldUseNavigate:t.default.bool,supressLinkColors:t.default.bool},k={fallback:null,isCurrentUser:!1,name:null,noHighlights:!1,noLinking:!1,onClick:void 0,showTooltip:!1,isUnknown:!0,isNonExistent:!1,serviceId:void 0,appTeamId:void 0,clogLinkClick:n.a,className:void 0,clientTheme:"light",tabIndex:0,ariaHidden:!1,openProfileProp:n.a,showMemberProfileInWindow:n.a,isUserHidden:!1,shouldUseNavigate:!1,navigate:n.a,supressLinkColors:!1},x=new p.b("members");let H=o(class extends a.PureComponent{onCardClose(){this.tooltip.current&&this.tooltip.current.hideTip()}onClick(B){const{id:z,clogLinkClick:L,onClick:$,openProfileProp:Q,showMemberProfileInWindow:K,serviceId:Z,shouldUseNavigate:ne}=this.props;if(B.preventDefault(),L({item_id:z,item_type:z.charAt(0),link_type:"user"}),this.tooltip.current&&this.tooltip.current.hideTip(),ne){Object(N.d)(B)?K(z):this.props.navigate(Object(P.O)(z));return}Object(N.d)(B)?K(z):Q({memberId:z,serviceId:Z}),$&&$(B,z)}getTooltipContent(){return i.a.createElement(j.b,{id:this.props.id,invert:!0,showAvatar:!0,showPresence:!0,forceRealName:!0})}render(){const{id:B,serviceId:z,fallback:L,isCurrentUser:$,name:Q,noHighlights:K,noLinking:Z,onClick:ne,showTooltip:F,isUnknown:J,isNonExistent:X,className:Y,clientTheme:ae,tabIndex:ee,ariaHidden:q,isUserHidden:te,supressLinkColors:de}=this.props;if(!B)return null;const se=`@${Q||L}`,re=Object(r.default)("c-member_slug",Y,`c-member_slug--${ae}`,{"c-member_slug--link":!Z,"c-member_slug--mention":$&&!K,"c-member_slug--grey":de});if(J)return i.a.createElement(I.a,{type:"unknown"});if(X)return i.a.createElement(I.a,{type:"non-existent"});if(te)return F?i.a.createElement(C.c,{ref:this.tooltip,tip:x.t("You\u2019ve hidden this person"),tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},i.a.createElement("span",null,i.a.createElement(h.a,null))):i.a.createElement(h.a,null);if(Z)return i.a.createElement("span",{className:re},se);const oe={};Object(f.a)()?(oe["data-stringify-type"]="mention",oe["data-stringify-id"]=B,oe["data-stringify-label"]=se):oe["data-stringify-text"]=`@${B}`;const ce=`/team/${B}`,ue=i.a.createElement(T.a,G({className:re,href:ce,"data-member-id":B,"data-member-label":se},oe,{onClick:this.onClick,tabIndex:ee,"aria-hidden":q}),se);return ne?F?i.a.createElement(C.c,{ref:this.tooltip,tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},i.a.createElement("span",{dir:"ltr"},ue)):ue:Object(M.C)({memberId:B,serviceId:z,children:ue})}constructor(B){super(B),this.tooltip=i.a.createRef(),this.onClick=this.onClick.bind(this),this.onCardClose=this.onCardClose.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"MemberSlug");H.displayName="MemberSlug",H.propTypes=V,H.defaultProps=k;function R(_,B){let{id:z,noLinking:L}=B;const $=Object(l.a)(_),Q=Object(u.g)(_,z),K=Object(b.g)(_);let Z,ne,F,J=L,X;Q&&(Z=Object(E.b)(Q),ne=Object(O.pb)(Q),F=Object(O.fb)(Q),X=Object(y.a)(_,Q)),F&&!Object(g.a)(z)&&(Z=z,ne=!1,F=!1,J=!0);let Y;X&&(Y=Object(v.b)(Q,K));const ae=Object(D.b)(_,Q.id);return{name:Z,isUnknown:ne,isNonExistent:F,serviceId:X,appTeamId:Y,noLinking:J,isCurrentUser:z===$,isUserHidden:ae}}o(R,"mapStateToProps");function W(_){return{openProfileProp:function(){for(var B=arguments.length,z=new Array(B),L=0;L<B;L++)z[L]=arguments[L];return _(Object(m.a)(...z))},showMemberProfileInWindow:function(){for(var B=arguments.length,z=new Array(B),L=0;L<B;L++)z[L]=arguments[L];return _(Object(d.a)(...z))},navigate:function(){for(var B=arguments.length,z=new Array(B),L=0;L<B;L++)z[L]=arguments[L];return _(Object(A.a)(...z))}}}o(W,"mapDispatchToProps");var U=s.b=Object(S.a)(Object(c.a)(R,W)(H))},"8K+A":function(w,s,e){"use strict";var n=e("bZHP"),t=e.n(n);let a;function i(){return!a&&n.TimezoneDetector&&(a=new n.TimezoneDetector),a&&a.detect()}o(i,"detectTimezone"),s.a=i},"8Mjy":function(w,s,e){"use strict";e.d(s,"a",function(){return O});var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("/MKj"),c=e("nNoG"),r=e("zb/F"),f=e("Tsh7"),l=e("qDEp"),p=e("OaiI"),h=e("RVJP"),u=e("P4EH"),b=e("lqkv"),v=e("oY18"),d=e("YHfO"),m=e("0mlZ");const g=new c.b("share-dialog");function O(E){const[y,C]=Object(n.useState)(!1),I=Object(i.useDispatch)(),j=Object(n.useCallback)(P=>{P.preventDefault(),Object(r.a)()&&E.value&&(Object(r.e)(E.value),E.shareType===m.b.CANVAS||E.shareType===m.b.LIST?I(Object(v.a)({element:t.a.createElement(b.b,{icon:"check-large",duration:d.b},g.t("Link copied to clipboard"))})):C(!0))},[I,E.shareType,E.value]),M=Object(n.useCallback)(()=>C(!1),[]),T=Object(a.c)(P=>Object(h.d)(P,"hermes_stable")==="on"),D=Object(a.c)(u.a),S=Object(a.c)(p.isListsEnabled);if(E.isStoryShare||!Object(r.a)()||E.shareType===m.b.MESSAGE&&!E.messageLinkCanBeCopied)return null;let A="";return y?A=g.t("Copied!"):E.shareType===m.b.MESSAGE?A=D?g.t("You can also copy a link to this message. To forward, paste it in any channel or conversation."):g.t("You can also copy a link to this message. To share, paste it in any channel or conversation."):E.shareType===m.b.SHORTCUT?A=T?g.t("You can also copy a link to this shortcut. To share, paste it in any channel or conversation."):"":E.shareType===m.b.DOC_SECTION?A=g.t("You can also copy a link to this section. To share, paste it in any channel or conversation.",{fallbackHash:"7b839821b8ea42c464b8215c4e3e71c4939b14a5"}):S&&E.shareType===m.b.RECORD?A=g.t("You can also copy a link to this record. To share, paste it in any channel or conversation."):A=g.t("You can also copy a link to this file. To share, paste it in any channel or conversation."),t.a.createElement("span",{className:"p-share_dialog__copy_link"},t.a.createElement(f.d,{tip:A,zIndex:"above_fs",status:y?"success":"info",onHide:M},t.a.createElement(l.f,{onClick:j,type:"outline","data-qa":"share_dialog_copy_link",autoClogProps:E.buttonAutoClogProps},g.t("Copy Link"))))}o(O,"ShareDialogCopyLinkButton")},"8SHP":function(w,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"i",function(){return m}),e.d(s,"f",function(){return g}),e.d(s,"b",function(){return O}),e.d(s,"g",function(){return E}),e.d(s,"e",function(){return C}),e.d(s,"d",function(){return I}),e.d(s,"c",function(){return j}),e.d(s,"h",function(){return M});var n=e("Bw5p"),t=e("gPPH"),a=e("417x"),i=e("M+5u"),c=e("C3vN"),r=e("Qm7m"),f=e("O7R9"),l=e("ffkt");const{FREQUENCY_DAILY:p,FREQUENCY_WEEKLY:h,FREQUENCY_MONTHLY:u,FREQUENCY_CUSTOM:b}=l.b,v={type:p},d=o(T=>{let{srcData:D,member:S}=T;var A;const P=(A=Object(c.D)(S))!==null&&A!==void 0?A:i.b;var N;const G=D!=null&&D.schedule?{...Object(a.a)(D.schedule),timezone:(N=D.schedule.timezone)!==null&&N!==void 0?N:P}:{startTime:Object(f.e)(S,"iso"),timezone:P};var V,k,x,H;return{id:(V=D==null?void 0:D.id)!==null&&V!==void 0?V:Object(t.a)(),type:r.HERMES_SCHEDULED,config:{name:(k=D==null?void 0:D.name)!==null&&k!==void 0?k:"",description:(x=D==null?void 0:D.description)!==null&&x!==void 0?x:void 0,inputs:(H=D==null?void 0:D.inputs)!==null&&H!==void 0?H:{},schedule:G,selectedFrequencyMenuOption:Object(l.c)(G)}}},"createHermesScheduledTrigger"),m=o((T,D)=>({...T,timezone:D}),"setScheduleTimezone"),g=o((T,D)=>{if(D===l.b.FREQUENCY_WEEKLY){var S;const{onWeekNum:V,...k}=(S=T.frequency)!==null&&S!==void 0?S:{},H=Object(f.c)(T.startTime,T.timezone).format("dddd");return{...T,frequency:{...k,type:D,onDays:[H]}}}var A;const{onWeekNum:P,onDays:N,...G}=(A=T.frequency)!==null&&A!==void 0?A:{};return{...T,frequency:{...G,type:D}}},"setScheduleFrequencyType"),O=o((T,D)=>{const{occurrenceCount:S,...A}=T,P={...A};return D===null?delete P.endTime:P.endTime=D,P},"setScheduleEndTime"),E=o((T,D)=>{const{endTime:S,...A}=T,P={...A};return P.occurrenceCount=D,P},"setScheduleOccurrenceCount");var y;const C=o((T,D)=>({...T,frequency:{...(y=T.frequency)!==null&&y!==void 0?y:v,repeatsEvery:D}}),"setScheduleFrequencyRepeatsEvery"),I=o((T,D)=>{if(D===0)return{...T,frequency:{type:u}};var S;return{...T,frequency:{...(S=T.frequency)!==null&&S!==void 0?S:{type:u},onWeekNum:D}}},"setScheduleFrequencyOnWeekNum"),j=o((T,D)=>{var S;const A=Object(n.a)((S=T.frequency)!==null&&S!==void 0?S:{type:h},["type","repeatsEvery","onWeekNum","onDays"]);return D.length?A.onDays=D:delete A.onDays,{...T,frequency:A}},"setScheduleFrequencyOnDays"),M=o((T,D)=>{var S;let A={...T,startTime:D};const P=Object(l.c)(T)===b,N=(S=T.frequency)===null||S===void 0?void 0:S.type;if(N!==u&&N!==h)return A;const G=Object(f.c)(T.startTime,T.timezone),V=Object(f.c)(A.startTime,A.timezone),k=G.format("dddd"),x=V.format("dddd"),H=Object(f.h)(V.format("YYYY-MM-DD")),{onDays:R,onWeekNum:W}=A.frequency||{};if(N===u){if(!H)return A;R&&(A=j(A,[x])),W&&!P&&(A=I(A,H))}return N===h&&(R==null?void 0:R.length)===1&&(R!=null&&R.includes(k))&&(A=j(A,[x])),A},"setScheduleStartTime")},"8Ut9":function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=o(function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const[a,i,c]=t.split("-");return{type:a,entityId:i,channelId:c}},"parseReactionKey")},"8ZEM":function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"c",function(){return i});var n=e("DwFS");const t=Object(n.a)("Show find modal for document");t.meta={name:"createAction",key:"createActionshowModalWithInitialSearchString",description:"Show find modal for document"};const a=Object(n.a)("Hide find modal for document");a.meta={name:"createAction",key:"createActionhideFindModal",description:"Hide find modal for document"};const i=Object(n.a)("Update the number of results and current index");i.meta={name:"createAction",key:"createActionupdateResultCount",description:"Update the number of results and current index"}},"8c4t":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("3Hq1"),i=e("M1Wn"),c=e("hjf3"),r=e("Muja"),f=e("NFsq"),l=e("ifKl"),p=e("WIr4"),h=e("Cfcg"),u=e("BHdc"),b=e("VymY"),v=e("nFQW"),d=e("nWdO"),m=e("ZobM"),g=e("Z44y"),O=e("kBpe"),E=e("khnw"),y=e("ktUG"),C=e("gz6s"),I=e("IzLi"),j=e("/1FC"),M=e("F294"),T=e("mM05"),D=e.n(T),S=e("5IZy"),A=e("qDEp"),P=e("oEDn"),N=e("nNoG"),G=e("/0zS"),V=e("rneN"),k=e("dA19");const x=new N.b("composer");let H=o(class extends n.PureComponent{componentDidMount(){this.inputRef&&this.inputRef.current&&this.inputRef.current.focus()}onChange(me){const Se=me.target.value,je=Object(G.a)({input:Se}).pop(),Ue=x.t('"{value}" is a invalid URL. "Add Link" button is disabled.',{value:Se}),ve=x.t('"{value}" is a valid URL. Click "Add Link" button to enter link URL.',{value:Se});let ge="";Se&&(ge=je?ve:Ue),this.setState(()=>({value:Se,hasValidUrl:!!je,ariaLiveText:ge}))}onKeyDown(me){me.keyCode===E.f?this.props.onClose():this.state.hasValidUrl&&me.keyCode===E.e&&(this.onSubmit(),me.preventDefault(),me.stopPropagation())}onSubmit(){const{value:me}=this.state,Se=Object(G.a)({input:me}).pop();Se?this.insertLink(Se):this.removeLink()}insertLink(me){var Se;const{quillRef:je,getSelection:Ue,clogger:ve}=this.props,ge=je==null||(Se=je.current)===null||Se===void 0?void 0:Se.quill;if(!ge)return;const le=Ue(),he=Object(V.a)(ge.getContents(),le,ge.getFormat(le)),Te=ge.scrollingContainer.scrollTop;if(!he||!he.length)return;const Re=me.getAnchorHref?me.getAnchorHref():me.url,Ve=ge.getContents(he);let Ee=!1,Ae;if(Ve.ops.forEach(Ge=>{Object(k.a)(Ge)&&(Ee=!0)}),Ee)ge.formatText(he.index,he.length,"link",Re);else{Ae=ge.getText(he.index,he.length);const Ge=ge.getFormat(he);ge.updateContents(new D.a().retain(he.index).delete(he.length).insert(Ae,{...Ge,link:Re}))}ge.setSelection(he.index+he.length),ge.scrollingContainer.scrollTop=Te,ve.track(y.EventId.MSG_FORMATTING_ADDED,{input_context:y.MsgFormattingInputContext.POST,input_source:y.MsgFormattingInputSource.TOOLBAR,input_format:y.MsgFormattingInputFormat.LINK,is_selection:!0})}removeLink(){var me;const{quillRef:Se,getSelection:je,clogger:Ue}=this.props,ve=Se==null||(me=Se.current)===null||me===void 0?void 0:me.quill;if(!ve)return;const ge=je(),le=Object(V.a)(ve.getContents(),ge,ve.getFormat(ge)),he=ve.scrollingContainer.scrollTop;ve.setSelection(le.index+le.length);const Te=ve.getFormat(le.index,le.length);Object(I.a)(Te)&&Te.link&&ve.formatText(le.index,le.length,{link:!1}),ve.scrollingContainer.scrollTop=he,Ue.track(y.EventId.MSG_FORMATTING_REMOVED,{input_context:y.MsgFormattingInputContext.POST,input_source:y.MsgFormattingInputSource.TOOLBAR,input_format:y.MsgFormattingInputFormat.LINK,is_selection:!0})}render(){const{value:me,hasValidUrl:Se,ariaLiveText:je}=this.state,Ue=Object(u.default)("p-composer__link_form_button",{"c-button--disabled":!Se}),ve=(!this.initialHref||this.initialHref!==me)&&t.a.createElement(A.f,{className:Ue,size:"small","aria-label":x.t("Add link"),onClick:this.onSubmit,onKeyDown:this.onKeyDown,disabled:!Se},x.t("OK")),ge=this.initialHref&&me===this.initialHref&&t.a.createElement(A.f,{className:"p-composer__link_form_button p-composer__link_remove_button",size:"small","aria-label":x.t("Remove link"),onClick:this.removeLink},t.a.createElement(P.a,{type:"close-filled"}));return t.a.createElement("div",{className:"p-composer__link_form"},t.a.createElement("input",{className:"c-input_text p-composer__link_form_text",type:"text",placeholder:x.t("Enter link URL"),"aria-label":x.t("Enter link URL"),onKeyDown:this.onKeyDown,onChange:this.onChange,value:me,ref:this.inputRef}),t.a.createElement("span",{className:"offscreen","aria-live":"polite","aria-label":je}),ve,ge)}constructor(me){var Se,je,Ue,ve;super(me),Object(p.a)(this,["onChange","onSubmit","onKeyDown","removeLink"]),this.inputRef=t.a.createRef();const ge=(ve=(Se=me.quillRef)===null||Se===void 0||(je=Se.current)===null||je===void 0||(Ue=je.quill)===null||Ue===void 0?void 0:Ue.getFormat())===null||ve===void 0?void 0:ve.link;this.initialHref=Object(j.a)(ge)?Object(M.a)(ge):ge,this.state={value:this.initialHref||"",hasValidUrl:!1,ariaLiveText:""}}},"ComposerLinkForm");H.displayName="ComposerLinkForm";function R(fe){return{clogger:Object(S.a)({state:fe})}}o(R,"mapStateToProps");var W=Object(h.a)(R,null)(H),U=e("nRRV");const _=new N.b("composer");function B(fe){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{experimentCanvasAutomationVariablesGroupOn:Se,experimentChannelCanvasShareGroupOn:je}=me;switch(fe){case"bold":return _.t("Bold");case"italic":return _.t("Italic");case"underline":return _.t("Underline");case"strike":return _.t("Strikethrough");case"link":return _.t("Link");case"blockquote":return _.t("Blockquote");case"code":return _.t("Code");case"code-block":return _.t("Code block");case"h1":return _.t("Big heading");case"h2":return _.t("Medium heading");case"h3":return _.t("Small heading");case"bullet-list":return _.t("Bulleted list");case"ordered-list":return _.t("Ordered list");case"check-list":return _.t("Check list");case"paragraph":return _.t("Paragraph");case"overflow":return _.t("More options");case"start-thread":return _.t("Add comment",{fallbackHash:"7f83265dab977728b639e44b682bc357ac12757f"});case"open-thread":return _.t("View comments",{fallbackHash:"7d3764e42e75025f9550ff88edd4c8caa2452272"});case"insert-variable":return Se?_.t("Create variable"):fe;case"share":return _.t("Share");case"channel-canvas-share":return je?_.t("Forward to\u2026"):fe;case"open-in-detached-window":return _.t("Open in new window");case"view-full-screen":return _.t("View in full screen");case"open-in-new-window":return _.t("Open link");default:return fe}}o(B,"getToolbarButtonLabel");function z(fe){let{buttonGroups:me,numberToKeep:Se}=fe,je=0;const Ue=[];if(Se<=0)return[["overflow"]];for(let ve=0;ve<me.length;ve++){const ge=[];Ue.push(ge);for(let le=0;le<me[ve].length;le++){const he=me[ve][le];if(ge.push(he),je+=1,je===Se)return Ue.push(["overflow"]),Ue}}return Ue}o(z,"getReducedButtonGroups");function L(fe){let{buttonGroups:me,numberToKeep:Se}=fe,je=0;const Ue=[];if(Se<=0)return[];for(let ve=me.length-1;ve>=0;ve--){const ge=[];Ue.unshift(ge);for(let le=me[ve].length-1;le>=0;le--){const he=me[ve][le];if(ge.unshift(he),je+=1,je===Se)return Ue}}return Ue}o(L,"getReducedButtonGroupsFromEnd");var $=e("n3tL");const Q={width:$.default.number.isRequired,children:$.default.arrayOf($.default.node).isRequired,composerRect:$.default.object.isRequired,overflowButtonRect:$.default.object.isRequired,focusOnMount:$.default.bool.isRequired},K=o(fe=>{const{key:me,currentTarget:Se,target:je}=fe,Ue=Se.querySelectorAll('[role="menuitemcheckbox"]'),ve=Array.from(Ue),ge=["ArrowLeft","ArrowUp"];if(!ge.concat(["ArrowRight","ArrowDown"]).includes(me))return;if(fe.stopPropagation(),je===Se){ve[0].focus();return}const Te=ve.indexOf(je),Re=ge.includes(me)?Te-1:Te+1,Ve=ve[Re];Ve&&Ve.focus()},"onKeyDown"),Z=o(fe=>{let{width:me,composerRect:Se,overflowButtonRect:je,children:Ue,focusOnMount:ve}=fe;const ge=Object(n.useRef)();Object(n.useEffect)(()=>{var Ze;ve&&((Ze=ge.current)===null||Ze===void 0||Ze.focus())});const he=33*t.a.Children.count(Ue)+8,Re=je.right-he-Se.left,Ve=Se.left+me-je.right,Ae={right:`${Re<0?Ve+Re-10:Ve}px`},Ge=Object(u.default)("p-composer__body","p-composer__body--visible","p-composer__body--overflow");return t.a.createElement("div",{className:Ge,role:"menu",tabIndex:-1,ref:ge,style:Ae,onKeyDown:K},Ue)},"OverflowMenu");Z.displayName="OverflowMenu",Z.propTypes=Q;var ne=Z,F=e("zmn3"),J=e("SgHf");function X(fe,me){return fe==="blockquote"?{name:"quote"}:fe==="ordered-list"?{name:"numbered-list"}:fe==="bullet-list"?{name:"bulleted-list"}:fe==="strike"?{name:"strikethrough"}:fe==="h1"?{name:"heading-1"}:fe==="h2"?{name:"heading-2"}:fe==="h3"?{name:"heading-3"}:fe==="check-list"?{name:"checkbox"}:fe==="overflow"?{name:"ellipsis-horizontal",variation:"filled"}:fe==="start-thread"||fe==="open-thread"?me?{name:"comment",variation:"filled"}:{name:"add-comment"}:fe==="start-assistant-thread"?{name:"magic-wand"}:fe==="insert-variable"?{name:"magic-wand"}:fe==="share"?{name:"share-message"}:fe==="channel-canvas-share"?{name:"share-message"}:fe==="view-full-screen"?{name:"window-expand"}:fe==="view-in-slack"?{name:"channel-arrow"}:fe==="open-in-detached-window"?{name:"open-in-window"}:fe==="open-in-new-window"?{name:"new-window"}:{name:fe}}o(X,"getDerivedFormatSvgIcon");const Y=o(fe=>{let{format:me,inline:Se=!1,size:je}=fe;const{name:Ue}=X(me);return t.a.createElement(m.a,{name:Ue,inline:Se,size:je})},"ComposerSelectIcon");Y.displayName="ComposerSelectIcon";const ae=o(fe=>{let{value:me,label:Se}=fe;return t.a.createElement("div",null,t.a.createElement("span",{className:"offscreen"},Se==null?void 0:Se.toString()),t.a.createElement(Y,{format:me}))},"renderSelectedOption"),ee=o(fe=>{let{value:me,label:Se,iconSize:je}=fe;return t.a.createElement("div",null,t.a.createElement("span",{className:"margin_right_75"},t.a.createElement(Y,{format:me,size:je,inline:!0})),Se)},"renderOption"),q=o(fe=>{let{selectOptions:me,activeFormats:Se,onFormatButtonClick:je,onOptionsListClose:Ue,className:ve,isSticky:ge=!1,buttonRef:le,iconSize:he}=fe;const Te=Object(F.a)(me,Ee=>({value:Ee,label:B(Ee),type:Ee==="option-list-divider"?"divider":void 0,iconSize:he})),Re=Te.find(Ee=>{let{value:Ae}=Ee;return Se&&Se.includes(Ae)}),Ve=Object(n.useCallback)(Ee=>{let{value:Ae}=Ee;je(Ae,{source:y.MsgFormattingInputSource.TOOLBAR})},[je]);return t.a.createElement(J.d,{className:Object(u.default)("p-composer__select",ve),listClassName:"sk-client-theme--dark",size:"small",options:Te,selectedOption:Re,classPrefix:`p-composer__button${ge?"__sticky":"__floating"}`,textSelect:!0,minOptionsListWidth:225,onOptionSelected:Ve,onOptionsListClose:Ue,renderSelectedOption:ae,renderOption:ee,forceMaxHeight:!0,maxListHeight:284,buttonRef:le})},"ComposerSelect");q.displayName="ComposerSelect";var te=q,de=e("c+dP");const se=o(fe=>{let{openMenu:me,onMenuClose:Se=l.a,buttonClassName:je}=fe;return t.a.createElement(de.e,{position:"bottom",offsetY:10,renderMenu:me,onTriggerClose:Se,onPopoverClose:Se},t.a.createElement(v.a,{"aria-label":"menu",className:je},t.a.createElement(m.a,{name:"ellipsis-vertical",variation:"filled"})))},"ComposerMenuTrigger");var re=t.a.memo(se),oe=e("7ibc"),ce=e("k+WR"),ue=e("RVJP"),Pe=e("xwCZ"),Ye=e("JoR1"),$e=e("T1zM");function Ke(){return Ke=Object.assign||function(fe){for(var me=1;me<arguments.length;me++){var Se=arguments[me];for(var je in Se)Object.prototype.hasOwnProperty.call(Se,je)&&(fe[je]=Se[je])}return fe},Ke.apply(this,arguments)}o(Ke,"_extends");let qe=o(class extends n.PureComponent{componentDidMount(){this.animationTimer=window.setTimeout(()=>{this.setState(()=>({visible:!0})),this.animationTimer=null},225)}componentDidUpdate(){this.focusFormattingButtonOnUpdate&&(this.composerRef.current.querySelector('[data-format="overflow"]').focus(),this.focusFormattingButtonOnUpdate=!1)}componentWillUnmount(){this.composerRef.current.removeEventListener("keydown",this.tabComposer),this.animationTimer&&clearTimeout(this.animationTimer)}onButtonClick(me){const{supportsAnchorText:Se,openDocsLinkForm:je,experimentChannelCanvasShareGroupOn:Ue,hasSeenChannelCanvasForwardTip:ve,setUserPrefByApi:ge}=this.props,le=me.currentTarget.getAttribute("data-format");if(le===ce.b.LINK&&!Se){je&&je();return}this.props.onFormatButtonClick&&this.props.onFormatButtonClick(le,{source:y.MsgFormattingInputSource.TOOLBAR}),Ue&&le==="channel-canvas-share"&&!ve&&ge({pref:"seen_channel_canvas_forward_tip",value:!0})}onKeyDown(me){let{keyCode:Se}=me;if(Se!==E.f)return;const{onEscape:je,overflowVisible:Ue}=this.props;je&&je(),Ue&&(this.focusFormattingButtonOnUpdate=!0)}onButtonKeyDown(me){var Se;const je=Object(O.p)()?me.metaKey:me.ctrlKey,Ue=me.currentTarget.getAttribute("data-format");if(me.keyCode===E.p||me.keyCode===E.e){if(Ue==="overflow"){this.moveFocusToOverflowMenu=!0,this.onButtonClick(me);return}this.onButtonClick(me),me.preventDefault(),me.currentTarget.focus()}this.state.visible&&((Se=document.activeElement)===null||Se===void 0?void 0:Se.parentElement)===this.composerRef.current&&(me.keyCode===66&&je&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.BOLD,{source:y.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="bold"]').focus(),me.preventDefault()),me.keyCode===73&&je&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.ITALIC,{source:y.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="italic"]').focus(),me.preventDefault()),me.keyCode===85&&je&&!me.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.UNDERLINE,{source:y.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="underline"]').focus(),me.preventDefault()),me.keyCode===88&&je&&me.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.STRIKE,{source:y.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="strike"]').focus(),me.preventDefault()),me.keyCode===67&&je&&me.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.CODE,{source:y.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="code"]').focus(),me.preventDefault()),me.keyCode===85&&je&&me.shiftKey&&(this.props.supportsAnchorText?this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.LINK,{source:y.MsgFormattingInputSource.KEYBOARD}):this.props.openDocsLinkForm&&this.props.openDocsLinkForm(),me.preventDefault()),me.keyCode===55&&je&&me.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.ORDERED_LIST,{source:y.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="ordered-list"]').focus(),me.preventDefault()),me.keyCode===56&&je&&me.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.BULLET_LIST,{source:y.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="bullet-list"]').focus(),me.preventDefault()),me.keyCode===57&&je&&me.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.BLOCKQUOTE,{source:y.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="blockquote"]').focus(),me.preventDefault()),me.keyCode===67&&je&&me.shiftKey&&me.altKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce.b.CODE_BLOCK,{source:y.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="code-block"]').focus(),me.preventDefault()))}getAvailableButtonSlots(){const{width:me}=this.props;let Se;const je=(me||0)-(Se||0)*35;return Math.floor(je/36)}getButtonsBasedOnWidth(me){const{isSticky:Se,width:je}=this.props;if(!Se||Object(a.a)(je)||Object(i.a)(je))return me;const Ue=Object(c.a)(me),ve=this.getAvailableButtonSlots();if(ve>=Ue.length)return me;const ge=ve-1;return z({buttonGroups:me,numberToKeep:ge})}getOverflowButtonsBasedOnWidth(me){const Se=Object(c.a)(me),je=this.getButtonsBasedOnWidth(me);if(Object(r.a)(me,je))return[];const Ue=Se.length,ve=Object(c.a)(je).length-1,ge=Ue-ve;return L({buttonGroups:me,numberToKeep:ge})}buildComposer(me){if(!me)return null;const{isSticky:Se}=this.props,je=this.getButtonsBasedOnWidth(me),Ue=[];for(let ve=0,ge=je.length;ve<ge;ve++){const le=je[ve];let he=null;for(let Te=0,Re=le.length;Te<Re;Te++)Ue.push(this.renderButton(le[Te],{role:"button",isSticky:!!Se,prevFormat:he,nextFormat:le[Te+1],firstFormat:je[0][0]})),he=le[Te],Te===Re-1&&ve!==ge-1&&Ue.push(t.a.createElement("span",{className:"p-composer__separator",key:`separator_${ve}_${Te}`}))}return Ue}focus(){const{isDocsLinkFormOpen:me}=this.props,{visible:Se}=this.state;Se&&!me&&(this.firstButtonFormatRef.current.focus(),this.trapFocusToComposer()),Se&&me&&(this.composerRef.current.querySelector("input").focus(),this.trapFocusToComposer())}shouldAdjoinToFormat(me){const{activeFormats:Se}=this.props;return Object(f.a)(Se,"border")&&(Object(f.a)(Se,"bullet-list")||Object(f.a)(Se,"ordered-list"))?!0:me&&Object(f.a)(this.props.activeFormats,me)&&!this.shouldDisableButton(me)}shouldDisableButton(me){const{activeFormats:Se,disabledFormats:je,isDisabled:Ue}=this.props;return!!(Ue||je!=null&&je.has(me)||Object(f.a)(Se,"code-block")&&!["ordered-list","bullet-list","check-list","blockquote","code-block","overflow","start-thread"].includes(me)||me==="bold"&&(Object(f.a)(Se,"h1")||Object(f.a)(Se,"h2")||Object(f.a)(Se,"h3")))}tabComposer(me){const Se=Object(b.d)(this.composerRef.current),je=Object(b.e)(this.composerRef.current);me.keyCode===E.q&&(me.shiftKey?document.activeElement===Se&&(je.focus(),me.preventDefault()):document.activeElement===je&&(Se.focus(),me.preventDefault()))}trapFocusToComposer(){this.composerRef.current.addEventListener("keydown",this.tabComposer)}renderButton(me){let{isSticky:Se,prevFormat:je,nextFormat:Ue,firstFormat:ve,role:ge}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{role:"button"};const{activeFormats:le,overflowVisible:he,textyHasFocus:Te,selectOptions:Re,onFormatButtonClick:Ve,openMenu:Ee,onClosePopovers:Ae,selectIconSize:Ge,buttonTagData:Ze,experimentCanvasAutomationVariablesGroupOn:ze,experimentChannelCanvasShareGroupOn:lt,hasSeenChannelCanvasForwardTip:tt}=this.props,Ot=this.shouldDisableButton(me),Ct=Object(f.a)(le,me)||me==="overflow"&&he||me==="blockquote"&&Object(f.a)(le,"border"),St=!Se&&lt&&me==="channel-canvas-share"&&!tt,zt=Object(u.default)("p-composer__button","p-composer__button--composer_ia","p-composer__selection_button",{"p-composer__button--floating":!Se,"p-composer__button--sticky":Se,"p-composer__button--no_pointer_events":Se&&!Te,"p-composer__button--adjoin-left":this.shouldAdjoinToFormat(je),"p-composer__button--adjoin-right":this.shouldAdjoinToFormat(Ue),"p-composer__button--channel-canvas-forward":St}),kt=Se?500:0,on=B(me,{experimentCanvasAutomationVariablesGroupOn:ze,experimentChannelCanvasShareGroupOn:lt}),_t=me==="overflow",be=me==="select",ot=me==="menu",rt=["start-thread","open-thread"].includes(me),Qt=ve===me&&Te?0:-1,qt=!_t&&ge==="button"&&!rt?Ct&&!Ot:void 0,$t=!_t&&ge==="menuitemcheckbox"?Ct:void 0,hn=_t?"menu":void 0,gn=["bold","italic","strike","link","ordered-list","bullet-list","blockquote","code","code-block","overflow","start-thread","open-thread","share","open-in-detached-window","view-full-screen","view-in-slack","open-in-new-window","start-assistant-thread","insert-variable","channel-canvas-share"];if(be)return t.a.createElement(te,{key:"format_select_button",className:zt,selectOptions:Re,activeFormats:le,onOptionsListClose:Ae||l.a,onFormatButtonClick:Ve||l.a,isSticky:!!Se,buttonRef:ve===me?this.firstButtonFormatRef:null,iconSize:Ge});if(ot)return t.a.createElement(re,{key:"format_menu_button",openMenu:Ee||l.a,onMenuClose:Ae,buttonClassName:zt});const Cn=Ze&&Ze.get(me),Mn=Cn?`, ${Cn}`:"",kn=t.a.createElement(v.a,{role:ge,tabIndex:Qt,className:zt,key:`format_${me}_button`,"aria-label":`${on}${Mn}`,onClick:this.onButtonClick,icon:gn.includes(me)?null:me,onKeyDown:this.onButtonKeyDown,"data-format":me,disabled:Ot,"aria-pressed":qt,"aria-checked":$t,"aria-haspopup":hn,ref:ve===me?this.firstButtonFormatRef:null,size:"small","data-qa":`${me}-composer-button`},gn.includes(me)&&t.a.createElement(m.a,Ke({},X(me,Cn))),rt&&Cn?t.a.createElement("span",{className:"p-composer__selection_comment_count"},Cn):void 0,St?t.a.createElement("span",{className:"p-composer__forawrd_label"},Pe.p.t("Forward")):void 0);return Ot||me==="overflow"&&he?kn:t.a.createElement(d.c,{tip:t.a.createElement(U.a,{format:me,isMac:Object(O.p)(),isDocs:Object(g.a)(),label:on}),position:"top",key:`format_${me}_tip`,delay:kt,offsetY:-7,zIndex:"above_fs"},kn)}renderOverflow(){var me,Se,je,Ue;const{isSticky:ve,width:ge,buttons:le}=this.props;if(!ve||Object(a.a)(ge)||Object(i.a)(ge))return null;const he=this.getOverflowButtonsBasedOnWidth(le);if(!he.length)return null;const Te=(me=this.composerRef)===null||me===void 0||(Se=me.current)===null||Se===void 0?void 0:Se.querySelector('[data-format="overflow"]');if(!Te)return null;const Re=(je=this.composerRef)===null||je===void 0||(Ue=je.current)===null||Ue===void 0?void 0:Ue.getBoundingClientRect(),Ve=Te.getBoundingClientRect(),Ee=this.buildComposer(he),Ae=this.moveFocusToOverflowMenu;return this.moveFocusToOverflowMenu=!1,t.a.createElement(ne,{width:ge,composerRect:Re,overflowButtonRect:Ve,focusOnMount:!!Ae},Ee)}render(){const{buttons:me,isSticky:Se,overflowVisible:je,quillRef:Ue,getSelection:ve,isDocsLinkFormOpen:ge,closeDocsLinkForm:le}=this.props,he=Object(u.default)("p-composer__body",{"p-composer__body--visible":this.state.visible,"p-composer__body--floating":!Se,"p-composer__body--unstyled":Se});return me?t.a.createElement("div",{className:he,ref:this.composerRef,onKeyDown:this.onKeyDown},!ge&&this.buildComposer(me),ge&&t.a.createElement(W,{getSelection:ve||l.a,quillRef:Ue,onClose:le||l.a}),je&&this.renderOverflow()):null}constructor(me){super(me),this.state={visible:!!me.isSticky},Object(p.a)(this,["buildComposer","renderButton","onButtonClick","onKeyDown","onButtonKeyDown","focus","trapFocusToComposer","tabComposer"]),this.animationTimer=null,this.firstButtonFormatRef=t.a.createRef(),this.composerRef=t.a.createRef()}},"Composer");qe.displayName="Composer";const ct=o(fe=>({hasSeenChannelCanvasForwardTip:Object(Ye.t)(fe,"seen_channel_canvas_forward_tip"),experimentCanvasAutomationVariablesGroupOn:Object(oe.d)(fe),experimentChannelCanvasShareGroupOn:Object(ue.d)(fe,"channel_canvas_share",!1)==="on"}),"composer_mapStateToProps"),Be=o(fe=>({setUserPrefByApi:me=>fe(Object($e.f)(me))}),"mapDispatchToProps");var pe=s.a=Object(h.a)(ct,Be)(Object(C.a)(qe))},"8dl9":function(w,s,e){"use strict";var n=e("nNoG");const t=new n.b("audio_player");function a(i){const c=Math.floor(i/3600),r=Math.floor((i-c*3600)/60),f=Math.floor(i-c*3600-r*60);return c>0?t.t("{hours} {hours, plural, =1 {hour} other {hours}}, {minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:f,minutes:r,hours:c}):r>0?t.t("{minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:f,minutes:r}):t.t("{seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:f})}o(a,"secondsToSpokenTime"),s.a=a},"8eQr":function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t,a){return t?[t,...a.filter(i=>i!==t)]:a}o(n,"getSortedTeamIds")},"8hJe":function(w,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.UP="ArrowUp",t.DOWN="ArrowDown",t.TAB="Tab",t.ENTER="Enter",t.RIGHT="ArrowRight",t.LEFT="ArrowLeft",t.HOME="Home",t.END="End",t.BACKSPACE="Backspace",t.DASH="-",t.UNDERSCORE="_",t.ESCAPE="Escape",t.SPACE=" "})(n||(n={}))},"8j99":function(w,s,e){"use strict";e.d(s,"b",function(){return b});var n=e("q1tI"),t=e.n(n),a=e("RVJP"),i=e("zxER"),c=e("Tevt"),r=e("YUBf"),f=e("qMw6"),l=e("RB1+"),p=e("nNoG"),h=e("vbTZ");const u=new p.b("message-input"),b=o(d=>Object(a.d)(d,"siws_redirect_url_warning")==="on","isMessagePaneInputLinkWarningEnabled");function v(d){let{channelId:m,dateScheduled:g=void 0,urlString:O,onClose:E,onSend:y}=d;if(!Object(i.c)(D=>Object(a.d)(D,"siws_redirect_url_warning")==="on"))return null;const I=u.t("This URL shouldn\u2019t be shared"),j=u.rt("The following URL contains login information that shouldn\u2019t be shared: {urlString}",{urlString:t.a.createElement(c.a,{href:O},O)}),M=u.t("Consider replacing or removing this URL before sending your message."),T=o(()=>{const D=Object(l.a)({viewContext:f.a.MESSAGE_PANE,channelId:m});D&&!g&&D.clear(),y(),E()},"sendMessage");return t.a.createElement(r.a,{closeModal:E},t.a.createElement(r.i,null,t.a.createElement(r.l,{title:I})),t.a.createElement(r.d,null,t.a.createElement(r.e,null,t.a.createElement("p",null,j),t.a.createElement("p",null,M))),t.a.createElement(r.g,null,t.a.createElement(r.h,null,t.a.createElement(r.c,{onClick:T,type:"outline"},g?u.t("Schedule Message"):u.t("Send Anyway")),t.a.createElement(r.c,{autoFocus:!0},u.t("Keep Editing")))))}o(v,"MessagePaneInputLinkWarning"),v.displayName="MessagePaneInputLinkWarning",s.a=v},"8sbp":function(w,s,e){"use strict";e.d(s,"b",function(){return y}),e.d(s,"c",function(){return I});var n=e("Fsnq"),t=e("F294"),a=e("ZKjC"),i=e("SQ0V"),c=e("gCYc"),r=e("xwCZ"),f=e("E3dU"),l=e("JoR1"),p=e("Kn+X"),h=e("C3vN"),u=e("+tZp"),b=e("E97Y"),v=e("Yauy"),d=e("gVOt"),m=e("M+5u"),g=e("nNoG");const O=new g.b("drafts");function E(j,M){const T=Object(p.m)(M);if(Object(n.a)(T))return T;const D=Object(t.a)(Object(p.d)(M)),S=Object(f.d)(j,D);if(!S)return[];if(Object(b.g)(S)){const A=Object(d.a)(S);return A?[A]:[]}if(Object(b.i)(S)){const A=Object(v.C)(S);return A||[]}return[]}o(E,"getMemberIdsFromDraft");function y(j,M){const T=Object(c.k)(j,M);if(!T)return;const D=E(j,T);if(Object(n.a)(D)!==1)return;const S=D[0];return Object(r.g)(j,S)}o(y,"getMemberFromDraftForTimeZoneDetails");const C=Object(a.b)((j,M)=>{let{draftId:T,schedulingTime:D}=M;const S=y(j,T);if(!S)return;const A=Object(r.c)(j),P=Object(h.D)(A),N=Object(l.t)(j,"time24"),G=Object(u.a)(j,S),V=Object(h.D)(S),k=Object(h.E)(S);if(!V||P===V)return;const x=Object(m.a)(D*1e3,{timeZone:V,timeZoneOffset:k,do24hrTime:N,returnMoment:!1});return O.t("{memberTime} for {memberName}",{memberTime:x,memberName:Object(g.k)(G)})});C.meta={name:"createSelector",key:"createSelectorgetScheduledDraftTimeZoneDetails",description:(j,M)=>{let{draftId:T,schedulingTime:D}=M;const S=y(j,T);if(!S)return;const A=Object(r.c)(j),P=Object(h.D)(A),N=Object(l.t)(j,"time24"),G=Object(u.a)(j,S),V=Object(h.D)(S),k=Object(h.E)(S);if(!V||P===V)return;const x=Object(m.a)(D*1e3,{timeZone:V,timeZoneOffset:k,do24hrTime:N,returnMoment:!1});return O.t("{memberTime} for {memberName}",{memberTime:x,memberName:Object(g.k)(G)})}};const I=Object(i.c)("get the scheduled draft timezone details",(j,M,T)=>{let{draftId:D,schedulingTime:S}=T;const A=M();return C(A,{draftId:D,schedulingTime:S})});I.meta={name:"createThunk",key:"createThunkgetScheduledDraftTimeZoneDetailsThunk",description:"get the scheduled draft timezone details"},s.a=C},"8uib":function(w,s,e){w.exports=e.p+"standup-b7e015f.svg"},"8v4m":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zmn3"),i=e("417x"),c=e("m5Yc");const r=o(Pn=>{let{type:dn,elements:Rt,isFirst:vt,clogLinkClick:At,renderRichText:Gt,noInlineLinks:ln}=Pn;return dn!==c.b.SECTION||!Rt||!Rt.length?null:t.a.createElement("div",{className:"p-rich_text_section"},Gt({elements:Rt,isFirst:vt,clogLinkClick:At,noInlineLinks:ln}))},"RichTextSection");r.displayName="RichTextSection";var f=r;const l=o(Pn=>{let{type:dn,elements:Rt,clogLinkClick:vt,noBorderBottomCap:At,noBorderTopCap:Gt,border:ln,noBorder:Dt,renderRichText:He}=Pn;if(dn!==c.b.QUOTE||!Rt||!Rt.length)return null;const Le=!Dt&&Gt?0:void 0,Qe=!Dt&&At?0:void 0,Ce=ln&&ln>0?"1":void 0,ye=Dt?"":void 0;return t.a.createElement("blockquote",{type:"cite",className:"c-mrkdwn__quote","data-stringify-type":"quote","data-stringify-border":Ce,"data-no-border":ye,"data-border-radius-top-cap":Le,"data-border-radius-bottom-cap":Qe},He({type:dn,elements:Rt,clogLinkClick:vt}))},"RichTextQuote");l.displayName="RichTextQuote";var p=l,h=e("yH2S");const u=o(Pn=>{let{type:dn,border:Rt,elements:vt,clogLinkClick:At,renderRichText:Gt}=Pn;if(dn!==c.b.PREFORMATTED||!vt||!vt.length)return null;const ln=Rt&&Rt>0?"1":void 0;return t.a.createElement(h.a,{blockType:"codeBlock"},t.a.createElement(h.b,null,t.a.createElement("pre",{className:"c-mrkdwn__pre","data-stringify-type":"pre","data-stringify-border":ln},Gt({elements:vt,clogLinkClick:At}))))},"RichTextPreformatted");u.displayName="RichTextPreformatted";var b=u,v=e("Cfcg"),d=e("BHdc"),m=e("RVJP");const{ORDERED:g,CHECK:O}=c.a,E=o(Pn=>{let{type:dn,elements:Rt,style:vt,indent:At,border:Gt,checked:ln,index:Dt,clogLinkClick:He,experimentIncreaseListSpacingGroupTreatment:Le,noBorderTopCap:Qe,noBorderBottomCap:Ce,allowCheckList:ye,renderRichText:ie}=Pn;if(dn!==c.b.LIST||!Rt||!Rt.length)return null;const Oe=Rt.map((mt,pt)=>t.a.createElement("li",{key:pt,"data-stringify-indent":At,"data-stringify-border":Gt},ie({elements:mt.elements,clogLinkClick:He}))),We=Object(d.default)("p-rich_text_list",`p-rich_text_list__${vt}`,{"p-rich_text_list_increased_spacing":Le}),ke=Dt?Dt+1:void 0,nt=Qe?0:void 0,st=Ce?0:void 0;return vt===g?t.a.createElement("ol",{"data-stringify-type":"ordered-list",className:We,"data-indent":At,"data-border":Gt,start:ke,"data-border-radius-top-cap":nt,"data-border-radius-bottom-cap":st},Oe):ye&&vt===O?t.a.createElement("ul",{"data-stringify-type":"check-list",className:We,"data-indent":At,"data-checked":!!ln},Oe):t.a.createElement("ul",{"data-stringify-type":"unordered-list",className:We,"data-indent":At,"data-border":Gt,"data-border-radius-top-cap":nt,"data-border-radius-bottom-cap":st},Oe)},"RichTextList");E.displayName="RichTextList";const y=o(Pn=>({experimentIncreaseListSpacingGroupTreatment:Object(m.d)(Pn,"increase_list_spacing")==="treatment"}),"mapStateToProps");var C=Object(v.a)(y)(E),I=e("R+hq"),j=e("Atrf"),M=e("wnwS"),T=e("cfe2"),D=e("VvJB");const S=o(()=>{},"noop"),A=o(Pn=>{let{type:dn,userId:Rt,style:vt,clogLinkClick:At,noLinking:Gt}=Pn;const ln=Object(n.useContext)(T.a);if(dn!==c.b.USER||!Rt)return null;const Dt=ln.containerContext===D.a.block_kit_builder?S:void 0;return t.a.createElement(M.a,{style:vt},t.a.createElement(j.a,{id:Rt,noLinking:Gt,showTooltip:!0,clogLinkClick:At,onClick:Dt}))},"UserElement");A.displayName="UserElement";var P=A,N=e("t9SR"),G=e("sa+Q"),V=e("7UMc");const k=o(Pn=>{let{type:dn,range:Rt,style:vt}=Pn;return dn!==c.b.BROADCAST||!Rt?null:t.a.createElement(M.a,{style:vt},t.a.createElement(V.a,{type:Rt}))},"Broadcast");k.displayName="Broadcast";var x=k,H=e("/qcS");const R=o(Pn=>{let{type:dn,name:Rt,skinTone:vt,isImportAllowed:At,isJumbomoji:Gt,style:ln,displayTeamId:Dt,displayUrl:He,displayAlias:Le,unicode:Qe}=Pn;if(dn!==c.b.EMOJI||!Rt&&!Qe)return null;const Ce=Le??Rt;let ye="";vt&&!Qe&&(ye=`:${Ce}::skin-tone-${vt}:`),!vt&&!Qe&&(ye=`:${Ce}:`);const ie=Gt?H.a.LARGE:H.a.MEDIUM;return t.a.createElement(M.a,{style:ln},t.a.createElement(H.b,{text:ye,emojiSize:ie,isEmojiInlineWithText:!Gt,isImportAllowed:At,showTooltip:!0,sourceTeamId:Dt,url:He,unicode:Qe}))},"Emoji");R.displayName="Emoji";var W=R,U=e("GYna"),_=e("O86Y"),B=e("nNoG"),z=e("EJqq"),L=e("Y31Q"),$=e("puGG");const{_EMOJI_GROUP:Q}=c.b,K={display:"inline"},Z={display:"contents"},ne=o(Pn=>{let{displayText:dn,size:Rt,type:vt,elements:At,renderRichText:Gt,isEmojiGroupEnabled:ln=!1}=Pn;if(vt!==Q||!At||!At.length||!Gt)return null;const Dt=Gt({elements:At});if(!Rt||Rt<$.c||!dn||!ln)return Dt;const He=Object(L.b)(dn,Rt,ln);return He?t.a.createElement("div",{style:K,role:"img","aria-label":He},t.a.createElement("div",{style:Z,"aria-hidden":"true"},Dt)):Dt},"EmojiGroup");ne.displayName="EmojiGroup";const F=o((Pn,dn)=>{const{name:Rt,displayAlias:vt,skinTone:At}=dn,Gt=vt??Rt;let ln;if(Gt){const Dt=At?`:${Gt}::skin-tone-${At}:`:`:${Gt}:`,He=Object(_.g)(Pn)||"",Le=Object(B.m)({teamOrEnterpriseId:He,recalc:!1});ln=Object(z.i)({state:Pn,locale:Le,name:Dt})}return{displayText:ln||"",isEmojiGroupEnabled:Object(U.a)(Pn)}},"emoji_group_mapStateToProps");var J=Object(v.a)(F)(ne),X=e("/MKj"),Y=e("9wj1"),ae=e("kakQ"),ee=e("3Zl6"),q=e("qzps");const te=o(Pn=>{let{type:dn,url:Rt,text:vt,style:At,elements:Gt,clogLinkClick:ln,renderRichText:Dt,isFromAppHome:He=!1,noLinking:Le}=Pn;const Qe=Object(X.useDispatch)(),Ce=(Rt==null?void 0:Rt.trim())||"";let ye=vt||Ce,ie=ye;Gt&&(ye=Dt({elements:Gt}),ie=Gt.map(ke=>ke.text).join("")||"");const Oe=Object(n.useCallback)(ke=>{Ce&&ie&&Object(q.b)(ie,Ce)&&(Qe(Object(Y.a)({text:ie,url:Ce})),ke.preventDefault())},[Qe,ie,Ce]);if(dn!==c.b.LINK||!Ce)return null;const We=Object(ee.a)(Ce,{allowNoTLD:!0});return t.a.createElement(M.a,{style:At},t.a.createElement(ae.a,{url:Ce,maybeOpenSuspiciousLinkDialog:Oe,clogLinkClick:ln,noLinking:!We||Le,showTooltip:We,memberId:void 0,isFromAppHome:He},ye))},"Link");te.displayName="Link";var de=te,se=e("JoR1"),re=e("rBXw");const oe=o(Pn=>{let{type:dn,timestamp:Rt,format:vt,url:At,fallback:Gt,do24hrTime:ln,style:Dt}=Pn;if(dn!==c.b.DATE||!Rt||!vt)return null;const He=Rt.toString();return t.a.createElement(M.a,{style:Dt},t.a.createElement(re.a,{ts:He,format:vt,link:At,fallback:Gt,do24hrTime:ln}))},"RichTextDate");oe.displayName="RichTextDate";const ce=o(Pn=>({do24hrTime:Object(se.t)(Pn,"time24")}),"date_mapStateToProps");var ue=Object(v.a)(ce)(oe);const Pe=o(Pn=>{let{type:dn,value:Rt,style:vt,hideHexSwatch:At}=Pn;const Gt=Object(n.useCallback)(()=>({background:Rt}),[Rt]);return dn!==c.b.COLOR||!Rt?null:t.a.createElement(M.a,{style:vt},Rt,!At&&t.a.createElement("div",{className:"c-mrkdwn__hex",style:Gt()}))},"Color");Pe.displayName="Color";function Ye(Pn){return{hideHexSwatch:Object(se.t)(Pn,"hide_hex_swatch")}}o(Ye,"color_mapStateToProps");var $e=Object(v.a)(Ye)(Pe),Ke=e("JoAr"),qe=e("tqVr"),ct=e("nWdO");const{_EDITED_LABEL:Be}=c.b,pe=new B.b("message_kit"),fe=o(Pn=>{let{type:dn,editedTs:Rt,omitWhitespace:vt,isArchived:At}=Pn;const Gt=Object(n.useCallback)(()=>Rt?pe.t("{date} at {time}",{date:Object(qe.a)(Rt,{shortenMonth:!0}),time:Object(Ke.a)(Rt,"{time}")}):null,[Rt]);if(dn!==Be)return null;let ln=pe.t("(edited)");At&&(ln=pe.t("(archived)"));const Dt=t.a.createElement("span",{key:"edited",className:"c-message__edited_label",dir:"ltr"},!vt&&"\xA0",ln,!vt&&"\xA0");return Rt?t.a.createElement(ct.c,{key:"edited",delay:ct.a,tip:Gt},Dt):Dt},"EditedLabel");fe.displayName="EditedLabel";var me=fe,Se=e("/NRl"),je=e("s4P+");function Ue(){return Ue=Object.assign||function(Pn){for(var dn=1;dn<arguments.length;dn++){var Rt=arguments[dn];for(var vt in Rt)Object.prototype.hasOwnProperty.call(Rt,vt)&&(Pn[vt]=Rt[vt])}return Pn},Ue.apply(this,arguments)}o(Ue,"_extends");const ve=Object(je.b)(),ge=o(Pn=>{const{type:dn,text:Rt,isFirstElementInFirstSection:vt,isFirstElementInSection:At}=Pn;return ve.warn("RICH_TEXT",`Encountered unknown rich text element of type: ${dn}`),Rt?t.a.createElement(I.a,Ue({},Pn,{type:c.b.TEXT,isFirstElementInFirstSection:vt,isFirstElementInSection:At})):null},"UnknownElement");ge.displayName="UnknownElement";var le=ge,he=e("YCzX"),Te=e("qDEp");const Re=new B.b("search"),Ve=o(Pn=>{let{isMessageTruncation:dn,clogLinkClick:Rt}=Pn;const vt=Object(n.useCallback)(At=>{At.preventDefault(),At.stopPropagation(),Rt&&Rt({link_type:"truncate"})},[Rt]);return dn?t.a.createElement(t.a.Fragment,null,"\u2026"):t.a.createElement(ct.c,{tip:Re.t("Show more")},t.a.createElement(Te.d,{className:"c-search__expand",onClick:vt},t.a.createElement("span",{className:"c-search__expand_ellipsis"},"...")))},"Truncation");Ve.displayName="Truncation";var Ee=Ve,Ae=e("Tevt");const Ge=new B.b("search"),Ze=o(Pn=>{let{btnCopy:dn,isMessageTruncation:Rt,clogLinkClick:vt}=Pn;const At=Object(n.useCallback)(Gt=>{Gt.preventDefault(),Gt.stopPropagation(),vt&&vt({e:Gt,link_type:Rt?"message_expand":"truncate"})},[vt,Rt]);return Rt?t.a.createElement(Ae.a,{className:"c-rich_text_expand_button",onClick:At},dn??Ge.t("Show more")):t.a.createElement(Te.d,{className:"c-search__expand",onClick:At},t.a.createElement("span",{className:"c-search__expand_ellipsis"},dn??`... ${Ge.t("Show more")}`))},"TruncationExpandButton");Ze.displayName="TruncationExpandButton";var ze=Ze;const lt=new B.b("search"),tt=o(Pn=>{let{clogLinkClick:dn}=Pn;const Rt=Object(n.useCallback)(vt=>{vt.preventDefault(),vt.stopPropagation(),dn&&dn({link_type:"message_collapse"})},[dn]);return t.a.createElement(Ae.a,{className:"c-rich_text_collapse_button",onClick:Rt},lt.t("Show less"))},"TruncationCollapseButton");tt.displayName="TruncationCollapseButton";var Ot=tt,Ct=e("sGZK"),St=e("8z04");const{_FILE_MENTION:zt}=c.b,kt=o(Pn=>{let{fileId:dn,type:Rt,style:vt}=Pn;return Rt!==zt||!dn?null:t.a.createElement(M.a,{style:vt},t.a.createElement(Ct.a,{id:dn,detailType:St.a.NONE,className:"p-file_mention","data-qa":"block_kit_rich_text_file_mention_element"}))},"FileMention");kt.displayName="FileMention";var on=kt,_t=e("zxER"),be=e("OXvE"),ot=e("dmdh"),rt=e("P9LH"),Jt=e("CD4m"),Qt=e("lqu/"),qt=e("ZobM"),$t=e("ZKjC"),hn=e("X+Fw");const gn=Object($t.b)((Pn,dn,Rt)=>{var vt,At;const Gt=Object(_.h)(Pn);return Gt&&Object(hn.b)(Gt,Rt,dn),(vt=Pn.canvasSectionRichText)===null||vt===void 0||(At=vt[Rt])===null||At===void 0?void 0:At[dn]});gn.meta={name:"createSelector",key:"createSelectorgetRichTextBlocksForCanvasSection",description:(Pn,dn,Rt)=>{var vt,At;const Gt=Object(_.h)(Pn);return Gt&&Object(hn.b)(Gt,Rt,dn),(vt=Pn.canvasSectionRichText)===null||vt===void 0||(At=vt[Rt])===null||At===void 0?void 0:At[dn]}};const Cn=new B.b("canvas"),{_CANVAS_MENTION:Mn}=c.b,kn={DELETED:"deleted",NO_ACCESS:"locked",DEFAULT:"default"},na=o(()=>t.a.createElement("svg",{viewBox:"0 0 20 20",preserveAspectRatio:"xMidYMid",className:"p-canvas_mention__anchor_icon"},t.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4.34 15.66c1.216 1.219 2.825 2.046 4.62 2.276l0.040 0.004v-7.94h-4v-2h4v-2.17c-1.175-0.424-2-1.53-2-2.828 0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.298-0.825 2.404-1.979 2.822l-0.021 0.007v2.17h4v2h-4v7.94c1.835-0.234 3.444-1.061 4.66-2.28l0-0-1.42-1.42h5.66l-2.83 2.83c-1.81 1.809-4.309 2.928-7.070 2.928s-5.26-1.119-7.070-2.928l-2.83-2.83h5.66l-1.42 1.42zM10 4c0.552 0 1-0.448 1-1s-0.448-1-1-1v0c-0.552 0-1 0.448-1 1s0.448 1 1 1v0z"})),"AnchorFilled"),oa=o(Pn=>{let{fileId:dn,type:Rt,file:vt,style:At,sectionId:Gt,isSameDocument:ln}=Pn;const Dt=!ln||!Gt,He=Object(_t.c)(ke=>Object(m.d)(ke,"canvas_anchor_link_previews"))==="on",Le=Object(n.useMemo)(()=>Object(rt.xb)(vt)||Object(rt.Rb)(vt)?kn.DELETED:Object(rt.Bb)(vt)||Object(rt.rb)(vt)||Object(rt.jb)(vt)||!Object(rt.Yb)(vt)?kn.NO_ACCESS:kn.DEFAULT,[vt]),Qe=Object(_t.c)(ke=>He&&dn&&Gt?gn(ke,Gt,dn):void 0),{icon:Ce,fileName:ye,content:ie}=Object(n.useMemo)(()=>{let ke,nt,st;const mt={type:c.b.RICH_TEXT,elements:Qe};switch(Le){case kn.DELETED:ke=t.a.createElement(qt.a,{name:"trash",variation:"filled",inline:!0}),nt=Cn.rt("deleted canvas"),st=Cn.rt("deleted content");break;case kn.NO_ACCESS:ke=t.a.createElement(qt.a,{name:"lock",variation:"filled",inline:!0}),nt=Cn.rt("private canvas"),st=Cn.rt("private content");break;default:ke=t.a.createElement(qt.a,{name:"canvas-content",variation:"filled",inline:!0}),nt=t.a.createElement(Qt.a,{file:vt}),He?st=Qe!=null&&Qe.length?t.a.createElement(be.a,{richTextBlock:mt,truncateLength:25}):"\u2026":st=Cn.rt("anchor link");break}return{icon:ke,fileName:nt,content:st}},[Qe,He,vt,Le]),Oe=Object(n.useCallback)(()=>Dt?t.a.createElement("span",{className:"p-canvas_mention__file_entity__icon"},Ce):null,[Ce,Dt]),We=Object(n.useMemo)(()=>t.a.createElement(Jt.c,{className:"p-canvas_mention__file_entity__text"},Dt&&ye,Gt&&t.a.createElement(t.a.Fragment,null,Dt&&":",t.a.createElement(na,null),ie)),[Dt,ye,Gt,ie]);return Rt!==Mn||!dn||!vt||(vt.mode||vt.filetype)&&!Object(rt.g)(vt)?null:t.a.createElement(M.a,{style:At},t.a.createElement("div",{className:Object(d.default)("p-canvas_mention",{"p-canvas_mention--grey":Le!==kn.DEFAULT})},t.a.createElement(Jt.d,{size:"small",className:"p-canvas_mention__file_entity","data-id":vt.id,"data-qa":"block_kit_rich_text_canvas_mention_element__file_entity",avatar:Oe,text:We})))},"CanvasMention");oa.displayName="CanvasMention";const ba=o((Pn,dn)=>({file:Object(ot.e)(Pn,dn.fileId)}),"canvas_mention_mapStateToProps");var ga=Object(v.a)(ba)(oa),ya=e("bPB8"),Zn=e("UIhb"),Xn=e("ltDl"),Ht=e("WBOM"),ut=e("Epto"),gt=e("WySd"),Wt=e("AwEi"),Mt=e("GWKd"),Xe=e("uVdA");const{_UNFURL_MENTION:bt}=c.b,Nt=new B.b("block_kit"),Pt=o(Pn=>{let{fileChannelMessageAttachment:dn}=Pn;const Rt=Object(_t.c)(Xe.a),vt=Object(_t.c)(Le=>Object(ut.a)(Le,{userId:dn==null?void 0:dn.author_id,botId:dn==null?void 0:dn.bot_id,username:dn==null?void 0:dn.author_name})),At=Object(n.useMemo)(()=>{var Le,Qe;return{...dn==null||(Le=dn.message_blocks)===null||Le===void 0||(Qe=Le[0])===null||Qe===void 0?void 0:Qe.message,channel:(dn==null?void 0:dn.channel_id)||"",ts:(dn==null?void 0:dn.ts)||"",type:"message"}},[dn]),Gt=!dn;let ln;if(Gt)ln=Nt.t("private message");else{var Dt,He;let Le;!((Dt=dn.message_blocks)===null||Dt===void 0||(He=Dt[0])===null||He===void 0)&&He.message?Le=t.a.createElement(Mt.a,{msg:At,experimentRichTextGroupOn:Rt,truncateLength:15}):dn!=null&&dn.text&&(Le=t.a.createElement(Wt.a,{text:dn.text,maxCharacters:15,maxNewlines:1})),ln=Le?t.a.createElement(t.a.Fragment,null,`${vt}: "`,Le,'"'):vt}return t.a.createElement("div",{className:"p-message_mention","data-qa":"block_kit_rich_text_unfurl_mention_element__message"},t.a.createElement("span",{className:"p-message_mention__message__icon"},t.a.createElement(qt.a,{name:Gt?"lock":"threads",variation:"filled",inline:!0})),t.a.createElement("span",{className:"p-message_mention__message__content"},ln))},"MessageMention");Pt.displayName="MessageMention";const nn=o(Pn=>{let{type:dn,style:Rt,fileChannelMessage:vt,permalinkType:At}=Pn;if(dn!==bt||!vt||!At)return null;const Gt=Object(gt.c)(vt);let ln;return At===Ht.a.MESSAGE&&(ln=t.a.createElement(Pt,{fileChannelMessageAttachment:Gt})),ln?t.a.createElement(M.a,{style:Rt},ln):null},"UnfurlMention");nn.displayName="UnfurlMention";const rn=o((Pn,dn)=>{const{fileChannelId:Rt,fileChannelMessageTs:vt}=dn,At=Object(Zn.b)(Pn,Rt,vt),Gt=At?Object(gt.b)(At):"",ln=Object(Xn.a)(Gt||""),Dt=(ln==null?void 0:ln.pathname)||"",He=Object(Ht.b)(Object(ya.a)(Dt.split("/"))[0]);return{fileChannelMessage:At,permalinkType:He}},"unfurl_mention_mapStateToProps");var mn=Object(v.a)(rn)(nn),vn=e("sz8i"),Xt=e("B1w/");const ht=o(Pn=>{let{type:dn,userId:Rt,style:vt,clogLinkClick:At,noLinking:Gt,threadId:ln}=Pn;const Dt=Object(_t.c)(Qe=>ln?Object(Xt.a)(Qe,ln):void 0),He=Object(_t.c)(Qe=>!!ln&&!!Rt&&!!Dt&&Object(vn.a)(Qe,{fileId:Dt,userId:Rt})),{_CANVAS_USER_MENTION:Le}=c.b;return dn!==Le||!Rt?null:t.a.createElement(M.a,{style:vt},t.a.createElement(j.a,{id:Rt,noLinking:Gt,supressLinkColors:!He,showTooltip:!0,clogLinkClick:At}))},"CanvasUserMention");ht.displayName="CanvasUserMention";var It=ht;const Ft=o(Pn=>{let{type:dn,name:Rt,style:vt}=Pn;const{_VARIABLE:At}=c.b;return dn!==At||!Rt?null:t.a.createElement(M.a,{style:vt},t.a.createElement("div",{className:"p-variable"},t.a.createElement(qt.a,{name:"magic-wand",inline:!0}),t.a.createElement("span",{className:"p-variable__name","data-qa":"block_kit_rich_text_variable_element__name"},Rt)))},"Variable");Ft.displayName="Variable";var Bt=Ft;function en(){return en=Object.assign||function(Pn){for(var dn=1;dn<arguments.length;dn++){var Rt=arguments[dn];for(var vt in Rt)Object.prototype.hasOwnProperty.call(Rt,vt)&&(Pn[vt]=Rt[vt])}return Pn},en.apply(this,arguments)}o(en,"rich_text_renderer_extends");const{SECTION:On,QUOTE:yn,PREFORMATTED:Dn,LIST:En,TEXT:Vt,USER:an,USERGROUP:sn,CHANNEL:bn,BROADCAST:jn,EMOJI:Tn,LINK:An,DATE:Vn,COLOR:un,WORKFLOWTOKEN:Kn,TRUNCATION:$n,_EDITED_LABEL:da,_EMOJI_GROUP:fa,_THEME_INSTALL_BUTTON:aa,_TRUNCATION_EXPAND_BUTTON:ha,_TRUNCATION_COLLAPSE_BUTTON:Ia,_FILE_MENTION:Ba,_CANVAS_MENTION:ca,_UNFURL_MENTION:Aa,_CANVAS_USER_MENTION:Ma,_VARIABLE:ja}=c.b,Fa=o(Pn=>{let{elements:dn,elementsAreCamelCased:Rt,isFirst:vt,clogLinkClick:At,isEmojiImportEnabled:Gt,allowCheckList:ln,blocksContainerContext:Dt,noInlineLinks:He,truncationExpandBtnCopy:Le}=Pn;const Qe=Object(n.useCallback)(Ce=>t.a.createElement(Fa,en({},Ce,{isEmojiImportEnabled:Gt,blocksContainerContext:Dt,elementsAreCamelCased:Rt,truncationExpandBtnCopy:Le})),[Gt,Dt,Rt,Le]);return!dn||!dn.length?null:t.a.createElement(t.a.Fragment,null,Object(a.a)(dn,(Ce,ye)=>{const ie=ye===0,Oe=Rt?Ce:Object(i.b)(Ce);switch(Ce.type){case On:return t.a.createElement(f,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,renderRichText:Qe,clogLinkClick:At,isFirst:ie,noInlineLinks:He}));case yn:return t.a.createElement(p,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,renderRichText:Qe,clogLinkClick:At}));case Dn:return t.a.createElement(b,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,renderRichText:Qe,clogLinkClick:At}));case En:return t.a.createElement(C,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,allowCheckList:ln,renderRichText:Qe,clogLinkClick:At}));case Vt:return t.a.createElement(I.a,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,isFirstElementInFirstSection:vt&&ie,isFirstElementInSection:ie}));case an:return t.a.createElement(P,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,clogLinkClick:At,noLinking:He}));case sn:return t.a.createElement(N.a,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));case bn:return t.a.createElement(G.a,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,clogLinkClick:At,noLinking:He}));case jn:return t.a.createElement(x,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));case Tn:return t.a.createElement(W,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,isImportAllowed:Gt}));case An:return t.a.createElement(de,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,clogLinkClick:At,renderRichText:Qe,isFromAppHome:Dt===D.a.app_home,noLinking:He}));case Vn:return t.a.createElement(ue,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));case un:return t.a.createElement($e,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));case Kn:return t.a.createElement(he.g,en({key:ye},Oe));case $n:return t.a.createElement(Ee,en({},Oe,{clogLinkClick:At,key:ye}));case aa:return t.a.createElement(Se.a,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));case da:return t.a.createElement(me,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));case ha:return t.a.createElement(ze,en({},Oe,{key:ye,btnCopy:Le,clogLinkClick:At}));case Ia:return t.a.createElement(Ot,en({},Oe,{key:ye,clogLinkClick:At}));case fa:return t.a.createElement(J,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,renderRichText:Qe}));case Ba:return t.a.createElement(on,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));case ca:return t.a.createElement(ga,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));case Aa:return t.a.createElement(mn,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));case Ma:return t.a.createElement(It,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,clogLinkClick:At,noLinking:He}));case ja:return t.a.createElement(Bt,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye}));default:return t.a.createElement(le,en({},Oe,{type:Ce==null?void 0:Ce.type,key:ye,isFirstElementInFirstSection:vt&&ie,isFirstElementInSection:ie}))}}))},"RichTextRenderer");Fa.displayName="RichTextRenderer";var ta=s.a=Fa},"8z04":function(w,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});const n={NONE:"none",OWNER:"owner",OWNER_TIMESTAMP:"owner-timestamp",CHANNEL:"channel",SHARER:"sharer",FILETYPE:"filetype",LAST_UPDATED:"last-updated",LAST_VIEWED:"last-viewed",CREATED_TIMESTAMP:"created-timestamp",SHARED_TIMESTAMP:"shared-timestamp",ACTIVITY_MENTION:"mention"};var t;(function(a){a.Detail="detail",a.View="view",a.Download="download",a.Window="window",a.Remote="remote",a.Reveal="reveal",a.External="external",a.Open="open"})(t||(t={}))},"9AgP":function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("Fi0I");const t=o((a,i)=>{var c;return a&&{...a,input_parameters:(c=a.input_parameters)===null||c===void 0?void 0:c.map(r=>({...r,isParameterFormWrapped:i&&Object(n.a)(r)}))}},"applyFormWrappedSchemaToParameters")},"9BpI":function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("SQ0V"),t=e("zcRq");const a=Object(n.c)("Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints",(i,c,r)=>{let{draftId:f,ops:l}=r;const p=i(Object(t.a)({draftId:f,ops:l}));if(!p)return;let h;try{p.length&&(h=JSON.stringify(p))}catch{h=void 0}return h});a.meta={name:"createThunk",key:"createThunkgetCompleteUnfurlsInDraftOpsForDraftSync",description:"Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints"}},"9FRF":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("4HNC"),i=e("sGXp"),c=e("28cP");function r(f){const{className:l,"data-qa":p,file:h,id:u,isActive:b,isDisabled:v,secondaryContent:d,timestampProps:m,forceIconThumbnail:g,isDetailTextBold:O,detailTextOverride:E,detailType:y,hideActionText:C=!1,hasNotification:I,allowLiveTitle:j,isViewOnly:M,fromCanvasOrganization:T=!1,showCanvasIa4Metadata:D,showCanvasModalMetadata:S=!1,useNewChannelCanvasNaming:A=!1}=f,P=u||(h==null?void 0:h.id);if(!P)return null;let N;return b?v?N=i.d.highlightDim:N=i.d.highlightDark:v&&(N=i.d.dim),t.a.createElement(a.a,{style:N,className:l,padding:"0",primaryContent:t.a.createElement(c.a,{file:h,"data-id":P,"data-qa":p,"data-sk":"medium_file_list_entity",id:P,isDisabled:v,invert:N===i.d.highlightDark,timestampProps:m,forceIconThumbnail:!!g,isDetailTextBold:O,detailType:y,detailTextOverride:E,hideActionText:C,hasNotification:I,allowLiveTitle:j,isViewOnly:M,fromCanvasOrganization:T,showCanvasIa4Metadata:D,showCanvasModalMetadata:S,useNewChannelCanvasNaming:A}),secondaryContent:d})}o(r,"MediumFileListEntity"),r.displayName="MediumFileListEntity",s.a=r},"9L5H":function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t});const n={primary:"primary",danger:"danger",outline:"outline",outlinePrimary:"outline-primary",outlineDanger:"outline-danger",outlineTractor:"outline-tractor"},t={small:"small",medium:"medium",large:"large"}},"9UAs":function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"c",function(){return c}),e.d(s,"b",function(){return f}),e.d(s,"e",function(){return l}),e.d(s,"d",function(){return p});const t=Object.fromEntries(["alle","allgemein","aqu\xED","canais","canal","cha\xEEne","channel","conversation","eu","everyone","general","g\xE9n\xE9ral","geral","group","groupe","grupo","gruppe","here","hier","ici","m\xED","mir","moi","slack corp","slack","slackbot","teambot","todos","tous","\u3050\u308B\u30FC\u3077","\u30B0\u30EB\u30FC\u30D7","\u3053\u3053","\u30B3\u30B3","\u3058\u3076\u3093","\u30B8\u30D6\u30F3","\u305C\u3093\u3044\u3093","\u30BC\u30F3\u30A4\u30F3","\u3061\u3083\u3093\u306D\u308B","\u30C1\u30E3\u30F3\u30CD\u30EB","\u5168\u54E1","\u6B64\u51E6","\u81EA\u5206","\uB098","\uADF8\uB8F9","\uCC44\uB110","\uBAA8\uB450","\uC5EC\uAE30","\uC804\uCCB4","\uBAA8\uB4E0","\uC804\uBD80","tutti","canale","gruppo","qui","me","tu","\u5F52\u6863","\u5DF2\u5F52\u6863","\u5168\u90E8","\u9891\u9053","\u521B\u5EFA","\u5220\u9664","\u5DF2\u5220\u9664\u7684\u9891\u9053","\u7F16\u8F91","\u6BCF\u4E2A\u4EBA","\u7EC4","\u6B64\u5904","\u6211","\u4ECA\u5929","\u4F60","\u5168\u90E8","\u983B\u9053","\u983B\u9053","\u4EFB\u610F","\u6211","\u60A8","\u4E00\u822C","Slack \u6A5F\u5668\u4EBA","\u0430\u0440\u0445\u0438\u0432","\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439","\u0430\u0440\u0445\u0438\u0432\u043D\u044B\u0439","\u0432\u0441\u0435","\u0432\u044B","\u0433\u0440\u0443\u043F\u043F\u0430","\u0433\u0440\u0443\u043F\u043F\u044B","\u0437\u0434\u0435\u0441\u044C","\u043A\u0430\u043D\u0430\u043B","\u043A\u0430\u043D\u0430\u043B\u044B","\u043E\u0431\u0449\u0438\u0439","\u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C","\u0441\u0435\u0433\u043E\u0434\u043D\u044F","\u0441\u043E\u0437\u0434\u0430\u0442\u044C","\u0443\u0434\u0430\u043B\u0435\u043D\u043D\u044B\u0439 \u043A\u0430\u043D\u0430\u043B","\u0443\u0434\u0430\u043B\u0438\u0442\u044C","\u044F"].map(h=>[h,!0]));var a=e("fujP");const i=o(h=>{const u=/[~`!@#$%^&*+=[\]\\;,/{}|\\":<>?()]|^[-_]|^[.]/g,b=/[\u3000-\u3020\u3029-\u3030\u3036-\u303F\u3099-\u309C\u2026\u30FB-\u30FF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF9E-\uFF9F\uFFE0-\uFFEF\uFF5B-\uFF65][ ^\u30FC ]/;return u.test(h)||b.test(h)},"containsInvalidCharactersInName"),c=o(h=>/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c\ude32-\ude3a]|[\ud83c\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/.test(h),"containsUnicodeEmoji");var r;const f=o(function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return(r=t[h.toLowerCase().trim()])!==null&&r!==void 0?r:!1},"containsReservedNames"),l=o(function(h){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return f(u)||i(u)||c(u)||Object(a.a)(u.trim())||u.length>h},"getIsNameInvalid"),p=o(function(h){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object(a.a)(u.trim())||u.length>h},"getIsDescriptionInvalid")},"9avG":function(w,s,e){"use strict";e.d(s,"a",function(){return N}),e.d(s,"b",function(){return H});var n=e("c8Bs"),t=e("3Hq1"),a=e("Fsnq"),i=e("M1Wn"),c=e("/1FC"),r=e("xWuZ"),f=e("gSGL"),l=e("pxG+"),p=e("mM05"),h=e.n(p),u=e("Oy0v"),b=e("pu3F"),v=e("m5Yc"),d=e("yLDf"),m=e("MvaT"),g=e("yrot"),O=e("Bkx2"),E=e("5SjC"),y=e("TQ9f"),C=e("fR2/"),I=e("Yu+/"),j=e("IOc2"),M=e("tfz1"),T=e("Awek"),D=e("htTJ"),S=e("k2bd");const A=/(^|\S)( +)(\n)/gm,P=/(^|\s|\{|\[|\(|>|<|\*|_|\/|"|\u201C|\u2018|'|,)#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,N=/^[0-9a-fA-F]{6}$/,{SECTION:G,LIST:V,PREFORMATTED:k,QUOTE:x}=v.b;function H(){let{delta:Z,options:{convertEmpty:ne=!1,trimEndingWhitespace:F=!1,trimStartingWhitespace:J=!0,expandTruncatedLinks:X=!1}={},state:Y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Z||!Y)return[];const ae=Object(d.a)({delta:Z,trimEnd:F,trimStart:J});if(Object(m.a)(ae)||ae.insert(`
`),ae.length()<=1&&!ne)return[];let ee=[],q=new h.a,te=G;return Object(E.a)(ae,(de,se)=>{const re=R(se);re!==te&&(ee=W(ee,te,q,Y,{stripTrailingWhitespace:!1,expandTruncatedLinks:X}),te=re,q=new h.a),de.insert&&q.insert(de.insert,de.attributes)}),ee=W(ee,te,q,Y,{stripTrailingWhitespace:!0,expandTruncatedLinks:X}),{blocks:[{type:"rich_text",elements:ee}]}}o(H,"convertDeltaToBlocks");function R(Z){return Object(M.a)(Z)?k:Object(T.a)(Z)?x:Object(I.a)(Z)?V:G}o(R,"getElementType");function W(Z,ne,F,J){let X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{stripTrailingWhitespace:!1,expandTruncatedLinks:!1};if(F.ops.length<=0)return Z;let Y=[];if(ne===V)Y=[],Y=U(F,J,{expandTruncatedLinks:X.expandTruncatedLinks});else if(ne===k){Y=[];const ae=F.filter(q=>Object(M.a)(q)),ee=(ae==null?void 0:ae.length)>0&&Object(n.a)(ae,q=>{var te;return((q==null||(te=q.attributes)===null||te===void 0?void 0:te.border)||0)>=1});Y.push({type:k,border:ee?1:0,elements:_(F,J,{...X,preformattedStyle:!0,stripTrailingWhitespace:!0})})}else if(ne===x){Y=[];const ae=F.filter(ee=>{var q;return Object(T.a)(ee)&&((ee==null||(q=ee.attributes)===null||q===void 0?void 0:q.border)||0)>=1});(ae==null?void 0:ae.length)>0?F.eachLine((ee,q)=>{Y.push({type:x,border:q!=null&&q.border?q.border:void 0,elements:_(ee,J,{...X,preformattedStyle:!1,stripTrailingWhitespace:!0})})}):Y.push({type:x,elements:_(F,J,{...X,preformattedStyle:!1,stripTrailingWhitespace:!0})})}else Y=[],Y.push({type:ne,elements:_(F,J,{...X,preformattedStyle:!1})});return Z.concat(Y)}o(W,"addDeltaToElements");function U(Z,ne){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{expandTruncatedLinks:!1};const J=[];let X=null,Y=null,ae=null,ee={},q=[];Z.eachLine((de,se)=>{if(X===null&&(X=se.list),Y===null&&(Y=se.indent||0),ae===null&&(ae=se.border||0),Object(t.a)(ee[Y])&&(ee[Y]=0),X!==se.list||Y!==(se.indent||0)){const re={type:V,style:X||"bullet",indent:Y,border:ae,elements:q.map(oe=>({type:G,elements:oe}))};X==="ordered"&&ee[Y]>0&&(re.offset=ee[Y]),J.push(re),se.list!==v.a.ORDERED&&se.list!==v.a.BULLET?ee={}:(Y<(se.indent||0)&&se.list===v.a.ORDERED&&(ee[se.indent||0]=0),X===v.a.ORDERED&&(ee[Y]=(ee[Y]||0)+Object(a.a)(q))),X=se.list,Y=se.indent||0,ae=se.border||0,q=[]}q.push(_(new h.a(de),ne,{stripTrailingWhitespace:!1,preformattedStyle:!1,...F}))});const te={type:V,style:X||"bullet",indent:Y||0,border:ae||0,elements:q.map(de=>({type:G,elements:de}))};return X==="ordered"&&!Object(i.a)(Y)&&ee[Y]>0&&(te.offset=ee[Y]),J.push(te),J}o(U,"processDeltaAsList");function _(Z,ne){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1};const J=Z.ops[Z.ops.length-1];let X=Z;F.stripTrailingWhitespace&&(J==null?void 0:J.insert)===`
`&&(X=new h.a(Z.ops.slice(0,Z.ops.length-1)));let Y=[];return X.forEach(ae=>{let ee;if(Object(y.a)(ae)?ee=$(ae,ne,{preformattedStyle:F.preformattedStyle}):Object(C.a)(ae)&&!Object(C.i)(ae)&&!Object(C.f)(ae)?ee=K(ae,{preformattedStyle:F.preformattedStyle}):Object(D.a)(ae)?ee=L(ae,{preformattedStyle:F.preformattedStyle,expandTruncatedLinks:F.expandTruncatedLinks}):Object(S.a)(ae)?ee=Q(ae):ee=z(ae,{stripTrailingWhitespace:!!(F.stripTrailingWhitespace&&ae===J),preformattedStyle:F.preformattedStyle,skipConversions:!1}),!ee)return;const q=Y.length&&Y[Y.length-1],te=Object(c.a)(ee)?ee.shift():ee;te&&te.type==="text"&&!te.style&&q&&q.type==="text"&&!q.style?Y[Y.length-1].text=`${Y[Y.length-1].text}${te.text}`:te&&Y.push(te),Object(c.a)(ee)&&ee.length&&(Y=Y.concat(ee))}),Object(r.a)(Y)}o(_,"createRichTextChunkElements");function B(Z,ne){const F={};return ne.attributes&&(ne.attributes.bold&&(F.bold=!0),ne.attributes.italic&&(F.italic=!0),ne.attributes.strike&&(F.strike=!0),ne.attributes.code&&(F.code=!0),ne.attributes.unlink&&!Object(C.a)(ne)&&!Object(y.a)(ne)&&(F.unlink=!0)),{...Z,...Object(a.a)(F)&&{style:F}}}o(B,"annotateChunkWithStyle");function z(Z){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!1},F=Object(f.a)(Z.insert)?Z.insert:"";if(ne.stripTrailingWhitespace&&(F=Object(l.a)(F)),ne.preformattedStyle||(F=F.replace(A,"$1$3")),!F)return;const J=!ne.skipConversions&&!ne.preformattedStyle&&!(Z.attributes&&Z.attributes.code),X={type:"text",text:F},Y=ne.preformattedStyle?X:B(X,Z);if(J){const ae=[];if(F.replace(P,(te,de,se,re)=>{const oe=Object(l.a)(se,"_-.\u2026");if(oe.match(N)){const ce=re+de.length;ae.push({start:ce,end:ce+oe.length+1,color:`#${oe.toUpperCase()}`})}}),!ae.length)return Y;const ee=[];let q=0;return ae.forEach(te=>{q<te.start&&ee.push({type:"text",text:F.slice(q,te.start)}),ee.push({type:"color",value:te.color}),q=te.end}),q<F.length&&ee.push({type:"text",text:F.slice(q)}),ee.map(te=>B(te,Z))}return Y}o(z,"createTextChunkFromOp");function L(Z){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1,expandTruncatedLinks:!1};var F,J;const X={type:"link",url:((F=Z.attributes)===null||F===void 0?void 0:F.link)||""};return Object(f.a)(Z.insert)&&Z.insert!==((J=Z.attributes)===null||J===void 0?void 0:J.link)&&!(ne.expandTruncatedLinks&&Object(D.c)(Z))&&(X.text=Z.insert),ne.preformattedStyle?X:B(X,Z)}o(L,"createLinkChunkFromOp");function $(Z,ne){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||Object(j.a)(Z))return z({insert:Object(y.c)(Z)},{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const J=Object(y.c)(Z),X={type:"emoji",name:""};if(ne&&Object(O.a)(ne,J)){var Y;const{name:ee="",unicode:q=""}=(Y=Object(g.n)(ne,J))!==null&&Y!==void 0?Y:{},[te]=ee.split("::")||[];X.name=te,X.unicode=q}else{var ae;const{skinTone:ee="",name:q=""}=(ae=Object(u.a)(J))!==null&&ae!==void 0?ae:{};X.name=q,ee&&(X.skin_tone=+ee)}if(!(!X.name&&!X.unicode))return X&&B(X,Z)}o($,"createEmojiChunkFromOp");function Q(Z){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1};const F={type:"workflowtoken",id:Object(S.b)(Z),data_type:Object(S.e)(Z),property:Object(S.d)(Z)};return(ne==null?void 0:ne.preformattedStyle)===!0?F:B(F,Z)}o(Q,"createWorkflowTokenChunkFromOp");function K(Z){if((arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1}).preformattedStyle||Object(j.a)(Z))return z(Z,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const F=Object(C.b)(Z),J=Object(C.d)(Z);let X;if(b.L.includes(F)?X=B({type:"broadcast",range:F.substr(2)},Z):F.charAt(0)==="S"?X=B({type:"usergroup",usergroup_id:F},Z):Object(C.e)(Z)?X=B({type:"channel",channel_id:F},Z):X=B({type:"user",user_id:F},Z),Object(f.a)(Z.insert)&&Z.insert.length>J.length){const Y=Z.insert.split(J);return Y.length>1?(Y.shift(),Y.fill(X)):[X]}return J===Z.insert?[X]:z(Z,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0})}o(K,"createMentionChunksFromOp")},"9h7U":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("mM05"),t=e.n(n),a=e("5IZy"),i=e("2oNE"),c=e("ktUG");function r(f,l,p){let h=0;const u=new t.a,b=Object(a.a)();return f.forEach(v=>{const d=v.globalIndex-h;if(d>0&&u.retain(d),p&&v.type==="emoji"){u.retain(v.length),h=v.globalIndex+v.length;return}if(u.delete(v.length),v.type==="emoji"){const m={slackemoji:{text:v.label}};u.insert(m,{...v.formats})}else{const m=Object(i.a)(v.id,v.label,l);v.id==="UNVERIFIED"?b.track(c.EventId.MSG_AUTO_POTENTIAL_MENTION_CREATED,{}):b.track(c.EventId.MSG_AUTO_MENTION_CREATED,{}),u.insert(v.label,{...v.formats,slackmention:m})}h=v.globalIndex+v.length}),u}o(r,"buildPotentialMentionsDelta")},"9hLx":function(w,s,e){"use strict";e.d(s,"c",function(){return y}),e.d(s,"b",function(){return C}),e.d(s,"a",function(){return I});var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("HpvR"),c=e("h9xh"),r=e("0Xjs"),f=e("itAW"),l=e("8Htg"),p=e("CWPp"),h=e("Y0qr"),u=e("UrBK"),b=e("fGfo"),v=e("WXkz"),d=e("BHH9"),m=e("O86Y"),g=e("u5wV"),O=e("i5Ig");function E(j,M){const T=Object(a.c)(P=>Object(i.a)(P,j)),D=Object(a.c)(P=>Object(c.d)(P,T.id)),A=(M?D.filter(P=>P.trigger_type===M):D).map(P=>Object(l.b)((P==null?void 0:P.share_url)||"")||"");return Object(a.c)(P=>Object(f.i)(P,{triggerIds:A}))}o(E,"useGetTriggersForList");function y(j){return E(j,r.J.SHORTCUT)}o(y,"useGetFormAutomations");function C(j,M){return E(j,r.J.EVENT).filter(A=>!(!Object(p.a)(A)||A.subtype!==u.a.ListRecordUpdated)).filter(A=>{const P=A==null?void 0:A.filter;return P?Object(h.a)(P).some(G=>G.field===M):!1})}o(C,"useGetAutomationsForColumn");function I(j,M,T){const D=Object(a.c)(k=>Object(v.l)(k,j)),S=Object(n.useMemo)(()=>Object(b.j)(D,M),[M,D]),A=Object(a.c)(m.g),P=Object(a.c)(k=>Object(i.a)(k,j)),N=A?!Object(g.b)().isObjectFresh(A,P.id):!1,G=E(j),V=Object(n.useMemo)(()=>G.some(k=>!Object(p.a)(k)),[G]);return Object(n.useMemo)(()=>{if(N||V)return O.a;const k=T?O.a:S.whole_list.filter(R=>!G.find(U=>U.type!==r.J.SHORTCUT?!1:R.id===d.a.FEEDBACK_FORM_FOR_LIST||R.id===d.a.BUG_FORM_FOR_LIST||R.id===d.a.HELP_FORM_FOR_LIST)),x=[];let H=[];return S.columns.forEach(R=>{let{columnKey:W,suggestions:U}=R;T&&T!==W||(H=H.concat(U))}),H.forEach(R=>{G.find(U=>U.type!==r.J.EVENT&&U.subtype!==u.a.ListRecordUpdated?!1:!U.filter&&!R.filter?!0:!U.filter&&R.filter||U.filter&&!R.filter?!1:Object(h.a)(U.filter).some(_=>{var B,z;return _.field===((B=R.filter)===null||B===void 0?void 0:B.key)&&_.value===((z=R.filter)===null||z===void 0?void 0:z.value)}))||x.push(R)}),!k.length&&!x.length?O.a:k.concat(x)},[N,V,T,S.whole_list,S.columns,G])}o(I,"useGetAllActiveSuggestedAutomations")},"9hgN":function(w,s,e){"use strict";e.d(s,"c",function(){return he}),e.d(s,"a",function(){return Te}),e.d(s,"b",function(){return Re});var n=e("9oTK"),t=e("dJs+"),a=e("xWuZ"),i=e("Lgge"),c=e("Ybt4"),r=e("LK2A"),f=e("7ibc"),l=e("9068"),p=e("Yauy"),h=e("ANTO"),u=e("+l5E"),b=e("E97Y"),v=e("E3dU"),d=e("Cfjn"),m=e("xwCZ"),g=e("L1zx"),O=e("C3vN"),E=e("52Wj"),y=e("+tZp"),C=e("ehcD"),I=e("Epto"),j=e("yrot"),M=e("UPr+"),T=e("dmdh"),D=e("Mqk2"),S=e("O86Y"),A=e("beVI"),P=e("JoR1"),N=e("BXkk"),G=e("wla9"),V=e("kQBZ"),k=e("P9LH"),x=e("G0eX"),H=e("cQw7"),R=e("3zNH"),W=e("hjzp"),U=e("B1w/"),_=e("6dQg"),B=e("0kN6"),z=e("UIhb"),L=e("WBOM"),$=e("DJ7B"),Q=e("k0fv"),K=e("/0zS"),Z=e("jmRt"),ne=e("vVwU"),F=e("hrWC"),J=e("/uJc"),X=e("KVJU"),Y=e("4Ky9"),ae=e("M4HD"),ee=e("1lhz"),q=e("FcR8"),te=e("oUrV"),de=e("twB+"),se=e("lhZz"),re=e("WySd"),oe=e("dqj/"),ce=e("fdJE"),ue=e("goOt"),Pe=e("uVdA"),Ye=e("Ar8P"),$e=e("QE0t"),Ke=e("SQ0V"),qe=e("/46j"),ct=e("3L56"),Be=e("yVVx"),pe=e("eJPC"),fe=e("P55c"),me=e("Ubqm"),Se=e("1wfM"),je=e("3ysv");const Ue=/^Wi[A-Z0-9]{8,}$/;function ve(Ve){return Ve?Ue.test(Ve):!1}o(ve,"looksLikeWidgetId");var ge=e("HU1W"),le=e("RVJP");const he=new de.a;let Te=o(class eo{static getOrCreate(Ee,Ae,Ge){return he.get(Ee,(Ze,ze)=>new eo({getQuipClient:Ae,supportedAutocompleteTypes:Ge,teamId:Ze}))}formatFetchMemberResult(Ee){var Ae;const Ge=((Ae=Ee)===null||Ae===void 0?void 0:Ae.item)||Ee,Ze=this.getState(),ze=Ee==null?void 0:Ee.id,lt=Object(S.i)(Ze)||this.teamId;var tt;const Ot={id:ze,type:r.SlackObjectType.USER,displayName:(tt=Object(E.b)(Ge))!==null&&tt!==void 0?tt:"",realName:Object(y.a)(Ze,Ge),teamId:lt,profileUrl:Object(x.v)(Object(A.s)(Ze,lt),`/team/${ze}`)},Ct=Object(O.w)(Ge);return Ct&&(Ot.image48=Ct),Ot}fetchAndFormatMember(Ee){return this.getPromisesForStubs(Ee,{type:r.SlackObjectType.USER,selector:Ae=>Object(m.g)(this.getState(),Ae.id,{fetchIfMissing:!1,preferNonExistentToNull:!1}),fetcher:Ae=>Object(se.dispatchForTeamId)(this.teamId,Object(g.a)({memberIds:Ae.map(Ge=>{let{id:Ze}=Ge;return Ze}),reason:"quip-delegate"})),formatter:this.formatFetchMemberResult.bind(this),includeNonExistentInFailures:!0})}formatFetchChannelResult(Ee){var Ae;const Ge=((Ae=Ee)===null||Ae===void 0?void 0:Ae.item)||Ee;var Ze;return{id:Ee==null?void 0:Ee.id,type:r.SlackObjectType.CHANNEL,name:Object(p.s)(Ge),isPrivate:Object(b.k)(Ge),workspaceId:this.teamId,isNonExistent:(Ze=Ge.isNonExistent)!==null&&Ze!==void 0?Ze:!1}}fetchAndFormatChannel(Ee){return this.getPromisesForStubs(Ee,{type:r.SlackObjectType.CHANNEL,selector:Ae=>Object(v.d)(this.getState(),Ae.id,!1),fetcher:Ae=>i.a.resolve(Object(se.dispatchForTeamId)(this.teamId,Object(d.a)({channelIds:Ae.map(Ge=>{let{id:Ze}=Ge;return Ze}),reason:"quip-delegate"}))),formatter:this.formatFetchChannelResult.bind(this)})}formatFetchEmojiResult(Ee,Ae){const Ge=this.getState();let Ze,ze;if(Ee.item!==void 0){const Ct=Ee;ze=Ct.item;var lt;Ze=(lt=Object(N.a)(Ct,Object(P.t)(Ge,"preferred_skin_tone")))!==null&&lt!==void 0?lt:""}else{ze=Ee;var tt;Ze=(tt=ze.name)!==null&&tt!==void 0?tt:""}return Object(se.dispatchForTeamId)(this.teamId,Object($.a)({result:ze,emojiText:Ze,requestedTeamId:Ae??""}))}fetchAndFormatEmoji(Ee){var Ae;return this.getPromisesForStubs(Ee,{type:r.SlackObjectType.EMOJI,selector:Ge=>(Ae=Object(j.n)(this.getState(),Ge.id)||Object(j.f)(this.getState(),{text:Ge.id,teamId:Ge.teamId}))!==null&&Ae!==void 0?Ae:null,fetcher:Ge=>Object(M.a)(this.teamId,Ge.map(Ze=>Ze.id)),formatter:(Ge,Ze)=>this.formatFetchEmojiResult(Ge,Ze.teamId)})}getParsedMsgPermalink(Ee){var Ae;if(!Ee)return null;const Ge=(Ae=Ee.text)===null||Ae===void 0?void 0:Ae.slice(1,-1),Ze=Object(L.e)(this.getState(),Ge);return(Ze==null?void 0:Ze.type)!==L.a.MESSAGE?null:Ze}ensureParsedPermalinks(Ee){var Ae=this;return Object(n.coroutine)(function*(){const Ge=new Set(Ee.map(ze=>ze?Object(X.a)(ze):"")),Ze=Ee.reduce((ze,lt)=>{const tt=Ae.getParsedMsgPermalink(lt);if(tt){const Ot=Object(X.a)({channel:tt.channelId,ts:tt.ts});Ge.has(Ot)||(ze.push({channelId:tt.channelId,ts:tt.ts}),Ge.add(Ot))}return ze},[]);return Ze?Object(se.dispatchForTeamId)(Ae.teamId,Object(B.a)({timestamps:Ze,reason:"quip-delegate/ensureParsedPermalinks"})):[]})()}formatFetchUnfurlContainerResult(Ee,Ae,Ge){var Ze,ze,lt;const tt=this.getState(),{document_unfurl:Ot,attachments:Ct}=Ee,St=!!(!((Ze=Object(me.a)(tt,Ee.ts))===null||Ze===void 0)&&Ze.length),zt=!!(Ot!=null&&Ot.is_unfurled)||St,kt=Ct==null||(ze=Ct[0])===null||ze===void 0?void 0:ze.app_id,on=(lt=Ee.text)===null||lt===void 0?void 0:lt.slice(1,-1),_t=Object(L.e)(tt,on),be=zt&&!Ee.attachments&&!Ee.files&&!St&&(_t==null?void 0:_t.type)!==L.a.MESSAGE,{label:ot,faviconUrl:rt,isSavedForLater:Jt,isDeleted:Qt,isKnown:qt}=this.extractDataFromOriginalMessage(Ee,Ae,_t);return qt&&!ot&&this.logger.debug("Missing label for known message"),{id:Ee.ts,channelId:Ee.channel,type:r.SlackObjectType.UNFURL,teamId:Ge??this.teamId,inlinePreview:"",isUnfurling:!zt,unfurlDidFail:be,permalink:on,label:ot,faviconUrl:rt,isSavedForLater:Jt,appId:kt,isDeleted:Qt,unfurlSucceeded:!!(Ct!=null&&Ct.length),isEphemeral:St}}extractDataFromOriginalMessage(Ee,Ae,Ge){const Ze=this.getState(),ze=Object(re.c)(Ee);let lt="",tt="",Ot=!1,Ct=!1;if((Ge==null?void 0:Ge.type)===L.a.MESSAGE||Object(oe.r)(ze)){var St;const rt=(St=ze==null?void 0:ze.ts)!==null&&St!==void 0?St:Ge==null?void 0:Ge.ts;var zt;const Jt=(zt=ze==null?void 0:ze.channel_id)!==null&&zt!==void 0?zt:Ge==null?void 0:Ge.channelId,Qt=Object(z.b)(Ze,Jt,rt,!1),qt=Object(v.d)(Ze,Jt);(Object(b.l)(qt)||Object(p.db)(qt))&&(Ot=Qt?Object(u.sb)(Qt):!0),Ct=!Object(u.tb)(Qt);const $t=Qt?Object(h.a)(Ze,Qt):null;var kt,on,_t,be,ot;const hn=(ot=(be=Object(I.a)(Ze,{userId:(kt=ze==null?void 0:ze.author_id)!==null&&kt!==void 0?kt:$t==null?void 0:$t.userId,botId:(on=ze==null?void 0:ze.bot_id)!==null&&on!==void 0?on:$t==null?void 0:$t.botId,username:(_t=ze==null?void 0:ze.author_name)!==null&&_t!==void 0?_t:$t==null?void 0:$t.username,botProfile:Qt==null?void 0:Qt.bot_profile}))!==null&&be!==void 0?be:ze==null?void 0:ze.author_name)!==null&&ot!==void 0?ot:$t==null?void 0:$t.username,gn=Object(Pe.a)(Ze),Cn=Object(oe.c)(ze);let Mn;if(Cn&&Object(Ye.a)(Cn,gn)&&Object($e.a)(Cn)?Mn=Object(ue.a)(Ze,Cn):Qt&&Object(Ye.a)(Qt.blocks,gn)&&Object($e.a)(Qt.blocks)?Mn=Object(ue.a)(Ze,Qt.blocks):(Mn=Object(oe.k)(ze),Mn=Mn||(Qt?Object(u.G)(Qt):null),Mn=Mn?Object(ce.a)(Ze,Mn):void 0),hn||Mn){const kn=Object(t.a)(Mn,{length:45});tt=kn?`${hn}: "${kn}"`:`${hn}`}}else if(ze!=null&&ze.preview){const rt=ze.preview;lt=Ae.iconUrl||rt.icon_url||"",tt=Ae.title||(ze==null?void 0:ze.title)||rt.title.text}else if(!tt&&(ze!=null&&ze.app_id)){const rt=ze==null?void 0:ze.app_id.toString(),Jt=Object(ae.r)(Object(Y.a)(Ze,rt));Jt&&(tt=`${Jt} link`)}return ze&&!tt&&this.logger.debug("Missing label for attachment"),{label:tt,faviconUrl:lt,isSavedForLater:!1,isDeleted:Ot,isKnown:Ct}}detectLinkAndFetchPreview(Ee,Ae){var Ge=this;return Object(n.coroutine)(function*(){const Ze=Object(K.a)({input:Ee,ignorePhoneMatches:!0,ignoreEmailMatches:!0,ignoreLinksWithoutHttp:!1}),ze={};if(Ze&&Ze[0]&&Ze[0].url){const kt=yield Object(se.dispatchForTeamId)(Ge.teamId,Object(Z.c)({link:Ze[0].url,channelId:Ae,reason:"bookmarks-bar"}));if(kt!=null&&kt.ok&&(kt!=null&&kt.preview)){var lt,tt,Ot;if(!(kt==null||(lt=kt.preview)===null||lt===void 0)&&lt.title){var Ct;ze.title=kt==null||(Ct=kt.preview)===null||Ct===void 0?void 0:Ct.title}if(!(kt==null||(tt=kt.preview)===null||tt===void 0)&&tt.image_url||!(kt==null||(Ot=kt.preview)===null||Ot===void 0)&&Ot.icon_url){var St,zt;ze.iconUrl=(kt==null||(St=kt.preview)===null||St===void 0?void 0:St.image_url)||(kt==null||(zt=kt.preview)===null||zt===void 0?void 0:zt.icon_url)||""}}}return ze})()}fetchAndFormatUnfurlContainer(Ee){var Ae=this;return this.getPromisesForStubs(Ee,{type:r.SlackObjectType.UNFURL,selector:Ge=>{const{channelId:Ze,id:ze}=Ge,lt=Object(z.b)(this.getState(),Ze,ze,!1),tt=this.getParsedMsgPermalink(lt);return tt&&!Object(z.b)(this.getState(),tt.channelId,tt.ts,!1)?null:lt},fetcher:Ge=>Object(se.dispatchForTeamId)(this.teamId,Object(B.a)({timestamps:Ge.map(Ze=>{let{channelId:ze,id:lt}=Ze;return{channelId:ze,ts:lt}}),reason:"quip-delegate"})).then(function(){var Ze=Object(n.coroutine)(function*(ze){return yield Ae.ensureParsedPermalinks(ze),ze});return function(ze){return Ze.apply(this,arguments)}}()),formatter:(Ge,Ze)=>this.formatFetchUnfurlContainerResult(Ge,{},Ze.teamId),postFetchSelector:Ge=>{const{channelId:Ze,id:ze}=Ge;return Object(z.b)(this.getState(),Ze,ze,!1)}})}formatFetchFileResult(Ee){const Ae=Object(k.n)(Ee)?Object(k.J)(Ee):{};if(Object(k.n)(Ee)&&(!Ae.width||!Ae.height)){const lt=Object(T.e)(this.getState(),Ee.id);Ae.width=lt==null?void 0:lt.original_w,Ae.height=lt==null?void 0:lt.original_h}var Ge,Ze;return{id:Ee.id,type:r.SlackObjectType.FILE,altText:(Ge=Object(k.D)(Ee))!==null&&Ge!==void 0?Ge:"",name:(Ze=Object(k.F)(Ee))!==null&&Ze!==void 0?Ze:"",mimeType:Ee.mimetype,url:Object(k.eb)(Ee),permalink:Object(k.M)(Ee,this.teamId),isDeleted:!Ee||Object(k.Rb)(Ee)||Object(k.xb)(Ee),isNotFound:Object(k.Db)(Ee),...Ae}}fetchAndFormatFile(Ee){return this.getPromisesForStubs(Ee,{type:r.SlackObjectType.FILE,selector:Ae=>Object(T.e)(this.getState(),Ae.id,!1),fetcher:Ae=>Object(se.dispatchForTeamId)(this.teamId,Object(D.e)({fileIds:Ae.map(Ge=>Ge.id),reason:"quip-delegate/fetchAndFormatFile"})),formatter:this.formatFetchFileResult.bind(this)})}formatFetchDocumentResult(Ee,Ae,Ge){const Ze=this.getState();var ze;const lt=(ze=Object(qe.a)(Ze,Ee.id))!==null&&ze!==void 0?ze:Ee.title_blocks;let tt;try{tt=lt?JSON.stringify(lt):void 0}catch(St){this.logger.error(St,"stringify failed on canvas rich text title")}var Ot;let Ct=(Ot=Object(k.F)(Ee))!==null&&Ot!==void 0?Ot:"";if(Object(k.h)(Ee)){const St=Ee==null?void 0:Ee.linked_channel_id,zt=St?Object(v.d)(Ze,St):null;Ct=Object(p.u)(Ze,zt)}return{id:Ee.id,type:r.SlackObjectType.DOCUMENT,name:Ct,isSameDocument:Ae??!1,permalink:Object(k.M)(Ee,this.teamId,null,Ge),shouldShowDocument:Object(k.Yb)(Ee),richTextName:tt,isDeleted:Object(k.Rb)(Ee)||Object(k.xb)(Ee),sectionId:Ge}}fetchAndFormatDocument(Ee){return this.getPromisesForStubs(Ee,{type:r.SlackObjectType.DOCUMENT,selector:Ae=>Object(T.e)(this.getState(),Ae.id,!1),fetcher:Ae=>Object(se.dispatchForTeamId)(this.teamId,Object(D.e)({fileIds:Ae.map(Ge=>Ge.id),reason:"quip-delegate/fetchAndFormatDocument"})),formatter:(Ae,Ge)=>this.formatFetchDocumentResult(Ae,void 0,Ge.sectionId)})}formatFetchDocumentUserAccessResult(Ee,Ae){var Ge=this;return Object(n.coroutine)(function*(){const Ze=Object(_.a)(Ee)?Ee:Object(U.a)(Ge.getState(),Ee),ze=[],lt=Ae.map(Ct=>Object(m.g)(Ge.getState(),Ct)).filter(Ct=>!Ze||Object(O.qb)(Ct)?(ze.push(Ct),!1):!0);let tt=[];const Ot=[];if(lt.length>0)try{const Ct=new Set;tt=(yield Object(se.dispatchForTeamId)(Ge.teamId,Object(Q.a)({reason:"getAccessLevel",users:lt.map(zt=>{Ct.add(zt.id);const kt=Object(C.c)(Ge.getState(),zt);return{userId:zt.id,teamId:kt===""?void 0:kt}}),fileId:Ze}))).users.map(zt=>(Ct.delete(zt.user_id),{id:zt.user_id,type:r.SlackObjectType.DOCUMENT_USER_ACCESS,threadOrFileId:Ee,access:zt.access,isExplicitlySharedWith:zt.is_explicitly_shared_with})),Ct.forEach(zt=>{Ot.push({id:zt,type:r.SlackObjectType.DOCUMENT_USER_ACCESS,threadOrFileId:Ee,access:"not_found"})})}catch(Ct){Ge.logger.error(Ct,"failed to fetch document user access objects")}return tt.concat(Ot)})()}fetchAndFormatDocumentUserAccess(Ee){const Ae=Ee.filter(tt=>tt.type===r.SlackObjectType.DOCUMENT_USER_ACCESS),Ge={};Ae.forEach(tt=>{var Ot;Ot=(Ot=Ge[tt.threadOrFileId])!==null&&Ot!==void 0?Ot:Ge[tt.threadOrFileId]=[[]];const Ct=Ge[tt.threadOrFileId];Ct[Ct.length-1].length>=eo.MAX_SDUA_BATCH_SIZE&&Ct.push([]),Ct[Ct.length-1].push(tt)});const Ze=[],ze=[];Object.keys(Ge).forEach(tt=>{Ge[tt].forEach(Ot=>{const Ct=Ot.map(St=>St.id);Ze.push(this.formatFetchDocumentUserAccessResult(tt,Ct)),ze.push(Ot)})});var lt=this;return Ze.map(function(){var tt=Object(n.coroutine)(function*(Ot,Ct){const St=yield Ot;return{objects:St,failures:lt.getMissingStubObjects(St,ze[Ct],!0)}});return function(Ot,Ct){return tt.apply(this,arguments)}}())}formatFetchWidgetResult(Ee){return{type:r.SlackObjectType.WIDGET,id:Ee.id}}fetchAndFormatWidget(Ee){return this.getPromisesForStubs(Ee,{type:r.SlackObjectType.WIDGET,selector:Ae=>{const Ge=Object(Se.c)(this.getState(),Ae.id);return Ge!=null&&Ge.id?Ge:null},fetcher:Ae=>Object(se.dispatchForTeamId)(this.teamId,Object(je.a)({widgetPlacementId:Ae[0].id})),formatter:this.formatFetchWidgetResult.bind(this)})}getPromisesForStubs(Ee,Ae){let{type:Ge,selector:Ze,fetcher:ze,formatter:lt,includeNonExistentInFailures:tt=!1,postFetchSelector:Ot}=Ae;const Ct=[],St=Ee.filter(be=>be.type===Ge),zt=[],kt=[],on=[];if(St.forEach(be=>{const ot=Ze(be);!ot||Object(l.c)(ot)?zt.push(be):(kt.push(be),on.push(ot))}),on.length&&Ct.push(i.a.all(on.map((be,ot)=>i.a.resolve(lt(be,kt[ot])))).then(be=>({objects:be,failures:this.getMissingStubObjects(on,kt,tt)}))),zt.length){var _t=this;Ct.push(ze(zt).then(Object(n.coroutine)(function*(){const be=zt.map(rt=>Ot?Ot(rt):Ze(rt));return{objects:yield i.a.all(be.reduce((rt,Jt,Qt)=>(Jt&&!Object(l.c)(Jt)&&rt.push(i.a.resolve(lt(Jt,zt[Qt]))),rt),[])),failures:_t.getMissingStubObjects(be,zt,tt)}})))}return Ct}getMissingObjects(Ee,Ae,Ge,Ze){const ze=Ee.reduce((tt,Ot)=>{if(!Ot)return tt;var Ct;const St=(Ct=Ot.id)!==null&&Ct!==void 0?Ct:Ot.name;return!St||Ze&&Ot.isNonExistent||(tt[St]=Ot),tt},{});return Ae.filter(tt=>!ze[tt]).map(tt=>({reason:r.GetSlackObjectFailureReason.NOT_FOUND,stubs:[{id:tt,type:Ge}]}))}getMissingStubObjects(Ee,Ae,Ge){const Ze=Ee.reduce((lt,tt)=>{if(!tt)return lt;var Ot,Ct;const St=(Ct=(Ot=tt.id)!==null&&Ot!==void 0?Ot:tt.name)!==null&&Ct!==void 0?Ct:tt.ts;return!St||Ge&&Object(l.b)(tt)||(lt[St]=tt),lt},{}),ze=Ae.filter(lt=>{let{id:tt}=lt;return!Ze[tt]});return ze.length?[{reason:r.GetSlackObjectFailureReason.NOT_FOUND,stubs:ze}]:[]}getFetchAndFormatPromises(Ee){return[...this.fetchAndFormatChannel(Ee),...this.fetchAndFormatMember(Ee),...this.fetchAndFormatEmoji(Ee),...this.fetchAndFormatFile(Ee),...this.fetchAndFormatDocument(Ee),...this.fetchAndFormatUnfurlContainer(Ee),...this.fetchAndFormatDocumentUserAccess(Ee),...this.fetchAndFormatWidget(Ee)]}getSlackObjects(Ee){let Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var Ge=this;return Object(n.coroutine)(function*(){let Ze=Ge.getFetchAndFormatPromises(Ee);Ae&&(Ze=Ze.map(tt=>tt.then(Ot=>{let{objects:Ct,failures:St}=Ot;return Ct.length&&Ge.receivedSlackObjects(Ct),{objects:[],failures:St}})));const ze=yield i.a.all(Ze.map(tt=>tt.catch(Ot=>(Ge.logger.error(Ot),{objects:[],failures:[]}))));var lt;return{objects:ze.flatMap(tt=>tt.objects),failures:ze.flatMap(tt=>(lt=tt.failures)!==null&&lt!==void 0?lt:[])}})()}getSlackEmojiByUnicodeString(Ee){var Ae=this;return Object(n.coroutine)(function*(){const Ge=Ae.getState(),Ze=Object(j.i)(Ge,Ee),ze={emojis:[]};if(Ze){const lt=Object(j.n)(Ge,Ze);lt&&ze.emojis.push(Ae.formatFetchEmojiResult(lt,Ae.teamId))}return i.a.resolve(ze)})()}getSlackObjectByUrl(Ee,Ae,Ge){var Ze=this;return Object(n.coroutine)(function*(){const ze=[],lt=Object(U.a)(Ze.getState(),Ae);if(!lt)return{objects:ze};const tt=Object(L.e)(Ze.getState(),Ee);if((tt==null?void 0:tt.type)===L.a.MEMBER){const kt={type:r.SlackObjectType.USER,id:tt.memberId};return Ze.getSlackObjects([kt])}if((tt==null?void 0:tt.type)===L.a.MESSAGE&&!tt.ts){const kt={type:r.SlackObjectType.CHANNEL,id:tt.channelId};return Ze.getSlackObjects([kt])}if((tt==null?void 0:tt.type)===L.a.WIDGETS&&Object(le.d)(Ze.getState(),"widgets_admin")==="on"){if(ve(tt.widgetId)){const kt=yield Object(se.dispatchForTeamId)(Ze.teamId,Object(ge.a)({widgetId:tt.widgetId,location:"CANVAS",locationMetadata:{canvasId:lt}}));if(kt===null)return{objects:[]};const on={type:r.SlackObjectType.WIDGET,id:kt};return Ze.getSlackObjects([on])}return{objects:[]}}const Ot=Object(W.a)(lt),{file:Ct,unfurl_container:St,no_access_file_id:zt}=yield Object(se.dispatchForTeamId)(Ze.teamId,Object(V.gg)({url:Ee,fileId:lt,acknowledgedPrivateShare:Ge,reason:"quip-get-slack-object-by-url"}));if(Ct)Object(se.dispatchForTeamId)(Ze.teamId,Object(R.a)({files:[Ct],reason:"quip-get-slack-object-by-url"})),Object(k.g)(Ct)?ze.push(Ze.formatFetchDocumentResult(Ct,lt===Ct.id,tt==null?void 0:tt.focusSectionId)):ze.push(Ze.formatFetchFileResult(Ct));else if(zt)((tt==null?void 0:tt.type)===L.a.QUIP||(tt==null?void 0:tt.type)===L.a.CHANNEL_CANVAS)&&ze.push(Ze.formatFetchDocumentResult({id:zt,mode:"quip",permalink:Ee},!1,tt==null?void 0:tt.focusSectionId));else if(St){const kt=Object(se.dispatchForTeamId)(Ze.teamId,Object(H.a)({imsgs:[St],channelId:Ot}));Object(se.dispatchForTeamId)(Ze.teamId,Object(G.a)(Ze.teamId,kt));const on=yield Ze.detectLinkAndFetchPreview(Ee,Ot);ze.push(Ze.formatFetchUnfurlContainerResult(kt[0],on))}return{objects:ze}})()}createSlackCanvas(Ee){var Ae=this;return Object(n.coroutine)(function*(){const Ze=yield new i.a((tt,Ot)=>{Object(se.dispatchForTeamId)(Ae.teamId,Object(ee.a)({onCreate:tt,source:pe.a.INSERT_CANVAS_MODAL_CREATE})).catch(Ot)}).then(tt=>{const{fileId:Ot}=tt,Ct=Ae.getState();return Ee&&Object(f.f)(Ct)?Object(se.dispatchForTeamId)(Ae.teamId,Object(ct.a)({quipThreadId:Ee,reason:"share-embedded-canvas"})).then(St=>{const zt=Object(T.e)(Ct,St);Object(k.h)(zt)||Object(se.dispatchForTeamId)(Ae.teamId,Object(q.a)({fileId:Ot,forceNewWindow:!0,source:te.a.INSERTION_MENU})),Object(se.dispatchForTeamId)(Ae.teamId,Object(Be.a)({source:fe.a.TOOLBAR,parentCanvasId:St,embeddedCanvasId:Ot,isNewStandaloneCanvas:!0}))}):Object(se.dispatchForTeamId)(Ae.teamId,Object(q.a)({fileId:Ot,forceNewWindow:!0,source:te.a.INSERTION_MENU})),Ot}),ze=yield Object(se.dispatchForTeamId)(Ae.teamId,Object(D.g)({fileId:Ze})),lt=Object(k.M)(ze);return{fileId:Ze,permalink:lt}})()}getAutocompleteResults(Ee,Ae){const Ge={[r.SlackObjectType.CHANNEL]:Object(se.dispatchForTeamId)(this.teamId,Object(J.a)({query:Ee,searcherKey:"quip-channel-autocomplete"})),[r.SlackObjectType.USER]:Object(se.dispatchForTeamId)(this.teamId,Object(F.a)({query:Ee,searcherKey:"quip-user-autocomplete"})),[r.SlackObjectType.EMOJI]:Object(se.dispatchForTeamId)(this.teamId,Object(ne.a)({query:Ee,searcherKey:"quip-emoji-autocomplete"}))},Ze=Ae.map(ze=>Ge[ze]);return i.a.all(Ze).then(ze=>i.a.all(Object(a.a)(ze))).then(ze=>{const lt=[];for(const tt of ze)switch(tt.type){case"channel":{lt.push(this.formatFetchChannelResult(tt));break}case"member":{lt.push(this.formatFetchMemberResult(tt));break}case"emoji":{lt.push(this.formatFetchEmojiResult(tt));break}default:}return{results:lt,moreResultsPossible:!1}}).catch(ze=>this.logger.error(ze,"failed to autocomplete"))}setDelegate(Ee){this.delegate=Ee}onSlackObjectsUpdated(Ee){var Ae;(Ae=this.delegate)===null||Ae===void 0||Ae.slackObjectsUpdated(Ee)}receivedSlackObjects(Ee){var Ae;(Ae=this.delegate)===null||Ae===void 0||Ae.receivedSlackObjects(Ee)}constructor({getQuipClient:Ee,supportedAutocompleteTypes:Ae,teamId:Ge}){this.supportedAutocompleteTypes=Ae,this.getState=()=>Object(se.getStateByTeamId)(Ge),this.getQuipClient=Ee,this.logger=Object(c.b)({state:Object(se.getStateByTeamId)(Ge)}),this.teamId=Ge}},"QuipSlackObjectProvider");Te.MAX_SDUA_BATCH_SIZE=20;const Re=Object(Ke.c)("on slack objects updated",function(){var Ve=Object(n.coroutine)(function*(Ee,Ae,Ge){let{slackObjectStubs:Ze}=Ge;var ze;(ze=he.get(Ae()))===null||ze===void 0||ze.onSlackObjectsUpdated(Ze)});return function(Ee,Ae,Ge){return Ve.apply(this,arguments)}}());Re.meta={name:"createThunk",key:"createThunkonSlackObjectsUpdated",description:"on slack objects updated"}},"9oWK":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("YUBf");function c(u){let{handleMouseEnterOrClick:b}=u;return t.a.createElement("div",{onMouseEnter:b,onClick:b,role:"presentation",className:"p-prudent_pigeon_animation p-message_pane_modal_pigeon__header_image"},t.a.createElement("svg",{width:"280",height:"180",viewBox:"0 0 280 180",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M124.075 163.98C157.365 163.98 184.351 162.588 184.351 160.871C184.351 159.154 157.365 157.762 124.075 157.762C90.7857 157.762 63.7991 159.154 63.7991 160.871C63.7991 162.588 90.7857 163.98 124.075 163.98Z",fill:"black"}),t.a.createElement("g",{className:"prudent_pigeon__clouds"},t.a.createElement("path",{className:"prudent_pigeon__clouds--left",d:"M20.5612 76.0435H97.7717C97.7717 76.0435 75.6276 43.5059 67.9794 63.1543C67.9794 63.1543 34.7034 35.8577 37.3863 63.1543C37.3863 63.1543 6.79326 48.6325 20.5612 76.0435Z",fill:"white"}),t.a.createElement("path",{className:"prudent_pigeon__clouds--right",d:"M253.077 125.889H186.899C186.899 125.889 203.88 94.5784 219.988 114.04C219.988 114.04 256.009 92.5039 253.077 125.889Z",fill:"white"})),t.a.createElement("g",{className:"prudent_pigeon__body"},t.a.createElement("path",{d:"M163.258 114.191L158.349 88.8339L162.764 88.002L167.672 113.359L163.258 114.191Z",fill:"#B18523"}),t.a.createElement("g",{className:"prudent_pigeon__base"},t.a.createElement("path",{d:"M129.727 141.873L125.944 144.297L135.639 159.426L139.421 157.003L129.727 141.873Z",fill:"#A81644"}),t.a.createElement("path",{d:"M160.367 160.871H126.509C125.859 160.869 125.236 160.61 124.777 160.15C124.318 159.69 124.06 159.067 124.06 158.417V158.417C124.059 157.787 124.3 157.182 124.734 156.726C125.168 156.27 125.76 155.999 126.389 155.968L158.823 154.377C159.354 154.351 159.886 154.433 160.385 154.618C160.884 154.804 161.34 155.089 161.725 155.456C162.111 155.823 162.418 156.265 162.628 156.754C162.837 157.243 162.946 157.77 162.946 158.302V158.302C162.938 158.983 162.663 159.633 162.181 160.113C161.699 160.593 161.047 160.865 160.367 160.871Z",fill:"#A81644"}),t.a.createElement("path",{d:"M117.819 141.87L114.037 144.294L123.731 159.424L127.514 157L117.819 141.87Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M148.455 160.871H114.602C114.28 160.871 113.961 160.807 113.663 160.684C113.365 160.561 113.095 160.38 112.867 160.152C112.639 159.924 112.458 159.654 112.335 159.356C112.211 159.058 112.148 158.739 112.148 158.417V158.417C112.147 157.787 112.389 157.182 112.822 156.726C113.256 156.27 113.849 155.999 114.477 155.968L146.916 154.377C147.448 154.351 147.979 154.433 148.478 154.618C148.977 154.804 149.433 155.089 149.819 155.456C150.204 155.823 150.511 156.265 150.721 156.754C150.931 157.243 151.039 157.77 151.039 158.302V158.302C151.031 158.984 150.756 159.635 150.272 160.115C149.789 160.595 149.136 160.867 148.455 160.871Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M184.273 49.6835C185.008 46.8069 183.649 43.975 181.237 43.3584C178.825 42.7418 176.273 44.5739 175.538 47.4505C174.802 50.3272 176.162 53.159 178.574 53.7757C180.986 54.3923 183.537 52.5602 184.273 49.6835Z",fill:"white"}),t.a.createElement("path",{d:"M183.608 49.3495C184.076 47.5189 183.56 45.806 182.456 45.5237C181.351 45.2413 180.077 46.4964 179.609 48.327C179.141 50.1576 179.657 51.8705 180.761 52.1528C181.866 52.4352 183.14 51.1801 183.608 49.3495Z",fill:"black"}),t.a.createElement("path",{d:"M132.509 78.8872L158.786 36.2108C160.148 34.0012 162.229 32.3271 164.679 31.4694C167.129 30.6117 169.799 30.6226 172.242 31.5002C175.008 32.4941 177.278 34.5256 178.572 37.1645C179.866 39.8033 180.081 42.8422 179.173 45.6373L149.677 136.517L136.252 142.418C130.843 144.789 125.001 146.013 119.094 146.011C108.819 146.013 98.8874 142.31 91.1218 135.581L85.4025 130.61L132.509 78.8872Z",fill:"#6F839C"}),t.a.createElement("path",{d:"M122.51 145.226C112.234 145.227 102.303 141.522 94.5378 134.791L88.8185 129.826L135.935 78.118L162.213 35.4416C163.495 33.3644 165.416 31.759 167.688 30.8662C165.885 30.981 164.136 31.5262 162.587 32.4562C161.038 33.3862 159.735 34.6738 158.786 36.2112L132.509 78.8875L85.3973 130.595L91.1166 135.566C98.8822 142.295 108.814 145.998 119.089 145.996V145.996C122.877 145.995 126.649 145.491 130.304 144.498C127.734 144.978 125.125 145.221 122.51 145.226V145.226Z",fill:"#8C9CB0"}),t.a.createElement("path",{d:"M163.648 93.4763L166.034 86.1244L135.8 73.542L132.509 78.8869L131.432 80.0672L163.648 93.4763Z",fill:"white"}),t.a.createElement("path",{d:"M120.451 145.975C118.977 146.502 117.465 146.917 115.928 147.217L114.976 145.798C114.976 145.798 119.807 146.027 120.451 145.975Z",fill:"black"}),t.a.createElement("path",{d:"M131.271 144.228C131.271 144.228 130.325 145.548 127.554 146.827L126.618 145.319C128.193 145.068 129.748 144.703 131.271 144.228Z",fill:"black"}),t.a.createElement("path",{d:"M163.085 42.9165C164.143 38.7768 162.184 34.7008 158.709 33.8125C155.234 32.9242 151.56 35.56 150.501 39.6997C149.443 43.8394 151.402 47.9154 154.877 48.8037C158.352 49.692 162.026 47.0562 163.085 42.9165Z",fill:"white"}),t.a.createElement("path",{d:"M159.39 41.3704C159.947 39.1949 158.918 37.053 157.093 36.5864C155.268 36.1199 153.338 37.5053 152.781 39.6809C152.225 41.8565 153.254 43.9983 155.079 44.4649C156.904 44.9314 158.834 43.546 159.39 41.3704Z",fill:"black"})),t.a.createElement("path",{d:"M132.737 81.2965L128.321 82.1221L135.251 119.186L139.666 118.36L132.737 81.2965Z",fill:"#B18523"}),t.a.createElement("path",{d:"M133.881 87.4713C132.494 86.206 130.748 85.4014 128.885 85.168L133.98 112.574C133.98 112.574 136.783 107.801 137.25 105.57L133.881 87.4713Z",fill:"black"}),t.a.createElement("path",{d:"M163.648 93.477L160.85 102.072L161.407 105.02L164.032 94.7093L163.741 93.1807L163.648 93.477Z",fill:"black"}),t.a.createElement("path",{d:"M158.591 70.8004L169.726 74.7535L173.5 62.5H165L158.591 70.8004Z",fill:"black"}),t.a.createElement("g",{className:"prudent_pigeon__envelope"},t.a.createElement("path",{d:"M156.935 52.6255L153.779 68.6603C153.753 68.7952 153.754 68.934 153.781 69.0686C153.809 69.2033 153.863 69.3311 153.94 69.4448C154.018 69.5584 154.117 69.6555 154.232 69.7306C154.347 69.8057 154.476 69.8572 154.611 69.8821L179.241 74.3068C179.511 74.3553 179.791 74.2944 180.017 74.1375C180.243 73.9806 180.397 73.7404 180.447 73.4697L183.228 57.674C183.274 57.407 183.214 57.1325 183.061 56.9092C182.907 56.6858 182.673 56.5312 182.407 56.4782L158.152 51.7988C158.018 51.7731 157.88 51.7742 157.746 51.8018C157.612 51.8295 157.485 51.8833 157.372 51.96C157.259 52.0368 157.163 52.1351 157.088 52.2493C157.013 52.3634 156.961 52.4913 156.935 52.6255V52.6255Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M169.518 64.0426C169.08 64.0431 168.658 63.8777 168.337 63.5798L159.332 55.0685C159.254 54.9705 159.214 54.8476 159.219 54.7223C159.224 54.597 159.274 54.4777 159.36 54.3866C159.446 54.2954 159.562 54.2384 159.687 54.2261C159.812 54.2139 159.937 54.2471 160.039 54.3197L169.045 62.8467C169.144 62.941 169.27 63.0032 169.405 63.0255C169.54 63.0477 169.679 63.0289 169.804 62.9715L180.114 58.0321C180.234 57.991 180.366 57.9955 180.483 58.0446C180.6 58.0938 180.696 58.1843 180.751 58.299C180.806 58.4137 180.817 58.5445 180.782 58.6669C180.747 58.7892 180.669 58.8945 180.561 58.9628L170.251 63.9074C170.019 64.0053 169.769 64.0514 169.518 64.0426V64.0426Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M156.176 68.7123C156.104 68.7128 156.033 68.6983 155.966 68.6696C155.9 68.641 155.841 68.5989 155.791 68.5459C155.7 68.4431 155.653 68.3082 155.661 68.1708C155.668 68.0334 155.73 67.9046 155.833 67.8128L162.785 61.5476C162.887 61.4561 163.022 61.4091 163.16 61.4169C163.297 61.4246 163.426 61.4866 163.518 61.5892C163.608 61.6917 163.654 61.8255 163.646 61.9617C163.638 62.0978 163.577 62.2255 163.476 62.3171L156.525 68.5563C156.432 68.6506 156.308 68.7064 156.176 68.7123V68.7123Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M178.533 72.1698C178.435 72.1695 178.339 72.1416 178.257 72.0891C178.174 72.0367 178.108 71.9619 178.065 71.8734L174.488 64.3968C174.449 64.3348 174.423 64.2651 174.412 64.1924C174.402 64.1197 174.407 64.0455 174.427 63.9749C174.447 63.9042 174.482 63.8386 174.529 63.7824C174.577 63.7263 174.636 63.6808 174.702 63.6489C174.768 63.6171 174.84 63.5997 174.914 63.5978C174.987 63.596 175.06 63.6097 175.128 63.6381C175.196 63.6665 175.257 63.709 175.307 63.7627C175.357 63.8164 175.395 63.8801 175.419 63.9496L178.996 71.4315C179.053 71.5551 179.06 71.6963 179.014 71.8246C178.969 71.953 178.874 72.0582 178.752 72.1178C178.684 72.1526 178.609 72.1704 178.533 72.1698V72.1698Z",fill:"#B3B3B3"})),t.a.createElement("g",null,t.a.createElement("path",{d:"M173.287 49.0374L169.518 55.7654C169.463 55.8558 169.382 55.9275 169.286 55.9708C169.189 56.0141 169.082 56.027 168.978 56.0078C168.874 55.9886 168.779 55.9382 168.704 55.8633C168.63 55.7884 168.58 55.6926 168.561 55.5886L167.677 47.9092L173.287 49.0374Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M168.509 49.8284C169.658 49.8284 170.589 48.8973 170.589 47.7487C170.589 46.6001 169.658 45.6689 168.509 45.6689C167.36 45.6689 166.429 46.6001 166.429 47.7487C166.429 48.8973 167.36 49.8284 168.509 49.8284Z",fill:"white"}),t.a.createElement("path",{d:"M172.669 50.7689C173.817 50.7689 174.748 49.8377 174.748 48.6891C174.748 47.5405 173.817 46.6094 172.669 46.6094C171.52 46.6094 170.589 47.5405 170.589 48.6891C170.589 49.8377 171.52 50.7689 172.669 50.7689Z",fill:"white"})),t.a.createElement("g",{className:"prudent_pigeon__wing"},t.a.createElement("path",{d:"M137.469 90.8048C136.856 88.7077 135.5 86.9057 133.656 85.7354C131.811 84.5651 129.603 84.1068 127.445 84.4459L85.3973 130.595L91.1166 135.566L91.1686 135.608C92.9877 137.166 95.1528 138.266 97.4834 138.818C99.8141 139.37 102.243 139.356 104.567 138.779C106.61 138.278 108.6 137.582 110.51 136.7L111.732 136.143C120.178 132.279 127.099 125.716 131.406 117.488L135.618 109.455C138.624 103.712 139.287 97.0269 137.469 90.8048V90.8048Z",fill:"#536275"}),t.a.createElement("path",{d:"M57.3831 122.374L124.455 79.6981C125.633 78.9484 126.969 78.4829 128.358 78.3384C129.747 78.1939 131.15 78.3744 132.458 78.8656C133.765 79.3567 134.94 80.1452 135.89 81.1686C136.84 82.192 137.539 83.4223 137.932 84.7623V84.7623C139.753 90.9876 139.09 97.6767 136.081 103.423L131.869 111.461C127.558 119.687 120.638 126.248 112.195 130.116L110.973 130.673C106.627 132.664 101.902 133.694 97.1218 133.694V133.694C85.8611 133.692 74.7553 131.07 64.683 126.035L57.3831 122.374Z",fill:"#B1BDC9"}),t.a.createElement("path",{d:"M63.4663 125.323L130.538 82.6416C132.154 81.6098 134.059 81.1267 135.971 81.2637C134.545 79.6854 132.606 78.6629 130.498 78.3774C128.39 78.0919 126.249 78.5618 124.455 79.7039L57.3831 122.38L64.6622 126.02C65.6656 126.54 66.6847 126.992 67.7142 127.45L63.4663 125.323Z",fill:"#858E97"}),t.a.createElement("path",{d:"M110.51 128.432C108.363 126.014 109.2 121.376 109.699 119.801L110.786 116.437L107.37 117.347C103.975 118.251 101.468 118.023 99.9347 116.655C97.5585 114.544 97.6469 109.854 97.8809 108.232L98.2605 105.664L95.692 106.043C92.6192 106.501 88.6156 106.605 87.009 104.509C86.8416 104.288 86.7019 104.047 86.5931 103.792L83.3227 105.872C83.5017 106.212 83.7086 106.538 83.9414 106.844C85.8496 109.335 89.2032 110.432 93.9242 110.109C93.9242 112.756 94.4441 116.931 97.3662 119.525C99.3679 121.309 102.046 122.016 105.404 121.641C105.072 124.303 105.15 128.182 107.619 131C107.848 131.263 108.095 131.51 108.358 131.739C109.242 131.421 110.115 131.078 110.957 130.699L112.179 130.142L112.73 129.872C111.876 129.597 111.11 129.1 110.51 128.432V128.432Z",fill:"#D0D7DF"}),t.a.createElement("path",{d:"M124.439 119.229C122.292 116.806 123.129 112.168 123.628 110.593L124.715 107.229L121.299 108.139C117.904 109.049 115.398 108.815 113.864 107.452C111.488 105.342 111.576 100.652 111.784 99.0295L112.164 96.461L109.595 96.8406C106.522 97.2981 102.519 97.4021 100.912 95.2808C100.802 95.1367 100.705 94.9836 100.621 94.8232L97.3662 96.903C97.5123 97.1508 97.672 97.3903 97.8446 97.6205C99.7527 100.111 103.101 101.208 107.827 100.891C107.827 103.532 108.347 107.712 111.269 110.302C113.271 112.09 115.949 112.797 119.308 112.418C118.975 115.085 119.053 118.959 121.522 121.751C121.937 122.214 122.4 122.631 122.905 122.993C123.878 122.104 124.814 121.179 125.698 120.207C125.227 119.953 124.801 119.623 124.439 119.229V119.229Z",fill:"#D0D7DF"}),t.a.createElement("path",{d:"M100.938 95.3072C100.828 95.163 100.731 95.01 100.647 94.8496L97.7925 96.6642L97.3922 96.919C97.5382 97.1668 97.6979 97.4063 97.8705 97.6365C99.0341 99.0867 100.657 100.097 102.472 100.501L107.91 97.0385C105.202 97.2621 102.259 97.0281 100.938 95.3072Z",fill:"#9CA1A7"}),t.a.createElement("path",{d:"M87.009 104.509C86.8416 104.288 86.7019 104.047 86.5931 103.792L83.3227 105.872C83.5017 106.212 83.7086 106.538 83.9414 106.844C85.0152 108.194 86.4958 109.162 88.1633 109.605L93.3627 106.288C90.8462 106.423 88.2309 106.106 87.009 104.509Z",fill:"#9CA1A7"})),t.a.createElement("g",{className:"prudent_pigeon__envelope_back"},t.a.createElement("path",{d:"M139.357 129.383L155.637 127.964C155.773 127.952 155.906 127.912 156.028 127.848C156.149 127.784 156.257 127.697 156.345 127.591C156.432 127.485 156.498 127.363 156.538 127.231C156.578 127.1 156.591 126.962 156.578 126.825L154.009 101.926C153.979 101.653 153.843 101.403 153.629 101.231C153.416 101.059 153.143 100.978 152.871 101.005L136.924 102.716C136.655 102.746 136.407 102.88 136.236 103.09C136.064 103.3 135.98 103.569 136.004 103.839L138.234 128.442C138.259 128.716 138.392 128.968 138.602 129.144C138.812 129.321 139.084 129.407 139.357 129.383Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M140.558 126.685C140.477 126.687 140.396 126.667 140.325 126.628C140.204 126.565 140.114 126.457 140.072 126.328C140.03 126.199 140.041 126.058 140.101 125.937L145.82 114.914C145.882 114.792 145.906 114.654 145.89 114.518C145.873 114.381 145.816 114.253 145.727 114.15L138.12 105.617C138.064 105.569 138.019 105.509 137.988 105.442C137.957 105.375 137.941 105.302 137.94 105.228C137.939 105.154 137.955 105.081 137.985 105.013C138.015 104.946 138.059 104.885 138.114 104.836C138.169 104.787 138.234 104.75 138.305 104.728C138.375 104.706 138.45 104.699 138.523 104.708C138.597 104.717 138.667 104.742 138.73 104.78C138.794 104.819 138.848 104.87 138.889 104.931L146.496 113.463C146.725 113.723 146.871 114.046 146.915 114.39C146.958 114.734 146.898 115.083 146.741 115.392L141.021 126.41C140.977 126.494 140.91 126.564 140.828 126.612C140.747 126.661 140.653 126.686 140.558 126.685V126.685Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M146.011 111.222C145.939 111.222 145.867 111.207 145.801 111.177C145.735 111.148 145.675 111.105 145.627 111.051C145.537 110.948 145.491 110.814 145.499 110.678C145.506 110.542 145.567 110.414 145.668 110.323L151.861 104.806C151.965 104.73 152.094 104.696 152.223 104.71C152.351 104.724 152.47 104.785 152.555 104.882C152.641 104.979 152.688 105.104 152.686 105.233C152.685 105.362 152.635 105.486 152.547 105.581L146.355 111.092C146.26 111.176 146.138 111.222 146.011 111.222V111.222Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M155.089 128.146C154.994 128.147 154.9 128.12 154.819 128.068L146.869 123.128C146.801 123.098 146.741 123.053 146.692 122.998C146.643 122.942 146.606 122.876 146.584 122.805C146.563 122.734 146.557 122.659 146.566 122.586C146.576 122.512 146.602 122.441 146.641 122.378C146.68 122.315 146.733 122.261 146.795 122.22C146.857 122.179 146.927 122.152 147 122.14C147.073 122.129 147.148 122.133 147.22 122.152C147.292 122.172 147.358 122.207 147.415 122.255L155.365 127.194C155.457 127.256 155.526 127.345 155.564 127.448C155.602 127.552 155.605 127.665 155.575 127.771C155.544 127.876 155.481 127.97 155.393 128.037C155.306 128.105 155.2 128.143 155.089 128.146V128.146Z",fill:"#B3B3B3"})),t.a.createElement("g",{className:"prudent_pigeon__envelope_back"},t.a.createElement("path",{d:"M146 104L144.368 123.559L142.5 124L146 104Z",fill:"black"}),t.a.createElement("path",{d:"M144.457 124.782L160.674 126.82C160.81 126.837 160.948 126.826 161.08 126.789C161.213 126.752 161.336 126.689 161.444 126.604C161.552 126.519 161.642 126.414 161.708 126.294C161.775 126.174 161.818 126.042 161.833 125.905L164.521 101.021C164.549 100.748 164.468 100.476 164.295 100.262C164.123 100.049 163.873 99.9125 163.601 99.8823L147.649 98.2237C147.38 98.1972 147.11 98.2769 146.899 98.4459C146.687 98.6148 146.55 98.8597 146.516 99.1284L143.557 123.659C143.534 123.926 143.614 124.192 143.781 124.401C143.949 124.611 144.191 124.747 144.457 124.782V124.782Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M160.044 124.954C159.911 124.953 159.782 124.901 159.686 124.808L152.927 118.314C152.845 118.215 152.803 118.09 152.808 117.963C152.813 117.835 152.865 117.714 152.953 117.622C153.042 117.53 153.161 117.474 153.289 117.464C153.416 117.455 153.543 117.493 153.644 117.57L160.403 124.064C160.499 124.162 160.552 124.292 160.552 124.428C160.552 124.564 160.499 124.695 160.403 124.792C160.309 124.891 160.181 124.949 160.044 124.954Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M146.303 122.412C146.184 122.412 146.068 122.372 145.975 122.297C145.87 122.209 145.804 122.083 145.792 121.947C145.779 121.811 145.821 121.675 145.907 121.569L153.774 111.982C153.861 111.876 153.915 111.747 153.927 111.61C153.939 111.474 153.909 111.337 153.842 111.217L148.185 101.281C148.123 101.163 148.109 101.024 148.146 100.896C148.183 100.767 148.269 100.657 148.385 100.59C148.501 100.523 148.639 100.504 148.769 100.535C148.899 100.567 149.012 100.648 149.084 100.762L154.736 110.703C154.907 111.004 154.983 111.35 154.954 111.695C154.925 112.04 154.793 112.368 154.575 112.637L146.724 122.224C146.673 122.286 146.608 122.335 146.535 122.367C146.462 122.4 146.382 122.415 146.303 122.412Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M154.694 106.512C154.603 106.511 154.514 106.486 154.435 106.439C154.357 106.392 154.292 106.326 154.247 106.247C154.181 106.128 154.164 105.988 154.2 105.856C154.236 105.725 154.322 105.613 154.44 105.545L161.651 101.448C161.768 101.394 161.901 101.387 162.024 101.426C162.146 101.465 162.25 101.549 162.315 101.66C162.379 101.771 162.4 101.903 162.374 102.029C162.347 102.154 162.275 102.266 162.171 102.342L154.959 106.444C154.878 106.489 154.787 106.512 154.694 106.512V106.512Z",fill:"#B3B3B3"})),t.a.createElement("g",null,t.a.createElement("path",{d:"M133.227 119.186L169.068 112.653L172.94 133.896C173.089 134.71 172.908 135.549 172.437 136.23C171.966 136.91 171.245 137.376 170.431 137.524L140.727 142.938C139.913 143.087 139.074 142.905 138.393 142.435C137.713 141.964 137.247 141.242 137.099 140.429L133.227 119.186Z",fill:"#ECB22E"}),t.a.createElement("path",{d:"M172.84 133.397C172.677 133.948 172.366 134.444 171.939 134.829C171.512 135.215 170.987 135.475 170.422 135.581L140.718 140.993C140.314 141.068 139.9 141.063 139.498 140.977C139.096 140.891 138.715 140.727 138.377 140.494C138.039 140.26 137.75 139.963 137.527 139.617C137.304 139.272 137.152 138.886 137.079 138.482L133.554 119.13L133.211 119.192L137.079 140.432C137.152 140.836 137.304 141.222 137.527 141.567C137.75 141.912 138.039 142.21 138.377 142.444C138.715 142.677 139.096 142.841 139.498 142.927C139.9 143.013 140.314 143.018 140.718 142.943L170.422 137.53C170.827 137.457 171.213 137.305 171.558 137.082C171.903 136.859 172.201 136.571 172.434 136.232C172.668 135.894 172.832 135.513 172.918 135.111C173.003 134.71 173.009 134.295 172.934 133.891L172.84 133.397Z",fill:"#B18523"}),t.a.createElement("path",{d:"M138.436 141.295L134.568 120.06L169.258 113.738L169.06 112.667L133.205 119.192L137.074 140.432C137.177 140.985 137.429 141.5 137.801 141.922C138.174 142.344 138.654 142.657 139.19 142.828C138.798 142.399 138.536 141.867 138.436 141.295V141.295Z",fill:"#F4D182"})),t.a.createElement("g",{className:"prudent_pigeon__hat"},t.a.createElement("path",{d:"M163.362 25.0323C163.229 22.632 163.229 20.2263 163.362 17.826C163.393 17.306 175.57 12.8242 183.203 20.1813L180.676 30.3408L163.362 25.0323Z",fill:"#06AF72"}),t.a.createElement("path",{d:"M165.556 25.0326C165.423 22.6323 165.423 20.2265 165.556 17.8263C165.556 17.5559 168.816 16.2353 173.001 16.0273C167.802 15.7621 163.398 17.5091 163.377 17.8263C163.245 20.2265 163.245 22.6323 163.377 25.0326L180.676 30.3411L180.832 29.7224L165.556 25.0326Z",fill:"#058356"}),t.a.createElement("path",{d:"M163.362 25.0318C163.362 25.0318 188.636 23.5916 188.501 28.1254C188.365 32.6593 180.41 31.4114 163.362 25.0318Z",fill:"#4A154B"}),t.a.createElement("path",{d:"M174.909 23.2381C176.348 23.2381 177.514 22.0718 177.514 20.6332C177.514 19.1946 176.348 18.0283 174.909 18.0283C173.471 18.0283 172.305 19.1946 172.305 20.6332C172.305 22.0718 173.471 23.2381 174.909 23.2381Z",fill:"white"})))))}o(c,"PrudentPigeonLight"),c.displayName="PrudentPigeonLight";var r=c;function f(u){let{handleMouseEnterOrClick:b}=u;return t.a.createElement("div",{onMouseEnter:b,onClick:b,role:"presentation",className:"p-prudent_pigeon_animation p-message_pane_modal_pigeon__header_image--dark"},t.a.createElement("svg",{width:"280",height:"180",viewBox:"0 0 280 180",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M124.075 163.98C157.365 163.98 184.351 162.588 184.351 160.871C184.351 159.154 157.365 157.762 124.075 157.762C90.7857 157.762 63.7991 159.154 63.7991 160.871C63.7991 162.588 90.7857 163.98 124.075 163.98Z",fill:"black"}),t.a.createElement("g",{className:"prudent_pigeon__body"},t.a.createElement("path",{d:"M163.258 114.191L158.349 88.8339L162.764 88.002L167.672 113.359L163.258 114.191Z",fill:"#B18523"}),t.a.createElement("g",{className:"prudent_pigeon__base"},t.a.createElement("path",{d:"M129.727 141.873L125.944 144.297L135.639 159.426L139.421 157.003L129.727 141.873Z",fill:"#A81644"}),t.a.createElement("path",{d:"M160.367 160.871H126.509C125.859 160.869 125.236 160.61 124.777 160.15C124.318 159.69 124.06 159.067 124.06 158.417V158.417C124.059 157.787 124.3 157.182 124.734 156.726C125.168 156.27 125.76 155.999 126.389 155.968L158.823 154.377C159.354 154.351 159.886 154.433 160.385 154.618C160.884 154.804 161.34 155.089 161.725 155.456C162.111 155.823 162.418 156.265 162.628 156.754C162.837 157.243 162.946 157.77 162.946 158.302V158.302C162.938 158.983 162.663 159.633 162.181 160.113C161.699 160.593 161.047 160.865 160.367 160.871Z",fill:"#A81644"}),t.a.createElement("path",{d:"M117.819 141.87L114.037 144.294L123.731 159.424L127.514 157L117.819 141.87Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M148.455 160.871H114.602C114.28 160.871 113.961 160.807 113.663 160.684C113.365 160.561 113.095 160.38 112.867 160.152C112.639 159.924 112.458 159.654 112.335 159.356C112.211 159.058 112.148 158.739 112.148 158.417V158.417C112.147 157.787 112.389 157.182 112.822 156.726C113.256 156.27 113.849 155.999 114.477 155.968L146.916 154.377C147.448 154.351 147.979 154.433 148.478 154.618C148.977 154.804 149.433 155.089 149.819 155.456C150.204 155.823 150.511 156.265 150.721 156.754C150.931 157.243 151.039 157.77 151.039 158.302V158.302C151.031 158.984 150.756 159.635 150.272 160.115C149.789 160.595 149.136 160.867 148.455 160.871Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M184.273 49.6835C185.008 46.8069 183.649 43.975 181.237 43.3584C178.825 42.7418 176.273 44.5739 175.538 47.4505C174.802 50.3272 176.162 53.159 178.574 53.7757C180.986 54.3923 183.537 52.5602 184.273 49.6835Z",fill:"white"}),t.a.createElement("path",{d:"M183.608 49.3495C184.076 47.5189 183.56 45.806 182.456 45.5237C181.351 45.2413 180.077 46.4964 179.609 48.327C179.141 50.1576 179.657 51.8705 180.761 52.1528C181.866 52.4352 183.14 51.1801 183.608 49.3495Z",fill:"black"}),t.a.createElement("path",{d:"M132.509 78.8872L158.786 36.2108C160.148 34.0012 162.229 32.3271 164.679 31.4694C167.129 30.6117 169.799 30.6226 172.242 31.5002C175.008 32.4941 177.278 34.5256 178.572 37.1645C179.866 39.8033 180.081 42.8422 179.173 45.6373L149.677 136.517L136.252 142.418C130.843 144.789 125.001 146.013 119.094 146.011C108.819 146.013 98.8874 142.31 91.1218 135.581L85.4025 130.61L132.509 78.8872Z",fill:"#6F839C"}),t.a.createElement("path",{d:"M122.51 145.226C112.234 145.227 102.303 141.522 94.5378 134.791L88.8185 129.826L135.935 78.118L162.213 35.4416C163.495 33.3644 165.416 31.759 167.688 30.8662C165.885 30.981 164.136 31.5262 162.587 32.4562C161.038 33.3862 159.735 34.6738 158.786 36.2112L132.509 78.8875L85.3973 130.595L91.1166 135.566C98.8822 142.295 108.814 145.998 119.089 145.996V145.996C122.877 145.995 126.649 145.491 130.304 144.498C127.734 144.978 125.125 145.221 122.51 145.226V145.226Z",fill:"#8C9CB0"}),t.a.createElement("path",{d:"M163.648 93.4763L166.034 86.1244L135.8 73.542L132.509 78.8869L131.432 80.0672L163.648 93.4763Z",fill:"white"}),t.a.createElement("path",{d:"M120.451 145.975C118.977 146.502 117.465 146.917 115.928 147.217L114.976 145.798C114.976 145.798 119.807 146.027 120.451 145.975Z",fill:"black"}),t.a.createElement("path",{d:"M131.271 144.228C131.271 144.228 130.325 145.548 127.554 146.827L126.618 145.319C128.193 145.068 129.748 144.703 131.271 144.228Z",fill:"black"}),t.a.createElement("path",{d:"M163.085 42.9165C164.143 38.7768 162.184 34.7008 158.709 33.8125C155.234 32.9242 151.56 35.56 150.501 39.6997C149.443 43.8394 151.402 47.9154 154.877 48.8037C158.352 49.692 162.026 47.0562 163.085 42.9165Z",fill:"white"}),t.a.createElement("path",{d:"M159.39 41.3704C159.947 39.1949 158.918 37.053 157.093 36.5864C155.268 36.1199 153.338 37.5053 152.781 39.6809C152.225 41.8565 153.254 43.9983 155.079 44.4649C156.904 44.9314 158.834 43.546 159.39 41.3704Z",fill:"black"})),t.a.createElement("path",{d:"M132.737 81.2965L128.321 82.1221L135.251 119.186L139.666 118.36L132.737 81.2965Z",fill:"#B18523"}),t.a.createElement("path",{d:"M133.881 87.4713C132.494 86.206 130.748 85.4014 128.885 85.168L133.98 112.574C133.98 112.574 136.783 107.801 137.25 105.57L133.881 87.4713Z",fill:"black"}),t.a.createElement("path",{d:"M163.648 93.477L160.85 102.072L161.407 105.02L164.032 94.7093L163.741 93.1807L163.648 93.477Z",fill:"black"}),t.a.createElement("path",{d:"M158.591 70.8004L169.726 74.7535L173.5 62.5H165L158.591 70.8004Z",fill:"black"}),t.a.createElement("g",{className:"prudent_pigeon__envelope"},t.a.createElement("path",{d:"M156.935 52.6255L153.779 68.6603C153.753 68.7952 153.754 68.934 153.781 69.0686C153.809 69.2033 153.863 69.3311 153.94 69.4448C154.018 69.5584 154.117 69.6555 154.232 69.7306C154.347 69.8057 154.476 69.8572 154.611 69.8821L179.241 74.3068C179.511 74.3553 179.791 74.2944 180.017 74.1375C180.243 73.9806 180.397 73.7404 180.447 73.4697L183.228 57.674C183.274 57.407 183.214 57.1325 183.061 56.9092C182.907 56.6858 182.673 56.5312 182.407 56.4782L158.152 51.7988C158.018 51.7731 157.88 51.7742 157.746 51.8018C157.612 51.8295 157.485 51.8833 157.372 51.96C157.259 52.0368 157.163 52.1351 157.088 52.2493C157.013 52.3634 156.961 52.4913 156.935 52.6255V52.6255Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M169.518 64.0426C169.08 64.0431 168.658 63.8777 168.337 63.5798L159.332 55.0685C159.254 54.9705 159.214 54.8476 159.219 54.7223C159.224 54.597 159.274 54.4777 159.36 54.3866C159.446 54.2954 159.562 54.2384 159.687 54.2261C159.812 54.2139 159.937 54.2471 160.039 54.3197L169.045 62.8467C169.144 62.941 169.27 63.0032 169.405 63.0255C169.54 63.0477 169.679 63.0289 169.804 62.9715L180.114 58.0321C180.234 57.991 180.366 57.9955 180.483 58.0446C180.6 58.0938 180.696 58.1843 180.751 58.299C180.806 58.4137 180.817 58.5445 180.782 58.6669C180.747 58.7892 180.669 58.8945 180.561 58.9628L170.251 63.9074C170.019 64.0053 169.769 64.0514 169.518 64.0426V64.0426Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M156.176 68.7123C156.104 68.7128 156.033 68.6983 155.966 68.6696C155.9 68.641 155.841 68.5989 155.791 68.5459C155.7 68.4431 155.653 68.3082 155.661 68.1708C155.668 68.0334 155.73 67.9046 155.833 67.8128L162.785 61.5476C162.887 61.4561 163.022 61.4091 163.16 61.4169C163.297 61.4246 163.426 61.4866 163.518 61.5892C163.608 61.6917 163.654 61.8255 163.646 61.9617C163.638 62.0978 163.577 62.2255 163.476 62.3171L156.525 68.5563C156.432 68.6506 156.308 68.7064 156.176 68.7123V68.7123Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M178.533 72.1698C178.435 72.1695 178.339 72.1416 178.257 72.0891C178.174 72.0367 178.108 71.9619 178.065 71.8734L174.488 64.3968C174.449 64.3348 174.423 64.2651 174.412 64.1924C174.402 64.1197 174.407 64.0455 174.427 63.9749C174.447 63.9042 174.482 63.8386 174.529 63.7824C174.577 63.7263 174.636 63.6808 174.702 63.6489C174.768 63.6171 174.84 63.5997 174.914 63.5978C174.987 63.596 175.06 63.6097 175.128 63.6381C175.196 63.6665 175.257 63.709 175.307 63.7627C175.357 63.8164 175.395 63.8801 175.419 63.9496L178.996 71.4315C179.053 71.5551 179.06 71.6963 179.014 71.8246C178.969 71.953 178.874 72.0582 178.752 72.1178C178.684 72.1526 178.609 72.1704 178.533 72.1698V72.1698Z",fill:"#B3B3B3"})),t.a.createElement("g",null,t.a.createElement("path",{d:"M173.287 49.0374L169.518 55.7654C169.463 55.8558 169.382 55.9275 169.286 55.9708C169.189 56.0141 169.082 56.027 168.978 56.0078C168.874 55.9886 168.779 55.9382 168.704 55.8633C168.63 55.7884 168.58 55.6926 168.561 55.5886L167.677 47.9092L173.287 49.0374Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M168.509 49.8284C169.658 49.8284 170.589 48.8973 170.589 47.7487C170.589 46.6001 169.658 45.6689 168.509 45.6689C167.36 45.6689 166.429 46.6001 166.429 47.7487C166.429 48.8973 167.36 49.8284 168.509 49.8284Z",fill:"white"}),t.a.createElement("path",{d:"M172.669 50.7689C173.817 50.7689 174.748 49.8377 174.748 48.6891C174.748 47.5405 173.817 46.6094 172.669 46.6094C171.52 46.6094 170.589 47.5405 170.589 48.6891C170.589 49.8377 171.52 50.7689 172.669 50.7689Z",fill:"white"})),t.a.createElement("g",{className:"prudent_pigeon__wing"},t.a.createElement("path",{d:"M137.469 90.8048C136.856 88.7077 135.5 86.9057 133.656 85.7354C131.811 84.5651 129.603 84.1068 127.445 84.4459L85.3973 130.595L91.1166 135.566L91.1686 135.608C92.9877 137.166 95.1528 138.266 97.4834 138.818C99.8141 139.37 102.243 139.356 104.567 138.779C106.61 138.278 108.6 137.582 110.51 136.7L111.732 136.143C120.178 132.279 127.099 125.716 131.406 117.488L135.618 109.455C138.624 103.712 139.287 97.0269 137.469 90.8048V90.8048Z",fill:"#536275"}),t.a.createElement("path",{d:"M57.3831 122.374L124.455 79.6981C125.633 78.9484 126.969 78.4829 128.358 78.3384C129.747 78.1939 131.15 78.3744 132.458 78.8656C133.765 79.3567 134.94 80.1452 135.89 81.1686C136.84 82.192 137.539 83.4223 137.932 84.7623V84.7623C139.753 90.9876 139.09 97.6767 136.081 103.423L131.869 111.461C127.558 119.687 120.638 126.248 112.195 130.116L110.973 130.673C106.627 132.664 101.902 133.694 97.1218 133.694V133.694C85.8611 133.692 74.7553 131.07 64.683 126.035L57.3831 122.374Z",fill:"#B1BDC9"}),t.a.createElement("path",{d:"M63.4663 125.323L130.538 82.6416C132.154 81.6098 134.059 81.1267 135.971 81.2637C134.545 79.6854 132.606 78.6629 130.498 78.3774C128.39 78.0919 126.249 78.5618 124.455 79.7039L57.3831 122.38L64.6622 126.02C65.6656 126.54 66.6847 126.992 67.7142 127.45L63.4663 125.323Z",fill:"#858E97"}),t.a.createElement("path",{d:"M110.51 128.432C108.363 126.014 109.2 121.376 109.699 119.801L110.786 116.437L107.37 117.347C103.975 118.251 101.468 118.023 99.9347 116.655C97.5585 114.544 97.6469 109.854 97.8809 108.232L98.2605 105.664L95.692 106.043C92.6192 106.501 88.6156 106.605 87.009 104.509C86.8416 104.288 86.7019 104.047 86.5931 103.792L83.3227 105.872C83.5017 106.212 83.7086 106.538 83.9414 106.844C85.8496 109.335 89.2032 110.432 93.9242 110.109C93.9242 112.756 94.4441 116.931 97.3662 119.525C99.3679 121.309 102.046 122.016 105.404 121.641C105.072 124.303 105.15 128.182 107.619 131C107.848 131.263 108.095 131.51 108.358 131.739C109.242 131.421 110.115 131.078 110.957 130.699L112.179 130.142L112.73 129.872C111.876 129.597 111.11 129.1 110.51 128.432V128.432Z",fill:"#D0D7DF"}),t.a.createElement("path",{d:"M124.439 119.229C122.292 116.806 123.129 112.168 123.628 110.593L124.715 107.229L121.299 108.139C117.904 109.049 115.398 108.815 113.864 107.452C111.488 105.342 111.576 100.652 111.784 99.0295L112.164 96.461L109.595 96.8406C106.522 97.2981 102.519 97.4021 100.912 95.2808C100.802 95.1367 100.705 94.9836 100.621 94.8232L97.3662 96.903C97.5123 97.1508 97.672 97.3903 97.8446 97.6205C99.7527 100.111 103.101 101.208 107.827 100.891C107.827 103.532 108.347 107.712 111.269 110.302C113.271 112.09 115.949 112.797 119.308 112.418C118.975 115.085 119.053 118.959 121.522 121.751C121.937 122.214 122.4 122.631 122.905 122.993C123.878 122.104 124.814 121.179 125.698 120.207C125.227 119.953 124.801 119.623 124.439 119.229V119.229Z",fill:"#D0D7DF"}),t.a.createElement("path",{d:"M100.938 95.3072C100.828 95.163 100.731 95.01 100.647 94.8496L97.7925 96.6642L97.3922 96.919C97.5382 97.1668 97.6979 97.4063 97.8705 97.6365C99.0341 99.0867 100.657 100.097 102.472 100.501L107.91 97.0385C105.202 97.2621 102.259 97.0281 100.938 95.3072Z",fill:"#9CA1A7"}),t.a.createElement("path",{d:"M87.009 104.509C86.8416 104.288 86.7019 104.047 86.5931 103.792L83.3227 105.872C83.5017 106.212 83.7086 106.538 83.9414 106.844C85.0152 108.194 86.4958 109.162 88.1633 109.605L93.3627 106.288C90.8462 106.423 88.2309 106.106 87.009 104.509Z",fill:"#9CA1A7"})),t.a.createElement("g",{className:"prudent_pigeon__envelope_back"},t.a.createElement("path",{d:"M139.357 129.383L155.637 127.964C155.773 127.952 155.906 127.912 156.028 127.848C156.149 127.784 156.257 127.697 156.345 127.591C156.432 127.485 156.498 127.363 156.538 127.231C156.578 127.1 156.591 126.962 156.578 126.825L154.009 101.926C153.979 101.653 153.843 101.403 153.629 101.231C153.416 101.059 153.143 100.978 152.871 101.005L136.924 102.716C136.655 102.746 136.407 102.88 136.236 103.09C136.064 103.3 135.98 103.569 136.004 103.839L138.234 128.442C138.259 128.716 138.392 128.968 138.602 129.144C138.812 129.321 139.084 129.407 139.357 129.383Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M140.558 126.685C140.477 126.687 140.396 126.667 140.325 126.628C140.204 126.565 140.114 126.457 140.072 126.328C140.03 126.199 140.041 126.058 140.101 125.937L145.82 114.914C145.882 114.792 145.906 114.654 145.89 114.518C145.873 114.381 145.816 114.253 145.727 114.15L138.12 105.617C138.064 105.569 138.019 105.509 137.988 105.442C137.957 105.375 137.941 105.302 137.94 105.228C137.939 105.154 137.955 105.081 137.985 105.013C138.015 104.946 138.059 104.885 138.114 104.836C138.169 104.787 138.234 104.75 138.305 104.728C138.375 104.706 138.45 104.699 138.523 104.708C138.597 104.717 138.667 104.742 138.73 104.78C138.794 104.819 138.848 104.87 138.889 104.931L146.496 113.463C146.725 113.723 146.871 114.046 146.915 114.39C146.958 114.734 146.898 115.083 146.741 115.392L141.021 126.41C140.977 126.494 140.91 126.564 140.828 126.612C140.747 126.661 140.653 126.686 140.558 126.685V126.685Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M146.011 111.222C145.939 111.222 145.867 111.207 145.801 111.177C145.735 111.148 145.675 111.105 145.627 111.051C145.537 110.948 145.491 110.814 145.499 110.678C145.506 110.542 145.567 110.414 145.668 110.323L151.861 104.806C151.965 104.73 152.094 104.696 152.223 104.71C152.351 104.724 152.47 104.785 152.555 104.882C152.641 104.979 152.688 105.104 152.686 105.233C152.685 105.362 152.635 105.486 152.547 105.581L146.355 111.092C146.26 111.176 146.138 111.222 146.011 111.222V111.222Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M155.089 128.146C154.994 128.147 154.9 128.12 154.819 128.068L146.869 123.128C146.801 123.098 146.741 123.053 146.692 122.998C146.643 122.942 146.606 122.876 146.584 122.805C146.563 122.734 146.557 122.659 146.566 122.586C146.576 122.512 146.602 122.441 146.641 122.378C146.68 122.315 146.733 122.261 146.795 122.22C146.857 122.179 146.927 122.152 147 122.14C147.073 122.129 147.148 122.133 147.22 122.152C147.292 122.172 147.358 122.207 147.415 122.255L155.365 127.194C155.457 127.256 155.526 127.345 155.564 127.448C155.602 127.552 155.605 127.665 155.575 127.771C155.544 127.876 155.481 127.97 155.393 128.037C155.306 128.105 155.2 128.143 155.089 128.146V128.146Z",fill:"#B3B3B3"})),t.a.createElement("g",{className:"prudent_pigeon__envelope_back"},t.a.createElement("path",{d:"M146 104L144.368 123.559L142.5 124L146 104Z",fill:"black"}),t.a.createElement("path",{d:"M144.457 124.782L160.674 126.82C160.81 126.837 160.948 126.826 161.08 126.789C161.213 126.752 161.336 126.689 161.444 126.604C161.552 126.519 161.642 126.414 161.708 126.294C161.775 126.174 161.818 126.042 161.833 125.905L164.521 101.021C164.549 100.748 164.468 100.476 164.295 100.262C164.123 100.049 163.873 99.9125 163.601 99.8823L147.649 98.2237C147.38 98.1972 147.11 98.2769 146.899 98.4459C146.687 98.6148 146.55 98.8597 146.516 99.1284L143.557 123.659C143.534 123.926 143.614 124.192 143.781 124.401C143.949 124.611 144.191 124.747 144.457 124.782V124.782Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M160.044 124.954C159.911 124.953 159.782 124.901 159.686 124.808L152.927 118.314C152.845 118.215 152.803 118.09 152.808 117.963C152.813 117.835 152.865 117.714 152.953 117.622C153.042 117.53 153.161 117.474 153.289 117.464C153.416 117.455 153.543 117.493 153.644 117.57L160.403 124.064C160.499 124.162 160.552 124.292 160.552 124.428C160.552 124.564 160.499 124.695 160.403 124.792C160.309 124.891 160.181 124.949 160.044 124.954Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M146.303 122.412C146.184 122.412 146.068 122.372 145.975 122.297C145.87 122.209 145.804 122.083 145.792 121.947C145.779 121.811 145.821 121.675 145.907 121.569L153.774 111.982C153.861 111.876 153.915 111.747 153.927 111.61C153.939 111.474 153.909 111.337 153.842 111.217L148.185 101.281C148.123 101.163 148.109 101.024 148.146 100.896C148.183 100.767 148.269 100.657 148.385 100.59C148.501 100.523 148.639 100.504 148.769 100.535C148.899 100.567 149.012 100.648 149.084 100.762L154.736 110.703C154.907 111.004 154.983 111.35 154.954 111.695C154.925 112.04 154.793 112.368 154.575 112.637L146.724 122.224C146.673 122.286 146.608 122.335 146.535 122.367C146.462 122.4 146.382 122.415 146.303 122.412Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M154.694 106.512C154.603 106.511 154.514 106.486 154.435 106.439C154.357 106.392 154.292 106.326 154.247 106.247C154.181 106.128 154.164 105.988 154.2 105.856C154.236 105.725 154.322 105.613 154.44 105.545L161.651 101.448C161.768 101.394 161.901 101.387 162.024 101.426C162.146 101.465 162.25 101.549 162.315 101.66C162.379 101.771 162.4 101.903 162.374 102.029C162.347 102.154 162.275 102.266 162.171 102.342L154.959 106.444C154.878 106.489 154.787 106.512 154.694 106.512V106.512Z",fill:"#B3B3B3"})),t.a.createElement("g",null,t.a.createElement("path",{d:"M133.227 119.186L169.068 112.653L172.94 133.896C173.089 134.71 172.908 135.549 172.437 136.23C171.966 136.91 171.245 137.376 170.431 137.524L140.727 142.938C139.913 143.087 139.074 142.905 138.393 142.435C137.713 141.964 137.247 141.242 137.099 140.429L133.227 119.186Z",fill:"#ECB22E"}),t.a.createElement("path",{d:"M172.84 133.397C172.677 133.948 172.366 134.444 171.939 134.829C171.512 135.215 170.987 135.475 170.422 135.581L140.718 140.993C140.314 141.068 139.9 141.063 139.498 140.977C139.096 140.891 138.715 140.727 138.377 140.494C138.039 140.26 137.75 139.963 137.527 139.617C137.304 139.272 137.152 138.886 137.079 138.482L133.554 119.13L133.211 119.192L137.079 140.432C137.152 140.836 137.304 141.222 137.527 141.567C137.75 141.912 138.039 142.21 138.377 142.444C138.715 142.677 139.096 142.841 139.498 142.927C139.9 143.013 140.314 143.018 140.718 142.943L170.422 137.53C170.827 137.457 171.213 137.305 171.558 137.082C171.903 136.859 172.201 136.571 172.434 136.232C172.668 135.894 172.832 135.513 172.918 135.111C173.003 134.71 173.009 134.295 172.934 133.891L172.84 133.397Z",fill:"#B18523"}),t.a.createElement("path",{d:"M138.436 141.295L134.568 120.06L169.258 113.738L169.06 112.667L133.205 119.192L137.074 140.432C137.177 140.985 137.429 141.5 137.801 141.922C138.174 142.344 138.654 142.657 139.19 142.828C138.798 142.399 138.536 141.867 138.436 141.295V141.295Z",fill:"#F4D182"})),t.a.createElement("g",{className:"prudent_pigeon__hat"},t.a.createElement("path",{d:"M163.362 25.0323C163.229 22.632 163.229 20.2263 163.362 17.826C163.393 17.306 175.57 12.8242 183.203 20.1813L180.676 30.3408L163.362 25.0323Z",fill:"#06AF72"}),t.a.createElement("path",{d:"M165.556 25.0326C165.423 22.6323 165.423 20.2265 165.556 17.8263C165.556 17.5559 168.816 16.2353 173.001 16.0273C167.802 15.7621 163.398 17.5091 163.377 17.8263C163.245 20.2265 163.245 22.6323 163.377 25.0326L180.676 30.3411L180.832 29.7224L165.556 25.0326Z",fill:"#058356"}),t.a.createElement("path",{d:"M163.362 25.0318C163.362 25.0318 188.636 23.5916 188.501 28.1254C188.365 32.6593 180.41 31.4114 163.362 25.0318Z",fill:"#4A154B"}),t.a.createElement("path",{d:"M174.909 23.2381C176.348 23.2381 177.514 22.0718 177.514 20.6332C177.514 19.1946 176.348 18.0283 174.909 18.0283C173.471 18.0283 172.305 19.1946 172.305 20.6332C172.305 22.0718 173.471 23.2381 174.909 23.2381Z",fill:"white"}))),t.a.createElement("g",{fill:"#b1b1b1",className:"prudent_pigeon__starfield"},t.a.createElement("path",{className:"prudent_pigeon__moon prudent_pigeon__star--pink",d:"m227.501 30.2019c-1.496-.9577-3.159-1.6059-4.896-1.908 1.573 2.2389 2.463 4.9084 2.556 7.6688.094 2.7604-.614 5.4869-2.032 7.8328-1.418 2.3458-3.483 4.2049-5.931 5.3407-2.449 1.1358-5.171 1.497-7.82 1.0376 1.171 1.6679 2.686 3.0483 4.438 4.0421 1.751.9938 3.695 1.5762 5.691 1.7054 1.997.1292 3.996-.1981 5.855-.9584 1.858-.7602 3.53-1.9345 4.895-3.4383 1.364-1.5039 2.388-3.3 2.997-5.2592.609-1.9591.788-4.0327.525-6.0716-.264-2.0389-.964-3.9924-2.049-5.72-1.085-1.7277-2.53-3.1866-4.229-4.2719z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m76.4083 34.0076c2.8991 0 5.2492-2.4165 5.2492-5.3973 0-2.9809-2.3501-5.3974-5.2492-5.3974s-5.2492 2.4165-5.2492 5.3974c0 2.9808 2.3501 5.3973 5.2492 5.3973z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m102.609 44.9104c1.253 0 2.269-1.0445 2.269-2.3331s-1.016-2.3332-2.269-2.3332-2.269 1.0446-2.269 2.3332 1.016 2.3331 2.269 2.3331z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--pink",d:"m45.6086 52.2005c.8883 0 1.6085-.7405 1.6085-1.654 0-.9134-.7202-1.6539-1.6085-1.6539-.8884 0-1.6086.7405-1.6086 1.6539 0 .9135.7202 1.654 1.6086 1.654z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--pink",d:"m82.4441 68.1647c2.0608 0 3.7315-1.7178 3.7315-3.8367 0-2.119-1.6707-3.8368-3.7315-3.8368s-3.7315 1.7178-3.7315 3.8368c0 2.1189 1.6707 3.8367 3.7315 3.8367z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--pink",d:"m118.765 22.6735c2.061 0 3.731-1.7178 3.731-3.8368 0-2.1189-1.67-3.8367-3.731-3.8367s-3.732 1.7178-3.732 3.8367c0 2.119 1.671 3.8368 3.732 3.8368z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--pink",d:"m200.302 64.095c.888 0 1.609-.7405 1.609-1.6539 0-.9135-.721-1.654-1.609-1.654s-1.609.7405-1.609 1.654c0 .9134.721 1.6539 1.609 1.6539z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m221.637 78.8336c2.061 0 3.731-1.7177 3.731-3.8367s-1.67-3.8367-3.731-3.8367-3.732 1.7177-3.732 3.8367 1.671 3.8367 3.732 3.8367z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m245.352 44.2239c.888 0 1.608-.7405 1.608-1.6539 0-.9135-.72-1.654-1.608-1.654-.889 0-1.609.7405-1.609 1.654 0 .9134.72 1.6539 1.609 1.6539z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m203.751 25.6175c.888 0 1.608-.7405 1.608-1.654 0-.9134-.72-1.6539-1.608-1.6539-.889 0-1.609.7405-1.609 1.6539 0 .9135.72 1.654 1.609 1.654z"}))))}o(f,"PrudentPigeonDark"),f.displayName="PrudentPigeonDark";var l=f;function p(u){let{theme:b="light"}=u;const v=b==="dark",[d,m]=Object(n.useState)(!0),g=Object(a.default)("p-message_pane_modal_pigeon__header",{"p-message_pane_modal_pigeon__header--dark":v,on:d}),O=o(()=>{m(!1),setTimeout(()=>{m(!0)},10)},"handleMouseEnterOrClick");return t.a.createElement(i.i,{className:g},v?t.a.createElement(l,{handleMouseEnterOrClick:O}):t.a.createElement(r,{handleMouseEnterOrClick:O}))}o(p,"MessagePaneModalPigeon"),p.displayName="MessagePaneModalPigeon";var h=s.a=p},"9qQi":function(w,s,e){"use strict";e.d(s,"b",function(){return a}),e.d(s,"c",function(){return i}),e.d(s,"e",function(){return c}),e.d(s,"a",function(){return r}),e.d(s,"d",function(){return f});var n=e("gvAg");const t=o(l=>{var p;return l==null||(p=l.workflowBuilder)===null||p===void 0?void 0:p.sidebar},"selectSidebarState"),a=o(l=>{var p;return(p=t(l))===null||p===void 0?void 0:p.content},"selectSidebarContent"),i=o(l=>Boolean(a(l)),"selectSidebarIsOpen"),c=o(l=>{var p;return!(!((p=t(l))===null||p===void 0)&&p.defaultOpen)},"selectUserOpenedSidebar"),r=o(l=>{var p;return(p=t(l))===null||p===void 0?void 0:p[n.a.StepLibrary].insertAfterStepId},"selectSidebarAfterStepId"),f=o(l=>t(l).refocus,"selectSidebarRefocus")},"9rmJ":function(w,s,e){"use strict";e.d(s,"a",function(){return h}),e.d(s,"b",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("gPPH"),i=e("P8PK");const c={},r={},f={},l={},p=o(()=>Object(a.a)(),"getFormRevision"),h=o((b,v,d)=>{const m=Object(n.useRef)(!1),g=Object(n.useRef)(!1),[O,E]=Object(n.useState)(!1),y=Object(i.a)(),C=Object(n.useCallback)(()=>{m.current=!0},[]),I=Object(n.useCallback)(()=>{m.current=!1,g.current&&E(!0)},[]),j=Object(n.useCallback)(()=>{g.current=!0,r[y]=!1,f[y]=v&&Boolean(d),Object.values(l).forEach(T=>T==null?void 0:T(p(),y,!0)),m.current||E(!0)},[y,v,d]);return Object(n.useEffect)(()=>(window.addEventListener("mousedown",C),window.addEventListener("mouseup",I),c[y]=j,r[y]=v&&!g.current,f[y]=v&&Boolean(d),Object.values(l).forEach(T=>T==null?void 0:T(p(),y,g.current)),()=>{window.removeEventListener("mousedown",C),window.removeEventListener("mouseup",I),c[y]&&delete c[y],r[y]&&delete r[y],f[y]&&delete f[y]}),[I,C,j,y,v,d]),{onBlur:j,errorText:v&&O?b:void 0,okayToDisplay:O}},"useErrorOnBlur"),u=o(b=>{const v=Object(n.useRef)(!0),d=Object.keys(c).length,m=Object.values(r).some(I=>I),g=Object.values(f).some(I=>I),O=v.current&&d>0&&m,E=!O&&g,y=Object(i.a)();return Object(n.useEffect)(()=>(b&&(l[y]=(I,j,M)=>{if(!v.current&&!M){var T;(T=c[j])===null||T===void 0||T.call(c)}b(I)}),()=>{l[y]&&delete l[y]}),[b,y]),{onSubmit:Object(n.useCallback)(()=>{v.current&&(v.current=!1),O&&Object.values(c).forEach(I=>I==null?void 0:I())},[v,O]),shouldEnableSaveForInitialSubmit:O,hasBlockingError:E}},"useErrorVisibilityOnInitialSubmit")},"9wj1":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),i=e("3l96"),c=e("+kJ4"),r=e("T1zM"),f=e("nNoG"),l=e("YUBf"),p=e("3V+Q"),h=e("Ws5+"),u=e("qDEp"),b=e("Tevt");const v=new f.b("message"),d=o(E=>{let{url:y,text:C,onClose:I,updateSuppressLinkWarning:j}=E;const[M,T]=Object(n.useState)(!1),D=C.length>25?`${C.substr(0,25)}\u2026`:C,S=y.length>50?`${y.substr(0,50)}\u2026`:y,A=v.t("Double-check this link"),P=v.rt("The link <label></label> is taking you to another site: <url></url>. Are you sure you want to continue?",null,x=>{let{tag:H}=x;return H==="label"?t.a.createElement(b.a,{href:y,onClick:I},D):t.a.createElement(b.a,{href:y,onClick:I},S)}),N=v.t("Continue"),G=v.t("Don\u2019t show this again"),V=Object(n.useCallback)(x=>{T(x.target.checked)},[]),k=Object(n.useCallback)(()=>{M&&j(),I()},[I,M,j]);return t.a.createElement(l.a,{closeModal:I,isOpen:!0,centered:!0},t.a.createElement(l.i,null,t.a.createElement(l.l,{title:A})),t.a.createElement(l.d,null,t.a.createElement(l.e,null,t.a.createElement("p",{className:"break_word"},P),t.a.createElement("p",null,t.a.createElement(p.b,{text:G,type:"inline",cursor:"pointer",className:"normal"},t.a.createElement(h.a,{id:"suppress_link_warning",name:"suppress_link_warning",value:M.toString(),checked:!!M,onChange:V}))))),t.a.createElement(l.g,null,t.a.createElement(l.h,null,t.a.createElement(l.c,{type:"outline"},"Cancel"),t.a.createElement(u.f,{type:"danger",href:y,onClick:k},N))))},"SuspiciousLinkWarning");d.displayName="SuspiciousLinkWarning";var m=d;const g=Object(a.c)("Display a warning when clicking a suspicious link",(E,y,C)=>{let{text:I,url:j}=C;const M=t.a.createElement(m,{text:I,url:j,onClose:()=>{E(Object(c.a)())},updateSuppressLinkWarning:()=>{E(Object(r.f)({pref:"suppress_link_warning",value:!0}))}});E(Object(i.a)({element:M}))});g.meta={name:"createThunk",key:"createThunkopenSuspiciousLinkDialog",description:"Display a warning when clicking a suspicious link"};var O=s.a=g},"A/zn":function(w,s,e){"use strict";e.d(s,"g",function(){return u}),e.d(s,"d",function(){return m}),e.d(s,"c",function(){return O}),e.d(s,"e",function(){return y}),e.d(s,"h",function(){return C}),e.d(s,"a",function(){return j}),e.d(s,"i",function(){return T}),e.d(s,"f",function(){return S}),e.d(s,"b",function(){return A});var n=e("gPPH"),t=e("Qm7m"),a=e("XIp8"),i=e("417x"),c=e("UrBK"),r=e("DzIv"),f=e("g/Lm");const l=new Map([[c.a.ReactionAdded,{read:(P,N)=>{var G,V;if(!((G=P.filter)===null||G===void 0)&&G.root&&"inputs"in P.filter.root){var k,x;return(k=P.filter)===null||k===void 0||(x=k.root)===null||x===void 0?void 0:x.inputs.map(W=>W.statement.split(" == ")[1].replace(/'/g,""))}if(!((V=P.filter)===null||V===void 0)&&V.root&&"statement"in P.filter.root){var H,R;return[(H=P.filter)===null||H===void 0||(R=H.root)===null||R===void 0?void 0:R.statement.split(" == ")[1].replace(/'/g,"")]}return[]},write:(P,N,G)=>{if(Array.isArray(P)&&P.length)return{version:1,root:P.length===1?{statement:`{{data.${G}}} == '${P[0]}'`}:{operator:"OR",inputs:P.map(V=>({statement:`{{data.${G}}} == '${V}'`}))}}}}],[c.a.ChannelCreated,{read:(P,N)=>{var G,V;if(!((G=P.filter)===null||G===void 0)&&G.root&&"inputs"in P.filter.root){var k,x;return(k=P.filter)===null||k===void 0||(x=k.root)===null||x===void 0?void 0:x.inputs.map(W=>W.statement.split(" CONTAINS ")[1].replace(/'/g,""))}if(!((V=P.filter)===null||V===void 0)&&V.root&&"statement"in P.filter.root){var H,R;return(H=P.filter)===null||H===void 0||(R=H.root)===null||R===void 0?void 0:R.statement.split(" CONTAINS ")[1].replace(/'/g,"")}return""},write:(P,N,G)=>{if(P)return{version:1,root:{statement:`{{data.${G}}} CONTAINS '${P}'`}}}}],[c.a.ListRecordUpdated,{read:f.b,write:f.c}]]);var p=e("AHZv"),h;const u=o(P=>{var N;return(h=P==null||(N=P.config)===null||N===void 0?void 0:N.name)!==null&&h!==void 0?h:""},"getTriggerName"),b=o(P=>Object(r.a)(P),"getTriggerInputParameters"),v=o(P=>{var N;return P==null||(N=P.config)===null||N===void 0?void 0:N.inputs},"getConfiguredInputs"),d=o(P=>{var N;return P==null||(N=P.config)===null||N===void 0?void 0:N.event},"getConfiguredEvent"),m=o(P=>{var N,G;return P==null||(N=P.config)===null||N===void 0||(G=N.event)===null||G===void 0?void 0:G.eventType},"getEventType");var g;const O=o(P=>{var N,G;return(g=P==null||(N=P.config)===null||N===void 0||(G=N.event)===null||G===void 0?void 0:G.channelIds)!==null&&g!==void 0?g:[]},"getChannels");var E;const y=o(P=>{var N,G;return(E=P==null||(N=P.config)===null||N===void 0||(G=N.event)===null||G===void 0?void 0:G.listId)!==null&&E!==void 0?E:""},"getListId"),C=o((P,N)=>{var G,V;return(V=(G=l.get(P.eventType))===null||G===void 0?void 0:G.read(P,N))!==null&&V!==void 0?V:null},"getValueFromFilter"),I=o(function(P){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{eventType:G,event:V,channelIds:k,teamIds:x}=Object(i.a)(N),H={eventType:P??G,filter:N==null?void 0:N.filter,teamIds:x,channelIds:k,...V};if(P===c.a.ReactionAdded)return{...H,eventType:c.a.ReactionAdded};if(P===c.a.ListRecordCreated||P===c.a.ListRecordUpdated){const R={...H,listId:k!=null&&k[0]?`F${k==null?void 0:k[0].slice(1)}`:void 0};return delete R.channelIds,R}return{...H}},"createEvent"),j=o(P=>{let{srcData:N={},subtype:G}=P;const V=G??(N==null?void 0:N.event_type);var k,x,H,R;return{id:(k=N.id)!==null&&k!==void 0?k:Object(n.a)(),type:t.SLACK_EVENT,config:{name:(x=N.name)!==null&&x!==void 0?x:"",description:(H=N.description)!==null&&H!==void 0?H:void 0,inputs:(R=N.inputs)!==null&&R!==void 0?R:{},inputParameters:b(V),event:I(V,N)}}},"createSlackEventTrigger"),M=o((P,N,G)=>{var V;return(V=l.get(P.eventType))===null||V===void 0?void 0:V.write(N,P,G)},"setFilterValue"),T=o((P,N,G)=>{const V=Object(a.a)(P),k=d(V),{eventType:x}=k;return x===c.a.ListRecordUpdated&&N.name==="listId"&&(k.filter=void 0),N.isFilter?k.filter=M(k,G,N.name):(N.name==="channelIds"||N.name==="teamIds")&&Array.isArray(G)?k[N.name]=Object(p.b)(G)?G:void 0:(N.name==="metadataEventType"||N.name==="listId")&&typeof G=="string"&&(k[N.name]=G),V},"setConfiguredParameterValue");var D;const S=o(P=>(D=C(P,"reaction"))!==null&&D!==void 0?D:[],"getReactions"),A=o(P=>C(P,"channel_name"),"getChannelNameContains")},AHZv:function(w,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});const n=o(a=>!!a.length,"isNonEmptyArray"),t=o(a=>a.length===0?!1:a.every(i=>typeof i=="string"),"isNonEmptyArrayOfStrings")},ANTO:function(w,s,e){"use strict";e.d(s,"a",function(){return V});var n=e("7EGn"),t=e("F294"),a=e("dmdh"),i=e("xwCZ"),c=e("pu3F"),r=e("Nnn3"),f=e("QLhP"),l=e("P9LH"),p=e("+l5E"),h=e("E3dU"),u=e("GNR7"),b=e("E97Y"),v=e("3vtZ"),d=e("nNoG"),m=e("ejLy");const g=new d.b("huddles");var E=o(k=>{let{msg:x,state:H,roomId:R}=k;var W;const U=Object(h.d)(H,x.channel),_=Object(b.g)(U),B=Object(b.i)(U)||_;let z=g.t("Huddles");const L=Object(v.D)({state:H,roomId:R}),$=Object(u.F)(H,R),Q=Object(u.o)(H,R),K=Object(u.m)(H,R),Z=Q.length+K.length,ne=(W=Object(u.w)(H,R))===null||W===void 0?void 0:W.trim();if(L&&!$)if(ne){var F;z=(F=g.rt("{huddleTopic} is happening",{huddleTopic:ne}).props)===null||F===void 0?void 0:F.children}else if(!B||Z===0)z=g.t("A huddle is happening");else{const Y=Q.slice(0,2),ae=K.slice(0,2);let ee,q;Y.forEach(te=>{ee?q||(q=Object(m.a)(H,te)):ee=Object(m.a)(H,te)}),ae.forEach(te=>{ee?q||(q=te):ee=te}),z=g.t("{participants, plural, =0 {{firstParticipant} is} =1 {{firstParticipant} and {secondParticipant} are} other {{firstParticipant} and # others are}} in the huddle.",{participants:Z-1,firstParticipant:ee,secondParticipant:q})}if(L&&$)if(ne){var J;z=(J=g.rt("You joined {huddleTopic}",{huddleTopic:ne}).props)===null||J===void 0?void 0:J.children}else z=g.t("You joined the huddle");if(!L)if(ne){var X;z=(X=g.rt("{huddleTopic} happened",{huddleTopic:ne}).props)===null||X===void 0?void 0:X.children}else z=g.t("A huddle happened");return z},"HuddleMessageUserName"),y=e("sgFo"),C=e("9Gfp");const I=new d.b("huddles");var M=o(k=>{let{schedule:x,state:H}=k;var R;if(!Object(y.D)(H)||!x)return null;const _=Object(C.a)(H)===x.inviter_user_id;var B;const z=Object(m.a)(H,(B=x.inviter_user_id)!==null&&B!==void 0?B:""),L=I.rt("You scheduled a huddle"),$=I.rt("{memberName} scheduled a huddle",{memberName:z});let Q=_?L:$;const K=x.topic;if(K){const Z=I.rt("You scheduled {huddleTopic}",{huddleTopic:K}),ne=I.rt("{memberName} scheduled {huddleTopic}",{memberName:z,huddleTopic:K});Q=_?Z:ne}return(R=Q.props)===null||R===void 0?void 0:R.children},"ScheduledHuddleUserName");const T=new d.b("huddles");var S=o(k=>{let{schedule:x,state:H}=k;if(!Object(y.D)(H))return"";let W=T.t("A scheduled huddle is canceled");const U=x==null?void 0:x.topic;return U&&(W=T.t("Scheduled huddle {huddleTopic} has been canceled",{huddleTopic:U})),W},"DeleteScheduledHuddleUserName"),A=e("EAKl"),P=e("8gWv"),N=e("JQ3U"),G=e("UIhb");function V(k,x,H){let R=x.user||Object(n.a)(x,"comment.user");const W=x.document_comment;W&&(W.most_recent_editor?R=W.most_recent_editor:W.authors&&W.authors.length>0&&(R=W.authors[0]));const U=x.username;let _=null;const B=x.file||Object(t.a)(x.files),z=H||(B?Object(a.e)(k,B):null);let L=x.bot_id||z&&z.bot_id;if(!L){const X=Object(i.g)(k,R);var $;L=($=Object(r.a)(k,X))!==null&&$!==void 0?$:void 0}let Q=null;L&&(_=Object(f.b)(k,L),Q=_?_.app_id:null);const K=Object(P.a)(k),Z=Object(A.a)(k);if(Object(p.ib)(x)){const X=x.room_id,Y=Object(v.D)({state:k,roomId:X});return{username:E({msg:x,state:k,roomId:X}),isHuddleMsg:!0,isHuddleLive:Y}}if(Z&&(x==null?void 0:x.subtype)==="ai")return{username:"Slack AI",isHuddleMsg:!0};if(K&&Object(N.b)(x))return{username:"Assistant",isAssistantThread:!0};if(K&&(x!=null&&x.thread_ts)&&(x==null?void 0:x.user)==="USLACKBOT"&&Object(N.b)(Object(G.b)(k,x==null?void 0:x.channel,x==null?void 0:x.thread_ts)))return{username:"Assistant",isAssistantThread:!0};if(Object(p.zb)(x)){const X=Object(y.D)(k);var ne;const Y=(ne=x.schedule)!==null&&ne!==void 0?ne:null;return{username:X?M({schedule:Y,state:k}):"Huddle was scheduled",isScheduledHuddleMsg:!0}}if(Object(p.yb)(x)){const X=Object(y.D)(k);var F;const Y=(F=x.schedule)!==null&&F!==void 0?F:null;return{username:X?S({schedule:Y,state:k}):"Scheduled Huddle was deleted",isDeleteScheduledHuddleMsg:!0}}if(Object(p.pb)(x)){var J;return{userId:(J=x.list_edit)===null||J===void 0?void 0:J.created_by,isListEditMsg:!0}}return R===c.Y&&z&&z.bot_id?z.filetype==="email"&&_&&_.name?{...Object(l.G)(z),botId:L,appId:Q}:{...Object(l.G)(z),username:U||z.username,botId:L,appId:Q}:R?{appId:Q,botId:L,userId:R}:{appId:Q,botId:L,username:U}}o(V,"getMsgSenderEntity")},ARYk:function(w,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("dmdh"),c=e("wXOV"),r=e("P9LH"),f=e("6dQg"),l=e("CnKg"),p=e("SDEs"),h=e("yRgB");function u(b,v){let d="";b&&(d=Object(l.i)(b).fileIdOrQuipThreadId);const m=Object(h.a)(v),g=Object(a.c)(C=>Object(f.a)(d)?Object(c.a)(C,d):d),O=Object(a.c)(C=>{if(Object(f.a)(d)){const I=Object(i.e)(C,d);return!Object(r.Yb)(I)}return!1}),E=Object(n.useMemo)(()=>{if(!(!m||!g))return m.docs.get(g)},[m,g]);return Object(p.a)(E,E==null?void 0:E.deleted)||O?void 0:E}o(u,"useQuipDoc")},ASdn:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("zxER"),c=e("nNoG"),r=e("9Gfp"),f=e("se5Z"),l=e("qDEp"),p=e("7nKM"),h=e("oEDn"),u=e("0VB0"),b=e("4ALb"),v=e("RVJP");const d=o(P=>Object(v.d)(P,"file_consistency")==="treatment","isFileConsistencyEnabled");var m=e("2dIn"),g=e("pFNT"),O=e("N8ug"),E=e("xPkT");const y=o(P=>{let{waveformData:N,className:G}=P;return t.a.createElement(O.a,null,V=>{let{width:k,measureRef:x}=V;const H=k-k%3,R=H%6?H:H-3,W=(R+3)/6,U={width:`${R}px`};let _;return k>0&&R>0&&W>0&&(_=t.a.createElement(E.a,{style:U,className:"c-audio_player_scrubber__waveform",data:N.slice(0,W).map(B=>B/100),width:W})),t.a.createElement("div",{className:Object(a.default)("full_width",G),ref:x},_)})},"AudioWaveformContained");y.displayName="AudioWaveformContained";var C=y;const I=o(P=>{let{waveformData:N,userId:G}=P;return t.a.createElement("div",{className:"p-audio_avatar_with_waveform"},t.a.createElement(C,{className:"p-audio_avatar_with_waveform__waveform",waveformData:N}),t.a.createElement(g.c,{size:100,userId:G,isInteractive:!1,className:"p-audio_avatar_with_waveform__avatar"}))},"AudioAvatarWithWaveform");I.displayName="AudioAvatarWithWaveform";var j=I,M=e("i5Ig");const T=new c.b("stories_av");function D(P){let{file:N,msg:G,className:V,ariaLabel:k,useUserAvatarAudioThumb:x,jumpToTimeMs:H,onClick:R,"data-qa":W}=P;const U=Object(i.c)(r.a),_=Object(i.c)(d),B=!N||Object(f.a)(N),z=x&&(N==null?void 0:N.audio_wave_samples)&&(N==null?void 0:N.user),L=H?Object(p.a)(Math.round(H/1e3)):null,$=(G==null?void 0:G.user)||(N==null?void 0:N.user)||U,Q=Object(b.f)($);var K;const Z=(K=N==null?void 0:N.thumb_video_ts)!==null&&K!==void 0?K:N==null?void 0:N.thumb_video,ne={backgroundImage:!B&&Z?`url(${Z})`:void 0,backgroundColor:B&&!z?Object(u.r)(Q,.2):void 0},F=R?l.d:"div";return t.a.createElement(F,{className:Object(a.default)("p-media_file_thumbnail",{"p-media_file_thumbnail--jump-to":!!H},V),"aria-label":k,onClick:R,"data-qa":W},t.a.createElement("div",{className:Object(a.default)("p-media_file_thumbnail__thumb",{"p-media_file_thumbnail__thumb_bottom":_}),style:ne},z&&t.a.createElement(j,{waveformData:(N==null?void 0:N.audio_wave_samples)||M.a,userId:(N==null?void 0:N.user)||""}),B&&!z&&t.a.createElement(m.a,{color:Q,className:"p-media_file_thumbnail__audio_waves"})),t.a.createElement("div",{className:Object(a.default)("p-media_file_thumbnail__overlay",{"p-media_file_thumbnail__overlay_inverted":_})}),t.a.createElement(h.a,{className:"p-media_file_thumbnail__play_icon",type:"play-filled"}),!!H&&t.a.createElement("div",{className:"p-media_file_thumbnail__jump_button"},L?T.t("Jump to {time}",{time:L}):`Jump to ${L}`))}o(D,"MediaFileThumbnail"),D.displayName="MediaFileThumbnail";var S=D,A=s.a=S},AcWU:function(w,s,e){"use strict";var n=e("Lgge"),t=e("n3tL"),a=e("Yauy"),i=e("SQ0V"),c=e("THtN"),r=e("E3dU"),f=e("Fqb6");const l=Object(i.c)("Join a channel (if necessary)",function(p,h){let{channelId:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!u)return n.a.reject(new Error('missing required "channelId" param'));const b=h(),v=Object(r.d)(b,u);return Object(a.db)(v)?n.a.resolve():p(Object(c.a)({channelId:u})).tap(d=>{d!=null&&d.channel&&p(Object(f.a)({channel:d.channel,reason:"joinChannel"}))})});l.meta={name:"createThunk",key:"createThunkjoinChannel",description:"Join a channel (if necessary)"},l.propTypes={channelId:t.default.string.isRequired},s.a=l},Afhz:function(w,s,e){"use strict";e.d(s,"c",function(){return n}),e.d(s,"e",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"d",function(){return c}),e.d(s,"f",function(){return r});const n=0,t=1,a=2,i=3,c=4,r=100},AiJP:function(w,s,e){"use strict";var n=e("nNoG");const t=new n.b("productivity_emojis"),a=o(()=>({white_check_mark:{description:t.t('Let others know this task is done with a "{emoji}"',{emoji:t.t("white check mark")}),title:t.t("Completed")},eyes:{description:t.t('Let others know you\u2019re looking into this with "{emoji}"',{emoji:t.t("eyes")}),title:t.t("Taking a look")},raised_hands:{description:t.t('Say good job to someone with "{emoji}"',{emoji:t.t("raised hands")}),title:t.t("Nicely done")},pray:{description:t.t('Show your gratitude with "{emoji}"',{emoji:t.t("pray")}),title:t.t("Thank you")},heavy_plus_sign:{description:t.t('Show you agree with "{emoji}"',{emoji:t.t("heavy plus sign")}),title:t.t("I agree")},clap:{description:t.t('Give a round of applause with "{emoji}"',{emoji:t.t("clap")}),title:t.t("Round of applause")},bulb:{description:t.t('Show you think this is a good idea with "{emoji}"',{emoji:t.t("bulb")}),title:t.t("Great idea")},dart:{description:t.t('Let others know they\u2019re on the right track with "{emoji}"',{emoji:t.t("dart")}),title:t.t("Exactly")},wave:{description:t.t('Say hello with "{emoji}"',{emoji:t.t("wave")}),title:t.t("Hello")},thumbsup:{description:t.t('Express your approval with a "{emoji}"',{emoji:t.t("thumbs up")}),title:t.t("Sounds good")},tada:{description:t.t('Celebrate great work or news with "{emoji}"',{emoji:t.t("tada")}),title:t.t("Celebrate")},one:{description:t.t("Vote for option 1"),title:t.t("Option 1")},two:{description:t.t("Vote for option 2"),title:t.t("Option 2")},three:{description:t.t("Vote for option 3"),title:t.t("Option 3")},mega:{description:t.t('When sharing an important message, use "{emoji}"',{emoji:t.t("mega")}),title:t.t("Announcement")},white_circle:{description:t.t("White circle indicates low importance"),title:t.t("Low priority request")},large_blue_circle:{description:t.t("Blue circle indicates medium importance"),title:t.t("Medium priority request")},red_circle:{description:t.t("Red circle indicates high importance"),title:t.t("Urgent request")}}),"productivityEmojisList");s.a=a},Atrf:function(w,s,e){"use strict";var n=e("8HWa");s.a=n.b},AutL:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("ZKjC");const t=Object(n.b)(i=>{var c;return(c=i.canvasCollections)===null||c===void 0?void 0:c.collections});t.meta={name:"createSelector",key:"createSelectorgetCanvasCollections",description:i=>{var c;return(c=i.canvasCollections)===null||c===void 0?void 0:c.collections}};const a=Object(n.b)((i,c)=>i.canvasCollections?i.canvasCollections.collections.indexOf(c)>=0:!1);a.meta={name:"createSelector",key:"createSelectorisCollection",description:(i,c)=>i.canvasCollections?i.canvasCollections.collections.indexOf(c)>=0:!1}},AwEi:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("HiDb"),i=e("yIs4"),c=e("pxG+"),r=e("zmn3"),f=e("fujP"),l=e("ifKl"),p=e("n3tL"),h=e("Cfcg"),u=e("JoR1"),b=e("/XFw"),v=e("9wj1"),d=e("whaK"),m=e("wA9Q"),g=e("RVJP"),O=e("s4P+"),E=e("G5NC"),y=e("AQ1G"),C=e("9Pu8"),I=e("nNoG"),j=e("pDlT"),M=e("K1vi"),T=e("zm5I"),D=e("qzps"),S=e("/qcS"),A=e("nWdO"),P=e("Atrf"),N=e("yH2S"),G=e("B/Zf"),V=e("7UMc"),k=e("gV07"),x=e("rBXw"),H=e("kakQ"),R=e("Pn4H");function W(){return W=Object.assign||function(F){for(var J=1;J<arguments.length;J++){var X=arguments[J];for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(F[Y]=X[Y])}return F},W.apply(this,arguments)}o(W,"_extends");const U=void 0,_="\u2026.,_-",B=/\ue000|\ue001/,z=new I.b("message"),L=Object(O.b)();let $=o(class extends n.PureComponent{componentDidMount(){const{onRender:J}=this.props;J==null||J({isTruncated:this.isTruncated()})}componentDidUpdate(){const{onRender:J}=this.props;J==null||J({isTruncated:this.isTruncated()})}render(){const{text:J,className:X,noJumbomoji:Y,noSpecials:ae,customContentHandler:ee,addDirectionAttr:q,refToForward:te,onMouseEnter:de,onMouseLeave:se,"data-qa":re,experimentTsfSnitchGroupOn:oe}=this.props;if(!J)return null;this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0;const ce=ae?"NOMRKDWN":this.props.tsfMode,ue=this.props.ariaAssertive?"assertive":void 0;let Pe=Object(M.a)(J,ce,{jumbomoji:!Y,allow_intra_word_formatting:!0});B.test(J)&&(Pe=Object(a.a)(Pe,Ke=>Ke.replace(/\ue000/g,"<HIGHLIGHT:START>").replace(/\ue001/g,"<HIGHLIGHT:END>").split(/(<HIGHLIGHT:START>|<HIGHLIGHT:END>)/g).filter(Boolean)));let Ye=Object(y.a)(Pe);ee&&(Ye=ee(Ye));const $e=q?"auto":void 0;return t.a.createElement("span",{className:oe?`c-mrkdwn__snitch ${X||""}`:X,ref:te,"aria-live":ue,dir:$e,"data-qa":re,onMouseEnter:de,onMouseLeave:se},this.renderMrkdwnFormatting(Ye,!0))}constructor(...J){var X;super(...J),X=this,this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0,this.handleUserGroupClick=(Y,ae)=>{const{onUserGroupClick:ee}=this.props;Y.preventDefault(),ee==null||ee(ae)},this.isTruncated=()=>this.numCharactersUsed>=this.props.maxCharacters||this.numNewlinesUsed>=this.props.maxNewlines,this.nextKey=()=>(this.uid+=1,this.uid),this.renderBold=Y=>{let{contents:ae}=Y;const ee=Object(I.m)()==="ja-JP"?"\uFF0A":"*",q=Object(E.a)()?{"data-stringify-type":"bold"}:{"data-stringify-prefix":ee,"data-stringify-suffix":ee,"data-stringify-requires-siblings":!0};return t.a.createElement("b",W({key:this.nextKey()},q),this.renderMrkdwnFormatting(ae))},this.renderChannel=Y=>{let{id:ae="",name:ee=""}=Y;const{noLinking:q,clogLinkClick:te}=this.props;return this.numCharactersUsed+=(ee||ae).length+1,t.a.createElement(G.a,{key:this.nextKey(),id:ae,noLinking:q,clogLinkClick:te})},this.renderCode=Y=>{let{contents:ae}=Y;if(this.props.noCode)return t.a.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(ae));const ee=Object(I.m)()==="ja-JP"?"\uFF40":"`",q=Object(E.a)()?{"data-stringify-type":"code"}:{"data-stringify-prefix":ee,"data-stringify-suffix":ee,"data-stringify-requires-siblings":!0};return t.a.createElement(N.a,{blockType:"code",key:this.nextKey()},t.a.createElement(N.b,null,t.a.createElement("code",W({key:this.nextKey(),className:"c-mrkdwn__code"},q),this.renderMrkdwnFormatting(ae))))},this.renderCommand=Y=>{let{data:ae}=Y;const{type:ee,label:q,...te}=ae,{noHighlights:de,noLinking:se,do24hrTime:re}=this.props;switch(ee){case"here":case"channel":case"everyone":case"group":return this.numCharactersUsed+=ee.length+1,t.a.createElement(V.a,W({},te,{key:this.nextKey(),type:ee,noHighlights:de,noLinking:se}));case"subteam":return this.numCharactersUsed+=(q||ee).length,t.a.createElement(k.a,W({},te,{key:this.nextKey(),fallback:q,noHighlights:de,noLinking:se,onClick:this.handleUserGroupClick}));case"date":return this.numCharactersUsed+=(q||ee).length,t.a.createElement(x.a,W({},te,{key:this.nextKey(),fallback:q,do24hrTime:re}));default:return U}},this.renderEmoji=Y=>{let{name:ae=""}=Y;const{showTooltips:ee,stopAnimations:q,emojiDisplayInfo:te,emojiSize:de=S.a.MEDIUM,isEmojiInlineWithText:se,iconInTextMode:re,sourceTeamId:oe}=this.props;this.numCharactersUsed+=1;const{name:ce=ae,url:ue=void 0}=Object(m.a)(ae,te);return t.a.createElement(S.b,{key:this.nextKey(),text:ce,emojiSize:de,showTooltip:ee,stopAnimations:q,iconInTextMode:re,sourceTeamId:oe,isEmojiInlineWithText:se,url:ue})},this.renderHardSpace=Y=>this.props.customLineEnding?"\xA0":["\xA0",t.a.createElement("wbr",{key:this.nextKey()})],this.renderHex=Y=>{let{color:ae=""}=Y;const{noHexColors:ee}=this.props;return this.numCharactersUsed+=ae.length,ee?null:t.a.createElement("div",{key:this.nextKey(),className:"c-mrkdwn__hex",style:{background:ae}})},this.renderHighlight=Y=>t.a.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__mention"},Y),this.renderHighlightMarkers=Y=>{let{contents:ae}=Y;return t.a.createElement("span",{className:"c-mrkdwn__highlight",key:this.nextKey()},this.renderMrkdwnFormatting(ae))},this.renderHighlights=(Y,ae)=>{let{text:ee=""}=Y;const{highlights:q,noHighlights:te,maxCharacters:de}=this.props,{isLastItem:se}=ae;if(Object(i.a)(de)&&this.numCharactersUsed<de){const Pe=de-this.numCharactersUsed;if(Pe<ee.length||Pe===ee.length&&!se){const Ye=Object(c.a)(Object(c.a)(ee.slice(0,Pe)),_);return this.numCharactersUsed=de,[this.renderHighlights({text:Ye},ae),"\u2026"]}this.numCharactersUsed+=ee.length}if(!ee||!q||te)return Object(j.a)(ee);const re=Object(C.d)(q),oe=Object(C.b)(ee,re),ce=[];let ue=0;if(oe.forEach(Pe=>{let{index:Ye,length:$e}=Pe;const Ke=Object(j.a)(ee.slice(ue,Ye));ce.push(Ke);const qe=Object(j.a)(ee.substr(Ye,$e));ce.push(this.renderHighlight(qe)),ue=Ye+$e}),ue!==ee.length){const Pe=Object(j.a)(ee.slice(ue));ce.push(Pe)}return ce},this.renderItalic=Y=>{let{contents:ae}=Y;const ee=Object(I.m)()==="ja-JP"?"\uFF3F":"_",q=Object(E.a)()?{"data-stringify-type":"italic"}:{"data-stringify-prefix":ee,"data-stringify-suffix":ee,"data-stringify-requires-siblings":!0};return t.a.createElement("i",W({key:this.nextKey()},q),this.renderMrkdwnFormatting(ae))},this.renderJumbomoji=Y=>{let{name:ae}=Y;const{showTooltips:ee,stopAnimations:q,sourceTeamId:te}=this.props;return this.numCharactersUsed+=1,t.a.createElement(S.b,{key:this.nextKey(),text:ae,emojiSize:S.a.LARGE,showTooltip:ee,stopAnimations:q,sourceTeamId:te})},this.renderLineBreak=()=>{const{customLineEnding:Y}=this.props,ae=t.a.createElement("br",{key:this.nextKey()});return this.numNewlinesUsed+=1,Y?[t.a.createElement("span",{key:this.nextKey()},Y),ae]:ae},this.onMaybeOpenSuspiciousLinkDialog=(Y,ae)=>{let{url:ee="",contents:q=[]}=ae;const{onOpenSuspiciousLinkDialog:te,suppressLinkWarningPref:de}=this.props;if(de)return;const se=o(ue=>ue!=null&&ue.text?ue.text:ue!=null&&ue.name?ue.name:ue!=null&&ue.contents?ue.contents.map(se):"","textFromContents"),re=q.map(se).join(""),oe=re.replace(/&amp;/g,"&"),ce=ee.replace(/&amp;/g,"&");Object(D.b)(re,ee)&&(te==null||te({text:oe,url:ce}),Y.preventDefault())},this.renderLink=Y=>{let{url:ae="",contents:ee=[]}=Y;const{doSlackActionLinks:q,noLinking:te,origin:de,memberId:se,clogLinkClick:re,explicitlyRenameBotLink:oe,isFromAppHome:ce}=this.props;return t.a.createElement(H.a,{key:this.nextKey(),url:ae,noLinking:te,doSlackActionLinks:q,origin:de,memberId:se,clogLinkClick:re,explicitlyRenameBotLink:oe,showTooltip:!0,maybeOpenSuspiciousLinkDialog:ue=>{this.onMaybeOpenSuspiciousLinkDialog(ue,{url:ae,contents:ee})},isFromAppHome:ce},this.renderMrkdwnFormatting(ee))},this.renderLongQuotePrefix=()=>Object(E.a)()?null:t.a.createElement("span",{key:this.nextKey(),className:"copy_only"},">>>"),this.renderMember=Y=>{let{id:ae="",fallback:ee}=Y;const{noHighlights:q,noLinking:te,showTooltips:de,clogLinkClick:se,clientTheme:re}=this.props;return this.numCharactersUsed+=ae.length,t.a.createElement(P.a,{key:this.nextKey(),id:ae,fallback:ee,showTooltip:de,noHighlights:q,noLinking:te,clogLinkClick:se,clientTheme:re})},this.renderMrkdwnFormatting=function(Y){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{customFormatHandler:ee}=X.props;return Object(r.a)(Y,(q,te)=>{if(X.isTruncated())return!1;const de=q.type,se=de&&X.FORMAT_HANDLERS[de]||X.renderHighlights,re=o(()=>{const ce=Boolean(ae&&Y&&te===Y.length-1);return se(q,{index:te,isLastItem:ce})},"getDefaultOutput");let oe;try{ee?(oe=ee({item:q,getDefaultOutput:re}),t.a.isValidElement(oe)&&(oe=t.a.cloneElement(oe,{key:X.nextKey()}))):oe=re()}catch(ce){L.error(ce)}return oe===U&&(oe=X.renderUnknownItem(q)),oe})},this.renderParagraphBreak=()=>{const{customLineEnding:Y}=this.props;return Y?this.renderLineBreak():Object(E.a)()?t.a.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br","data-stringify-type":"paragraph-break"}):t.a.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br"},t.a.createElement("i",{className:"copy_only"},t.a.createElement("br",null)))},this.renderPre=(Y,ae)=>{let{contents:ee}=Y,{index:q}=ae;if(this.props.noCode)return this.renderUnformattedBlock({contents:ee,index:q});const te=Object(I.m)()==="ja-JP"?"\uFF40\uFF40\uFF40":"```",de=Object(E.a)()?{"data-stringify-type":"pre"}:{"data-stringify-prefix":te,"data-stringify-suffix":te,"data-stringify-requires-siblings":!0};return t.a.createElement(N.a,{blockType:"codeBlock"},t.a.createElement(N.b,null,t.a.createElement("pre",W({key:this.nextKey(),className:"c-mrkdwn__pre"},de),this.renderMrkdwnFormatting(ee))))},this.renderQuote=(Y,ae)=>{let{contents:ee}=Y,{index:q}=ae;if(this.props.noQuotes)return this.renderUnformattedBlock({contents:ee,index:q});const te={};if(Object(E.a)()&&!Object(f.a)(ee)){const de=(ee==null?void 0:ee[0].type)==="long_quote_prefix"?"blockquote":"quote";te["data-stringify-type"]=de}return t.a.createElement("blockquote",W({key:this.nextKey(),className:"c-mrkdwn__quote"},te),this.renderMrkdwnFormatting(ee))},this.renderQuotePrefix=()=>Object(E.a)()?null:t.a.createElement("span",{key:this.nextKey(),className:"copy_only"},">"),this.renderStrike=Y=>{let{contents:ae}=Y;const ee=Object(E.a)()?{"data-stringify-type":"strike"}:{"data-stringify-prefix":"~","data-stringify-suffix":"~","data-stringify-requires-siblings":!0};return t.a.createElement("strike",W({key:this.nextKey()},ee),this.renderMrkdwnFormatting(ae))},this.renderUnformattedBlock=Y=>{let{contents:ae,index:ee}=Y;const q=t.a.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(ae));if(ee===0)return q;const te=this.renderLineBreak();return this.isTruncated()?te:[te,q]},this.renderUnknownItem=Y=>{let{token:ae}=Y;const{showTooltips:ee}=this.props;return ee?t.a.createElement(A.c,{key:this.nextKey(),tip:z.t("Sorry! This part didn\u2019t render correctly.")},t.a.createElement("code",{className:"sk_primary_foreground"},ae)):t.a.createElement("code",{key:this.nextKey(),className:"sk_primary_foreground"},ae)},this.FORMAT_HANDLERS={bold:this.renderBold,italic:this.renderItalic,strike:this.renderStrike,code:this.renderCode,pre:this.renderPre,quote:this.renderQuote,quote_prefix:this.renderQuotePrefix,long_quote_prefix:this.renderLongQuotePrefix,line_break:this.renderLineBreak,paragraph_break:this.renderParagraphBreak,space_hard:this.renderHardSpace,link:this.renderLink,command:this.renderCommand,member:this.renderMember,channel:this.renderChannel,emoji:this.renderEmoji,jumbomoji:this.renderJumbomoji,hex:this.renderHex,highlight:this.renderHighlightMarkers,unknown:this.renderUnknownItem}}},"BaseMrkdwn");$.displayName="BaseMrkdwn",$.defaultProps={text:"",tsfMode:"NORMAL",highlights:"",emojiMode:"default",emojiDisplayInfo:{},emojiSize:void 0,isEmojiInlineWithText:!0,do24hrTime:!1,suppressLinkWarningPref:!1,noJumbomoji:!1,noLinking:!1,noSpecials:!1,noHighlights:!1,noEmojiText:!1,iconInTextMode:void 0,noHexColors:!1,noCode:!1,noQuotes:!1,preventCopyPaste:!1,transformMissingEmoji:!1,showIconForEmojiInAsTextMode:!1,stopAnimations:!1,customLineEnding:"",showTooltips:!0,doInlineImages:!1,doSlackActionLinks:!1,origin:void 0,memberId:void 0,sourceTeamId:void 0,customFormatHandler:void 0,customContentHandler:void 0,clogLinkClick:l.a,addDirectionAttr:!0,ariaAssertive:void 0,maxCharacters:1/0,maxNewlines:1/0,onRender:l.a,onMouseEnter:l.a,onMouseLeave:l.a,explicitlyRenameBotLink:!1,onUserGroupClick:l.a,onOpenSuspiciousLinkDialog:l.a,clientTheme:"light",refToForward:void 0,"data-qa":void 0,isExpandableStateKnown:!1,isExpanded:!1,experimentTsfSnitchGroupOn:!1,isFromAppHome:!1};const Q=o((F,J)=>{const{emojiMode:X,noHexColors:Y,noJumbomoji:ae}=J,ee=X||Object(d.a)(F),q=Object(b.a)(F);return{emojiMode:ee,noJumbomoji:ae||!q,highlights:Object(u.t)(F,"highlight_words"),noHexColors:Y||Object(u.t)(F,"hide_hex_swatch"),do24hrTime:Object(u.t)(F,"time24"),suppressLinkWarningPref:Object(u.t)(F,"suppress_link_warning"),clientTheme:Object(T.a)(F),experimentTsfSnitchGroupOn:Object(g.d)(F,"tsf_snitch")==="on"}},"mapStateToProps"),K=o(F=>({onUserGroupClick:J=>F(Object(R.a)({groupId:J})),onOpenSuspiciousLinkDialog:J=>{let{text:X,url:Y}=J;return F(Object(v.a)({text:X,url:Y}))}}),"mapDispatchToProps"),Z=Object(h.a)(Q,K)($);Z.propTypes={emojiMode:p.default.string,highlights:p.default.string,noHexColors:p.default.bool,emojiDisplayInfo:p.default.object},Z.defaultProps={emojiMode:void 0,highlights:void 0,noHexColors:!1,emojiDisplayInfo:{}};var ne=s.a=Z},Awek:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return!!(t&&t.attributes&&t.attributes.blockquote)}o(n,"isOpBlockQuoteItem")},AzV5:function(w,s,e){"use strict";var n=e("n3tL"),t=e("SQ0V"),a=e("mM05"),i=e.n(a),c=e("Rw2D"),r=e("9avG");const f=Object(t.c)("Converts message ops array to rich text blocks prepared to be sent as a message",function(l,p){let{msgOps:h,channelId:u,inThread:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=p();if(!h||!h.length)return;const{processedDelta:d}=Object(c.a)(v,{channelId:u,inThread:b,delta:new i.a(h)})||{},m=Object(r.b)({delta:d,state:v});return m&&m.blocks});f.meta={name:"createThunk",key:"createThunkconverMsgOpsToRichTextMessage",description:"Converts message ops array to rich text blocks prepared to be sent as a message"},f.propTypes={msgOps:n.default.array,channelId:n.default.string,inThread:n.default.bool},s.a=f},"B+Mk":function(w,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"d",function(){return a}),e.d(s,"b",function(){return i}),e.d(s,"c",function(){return c}),e.d(s,"e",function(){return r});function n(f){return f&&f.file}o(n,"getPendingFileFileObject");function t(f){return f&&f.percentComplete}o(t,"getPendingFilePercentComplete");function a(f){return f&&f.status}o(a,"getPendingFileStatus");function i(f){return f&&f.pendingFileId}o(i,"getPendingFilePendingFileId");function c(f){return f&&f.persistedFileId}o(c,"getPendingFilePersistedFileId");function r(f){return f&&f.teamId}o(r,"getPendingFileUploadTeamId")},"B/Zf":function(w,s,e){"use strict";var n=e("n3tL"),t=e("q1tI"),a=e.n(t),i=e("BHdc"),c=e("Cfcg"),r=e("ifKl"),f=e("beVI"),l=e("E3dU"),p=e("Yauy"),h=e("oEDn"),u=e("E97Y"),b=e("Tevt"),v=e("Oeqe"),d=e("D3DU"),m=e("yZZd"),g=e("fZDj"),O=e("nWdO"),E=e("Ccc1"),y=e("1DMY"),C=e("tojS"),I=e("BfA7"),j=e("KWBv"),M=e("sjEp"),T=e("hEZF"),D=e("I0j/"),S=e("37+L"),A=e("i9jZ"),P=e("BkpQ"),N=e("djjd"),G=e("5BbJ"),V=e("rZ8V");const k={id:n.default.string.isRequired,channelName:n.default.string,className:n.default.string,fallbackName:n.default.string,noLinking:n.default.bool,isPrivate:n.default.bool,isChannelImOrMpim:n.default.bool,isNonExistent:n.default.bool,isMember:n.default.bool,isUnknown:n.default.bool,isFromAnotherTeam:n.default.bool,team:n.default.object,clogLinkClick:n.default.func,updateChannelLastTrigger:n.default.func,navigate:n.default.func,shouldUseNavigate:n.default.bool,mpimMemberNames:n.default.arrayOf(n.default.string),experimentSummaryDetailGroupOn:n.default.bool,setActiveTile:n.default.func,openTile:n.default.func,tileKey:n.default.string,teamName:n.default.string,channelHasNonUniqueName:n.default.bool},x={channelName:null,className:void 0,fallbackName:null,noLinking:!1,isPrivate:!1,isChannelImOrMpim:!1,isNonExistent:!1,isFromAnotherTeam:!1,team:null,isMember:!1,isUnknown:!1,clogLinkClick:r.a,updateChannelLastTrigger:r.a,navigate:void 0,shouldUseNavigate:!1,mpimMemberNames:[],experimentSummaryDetailGroupOn:!1,setActiveTile:r.a,openTile:r.a,tileKey:void 0,teamName:"",channelHasNonUniqueName:!1};let H=o(class extends t.PureComponent{onClick(B){const{experimentSummaryDetailGroupOn:z,id:L,shouldUseNavigate:$,tileKey:Q}=this.props;if(z&&Q){B.preventDefault(),B.stopPropagation(),this.props.setActiveTile({tile:{view:L}});return}if(Object(A.d)(B)){B.preventDefault(),B.stopPropagation(),this.props.openTile({tile:{view:L}});return}$&&(B.preventDefault(),B.stopPropagation(),this.props.navigate(Object(S.i)(L)))}getTooltipContent(){const{id:B,isChannelImOrMpim:z,mpimMemberNames:L,teamName:$,channelHasNonUniqueName:Q}=this.props;return z?L.join(", "):a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{channelId:B}),Q&&a.a.createElement("br",null),Q&&a.a.createElement("span",{className:"c-member_slug__tooltip_subheader"},$))}clogLinkClick(){this.props.clogLinkClick({item_id:this.props.id,item_type:"C",link_type:"channel",is_member:this.props.isMember}),this.props.updateChannelLastTrigger({source:"MSG_PANE",objId:this.props.id})}render(){const{channelName:B,className:z,fallbackName:L,id:$,isPrivate:Q,isChannelImOrMpim:K,isMember:Z,isNonExistent:ne,isUnknown:F,noLinking:J,isFromAnotherTeam:X,team:Y,shouldUseNavigate:ae,experimentSummaryDetailGroupOn:ee,tileKey:q}=this.props;if(F)return a.a.createElement(g.a,{type:"unknown"});if(ne&&!L)return a.a.createElement(g.a,{type:"non-existent"});if(Q&&!Z)return a.a.createElement(g.a,{type:"non-existent"});const te=Object(d.a)({channelName:B,fallbackName:L,isUnknown:F,isNonExistent:ne,includePrefix:!Q&&!K}),de=te;let se,re;se=!J&&!ne&&(!Q||Q&&Z),Q&&(re=Object(C.a)({channelName:B,isPrivate:Q})),se&&X&&(se=!!Y);const ce=Object(i.default)("c-mrkdwn__channel c-member_slug",{internal_channel_link:se,"c-member_slug--link":se,"c-member_slug--private-channel":Q},z);if(!se)return a.a.createElement("span",{className:ce},Q&&a.a.createElement(h.a,{type:"lock-small"}),de);const ue=X&&Y?Object(v.d)({team:Y,channelId:$}):Object(v.a)({channelId:$}),Pe=ae||ee&&!!q;return a.a.createElement(y.a,{id:$},a.a.createElement(O.c,{tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--channel"},a.a.createElement(b.a,{className:ce,href:ue,clogLinkClick:this.clogLinkClick,"data-channel-name":te,"data-channel-id":$,"data-qa":"channel_link","data-stringify-type":"channel","aria-label":re,onClick:Pe?this.onClick:void 0},Q&&a.a.createElement(h.a,{type:"lock-small"}),de)))}constructor(B){super(B),this.clogLinkClick=this.clogLinkClick.bind(this),this.onClick=this.onClick.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"BaseMrkdwnChannel");H.displayName="BaseMrkdwnChannel",H.propTypes=k,H.defaultProps=x;function R(_,B){let{id:z}=B,L,$,Q,K,Z,ne,F;const J=Object(l.d)(_,z);let X,Y=[],ae,ee;return J?(L=Object(p.t)(_,J,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1,truncateMpimNames:!0}),Z=Object(u.q)(J),$=Object(u.k)(J),K=Object(p.db)(J),X=Object(u.h)(J),Q=Object(u.j)(J),ne=Object(p.X)(J),F=ne?Object(f.s)(_,Object(p.Fb)(_,J)):null,Y=Object(p.H)(_,z),ee=Object(N.a)(Object(l.a)(_),J)&&Object(V.m)(_),ee&&(ae=Object(G.a)(_,{channel:J}))):Q=!0,{channelName:L,id:z,isPrivate:$,isChannelImOrMpim:X,isNonExistent:Q,isMember:K,isUnknown:Z,isFromAnotherTeam:ne,team:F,mpimMemberNames:Y,experimentSummaryDetailGroupOn:Object(M.a)(_),channelHasNonUniqueName:ee,teamName:ae}}o(R,"mapStateToProps");const W={updateChannelLastTrigger:m.b,setActiveTile:T.a,navigate:D.a,openTile:P.a},U=Object(I.a)(Object(j.d)(Object(c.a)(R,W)(H)));U.propTypes={id:n.default.string.isRequired},s.a=U},B0VD:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("ifKl"),c=e("yIs4"),r=e("wKGu"),f=e("BU52"),l=e("xAZW"),p=e("ktUG"),h=e("dZlw"),u=e("Z44y"),b=e("WSQ4"),v=e("mSgU"),d=e("oSkh"),m=e("8c4t"),g=m.a;function O(B){let{textyHasFocus:z,buttons:L,onFormatButtonClick:$=i.a,supportsAnchorText:Q,activeFormats:K,onMouseDown:Z=i.a,overflowVisible:ne,onEscape:F=i.a,isDisabled:J=!1}=B;return t.a.createElement("div",{className:"p-texty_sticky_formatting_bar",onMouseDown:Z},t.a.createElement(d.a,{disableHeight:!0},X=>{let{width:Y}=X;return t.a.createElement(g,{textyHasFocus:z,buttons:L,activeFormats:K,onFormatButtonClick:$,supportsAnchorText:Q,overflowVisible:ne,isSticky:!0,width:Y,onEscape:F,isDisabled:J})}))}o(O,"TextyStickyFormattingBar"),O.displayName="TextyStickyFormattingBar";var E=O,y=e("xWuZ");function C(B){return!!B&&B instanceof Node}o(C,"validateEventTargetIsNode");function I(B,z){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(n.useEffect)(()=>{const $=o(Q=>{!B.current||C(Q.target)&&B.current.contains(Q.target)||L&&Q.which===3||z(Q)},"listener");return document.addEventListener("mousedown",$),document.addEventListener("touchstart",$),()=>{document.removeEventListener("mousedown",$),document.removeEventListener("touchstart",$)}},[B,z,L])}o(I,"useOnClickOutside");var j=e("YnUV"),M=e("wSSu"),T=e("Kcy5"),D=e("w3JV"),S=e("gSGL"),A=e("TQ9f"),P=e("0qhH"),N=e("fR2/"),G=e("dA19");function V(B,z){var L,$,Q,K,Z,ne;if(!((L=B.current)===null||L===void 0)&&L.isInComposition)return!1;const F=($=B.current)===null||$===void 0?void 0:$.getSelection();if(!F||!F.length)return!1;const J=(Q=B.current)===null||Q===void 0||(K=Q.quill)===null||K===void 0?void 0:K.getModule("tabcomplete");if(J&&J.isMenuOpen()||!((Z=B.current)===null||Z===void 0?void 0:Z.getContentsForRange(F.index,F.length)).filter(ee=>!!(Object(G.a)(ee)&&!Object(A.a)(ee)||Object(N.a)(ee)||Object(P.a)(ee)&&Object(S.a)(ee.insert)&&ee.insert.trim()!=="")).length)return!1;const ae=((ne=B.current)===null||ne===void 0?void 0:ne.getFormat(F.index,F.length))||{};return!(ae.imageSrc||!z&&ae["code-block"])}o(V,"shouldToolbarShow");var k=e("1ufr"),x=e("mQiU");const H=t.a.forwardRef((B,z)=>{let{textyRef:L,isEnabled:$,buttons:Q,onFormatButtonClick:K=i.a,supportsAnchorText:Z,activeFormats:ne,toolbarPositionData:F,onMouseDown:J=i.a,openDocsLinkForm:X=i.a,closeDocsLinkForm:Y=i.a,isDocsLinkFormOpen:ae,window:ee,isDisabled:q=!1}=B;const te=Object(a.useDispatch)(),de=Object(n.useRef)(null),[se,re]=Object(n.useState)(!1),{windowId:oe}=Object(n.useContext)(x.a),ce=Object(T.a)(se),ue=Object(n.useCallback)(()=>{se&&(re(!1),te(Object(j.a)({isOpen:!1,windowId:oe})),Y())},[Y,te,se,oe]),Pe=Object(n.useCallback)($e=>{if($e&&$e.length){const Ke=Object(y.a)(Q).includes("code-block"),qe=V(L,Ke);re(qe)}},[Q,L]);Object(n.useEffect)(()=>{var $e;const Ke=($e=L.current)===null||$e===void 0?void 0:$e.quill;return Ke&&Ke.on("selection-change",Pe),()=>{Ke&&Ke.off("selection-change",Pe)}},[L,Pe]),I(de,()=>{ue()},!0),Object(n.useImperativeHandle)(z,()=>({closeToolbar:ue})),Object(n.useEffect)(()=>{(!se||!$)&&Y()},[se,$,Y]),Object(n.useEffect)(()=>{if(se){var $e,Ke;const qe=(($e=de.current)===null||$e===void 0?void 0:$e.offsetWidth)||0,ct=((Ke=de.current)===null||Ke===void 0?void 0:Ke.offsetHeight)||0,{left:Be,top:pe}=Object(D.b)({toolbarHeight:ct,toolbarWidth:qe,toolbarPositionData:F}),{style:fe}=de.current;fe.visibility="visible",fe.pointerEvents="auto",ce?Math.abs(parseInt(fe.top,10)-pe)>=20&&(fe.top=`${pe}px`):(fe.left=`${Be}px`,fe.top=`${pe}px`),!Be&&!pe?(fe.visibility="hidden",fe.pointerEvents="none",te(Object(j.a)({isOpen:!1,windowId:oe}))):te(Object(j.a)({isOpen:!0,windowId:oe}))}},[te,se,ce,de,F,oe]);const Ye=Object(n.useCallback)(()=>{var $e;return L==null||($e=L.current)===null||$e===void 0?void 0:$e.getSelection()},[L]);return!$||!se?null:Object(M.createPortal)(t.a.createElement("div",{ref:de,className:"p-texty_floating_formatting_bar",onMouseDown:J},t.a.createElement(g,{quillRef:L,buttons:Q,activeFormats:ne,onFormatButtonClick:K,supportsAnchorText:Z,getSelection:Ye,onEscape:ue,openDocsLinkForm:X,closeDocsLinkForm:Y,isDocsLinkFormOpen:ae,isDisabled:q})),ee.document.body)});var R=Object(k.a)(H),W=e("1m8D");const U=t.a.forwardRef((B,z)=>{let{textyRef:L,textyHasFocus:$,overrideDefaultFormats:Q,overridesDefaultComposerButtons:K,useWorkflowTokens:Z,supportsAnchorText:ne,showLinkForm:F=i.a,activeFormats:J,useStickyComposer:X,enableStickyComposer:Y,toolbarOverflowVisible:ae,setToolbarOverflowVisible:ee=i.a,toolbarPositionData:q,openDocsLinkForm:te=i.a,closeDocsLinkForm:de=i.a,isDocsLinkFormOpen:se,isDisabled:re=!1}=B;const oe=Object(a.useDispatch)(),ce=Object(r.a)(),{window:ue}=Object(n.useContext)(b.a);Object(n.useEffect)(()=>()=>{oe(Object(f.a)(void 0))},[oe]);const{buttons:Pe}=Object(n.useMemo)(()=>Object(W.b)({overrideDefaultFormats:Q,overridesDefaultComposerButtons:K,useWorkflowTokens:!!Z}),[Q,K,Z]),Ye=Object(n.useCallback)(ct=>{var Be,pe;const fe=ue.document.activeElement;if(!fe||!fe.classList||!fe.classList.contains("ql-editor"))return;const me=(Be=L.current)===null||Be===void 0||(pe=Be.quill)===null||pe===void 0?void 0:pe.root;me&&me.contains(fe)&&ct.preventDefault()},[L,ue]),$e=Object(n.useCallback)((ct,Be)=>{let{source:pe,applyFormatToEmptySelection:fe}=Be;var me;if(ct==="overflow"){ee(!ae);return}if(ee(!1),ct==="link"){F({source:pe});return}const Se=L==null||(me=L.current)===null||me===void 0?void 0:me.getSelection();if(Se&&(Se.length||fe)){var je,Ue;const ve=Object(h.a)(L==null||(je=L.current)===null||je===void 0?void 0:je.quill,Se),{didHandle:ge,addedFormatting:le,hadSelection:he}=Object(l.a)(L==null||(Ue=L.current)===null||Ue===void 0?void 0:Ue.quill,{format:ct,index:Se.index,length:Se.length});ge&&Object(c.a)(v.a[ct])&&ce.track(le?p.EventId.MSG_FORMATTING_ADDED:p.EventId.MSG_FORMATTING_REMOVED,{input_context:Object(u.a)()?p.MsgFormattingInputContext.POST:p.MsgFormattingInputContext.MESSAGE,input_source:pe,input_format:v.a[ct],is_selection:he,input_prexisting_block_formats:ve})}},[ce,ee,F,L,ae]),Ke=Object(n.useCallback)(()=>{ee(!1)},[ee]),qe=Object(n.useCallback)((ct,Be)=>{let{source:pe}=Be;return $e(ct,{source:pe,applyFormatToEmptySelection:!0})},[$e]);return t.a.createElement(t.a.Fragment,null,!X&&t.a.createElement(R,{ref:z,isEnabled:!Y||!X,textyRef:L,buttons:Pe,activeFormats:J,onFormatButtonClick:qe,supportsAnchorText:!!ne,toolbarPositionData:q,onMouseDown:Ye,openDocsLinkForm:te,closeDocsLinkForm:de,isDocsLinkFormOpen:!!se,isDisabled:re}),X&&t.a.createElement(E,{textyHasFocus:!!$,buttons:Pe,activeFormats:J,onFormatButtonClick:qe,supportsAnchorText:!!ne,onMouseDown:Ye,overflowVisible:!!ae,onEscape:Ke,isDisabled:re}))});var _=s.a=U},B4kw:function(w,s,e){"use strict";e.d(s,"d",function(){return d}),e.d(s,"f",function(){return m}),e.d(s,"e",function(){return g}),e.d(s,"g",function(){return O}),e.d(s,"a",function(){return E}),e.d(s,"c",function(){return y}),e.d(s,"b",function(){return C});var n=e("SQ0V"),t=e("83nZ"),a=e("NgZ7"),i=e("s4P+"),c=e("5IZy"),r=e("80lu"),f=e("3dye"),l=e("ktUG"),p=e("p/ji"),h=e("oH+m"),u=e("Esa/"),b=e("ZFGU");const v=Object(i.b)({label:"JOINER_LAUNCHPAD"}),d=Object(n.c)("set launchpad recommmendations for channels",(I,j,M)=>{let{recommendedChannelIdList:T,recommendedRequestId:D}=M,S;try{const A=Object(a.a)(j(),p.b);A?S={...JSON.parse(A),[u.a.CHANNELS]:T,[u.a.CHANNEL_RECS_REQUEST_ID]:D}:S={[u.a.CHANNELS]:T,[u.a.CHANNEL_RECS_REQUEST_ID]:D,[u.a.DMS]:[],[u.a.DM_RECS_REQUEST_ID]:"",[u.a.JOINED_CHANNELS]:[]},I(Object(t.a)({pref:p.b,value:JSON.stringify(S),reason:"add_recommended_channels_to_onboarding_pref"}))}catch{v.error("there was an issue setting the channel recommendations on the onboarding pref")}});d.meta={name:"createThunk",key:"createThunksetLaunchpadChannelRecommendations",description:"set launchpad recommmendations for channels"};const m=Object(n.c)("set joined launchpad recommended channels along with the ML feedback clog",(I,j,M)=>{let T;try{const D=Object(a.a)(j(),p.b);if(D){const S=JSON.parse(D),A=[...S[u.a.JOINED_CHANNELS],M].slice(0,h.c);T={...S,[u.a.CHANNELS]:S.channels.filter(N=>N!==M),[u.a.JOINED_CHANNELS]:A};const P=Object(c.a)({state:j()});Object(r.a)({clogger:P,data:{requestId:S[u.a.CHANNEL_RECS_REQUEST_ID],selectedItemId:M,selectedPosition:S[u.a.CHANNELS].indexOf(M),selectedAction:"join"}})}else T={[u.a.CHANNELS]:[],[u.a.CHANNEL_RECS_REQUEST_ID]:"",[u.a.DMS]:[],[u.a.DM_RECS_REQUEST_ID]:"",[u.a.JOINED_CHANNELS]:[M]};I(Object(t.a)({pref:p.b,value:JSON.stringify(T),reason:"add_recommended_joined_channels_to_onboarding_pref"}))}catch{v.error("there was an issue setting the joined channel recommendations on the onboarding pref")}});m.meta={name:"createThunk",key:"createThunksetLaunchpadJoinedChannelRecommendations",description:"set joined launchpad recommended channels along with the ML feedback clog"};const g=Object(n.c)("set launchpad recommmendations for DMs",(I,j,M)=>{let{recommendedDMIdList:T,recommendedRequestId:D}=M,S;try{const A=Object(a.a)(j(),p.b);A?S={...JSON.parse(A),[u.a.DMS]:T,[u.a.DM_RECS_REQUEST_ID]:D}:S={[u.a.CHANNELS]:[],[u.a.CHANNEL_RECS_REQUEST_ID]:"",[u.a.DMS]:T,[u.a.DM_RECS_REQUEST_ID]:D,[u.a.JOINED_CHANNELS]:[]},I(Object(t.a)({pref:p.b,value:JSON.stringify(S),reason:"add_recommended_dms_to_onboarding_pref"}))}catch{v.error("there was an issue setting the DM recommendations on the onboarding pref")}});g.meta={name:"createThunk",key:"createThunksetLaunchpadDMRecommendations",description:"set launchpad recommmendations for DMs"};const O=Object(n.c)("update launchpad recommmendations for recommended joined channels that were removed",(I,j,M)=>{try{const T=Object(a.a)(j(),p.b);if(T){const D=JSON.parse(T);D[u.a.JOINED_CHANNELS].splice(D[u.a.JOINED_CHANNELS].indexOf(M),1),D[u.a.CHANNELS].includes(M)||D[u.a.CHANNELS].push(M),I(Object(t.a)({pref:p.b,value:JSON.stringify(D),reason:"remove_recommended_joined_channels_from_onboarding_pref"}))}}catch{v.error("there was an issue removing joined channel recommendations from the onboarding pref")}});O.meta={name:"createThunk",key:"createThunksetLaunchpadRemovedJoinedChannelRecommendations",description:"update launchpad recommmendations for recommended joined channels that were removed"};const E=Object(n.c)("clog the fact that a recommended launchpad channel was previewed",(I,j,M)=>{try{const T=Object(a.a)(j(),p.b);if(T){const D=JSON.parse(T),S=Object(c.a)({state:j()});Object(r.a)({clogger:S,data:{requestId:D[u.a.CHANNEL_RECS_REQUEST_ID],selectedItemId:M,selectedPosition:D[u.a.CHANNELS].indexOf(M),selectedAction:"preview"}})}}catch{v.error("there was an issue fetching the onboarding pref for clogging recommnded channel preview")}});E.meta={name:"createThunk",key:"createThunkclogLaunchpadChannelPreviewed",description:"clog the fact that a recommended launchpad channel was previewed"};const y=Object(n.c)("clog the fact that a recommended DM was opened",(I,j,M)=>{try{const T=Object(a.a)(j(),p.b);if(T){const D=JSON.parse(T),S=Object(c.a)({state:j()});Object(f.a)({clogger:S,data:{requestId:D[u.a.DM_RECS_REQUEST_ID],selectedItemId:M,selectedPosition:D[u.a.DMS].indexOf(M),selectedAction:"preview"}})}}catch{v.error("there was an issue fetching the onboarding pref for clogging a recommended DM preview")}});y.meta={name:"createThunk",key:"createThunkclogLaunchpadDMPreviewed",description:"clog the fact that a recommended DM was opened"};const C=Object(n.c)("clog the fact that a recommended DM was opened and a first message was sent by the joiner and remove it from the pref",(I,j,M)=>{try{const T=Object(a.a)(j(),p.b);if(T){const D=JSON.parse(T);if(D[u.a.DMS].includes(M)){const S=Object(c.a)({state:j()});Object(f.a)({clogger:S,data:{requestId:D[u.a.DM_RECS_REQUEST_ID],selectedItemId:M,selectedPosition:D[u.a.DMS].indexOf(M),selectedAction:"send"}});const A=Object(p.d)(j());S.track(l.EventId.NEWXP_JOIN_TEAM,Object(b.j)(A)),D[u.a.DMS].splice(D[u.a.DMS].indexOf(M),1),I(Object(t.a)({pref:p.b,value:JSON.stringify(D),reason:"remove_recommended_dm_from_onboarding_pref"}))}}}catch{v.error("there was an issue fetching the onboarding pref for clogging a recommnded DM was messaged by the joiner")}});C.meta={name:"createThunk",key:"createThunkclogLaunchpadDMMessaged",description:"clog the fact that a recommended DM was opened and a first message was sent by the joiner and remove it from the pref"}},B8JY:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("ZKjC"),t=e("KPXh"),a=e("+GhL"),i=e("4Ky9");const c=Object(n.b)((r,f)=>{const l=Object(t.i)(f);let p,h;if(l==="client"||l==="core")p="Slack";else if(l==="app"){h=f.app;const u=Object(i.a)(r,h)||void 0;p=u.name||Object(a.h)(u)||void 0}else l==="custom"?p="Custom":l==="service"&&(p=f.service_name);return{...f,appName:p,appId:h}});c.meta={name:"createSelector",key:"createSelectoraddAppInfoToCommand",description:(r,f)=>{const l=Object(t.i)(f);let p,h;if(l==="client"||l==="core")p="Slack";else if(l==="app"){h=f.app;const u=Object(i.a)(r,h)||void 0;p=u.name||Object(a.h)(u)||void 0}else l==="custom"?p="Custom":l==="service"&&(p=f.service_name);return{...f,appName:p,appId:h}}}},BBys:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("Yk7g"),t=e("mM05"),a=e.n(t),i=e("3yyz"),c=e("dA19"),r=e("TQ9f"),f=e("jmOL"),l=e("Ms05");function p(u){const b=u&&u.ops;if(!b)return[];const v=Object(l.a)(b),d=[];return v.replace(f.m,(m,g,O,E,y)=>{d.push({index:y+g.length,length:O?O.length:0})}),d}o(p,"findMarkdownCodeBlockRanges");function h(u){if(!(u&&u.ops))return new a.a;let v=new a.a;const d=p(u);return Object(n.a)(d).forEach(m=>{let{index:g,length:O}=m;const E=new a.a;E.retain(g),u.slice(g,g+O).forEach(y=>{Object(c.a)(y)?(E.delete(1),Object(r.a)(y)&&E.insert(Object(r.c)(y))):E.retain(Object(i.a)(y),{bold:!1,italic:!1,strike:!1,code:!1,underline:!1,slackmention:!1,link:!1,unlink:!1})}),v=v.compose(E)}),v}o(h,"buildChangeDeltaToFixEmbedsInTripleBackticks")},BH90:function(w,s,e){"use strict";e.d(s,"a",function(){return P});var n=e("mM05"),t=e.n(n),a=e("gSGL"),i=e("1myf"),c=e("pu3F"),r=e("wsJ+"),f=e("Oy0v"),l=e("sxm7"),p=e("slMn"),h=e("yrot"),u=e("7nxQ"),b=e("0qhH"),v=e("htTJ"),d=e("IOc2"),m=e("TQ9f"),g=e("tfz1"),O=e("5SjC"),E=e("lhZz"),y=e("3yyz"),C=e("0f4s"),I=e("p7YC"),j=e("Z5O3"),M=e("pbCm"),T=e("v/Sk"),D=e("v/ip");const S=new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"ig"),A=o(N=>S.test(N),"isUnicodeChar");function P(N){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{useWysiwyg:!1,usePlainTextMode:!1,inlineEmojiIsEnabled:!1,emojiNames:[],locale:void 0,replaceNativeEmoji:!1,teamId:void 0};const V=new t.a;let k=0,x=0;if(!G.inlineEmojiIsEnabled)return V;let H=null;return Object(O.a)(N,(R,W)=>{const U=!Object(g.a)(W),_=Object(y.a)(R);if(!U||!Object(b.a)(R)||Object(v.a)(R)||Object(d.a)(R)){k+=_,H=R;return}const B=R.attributes;let z=[];const L=G.useWysiwyg&&!G.usePlainTextMode;let $="";Object(u.e)()&&Object(a.a)(R.insert)?$=R.insert.replace(/\uFF1A/g,":"):$=Object(a.a)(R.insert)?R.insert:"";const Q=L?[]:Object(j.a)($);$.replace(Object(r.a)(),(Z,ne,F)=>{if(!L&&Object(M.a)(F,Q)||!L&&Object(I.a)(Object(C.a)(N,0,k+F)))return;let J=Object(T.a)(Z,{emojiNames:G.emojiNames,locale:G.locale||"",teamId:G.teamId||""});if(J){const X=/^:[0-9]+:$/.test(J),Y=$.substring(0,F),ae=/(^|\s)[0-9]+$/.test(Y);X&&ae&&(J="")}J&&z.push({match:J,index:F,matchLength:Z.length,attributes:B})});const K=G.teamId&&Object(E.getStateByTeamId)(G.teamId);if(G.replaceNativeEmoji){const Z=Object(l.b)(G.teamId);$.replace(Z,(ne,F,J,X)=>{if(X>0){const q=$.charAt(X-1);if(q===c.hb||A(q)&&l.a.includes(ne))return}const Y=Object(p.a)(ne)||"",ae=Object(h.i)(K,Y),ee=ae?`:${ae}:`:null;ee&&z.push({match:ee,index:X,matchLength:ne.length,nativeEmojiReplacement:!0,attributes:B})})}if(z=Object(i.a)(z,"index"),z.length){let Z=0,ne=0;z.forEach((F,J)=>{let X=!1,Y=F.match,ae=0,ee=F.matchLength;J===0?ae=k+F.index-x:ae=F.index-Z-ne;const q=Y.match(D.a);let te=null,de=null;if(q&&(de=parseInt(q[2],10)||null,te=parseInt(q[3],10)||null),!F.nativeEmojiReplacement&&J===0&&F.index===0&&q&&H&&Object(m.a)(H)){const se=Object(f.a)(Object(m.c)(H));(!te&&Object(h.o)(K,{text:(se==null?void 0:se.name)||"",teamId:G.teamId||""})||te&&de!==te&&Object(h.p)(K,{text:(se==null?void 0:se.name)||"",teamId:G.teamId||""}))&&(ae-=1,ee+=1,Y=`:${se==null?void 0:se.name}:${Y}`,X=!0)}Z=F.index,ne=F.matchLength,x=k+Z+ne,(X||!te)&&(ae&&V.retain(ae),V.delete(ee).insert({slackemoji:{text:Y}},F.attributes))})}k+=_,H=R}),V}o(P,"buildEmojiReplacementDelta")},BHto:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("zxER"),c=e("+kJ4"),r=e("Q3AP"),f=e("hwNb"),l=e("nNoG"),p=e("WMzb"),h=e("wKGu"),u=e("ktUG"),b=e("YUBf"),v=e("eBYm"),d=e("jWAO"),m=e("FVy1"),g=e("9oTK"),O=e("Lgge"),E=e("GzZI"),y=e("N8ug"),C=e("YKBt"),I=e("8dl9"),j=e("RgZo"),M=e("WSQ4");function T(){return T=Object.assign||function(V){for(var k=1;k<arguments.length;k++){var x=arguments[k];for(var H in x)Object.prototype.hasOwnProperty.call(x,H)&&(V[H]=x[H])}return V},T.apply(this,arguments)}o(T,"_extends");const D=new l.b("stories_av"),S=o(V=>{let{file:k,elapsed:x,duration:H,setTime:R}=V;const W=Object(n.useRef)(null),U=Object(n.useRef)(null),_=Object(n.useRef)(null),{window:B}=Object(n.useContext)(M.a),z=Object(n.useCallback)(function(){var K=Object(g.coroutine)(function*(Z){let{bounds:ne}=Z;if(!W.current||!U.current||!(ne!=null&&ne.width))return;const F=W.current,J=F.getContext("2d");if(!J)return;F.width=ne.width,J.fillStyle="#000000",J.fillRect(0,0,F.width,F.height);var X;const Y=(X=k.thumb_video_w)!==null&&X!==void 0?X:1280;var ae;const ee=(ae=k.thumb_video_h)!==null&&ae!==void 0?ae:720,q=Y/ee*F.height;if(!Number.isFinite(q))return;const te=Math.ceil(F.width/q);yield O.a.all(Object(E.a)(te,de=>new O.a((se,re)=>{const oe=B.document.createElement("video");oe.muted=!0,oe.preload="none";var ce,ue,Pe;oe.src=(Pe=(ue=(ce=k.mp4_low)!==null&&ce!==void 0?ce:k.mp4)!==null&&ue!==void 0?ue:k.url_private)!==null&&Pe!==void 0?Pe:"",oe.currentTime=Math.max(.1,de/te*H),oe.play(),oe.addEventListener("playing",()=>{J.drawImage(oe,de*q,0,q,F.height),oe.pause(),oe.src="",oe.remove(),se()}),oe.addEventListener("error",()=>re(new Error(`Frame ${de} failed to load`)))})))});return function(Z){return K.apply(this,arguments)}}(),[k,H,B]),L=Object(n.useCallback)(K=>t.a.createElement("div",T({className:"p-video_thumbnail_dialog__timeline",ref:_.current},K)),[]),$=Object(n.useCallback)(K=>{let{children:Z,...ne}=K;return t.a.createElement("div",T({className:"p-video_thumbnail_dialog__timeline__track"},ne),t.a.createElement("video",{ref:U,className:"p-video_thumbnail_dialog__timeline__source"}),t.a.createElement("canvas",{ref:W,width:400,height:50,className:"p-video_thumbnail_dialog__timeline__canvas"}),Z)},[]),Q=Object(n.useCallback)(K=>t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-video_thumbnail_dialog__timeline__elapsed_container"},t.a.createElement("div",T({className:"p-video_thumbnail_dialog__timeline__elapsed"},K))),t.a.createElement("div",T({className:"p-video_thumbnail_dialog__timeline__elapsed__tooltip_container"},K),t.a.createElement("div",{className:"p-video_thumbnail_dialog__timeline__elapsed__tooltip"},Object(j.a)(x*1e3)))),[x]);return t.a.createElement(y.a,{onResize:z},K=>{let{measureRef:Z}=K;return _.current=Z,t.a.createElement(C.a,{value:x,max:H,onChange:R,renderContainer:L,renderTrack:$,renderInner:Q,"aria-label":D.t("Media time scrubber, {currentTime} / {totalTime}",{currentTime:Object(I.a)(x),totalTime:Object(I.a)(H)}),"aria-valuetext":Object(I.a)(x)})})},"VideoThumbnailTimeline");S.displayName="VideoThumbnailTimeline";var A=S;const P=new l.b("stories_av"),N=o(V=>{let{file:k,onSubmit:x,clogButton:H,clogImpression:R}=V;const W=Object(h.a)(),U=Object(a.useDispatch)(),_=Object(i.c)(f.c),B=Object(n.useRef)(null),[z,L]=Object(n.useState)(0);var $;const[Q,K]=Object(n.useState)((($=k==null?void 0:k.duration_ms)!==null&&$!==void 0?$:0)/1e3),[Z,ne]=Object(n.useState)(!1),[F,J]=Object(n.useState)(!1),X=Object(p.a)(),Y="edit_thumbnail",ae=Object(n.useCallback)(ue=>{H?H(ue,Y):W.track(u.EventId.AV_CAPTURE,{media_type:"video",contexts:{ui_context:{ui_step:Y,action:"click",ui_properties:{element_type:"button",element_name:ue}}}})},[H,W]),ee=Object(n.useCallback)(()=>{const ue={element_type:u.ElementType.MODAL,element_name:"edit_thumbnail"};R?R({step:Y,uiProperties:ue}):W.track(u.EventId.AV_CAPTURE,{media_type:"video",contexts:{ui_context:{ui_step:Y,action:"impression",ui_properties:ue}}})},[R,W]),q=Object(n.useCallback)(()=>{U(Object(c.a)()),ae("cancel_edit_thumbnail")},[ae,U]),te=Object(n.useCallback)(ue=>{var Pe;(Pe=B.current)===null||Pe===void 0||Pe.setCurrentTime(ue,!1)},[]),de=Object(n.useCallback)((ue,Pe)=>{ue&&L(ue),Pe&&K(Pe)},[]),se=Object(n.useCallback)(()=>{if(ae("submit_edit_thumbnail"),x)return U(Object(c.a)()),x(z);ne(!0),J(!1),U(Object(r.a)({id:k.id,offsetMs:Math.round(z*1e3),reason:"VideoThumbnailDialog"})).then(()=>{ne(!1),U(Object(c.a)())}).catch(ue=>{X.error("VIDEO_THUMBNAIL","Error when submitting timestamp",ue),J(!0),ne(!1)})},[x,U,k.id,z,ae,X]);var re,oe;const ce=(oe=(re=k.mp4_low)!==null&&re!==void 0?re:k.mp4)!==null&&oe!==void 0?oe:k.url_private;return!ce||!_?null:t.a.createElement(b.a,{closeModal:q,onAfterOpen:ee},t.a.createElement(b.l,{title:P.t("Select thumbnail")}),t.a.createElement(b.d,null,t.a.createElement(b.e,null,t.a.createElement("div",{className:"p-video_thumbnail_dialog__video"},t.a.createElement(m.a,{file:k,url:ce,hlsEmbed:k.hls_embed,thumbVideo:k.thumb_video,autoPlay:!1,ref:B,onProgress:de})),t.a.createElement(A,{file:k,elapsed:z,duration:Q,setTime:te}),F&&t.a.createElement(d.d,{level:"error",className:"margin_top_100"},P.t("Sorry! Something went wrong. Please try again.",{fallbackHash:"48faa2ac6ac6d273cd7dacbe15a5b6f7e1822087",fallbackHashNs:"file_viewer"})))),t.a.createElement(b.g,null,t.a.createElement(b.h,null,t.a.createElement(b.c,{type:"outline"},P.t("Cancel")),t.a.createElement(v.a,{type:"primary",loading:Z,onClick:se},P.t("Select")))))},"VideoThumbnailDialog");N.displayName="VideoThumbnailDialog";var G=s.a=N},BQeT:function(w,s,e){"use strict";e.d(s,"a",function(){return A});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("ifKl"),c=e("fp5s"),r=e("BHdc"),f=e("Nyfl"),l=e("9Gfp"),p=e("SgHf"),h=e("1HOW"),u=e("oEDn"),b=e("JoR1"),v=e("xwCZ"),d=e("C3vN"),m=e("nNoG"),g=e("JvzI"),O=e("sryV"),E=e("BeL+"),y=e("P1FA"),C=e("7nxQ"),I=e("XxnT");function j(k){let{normalizedFmt:x="HH:mm",includeMeridiem:H=Object(C.g)(I.a.locale())}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var R;const W=I.a.locale();var U;let _=(U=Object(y.a)((R=k==null?void 0:k.trim())===null||R===void 0?void 0:R.toLocaleLowerCase()))!==null&&U!==void 0?U:"";if(!_)return[];const B=/^(.*)(\d)(\d\d)(?!\d)(.*)/.exec(_);B&&(_=`${B[1]}${B[2]}:${B[3]}${B[4]}`);const z=Object(C.g)(W),L=H?["LT"]:["LT","HH:mm"],$=[];return L.forEach(Q=>{const K=Object(I.a)(_,Q);if(K.isValid()&&($.push(K.format(x)),H&&z)){const Z=K.hour();Z>=1&&Z<=12&&!K.parsingFlags().meridiem&&$.push(K.add(12,"hours").format(x))}}),Object(E.a)($)}o(j,"parseTime");var M=e("3bXy"),T=e("ZpEY");function D(){return D=Object.assign||function(k){for(var x=1;x<arguments.length;x++){var H=arguments[x];for(var R in H)Object.prototype.hasOwnProperty.call(H,R)&&(k[R]=H[R])}return k},D.apply(this,arguments)}o(D,"_extends");const S=new m.b("date_time_picker"),A={QUARTER_HOUR:"quarter",HALF_HOUR:"half",FULL_HOUR:"full"},P=o(k=>{const x=k.replace(":","");return parseInt(x,10)},"timeFromStringToInt"),N=o(k=>{let{allowCustomInput:x=!0,autoClogProps:H,isDisabled:R=!1,do24hrTime:W,isInvalid:U=!1,isRequired:_=!1,max:B="23:59",min:z="0:00",onChange:L=i.a,onBlur:$=i.a,onOptionsListClose:Q=i.a,optionsHourIncrement:K=A.FULL_HOUR,placeholderText:Z,showTimeZone:ne=!0,size:F=M.b.Medium,timeZone:J,value:X,timeZoneClassName:Y,...ae}=k;const ee=Object(n.useCallback)(je=>{if(!(je!=null&&je.value))return!_;const Ue=P(je.value),ve=P(z),ge=P(B);return Ue>=ve&&Ue<=ge},[_,B,z]),q=Object(f.a)(()=>{let je;switch(K){case A.QUARTER_HOUR:je=Object(T.d)(W);break;case A.HALF_HOUR:je=Object(T.b)(W);break;case A.FULL_HOUR:default:{je=Object(T.a)(W);break}}return je.filter(ee)},[K,ee,W]),te=Object(f.a)(()=>{let je=X?Object(T.c)(X,W):null;return ee(je)||(je=null),je},[W,ee,X]),de=Object(f.a)(()=>Object(c.a)("time-picker-")),[se,re]=Object(n.useState)({selectId:de,filterQuery:"",options:q,selectedOption:te,initialActiveOption:te}),oe=Object(n.useRef)(null),ce=Object(n.useRef)([]),ue=Object(n.useCallback)(()=>{var je,Ue;typeof((je=oe.current)===null||je===void 0?void 0:je.setSelectionRange)=="function"&&te&&te.label===((Ue=oe.current)===null||Ue===void 0?void 0:Ue.value)&&oe.current.select()},[te]),Pe=Object(n.useCallback)(je=>je&&j(je,{includeMeridiem:!W}).map(ve=>Object(T.c)(ve,W)).filter(ee)[0]||null,[W,ee]),Ye=Object(n.useCallback)((je,Ue)=>{Ue&&ce.current.push(Ue),re(ve=>{var ge;let le={...ve,...je(ve)};if(le.isExpanded&&!ve.isExpanded){const Te=Pe(X);var he;le={...le,filterQuery:(he=Te==null?void 0:Te.label)!==null&&he!==void 0?he:"",isInvalid:!1,initialActiveOption:Te}}else if(le.filterQuery&&le.filterQuery!==ve.filterQuery){const Te=Pe(le.filterQuery);le={...le,isInvalid:!Te,initialActiveOption:Te}}else!(!((ge=le.filterQuery)===null||ge===void 0)&&ge.trim())&&le.isExpanded&&!_&&(le={...le,initialActiveOption:{value:null}});return le})},[Pe,_,X]);Object(n.useEffect)(()=>{ce.current.forEach(je=>je()),ce.current=[]});const $e=Object(n.useCallback)(je=>{if(ee(je)&&(je==null?void 0:je.value)!==(te==null?void 0:te.value)){re(ve=>({...ve,initialActiveOption:je}));var Ue;L((Ue=je==null?void 0:je.value)!==null&&Ue!==void 0?Ue:null)}},[ee,L,te]),{initialActiveOption:Ke}=se,qe=Object(n.useCallback)(je=>{$e(Ke),re(Ue=>({...Ue,isInvalid:!1,isExpanded:!1})),$(je)},[$e,Ke,$]),ct=Object(n.useCallback)(()=>{var je,Ue;const ve=(Ue=(je=Pe(X))===null||je===void 0?void 0:je.label)!==null&&Ue!==void 0?Ue:"";re(ge=>({...ge,filterQuery:ve,initialActiveOption:null}))},[Pe,X]),Be=Object(r.default)("c-time_picker__option-icon",{"c-time_picker__option-icon--small":F==="small"}),pe=Object(n.useCallback)(je=>t.a.createElement("div",{className:"c-time_picker__selected-option-wrapper"},t.a.createElement(u.a,{type:"clock-o",className:Be,size:F==="small"?"inherit":void 0}),t.a.createElement("span",null,je.label)),[Be,F]),fe=S.t("Time"),me=U||se.isInvalid,Se=Object(n.useMemo)(()=>({...se,options:q,selectedOption:te,isInvalid:me,isRequired:_,isDisabled:R}),[R,me,_,q,te,se]);return t.a.createElement("div",null,x?t.a.createElement(h.b,D({key:de,selectState:Se,setSelectState:Ye,inputRef:oe,inputIcon:"clock-o",onBlur:qe,onEsc:ct,onOpen:ue,onOptionSelected:$e,onOptionsListClose:Q,placeholderText:Z||fe,isInvalid:me,isRequired:_,isDisabled:R,selectAllOnFocus:!0,size:F,autoClogProps:H,overlayClassName:"c-popover c-time_picker__popover_overlay",classPrefix:"c-time_picker"},ae)):t.a.createElement(p.d,D({key:de,options:q,onOptionSelected:$e,selectedOption:te,renderSelectedOption:pe,placeholderText:Z||fe,size:F,isInvalid:me,isRequired:_,isDisabled:R},ae)),ne&&J&&t.a.createElement("p",{className:Object(r.default)("c-time_picker__timezone-caption",Y)},S.t("Time zone: {timeZone}",{timeZone:J})))},"TimePicker");N.displayName="TimePicker";const G=o((k,x)=>{const H=Object(l.a)(k);var R;const W=(R=Object(v.g)(k,H))!==null&&R!==void 0?R:void 0,U=Object(d.D)(W);return{do24hrTime:Object(b.t)(k,"time24"),timeZone:x.timeZone||(U?Object(O.a)(U,Object(g.a)()):null)}},"mapStateToProps");var V=s.b=Object(a.a)(G)(N)},BU52:function(w,s,e){"use strict";var n=e("PIf0"),t=e("azFB"),a=e("SQ0V"),i=e("stxl"),c=e("+kJ4"),r=e("bdcb");const f=Object(a.c)("Closes any open Texty modals",(l,p,h,u)=>{const b=p();let v;const d=u(n.a);(d==null?void 0:d.window)!==t.a&&(d!=null&&d.windowId)&&(v=d.windowId);const m=Object(i.a)(b,v).map(g=>g.name);Object(r.a)(m)&&l(Object(c.a)())});f.meta={name:"createThunk",key:"createThunkcloseTextyModals",description:"Closes any open Texty modals"},s.a=f},BUaB:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("ifKl"),c=e("m8R6"),r=e("hRMJ"),f=e("Xstn"),l=e("ZaGd"),p=e("heah");function h(){return h=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(d[O]=g[O])}return d},h.apply(this,arguments)}o(h,"_extends");function u(d){const{channelId:m,threadTs:g,completeOnMembers:O=!1,completeOnChannels:E=!1,completeOnEmoji:y=!1,completeOnLinks:C=!1,completeOnLists:I=!1,completeOnCommands:j=!1,shouldCompleteOnTab:M=!0,position:T="top",fixedPosition:D=!1,onOpen:S=i.a,onClose:A=i.a,onTextyInputMount:P=i.a,autocompleteClassName:N,zIndex:G="menu",forceChannelTaggingDisabled:V=!1,forcePlainTextModeDisabled:k=!1,includeAllBroadcastKeywords:x=!1,refToForward:H,searchViewContext:R,isMultiverseQuillEnabled:W=!1,viewContext:U}=d,_=Object(c.a)(d,["completeOnMembers","completeOnChannels","completeOnEmoji","completeOnLinks","completeOnLists","completeOnCommands","shouldCompleteOnTab","position","fixedPosition","onOpen","onClose","onTextyInputMount","autocompleteClassName","zIndex","searchViewContext","autocompleteConfig"]),B=Object(n.useCallback)(z=>{let{autocompleteConfig:L,isOpen:$}=z;const Q=W?p.a:l.b;return t.a.createElement(Q,h({autocompleteConfig:L,isAutocompleteOpen:$,onMount:P,ref:H},_))},[H,_,P,W]);return t.a.createElement(f.a,{className:N,channelId:m,threadTs:g,completeOnMembers:O,completeOnChannels:E,completeOnEmoji:y,completeOnLinks:C,completeOnLists:I,completeOnCommands:j,shouldCompleteOnTab:M,position:T,fixedPosition:D,onOpen:S,onClose:A,zIndex:G,forceChannelTaggingDisabled:V,forcePlainTextModeDisabled:k,includeAllBroadcastKeywords:x,renderInput:B,searchViewContext:R,viewContext:U})}o(u,"TextyInputWithAutocomplete"),u.displayName="TextyInputWithAutocomplete";const b=o(d=>({isMultiverseQuillEnabled:Object(r.a)(d)}),"mapStateToProps"),v=Object(a.a)(b)(u);s.a=t.a.forwardRef((d,m)=>t.a.createElement(v,h({},d,{refToForward:m})))},BXkk:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("TyLq"),t=e("y//8");const a=o((i,c)=>{if(!i)return null;const r=i.emojiBestNameMatchCanonical;if(!r)return"";const f=`:${r}:`;return Object(n.a)(c)&&Object(t.a)(i.item)?`${f}:skin-tone-${c}:`:f},"getCanonicalTextFromEmojiResult")},BlYK:function(w,s,e){w.exports=e.p+"trial-message-limit-trial-offer-7e96348.png"},Bnbe:function(w,s,e){"use strict";var n=e("SQ0V"),t=e("q6Tz"),a=e("uVZW"),i=e("rZ8V");const c=Object(n.c)("Load the later_tab_revealed Megaphone event if the user has not saved an item yet",(r,f,l)=>{const p=f(),h=Object(i.m)(p)?4:3;l||r(Object(t.b)({event:{iaVersion:h,type:a.e.LATER_TAB_REVEALED}}))});c.meta={name:"createThunk",key:"createThunkmaybeLoadLaterTabRevealedEvent",description:"Load the later_tab_revealed Megaphone event if the user has not saved an item yet"},s.a=c},BsO1:function(w,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"b",function(){return r});var n=e("4pJt"),t=e("vIgB");const a=[t.d.String,t.d.SlackTypesUserId,t.d.SlackTypesChannelId,t.d.SlackTypesUserEmail];var i=e("yfOE");const c=o(f=>Object.keys(f).reduce((l,p)=>{const h=Object(n.h)().exec(p);if((h&&h[1])==="data"){const b=f[p];if(Object(i.e)(a,b.type)){const v={...b};l.push(v)}}return l},[]),"getSchemaList"),r=o(f=>f.reduce((l,p)=>Object.assign(l,{[p.title]:{type:p.type,name:p.name,title:p.title,is_required:p.is_required,is_hidden:p.is_hidden}}),{}),"getSchemaObject")},BtdC:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("qMw6"),t=e("RB1+");function a(i,c){if(c){let r;return r=Object(t.a)({channelId:i,threadTs:c,viewContext:n.a.THREAD}),r||(r=Object(t.a)({channelId:i,threadTs:c,viewContext:n.a.THREADS_VIEW})),r}return Object(t.a)({channelId:i,viewContext:n.a.MESSAGE_PANE})}o(a,"getDraftInput")},Btza:function(w,s,e){"use strict";var n=e("SQ0V"),t=e("UWtm");const a=Object(n.c)("Upsert a slack doc last read for a given file ID",(i,c,r)=>{let{fileId:f,lastReadByUser:l}=r;return i(Object(t.c)({objects:[{id:f,lastReadByUser:l}]}))});a.meta={name:"createThunk",key:"createThunkupsertSlackDocLastReadByUserForFileId",description:"Upsert a slack doc last read for a given file ID"},s.a=a},"CF/G":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("GzZI"),i=e("F0YV");const c=3,r=o(l=>{let{teamIds:p,size:h}=l;const u=Math.min(p.length,c),b=Object(a.a)(u).map(v=>t.a.createElement(i.b,{className:"p-team_icon_pile__icon",size:h,id:p[v],key:p[v]}));return t.a.createElement("span",{className:"p-team_icon_pile"},b)},"TeamIconPile");r.displayName="TeamIconPile";var f=s.a=t.a.memo(r)},CQZ9:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"c",function(){return a}),e.d(s,"d",function(){return i}),e.d(s,"b",function(){return c}),e.d(s,"e",function(){return r});var n=e("7EGn");const t=o(f=>Object(n.a)(f,"derived.available_data",[]),"getSegmentAvailableData"),a=o(f=>Object(n.a)(f,"derived.outputs",[]),"getSegmentOutputs"),i=o(f=>Object(n.a)(f,"derived.produces_interaction_pointer",!1),"getSegmentProducesInteractionPointer"),c=o(f=>{let{type:l,subtype:p=""}=f;return`_WS${p?`${l}_${p}`:l}`},"getSegmentFrecencyId"),r=o(f=>f.teamId,"getSegmentTeamId")},CcE6:function(w,s,e){"use strict";e.d(s,"g",function(){return y}),e.d(s,"h",function(){return T}),e.d(s,"c",function(){return P}),e.d(s,"e",function(){return N}),e.d(s,"b",function(){return G}),e.d(s,"f",function(){return k}),e.d(s,"a",function(){return x}),e.d(s,"d",function(){return H});var n=e("m8R6"),t=e("gPPH"),a=e("4pJt"),i=e("BsO1"),c=e("GY1C"),r=e("vIgB"),f=e("vMCY"),l=e("wdL8"),p=e("Qm7m"),h=e("wOIf"),u=e("z+Hh"),b=e("uL+k"),v=e("F4Pg"),d=e("UrBK"),m=e("XFNL");const{INIT_APP_REQUEST_FLOW:g,APP_DENIED:O,APP_REQUEST_IS_PENDING:E}=v.c,y=o(R=>{if(!Object(m.d)(R))return R;const W=["label","questionType","optional","value","options","data_source","selectedOptionId","placeholder"],U=[],_=Object(l.i)(R).map(B=>(B.optional||U.push(B.name),Object(n.a)(B,W)));return{...R,config:{...R.config,inputs:{...R.config.inputs,fields:{...R.config.inputs.fields,value:{required:U,elements:_}}}}}},"treatSegment"),C=o(R=>({...R,label:R.title,value:R.default}),"populateV1Properties"),I=o(R=>R.map(W=>({value:W,label:W,id:Object(t.a)()})),"getOptionsFromEnum"),j=o(R=>{let W="shortText";R.enum?W="dropdown":R.long&&(W="longText");const U={...R,questionType:W};return R.enum&&(U.options=I(R.enum)),U},"populateStringQuestionFields"),M=o(R=>R.elements.map(W=>{switch(W.type){case r.d.String:return{...C(W),...j(W),optional:!R.required.includes(W.name)};case r.d.SlackTypesUserId:return{...C(W),questionType:"selectPerson",data_source:"users",optional:!R.required.includes(W.name)};case r.d.SlackTypesChannelId:return{...C(W),questionType:"selectChannel",data_source:"conversations",optional:!R.required.includes(W.name)};default:return{...W,optional:!R.required.includes(W.name)}}}),"addV1TypesToQuestions"),T=o(R=>{const W=o(B=>{var z;return((z=B.function)===null||z===void 0?void 0:z.callback_id)===r.g.OpenForm},"isSendFormStep");let U=!1;const _=R.steps.map(B=>{if(!W(B))return B;const z=B.inputs.fields.value;return z.elements?(U=!0,{...B,inputs:{...B.inputs,fields:{...B.inputs.fields,value:M(z)}}}):B});return U?{...R,steps:_}:R},"updateWorkflowWithV1FormData");var D;(function(R){R.WORKFLOW="workflow",R.STEPS="steps",R.TRIGGER="trigger"})(D||(D={}));var S;(function(R){R.WORKFLOW="inputs",R.STEPS="steps",R.TRIGGER="data"})(S||(S={}));const A=o(R=>{const[W,U,_,B]=[...R.matchAll(Object(a.h)())].flat();let z;switch(U){case S.WORKFLOW:z=D.WORKFLOW;break;case S.STEPS:z=D.STEPS;break;case S.TRIGGER:z=D.TRIGGER;break;default:break}return{reference:W,source:z,sourceId:_,inputPath:B}},"getReferenceValueMatches"),P=o((R,W,U)=>R.find(B=>B.name===l.a?W?W===B.source_id&&U!==r.g.OpenForm:B.source==="trigger":!1),"calculateInteractivityVariable"),N=o(R=>{switch(R){case p.SCHEDULED:return p.HERMES_SCHEDULED;case p.WEBHOOK:return p.HERMES_WEBHOOK;default:return R}},"mapTriggerTypes"),G=o(R=>{var W;const U={...R.trigger,type:N(R.trigger.type)};var _;const B=(_=(W=R.workflow)===null||W===void 0?void 0:W.steps)!==null&&_!==void 0?_:[],z={...R,trigger:U,workflow:T(R.workflow)},L=[];return B.forEach(($,Q)=>{var K,Z,ne,F;if(((K=$.function)===null||K===void 0?void 0:K.callback_id)!==r.g.OpenForm)return;const J=Q===0?null:B[Q-1],{list:X}=Object(f.a)(z.availableData,z.trigger,z.workflow),Y=P(X,J==null?void 0:J.id,J==null||(Z=J.function)===null||Z===void 0?void 0:Z.callback_id),ae=(ne=$.inputs.interactivity)===null||ne===void 0?void 0:ne.value;if(!Y||ae===Y.id)return;const ee={id:$.id,functionId:(F=$.function)===null||F===void 0?void 0:F.id,inputs:{...$.inputs,interactivity:{value:Y.id,hidden:!1,locked:!1}}},q=!(J!=null&&J.id)&&Y?`{{data.${A((Y==null?void 0:Y.id)||"").inputPath}}}`:void 0;L.push({step:ee,requiredContext:q})}),L},"buildInteractivityPointerUpdates");function V(R){if(R.eventType===d.a.ListRecordUpdated||R.eventType===d.a.ListRecordCreated){var W;const U={...R},B=`C${U.listId.slice(1)}`;return U.channelIds=[B],delete U.listId,!(U==null||(W=U.filter)===null||W===void 0)&&W.root&&"operator"in U.filter.root&&"inputs"in U.filter.root&&U.filter.root.inputs.length===0&&delete U.filter,U}return R}o(V,"prepareSlackEventTriggerEvent");const k=o((R,W)=>{const U=R.config,_={type:R.type,triggerId:R.id,inputs:U.inputs||{},workflow:W,name:U.name,description:U.description};switch(R.type){case p.HERMES_SCHEDULED:return{..._,type:p.SCHEDULED,schedule:R.config.schedule};case p.HERMES_WEBHOOK:return{..._,type:p.WEBHOOK,webhook:{schema:Object(i.b)(R.config.webhook)}};case p.SLACK_EVENT:return{..._,type:p.SLACK_EVENT,event:V(R.config.event)};case p.EXTERNAL:{const B=JSON.parse(JSON.stringify({...R.config.conditions},(z,L)=>z==="id"?void 0:L));return{..._,type:p.EXTERNAL,external:{datasourceId:R.config.datasourceId,schemaObjectId:R.config.schemaObjectId,conditions:B,filters:R.config.filters.map(z=>({...z})),schema:{...R.config.schema}}}}case p.SHORTCUT:return{..._,type:p.SHORTCUT,shortcut:{schema:Object(c.e)(R.config.shortcut.schema)}};default:return _}},"prepareTriggerToUpdate");function x(R,W){var U;const _=Object(u.x)(W==null?void 0:W.workflow),B=Object(b.h)(R),z={isPublishRestricted:!1,apps:{}};if(_.length>0&&(!(B==null||(U=B.data)===null||U===void 0)&&U.apps)){var L,$;const K=($=B==null||(L=B.data)===null||L===void 0?void 0:L.apps)!==null&&$!==void 0?$:{};for(let Z=0;Z<_.length;Z++){var Q;const ne=_[Z],F=(Q=ne.function)===null||Q===void 0?void 0:Q.app_id;if(ne.type===h.SLACK_FUNCTION&&Object.prototype.hasOwnProperty.call(K,F)){const J=F??"",X=K[J];z.apps[X.id]={appResolution:X.appResolution};const Y=Object(b.b)(R,J);(Y===g||Y===E||Y===O)&&(z.isPublishRestricted=!0)}}}return z}o(x,"buildHermesWorkflowEditPermissions");function H(R){if(R)return R.share_url||R.shortcut_url}o(H,"getWorkflowUrlFromTrigger")},CdxK:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"e",function(){return c}),e.d(s,"f",function(){return l}),e.d(s,"b",function(){return p}),e.d(s,"d",function(){return h}),e.d(s,"c",function(){return u});var n=e("7EGn"),t=e("gPPH"),a=e("Qm7m");const i=o(b=>{let{channelId:v,teamId:d}=b;return{id:Object(t.a)(),type:a.CHANNEL_ACTION,config:{callback_id:Object(t.a)(),name:"",description:"",channels:v?[v]:[""]},teamId:d}},"createChannelActionTrigger"),c=o((b,v)=>({...b,config:{...b.config,channels:v}}),"updateTriggerSetChannels"),r=o((b,v)=>({...b,config:{...b.config,name:v}}),"updateTriggerSetName"),f=o((b,v)=>({...b,config:{...b.config,description:v}}),"updateTriggerSetDescription"),l=o((b,v)=>f(r(b,v),v),"updateTriggerSetNameAndDescription"),p=o(b=>Object(n.a)(b,"config.channels",[""]),"getChannelsFromTrigger"),h=o(b=>Object(n.a)(b,"config.name",""),"getNameFromTrigger"),u=o(b=>Object(n.a)(b,"config.description",""),"getDescriptionFromTrigger")},Cfjn:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("9oTK"),t=e.n(n),a=e("uXhx"),i=e("SQ0V"),c=e("Sl1j"),r=e("E3dU");const f=Object(i.c)("Ensures unknown channels with corresponding ids have been fetched",function(){var l=Object(n.coroutine)(function*(p,h){let{channelIds:u,reason:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=h(),d=Object(a.a)(u,m=>Object(r.z)(v,m));yield p(Object(c.f)({ids:d,reason:b,callSource:c.a.EnsureChannelsArePresent}))});return function(p,h){return l.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkensureChannelsArePresent",description:"Ensures unknown channels with corresponding ids have been fetched"}},CmyG:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("FRd1"),i=e("6Tgc"),c=e("Vzni"),r=e("rBAR"),f=e("/CFe");const l=o(p=>{let{file:h,selectedOption:u,setSelectedOption:b}=p;const v=Object(c.b)(h);return t.a.createElement(a.a,{autoClogProps:r.a,actionProps:r.g},t.a.createElement(i.a,{options:v,selectedOption:u,selectId:"access",width:"auto",onOptionSelected:b,"data-qa":f.b.ACCESS_SELECT}))},"ShareDialogAccessSelect");l.displayName="ShareDialogAccessSelect",s.a=l},Cnv9:function(w,s,e){"use strict";e.d(s,"a",function(){return f}),e.d(s,"c",function(){return l}),e.d(s,"b",function(){return p});var n=e("Awbm"),t=e("ehcD"),a=e("G0eX"),i=e("xwCZ"),c=e("9Gfp"),r=e("beVI");const f={RESTRICTED_USER:"user_is_restricted",USER_IS_ON_FREE_TEAM:"not_allowed_for_free_team"};function l(h){const u=[],b=Object(c.a)(h),v=Object(i.g)(h,b),d=Object(t.c)(h,v);var m;const g=(m=Object(r.s)(h,d))!==null&&m!==void 0?m:null;return Object(n.b)(v)&&u.push(f.RESTRICTED_USER),Object(a.F)(g)&&u.push(f.USER_IS_ON_FREE_TEAM),u.length>0?{ok:!1,reasons:u}:{ok:!0}}o(l,"canUserShareContactsWithReasons");function p(h){return l(h).ok}o(p,"canUserShareContacts")},CpuT:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("jWAO"),c=e("9ADk"),r=e("dq9a");function f(){return f=Object.assign||function(h){for(var u=1;u<arguments.length;u++){var b=arguments[u];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(h[v]=b[v])}return h},f.apply(this,arguments)}o(f,"_extends");const l=o(h=>{let{"aria-label":u,"aria-labelledby":b,errorId:v,className:d,errorText:m,hintId:g,hintText:O,isDisabled:E=!1,isRequired:y=!1,"data-qa":C,errorLevel:I=i.b.error,errorType:j=i.c.nestedBox,children:M,legendText:T,legendClassNames:D=""}=h;const S=Object(n.useRef)(null),A=T;Object(n.useEffect)(()=>{const U=S.current;if(!U||A)return;const _=U.querySelectorAll('input[type="radio"]:not(:scope [role="radiogroup"] input[type="radio"])');Array.from(_).forEach(B=>{B.disabled=E})},[E,A]);const P=(b||v)&&[b,v].join(" ").trim(),N=m&&t.a.createElement(i.d,{id:v,level:I,type:j,className:"c-alert--error margin_bottom_100"},m),G=O&&t.a.createElement(c.a,{id:g},O),V=T&&t.a.createElement(r.a,{className:D},T),k=Object(a.default)("c-radiogroup",{"c-radiogroup--with_error":!!m,"c-radiogroup--with_hint":!!O},d),x={"aria-describedby":g,"aria-invalid":!!m,"aria-labelledby":P,"aria-required":y,className:k},H=o(()=>t.a.createElement("fieldset",f({},x,{disabled:E}),V,M),"renderFieldset");H.displayName="renderFieldset";const R=o(()=>t.a.createElement("div",f({},x,{role:"radiogroup","aria-disabled":E,"aria-label":u,ref:S}),M),"renderAriaGroup");R.displayName="renderAriaGroup";const W=A?H():R();return t.a.createElement("div",{"data-qa":C},W,N,G)},"Radiogroup");l.displayName="Radiogroup";var p=s.a=l},D1F6:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("gPPH"),t=e("nNoG"),a=e("z4V0"),i=e("nwIl"),c=e("pu3F"),r=e("RVJP");const f=new t.b("emoji_picker"),l=o((p,h)=>{let{draftId:u,status:b=a.b.SENDING}=h;if(!u)return[];const v=Object(r.d)(p,"native_gif_picker")==="on",d=Object(i.b)(p,{draftId:u,status:b});return Array.isArray(d)?d.map(m=>{let{fallback:g,image_url:O,image_width:E,image_height:y,image_bytes:C}=m;return{type:c.e.image,block_id:Object(n.a)(),image_url:O,alt_text:g,image_width:E,image_height:y,image_bytes:C,is_animated:!0,fallback:g,title:{type:"plain_text",text:v?f.t("GIF"):"GIF",emoji:!0}}}):[]},"getImageBlockFromGifUnfurls")},DCrr:function(w,s,e){"use strict";e.d(s,"d",function(){return a}),e.d(s,"b",function(){return i}),e.d(s,"a",function(){return c}),e.d(s,"c",function(){return r});var n=e("4p6e"),t=e("G5NC");const a=o(()=>Object(t.a)()||Object(n.a)(),"areAppPopoutsEnabled"),i={openAppDialog:"openAppDialog",openBlockKitModal:"openBlockKitModal"},c="initStateQuery",r="postMessageCallback"},DEph:function(w,s,e){"use strict";e.d(s,"b",function(){return i}),e.d(s,"a",function(){return f});var n=e("SQ0V"),t=e("2XU3"),a=e("0Wfr");const i=Object(n.c)("calls the megaphone.executeEvent API to trigger download fallback email",(l,p,h)=>{let{reason:u,eventHandler:b,subtype:v,selectedWorkspaces:d}=h,m;v&&(m={subtype:v}),d&&(m={selected_workspaces:d});const g={event_handler:b,event_params:m};return l(Object(t.apiCall)({reason:u,method:"megaphone.executeEvent",args:g}))});i.meta={name:"createThunk",key:"createThunktriggerFallbackEmail",description:"calls the megaphone.executeEvent API to trigger download fallback email"};const c=6e4,r=!1,f=Object(a.a)(i,c,r)},DJ7B:function(w,s,e){"use strict";var n=e("SQ0V"),t=e("LK2A"),a=e("yrot"),i=e("whaK"),c=e("nift"),r=e("O86Y"),f=e("RJAC");const l=o((h,u,b)=>{const v=Object(i.a)(h,{forceDisplay:!1}),d=Object(a.j)(h,{text:u,teamId:b,emojiMode:v,emojiSize:c.a.SMALL}),m=Object(a.j)(h,{text:u,teamId:b,emojiMode:v,emojiSize:c.a.MEDIUM}),g=Object(a.j)(h,{text:u,teamId:b,emojiMode:v,emojiSize:c.a.LARGE}),O=Object(a.j)(h,{text:u,teamId:b,emojiMode:v,emojiSize:c.a.XLARGE});return[d,m,g,O,Object(f.a)(h,{url:d??void 0,isEmoji:!0,stopAnimations:!0}),Object(f.a)(h,{url:m??void 0,isEmoji:!0,stopAnimations:!0}),Object(f.a)(h,{url:g??void 0,isEmoji:!0,stopAnimations:!0}),Object(f.a)(h,{url:O??void 0,isEmoji:!0,stopAnimations:!0})]},"getEmojiUrlsForAllSizes"),p=Object(n.c)("Returns an emoji object for use in Spaceship",(h,u,b)=>{let{result:v,emojiText:d,requestedTeamId:m}=b;const g=u();var O;const E=(O=d??v.name)!==null&&O!==void 0?O:"";var y;const C=(y=v.unicode)!==null&&y!==void 0?y:"",I=m&&m.length?m:Object(r.i)(g);let[j,M,T,D,S,A,P,N]=l(g,E,I);if(!j){var G;(G=v.aliases)===null||G===void 0||G.find(x=>{const[H,R,W,U,_,B,z,L]=l(g,x&&typeof x=="object"?x.name:x,I);return H?(j=H,M=R,T=W,D=U,S=_,A=B,P=z,N=L,!0):!1})}const k={id:E.replace(/(^:|:$)/g,""),type:t.SlackObjectType.EMOJI,teamId:I,displayUrl:j??""};return M&&(k.displayUrlMedium=M),T&&(k.displayUrlLarge=T),D&&(k.displayUrlXLarge=D),S&&(k.nonAnimatedUrlSmall=S),A&&(k.nonAnimatedUrlMedium=A),P&&(k.nonAnimatedUrlLarge=P),N&&(k.nonAnimatedUrlXLarge=N),k.unicode=C,k});p.meta={name:"createThunk",key:"createThunkgetEmojiByNameForQuip",description:"Returns an emoji object for use in Spaceship"},s.a=p},DPHH:function(w,s,e){"use strict";e.d(s,"b",function(){return p}),e.d(s,"c",function(){return h}),e.d(s,"a",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("oEDn"),c=e("nNoG"),r=e("0cEW"),f=e("kBpe");const l=new c.b("keyboard_key");var p;(function(b){b.CmdOrCtrl="CmdOrCtrl",b.OptOrAlt="OptOrAlt",b.ArrowUp="\u2191",b.ArrowDown="\u2193",b.ArrowLeft="\u2190",b.ArrowRight="\u2192"})(p||(p={}));const h=o(b=>({"\u2191":l.t("up arrow"),"\u2193":l.t("down arrow"),"\u2190":l.t("left arrow"),"\u2192":l.t("right arrow"),Ctrl:l.t("Control"),Cmd:l.t("Command"),".":l.t("period"),"[":l.t("left bracket"),"]":l.t("right bracket"),"+":l.t("plus"),"-":l.t("minus"),Esc:l.t("Escape"),Strg:"Steuerung"})[b]||String(b).toLowerCase(),"getNameForKey"),u=o(b=>{let{label:v,className:d,slim:m=!1,theme:g=r.c.Light,tooltip:O=!1}=b,E=!1,y,C=v;switch(C===p.CmdOrCtrl?C=Object(f.p)()?"Cmd":"Ctrl":C===p.OptOrAlt&&(C=Object(f.p)()?"Option":"Alt"),C){case"Cmd":y="cmd-small";break;case p.ArrowUp:E=!0,y="caret-up";break;case p.ArrowDown:E=!0,y="caret-down";break;case p.ArrowLeft:E=!0,y="caret-left";break;case p.ArrowRight:E=!0,y="caret-right";break;default:break}const I=Object(a.default)(d,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":E,"c-keyboard_key--slim":m,"c-keyboard_key--dark":g===r.c.Dark,"c-keyboard_key__tooltip":O}),j=h(C),M=l.t("{keyName} key",{keyName:j});return t.a.createElement("div",{role:"img","aria-label":M,className:I},y?t.a.createElement(i.a,{type:y,size:m?"inherit":20,inline:m}):C)},"KeyboardKey");u.displayName="KeyboardKey"},DPzB:function(w,s,e){"use strict";var n=e("fujP"),t=e("SQ0V"),a=e("gPPH"),i=e("9Gfp"),c=e("Jhy3"),r=e("cBLH"),f=e("xcHN"),l=e("dUj5");const p=Object(t.c)("Append a placeholder message to the channel",(h,u,b)=>{let{msgParams:v,channelId:d,threadTs:m,fileIds:g,pendingFileIds:O}=b;const{client_msg_id:E}=v,y=E||Object(a.a)(),C={...v,thread_ts:m,client_msg_id:y,user:Object(i.a)(u()),is_pending:!0,_hidden_reply:!!m,files:Object(n.a)(O)?g:[],pendingFiles:Object(n.a)(O)?[]:[...g,...O]};return h(Object(c.a)([C])),h(Object(r.a)({channelId:m?Object(f.c)(C.channel,C.thread_ts):d,timestamps:[C.ts],oldest:C.ts,hasMore:!1,append:!0})),h(Object(l.a)({clientMsgId:y,channelId:C.channel,ts:C.ts})),C});p.meta={name:"createThunk",key:"createThunkappendPlaceholderMessage",description:"Append a placeholder message to the channel"},s.a=p},DmfU:function(w,s,e){"use strict";e.d(s,"a",function(){return m}),e.d(s,"b",function(){return g}),e.d(s,"c",function(){return E});var n=e("9oTK"),t=e.n(n),a=e("oTSI"),i=e("6f8m"),c=e("uAML"),r=e("Lgge"),f=e("Z7Ay"),l=e("SQ0V"),p=e("aVws"),h=e("lhZz"),u=e("o07q"),b=e("u0yg");const v=Object(l.c)("Fetch and upsert channel list prefs",function(){var C=Object(n.coroutine)(function*(I,j,M){let{channelId:T,teamId:D}=M;const S=yield I(Object(i.a)({channel:T,reason:"client_redux_store"})),{prefs:A}=S;I(Object(u.b)({channelId:T,prefs:A})),O(D,T)});return function(I,j,M){return C.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkfetchAndUpsertConversationsListPrefs",description:"Fetch and upsert channel list prefs"};const d=Object(a.a)(()=>new c.b({fetch:(C,I)=>r.a.map(I,j=>Object(h.dispatchForTeamId)(C,v({channelId:j,teamId:C}))),isEnabled:()=>!0,metricsName:b.a})),m=o((C,I)=>d().markObjectsAsStale(Object(p.b)(C,b.a),[I]),"markConversationsListPrefsAsStale"),g=o((C,I)=>d().markObjectsAsStale(Object(p.b)(C,b.a),I),"markConversationsListPrefsAsStaleForMultipleChannels"),O=o((C,I)=>d().markObjectsAsFresh(Object(p.b)(C,b.a),[I]),"markConversationsListPrefsAsFresh"),E=o((C,I)=>d().maybeRefetch(Object(p.b)(C,b.a),I),"maybeRefetchConversationsListPrefs"),y={fetchAndUpsertConversationsListPrefs:v};Object(f.b)("conditionalFetchManagerConversationsListPrefs",d)},Dpf0:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("fujP"),t=e("NFsq"),a=e("SQ0V"),i=e("s4P+"),c=e("ZvCj"),r=e("gCYc"),f=e("BBdC");const l=Object(a.c)("Adds a file ID to a draft and syncs the updates",function(p,h){let{draftId:u,fileId:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!u||!b)return;const{error:v,info:d}=Object(i.a)({getState:h,label:"DRAFTS"}),m=`draftId: ${u} || fileId: ${b}`,g=Object(r.k)(h(),u);if(!g||Object(n.a)(g)){v(`Attempting to update a draft that does not exist - ${m}`);return}const O=Object(f.a)(g)||[];if(Object(t.a)(O,b)){d(`File is already attached to the draft - ${m}`);return}const E={...g,file_ids:[...O,b]};p(Object(c.a)({draft:E,reason:"addFileIdToDraft"}))});l.meta={name:"createThunk",key:"createThunkaddFileIdToDraft",description:"Adds a file ID to a draft and syncs the updates"}},DzIv:function(w,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"a",function(){return r});var n=e("nNoG"),t=e("vIgB"),a=e("UrBK");const i=new n.b("workflow_builder"),c={getTitle:()=>i.t("Choose how to start the workflow",{fallbackHash:"25242dffe7c0126525f9e58ffcb6126aa72ecf9b"}),getDescription:()=>"Slack event trigger description",getIsEnabled:()=>!1,getIcon:f=>{switch(f){case a.a.ReactionAdded:return"emoji";case a.a.UserJoinedChannel:return"user-add";default:return"user"}}},r=o(f=>{const l={[a.a.ReactionAdded]:[{type:t.e.Reaction,name:"reaction",title:i.t("Emoji reactions",{fallbackHash:"1e53b9849fee217c9f8f82ee3f561e933d867a8e"}),is_required:!0,isFilter:!0},{type:t.e.Array,items:{type:t.e.SlackTypesChannelId},name:"channelIds",title:i.t("Channels",{fallbackHash:"43e988b1153b06840f3818c3b5de6db2a3aab293"}),is_required:!0,maxItems:20}],[a.a.UserJoinedChannel]:[{type:t.e.Array,items:{type:t.e.SlackTypesChannelId},name:"channelIds",title:i.t("Channels",{fallbackHash:"43e988b1153b06840f3818c3b5de6db2a3aab293"}),is_required:!0,maxItems:20}],[a.a.ChannelCreated]:[{type:t.e.Array,items:{type:t.e.SlackTypesTeamId},name:"teamIds",title:i.t("Select workspaces",{fallbackHash:"83c1bbc375b7d0ac8d622af1896869dba1867f7b"}),is_required:!0},{type:t.e.String,isFilter:!0,name:"channel_name",title:i.t("Channel Name contains",{fallbackHash:"5b8d97f62835cae8ad5adb2bade60d98db86fa85"}),is_required:!1}],[a.a.ListRecordCreated]:[{type:t.e.SlackTypesListId,name:"listId",title:i.t("Select a List",{fallbackHash:"074b26ac2de089b3e83bcea6c5f3accc0cae2eca",fallbackHashNs:"lists"}),is_required:!0}],[a.a.ListRecordUpdated]:[{type:t.e.SlackTypesListId,name:"listId",title:i.t("Select a List",{fallbackHash:"074b26ac2de089b3e83bcea6c5f3accc0cae2eca",fallbackHashNs:"lists"}),is_required:!0},{type:t.e.String,name:"filter",title:i.t("Field",{fallbackHash:"fd6294adde442e65458da9640beeafed76f7f66a"}),is_required:!1,isFilter:!0},{type:t.e.String,isFilter:!0,name:"topLevelFilterOperator",title:i.t("Column match logic",{fallbackHash:"5b8d97f62835cae8ad5adb2bade60d98db86fa85"}),is_required:!1}]};var p;return(p=l[f])!==null&&p!==void 0?p:[]},"getSlackEventInputParameters")},E6EU:function(w,s,e){"use strict";e.d(s,"p",function(){return t}),e.d(s,"o",function(){return a}),e.d(s,"q",function(){return i}),e.d(s,"a",function(){return c}),e.d(s,"s",function(){return r}),e.d(s,"b",function(){return f}),e.d(s,"c",function(){return l}),e.d(s,"t",function(){return p}),e.d(s,"f",function(){return u}),e.d(s,"k",function(){return b}),e.d(s,"m",function(){return v}),e.d(s,"h",function(){return d}),e.d(s,"e",function(){return m}),e.d(s,"j",function(){return g}),e.d(s,"l",function(){return O}),e.d(s,"g",function(){return E}),e.d(s,"i",function(){return y}),e.d(s,"r",function(){return C}),e.d(s,"d",function(){return I}),e.d(s,"n",function(){return j});var n=e("d/xU");const t="open_form_",a="open_form_step",i="sheet_title",c="columns",r="spreadsheet_id",f=0,l=0,p=300,h="Gsheets",u="Fn014RG6E9M1",b="Fn014KTB3G8J",v="Fn014M7H3N2F",d="Fn014MGNJ50B",m="Fn0592NZAAP4",g="Fn050SU1SNTG",O="Fn050WHZ8P9T",E="Fn051AR8RX8S",y=`https://${Object(n.n)()}/help/articles/16798528781971`,C=`https://${Object(n.n)()}/contact`,I="https://docs.google.com/spreadsheets/d",j="Fn0133"},ECHX:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("m5Yc");const{USER:t}=n.b,a=o(i=>{var c;return((c=i)===null||c===void 0?void 0:c.type)===t},"isRichTextUserElement")},EHXP:function(w,s,e){"use strict";var n=e("Lgge"),t=e("9068"),a=e("SQ0V"),i=e("RVJP"),c=e("sjEp"),r=e("O86Y"),f=e("beVI"),l=e("E3dU"),p=e("lhZz"),h=e("ohbk"),u=e("cU/a"),b=e("pZC0"),v=e("Yauy"),d=e("xcHN"),m=e("25cE"),g=e("HKlo"),O=e("gpLM"),E=e("G5NC"),y=e("s4P+"),C=e("ZqJU"),I=e("HW3N"),j=e("kBpe"),M=e("/YJq"),T=e("RV0M"),D=e("2VFn"),S=e("I0j/"),A=e("37+L"),P=e("3NZ6"),N=e("oUrV"),G=e("rZ8V"),V=e("hjzp"),k=e("P9LH"),x=e("dmdh"),H=e("S9on"),R=e("Wn1n"),W=e("KcWJ"),U=e("RWAF"),_=e("tF1a"),B=e("O9Jz");const z=Object(a.c)("Jumps to a message in another workspace via navigateToRoute",($,Q,K,Z)=>{let{channelId:ne,ts:F,threadTs:J,teamId:X,subdomain:Y,isSpaceship:ae,dangerouslyOverrideRouting:ee=!1}=K;if(!Object(E.a)())return n.a.reject(new Error("jumpViaRoutes called outside Sonic"));const q=Object(C.a)({teamId:X,subdomain:Y});if(!q)return n.a.reject(new Error(`Unable to find workspace with teamId ${X} or subdomain ${Y}`));Object(y.a)({getState:Q,label:"JUMP-TO-MESSAGE"}).info("jumpViaRoutes",{channelId:ne,ts:F,threadTs:J,teamId:X,subdomain:Y});const te=Q();var de;const se=(de=Object(p.getStateByTeamId)(q))!==null&&de!==void 0?de:te,re=Object(i.d)(te,"thread_root_permalink")==="on",oe=q!==Object(r.g)(te),{shouldUseNavigate:ce,getSiblingView:ue}=Z(T.a),Pe=!oe&&ce,Ye=Object(G.m)(se),$e=Object(c.a)(te);if(!Pe&&!Ye&&$e&&J)return ee&&Object(v.Y)(te,Object(R.a)(te),!1)?$(Object(W.a)({channelId:ne,threadTs:J,highlightTs:F})):$(Object(M.a)({channelId:ne,threadTs:J,threadTsToHighlight:F,replaceHistoryState:!0,isSpaceship:ae,teamId:q}));const Ke=oe?Be=>Object(p.dispatchForTeamId)(q,Be):$;if(J&&(re||ae||J!==F)){if(Pe||Ye){if(ae)$(Object(P.a)({fileId:Object(V.b)(ne),threadTs:J,source:N.a.JUMP_TO_MESSAGE}));else{var qe;Ke(Object(S.a)(Object(A.fb)({channelId:ne,threadTs:J,replyTs:F,highlightRoot:!0,dangerouslyOverrideRouting:ee&&Object(v.Y)(te,(qe=ue(te,{container:D.h.Primary}))===null||qe===void 0?void 0:qe.id,!1)})))}return n.a.resolve()}return $(Object(u.a)({teamId:q,routeName:m.w,flexName:"thread",flexParams:{threadId:Object(d.c)(ne,J),replyTs:F}}))}if(Pe||Ye){if(J){var ct;Ke(Object(S.a)(Object(A.fb)({channelId:ne,threadTs:J,replyTs:F,highlightRoot:!0,dangerouslyOverrideRouting:ee&&Object(v.Y)(te,(ct=ue(te,{container:D.h.Primary}))===null||ct===void 0?void 0:ct.id,!1)})))}else Object(U.a)(te,ne)?$(Object(S.a)(Object(A.d)({channelId:ne,tabId:_.a.Messages,startTs:F}))):Ke(F?Object(S.a)(Object(A.K)(ne,F,F)):Object(S.a)(Object(A.i)(ne)));return n.a.resolve()}return $(Object(h.a)({teamId:q,id:ne,startTs:F}))});z.meta={name:"createThunk",key:"createThunkjumpViaRoutes",description:"Jumps to a message in another workspace via navigateToRoute"};const L=Object(a.c)("Jumps to a message in the client",($,Q,K,Z)=>{let{channelId:ne,ts:F,threadTs:J,teamId:X,subdomain:Y,shouldOpenInTile:ae,listRecordId:ee,dangerouslyOverrideRouting:q=!1}=K;const te=Q(),de=Object(l.d)(te,ne,!1),se=Object(r.g)(te);let re=!1;if(se){const Be=Object(f.s)(te,se),pe=Be&&Be.domain;re=X===se||Y===pe}const oe=Object(C.a)({teamId:X,subdomain:Y}),ue=(de&&se?Object(I.a)({state:te,channel:de,currentTeamId:se,preferredTeamId:oe??void 0}):void 0)||re&&se||oe;if(!ue){const Be=Object(v.Fb)(te,de);if(!Be||Object(j.i)())return n.a.reject(new Error("jumpToMessage: Could not find suitable target workspace"));$(Object(h.a)({id:ne,teamId:Be}))}let Pe=!1,Ye=!1,$e;const Ke=Object(b.c)(te,ne);if(de&&Ke){$e=Object(V.b)(ne);const Be=$e&&Object(x.e)(te,$e);Pe=Be&&Object(t.a)(Be)&&(Object(k.u)(Be)||Object(k.h)(Be)||Object(k.jb)(Be)),Ye=Object(k.o)(Be)}let qe=J;if(Pe&&!qe&&(qe=F),Ye&&$e&&!qe)return $(Object(H.a)({listId:$e,recordId:ee,threadTs:qe})),n.a.resolve();const{shouldUseNavigate:ct}=Z(T.a);if(!ct){const Be=Object(i.d)(te,"thread_root_permalink")==="on";$(qe&&(Be||Pe||qe!==F)?Object(O.c)({focusKey:g.c.THREAD_MESSAGE_LIST,focusMetadata:{params:{threadId:Object(d.c)(ne,qe),replyTs:F}}}):Object(O.c)({focusKey:g.c.MESSAGE_PANE_MESSAGE_LIST,focusMetadata:{id:ne,uiState:{ts:F}}}))}return ae?($(qe?Object(B.a)({viewId:"thread",params:{threadId:Object(d.c)(ne,qe),replyTs:F,highlightTs:F}}):Object(B.a)({viewId:ne,params:F?{startTs:F,highlightTs:F}:{}})),n.a.resolve()):$(z({channelId:ne,ts:F,threadTs:qe,teamId:ue??void 0,subdomain:Y,isSpaceship:Pe,dangerouslyOverrideRouting:q}))});L.meta={name:"createThunk",key:"createThunkjumpToMessage",description:"Jumps to a message in the client"},s.a=L},EIVZ:function(w,s,e){w.exports=e.p+"slack_logo_mark-01b46d3.svg"},EVu0:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("BHdc"),c=e("n3tL"),r=e("E3dU"),f=e("fi3B"),l=e("sGXp"),p=e("swWY"),h=e("Hm4q");const u={className:c.default.string,"data-qa":c.default.string,"data-sk":c.default.string,id:c.default.string,isDeactivated:c.default.bool,truncate:c.default.bool,truncateWidth:c.default.oneOfType([c.default.string,c.default.number]),withTruncationTooltip:c.default.bool,mpim:c.default.object},b={id:void 0,isDeactivated:!1,className:void 0,mpim:void 0,truncate:!1,truncateWidth:void 0,withTruncationTooltip:void 0,"data-qa":void 0,"data-sk":"inline_mpim_entity"};function v(m){const{className:g,"data-qa":O,"data-sk":E,id:y,isDeactivated:C,mpim:I,truncate:j,truncateWidth:M,withTruncationTooltip:T}=m,D=Object(i.default)(g,"c-inline_mpim_entity"),S=y||(I==null?void 0:I.id),A=C?l.d.dim:null;return t.a.createElement(f.a,{className:D,"data-id":S,"data-qa":O,"data-sk":E,style:A,truncate:j,truncateWidth:M,withTruncationTooltip:T,primaryContent:t.a.createElement("span",{className:"c-inline_mpim_entity__content"},t.a.createElement(p.a,{id:S,inline:!0,mpim:I,width:M,"data-qa":"inline_mpim_entity__name"}))})}o(v,"InlineMpimEntity"),v.displayName="InlineMpimEntity",v.propTypes=u,v.defaultProps=b;function d(m,g){let{id:O,mpim:E}=g;return{mpim:E||Object(r.d)(m,O)}}o(d,"mapStateToProps"),s.a=Object(a.a)(d)(v)},Ec0U:function(w,s,e){"use strict";e.d(s,"a",function(){return ba});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("/MKj"),c=e("ifKl"),r=e("OZf9"),f=e("Muja"),l=e("zmn3"),p=e("oSkh"),h=e("zxER"),u=e("RVJP"),b=e("Atq3"),v=e("gNhz"),d=e("E3dU"),m=e("xwCZ"),g=e("9Gfp"),O=e("ktUG"),E=e("+oez"),y=e("dmdh"),C=e("7ibc"),I=e("P9LH"),j=e("bTgy"),M=e("hjzp"),T=e("E97Y"),D=e("pZC0"),S=e("K7jq"),A=e("YUBf"),P=e("mzsf"),N=e("4HNC"),G=e("CD4m"),V=e("nFQW"),k=e("Iy3M"),x=e("y/Pn"),H=e("FdVR"),R=e("beVI"),W=e("G0eX"),U=e("nNoG");const _=new U.b("share-dialog");function B(Zn){let{channel:Xn}=Zn;const Ht=Object(h.c)(Xe=>Object(H.a)(Xe,Xn)),ut=Object(h.c)(R.g),gt=Object(h.c)(Xe=>Object(R.s)(Xe,Ht[0])),Wt=Object(W.h)(gt),Mt=Ht.length;return!Object(x.a)(Xn)||Mt===0||!ut||!gt?null:Mt===1?_.rt("{otherTeamName}",{otherTeamName:Wt}):_.rt("{otherTeamName}, and {numOtherTeams} {numOtherTeams, plural, =1 {other team} other {other teams}}",{numOtherTeams:Mt-1,otherTeamName:Wt})}o(B,"ShareDialogSharedChannelText");var z=B,L=e("FXMY"),$=e("Z6bF"),K=o(Zn=>{let{file:Xn,channelGrant:Ht,channel:ut}=Zn;var gt;const Wt=(gt=Xn.shares)===null||gt===void 0?void 0:gt.private,{fileId:Mt}=Object($.a)(ut);if(!Wt||!Mt)return Ht.access;const Xe=Object(M.a)(Mt);return!!Object.keys(Wt).find(Pt=>Pt===Xe)&&Wt[Xe][0].access===v.a.Write||Ht.access===v.a.Write?v.a.Write:Ht.access},"getEffectiveAccessForChannel"),Z=e("68qM"),ne=e("q3qm"),F=e("O86Y"),J=e("hUMe"),X=e("ZobM"),Y=e("6Tgc"),ae=e("FRd1"),ee=e("OaiI"),q=e("/CFe");const te=new U.b("share-dialog"),de={elementName:"quip_org_access_select",onOptionSelected:{enableClogAction:!0,setElementValueOnAction:!0}},se={onOptionSelected:{action:O.UiAction.SELECT}};function re(Zn){let{file:Xn,onOrgSharingChange:Ht=c.a,modifiedOrgSharingSetting:ut,hasOrgSharingSettingError:gt=!1,isSlackList:Wt,isOrgWideTemplate:Mt}=Zn;const Xe=Object(h.c)(R.g),bt=Object(h.c)(F.i),Nt=Object(h.c)(ee.isListsEnabled),Pt=Object(h.c)(En=>Object(u.d)(En,"canvas_templates_admin")==="on"),nn=Object(h.c)(En=>Object(I.wb)(Xn,En)),rn=Pt&&nn&&Mt,mn=o(()=>{switch((Xn==null?void 0:Xn.org_or_workspace_access)||"none"){case"read":return ne.a.Viewer;case"write":return ne.a.Editor;default:return ne.a.None}},"getInitialFileCrossWorkspaceSetting"),vn=mn(),[Xt,ht]=Object(n.useState)(ut||mn),[It,Ft]=Object(n.useState)(gt),Bt={Restricted:te.t("Restricted"),Viewer:te.t("Can view"),Edit:te.t("Can edit")},en=Object(n.useMemo)(()=>[{label:Bt.Restricted,value:ne.a.None},{label:Bt.Viewer,value:ne.a.Viewer},{label:Bt.Edit,value:ne.a.Editor}],[Bt.Edit,Bt.Restricted,Bt.Viewer]);Object(Z.a)(()=>{ut||ht(vn)},[ut,Xn==null?void 0:Xn.org_or_workspace_access]),Object(n.useEffect)(()=>{Ft(gt)},[gt,Ft]);const On=Object(n.useMemo)(()=>It?[{id:"org_sharing_api_error",message:te.t("Unable to change permissions right now. Refresh and try again later.")}]:void 0,[It]);if(!Xn||!Object(I.Wb)(Xn))return null;const yn=o(En=>{if(!Xe||!En||!En.value)return;const Vt=En.value!==vn?En.value:void 0;Ht({orgSharingSetting:Vt}),ht(En.value)},"handleOrgShareSettingToggle"),Dn=o(function(En){let Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const an=o(()=>Wt?Nt?te.t("This list can only be accessed by people or channels it\u2019s shared with."):"":nn?te.t("This template can only be accessed by people or channels it\u2019s shared with.",{fallbackHash:"bb3ac1b615309c9a402452c742a7c75ba2062856"}):te.t("This canvas can only be accessed by people or channels it\u2019s shared with."),"restrictedAccessSubtext"),sn=o(()=>Wt?Nt?te.rt("Anyone from {teamName} with the link can view this list.",{teamName:t.a.createElement(J.a,{id:bt})}):"":nn?te.rt("Anyone from {teamName} can view this template.",{fallbackHash:"aaef80c64babfb01375a4cd4cc0cb829d3d112cf",teamName:t.a.createElement(J.a,{id:bt})}):te.rt("Anyone from {teamName} with the link can view this canvas.",{teamName:t.a.createElement(J.a,{id:bt})}),"viewerAccessSubtext");sn.displayName="viewerAccessSubtext";const bn=o(()=>Wt?Nt?te.rt("Anyone from {teamName} with the link can edit and add comments to this list.",{teamName:t.a.createElement(J.a,{id:bt})}):"":nn?te.rt("Anyone from {teamName} can edit and add comments to this template.",{fallbackHash:"b861dd6bbeae7cae99ec5670862e42ece592202f",teamName:t.a.createElement(J.a,{id:bt})}):te.rt("Anyone from {teamName} with the link can edit and add comments to this canvas.",{teamName:t.a.createElement(J.a,{id:bt})}),"editAccessSubtext");bn.displayName="editAccessSubtext";const Tn=[{accessLabel:Bt.Restricted,subtext:an(),icon:t.a.createElement(X.a,{name:"lock",size:"20"})},{accessLabel:Bt.Viewer,subtext:sn(),icon:t.a.createElement(X.a,{name:"eye-open",size:"20"})},{accessLabel:Bt.Edit,subtext:bn(),icon:t.a.createElement(X.a,{name:"edit",size:"20"})}].find(An=>An.accessLabel===En.label)||{accessLabel:"",subtext:"",icon:""};return t.a.createElement("div",{className:"padding_top_25 padding_bottom_25 display_flex"},t.a.createElement("span",{className:"padding_right_100 align_self_center"},Tn.icon),t.a.createElement("div",null,t.a.createElement("span",{className:"p-share_dialog_share_locations__org_sharing_title"},Tn.accessLabel),Vt?null:t.a.createElement("div",{className:"p-share_dialog_share_locations__org_sharing_caption"},Tn.subtext)))},"renderOptions");return Dn.displayName="renderOptions",t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group_header","data-qa":q.b.SHARE_DIALOG_ORG_SHARING_TEAM},Pt?te.rt("General access for everyone in {teamName}",{teamName:t.a.createElement(J.a,{id:bt})}):te.rt("Sharing in {teamName}",{teamName:t.a.createElement(J.a,{id:bt})})),t.a.createElement(ae.a,{autoClogProps:de,actionProps:se},t.a.createElement(Y.a,{className:"p-share_dialog_share_locations__org_sharing__select",selectId:"org_sharing_level",options:en,width:"100%",classPrefix:"p-share_dialog_share_locations__org_sharing",onOptionSelected:yn,renderOption:En=>Dn(En,!1),renderSelectedOption:En=>Dn(En,!0),selectedOption:en.find(En=>En.value===(rn?ne.a.Viewer:Xt)),optionsRowHeight:64,errors:On,isDisabled:rn})),rn&&t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_org_wide_template_text"},Pt?te.rt("Adding to <b>Created by {teamName}</b> automatically grants everyone <b>Can view</b> permission. People and channels who have been individually granted <b>Can edit</b> permissions will still have edit access.",{teamName:t.a.createElement(J.a,{id:bt})}):""))}o(re,"ShareDialogOrgSharingDropdown");var oe=e("ndUn"),ce=e("8eQr");const ue=new U.b("share-dialog");var Pe=t.a.memo(o(function(Xn){let{file:Ht}=Xn;const ut=Object(I.cb)(Ht),gt=Object(h.c)(R.i),Wt=Object(ce.a)(gt==null?void 0:gt.id,ut);if(!Ht||ut.length<=1)return null;const Mt=o(Xe=>{let{teamId:bt}=Xe;return t.a.createElement(oe.a,{id:bt,key:bt,"data-qa":"share_dialog_connected_team_entity"})},"renderTeamRow");return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group_header bold"},ue.t("Organizations")),Wt.map(Xe=>Mt({teamId:Xe})))},"ShareDialogConnectedOrgList")),Ye=e("3V+Q"),$e=e("Ws5+"),Ke=e("gZuW"),qe=e("GMcg");const ct=new U.b("share-dialog");var Be=t.a.memo(o(function(Xn){let{file:Ht,onOrgTemplateSettingChange:ut=c.a,hasOrgTemplateSettingError:gt}=Xn;const Wt=Object(h.c)(F.i),Mt=Object(h.c)(Xt=>Object(u.d)(Xt,"canvas_templates_admin")==="on"),Xe="publish_org_template_checkbox",bt=Object(h.c)(Xt=>Object(j.a)(Xt,Ht)),[Nt,Pt]=Object(n.useState)(bt),nn=Object(n.useCallback)(Xt=>{const ht=!!Xt.target.checked;Pt(ht),ut(ht!==bt?ht:void 0)},[bt,ut]),rn=Object(h.c)(Xt=>Object(I.wb)(Ht,Xt)),mn=Object(h.c)(Xt=>Object(I.vb)(Ht,Xt)),vn=Object(h.c)(Xt=>Object(qe.a)(Xt,Ht.id));return!Mt||!Ht||!rn||mn||vn?null:t.a.createElement(t.a.Fragment,null,t.a.createElement(Ye.b,{className:"no_margin",text:ct.rt("Add this template to the <b>Created by {teamName}</b> section in the template gallery for everyone in your organization.",{teamName:t.a.createElement(J.a,{id:Wt})}),type:"inline",cursor:"pointer","data-qa":"publish_org_template_label"},t.a.createElement($e.a,{id:Xe,name:Xe,checked:Nt,onChange:nn,"data-qa":Xe})),gt&&t.a.createElement(Ke.a,null,ct.t("Unable to save template setting. Refresh and try again later.")))},"ShareDialogOrgTemplateCheckbox")),pe=e("dlm8");const fe=new U.b("share-dialog");function me(Zn){let{channelId:Xn}=Zn;var Ht;const ut=Object(h.c)(gt=>{var Wt,Mt;return(Ht=(Wt=Object(pe.d)(gt,Xn))===null||Wt===void 0||(Mt=Wt.counts)===null||Mt===void 0?void 0:Mt.member_count)!==null&&Ht!==void 0?Ht:0});return ut===0?null:fe.rt("{count, plural, =1 {# person} other {# people}}",{count:ut})}o(me,"ShareDialogChannelMembershipText");var Se=e("SgHf"),je=e("2K8U"),Ue=e("Zbwg"),ve=e("Tsh7");const ge=new U.b("share-dialog");var le;(function(Zn){Zn.Update="update_permission_error",Zn.Revoke="revoke_permission_error"})(le||(le={}));function he(Zn){let{error:Xn,className:Ht,updateLabel:ut}=Zn;const gt=Xn===le.Update&&ut?ut:ge.t("Remove");return t.a.createElement(ve.d,{tip:Xn===le.Update?ge.t("Unable to change access level. Refresh and try again later."):ge.t("Unable to remove access. Refresh and try again later."),"data-qa":"canvas_access_management_tooltip"},t.a.createElement("span",{className:Object(a.default)(Ht,"sk_raspberry_red no_wrap"),"data-qa":"canvas_access_management_error"},t.a.createElement(X.a,{inline:!0,name:"warning"})," ",gt))}o(he,"CanvasAccessErrorEntity");var Te=e("aCzs");const Re=new U.b("share-dialog"),Ve={onOptionSelected:{action:O.UiAction.SELECT}},Ee={uiComponentName:O.UiComponentName.QUIP_PERMISSIONS_ACCESS_SELECT,uiComponentVariant:"access_management",elementName:"quip_permissions_access_select_access_management_option",onOptionSelected:{enableClogAction:!0,setElementValueOnAction:!0}};function Ae(Zn){let{fileId:Xn,entityId:Ht,canUpdateUserPermission:ut,currentAccess:gt,onPermissionChange:Wt,modifiedAccess:Mt,onSelectRevoke:Xe,hasUpdateError:bt,hasRevokeError:Nt}=Zn;const Pt=Object(Ue.a)(Ht),nn=Object(h.c)(Dn=>Object(y.e)(Dn,Xn),f.a),rn=Object(I.Fb)(nn),mn=[{label:Re.t("Can edit"),value:v.a.Write,overrides:{className:"padding_right_25"}}],vn=Pt&&!rn||!Pt&&ut===Te.a.CAN_UDPATE;if(mn.push({label:Re.t("Can view"),value:v.a.Read,isDisabled:!vn,overrides:{className:"padding_right_25"}}),!vn){let Dn=Re.t("To change this, go to general permissions.");Pt||(ut===Te.a.CANNOT_DOWNGRADE_CHANNEL?Dn=Re.t("This person has edit access through a certain channel."):ut===Te.a.CANNOT_DOWNGRADE_ORG_EDIT&&(Dn=Re.t("Based on general permissions, anyone can edit."))),mn.push({label:Dn,value:"none",height:40,isDisabled:!0,overrides:{className:"p-canvas_access_management_select__option--disabled"}})}mn.push({label:Re.t("Remove"),value:"revoke",overrides:{className:"p-canvas_access_management_select__option--danger"}});const Xt=Mt?mn.find(Dn=>Dn.value===Mt):mn.find(Dn=>Dn.value===gt),[ht,It]=Object(n.useState)(Xt);let Ft;bt?Ft=le.Update:Nt&&(Ft=le.Revoke);const[Bt,en]=Object(n.useState)(Ft),On=Object(n.useCallback)(Dn=>{Wt({access:Dn.value,entityId:Ht,currentAccess:gt}),Dn.value!==(ht==null?void 0:ht.value)&&(Dn.value===v.a.Write||Dn.value===v.a.Read)?It(Dn):Dn.value==="revoke"&&Xe({entityId:Ht})},[It,ht,Ht,Wt,gt,Xe]);if(Object(Z.a)(()=>{Mt||It(Xt)},[Mt,gt]),Object(n.useEffect)(()=>{en(Ft)},[en,Ft]),Bt&&ht)return t.a.createElement(he,{error:Bt,updateLabel:ht.label});let yn=90;return vn||(yn=Pt?180:200),t.a.createElement(ae.a,{autoClogProps:Ee,actionProps:Ve},t.a.createElement(Se.d,{key:`canvas-access-select-${Ht}-${mn.length}`,selectId:`canvas-access-select-${Ht}`,className:"p-canvas_access_management_select",size:je.f.SMALL,width:"auto",minOptionsListWidth:yn,options:mn,selectedOption:ht,onOptionSelected:On,"data-qa":"canvas_access_management_select"}))}o(Ae,"CanvasAccessManagementSelect");var Ge=e("Vzni"),Ze=e("VkPA"),ze=e("iBeP"),lt=e("2yT+"),tt=e("kQBZ");const Ot=o(Zn=>{const Xn=Object(i.useDispatch)(),[Ht,ut]=Object(n.useState)([]),gt=Object(h.c)(Wt=>Object(qe.a)(Wt,Zn.id));return Object(n.useEffect)(()=>{if(!Object(I.Wb)(Zn)||gt)return;const Wt=Xn(Object(tt.Ue)({fileId:Zn.id,reason:"share-dialog-share-locations"}));return Wt==null||Wt.then(Mt=>{let{ok:Xe,userIdUpdateMap:bt}=Mt;Xe&&ut(bt)}),()=>{Wt==null||Wt.cancel()}},[Xn,Zn,gt]),Ht},"useCanvasCanUpdateUserLevelPermissions");var Ct=e("sGXp"),St=e("Fn/R"),zt=e("rZ8V"),kt=e("djjd"),on=e("5BbJ");const _t=Object(n.memo)(Zn=>{let{channelId:Xn}=Zn;const Ht=Object(h.c)(Wt=>Object(d.d)(Wt,Xn)),ut=Object(h.c)(Wt=>Object(on.a)(Wt,{channel:Ht})),gt=Object(h.c)(Wt=>Object(kt.a)(Object(d.a)(Wt),Ht)&&Object(zt.m)(Wt));return!gt||gt&&!ut?null:t.a.createElement(t.a.Fragment,null,ut,"\u2002\xB7\u2002")});var be=e("9hLx"),ot=e("qDEp"),rt=e("iUFw"),Jt=e("mNat"),Qt=e("BHH9"),qt=e("vnX7");const $t=new U.b("share-dialog"),hn={width:"100%",minWidth:"0"};var gn=t.a.memo(o(function(Xn){let{file:Ht}=Xn;const ut=Object(i.useDispatch)(),gt=Object(h.c)(ee.isListsEnabled),Wt=Object(n.useCallback)(()=>{ut(Object(qt.a)({templateId:Qt.a.ADD_RECORD_TO_LIST_NO_NOTIFICATION,list:Object(Jt.g)(Ht)}))},[Ht,ut]),Mt=gt?$t.t("Share as a form"):"Share as a form",Xe=gt?$t.t("Anyone can contribute - even without List access"):"Anyone can contribute - even without List access",bt=Object(n.useMemo)(()=>t.a.createElement(ot.d,{style:hn,onClick:Wt},t.a.createElement("div",{className:"display_flex align_items_center"},t.a.createElement(X.a,{name:"edit"}),t.a.createElement("div",{className:"display_flex flex_direction_column padding_left_75"},t.a.createElement("div",{className:"bold"},Mt),t.a.createElement("div",null,Xe)))),[Xe,Wt,Mt]),Nt=gt?$t.t("Start"):"Start",Pt=Object(n.useMemo)(()=>t.a.createElement(rt.d,{type:"outline",size:"small",onClick:Wt},Nt),[Wt,Nt]);return t.a.createElement(N.a,{size:Ct.c.small,primaryContent:bt,secondaryContent:Pt})},"CreateWorkflowFormCTAListEntity"));const Cn=new U.b("share-dialog"),Mn={width:"100%",minWidth:"0"};var kn=t.a.memo(o(function(Xn){let{file:Ht}=Xn;const ut=Object(i.useDispatch)(),gt=Object(h.c)(ee.isListsEnabled),Wt=Object(n.useCallback)(()=>{ut(Object(qt.a)({templateId:Qt.a.ADD_RECORD_TO_LIST_NO_NOTIFICATION,list:Object(Jt.g)(Ht)}))},[Ht,ut]),Mt=gt?Cn.t("New form"):"New form",Xe=Object(n.useMemo)(()=>t.a.createElement(ot.d,{style:Mn,onClick:Wt},t.a.createElement("div",{className:"display_flex align_items_center"},t.a.createElement("div",{className:"p-share_dialog_share_locations__new_form_plus"},t.a.createElement(X.a,{name:"plus"})),t.a.createElement("div",{className:"bold padding_left_25"},Mt))),[Mt,Wt]);return t.a.createElement(N.a,{size:Ct.c.small,primaryContent:Xe})},"CreateNewWorkflowFormListEntity")),na=e("NjAx");const oa=new U.b("share-dialog"),ba="unknown_private_channel_count_id",ga={eventId:O.EventId.QUIP_SHARE,onClick:{enableClogAction:!0}};var ya=s.b=t.a.memo(o(function(Xn){let{file:Ht,isSlackDoc:ut,isSlackList:gt,initialTab:Wt,onPermissionChange:Mt=c.a,modifiedPermissions:Xe,onOrgSharingChange:bt,modifiedOrgSharingSetting:Nt,handleOnSelectRevoke:Pt=c.a,permissionsFailedEntityIds:nn,hasOrgSharingSettingError:rn,hasOrgTemplateSettingError:mn,onOrgTemplateSettingChange:vn,onSwitchTabsWithChanges:Xt,onTabChange:ht,tabsRef:It,revokeFailedEntityIds:Ft}=Xn;const Bt=Object(h.c)(C.f),en=Object(h.c)(wt=>Object(u.d)(wt,"canvas_user_created_templates_ga",!1)==="on"),On=Object(h.c)(wt=>Object(u.d)(wt,"canvas_templates_admin")==="on"),yn=Object(h.c)(C.b),Dn=Object(h.c)(wt=>Object(I.wb)(Ht,wt)),En=Object(h.c)(wt=>Object(I.vb)(Ht,wt));var Vt;const an=(Vt=Object(h.c)(na.L))!==null&&Vt!==void 0?Vt:!1,sn=Object(h.c)(zt.m),bn=Object(i.useDispatch)(),jn=Object(h.c)(g.a),Tn=Object(h.c)(wt=>{var pn;const Hn={public:[],private:[]};return Object(r.a)((pn=Ht.shares)===null||pn===void 0?void 0:pn.private,(Jn,Ca)=>{const qn=Object(d.d)(wt,Ca);if(Bt&&Object(D.c)(wt,Ca)){const Ra=Object(M.b)(Ca),xn=Object(y.e)(wt,Ra).linked_channel_id,Ta=Object(d.d)(wt,xn);if(xn&&Ta)if(Object(T.k)(Ta)){var ua,va;!!(!((ua=Ht.shares)===null||ua===void 0)&&ua.private?Object.keys((va=Ht.shares)===null||va===void 0?void 0:va.private):[]).find(Ha=>Ha===xn)||Hn.public.push({channelId:xn,access:Jn[0].access})}else{var Ea,_a;!!(!((Ea=Ht.shares)===null||Ea===void 0)&&Ea.public?Object.keys((_a=Ht.shares)===null||_a===void 0?void 0:_a.public):[]).find(Ha=>Ha===xn)||Hn.public.push({channelId:xn,access:Jn[0].access})}}else if(qn&&Object(T.k)(qn)){const Ra=K({file:Ht,channelGrant:Jn[0],channel:qn});Hn.private.push({channelId:Ca,access:Ra})}}),Hn},f.a),An=Object(I.Y)(Ht),Vn=Object(h.c)(wt=>{var pn;const Hn=[];return Object(r.a)((pn=Ht.shares)===null||pn===void 0?void 0:pn.public,(Jn,Ca)=>{const qn=Object(d.d)(wt,Ca);if(qn){const ua=K({file:Ht,channelGrant:Jn[0],channel:qn});Hn.push({channelId:Ca,access:ua})}}),Hn},f.a),un=Object(h.c)(wt=>Object(I.C)(Ht).map(pn=>{const Hn=Object(m.g)(wt,pn.user_id),Jn=Object(S.a)(Hn),Ca=Object(St.a)(Hn);return{...pn,isExternalMember:Jn,isAppOrBotMember:Ca}}),f.a),Kn=Ot(Ht),$n=Object(h.c)(wt=>Object(S.a)(Object(m.g)(wt,Ht.user))),da=Object(h.c)(wt=>Object(L.a)(wt,{file:Ht})),fa=Object(I.Wb)(Ht),aa=Object(I.gb)(Ht),ha=An.length+Tn.public.length+Tn.private.length+(fa?aa:0),Ia=ha>0,Ba=!da&&Object(I.Wb)(Ht),Aa=Object(I.cb)(Ht).length>1||da,Ma=On&&Dn&&!En&&an,ja=un.filter(wt=>yn?!wt.isAppOrBotMember:wt.user_id!=="USLACKBOT").length,Fa=yn?un.filter(wt=>wt.isAppOrBotMember).length:un.length,ta=Fa>0,Pn=Object(be.c)(Ht.id).length,dn=[{id:lt.a.Channels,show:Ia,autoClogProps:{elementName:"canvas_share_dialog_channels"}},{id:lt.a.People,show:Dn?!!ja:!0,autoClogProps:{elementName:"canvas_share_dialog_people"}},{id:lt.a.Integrations,show:yn&&ta||gt,autoClogProps:{elementName:"canvas_share_dialog_integrations"}},{id:lt.a.Settings,show:Ba||Aa,autoClogProps:{elementName:"canvas_share_dialog_general"}}].filter(wt=>!!wt.show),Rt=Wt&&dn.find(wt=>wt.id===Wt)?Wt:dn[0].id,vt=Object(h.c)(wt=>Object(j.a)(wt,Ht)),[At,Gt]=Object(n.useState)(Rt),[ln,Dt]=Object(n.useState)(vt),He=Object(n.useCallback)(wt=>{wt!==At&&(Gt(wt),ht&&ht(wt))},[ht,At]),Le=Object(n.useCallback)(wt=>Xt?!Xt(wt):!0,[Xt]),Qe=Object(n.useCallback)(wt=>{Dt(vt&&wt===void 0||!vt&&wt===!0),vn&&vn(wt)},[vt,vn]),Ce=oa.t("{count, plural, =1 {# restricted channel} other {# restricted channels}}",{count:aa}),ye=Object(n.useMemo)(()=>({name:Ce,is_channel:!0,is_private:!0,id:"private"}),[Ce]),ie=o(()=>!gt||Pn?null:t.a.createElement(gn,{file:Ht}),"renderCreateWorkflowFormCTA");ie.displayName="renderCreateWorkflowFormCTA";const Oe=Object(I.N)(Ht),We=ut||gt;if((!Oe||!Oe.length)&&!We)return null;const ke=o(wt=>{let{entityId:pn,channelCount:Hn}=wt;Pt({entityId:pn,unknownPrivateChannelCount:Hn})},"onSelectRevoke"),nt=o(wt=>{ke({entityId:wt})},"onClickRevoke"),st=o(()=>{ke({channelCount:aa})},"onClickRevokeNonmemberPrivateChannel"),mt=oa.t("Remove"),pt=t.a.createElement("span",{className:"p-share_dialog_share_locations__conversation_entity c-base_list_entity"},mt),Et=oa.t("Remove access"),it=o(wt=>{let{revokeNonmemberPrivateChannel:pn,id:Hn,elementNameSuffix:Jn}=wt;return t.a.createElement("div",{className:Object(a.default)({"display_flex align_items_baseline":pn,"c-base_list_entity__secondary_content":pn})},pn?pt:null,t.a.createElement(ve.d,{tip:Et},t.a.createElement(V.a,{onClick:()=>pn?st():nt(Hn),"aria-label":Et,className:"p-share_dialog_share_locations__revoke_button","data-qa":"p-share_dialog_share_locations__revoke_button",autoClogProps:{uiComponentName:O.UiComponentName.QUIP_PERMISSIONS_REVOKE,uiComponentVariant:`revoke_${Jn}`,elementName:"quip_permissions_revoke_button",onClick:{enableClogAction:!0}},icon:"times-small"})))},"getRevokeButton"),at=o(wt=>{const pn=Kn.find(Hn=>{let{userId:Jn}=Hn;return Jn===wt});return pn?pn.canUpdate:Te.a.CAN_UDPATE},"getUserLevelUpdatePermission"),ft=o(wt=>{let{id:pn,rowAccess:Hn,elementNameSuffix:Jn="other",renderRevokeButton:Ca=!0}=wt;if(!pn||!Hn)return null;let qn;if(Hn===v.a.Owner||!fa&&pn===jn)qn=t.a.createElement("div",{className:"no_wrap p-share_dialog_share_locations__user_level_access","data-qa":"p-share_dialog_share_locations__access_level"},Object(Ge.c)(Hn));else if(fa){const Ea=Object(Ue.a)(pn),_a=Ca,Ra=Ft&&Ft.includes(pn),Va=_a?t.a.createElement(Ae,{fileId:Ht.id,entityId:pn,canUpdateUserPermission:Ea?void 0:at(pn),currentAccess:Hn,onPermissionChange:Mt,modifiedAccess:Xe&&Xe[pn],onSelectRevoke:ke,hasUpdateError:nn&&nn.includes(pn),hasRevokeError:Ra}):t.a.createElement(t.a.Fragment,null,!Ra&&Object(Ge.c)(Hn),!Ra&&Ca&&it({id:pn,elementNameSuffix:Jn}),Ra&&t.a.createElement(he,{error:le.Revoke}));qn=t.a.createElement("div",{className:Object(a.default)("display_flex align_items_center no_wrap",{"p-share_dialog_share_locations__user_level_access":!Ea&&!_a}),"data-qa":"p-share_dialog_share_locations__access_level"},Va)}let ua;const va=bn(Object(E.a)({channelId:pn}));return va&&(Object(x.a)(va)?ua=t.a.createElement(G.d,{size:"small",text:t.a.createElement(G.c,{withTruncationTooltip:!0},t.a.createElement(z,{channel:va}))}):ua=t.a.createElement(G.c,{withTruncationTooltip:!0},t.a.createElement(me,{channelId:pn}))),sn&&(ua=t.a.createElement(t.a.Fragment,null,t.a.createElement(_t,{channelId:pn}),ua)),t.a.createElement(P.b,{key:pn,id:pn,type:P.a.SMALL,secondaryContent:qn,className:Object(a.default)({"p-share_dialog_share_locations__conversation_entity":!0,"p-share_dialog_share_locations__conversation_entity_small":!0}),showPresence:!1,showSubtext:!1,inlineNameSuffix:ua,useShortMode:!0,showTruncatedChannelNameTooltip:!0})},"renderRow");ft.displayName="renderRow";const yt=o(()=>{const wt=[],pn=ie();return pn&&wt.push(pn),Object(r.a)(un,Hn=>{if(Hn.isAppOrBotMember&&Hn.user_id!==Ht.user){const Jn=!$n&&Hn.user_id!==jn;wt.push(ft({id:Hn.user_id,rowAccess:Hn.access,elementNameSuffix:"user",renderRevokeButton:Jn}))}}),gt&&!pn&&wt.push(t.a.createElement(kn,{file:Ht})),wt},"renderIntegrations");yt.displayName="renderIntegrations";const Tt=o(()=>{const wt=[];if(Object(r.a)(un,pn=>{if(!pn.isAppOrBotMember&&pn.user_id!==Ht.user){const Hn=!$n&&pn.user_id!==jn;wt.push(ft({id:pn.user_id,rowAccess:pn.access,elementNameSuffix:"user",renderRevokeButton:Hn}))}}),Dn&&!En&&!en){const pn=!$n&&Ht.user!==jn,Hn=ft({id:Ht.user,rowAccess:v.a.Write,elementNameSuffix:"user",renderRevokeButton:pn}),Jn=jn===Ht.user?0:wt.length;wt.splice(Jn,0,Hn)}return wt},"renderUsers"),Zt=o(()=>{var wt;return Bt?Object(l.a)(Vn,pn=>{let{channelId:Hn,access:Jn}=pn;return ft({id:Hn,rowAccess:Jn,elementNameSuffix:"public_channel",renderRevokeButton:!$n})}):Object(l.a)((wt=Ht.shares)===null||wt===void 0?void 0:wt.public,(pn,Hn)=>{const Jn=pn[0].access||v.a.Write;return ft({id:Hn,rowAccess:Jn,elementNameSuffix:"public_channel",renderRevokeButton:!$n})})},"renderPublicChannels"),In=o(()=>Object(l.a)(Tn.public,wt=>ft({id:wt.channelId,rowAccess:wt.access,elementNameSuffix:"public_channel",renderRevokeButton:!$n})).concat(Object(l.a)(Tn.private,wt=>ft({id:wt.channelId,rowAccess:wt.access,elementNameSuffix:"private_channel",renderRevokeButton:!$n}))),"renderPrivateChannels"),_n=oa.t("{count, plural, =1 {This could be a private channel, or a channel in a workspace you don\u2019t have access to.} other {These could be private channels, or channels in a workspace you don\u2019t have access to.}}",{count:aa}),Nn=t.a.createElement(G.c,null,t.a.createElement(ve.d,{tip:_n,"data-qa":"p-share_dialog_share_locations__other_private_tooltip"},t.a.createElement("span",null,t.a.createElement(k.a,{channel:ye,showFilledIcon:!0,"data-qa":"p-share_dialog_share_locations__channel_name"})))),Fn=o(()=>{if(!aa||!fa)return null;const wt=Ft&&Ft.includes(ba),pn=$n?null:t.a.createElement(t.a.Fragment,null,!wt&&it({revokeNonmemberPrivateChannel:!0}),wt&&t.a.createElement(he,{error:le.Revoke,className:"c-base_list_entity__secondary_content"})),Hn=Ct.d.dim;return t.a.createElement(N.a,{className:"p-share_dialog_share_locations__conversation_entity","data-qa":"p-share_dialog_share_locations__other_private_description",size:"small",primaryContent:t.a.createElement(G.d,{size:"small",text:Nn,subtext:pn,style:Hn})})},"renderUnknownPrivateChannelCount");Fn.displayName="renderUnknownPrivateChannelCount";const Bn=t.a.createElement(p.a,null,wt=>{let{width:pn,height:Hn}=wt;return t.a.createElement(ze.a,{width:pn,height:Hn},t.a.createElement(A.e,{className:"margin_top_125"},ie(),!Dn||en?ft({id:Ht.user,rowAccess:v.a.Owner,elementNameSuffix:"user"}):null,Tt()))}),Un=t.a.createElement(p.a,null,wt=>{let{width:pn,height:Hn}=wt;return t.a.createElement(ze.a,{width:pn,height:Hn},t.a.createElement(A.e,{className:"margin_top_125"},yt()))}),zn=t.a.createElement(p.a,null,wt=>{let{width:pn,height:Hn}=wt;return t.a.createElement(ze.a,{width:pn,height:Hn},t.a.createElement(A.e,{className:"margin_top_125"},ie(),Zt(),In(),Fn()))}),wn=t.a.createElement(p.a,null,wt=>{let{width:pn,height:Hn}=wt;return t.a.createElement(ze.a,{width:pn,height:Hn},t.a.createElement(A.e,{className:"p-share_dialog_share_locations__settings"},Ba?t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group"},t.a.createElement(re,{file:Ht,onOrgSharingChange:bt,modifiedOrgSharingSetting:Nt,hasOrgSharingSettingError:rn,isSlackList:gt,isOrgWideTemplate:ln})):null,Ma?t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group"},t.a.createElement(Be,{file:Ht,onOrgTemplateSettingChange:Qe,hasOrgTemplateSettingError:mn})):null,Aa?t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group"},t.a.createElement(Pe,{file:Ht})):null))}),Rn=dn.map(wt=>{let pn;switch(wt.id){case lt.a.Channels:pn={...wt,title:oa.t("Channels"),content:zn,titleCount:ha};break;case lt.a.People:pn={...wt,title:oa.t("People"),content:Bn,titleCount:ja};break;case lt.a.Integrations:pn={...wt,title:oa.t("Integrations"),content:Un,titleCount:Fa};break;case lt.a.Settings:pn={...wt,title:oa.t("General"),content:wn};break;default:Object(b.a)(wt.id)}return pn}),ra=dn.find(wt=>wt.id===At)?At:Rt;return t.a.createElement(Ze.a,{className:"p-share_dialog_share_locations__tabs",tabs:Rn,onTabChange:He,tabPanelClassnames:`p-share_dialog_share_locations__tabs--${ra}`,fullHeight:!0,currentTabId:ra,onTabWillChange:Le,ref:It,autoClogProps:ga})},"ShareDialogShareLocations"))},Ep1z:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return!t.is_public&&!t.is_external&&!t.is_shared}o(n,"isFilePrivateAndUnshared")},Epto:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("QLhP"),t=e("+tZp");function a(i){let{userId:c,botId:r,username:f,botProfile:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{member:p,bot:h}=Object(n.f)(i,{userId:c,botId:r,botProfile:l});return p?Object(t.a)(i,p):r&&f?f:h?h.name||"":!r&&!h&&f?f:""}o(a,"getMessageSenderNameFromState")},ExKK:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("bPB8"),i=e("BeL+"),c=e("SQ0V"),r=e("3l96"),f=e("+kJ4"),l=e("dmdh"),p=e("hRxb"),h=e("o2tK"),u=e("FXMY"),b=e("P9LH"),v=e("zxER"),d=e("nNoG"),m=e("zZZw"),g=e("ktUG"),O=e("z28c"),E=e("YUBf"),y=e("hUMe"),C=e("Trx9"),I=e("1TxD");const j=new d.b("drafts"),M={elementName:"external_quip_speed_bump",elementType:g.ElementType.MODAL},T={elementName:"cancel",elementType:g.ElementType.BUTTON,action:g.UiAction.CLICK,onClick:{enableClogAction:!0}},D={elementName:"share",elementType:g.ElementType.BUTTON,action:g.UiAction.CLICK,onClick:{enableClogAction:!0}};function S(G){let{onClose:V,onSend:k,teamIds:x,fileCount:H}=G;if(!Object(v.c)(O.a))return null;const W=x.map(U=>t.a.createElement(y.a,{key:U,id:U}));return t.a.createElement(C.a,{eventId:g.EventId.QUIP_EXTERNAL_FILE_SPEED_BUMP},t.a.createElement(E.a,{closeModal:V,overlayClassName:"p-message_pane_input_external_members_speed_bump",autoClogProps:M},t.a.createElement(E.l,{title:j.t("Some people won\u2019t be able to view {count, plural, =1 {this canvas} other {these canvases}}",{count:H})}),t.a.createElement(E.d,null,t.a.createElement(E.e,null,t.a.createElement("p",null,x.length?j.rt("{teams} {count, plural, =1 {owns this canvas} other {own these canvases}} so only people from {teamCount, plural, =1 {that organization} other {those organizations}} can grant others access.",{count:H,teams:Object(m.a)(W,{react:!0}),teamCount:x.length}):j.t("Another team owns {count, plural, =1 {this canvas} other {these canvases}} so only people from that organization can grant others access.",{count:H})))),t.a.createElement(E.g,null,t.a.createElement(E.h,{className:"p-message_pane_input_external_members_speed_bump__footer"},t.a.createElement(E.c,{type:"outline",onClick:V,autoFocus:!0,autoClogProps:T},j.t("Back")),t.a.createElement(E.c,{type:"primary",onClick:()=>{k(),V()},className:"p-message_pane_input_external_members_speed_bump__send",autoClogProps:D},j.t("Share Anyway"))))))}o(S,"MessagePaneInputExternalQuipFileSpeedBump"),S.displayName="MessagePaneInputExternalQuipFileSpeedBump";var A=S;const P=Object(c.c)("Show external quip doc reshare warning",(G,V,k)=>{let{delta:x,fileIds:H=[],onSend:R}=k;const W=V(),U=Object(h.a)(x),_=Object(a.a)(U.map(L=>Object(p.a)(W,L,!0))),B=[];[...H,..._].forEach(L=>{const $=Object(l.e)(W,L);$&&Object(b.u)($)&&B.push($)});const z=B.filter(L=>Object(u.a)(W,{file:L}));if(z.length>0){const L=Object(i.a)(Object(a.a)(z.map(Q=>Q.user_team))),$=t.a.createElement(A,{fileCount:z.length,teamIds:L,onClose:()=>{G(Object(f.a)())},onSend:R});return G(Object(r.a)({element:$})),{didOpen:!0}}return{didOpen:!1}});P.meta={name:"createThunk",key:"createThunkmaybeOpenExternalQuipFileSpeedBump",description:"Show external quip doc reshare warning"};var N=s.a=P},EyGR:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("3l96"),i=e("SQ0V"),c=e("/MKj"),r=e("+kJ4"),f=e("YUBf"),l=e("nNoG");const p=new l.b("request_access_done"),h=o(()=>{const d=Object(c.useDispatch)(),m=Object(n.useCallback)(()=>{d(Object(r.a)())},[d]),g=p.t("Request sent"),O=p.t("You\u2019ll be notified once it\u2019s been shared with you"),E=p.t("Done");return t.a.createElement(f.a,{closeModal:m,centered:!0,shouldCloseOnOverlayClick:!0},t.a.createElement(f.i,null,t.a.createElement(f.l,null,t.a.createElement("h2",null,g))),t.a.createElement(f.d,null,t.a.createElement(f.e,null,O)),t.a.createElement(f.g,null,t.a.createElement(f.h,null,t.a.createElement(f.c,{type:"primary",onClick:m},E))))},"RequestAccessDoneModal");h.displayName="RequestAccessDoneModal";var u=h;const b=Object(i.c)("Opens the Request Access Done confirmation modal in client",(d,m)=>{d(Object(a.a)({element:t.a.createElement(u,null)}))});b.meta={name:"createThunk",key:"createThunkopenRequestAccessDoneModal",description:"Opens the Request Access Done confirmation modal in client"};var v=s.a=b},EzYr:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("JBL2"),c=e("x5Wd"),r=e("YUBf"),f=e("zBqE"),l=e("3H60"),p=e("vbN2"),h=e("/ZWZ"),u=e("csgs"),b=e("wQZu"),v=e("RMmo");function d(y){let{videoRef:C}=y;Object(n.useEffect)(()=>{const I=new v.a;return I.bindAll([{keys:["space"],handler:()=>{var j;return(j=C.current)===null||j===void 0?void 0:j.togglePlayPause()},filter:j=>{var M;return((M=j.target)===null||M===void 0?void 0:M.nodeName)==="BUTTON"},ignoreInputs:!0}]),()=>I.reset()},[])}o(d,"useKeyCommands");var m=d,g=e("c15m");function O(y){let{url:C,mimeType:I,videoClassNames:j,duration:M,additionalControls:T,modalHeaderChildren:D,onClose:S,onDurationChanged:A}=y;Object(i.a)();const P=Object(n.useContext)(c.a),[N,G]=Object(n.useState)(0),[V,k]=Object(n.useState)(M||0),[x,H]=Object(n.useState)(!1),R=Object(n.useRef)(null),W=Object(n.useMemo)(()=>({videoRef:R}),[R]),U=Object(n.useCallback)((L,$)=>{G(L),$!==void 0&&(k($),A==null||A($))},[A]),_=Object(n.useCallback)((L,$)=>{$&&k($)},[]),B=Object(n.useCallback)(()=>H(!0),[]),z=Object(n.useCallback)(()=>H(!1),[]);return m(W),t.a.createElement(r.a,{fullscreen:!0,closeModal:S,className:"p-video_review_modal"},t.a.createElement(b.a.Provider,{value:W},t.a.createElement(u.a,null,D),t.a.createElement("div",{className:Object(a.default)("p-video_review_modal__video_container",j)},t.a.createElement(f.a,{url:C,mimeType:I,userIndex:0,storyIndex:0,autoPlay:!0,shouldComputeHeight:!1,ref:R,onProgress:U,onPlay:B,onPause:z,isMuted:!1,mediaPlaybackSpeed:1,onLoadedMetadata:_})),t.a.createElement(r.g,{className:"p-video_review_modal__footer"},t.a.createElement("div",{className:"p-video_review_modal__controls",role:"toolbar"},t.a.createElement(h.a,{duration:V,elapsed:N,interpolate:x,videoRef:R,isPlaying:x,autoFocus:P}),t.a.createElement(l.a,{isPlaying:x,videoRef:R}),t.a.createElement(p.a,{elapsed:N,duration:V}),T))))}o(O,"VideoReviewContents"),O.displayName="VideoReviewContents";var E=s.a=O},F0cE:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("SQ0V"),t=e("Yauy");const a=Object(n.c)("Get a display friendly name for a channel/IM/MPIM",(i,c,r)=>{const f=c();return Object(t.t)(f,r.channel,{publicChannelIncludeHashSign:r.publicChannelIncludeHashSign,imIncludeAtSign:r.publicChannelIncludeHashSign})});a.meta={name:"createThunk",key:"createThunkgetDisplayNameForChannel",description:"Get a display friendly name for a channel/IM/MPIM"}},F1Bf:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("SQ0V"),c=e("/Q0P"),r=e("Z9Pi");const f=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"xZS8"))),l=Object(i.c)("open the video recorder",(p,h,u)=>{let{draftId:b,channelId:v,threadTs:d,onContainerUpload:m,isStackable:g,forceTargetWindowId:O}=u;p(Object(c.a)({element:t.a.createElement(f,{draftId:b||Object(r.b)({channelId:v,threadTs:d}),onContainerUpload:m}),isStackable:g,forceTargetWindowId:O}))});l.meta={name:"createThunk",key:"createThunkopenVideoRecorder",description:"open the video recorder"},l.propTypes={draftId:a.default.string,channelId:a.default.string,threadTs:a.default.string},s.a=l},F1Sp:function(w,s,e){"use strict";e.d(s,"b",function(){return v}),e.d(s,"a",function(){return d});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("wd/R"),c=e.n(i),r=e("zxER"),f=e("JoR1"),l=e("O7R9"),p=e("A/mR"),h=e("ffkt"),u=e("a7YP");const b=new a.b("workflow_builder"),v=o((m,g,O)=>{let E;const y=g.isoWeekday(),C=Object(l.d)(y),I=Object(l.g)(Object(l.i)(g,!0),O);switch(m){case h.b.FREQUENCY_DAILY:E=b.t("and repeats daily");break;case h.b.FREQUENCY_WEEKDAYS:E=b.t("and repeats every weekday");break;case h.b.FREQUENCY_WEEKLY:E=b.t("and repeats weekly on {dayOfWeek}",{dayOfWeek:C,fallbackHash:"5d46544a0c0a5d3319a351b8d3c453ba8939804f"});break;case h.b.FREQUENCY_MONTHLY_NTH_DAY:E=I(y);break;case h.b.FREQUENCY_YEARLY:E=b.t("and repeats annually");break;case h.b.FREQUENCY_HOURLY:case h.b.FREQUENCY_MONTHLY:case h.b.FREQUENCY_CUSTOM:E=b.t("and repeats on a custom schedule");break;default:E=""}return E},"getHumanReadableFrequencyType"),d=o(m=>{let{trigger:g}=m;const O=Object(r.c)(j=>Object(f.t)(j,"time24")),{schedule:E}=g.config,y=Object(p.q)(Object(l.b)(E.startTime,E.timezone),{excludeYear:!0,uncapitalizedRelativeDay:!0}),C=c()(E.startTime),I=Object(r.c)(u.r);return t.a.createElement("span",null,b.rt("Starts {humanReadableDate} at {humanReadableTime} {repeat}",{humanReadableDate:y,humanReadableTime:C.format(O?"HH:mm":"h:mm A"),repeat:v(Object(h.c)(E),C,I)}))},"HermesScheduledTriggerSummary");d.displayName="HermesScheduledTriggerSummary"},F3oq:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return t.recipient_team}o(n,"getInviteRecipientTeam")},F4Pg:function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"c",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"d",function(){return i});var n;(function(c){c.loading="loading",c.loaded="loaded"})(n||(n={}));var t;(function(c){c.INSTALL_SHOW_STEP_FUNCTION="install_show_step_function",c.INIT_APP_REQUEST_FLOW="init_app_request_flow",c.SHOW_STEP_FUNCTION="show_step_function",c.APP_DENIED="app_denied",c.APP_REQUEST_IS_PENDING="app_request_is_pending",c.APP_HIDDEN="app_hidden"})(t||(t={}));var a;(function(c){c.READY="ready",c.CONFIGURATION_MISSING="configuration_missing",c.CONFIGURATION_REQUESTED="configuration_requested"})(a||(a={}));var i;(function(c){c.requestable="requestable",c.hidden="hidden"})(i||(i={}))},F4sy:function(w,s,e){"use strict";e.d(s,"a",function(){return I}),e.d(s,"b",function(){return j});var n=e("fujP"),t=e("qMw6"),a=e("ZKjC"),i=e("gCYc"),c=e("Kn+X"),r=e("OtLZ"),f=e("Z0Cl"),l=e("NFsq"),p=e("Muja"),h=e("1myf"),u=e("AFNo"),b=e("E3dU"),v=e("9Gfp"),d=e("Yauy"),m=e("gVOt"),g=e("E97Y"),O=e("3ucF");const E=Object(u.c)(function(M){let{channelId:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!T)return[];const D=Object(O.a)(M),S=Object(b.d)(M,T);let A=[];if(S&&Object(g.g)(S)){const N=Object(m.a)(S);N&&(A=[N])}if(S&&Object(g.i)(S)){const N=Object(v.a)(M);A=Object(r.a)(Object(d.C)(S),N).sort()}const P=Object(f.a)(D,N=>{const G=Object(c.d)(N),V=[...Object(c.m)(N)].sort();return Object(l.a)(G,T)||!Object(n.a)(V)&&Object(p.a)(A,V)});return Object(h.a)(P,N=>Object(c.i)(N))});E.meta={name:"createSelector",key:"createSelectorgetScheduledDraftsInChannel",description:function(M){let{channelId:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!T)return[];const D=Object(O.a)(M),S=Object(b.d)(M,T);let A=[];if(S&&Object(g.g)(S)){const N=Object(m.a)(S);N&&(A=[N])}if(S&&Object(g.i)(S)){const N=Object(v.a)(M);A=Object(r.a)(Object(d.C)(S),N).sort()}const P=Object(f.a)(D,N=>{const G=Object(c.d)(N),V=[...Object(c.m)(N)].sort();return Object(l.a)(G,T)||!Object(n.a)(V)&&Object(p.a)(A,V)});return Object(h.a)(P,N=>Object(c.i)(N))}};var y=E;const C=[t.a.COMPOSER_VIEW,t.a.MESSAGE_PANE],I=Object(a.b)(function(M){let{channelId:T,draftId:D,viewContext:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!C.includes(S))return[];if(S===t.a.COMPOSER_VIEW){const A=Object(i.k)(M,D);if(!!Object(c.i)(A))return[A]}return y(M,{channelId:T})});I.meta={name:"createSelector",key:"createSelectorgetScheduledDraftsForContextBar",description:function(M){let{channelId:T,draftId:D,viewContext:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!C.includes(S))return[];if(S===t.a.COMPOSER_VIEW){const A=Object(i.k)(M,D);if(!!Object(c.i)(A))return[A]}return y(M,{channelId:T})}};const j=Object(a.b)(function(M){let{channelId:T,draftId:D,viewContext:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const A=I(M,{channelId:T,draftId:D,viewContext:S});return!Object(n.a)(A)});j.meta={name:"createSelector",key:"createSelectorshouldShowScheduledSendContextBarForChannel",description:function(M){let{channelId:T,draftId:D,viewContext:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const A=I(M,{channelId:T,draftId:D,viewContext:S});return!Object(n.a)(A)}}},F8ux:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("WCk1"),t=e("fujP"),a=e("n3tL"),i=e("2XU3"),c=e("RVJP"),r=e("pOmS"),f=e("E3dU"),l=e("s4P+"),p=e("OqoL");const h=Object(n.a)("Calls files.share",function(u,b){let{fileIds:v,channelId:d,threadTs:m,broadcast:g,msgText:O,attachments:E,blocks:y,clientMsgId:C,xArgs:I,reason:j="",unfurls:M,permissions:T,skipDlpUserWarning:D=!1,fromShareModal:S=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=b(),P="files.share";Object(l.a)({state:A}).info("FILES",`Sharing files ${v==null?void 0:v.join(",")} for ${C}`);const N=!y&&O?Object(p.b)(b(),O):void 0,V=Object(c.d)(A,"workspace_context_for_netskope")==="on"?Object(r.a)(Object(f.d)(A,d)):void 0,k={...I,files:v,channel:d,thread_ts:m,broadcast:g,comment:N,attachments:E,client_msg_id:C,blocks:JSON.stringify(y),resharing_aware:!0,permissions:Object(t.a)(T)?void 0:T,skip_dlp_user_warning:D,from_share_modal:S};return M&&(k.unfurl=JSON.stringify(M)),V&&(k.client_context_team_id=V),u(Object(i.apiCall)({method:P,args:k,reason:j}))});h.meta={name:"createFetcher",key:"createFetchershareFile",description:"Calls files.share"},h.propTypes={fileId:a.default.string,fileIds:a.default.arrayOf(a.default.string),channelId:a.default.string,threadTs:a.default.string,msgText:a.default.string,attachments:a.default.arrayOf(a.default.object),clientMsgId:a.default.string,xArgs:a.default.object,unfurls:a.default.array,permissions:a.default.arrayOf(a.default.object),skipDlpUserWarning:a.default.bool,fromShareModal:a.default.bool}},FAxm:function(w,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.EMOJI="emoji",t.GIF="gif",t.GROUP="group",t.EMPTY_HEADER_ROW="empty-header-row"})(n||(n={}))},FC23:function(w,s,e){"use strict"},FFLn:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("BHdc"),c=e("E3dU"),r=e("ISSR"),f=e("Yauy"),l=e("E97Y"),p=e("nNoG"),h=e("CD4m"),u=e("qDEp"),b=e("sGXp"),v=e("AwEi"),d=e("fZDj"),m=e("4unc"),g=e("QpNZ"),O=e("TAzn"),E=e("9WS/"),y=e("fMsH");const C=new p.b("search"),I=o(D=>{let{className:S,onClick:A,children:P}=D;return A?t.a.createElement(u.d,{className:S,onClick:A},P):t.a.createElement("span",{className:S},P)},"MaybeUnstyledButton");function j(D){let{bestFormerName:S,className:A,channel:P,displayFormerNames:N=b.e.false,showPurpose:G=!0,truncatePurpose:V=!1,noLinkingInPurpose:k=!1,metadata:x,inlineNameSuffix:H,nameSuffix:R,showUnreadBadge:W=!1,badgeCount:U,onClick:_,memberCount:B,showTeam:z=!0,showTeamName:L=!0,useFilledIcon:$,showHashWhenLoading:Q=!0}=D;const K=Object(f.N)(P),Z=Object(l.q)(P),ne=G&&K&&!Z,F=x&&!Z,J=!!(W&&U&&U>0&&!Z),X=!Z,Y=B&&B>=0,ae="\xA0\xA0\xB7\xA0\xA0",ee=Object(i.default)(A,"c-medium_channel_entity"),q=Object(r.a)(P)?b.d.dim:void 0,te=ne?t.a.createElement(v.a,{"data-qa":"medium_channel_entity_purpose",text:K,noJumbomoji:!0,noLinking:k}):null;return t.a.createElement(h.d,{className:ee,size:"medium",style:q,text:t.a.createElement("div",{className:"c-medium_channel_entity__info"},t.a.createElement(I,{onClick:_,className:"c-medium_channel_entity__name"},Z?t.a.createElement(d.a,{type:"unknown",size:"medium",showHash:Q}):t.a.createElement(t.a.Fragment,null,t.a.createElement(g.a,{channel:P,filled:!!$}),t.a.createElement(h.c,null,t.a.createElement(E.a,{channel:P,bestFormerName:S,displayFormerNames:N,inlineNameSuffix:H,showTeamName:L,showTeam:z})),t.a.createElement("span",{className:"c-medium_channel_entity__channel_suffix"},H&&t.a.createElement("span",{className:"c-medium_channel_entity__inline_name_suffix","data-qa":"medium_channel_entity_inline_name_suffix"},H)))),t.a.createElement("div",{className:"c-medium_channel_entity__channel_suffix","data-qa":"medium_channel_entity_name_suffix"},X&&R),J&&t.a.createElement(m.b,{count:U,className:"c-channel_entity__mentions c-channel_entity__mentions--medium c-channel_entity__mention--not-inverted",style:m.a.red})),subtext:t.a.createElement(h.b,null,Y&&t.a.createElement("span",{className:"c-medium_channel_entity__member_count","data-qa":"medium_channel_entity_member_count"},C.t("{count, plural, =1 {# member} other {# members}}",{count:B}),ne&&ae),ne&&V?t.a.createElement(O.a,{tip:te,"data-qa":"medium_channel_entity_purpose_tooltip"},t.a.createElement("div",{className:"c-medium_channel_entity__channel_truncated_purpose","data-qa":"medium_channel_entity_purpose_tooltip_wrapper"},te)):null,ne&&!V?te:null),metadata:F&&t.a.createElement(h.a,{"data-qa":"medium_channel_entity_metadata"},x)})}o(j,"MediumChannelEntityBase"),j.displayName="MediumChannelEntityBase";function M(D){return Object.prototype.hasOwnProperty.call(D,"channel")}o(M,"propsContainsChannel");const T=o((D,S)=>{const A=M(S)?S.channel:Object(c.d)(D,S.channelId),P=S.showUnreadBadge?S.badgeCount||Object(c.c)(D,A):void 0;return{channel:A,badgeCount:P}},"mapStateToProps");s.a=Object(a.a)(T)(j)},FFYQ:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("m5Yc");const{CHANNEL:t}=n.b,a=o(i=>{var c;return((c=i)===null||c===void 0?void 0:c.type)===t},"isRichTextChannelElement")},FGjW:function(w,s,e){"use strict";e.d(s,"a",function(){return H});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("mM05"),c=e.n(i),r=e("Cfcg"),f=e("nNoG"),l=e("XjEU"),p=e("6pED"),h=e("5/Zs"),u=e("xwCZ"),b=e("zm5I"),v=e("C3vN"),d=e("52Wj"),m=e("SQ0V"),g=e("Lgge"),O=e("CMT/"),E=e("f7Y4"),y=e("GV2D"),C=e("wFOH");const I=Object(m.c)("Open a SCDM with an external user and send them a message",(z,L,$)=>{let{memberId:Q,message:K,reason:Z}=$;return z(Object(O.a)({memberIds:[Q],reason:Z})).then(ne=>{const F=ne.id;z(Object(E.c)({channelId:F,delta:K})).then(()=>{const J=Object(C.a)(L(),F);z(Object(y.a)({channelId:F,startTs:J==null?void 0:J.ts}))})}).catch(ne=>g.a.reject(ne))});I.meta={name:"createThunk",key:"createThunkopenScdmAndSendMessage",description:"Open a SCDM with an external user and send them a message"};var j=e("+kJ4"),M=e("/XFw"),T=e("YUBf"),D=e("Tevt"),S=e("jWAO"),A=e("4oy+"),P=e("BUaB"),N=e("daiH");const G=new f.b("setup_page"),V={continueButton:{elementName:"speedbump_send_message",onClick:{enableClogAction:!0}},cancelButton:{elementName:"speedbump_keep_editing",onClick:{enableClogAction:!0}}},k={elementName:"send_message",onClick:{enableClogAction:!0}},x={elementName:"no_thanks",onClick:{enableClogAction:!0}};var H;(function(z){z.InvitingTeam="inviting_team",z.AcceptingTeam="accepting_team"})(H||(H={}));const R={MODAL_CONTENT:"promote_scdm_screen_modal_content",INVITER_ICON:"promote_scdm_screen_inviter_icon",MESSAGE_INPUT:"promote_scdm_screen_message_input",SUBMIT_BUTTON:"promote_scdm_screen_submit_button",ERROR_ALERT:"promote_scdm_screen_error_alert",CLOSE_LINK:"promote_scdm_screen_close_link"},W=o(z=>{let{connectInvite:L,teamToPrompt:$,targetUser:Q,isDarkMode:K,useJumbomoji:Z,enterCreatesNewlinePref:ne,setShouldShowSpeedBump:F,openScdmAndSendMessage:J,closeModal:X}=z;const Y=Object(n.useCallback)(()=>Q?G.t("Hi {inviterName}! \u{1F44B} I\u2019m waiting on the channel to be connected, but I\u2019m excited to work together in channel soon.",{inviterName:Object(l.b)(Object(v.t)(Q)||Object(d.e)(Q))}):G.t("Hi! \u{1F44B} I\u2019m waiting on the channel to be connected, but I\u2019m excited to work together in channel soon."),[Q]),[ae,ee]=Object(n.useState)(!1),[q,te]=Object(n.useState)(!1),[de,se]=Object(n.useState)(null),re=Object(n.useRef)(null);if(!L)return null;const oe=o(()=>{if(Q){var Ke;te(!0);const qe=new c.a(re==null||(Ke=re.current)===null||Ke===void 0?void 0:Ke.getContents().contents)||Y();se(null),J(Q.id,qe,"pendingScscMessage").then(()=>X()).catch(ct=>{ct.name==="user_not_found"?se(G.t("Could not connect with this user.")):se(G.t("Something went wrong. Try again please."))}).finally(()=>te(!1))}},"onSubmit"),ce=o(()=>{var Ke;Object(p.a)(new c.a(re==null||(Ke=re.current)===null||Ke===void 0?void 0:Ke.getContents().contents),{trimWhitespace:!0})?ae&&ee(!1):ee(!0)},"onChange"),ue=o(()=>{ne||F(!0)},"onEnterInput"),Pe=Object(a.default)("p-promote_scdm_screen__header",{"p-promote_scdm_screen__header--dark_mode":K}),Ye=Object(a.default)("p-promote_scdm_screen__send_button",{"p-promote_scdm_screen__send_button--aubergine":$===H.InvitingTeam}),$e=o(()=>t.a.createElement(T.k,{className:"p-promote_scdm_screen_speedbump",heading:G.t("Ready to send your message?"),description:null,continueButtonLabel:G.t("Send Message"),continueButtonIsLoading:q,continueButtonType:"primary",onCancel:()=>F(!1),onContinue:oe,autoClogProps:V}),"renderSpeedBump");return $e.displayName="renderSpeedBump",t.a.createElement(t.a.Fragment,null,t.a.createElement(T.d,{"data-qa":R.MODAL_CONTENT},t.a.createElement("div",{className:Pe},t.a.createElement(N.a,{team:L.invite.inviting_team,user:L.invite.inviting_user,size:72,teamIconSize:26,shouldRenderTeamBadge:!0,allowTeamInitials:!0,allowDefaultProfileImage:!0,"data-qa":R.INVITER_ICON})),t.a.createElement("div",{className:"p-promote_scdm_screen__content"},t.a.createElement("div",{className:"p-promote_scdm_screen__title"},G.t("Let {inviterName} know you\u2019re here",{inviterName:Object(l.b)(Object(d.e)(Q))})),t.a.createElement("p",null,G.t("Start a DM conversation while you wait to join the channel.")),t.a.createElement(A.a,{enableEmojiButton:!0,numMaxLines:3,numMinLines:3,className:"align_left"},t.a.createElement(P.a,{ref:re,onTextChange:ce,onEnter:ue,completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,completeOnLinks:!0,completeOnLists:!0,shouldCompleteOnTab:!0,position:"bottom",ariaLabel:G.t("Message"),initialText:Y(),placeholder:G.t("Write a message"),enableJumbomoji:Z,focusOnMount:!0,useWysiwyg:!0,"data-qa":R.MESSAGE_INPUT})),de&&t.a.createElement(S.d,{level:S.b.error,className:"margin_bottom_125","data-qa":R.ERROR_ALERT},de),t.a.createElement(T.c,{onClick:oe,disabled:ae,loading:q,className:Ye,type:"primary",size:"large","data-qa":R.SUBMIT_BUTTON,autoClogProps:k},G.t("Send Message")),t.a.createElement(D.a,{onClick:X,className:"p-promote_scdm_screen__close_cta","data-qa":R.CLOSE_LINK,autoClogProps:x},G.t("No, thanks")))),t.a.createElement(T.g,{className:"p-promote_scdm_screen__footer",renderSpeedBump:$e}))},"PromoteScdmScreen");W.displayName="PromoteScdmScreen";const U=o((z,L)=>{var $,Q,K;const Z=L.teamToPrompt===H.AcceptingTeam&&(!(($=L.connectInvite)===null||$===void 0)&&$.acceptances)?(Q=L.connectInvite)===null||Q===void 0?void 0:Q.acceptances[0].accepting_user.id:(K=L.connectInvite)===null||K===void 0?void 0:K.invite.inviting_user.id;return{targetUser:Z?Object(u.g)(z,Z):null,isDarkMode:Object(b.a)(z)==="dark",useJumbomoji:Object(M.a)(z),enterCreatesNewlinePref:Object(h.a)(z)}},"mapStateToProps"),_=o(z=>({openScdmAndSendMessage:(L,$,Q)=>z(I({memberId:L,message:$,reason:Q})),closeModal:()=>z(Object(j.a)())}),"mapDispatchToProps");var B=s.b=Object(r.a)(U,_)(W)},FVTI:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("3Hq1"),t=e("HI9p"),a=e("SQ0V"),i=e("YBS9"),c=e("eJek"),r=e("yxNq");const f=Object(a.c)("add a single reaction by a user for a reaction key",(l,p,h)=>{const{key:u,name:b,userId:v,url:d,fromUserAction:m}=h||{};if(Object(n.a)(u)||Object(n.a)(b)||Object(n.a)(v))return!1;const g={users:[],count:0,name:b,...Object(i.b)(p(),u,b)};d&&(g.url=d);const O=[...g.users];O.indexOf(v)===-1&&(O.push(v),g.count+=1);const E=Object(i.a)(p(),u)||[],y=Object(t.a)(E,I=>I.name===b);let C;if(y===-1)C=[...E,{...g,users:O}];else{if(Object(r.a)(g,E[y]))return!1;C=[...E.slice(0,y),{...g,users:O},...E.slice(y+1)]}return l(Object(c.a)({key:u,reactions:C,fromUserAction:m}))});f.meta={name:"createThunk",key:"createThunkaddReaction",description:"add a single reaction by a user for a reaction key"}},FVy1:function(w,s,e){"use strict";var n=e("zBqE");s.a=n.a},FXMY:function(w,s,e){"use strict";var n=e("ZKjC"),t=e("P9LH"),a=e("GMcg"),i=e("gnJq");const c=Object(n.b)((r,f)=>{let{file:l}=f;return!l||Object(i.a)(l)?!1:!!(Object(t.u)(l)&&Object(a.a)(r,l.id)||Object(t.jb)(l))});c.meta={name:"createSelector",key:"createSelectorisExternallyOwnedCanvas",description:(r,f)=>{let{file:l}=f;return!l||Object(i.a)(l)?!1:!!(Object(t.u)(l)&&Object(a.a)(r,l.id)||Object(t.jb)(l))}},s.a=c},FZE2:function(w,s,e){"use strict";e.d(s,"a",function(){return p}),e.d(s,"b",function(){return h});var n=e("NFsq"),t=e("qAkX"),a=e("mM05"),i=e.n(a),c=e("pu3F"),r=e("TQ9f"),f=e("fR2/"),l=e("0qhH");function p(u){const b=u.reduce((d,m)=>{if(Object(r.a)(m)){const g=Object(r.c)(m);return g?d+g.length:d}if(Object(f.a)(m)){const g=Object(f.b)(m),O=Object(f.c)(m);return g==="UNVERIFIED"||Object(n.a)(c.L,g)?O.length:d+(g?g.length:O.length)}if(Object(l.a)(m)){const g=Object(l.b)(m);return d+g.length}return d},0),v=Object(t.a)(u.ops)||{};return Object(l.a)(v)&&Object(l.b)(v).substr(-1)===`
`?b-1:b}o(p,"getMessageLengthForDelta");function h(u){if(!u||!u.length)return 0;const b=new i.a(u);return p(b)}o(h,"getMessageLengthForMsgOps")},FaiB:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return t.offlineOutbox}o(n,"getPendingOnlineMessages")},Fb72:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("5jHt");const t=o((a,i)=>{const c=Object(n.n)(i),r=Object(n.a)(a,i);return(!c||r)&&(i.mode==="hosted"||i.mode==="snippet")},"canDownloadFile")},FezJ:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t,a){if(!t||!t.length||!a)return[];const i=[];return t.forEach(c=>{const{url:r}=c;a[r]&&a[r].private_channel_prompt?i.push({url:r,acknowledged_private_share:!0}):i.push({url:r})}),i}o(n,"getAcknowledgedUnfurlsForMessageSend")},Fi0I:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("lYve");const t=o(a=>"childInputs"in a&&Array.isArray(a.childInputs)&&a.childInputs.length>0?!1:Object(n.a)(a.type),"isFormWrappableParameter")},FsHF:function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"d",function(){return a}),e.d(s,"c",function(){return c}),e.d(s,"a",function(){return r});var n=e("ROZo");const t=Object(n.a)("TS.members.getMemberProfileFieldDisplayName",f=>f&&f.profile&&f.profile.display_name||""),a=Object(n.a)("TS.members.legacyUpsertAndSignal",()=>{throw new Error("Not implemented")}),i=Object(n.a)("TS.members.legacyGetPrefCompliantMemberNameLowerCase",()=>{throw new Error("Not implemented")}),c=Object(n.a)("TS.members.invalidateMembersUserCanSeeArrayCaches"),r=Object(n.a)("TS.members.presence_changed_sig.dispatch")},"G+ia":function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("ssje"),t=e("QLhP"),a=e("nNoG");const i=new a.b("recent_page"),c=o((r,f)=>{let{msg:l}=f;if(!(l!=null&&l.bot_id))return;if(Object(n.a)(l))return`${i.t("Slackbot",{fallbackHash:"9fbb94b5162e7574992afdd016c779599cac2cad",fallbackHashNs:"prefs"})}:`;const p=Object(t.d)(r,l.bot_id);return p?`${p}:`:void 0},"getBotMessagePrefix")},GMcg:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("ZKjC"),t=e("xwCZ"),a=e("K7jq"),i=e("dmdh");const c=Object(n.b)((r,f)=>{const l=Object(i.e)(r,f);if(!l||!l.user)return!1;const p=Object(t.g)(r,l.user);return p?Object(a.a)(p):!1});c.meta={name:"createSelector",key:"createSelectorisFileAuthorExternal",description:(r,f)=>{const l=Object(i.e)(r,f);if(!l||!l.user)return!1;const p=Object(t.g)(r,l.user);return p?Object(a.a)(p):!1}}},GR6R:function(w,s,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),i=e("SQ0V"),c=e("/0Xg"),r=e("3l96"),f=e("s9Q6"),l=e("BlYK"),p=e.n(l),h=e("beWg"),u=e("nNoG"),b=e("/cL/"),v=e("54tk");function d(){return d=Object.assign||function(W){for(var U=1;U<arguments.length;U++){var _=arguments[U];for(var B in _)Object.prototype.hasOwnProperty.call(_,B)&&(W[B]=_[B])}return W},d.apply(this,arguments)}o(d,"_extends");const m=new u.b("trials_highlight_paid_features"),g=30,O=o(W=>{let{isEligibleForTrial:U,onTrialStart:_,...B}=W;const z=Object(t.useCallback)(()=>{_==null||_()},[_]),L=o(ne=>{let{text:F}=ne;return a.a.createElement(b.a,{"data-qa":"message_limit_trial_entry_point-plans_page_link",useLink:!0},F)},"renderPlansPageLink"),$=m.t("Unlimited access to messages and files"),Q=U?m.rt("Unlock access to your entire message and file history, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:g,"<plansPageLink>":L}):m.rt("Unlock access to your entire message and file history, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":L}),K=m.t("With unlimited access, your team can:"),Z=[m.t("Get context on past discussions"),m.t("Maintain team documents for the long term"),m.t("Quickly search across your full history")];return a.a.createElement(v.a,d({imgSrc:p.a,modalTitle:$,modalSubtitle:Q,modalVideoPosterExtension:"png",modalBannerBackgroundColor:"#e8f5fa",modalChecklistHeading:K,modalChecklistItems:Z,isEligibleForTrial:U,startTrialContext:h.a.messageLimitTrialOfferModal,onTrialStart:z},B))},"MessageLimitTrialEntryPointModal");O.displayName="MessageLimitTrialEntryPointModal";var E=O,y=e("zm5I"),C=e("zxER"),I=e("gJbv"),j=e("Q+Yn"),M=e.n(j),T=e("vUzD"),D=e.n(T),S=e("QW4n"),A=e("xLpb");function P(){return P=Object.assign||function(W){for(var U=1;U<arguments.length;U++){var _=arguments[U];for(var B in _)Object.prototype.hasOwnProperty.call(_,B)&&(W[B]=_[B])}return W},P.apply(this,arguments)}o(P,"message_limit_trial_entry_point_modal_v2_extends");const N=new u.b("trials_highlight_paid_features"),G=o(W=>{let{isEligibleForTrial:U,onTrialStart:_,...B}=W;const z=Object(C.c)(I.a),$=Object(C.c)(y.a)==="light",Q=z?N.t("Quickly search your entire message history"):"",K=z?N.t("Get context on past discussions"):" ",Z=z?N.t("Save important messages for later"):"",ne=Object(t.useMemo)(()=>[Q,K,Z],[Q,K,Z]);if(!z)return null;const F=N.t("Unlock your team\u2019s entire message and file history"),J=N.t("Start a free, 30-day trial to unlock all the premium features of Slack Pro.");return a.a.createElement(v.a,P({modalCloseButtonTheme:S.a.GRAY,imgSrc:$?M.a:D.a,modalTitle:F,modalType:A.a.HORIZONTAL_BANNER,modalSubtitle:J,modalVideoPosterExtension:"gif",modalBannerBackgroundColor:"#4A154B",modalChecklistItems:ne,isEligibleForTrial:U,startTrialContext:h.a.messageLimitTrialOfferModal,onTrialStart:_},B))},"message_limit_trial_entry_point_modal_v2_MessageLimitTrialEntryPointModal");G.displayName="MessageLimitTrialEntryPointModal";var V=G,k=e("iaW+");function x(){return x=Object.assign||function(W){for(var U=1;U<arguments.length;U++){var _=arguments[U];for(var B in _)Object.prototype.hasOwnProperty.call(_,B)&&(W[B]=_[B])}return W},x.apply(this,arguments)}o(x,"open_message_limit_trial_entry_point_modal_extends");const H=Object(i.c)("Open message limit trial entry point modal",function(){var W=Object(n.coroutine)(function*(U,_,B){const z=Object(I.a)(_()),L=c.o.PaidFeatureTrial,$=c.n.MessageLimit;yield U(Object(k.a)({campaignType:L,campaignSubType:$,reason:"message_limit_trial_entry_point_modal"}));const Q=Object(f.c)(_(),L,$),K=z?V:E,Z=a.a.createElement(K,x({},B,{promoType:L,promoSubtype:$,isEligibleForTrial:Q}));return U(Object(r.a)({element:Z}))});return function(U,_,B){return W.apply(this,arguments)}}());H.meta={name:"createThunk",key:"createThunkopenMessageLimitTrialEntryPointModal",description:"Open message limit trial entry point modal"};var R=s.a=H},GTwG:function(w,s,e){"use strict";e.d(s,"a",function(){return b});var n=e("n3tL"),t=e("oaNE"),a=e("SQ0V"),i=e("dmdh"),c=e("qpkA"),r=e("QLhP"),f=e("P9LH"),l=e("xwCZ"),p=e("Nnn3"),h=e("5IZy");const u=Object(a.c)("Clogs a link click in a file",function(v,d){let{file:m,payload:g={},isChannelFiles:O=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var E,y,C;if(!m)return;const I=d(),j=Object(h.a)({state:I}),{timestamp:M}=m,T=Object(f.G)(m),{userId:D}=T;let{botId:S}=T;if(!S){const N=Object(l.g)(I,D);S=Object(p.a)(I,N)}let A=null;if(S){const N=Object(r.b)(I,S);A=N?N.app_id:null}const P={...g,timestamp:M,member_id:D,app_id:A,bot_id:S,item_type:m.id[0],item_id:m.id,file_type:m.filetype||Object(f.R)(m.mimetype),is_channel_files:O};!(!((E=g.contexts)===null||E===void 0||(y=E.ui_context)===null||y===void 0||(C=y.ui_properties)===null||C===void 0)&&C.element_value)&&(g.link_action||g.subtype)&&(P.contexts=Object(t.a)(g.contexts,{ui_context:{ui_properties:{element_value:g.link_action||g.subtype}}})),j.track("FILE_LINK_CLICK",P),g.subtype==="copy_link"?j.track("MSG_LINK_COPY",P):g.subtype==="video_play"?j.track("MSG_VIDEO_PLAY",P):g.subtype==="file_share"?j.track("FILE_SHARE",P):g.subtype==="file_download"?j.track("FILE_DOWNLOAD",P):g.subtype==="file_expand"?j.track("PREVIEW_EXPAND",P):g.subtype==="file_collapse"&&j.track("PREVIEW_COLLAPSE",P),v(Object(c.a)({files:[m]}))});u.meta={name:"createThunk",key:"createThunkclogFileClick",description:"Clogs a link click in a file"},u.propTypes={file:n.default.shape({timestamp:n.default.number,user:n.default.string}).isRequired,payload:n.default.object},s.b=u;const b=Object(a.c)("Clogs a link click in a file given a file ID",function(v,d){let{fileId:m,payload:g={},isChannelFiles:O}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!m)return;const E=d(),y=Object(i.e)(E,m,!1);v(u({file:y,payload:g,isChannelFiles:O}))});b.meta={name:"createThunk",key:"createThunkclogFileIdClick",description:"Clogs a link click in a file given a file ID"},b.propTypes={fileId:n.default.string,payload:n.default.object}},GWKd:function(w,s,e){"use strict";e.d(s,"a",function(){return T}),e.d(s,"b",function(){return D});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("+l5E"),c=e("JQ3U"),r=e("ALys"),f=e("+uU3"),l=e("NmJ/"),p=e("AwEi"),h=e("OXvE"),u=e("zxER"),b=e("qZ3p"),v=e("GNR7"),d=e("3vtZ");const m=new a.b("huddles");function g(S){let{msg:A}=S;const P=Object(u.c)(V=>Object(d.D)({state:V,roomId:A==null?void 0:A.room_id})),N=Object(u.c)(V=>Object(v.w)(V,A==null?void 0:A.room_id));if(!Object(i.ib)(A))return null;let G;return N?P?G=m.rt("{huddleTopic} is happening",{huddleTopic:t.a.createElement(b.a,{text:N.trim()})}):G=m.rt("{huddleTopic} happened",{huddleTopic:t.a.createElement(b.a,{text:N.trim()})}):P?G=m.t("A huddle is happening"):G=m.t("A huddle happened"),t.a.createElement("span",null,G)}o(g,"HuddleBroadcastMsgText"),g.displayName="HuddleBroadcastMsgText";var O=t.a.memo(g),E=e("QE0t");const y=o(S=>{let{msg:A}=S;var P,N,G,V,k;if(!(!Object(i.W)(A)&&!(!(A==null||(P=A.blocks)===null||P===void 0||(N=P[0])===null||N===void 0||(G=N.text)===null||G===void 0)&&G.text)))return A==null||(V=A.blocks)===null||V===void 0||(k=V[0])===null||k===void 0?void 0:k.text.text},"getCanvasShareText");var C=e("9Gfp"),I=e("rZ8V"),j=e("G+ia");const M=new a.b("recent_page");function T(S){let{msg:A,file:P,experimentRichTextGroupOn:N,truncateLength:G,withFormattingStyles:V=!1,withHighlights:k=!1,withSlackLinks:x=!1,withHyperlinks:H=!1,withCanvasShare:R=!1,withYouPrefix:W=!1,withBotNamePrefix:U=!1}=S;const _=Object(u.c)(C.a),B=Object(u.c)(I.t),z=Object(u.c)(Q=>Object(j.a)(Q,{msg:A}));if(A&&Object(i.ib)(A))return t.a.createElement(O,{msg:A});if(!D({msg:A,file:P}))return null;let L="";if(W&&(A==null?void 0:A.user)===_&&(L=B?M.t("You:"):"You:"),U&&z&&(L=z),A&&Object(r.b)(A,N)&&(!N||Object(E.a)(A.blocks))&&!Object(f.a)(A))return t.a.createElement(t.a.Fragment,null,L,L?" ":"",t.a.createElement(h.a,{richTextBlock:A.blocks[0],truncateLength:G,withFormattingStyles:V,withHighlights:k,withSlackLinks:x,withHyperlinks:H}));let $="";return A&&(R&&Object(i.W)(A)?$=y({msg:A}):$=Object(l.a)(A,P)),t.a.createElement(p.a,{text:$,noHighlights:!k,noHexColors:!0,noJumbomoji:!0,noLinking:!x,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,maxCharacters:G})}o(T,"SimpleMessagePreview"),T.displayName="SimpleMessagePreview";function D(S){let{msg:A,file:P}=S;return!A||Object(c.a)(A)==="tombstone"?!1:Object(r.b)(A)&&!Object(f.a)(A)||Object(i.W)(A)?!0:!!Object(l.a)(A,P)}o(D,"canRenderSimpleMessagePreview")},GY1C:function(w,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"c",function(){return d}),e.d(s,"d",function(){return m}),e.d(s,"f",function(){return g}),e.d(s,"b",function(){return O}),e.d(s,"e",function(){return E});var n=e("gPPH"),t=e("Qm7m"),a=e("vIgB");const i=[a.d.String,a.d.SlackTypesUserId,a.d.SlackTypesChannelId];var c=e("nNoG"),r=e("yfOE");const f=new c.b("workflow_builder"),l=10,p=50;var h,u,b,v;const d=o(C=>{let{srcData:I={}}=C;return{id:(h=I.id)!==null&&h!==void 0?h:Object(n.a)(),type:t.SHORTCUT,config:{name:(u=I.name)!==null&&u!==void 0?u:"",description:(b=I.description)!==null&&b!==void 0?b:"",inputs:(v=I.inputs)!==null&&v!==void 0?v:{},shortcut:{schema:I!=null&&I.available_data?y(I==null?void 0:I.available_data):[]}},coachmarkText:I.coachmarkData}},"createShortcutTrigger"),m=o(C=>{var I,j;return(I=C.config)===null||I===void 0||(j=I.shortcut)===null||j===void 0?void 0:j.schema},"getCustomInputs"),g=o(()=>[{value:a.d.String,label:f.t("Text")},{value:a.d.SlackTypesChannelId,label:f.t("Slack channel ID")},{value:a.d.SlackTypesUserId,label:f.t("Slack user ID")}],"getShortcutCustomInputTypeOptions"),O=o(function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.d.String,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return{type:C,title:I,description:j,name:Object(n.a)(),is_customizable:!0,is_hidden:!1}},"createCustomInputObject"),E=o(C=>C.reduce((I,j)=>Object.assign(I,{[j.name]:{type:j.type,name:j.name,title:j.title,description:j.description,is_customizable:j.is_customizable}}),{}),"getCustomInputsObject");function y(C){return Object.keys(C).reduce((j,M)=>{const T=C[M];if(T.is_customizable&&Object(r.e)(i,T.type)){const D={...T};j.push(D)}return j},[])}o(y,"getCustomInputsList")},GYiN:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("WMzb");function c(r){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;const p=Object(i.a)();r||p.warn("USE_EVENT_LISTENER",'Missing required "eventName"');const h=Object(n.useRef)();Object(n.useEffect)(()=>{h.current=f},[f]),Object(n.useEffect)(()=>{const u=o(b=>{var v;return(v=h.current)===null||v===void 0?void 0:v.call(h,b)},"handlerWrapper");return l.addEventListener(r,u),()=>{l.removeEventListener(r,u)}},[r,l])}o(c,"useEventListener")},GYna:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("RVJP");const t=o(a=>Object(n.d)(a,"a11y_emoji_group")==="on","isEmojiGroupEnabled")},GjHN:function(w,s,e){"use strict";e.d(s,"a",function(){return x});var n=e("mM05"),t=e.n(n),a=e("YOgf"),i=e("ALys"),c=e("NFsq"),r=e("x91h"),f=e("qAkX"),l=e("gSGL"),p=e("LARX"),h=e("xwCZ"),u=e("GhjL"),b=e("E3dU"),v=e("JnIm"),d=e("52Wj"),m=e("DQNL"),g=e("Yauy"),O=e("jlKB"),E=e("oNuo"),y=e("6kKm"),C=e("K1vi"),I=e("0qhH"),j=e("2oNE"),M=e("/+/u"),T=e("pTwU");function D(H,R){const W=H.blockStyle==="code-block",U=H.inlineStyles;return R===p.a.BOLD_START&&!W?U.bold=!0:R===p.a.BOLD_END?delete U.bold:R===p.a.ITALIC_START&&!W?U.italic=!0:R===p.a.ITALIC_END?delete U.italic:R===p.a.CODE_START&&!W?U.code=!0:R===p.a.CODE_END?delete U.code:R===p.a.STRIKE_START&&!W?U.strike=!0:R===p.a.STRIKE_END?delete U.strike:R.slice(0,11)===p.a.LINK_START.substr(0,p.a.LINK_START.length-1)&&!W?U.link=R.slice(12,-1):R===p.a.LINK_END&&delete U.link,{...H,inlineStyles:U}}o(D,"setInlineStylesFromToken");function S(H,R,W){return W.insert(`
`,H.blockStyle?{[H.blockStyle]:!0}:{}),R===p.a.PARA_BREAK&&W.insert(`
`,H.blockStyle&&!H.endBlockStyleOnNextLineBreak?{[H.blockStyle]:!0}:{}),W}o(S,"insertLineBreak");function A(H,R,W,U){const _=R.blockStyle==="code-block",B=Object(v.a)(H),z=W.slice(2,-1);var L;const $=(L=Object(h.g)(H,z))!==null&&L!==void 0?L:void 0,Q=`@${Object(d.b)($)}`;return U.insert(Q,{...R.inlineStyles,slackmention:!_&&Object(M.a)($,B)}),U}o(A,"insertMention");function P(H,R,W,U){const _=W.slice(2,-1).split("|"),B=Object(b.d)(H,_[0]),z=`#${Object(g.t)(H,B,{publicChannelIncludeHashSign:!1})}`,L=R.blockStyle==="code-block";return U.insert(z,{...R.inlineStyles,slackmention:!L&&Object(j.a)(B.id,z)}),U}o(P,"insertChannel");function N(H,R,W,U){const _=R.blockStyle==="code-block",z=W.slice(2,-1).split("|")[0].split("^"),L=z[0];if(Object(c.a)(["here","channel","everyone"],L)){const $=Object(E.a)(`BK${L}`),Q=`@${Object(y.a)($)}`;U.insert(Q,{...R.inlineStyles,slackmention:!_&&Object(j.a)(`BK${L}`,Q)})}else if(L==="subteam"){const $=Object(v.a)(H),Q=Object(u.d)(H,z[1]),K=Object(m.g)(Q);U.insert(K,{...R.inlineStyles,slackmention:!_&&Object(T.a)(Q,$)})}return U}o(N,"insertCommand");function G(H){return H===p.a.PRE_START?"code-block":H===p.a.QUOTE_START||H===p.a.LONGQUOTE_PREFIX?"blockquote":null}o(G,"tokenToBlockStyle");function V(H,R){let W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"NORMAL";var U;let _=new t.a;if(!R)return _;const B=Object(O.a)(H),z=Object(C.a)(R,W),L=[p.a.LINE_BREAK,p.a.PARA_BREAK],$=[p.a.PRE_START,p.a.QUOTE_START,p.a.LONGQUOTE_PREFIX],Q=[p.a.PRE_END,p.a.QUOTE_END];let K={inlineStyles:{},blockStyle:null,endBlockStyleOnNextLineBreak:!1};for(let ne=0;ne<z.length;ne++){const F=z[ne],J=ne===z.length-1;if(F.slice(0,1)==="<"){if(K=D(K,F),Object(c.a)(L,F)&&(_=S(K,F,_),K.endBlockStyleOnNextLineBreak&&(K.endBlockStyleOnNextLineBreak=!1,K.blockStyle=null),Object(c.a)(Q,z[ne+1])&&(K.blockStyle=null)),Object(c.a)($,F)&&(ne>0&&!Object(c.a)(L,z[ne-1])&&!Object(c.a)(Q,z[ne-1])&&(_=S(K,p.a.LINE_BREAK,_)),K.blockStyle=G(F)),Object(c.a)(Q,F)&&(!Object(c.a)(L,z[ne-1])&&!Object(c.a)(L,z[ne+1])?(_=S(K,p.a.LINE_BREAK,_),K.blockStyle=null):J||(K.endBlockStyleOnNextLineBreak=!0)),F===p.a.SPACE_HARD&&_.insert(" ",K.inlineStyles),F.slice(0,13)===p.a.EMOJI_COLONS.substr(0,p.a.EMOJI_COLONS.length-1)){const X=F.slice(14,-1);B||K.blockStyle==="code-block"?_.insert(X,K.inlineStyles):_.insert({slackemoji:{text:X}},K.inlineStyles)}F.slice(0,2)==="<@"&&(_=A(H,K,F,_)),F.slice(0,2)==="<#"&&(_=P(H,K,F,_)),F.slice(0,2)==="<!"&&(_=N(H,K,F,_))}else _.insert(Object(r.a)(F),K.inlineStyles)}const Z=Object(f.a)(_.ops);return Object(I.a)(Z)&&Object(l.a)(Z==null?void 0:Z.insert)&&(Z==null||(U=Z.insert)===null||U===void 0?void 0:U.slice(-1))===`
`||(_=S(K,p.a.LINE_BREAK,_)),_}o(V,"convertMrkdwnToDelta");var k=e("JgQX");function x(H,R){let{usePlainTextMode:W}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R?W?Object(i.a)(R)?Object(k.a)(H,R.blocks):V(H,R.text||"","EDIT"):Object(i.a)(R)?Object(a.a)(H,R.blocks):V(H,R.text||""):new t.a}o(x,"getDeltaForMessageObject")},GjLU:function(w,s,e){"use strict";e.r(s),e.d(s,"CanvasSpeedBumpTypes",function(){return yn});var n=e("9oTK"),t=e("BHdc"),a=e("Muja"),i=e("fujP"),c=e("q1tI"),r=e.n(c),f=e("/MKj"),l=e("Trx9"),p=e("zxER"),h=e("ktUG"),u=e("Vzni"),b=e("nNoG"),v=e("Zbwg"),d=e("yxNq"),m=e("mLC8"),g=e("qDEp"),O=e("YUBf"),E=e("Gnyr"),y=e("bPB8"),C=e("/CFe"),I=e("E3dU"),j=e("zm5I"),M=e("NfYe"),T=e("9oWK"),D=e("T00V"),S=e("Yauy"),A=e("hUMe");const P=new b.b("share-dialog"),N={elementName:"cancel",elementType:h.ElementType.BUTTON,action:h.UiAction.CLICK,onClick:{enableClogAction:!0}},G={elementName:"share",elementType:h.ElementType.BUTTON,action:h.UiAction.CLICK,onClick:{enableClogAction:!0}},V=o(Vt=>{let{filesCount:an,entityId:sn,onContinue:bn,onCancel:jn}=Vt;const[Tn,An]=Object(c.useState)(!1),Vn=Object(p.c)(fa=>Object(I.d)(fa,sn)),un=Object(p.c)(fa=>Object(S.Eb)(fa,Vn)),Kn=Object(p.c)(j.a),$n=Object(c.useCallback)(()=>{An(!0),bn()},[bn]);return Object(p.c)(M.e)?r.a.createElement(l.a,{eventId:h.EventId.QUIP_SHARE,uiComponentName:h.UiComponentName.QUIP_SHARE_DIALOG_SPEEDBUMP,uiComponentVariant:"external_workspace_canvas",clogImpression:!0},r.a.createElement(O.a,{closeModal:jn,"data-qa":C.b.EXTERNAL_WORKSPACE_CANVAS_SHARING_WARNING_SPEEDBUMP},r.a.createElement(T.a,{theme:Kn}),r.a.createElement(O.d,{className:"margin_0"},r.a.createElement(O.l,{title:an>1?P.rt("Is it OK to send this?"):P.rt("Share canvas with {externalWorkspaceName}",{externalWorkspaceName:r.a.createElement(A.a,{id:un})}),className:"break_word"}),r.a.createElement(O.e,{id:"canvas_external_workspace_sharing_speedbump"},P.rt("You\u2019re about to share {filesCount, plural, =1 {a canvas} other {canvases}} with an external workspace, {externalWorkspace}, which means only people in that workspace will be able to access it.",{filesCount:an,externalWorkspace:r.a.createElement("span",{className:"position_relative"},r.a.createElement(D.a,{id:un,size:16,className:"nudge_top_2 margin_right_25"}),r.a.createElement(A.a,{id:un,className:"bold"}))}))),r.a.createElement(O.g,null,r.a.createElement(O.h,null,r.a.createElement(O.c,{type:"outline",onClick:jn,autoClogProps:N,disabled:Tn},P.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"channel_details"})),r.a.createElement(O.c,{autoFocus:!0,type:"primary",loading:Tn,onClick:$n,autoClogProps:G,"aria-describedby":"canvas_external_workspace_sharing_speedbump"},P.t("Share Canvas",{fallbackHash:"c0268211ada5bb7c89509fcc6d9900142807b028",fallbackHashNs:"files"})))))):null},"CanvasExternalWorkspaceSharingModalSpeedBump");V.displayName="CanvasExternalWorkspaceSharingModalSpeedBump";var k=e("+kJ4"),x=e("SQ0V"),H=e("o2tK"),R=e("dmdh"),W=e("hRxb"),U=e("3l96"),_=e("P9LH"),B=e("beVI"),z=e("CaVW");const L=o((Vt,an)=>{let{file:sn,entityId:bn}=an;if(!Object(M.e)(Vt)||!sn||!Object(_.g)(sn))return!1;const Tn=Object(I.d)(Vt,bn);if(!Tn)return!1;const An=Object(z.a)(Vt,Tn),Vn=Object(S.Eb)(Vt,Tn);return!(!Vn||!An||!Object(B.s)(Vt,Vn)||Object(_.cb)(sn).includes(Vn))},"shouldShowExternalWorkspaceCanvasSharingSpeedbump"),$=Object(x.c)("Opens a warning modal as a speedbump when sharing a canvas with an external workspace",(Vt,an,sn)=>{let{fileIds:bn=[],entityId:jn,onContinue:Tn,delta:An}=sn;const Vn=an(),un=An&&Object(H.a)(An)||[],Kn=Object(y.a)(un.map(ha=>Object(W.a)(Vn,ha,!0))),$n=[...bn,...Kn].map(ha=>Object(R.e)(Vn,ha));if(!!!$n.filter(ha=>L(Vn,{file:ha,entityId:jn})).length)return{didOpen:!1};const aa=r.a.createElement(V,{filesCount:$n.length,entityId:jn,onContinue:Tn,onCancel:()=>{Vt(Object(k.a)())}});return Vt(Object(U.a)({element:aa,isStackable:!0})),{didOpen:!0}});$.meta={name:"createThunk",key:"createThunkmaybeOpenExternalWorkspaceCanvasSharingModalSpeedBump",description:"Opens a warning modal as a speedbump when sharing a canvas with an external workspace"};var Q=e("I27i"),K=e("RVJP"),Z=e("gNhz"),ne=e("iNDb"),F=e("O86Y"),J=e("JoR1"),X=e("oY18"),Y=e("q3qm"),ae=e("KEet"),ee=e("Lgge"),q=e("3zNH");const te=Object(x.c)("publishes a template org-wide",(Vt,an,sn)=>{let{fileId:bn}=sn;return Object(R.e)(an(),bn)?Vt(Object(ae.a)({reason:"publish-org-wide-template",fileId:bn})).then(Tn=>{let{file:An}=Tn;An&&Vt(Object(q.a)({files:[An],reason:"publish-org-wide-template"}))}):ee.a.reject(new Error("Missing file"))});te.meta={name:"createThunk",key:"createThunkpublishOrgWideCanvasTemplate",description:"publishes a template org-wide"};var de=e("01Zq"),se=e("cBJ3");const re=Object(x.c)("unpublishes an org-wide template",(Vt,an,sn)=>{let{fileId:bn}=sn;return Object(R.e)(an(),bn)?Vt(Object(de.a)({reason:"unpublish-org-wide-template",fileId:bn})).then(Tn=>{let{file:An}=Tn;An&&Vt(Object(se.j)({fileId:An.id}))}):ee.a.reject(new Error("Missing file"))});re.meta={name:"createThunk",key:"createThunkunpublishOrgWideCanvasTemplate",description:"unpublishes an org-wide template"};var oe=e("bTgy"),ce=e("FXMY"),ue=e("Ql5a"),Pe=e("bLbp"),Ye=e("2vX4"),$e=e("8Mjy"),Ke=e("nLfX"),qe=e("W1Od"),ct=e("Zp1r"),Be=e("P4EH"),pe=e("0mlZ");const fe=new b.b("share-dialog");function me(Vt){let{onClick:an,shareType:sn,buttonAutoClogProps:bn,isStoryShare:jn,isFetchingUnfurlData:Tn,canPostInSelectedChannel:An,disallowedKeywordInMsgText:Vn,overMsgLengthLimit:un,submitting:Kn,destinationError:$n}=Vt;const da=Object(p.c)(Be.a),fa=Object(p.c)(Ia=>Object(K.d)(Ia,"shareable_sections")==="treatment"),aa=!Object(p.c)(Q.d);let ha=fe.t("Share");return jn?ha=fe.t("Send"):da&&sn!==pe.b.CANVAS&&!fa&&(ha=fe.t("Forward")),r.a.createElement(g.c,{onClick:an,disabled:Object(Ke.d)({disallowedKeywordInMsgText:Vn,canPostInSelectedChannel:An,isOffline:aa,overMsgLengthLimit:un,submitting:Kn,destinationError:$n}),loading:Object(Ke.e)({isFetchingUnfurlData:Tn,experimentFeMessageForwardingM2GroupOn:da}),"data-qa":Pe.a.GO,autoClogProps:bn},ha)}o(me,"ShareDialogShareButton");var Se=e("7t7g"),je=e("/xaE"),Ue=e("4HBd"),ve=e("rBAR"),ge=e("hEEl"),le=e("CmyG"),he=e("xwCZ"),Te=e("OL4R"),Re=e("Ptrd");const Ve={CanvasSharingToExternalWorkspaceBlocked:"canvas_sharing_to_external_workspace_blocked",CanvasSharingFromExternalWorkspaceBlocked:"canvas_sharing_from_external_workspace_blocked",ExternalWorkspaceCanvasSharingBlocked:Re.u.ExternalWorkspaceCanvasSharingBlocked},Ee=Object(Te.a)(Ve);var Ae=e("C3vN"),Ge=e("+tZp"),Ze=e("Atq3");const ze=new b.b("share-dialog"),lt=o(Vt=>{let{error:an,externalWorkspaceName:sn,experimentExternalWorkspaceCanvasSharingGroupOn:bn}=Vt;if(!bn)return"";const jn=an;switch(jn){case Ve.CanvasSharingFromExternalWorkspaceBlocked:return ze.rt("This canvas can\u2019t be shared outside <b>{externalWorkspaceName}</b>.",{externalWorkspaceName:sn});case Ve.CanvasSharingToExternalWorkspaceBlocked:return ze.rt("This canvas can\u2019t be shared with <b>{externalWorkspaceName}</b>.",{externalWorkspaceName:sn});case Ve.ExternalWorkspaceCanvasSharingBlocked:return"";default:Object(Ze.a)(jn)}},"getCopyForExternalWorkspaceCanvasSharingError");var tt=e("G0eX"),Ot=e("ZKjC"),Ct=e("G4qV"),St=e("6X65");const zt=Object(Ot.b)((Vt,an)=>{let{destination:sn,selectedChannel:bn}=an;var jn,Tn;if(!Object(M.e)(Vt)||!sn)return!1;const An=!!(!(sn==null||(jn=sn.memberIds)===null||jn===void 0)&&jn.length);return bn&&(sn==null||(Tn=sn.channelIds)===null||Tn===void 0?void 0:Tn.length)&&!An&&Object(z.a)(Vt,bn)});zt.meta={name:"createSelector",key:"createSelectorgetIsExternalWorkspaceChannelDestination",description:(Vt,an)=>{let{destination:sn,selectedChannel:bn}=an;var jn,Tn;if(!Object(M.e)(Vt)||!sn)return!1;const An=!!(!(sn==null||(jn=sn.memberIds)===null||jn===void 0)&&jn.length);return bn&&(sn==null||(Tn=sn.channelIds)===null||Tn===void 0?void 0:Tn.length)&&!An&&Object(z.a)(Vt,bn)}};const kt=Object(Ct.a)([(Vt,an)=>{let{destination:sn,selectedChannel:bn}=an;if(!Object(M.e)(Vt))return;const jn=zt(Vt,{destination:sn,selectedChannel:bn})&&Object(S.Eb)(Vt,bn);return Object(B.s)(Vt,jn||"")},(Vt,an)=>{let{file:sn}=an;if(!Object(M.e)(Vt)||!Object(St.a)(Vt,{file:sn}))return;const bn=Object(_.cb)(sn),jn=bn==null?void 0:bn[0];return Object(B.s)(Vt,jn||"")}],(Vt,an)=>{const sn=an||Vt;return sn?Object(tt.h)(sn):void 0});var on=e("Ep1z"),_t=e("My6o"),be=e("yUsG"),ot=e("jWAO"),rt=e("pu3F"),Jt=e("i5Ig");const Qt=new b.b("share-dialog"),qt=o(Vt=>{let{message:an,level:sn,className:bn,dataQA:jn,elementName:Tn,uiComponentVariant:An}=Vt;return r.a.createElement(l.a,{eventId:h.EventId.QUIP_SHARE,elementName:Tn,elementType:h.ElementType.ALERT,clogImpression:!0,uiComponentVariant:An},r.a.createElement(ot.d,{level:sn,type:"inline",className:bn,"data-qa":jn},an))},"AlertWithAutoClog");qt.displayName="AlertWithAutoClog";const $t=o(()=>r.a.createElement(ot.d,{icon:"cloud-offline",level:"info","data-qa":C.a.OFFLINE_ALERT},Qt.rt("<strong>No connection.</strong> You'll be able to share the canvas as soon as you're back online.",{fallbackHash:"e2b183d10e7ab26cc2bfd67de8993c73bc9ce729"})),"OfflineAlert");$t.displayName="OfflineAlert";const hn=o(Vt=>{let{file:an,slackConnectCanvasSharingBlocked:sn,slackConnectFileSharingBlocked:bn,fileOwner:jn,fileOwnerName:Tn,isExternallyOwnedCanvas:An}=Vt;var Vn;let un;const Kn="warning";let $n="";return sn?(un=Qt.t("Canvas sharing has been disabled in conversations using Slack Connect."),$n="share_dialog_sc_canvas_sharing_blocked"):bn?(un=Qt.t("File sharing has been disabled in conversations using Slack Connect. Thus, you are unable to share this canvas since it contains a file.",{fallbackHash:"4a6e343971aa40b1ac1efe209d2af04246743c45",fallbackHashNs:"share-dialog"}),$n="share_dialog_sc_canvas_sharing_with_files_blocked"):!Object(Ae.jb)(jn)&&!(!((Vn=Object(_.G)(an))===null||Vn===void 0)&&Vn.botId)&&Object(on.a)(an)&&(un=Qt.rt("This canvas was sent to you privately. You may want to check with <strong>{fileOwnerName}</strong> before sharing it.",{fileOwnerName:Tn,fallbackHash:"49e406d581828749fcb57abbefda0499c677ae4a"}),$n="share_dialog_canvas_sharing_private"),un?r.a.createElement(qt,{message:un,level:Kn,className:"p-share_dialog__alert",dataQA:C.a.CANVAS_ALERT,elementName:$n,uiComponentVariant:An?h.UiComponentVariant.EXTERNAL_QUIP:void 0}):null},"CanvasAlert");hn.displayName="CanvasAlert";const gn=o(Vt=>{let{file:an}=Vt;return Object(_.e)(an)&&Object(_.kb)(an)?r.a.createElement(qt,{message:Qt.t("This canvas has been shared widely, so not all the people or channels who have access can be shown."),level:"default",className:"p-share_dialog__alert",dataQA:C.a.SHARED_WIDELY_ALERT,elementName:"share_dialog_canvas_has_more_shares"}):null},"CanvasSharedWidelyAlert");gn.displayName="CanvasSharedWidelyAlert";const Cn=o(Vt=>{let{externalWorkspaceName:an,destinationError:sn,slackConnectCanvasSharingBlocked:bn,team:jn,totalNumberDestinationMembers:Tn,destinationMemberIds:An,deactivatedMemberIds:Vn,postingToChannelDisallowed:un,canShareCanvasToAppDm:Kn,atChannelWarningKeyword:$n,channelMemberCount:da,disallowedKeywordInMsgText:fa,selectedChannelIsGeneral:aa,selectedChannelName:ha,willJoinChannel:Ia}=Vt;if(sn&&sn===rt.U.INVALID_USER_COMBINATION)return r.a.createElement(qt,{message:Qt.t("All external people must already be in at least one channel together to share this file."),level:"error",className:"p-composer_page__destination_alert",dataQA:C.a.NOT_IN_ONE_CHANNEL_ALERT,elementName:"share_dialog_canvas_external_people_not_in_one_channel"});if(an&&sn&&Ee[sn]){const Aa=lt({error:sn,externalWorkspaceName:an,experimentExternalWorkspaceCanvasSharingGroupOn:!0});return r.a.createElement(qt,{message:Aa,level:"error",className:"p-composer_page__destination_alert",dataQA:sn,elementName:`share_dialog_canvas_${sn}`})}const ca=Object(_t.a)({atChannelWarningKeyword:$n,channelMemberCount:da,disallowedKeywordInMsgText:fa,isMessageShare:!1,selectedChannelIsGeneral:aa,selectedChannelName:ha,willJoinChannel:Ia});return r.a.createElement(r.a.Fragment,null,ca&&r.a.createElement(qt,{message:ca,level:"warning",className:"p-composer_page__destination_alert",dataQA:C.a.CANVAS_SHARE_ALERT,elementName:"share_dialog_canvas_share_alert"}),r.a.createElement(be.a,{useMultiSelect:!0,slackConnectFileSharingBlocked:!1,isHostedFile:!1,isHostedMessageFile:!1,destinationMemberIds:An||Jt.a,deactivatedMemberIds:Vn||Jt.a,canShareToAppDm:Kn,postingToChannelDisallowed:un,slackConnectCanvasSharingBlocked:bn,destinationError:sn,isFreePlanTeam:Object(tt.F)(jn),totalNumberDestinationMembers:Tn}))},"ChannelPickerAlert");Cn.displayName="ChannelPickerAlert";var Mn=r.a.memo(o(function(an){let{file:sn,isShowingShareLocations:bn,destinationError:jn,slackConnectCanvasSharingBlocked:Tn,slackConnectFileSharingBlocked:An,totalNumberDestinationMembers:Vn,destinationMemberIds:un,deactivatedMemberIds:Kn,postingToChannelDisallowed:$n,destination:da,canPostInSelectedChannel:fa,isSelectedChannelAppDm:aa,atChannelWarningKeyword:ha,channelMemberCount:Ia,disallowedKeywordInMsgText:Ba,selectedChannel:ca,selectedChannelIsGeneral:Aa,selectedChannelName:Ma,willJoinChannel:ja}=an;const Fa=Object(p.c)(Gt=>kt(Gt,{file:sn,destination:da,selectedChannel:ca})),ta=Object(c.useCallback)(()=>Object(Ke.b)({destination:da,canPostInSelectedChannel:fa,isSelectedChannelAppDm:aa}),[da,fa,aa]),Pn=!Object(p.c)(Q.d),dn=Object(p.c)(Gt=>Object(he.g)(Gt,sn&&sn.user),a.a),Rt=Object(p.c)(Gt=>Object(Ge.a)(Gt,dn)),vt=Object(p.c)(Gt=>Object(ce.a)(Gt,{file:sn})),At=Object(p.c)(B.g);return r.a.createElement(r.a.Fragment,null,Pn&&r.a.createElement($t,null),!Pn&&r.a.createElement(hn,{file:sn,isExternallyOwnedCanvas:vt,slackConnectCanvasSharingBlocked:Tn,slackConnectFileSharingBlocked:An,fileOwner:dn,fileOwnerName:Rt}),bn&&r.a.createElement(gn,{file:sn}),r.a.createElement(Cn,{externalWorkspaceName:Fa,destinationError:jn,slackConnectCanvasSharingBlocked:Tn,team:At,totalNumberDestinationMembers:Vn,destinationMemberIds:un,deactivatedMemberIds:Kn,postingToChannelDisallowed:$n,canShareCanvasToAppDm:ta,atChannelWarningKeyword:ha,channelMemberCount:Ia,disallowedKeywordInMsgText:Ba,selectedChannelIsGeneral:Aa,selectedChannelName:Ma,willJoinChannel:ja}))},"CanvasShareDialogAlerts")),kn=e("y4hh"),na=e("afXM"),oa=e("Ec0U"),ba=e("MXGC"),ga=e("sw7J"),ya=e("oLdd");const Zn=new b.b("share-dialog");function Xn(Vt){let{file:an,onContinue:sn,onCancel:bn}=Vt;const jn=Object(p.c)(F.i),Tn=Object(p.c)(aa=>Object(ce.a)(aa,{file:an})),An=Object(p.c)(aa=>Object(he.g)(aa,an&&an.user),a.a),Vn=Object(p.c)(aa=>Object(B.s)(aa,(An==null?void 0:An.team_id)||"")),un=Object(tt.h)(Vn);let Kn,$n,da,fa;return Tn?(Kn=Zn.t("Some people won\u2019t be able to view this canvas"),$n=Zn.rt("<strong>{fileOwnerTeamName}</strong> owns this canvas so only people from that organization can grant others access.",{fileOwnerTeamName:un}),da=C.b.AWAY_CANVAS_SPEEDBUMP,fa="external_canvas"):(Kn=Zn.t("Is it OK to send this?"),$n=Zn.rt("Sharing canvases with external organizations has been turned off by your admins. If you share this canvas in this channel, only people from {teamName} will be able to view it.",{teamName:r.a.createElement(A.a,{id:jn})}),da=C.b.SC_CANVAS_SHARING_BLOCKED_SPEEDBUMP,fa="sc_canvas_sharing_disabled"),r.a.createElement(l.a,{eventId:h.EventId.QUIP_SHARE,uiComponentName:h.UiComponentName.QUIP_SHARE_DIALOG_SPEEDBUMP,uiComponentVariant:fa,clogImpression:!0},r.a.createElement(O.k,{className:"p-canvas_access_speedbump",heading:Kn,description:r.a.createElement("div",{className:"margin_bottom_150 margin_top_50"},$n),onContinue:sn,continueButtonLabel:Zn.t("Send Anyway"),continueButtonType:"primary",onCancel:bn,cancelButtonLabel:Zn.t("Cancel"),"data-qa":da,autoClogProps:ve.i}))}o(Xn,"CanvasSlackConnectSharingSpeedBump");var Ht=e("yzO5"),ut=e("F8ux"),gt=e("AzV5"),Wt=e("Uddq");const Mt=new b.b("share-dialog"),Xe=Object(x.c)("Share a canvas",function(){var Vt=Object(n.coroutine)(function*(an,sn,bn){let{fileId:jn,grant:Tn,selectedChannelId:An,messageInputRef:Vn,propMsgOps:un,experimentSlabPrototypeGroupOn:Kn}=bn;const $n=sn(),da=Object(R.e)($n,jn),fa=Object(_.o)(da),aa=Vn.current&&Vn.current.getTextContents?Vn.current.getTextContents():un;try{const ha=yield an(Object(Wt.a)({channelOrMemberId:An})),{channelId:Ia}=ha;if(!Ia)return ee.a.reject(new Error("Invalid channelId"));const Ba=an(Object(gt.a)({msgOps:aa,channelId:Ia})),ca={channelId:Ia,blocks:Ba,msgText:"",fileIds:[jn],reason:"share_dialog_permission_share_to_user",permissions:[{grant:Tn,file_id:jn}],fromShareModal:!0};if(yield an(Object(ut.a)(ca))){jn&&Ia&&an(Object(se.m)({fileId:jn,channelId:Ia}));let Ma=Mt.t("You shared this canvas");return fa?Ma=Kn?Mt.t("You shared this list"):"You shared this list":Object(_.wb)(da,$n)&&(Ma=Mt.t("You shared this template")),an(Object(X.a)({element:r.a.createElement(na.a,{message:Ma})})),ee.a.resolve()}}catch(ha){return(ha==null?void 0:ha.name)==="message_limit_exceeded"&&an(Object(Ht.a)()),ee.a.reject(ha)}});return function(an,sn,bn){return Vt.apply(this,arguments)}}());Xe.meta={name:"createThunk",key:"createThunkshareCanvas",description:"Share a canvas"};var bt=e("aCzs"),Nt=e("8POn"),Pt=e("AutL"),nn=e("qY4A"),rn=e("gVOt"),mn=e("E97Y"),vn=e("ARYk"),Xt=e("4eGI");function ht(Vt){const an=Object(vn.a)(Vt);return Object(Xt.a)(an==null?void 0:an.hasFileUnfurls)}o(ht,"useQuipDocHasFileUnfurls");var It=e("rZ8V"),Ft=e("OaiI"),Bt=e("vobO"),en=e("T/b3");const On=new b.b("share-dialog");var yn;(function(Vt){Vt.CANVAS_CHANGE_ACCESS_SPEEDBUMP="CanvasChangeAccessSpeedBump",Vt.CANVAS_CHANGE_ACCESS_CLOSE_MODAL_SPEEDBUMP="CanvasChangeAccessCloseModalSpeedBump",Vt.CANVAS_REVOKE_ACCESS_SPEEDBUMP="CanvasRevokeAccessSpeedBump",Vt.CANVAS_SLACK_CONNECT_SHARING_SPEEDBUMP="CanvasSlackConnectSharingSpeedBump",Vt.CLOSE_DIALOG_SPEEDBUMP="CloseDialogSpeedBump"})(yn||(yn={}));function Dn(Vt){const an=Object(f.useDispatch)(),sn=Object(p.c)(M.e),bn=Object(p.c)(jt=>Object(K.d)(jt,"canvas_collection_prototype")==="on"&&Object(It.m)(jt)),jn=Object(p.c)(Ft.isListsEnabled),Tn=Object(p.c)(jt=>Object(K.d)(jt,"canvas_user_created_templates_ga",!1)==="on"),An=Object(p.c)(jt=>Object(K.d)(jt,"canvas_templates_admin")==="on"),Vn=Object(p.c)(F.i),un=Tn&&Vt.viewContext===Bt.a,{canPostInSelectedChannel:Kn,disallowedKeywordInMsgText:$n,slackConnectCanvasSharingBlocked:da,deactivatedMemberIds:fa,nonMemberChannel:aa,selectedChannel:ha,atChannelWarningKeyword:Ia,channelMemberCount:Ba,selectedChannelIsGeneral:ca,selectedChannelName:Aa,willJoinChannel:Ma,channelType:ja}=Object(p.c)(jt=>Object(Se.b)(jt,Vt),d.b),Fa=Object(p.c)(jt=>Object(S.Y)(jt,ha)),ta=Object(p.c)(jt=>Object(R.e)(jt,Vt.fileId),a.a),Pn=Object(p.c)(jt=>Object(_.wb)(ta,jt)),dn=Object(p.c)(jt=>Object(_.vb)(ta,jt)),Rt=Object(_.o)(ta),vt=Rt?pe.b.LIST:pe.b.CANVAS,At=Object(p.c)(jt=>Object(oe.a)(jt,ta)),Gt=!dn&&!Kn,ln=Object(p.c)(jt=>Object(J.t)(jt,"a11y_animations")),Dt=ht(Vt.fileId),He=!Object(p.c)(Q.d),Le=Object(p.c)(jt=>Object(ce.a)(jt,{file:ta})),Qe=Object(p.c)(jt=>Object(Pt.b)(jt,Vt.fileId));var Ce;const ye=Object(p.c)(jt=>!!Object(ue.a)(jt,(Ce=Vt.selectedChannelId)!==null&&Ce!==void 0?Ce:"")),ie=Pn||!Object(_.Wb)(ta)?Z.a.Read:Z.a.Write,[Oe,We]=Object(c.useState)(Object(u.a)(ta,ie)),[ke,nt]=Object(c.useState)({}),[st,mt]=Object(c.useState)(void 0),[pt,Et]=Object(c.useState)(void 0),[it,at]=Object(c.useState)(!1),[ft,yt]=Object(c.useState)(void 0),[Tt,Zt]=Object(c.useState)(!1),[In,_n]=Object(c.useState)(),[Nn,Fn]=Object(c.useState)(un),[Bn,Un]=Object(c.useState)([]),[zn,wn]=Object(c.useState)(!1),[Rn,ra]=Object(c.useState)([]),[wt,pn]=Object(c.useState)(!1),[Hn,Jn]=Object(c.useState)(void 0),[Ca,qn]=Object(c.useState)({}),[ua,va]=Object(c.useState)(!1),Ea=Object(c.useRef)(null),{setDestinationError:_a,destinationError:Ra,totalNumberDestinationMembers:Va,overMsgLengthLimit:xn,submitting:Ta,setSubmitting:La,shouldShowCloseDialogSpeedBump:Ka,channelPickerInputRef:Ha,messageInputRef:xa,onShareChannelChange:za,onShareChannelChangeError:us,onChangeTotalDestinationMembers:ss,onTextChange:Ja}=Object(qe.a)({shareType:vt,wrapperMsgOps:Vt.msgOps,setWrapperSelectedChannel:Vt.setSelectedChannel,setWrapperMsgOps:Vt.setMsgOps}),Na=Object(c.useCallback)(()=>{un&&an(Object(X.a)({element:r.a.createElement(na.a,{message:On.t("You created a template.",{fallbackHashNs:"slack-docs",fallbackHash:"fc5f66fa3dc14324776872c29cfea4231efc3628"})})}))},[an,un]),Qa=o(()=>{Jn(void 0)},"resetSpeedBumpState"),$a=Object(c.useCallback)(function(){let jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Na(),an(Object(k.a)({closeAll:jt}))},[an,Na]),bs=Object(c.useCallback)(jt=>{let{access:tn,entityId:fn,currentAccess:Gn}=jt,Wn;if(tn==="revoke"||tn===Gn){const{[fn]:ma,...Da}=ke;Wn=Da}else Wn={...ke,[fn]:tn};nt(Wn),Tn&&Nn&&Fn(!1)},[Tn,ke,Nn]),gs=Object(c.useCallback)(jt=>{let{orgSharingSetting:tn}=jt;mt(tn),Tn&&Nn&&Fn(!1)},[Tn,Nn]),ys=Object(c.useCallback)(jt=>{An&&(Et(jt),Nn&&Fn(!1))},[An,Nn]),ps=Object(c.useCallback)(()=>{Jn(void 0),yt(void 0)},[]),Cs=o(()=>{Jn(void 0),qn({})},"resetCanvasRevokeAccessSpeedbumpState"),os=o(jt=>{setTimeout(()=>{var tn;(tn=Ea.current)===null||tn===void 0||tn.selectTab(jt)},0)},"switchShareDialogLocationsTab"),Os=Object(c.useCallback)(()=>Object(i.a)(ke)?!1:Object(v.a)(Object.keys(ke)[0]),[ke]);let Xa=On.t("Canvas access updated");Rt?Xa=jn?On.t("List access updated"):"List access updated":Pn&&(Xa=On.t("Template access updated"));const ts=Object(c.useCallback)(Object(n.coroutine)(function*(){at(!0);const jt=!!pt,tn=pt===!1,fn=!!st;let Gn=!1;if(pt!==void 0)try{if(yield an(jt?te({fileId:ta.id}):re({fileId:ta.id})),Et(void 0),jt&&fn&&mt(void 0),pn(!1),Gn=!0,ft&&os(ft),!un&&(jt||!fn)){let Wn;jt?Wn=An?On.rt("Template added to <b>Created by {teamName}</b>",{teamName:r.a.createElement(A.a,{id:Vn})}):"":Wn=An?On.rt("Template removed from <b>Created by {teamName}</b>",{teamName:r.a.createElement(A.a,{id:Vn})}):"",an(Object(X.a)({element:r.a.createElement(na.a,{message:Wn})}))}}catch{pn(!0)}finally{at(!1),ps(),Zt(!1)}st&&!jt&&(!tn||Gn)&&an(Object(Y.b)({fileId:ta.id,orgSharingSetting:st})).then(()=>{if(mt(void 0),wn(!1),ft&&os(ft),!un){let Wn=Xa;tn&&(Wn=An?On.rt("Template removed from <b>Created by {teamName}</b> and access updated",{teamName:r.a.createElement(A.a,{id:Vn})}):""),an(Object(X.a)({element:r.a.createElement(na.a,{message:Wn})}))}}).catch(()=>{nt({}),wn(!0)}).finally(()=>{at(!1),ps(),Zt(!1)}),Object(i.a)(ke)||an(Object(ne.a)({fileId:ta.id,modifiedPermissions:ke})).then(Wn=>{const ma=Os()?Wn.failedChannelIds:Wn.failedUserIds,Da=ma.reduce((Pa,Ga)=>Ga in ke?Object.assign(Pa,{[Ga]:ke[Ga]}):Pa,{});nt(Da),Un([...ma]),ft&&os(ft),Object.keys(Da).length<Object.keys(ke).length&&(un||an(Object(X.a)({element:r.a.createElement(na.a,{message:Xa})})))}).catch(()=>{const Wn=Object.keys(ke);Un([...Wn])}).finally(()=>{at(!1),ps(),Zt(!1)})}),[st,ke,pt,an,ta.id,ft,un,Xa,ps,Os,An,Vn]),Ya=Object(c.useCallback)(()=>An&&Pn&&(At&&pt===void 0||!At&&pt===!0),[An,Pn,pt,At]),ds=Object(c.useCallback)(()=>{Ka()&&Kn?Jn(yn.CLOSE_DIALOG_SPEEDBUMP):Object(bt.b)({modifiedPermissions:ke,modifiedOrgSharingSetting:st,modifiedOrgTemplateSetting:pt,isOrgWideTemplate:Ya()})?Jn(yn.CANVAS_CHANGE_ACCESS_CLOSE_MODAL_SPEEDBUMP):$a()},[Ka,Kn,ke,st,pt,Ya,$a]),js=Object(c.useCallback)(jt=>Object(bt.b)({modifiedPermissions:ke,modifiedOrgSharingSetting:st,modifiedOrgTemplateSetting:pt,isOrgWideTemplate:Ya()})?(Jn(yn.CANVAS_CHANGE_ACCESS_SPEEDBUMP),yt(jt),!0):!1,[ke,st,pt,Ya]),Je=Object(c.useCallback)(()=>{Object(bt.b)({modifiedPermissions:ke,modifiedOrgSharingSetting:st,modifiedOrgTemplateSetting:pt,isOrgWideTemplate:Ya()})&&!Tt&&(Jn(yn.CANVAS_CHANGE_ACCESS_SPEEDBUMP),Zt(!0))},[ke,st,pt,Ya,Tt]);Object(c.useEffect)(()=>{const{entityId:jt,unknownPrivateChannelCount:tn}=Ca;(jt||tn)&&Jn(yn.CANVAS_REVOKE_ACCESS_SPEEDBUMP)},[Ca]),Object(c.useEffect)(()=>{m.d.stop({label:m.a.CanvasShareDialogLoad})},[]),Object(c.useEffect)(()=>{Vt.fileId&&Vt.selectedChannelId&&ye?an(Object(Ue.a)({reason:"canShare",fileId:Vt.fileId,channelId:Vt.selectedChannelId})).then(jt=>{va(!!(ye&&(Dt||!jt.can_share)))}):va(!1)},[an,Vt.fileId,Vt.selectedChannelId,Dt,ye]);const Ie=o(()=>{Vt.selectedChannelId&&(La(!0),an(Xe({fileId:Vt.fileId,grant:Oe.value,selectedChannelId:Vt.selectedChannelId,messageInputRef:xa,propMsgOps:Vt.msgOps,experimentSlabPrototypeGroupOn:jn})).then(()=>{var jt;if($a(!0),bn&&Qe&&ha&&ja===mn.b.im){const fn=Object(rn.a)(ha);fn&&an(Object(nn.a)({fileId:Vt.fileId,userId:fn}))}(jt=Vt.onCloseCallback)===null||jt===void 0||jt.call(Vt)}).catch(jt=>{$a(),Ee[jt.name]&&_a(jt.name)}).finally(()=>La(!1)))},"onShare");if(!ta)return null;const et=o(function(){let{includeExternalMembersSpeedBump:jt=!0,includeSlackConnectSharingSpeedBump:tn=!0,includeExternalWorkspaceSharingSpeedBump:fn=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(Ke.d)({disallowedKeywordInMsgText:$n,canPostInSelectedChannel:Kn,isOffline:He,overMsgLengthLimit:xn,submitting:Ta,destinationError:Ra})?!1:fn&&sn&&an($({fileIds:[ta.id],entityId:ha.id||"",onContinue:()=>{et({includeExternalWorkspaceSharingSpeedBump:!1,includeSlackConnectSharingSpeedBump:!1,includeExternalMembersSpeedBump:!1})}})).didOpen?!0:(da||Le)&&tn?(Jn(yn.CANVAS_SLACK_CONNECT_SHARING_SPEEDBUMP),!1):(!da&&jt&&an(Object(E.a)({fileIds:[ta.id],entityId:ha.id||"",onSend:()=>{et({includeExternalMembersSpeedBump:!1})}})).didOpen||Ie(),!0)},"onGo"),Ne=o(()=>{et({includeSlackConnectSharingSpeedBump:!1})},"onGoFromSlackConnectSharingSpeedbump"),De=o(()=>{et()&&$a()},"onEnter"),_e=o(()=>{const jt=r.a.createElement(ge.a,{file:ta,stopAnimations:!ln});let tn=On.t("Share this canvas");return Rt?tn=jn?On.t("Share this list"):"Share this list":Tn&&un?tn=On.t("Review permissions for this template"):Pn&&(tn=On.t("Share template")),r.a.createElement(O.i,{"data-qa":Pe.b.MODAL_HEADER},r.a.createElement(O.l,{id:"share-dialog-title",className:"padding_right_175 padding_bottom_50",title:tn,subtitle:jt,"data-qa":Pe.b.MODAL_HEADER_TITLE}),r.a.createElement(je.a,{fileId:Vt.fileId}))},"renderHeader");_e.displayName="renderHeader";const Me=o(()=>{var jt;return r.a.createElement(O.e,{"data-qa":Pe.b.MODAL_ALERT_SECTION},r.a.createElement(Mn,{file:ta,destinationError:Ra,isShowingShareLocations:!Kn,slackConnectCanvasSharingBlocked:da,slackConnectFileSharingBlocked:ua,totalNumberDestinationMembers:Va,destinationMemberIds:(jt=Vt.destination)===null||jt===void 0?void 0:jt.memberIds,deactivatedMemberIds:fa,postingToChannelDisallowed:Object(Ke.f)({destination:Vt.destination,nonMemberChannel:aa,canPostInSelectedChannel:Kn}),destination:Vt.destination,canPostInSelectedChannel:Kn,isSelectedChannelAppDm:Fa,atChannelWarningKeyword:Ia,channelMemberCount:Ba,disallowedKeywordInMsgText:$n,selectedChannel:ha,selectedChannelIsGeneral:ca,selectedChannelName:Aa,willJoinChannel:Ma}))},"renderAlerts");Me.displayName="renderAlerts";const xe=o(()=>un?r.a.createElement(O.e,null,r.a.createElement("div",{"data-qa":C.b.CANVAS_TEMPLATE_CONVERSION_LABEL,className:"p-share_dialog__desc"},Tn?On.t("By default, the template has the same permissions as your canvas."):"")):null,"renderDescription");xe.displayName="renderDescription";const Fe=o(()=>{var jt,tn;if(un)return null;const fn=(jt=Vt.destination)===null||jt===void 0?void 0:jt.memberIds,Gn=(tn=Vt.destination)===null||tn===void 0?void 0:tn.channelIds,{shouldSearchForChannels:Wn,shouldSearchForMembers:ma}=Object(Ke.c)({memberIds:fn,channelIds:Gn,useMultiSelect:!0}),Da=r.a.createElement(Ye.a,{onChange:za,onChangeTotalDestinationMembers:ss,onChangeError:us,focusOnMount:!0,expandOnFocus:!1,dialogType:"share_dialog",shouldSearchForChannels:Wn,shouldSearchForMembers:ma,destination:Vt.destination,isPrivateMessageSharing:!1,shouldForceCreateDmDuringMultiSelect:!0,useMultiSelect:!0,initialChannelId:Vt.selectedChannelId,shouldShowFilePermissionsPrototype:!0,shouldAllowShareExternal:!0,inputRef:Ha,onInputFocused:Je});return r.a.createElement(O.e,{"data-qa":Pe.b.MODAL_HEADER_SECTION},r.a.createElement("div",{className:"display_flex margin_bottom_75 margin_top_50"},Da,(!ma||!Wn||Vt.selectedChannelId)&&r.a.createElement(le.a,{file:ta,selectedOption:Oe,setSelectedOption:We})))},"renderChannelPicker");Fe.displayName="renderChannelPicker";const we=o(()=>{if(Gt)return null;const jt=On.t("Add a message, if you\u2019d like.");return r.a.createElement(O.e,{className:"p-share_dialog__section"},r.a.createElement(ct.a,{channelId:Vt.selectedChannelId,onTextChange:Ja,placeholder:jt,ariaLabel:jt,onEnter:De,ref:xa,focusOnMount:!1,"data-qa":C.b.SHARE_DIALOG_MESSAGE_INPUT}))},"renderInput");we.displayName="renderInput";const dt=o(()=>Gt?r.a.createElement(O.e,{"data-qa":C.b.ORG_SHARING_MESSAGE_SECTION},r.a.createElement(kn.a,{currentTab:In,file:ta,switchTabs:os})):null,"renderSharedOrgMessage");dt.displayName="renderSharedOrgMessage";const Ut=o(()=>{const jt=Object(ve.f)({permissionsGrantLevel:Oe.value,viewContext:Vt.viewContext}),tn=r.a.createElement($e.a,{isStoryShare:!1,messageLinkCanBeCopied:!1,value:ta==null?void 0:ta.permalink,buttonAutoClogProps:ve.d,shareType:vt}),fn=r.a.createElement(me,{onClick:et,shareType:vt,buttonAutoClogProps:jt,isStoryShare:!1,isFetchingUnfurlData:!1,canPostInSelectedChannel:Kn&&!ua,disallowedKeywordInMsgText:$n,overMsgLengthLimit:xn,submitting:Ta,destinationError:Ra});let Gn;const Wn=!Object(bt.b)({modifiedPermissions:ke,modifiedOrgSharingSetting:st,modifiedOrgTemplateSetting:pt,isOrgWideTemplate:Ya()});let ma=On.t("Save");if(un){ma=Tn?On.t("Save Changes"):"";let Da=Tn?On.t("Close"):"";Nn&&(Da=Tn?On.t("Skip for Now"):""),Gn=r.a.createElement(g.a,{type:"outline",onClick:ds,autoClogProps:Nn?ve.h:ve.c,"data-qa":C.b.SKIP_FOR_NOW},Da)}return r.a.createElement(O.h,null,r.a.createElement("div",{className:"p-share_dialog__left_actions"},tn),r.a.createElement("div",{className:"p-share_dialog__right_actions"},Tn&&un&&Gn,!Nn&&Kn&&fn,!Nn&&!Kn&&r.a.createElement(g.c,{onClick:ts,disabled:Wn,"data-qa":C.b.SAVE_CHANGES,loading:it,autoClogProps:ve.b},ma)))},"renderFooter");Ut.displayName="renderFooter";const Lt=o(jt=>{let{entityId:tn}=jt;ra([...Rn,tn])},"onRevokeAccessError"),xt=o(()=>{switch(Hn){case yn.CANVAS_CHANGE_ACCESS_SPEEDBUMP:return r.a.createElement(ba.a,{modifiedPermissions:ke,modifiedOrgSharingSetting:st,modifiedOrgTemplateSetting:pt,isOrgWideTemplate:Ya(),continueButtonIsLoading:it,onContinue:ts,onCancel:ps});case yn.CANVAS_CHANGE_ACCESS_CLOSE_MODAL_SPEEDBUMP:return r.a.createElement(ba.a,{modifiedPermissions:ke,modifiedOrgSharingSetting:st,modifiedOrgTemplateSetting:pt,isOrgWideTemplate:Ya(),shouldShowCloseDialogSpeedbump:!0,onContinue:$a,onCancel:Qa});case yn.CANVAS_REVOKE_ACCESS_SPEEDBUMP:{const{entityId:jt,unknownPrivateChannelCount:tn}=Ca;return r.a.createElement(ga.a,{fileId:ta.id,entityId:jt,unknownPrivateChannelCount:tn,closeSpeedBump:Cs,onRevokeAccessError:Lt,isSlackList:Rt,isTemplate:Pn})}case yn.CANVAS_SLACK_CONNECT_SHARING_SPEEDBUMP:return r.a.createElement(Xn,{file:ta,onContinue:Ne,onCancel:Qa});case yn.CLOSE_DIALOG_SPEEDBUMP:return r.a.createElement(Nt.a,{onContinue:$a,onCancel:Qa,description:r.a.createElement("strong",null,On.rt("Discard this message?")),"data-qa":Pe.c.CLOSE_DIALOG});default:return null}},"renderSpeedBump");return xt.displayName="renderSpeedBump",r.a.createElement(l.a,{eventId:h.EventId.QUIP_SHARE,elementType:h.ElementType.MODAL},r.a.createElement(O.a,{closeModal:ds,onAfterOpen:Vt.onOpenCallback,onClose:Vt.onCloseCallback,className:Object(t.default)("p-share_dialog__modal p-share_dialog__modal--doc"),overlayClassName:Object(t.default)("p-share_dialog__modal_overlay"),showCloseButton:!0,centered:!0,labelledby:"share-dialog-title","data-qa":C.b.MODAL},_e(),r.a.createElement(O.d,null,dt(),Me(),xe(),Fe(),we(),Gt&&r.a.createElement(oa.b,{file:ta,isSlackDoc:!0,isSlackList:Rt,initialTab:In||Vt.initialShareDialogLocationsTab,onPermissionChange:bs,modifiedPermissions:ke,onOrgSharingChange:gs,modifiedOrgSharingSetting:st,onOrgTemplateSettingChange:ys,handleOnSelectRevoke:qn,onSwitchTabsWithChanges:js,tabsRef:Ea,onTabChange:_n,permissionsFailedEntityIds:Bn,hasOrgSharingSettingError:zn,revokeFailedEntityIds:Rn,hasOrgTemplateSettingError:wt})),r.a.createElement(O.g,null,xt(),Ut())))}o(Dn,"CanvasShareDialog"),Dn.displayName="CanvasShareDialog";var En=s.default=Object(Se.a)(r.a.memo(Dn))},GkPN:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n="hermes-functions-store"},Gnyr:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("SQ0V"),c=e("3l96"),r=e("+kJ4"),f=e("fujP"),l=e("YUBf"),p=e("3V+Q"),h=e("Ws5+"),u=e("nNoG"),b=e("Trx9"),v=e("ktUG"),d=e("9oWK"),g=o(()=>t.a.createElement("svg",{width:284,height:197,viewBox:"0 0 284 197",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("rect",{x:101.965,y:109.1,width:60.8382,height:6.57885,rx:3.28943,fill:"#1D1C1D",fillOpacity:.5}),t.a.createElement("rect",{opacity:.5,x:101.965,y:123.09,width:136.305,height:6.57885,rx:3.28943,fill:"#1D1C1D",fillOpacity:.3}),t.a.createElement("rect",{opacity:.5,x:101.965,y:137.078,width:117.443,height:6.57885,rx:3.28943,fill:"#1D1C1D",fillOpacity:.3}),t.a.createElement("rect",{x:38.9258,y:109.471,width:45.9025,height:45.9147,rx:4.86848,fill:"#36C5F0"}),t.a.createElement("rect",{x:38.9258,y:109.471,width:45.9025,height:45.9147,rx:4.78827,fill:"#E01E5A"}),t.a.createElement("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:39,y:92,width:46,height:64},t.a.createElement("path",{d:"M39.027 97.386a4.788 4.788 0 014.789-4.788h36.326a4.788 4.788 0 014.788 4.788v53.212a4.788 4.788 0 01-4.788 4.788H43.816a4.788 4.788 0 01-4.789-4.788V97.386z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#a)"},t.a.createElement("path",{d:"M78.444 134.127s-4.928-.181-5.123 5.629c-.435 12.416 2.516 31.435 2.915 36.47.438 4.745 10.195 5.136 11.365.711 1.457-5.469 1.742-24.497-.521-32.246-2.263-7.749-6.057-10.086-8.636-10.564z",fill:"#FA7598"}),t.a.createElement("path",{opacity:.2,d:"M76.171 155.459l-1 17.934c4.688-9.182 5.994-18.838 5.262-21.681-1.494-5.797-3.306-.714-4.262 3.747z",fill:"#000"}),t.a.createElement("path",{d:"M35.122 137.722c5.23-4.058 16.157-8.78 17.586-8.984h13.575l13.184 5.687c3.034 9.555 1.086 17.706-.905 21.936-.621 3.524-1.545 13.485-1.545 13.485a24.814 24.814 0 00-.173 7.525c.23 1.661 3.64 20.523 2.137 21.765l-35.504 1.156c0-12.081-1.93-32.689-3.982-47.166 0-6.605-7.933-12.107-4.373-15.404z",fill:"#FA7598"}),t.a.createElement("path",{d:"M66.12 134.961l2.618-11.079c2.032-8.282-10.58-15.225-12.789-6.445-.717 5.148-1.791 8.955-3.835 12.599 7.208 5.708 10.021 7.684 14.007 4.925z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M45.139 118.185c1.16 2.421 3 4.451 5.295 5.843 1.44 1.077 4.97 5.23 6.249 4.608l1.329-1.141 12.257-4.336-.272-11.508-1.192-3.934c-2.622-6.205-8.59-10.928-16.959-6.964-9.072 4.307-9.706 10.351-6.707 17.432z",fill:"#000"}),t.a.createElement("path",{d:"M60.642 137.725h2.275c3.055 0 4.186-3.409 2.517-7.612H52.148c1.616 4.203 5.384 7.612 8.494 7.612z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M58.207 129.375c-.445 1.948-4.132-.036-4.52-2.077 2.105-.872.786-1.915.503-2.386-.032-.054 2.026-.301 2.322-.39.625.816 1.59 3.886 1.695 4.853z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M56.735 120.021l-.996 4.857c1.103 3.388 8.925 8.828 11.39 6.069.366-1.289.433-3.047 3.913-5.661l-14.307-5.265z",fill:"#9B7659"}),t.a.createElement("path",{d:"M54.05 122.491l1.105 2.392c.846 1.626 3.876 2.087 3.876 2.087l7.31 1.531a7.433 7.433 0 002.916-.454c1.497-.657 3.768-1.021 3.949-3.035a63.229 63.229 0 00-.513-9.162 30.48 30.48 0 00-1.938-3.823 25.258 25.258 0 01-1.115-2.666 25.496 25.496 0 00-1.485-2.296l-1.51-1.668a1.24 1.24 0 00-1.415-.314l-12.08 5.011a1.136 1.136 0 00-.639 1.414l.996 2.882a1.604 1.604 0 01-.127 1.298l-.783 1.361 2.016 5.337-.563.105z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M48.213 121.085a2.555 2.555 0 014.399-1.262l3.4 4.506a5.131 5.131 0 01-3.796.979c-1.815-.256-4.398-2.086-4.003-4.223z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M50.075 122.063c-.734-2.27 1.533-1.459 1.533-1.459l-1.202 1.149a3.278 3.278 0 002.418 2.313c-1.947.488-2.749-2.003-2.749-2.003z",fill:"#9B7659"}),t.a.createElement("path",{d:"M57.443 114.594l.203-.422a2.37 2.37 0 011.039-1.083c1.794-1.145 2.75-1.605 4.35-2.147a.32.32 0 01.416.148.319.319 0 01.033.158l-.031.572a1.21 1.21 0 01-.659.958c-1.78.704-2.805 1.15-4.853 2.377a.406.406 0 01-.538-.328.402.402 0 01.04-.233zM65.508 122.77s1.483.748 3.135.416c1.653-.332 1.864-.901 2.09-1.374.227-.474-.097-1.468-.086-1.33a37.859 37.859 0 00-5.139 2.288z",fill:"#000"}),t.a.createElement("path",{d:"M65.507 122.769s1.713 1.454 3.575 1.09c1.86-.364 2.159-1.402 2.106-1.894a11.91 11.91 0 00-.384-1.548l-.192.299a1.5 1.5 0 01-.062 1.11 1.741 1.741 0 01-.828.829c-1.34.724-3.582-.147-4.215.114z",fill:"#9B7659"}),t.a.createElement("path",{d:"M65.98 122.573c.561.141 1.632-.014 2.367-.219 1.632-.482 1.623-.604 1.862-.864.043-.238.117-.879.117-.879s-3.72 1.296-4.346 1.962z",fill:"#fff"}),t.a.createElement("path",{d:"M65.406 122.813s1.29-1.301 2.779-1.742c1.49-.441 1.954-.856 2.24-.948.258-.052.448.03.637.16-.408.512-.8.756-1.422 1.041-.948.391-3.04.911-4.234 1.489z",fill:"#9B7659"}),t.a.createElement("path",{d:"M69.922 109.464l-.455-.364a.45.45 0 00-.194-.097.411.411 0 00-.209.007c-1.495.287-2.131.497-3.1.91-.141.007-.179.316-.08.496l.263.419c.067.142.17.255.293.324.124.069.261.09.394.06.81-.394 1.317-.609 2.96-.888a.376.376 0 00.204-.131.503.503 0 00.105-.246.564.564 0 00-.028-.277.473.473 0 00-.153-.213zM68.372 111.688c.69-.245 1.312.117 1.791.552a.316.316 0 01.028.433.315.315 0 01-.433.028c-.787-.672-1.763-.461-2.282.707a.396.396 0 01-.394.212.306.306 0 01-.17-.4c.177-.721.652-1.244 1.46-1.532zM61.296 114.54c.747-.29 1.613.041 1.95.64a.291.291 0 01-.032.33c-.123.093-.327.11-.448.009-.951-.841-2.225-.088-2.642.942a.316.316 0 01-.396.175.315.315 0 01-.176-.396c.242-.627.8-1.335 1.744-1.7z",fill:"#000"}),t.a.createElement("path",{d:"M65.902 119.776s-.408.308-.659.094c-.25-.214.567-1.032.903-1.452a1.775 1.775 0 011.58-.598c.73.049.897-.693 1.371-.826.475-.133.765.838.429 1.135-.336.296-.17.45-.673.671-1 .275-1.984.601-2.95.976z",fill:"#9B7659"}),t.a.createElement("path",{d:"M66.039 119.49s.27-.92.993-1.008c1.086-.148.468.502-.993 1.008zM68.763 118.355s.069-.675.401-.816c.333-.141.445.481-.401.816z",fill:"#3E2F24"}),t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M62.26 116.045c.041-.237-.037-.523-.232-.762-.307-.377-.787-.493-1.072-.261-.285.233-.267.726.04 1.103.105.129.23.227.36.291a5.066 5.066 0 01.903-.371zM69.422 113.285c.042-.221-.015-.49-.175-.73-.27-.403-.73-.569-1.029-.369-.298.199-.32.688-.05 1.092.098.148.223.264.356.342a4.774 4.774 0 01.897-.335z",fill:"#000"})),t.a.createElement("mask",{id:"b",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:30,y:83,width:172,height:95},t.a.createElement("path",{d:"M30.41 88.775a4.788 4.788 0 014.788-4.789h161.849a4.788 4.788 0 014.788 4.789v83.608a4.788 4.788 0 01-4.788 4.788H35.198a4.788 4.788 0 01-4.788-4.788V88.775z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#b)"},t.a.createElement("path",{opacity:.2,d:"M56.412 162.374l6.064-2.911c2.274-4.494-4.752-13.41-9.3-14.65-7.33-.422.543 13.649 3.236 17.561z",fill:"#000"}),t.a.createElement("path",{d:"M90.362 138.39l.806-3.093c.176-.693.481-1.346.9-1.926l3.678-5.162a.633.633 0 01.489-.287.634.634 0 01.524.217 2.905 2.905 0 01-.075 2.9 5.99 5.99 0 00-.94 4.284c.185 5.447-.734 6.347-.734 6.347s-4.158-2.021-4.648-3.28z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M96.297 131.554c-.158 1.045-.872 2.365-.873 3.422-.235 1.705-.005 2.872-.704 4.444l-1.77-3.575 3.347-4.291z",fill:"#9B7659"}),t.a.createElement("rect",{width:72.6889,height:30.2557,rx:4.32202,transform:"matrix(.93955 .34206 -.34198 .93983 95.785 102.674)",fill:"#E01E5A"}),t.a.createElement("path",{d:"M123.321 131.099c.08.029.139.086.179.17l.348.834a3.355 3.355 0 01-1.509.479c-.54.041-1.136-.057-1.788-.294-.583-.213-1.071-.503-1.466-.873a3.69 3.69 0 01-.887-1.264c-.2-.475-.3-.991-.298-1.548a5.124 5.124 0 01.327-1.709c.214-.59.505-1.096.871-1.516a3.986 3.986 0 011.256-.983c.473-.23.982-.356 1.528-.379a4.291 4.291 0 011.684.275c.572.208 1.045.487 1.418.836.377.35.666.735.866 1.152l-.736.501a.435.435 0 01-.155.073.322.322 0 01-.203-.018.401.401 0 01-.152-.105 5.43 5.43 0 01-.149-.183 5.033 5.033 0 00-.183-.24 1.957 1.957 0 00-.262-.261 2.335 2.335 0 00-.377-.266 2.804 2.804 0 00-.525-.247 2.564 2.564 0 00-1.036-.162 2.19 2.19 0 00-.948.271 2.635 2.635 0 00-.805.691c-.24.298-.439.667-.599 1.105a3.703 3.703 0 00-.244 1.246c.001.39.066.742.194 1.055.128.314.314.586.558.819.244.228.533.403.867.525.199.072.382.126.549.163.171.037.332.057.483.059.155.003.305-.01.451-.039a2.72 2.72 0 00.465-.145.466.466 0 01.142-.034.271.271 0 01.136.012zm4.713 1.119a7.43 7.43 0 00-1.015-.252 2.672 2.672 0 00-.703-.047.883.883 0 00-.439.142.61.61 0 00-.224.293c-.086.236-.078.429.023.581.104.153.268.27.493.352.275.1.53.137.765.112.239-.027.492-.108.758-.241l.342-.94zm-2.195-3.537c.855-.353 1.733-.366 2.635-.038.325.119.597.279.815.482.219.198.382.426.489.683.109.253.161.528.155.825a2.73 2.73 0 01-.175.921l-1.281 3.521-.608-.222a.687.687 0 01-.274-.161c-.054-.065-.08-.162-.078-.293l.027-.445a5.732 5.732 0 01-.535.186 2.708 2.708 0 01-.506.087 2.697 2.697 0 01-1.083-.167 2.3 2.3 0 01-.618-.33 1.553 1.553 0 01-.412-.475 1.373 1.373 0 01-.164-.596 1.786 1.786 0 01.119-.701 1.379 1.379 0 01.598-.711c.154-.088.337-.156.548-.207.211-.05.455-.072.732-.066.28.008.594.046.942.116.349.065.738.17 1.166.313l.118-.326c.136-.373.156-.677.062-.913-.094-.239-.291-.413-.591-.522a1.752 1.752 0 00-.571-.122 2.28 2.28 0 00-.438.037l-.36.06a.603.603 0 01-.321-.031.427.427 0 01-.214-.157.709.709 0 01-.094-.232l-.083-.516zm6.936 2.42a3.9 3.9 0 01.466-.181 2.338 2.338 0 011.536.037c.305.111.555.261.752.452.199.187.342.403.429.648.092.243.13.509.115.799-.01.288-.072.587-.185.899l-1.291 3.548-1.342-.489 1.291-3.548c.124-.34.142-.631.053-.873-.087-.245-.29-.425-.609-.541a1.48 1.48 0 00-.709-.08 2.457 2.457 0 00-.732.22l-1.467 4.031-1.341-.488 2.028-5.575.82.299c.174.063.259.186.254.369l-.068.473zm10.023 2.874l-4.239 4.77-1.217-.443-.182-6.379 1.108.403a.44.44 0 01.224.162.345.345 0 01.071.228l-.008 3.37a8.44 8.44 0 01-.102 1.107c.097-.153.198-.305.302-.456.104-.151.218-.302.343-.454l2.181-2.578a.399.399 0 01.46-.115l1.059.385zm2.359 4.477a7.395 7.395 0 00-1.015-.252 2.672 2.672 0 00-.703-.047.883.883 0 00-.439.142.616.616 0 00-.224.293c-.086.236-.078.429.023.581.104.153.268.27.493.352.275.1.53.137.765.112.24-.028.492-.108.758-.241l.342-.94zm-2.195-3.537c.855-.353 1.733-.366 2.635-.038.326.119.597.279.815.482a1.919 1.919 0 01.644 1.508 2.73 2.73 0 01-.175.921l-1.281 3.521-.608-.222a.687.687 0 01-.274-.161c-.054-.065-.08-.162-.078-.293l.027-.445a5.732 5.732 0 01-.535.186 2.708 2.708 0 01-.506.087 2.697 2.697 0 01-1.083-.167 2.33 2.33 0 01-.618-.33 1.536 1.536 0 01-.411-.475 1.36 1.36 0 01-.165-.596 1.805 1.805 0 01.119-.701 1.379 1.379 0 01.598-.711c.155-.088.337-.156.549-.207a2.91 2.91 0 01.731-.066c.28.008.594.046.942.116.349.065.738.17 1.166.313l.118-.326c.136-.373.157-.677.062-.913-.094-.239-.291-.413-.591-.523a1.774 1.774 0 00-.571-.121 2.28 2.28 0 00-.438.037l-.36.06a.603.603 0 01-.321-.031.432.432 0 01-.214-.157.709.709 0 01-.094-.232l-.083-.516zm8.935 3.604a.42.42 0 01-.159.083.331.331 0 01-.164-.023.503.503 0 01-.192-.131 6.96 6.96 0 00-.212-.213 2.344 2.344 0 00-.291-.247 1.685 1.685 0 00-.421-.215c-.264-.096-.493-.116-.686-.059a.563.563 0 00-.383.359.465.465 0 00.004.346c.051.109.128.217.232.325.108.109.235.218.379.328.146.107.292.219.437.338.149.12.291.247.427.383.136.132.247.279.331.441.09.159.144.333.162.52.021.188-.009.395-.09.619a1.99 1.99 0 01-.418.691 1.699 1.699 0 01-.637.433 2.216 2.216 0 01-.841.131 3.268 3.268 0 01-1.006-.213 3.1 3.1 0 01-.545-.26 3.313 3.313 0 01-.863-.72 2.485 2.485 0 01-.276-.408l.495-.398a.47.47 0 01.193-.09.421.421 0 01.224.026c.083.03.153.082.208.156.059.074.127.157.205.247.078.09.174.182.287.276.117.096.277.181.48.255.159.058.301.089.427.094a.938.938 0 00.338-.049.57.57 0 00.24-.153.693.693 0 00.147-.235.48.48 0 00-.003-.365 1.047 1.047 0 00-.231-.33 2.918 2.918 0 00-.38-.323c-.145-.11-.293-.225-.446-.347a5.773 5.773 0 01-.432-.385 1.969 1.969 0 01-.331-.459 1.48 1.48 0 01-.15-.553 1.672 1.672 0 01.115-.671 1.72 1.72 0 01.374-.603c.165-.173.363-.305.592-.393a2.07 2.07 0 01.791-.131c.299.002.62.066.964.191.384.14.711.331.98.572.269.242.47.504.605.787l-.48.373z",fill:"#fff"}),t.a.createElement("g",{clipPath:"url(#clip0_1413_185537)"},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.134 112.881a3.374 3.374 0 00-4.326 2.017l-2.924 8.034a3.375 3.375 0 002.017 4.326l4.851 1.766a2.478 2.478 0 001.892-.083l5.496-2.563a2.476 2.476 0 001.28-1.397l1.765-4.85a3.374 3.374 0 00-2.017-4.326l-8.034-2.924zm3.073 9.977a1.35 1.35 0 00-1.73.807l-1.001 2.749a.675.675 0 001.269.461l.872-2.396a.375.375 0 01.481-.224l2.396.872a.674.674 0 10.462-1.269l-2.749-1zm-4.239-6.116a.563.563 0 01.721-.336l6.555 2.386a.563.563 0 01-.385 1.057l-6.555-2.386a.563.563 0 01-.336-.721zm-.203 2.201a.562.562 0 10-.385 1.057l1.903.693a.562.562 0 10.385-1.057l-1.903-.693z",fill:"#fff"})),t.a.createElement("path",{d:"M77.27 147.074l11.593-6.836 5.567 4.577c-4.479 1.176-12.867 8.652-14.279 9.393 0 0-1.706-5.022-2.88-7.134z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M86.927 141.221l4.706 6.516-27.304 21.198a7.923 7.923 0 01-3.85 1.621 6.422 6.422 0 01-6.453-2.773 5.761 5.761 0 01-.34-6.535 7.835 7.835 0 013.041-2.956l30.2-17.071z",fill:"#FA7598"}),t.a.createElement("path",{d:"M86.95 141.221L59.707 156.56c-3.798 2.106-2.378 1.426-1.242 1.909L87.07 141.4l-.122-.179z",fill:"#FB91B9"}),t.a.createElement("path",{d:"M98.62 132.523s4.344-3.772 5.562-5.23c.65-.776 2.375-3.078 3.755-2.089 1.379.99-7.919 9.94-7.919 9.94l-1.399-2.621z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M89.118 140.763l3.06 4.888 8.769-2.426a4.828 4.828 0 002.201-1.236l1.844-1.782-5.258-8.455-8.792 4.442-1.824 4.569z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M100.725 133.501s4.817-2.581 6.343-3.746c.797-.619 2.971-2.772 4.116-1.525 1.145 1.247-9.793 8.084-9.793 8.084l-.666-2.813z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M101.188 135.407l6.672-3.779s2.642-2.739 3.775-1.471c.545.586-1.775 2.654-4.267 4.677-2.492 2.024-5.34 3.909-5.34 3.909l-.84-3.336z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M101.522 138.911s4.675-3.326 5.999-4.58c.738-.71 2.32-2.477 3.634-1.399 1.314 1.078-8.568 9.363-8.568 9.363l-1.065-3.384z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M38.71 151.809c7.605 10.4 14.545 15.338 16.675 17.697 3 3.323 11.15-.517 9.86-5.734-.885-1.214-1.264-4.375-2.464-6.926-2.958-4.358-6.474-8.423-15.045-19.7-8.71-6.998-16.56 2.997-9.026 14.663z",fill:"#FA7598"}),t.a.createElement("path",{d:"M54.337 146.857c2.91-3.103.205-12.465-5.644-13.802-2.42-1.084-7.47 1.026-9.926 2.774-2.004 5.376 5.198 14.148 15.57 11.028z",fill:"#FA7598"}),t.a.createElement("path",{d:"M91.26 147.284l.378.556-27.78 21.551c-2.507 1.706-5.514 1.803-8.22.206 4.806 1.092 8.254-1.756 35.622-22.313z",fill:"#C85E7A"})),t.a.createElement("rect",{x:95.4727,y:67.9316,width:39.118,height:21.1952,rx:10.5976,fill:"#36C5F0"}),t.a.createElement("path",{d:"M110.238 75.915c.323-.426.53-.87.664-1.217.231-.596-.025-1.205-.487-1.533-.609-.433-1.522-.317-1.838.243-.438.779-.943 1.388-1.759 2.13-.316.274-.493.493-.59.681h-1.759a.79.79 0 00-.791.798v4.667a1.53 1.53 0 001.528 1.534h1.028a.79.79 0 00.791-.797v-.22c.14.068.292.116.45.135l2.21.273c1.089.134 2.336-.535 2.549-1.612l.664-3.335c.188-.962-.298-1.759-1.278-1.753l-1.382.006zm1.126 4.808c-.128.639-.913 1.065-1.558.986l-2.215-.274c-.304-.037-.566-.34-.566-.651v-3.579c0-.438.11-.687.463-.998.773-.736 1.284-1.363 1.746-2.178.152-.262.493-.225.645-.122.183.122.225.316.171.45-.213.524-.493 1.01-.974 1.631-.323.371-.207.84.256.84l2.288-.006c.359 0 .487.207.414.56l-.67 3.34zm-6.158 1.582a.614.614 0 01-.615-.62v-4.553h1.521v5.173h-.906zM122.456 79.459v-2.735c0-.258.017-.544.052-.856l-2.596 3.59h2.544zm2.295 0v.826a.3.3 0 01-.075.203c-.05.054-.121.08-.214.08h-.763v2.041h-1.243v-2.04h-3.526a.398.398 0 01-.394-.313l-.15-.722 3.96-5.29h1.353v5.215h1.052z",fill:"#fff"}),t.a.createElement("rect",{x:95.4727,y:40.2617,width:56.1826,height:6.79311,rx:3.39655,fill:"#1D1C1D",fillOpacity:.5}),t.a.createElement("rect",{opacity:.5,x:95.4727,y:54.4648,width:138.296,height:6.7931,rx:3.39655,fill:"#1D1C1D",fillOpacity:.3}),t.a.createElement("rect",{x:38.9258,y:39.4727,width:45.9025,height:45.9147,rx:4.86848,fill:"#36C5F0"}),t.a.createElement("rect",{x:38.9258,y:39.4727,width:45.9025,height:45.9147,rx:4.78827,fill:"#36C5F0"}),t.a.createElement("mask",{id:"c",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:29,y:1,width:189,height:92},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.83 6.273a4.788 4.788 0 014.787-4.789h123.214a4.788 4.788 0 014.788 4.789V87.83a4.788 4.788 0 01-4.788 4.788H89.617a4.788 4.788 0 01-4.788-4.788V6.273zm-8.513 33.2v-4.748a4.788 4.788 0 00-4.788-4.788H34.6a4.788 4.788 0 00-4.788 4.788V68.15a4.788 4.788 0 004.788 4.788h4.325V80.6a4.788 4.788 0 004.788 4.788h36.327a4.788 4.788 0 004.788-4.788V44.262a4.788 4.788 0 00-4.788-4.788h-3.724z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#c)"},t.a.createElement("path",{d:"M69.188 72.576s-4.156.35-3.838 5.26c.318 4.91 9.112 27.892 12.31 30.289a5.11 5.11 0 007.043-.269 5.109 5.109 0 001.268-2.232c1.415-3.625-3.295-20.609-6.816-26.454-3.52-5.846-7.727-6.765-9.967-6.594z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M74.904 99.943c-.328-.085.424-15.468 1.284-21.725 2.98 8.717 4.295 13.733 5.563 23.064-2.145-.411-6.518-1.255-6.847-1.34z",fill:"#46C9E7",fillOpacity:.5}),t.a.createElement("path",{d:"M78.9 58.365c-.163.567.36 1.363.032 1.914-.328.55-1.072.842-1.317 1.37-.142 2.356.327 1.477-1.536 2.875-.494 2.3.15 1.503-1.958 2.584-.376.398-.293 1.282-.718 1.636-.424.354-1.269.14-1.667.456-.398.315-.696 1.72-1.668 1.47-.424.245-1.09.053-1.58.157-.265.3-.569.564-.903.784-.513 1.142-1.659.428-2.498.57-.554.162-.931.99-1.487 1.106-.555.117-1.25-.453-1.823-.388-.571.066-1.092.806-1.666.825-.573.019-1.139-.682-1.728-.714-.59-.032-1.228.583-1.797.48-.57-.103-.97-.895-1.524-1.054-2.398.168-1.515.515-3.146-1.23-2.4-.356-1.593.2-2.826-1.861-2.284-.813-1.512-.083-2.385-2.378-2.087-1.232-1.418-.41-1.93-2.785-.287-.497-1.168-.69-1.418-1.208-.25-.517.18-1.315-.015-1.863-.196-.547-1.334-.968-1.22-1.734-.511-.516.154-1.384.007-1.995-.146-.61-.901-.92-1.003-1.472-.102-.552.575-1.14.49-1.702-.083-.561-.693-1.106-.64-1.72.055-.615.796-1 .89-1.54.095-.542-.478-1.214-.337-1.757.141-.543.918-.841 1.12-1.382.202-.54-.377-1.353-.04-1.885.176-.61 1.069-.829 1.313-1.357.245-.529-.132-1.298.129-1.776.26-.477 1.142-.607 1.458-1.115.315-.508.058-1.32.395-1.744.338-.425 1.232-.382 1.603-.766.372-.384.365-1.262.747-1.628.382-.366 1.208-.143 1.654-.413.447-.27.608-1.361 1.36-1.467.446-.639 1.466-.13 2.075-.43.608-.3.756-1.133 1.28-1.35.523-.218 1.313.24 1.866.077 1.958-1.462.934-1.266 3.285-.741 2.184-1.075 1.134-1.055 3.377-.1 2.322-.651 1.354-.808 3.339.564 2.38-.158 1.51-.501 3.142 1.244.51.255 1.366-.05 1.841.27.476.322.54 1.216.99 1.577.448.36 1.33.23 1.748.643.419.412.287 1.296.654 1.725.368.428 1.272.49 1.6.953.326.463.044 1.333.33 1.831.566.7 1.405.881 1.446 2.122-.02.401.025.803.133 1.19.169.48.752.801 1.053 1.195.634.782.072 1.557.235 2.219 1.32 1.917 1.16.98.372 3.18.886 2.252.885 1.192-.316 3.226.431 2.444.673 1.5-.817 3.312z",fill:"#000"}),t.a.createElement("path",{d:"M54.837 48.666a9.876 9.876 0 006.746 12.223c2.504.71 5.181.471 7.52-.671a8.144 8.144 0 004.743-6.065c.176-1.057.263-2.126.262-3.196a8.354 8.354 0 00-3.027-7.126 11.684 11.684 0 00-3.972-1.884 9.87 9.87 0 00-12.272 6.719z",fill:"#1376A2"}),t.a.createElement("path",{d:"M54.943 50.479a9.105 9.105 0 00-.313 2.413 9.845 9.845 0 007.397 9.278 7.478 7.478 0 007.058-1.895 15.142 15.142 0 004.445-7.104c.213-.713.382-1.44.504-2.174a8.354 8.354 0 00-3.027-7.125c-1.158-.583-2.391-1.001-3.665-1.242-6.012-.983-10.673.959-12.4 7.849z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M59.497 74.048v.265a5.679 5.679 0 005.695-5.682V53.52a5.697 5.697 0 00-5.695-5.697v.266a5.459 5.459 0 00-5.68 5.43v15.113a5.462 5.462 0 005.68 5.417z",fill:"#884934"}),t.a.createElement("path",{d:"M32.794 84.496c-.219 3.099 2.434 5.76 5.533 5.549 0 0 .84 18.317.485 20.619a4.576 4.576 0 001.387 4.56h33.404a6.416 6.416 0 002.006-5.268 34.436 34.436 0 01-.28-4.797c0-3.925-.281-9.312 1.519-12.84 1.565-3.066.637-16.362-2.714-18.55-3.04-1.978-9.03-6.302-9.03-6.302H53.302l-15.64 6.877c-2.847 1.107-4.985 5.768-4.867 10.152z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M64.398 78.49s2.213-6.937.737-11.217H53.332c1.475 4.31 8.351 11.217 11.066 11.217z",fill:"#884934"}),t.a.createElement("path",{d:"M56.922 54.807l-1.033 7.819c2.33 8.645 7.628 8.908 9.744 8.507.024-4.39-.515-6.584-1.045-10.706l-7.666-5.62z",fill:"#663727"}),t.a.createElement("path",{d:"M55.421 51.693c-2.208 7.335.807 14.61 8.983 16.77a3.953 3.953 0 004.083-1.217c1.966-2.504 4.56-5.427 4.619-8.666a28.171 28.171 0 011.026-4.036l.045-.156c.078-.269.046-.585.075-.9.17-2.823-.387-5.364-2.05-6.735a7.79 7.79 0 00-3.614-1.735c-6.353-1.772-12.242 2.78-13.167 6.675z",fill:"#884934"}),t.a.createElement("path",{d:"M63.023 60.912c2.418.885 3.48 1.296 5.506 1.67a2.857 2.857 0 00-.975 1.624 5.096 5.096 0 01-2.73-.696c-.83-.485-1.299-1.714-1.8-2.598z",fill:"#000"}),t.a.createElement("path",{d:"M66.185 63.532c-.166.575-.81.595-1.607.3-.606-.586-1.25-1.398-1.135-1.685.116-.289.542-.14 1.34.154.797.295 1.518.943 1.402 1.231z",fill:"#DE4E2B"}),t.a.createElement("path",{d:"M66.185 63.532c-.166.575-.81.595-1.607.3-.606-.586-1.25-1.398-1.135-1.685.116-.289.542-.14 1.34.154.797.295 1.518.943 1.402 1.231z",fill:"#000",fillOpacity:.4}),t.a.createElement("path",{d:"M67.457 63.187c.09-.119.184-.37.233-.537l-3.627-1.297c-.043.149-.122.489-.053.545 1.526 1.046 2.846 1.605 3.447 1.29z",fill:"#fff"}),t.a.createElement("path",{d:"M68.33 62.793c.114 1.404-1.135 2.283-2.49 1.892-1.464-.423-2.84-2.402-2.813-3.753.664 1.082 2.443 3.275 4.297 3.103l.846-1.37.16.128z",fill:"#663727"}),t.a.createElement("path",{d:"M68.858 62.499a.311.311 0 00.016-.189.379.379 0 00-.096-.178.486.486 0 00-.401-.145 3.084 3.084 0 01-1.802-.358c-.634-.312-1.118-.521-3.555-.73 1.396 1.052 3.643 2.295 5.34 2.006.122-.065.23-.149.318-.248a.944.944 0 00.18-.158z",fill:"#663727"}),t.a.createElement("path",{d:"M50.566 52.242l.005.247-.07.241a4.96 4.96 0 001.437 3.487c.162.161.333.313.513.455.679.521 1.48.859 2.328.98l.68.042.038-5.458a2.48 2.48 0 00-4.935.02l.004-.014z",fill:"#884934"}),t.a.createElement("path",{d:"M52.174 52.461c.751-2.18 2.035-.242 2.035-.242l-1.593.2a3.174 3.174 0 00.6 3.246c-1.86-.798-1.042-3.204-1.042-3.204z",fill:"#663727"}),t.a.createElement("path",{d:"M49.008 57.608a3.292 3.292 0 003.548 4.855 3.29 3.29 0 002.374-4.407 3.29 3.29 0 00-1.143-1.48.399.399 0 00-.195.518 2.745 2.745 0 11-1.086-.539l.077.044-.395-.585a3.305 3.305 0 00-3.18 1.594z",fill:"#FAA11B"}),t.a.createElement("path",{d:"M66.003 60.047s-.42.017-.342-.253c.078-.27 1.053-.402 1.51-.5a.973.973 0 011.15.33c.258.383.91-.013 1.205.134.295.147-.36.925-.718.945-.359.019-.416.217-.803.121-.964-.278-.844-.535-2.002-.777z",fill:"#663727"}),t.a.createElement("path",{d:"M66.259 59.952s.84-.464 1.202-.175c.55.435-.22.55-1.202.175zM68.255 60.542s.562-.406.803-.336-.184.53-.803.336zM62.723 52.758l.446.62c.622-.267 1.573-.287 2.213-.133.671.183 1.077.451 1.512 1.018.198.212-.112.56-.344.327-.515-.522-.64-.705-1.354-.894-.713-.188-1.417-.188-2.12.191a.218.218 0 01-.288-.06l-.551-.779c-.054-.107-.026-.282.073-.35.121-.085.328-.09.413.06zM74.024 56.138l-.674.285c-.326-.552-.774-1.014-1.342-1.223-.608-.2-1.322-.245-1.959 0-.264.073-.217.528.085.455.672-.165 1.128-.197 1.77.021.642.218.915.534 1.241 1.221.042.1.153.145.252.102l.838-.362c.1-.061.173-.222.135-.332-.047-.134-.2-.248-.346-.167zM61.538 51.738a3.835 3.835 0 012.325-.16l3.63 1.019a.473.473 0 00.594-.313.618.618 0 00-.473-.763l-3.23-.92s-2.063-.509-2.846 1.137zM70.84 52.952a.47.47 0 00.274.613l3.484 1.443.08.04.071-.146c.124-.252.15-.569.234-.873l-.133-.065-3.106-1.273a.633.633 0 00-.903.261z",fill:"#000"}),t.a.createElement("path",{d:"M31.982 85.412a5.194 5.194 0 005.532 5.55s1.653 17.399 1.299 19.701a4.576 4.576 0 001.387 4.561h33.403a6.425 6.425 0 002.007-5.269 34.422 34.422 0 01-.28-4.796s-7.613-8.014-16.909-7.91c-9.295.103-16.347-12.029-16.347-12.029a11.904 11.904 0 00-10.092.192z",fill:"#46C9E7",fillOpacity:.5}),t.a.createElement("path",{d:"M40.819 73.68s4.16.28 3.924 5.194c-.236 4.914-8.646 28.041-11.803 30.49a5.097 5.097 0 01-4.833 1.145 5.114 5.114 0 01-3.518-3.506c-1.476-3.601 2.95-20.661 6.374-26.565 3.423-5.903 7.613-6.892 9.855-6.759z",fill:"#99EEFA"}),t.a.createElement("ellipse",{cx:.779543,cy:.886682,rx:.779543,ry:.886682,transform:"rotate(22.031 -103.835 192.229) skewX(.011)",fill:"#000"}),t.a.createElement("ellipse",{cx:.726522,cy:.826373,rx:.726522,ry:.826373,transform:"rotate(22.03 -106.011 210.773) skewX(.01)",fill:"#000"})),t.a.createElement("mask",{id:"d",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:62,y:81,width:8,height:5},t.a.createElement("path",{fill:"#C4C4C4",d:"M62.332 81.2715H69.43536V85.38779000000001H62.332z"})),t.a.createElement("g",{mask:"url(#d)"},t.a.createElement("path",{d:"M65.872 88.534c-.842-1.441-1.38-3.044-1.87-4.618.296-1.008 1.742-.795 2.555-.122.926.91.802 1.206 1.6 2.229 0 0 .59 3.15-2.285 2.51z",fill:"#884934"})),t.a.createElement("path",{d:"M68.89 83.18c4.034.138 10.376 2.189 10.65 2.208H68.348c.07-.322.308-1.644.542-2.208z",fill:"#884934"}),t.a.createElement("path",{d:"M77.27 83.914a12.108 12.108 0 002.204 2.835c.78.439 1.195-.271 1.019-1.065a23.072 23.072 0 00-.986-2.682s-1.812-1.281-2.237.912z",fill:"#884934"}),t.a.createElement("path",{d:"M74.25 83.806a15.203 15.203 0 002.787 3.56c.984.574 1.512-.317 1.297-1.318a31.264 31.264 0 00-1.228-3.386s-2.331-1.614-2.857 1.144z",fill:"#884934"}),t.a.createElement("path",{d:"M71.3 83.62c.814 1.51 1.62 2.977 2.773 4.115 1.06.642 1.638-.386 1.43-1.508a35.96 35.96 0 00-1.339-3.839s-2.243-1.916-2.864 1.231z",fill:"#884934"}),t.a.createElement("path",{d:"M68.877 83.183a18.031 18.031 0 002.048 4.373c.871.876 1.606.102 1.606-.962-.093-1.3-.261-2.59-.502-3.86 0 0-1.985-2.215-3.152.45z",fill:"#884934"}),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0_1413_185537"},t.a.createElement("path",{fill:"#fff",transform:"rotate(20 -261.839 338.994)",d:"M0 0H18V18H0z"})))),"SCCanvasImageLight"),E=o(()=>t.a.createElement("svg",{width:284,height:197,viewBox:"0 0 284 197",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("rect",{x:101.965,y:109.1,width:60.8382,height:6.57885,rx:3.28943,fill:"#D1D2D3",fillOpacity:.5}),t.a.createElement("rect",{opacity:.5,x:101.965,y:123.09,width:136.305,height:6.57885,rx:3.28943,fill:"#D1D2D3",fillOpacity:.3}),t.a.createElement("rect",{opacity:.5,x:101.965,y:137.078,width:117.443,height:6.57885,rx:3.28943,fill:"#D1D2D3",fillOpacity:.3}),t.a.createElement("rect",{x:38.9258,y:109.471,width:45.9025,height:45.9147,rx:4.86848,fill:"#36C5F0"}),t.a.createElement("rect",{x:38.9258,y:109.471,width:45.9025,height:45.9147,rx:4.78827,fill:"#E01E5A"}),t.a.createElement("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:39,y:92,width:46,height:64},t.a.createElement("path",{d:"M39.027 97.386a4.788 4.788 0 014.789-4.788h36.326a4.788 4.788 0 014.788 4.788v53.212a4.788 4.788 0 01-4.788 4.788H43.816a4.788 4.788 0 01-4.789-4.788V97.386z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#a)"},t.a.createElement("path",{d:"M78.444 134.127s-4.928-.181-5.123 5.629c-.435 12.416 2.516 31.435 2.915 36.47.438 4.745 10.195 5.136 11.365.711 1.457-5.469 1.742-24.497-.521-32.246-2.263-7.749-6.057-10.086-8.636-10.564z",fill:"#FA7598"}),t.a.createElement("path",{opacity:.2,d:"M76.171 155.459l-1 17.934c4.688-9.182 5.994-18.838 5.262-21.681-1.494-5.797-3.306-.714-4.262 3.747z",fill:"#000"}),t.a.createElement("path",{d:"M35.122 137.722c5.23-4.058 16.157-8.78 17.586-8.984h13.575l13.184 5.687c3.034 9.555 1.086 17.706-.905 21.936-.621 3.524-1.545 13.485-1.545 13.485a24.814 24.814 0 00-.173 7.525c.23 1.661 3.64 20.523 2.137 21.765l-35.504 1.156c0-12.081-1.93-32.689-3.982-47.166 0-6.605-7.933-12.107-4.373-15.404z",fill:"#FA7598"}),t.a.createElement("path",{d:"M66.12 134.961l2.618-11.079c2.032-8.282-10.58-15.225-12.789-6.445-.717 5.148-1.791 8.955-3.835 12.599 7.208 5.708 10.021 7.684 14.007 4.925z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M45.139 118.185c1.16 2.421 3 4.451 5.295 5.843 1.44 1.077 4.97 5.23 6.249 4.608l1.329-1.141 12.257-4.336-.272-11.508-1.192-3.934c-2.622-6.205-8.59-10.928-16.959-6.964-9.072 4.307-9.706 10.351-6.707 17.432z",fill:"#000"}),t.a.createElement("path",{d:"M60.642 137.725h2.275c3.055 0 4.186-3.409 2.517-7.612H52.148c1.616 4.203 5.384 7.612 8.494 7.612z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M58.207 129.375c-.445 1.948-4.132-.036-4.52-2.077 2.105-.872.786-1.915.503-2.386-.032-.054 2.026-.301 2.322-.39.625.816 1.59 3.886 1.695 4.853z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M56.735 120.021l-.996 4.857c1.103 3.388 8.925 8.828 11.39 6.069.366-1.289.433-3.047 3.913-5.661l-14.307-5.265z",fill:"#9B7659"}),t.a.createElement("path",{d:"M54.05 122.491l1.105 2.392c.846 1.626 3.876 2.087 3.876 2.087l7.31 1.531a7.433 7.433 0 002.916-.454c1.497-.657 3.768-1.021 3.949-3.035a63.229 63.229 0 00-.513-9.162 30.48 30.48 0 00-1.938-3.823 25.258 25.258 0 01-1.115-2.666 25.496 25.496 0 00-1.485-2.296l-1.51-1.668a1.24 1.24 0 00-1.415-.314l-12.08 5.011a1.136 1.136 0 00-.639 1.414l.996 2.882a1.604 1.604 0 01-.127 1.298l-.783 1.361 2.016 5.337-.563.105z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M48.213 121.085a2.555 2.555 0 014.399-1.262l3.4 4.506a5.131 5.131 0 01-3.796.979c-1.815-.256-4.398-2.086-4.003-4.223z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M50.075 122.063c-.734-2.27 1.533-1.459 1.533-1.459l-1.202 1.149a3.278 3.278 0 002.418 2.313c-1.947.488-2.749-2.003-2.749-2.003z",fill:"#9B7659"}),t.a.createElement("path",{d:"M57.443 114.594l.203-.422a2.37 2.37 0 011.039-1.083c1.794-1.145 2.75-1.605 4.35-2.147a.32.32 0 01.416.148.319.319 0 01.033.158l-.031.572a1.21 1.21 0 01-.659.958c-1.78.704-2.805 1.15-4.853 2.377a.406.406 0 01-.538-.328.402.402 0 01.04-.233zM65.508 122.77s1.483.748 3.135.416c1.653-.332 1.864-.901 2.09-1.374.227-.474-.097-1.468-.086-1.33a37.859 37.859 0 00-5.139 2.288z",fill:"#000"}),t.a.createElement("path",{d:"M65.507 122.769s1.713 1.454 3.575 1.09c1.86-.364 2.159-1.402 2.106-1.894a11.91 11.91 0 00-.384-1.548l-.192.299a1.5 1.5 0 01-.062 1.11 1.741 1.741 0 01-.828.829c-1.34.724-3.582-.147-4.215.114z",fill:"#9B7659"}),t.a.createElement("path",{d:"M65.98 122.573c.561.141 1.632-.014 2.367-.219 1.632-.482 1.623-.604 1.862-.864.043-.238.117-.879.117-.879s-3.72 1.296-4.346 1.962z",fill:"#fff"}),t.a.createElement("path",{d:"M65.406 122.813s1.29-1.301 2.779-1.742c1.49-.441 1.954-.856 2.24-.948.258-.052.448.03.637.16-.408.512-.8.756-1.422 1.041-.948.391-3.04.911-4.234 1.489z",fill:"#9B7659"}),t.a.createElement("path",{d:"M69.922 109.464l-.455-.364a.45.45 0 00-.194-.097.411.411 0 00-.209.007c-1.495.287-2.131.497-3.1.91-.141.007-.179.316-.08.496l.263.419c.067.142.17.255.293.324.124.069.261.09.394.06.81-.394 1.317-.609 2.96-.888a.376.376 0 00.204-.131.503.503 0 00.105-.246.564.564 0 00-.028-.277.473.473 0 00-.153-.213zM68.372 111.688c.69-.245 1.312.117 1.791.552a.316.316 0 01.028.433.315.315 0 01-.433.028c-.787-.672-1.763-.461-2.282.707a.396.396 0 01-.394.212.306.306 0 01-.17-.4c.177-.721.652-1.244 1.46-1.532zM61.296 114.54c.747-.29 1.613.041 1.95.64a.291.291 0 01-.032.33c-.123.093-.327.11-.448.009-.951-.841-2.225-.088-2.642.942a.316.316 0 01-.396.175.315.315 0 01-.176-.396c.242-.627.8-1.335 1.744-1.7z",fill:"#000"}),t.a.createElement("path",{d:"M65.902 119.776s-.408.308-.659.094c-.25-.214.567-1.032.903-1.452a1.775 1.775 0 011.58-.598c.73.049.897-.693 1.371-.826.475-.133.765.838.429 1.135-.336.296-.17.45-.673.671-1 .275-1.984.601-2.95.976z",fill:"#9B7659"}),t.a.createElement("path",{d:"M66.039 119.49s.27-.92.993-1.008c1.086-.148.468.502-.993 1.008zM68.763 118.355s.069-.675.401-.816c.333-.141.445.481-.401.816z",fill:"#3E2F24"}),t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M62.26 116.045c.041-.237-.037-.523-.232-.762-.307-.377-.787-.493-1.072-.261-.285.233-.267.726.04 1.103.105.129.23.227.36.291a5.066 5.066 0 01.903-.371zM69.422 113.285c.042-.221-.015-.49-.175-.73-.27-.403-.73-.569-1.029-.369-.298.199-.32.688-.05 1.092.098.148.223.264.356.342a4.774 4.774 0 01.897-.335z",fill:"#000"})),t.a.createElement("mask",{id:"b",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:30,y:83,width:172,height:95},t.a.createElement("path",{d:"M30.41 88.775a4.788 4.788 0 014.788-4.789h161.849a4.788 4.788 0 014.788 4.789v83.608a4.788 4.788 0 01-4.788 4.788H35.198a4.788 4.788 0 01-4.788-4.788V88.775z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#b)"},t.a.createElement("path",{opacity:.2,d:"M56.412 162.374l6.064-2.911c2.274-4.494-4.752-13.41-9.3-14.65-7.33-.422.543 13.649 3.236 17.561z",fill:"#000"}),t.a.createElement("path",{d:"M90.362 138.39l.806-3.093c.176-.693.481-1.346.9-1.926l3.678-5.162a.633.633 0 01.489-.287.634.634 0 01.524.217 2.905 2.905 0 01-.075 2.9 5.99 5.99 0 00-.94 4.284c.185 5.447-.734 6.347-.734 6.347s-4.158-2.021-4.648-3.28z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M96.297 131.554c-.158 1.045-.872 2.365-.873 3.422-.235 1.705-.005 2.872-.704 4.444l-1.77-3.575 3.347-4.291z",fill:"#9B7659"}),t.a.createElement("rect",{width:72.6889,height:30.2557,rx:4.32202,transform:"matrix(.93955 .34206 -.34198 .93983 95.785 102.674)",fill:"#E01E5A"}),t.a.createElement("path",{d:"M123.321 131.099c.08.029.139.086.179.17l.348.834a3.355 3.355 0 01-1.509.479c-.54.041-1.136-.057-1.788-.294-.583-.213-1.071-.503-1.466-.873a3.69 3.69 0 01-.887-1.264c-.2-.475-.3-.991-.298-1.548a5.124 5.124 0 01.327-1.709c.214-.59.505-1.096.871-1.516a3.986 3.986 0 011.256-.983c.473-.23.982-.356 1.528-.379a4.291 4.291 0 011.684.275c.572.208 1.045.487 1.418.836.377.35.666.735.866 1.152l-.736.501a.435.435 0 01-.155.073.322.322 0 01-.203-.018.401.401 0 01-.152-.105 5.43 5.43 0 01-.149-.183 5.033 5.033 0 00-.183-.24 1.957 1.957 0 00-.262-.261 2.335 2.335 0 00-.377-.266 2.804 2.804 0 00-.525-.247 2.564 2.564 0 00-1.036-.162 2.19 2.19 0 00-.948.271 2.635 2.635 0 00-.805.691c-.24.298-.439.667-.599 1.105a3.703 3.703 0 00-.244 1.246c.001.39.066.742.194 1.055.128.314.314.586.558.819.244.228.533.403.867.525.199.072.382.126.549.163.171.037.332.057.483.059.155.003.305-.01.451-.039a2.72 2.72 0 00.465-.145.466.466 0 01.142-.034.271.271 0 01.136.012zm4.713 1.119a7.43 7.43 0 00-1.015-.252 2.672 2.672 0 00-.703-.047.883.883 0 00-.439.142.61.61 0 00-.224.293c-.086.236-.078.429.023.581.104.153.268.27.493.352.275.1.53.137.765.112.239-.027.492-.108.758-.241l.342-.94zm-2.195-3.537c.855-.353 1.733-.366 2.635-.038.325.119.597.279.815.482.219.198.382.426.489.683.109.253.161.528.155.825a2.73 2.73 0 01-.175.921l-1.281 3.521-.608-.222a.687.687 0 01-.274-.161c-.054-.065-.08-.162-.078-.293l.027-.445a5.732 5.732 0 01-.535.186 2.708 2.708 0 01-.506.087 2.697 2.697 0 01-1.083-.167 2.3 2.3 0 01-.618-.33 1.553 1.553 0 01-.412-.475 1.373 1.373 0 01-.164-.596 1.786 1.786 0 01.119-.701 1.379 1.379 0 01.598-.711c.154-.088.337-.156.548-.207.211-.05.455-.072.732-.066.28.008.594.046.942.116.349.065.738.17 1.166.313l.118-.326c.136-.373.156-.677.062-.913-.094-.239-.291-.413-.591-.522a1.752 1.752 0 00-.571-.122 2.28 2.28 0 00-.438.037l-.36.06a.603.603 0 01-.321-.031.427.427 0 01-.214-.157.709.709 0 01-.094-.232l-.083-.516zm6.936 2.42a3.9 3.9 0 01.466-.181 2.338 2.338 0 011.536.037c.305.111.555.261.752.452.199.187.342.403.429.648.092.243.13.509.115.799-.01.288-.072.587-.185.899l-1.291 3.548-1.342-.489 1.291-3.548c.124-.34.142-.631.053-.873-.087-.245-.29-.425-.609-.541a1.48 1.48 0 00-.709-.08 2.457 2.457 0 00-.732.22l-1.467 4.031-1.341-.488 2.028-5.575.82.299c.174.063.259.186.254.369l-.068.473zm10.023 2.874l-4.239 4.77-1.217-.443-.182-6.379 1.108.403a.44.44 0 01.224.162.345.345 0 01.071.228l-.008 3.37a8.44 8.44 0 01-.102 1.107c.097-.153.198-.305.302-.456.104-.151.218-.302.343-.454l2.181-2.578a.399.399 0 01.46-.115l1.059.385zm2.359 4.477a7.395 7.395 0 00-1.015-.252 2.672 2.672 0 00-.703-.047.883.883 0 00-.439.142.616.616 0 00-.224.293c-.086.236-.078.429.023.581.104.153.268.27.493.352.275.1.53.137.765.112.24-.028.492-.108.758-.241l.342-.94zm-2.195-3.537c.855-.353 1.733-.366 2.635-.038.326.119.597.279.815.482a1.919 1.919 0 01.644 1.508 2.73 2.73 0 01-.175.921l-1.281 3.521-.608-.222a.687.687 0 01-.274-.161c-.054-.065-.08-.162-.078-.293l.027-.445a5.732 5.732 0 01-.535.186 2.708 2.708 0 01-.506.087 2.697 2.697 0 01-1.083-.167 2.33 2.33 0 01-.618-.33 1.536 1.536 0 01-.411-.475 1.36 1.36 0 01-.165-.596 1.805 1.805 0 01.119-.701 1.379 1.379 0 01.598-.711c.155-.088.337-.156.549-.207a2.91 2.91 0 01.731-.066c.28.008.594.046.942.116.349.065.738.17 1.166.313l.118-.326c.136-.373.157-.677.062-.913-.094-.239-.291-.413-.591-.523a1.774 1.774 0 00-.571-.121 2.28 2.28 0 00-.438.037l-.36.06a.603.603 0 01-.321-.031.432.432 0 01-.214-.157.709.709 0 01-.094-.232l-.083-.516zm8.935 3.604a.42.42 0 01-.159.083.331.331 0 01-.164-.023.503.503 0 01-.192-.131 6.96 6.96 0 00-.212-.213 2.344 2.344 0 00-.291-.247 1.685 1.685 0 00-.421-.215c-.264-.096-.493-.116-.686-.059a.563.563 0 00-.383.359.465.465 0 00.004.346c.051.109.128.217.232.325.108.109.235.218.379.328.146.107.292.219.437.338.149.12.291.247.427.383.136.132.247.279.331.441.09.159.144.333.162.52.021.188-.009.395-.09.619a1.99 1.99 0 01-.418.691 1.699 1.699 0 01-.637.433 2.216 2.216 0 01-.841.131 3.268 3.268 0 01-1.006-.213 3.1 3.1 0 01-.545-.26 3.313 3.313 0 01-.863-.72 2.485 2.485 0 01-.276-.408l.495-.398a.47.47 0 01.193-.09.421.421 0 01.224.026c.083.03.153.082.208.156.059.074.127.157.205.247.078.09.174.182.287.276.117.096.277.181.48.255.159.058.301.089.427.094a.938.938 0 00.338-.049.57.57 0 00.24-.153.693.693 0 00.147-.235.48.48 0 00-.003-.365 1.047 1.047 0 00-.231-.33 2.918 2.918 0 00-.38-.323c-.145-.11-.293-.225-.446-.347a5.773 5.773 0 01-.432-.385 1.969 1.969 0 01-.331-.459 1.48 1.48 0 01-.15-.553 1.672 1.672 0 01.115-.671 1.72 1.72 0 01.374-.603c.165-.173.363-.305.592-.393a2.07 2.07 0 01.791-.131c.299.002.62.066.964.191.384.14.711.331.98.572.269.242.47.504.605.787l-.48.373z",fill:"#fff"}),t.a.createElement("g",{clipPath:"url(#clip0_1413_185995)"},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.13 112.881a3.374 3.374 0 00-4.326 2.017l-2.924 8.034a3.375 3.375 0 002.017 4.326l4.851 1.766a2.478 2.478 0 001.892-.083l5.496-2.563a2.476 2.476 0 001.28-1.397l1.765-4.85a3.374 3.374 0 00-2.017-4.326l-8.034-2.924zm3.072 9.977a1.35 1.35 0 00-1.731.807l-1 2.749a.675.675 0 101.269.461l.872-2.396a.374.374 0 01.48-.224l2.397.872a.675.675 0 10.461-1.269l-2.748-1zm-4.238-6.116a.563.563 0 01.721-.336l6.555 2.386a.562.562 0 11-.385 1.057l-6.554-2.386a.563.563 0 01-.337-.721zm-.202 2.201a.563.563 0 00-.384 1.057l1.903.693a.563.563 0 00.384-1.057l-1.903-.693z",fill:"#fff"})),t.a.createElement("path",{d:"M77.27 147.074l11.593-6.836 5.567 4.577c-4.479 1.176-12.867 8.652-14.279 9.393 0 0-1.706-5.022-2.88-7.134z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M86.927 141.221l4.706 6.516-27.304 21.198a7.923 7.923 0 01-3.85 1.621 6.422 6.422 0 01-6.453-2.773 5.761 5.761 0 01-.34-6.535 7.835 7.835 0 013.041-2.956l30.2-17.071z",fill:"#FA7598"}),t.a.createElement("path",{d:"M86.95 141.221L59.707 156.56c-3.798 2.106-2.378 1.426-1.242 1.909L87.07 141.4l-.122-.179z",fill:"#FB91B9"}),t.a.createElement("path",{d:"M98.62 132.523s4.344-3.772 5.562-5.23c.65-.776 2.375-3.078 3.755-2.089 1.379.99-7.919 9.94-7.919 9.94l-1.399-2.621z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M89.118 140.763l3.06 4.888 8.769-2.426a4.828 4.828 0 002.201-1.236l1.844-1.782-5.258-8.455-8.792 4.442-1.824 4.569z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M100.725 133.501s4.817-2.581 6.343-3.746c.797-.619 2.971-2.772 4.116-1.525 1.145 1.247-9.793 8.084-9.793 8.084l-.666-2.813z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M101.188 135.407l6.672-3.779s2.642-2.739 3.775-1.471c.545.586-1.775 2.654-4.267 4.677-2.492 2.024-5.34 3.909-5.34 3.909l-.84-3.336z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M101.522 138.911s4.675-3.326 5.999-4.58c.738-.71 2.32-2.477 3.634-1.399 1.314 1.078-8.568 9.363-8.568 9.363l-1.065-3.384z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M38.71 151.809c7.605 10.4 14.545 15.338 16.675 17.697 3 3.323 11.15-.517 9.86-5.734-.885-1.214-1.264-4.375-2.464-6.926-2.958-4.358-6.474-8.423-15.045-19.7-8.71-6.998-16.56 2.997-9.026 14.663z",fill:"#FA7598"}),t.a.createElement("path",{d:"M54.337 146.857c2.91-3.103.205-12.465-5.644-13.802-2.42-1.084-7.47 1.026-9.926 2.774-2.004 5.376 5.198 14.148 15.57 11.028z",fill:"#FA7598"}),t.a.createElement("path",{d:"M91.26 147.284l.378.556-27.78 21.551c-2.507 1.706-5.514 1.803-8.22.206 4.806 1.092 8.254-1.756 35.622-22.313z",fill:"#C85E7A"})),t.a.createElement("rect",{x:95.4727,y:67.9316,width:39.118,height:21.1952,rx:10.5976,fill:"#36C5F0"}),t.a.createElement("path",{d:"M110.238 75.915c.323-.426.53-.87.664-1.217.231-.596-.025-1.205-.487-1.533-.609-.433-1.522-.317-1.838.243-.438.779-.943 1.388-1.759 2.13-.316.274-.493.493-.59.681h-1.759a.79.79 0 00-.791.798v4.667a1.53 1.53 0 001.528 1.534h1.028a.79.79 0 00.791-.797v-.22c.14.068.292.116.45.135l2.21.273c1.089.134 2.336-.535 2.549-1.612l.664-3.335c.188-.962-.298-1.759-1.278-1.753l-1.382.006zm1.126 4.808c-.128.639-.913 1.065-1.558.986l-2.215-.274c-.304-.037-.566-.34-.566-.651v-3.579c0-.438.11-.687.463-.998.773-.736 1.284-1.363 1.746-2.178.152-.262.493-.225.645-.122.183.122.225.316.171.45-.213.524-.493 1.01-.974 1.631-.323.371-.207.84.256.84l2.288-.006c.359 0 .487.207.414.56l-.67 3.34zm-6.158 1.582a.614.614 0 01-.615-.62v-4.553h1.521v5.173h-.906zM122.456 79.459v-2.735c0-.258.017-.544.052-.856l-2.596 3.59h2.544zm2.295 0v.826a.3.3 0 01-.075.203c-.05.054-.121.08-.214.08h-.763v2.041h-1.243v-2.04h-3.526a.398.398 0 01-.394-.313l-.15-.722 3.96-5.29h1.353v5.215h1.052z",fill:"#fff"}),t.a.createElement("rect",{x:95,y:40,width:56.1826,height:6.79311,rx:3.39655,fill:"#D1D2D3",fillOpacity:.5}),t.a.createElement("rect",{opacity:.5,x:95.4727,y:54.4648,width:138.296,height:6.7931,rx:3.39655,fill:"#D1D2D3",fillOpacity:.3}),t.a.createElement("rect",{x:38.9258,y:39.4727,width:45.9025,height:45.9147,rx:4.86848,fill:"#36C5F0"}),t.a.createElement("rect",{x:38.9258,y:39.4727,width:45.9025,height:45.9147,rx:4.78827,fill:"#36C5F0"}),t.a.createElement("mask",{id:"c",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:29,y:1,width:189,height:92},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.83 6.273a4.788 4.788 0 014.787-4.789h123.214a4.788 4.788 0 014.788 4.789V87.83a4.788 4.788 0 01-4.788 4.788H89.617a4.788 4.788 0 01-4.788-4.788V6.273zm-8.513 33.2v-4.748a4.788 4.788 0 00-4.788-4.788H34.6a4.788 4.788 0 00-4.788 4.788V68.15a4.788 4.788 0 004.788 4.788h4.325V80.6a4.788 4.788 0 004.788 4.788h36.327a4.788 4.788 0 004.788-4.788V44.262a4.788 4.788 0 00-4.788-4.788h-3.724z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#c)"},t.a.createElement("path",{d:"M69.188 72.576s-4.156.35-3.838 5.26c.318 4.91 9.112 27.892 12.31 30.289a5.11 5.11 0 007.043-.269 5.109 5.109 0 001.268-2.232c1.415-3.625-3.295-20.609-6.816-26.454-3.52-5.846-7.727-6.765-9.967-6.594z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M74.904 99.943c-.328-.085.424-15.468 1.284-21.725 2.98 8.717 4.295 13.733 5.563 23.064-2.145-.411-6.518-1.255-6.847-1.34z",fill:"#46C9E7",fillOpacity:.5}),t.a.createElement("path",{d:"M78.9 58.365c-.163.567.36 1.363.032 1.914-.328.55-1.072.842-1.317 1.37-.142 2.356.327 1.477-1.536 2.875-.494 2.3.15 1.503-1.958 2.584-.376.398-.293 1.282-.718 1.636-.424.354-1.269.14-1.667.456-.398.315-.696 1.72-1.668 1.47-.424.245-1.09.053-1.58.157-.265.3-.569.564-.903.784-.513 1.142-1.659.428-2.498.57-.554.162-.931.99-1.487 1.106-.555.117-1.25-.453-1.823-.388-.571.066-1.092.806-1.666.825-.573.019-1.139-.682-1.728-.714-.59-.032-1.228.583-1.797.48-.57-.103-.97-.895-1.524-1.054-2.398.168-1.515.515-3.146-1.23-2.4-.356-1.593.2-2.826-1.861-2.284-.813-1.512-.083-2.385-2.378-2.087-1.232-1.418-.41-1.93-2.785-.287-.497-1.168-.69-1.418-1.208-.25-.517.18-1.315-.015-1.863-.196-.547-1.334-.968-1.22-1.734-.511-.516.154-1.384.007-1.995-.146-.61-.901-.92-1.003-1.472-.102-.552.575-1.14.49-1.702-.083-.561-.693-1.106-.64-1.72.055-.615.796-1 .89-1.54.095-.542-.478-1.214-.337-1.757.141-.543.918-.841 1.12-1.382.202-.54-.377-1.353-.04-1.885.176-.61 1.069-.829 1.313-1.357.245-.529-.132-1.298.129-1.776.26-.477 1.142-.607 1.458-1.115.315-.508.058-1.32.395-1.744.338-.425 1.232-.382 1.603-.766.372-.384.365-1.262.747-1.628.382-.366 1.208-.143 1.654-.413.447-.27.608-1.361 1.36-1.467.446-.639 1.466-.13 2.075-.43.608-.3.756-1.133 1.28-1.35.523-.218 1.313.24 1.866.077 1.958-1.462.934-1.266 3.285-.741 2.184-1.075 1.134-1.055 3.377-.1 2.322-.651 1.354-.808 3.339.564 2.38-.158 1.51-.501 3.142 1.244.51.255 1.366-.05 1.841.27.476.322.54 1.216.99 1.577.448.36 1.33.23 1.748.643.419.412.287 1.296.654 1.725.368.428 1.272.49 1.6.953.326.463.044 1.333.33 1.831.566.7 1.405.881 1.446 2.122-.02.401.025.803.133 1.19.169.48.752.801 1.053 1.195.634.782.072 1.557.235 2.219 1.32 1.917 1.16.98.372 3.18.886 2.252.885 1.192-.316 3.226.431 2.444.673 1.5-.817 3.312z",fill:"#000"}),t.a.createElement("path",{d:"M54.837 48.666a9.876 9.876 0 006.746 12.223c2.504.71 5.181.471 7.52-.671a8.144 8.144 0 004.743-6.065c.176-1.057.263-2.126.262-3.196a8.354 8.354 0 00-3.027-7.126 11.684 11.684 0 00-3.972-1.884 9.87 9.87 0 00-12.272 6.719z",fill:"#1376A2"}),t.a.createElement("path",{d:"M54.943 50.479a9.105 9.105 0 00-.313 2.413 9.845 9.845 0 007.397 9.278 7.478 7.478 0 007.058-1.895 15.142 15.142 0 004.445-7.104c.213-.713.382-1.44.504-2.174a8.354 8.354 0 00-3.027-7.125c-1.158-.583-2.391-1.001-3.665-1.242-6.012-.983-10.673.959-12.4 7.849z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M59.497 74.048v.265a5.679 5.679 0 005.695-5.682V53.52a5.697 5.697 0 00-5.695-5.697v.266a5.459 5.459 0 00-5.68 5.43v15.113a5.462 5.462 0 005.68 5.417z",fill:"#884934"}),t.a.createElement("path",{d:"M32.794 84.496c-.219 3.099 2.434 5.76 5.533 5.549 0 0 .84 18.317.485 20.619a4.576 4.576 0 001.387 4.56h33.404a6.416 6.416 0 002.006-5.268 34.436 34.436 0 01-.28-4.797c0-3.925-.281-9.312 1.519-12.84 1.565-3.066.637-16.362-2.714-18.55-3.04-1.978-9.03-6.302-9.03-6.302H53.302l-15.64 6.877c-2.847 1.107-4.985 5.768-4.867 10.152z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M64.398 78.49s2.213-6.937.737-11.217H53.332c1.475 4.31 8.351 11.217 11.066 11.217z",fill:"#884934"}),t.a.createElement("path",{d:"M56.922 54.807l-1.033 7.819c2.33 8.645 7.628 8.908 9.744 8.507.024-4.39-.515-6.584-1.045-10.706l-7.666-5.62z",fill:"#663727"}),t.a.createElement("path",{d:"M55.421 51.693c-2.208 7.335.807 14.61 8.983 16.77a3.953 3.953 0 004.083-1.217c1.966-2.504 4.56-5.427 4.619-8.666a28.171 28.171 0 011.026-4.036l.045-.156c.078-.269.046-.585.075-.9.17-2.823-.387-5.364-2.05-6.735a7.79 7.79 0 00-3.614-1.735c-6.353-1.772-12.242 2.78-13.167 6.675z",fill:"#884934"}),t.a.createElement("path",{d:"M63.023 60.912c2.418.885 3.48 1.296 5.506 1.67a2.857 2.857 0 00-.975 1.624 5.096 5.096 0 01-2.73-.696c-.83-.485-1.299-1.714-1.8-2.598z",fill:"#000"}),t.a.createElement("path",{d:"M66.185 63.532c-.166.575-.81.595-1.607.3-.606-.586-1.25-1.398-1.135-1.685.116-.289.542-.14 1.34.154.797.295 1.518.943 1.402 1.231z",fill:"#DE4E2B"}),t.a.createElement("path",{d:"M66.185 63.532c-.166.575-.81.595-1.607.3-.606-.586-1.25-1.398-1.135-1.685.116-.289.542-.14 1.34.154.797.295 1.518.943 1.402 1.231z",fill:"#000",fillOpacity:.4}),t.a.createElement("path",{d:"M67.457 63.187c.09-.119.184-.37.233-.537l-3.627-1.297c-.043.149-.122.489-.053.545 1.526 1.046 2.846 1.605 3.447 1.29z",fill:"#fff"}),t.a.createElement("path",{d:"M68.33 62.793c.114 1.404-1.135 2.283-2.49 1.892-1.464-.423-2.84-2.402-2.813-3.753.664 1.082 2.443 3.275 4.297 3.103l.846-1.37.16.128z",fill:"#663727"}),t.a.createElement("path",{d:"M68.858 62.499a.311.311 0 00.016-.189.379.379 0 00-.096-.178.486.486 0 00-.401-.145 3.084 3.084 0 01-1.802-.358c-.634-.312-1.118-.521-3.555-.73 1.396 1.052 3.643 2.295 5.34 2.006.122-.065.23-.149.318-.248a.944.944 0 00.18-.158z",fill:"#663727"}),t.a.createElement("path",{d:"M50.566 52.242l.005.247-.07.241a4.96 4.96 0 001.437 3.487c.162.161.333.313.513.455.679.521 1.48.859 2.328.98l.68.042.038-5.458a2.48 2.48 0 00-4.935.02l.004-.014z",fill:"#884934"}),t.a.createElement("path",{d:"M52.174 52.461c.751-2.18 2.035-.242 2.035-.242l-1.593.2a3.174 3.174 0 00.6 3.246c-1.86-.798-1.042-3.204-1.042-3.204z",fill:"#663727"}),t.a.createElement("path",{d:"M49.008 57.608a3.292 3.292 0 003.548 4.855 3.29 3.29 0 002.374-4.407 3.29 3.29 0 00-1.143-1.48.399.399 0 00-.195.518 2.745 2.745 0 11-1.086-.539l.077.044-.395-.585a3.305 3.305 0 00-3.18 1.594z",fill:"#FAA11B"}),t.a.createElement("path",{d:"M66.003 60.047s-.42.017-.342-.253c.078-.27 1.053-.402 1.51-.5a.973.973 0 011.15.33c.258.383.91-.013 1.205.134.295.147-.36.925-.718.945-.359.019-.416.217-.803.121-.964-.278-.844-.535-2.002-.777z",fill:"#663727"}),t.a.createElement("path",{d:"M66.259 59.952s.84-.464 1.202-.175c.55.435-.22.55-1.202.175zM68.255 60.542s.562-.406.803-.336-.184.53-.803.336zM62.723 52.758l.446.62c.622-.267 1.573-.287 2.213-.133.671.183 1.077.451 1.512 1.018.198.212-.112.56-.344.327-.515-.522-.64-.705-1.354-.894-.713-.188-1.417-.188-2.12.191a.218.218 0 01-.288-.06l-.551-.779c-.054-.107-.026-.282.073-.35.121-.085.328-.09.413.06zM74.024 56.138l-.674.285c-.326-.552-.774-1.014-1.342-1.223-.608-.2-1.322-.245-1.959 0-.264.073-.217.528.085.455.672-.165 1.128-.197 1.77.021.642.218.915.534 1.241 1.221.042.1.153.145.252.102l.838-.362c.1-.061.173-.222.135-.332-.047-.134-.2-.248-.346-.167zM61.538 51.738a3.835 3.835 0 012.325-.16l3.63 1.019a.473.473 0 00.594-.313.618.618 0 00-.473-.763l-3.23-.92s-2.063-.509-2.846 1.137zM70.84 52.952a.47.47 0 00.274.613l3.484 1.443.08.04.071-.146c.124-.252.15-.569.234-.873l-.133-.065-3.106-1.273a.633.633 0 00-.903.261z",fill:"#000"}),t.a.createElement("path",{d:"M31.982 85.412a5.194 5.194 0 005.532 5.55s1.653 17.399 1.299 19.701a4.576 4.576 0 001.387 4.561h33.403a6.425 6.425 0 002.007-5.269 34.422 34.422 0 01-.28-4.796s-7.613-8.014-16.909-7.91c-9.295.103-16.347-12.029-16.347-12.029a11.904 11.904 0 00-10.092.192z",fill:"#46C9E7",fillOpacity:.5}),t.a.createElement("path",{d:"M40.819 73.68s4.16.28 3.924 5.194c-.236 4.914-8.646 28.041-11.803 30.49a5.097 5.097 0 01-4.833 1.145 5.114 5.114 0 01-3.518-3.506c-1.476-3.601 2.95-20.661 6.374-26.565 3.423-5.903 7.613-6.892 9.855-6.759z",fill:"#99EEFA"}),t.a.createElement("ellipse",{cx:.779543,cy:.886682,rx:.779543,ry:.886682,transform:"rotate(22.031 -103.835 192.229) skewX(.011)",fill:"#000"}),t.a.createElement("ellipse",{cx:.726522,cy:.826373,rx:.726522,ry:.826373,transform:"rotate(22.03 -106.011 210.773) skewX(.01)",fill:"#000"})),t.a.createElement("mask",{id:"d",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:62,y:81,width:8,height:5},t.a.createElement("path",{fill:"#C4C4C4",d:"M62.332 81.2715H69.43536V85.38779000000001H62.332z"})),t.a.createElement("g",{mask:"url(#d)"},t.a.createElement("path",{d:"M65.872 88.534c-.842-1.441-1.38-3.044-1.87-4.618.296-1.008 1.742-.795 2.555-.122.926.91.802 1.206 1.6 2.229 0 0 .59 3.15-2.285 2.51z",fill:"#884934"})),t.a.createElement("path",{d:"M68.89 83.18c4.034.138 10.376 2.189 10.65 2.208H68.348c.07-.322.308-1.644.542-2.208z",fill:"#884934"}),t.a.createElement("path",{d:"M77.27 83.914a12.108 12.108 0 002.204 2.835c.78.439 1.195-.271 1.019-1.065a23.072 23.072 0 00-.986-2.682s-1.812-1.281-2.237.912z",fill:"#884934"}),t.a.createElement("path",{d:"M74.25 83.806a15.203 15.203 0 002.787 3.56c.984.574 1.512-.317 1.297-1.318a31.264 31.264 0 00-1.228-3.386s-2.331-1.614-2.857 1.144z",fill:"#884934"}),t.a.createElement("path",{d:"M71.3 83.62c.814 1.51 1.62 2.977 2.773 4.115 1.06.642 1.638-.386 1.43-1.508a35.96 35.96 0 00-1.339-3.839s-2.243-1.916-2.864 1.231z",fill:"#884934"}),t.a.createElement("path",{d:"M68.877 83.183a18.031 18.031 0 002.048 4.373c.871.876 1.606.102 1.606-.962-.093-1.3-.261-2.59-.502-3.86 0 0-1.985-2.215-3.152.45z",fill:"#884934"}),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0_1413_185995"},t.a.createElement("path",{fill:"#fff",transform:"rotate(20 -261.839 338.994)",d:"M0 0H18V18H0z"})))),"SCCanvasImageDark");const y=o(q=>{let{theme:te}=q;return t.a.createElement(l.i,{className:"justify_content_center inline_flex sk_pale_yellow_bg"},te==="light"?t.a.createElement(g,null):t.a.createElement(E,null))},"MessagePaneModalSCCanvasImage");y.displayName="MessagePaneModalSCCanvasImage";var C=y,I=e("1TxD");const j=new u.b("drafts"),M={elementName:"hide_modal_pref",elementType:v.ElementType.CHECKBOX,onChange:{enableClogAction:!0,setElementValueOnAction:!0}},T={elementName:"send_later",elementType:v.ElementType.BUTTON,action:v.UiAction.CLOSE,onClick:{enableClogAction:!0}},D={elementName:"edit_message",elementType:v.ElementType.BUTTON,action:v.UiAction.EDIT,onClick:{enableClogAction:!0}},S={COMBO:"COMBO",FILES:"FILES",CANVAS:"CANVAS",NO_SPEEDBUMP:"NO_SPEEDBUMP"},A={[S.COMBO]:v.UiComponentVariant.COMBO_SPEEDBUMP,[S.FILES]:v.UiComponentVariant.FILES_SPEEDBUMP,[S.CANVAS]:v.UiComponentVariant.CANVAS_SPEEDBUMP,[S.NO_SPEEDBUMP]:void 0},P=o((q,te)=>te?v.UiComponentVariant.FIRST_TIME_EXTERNAL_CANVAS:A[q],"getVariantMapping");function N(q){let{filesCount:te,connectedTeamsCount:de,connectedTeamNames:se,channelName:re="",onClose:oe,onSend:ce,onSendLater:ue,onPrefChange:Pe,hideModalPref:Ye=!1,isScheduledSend:$e=!1,isFromScheduledPage:Ke=!1,isFromDraftsPageAndExternallySharedChannel:qe=!1,isImOrMpim:ct=!1,theme:Be="light",modalVariant:pe,canvasFiles:fe=[],otherFiles:me=[],isFirstTimeCanvas:Se}=q;const[je,Ue]=Object(n.useState)(!1),ve="showExternalMembersSpeedBumpPref",[ge,le]=Object(n.useState)(Ye),he=pe===S.CANVAS||Se,Te=pe===S.COMBO,Re=fe.length,Ve=me.length,Ee=P(pe,Se),Ae=Object(n.useCallback)(()=>{Ue(!0),oe(),ce()},[oe,ce]),Ge=Object(n.useCallback)(()=>{Ue(!0),oe(),ue()},[oe,ue]);if(Object(f.a)(se))return null;let Ze=j.t("Is it OK to send this?"),ze=j.rt("You\u2019re about to share {filesCount, plural, =1 {a file} other {files}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"97e02ddab51b299a0a147620c194f5d7267c2169"});he&&(ze=j.rt("You\u2019re about to share {filesCount, plural, =1 {a canvas} other {canvases}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"703dbbb89f99ed1eb8156a012d0da296873b5c6b"})),Te&&(ze=j.rt("You\u2019re about to share {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,canvasCount:Re,otherFileCount:Ve,fallbackHash:"d087f2e833816e53e5636da4b148c55764dae423"}));let lt=j.t("Edit Message"),tt=j.t("Send"),Ot;$e?(ze=j.rt("You\u2019ll be sharing {filesCount, plural, =1 {a file} other {files}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"abdbf74508e6977a33cd0cc96a775c9c66e6d268"}),he&&(ze=j.rt("You\u2019ll be sharing {filesCount, plural, =1 {a canvas} other {canvases}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"0be340d79bbc91df1111ef612f31c77e8173658a"})),Te&&(ze=j.rt("You\u2019ll be sharing {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,canvasCount:Re,otherFileCount:Ve,fallbackHash:"da7980a65cc0f4e3a41c03e55714024486ba9459"})),tt=j.t("Schedule Message")):Ke?(Ze=j.t("Send this now?"),ct?(ze=j.rt("You\u2019ve scheduled this for later. Note: the conversation you\u2019re sending {filesCount, plural, =1 {a file} other {files}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"20ed236095ebefafd8f94c5b5da268a82c908dc4"}),he&&(ze=j.rt("You\u2019ve scheduled this for later. Note: the conversation you\u2019re sending {filesCount, plural, =1 {a canvas} other {canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"f584182af71f4a9265f5338c195425ca783eda4c"})),Te&&(ze=j.rt("You\u2019ve scheduled this for later. Note: the conversation you\u2019re sending {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,canvasCount:Re,otherFileCount:Ve,fallbackHash:"206fb0f3a60f6c10f29e017a4ee063c419c0b79e"}))):(ze=j.rt("You\u2019ve scheduled this for later. Note: the channel you\u2019re sending {filesCount, plural, =1 {a file} other {files}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"476d2b7b80662737a656ef60165f00823410331c"}),he&&(ze=j.rt("You\u2019ve scheduled this for later. Note: the channel you\u2019re sending {filesCount, plural, =1 {a canvas} other {canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"9e49360244d5a4b730f229fb29c77ea1ce353059"})),Te&&(ze=j.rt("You\u2019ve scheduled this for later. Note: the channel you\u2019re sending {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,canvasCount:Re,otherFileCount:Ve,fallbackHash:"1895956e3857e36bf080dd78b01697b42d7df4c4"}))),tt=j.t("Send now"),lt=j.t("Cancel"),Ot=j.t("Send later")):qe&&(ct?(ze=j.rt("The conversation you\u2019re sending {filesCount, plural, =1 {a file} other {files}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"e67ce099cff39f35b6d87d89f61f8888c808b2ba"}),he&&(ze=j.rt("The conversation you\u2019re sending {filesCount, plural, =1 {a canvas} other {canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"de38caa44fb2466a6b3c34c2b3b7421d113ae97f"})),Te&&(ze=j.rt("The conversation you\u2019re sending {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,canvasCount:Re,otherFileCount:Ve,fallbackHash:"4d4332e24e52e452aab682c4f5bf866cb1c46c62"}))):(ze=j.rt("The channel you\u2019re sending {filesCount, plural, =1 {a file} other {files}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"a886ce428ad36c01ef4d4a5201281f81c1e19d35"}),he&&(ze=j.rt("The channel you\u2019re sending {filesCount, plural, =1 {a canvas} other {canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,filesCount:te,fallbackHash:"134a88bf5e34934cfccec81dd0360e2075e4b58f"})),Te&&(ze=j.rt("The channel you\u2019re sending {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:re,connectedTeam1:se[0],connectedTeam2:se[1],remainingTeamsCount:de-1,canvasCount:Re,otherFileCount:Ve,fallbackHash:"91dbd89fafc13e04f4de84a602ffea8337a46a1c"}))));const Ct=Se?j.rt("Make sure there\u2019s no sensitive information before sharing. Anyone who has access to {canvasCount, plural, =1 {this canvas} other {these canvases}} can view all its history, including comments.",{canvasCount:fe.length}):"";return t.a.createElement(b.a,{eventId:v.EventId.EXTERNAL_MEMBERS_SPEED_BUMP,uiComponentName:v.UiComponentName.EXTERNAL_MEMBERS_SPEED_BUMP,clogImpression:!0,uiComponentVariant:Ee},t.a.createElement(l.a,{closeModal:oe,overlayClassName:"p-message_pane_input_external_members_speed_bump"},he||Te?t.a.createElement(C,{theme:Be}):t.a.createElement(d.a,{theme:Be}),t.a.createElement(l.d,null,t.a.createElement(l.e,null,t.a.createElement(l.l,{className:"p-message_pane_input_external_members_speed_bump__modal_title_bar",title:Ze}),t.a.createElement("p",null,ze),t.a.createElement("p",{className:"margin_top_50"},Ct))),t.a.createElement(l.g,null,t.a.createElement(l.h,{className:"p-message_pane_input_external_members_speed_bump__footer"},!Ke&&!Se&&!Te&&t.a.createElement(p.b,{text:j.t("Don\u2019t ask me this again"),type:"inline",cursor:"pointer",className:"p-message_pane_input_external_members_speed_bump__pref"},t.a.createElement(h.a,{id:ve,name:ve,checked:ge,disabled:je,onChange:()=>{Pe(!ge),le(!ge)},autoClogProps:M})),Ke&&t.a.createElement("div",{className:"p-message_pane_input_external_members_speed_bump__send_later--container"},t.a.createElement(l.c,{type:"outline",onClick:Ge,loading:je,className:"p-message_pane_input_external_members_speed_bump__send_later",autoClogProps:T},Ot)),t.a.createElement("div",{className:"p-message_pane_input_external_members_speed_bump__edit_send--container"},t.a.createElement(l.c,{type:"outline",onClick:oe,disabled:je,className:"p-message_pane_input_external_members_speed_bump__edit_message",autoClogProps:D},lt),t.a.createElement(l.c,{onClick:Ae,loading:je,autoFocus:!0,className:"p-message_pane_input_external_members_speed_bump__send",autoClogProps:{elementName:$e?"schedule_message":"send",elementType:v.ElementType.BUTTON,action:v.UiAction.SEND,onClick:{enableClogAction:!0}}},tt))))))}o(N,"MessagePaneInputExternalMembersSpeedBump"),N.displayName="MessagePaneInputExternalMembersSpeedBump";var G=N,V=e("y/Pn"),k=e("E3dU"),x=e("G0eX"),H=e("T1zM"),R=e("JoR1"),W=e("F0cE"),U=e("3yS5"),_=e("E97Y"),B=e("beVI"),z=e("3WT/"),L=e("4AlF"),$=e("zm5I"),Q=e("dmdh"),K=e("P9LH"),Z=e("o2tK"),ne=e("ZTSm"),F=e("hRxb"),J=e("Os2i"),X=e("FXMY");const Y=o(q=>{let{state:te,fileIdsFromAttachments:de,fileIdsFromDelta:se,hideModalFilePref:re,hideModalCanvasPref:oe,entityId:ce}=q,ue=de.map(pe=>Object(Q.e)(te,pe)).filter(pe=>pe&&!Object(K.u)(pe)),Pe=[...de,...se].map(pe=>Object(Q.e)(te,pe)).filter(pe=>pe&&Object(K.u)(pe));const Ye=Pe.some(pe=>Object(X.a)(te,{file:pe})||Object(K.rb)(pe)),$e=Object(J.a)(te,ce);Pe.length>0&&(Ye||$e)&&(ue=[],Pe=[]);const Ke={canvasFiles:Pe,otherFiles:ue,isFirstTimeCanvas:!1},qe=Pe.some(pe=>!Object(K.tb)(pe));Ke.isFirstTimeCanvas=qe;const ct=Pe.length,Be=ue.length;return ct&&Be&&(qe||!re||!oe)?{...Ke,modalVariant:S.COMBO}:ct&&!Be&&(qe||!oe)?{...Ke,modalVariant:S.CANVAS}:Be&&!ct&&!re?{...Ke,modalVariant:S.FILES}:{...Ke,modalVariant:S.NO_SPEEDBUMP}},"getModalVariant"),ae=Object(i.c)("Display warning when sending more than text to external members",(q,te,de)=>{let{entityId:se,onSend:re,onClose:oe=a.a,isScheduledSend:ce=!1,isFromScheduledPage:ue=!1,isFromDraftsPageAndExternallySharedChannel:Pe=!1,onSendLater:Ye=a.a,fileIds:$e=[],delta:Ke}=de;const qe=te(),Be=(Ke?Object(Z.a)(Ke):[]).map(Ze=>Object(F.a)(qe,Ze,!0)).filter(ne.a),fe=[...Be,...$e].length;if(!fe)return{didOpen:!1};const me=Object(R.t)(qe,"hide_external_members_sharing_speed_bump"),Se=Object(R.t)(qe,"hide_external_members_canvas_sharing_speed_bump"),{modalVariant:je,canvasFiles:Ue,otherFiles:ve,isFirstTimeCanvas:ge}=Y({state:qe,fileIdsFromAttachments:$e,fileIdsFromDelta:Be,hideModalFilePref:me,hideModalCanvasPref:Se,entityId:se}),le=je===S.CANVAS,he=le?Se:me;if(me||je===S.NO_SPEEDBUMP)return{didOpen:!1};if(le&&!ge&&Se||!ge&&je===S.COMBO&&Se&&me)return{didOpen:!1};let Te=!1;const Re=Object(k.d)(qe,se);if(Re?Te=Object(V.a)(Re):Te=Object(U.a)(qe,se),!Te)return{didOpen:!1};const Ve=o(Ze=>q(Object(H.f)({pref:le?"hide_external_members_canvas_sharing_speed_bump":"hide_external_members_sharing_speed_bump",value:Ze})),"onPrefChange");let Ee=[],Ae=[];if(Re){const{modelObIds:Ze}=Object(z.b)(qe,{id:se});Ee=Object(L.a)(qe,Ze),Ae=Ee.map(ze=>Object(x.h)(Object(B.s)(qe,ze)))}const Ge=t.a.createElement(G,{filesCount:fe,connectedTeamsCount:Ee.length,connectedTeamNames:Ae,channelName:q(Object(W.a)({channel:Re})),onClose:()=>{oe(),q(Object(r.a)())},onSend:re,onSendLater:Ye,onPrefChange:Ve,hideModalPref:he,isScheduledSend:ce,isFromScheduledPage:ue,isFromDraftsPageAndExternallySharedChannel:Pe,isImOrMpim:Object(_.h)(Re),theme:Object($.a)(qe),modalVariant:je,canvasFiles:Ue,otherFiles:ve,isFirstTimeCanvas:ge});return q(Object(c.a)({element:Ge,isStackable:!0})),{didOpen:!0}});ae.meta={name:"createThunk",key:"createThunkmaybeOpenExternalMembersSpeedBump",description:"Display warning when sending more than text to external members"};var ee=s.a=ae},Grbt:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n={showStrangerProfile:!1,hideRestriction:!0,maybeShowPresenceIndicator:!1,maybeShowTitle:!1,maybeShowVerifiedFooter:!0,maybeShowEmailField:{showLabel:!1,showValue:!0},showFullProfileLink:!1,showOrganizationField:{showLabel:!0,showValue:!0},showProfilePicture:!0,showMemberProfileFields:!1,showMemberProfileButtons:!1}},H2PH:function(w,s,e){"use strict";e.d(s,"a",function(){return Se}),e.d(s,"b",function(){return je}),e.d(s,"c",function(){return Ue});var n=e("Lgge"),t=e("lCmp"),a=e("S1sa"),i=e("ifKl"),c=e("OZf9"),r=e("Olm7"),f=e("CpTu"),l=e("fujP"),p=e("c8Bs"),h=e("IzLi"),u=e("gSGL"),b=e("UXvI"),v=e("QXUO"),d=e("q/xz"),m=e("lhZz"),g=e("Afhz"),O=e("Ve6K"),E=e("2pz5"),y=e("SQ0V");const C=Object(y.c)("Mark all uploads completed after a delay",ge=>{ge(Object(E.e)()),setTimeout(()=>{ge(Object(E.g)())},g.f)});C.meta={name:"createThunk",key:"createThunkuploadQueueEmptiedWithDelay",description:"Mark all uploads completed after a delay"};var I=e("7XZu"),j=e("Shth"),M=e("Mqk2"),T=e("F8ux"),D=e("WCk1"),S=e("n3tL"),A=e("u3oV"),P=e("zmn3"),N=e("2XU3"),G=e("G5NC"),V=e("Cbpi"),k=e("9Gfp"),x=e("U3eH");const H=Object(y.c)("Dispatches degraded mode rtm events and requests offline history for relevant channels/threads",function(ge,le){let{fileIds:he,channelId:Te,threadTs:Re,broadcast:Ve}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ee=le(),Ae=Object(k.a)(Ee);he.forEach(Ze=>{ge(Object(x.b)({type:"file_created",file:{id:Ze},file_id:Ze,user_id:Ae}))}),setTimeout(()=>{(!Re||Ve)&&ge(Object(V.a)({channelId:Te})),Re&&ge(Object(V.a)({channelId:Te,threadTs:Re}))},5e3)});H.meta={name:"createThunk",key:"createThunkdispatchDegradedModeEventsForFileUpload",description:"Dispatches degraded mode rtm events and requests offline history for relevant channels/threads"},H.propTypes={fileIds:S.default.arrayOf(S.default.string).isRequired,channelId:S.default.string.isRequired,threadTs:S.default.string,broadcast:S.default.bool};const R=Object(D.a)("Gets an edge upload URL",function(ge,le){let{fileName:he,fileSize:Te,snippetType:Re,subtype:Ve,reason:Ee,altText:Ae,clientContextTeamId:Ge}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ge(Object(N.apiCall)({method:"files.getUploadURL",args:{filename:he,length:Te,snippet_type:Re,subtype:Ve,alt_txt:Ae,client_context_team_id:Ge},reason:Ee}))});R.meta={name:"createFetcher",key:"createFetchergetUploadURL",description:"Gets an edge upload URL"},R.propTypes={fileName:S.default.string.isRequired,fileSize:S.default.number.isRequired,snippetType:S.default.string,reason:S.default.string,altText:S.default.string};const W=Object(D.a)("Finalizes an upload start with files.getUploadURL",(ge,le,he)=>{let{fileId:Te,files:Re,channelId:Ve,introMessage:Ee,blocks:Ae,title:Ge,broadcast:Ze,threadTs:ze,clientMsgId:lt,storyTopic:tt,reason:Ot}=he;return ge(Object(N.apiCall)({method:"files.completeUpload",args:Object(A.a)({file:Te,files:JSON.stringify(Re),channel:Ve,intro:Ee,blocks:JSON.stringify(Ae),title:Ge,broadcast:Ze,thread_ts:ze,story_topic:tt&&JSON.stringify(Object(A.a)(tt)),client_msg_id:lt}),reason:Ot})).tap(()=>{if(!Object(G.a)()||!Ve)return;const Ct=Te?[Te]:Object(P.a)(Re,"id");ge(H({fileIds:Ct,channelId:Ve,threadTs:ze,broadcast:Ze}))})});W.meta={name:"createFetcher",key:"createFetchercompleteUpload",description:"Finalizes an upload start with files.getUploadURL"},W.propTypes={fileId:S.default.string,files:S.default.arrayOf(S.default.shape({id:S.default.string.isRequired,title:S.default.string.isRequired})),channelId:S.default.string,introMessage:S.default.string,blocks:S.default.array,title:S.default.string,broadcast:S.default.bool,threadTs:S.default.string,clientMsgId:S.default.string,storyTopic:S.default.shape({emoji:S.default.string,label:S.default.string}),reason:S.default.string};var U=e("ku/f"),_=e("P9LH"),B=e("Rc7c"),z=e("QoUg"),L=e("Yauy"),$=e("E3dU"),Q=e("s4P+"),K=e("ixfQ"),Z=e("ktUG"),ne=e("5IZy"),F=e("1Np4"),J=e("WQtW"),X=e("Z7Ay"),Y=e("RVJP"),ae=e("Yp7W"),ee=e("fHj2"),q=e("n0Pp");const te=7500,de=3e4;function se(ge){let{dispatch:le,fileId:he}=ge;return new n.a((Te,Re)=>{le(Object(M.j)({files:he,reason:"upload-queue-poll-for-file-processing"})).then(Ve=>{let{files:Ee}=Ve;const Ae=Object(f.a)(Ee,{id:he});Te(!!Ae)}).catch(Ve=>{Re(Ve)})})}o(se,"checkForFile");const re=Object(y.c)("Poll files.list until it returns a specific file",(ge,le,he)=>{let{fileId:Te,timeout:Re=10*60*1e3}=he;const Ve=Object(Q.a)({getState:le,label:"UPLOAD-QUEUE"});Ve.info(`Start polling for ${Te}`);const Ee=Date.now();let Ae=null,Ge=!1;return{promise:new n.a((ze,lt)=>{const tt=o(Ot=>{Ae=setTimeout(()=>{se({dispatch:ge,fileId:Te}).then(Ct=>{Ct?(Ve.info(`Polling received ${Te}, resolving`),Ge||(Ge=!0,ze(!0))):Math.floor(Date.now())>Ee+Re?(Ve.info(`Polling giving up on ${Te}`),Ge||(Ge=!0,ze(!1))):(Ve.info(`Polling did not receive ${Te}, will wait and try again`),tt(Math.min(Ot*2,de)))}).catch(Ct=>{Ge||(Ge=!0,lt(Ct))})},Ot)},"checkWithBackoff");tt(te)}),cancel:()=>{Ge||Ve.info(`Cancelled polling for ${Te}`),clearTimeout(Ae),Ge=!0}}});re.meta={name:"createThunk",key:"createThunkpollForFileProcessing",description:"Poll files.list until it returns a specific file"};var oe=re,ce=e("ajVY"),ue=e("qiCS");let Pe={};const{HTTP_200_OK:Ye,CLIENT_TIMEOUT:$e,CLIENT_ABORTED:Ke,CLIENT_UNKNOWN:qe}=K.a,ct="UPLOAD-QUEUE",Be="upload-queue",pe="File upload failed!",fe=6e4;let me=o(class{uploadFiles(){let{files:le,shareData:he={},traceTags:Te={},samplingOptions:Re,hideBanner:Ve,originWindowId:Ee}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var Ae,Ge;if(!le||!le.length)return n.a.reject(new Error("no files passed to uploadFiles"));if(Object(t.a)(le,St=>!this._doesPendingFileExist(St))){this._displayFileNotFoundError({msgText:he.introMessage,blocks:he.blocks});const St=new Error(`[${ct}]: file not found in uploadFiles`);return this._log(St,{level:"error"}),n.a.reject(St)}let ze,lt=this._uploadFilesFetcher;const tt=this._store.getState&&this._store.getState();if(he.isBox||he.isDropbox&&!Object(ce.d)(tt,"dropbox_legacy_picker"))lt=this._uploadExternalFileFetcher;else if(Object(Y.d)(this._store.getState(),"box_cfs")==="on"){const[St,zt]=Object(a.a)(le,kt=>Object(z.a)(tt,kt));if(St.length){if(zt.length)return n.a.reject(new Error("Mixed custom and non-custom file store files not supported at this time"));lt=this._uploadCustomFileFetcher,ze=Object(B.a)(tt)}}const Ct=Object(F.a)({state:tt}).createTrace({traceName:"file_upload_attempt",tags:{media_threads_enabled:!0,bytes_uncompressed:(Ae=le[0])===null||Ae===void 0?void 0:Ae.size,type:(Ge=le[0])===null||Ge===void 0?void 0:Ge.type,...Te},samplingOptions:Re});return new n.a((St,zt)=>{const kt={files:le,filestore:ze,shareData:he,cancelable:!(he.isBox||he.isDropbox),numRetries:0,fetcher:lt,resolve:St,reject:zt,processingTimeout:null,hideBanner:Ve,originWindowId:Ee,pollingPromise:null,cancelPolling:i.a,trace:Ct,spans:{upload:Ct.startSpan("file_upload_attempt:upload"),queue:Ct.startSpan("file_upload_attempt:queue")}};this._queue.push(kt),this._go()})}cancelCurrentUpload(){if(!this._activeJob)return;const{uploads:le}=this._activeJob;if(!le)return;if(Object(O.b)(this._store.getState())===g.d){const Te=this._getUploadFileIds();Object(c.a)(Te,Re=>{this._store.dispatch(Object(M.b)({fileId:Re,reason:"upload-queue-cancel"}))})}this._cancelActiveXhrRequests(),this._log("Upload was cancelled by the user"),this._store.dispatch(Object(E.d)()),this._uploadOver()}cancelEagerUpload(){let{pendingFileId:le}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!le)return;const he=this._getPendingFileId();le===he?(this._log("Cancelling an eager upload that is the current upload"),this.cancelCurrentUpload()):(this._log("Cancelling an eager upload by removing an unprocessed job from the queue"),Object(r.a)(this._queue,Te=>this._getPendingFileId(Te)===le))}maybeResolveCurrentUpload(le){if(!le||!this._activeJob||!this._activeJob.shareData||le!==this._activeJob.shareData.clientMsgId)return;this._activeJob.hasCurrentUploadResolved=!0;const he=this._store&&this._store.getState();if(Object(O.b)(he)!==g.d){this._logger.warn(`${ct}: attempting to resolve upload before completeUpload resolved ${this._activeJob.shareData.clientMsgId}`);return}this._log(`Resolving upload for client_msg_id: ${le}`),this._resolveCurrentUpload()}resolveCurrentUpload(le){var he;if(!this._activeJob)return;((he=this._activeJob.uploads[0])===null||he===void 0?void 0:he.fileId)===le&&this._store.dispatch(Object(M.d)({fileId:le,reason:"upload-queue:resolveCurrentUpload"})).finally(()=>{this._resolveCurrentUpload()})}onDisconnect(){const le=this._store.getState(),he=Object(O.b)(le);he===g.e&&this._activeJob&&(this._activeJob.disconnectedDuringUpload=!0),he===g.d&&this._startPollingForProcessing()}onChannelLeave(){if(!this._store||!this._activeJob||!this._activeJob.shareData||this._isEagerUpload()||this._isMemberOfChannelBeingUploadedTo())return;const le=this._store.getState();if(Object(O.b)(le)===g.d){const Te=this._activeJob.shareData.channelId;this._forceResolveCurrentUpload(`user left channel being uploaded to: ${Te}`)}}_uploadExternalFileFetcher(){const{resolve:le}=this._activeJob||{},{channelId:he,link:Te,title:Re,broadcast:Ve,threadTs:Ee,metadata:Ae,blocks:Ge}=this._activeJob.shareData;return this._store.dispatch(Object(E.f)()),this._store.dispatch(Object(M.r)({title:Re,link:Te,broadcast:Ve,threadTs:Ee,channels:he||"",blocks:Ge,reason:Be})).then(()=>{this._clogUploadComplete(Z.EventId.FILE_COMPLETE_UPLOAD_SUCCESS,{file_upload_action:Ae&&Ae.fileUploadAction,file_upload_src:Ae&&Ae.fileUploadSrc}),this._store.dispatch(Object(E.e)()),this._uploadOver(),le&&le()})}_uploadCustomFileFetcher(){const{filestore:le,files:he,trace:Te,spans:Re}=this._activeJob;return le!=="box"?n.a.reject(new Error(`Filestore ${le} not implemented`)):(this._activeJob.uploads=[],this._log(`Preparing to upload ${he.length} file(s) to Box`),Re.transfer=Te.startSpan(`${le}_file_upload_attempt:transfer`),this._store.dispatch(Object(v.b)({filestore:le,files:he.map(Ve=>({filename:Object(_.K)(Ve),length:Ve.size}))})).then(Ve=>n.a.map(Ve.files,(Ee,Ae)=>{let{file_id:Ge,filename:Ze,upload_header:ze,upload_url:lt}=Ee;return new n.a(tt=>{const Ot=he[Ae],Ct=new FormData;try{var St,zt;Ct.append("attributes",JSON.stringify({name:Ze,parent:{id:(St=Ve.additional_info)===null||St===void 0||(zt=St.box)===null||zt===void 0?void 0:zt.folder_id}}))}catch(_t){this._log("Unable to serialize attributes JSON",{level:"error"}),this._log(_t,{level:"error"})}Ct.append("file",Ot);const kt=new XMLHttpRequest;if(kt.addEventListener("timeout",this._onTimeout.bind(this)),kt.addEventListener("abort",this._onAbort.bind(this)),kt.addEventListener("error",this._onXhrError.bind(this)),kt.addEventListener("load",()=>{this._log(`Completed POSTing ${Ge} to upload URL`);try{this._customFileResponse=JSON.parse(kt.response)}catch(_t){this._log(`Unable to parse box response ${_t}`)}tt()}),kt.upload&&kt.upload.addEventListener("progress",_t=>this._onMultiFileUploadProgress(_t,Ge)),this._activeJob.uploads[Ae]={xhr:kt,fileId:Ge,title:Ze,size:Ot.size,loaded:0,...Ot.subtype&&{subtype:Ot.subtype}},this._activeJob.cfs_workspace_id=Ve.workspace_id,kt.open("POST",lt),ze){const[_t,be]=ze.split(":");var on;kt.setRequestHeader(_t,(on=be==null?void 0:be.trim())!==null&&on!==void 0?on:"")}kt.send(Ct)})})).then(this._onLoad))}_uploadFilesFetcher(){const{files:le,trace:he,spans:Te,shareData:Re}=this._activeJob;this._activeJob.uploads=[],this._log(`Preparing to upload ${le.length} file(s)`),Te.transfer=he.startSpan("file_upload_attempt:transfer");const Ve=le.map((Ee,Ae)=>this._store.dispatch(R({fileName:Object(_.K)(Ee),...Object(_.d)(Ee)&&{altText:Object(_.D)(Ee)},fileSize:Ee.size,snippetType:Ee.snippetType,subtype:Ee.subtype,reason:Be,clientContextTeamId:Re.clientContextTeamId})).then(Ge=>{let{file:Ze,upload_url:ze}=Ge;return this._log(`Got upload URL and ID ${Ze}`),he.addTags({file_id:Ze}),new n.a(lt=>{const tt=new FormData;tt.append("file",Ee);const Ot=new XMLHttpRequest;Ot.addEventListener("timeout",this._onTimeout.bind(this)),Ot.addEventListener("abort",this._onAbort.bind(this)),Ot.addEventListener("error",this._onXhrError.bind(this)),Ot.addEventListener("load",()=>{this._log(`Completed POSTing ${Ze} to upload URL`),lt()}),Ot.upload&&Ot.upload.addEventListener("progress",St=>this._onMultiFileUploadProgress(St,Ze)),this._activeJob.uploads[Ae]={xhr:Ot,fileId:Ze,title:Object(_.F)(Ee),size:Ee.size,loaded:0,...Ee.subtype&&{subtype:Ee.subtype}};const Ct=Re!=null&&Re.clientContextTeamId?Object(ue.d)(ze,"client_context_team_id",Re.clientContextTeamId):ze;Ot.open("POST",Ct),Ot.send(tt)})}));return n.a.all(Ve).then(()=>{this._onLoad()})}_go(){if(this._activeJob){this._log("Job in progress, queuing");return}if(!this._queue.length){this._log("Upload queue empty"),this._store.dispatch(C());return}this._log("Starting an upload"),this._activeJob=this._queue.shift(),this._actuallyUpload(this._activeJob)}_resolveCurrentUpload(){var le;const{uploads:he,resolve:Te,processingTimeout:Re,cancelPolling:Ve,trace:Ee,spans:Ae}=this._activeJob||{};if(he&&(this._log(`Successfuly resolved file uploads for: ${this._getUploadFileIds()}`),Te&&Te({fileIds:this._getUploadFileIds(),pendingFileId:this._getPendingFileId()})),clearTimeout(Re),Ve==null||Ve(),Ae==null||(le=Ae.processing)===null||le===void 0||le.close(),Ee==null||Ee.addTags({success:!0}),this._isEagerUpload()){const Ge=this._getPendingFileId(),Ze=this._getPersistedFileId();this._log(`Marking upload as complete. Pending File Id: ${Ge} Persisted File Id: ${Ze}`),this._store.dispatch(Object(I.h)({pendingFileId:Ge,status:j.a.COMPLETE})),this._store.dispatch(Object(I.a)({pendingFileId:Ge,persistedFileId:Ze}))}else this._store.dispatch(Object(E.e)());this._uploadOver()}_actuallyUpload(){let{files:le,fetcher:he,hideBanner:Te,spans:Re,originWindowId:Ve}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var Ee;Re==null||(Ee=Re.queue)===null||Ee===void 0||Ee.close();let Ae;le&&le.length===1&&(Ae=Object(_.F)(le[0]));const Ge=this._getPendingFileId();this._log(`Starting eager upload for ${Ge}`),this._store.dispatch(Object(I.b)({pendingFileId:Ge,teamId:this._teamId})),this._store.dispatch(Object(I.h)({pendingFileId:Ge,status:j.a.UPLOADING})),this._store.dispatch(Object(E.h)({fileName:Ae,fileCount:le&&le.length,isRetry:!!this._activeJob.numRetries,cancelable:this._isEagerUpload()?!1:this._activeJob.cancelable,hideBanner:Te,originWindowId:Ve})),this._activeJob.startTime=Date.now(),he().catch(Ze=>{this._onError(Ze)})}_onUploadProgress(le){let he="";if(le.lengthComputable){const Te=Math.floor(100*le.loaded/le.total,10);he=`Uploading ${this._activeJob.fileId} - ${Te}% complete`,this._activeJob.totalProgress=le.loaded}else he=`Uploading ${this._activeJob.fileId} - Upload percentage not computable`;this._throttledLog(he)}_onMultiFileUploadProgress(le,he){if(!le.lengthComputable){this._throttledLog(`Uploading ${this._getUploadFileIds()} - Upload percentage not computable`);return}const{uploads:Te}=this._activeJob,Re=Object(f.a)(Te,{fileId:he});if(!Re){this._throttledLog(`Could not find upload progress data for ${he} in _activeJob.uploads`,{level:"warn"});return}Re.loaded=le.loaded,this._updateMultiFileUploadProgress()}_updateMultiFileUploadProgress(){const{uploads:le}=this._activeJob,he=le.reduce(function(Ge){let{loaded:Ze,size:ze}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ge.totalLoaded+=Ze,Ge.totalSize+=ze,Ge},{totalLoaded:0,totalSize:0}),{totalLoaded:Te,totalSize:Re}=he,Ve=Math.floor(100*Te/Re,10),Ee=this._getPendingFileId();this._store.dispatch(Object(I.g)({pendingFileId:Ee,percentComplete:Ve})),this._store.dispatch(Object(E.a)({percentComplete:Ve}));const Ae=`Uploading ${this._getUploadFileIds()} - ${Ve}% complete`;this._throttledLog(Ae),this._activeJob.totalProgress=Te}_log(le){let{level:he="info"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._logger[he](ct,le)}_uploadOver(){var le;if(!((le=this._activeJob)===null||le===void 0)&&le.trace){var he,Te;(he=this._activeJob.spans)===null||he===void 0||(Te=he.upload)===null||Te===void 0||Te.close(),Object(F.a)({state:this._store.getState()}).reportTrace(this._activeJob.trace)}this._activeJob=null,this._go()}_isEagerUpload(){const{shareData:le={}}=this._activeJob||{};return!!le.isEagerUpload}_getPendingFileId(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._activeJob;const{files:he}=le||{};return Object(l.a)(he)?null:he[0].id}_getPersistedFileId(){const{uploads:le}=this._activeJob||{};return Object(l.a)(le)?null:le[0].fileId}_getMultiFileUploadDataForApi(){const{uploads:le}=this._activeJob;return le?le.map(he=>({id:he.fileId,title:he.title,...he.subtype&&{subtype:he.subtype}})):null}_getUploadFileIds(){const{uploads:le}=this._activeJob||{};return le?le.map(he=>he.fileId):null}_getUploadSize(){const{uploads:le}=this._activeJob||{};return le?le.reduce((he,Te)=>he+Te.size,0):0}_getUploadFileCount(){const{files:le}=this._activeJob||{};return le?le&&le.length:0}_cancelActiveXhrRequests(){const{uploads:le}=this._activeJob||{};Object(l.a)(le)||le.forEach(he=>{he.xhr&&he.xhr.abort()})}_clogUploadComplete(le,he){const{shareData:Te={},numRetries:Re,retryReason:Ve,startTime:Ee,disconnectedDuringUpload:Ae}=this._activeJob||{},Ze=Te.isBox||Te.isDropbox?Z.FileUploadType.EXTERNAL:Z.FileUploadType.EDGE,ze=Date.now()-Ee,lt=!!Te.introMessage||!!Te.blocks,tt=this._getUploadFileCount();Object(ne.a)({state:this._store.getState()}).track(le,{type:Ze,duration:ze,has_upload_message:lt,file_count:tt,retry_count:Re,upload_size:this._getUploadSize(),retry_reason:Ve,did_disconnect_during_upload:Ae,...he})}_ensureRequestLoadedSuccessfully(le,he){return le?le.status!==Ye&&!(he==="box"&&le.status>=200&&le.status<300)?(this._onError(`Error with loaded request; status code: ${le.status}; status text: ${le.statusText}`,{status:le.status,response:le.responseText}),!1):!0:!1}_ensureAllRequestsLoadedSuccessfully(){const{filestore:le,uploads:he}=this._activeJob;return Object(p.a)(he,Te=>this._ensureRequestLoadedSuccessfully(Te.xhr,le))}_forceResolveCurrentUpload(le){this._activeJob&&(this._log(`[${ct}]: force resolving current upload because: ${le}`,{level:"error"}),this._resolveCurrentUpload())}_setProcessingTimeout(){this._activeJob&&(this._activeJob.processingTimeout=setTimeout(()=>{const le=this._store.getState();Object(O.b)(le)===g.d&&this._startPollingForProcessing()},fe))}_startPollingForProcessing(){var le;clearTimeout(this._activeJob.processingTimeout);const he=(le=this._activeJob.uploads[0])===null||le===void 0?void 0:le.fileId;if(!he){this._onError("missing file ID");return}const{promise:Te,cancel:Re}=this._store.dispatch(oe({fileId:he,timeout:10*60*1e3}));this._activeJob.pollingPromise=Te,this._activeJob.cancelPolling=Re,Te.then(Ve=>{if(Ve)this._resolveCurrentUpload(he);else{const Ee=new Error("polling for processing timed out");Ee.name=ae.a.ProcessingTimeout,this._onError(Ee)}}).catch(Ve=>{this._logger.error(`${ct}: error during polling`),this._onError(Ve)})}_retryUpload(le){this._activeJob.numRetries+=1,this._activeJob.retryReason=le,["fileId","xhrOpenTime","uploads","startTime","totalProgress","processingTimeout","hasCurrentUploadResolved"].forEach(Te=>{delete this._activeJob[Te]}),this._actuallyUpload(this._activeJob)}_constructCustomFilesStoreUrl(le,he){return{box:`https://account.box.com/file/${le}?cfs=true`}[he]}_onCustomFilesLoad(){const{shareData:le,fileId:he,filestore:Te}=this._activeJob,Re=this._customFileResponse;if(!Re||!Re.entries)return n.a.reject(new Error("Not custom files"));const Ve=Re.entries.map((Ae,Ge)=>({file_id:he||this._activeJob.uploads[Ge].fileId,filename:Ae.name,title:Ae.name,external_id:Ae.id,external_url:this._constructCustomFilesStoreUrl(Ae.id,Te)})),Ee={files:Ve,filestore:Te};return this._activeJob.cfs_workspace_id&&(Ee.workspace_id=this._activeJob.cfs_workspace_id),this._store.dispatch(Object(ee.a)({...Ee,reason:Be})).then(()=>{if(le.channelId){const Ae={fileIds:Ve.map(Ge=>Ge.file_id),...le};return this._store.dispatch(Object(T.a)(Ae))}return n.a.resolve()}).catch(this._onError.bind(this))}_onLoad(){var le;const{filestore:he,shareData:Te,fileId:Re,uploads:Ve,trace:Ee,spans:Ae}=this._activeJob;if(Object(Y.d)(this._store.getState(),"box_cfs")==="on"&&he==="box"){this._onCustomFilesLoad();return}if(Ae==null||(le=Ae.transfer)===null||le===void 0||le.close(),!this._ensureAllRequestsLoadedSuccessfully())return;let Ze;Re?(Ze={fileId:Re},this._log(`${Re} Finished POST-ing data`)):(Ze={files:this._getMultiFileUploadDataForApi()},this._log(`Finished POST-ing data for ${Ve.length} file(s)`));const ze=this._getPendingFileId();this._store.dispatch(Object(I.g)({pendingFileId:ze,percentComplete:100})),this._store.dispatch(Object(E.a)({percentComplete:100})),this._throttledLog.flush(),(Object(Y.d)(this._store.getState(),"box_cfs")==="on"&&he==="box"?this._onCustomFilesLoad():this._store.dispatch(W({...Ze,...Te,reason:Be}))).then(()=>{this._activeJob||this._logger.error(`${ct}: active job object missing after completeUpload resolves`),Ae.processing=Ee.startSpan("file_upload_attempt:processing"),this._store.dispatch(Object(I.h)({pendingFileId:ze,status:j.a.PROCESSING})),this._store.dispatch(Object(E.f)()),this._setProcessingTimeout();const lt=Te&&Te.metadata;this._clogUploadComplete(Z.EventId.FILE_COMPLETE_UPLOAD_SUCCESS,{file_upload_action:lt&&lt.fileUploadAction,file_upload_src:lt&&lt.fileUploadSrc});const{shouldImmediatelyResolve:tt,reason:Ot}=this._shouldImmediatelyResolveUpload()||{};tt?(this._log(`immediately resolving upload beacause: ${Ot}`),this._resolveCurrentUpload()):Object(G.a)()&&!Object(q.h)(this._store.getState())&&this._startPollingForProcessing()}).catch(this._onError.bind(this))}_onTimeout(){this._onError("File upload timed out!",{status:$e})}_onAbort(){this._onError("File upload aborted!",{status:Ke})}_onXhrError(le){const{xhrOpenTime:he}=this&&this._activeJob||{};let Te;if(he&&(Te=Date.now()-he),Object(h.a)(le)){const Re=le.currentTarget;let Ve={};Object(h.a)(Re)&&(Ve={status:Re.status,statusText:Re.statusText,timeout:Re.timeout,response:Re.response,responseText:Re.responseText,responseType:Re.responseType,responseUrl:Re.responseUrl,responseXML:Re.responseXML,readyState:Re.readyState});const Ee={loaded:le.loaded,total:le.total,lengthComputable:le.lengthComputable,type:le.type,message:le.message,description:le.description,timeStamp:le.timeStamp,isTrusted:le.isTrusted,...Ve,duration:Te,stack:Object(J.a)()};this._logger.error(ct,le,`on XHR error ${JSON.stringify(Ee)}`)}this._onError(le)}_onError(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pe,{status:he=qe,response:Te=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._activeJob){this._log("error handling called without an active job");return}const{filestore:Re,numRetries:Ve,reject:Ee,shareData:Ae,totalProgress:Ge,trace:Ze}=this._activeJob||{},ze=Object(u.a)(le)?new Error(le):le,lt=`(status: ${he}; response: ${Te})`,tt=o(()=>{Ee&&Ee(ze);const Ct=Ae&&Ae.metadata;this._clogUploadComplete(Z.EventId.FILE_COMPLETE_UPLOAD_FAILURE,{file_upload_error_message:ze.toString(),file_upload_action:Ct&&Ct.fileUploadAction,file_upload_src:Ct&&Ct.fileUploadSrc,file_upload_progress:Ge}),this._logger.error(ze,`[${ct}]: error uploading file ${lt}`),Ze==null||Ze.addTags({success:!1}),this._uploadOver()},"endUpload"),Ot=ze==null?void 0:ze.name;if(Ot&&!Object(ae.b)(Ot)){this._cancelActiveXhrRequests(),this._store.dispatch(Object(E.d)()),tt(),this._throttledLog.cancel(),this._store.dispatch(Object(U.a)({error:Ot,filestore:Re}));return}if(he===Ke)this._log(ze.toString(),{level:"warn"});else if(this._log(ze.toString(),{level:"error"}),this._cancelActiveXhrRequests(),Ve===0)this._log("First attempt to upload failed, automatically retrying"),this._retryUpload(ze.toString());else if(this._isEagerUpload()){const Ct=this._getPendingFileId(),St=this._getPersistedFileId()||"none";this._log(`Eager upload failed. pendingFileId: ${Ct}, persistedFileId: ${St}`,{level:"error"}),tt()}else this._store.dispatch(Object(U.a)({error:ze==null?void 0:ze.name,allowTryAgain:!0,onGo:()=>{this._log(`${Ve}nd attempt to upload failed, user requested to retry`),this._retryUpload(ze.toString())},onClose:()=>{this._log("User canceled upload after error"),this._store.dispatch(Object(E.d)()),tt()},msgText:Ae&&Ae.introMessage,blocks:Ae&&Ae.blocks}));this._throttledLog.cancel()}_doesPendingFileExist(le){return le?Object(_.Hb)(le)?le.size&&le.size>0:!0:!1}_displayFileNotFoundError(le){let{msgText:he,blocks:Te}=le;this._store.dispatch(Object(U.a)({error:ae.a.FileNotFoundOnDevice,msgText:he,blocks:Te}))}_shouldImmediatelyResolveUpload(){const{shareData:le,hasCurrentUploadResolved:he}=this._activeJob||{};return!this._activeJob||!le?{shouldImmediatelyResolve:!0,reason:"missing activeJob or shareData"}:le.channelId&&!this._isMemberOfChannelBeingUploadedTo()?{shouldImmediatelyResolve:!0,reason:"not member of channel being uploaded to"}:he?{shouldImmediatelyResolve:!0,reason:"message already received by client (race condition)"}:{shouldImmediatelyResolve:!1}}_isMemberOfChannelBeingUploadedTo(){if(!this._store||!this._activeJob||!this._activeJob.shareData)return!1;const{channelId:le}=this._activeJob.shareData;if(!le)return!1;const he=this._store.getState&&this._store.getState(),Te=Object($.d)(he,le);return Object(L.db)(Te)}constructor(le){if(!le)throw new Error("UploadQueue requires a teamId");this._teamId=le,this._store=Object(m.getStoreInstanceByTeamId)(le),this._queue=[],this._activeJob=null,this._customFileResponse=null,this._logger=Object(Q.a)({teamId:le}),this._log=this._log.bind(this),this._throttledLog=Object(b.a)(this._log,5e3,{leading:!1}),this._uploadCustomFileFetcher=this._uploadCustomFileFetcher.bind(this),this._uploadExternalFileFetcher=this._uploadExternalFileFetcher.bind(this),this._uploadFilesFetcher=this._uploadFilesFetcher.bind(this),this._onMultiFileUploadProgress=this._onMultiFileUploadProgress.bind(this),this._onCustomFilesLoad=this._onCustomFilesLoad.bind(this),this._onLoad=this._onLoad.bind(this),Object(d.a)(this)}},"UploadQueue");function Se(ge){return Pe[ge]||(Pe[ge]=new me(ge),Object(X.c)(ge,"uploadQueue",Pe[ge])),Pe[ge]}o(Se,"getInstance");function je(ge,le){Se(ge).maybeResolveCurrentUpload(le)}o(je,"maybeResolveUploadInQueue");function Ue(ge,le){Se(ge).resolveCurrentUpload(le)}o(Ue,"maybeResolveUploadInQueueWithFileId");const ve={PROCESSING_TIMEOUT_DURATION:fe,API_REASON:Be,resetUploadQueues:()=>{Pe={}}}},H2ap:function(w,s,e){"use strict";e.d(s,"a",function(){return p});var n=e("9oTK"),t=e("SQ0V"),a=e("q6Tz"),i=e("uVZW"),c=e("7+Lm"),r=e("v5z3");const f=Object(t.c)("Register organic use of progressive disclosure tip with Megaphone",function(){var h=Object(n.coroutine)(function*(u,b,v){var d,m;const g={[r.f.AddTeammates]:i.e.PD_FIRST_USER_INVITED,[r.f.FirstMessage]:i.e.PD_FIRST_MESSAGE_SENT,[r.f.Reacji]:i.e.PD_REACJI_ICON_CLICKED,[r.f.AtMention]:i.e.PD_MENTION_ICON_CLICKED,[r.f.Threads]:i.e.REPLY_IN_THREAD_CLICKED,[r.f.AddChannels]:i.e.ADD_CHANNELS_CLICKED,[r.f.Status]:i.e.PROFILE_PICTURE_CLICKED,[r.f.CompletedAll]:i.e.HELP_HOME_OPENED,[r.f.Huddles]:i.e.HUDDLE_MINI_PLAYER_OPEN};if(Object(c.c)(b(),i.g.PROGRESSIVE_DISCLOSURE)&&r.v.includes(v)&&(!((d=Object(c.b)(b(),i.g.PROGRESSIVE_DISCLOSURE))===null||d===void 0||(m=d.eligibleTips)===null||m===void 0)&&m.includes(r.h[v]))){const O=g[v];O&&u(Object(a.b)({event:{type:O,current_notification:Object(c.c)(b(),i.g.PROGRESSIVE_DISCLOSURE)}}))}});return function(u,b,v){return h.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkmaybeRegisterProgressiveDisclosureTipOrganicUseWithMegaphone",description:"Register organic use of progressive disclosure tip with Megaphone"};var l=e("IaLB");const p=Object(t.c)("handle progressive disclosure organic use",function(){var h=Object(n.coroutine)(function*(u,b,v){let{tip:d}=v;const m=b();Object(l.X)(m)&&u(f(d))});return function(u,b,v){return h.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkhandleProgressiveDisclosureOrganicUse",description:"handle progressive disclosure organic use"}},"HAG/":function(w,s,e){"use strict"},HD5C:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Connects a client built thumbnail image to a file");t.meta={name:"createAction",key:"createActionconnectImageThumbnailToFile",description:"Connects a client built thumbnail image to a file"};const a=Object(n.a)("Removes image thumbnails connected to files");a.meta={name:"createAction",key:"createActionremoveImageThumbnails",description:"Removes image thumbnails connected to files"}},HDAh:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("SQ0V"),t=e("QOHG"),a=e("UIhb"),i=e("Jhy3");const c=Object(n.c)("Add a created workflow from a suggestion to the message it spawned from",(r,f,l)=>{let{ts:p,workflowId:h,channelId:u,shareUrl:b}=l;const v=f();if(!Object(t.a)(v))return;const d=Object(a.b)(v,u,p);if(d){const m={...d,linked_workflow:{workflow_id:h,share_url:b}};r(Object(i.a)([m]))}});c.meta={name:"createThunk",key:"createThunklinkWorkflowToMessage",description:"Add a created workflow from a suggestion to the message it spawned from"}},HFEL:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ZobM"),i=e("nNoG");const c=new i.b("members");function r(){return t.a.createElement("span",{className:"c-hidden_user_icon_and_name "},t.a.createElement(a.a,{name:"user-hide",inline:!0}),"\xA0",c.t("Name hidden"))}o(r,"HiddenUserIconAndName"),r.displayName="HiddenUserIconAndName";var f=s.a=t.a.memo(r)},HJ1R:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("ifKl");const i={isVisible:!1,heading:null,message:null,cancelButtonLabel:null,continueButtonLabel:null,continueButtonType:void 0,continueButtonIsLoading:void 0,continueButtonIsDisabled:!1,onCancel:a.a,onContinue:a.a},c=o(()=>{const[r,f]=Object(n.useState)({...i}),l=Object(n.useCallback)(()=>{f({...i})},[]),p=Object(n.useCallback)(function(){let{heading:u=null,message:b=null,cancelButtonLabel:v=null,continueButtonLabel:d=null,continueButtonType:m=void 0,continueButtonIsLoading:g=void 0,onCancel:O=a.a,onContinue:E=a.a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{onCancel:a.a,onContinue:a.a};f({className:"flex",isVisible:!0,heading:u,message:b,cancelButtonLabel:v,continueButtonLabel:d,continueButtonType:m,continueButtonIsLoading:g,onCancel:O,onContinue:E})},[]);return Object(n.useMemo)(()=>({speedBumpState:r,closeSpeedBump:l,openSpeedBump:p}),[l,p,r])},"useSpeedBump")},HOFW:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("E3dU"),t=e("y/Pn"),a=e("3yS5");function i(c,r){const f=Object(n.d)(c,r.channelId);if(Object(t.a)(f))return!0;const l=r.memberIds||[];return!!(!f&&l.length&&l.some(h=>Object(a.a)(c,h)))}o(i,"shouldDisplaySharedBanner")},HOkk:function(w,s,e){"use strict";var n=e("Lgge"),t=e("n3tL"),a=e("q1tI"),i=e.n(a),c=e("C3Bw"),r=e("BHdc"),f=e("ifKl"),l=e("gSGL"),p=e("WIr4"),h=e("FWtP"),u=e("Cfcg"),b=e("WSQ4"),v=e("azFB"),d=e("oWe6"),m=e("+kJ4"),g=e("DCrr"),O=e("qDEp"),E=e("oEDn"),y=e("ZobM"),C=e("pmw5"),I=e("s4P+"),j=e("nNoG"),M=e("4t6+"),T=e("Tevt"),D=e("RMmo"),S=e("orxu"),A=e("HKlo"),P=e("zrD9"),N=e("nWdO"),G=e("4MOp"),V=e("FRd1"),k=e("ktUG"),x=e("VymY");function H(re){const oe=re.tagName;if(["BUTTON","INPUT","SELECT","TEXTAREA"].includes(oe))return!0;const ce=re.getAttribute("role");return!!(ce&&["button","checkbox","radio","radiogroup","textbox"].includes(ce))}o(H,"focusOnFormFilter");var R=e("5IZy"),W=e("AwEi"),U=e("rcBr");const _=new j.b("generic_dialog"),B={titleText:t.default.oneOfType([t.default.string,t.default.array]),bodyText:t.default.string,cancelButtonText:t.default.string,continueButtonText:t.default.string,continueButtonType:t.default.string,onCancel:t.default.func,onContinue:t.default.func},z={titleText:void 0,bodyText:void 0,cancelButtonText:void 0,continueButtonText:void 0,continueButtonType:"danger",onCancel:f.a,onContinue:f.a};let L=o(class extends i.a.PureComponent{componentDidMount(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setState(()=>({isHidden:!1}))})})}onCancel(){this.setState(()=>({isHidden:!0}),()=>{Object(U.a)(this.speedBump,"transform").then(this.props.onCancel)})}render(){const oe=_.t("Your work won\u2019t be saved \u2014 are you sure you want to close?",{fallbackHash:"2dba6fefb79a00616e98aaeb349d6e2404795259"}),ce=_.t("Keep Editing"),ue=_.t("Close"),{titleText:Pe=oe,cancelButtonText:Ye=ce,continueButtonText:$e=ue,bodyText:Ke,continueButtonType:qe,onContinue:ct}=this.props,{isHidden:Be}=this.state,pe=Object(r.default)("c-dialog_speed_bump_overlay",{"c-dialog_speed_bump_overlay--hidden":Be}),fe=Object(r.default)("c-dialog_speed_bump",{"c-dialog_speed_bump--hidden":Be});return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:pe}),i.a.createElement("div",{className:"c-dialog_speed_bump_wrapper"},i.a.createElement("div",{className:fe,ref:me=>{this.speedBump=me}},i.a.createElement("h3",{className:"c-dialog_speed_bump__body_text"},Pe),Ke&&i.a.createElement(W.a,{text:Ke}),i.a.createElement("div",{className:"c-dialog_speed_bump__button_row"},i.a.createElement(O.f,{autoFocus:!0,className:"c-dialog_speed_bump__button",onClick:this.onCancel,"data-qa":"dialog_speed_bump_cancel",type:"outline"},Ye),i.a.createElement(O.f,{className:"c-dialog_speed_bump__button",onClick:ct,"data-qa":"dialog_speed_bump_continue",type:qe},$e)))))}constructor(oe){super(oe),this.onCancel=this.onCancel.bind(this),this.state={isHidden:!0},this.speedBump=null}},"DialogSpeedBump");L.displayName="DialogSpeedBump",L.propTypes=B,L.defaultProps=z;var $=Object(d.a)(L);function Q(){return Q=Object.assign||function(re){for(var oe=1;oe<arguments.length;oe++){var ce=arguments[oe];for(var ue in ce)Object.prototype.hasOwnProperty.call(ce,ue)&&(re[ue]=ce[ue])}return re},Q.apply(this,arguments)}o(Q,"_extends");const K=new j.b("generic_dialog"),Z={onRequestClose:{action:k.UiAction.CLOSE}},ne={ariaContent:t.default.object,children:t.default.any.isRequired,cancelButtonType:t.default.string,cancelText:t.default.string,className:t.default.string,overlayClassName:t.default.string,bodyClassName:t.default.string,modalBodyOpenClassName:t.default.string,contentHeight:t.default.number,contentLabel:t.default.string,"data-qa":t.default.string,footerIcon:t.default.string,footerLink:t.default.string,footerText:t.default.node,focusOnPrimaryButton:t.default.bool,onFooterLinkClick:t.default.func,goButtonType:t.default.string,goButtonText:t.default.string,goButtonTooltip:t.default.node,goButtonIsDisabled:t.default.bool,goButtonIsPending:t.default.bool,goOnEnterPressed:t.default.bool,onCancel:t.default.func,onClose:t.default.func,onGo:t.default.func,onPopOut:t.default.func,onScroll:t.default.func,role:t.default.string,showCancelButton:t.default.bool,showCloseButton:t.default.bool,showPopoutButton:t.default.bool,showGoButton:t.default.bool,showHeader:t.default.bool,showFooter:t.default.bool,showTooltipOnCloseButton:t.default.bool,title:t.default.node,titleAria:t.default.string,useSlackScrollbar:t.default.bool,useSlackScrollbarWithPadding:t.default.bool,titleImage:t.default.string,truncateTitle:t.default.bool,closeModal:t.default.func,appPopoutsEnabled:t.default.bool,shouldCloseOnOverlayClick:t.default.bool,shouldCloseOnGo:t.default.bool,shouldCloseOnCancel:t.default.bool,getShouldShowSpeedBump:t.default.func,speedBumpBodyText:t.default.oneOfType([t.default.string,t.default.array]),speedBumpTitleText:t.default.oneOfType([t.default.string,t.default.array]),speedBumpCancelButtonText:t.default.string,speedBumpContinueButtonText:t.default.string,speedBumpContinueButtonType:t.default.string,isSpeedBumpEnabled:t.default.bool,reverseButtons:t.default.bool,customFooterContent:t.default.oneOfType([t.default.node,t.default.func]),invertCloseButton:t.default.bool,onRequestClose:t.default.func,onEscape:t.default.func,autoClogProps:t.default.object,window:t.default.object,clogger:t.default.object},F={ariaContent:void 0,cancelButtonType:"outline",cancelText:void 0,overlayClassName:void 0,bodyClassName:void 0,modalBodyOpenClassName:void 0,className:void 0,contentHeight:void 0,contentLabel:void 0,"data-qa":"dialog",footerIcon:void 0,footerLink:void 0,footerText:void 0,focusOnPrimaryButton:void 0,onFooterLinkClick:void 0,goButtonType:"primary",goButtonText:void 0,goButtonTooltip:void 0,goButtonIsDisabled:!1,goButtonIsPending:!1,goOnEnterPressed:!0,onCancel:f.a,onClose:f.a,onGo:f.a,onPopOut:f.a,onScroll:f.a,role:"dialog",showCancelButton:!0,showCloseButton:!0,showPopoutButton:!1,showGoButton:!0,showHeader:!0,showFooter:!0,showTooltipOnCloseButton:!1,title:void 0,titleAria:null,useSlackScrollbar:!0,useSlackScrollbarWithPadding:!1,titleImage:void 0,truncateTitle:!0,closeModal:f.a,appPopoutsEnabled:!1,shouldCloseOnOverlayClick:!0,shouldCloseOnGo:!0,shouldCloseOnCancel:!0,getShouldShowSpeedBump:f.a,speedBumpBodyText:void 0,speedBumpTitleText:void 0,speedBumpCancelButtonText:void 0,speedBumpContinueButtonType:"danger",speedBumpContinueButtonText:void 0,isSpeedBumpEnabled:!0,reverseButtons:!1,customFooterContent:void 0,invertCloseButton:!1,onRequestClose:f.a,onEscape:f.a,autoClogProps:void 0,window:v.a,clogger:void 0};let J=0;function X(){return J>0}o(X,"isDialogVisible");let Y=o(class extends a.PureComponent{static getDerivedStateFromProps(oe){const{isSpeedBumpEnabled:ce}=oe;return ce?null:{isShowingSpeedBump:!1,speedBumpButton:""}}componentDidMount(){const{goOnEnterPressed:oe}=this.props;this.props.window.addEventListener("scroll",this.onScroll);let ce;this.modal&&this.modal.node&&(ce=this.modal.node),this.keyCommands=new D.a(ce);const ue=[];oe&&ue.push({keys:["enter"],handler:this.onEnter}),ue.push({keys:["escape"],handler:this.onEscape}),this.keyCommands.bindAll(ue),(this.props.appPopoutsEnabled||Object(G.a)())&&this.props.window.addEventListener("beforeunload",this.onBeforeUnload),Object(G.a)()&&this.updateTitle(),J+=1}componentDidUpdate(){requestAnimationFrame(this.updateScrollState),Object(G.a)()&&this.updateTitle()}componentWillUnmount(){this.props.window.removeEventListener("scroll",this.onScroll),this.keyCommands&&this.keyCommands.reset(),(this.props.appPopoutsEnabled||Object(G.a)())&&this.props.window.removeEventListener("beforeunload",this.onBeforeUnload),J-=1}onBeforeUnload(oe){const{getShouldShowSpeedBump:ce,isSpeedBumpEnabled:ue,appPopoutsEnabled:Pe}=this.props;if(!ce||!ue||!Pe&&!Object(G.a)())return null;if(ce("close")){oe.preventDefault();const Ye=K.t("Your work won\u2019t be saved \u2014 are you sure you want to close?",{fallbackHash:"2dba6fefb79a00616e98aaeb349d6e2404795259"});return oe.returnValue=Ye,Ye}return null}onCancel(){const{onClose:oe,onCancel:ce,shouldCloseOnCancel:ue}=this.props;ce()!==!1&&ue&&(oe(),this.props.closeModal())}onEnter(oe){var ce;const ue=oe&&oe.target&&oe.target.tagName,Pe=!!(!(oe==null||(ce=oe.target)===null||ce===void 0)&&ce.contentEditable);ue==="BUTTON"||ue==="A"||ue==="INPUT"||ue==="TEXTAREA"||Pe||this.onRequestGo(oe)}onEscape(oe){oe.defaultPrevented||(oe.stopPropagation(),this.onRequestClose(),this.props.onEscape())}onFocusedElementRemoved(){var oe;(oe=this.modalContent)===null||oe===void 0||oe.focus()}onGo(oe){const{onGo:ce,onClose:ue,shouldCloseOnGo:Pe}=this.props;oe.defaultPrevented||n.a.resolve(ce(oe)).then(Ye=>{Ye!==!1&&Pe&&(ue(),this.props.closeModal())})}onPopOut(){var oe,ce,ue;const{role:Pe}=this.props,Ye=((ue=(oe=this.modal)===null||oe===void 0||(ce=oe.node)===null||ce===void 0?void 0:ce.querySelector(`[role="${Pe}"]`))===null||ue===void 0?void 0:ue.getBoundingClientRect())||{},{height:$e,width:Ke}=Ye;this.props.onPopOut({height:$e,width:Ke})}onRequestCancel(){const{getShouldShowSpeedBump:oe,isSpeedBumpEnabled:ce}=this.props;if(oe("cancel")&&ce){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"cancel"}));return}this.onCancel()}onRequestClose(oe){const{getShouldShowSpeedBump:ce,isSpeedBumpEnabled:ue,onClose:Pe}=this.props;if(ce("close")&&ue){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"close"}));return}Pe(oe)!==!1&&(this.props.closeModal(),this.props.onRequestClose())}onRequestGo(oe){const{getShouldShowSpeedBump:ce,isSpeedBumpEnabled:ue}=this.props;if(ce("go")&&ue){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"go"}));return}this.onGo(oe)}onScroll(oe){this.scroller&&(requestAnimationFrame(this.updateScrollState),this.props.onScroll({scrollTop:this.scroller.scrollTop},oe))}onFocusTransition(){const{clogger:oe,autoClogProps:ce}=this.props;if(this.focusOnFormElements(),!oe||!ce||!ce.context)return;const{eventId:ue,appId:Pe,type:Ye,viewId:$e}=ce.context;oe.track(ue,{contexts:{platform:{app_id:Pe},block_kit:{view_id:$e,type:Ye,app_id:Pe}}})}getFocusTransitionListeners(oe,ce,ue){return{[A.c.MODAL_ACTIVE_FORM]:()=>{if(!oe||ce==null||ue==null)return!1;const Pe=this.props.window.document.elementFromPoint(ce+10,ue+10);return oe.contains(Pe)?(this.onFocusTransition(),!0):!1}}}getScrollHeight(){const{contentHeight:oe}=this.props;return oe!==F.contentHeight?oe:this.scroller.scrollHeight}getTitleAria(){const{contentLabel:oe,title:ce,titleAria:ue}=this.props;let Pe="";return oe?Pe=oe:Object(l.a)(ce)?Pe=ce:ue?Pe=ue:Object(I.b)().warn('You should pass the "titleAria" prop when passing a non-string "title" prop if there is no "contentLabel".'),Pe}setBodyRef(oe){this.scroller=oe}setModalRef(oe){this.modal=oe}setModalContentRef(oe){this.modalContent=oe}focusOnFormElements(){var oe;const ce=Object(x.d)(this.scroller,H);if(ce!=null&&ce.focus){ce.focus();return}if(this.goButtonRef.current){this.goButtonRef.current.focus();return}if(this.cancelButtonRef.current){this.cancelButtonRef.current.focus();return}(oe=this.modalContent)===null||oe===void 0||oe.focus()}updateScrollState(){if(!this.scroller)return;const oe=this.scroller.scrollTop,ce=this.getScrollHeight(),ue=this.scroller.offsetHeight,Pe=oe===ce-ue,Ye=oe===0,$e=ce>ue;this.setState(()=>({hasOverflow:$e,scrolledToBottom:Pe,scrolledToTop:Ye}))}updateTitle(){const oe=K.t("Slack",{fallbackHash:"430b38bf6daa7f9164b164b2ffd540b5a3afe2fd",fallbackHashNs:"view"}),ce=this.getTitleAria();ce&&(this.props.window.document.title=`${oe} | ${ce}`)}renderCancelButton(){const{cancelText:oe,cancelButtonType:ce,autoClogProps:ue,"data-qa":Pe}=this.props,Ye=oe||K.t("Cancel"),$e=ue!=null&&ue.cancelButton?{onClick:{enableClogAction:!0},...ue.cancelButton}:void 0;return i.a.createElement(O.f,{ref:this.cancelButtonRef,type:ce,className:"c-dialog__cancel",onClick:this.onRequestCancel,"data-qa":`${Pe}_cancel`,autoClogProps:$e},Ye)}renderCloseButton(){const{showTooltipOnCloseButton:oe,invertCloseButton:ce,autoClogProps:ue,"data-qa":Pe}=this.props,Ye=K.t("Close"),$e=ue!=null&&ue.closeButton?{onClick:{enableClogAction:!0},...ue.closeButton}:void 0,Ke=i.a.createElement(C.a,{backgroundStyle:ce?"dark":void 0,"aria-label":Ye,className:"c-dialog__close",onClick:this.onRequestClose,"data-qa":`${Pe}_close`,autoClogProps:$e},i.a.createElement(y.a,{name:"close",size:"20"}));return oe?i.a.createElement(N.c,{tip:Ye,zIndex:"above_fs"},Ke):Ke}renderCustomFooterMaybe(){const{customFooterContent:oe}=this.props;return typeof oe=="function"?oe({goButtonRef:this.goButtonRef,cancelButtonRef:this.cancelButtonRef}):oe||null}renderFooterTextMaybe(){const{footerIcon:oe,footerLink:ce,footerText:ue,"data-qa":Pe}=this.props;return ue?ce?i.a.createElement("div",{className:"c-dialog__footer_text"},i.a.createElement(T.a,{href:ce,className:"c-dialog__footer_link",onClick:this.props.onFooterLinkClick,"data-qa":`${Pe}_footer_link`},oe&&i.a.createElement(E.a,{legacy:!0,inherit:!0,type:oe,align:"baseline",className:"c-dialog__footer_icon"}),ue)):i.a.createElement("div",{className:"c-dialog__footer_text"},oe&&i.a.createElement(E.a,{legacy:!0,inherit:!0,type:oe,align:"baseline",className:"c-dialog__footer_icon"}),ue):null}renderGoButton(){const{"data-qa":oe,goButtonIsDisabled:ce,goButtonIsPending:ue,goButtonText:Pe,goButtonType:Ye,goButtonTooltip:$e,focusOnPrimaryButton:Ke,autoClogProps:qe}=this.props,ct=Pe||K.t("Confirm"),Be=qe!=null&&qe.goButton?{onClick:{enableClogAction:!0},...qe.goButton}:void 0,pe=i.a.createElement(O.c,{ref:this.goButtonRef,type:Ye,className:"c-dialog__go",onClick:this.onRequestGo,loading:ue,disabled:ce,"data-qa":`${oe}_go`,autoFocus:Ke,autoClogProps:Be},ct);return $e?i.a.createElement(N.c,{tip:$e,zIndex:"above_fs"},ce?i.a.createElement("div",null,pe):pe):pe}renderOverflowPaddingMaybe(){const{showFooter:oe}=this.props,{hasOverflow:ce,scrolledToBottom:ue}=this.state;if(!oe&&ce){const Pe=Object(r.default)("c-dialog__overflow_padding",{"c-dialog__overflow_padding--scroll_border":ce&&!ue});return i.a.createElement("div",{className:Pe})}return null}renderPopoutButton(){const{appPopoutsEnabled:oe,"data-qa":ce,autoClogProps:ue}=this.props;if(!oe)return null;const Pe=K.t("Open in new window"),Ye=ue!=null&&ue.popOutButton?{onClick:{enableClogAction:!0},...ue.popOutButton}:void 0;return i.a.createElement(N.c,{tip:Pe,zIndex:"above_fs"},i.a.createElement(C.a,{"aria-label":Pe,className:"c-dialog__popout",onClick:this.onPopOut,"data-qa":`${ce}_popout`,icon:"new-window",autoClogProps:Ye}))}renderSpeedBumpMaybe(){if(!this.state.isShowingSpeedBump)return null;const{speedBumpTitleText:oe,speedBumpCancelButtonText:ce,speedBumpContinueButtonText:ue,speedBumpContinueButtonType:Pe,speedBumpBodyText:Ye}=this.props;return i.a.createElement($,{titleText:oe,bodyText:Ye,cancelButtonText:ce,continueButtonText:ue,continueButtonType:Pe,onCancel:()=>{this.setState(()=>({isShowingSpeedBump:!1}))},onContinue:this.state.speedBumpButton==="go"?this.onGo:this.onCancel})}renderTitle(){const{title:oe,titleImage:ce,truncateTitle:ue}=this.props;let Pe;return ce?Pe=i.a.createElement("div",{className:"display_flex"},i.a.createElement("img",{className:"c-dialog__title_image",src:ce,alt:oe}),i.a.createElement("div",{className:Object(r.default)({overflow_ellipsis:ue})},oe)):Pe=oe,i.a.createElement("h1",{className:Object(r.default)("c-dialog__title",{overflow_ellipsis:ue&&!ce})},Pe)}render(){const{ariaContent:oe,children:ce,className:ue,overlayClassName:Pe,bodyClassName:Ye,footerText:$e,showCancelButton:Ke,showCloseButton:qe,showPopoutButton:ct,showGoButton:Be,role:pe,showHeader:fe,showFooter:me,useSlackScrollbar:Se,useSlackScrollbarWithPadding:je,"data-qa":Ue,shouldCloseOnOverlayClick:ve,reverseButtons:ge,modalBodyOpenClassName:le,autoClogProps:he}=this.props,Te=Object(r.default)("c-dialog",Pe,{"c-dialog--custom-titlebar":Object(M.b)()}),Re=Object(r.default)("c-dialog__content",ue,{"c-dialog__content--custom-titlebar":Object(M.b)(),"c-dialog__content--frameless":Object(M.c)()}),Ve=Object(r.default)("c-dialog__header",{"c-dialog__header--overflow":this.state.hasOverflow&&!this.state.scrolledToTop}),Ee=Object(r.default)("c-dialog__body",Ye,{"c-dialog__body--slack_scrollbar":Se&&!je,"c-dialog__body--slack_scrollbar_with_padding":Se&&je}),Ae=Object(r.default)("c-dialog__footer",{"c-dialog__footer--overflow":this.state.hasOverflow&&!this.state.scrolledToBottom,"c-dialog__footer--has_text":$e&&!(Ke||Be),"c-dialog__footer--has_buttons":!$e&&(Ke||Be),"c-dialog__footer--has_both":$e&&(Ke||Be)}),Ge=this.getTitleAria(),Ze={...oe,label:fe&&Ge};let ze,lt;return this.modalContent&&({left:ze,top:lt}=this.modalContent.getBoundingClientRect()),i.a.createElement(V.a,{elementType:k.ElementType.MODAL,actionProps:Z,autoClogProps:he},i.a.createElement(c.a,{className:Re,bodyOpenClassName:le,contentLabel:Ge,isOpen:!0,onRequestClose:this.onRequestClose,overlayClassName:Te,role:pe,aria:Ze,shouldCloseOnOverlayClick:ve,shouldCloseOnEsc:!1,ref:this.setModalRef,contentRef:this.setModalContentRef,data:{qa:Ue},shouldReturnFocusAfterClose:!1},i.a.createElement(S.a,{listeners:this.getFocusTransitionListeners(this.modalContent,ze,lt)},fe&&i.a.createElement("div",{className:Ve,"data-qa":`${Ue}_header`},this.renderTitle(),ct&&!Object(G.a)()&&this.renderPopoutButton(),qe&&!Object(G.a)()&&this.renderCloseButton()),i.a.createElement(P.a,{onFocusedElementRemoved:this.onFocusedElementRemoved},i.a.createElement("div",{className:Ee,onScroll:this.onScroll,ref:this.setBodyRef,"data-qa":`${Ue}_body`},ce)),me&&i.a.createElement("div",{className:Ae,"data-qa":`${Ue}_footer`},this.renderCustomFooterMaybe(),this.renderFooterTextMaybe(),i.a.createElement("div",{className:"c-dialog__footer_buttons"},ge&&Be&&this.renderGoButton(),Ke&&this.renderCancelButton(),!ge&&Be&&this.renderGoButton())),this.renderSpeedBumpMaybe(),this.renderOverflowPaddingMaybe())))}constructor(oe){super(oe),Object(p.a)(this,["onScroll","setBodyRef","updateScrollState","onBeforeUnload","onRequestGo","onGo","onEnter","onFocusedElementRemoved","onPopOut","onRequestClose","onRequestCancel","onCancel","onEscape","setModalRef","setModalContentRef","onFocusTransition","getFocusTransitionListeners"]),this.keyCommands=null,this.scroller=null,this.cancelButtonRef=i.a.createRef(),this.goButtonRef=i.a.createRef(),this.getFocusTransitionListeners=Object(h.a)(this.getFocusTransitionListeners),this.state={hasOverflow:null,scrolledToBottom:null,scrolledToTop:null}}},"DeprecatedBaseDialog");Y.displayName="DeprecatedBaseDialog",Y.propTypes=ne,Y.defaultProps=F;const ae=o(re=>({appPopoutsEnabled:Object(g.d)(re),clogger:Object(R.a)({state:re})}),"mapStateToProps"),ee=o(re=>({closeModal:oe=>re(Object(m.a)(oe))}),"mapDispatchToProps"),q=o((re,oe,ce)=>({...ce,...oe,...re}),"mergeProps"),te=Object(u.a)(ae,ee,q,{forwardRef:!0})(Object(d.a)(Y));var de=i.a.forwardRef((re,oe)=>i.a.createElement(b.a.Consumer,null,ce=>{let{window:ue}=ce;return i.a.createElement(te,Q({ref:oe},re,{window:ue}))})),se=s.a=de},HSXp:function(w,s,e){"use strict";var n={};e.r(n),e.d(n,"getInsertData",function(){return vn}),e.d(n,"getMatch",function(){return Xt}),e.d(n,"recordSelection",function(){return ht});var t={};e.r(t),e.d(t,"getInsertData",function(){return On}),e.d(t,"getMatch",function(){return yn}),e.d(t,"recordSelection",function(){return Dn});var a={};e.r(a),e.d(a,"COMMAND_RX",function(){return Vn}),e.d(a,"getInsertData",function(){return un}),e.d(a,"getMatch",function(){return $n}),e.d(a,"getResultFrecencyId",function(){return da});var i={};e.r(i),e.d(i,"QUIP_COMMAND_RX",function(){return aa}),e.d(i,"getInsertData",function(){return ha}),e.d(i,"getMatch",function(){return Ia}),e.d(i,"getResultFrecencyId",function(){return Ba}),e.d(i,"recordSelection",function(){return ca}),e.d(i,"recordImpressionOnOpen",function(){return Aa});var c=e("Fsnq"),r=e("yIs4"),f=e("3Hq1"),l=e("Muja"),p=e("fujP"),h=e("F294"),u=e("ifKl"),b=e("WIr4"),v=e("q1tI"),d=e.n(v),m=e("Cfcg"),g=e("/uJc"),O=e("vVwU"),E=e("SQ0V"),y=e("pu3F"),C=e("coh6"),I=e("GS6c"),j=e("O86Y"),M=e("wWBL");const T=Object(E.c)("Find links that match a search query",function(Ne,De){let{query:_e="",limit:Me=y.c,searchViewContext:xe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Fe={entities:{files:{runaway:!0},links:!0},allowEmptyQuery:!0,sort:{source:"texty-autocomplete"},limit:Me,tiered:!0,returnMetadata:!0,searchViewContext:xe},we=["+","\uFF0B"].includes(_e[0])?_e.slice(1):_e;return Object(M.c)(De())?Object(I.a)({teamId:Object(j.g)(De()),key:"texty-autocomplete"}).search({query:we,options:Fe}):Ne(Object(C.F)({query:we,options:Fe}))});T.meta={name:"createThunk",key:"createThunkautocompleteLinks",description:"Find links that match a search query"};var D=T,S=e("n3tL");const A=Object(E.c)("Find lists that match a search query",(Ne,De,_e)=>{let{query:Me,limit:xe=y.c,searchViewContext:Fe}=_e;const we={entities:{lists:{runaway:!1}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete"},limit:xe,tiered:!0,returnMetadata:!0,searchViewContext:Fe},dt=["+","\uFF0B"].includes(Me[0])?Me.slice(1):Me,Ut=De();return Object(M.c)(Ut)?Object(I.a)({teamId:Object(j.g)(Ut),key:"texty-autocomplete"}).search({query:dt,options:we}):Ne(Object(C.F)({query:dt,options:we}))});A.meta={name:"createThunk",key:"createThunkautocompleteLists",description:"Find lists that match a search query"},A.propTypes={query:S.default.string,limit:S.default.number};var P=A,N=e("hrWC"),G=e("NV6F"),V=e("jlKB"),k=e("JnIm"),x=e("JoR1"),H=e("T1zM"),R=e("nNoG"),W=e("QYtq"),U=e("Tmt4"),_=e("gTpg"),B=e("5IZy"),z=e("9mnW"),L=e("4CqU"),$=e("Pw4T"),Q=e("E3dU"),K=e("E97Y");class Z{shouldUpdate(De){const _e=this.data[De];return!_e||Date.now()-_e>this.timeoutMs}recordUpdate(De){this.data[De]=Date.now()}clear(){this.data={}}constructor(){this.timeoutMs=1e3*60*60*12,this.data={}}}o(Z,"ChannelsWithMembershipCache");const ne=new Z;function F(Ne){return ne.shouldUpdate(Ne)}o(F,"shouldUpdateChannelMembership");function J(Ne){return ne.recordUpdate(Ne)}o(J,"recordChannelMembershipUpdate");function X(){return ne}o(X,"getChannelsWithMembershipCache");const Y=30,ae=Object(E.c)("Fetch and cache channel membership for first members of channel",function(Ne,De){let{channelId:_e}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Me=De(),xe=Object($.d)({state:Me});if(xe.mark("membership-update-mark"),F(_e)){const Fe=Object(Q.d)(Me,_e);Fe&&!Object(K.g)(Fe)&&!Object(K.i)(Fe)&&(Object(z.b)(Ne,De,_e,Y).then(we=>{const dt=we.map(Ut=>Ut.id);Ne(Object(L.a)({channelId:_e,userIds:dt})),xe.measureAndClear("membership-update-mark","membership-update")}),J(_e))}});ae.meta={name:"createThunk",key:"createThunkensureChannelMembershipKnownForFirstNMembers",description:"Fetch and cache channel membership for first members of channel"},ae.propTypes={channelId:S.default.string};var ee=ae,q=e("jvEW"),te=e("OaiI"),de=e("9Gfp"),se=e("s4P+"),re=e("khnw"),oe=e("Ir4d"),ce=e("i5Ig"),ue=e("FWtP"),Pe=e("BHdc"),Ye=e("zxER"),$e=e("I27i"),Ke=e("3l96"),qe=e("/MKj"),ct=e("+kJ4"),Be=e("zb/F"),pe=e("5MVR"),fe=e("ManY"),me=e("7EGn");function Se(Ne){let{children:De=null,enabled:_e=[],disabled:Me=[]}=Ne;const xe=Object(me.a)(qe,"ReactReduxContext");return d.a.createElement(xe.Consumer,null,Fe=>{let{store:we}=Fe;const dt=we&&we.getState&&we.getState();if(!dt)throw new Error("Feature component is being used without being provided a redux instance. A Feature component must have a Provider ancestor");const{featureFlags:Ut}=je(dt,{children:De,enabled:_e,disabled:Me});return _e.length&&_e.some(jt=>!Ut[jt])||Me.some(jt=>Ut[jt])?null:De})}o(Se,"Feature"),Se.displayName="Feature";function je(Ne,De){const{enabled:_e=[],disabled:Me=[]}=De,xe={};return _e.concat(Me).forEach(Fe=>{xe[Fe]=!!Object(de.i)(Ne,Fe)}),{featureFlags:xe}}o(je,"mapStateToProps");var Ue=Se,ve=e("YUBf"),ge=e("qDEp"),le=e("Tevt");const he=new R.b("search"),Te=["feature_tinyspeck"];function Re(Ne){let{data:De}=Ne;const _e=Object(qe.useDispatch)(),[Me,xe]=Object(fe.a)(!1,2e3),Fe=Me?he.t("Copied!",{ns:"member_profile"}):he.t("Copy",{ns:"member_profile"}),we=Object(pe.c)(De),dt=Object(v.useCallback)(()=>{_e(Object(ct.a)())},[_e]),Ut=Object(v.useCallback)(()=>{Object(Be.e)(we),xe(!0)},[we,xe]);return d.a.createElement(Ue,{enabled:Te},d.a.createElement(ve.a,{closeModal:dt,className:"c-search_debug_modal"},d.a.createElement(ve.i,null,d.a.createElement(ve.l,{title:"Search Debug Results"})),d.a.createElement(ve.d,null,d.a.createElement(ve.e,null,d.a.createElement("p",null,he.rt("Share the output below with a friendly neighborhood Search Friend in {feedbackChannel}",{feedbackChannel:d.a.createElement(le.a,{onClick:dt,href:"https://slack-pde.slack.com/archives/CJJFK649F"},"#feedback-autocomplete")})),d.a.createElement("pre",{className:"c-search_debug_modal__output"},d.a.createElement("code",null,we)))),d.a.createElement(ve.g,null,d.a.createElement(ve.h,null,Object(Be.a)()&&d.a.createElement(ge.f,{type:"outline",onClick:Ut},Fe),d.a.createElement(ve.c,{type:"primary"},he.t("Done",{ns:"workflow_builder"}))))))}o(Re,"SearchDebugModal"),Re.displayName="SearchDebugModal";var Ve=Re;const Ee=Object(E.c)("Open search debug modal",function(Ne,De){let{data:_e}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ne(Object(Ke.a)({element:d.a.createElement(Ve,{data:_e}),name:"search-debug-modal"}))});Ee.meta={name:"createThunk",key:"createThunkopenSearchDebugModal",description:"Open search debug modal"},Ee.propTypes={data:S.default.any.isRequired};var Ae=Ee,Ge=e("oo6C"),Ze=e("blur");const ze=Object(E.c)("Opens an slash commands autocomplete feedback dialog",(Ne,De,_e)=>{let{query:Me,suggestionsFromComponent:xe}=_e;const Fe=De(),we=Object(se.a)({state:Fe});if(!xe){we.warn("No results found for slash command feedback dialog");return}const dt={search_session_id:Ne(Object(Ge.a)()),query:Me,suggestions:Object(Ze.a)(Fe,xe)};return Ne(Object(Ze.n)({type:"slash command menu",payload:dt}))});ze.meta={name:"createThunk",key:"createThunkopenSlashCommandsFeedbackDialog",description:"Opens an slash commands autocomplete feedback dialog"};var lt=ze,tt=e("GYiN"),Ot=e("oEDn"),Ct=e("kyoJ"),St=e("RVJP");const zt=new R.b("tabcomplete"),kt=o(Ne=>{let{children:De,heading:_e,showOfflineHelp:Me,showKeyboardHelp:xe,showSearchHelp:Fe,showCommandsSearchHelp:we,showCanvasHelp:dt,results:Ut,dispatch:Lt,type:xt,className:jt,matchText:tn,experimentCanvasAutocompleteNotInCanvasGroupOn:fn}=Ne;const Gn=Object(v.useRef)(),Wn=Object(Ye.c)(Ga=>Object(St.d)(Ga,"a11y_autocomplete"))==="on";Object(tt.a)("mousedown",Ga=>{var Es;!(Gn==null||(Es=Gn.current)===null||Es===void 0)&&Es.contains(Ga.target)&&(Ga.preventDefault(),Ga.stopPropagation())},Gn==null?void 0:Gn.current);const ma=Object(Pe.default)("c-texty_autocomplete",jt,{[`c-texty_autocomplete--${xt}`]:!!xt}),Da=Object(v.useCallback)(()=>Lt(lt({query:tn||"",suggestionsFromComponent:Ut})),[Lt,tn,Ut]);let Pa;return Me?Pa=d.a.createElement("span",{className:"c-texty_autocomplete__help_item"},zt.rt("{iconOffline} <strong>No connection.</strong>\xA0Some results may not be available.",{iconOffline:d.a.createElement(Ot.a,{type:"cloud-offline",size:"inherit"}),fallbackHash:"bc414f3b178430ffd4899706d540e173d82edf83"})):xe?Pa=d.a.createElement(d.a.Fragment,null,d.a.createElement("span",{className:"c-texty_autocomplete__help_item c-texty_autocomplete__help_item--narrow"},zt.rt("{arrowUp} {arrowDown} to navigate",{arrowDown:d.a.createElement(Ot.a,{type:"arrow-down-medium",inline:!0}),arrowUp:d.a.createElement(Ot.a,{type:"arrow-up-medium",inline:!0})})),d.a.createElement("span",{className:"c-texty_autocomplete__help_item"},zt.rt("{symbol} to select",{symbol:d.a.createElement(Ot.a,{type:"enter",size:"inherit",inline:!0})})),d.a.createElement("span",{className:"c-texty_autocomplete__help_item"},zt.rt("<strong>esc</strong> to dismiss"))):Fe?Pa=d.a.createElement("span",{className:"c-texty_autocomplete__help_item"},`${zt.t("Something off?",{ns:"search"})} `,d.a.createElement(le.a,{onClick:()=>Lt(Ae({data:Ut}))},zt.t("Give feedback",{ns:"search"}))):we?Pa=d.a.createElement("span",{className:"c-texty_autocomplete__help_item","data-qa":"slash_command_autocomplete_menu_help"},`${zt.t("Something off?",{ns:"search"})} `,d.a.createElement(le.a,{onClick:Da},zt.t("Give feedback",{ns:"search"}))):fn&&dt&&(Pa=d.a.createElement("span",{className:"c-texty_autocomplete__help_item"},`${zt.t("Only members of the canvas will be notified",{ns:"search"})} `)),d.a.createElement("div",{ref:Gn,className:ma},_e,d.a.createElement("div",{className:"c-texty_autocomplete__body"},d.a.createElement("ul",{className:"c-texty_autocomplete__results",id:Ct.a,role:"listbox","aria-label":Wn?zt.t("Search suggestions"):void 0},De)),Pa&&d.a.createElement("div",{className:"c-texty_autocomplete__help"},Pa))},"TextyAutocompleteMenu");kt.displayName="TextyAutocompleteMenu";const on=o((Ne,De)=>{let{type:_e}=De;return{showKeyboardHelp:!!Object(x.t)(Ne,"show_autocomplete_help")&&_e!=="terms",showOfflineHelp:!Object($e.d)(Ne),showSearchHelp:!!Object(de.i)(Ne,"feature_tinyspeck")&&_e!=="commands"&&_e!=="terms",showCommandsSearchHelp:!!Object(de.i)(Ne,"feature_tinyspeck")&&_e==="commands",experimentCanvasAutocompleteNotInCanvasGroupOn:Object(St.d)(Ne,"canvas_autocomplete_not_in_canvas")==="on"}},"texty_autocomplete_menu_mapStateToProps");var _t=Object(m.a)(on)(kt);let be=o(class extends v.PureComponent{componentDidMount(){var De;!((De=this.props)===null||De===void 0)&&De.onMount&&this.props.onMount()}componentDidUpdate(){var De;const{isSelected:_e}=this.props;_e&&this.resultRef.current&&this.resultRef.current.scrollIntoView({block:"nearest"}),!((De=this.props)===null||De===void 0)&&De.onUpdate&&this.props.onUpdate()}handleClick(){const{index:De,onSelect:_e}=this.props;_e&&_e(De)}handleMouseDown(De){De.preventDefault()}handleMouseMove(){const{index:De,isSelected:_e,onSelectedIndexChange:Me,result:xe}=this.props;_e||Me&&Me(De,xe)}render(){const{children:De,index:_e,isSelected:Me,result:xe,size:Fe,isDisabled:we}=this.props,dt=Object(Pe.default)("tab_complete_ui_item","c-texty_autocomplete__result",`c-texty_autocomplete__result--${Fe}`,{"c-texty_autocomplete__result--selected":Me,"c-texty_autocomplete__result--broadcasted":xe.is_broadcast_keyword,"c-texty_autocomplete__result--disabled":we});return d.a.createElement("li",{role:"option","aria-selected":Me,className:dt,"data-qa":"tab_complete_ui_item",id:Object(Ct.b)(_e),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,ref:this.resultRef,tabIndex:-1},De)}constructor(De){super(De),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleClick=this.handleClick.bind(this),this.resultRef=Object(v.createRef)()}},"TextyAutocompleteResult");be.displayName="TextyAutocompleteResult",be.defaultProps={size:"small"};var ot=be,rt=e("PIYn"),Jt=e("nM8Q"),Qt=e("Trx9"),qt=e("ktUG"),$t=e("mQiU");const hn=o(Ne=>{let{results:De=ce.a,selectedIndex:_e=0,onSelectedIndexChange:Me,onSelect:xe,matchText:Fe}=Ne;const{isChildWindow:we}=Object(v.useContext)($t.a),dt=De.map((Lt,xt)=>{let{item:jt}=Lt;if(!jt)return null;let tn=jt;jt.type==="shortcut"&&(tn=Object(Jt.a)(jt));const fn=`${tn.id}-${tn.applicableTeamId}`;return d.a.createElement(ot,{key:fn,index:xt,isSelected:xt===_e,onSelectedIndexChange:Me,onSelect:xe,result:jt},d.a.createElement(rt.a,{className:"p-slash_commands_autocomplete_menu__item",command:tn,isActive:xt===_e}))}),Ut=Object(Pe.default)("p-slash_commands_autocomplete_menu",{"p-slash_commands_autocomplete_menu__child_window":we});return d.a.createElement(Qt.a,{eventId:qt.EventId.SLASH_COMMANDS_AUTOCOMPLETE,uiComponentName:qt.UiComponentName.SLASH_COMMANDS_AUTOCOMPLETE_MENU,clogImpression:!0},d.a.createElement(_t,{type:"commands",className:Ut,matchText:Fe,results:De},dt))},"SlashCommandsAutocompleteMenu");hn.displayName="SlashCommandsAutocompleteMenu";var gn=d.a.memo(hn),Cn=e("n3y5"),Mn=e("ZobM");const kn=o(Ne=>{let{icon:De}=Ne;return De?d.a.createElement(Mn.a,{name:De,size:"20"}):d.a.createElement(Cn.a,{ariaHidden:!0,image:"/img/slack_logo_mark.svg",size:20})},"QuipShortcutsAutocompleteMenuEntityIcon");kn.displayName="QuipShortcutsAutocompleteMenuEntityIcon";var na=kn;const oa=new R.b("slash-commands");function ba(Ne){let{command:De,isActive:_e,className:Me}=Ne;const{icon:xe}=De,Fe=De.name,we=Object(v.useMemo)(()=>Object(Pe.default)("p-quip_shortcuts_autocomplete_menu_entity__container",Me,{"p-quip_shortcuts_autocomplete_menu_entity__container--selected":_e}),[Me,_e]),dt=Object(v.useMemo)(()=>{var Lt;return!((Lt=De.desc)===null||Lt===void 0)&&Lt.length?De.desc:""},[De]),Ut=Object(v.useMemo)(()=>`${Fe} ${oa.t("Command")}, ${dt}`,[Fe,dt]);return d.a.createElement("div",{className:we},d.a.createElement("div",{className:"p-quip_shortcuts_autocomplete_menu_entity__icon"},d.a.createElement(na,{icon:xe})),d.a.createElement("div",{"aria-label":Ut,className:"p-quip_shortcuts_autocomplete_menu_entity__name"},Fe))}o(ba,"QuipShortcutsAutocompleteMenuEntity"),ba.displayName="QuipShortcutsAutocompleteMenuEntity";var ga=ba,ya=e("ErGN");const Zn=o(Ne=>{const{results:De=ce.a,selectedIndex:_e=0,onSelectedIndexChange:Me,onSelect:xe,matchText:Fe,categoryDetails:we}=Ne,dt=o((jt,tn)=>jt.map((fn,Gn)=>{let{item:Wn}=fn;if(!Wn)return null;const ma=`${Wn.id}-${Wn.name}`;return d.a.createElement(ot,{key:ma,index:Gn+tn,isSelected:Gn+tn===_e,onSelectedIndexChange:Me,onSelect:xe,result:Wn},d.a.createElement(ga,{command:Wn,isActive:Gn+tn===_e}))}),"processResults"),Ut=Object(v.useMemo)(()=>({[ya.a.OBJECT]:De.filter(jt=>jt.item.category===ya.a.OBJECT),[ya.a.LAYOUT]:De.filter(jt=>jt.item.category===ya.a.LAYOUT),[ya.a.FORMATTING]:De.filter(jt=>jt.item.category===ya.a.FORMATTING)}),[De]),Lt=o(()=>{const jt=[];let tn=0;const fn=o((Gn,Wn)=>{if(Gn.length>0){jt.length>0&&jt.push(d.a.createElement("div",{key:`${Wn}-divider`,className:"p-quip_shortcuts_autocomplete_menu_category__divider"})),jt.push(d.a.createElement("div",{key:`${Wn}-label`,className:"p-quip_shortcuts_autocomplete_menu_category__label","aria-label":we[Wn]},we[Wn]));const ma=dt(Gn,tn);tn+=ma.length,jt.push(...ma)}},"addResultsToReturnResults");return fn.displayName="addResultsToReturnResults",fn(Ut[ya.a.OBJECT],ya.a.OBJECT),fn(Ut[ya.a.LAYOUT],ya.a.LAYOUT),fn(Ut[ya.a.FORMATTING],ya.a.FORMATTING),jt},"autoCompleteResultComponents");Lt.displayName="autoCompleteResultComponents";const xt=Object(Pe.default)("p-quip_shortcuts_autocomplete_menu");return d.a.createElement(_t,{type:"shortcuts",className:xt,matchText:Fe,results:De},Lt())},"QuipShortcutsAutocompleteMenu");Zn.displayName="QuipShortcutsAutocompleteMenu";const Xn=o(Ne=>({categoryDetails:Object(ya.b)(Ne)}),"quip_shortcuts_autocomplete_menu_mapStateToProps");var Ht=Object(m.a)(Xn)(Zn),ut=e("k7bp"),gt=e("haNl"),Wt=e("RB1+"),Mt=e("szr9"),Xe=e("d+k3"),bt=e("6dQg"),Nt=e("P1FA"),Pt=e("P9LH"),nn=e("wsJ+"),rn=e("I8Au");const mn=/(^|\n|.)?((?:\+|\uFF0B)(?![0-9\s:])[^\n+\uFF0B]*)$/i,vn=o(function(Ne){let{teamId:De,usePlainTextMode:_e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ne||!Ne.item)return null;Object(B.a)().track(qt.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"link"}}});const{item:Me}=Ne;let xe,Fe;return Object(bt.a)(Me.id||"")?(xe=Object(Pt.E)(Me,De||""),Fe=Object(Pt.F)(Me)):(xe=Object(q.f)(Me),Fe=Object(q.e)(Me)),Fe=(Fe||"").replace(Object(nn.a)(),"").replace(/\s+/g," ").trim(),Fe=Fe||xe,_e?{text:`+${xe}`}:{text:`+${Fe}`,format:{link:xe}}},"getInsertData"),Xt=o(Ne=>{const De=Object(Nt.a)(Ne).match(mn)||[],[,_e,Me]=De;if(!Me||De.index===0&&!_e&&Me.length===1||Object(rn.a)(_e))return null;const xe=De.index+Object(c.a)(_e),Fe=Ne.slice(xe),we=4;return Fe.split(" ").length-1>we?null:{match:Fe,index:xe}},"getMatch"),ht=o(Ne=>{let{clogger:De,query:_e,result:Me,results:xe,teamId:Fe,useSearcherSessions:we}=Ne;const dt={query:_e,results:xe,selectedItemId:Me.item.id,source:"texty-autocomplete"};we?Object(I.a)({teamId:Fe,key:"texty-autocomplete"}).clogSearcherAccept({clogger:De,data:dt}):Object(C.c)({clogger:De,data:dt})},"recordSelection");var It=e("lhZz"),Ft=e("beVI"),Bt=e("hwwf");const en=/(^|\n|.)?((?:\+|\uFF0B)(?![0-9\s:])[^\n+\uFF0B]*)$/i,On=o(function(Ne){let{teamId:De,usePlainTextMode:_e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ne||!Ne.item)return null;Object(B.a)().track(qt.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"list"}}});let Me,xe;if(Object(Bt.v)(Ne.item.id)){const Fe=Ne.item;Me=`${Fe.listTitle} > ${Fe.name}`;const we=Object(It.getStateByTeamId)(De);xe=`${Object(Ft.s)(we,De).url}lists/${De}/${Fe.listId}?record_id=${Fe.id}`}else{const Fe=Ne.item;Me=Fe.title;const we=Object(It.getStateByTeamId)(De);xe=`${Object(Ft.s)(we,De).url}lists/${De}/${Fe.id}`}return Me=(Me||"").replace(Object(nn.a)(),"").replace(/\s+/g," ").trim(),Me=Me||xe,_e?{text:`+${xe}`}:{text:`+${Me}`,format:{link:xe,overrideLink:!0}}},"list_completer_getInsertData"),yn=o(Ne=>{const De=Object(Nt.a)(Ne).match(en)||[],[,_e,Me]=De;if(!Me||Object(rn.a)(_e))return null;const xe=De.index+Object(c.a)(_e),Fe=Ne.slice(xe),we=8;return Fe.split(" ").length-1>we?null:{match:Fe,index:xe}},"list_completer_getMatch"),Dn=o(Ne=>{let{clogger:De,query:_e,result:Me,results:xe,teamId:Fe,useSearcherSessions:we}=Ne;const dt={query:_e,results:xe,selectedItemId:Me.item.id,source:"texty-autocomplete"};we?Object(I.a)({teamId:Fe,key:"texty-autocomplete"}).clogSearcherAccept({clogger:De,data:dt}):Object(C.c)({clogger:De,data:dt})},"list_completer_recordSelection");var En=e("4V1c"),Vt=e("mM05"),an=e.n(Vt),sn=e("KPXh"),bn=e("Yu+/"),jn=e("Awek"),Tn=e("tfz1"),An=e("IOc2");const Vn=/^([/／][^~`!@#\uFF03$%^&*()+=[\]{}\\|;:'",.<>/?\n]*)$/i,un=o(Ne=>{var De,_e,Me,xe;if(!Ne||!Ne.item)return null;Object(B.a)().track("PFP_ACTION",{contexts:{growth:{action:"autocomplete_select",trigger:"slash_command"}}});const{item:Fe}=Ne;return["/","\uFF0F"].indexOf(((_e=(De=Fe.id)===null||De===void 0?void 0:De.trim())===null||_e===void 0?void 0:_e[0])||"")===-1&&["/","\uFF0F"].indexOf(((xe=(Me=Fe.name)===null||Me===void 0?void 0:Me.trim())===null||xe===void 0?void 0:xe[0])||"")===-1?{contents:[]}:{text:Object(sn.g)(Fe)}},"command_completer_getInsertData"),Kn=o(Ne=>{var De,_e,Me,xe;return!!(Object(Tn.a)(Ne)||Object(jn.a)(Ne)||Object(bn.a)(Ne)||Object(An.a)(Ne)||!(Ne==null||(De=Ne.attributes)===null||De===void 0)&&De.strike||!(Ne==null||(_e=Ne.attributes)===null||_e===void 0)&&_e.bold||!(Ne==null||(Me=Ne.attributes)===null||Me===void 0)&&Me.italic||!(Ne==null||(xe=Ne.attributes)===null||xe===void 0)&&xe.link)},"hasFormatsOrStyleAttr"),$n=o(function(Ne){let{startIndex:De,formatOp:_e,inputProxy:Me}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{startIndex:0,formatOp:{},inputProxy:{}};if(De!==0||!Vn.test(Ne))return null;const Fe=new an.a(Me==null?void 0:Me.getContents().contents),we=Fe==null?void 0:Fe.ops;return!Object(p.a)(we)&&we.some(Ut=>Kn(Ut))||Kn(_e)?null:(Ne.length===1&&Object(B.a)().track("PFP_ACTION",{contexts:{growth:{action:"autocomplete_start",trigger:"slash_command"}}}),{match:Ne,index:0})},"command_completer_getMatch"),da=o(Ne=>{var De;const _e=Ne&&((De=Ne.item)===null||De===void 0?void 0:De.id);if(!(_e!=null&&_e.startsWith("/"))&&!(_e!=null&&_e.startsWith("Ft")))return _e},"getResultFrecencyId");var fa=e("tcou");const aa=/(^|\n|.)?((?:\/|\uFF0F)([^\n/\uFF0F]*))$/i,ha=o(Ne=>Ne!=null&&Ne.item?(Object(B.a)().track(qt.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"quip_slash_command"}}}),{id:Ne.item.id,isCanvasShortcut:!0}):null,"quip_shortcut_completer_getInsertData"),Ia=o(Ne=>{const De=Ne.match(aa)||[],[,_e,Me]=De;if(!Me||Object(rn.a)(_e))return null;const xe=Object(fa.a)(Ne);if(xe&&xe.length===1&&xe[0].text===Ne)return null;const Fe=(De.index||0)+Object(c.a)(_e);return{match:Ne.slice(Fe),index:Fe}},"quip_shortcut_completer_getMatch"),Ba=o(Ne=>Ne&&Ne.item.id,"quip_shortcut_completer_getResultFrecencyId"),ca=o(Ne=>{let{clogger:De,query:_e,result:Me,results:xe,teamId:Fe,useSearcherSessions:we}=Ne;const dt={query:_e,results:xe,selectedItemId:Me.item.id,source:"texty-autocomplete"};we?Object(I.a)({teamId:Fe,key:"texty-autocomplete"}).clogSearcherAccept({clogger:De,data:dt}):Object(C.c)({clogger:De,data:dt})},"quip_shortcut_completer_recordSelection"),Aa=o(Ne=>{Ne.track(qt.EventId.QUIP_DOC_EMBED_EVENT,{contexts:{family:"CANVAS",ui_context:{action:qt.UiAction.OPEN,ui_component:qt.UiComponentName.CANVAS_SHORTCUT_AUTOCOMPLETE_MENU}}})},"recordImpressionOnOpen");var Ma=e("zmn3"),ja=e("sGXp"),Fa=e("G4FP"),ta=e("wyn0");const Pn=o(Ne=>{let{results:De,selectedIndex:_e,onSelect:Me,onSelectedIndexChange:xe,onFirstResultMount:Fe,onFirstResultUpdate:we,className:dt}=Ne;const Ut=De==null?void 0:De.map(xt=>xt.item.name),Lt=Ut?new ta.a(Ut):void 0;return d.a.createElement(_t,{type:"channels",className:dt,results:De},Object(Ma.a)(De,(xt,jt)=>{const tn=xt.item,fn=jt===_e,Gn=xt.bestPreviousNameMatch,Wn=jt===0,ma=!!(Lt!=null&&Lt.hasDuplicates(tn.name));return d.a.createElement(ot,{key:tn.id,index:jt,isSelected:fn,onSelectedIndexChange:xe,onSelect:Me,onMount:Wn?Fe:void 0,onUpdate:Wn?we:void 0,result:tn},d.a.createElement(Fa.a,{channelId:tn.id,displayFormerNames:Gn?ja.e.bestOnly:ja.e.false,isActive:fn,bestFormerName:Gn,showTeamForLocalChannel:ma}))}))},"TextyAutocompleteChannels");Pn.displayName="TextyAutocompleteChannels";var dn=Pn,Rt=e("OZf9"),vt=e("BXkk"),At=e("/qcS");const Gt=o(Ne=>{let{text:De,indexes:_e,renderHighlight:Me}=Ne;if(Object(p.a)(De))return null;const xe=De.split("");return Object(Rt.a)(_e,Fe=>{const we=Me(xe[Fe]);xe[Fe]=d.a.cloneElement(we,{key:`index-${Fe}`})}),xe},"highlightIndexes"),ln=o(Ne=>{let{onSelect:De=u.a,onSelectedIndexChange:_e=u.a,onFirstResultMount:Me=u.a,onFirstResultUpdate:xe=u.a,results:Fe,selectedIndex:we=0,userSkinTone:dt="",className:Ut}=Ne;return d.a.createElement(_t,{type:"emoji",className:Ut,results:Fe},Object(Ma.a)(Fe,(Lt,xt)=>{const jt=xt===we,tn=xt===0,fn=Gt({text:Lt.emojiBestNameMatch||"",indexes:Lt.emojiMatchIndices,renderHighlight:Wn=>d.a.createElement("span",{className:"c-texty_autocomplete__result_highlight"},Wn)}),Gn=Object(vt.a)(Lt,dt);return d.a.createElement(ot,{key:Lt.item.name,index:xt,isSelected:jt,onSelectedIndexChange:_e,onSelect:De,onMount:tn?Me:void 0,onUpdate:tn?xe:void 0,result:Lt},d.a.createElement(At.b,{className:"c-texty_autocomplete__result_emoji",text:Gn||void 0,forceDisplay:!0}),d.a.createElement("span",{className:"c-texty_autocomplete__result_name overflow_ellipsis"},":",fn,":"))}))},"TextyAutocompleteEmoji"),Dt=o(Ne=>({userSkinTone:Object(x.t)(Ne,"preferred_skin_tone")||""}),"texty_autocomplete_emoji_mapStateToProps");var He=Object(m.a)(Dt)(ln),Le=e("9FRF"),Qe=e("4HNC"),Ce=e("ykb+");function ye(){return ye=Object.assign||function(Ne){for(var De=1;De<arguments.length;De++){var _e=arguments[De];for(var Me in _e)Object.prototype.hasOwnProperty.call(_e,Me)&&(Ne[Me]=_e[Me])}return Ne},ye.apply(this,arguments)}o(ye,"_extends");function ie(Ne){return o(class extends v.PureComponent{componentDidMount(){(Object(Ce.b)()||Object(Ce.d)())&&Object(se.b)().warn(`\u{1F6A8}\u26A0\uFE0F\u{1F6A8} WIP WARNING \u{1F6A8}\u26A0\uFE0F\u{1F6A8}
"${Ne.displayName}" is a work in progress and should not be used in production!`)}render(){return d.a.createElement(Ne,ye({},this.props))}},"WIPWarningWrapper")}o(ie,"withWIPWarning");var Oe=e("CD4m"),We=e("AwEi"),ke=e("QLhP"),nt=e("ny0b"),st=e("DR7d"),pt=o((Ne,De,_e)=>{if(De.icons){const we=Object(st.a)(De.icons,[72,48,32]);return De.icons[`image_${we}`]}const Me=De.botId&&Object(ke.b)(Ne,De.botId);if(Me){var xe,Fe;return(Fe=Object(nt.a)({size:_e,memberId:De.botUserId,isBot:!0,botImages:Me==null?void 0:Me.icons,emoji:Me==null||(xe=Me.icons)===null||xe===void 0?void 0:xe.emoji}))===null||Fe===void 0?void 0:Fe.imageUrl}return null},"getLinkIcon");function Et(){return Et=Object.assign||function(Ne){for(var De=1;De<arguments.length;De++){var _e=arguments[De];for(var Me in _e)Object.prototype.hasOwnProperty.call(_e,Me)&&(Ne[Me]=_e[Me])}return Ne},Et.apply(this,arguments)}o(Et,"medium_link_entity_extends");const it={className:S.default.string,link:S.default.object,isDisabled:S.default.bool,invert:S.default.bool},at={className:void 0,link:void 0,invert:!1,isDisabled:!1};function ft(Ne){let{className:De,link:_e,invert:Me,isDisabled:xe}=Ne;const Fe=Object(Ye.c)(jt=>pt(jt,_e,ja.a.medium)),we=Object(v.useCallback)(jt=>{let{className:tn,...fn}=jt;return Fe?d.a.createElement(Cn.a,Et({},fn,{classes:Object(Pe.default)(tn,"c-link_entity__img_icon"),"data-qa":"link-avatar",image:Fe,size:ja.a.medium,ariaHidden:!0})):d.a.createElement("div",{className:Object(Pe.default)(tn,"c-link_entity__medium_fallback_icon")},d.a.createElement(Ot.a,Et({},fn,{"data-qa":"link-avatar",type:"globe",size:"inherit",ariaHidden:!0})))},[Fe]);if(!_e)return null;const dt=Object(q.f)(_e),Ut=Object(q.c)(_e),Lt=Object(q.j)(_e);let xt=xe?ja.d.dim:null;return Me&&(xt=ja.d.highlightDark),d.a.createElement("div",null,d.a.createElement(Oe.d,{"data-qa":"link-entity",avatar:we,className:De,size:"medium",style:xt,text:d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"c-link_entity__title","data-qa":"link_title"},Lt?d.a.createElement(We.a,{text:Ut,tsfMode:"NOMRKDWN",noJumbomoji:!0,noLinking:!0,customLineEnding:d.a.createElement("span",null)}):Ut),d.a.createElement("div",{className:"c-link_entity__url","data-qa":"link_url"},dt)),isDisabled:xe}))}o(ft,"MediumLinkEntity"),ft.displayName="MediumLinkEntity",ft.defaultProps=at,ft.propTypes=it;var yt=ie(ft);const Tt={className:S.default.string,link:S.default.object.isRequired,isActive:S.default.bool,isDisabled:S.default.bool,secondaryContent:S.default.node,"data-qa":S.default.string},Zt={className:void 0,isActive:!1,isDisabled:!1,secondaryContent:void 0,"data-qa":void 0};function In(Ne){let{className:De,link:_e,isActive:Me,isDisabled:xe,secondaryContent:Fe,"data-qa":we}=Ne,dt;return Me?xe?dt=ja.d.highlightDim:dt=ja.d.highlightDark:xe&&(dt=ja.d.dim),d.a.createElement(Qe.a,{className:De,style:dt,primaryContent:d.a.createElement(yt,{link:_e,isDisabled:xe,invert:dt===ja.d.highlightDark}),secondaryContent:Fe,"data-qa":we})}o(In,"MediumLinkListEntity"),In.displayName="MediumLinkListEntity",In.propTypes=Tt,In.defaultProps=Zt;var _n=ie(In),Fn=o(Ne=>{let{results:De,selectedIndex:_e,onSelect:Me,onSelectedIndexChange:xe,className:Fe}=Ne;return d.a.createElement(_t,{type:"links",className:Fe,results:De},Object(Ma.a)(De,(we,dt)=>{const Ut=we.item,Lt=dt===_e;return d.a.createElement(ot,{key:Ut.id,index:dt,isSelected:Lt,onSelectedIndexChange:xe,onSelect:Me,result:Ut,size:"medium"},Object(bt.a)(Ut.id||"")?d.a.createElement(Le.a,{id:Ut.id||"",file:Ut,isActive:Lt,detailType:"owner"}):d.a.createElement(_n,{link:Ut,isActive:Lt}))}))},"TextyAutocompleteLinks");const Bn=o(Ne=>{let{results:De,selectedIndex:_e,onSelect:Me,onSelectedIndexChange:xe,className:Fe}=Ne;const we=Object(v.useCallback)(dt=>d.a.createElement("span",{className:"c-base_entity__avatar"},d.a.createElement(Ot.a,{type:dt})),[]);return d.a.createElement(_t,{type:"list",className:Fe,results:De},De==null?void 0:De.map((dt,Ut)=>{let Lt,xt,jt;Object(Bt.v)(dt.item.id)?(jt=dt.item,Lt=jt.name,xt="chevron-right"):(jt=dt.item,Lt=jt.title,xt="bullet-list");const tn=Ut===_e;let fn;return tn&&(fn=ja.d.highlightDark),d.a.createElement(ot,{key:jt.id,index:Ut,isSelected:tn,onSelectedIndexChange:xe,onSelect:Me,result:jt,size:"small"},d.a.createElement(Qe.a,{style:fn,primaryContent:d.a.createElement(Oe.d,{avatar:()=>we(xt),size:"medium",text:d.a.createElement(Oe.c,null,d.a.createElement("strong",null,Lt))})}))}))},"TextyAutocompleteLists");Bn.displayName="TextyAutocompleteLists";var Un=Bn,zn=e("y6S6"),wn=e("hjzp"),Rn=e("rdha"),ra=e("sz8i"),wt=e("Dn5J");const pn=Object(Rn.c)((Ne,De)=>{let{fileId:_e,memberIds:Me}=De;if(!_e||Object(p.a)(Me))return;const xe=Object(wt.b)(Ne,_e);let Fe;if(!(xe&&(Fe=Object(Q.f)(Ne,_e),!Fe)))return Me.reduce((we,dt)=>{if(dt!==void 0){let Ut=!1;if(xe&&Fe){const Lt=Object(zn.c)(Ne,Fe,dt||"");Lt.isKnown&&Lt.isMember&&(Ut=!0)}else Ut=Object(ra.a)(Ne,{fileId:_e,userId:dt});we[dt]=Ut}return we},{})});var Hn=e("pZC0"),Jn=e("oNuo"),Ca=e("aBhT");function qn(){return qn=Object.assign||function(Ne){for(var De=1;De<arguments.length;De++){var _e=arguments[De];for(var Me in _e)Object.prototype.hasOwnProperty.call(_e,Me)&&(Ne[Me]=_e[Me])}return Ne},qn.apply(this,arguments)}o(qn,"small_broadcast_entity_extends");function ua(Ne){let{className:De,"data-qa":_e,"data-sk":Me="small_broadcast_entity",id:xe,isDeactivated:Fe=!1,name:we,description:dt}=Ne;const Ut=Object(v.useCallback)(jt=>d.a.createElement(Ot.a,qn({},jt,{type:"broadcast",size:"inherit"})),[]),Lt=Object(Jn.a)(xe);if(!Lt)return null;const xt=Fe?ja.d.dim:void 0;return d.a.createElement(Oe.d,{avatar:Ut,className:De,size:"small",style:xt,"data-id":xe,"data-qa":_e,"data-sk":Me,text:d.a.createElement(Ca.a,{lines:1},d.a.createElement("span",{className:"c-broadcast_entity__label"},"@",we||Lt.name),dt||Lt.description)})}o(ua,"SmallBroadcastEntity"),ua.displayName="SmallBroadcastEntity";var va=ua;function Ea(Ne,De,_e){if(Ne)return De||_e?ja.d.highlightDim:ja.d.highlightDark;if(De||_e)return ja.d.dim}o(Ea,"getBaseStyle");function _a(Ne){let{className:De,"data-qa":_e,id:Me,isActive:xe=!1,isDeactivated:Fe=!1,isDisabled:we=!1,secondaryContent:dt,name:Ut,description:Lt}=Ne;return d.a.createElement(Qe.a,{className:De,primaryContent:d.a.createElement(va,{"data-id":Me,"data-qa":_e,"data-sk":"small_broadcast_list_entity",id:Me,isDeactivated:Fe,name:Ut,description:Lt}),secondaryContent:dt,size:"small",style:Ea(xe,we,Fe)})}o(_a,"SmallBroadcastListEntity"),_a.displayName="SmallBroadcastListEntity";var Ra=_a,Va=e("Ueyg"),xn=e("ZIxB"),Ta=e("TVHa"),La=e("v5z3"),Ka=e("IaLB"),Ha=e("wf34"),xa=e("H2ap"),za=e("ZXTy"),us=e("WY9I"),ss=e("h6Kc"),Ja=e("ZTSm");const Na=new R.b("tabcomplete"),Qa=new R.b("team"),$a=o(Ne=>{let{result:De,channelMembershipByMemberId:_e,isCanvasOrCanvasComment:Me,canvasMembershipByMemberId:xe,experimentCanvasAutocompleteNotInCanvasGroupOn:Fe}=Ne,we=null;return De.is_profile_only_user?we=d.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Qa.t("Not on Slack",{fallbackHash:"43ff3112b0305aafb75b533ed3f9cf9be235ff4a"})):De.id&&!Me&&_e&&_e[De.id]===!1?we=d.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Na.t("Not in channel",{fallbackHashNs:"inline_member",fallbackHash:"50432998e71b6ac96852fa9a7a5a789e646818a0"})):Fe&&De.id&&Me&&xe&&xe[De.id]===!1&&(we=d.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Na.t("Not in canvas",{fallbackHashNs:"inline_member",fallbackHash:"50432998e71b6ac96852fa9a7a5a789e646818a0"}))),we},"ChannelContextLabel");$a.displayName="ChannelContextLabel";const bs=o(Ne=>{let{channelMembershipByMemberId:De,results:_e,selectedIndex:Me,onSelect:xe,onFirstResultMount:Fe,onFirstResultUpdate:we,onSelectedIndexChange:dt,className:Ut,threadTs:Lt,featureDisableBKInThread:xt,showProgressiveDisclosureAtMentionExplainer:jt,isProgressiveDisclosureEnabled:tn,handleProgressiveDisclosureOrganicUse:fn,experimentFilesInAtMenuGroupTreatment:Gn,broadcastKeywordsEnabled:Wn,getChannelPref:ma,channelId:Da,logger:Pa,isCanvas:Ga,isCanvasOrCanvasComment:Es,canvasMembershipByMemberId:zs,experimentCanvasAutocompleteNotInCanvasGroupOn:ms}=Ne;const Hs=Object(qe.useDispatch)();return Object(v.useEffect)(()=>(Hs(Object(ss.a)({buttonType:us.a.MENTION,expanded:!0})),()=>Hs(Object(ss.a)({buttonType:us.a.MENTION,expanded:!1}))),[Hs]),Object(v.useEffect)(()=>{tn&&fn({tip:La.f.AtMention})},[tn,fn]),Object(v.useEffect)(()=>{Da&&ma({channelId:Da,prefName:"enable_at_channel",reason:"texty-autocomplete-members"}).catch(Gs=>{Pa==null||Pa.error("Failed to get channel pref: enable_at_channel",Gs)})},[ma,Da,Pa]),d.a.createElement(_t,{type:"members",className:Ut,results:_e,showCanvasHelp:Es,heading:jt?d.a.createElement(Ha.a,{tip:La.f.AtMention}):null},Object(Ma.a)(_e,(Gs,ks)=>{const xs=ks===Me,Fs=ks===0,fs=Gs.item;let Ls=!1,Us;if(fs.is_broadcast_keyword){let Ms;xt&&Lt&&(Ms=d.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Na.t("Disabled in threads")),Ls=!0),Wn||(Ms=d.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Na.t("Disabled in this channel")),Ls=!0),Ga&&(Ms=d.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Na.t("Disabled in a canvas")),Ls=!0),Us=d.a.createElement(Ra,{id:fs.id||"",isActive:xs,isDisabled:Ls,secondaryContent:Ms,name:fs.name,description:fs.description})}else if(fs.is_usergroup){let Ms;Ga&&(Ms=d.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Na.t("Disabled in a canvas")),Ls=!0),Us=d.a.createElement(Va.a,{id:fs.id,isActive:xs,isDisabled:Ls,secondaryContent:Ms})}else if(Gn&&Object(bt.a)(fs.id||""))Us=d.a.createElement(Ta.a,{id:fs.id||"",file:fs,isActive:xs,detailType:"owner"});else{const Ms=d.a.createElement($a,{result:fs,channelMembershipByMemberId:De,isCanvasOrCanvasComment:!!Es,canvasMembershipByMemberId:zs,experimentCanvasAutocompleteNotInCanvasGroupOn:ms});Us=d.a.createElement(xn.a,{id:fs.id,isActive:xs,secondaryContent:Ms,showTooltip:!1})}return d.a.createElement(ot,{key:fs.id,index:ks,isSelected:xs,onSelectedIndexChange:dt,onSelect:xe,onMount:Fs?Fe:void 0,onUpdate:Fs?we:void 0,result:fs,isDisabled:Ls},Us)}))},"TextyAutocompleteMembers");bs.displayName="TextyAutocompleteMembers";const gs=o(Ne=>Ne&&Ne.filter(De=>De&&De.item&&!De.item.is_broadcast_keyword&&!De.item.is_usergroup).map(De=>De.item.id).filter(Ja.a),"getMemberIdsFromResults"),ys=(()=>{const Ne=Object(ue.a)(De=>De,2);return(De,_e,Me)=>{if(Object(p.a)(Me))return;const xe=Object(Q.d)(De,_e);if(Object(K.g)(xe))return;const Fe=Me.reduce((we,dt)=>{const Ut=Object(zn.c)(De,_e,dt||"");return Ut.isKnown&&(we[dt]=Ut.isMember),we},{});return Ne(Fe)}})(),ps=o((Ne,De)=>{let{channelId:_e,fileId:Me,results:xe}=De;const Fe=gs(xe),we=ys(Ne,_e,Fe),dt=Object(St.d)(Ne,"canvas_autocomplete_not_in_canvas")==="on";let Ut=!1,Lt;if(dt){const jt=!!_e&&!!Object(Hn.c)(Ne,_e);Ut=!!Me||jt,Lt=pn(Ne,{fileId:jt?Object(wn.b)(_e):Me,memberIds:Fe})}const xt=Object(de.i)(Ne,"feature_disable_bk_in_thread");return{channelMembershipByMemberId:we,featureDisableBKInThread:xt,experimentFilesInAtMenuGroupTreatment:Object(q.h)(Ne),showProgressiveDisclosureAtMentionExplainer:Object(Ka.qb)(Ne,{tip:La.f.AtMention}),isProgressiveDisclosureEnabled:Object(Ka.X)(Ne),broadcastKeywordsEnabled:Object(_.a)(Ne,_e),channelId:_e,isCanvasOrCanvasComment:Ut,logger:Object(se.a)({state:Ne}),canvasMembershipByMemberId:Lt,experimentCanvasAutocompleteNotInCanvasGroupOn:dt}},"texty_autocomplete_members_mapStateToProps"),Cs=o(Ne=>({handleProgressiveDisclosureOrganicUse:De=>Ne(Object(xa.a)(De)),getChannelPref:De=>Ne(Object(za.a)(De))}),"mapDispatchToProps");var os=Object(m.a)(ps,Cs)(bs);const Os=Object(E.c)("Find quip shortcut commands that match a search query",function(Ne,De){let{query:_e,useSearcherSessions:Me=!0,searcherKey:xe="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Fe=De(),we={entities:{shortcuts:{quipShortcutCommands:!0,isOpenedWithSlash:!0}},sort:{bypassSorting:!0},tiered:!0,fuzzyLimit:3,allowEmptyQuery:!0,returnMetadata:!0};return Me&&Object(M.c)(Fe)?Object(I.a)({teamId:Object(j.g)(Fe),key:xe}).search({query:_e,options:we}):Ne(Object(C.F)({query:_e,options:we}))});Os.meta={name:"createThunk",key:"createThunkautocompleteQuipShortcuts",description:"Find quip shortcut commands that match a search query"};const Xa="TABCOMPLETE",ts={position:"fixed"},Ya={top:0,right:0,bottom:0,left:0,height:0,width:0},ds={isOpen:!1,selectedIndex:0,results:void 0,matchIndex:0,matchText:void 0,menuPosition:void 0,searchInFlight:null,matchOptions:void 0,closedWithSelection:!1};let js=o(class extends v.PureComponent{componentDidMount(){window.addEventListener("resize",this.tabCompleteHideMenu),this.props.completeOnMembers&&this.props.ensureChannelMembershipKnownForFirstNMembers({channelId:this.props.channelId}),this.props.autocompleteConfig&&(this.props.autocompleteConfig.current=this.autocompleteConfig)}UNSAFE_componentWillReceiveProps(De){const{completeOnMembers:_e,completeOnChannels:Me,completeOnEmoji:xe,completeOnLinks:Fe,completeOnLists:we,completeOnCommands:dt,linkPickerEnabled:Ut,listsEnabled:Lt,listsTextyAutocompleteEnabled:xt,experimentCanvasShortcutCommandGroupOn:jt,disallowedResults:tn,teamId:fn}=this.props;(De.completeOnMembers!==_e||De.completeOnChannels!==Me||De.completeOnEmoji!==xe||De.completeOnLinks!==Fe||De.completeOnLists!==we||De.completeOnCommands!==dt||De.linkPickerEnabled!==Ut||De.listsEnabled!==Lt||De.disallowedResults!==tn||De.listsTextyAutocompleteEnabled!==xt||De.experimentCanvasShortcutCommandGroupOn!==jt||De.teamId!==fn)&&(this.completers=this.getCompleters(De))}componentDidUpdate(De){this.props.completeOnMembers&&this.props.channelId!==De.channelId&&this.props.ensureChannelMembershipKnownForFirstNMembers({channelId:this.props.channelId})}componentWillUnmount(){this.completers=[],window.removeEventListener("resize",this.tabCompleteHideMenu)}onClose(){const{teamId:De,useSearcherSessions:_e,completeOnCommands:Me}=this.props,{matchText:xe,closedWithSelection:Fe}=this.state;this.setState(()=>({isOpen:!1,menuPosition:void 0,selectedIndex:void 0,closedWithSelection:!1})),this.props.onClose&&this.props.onClose(),_e&&Object(I.a)({teamId:De,key:"texty-autocomplete"}).endSession(),!Fe&&Me&&(xe==="/"||xe==="\uFF0F")&&this.clearTextyInput()}onOpen(){(!this.state.isOpen||this.state.closedWithSelection)&&this.completer.recordImpressionOnOpen&&this.completer.recordImpressionOnOpen(this.props.clogger),this.setState(()=>({isOpen:!0,closedWithSelection:!1})),this.props.onOpen&&this.props.onOpen()}onArrowKey(De){const{isOpen:_e,selectedIndex:Me,results:xe}=this.state,Fe=Object(c.a)(xe),we=Fe-1;if(this.setState(()=>({searchInFlight:null})),!_e||!Fe||![re.r,re.c].includes(De))return;let dt;return De===re.c&&(dt=(Me||0)>=we?0:(Me||0)+1),De===re.r&&(dt=(Me||0)<=0?we:(Me||0)-1),this.setState(()=>({selectedIndex:dt}),this.tabCompleteAriaExpand),!Object(r.a)(dt)}onSelectedIndexChange(De){const{logger:_e}=this.props;if(!Object(r.a)(De)){_e.warn(Xa,`invalid index "${De}"`);return}this.state.isOpen&&De!==this.state.selectedIndex&&(this.setState(()=>({selectedIndex:De}),this.tabCompleteAriaExpand),_e.info(Xa,`set new index to ${De}`))}onSelect(De){this.setState(()=>({selectedIndex:De,closedWithSelection:!0}),this.tabCompletePerformSelection)}getCompleters(){let De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;const _e=[];return De.completeOnChannels&&_e.push({...Mt,completerEntity:"channel",menu:dn,search:De.autocompleteChannels}),De.completeOnEmoji&&_e.push({...Xe,completerEntity:"emoji",menu:He,search:De.autocompleteEmoji}),De.completeOnLists&&De.listsEnabled&&De.listsTextyAutocompleteEnabled&&_e.push({...t,menu:Un,search:De.autocompleteLists}),De.completeOnLinks&&De.linkPickerEnabled&&_e.push({...n,menu:Fn,search:De.autocompleteLinks}),De.completeOnCommands&&_e.push({...a,menu:gn,search:De.autocompleteCommandsSearcherFlat,onSelection:De.executeCommandAutocompleteItem}),De.isCanvas&&De.experimentCanvasShortcutCommandGroupOn&&_e.push({...i,completerEntity:"quip-shortcut",menu:Ht,search:De.autocompleteQuipShortcuts}),De.completeOnMembers&&_e.push({...En,completerEntity:"member",menu:os,search:De.autocompleteMembers}),_e}getMatch(De,_e,Me,xe){const{teamId:Fe,locale:we,viewContext:dt}=this.props,Ut=Object(Wt.a)({viewContext:dt,channelId:this.props.channelId,threadTs:this.props.threadTs});for(let Lt=0;Lt<this.completers.length;Lt++){const xt=this.completers[Lt],jt=xt.getMatch(De,{isUserSolicited:_e,locale:we,startIndex:Me,formatOp:xe,experimentSlashCommands20StableGroupOn:!0,inputProxy:Ut});if(jt)return jt!=null&&jt.match&&Object(gt.b)(jt==null?void 0:jt.match,(xt==null?void 0:xt.completerEntity)||"unknown",Fe||""),this.completer===xt?(this.setState(()=>({matchIndex:Me+jt.index,matchText:jt.match,matchOptions:jt.options})),this.forceUpdate()):(this.completer=xt,this.setState(()=>({...ds,matchIndex:Me+jt.index,matchText:jt.match,matchOptions:jt.options}))),jt}return null}clearTextyInput(){const{viewContext:De}=this.props,_e=Object(Wt.a)({viewContext:De,channelId:this.props.channelId,threadTs:this.props.threadTs});_e&&_e.clear()}getAutocompleteConfig(){const{forceChannelTaggingDisabled:De,experimentFilesInAtMenuGroupTreatment:_e}=this.props;return{getMatch:this.getMatch,search:this.search,onSelect:this.handleSelect,getInsertDataFromActiveResult:()=>{const Me=this.state.results&&!Object(f.a)(this.state.selectedIndex)?this.state.results[this.state.selectedIndex]:void 0;return this.completer.getInsertData(Me,{shouldRenderBroadcastsAsText:this.props.featureDisableBKInThread&&!!this.props.threadTs||!this.props.broadcastKeywordsEnabled,shouldRenderEmojiAsText:this.props.isEmojiDisplayedAsText,highlightWords:this.props.highlightWords,userSkinTone:this.props.userSkinTone,locale:this.props.locale,usePlainTextMode:this.props.usePlainTextMode,useChannelTagging:!De,teamId:this.props.teamId,experimentFilesInAtMenuGroupTreatment:_e})},shouldDisplayResults:Me=>{var xe,Fe;return!(this.state.results&&this.state.results.length===1&&Me||this.props.completeOnCommands&&(!((xe=this.state.matchText)===null||xe===void 0)&&xe.includes(" "))&&(!((Fe=this.state.results)===null||Fe===void 0)&&Fe.some(we=>{var dt;return we.isExactMatch&&(we==null||(dt=we.item)===null||dt===void 0?void 0:dt.isSlashCommand)})))},isOpen:()=>this.state.isOpen,getMatchText:()=>this.state.matchText,getMatchIndex:()=>this.state.matchIndex,getMatchResults:()=>this.state.results,setSearchInFlight:Me=>{this.setState(()=>({searchInFlight:Me}))},getSearchInFlight:()=>this.state.searchInFlight,getSelectedIndex:()=>this.state.selectedIndex,clearMatchState:()=>{this.setState(()=>({matchText:void 0,matchIndex:void 0,results:void 0}))},onResultsReceived:Me=>{this.setState(()=>({results:Me}))},shouldCompleteOnTab:()=>this.props.shouldCompleteOnTab,onRequestOpen:this.onOpen,onRequestClose:this.onClose,onArrowKey:this.onArrowKey,positionMenu:this.positionMenu,onInit:Me=>{let{hideMenu:xe,ariaExpand:Fe,performSelection:we}=Me;this.tabCompleteHideMenu=xe,this.tabCompleteAriaExpand=Fe,this.tabCompletePerformSelection=we}}}handleSelect(){let{fromKeyboard:De=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{setUserHasSeenHelp:_e,showAutocompleteHelpPref:Me,clogger:xe,teamId:Fe,useSearcherSessions:we,viewContext:dt,channelId:Ut,threadTs:Lt}=this.props,{results:xt,matchText:jt,selectedIndex:tn}=this.state,fn=xt&&!Object(f.a)(tn)?xt[tn]:void 0;if(this.completer.getResultFrecencyId){const ma=this.completer.getResultFrecencyId(fn);ma&&this.props.recordFrecencyEvent({id:ma,text:jt})}if(De&&Me&&_e(),fn){var Gn,Wn;(Gn=this.completer)===null||Gn===void 0||(Wn=Gn.onSelection)===null||Wn===void 0||Wn.call(Gn,{activeResult:fn,channelId:Ut,threadTs:Lt,viewContext:dt,selectedIndex:tn})}this.completer.recordSelection&&this.completer.recordSelection({query:jt,result:fn,results:xt,clogger:xe,teamId:Fe,useSearcherSessions:we})}positionMenu(De){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{top:0,right:0,bottom:0,left:0,height:0,width:0};const{menuPosition:Me}=this.state;if(this.completer.anchorToContainer===!0){if(Object(l.a)(_e,Me))return;this.setState(()=>({menuPosition:_e}));return}Object(p.a)(De)||Object(l.a)(De,Me)||this.setState(()=>({menuPosition:De}))}processResults(De,_e,Me){const{logger:xe,clogger:Fe,disallowedResults:we}=this.props,{matchOptions:dt}=this.state;if(De!==this.state.searchInFlight){Object(gt.a)(De),xe.info(Xa,`ignoring stale search for ${De.length} char query`);return}Object(p.a)(_e)&&Object(gt.a)(De);let Ut;we?Ut=_e.filter(Lt=>!Lt.id||!we.has(Lt.id)):Ut=_e,dt!=null&&dt.minScore&&(Ut=Ut.filter(Lt=>(Lt==null?void 0:Lt.modelScore)>=dt.minScore)),this.setState(()=>({results:Ut})),this.completer.recordImpression&&this.completer.recordImpression({clogger:Fe,query:De,results:Ut}),Me(Ut,De)}search(De,_e){const{channelId:Me,threadTs:xe,includeAllBroadcastKeywords:Fe,featureDisableBKInThread:we,logger:dt,isCanvas:Ut}=this.props,{matchOptions:Lt}=this.state;this.setState(()=>({selectedIndex:0})),this.completer.search({query:De,channelId:Me,isThread:!!xe,enableBroadcastKeywords:we||!xe,includeAllBroadcastKeywords:Fe,enableFiles:!Ut,enableUserGroups:!Ut,...Lt}).then(xt=>{dt.info(Xa,`end search with ${De.length} char query`),Object(p.a)(xt)&&Object(gt.a)(De),this.processResults(De,xt,_e),xt&&xt.promise&&xt.promise.then(jt=>{this.processResults(De,jt,_e)}).catch(this.tabCompleteHideMenu)}).catch(this.tabCompleteHideMenu)}renderMenu(){var De;const{channelId:_e,className:Me,threadTs:xe,isCanvas:Fe,fileId:we}=this.props,{selectedIndex:dt,matchText:Ut,results:Lt}=this.state;if(!this.completer)return null;let xt;return((De=Object(h.a)(Lt))===null||De===void 0?void 0:De.query)===Object(oe.a)(Ut||"")&&(xt=this.getMaybeStopAutocompleteMatchRenderTrace(Ut)),d.a.createElement(this.completer.menu,{channelId:_e,threadTs:xe,selectedIndex:dt,results:Lt,onSelectedIndexChange:this.onSelectedIndexChange,onSelect:this.onSelect,onFirstResultMount:xt,onFirstResultUpdate:xt,className:Me,isCanvas:Fe,matchText:Ut,fileId:we})}render(){var De,_e;const{renderInput:Me,position:xe,fixedPosition:Fe,zIndex:we,shouldCloseOnOverlayMouseDown:dt}=this.props,{isOpen:Ut,menuPosition:Lt}=this.state,xt=((De=this)===null||De===void 0||(_e=De.completer)===null||_e===void 0?void 0:_e.anchorToContainer)===!0?0:-17,jt=xe==="bottom"?7:-7;return d.a.createElement(d.a.Fragment,null,Me({autocompleteConfig:this.autocompleteConfig,isOpen:Ut}),d.a.createElement(W.a,{isOpen:Ut,position:xe?`${xe}-left`:"top-left",contentStyle:Fe?ts:ce.b,targetBounds:Lt||Ya,offsetX:xt,offsetY:jt,allowanceX:20,zIndex:we||"menu",shouldObserveResize:!1,shouldFocusAfterRender:!1,shouldFade:!1,ariaHideApp:!1,tryOppositePosition:!0,shouldCloseOnOverlayMouseDown:!!dt,shouldPropagateOnClose:!!dt,onClose:dt?this.onClose:u.a},this.renderMenu()||d.a.createElement("div",null)))}constructor(De){super(De),Object(b.a)(this,["getMatch","handleSelect","onClose","onOpen","onArrowKey","onSelectedIndexChange","onSelect","positionMenu","search","processResults"]),this.autocompleteConfig=this.getAutocompleteConfig(),this.completers=this.getCompleters(De),this.completer=null,this.tabCompleteHideMenu=u.a,this.tabCompleteAriaExpand=u.a,this.tabCompletePerformSelection=u.a,this.state=ds,this.getMaybeStopAutocompleteMatchRenderTrace=Object(ue.a)(_e=>()=>Object(gt.f)(_e))}},"TextyAutocomplete");js.displayName="TextyAutocomplete";const Je=o((Ne,De)=>{let{forcePlainTextModeDisabled:_e,channelId:Me}=De;return{highlightWords:Object(k.a)(Ne),isEmojiDisplayedAsText:Object(V.a)(Ne),locale:Object(R.m)(),userSkinTone:Object(x.t)(Ne,"preferred_skin_tone"),showAutocompleteHelpPref:!!Object(x.t)(Ne,"show_autocomplete_help"),clogger:Object(B.a)({state:Ne}),usePlainTextMode:_e?!1:!!Object(x.t)(Ne,"plain_text_mode"),linkPickerEnabled:Object(q.i)(Ne),listsEnabled:Object(te.isListsEnabled)(Ne),listsTextyAutocompleteEnabled:Object(te.isListsTextyAutocompleteEnabled)(Ne),experimentCanvasShortcutCommandGroupOn:Object(St.d)(Ne,"canvas_shortcut_command")==="on",teamId:Object(j.h)(Ne),featureDisableBKInThread:Object(de.i)(Ne,"feature_disable_bk_in_thread"),experimentFilesInAtMenuGroupTreatment:Object(q.h)(Ne),logger:Object(se.a)({state:Ne}),useSearcherSessions:Object(M.c)(Ne),broadcastKeywordsEnabled:Me?Object(_.a)(Ne,Me):!1}},"texty_autocomplete_mapStateToProps"),Ie=o((Ne,De)=>{let{searchViewContext:_e}=De;const Me=_e&&`texty-autocomplete:${_e}`;return{autocompleteChannels:xe=>{let{...Fe}=xe;return Ne(Object(g.a)({searchViewContext:Me,...Fe}))},autocompleteEmoji:xe=>{let{...Fe}=xe;return Ne(Object(O.a)({searchViewContext:Me,...Fe}))},autocompleteLinks:xe=>{let{...Fe}=xe;return Ne(D({searchViewContext:Me,...Fe}))},autocompleteLists:xe=>{let{...Fe}=xe;return Ne(P({searchViewContext:Me,...Fe}))},autocompleteMembers:xe=>{let{...Fe}=xe;return Ne(Object(N.a)({searchViewContext:Me,...Fe}))},autocompleteCommandsSearcherFlat:xe=>{let{...Fe}=xe;return Ne(Object(G.a)({searchViewContext:Me,...Fe}))},autocompleteQuipShortcuts:function(){for(var xe=arguments.length,Fe=new Array(xe),we=0;we<xe;we++)Fe[we]=arguments[we];return Ne(Os(...Fe))},recordFrecencyEvent:function(){for(var xe=arguments.length,Fe=new Array(xe),we=0;we<xe;we++)Fe[we]=arguments[we];return Ne(Object(U.a)(...Fe))},ensureChannelMembershipKnownForFirstNMembers:function(){for(var xe=arguments.length,Fe=new Array(xe),we=0;we<xe;we++)Fe[we]=arguments[we];return Ne(ee(...Fe))},setUserHasSeenHelp:()=>Ne(Object(H.f)({pref:"show_autocomplete_help",value:0})),workflowsTriggersTrip:function(){for(var xe=arguments.length,Fe=new Array(xe),we=0;we<xe;we++)Fe[we]=arguments[we];return Ne(Object(ut.a)(...Fe))},executeCommandAutocompleteItem:xe=>{let{...Fe}=xe;return Ne(Object(G.d)({...Fe}))}}},"texty_autocomplete_mapDispatchToProps");var et=s.a=Object(m.a)(Je,Ie)(js)},HU1W:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),i=e("kQBZ"),c=e("R/i+");const r=Object(a.c)("Creates a placement widget based on location information",function(){var f=Object(n.coroutine)(function*(l,p,h){let{widgetId:u,location:b,locationMetadata:v}=h;const d=yield l(Object(i.Uh)({widgetId:u,location:b,locationMetadata:v,reason:"create-placement-widget-thunk"}));return l(Object(c.d)({widgetPlacement:d.widget_placement})),d.widget_placement.id});return function(l,p,h){return f.apply(this,arguments)}}());r.meta={name:"createThunk",key:"createThunkcreateWidgetPlacement",description:"Creates a placement widget based on location information"}},HW3N:function(w,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("0VPD"),t=e("F294"),a=e("lhZz"),i=e("Yauy"),c=e("e55/"),r=e("E97Y"),f=e("vfQU"),l=e("G5NC"),p=e("t4eE"),h=e("i5Ig"),u=e("7xYR");function b(){if(Object(l.a)()){const d=Object(a.getStateForClientStore)(),m=Object(u.getAllWorkspaces)(d),g=Object(u.getBootedWorkspaces)(d);return Object(n.a)(m,g)}return Object(f.fb)()?Object(f.xb)():h.a}o(b,"getOrderedTeamIds");function v(d){let{state:m,channel:g,currentTeamId:O,preferredTeamId:E}=d;if(!g||Object(r.j)(g)||!m)return null;if(!Object(i.X)(g))return O;if(!Object(l.a)()&&!Object(f.fb)())return null;const y=Object(c.a)(m,g);if(!y||!y.length)return null;const C=b();if(!C||!C.length||Object(l.a)()&&!Object(p.b)())return null;if(E&&y.includes(E)&&C.includes(E))return E;var I;return(I=Object(t.a)(Object(n.a)(C,y)))!==null&&I!==void 0?I:null}o(v,"findDesktopTeamIdForChannel")},HkGY:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("Kcy5"),i=e("68qM"),c=e("zrD9"),r=e("yIs4");function f(){return f=Object.assign||function(E){for(var y=1;y<arguments.length;y++){var C=arguments[y];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(E[I]=C[I])}return E},f.apply(this,arguments)}o(f,"_extends");var l;(function(E){E.Horizonatal="horizontal",E.Vertical="vertical"})(l||(l={}));const p=["ArrowLeft","ArrowRight"],h=p.concat(["ArrowUp","ArrowDown"]),u=["ArrowRight"],b=u.concat(["ArrowDown"]),v=h.concat(p),d=["Home","End"].concat(v),m=["button:not([disabled])","a",'input[type="button"]:not([disabled])','input[type="submit"]:not([disabled])','input[type="reset"]:not([disabled])','input[type="color"]:not([disabled])','input[type="radio"]:not([disabled])','input[type="checkbox"]:not([disabled])',"select:not([disabled])",'[role="button"]:not([disabled])','[role="checkbox"]:not([disabled])','[role="link"]:not([disabled])','[role="listbox"]:not([disabled])','[role="radio"]:not([disabled])'].join(),g='[role=toolbar] [aria-hidden="true"] *',O=Object(n.forwardRef)((E,y)=>{let{children:C,orientation:I=l.Horizonatal,"aria-label":j,activeItemIndex:M,nodeRef:T,...D}=E;const S=Object(n.useRef)(null),A=T||S,[P,N]=Object(n.useState)(M??0),G=Object(n.useCallback)(()=>{var _,B;return(B=Array.from(((_=A.current)===null||_===void 0?void 0:_.querySelectorAll(m))||[]))===null||B===void 0?void 0:B.filter(z=>z.offsetHeight).filter(z=>!z.matches(g))},[A]),V=Object(a.a)(G()[P]);Object(i.a)(()=>{const _=G();if(Object(r.a)(M)&&_[M]){N(M);return}const B=V?_.indexOf(V):-1;if(B===-1){N(0);return}B!==P&&N(B)},[C,M,G]);function k(){const _=G()[0];_==null||_.focus()}o(k,"onHome");function x(){const _=G(),B=_[_.length-1];B==null||B.focus()}o(x,"onEnd");function H(_){const{key:B,target:z}=_;if(!(I==="horizontal"?p:h).includes(B))return;const $=G(),Q=I==="horizontal"?u:b,K=z,Z=$.indexOf(K),ne=Q.includes(B)?Z+1:Z-1,F=$[ne];F==null||F.focus()}o(H,"onArrowKey");function R(_){const{key:B,target:z,currentTarget:L,ctrlKey:$,shiftKey:Q,metaKey:K,altKey:Z}=_;if(!(Q||K||$||Z)&&L.contains(z)&&d.includes(B)){if(v.includes(B)){H(_);return}if(B==="Home"){k();return}x()}}o(R,"onKeyDown");function W(_){const{target:B,currentTarget:z}=_;if(!z.contains(B))return;const L=G(),$=L[P];$==null||$.setAttribute("tabindex","-1");const Q=B;Q.setAttribute("tabindex","0");const K=(L==null?void 0:L.indexOf(Q))||0;N(K)}o(W,"onFocus"),Object(n.useEffect)(()=>{G().forEach((_,B)=>{const z=B===P?"0":"-1";_.setAttribute("tabindex",z)})},[P,G,C]);const U=Object(n.useCallback)(()=>{const _=G()[P];_==null||_.focus()},[G,P]);return Object(n.useImperativeHandle)(y,()=>({focus:U,getButtons:G}),[U,G]),t.a.createElement(c.a,{onFocusedElementRemoved:U},t.a.createElement("div",f({ref:A,role:"toolbar","aria-orientation":I,"aria-label":j,onKeyDown:R,onFocus:W},D),C))});s.b=O},"Hl+J":function(w,s,e){w.exports=e.p+"kudos-963663c.svg"},HmUJ:function(w,s,e){"use strict";var n=e("E3dU"),t=e("CpTu"),a=e("mjhc");function i(c,r){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{draftId:l,viewContext:p,inputHasFiles:h}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const u=Object(n.d)(c,r),b={draftId:l,channelId:r,memberIds:f,viewContext:p,inputHasFiles:h};if(!u&&!f.length)return null;const v=Object(t.a)(a.a,d=>d.displayRule(c,b));return v?v.type:null}o(i,"getContextBarTypeForChannel"),s.a=i},HotN:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("SQ0V"),t=e("T1zM"),a=e("s4P+"),i=e("hq59"),c=e("+HIp"),r=e("ZgSn");const f=Object(n.c)("Set all or some identity links user prefs in single call",(l,p,h)=>{let{appId:u,completedTransfer:b,dateOptedOut:v,numSkipped:d,dateLastSkipped:m}=h;const g=Object(c.f)(p()),O=Object(c.e)(p(),u);let E="{}";const y={completedTransfer:b,dateOptedOut:v,numSkipped:d,dateLastSkipped:m};try{E=JSON.stringify({...g,[u]:{...O,...Object(i.b)(y)}})}catch(C){Object(a.a)({getState:p}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",C)}return l(Object(t.f)({pref:r.a,value:E}))});f.meta={name:"createThunk",key:"createThunksetIdentityTransferUserPrefs",description:"Set all or some identity links user prefs in single call"}},Hxmd:function(w,s,e){"use strict";e.d(s,"a",function(){return C});var n=e("9oTK"),t=e("fujP"),a=e("m8R6"),i=e("SQ0V"),c=e("s4P+"),r=e("Kn+X"),f=e("m5fH"),l=e("u5Oj"),p=e("gCYc"),h=e("rNqu"),u=e("OZf9"),b=e("Cnv9"),v=e("1PxT"),d=e("lKrR");const m=Object(i.c)("Sync contact unfurl state from server to redux",(I,j,M)=>{let{draft:T,attachments:D}=M;if(!T)return;const S=Object(r.e)(T)||"";if(!S)return;const A=j();if(!Object(b.b)(A))return;const P=Object(r.t)(T)||[],N=Object(v.b)(A,S)||[],G=[];D.forEach(V=>{var k,x;const H=(k=V.blocks)===null||k===void 0||(x=k[0])===null||x===void 0?void 0:x.contact_user_id;H&&G.push(H)}),Object(u.a)(P,V=>{const k=!Object(t.a)(N[V]),x=N[V],H=G.includes(V);if(!(H&&k&&x.status!==v.a.REMOVED)){if(H&&k&&x.status===v.a.REMOVED){I(Object(d.c)({draftId:S,contactUserId:V,status:v.a.COMPLETE}));return}H||I(Object(d.c)({draftId:S,contactUserId:V,status:v.a.REMOVED}))}})});m.meta={name:"createThunk",key:"createThunksyncDraftContactUnfurlState",description:"Sync contact unfurl state from server to redux"};var g=m,O=e("pJGC"),E=e("Kk96"),y=e("RVJP");const C=Object(i.c)("Reconcile a fetched draft with more recent updates with our local state",function(){var I=Object(n.coroutine)(function*(j,M){let{clientDraftId:T,fetchedDraft:D,forceReconciliation:S=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!T||Object(t.a)(D))return;const A=D,P=M(),N=Object(b.b)(P),G=Object(y.d)(M(),"native_gif_picker")==="on",{error:V,info:k}=Object(c.a)({getState:M,label:"DRAFTS"}),x=Object(p.k)(P,T);if(!x){V(`Reconciliation failed - no draft to update (${T})`);return}const H=parseFloat(Object(r.p)(A)),R=parseFloat(Object(r.p)(x));if(H<=R&&!S){k(`Reconciliation handled - server ts <= local model ts (${T})`);return}const W=parseFloat(Object(r.l)(x))/1e3;if(H<=W&&!S){k(`Reconciliation handled - server ts <= client ts (${T})`);return}let U=A;U=Object(a.a)(U,["unfurl"]),N&&(U=Object(a.a)(U,["attachments"])),U=Object(a.a)(U,["file_permissions"]);const _=yield j(Object(h.a)({clientDraftId:Object(r.z)(A)&&!Object(r.z)(x)?Object(r.f)(A):T,draft:U}));if(!_){V(`Reconciliation failed - cannot convert server draft (${T})`);return}k(`Reconciled updated draft - ${T}`);const B=Object(r.r)(A)||[];j(Object(l.a)({draft:_,unfurl:B}));const z=Object(r.c)(A)||[];N&&j(g({draft:_,attachments:z})),G&&z.length&&j(Object(E.a)({draft:A,draftId:T}));const L=Object(r.k)(A)||[];j(Object(O.a)({draft:_,filePermissions:L})),j(Object(f.h)(_))});return function(j,M){return I.apply(this,arguments)}}());C.meta={name:"createThunk",key:"createThunkreconcileUpdatedDraft",description:"Reconcile a fetched draft with more recent updates with our local state"}},HyII:function(w,s,e){"use strict";e.d(s,"c",function(){return h}),e.d(s,"b",function(){return u}),e.d(s,"f",function(){return b}),e.d(s,"d",function(){return v}),e.d(s,"e",function(){return d}),e.d(s,"g",function(){return m}),e.d(s,"a",function(){return O}),e.d(s,"h",function(){return E});var n=e("7EGn"),t=e("gPPH"),a=e("kNaz"),i=e("bkBi"),c=e("zoal");const r=20,f=10,l=100,p=100,h=o(()=>({label:"",value:"",id:Object(t.a)()}),"createQuestionOption"),u=o(y=>y.map(C=>({id:Object(t.a)(),label:C,value:C})),"createOptionsFromEnum"),b=o(y=>{switch(y){case a.c.StaticMultiSelectWithCheckboxes:return f;case a.c.StaticMultiSelect:return l;case a.c.Dropdown:return p;default:return r}},"getQuestionMaxQuestionOptions"),v=o(y=>y.map(C=>({value:C.value,title:C.value,description:C.value})),"getChoicesFromOptions"),d=o(y=>y.map(C=>C.value),"getEnumFromOptions"),m=o((y,C)=>{const j=Object(n.a)(y,"options",[]).find(M=>M.id===C);return j?j.value:""},"getQuestionOptionValue"),g=o((y,C)=>{const I=C.findIndex(j=>j.id===y);return I>-1?I:null},"getQuestionOptionIndex"),O=o((y,C)=>Array.isArray(C)&&C.length<b(y),"checkIfCanAddQuestionOption"),E=o((y,C,I)=>{const{options:j,questionType:M,items:T,maxItems:D}=C;if(Array.isArray(j)){const S=g(y,j);if(S!==null){const A=j[S],P=I(A),N=Object(i.a)(S,P,j);return Object(c.c)(M)?{...C,options:N,items:{...T,enum:d(N)},...Object(c.d)(M)&&D?{maxItems:D}:{}}:{...C,options:N,enum:Object(c.b)(C.questionType)&&d(N),choices:Object(c.b)(C.questionType)&&v(N)}}}return C},"updateQuestionSetOption")},I6n1:function(w,s,e){"use strict";e.d(s,"d",function(){return n}),e.d(s,"i",function(){return t}),e.d(s,"j",function(){return a}),e.d(s,"g",function(){return i}),e.d(s,"h",function(){return c}),e.d(s,"f",function(){return r}),e.d(s,"e",function(){return f}),e.d(s,"b",function(){return l}),e.d(s,"a",function(){return p}),e.d(s,"c",function(){return u});const n="notifications",t="all_notifications_prefs",a="user_colors",i="frecency_jumper",c="ia_theme",r="frecency_ent_jumper",f="emoji_use",l="channel_sections",p="channel_canvas_layouts",h=["should_show_contextual_help_for_section_navigation"],u={should_show_contextual_help_for_section_navigation:!0}},I8Au:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("TGBA"),t=e("pu3F");const a=["{","[","(","*","_","/",'"',"\u201C","'","\u2018","\u2019","<"],i=(()=>{const f=a.map(p=>`\\${p}`).join("|"),l=Object(n.a)(t.m).join("");return new RegExp(`^(\\s|${f}|[${l}])+`)})(),c=(()=>{const f=a.map(l=>`\\${l}`).join("|");return new RegExp(`^(\\s|${f})+`)})();function r(f){let{trimCJK:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{trimCJK:!0};return f?f.replace(l?i:c,""):""}o(r,"trimAllowedMatchPrefix")},IJpL:function(w,s,e){"use strict";e.d(s,"c",function(){return g}),e.d(s,"b",function(){return O}),e.d(s,"a",function(){return E});var n=e("qAkX"),t=e("7EGn"),a=e("vEhQ"),i=e("s4P+"),c=e("M/q2"),r=e("vLZU"),f=e("j77i"),l=e("NLR5");const p="get-immediately-persisted-state",h=o(C=>Object(n.a)(C.split("::")),"getReducerKey"),u=o((C,I)=>{const j=I.replace(/\./g,`.${r.a}.`);return Object(t.a)(C,j)},"getReducerByKey");function b(){return Object.keys(localStorage)}o(b,"getLocalStorageKeys");function v(){return b().filter(C=>Object(r.w)({key:C}))}o(v,"getImmediatePersistKeysForClient");function d(C){let{teamId:I}=C;return b().filter(j=>Object(r.x)({key:j,teamId:I}))}o(d,"getImmediatePersistKeysForTeamId");const m=o(C=>{let{teamId:I,userId:j}=C;return b().filter(M=>Object(r.y)({teamId:I,userId:j,key:M}))},"getImmediatePersistKeysForUserId");function g(C){let{teamId:I,userId:j,reducerConfig:M,state:T={}}=C;if(!Object(c.a)("localStorage")||!I||!j)return T;const D=Object(i.a)({teamId:I}),S=m({teamId:I,userId:j}),A=Object(f.h)(I,"enterprise_id");return A&&S.push(...m({teamId:A,userId:j})),S.forEach(P=>{const N=h(P);N||D.error(`No reducer key found for local storage key: ${P}`);const G=u(M,N);let V;try{const H=localStorage.getItem(P);H||D.error(`No object found for local storage key: ${P}`),V=JSON.parse(H)}catch{V=G.initialState||{},Object(l.a)({successState:!1,spanName:p})}if(!Object(r.K)(G))return;const k=A&&Object(r.B)({reducer:G})?A:I,x=Object(r.o)(G);x&&(V=x(V,k)),Object(a.a)(T,N,V)}),Object(l.a)({successState:!0,spanName:p}),T}o(g,"getImmediatelyPersistedState");function O(C){let{teamId:I,userId:j}=C;const M=Object(i.a)({teamId:I,label:"LOCAL_STORAGE_CLEAR"}),T=Object(f.h)(I,"enterprise_id");M.info(`Purging all data in localStorage for user ${j}, teamId ${I} and enterpriseId ${T}...`),[I,T].forEach(D=>{D&&m({teamId:D,userId:j}).forEach(S=>localStorage.removeItem(S))}),M.info(`localStorage purging for user ${j}, teamId ${I} and enterpriseId ${T} is complete!`)}o(O,"clearImmediatelyPersistedStateForUserId");function E(C){if(!Array.isArray(C))throw new Error("teamIds in clearImmediatelyPersistedStateExceptForTeamIds must be an array");const I={},j=v(),M=C.reduce((D,S)=>{const A=d({teamId:S}),P=Object(f.h)(S,"enterprise_id");return P&&!I[P]&&(I[P]=!0,A.push(...d({teamId:P}))),D.concat(A)},[]);j.filter(D=>M.includes(D)===!1).forEach(D=>localStorage.removeItem(D))}o(E,"clearImmediatelyPersistedStateExceptForTeamIds");const y={getReducerKey:h,getReducerByKey:u,getLocalStorageKeys:void 0,getImmediatePersistKeysForClient:void 0,getImmediatePersistKeysForTeamId:void 0};Object.defineProperty(y,"getLocalStorageKeys",{get:()=>b,set:C=>{b=C}}),Object.defineProperty(y,"getImmediatePersistKeysForClient",{get:()=>v,set:C=>{v=C}}),Object.defineProperty(y,"getImmediatePersistKeysForTeamId",{get:()=>d,set:C=>{d=C}})},INTg:function(w,s,e){"use strict";var n=e("ifKl"),t=e("q1tI"),a=e.n(t),i=e("BHdc"),c=e("wd/R"),r=e.n(c),f=e("WIr4"),l=e("Cfcg"),p=e("6R8Z"),h=e("dA+b"),u=e("844o");let b=o(class extends t.Component{renderMonth(x){const{monthFormat:H}=this.props,R=x.format(H),W=this.props.renderMonth({value:R,format:H});return a.a.createElement("li",{key:R,className:"c-calendar_year__month"},W)}render(){const{year:x,yearFormat:H,className:R}=this.props,W=r()(x,H),U=W.clone().startOf("year"),_=W.clone().endOf("year"),B=U.clone(),z=[];for(;B.isBefore(_);)z.push(this.renderMonth(B.clone())),B.add(1,"month");const L=Object(i.default)("c-calendar_year",R);return a.a.createElement("div",{className:L},a.a.createElement("ul",{className:"c-calendar_year__list"},z))}constructor(x){super(x),this.renderMonth=this.renderMonth.bind(this)}},"Year");b.displayName="Year",b.defaultProps={yearFormat:"YYYY",renderMonth:k=>{let{value:x,format:H}=k;return r()(x,H).format("MMM")},monthFormat:"YYYY-MM"};var v=b,d=e("nNoG"),m=e("JoAr"),g=e("cYXZ"),O=e("gPPH"),E=e("s4P+"),y=e("7bEI"),C=e("ykb+");function I(){return I=Object.assign||function(k){for(var x=1;x<arguments.length;x++){var H=arguments[x];for(var R in H)Object.prototype.hasOwnProperty.call(H,R)&&(k[R]=H[R])}return k},I.apply(this,arguments)}o(I,"_extends");const j=new d.b("date_picker"),M={padding:25,width:"100%",textAlign:"center"},T={year:"year",month:"month"},D={year:"YYYY",month:"YYYY-MM"},S=Object(E.b)();function A(k,x){return k&&x?r()(k,x):(k&&Object(C.b)()&&S.warn("View specified without format -- ignoring"),r()())}o(A,"maybeParseViewOrDate");let P=o(class extends t.PureComponent{componentDidMount(){this.maybeFocusOnActiveMonthOrDate()}componentDidUpdate(){this.maybeFocusOnActiveMonthOrDate()}getActiveDateFromMonth(x){var H;if(this.props.selectedDate){const W=r()(this.props.selectedDate,this.props.dateFormat);if(x.isSame(W,"month")&&!this.isDateDisabled(W))return W.format(this.props.dateFormat)}if(!((H=this.state)===null||H===void 0)&&H.activeDate){const W=r()(this.state.activeDate,this.props.dateFormat).month(x.month()).year(x.year());if(!this.isDateDisabled(W))return W.format(this.props.dateFormat)}const R=x.clone().startOf("month");for(;x.isSame(R,"month");){if(!this.isDateDisabled(R))return R.format(this.props.dateFormat);R.add(1,"day")}}getActiveMonthFromYear(x){if(this.state.selectedMonth){const R=r()(this.state.selectedMonth,D.month);if(x.isSame(R,"year")&&!this.isMonthDisabled(R))return R.format(D.month)}if(this.state.activeMonth){const R=r()(this.state.activeMonth,D.month).year(x.year());if(!this.isMonthDisabled(R))return R.format(D.month)}const H=x.clone().startOf("year");for(;x.isSame(H,"year");){if(!this.isMonthDisabled(H))return H.format(D.month);H.add(1,"month")}}setView(x,H,R){Object(C.b)()&&!H&&this.props.logger.warn("Missing view type");const W=this.state.viewType!==H,U=D[H],_=W&&R;_||(H===T.month?this.props.sendMessageToAnnouncerAPI({message:Object(m.a)(x,"{calendar_header}"),assertive:!0,uuid:Object(O.a)()}):H===T.year&&this.props.sendMessageToAnnouncerAPI({message:x.format(this.props.yearTitleFormat),assertive:!0,uuid:Object(O.a)()})),this.setState(B=>({ariaIntro:_,viewType:H,view:x.format(U),selectedMonth:H===T.month?x.format(D.month):B.selectedMonth,activeDate:H===T.month?this.getActiveDateFromMonth(x):B.activeDate,activeMonth:H===T.year?this.getActiveMonthFromYear(x):B.activeMonth,focusOnActiveMonthOrDate:_}))}canMoveBack(){return this.props.disableDatesBefore?r()(this.state.view,D[this.state.viewType]).startOf(this.state.viewType).isAfter(r()(this.props.disableDatesBefore,this.props.dateFormat)):!0}canMoveForward(){return this.props.disableDatesAfter?r()(this.state.view,D[this.state.viewType]).endOf(this.state.viewType).isBefore(r()(this.props.disableDatesAfter,this.props.dateFormat)):!0}handleDateClick(x){var H,R;const W=x.target.dataset.value;W&&this.isDateDisabled(r()(W,this.props.dateFormat))||(this.setState(()=>({activeDate:W})),(R=(H=this.props).onDateChange)===null||R===void 0||R.call(H,W))}handleKeyboardCommand(x){if(!this.props.kbNavActive)return;const{key:H}=x,{viewType:R}=this.state;if(x.stopPropagation(),x.preventDefault(),R===T.month){switch(H){case"ArrowUp":this.moveDateBy(-1,"week");break;case"ArrowDown":this.moveDateBy(1,"week");break;case"ArrowLeft":this.moveDateBy(-1,"day");break;case"ArrowRight":this.moveDateBy(1,"day");break;case"PageUp":this.moveDateBy(-1,"month");break;case"PageDown":this.moveDateBy(1,"month");break;default:break}return}if(R===T.year)switch(H){case"ArrowUp":this.moveSelectedMonthBy(-3);break;case"ArrowDown":this.moveSelectedMonthBy(3);break;case"ArrowLeft":this.moveSelectedMonthBy(-1);break;case"ArrowRight":this.moveSelectedMonthBy(1);break;case"PageUp":this.moveSelectedMonthBy(-12);break;case"PageDown":this.moveSelectedMonthBy(12);break;default:break}}handleMonthClick(x){const H=x.target.dataset.value,R=x.target.dataset.format,W=r()(H,R);this.setView(W,T.month,Object(y.a)(x))}handleViewDecrement(x){this.handleViewIncrement(x,-1)}handleViewIncrement(x){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const{view:R,viewType:W}=this.state,U=r()(R,D[W]).add(H,W);this.setView(U,W,Object(y.a)(x))}handleViewSwitch(x){const{selectedMonth:H,viewType:R}=this.state,W=R===T.month?T.year:T.month,U=r()(H,D.month);this.setView(U,W,Object(y.a)(x))}isDateActive(x){const H=r()(this.state.activeDate,this.props.dateFormat);return x.isSame(H)}isDateDisabled(x){let H=!1;if(this.props.isDateDisabled&&(H=this.props.isDateDisabled(x)),!H){var R;for(let W=0,U=(R=this.props.disabledDates)===null||R===void 0?void 0:R[W];W<this.props.disabledDates.length;W++)x.isSame(r()(U,this.props.dateFormat))&&(H=!0)}return!H&&this.props.disableDatesBefore&&(H=H||x.isBefore(r()(this.props.disableDatesBefore,this.props.dateFormat))),!H&&this.props.disableDatesAfter&&(H=H||x.isAfter(r()(this.props.disableDatesAfter,this.props.dateFormat))),H}isDateSelected(x){const H=r()(this.props.selectedDate,this.props.dateFormat);return x.isSame(H)}isMonthDisabled(x){let H=!1;return this.props.disableDatesBefore&&(H=x.clone().endOf("month").isBefore(r()(this.props.disableDatesBefore,this.props.dateFormat))),this.props.disableDatesAfter&&!H&&(H=x.clone().startOf("month").isAfter(r()(this.props.disableDatesAfter,this.props.dateFormat))),H}maybeFocusOnActiveMonthOrDate(){this.props.kbNavActive&&this.state.focusOnActiveMonthOrDate&&(this.activeDayElement.current?this.activeDayElement.current.focus():this.activeMonthElement.current&&this.activeMonthElement.current.focus())}moveDateBy(x,H){const{activeDate:R,activeMonth:W}=this.state;if(!R&&W){const _=r()(W,D.month),B=this.getActiveDateFromMonth(_);this.setState(()=>({activeDate:B,focusOnActiveMonthOrDate:!!B}));return}if(this.activeDayElement.current&&document.activeElement!==this.activeDayElement.current){this.state.focusOnActiveMonthOrDate?this.activeDayElement.current.focus():this.setState(()=>({focusOnActiveMonthOrDate:!0}));return}const U=r()(R,this.props.dateFormat);U.add(x,H),this.isDateDisabled(U)||this.setState(()=>({ariaIntro:!1,activeDate:U.format(this.props.dateFormat),view:U.format(D.month),focusOnActiveMonthOrDate:!0}))}moveSelectedMonthBy(x){const{activeMonth:H}=this.state;if(!H)return;if(this.activeMonthElement.current&&document.activeElement!==this.activeMonthElement.current){this.state.focusOnActiveMonthOrDate?this.activeMonthElement.current.focus():this.setState(()=>({focusOnActiveMonthOrDate:!0}));return}const R=r()(H,D.month);R.add(x,"month"),this.isMonthDisabled(R)||this.setState(()=>({ariaIntro:!1,activeMonth:R.format(D.month),view:R.format(D.year),focusOnActiveMonthOrDate:!0}))}renderDate(){let{value:x,dateFormat:H,sameMonth:R,isToday:W,monthStart:U,monthEnd:_,firstWeekStart:B,firstWeekEnd:z,lastWeekStart:L,lastWeekEnd:$}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Q=r()(x,H),K=this.isDateActive(Q),Z=this.isDateDisabled(Q),ne=this.isDateSelected(Q),F=Object(i.default)("c-date_picker_calendar__date","c-button-unstyled",{"c-date_picker_calendar__date--is_today":W,"c-date_picker_calendar__date--is_selected":ne,"c-date_picker_calendar__date--is_active":K,"c-date_picker_calendar__date--disabled":Z,"c-date_picker_calendar__date--month_start":U,"c-date_picker_calendar__date--month_end":_,"c-date_picker_calendar__date--first_week_start":B,"c-date_picker_calendar__date--first_week_end":z,"c-date_picker_calendar__date--last_week_start":L,"c-date_picker_calendar__date--last_week_end":$}),J=this.state.ariaIntro&&K?j.t("Date picker: {selectedDate} selected. Use arrow keys to change date.",{selectedDate:Q.format("LL")}):Q.format("D, MMMM YYYY, dddd");return R?a.a.createElement(p.a,{ref:K?this.activeDayElement:n.a,className:F,disabled:Z,onClick:this.handleDateClick,"data-value":x,"data-format":H,tabIndex:K?0:-1,"aria-current":ne?"date":!1,"aria-label":J,"data-qa":K&&"active_date","data-qa-date":x},Q.format("D")):null}renderMonthButton(){let{value:x,format:H,...R}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const W=r()(x,H),U=x===this.state.activeMonth,_=x===this.state.selectedMonth,B=Object(i.default)("c-button-unstyled","c-mini_calendar__month_button",`c-mini_calendar__month_${W.month()+1}`,{"c-mini_calendar__month_button--is_active":U,"c-mini_calendar__month_button--is_selected":_}),z=this.state.ariaIntro&&U?j.t("Month picker: {selectedMonth} selected. Use arrow keys to change month.",{selectedMonth:W.format("MMMM YYYY")}):W.format("MMMM YYYY");return a.a.createElement(p.a,I({style:M,tabIndex:U?0:-1,ref:U?this.activeMonthElement:n.a,className:B,disabled:this.isMonthDisabled(W),onClick:this.handleMonthClick,"aria-current":!!_,"aria-label":z,"data-value":x,"data-format":H,"data-qa":U&&"active_month","data-qa-month":x},R),W.format("MMM"))}renderMonthView(){const{view:x}=this.state,{dateFormat:H}=this.props,R=r()(x,H),W=Object(m.a)(R,"{calendar_header}"),U=j.t("Jump to another month");return a.a.createElement("div",{className:"c-mini_calendar__month_view"},a.a.createElement(h.a,{title:W,onTitleClick:this.handleViewSwitch,onLeftArrowClick:this.handleViewDecrement,onRightArrowClick:this.handleViewIncrement,titleLabel:U,leftArrowLabel:j.t("Previous month"),rightArrowLabel:j.t("Next month"),leftArrowIsDisabled:!this.canMoveBack(),rightArrowIsDisabled:!this.canMoveForward()}),a.a.createElement(u.a,{month:x,monthFormat:H,renderDate:this.renderDate}))}renderYearView(){const{view:x}=this.state,{dateFormat:H,yearTitleFormat:R}=this.props,U=r()(x,H).format(R),_=j.t("Back to date picker");return a.a.createElement("div",{className:"c-mini_calendar__year_view"},a.a.createElement(h.a,{title:U,onTitleClick:this.handleViewSwitch,onLeftArrowClick:this.handleViewDecrement,onRightArrowClick:this.handleViewIncrement,titleLabel:_,leftArrowLabel:j.t("Previous year"),rightArrowLabel:j.t("Next year"),leftArrowIsDisabled:!this.canMoveBack(),rightArrowIsDisabled:!this.canMoveForward()}),a.a.createElement(v,{year:x,yearFormat:H,renderMonth:this.renderMonthButton}))}render(){const{viewType:x}=this.state,H=Object(i.default)("c-date_picker_calendar",this.props.className);return a.a.createElement("div",{role:"none",className:H,"data-qa":"date_picker_calendar",onKeyDown:this.handleKeyboardCommand},a.a.createElement("div",{className:"c-mini_calendar"},x===T.year?this.renderYearView():this.renderMonthView()))}constructor(x){super(x);const{selectedDate:H,dateFormat:R,disableDatesBefore:W,disableDatesAfter:U,focusOnMount:_,initialViewType:B}=this.props;let z=A(H,R);const L=W&&r()(W,R);if(L&&z.isBefore(L))z=L;else{const Q=U&&r()(U,R);Q&&z.isAfter(Q)&&(z=Q)}const $=z.format(D.month);this.state={ariaIntro:!0,activeDate:this.isDateDisabled(z)?this.getActiveDateFromMonth(z):z.format(R),selectedMonth:$,activeMonth:$,viewType:T[B]||T.month,view:$,focusOnActiveMonthOrDate:_},Object(f.a)(this,["handleKeyboardCommand","handleDateClick","handleMonthClick","handleViewSwitch","handleViewIncrement","handleViewDecrement","renderDate","renderMonthButton","renderMonthView","renderYearView"]),this.activeDayElement=a.a.createRef(),this.activeMonthElement=a.a.createRef()}},"DatePickerCalendar");P.displayName="DatePickerCalendar",P.defaultProps={className:void 0,selectedDate:void 0,disabledDates:[],yearTitleFormat:"YYYY",dateFormat:"YYYY-MM-DD",onDateChange:n.a,kbNavActive:!0,focusOnMount:!0,isDateDisabled:()=>!1,disableDatesBefore:void 0,disableDatesAfter:void 0,sendMessageToAnnouncerAPI:n.a,initialViewType:"month"};const N=o(k=>({logger:Object(E.a)({state:k})}),"mapStateToProps"),G=Object(g.a)(P);var V=s.a=Object(l.a)(N)(G)},INuR:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("GzZI"),c=e("wd/R"),r=e.n(c);function f(){return f=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(p[b]=u[b])}return p},f.apply(this,arguments)}o(f,"_extends");let l=o(class extends n.PureComponent{renderSingleDayOfWeek(h){const u=r()().weekday(h);return t.a.createElement("th",{key:h,className:"c-calendar_month__day_of_week_heading","aria-label":u.format("dddd")},u.format(this.props.format))}render(){const{className:h,format:u,...b}=this.props,v=Object(a.default)("c-calendar_month__days_of_week",h);return t.a.createElement("tr",f({className:v},b),Object(i.a)(7,this.renderSingleDayOfWeek))}constructor(h){super(h),this.renderSingleDayOfWeek=this.renderSingleDayOfWeek.bind(this)}},"DaysOfWeek");l.displayName="DaysOfWeek",l.defaultProps={format:"dd"},s.a=l},IQp8:function(w,s,e){"use strict";e.d(s,"d",function(){return n}),e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"c",function(){return r});const n={Limited:"LIMITED",Extended:"EXTENDED"},t={NoOne:"NO_ONE",ChannelHostMembers:"CHANNEL_HOST_MEMBERS",AnyTeamInChannel:"ANY_TEAM_IN_CHANNEL",SelectTeamsInChannel:"SELECT_TEAMS_IN_CHANNEL"},a={Manual:"M",All:"A",NewChannels:"N"},i={Auto:"AUTO",AutoWhenAutoApproveOn:"AUTO_WHEN_AUTO_APPROVE_ON",Manual:"MANUAL"},c={Allow:"ALLOW",AllowWhenAutoApproveOn:"ALLOW_WHEN_AUTO_APPROVE_ON",Block:"BLOCK"},r={Default:"DEFAULT",High:"HIGH"}},IW9Y:function(w,s,e){"use strict";e.d(s,"b",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("pbND"),i=e("KYPV"),c=e("OCkr");function r(){return r=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(p[b]=u[b])}return p},r.apply(this,arguments)}o(r,"_extends");function f(p,h){return u=>{const{name:b}=Object(n.useContext)(a.a),{validateOnBlur:v,...d}=u,m=Object(i.e)(),g=Object(n.useMemo)(()=>h({name:b,handleChange:m.handleChange,handleBlur:m.handleBlur,setFieldValue:m.setFieldValue,setFieldTouched:m.setFieldTouched,validateOnBlur:v,props:u}),[b,m.handleChange,m.handleBlur,m.setFieldValue,m.setFieldTouched,v,u]);return t.a.createElement(p,r({},d,g))}}o(f,"withFieldAdapter"),f.displayName="withFieldAdapter";function l(p,h){const u=f(p,h);return o(v=>t.a.createElement(c.a,r({component:u},v)),"FieldTextInput")}o(l,"withField"),l.displayName="withField",s.a=f},IbHz:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"c",function(){return c}),e.d(s,"b",function(){return r});var n=e("7EGn"),t=e("gPPH"),a=e("Qm7m");const i=o(f=>{let{teamId:l}=f;return{id:Object(t.a)(),type:a.MEMBER_JOINED_CHANNEL,config:{},teamId:l}},"createMemberJoinedChannelTrigger"),c=o((f,l)=>({...f,config:{...f.config,channel:{value:l}}}),"updateTriggerSetChannel"),r=o(f=>Object(n.a)(f,"config.channel.value",""),"getChannelFromTrigger")},Ilel:function(w,s,e){"use strict";var n=e("n3tL"),t=e("Lgge"),a=e("SQ0V"),i=e("vfQU"),c=e("gn35"),r=e("GTwG"),f=e("opHY"),l=e("ZOzc"),p=e("MY1y"),h=e("yPgC"),u=e("Rzhv"),b=e("NR1w"),v=e("ouAP");const d=Object(a.c)("Download a file",(g,O,E)=>{let{file:y,forceDownload:C,action:I=v.a.Default,exportListsTemplate:j=!1}=E;const M=O();if(Object(l.a)(M,"block_file_download")&&!C)return g(Object(c.a)({reason:"FileActions_checkIP",fileId:y.external_id})).then(A=>{let{ip_allowed:P}=A;return P?g(d({file:y,forceDownload:!0,action:I})):(g(Object(b.c)(I)),!1)}).catch(()=>(g(Object(b.c)(I)),!1));const D=Object(p.a)(M,y,j);if(!D)return t.a.reject(new Error("No download URL"));if(Object(i.fb)())return g(Object(f.l)({fileId:y.id,downloadUrl:D,showFlexpane:!0})),t.a.resolve(!0);let S=!1;try{S=!window.open(D)}catch{S=!0}return S?(g(Object(u.a)(!0)),t.a.resolve(!1)):t.a.resolve(!0)});d.meta={name:"createThunk",key:"createThunkdownloadFile",description:"Download a file"},d.propTypes={file:h.a.File().isRequired,forceDownload:n.default.bool};const m=Object(a.c)("Attempt to download a file and clog outcome",(g,O,E)=>{let{file:y,clog:C=!0,action:I,exportListsTemplate:j=!1}=E;return g(d({file:y,action:I,exportListsTemplate:j})).then(M=>(C&&g(Object(r.b)({file:y,payload:{link_action:"file_ssb_download_link",subtype:"file_download",is_successful:M}})),M))});m.meta={name:"createThunk",key:"createThunkdownloadFileAndClog",description:"Attempt to download a file and clog outcome"},m.propTypes={file:h.a.File().isRequired,clog:n.default.bool},s.a=m},Iu7c:function(w,s,e){"use strict"},JBzN:function(w,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"c",function(){return t}),e.d(s,"b",function(){return a});function n(i,c){let{x:r,y:f,width:l,height:p,radius:h,clip:u}=c;i.beginPath(),i.moveTo(r+h,f),i.lineTo(r+l-h,f),i.arcTo(r+l,f,r+l,f+h,h),i.lineTo(r+l,f+p-h),i.arcTo(r+l,f+p,r+l-h,f+p,h),i.lineTo(r+h,f+p),i.arcTo(r,f+p,r,f+p-h,h),i.lineTo(r,f+h),i.arcTo(r,f,r+h,f,h),u?i.clip():i.closePath()}o(n,"rrect");function t(i){let{sourceWidth:c,sourceHeight:r,targetWidth:f,targetHeight:l}=i;const p=Math.min(f,l/r*c),h=Math.min(l,f/c*r),u=(f-p)/2,b=(l-h)/2;return{x:u,y:b,width:p,height:h}}o(t,"scaleToFit");function a(i){let{sourceWidth:c,sourceHeight:r,targetWidth:f,targetHeight:l}=i;const p=Math.max(f,l/r*c),h=Math.max(l,f/c*r),u=(f-p)/2,b=(l-h)/2;return{x:u,y:b,width:p,height:h}}o(a,"scaleToFill")},"Ja/R":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("vPIQ"),t=e("xcHN"),a=e("6Mvn"),i=e("6CnZ"),c=e("UIhb");function r(f,l,p){const h=Object(t.c)(l,p),u=Object(i.j)(f,h);if(!u||!u.timestamps)return null;const b=Object(n.a)(u.timestamps,v=>{const d=Object(c.b)(f,l,v);return d?Object(a.a)(f,d):!1});return b?Object(c.b)(f,l,b):null}o(r,"getLastMessageInThread")},JaUH:function(w,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"b",function(){return O}),e.d(s,"e",function(){return E}),e.d(s,"d",function(){return y}),e.d(s,"h",function(){return C}),e.d(s,"g",function(){return I}),e.d(s,"f",function(){return j}),e.d(s,"c",function(){return M});var n=e("gPPH"),t=e("Fjja"),a=e("nNoG"),i=e("Qm7m"),c=e("bkBi"),r=e("vIgB"),f=e("BsO1");const l=new a.b("workflow_builder");var p,h,u,b,v;const d=o(T=>{let{srcData:D}=T;return{id:(p=D==null?void 0:D.id)!==null&&p!==void 0?p:Object(n.a)(),type:i.HERMES_WEBHOOK,config:{name:(h=D==null?void 0:D.name)!==null&&h!==void 0?h:"",description:(u=D==null?void 0:D.description)!==null&&u!==void 0?u:void 0,inputs:(b=D==null?void 0:D.inputs)!==null&&b!==void 0?b:{},webhook:D!=null&&D.available_data?Object(f.a)(D==null?void 0:D.available_data):[],url:(v=D==null?void 0:D.webhook_url)!==null&&v!==void 0?v:""}}},"createHermesWebhookTrigger");var m;const g=o(T=>{var D;return(m=T==null||(D=T.config)===null||D===void 0?void 0:D.name)!==null&&m!==void 0?m:""},"getTriggerName"),O=o(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.d.String,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return{type:T,title:D,name:Object(n.a)(),is_hidden:!1}},"createWebhookSchema"),E=o(T=>T.config.url,"getUrlFromTrigger"),y=o(T=>{var D;return(D=T.config)===null||D===void 0?void 0:D.webhook},"getSchemaFromTrigger"),C=o((T,D)=>{const S=y(T),A=S.findIndex(G=>G.name===D.name),P={...D,name:Object(t.a)(D.title)},N=A>-1?Object(c.a)(A,P,S):[...S,D];return{...T,config:{...T.config,webhook:N}}},"updateWebhookSchemaEntry"),I=o((T,D)=>{const A=y(T).filter(P=>P.name!==D);return{...T,config:{...T.config,webhook:A}}},"removeWebhookSchemaEntry"),j=o(T=>{const D=[{value:r.d.String,label:l.t("Text")},{value:r.d.SlackTypesChannelId,label:l.t("Slack channel ID")},{value:r.d.SlackTypesUserId,label:l.t("Slack user ID")}];return T&&D.push({value:r.d.SlackTypesUserEmail,label:l.t("Slack user email")}),D},"getWebhookVariableTypeOptions"),M=o(T=>T.reduce((S,A)=>{let P="";switch(A.type){case r.d.SlackTypesChannelId:P="C123456789";break;case r.d.SlackTypesUserId:P="U123456789";break;case r.d.SlackTypesUserEmail:P="example@example.com";break;case r.d.String:default:P=l.t("Example text");break}return S[A.title]=P,S},{}),"deriveExamplePayloadFromWebhookVariables")},JgQX:function(w,s,e){"use strict";e.d(s,"a",function(){return B});var n=e("mM05"),t=e.n(n),a=e("m5Yc"),i=e("Ar8P"),c=e("MvaT"),r=e("xwCZ"),f=e("52Wj"),l=e("2oNE"),p=e("/+/u"),h=e("pTwU"),u=e("JnIm"),b=e("GhjL"),v=e("DQNL"),d=e("E3dU"),m=e("Yauy"),g=e("jlKB"),O=e("dS/7"),E=e("oNuo"),y=e("6kKm");const{SECTION:C,LIST:I,PREFORMATTED:j,QUOTE:M,TEXT:T,USER:D,USERGROUP:S,CHANNEL:A,BROADCAST:P,EMOJI:N,LINK:G,DATE:V,COLOR:k,WORKFLOWTOKEN:x}=a.b,H={bold:"*",italic:"_",strike:"~",code:"`"},R="*",W="    ",U="> ";let _;function B(K,Z){let ne=new t.a;return Object(i.a)(Z)&&(_=[],Z[0].elements.forEach(F=>{switch(F.type){case C:{ne=ne.concat(L(K,F.elements,C));break}case M:{const J=(F==null?void 0:F.border)>=1;ne.insert("> "),J&&ne.insert("> "),ne=ne.concat(L(K,F.elements,M)),ne.insert(`
`);break}case j:{(F==null?void 0:F.border)>=1&&ne.insert("> "),ne.insert("```"),ne=ne.concat(L(K,F.elements,j)),ne.insert("```"),ne.insert(`
`);break}case I:{ne=ne.concat(z(K,F.elements,F.style,F.indent,F.border,F.offset));break}default:break}}),Object(c.a)(ne)||ne.insert(`
`)),ne}o(B,"convertBlocksToMrkdwnDelta");function z(K,Z,ne){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,X=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,Y=new t.a;const ae=o(()=>{for(let q=0;q<J;q++){Y.insert(U);for(let te=0;te<F;te++)Y.insert(W)}},"borderAndIndentLoop"),ee=o(()=>{for(let q=0;q<F;q++)Y.insert(W)},"indentLoopOnly");return Z.forEach((q,te)=>{if(J?ae():ee(),ne===a.a.BULLET)Y.insert(`${R} `);else if(ne===a.a.ORDERED){const de=te+1+X;Y.insert(`${de}. `)}Y=Y.concat(L(K,q.elements,C)),Y.insert(`
`)}),Y}o(z,"convertSectionsInsideList");function L(K,Z,ne){let F=new t.a;const J=Object(u.a)(K),X=Object(g.a)(K);let Y,ae,ee,q,te,de,se,re,oe,ce;return Z.forEach(ue=>{switch(ue.type){case T:se=ue.text,ne===M&&se.includes(`
`)&&(se=Q(se)),re=[...se];for(let Ye=0;Ye<re.length;Ye++){const $e=re[Ye],Ke=ne===M&&(Ye!==0&&re[Ye]===">"&&re[Ye-1]===`
`||re[0]===">"&&!ue.style);if(_.length===0&&($e===`
`||Ke||$e===" "))F.insert($e),se=se.substring(1);else break}F=F.concat($(ue,se));break;case D:var Pe;Y=(Pe=Object(r.g)(K,ue.user_id))!==null&&Pe!==void 0?Pe:void 0,oe={slackmention:Object(p.a)(Y,J)},F=F.concat($(ue,`@${Object(f.b)(Y)}`,oe));break;case S:ae=Object(b.d)(K,ue.usergroup_id),oe={slackmention:Object(h.a)(ae,J)},F=F.concat($(ue,Object(v.g)(ae),oe));break;case A:ee=Object(d.d)(K,ue.channel_id),q=`#${Object(m.t)(K,ee,{publicChannelIncludeHashSign:!1})}`,ee!=null&&(oe={slackmention:Object(l.a)(ee.id,q)},F=F.concat($(ue,q,oe)));break;case P:te=Object(E.a)(`BK${ue.range}`),oe={slackmention:Object(l.a)(`BK${ue.range}`,`@${Object(y.a)(te)}`,J)},F=F.concat($(ue,`@${Object(y.a)(te)}`,oe));break;case N:X?F.insert(Object(O.a)(ue,{state:K,localize:!0})):(de=`:${ue.name}:`,ue.skin_tone&&(de+=`:skin-tone-${ue.skin_tone}:`),F.insert({slackemoji:{text:de}}));break;case k:F=F.concat($(ue,ue.value));break;case V:ue.fallback&&(F=F.concat($(ue,ue.fallback)));break;case G:ce=ue.text?`[${ue.text}](${ue.url})`:ue.url,F=F.concat($(ue,ce));break;case x:F=F.concat($(ue,{workflowtoken:{id:ue.id,property:ue.property,type:ue.data_type,label:"",sourceLabel:"",propertyLabel:"",isAvailable:!1}}));break;default:break}}),[..._].reverse().forEach(ue=>{F.insert(H[ue]),_=_.filter(Pe=>Pe!==ue)}),F}o(L,"convertChunksFromTopLevelElements");function $(K,Z){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const F=new t.a;if(!K.style&&_.length===0)return F.insert(Z,{...ne});const J=K.style?Object.keys(K.style):[];return[..._].reverse().forEach(X=>{(J.length===0||!J.includes(X))&&(F.insert(H[X]),_=_.filter(Y=>Y!==X))}),J.forEach(X=>{H[X]&&!_.includes(X)&&(F.insert(H[X]),_.push(X))}),F.insert(Z,{...ne}),F}o($,"addStylingForChunks");function Q(K){return K.split(`
`).join(`
> `)}o(Q,"addQuoteCharactersWithNewline")},JhjB:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c});var n=e("4pJt"),t=e("JoEr");const a=o(r=>{const f=Object(n.i)().exec(r);return!!f&&f[0]===f.input},"isValidVariable"),i=o(r=>Object(n.h)().test(r),"isValidHermesVariable"),c=o(r=>{var f;const l=Object(n.h)().exec(r);return l?l.input===l[0]||l.input===`{{${l[0]}}}`||l.input===((f=Object(t.i)(r))===null||f===void 0?void 0:f.templateValue):!1},"isValidSingleHermesVariable")},Jk7K:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("Fbvv");s.a=t.a.createContext({registerSection:a.a,unregisterSection:a.a,setActiveSection:a.a,getActiveSection:i.a,resetSectionNavigation:a.a})},"K4/v":function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("mM05"),t=e.n(n),a=e("0qhH"),i=e("fR2/");function c(r,f){const l=[r||new t.a,f||new t.a];for(let p=0;p<l.length;p++){const h=l[p].ops[l[p].ops.length-1],u=Object(a.a)(h)&&(h==null?void 0:h.insert)||"";(!l[p].ops.length||!Object(a.a)(h)||Object(i.a)(h)||u.substr(-1)!==`
`)&&l[p].insert(`
`)}return l[0].diff(l[1]).length()===0}o(c,"areDeltasEqual")},K8V4:function(w,s,e){"use strict";var n=e("q1tI"),t=e("dkXW"),a=e("zxER"),i=e("RVJP"),c=e("yvAn"),r=e("WMzb"),f=e("s4P+"),l=e("1Np4"),p=e("4cU5");function h(){const W=Object(a.c)(B=>Object(l.a)({state:B})),U=Object(r.a)();return{onFrameTimingData:Object(n.useCallback)(B=>{const z=B.detail.frameTimings,L=B.detail.effect,{sum:$,count:Q,drops:K,draw:Z}=z,ne=W.createMetricsTrace({samplingOptions:{sampleRate:.2,sampleType:p.g.SESSION},tags:{effect:L}});[{name:"story_record_video:average_fps",value:1e3/($/Q)},{name:"story_record_video:relative_drops",value:K/Q},{name:"story_record_video:average_draw_time",value:Z/Q}].forEach(J=>{ne.store(J),U.info("VIDEO-RECORDER",`frame timing data: ${J.name} ${J.value}`)}),W.reportTrace(ne)},[W,U])}}o(h,"useFrameTimingData");var u=h,b=e("N4UQ"),v=e("9oTK"),d=e("Yk1L"),m=e("zmn3"),g=e("kBpe"),O=e("ektR"),E=e("xt0X");const y=2e3,C=1e4;function I(W){let{recording:U,recordingPaused:_,cameraOn:B,screenCaptureOn:z,usingCustomBgOrBlur:L,mimeType:$}=W;const Q=Object(a.c)(ae=>Object(l.a)({state:ae})),K=Object(r.a)(),Z=Object(n.useRef)(),ne=Object(n.useRef)(),F=Object(n.useRef)([]),J=Object(n.useRef)({}),X=Object(n.useRef)(),Y=Object(n.useCallback)(Object(v.coroutine)(function*(){if(X.current||(X.current=Q.createMetricsTrace({samplingOptions:{sampleRate:.1,sampleType:p.b}})),!X.current.isSampled())return;const ae=yield M();if(!ae)return;F.current.push(ae);const ee=performance.now();if(!ne.current||ee-ne.current>C){ne.current=ee;const q=window.navigator.hardwareConcurrency,te={cpu:Object(d.a)(Object(m.a)(F.current,"cpu")),cpuWithoutGpu:Object(d.a)(Object(m.a)(F.current,"cpuWithoutGpu")),memory:{workingSetSize:Object(d.a)(Object(m.a)(F.current,"memory.workingSetSize")),peakWorkingSetSize:Object(d.a)(Object(m.a)(F.current,"memory.peakWorkingSetSize"))}};K.info("CLIPS-STATS",`cpuCount: ${q} cpu: ${te.cpu} cpuWithoutGpu: ${te.cpuWithoutGpu} workingSetSize: ${te.memory.workingSetSize} peakWorkingSetSize: ${te.memory.peakWorkingSetSize}`);const de=X.current;de.store({name:"clips_recorder_app_metrics:cpu",value:te.cpu}),de.store({name:"clips_recorder_app_metrics:cpuWithoutGpu",value:te.cpuWithoutGpu}),de.store({name:"clips_recorder_app_metrics:cpu_adjusted",value:q*te.cpu}),de.store({name:"clips_recorder_app_metrics:cpuWithoutGpu_adjusted",value:q*te.cpuWithoutGpu}),de.store({name:"clips_recorder_app_metrics:workingSetSize",value:te.memory.workingSetSize}),de.store({name:"clips_recorder_app_metrics:peakWorkingSetSize",value:te.memory.peakWorkingSetSize}),de.addTags({...J.current,cpuCount:q}),Q.reportTrace(de),X.current=void 0,F.current=[]}}),[K,Q]);Object(n.useEffect)(()=>{if(Object(g.i)())return U&&!_&&(ne.current=performance.now(),Z.current=setInterval(Y,y)),()=>{F.current=[],clearInterval(Z.current)}},[U,Y,_]),Object(n.useEffect)(()=>{J.current={cameraOn:B,screenCaptureOn:z,mimeType:$,usingCustomBgOrBlur:L}},[B,$,z,L])}o(I,"useAppMetricsReporter");var j=I;function M(){return T.apply(this,arguments)}o(M,"makeAppMetricsStats");function T(){return T=Object(v.coroutine)(function*(){var W;if(!Object(g.i)())return;const U=O.d.isAvailable()?(yield Object(O.d)()).processMetrics:yield Object(O.c)();if(!U)return;let _=null;const B=U.reduce((L,$)=>{var Q,K,Z;return $.type==="GPU"&&(_=$),{cpu:L.cpu+(($==null||(Q=$.cpu)===null||Q===void 0?void 0:Q.percentCPUUsage)||0),memory:{workingSetSize:L.memory.workingSetSize+Object(E.b)(($==null||(K=$.memory)===null||K===void 0?void 0:K.workingSetSize)||0),peakWorkingSetSize:L.memory.peakWorkingSetSize+Object(E.b)(($==null||(Z=$.memory)===null||Z===void 0?void 0:Z.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),z=!(_==null||(W=_.cpu)===null||W===void 0)&&W.percentCPUUsage?B.cpu-_.cpu.percentCPUUsage:B.cpu;return{...B,cpuWithoutGpu:z}}),T.apply(this,arguments)}o(T,"_makeAppMetricsStats");function D(){const W=Object(a.c)(L=>Object(l.a)({state:L})),U=Object(n.useRef)(),_=Object(n.useRef)(),B=Object(n.useCallback)(()=>{U.current=W.createTrace({traceName:"clips_stop_video_recording",samplingOptions:{sampleRate:.1,sampleType:p.b}}),_.current=U.current.startSpan("clips_stop_video_recording:wait")},[W]),z=Object(n.useCallback)(()=>{!U.current||!_.current||(_.current.close(),W.reportTrace(U.current))},[W]);return{startStopRecordingTrace:B,endStopRecordingTrace:z}}o(D,"useStopRecordingTrace");var S=D;const A=1280,P=720,N=1920,G=1080,V="VIDEO-RECORDER";function k(W){let{saveRecording:U,initialCameraOn:_,initialMicrophoneOn:B}=W;var z,L,$,Q,K,Z,ne;const F=Object(r.a)(),J=Object(n.useRef)();J.current=F;const X=Object(a.c)(ht=>Object(i.d)(ht,"effect_renderer_worker")==="on"),Y=Object(a.c)(ht=>Object(i.d)(ht,"stream_renderer_worker")==="on"),ae=Object(n.useRef)(),[ee,q]=Object(n.useState)(!1),[te,de]=Object(n.useState)(),[se,re]=Object(n.useState)();Object(n.useEffect)(()=>{H(de,re)},[]);const[oe,ce]=Object(n.useState)(),ue=Object(n.useRef)(_),Pe=Object(n.useRef)(B),{onFrameTimingData:Ye}=u(),[$e,Ke]=Object(n.useState)(!1),[qe,ct]=Object(n.useState)(!1),[Be,pe]=Object(n.useState)(!1),[fe,me]=Object(n.useState)(!1),[Se,je]=Object(n.useState)(!1),[Ue,ve]=Object(n.useState)(!1),[ge,le]=Object(n.useState)(!1),[he,Te]=Object(n.useState)(!1),[Re,Ve]=Object(n.useState)((te==null||(z=te.video)===null||z===void 0?void 0:z.effect)==="blur"),[Ee,Ae]=Object(n.useState)(!1),[Ge,Ze]=Object(n.useState)(),[ze,lt]=Object(n.useState)(!1),[tt,Ot]=Object(n.useState)(),Ct=Object(n.useRef)({cameraOn:!1,microphoneOn:!1,didScreenShare:!1,blurEnabled:!1,bgImgEnabled:!1}),St=Object(b.a)({recording:$e,recordingPaused:he});j({recording:$e,recordingPaused:he,cameraOn:fe,screenCaptureOn:Ue,usingCustomBgOrBlur:Re||Ee,mimeType:(L=ae.current)===null||L===void 0?void 0:L.mimeType});const{startStopRecordingTrace:zt,endStopRecordingTrace:kt}=S();Object(n.useEffect)(()=>{$e&&Ue&&(Ct.current.didScreenShare=!0),Ct.current.cameraOn=fe,Ct.current.microphoneOn=qe,Ct.current.blurEnabled=Re,Ct.current.bgImgEnabled=Ee},[fe,qe,$e,Ue,Re,Ee]);const on=Object(n.useCallback)(()=>{var ht;Te(!1),Ke(!0),le(!1),je(!1),pe(!1),(ht=J.current)===null||ht===void 0||ht.info(V,"recording started")},[]),_t=Object(n.useCallback)(ht=>{var It,Ft;const Bt=St();if(Ke(!1),ht.data.size===0){var en;(en=J.current)===null||en===void 0||en.error(V,"recording ended with empty blob");return}kt(),U({blob:ht.data,duration:Bt,canvasRecording:(It=ae.current)===null||It===void 0?void 0:It.useCanvasRecording,...Ct.current}),(Ft=J.current)===null||Ft===void 0||Ft.info(V,"recording ended")},[kt,St,U]),be=Object(n.useCallback)(()=>{var ht;ct(!0),(ht=J.current)===null||ht===void 0||ht.info(V,"microphone started")},[]),ot=Object(n.useCallback)(()=>{var ht;ct(!1),(ht=J.current)===null||ht===void 0||ht.info(V,"microphone ended")},[]),rt=Object(n.useCallback)(ht=>{var It;pe(!0),(It=J.current)===null||It===void 0||It.error(V,"Microphone failed",ht==null?void 0:ht.error)},[]),Jt=Object(n.useCallback)(()=>{var ht;me(!0),(ht=J.current)===null||ht===void 0||ht.info(V,"camera started")},[]),Qt=Object(n.useCallback)(()=>{var ht;me(!1),(ht=J.current)===null||ht===void 0||ht.info(V,"camera ended")},[]),qt=Object(n.useCallback)(ht=>{var It;me(!1),je(!0),(It=J.current)===null||It===void 0||It.error(V,"Camera failed",ht==null?void 0:ht.error)},[]),$t=Object(n.useCallback)(()=>{var ht;le(!1),ve(!0),(ht=J.current)===null||ht===void 0||ht.info(V,"screen started")},[]),hn=Object(n.useCallback)(()=>{var ht;ve(!1),(ht=J.current)===null||ht===void 0||ht.info(V,"screen ended")},[]),gn=Object(n.useCallback)(ht=>{var It;ve(!1),le(!0),(It=J.current)===null||It===void 0||It.error(V,"Screen capture start failed",ht==null?void 0:ht.error)},[]),Cn=Object(n.useCallback)(()=>{var ht;Te(!0),(ht=J.current)===null||ht===void 0||ht.info(V,"paused")},[]),Mn=Object(n.useCallback)(()=>{var ht;Te(!1),(ht=J.current)===null||ht===void 0||ht.info(V,"resumed")},[]),kn=Object(n.useCallback)(()=>{lt(!0)},[]),na=Object(n.useCallback)(()=>{lt(!1)},[]),oa=Object(n.useCallback)(()=>{var ht;Ot((ht=ae.current)===null||ht===void 0?void 0:ht.rendererStream)},[]),ba=!!se,ga=se==null||($=se.microphone)===null||$===void 0?void 0:$[0],ya=se==null||(Q=se.camera)===null||Q===void 0?void 0:Q[0],Zn=te==null||(K=te.audio)===null||K===void 0?void 0:K.enableAGC;Object(n.useEffect)(()=>{if(!oe||!ba)return;const ht=new c.a({width:A,height:P,screenWidth:N,screenHeight:G,canvas:oe,microphoneId:ga,cameraId:ya,noiseSuppression:!0,autoGainControl:Zn,shouldStartCamera:ue.current,shouldStartScreenCapture:!1,shouldStartMicrophone:Pe.current,useEffectRendererWorker:X,useStreamRendererWorker:Y});return ae.current=ht,ht.addEventListener("microphonestart",be),ht.addEventListener("microphoneend",ot),ht.addEventListener("microphoneerror",rt),ht.addEventListener("camerastart",Jt),ht.addEventListener("cameraend",Qt),ht.addEventListener("cameraerror",qt),ht.addEventListener("screenstart",$t),ht.addEventListener("screenend",hn),ht.addEventListener("screenerror",gn),ht.addEventListener("recordingstart",on),ht.addEventListener("recordingend",_t),ht.addEventListener("frametimingdata",Ye),ht.addEventListener("recordingpaused",Cn),ht.addEventListener("recordingresumed",Mn),ht.addEventListener("loadingstart",kn),ht.addEventListener("loadingend",na),ht.addEventListener("rendererstream",oa),q(!0),()=>{ht.stop().then(()=>{ht.removeEventListener("frametimingdata",Ye)}),ht.removeEventListener("microphonestart",be),ht.removeEventListener("microphoneend",ot),ht.removeEventListener("microphoneerror",rt),ht.removeEventListener("camerastart",Jt),ht.removeEventListener("cameraend",Qt),ht.removeEventListener("cameraerror",qt),ht.removeEventListener("screenstart",$t),ht.removeEventListener("screenend",hn),ht.removeEventListener("screenerror",gn),ht.removeEventListener("recordingstart",on),ht.removeEventListener("recordingend",_t),ht.removeEventListener("recordingpaused",Cn),ht.removeEventListener("recordingresumed",Mn),ht.removeEventListener("loadingstart",kn),ht.removeEventListener("loadingend",na),ht.removeEventListener("rendererStream",oa),ae.current===ht&&(ae.current=void 0)}},[oe,ba,ga,ya,Zn,be,ot,rt,Qt,Jt,qt,Ye,_t,on,hn,gn,$t,Cn,Mn,kn,na,oa,X,Y]);const Xn=Object(n.useCallback)(ht=>{ce(ht||void 0)},[]),Ht=Object(n.useCallback)(()=>{var ht;(ht=ae.current)===null||ht===void 0||ht.startRecording()},[]),ut=Object(n.useCallback)(()=>{var ht;zt(),(ht=ae.current)===null||ht===void 0||ht.stopRecording()},[zt]),gt=Object(n.useCallback)(ht=>{var It;return(It=ae.current)===null||It===void 0?void 0:It.startScreenCapture(ht)},[]),Wt=Object(n.useCallback)(()=>{var ht;(ht=ae.current)===null||ht===void 0||ht.stopScreenCapture()},[]),Mt=Object(n.useCallback)(()=>{var ht;(ht=ae.current)===null||ht===void 0||ht.startCamera(),ue.current=!0},[]),Xe=Object(n.useCallback)(()=>{var ht;(ht=ae.current)===null||ht===void 0||ht.stopCamera(),ue.current=!1},[]),bt=Object(n.useCallback)(()=>{var ht;(ht=ae.current)===null||ht===void 0||ht.startMicrophone(),Pe.current=!0},[]),Nt=Object(n.useCallback)(()=>{var ht;(ht=ae.current)===null||ht===void 0||ht.stopMicrophone(),Pe.current=!1},[]),Pt=Object(n.useCallback)(()=>{H(de,re)},[]),nn=Object(n.useCallback)(()=>{var ht;const It=!Re;It&&Ae(!1),Ve(It),(ht=J.current)===null||ht===void 0||ht.info(V,It?"blur enabled":"blur disabled")},[Re]),rn=Object(n.useCallback)(ht=>{var It;Ve(!1),Ze(ht),Ae(!0),(It=J.current)===null||It===void 0||It.info(V,"background image set")},[]),mn=Object(n.useCallback)(()=>{var ht;Ae(!1),(ht=J.current)===null||ht===void 0||ht.info(V,"background image cleared")},[]),vn=Object(n.useCallback)(()=>{var ht;(ht=ae.current)===null||ht===void 0||ht.pauseRecording()},[]),Xt=Object(n.useCallback)(()=>{var ht;(ht=ae.current)===null||ht===void 0||ht.resumeRecording()},[]);return Object(n.useEffect)(()=>{if(ee&&ae.current&&(ae.current.bgBlur!==Re&&ae.current.toggleBgBlur(),Ee&&Ge?ae.current.setBgImage(Ge):!Ee&&ae.current.bgImg&&ae.current.clearBgImage()),te){let ht;Re?ht="blur":Ee&&(ht="bg"),Object(t.d)({...te,video:{...te.video,effect:ht}})}},[Re,Ge,Ee,te,ee]),{setCanvasRef:Xn,recording:$e,startRecording:Ht,stopRecording:ut,microphoneOn:qe,microphoneFailed:Be,startMicrophone:bt,stopMicrophone:Nt,screenCaptureOn:Ue,startScreenCapture:gt,stopScreenCapture:Wt,screenCaptureFailed:ge,cameraOn:fe,cameraFailed:Se,startCamera:Mt,stopCamera:Xe,getCurrentDuration:St,devicePrefsChanged:Pt,pauseRecording:vn,resumeRecording:Xt,recordingPaused:he,blurEnabled:Re,toggleBgBlur:nn,bgImgEnabled:Ee,setBgImage:rn,clearBgImage:mn,microphoneStream:qe?(Z=ae.current)===null||Z===void 0?void 0:Z.microphoneStream:void 0,loading:ze,rendererStream:tt,cameraStream:fe?(ne=ae.current)===null||ne===void 0?void 0:ne.cameraStream:void 0}}o(k,"useStreamManager");var x=s.a=k;function H(W,U){try{const _=Object(t.b)();W(_),navigator.mediaDevices.enumerateDevices().then(B=>{const z=R(_,B);U(z)})}catch(_){Object(f.b)().warn(V,_,"Could not load device preferences"),U({camera:[],microphone:[],output:[]})}}o(H,"safelyReadDevicePrefs");function R(W,U){const _=o(z=>U.some(L=>L.deviceId===z),"deviceExists");return{camera:W.deviceIdPriorities.camera.filter(_),microphone:W.deviceIdPriorities.microphone.filter(_),output:W.deviceIdPriorities.output.filter(_)}}o(R,"filterDeviceIdsNotPresent")},KNcQ:function(w,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.BuiltIn="builtin",t.App="app",t.Workflow="workflow"})(n||(n={}))},KTal:function(w,s,e){"use strict";e.d(s,"b",function(){return R}),e.d(s,"a",function(){return W});var n=e("fujP"),t=e("OtLZ"),a=e("NFsq"),i=e("Fsnq"),c=e("lCmp"),r=e("pu3F"),f=e("7/SY"),l=e("Icpd"),p=e("i3RS"),h=e("ISSR"),u=e("E97Y"),b=e("C3vN"),v=e("Awbm"),d=e("Kn+X"),m=e("BBdC"),g=e("UIhb"),O=e("EzPs"),E=e("0kyL"),y=e("B+Mk"),C=e("TZwK"),I=e("AyK6"),j=e("Shth");function M(U,_){if(Object(n.a)(U)||!_)return!1;const B=Object(C.c)(U,_);return Object(n.a)(B)?!1:B.some(z=>{const L=Object(I.b)(U,{pendingFileId:z});return Object(y.d)(L)===j.a.ERROR})}o(M,"hasPendingFilesWithErrors");var T=e("x3iO"),D=e("sp7N"),S=e("mzZe"),A=e("O2qk"),P=e("9Gfp"),N=e("E3dU"),G=e("xwCZ"),V=e("nwIl"),k=e("5jHt"),x=e("T1/z"),H=e("RVJP");function R(U,_){const B={};var z;const L=(z=Object(d.e)(_))!==null&&z!==void 0?z:"",$=Object(H.d)(U,"native_gif_picker")==="on",Q=Object(O.a)(U,_),K=Object(V.a)(U,{draftId:L}),Z=Object(x.b)(U,{draftId:L}),ne=Object(l.a)(Z),F=Object(p.a)(U);ne&&(B.hasUnresolvedPendingDestinations=!0);let J=(!_||Object(n.a)(_))&&!Q;if($&&(J=(!_||Object(n.a)(_))&&!Q&&!K),J)B.missingDraft=!0;else{const X=Object(d.d)(_),Y=Object(d.j)(_),ae=Object(d.m)(_),ee=Object(x.c)(U,{draftId:L});if(!Object(n.a)(X)&&!Object(n.a)(ae)&&!Object(n.a)(Y))B.invalidDestinationCombination=!0;else if(Object(n.a)(X))if(Object(n.a)(ae))Object(n.a)(ee)?B.missingDestination=!0:Object(i.a)(ee)>F&&(B.invalidMemberCount=!0);else{const q=Object(P.a)(U),te=Object(t.a)(ae,q);if(te.length>1){Object(a.a)(te,r.Y)&&(B.invalidMemberSlackbot=!0);const re=Object(G.g)(U,q);Object(v.c)(re)&&(B.ultraRestrictedUserMpdm=!0)}Object(i.a)(te)+Object(i.a)(ee)>F&&(B.invalidMemberCount=!0);const se=te.filter(re=>{const oe=Object(G.g)(U,re);return Object(b.V)(oe)});se.length&&se.length===ae.length&&(se.length===1?B.deactivatedMember=!0:B.deactivatedMembers=!0),L&&Object(A.a)(U,{draftId:L})===r.U.INVALID_USER_COMBINATION&&(B.invalidUserCombination=!0)}else{const q=Object(N.d)(U,X[0]);let te=null;Y!=null&&Y[0].thread_ts&&(te=Object(g.b)(U,X[0],Y[0].thread_ts,!0)),(Object(u.r)(q)||Object(h.a)(q)||!Object(S.b)(U,X[0])&&!Object(E.a)(U,{message:te,channel:q}))&&(B.invalidChannel=!0)}if(_&&Object(d.x)(_)){const q=Object(d.n)(_);Object(f.a)({contents:q})||(B.invalidText=!0)}else(!$&&!Q||$&&!Q&&!K)&&(B.invalidText=!0);if(Q&&_){Object(m.a)(_)&&Object(m.a)(_).length>r.A&&(B.tooManyFiles=!0);const q=L&&Object(c.a)(Object(T.a)(U,{draft:_,draftId:L}),te=>te&&Object(D.a)(te.file));!q&&L&&M(U,L)&&(B.filesHaveErrors=!0),q&&(Object(c.a)(X,se=>!Object(k.d)(U,se))&&(B.cannotPostVideoClip=!0),Object(c.a)(X,se=>!Object(k.c)(U,se))&&(B.cannotPostAudioClip=!0))}}return{ok:Object(n.a)(B),reasons:B}}o(R,"isComposerDraftSendableWithReasons");function W(U,_){return R(U,_).ok}o(W,"isComposerDraftSendable")},KjUZ:function(w,s,e){"use strict";e.d(s,"c",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"a",function(){return i});var n=e("DwFS");const t=Object(n.a)("Upsert fetched workflow apps list for channel");t.meta={name:"createAction",key:"createActionupsertFetchedWorkflowAppsList",description:"Upsert fetched workflow apps list for channel"};const a=Object(n.a)("Upsert a workflow app for a channel");a.meta={name:"createAction",key:"createActionupsertFetchedWorkflowApp",description:"Upsert a workflow app for a channel"};const i=Object(n.a)("Remove workflow app from store on thunk success");i.meta={name:"createAction",key:"createActionremoveWorkflowAppFromChannelSuccess",description:"Remove workflow app from store on thunk success"}},Kk96:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("SQ0V"),t=e("RVJP"),a=e("z4V0"),i=e("xwCZ"),c=e("C3vN"),r=e("KVhq");const f=Object(n.c)("Processes a drafts attachments and upserts to the gif unfurl store",(l,p,h)=>{let{draft:u,draftId:b}=h;const v=p();if(!(Object(t.d)(v,"native_gif_picker")==="on")||!u||!b||Object(c.T)(Object(i.g)(v,u.user_id)))return;l(Object(r.a)({draftIds:[b]}));const{attachments:m}=u;for(const g of m){const{fallback:O,image_url:E,image_width:y,image_height:C,image_bytes:I}=g;if(!E&&!(E.indexOf("media.tenor.com/")>-1))continue;const j={from_url:E,image_url:E,image_width:y,image_height:C,image_bytes:I,fallback:O,original_url:E,original_gif_url:E,type:a.a};l(Object(r.c)({draftId:b,url:E,data:j,status:a.b.DRAFT}))}});f.meta={name:"createThunk",key:"createThunkprocessAndUpsertGifUnfurlAttachments",description:"Processes a drafts attachments and upserts to the gif unfurl store"}},L1zx:function(w,s,e){"use strict";var n=e("BeL+"),t=e("S1sa"),a=e("n3tL"),i=e("SQ0V"),c=e("Kmpi"),r=e("xwCZ"),f=e("CPJ1"),l=e("9Gfp"),p=e("eUIW"),h=e("n0Pp");const u=Object(i.c)('Ensures members with corresponding ids are "known"',function(b,v){let{memberIds:d,reason:m}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=v(),O=Object(r.b)(g),E=Object(n.a)(d).filter(M=>Object(p.a)(M)),[y,C]=Object(t.a)(E,M=>O[M]&&!Object(c.d)(O[M]));function I(){let{resolved:M}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return y.map(D=>O[D]).concat(M||[])}return o(I,"handleResponse"),Object(l.j)(g)&&!Object(h.i)(g)||!Object(l.p)(g)?b(Object(f.d)({ids:C,reason:m||"ensureMembersArePresent isEarlyCallsBoot"})).then(I):b(Object(f.c)({ids:C,reason:m||"ensureMembersArePresent"})).then(I)});u.meta={name:"createThunk",key:"createThunkensureMembersArePresent",description:'Ensures members with corresponding ids are "known"'},u.propTypes={memberIds:a.default.arrayOf(a.default.string),reason:a.default.string},s.a=u},LFHb:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("j4mf"),t=e("U28S");const a=1e4,i=o(r=>r>=1e4?1e3:r>1e3?500:50,"getRoundDownBy"),c=o(r=>{if(r<=50)return String(r);const f=i(r),l=Math.floor(r/f)*f;return`${r>=a?Object(t.a)(l,{precision:4,decimal_places:4,lowercase:!0}):Object(n.a)(l)}+`},"formatMemberCount")},LQ2n:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("BHdc"),c=e("E3dU"),r=e("O86Y"),f=e("beVI"),l=e("9x2x"),p=e("Yauy"),h=e("pZC0"),u=e("gVOt"),b=e("E97Y"),v=e("HW3N"),d=e("C3vN"),m=e("LvvF"),g=e("G0eX"),O=e("oEDn"),E=e("NPtR"),y=e("qDEp"),C=e("1DMY"),I=e("nNoG");const j=new I.b("jumper");let M=o(class extends n.Component{renderChannelIcon(){const{channel:A,channelType:P,mpimMemberCount:N,inline:G,memberId:V,showPresence:k,inheritPresenceIconSize:x,showDraftIcon:H,hasDraft:R}=this.props;let W;return P==="im"?V&&k&&!G?t.a.createElement(E.a,{inheritIconSize:x,memberId:V}):null:(H&&R?W="pencil":P==="mpim"&&N?W=`multiparty-dm-${N}`:Object(h.a)(A)?W="create-post":P==="private"?W="lock":W="channel",t.a.createElement(O.a,{type:W,size:"inherit","data-qa-icon-type":P}))}renderChannelName(){const{isImChannelWithHiddenUser:A,inline:P,displayName:N}=this.props,G=A?j.t("Name hidden"):N;return t.a.createElement(t.a.Fragment,null,this.renderChannelIcon(),t.a.createElement("span",{className:Object(i.default)("p-deprecated_channel_name__text",{"p-deprecated_channel_name__text--inline":!P}),"data-qa":"deprecated_channel_name__text"},G,this.renderChannelNameSuffix()),this.renderTeamIcon())}renderChannelNameSuffix(){const{previousName:A,showSuffix:P}=this.props;if(!P||!A)return null;let N;return A&&(N=j.t("(formerly #{previous_name})",{previous_name:A,note:'Shown when a user is typing the old name of a channel, e.g. "(formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"})),t.a.createElement("span",{className:"p-deprecated_channel_name__suffix"},N)}renderTeamIcon(){const{showTeamIcon:A,teamIdForChannel:P,teamName:N}=this.props;return!A||!P||!N?null:t.a.createElement("span",{className:"p-deprecated_channel_name__team_name p-deprecated_channel_name__team_name--xws"},"\xA0",t.a.createElement("span",{className:"p-deprecated_channel_name__team_name_child"},N))}renderButton(){const{autoClogProps:A,className:P,onClick:N}=this.props;return t.a.createElement(y.d,{className:Object(i.default)("p-deprecated_channel_name p-deprecated_channel_name--clickable",P),onClick:N,htmlType:"button",autoClogProps:A},this.renderChannelName())}render(){const{onClick:A,className:P,channel:N,channelId:G}=this.props,V=!!A;return V?t.a.createElement(C.a,{id:(N==null?void 0:N.id)||G||""},this.renderButton()):V?this.renderButton():t.a.createElement("span",{className:Object(i.default)("p-deprecated_channel_name",P),"data-qa":"channel_name_header"},this.renderChannelName())}},"DeprecatedChannelName");M.displayName="DeprecatedChannelName",M.displayName="DeprecatedChannelName",M.defaultProps={channelId:"",channelType:"channel",className:void 0,displayName:"",hasDraft:void 0,inheritPresenceIconSize:!1,inline:!1,isImChannelWithHiddenUser:!1,memberId:void 0,mpimMemberCount:void 0,onClick:void 0,previousName:void 0,showDraftIcon:!1,showPresence:!0,showSuffix:!0,showTeamIcon:!1,showTeamIconForLocalChannels:!1,showTeamIconForXwsChannels:!1,teamIdForChannel:"",teamName:""};const T=o((S,A)=>{const{channel:P,channelId:N,showTeamIconForXwsChannels:G=!1,showTeamIconForLocalChannels:V=!1}=A;let k=P||Object(c.d)(S,N);const x=Object(b.i)(k)?k&&Object(p.G)(k):null;P&&Object(d.db)(P)&&(k=Object(c.m)(S,P.id));const H=Object(b.g)(k)?Object(u.a)(k):null,R=!!H&&Object(m.b)(S,H),W=Object(b.d)(k),U=Object(r.h)(S),_=!!P&&(Object(p.X)(P)||Object(p.Ab)(S,P)),B=G&&(W==="channel"||W==="private")&&!Object(l.a)(k)&&(V||_);let z=B?k==null?void 0:k.team_id:void 0;B&&!z&&(_?z=Object(v.a)({state:S,channel:P,currentTeamId:U||""})||Object(p.Fb)(S,P):V&&(z=U));const L=z?Object(f.s)(S,z):void 0,$=z?Object(g.h)(L):void 0,Q=N?Object(p.v)(S,N):void 0;return{displayName:Object(p.t)(S,k,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),channelType:W,mpimMemberCount:x,memberId:H,showTeamIcon:B,teamIdForChannel:z,teamName:$,hasDraft:Q,isImChannelWithHiddenUser:R}},"mapStateToProps");var D=s.a=Object(a.a)(T)(M)},LSTB:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("KYPV");function i(){return i=Object.assign||function(r){for(var f=1;f<arguments.length;f++){var l=arguments[f];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(r[p]=l[p])}return r},i.apply(this,arguments)}o(i,"_extends");function c(r){let{className:f=void 0,initialValues:l,validate:p=void 0,validationSchema:h=void 0,validateOnChange:u=!0,validateOnMount:b=!1,onReset:v=void 0,onSubmit:d,children:m,...g}=r;const O=v?{onReset:v}:{};return t.a.createElement(t.a.Fragment,null,t.a.createElement(a.c,i({initialValues:l,validate:p,validationSchema:h,validateOnChange:u,validateOnMount:b,onSubmit:d},O,g),E=>{let{handleSubmit:y,handleReset:C,...I}=E;return t.a.createElement("form",{className:f,onSubmit:y,onReset:C},m({...I}))}))}o(c,"Form"),c.displayName="Form",s.a=c},LTWq:function(w,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"b",function(){return f}),e.d(s,"e",function(){return l}),e.d(s,"c",function(){return p}),e.d(s,"d",function(){return h});var n=e("HI9p"),t=e("3ftV"),a=e("khnw"),i=e("FAxm"),c=e("/2YZ");function r(u,b){let[v,d]=b;const m=u&&u[d]&&u[d].items?u[d].items:[];if(m&&m[v])return m[v]}o(r,"getCell");function f(u,b){if(u&&u[b])return u[b]}o(f,"getRow");function l(u){const b=f(u,2);return!!(b&&u.length>=3&&b&&b.items&&b.items.length>=1)}o(l,"rowsHaveAtLeastOneResult");function p(u,b){if(!u)return!1;const v=Object(n.a)(u,g=>{var O;return g.type==="group"&&((O=g.group)===null||O===void 0?void 0:O.name)==="Getting Work Done"}),d=Object(n.a)(u.slice(v+1),{type:i.a.GROUP})+v,m=d!==-1?d+v:1/0;return b>v&&b<m}o(p,"isCursorInsideProductivitySection");function h(u){let{screenRows:b,direction:v,currentCursor:d,pickerType:m,infiniteScroll:g=!1}=u;var O;const[E,y]=d;let C,I,j;switch(m){case c.g.GIF:I={type:i.a.GIF},C=(b==null?void 0:b.length)===1,j=[0,0];break;case c.g.EMOJI:default:I={type:i.a.EMOJI},C=(b==null?void 0:b.length)===3,j=[0,2]}if(!b||!v||y===-1)return j;let M=E,T=y;switch(v){case a.c:if(C)return h({screenRows:b,direction:a.o,currentCursor:[E,y],pickerType:m,infiniteScroll:g});T=y+1,T>=b.length&&(T=j[1]);break;case a.r:if(C)return h({screenRows:b,direction:a.k,currentCursor:[E,y],pickerType:m,infiniteScroll:g});T=y-1,T<0&&!g?T=b.length-1:T<0&&g&&(T=y);break;case a.k:if(M=E-1,M<0){var D,S,A;if(C){var P,N;M=((P=f(b,y))===null||P===void 0||(N=P.items)===null||N===void 0?void 0:N.length)||0;break}T=y-1,m===c.g.EMOJI&&((D=f(b,T))===null||D===void 0?void 0:D.type)!=="emoji"&&(T-=2),T<0&&(T=Object(t.a)(b,I)),M=(((S=f(b,T))===null||S===void 0||(A=S.items)===null||A===void 0?void 0:A.length)||0)-1}break;case a.o:var G,V;if(M=E+1,M>=(((G=f(b,y))===null||G===void 0||(V=G.items)===null||V===void 0?void 0:V.length)||0)){var k;if(C){M=0;break}T=y+1,T>Object(t.a)(b,I)&&(T=0),m===c.g.EMOJI&&((k=f(b,T))===null||k===void 0?void 0:k.type)!=="emoji"&&(T+=2),M=0}break;default:}if(m===c.g.EMOJI&&((O=f(b,T))===null||O===void 0?void 0:O.type)!=="emoji")return h({screenRows:b,direction:v,currentCursor:[M,T],pickerType:m,infiniteScroll:g});if(!r(b,[M,T])){var H,R;M=(((H=f(b,T))===null||H===void 0||(R=H.items)===null||R===void 0?void 0:R.length)||0)-1}return[M,T]}o(h,"moveCursor")},LTfc:function(w,s,e){"use strict";e.d(s,"b",function(){return p}),e.d(s,"c",function(){return u}),e.d(s,"d",function(){return b}),e.d(s,"e",function(){return v}),e.d(s,"a",function(){return d});var n=e("q1tI"),t=e.n(n);const a=/({{[^{}]+?}})/,i=/^{{([^{}]+?)}}$/,c="|",r=o(m=>m.value,"RENDER_VARIABLE_NOOP");function f(m){return i.test(m)}o(f,"isTemplateVariable");function l(m){var g;const O=(g=m.match(i))===null||g===void 0?void 0:g[1];if(!(O!=null&&O.includes(c)))return{variable:O};const[E,y]=O.split(c);return{variable:y,value:E}}o(l,"getVariableAndValueFromMadLibsString");function p(m){const g={};for(const O of h(m))if(f(O)){const{variable:E,value:y}=l(O);E&&(g[E]=y)}return g}o(p,"getPlaceholderValuesFromMadLibsString");function h(m){return m.split(a)}o(h,"splitMadLibsString");function u(m){let{madLibsString:g,variableValues:O,renderVariable:E=r}=m;return h(g).map(C=>{if(f(C)){const{variable:I,value:j}=l(C);if(I&&(O[I]||j))return t.a.createElement(t.a.Fragment,{key:I},E({value:O[I]||j||"",variable:I}))}return C})}o(u,"translateMadLibsSentence"),u.displayName="translateMadLibsSentence";function b(m){let{madLibsString:g,variableValues:O}=m;return u({madLibsString:g,variableValues:O}).map(y=>typeof y=="string"?y:t.a.isValidElement(y)?y.props.children:null).filter(Boolean).join("")}o(b,"translateMadLibsSentenceForScreenreader");function v(m){let{madLibsString:g,variableValues:O,renderVariable:E=r}=m;return u({madLibsString:g,variableValues:O,renderVariable:E})}o(v,"useInteractiveMadLibs");const d=o(m=>{const g=[];for(const O of h(m))if(f(O)){const{variable:E}=l(O);E&&g.push(E)}return g},"extractVariablesFromInputString")},LWrH:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("n3tL"),c=e("vfQU"),r=e("lhZz"),f=e("4tnk"),l=e("x3CK"),p=e("JoR1"),h=e("s4P+");function u(){return u=Object.assign||function(g){for(var O=1;O<arguments.length;O++){var E=arguments[O];for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&(g[y]=E[y])}return g},u.apply(this,arguments)}o(u,"_extends");const b={logger:i.default.object.isRequired,WrappedComponent:i.default.any.isRequired,keyboardPref:i.default.string,keyboardLayout:i.default.string,localizedFeatures:i.default.object},v={keyboardPref:void 0,keyboardLayout:void 0,localizedFeatures:{}};let d=o(class extends n.Component{componentWillUnmount(){this.desktopKeyboardLayoutDisposable&&(this.desktopKeyboardLayoutDisposable.dispose?this.desktopKeyboardLayoutDisposable.dispose():this.props.logger.warn("WITH-KB-LOCALE","Cannot unsubscribe from keyboard layout changes"))}render(){const{keyboardLayout:O,WrappedComponent:E,keyboardPref:y,logger:C,...I}=this.props;let M=(O!==void 0?O:this.state.legacyKeyboardLayout)||y;return M==="en-US"&&(M="us"),t.a.createElement(E,u({keyboardLocale:M},I))}constructor(O){if(super(O),O.keyboardLayout===void 0){const E=o(()=>{if(Object(c.pb)()){const y=Object(c.vb)().currentKeyboardLayout;return Object(l.d)(y,O.localizedFeatures)}return null},"getLegacyDesktopKeyboardLayout");this.state={legacyKeyboardLayout:E()},Object(c.pb)()&&(this.desktopKeyboardLayoutDisposable=Object(c.Ab)(()=>this.setState(()=>({legacyKeyboardLayout:E()}))))}}},"WithKeyboardLocale");d.displayName="WithKeyboardLocale",d.propTypes=b,d.defaultProps=v;function m(g){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;function E(y){let C=y;if(O){const M=Object(r.getStoreInstanceByTeamId)(O(y));if(!M)return!1;C=M.getState()}const I=Object(f.b)(C,"keyboardLayout"),j={};return{logger:Object(h.a)({teamState:C}),keyboardPref:Object(p.t)(C,"keyboard"),WrappedComponent:g,keyboardLayout:I&&Object(l.d)(I,j)}}return o(E,"mapStateToProps"),Object(a.a)(E)(d)}o(m,"withKeyboardLocale"),s.a=m},LaOi:function(w,s,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),i=e("/MKj"),c=e("zxER"),r=e("BHdc"),f=e("Trx9"),l=e("2XU3"),p=e("WCk1"),h=e("417x"),u=e("lvG7");const b=Object(p.a)("Get SIWS interstital blocks",(Ue,ve,ge)=>{let{appId:le,url:he,channelId:Te}=ge;return Ue(Object(l.apiCall)({args:{app_id:le,uri:he,channel_id:Te},method:"links.getInterstitialFields",reason:"siws-get-interstital-fields"})).then(Re=>({...Object(h.a)(Re,1)})).catch(Re=>{var Ve;throw((Ve=Re.data)===null||Ve===void 0?void 0:Ve.error)==="invalid_client_cache"&&Ue(Object(u.a)()),Re})});b.meta={name:"createFetcher",key:"createFetchergetInterstitialFields",description:"Get SIWS interstital blocks"};var v=b,d=e("yHsb"),m=e("WMzb"),g=e("59Ab"),O=e("+kJ4"),E=e("SQ0V"),y=e("T1zM"),C=e("s4P+"),I=e("+HIp"),j=e("ZgSn");const M=Object(E.c)("Set completed transfer pref of identity links prefs",(Ue,ve,ge)=>{let{appId:le,completedTransfer:he}=ge;const Te=Object(I.f)(ve());let Re="{}";try{Re=JSON.stringify({...Te,[le]:{completed_transfer:he,date_completed_transfer:Number(Date.now())}})}catch(Ve){Object(C.a)({getState:ve}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",Ve)}return Ue(Object(y.f)({pref:j.a,value:Re}))});M.meta={name:"createThunk",key:"createThunksetCompletedTransfer",description:"Set completed transfer pref of identity links prefs"};var T=e("HotN"),D=e("YUBf"),S=e("ktUG");const A=Object(p.a)("Send confirmation email",(Ue,ve,ge)=>{let{confirmationType:le,email:he,intent:Te,locale:Re}=ge;return Ue(Object(l.apiCall)({args:{confirmation_type:le,email:he,intent:Te,locale:Re},method:"signup.confirmEmail",reason:"send-confirm-email"}))});A.meta={name:"createFetcher",key:"createFetchersendConfirmEmail",description:"Send confirmation email"};var P=A;const N=Object(p.a)("Verify email confirmation code",(Ue,ve,ge)=>{let{code:le,email:he,intent:Te}=ge;return Ue(Object(l.apiCall)({args:{code:le,email:he,intent:Te},method:"signin.confirmCode",reason:"verify-confirm-code"}))});N.meta={name:"createFetcher",key:"createFetcherverifyConfirmCode",description:"Verify email confirmation code"};var G=N,V=e("SRik"),k=e("Ufy+"),x=e("iUFw"),H=e("eBYm"),R=e("3V+Q"),W=e("nNoG"),U=e("7nxQ"),_=e("P8PK"),B=e("xhb0"),z=e("nd5U");const L=new W.b("app-config"),$=o(Ue=>{let{url:ve}=Ue;return ve?a.a.createElement("div",{className:"p-identity_transfer_modal__redirect"},a.a.createElement("span",{className:"overflow_ellipsis"},L.t("Link to: "),ve)):null},"IdentityTransferModalLink");$.displayName="IdentityTransferModalLink";var Q=$;const K=new W.b("app-config"),Z=o(Ue=>{let{appId:ve,domain:ge,email:le,headerInfo:he,logger:Te,setIdentityTransferStep:Re,setLinkClickedPrefs:Ve,url:Ee,hideLink:Ae=!1,reverifyEmail:Ge=!1,autoClogProps:Ze}=Ue;const ze=Object(i.useDispatch)(),lt=Object(g.a)(),tt=Object(_.a)(),[Ot,Ct]=Object(t.useState)(V.a.Empty),[St,zt]=Object(t.useState)(!1),[kt,on]=Object(t.useState)(!1),_t=Object(t.useCallback)(Object(n.coroutine)(function*(){try{yield ze(P({confirmationType:"code",email:le,intent:"identity_links",locale:Object(U.i)()}))}catch(qt){Te.error("error in sending confirm email",qt)}}),[ze,le,Te]);Object(t.useEffect)(()=>{lt.current&&_t()},[lt,_t]);const be=o(()=>{Re(Ge?"reverifyEmail":"permissions")},"handleBackClicked"),ot=o(()=>{Ct(V.a.Empty),on(!1)},"handleChangeCode"),rt=o(()=>{_t()},"handleResendEmail"),Jt=function(){var qt=Object(n.coroutine)(function*($t){try{Ct(V.a.Processing),zt(!0),yield ze(G({code:$t,email:le,intent:"identity_links"})),yield Ve(!0),lt.current&&(Ct(V.a.Success),zt(!1),on(!1))}catch(hn){if(lt.current){switch(hn.name){case"expired":Ct(V.a.Expired),on(!1),_t();break;case"failed":Ct(V.a.Error),on(!1);break;case"ratelimited":Ct(V.a.Ratelimited),on(!1);break;default:Ct(V.a.Unknown),on(!0);break}zt(!1)}}});return o(function(hn){return qt.apply(this,arguments)},"handleFillCode")}(),Qt=Ot===V.a.Expired||Ot===V.a.Error||Ot===V.a.Unknown;return a.a.createElement(a.a.Fragment,null,a.a.createElement(D.d,null,a.a.createElement(B.a,{headerInfo:he}),a.a.createElement("h1",{className:"p-identity_transfer_modal__title"},K.t("Please verify your email address")),a.a.createElement(D.e,null,a.a.createElement("p",null,K.t("This is just a quick security check. A confirmation code has been sent to {email} \u2014 it expires in 15 minutes. Please keep this window open, while you check your email.",{email:le})),a.a.createElement("div",{className:"margin_bottom_50"},a.a.createElement("strong",null,K.t("Enter the code below:"))),a.a.createElement("form",{onSubmit:qt=>qt.preventDefault()},a.a.createElement("fieldset",{className:"no_margin no_padding no_border"},a.a.createElement("legend",{className:"offscreen"},K.t("Enter one number or letter into each input. The focus will automatically move to the next input after each entry. When you complete the form, a new window will open at {domain}.",{domain:ge,fallbackHash:"e87145104256693bd48398d7ff5b3414272bd92f",fallbackHashNs:"team_creation"})),a.a.createElement(k.a,{isCheckError:!1,isNumbersOnly:!1,onChange:ot,onFillCode:Jt,isInvalid:Qt,ariaDescribedBy:tt}))),a.a.createElement(V.b,{status:Ot,id:tt}),kt&&a.a.createElement("div",{className:"p-identity_transfer_modal__resend_verification"},a.a.createElement(R.b,{htmlFor:"resend_verification_email",text:K.t("Get a new verification code.")}),a.a.createElement(x.d,{id:"resend_verification_email",onClick:rt},K.t("Send Verification",{fallbackHash:"1e426f0e8ba0178a706f197235672b3aa19fd1a1"}))))),a.a.createElement(D.g,null,!Ae&&a.a.createElement(Q,{url:Ee}),a.a.createElement(D.h,null,a.a.createElement(H.a,{"aria-label":K.t("Back"),autoClogProps:{eventId:S.EventId.IDL_EMAIL_VERIFICATION_BACK,idlAppId:ve,idlDomain:ge,idlEventId:S.EventId[S.EventId.IDL_EMAIL_VERIFICATION_BACK].toLowerCase(),onClick:{enableClogAction:!0},...Ze},"data-qa":"siws_email_verification_back",loading:St,onClick:be,type:"outline"},K.t("Back")))))},"IdentityTransferModalEmailVerification");Z.displayName="IdentityTransferModalEmailVerification";var ne=Z,F=e("pFNT"),J=e("oEDn"),X=e("qDEp");const Y=new W.b("app-config"),ae=o(Ue=>{let{email:ve,name:ge,userId:le,workspaceDomain:he}=Ue;const Te=Object(_.a)(),[Re,Ve]=Object(t.useState)(!1);return a.a.createElement("div",{className:"p-identity_transfer_modal__member_card"},a.a.createElement("div",{className:"p-identity_transfer_modal__member_card__info",id:Te},a.a.createElement(F.c,{isInteractive:!1,"aria-label":"",className:"p-identity_transfer_modal__member_card__info__avatar",size:48,userId:le}),a.a.createElement("div",null,a.a.createElement("p",{className:"bold"},ge),a.a.createElement("p",null,ve),a.a.createElement(X.d,{"data-qa":"expand_to_see_user_details","aria-controls":Te,"aria-expanded":Re,"aria-label":Re?Y.t("Fewer User Details",{fallbackHash:"9cf188d3a6779d63b36b10275b0228ae22ec97d6",fallbackHashNs:"file"}):Y.t("More User Details",{fallbackHash:"9869e506c38f643f1fe985347c015deace6baa22",fallbackHashNs:"file"}),className:"p-identity_transfer_modal__member_card__expand",onClick:()=>Ve(!Re)},a.a.createElement(J.a,{type:Re?"chevron-large-up":"chevron-large-down"})),Re&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,Y.t("Workspace ID: {workspaceDomain}",{workspaceDomain:he})),a.a.createElement("p",null,Y.t("User ID: { userId }",{userId:le}))))))},"IdentityTransferModalMemberCard");ae.displayName="IdentityTransferModalMemberCard";var ee=ae;const q=new W.b("app-config"),te=o(Ue=>{let{icon:ve,text:ge}=Ue;return a.a.createElement("div",{className:"p-identity_transfer_modal__description_item"},a.a.createElement(J.a,{"aria-label":q.t("{icon} icon",{icon:ve}),className:"p-identity_transfer_modal__description_icon",type:ve}),a.a.createElement("p",null,ge))},"IdentityTransferModalDescriptionItem");te.displayName="IdentityTransferModalDescriptionItem";var de=te,se=e("Tevt"),re=e("3mLu");const oe=new W.b("app-config"),ce=o(Ue=>{let{appName:ve,privacyPolicyUrl:ge,tosUrl:le}=Ue;return a.a.createElement("div",{className:"p-identity_transfer_modal__legal"},oe.rt("Slack will securely share your name, email address, profile image, user ID, and team ID with {appName}. View Slack\u2019s <a3>privacy policy</a3>. By agreeing to allow Slack to share your identity, you are also agreeing to {appName}\u2019s <a2>privacy agreement</a2> and <a1>terms of service</a1>.",{appName:ve,fallbackHash:"134b5a808f103f39a428de3a5b72088dc38327d4"},he=>{let{tag:Te,text:Re}=he;switch(Te){case"a1":return a.a.createElement(se.a,{href:le},Re);case"a2":return a.a.createElement(se.a,{href:ge},Re);case"a3":return a.a.createElement(se.a,{href:Object(re.a)("/privacy-policy")},Re);default:return null}}))},"IdentityTransferModalLegal");ce.displayName="IdentityTransferModalLegal";var ue=ce;const Pe=new W.b("app-config"),Ye=o(Ue=>{let{appId:ve,domain:ge,isUnskippable:le=!1,hideLink:he=!1,headerInfo:Te,isLoading:Re,legalInfo:Ve,setIdentityTransferStep:Ee,setLinkClickedPrefs:Ae,url:Ge,userInfo:Ze,autoClogProps:ze}=Ue;const lt=Object(g.a)(),[tt,Ot]=Object(t.useState)(!0),[Ct,St]=Object(t.useState)(!1),[zt,kt]=Object(t.useState)(!0),[on,_t]=Object(t.useState)(!1);Object(t.useEffect)(()=>{Ot(Re),kt(Re)},[Re]);const be=function(){var qt=Object(n.coroutine)(function*($t){$t?(St(!0),kt(!0)):(Ot(!0),_t(!0)),yield Ae($t),lt.current&&($t?(St(!1),kt(!1)):(Ot(!1),_t(!1)))});return o(function(hn){return qt.apply(this,arguments)},"setLoadingAndLinkClickedPrefs")}(),ot=o(()=>{Ze.isEmailVerified?be(!0):Ee("emailVerification")},"handleAcceptClicked"),rt=o(()=>{be(!1)},"handleSkipClicked"),Jt=o(()=>{be(!1)},"handleCancelClicked"),{appName:Qt}=Te;return a.a.createElement(a.a.Fragment,null,a.a.createElement(D.d,null,a.a.createElement(B.a,{headerInfo:Te}),a.a.createElement("h1",{className:"p-identity_transfer_modal__title"},le?Pe.t("Connect {appName} with Slack",{appName:Qt}):Pe.t("Continue to {appName} with Slack",{appName:Qt})),a.a.createElement(D.e,{className:"p-identity_transfer_modal__member_section"},a.a.createElement(ee,{email:Ze.email,name:Ze.name,userId:Ze.userId,workspaceDomain:Ze.workspaceDomain})),a.a.createElement(D.e,null,a.a.createElement("div",{className:"p-identity_transfer_modal__info_box"},a.a.createElement("b",null,a.a.createElement("p",null,Pe.t("Your account details will be used to:",{fallbackHash:"aed3835c40e50f109d9a3e5c3643965d9b62d05d"}))),a.a.createElement(de,{icon:"plug",text:Pe.t("Establish a verified connection between an existing {appName} account and Slack. You\u2019ll sign in automatically.",{appName:Qt})}),a.a.createElement(de,{icon:"user",text:Pe.t("Help you create a new {appName} account, if you don\u2019t already have one.",{appName:Qt})}),a.a.createElement(de,{icon:"sparkles",text:Pe.t("Unlock {appName} features in Slack, like configurable notifications, rich link previews, and quick actions.",{appName:Qt})})),a.a.createElement(ue,{appName:Qt,privacyPolicyUrl:Ve.privacyPolicyUrl,tosUrl:Ve.tosUrl}))),a.a.createElement(D.g,null,!he&&a.a.createElement(Q,{url:Ge}),a.a.createElement(D.h,null,!le&&a.a.createElement(H.a,{autoClogProps:{eventId:S.EventId.IDL_INTERSTITIAL_SKIPPED,idlAppId:ve,idlDomain:ge,idlEventId:S.EventId[S.EventId.IDL_INTERSTITIAL_SKIPPED].toLowerCase(),onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip",disabled:zt,loading:on,onClick:rt,type:"outline"},Pe.t("Skip")),le&&a.a.createElement(x.d,{type:"outline",onClick:Jt,autoClogProps:{eventId:S.EventId.IDL_INTERSTITIAL_CLOSED,idlAppId:ve,idlDomain:ge,idlEventId:S.EventId[S.EventId.IDL_INTERSTITIAL_CLOSED].toLowerCase(),onClick:{enableClogAction:!0},...ze}},Pe.t("Cancel")),a.a.createElement(H.a,{autoClogProps:{eventId:S.EventId.IDL_INTERSTITIAL_ACCEPTED,idlAppId:ve,idlDomain:ge,idlEventId:S.EventId[S.EventId.IDL_INTERSTITIAL_ACCEPTED].toLowerCase(),onClick:{enableClogAction:!0},...ze},"data-qa":"siws_auth_modal_accept",disabled:tt,loading:Ct,onClick:ot,type:"primary"},Pe.t("Accept")))))},"SiwsIdentityTransfer");Ye.displayName="SiwsIdentityTransfer";var $e=Ye;const Ke=new W.b("app-config"),qe=o(Ue=>{let{appId:ve,domain:ge,headerInfo:le,url:he,setIdentityTransferStep:Te}=Ue;const Re=Object(i.useDispatch)(),Ve=Object(c.c)(Ge=>Object(I.d)(Ge,ve)),Ee=o(()=>{Te("permissions")},"handleBackClicked"),Ae=o(()=>{Re(Object(T.a)({appId:ve,dateOptedOut:Date.now(),numSkipped:Ve+1})),window.open(he,"_blank","noopener,noreferrer"),Re(Object(O.a)())},"handleProceedClicked");return a.a.createElement(a.a.Fragment,null,a.a.createElement(D.d,null,a.a.createElement(B.a,{headerInfo:le}),a.a.createElement("h1",{className:"p-identity_transfer_modal__title p-identity_transfer_modal__title--skip"},Ke.t("You\u2019ve skipped a few times and we hear you")),a.a.createElement(D.e,null,a.a.createElement("div",null,Ke.rt("We won\u2019t show this connection prompt again to encourage you to link your Slack and {appName}. Click \u2018Proceed\u2019 to continue to: {link}.",{appName:le.appName,link:a.a.createElement(se.a,{href:he},he)})))),a.a.createElement(D.g,null,a.a.createElement(D.h,null,a.a.createElement(X.f,{"aria-label":Ke.t("Back"),autoClogProps:{idlAppId:ve,idlDomain:ge,eventId:S.EventId.IDL_USER_OPT_OUT_BACK,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_back",onClick:Ee,type:"outline"},Ke.t("Back")),a.a.createElement(X.f,{"aria-label":Ke.t("Proceed"),autoClogProps:{idlAppId:ve,idlDomain:ge,eventId:S.EventId.IDL_USER_OPT_OUT_PROCEED,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_proceed",onClick:Ae},Ke.t("Proceed")))))},"IdentityTransferModalSkip");qe.displayName="IdentityTransferModalSkip";var ct=qe,Be=e("RVJP");const pe=new W.b("app-config"),fe=o(Ue=>{let{email:ve,headerInfo:ge,setIdentityTransferStep:le}=Ue;const he=Object(c.c)(Ee=>Object(Be.d)(Ee,"identity_transfer_reverification_strings")==="on"),Te=Object(i.useDispatch)(),Re=o(()=>{le("emailVerification")},"handleVerifyClicked"),Ve=Object(t.useCallback)(()=>{Te(Object(O.a)())},[Te]);return he?a.a.createElement(a.a.Fragment,null,a.a.createElement(D.d,null,a.a.createElement(B.a,{headerInfo:ge}),a.a.createElement("h1",{className:"p-identity_transfer_modal__title"},pe.t("Verify your account to continue with {appName}",{appName:ge==null?void 0:ge.appName})),a.a.createElement(D.e,null,a.a.createElement("div",{className:"p-identity_transfer_modal__info_box"},a.a.createElement("b",null,a.a.createElement("p",null,pe.t("Verification Required"))),a.a.createElement("ul",null,a.a.createElement("li",null,pe.t("You are trying to connect to {appName} on a device we don\u2019t recognize, or with a new email address.",{appName:ge==null?void 0:ge.appName})),a.a.createElement("li",null,pe.rt("To keep your account secure, we\u2019ll send a confirmation code to {email} to verify your identity before proceeding to the link.",{email:a.a.createElement("b",null,a.a.createElement("span",null,ve))}))),a.a.createElement("p",null,pe.t("Once you\u2019ve confirmed your identity, we\u2019ll remember this device for next time."))))),a.a.createElement(D.g,null,a.a.createElement(D.h,null,a.a.createElement(x.d,{type:"outline",onClick:Ve},pe.t("Cancel")),a.a.createElement(x.d,{onClick:Re},pe.t("Verify"))))):null},"IdentityTransferReverificationModal");fe.displayName="IdentityTransferReverificationModal";var me=fe;const Se=o(Ue=>{let{appId:ve,domain:ge,clientMsgId:le,isUnfurl:he=!1,isUserPrefs:Te=!1,url:Re,channelId:Ve,reverifyEmail:Ee=!1}=Ue;const Ae=Object(i.useDispatch)(),Ge=Object(m.a)(),Ze=Object(g.a)(),[ze,lt]=Object(t.useState)(null),[tt,Ot]=Object(t.useState)({appName:"",icons:{}}),[Ct,St]=Object(t.useState)({tosUrl:"",privacyPolicyUrl:""}),[zt,kt]=Object(t.useState)({email:"",isEmailVerified:!1,name:"",userId:"",workspaceDomain:"",workspaceId:""}),[on,_t]=Object(t.useState)(!0),[be,ot]=Object(t.useState)(Ee?"reverifyEmail":"permissions"),rt=Object(c.c)(gn=>he?0:Object(I.d)(gn,ve));Object(t.useEffect)(()=>{(function(){var Cn=Object(n.coroutine)(function*(){try{const{header:Mn,legal:kn,user:na}=yield Ae(v({appId:ve,url:Re,channelId:!Te&&!he?Ve:void 0}));Ze.current&&(Ot(Mn),St(kn),kt(na),_t(!1))}catch(Mn){!he&&!Te&&window.open(Re,"_blank","noopener,noreferrer"),Ae(Object(O.a)()),Ge.error(`app-id - ${ve}`,"error in getting interstitial blocks for link with given appid",Mn)}});return o(function(){return Cn.apply(this,arguments)},"getAuthModalData")})()()},[ve,Ae,Ge,Ze,Re,he,Te,Ve]);const Jt=Object(t.useCallback)(function(){var gn=Object(n.coroutine)(function*(Cn){try{Cn?(!Te&&Re&&(yield Ae(Object(d.b)({appId:ve,url:Re,clientMsgId:le,domain:ge,shouldCloseWindowOnCompletion:he}))),Ae(M({appId:ve,completedTransfer:!0})),Ae(Object(O.a)())):!he&&!Te&&rt<2?(Ae(Object(T.a)({appId:ve,dateLastSkipped:Date.now(),numSkipped:rt+1})),Ae(Object(O.a)()),window.open(Re,"_blank","noopener,noreferrer")):!he&&!Te&&rt===2?ot("skip"):(Ae(Object(O.a)()),!he&&!Te&&window.open(Re,"_blank","noopener,noreferrer"))}catch(Mn){Ge.error(`app-id - ${ve}`,"error in setting prefs with given appid",Mn)}});return function(Cn){return gn.apply(this,arguments)}}(),[ve,Ae,ge,le,Ge,rt,Re,he,Te]),Qt=Object(t.useCallback)(()=>{const gn={permissions:S.EventId.IDL_INTERSTITIAL_CLOSED,emailVerification:S.EventId.IDL_EMAIL_VERIFICATION_CLOSED,skip:S.EventId.IDL_USER_OPT_OUT_CLOSED,reverifyEmail:S.EventId.IDL_EMAIL_VERIFICATION_CLOSED},Cn=gn==null?void 0:gn[be];if(ze==null||ze.track({eventId:Cn,entryPoint:"USER_PREFS",idlAppId:ve,idlDomain:ge,idlEventId:S.EventId[Cn].toLowerCase()}),he||Te||Ee){Ae(Object(O.a)());return}be==="skip"?(Ae(Object(T.a)({appId:ve,dateOptedOut:Date.now(),numSkipped:rt+1})),window.open(Re,"_blank","noopener,noreferrer")):rt<2?(Ae(Object(T.a)({appId:ve,dateLastSkipped:Date.now(),numSkipped:rt+1})),window.open(Re,"_blank","noopener,noreferrer")):rt===2&&ot("skip"),be!=="skip"&&rt===2||Ae(Object(O.a)())},[ve,ze,Ae,ge,be,rt,Re,he,Te,Ee]);let qt;const $t={entryPoint:Te?"USER_PREFS":void 0};switch(be){case"reverifyEmail":qt=a.a.createElement(me,{email:zt.email,headerInfo:tt,setIdentityTransferStep:ot});break;case"emailVerification":qt=a.a.createElement(ne,{hideLink:Te||he,appId:ve,domain:ge,email:zt.email,headerInfo:tt,logger:Ge,setIdentityTransferStep:ot,setLinkClickedPrefs:Jt,url:Re,reverifyEmail:Ee,autoClogProps:$t});break;case"skip":qt=a.a.createElement(ct,{appId:ve,domain:ge,headerInfo:tt,setIdentityTransferStep:ot,url:Re});break;default:qt=a.a.createElement($e,{isUnskippable:he||Te,hideLink:he||Te,appId:ve,domain:ge,headerInfo:tt,isLoading:on,legalInfo:Ct,setIdentityTransferStep:ot,setLinkClickedPrefs:Jt,userInfo:zt,url:Re,autoClogProps:$t})}const hn=Object(r.default)("p-identity_transfer_modal",{"p-identity_transfer_modal--skip":be==="skip"});return a.a.createElement(f.a,{trackClogRef:gn=>{lt({track:gn})}},a.a.createElement(D.a,{className:hn,closeModal:Qt,shouldCloseOnOverlayClick:!1},qt))},"IdentityTransferModal");Se.displayName="IdentityTransferModal";var je=s.a=Se},Lts7:function(w,s,e){"use strict";var n=e("SQ0V"),t=e("n3tL"),a=e("O86Y"),i=e("beVI"),c=e("G0eX"),r=e("SZMM"),f=e("Pw4T"),l=e("Rthn"),p=e("ktUG"),h=e("s4P+"),u=e("5IZy"),b=e("n7UZ"),v=e("0zuE"),d=e("kJAc"),m=e("a7YP");function g(M){return Object(m.v)(M)}o(g,"shouldLaunchUnifiedUserWorkflowBuilder");var O=e("G7OB"),E=e("UIWO");const y={},C=Object(n.c)("launch workflow builder",function(M,T){let{subPath:D="",source:S="",channelId:A="",isRoadblockModalStackable:P=!1,isSidebarClosed:N=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const G=T();if(Object(l.c)(G,A)){const V=Object(a.h)(G),k=Object(i.s)(G,V),x=Object(f.d)({state:G}),H=Object(h.a)({label:"WORKFLOW-BUILDER",state:G}),R=D.charAt(0)==="/"?D.slice(1):D,W=Object(m.v)(G),U=y[V];if(U&&U.focus&&U.isClosed&&!U.isClosed())try{U.focus(),x.count(S?`workflow_builder_focused_from_client__${S}`:"workflow_builder_focused_from_client"),H.debug("Workflow Builder window focused");return}catch(_){H.error("Unable to focus existing Workflow Builder window. Will try opening a new one.",_)}try{const _=Object(a.c)(G),B=D.includes("/integrations")&&D.includes("source=sales_elevate"),z=Object(E.a)(G)&&!W?_:V;let L;(g(G)||B)&&(L=Object(c.z)(k)?{...O.a,team_id:Object(E.a)(G)?_:V}:O.a),N&&(L.sidebar_closed=1);const $=M(Object(r.h)({pathname:`/workflow-builder/${z}/${R}`,windowOptions:{height:700,width:1024},queryStringParams:L}));y[V]=$,x.count(S?`workflow_builder_launched_from_client__${S}`:"workflow_builder_launched_from_client"),H.debug("Workflow Builder window opened"),Object(u.a)({state:G}).track(p.EventId.OPEN_WORKFLOW_BUILDER_FROM_CLIENT,{contexts:{ui_context:{action:p.UiAction.CLICK,entry_point:S},workflow_builder:{is_hermes:W}}})}catch(_){H.error("Unable to open new Workflow Builder window.",_)}}else Object(b.a)(G,A)&&M(Object(d.a)({source:v.a.AddWorkflows,channel:A,isStackable:P}))});C.meta={name:"createThunk",key:"createThunklaunchWorkflowBuilder",description:"launch workflow builder"},C.propTypes={subPath:t.default.string,source:t.default.string,channelId:t.default.string};var I=s.a=C;const j={workflowBuilderWindowsByTeam:y}},M39c:function(w,s,e){"use strict";e.d(s,"b",function(){return h}),e.d(s,"j",function(){return u}),e.d(s,"d",function(){return b}),e.d(s,"c",function(){return v}),e.d(s,"g",function(){return d}),e.d(s,"h",function(){return m}),e.d(s,"i",function(){return g}),e.d(s,"f",function(){return O}),e.d(s,"e",function(){return y}),e.d(s,"l",function(){return j}),e.d(s,"k",function(){return M}),e.d(s,"a",function(){return D}),e.d(s,"m",function(){return S});var n=e("XIp8"),t=e("Muja"),a=e("owWc"),i=e("gPPH"),c=e("vIgB"),r=e("s4Ht"),f=e("wOIf"),l=e("ntOI"),p=e("72cY");const h=o(A=>{let{derivedData:P={available_interacation_pointer:!1,available_data:[]},subtype:N="",inputs:G,is_pristine:V,templateEditorCoachmark:k,stepType:x}=A;return{id:Object(i.a)(),type:f.SLACK_FUNCTION,config:{function_id:N,inputs:G||{},is_pristine:V,type:x},derived:Object(n.a)(P),coachmarkText:k}},"createSlackFunctionSegment"),u=o(A=>A.config.function_id,"getSlackFunctionId"),b=o(A=>A.config.inputs,"getConfiguredInputs"),v=o((A,P)=>{const N=b(A);if(P in N)return N[P]},"getConfiguredInput"),d=o(A=>A.requiredContext,"getRequiredContext"),m=o(A=>A.config.slackFunction,"getSlackFunction"),g=o(A=>{var P;return(P=A.config.slackFunction)===null||P===void 0?void 0:P.app_id},"getSlackFunctionAppId"),O=o(A=>{var P;return(P=A.config.slackFunction)===null||P===void 0?void 0:P.input_parameters},"getFunctionInputParams"),E=o(A=>{var P;return(P=A.config.slackFunction)===null||P===void 0?void 0:P.output_parameters},"getFunctionOutputParams"),y=o(A=>{var P;return(P=A.config.slackFunction)===null||P===void 0?void 0:P.callback_id},"getFunctionCallbackId"),C=o(A=>{switch(A.type){case c.d.SlackTypesInteractivity:case c.d.Array:return{value:[]};default:return{value:null}}},"getInitialValueTemplate"),I=o((A,P,N)=>{if(A.type===c.e.SlackTypesCredentialOauth2){const V=P,k=N;if((V==null?void 0:V.external_token_id)===(k==null?void 0:k.external_token_id)&&(V==null?void 0:V.credential_source)!==(k==null?void 0:k.credential_source))return!1}return!Object(t.a)(P,N)},"shouldParamChangeInvalidateDependentInputs"),j=o((A,P,N,G,V)=>{var k,x;const H=Object(n.a)(A),R=b(H);R[P.name]=R[P.name]||C(P);const W=(k=R[P.name])===null||k===void 0?void 0:k.value,{label:U,..._}=R[P.name];R[P.name]={..._,value:N},G&&(R[P.name].label=G);const{shouldSetSegmentState:B,setSegmentState:z}=V??{};if(typeof B=="function"&&B(A,P,N)&&typeof z=="function")return z(A,P,N);if(!((x=H.config.slackFunction)===null||x===void 0)&&x.input_parameters&&I(P,W,N)){const L=H.config.slackFunction.input_parameters.reduce(($,Q)=>{const K=Q.dynamic_options,Z=K==null?void 0:K.inputs;return Z&&Object.values(Z).reduce((F,J)=>{let{value:X}=J;if(typeof X=="string"){const Y=l.a.exec(X);if(Y){const[,ae]=Y;return F.push(ae),F}}return F},[]).includes(P.name)&&$.push(Q.name),$},[]);if(L.length)for(const $ of L){const Q=H.config.slackFunction.input_parameters.find(K=>K.name===$);Q&&(R[$]=C({type:Q.type}))}}return H},"setConfiguredParameterValue"),M=o((A,P)=>{const N=Object(n.a)(A),G=b(N);return delete G[P.name],N},"removeConfiguredParameter"),T=o(A=>{const P=Boolean(A==null?void 0:A.input_parameters.some(N=>"dynamic_options"in N));return{...A,input_parameters:P?Object(p.a)(A.input_parameters):A.input_parameters}},"applyDynamicInputsSchema"),D=o((A,P)=>{if(!P)return A;const N=Object(n.a)(A),G=b(N);return N.config.inputs=Object(a.a)(P.input_parameters,(V,k)=>{const x=G[k.name];return(k.is_required||x)&&(V[k.name]=x||C({type:k.type})),V},{}),N.config.slackFunction=T(Object(n.a)(P)),N},"applySlackFunctionSchema"),S=o((A,P)=>{if(!A.function){const G=h({featureFlags:{},member:{},subtype:r.l,templateEditorCoachmark:P,stepType:void 0});return A.id&&(G.id=A.id),G}let N=h({featureFlags:{},member:{},subtype:A.function.id,derivedData:{available_data:A.available_data||[],available_interacation_pointer:!1,outputs:A.outputs},inputs:A.inputs,is_pristine:A==null?void 0:A.is_pristine,templateEditorCoachmark:P,stepType:A.type});return N.id=A.id,N=D(N,A.function),N},"transformStepToSegment")},M7RD:function(w,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"c",function(){return r});var n=e("ivW5"),t=e("vLZU");const a={storeKey:"quipAtoms",persistenceEnabled:!0,scope:t.k.orgShared},{reducer:i,actions:c,selectors:r}=Object(n.a)(a);s.b=i},MIzC:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("q1tI"),t=e.n(n);function a(i,c){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const f=Object(n.useRef)(),l=Object(n.useRef)(),p=Object(n.useRef)(0),h=[i,...r];f.current=c,Object(n.useEffect)(()=>{const u=new Date().getSeconds(),b=new Date(i).getSeconds();let v;u<b?v=b-u:u>b?v=60-u+b:v=60,p.current=Math.max(v,5)},[i]),Object(n.useEffect)(()=>{var u;(u=f.current)===null||u===void 0||u.call(f);function b(){l.current=window.setTimeout(()=>{var v;(v=f.current)===null||v===void 0||v.call(f),p.current=60,b()},p.current*1e3)}return o(b,"scheduleNextTimeout"),b(),()=>{clearTimeout(l.current)}},h)}o(a,"useMinuteAfterTsInterval")},MUHO:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("SQ0V"),t=e("pgMT"),a=e("jprL"),i=e("RVJP"),c=e("kQBZ");const r=Object(n.c)("Remove an unfurl from a draft",(f,l,p)=>{let{draftId:h,url:u}=p;f(Object(t.d)({draftId:h,url:u,status:a.f})),Object(i.d)(l(),"magic_unfurls")==="treatment"&&f(Object(c.Sc)({reason:"user-removed-draft-unfurl",url:u}))});r.meta={name:"createThunk",key:"createThunkremoveDraftUnfurl",description:"Remove an unfurl from a draft"}},MXGC:function(w,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("q1tI"),t=e.n(n),a=e("fujP"),i=e("zxER"),c=e("RVJP"),r=e("nNoG"),f=e("YUBf"),l=e("ktUG"),p=e("Zbwg"),h=e("Trx9"),u=e("O86Y"),b=e("/CFe"),v=e("rBAR"),d=e("VymY"),m=e("aCzs"),g=e("oLdd");const O=new r.b("share-dialog");function E(y){let{modifiedPermissions:C,modifiedOrgSharingSetting:I,modifiedOrgTemplateSetting:j,isOrgWideTemplate:M,continueButtonIsLoading:T,shouldShowCloseDialogSpeedbump:D,onContinue:S,onCancel:A}=y;const P=Object(i.c)(R=>Object(c.d)(R,"canvas_templates_admin")==="on"),N=Object(i.c)(u.i),G=Object(n.useRef)(null);if(Object(n.useEffect)(()=>{var R;(R=Object(d.d)(G==null?void 0:G.current))===null||R===void 0||R.focus()},[]),!N||!Object(m.b)({modifiedPermissions:C,modifiedOrgSharingSetting:I,modifiedOrgTemplateSetting:j,isOrgWideTemplate:M}))return null;let V,k,x,H;return D?(V=O.t("Want to discard your changes?"),k=O.t("Any unsaved changes will reset to what you had before."),x=O.t("Discard"),H="danger"):(V=O.t("Want to save your changes?"),Object(a.a)(C)?(I||j!==void 0)&&(I&&j===void 0?k=O.t("General permissions need to be saved before navigating to a new tab."):P&&(!I&&j!==void 0?k=O.t("The template setting needs to be saved before navigating to a new tab."):k=O.t("General permissions and the template setting need to be saved before navigating to a new tab."))):Object(p.a)(Object.keys(C)[0])?k=O.t("Channel permissions need to be saved before navigating to a new tab."):k=O.t("People permissions need to be saved before navigating to a new tab."),x=O.t("Save"),H="primary"),t.a.createElement(h.a,{uiComponentName:l.UiComponentName.QUIP_SHARE_DIALOG_SPEEDBUMP,uiComponentVariant:D?"unsaved_changes_close":"unsaved_changes_switch",clogImpression:!0},t.a.createElement("div",{ref:G},t.a.createElement(f.k,{className:"p-canvas_access_speedbump",heading:V,description:k,onContinue:S,continueButtonLabel:x,continueButtonType:H,continueButtonIsLoading:T,onCancel:A,cancelButtonLabel:O.t("Back"),"data-qa":b.b.CHANGE_ACCESS_SPEEDBUMP,autoClogProps:Object(v.e)(D)})))}o(E,"CanvasChangeAccessSpeedBump")},MY1y:function(w,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"b",function(){return f});var n=e("ZKjC"),t=e("ekM3"),a=e("gnJq"),i=e("O86Y"),c=e("qiCS");const r=Object(n.b)((l,p,h)=>{let u=p==null?void 0:p.url_private_download;if(!u)return null;const b=Object(i.g)(l);return u=Object(c.d)(u,"origin_team",b),h?Object(c.d)(u,"export_lists_template",!0):u});r.meta={name:"createSelector",key:"createSelectorgetFileDownloadUrl",description:(l,p,h)=>{let u=p==null?void 0:p.url_private_download;if(!u)return null;const b=Object(i.g)(l);return u=Object(c.d)(u,"origin_team",b),h?Object(c.d)(u,"export_lists_template",!0):u}};const f=Object(n.b)((l,p)=>{if(!p||Object(a.a)(p))return null;const h=Object(t.a)(l,p);return h==="download"?r(l,p):["external","remote","window"].includes(h)?p.url_private:p.permalink});f.meta={name:"createSelector",key:"createSelectorgetFileHref",description:(l,p)=>{if(!p||Object(a.a)(p))return null;const h=Object(t.a)(l,p);return h==="download"?r(l,p):["external","remote","window"].includes(h)?p.url_private:p.permalink}}},MaHh:function(w,s,e){w.exports=e.p+"exchange-10f9bbd.svg"},ManY:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("cRDo");function i(c,r){const f=Object(n.useRef)(c),[l,p]=Object(n.useState)(c),h=Object(a.a)(()=>{r&&p(f.current)},r,[l]),u=Object(n.useCallback)(()=>{h(),p(f.current)},[h]);return[l,p,u]}o(i,"useEphemeralState")},MhVz:function(w,s,e){w.exports=e.p+"confirmation-9d699ca.svg"},Ms05:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("Y/OQ"),t=e("jmOL");function a(i){const c=!Object(n.a)(i).match(t.j);return Object(n.a)(i,{replaceLinks:c,replaceCode:!0,embedReplacement:"!"})}o(a,"getTextForRegex")},MvaT:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("qAkX"),t=e("0qhH");function a(i){if(!i||i.length()===0)return!1;const c=i.slice(i.length()-1);if(!c)return!1;const r=Object(n.a)(c.ops)||{};return!r||!Object(t.a)(r)?!1:r.insert===`
`}o(a,"hasTrailingNewline")},My6o:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("26ZP");const c=new a.b("share-dialog");function r(l,p){const h="p-share_dialog__warning_message";return p?t.a.createElement("span",{className:h,key:p},l):t.a.createElement("span",{className:h},l)}o(r,"wrapWarningText"),r.displayName="wrapWarningText";function f(l){const{atChannelWarningKeyword:p,channelMemberCount:h=0,disallowedKeywordInMsgText:u,isMessageShare:b,selectedChannelIsGeneral:v,selectedChannelName:d,willJoinChannel:m}=l;if(u){const O=Object(i.a)({type:u.replace("@",""),tsfMode:"NORMAL"});return r(u==="@everyone"&&!v?c.rt("<strong>{keyword}</strong> can\u2019t be used in {channelName}.",{keyword:O,channelName:d}):v?c.rt("A Workspace Owner has restricted the use of {keyword} messages in {channelName}.",{channelName:d,keyword:O}):c.rt("A Workspace Owner has restricted the use of {keyword} messages.",{keyword:O}))}const g=[];if(p){const O=Object(i.a)({type:p.replace("@",""),tsfMode:"NORMAL"});p==="@here"?g.push(r(c.rt("By using {keyword}, you\u2019re about to notify everyone in this channel who\u2019s currently online",{keyword:O}),"atChannelWarningKeyword")):g.push(r(c.rt("By using {keyword}, you are about to notify {memberCount, plural, =1 {# person} other {# people}}",{keyword:O,memberCount:h-1}),"atChannelWarningKeyword"))}return m&&(b?g.push(r(c.rt("You will join this channel when you share the message into it."),"willJoinChannel")):g.push(r(c.rt("You will join this channel when you share the file into it."),"willJoinChannel"))),g.length?t.a.createElement(t.a.Fragment,null,g):null}o(f,"getShareDialogWarningMessage"),s.a=f},MyeY:function(w,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return i}),e.d(s,"c",function(){return p}),e.d(s,"f",function(){return h}),e.d(s,"e",function(){return u}),e.d(s,"d",function(){return v});var n=e("7exg"),t=e("Qm7m");const a=o(O=>O.id,"getTriggerId"),i=o(O=>O.type,"getTriggerType"),c=o(O=>O.name,"getTriggerName"),r=o(O=>O.description,"getTriggerDescription"),f=o(O=>O.inputs,"getTriggerInputs"),l=o(O=>O.workflow,"getTriggerWorkflow"),p=o(O=>O.workflow.app_id,"getTriggerWorkflowAppId"),h=o((O,E)=>{const y=i(O);return{...Object(n.a)(y,{featureFlags:{},member:{},derivedData:{available_data:[],available_interacation_pointer:!1},srcData:O}),coachmarkText:E}},"transformTriggerToSegment");function u(O){switch(O){case t.HERMES_WEBHOOK:return t.WEBHOOK;case t.HERMES_SCHEDULED:return t.SCHEDULED;default:return O}}o(u,"prepareHermesTriggerType");const b=o(O=>O.type===t.SHORTCUT,"isShortcutTrigger"),v=o(O=>O.type===t.SCHEDULED||O.type===t.HERMES_SCHEDULED,"isScheduledTrigger"),d=o(O=>O.type===t.SLACK_EVENT,"isNativeEventTrigger"),m=o(O=>O.type===t.WEBHOOK||O.type===t.HERMES_WEBHOOK,"isWebhookTrigger"),g=o(O=>O.type===t.EXTERNAL,"isExternalEventTrigger")},Mz8L:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("nNoG");const t=new n.b("filesize");function a(i){let{decimalPlaces:c,iec:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i===0)return r?t.t("0 bits"):t.t("0 bytes");const f=r?1024:1e3;if(Math.abs(i)<f)return t.t("{bytes} B",{bytes:i});let l=-1,p=i;do p/=f,l+=1;while(Math.abs(p)>=f&&l<7);const h=c?p.toFixed(c):Math.round(p);return(r?[t.t("{size} KiB",{size:h}),t.t("{size} MiB",{size:h}),t.t("{size} GiB",{size:h}),t.t("{size} TiB",{size:h}),t.t("{size} PiB",{size:h}),t.t("{size} EiB",{size:h}),t.t("{size} ZiB",{size:h}),t.t("{size} YiB",{size:h})]:[t.t("{size} kB",{size:h}),t.t("{size} MB",{size:h}),t.t("{size} GB",{size:h}),t.t("{size} TB",{size:h}),t.t("{size} PB",{size:h}),t.t("{size} EB",{size:h}),t.t("{size} ZB",{size:h}),t.t("{size} YB",{size:h})])[l]}o(a,"convertFilesize")},N2b9:function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"c",function(){return a}),e.d(s,"a",function(){return i});var n=e("P9LH");function t(c){let{file:r,title:f,altText:l}=c;if(!Object(n.Hb)(r))return null;const p=new FormData;p.append("file",r,r.name);const h=p.get("file");return h?(h.id=r.id,f&&(h.title=f),l&&(h.alt_txt=l),h):null}o(t,"clonePendingFileWithNewFields");const a=o(c=>{let{channelId:r,threadTs:f}=c;return f?`${r}-${f}`:r},"getKey"),i="file-upload-dialog"},N4UQ:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n);function a(i){let{recording:c,recordingPaused:r}=i;const f=Object(n.useRef)([]);return Object(n.useEffect)(()=>{c?r?f.current.push({type:"stop",ms:performance.now()}):f.current.push({type:"start",ms:performance.now()}):f.current=[]},[c,r]),Object(n.useCallback)(()=>{let p=-1,h=0;return f.current.forEach(u=>{u.type==="start"?p<0&&(p=u.ms):u.type==="stop"&&p>=0&&(h+=u.ms-p,p=-1)}),p>=0&&(h+=performance.now()-p),h/1e3},[])}o(a,"useCurrentDuration"),s.a=a},N5xo:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("MIzC"),t=e("Nyfl");function a(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=Object(t.a)(()=>{const f=new Date;return f.setSeconds(0),f.getTime()},[]);Object(n.a)(r,i,c)}o(a,"useSnapToMinuteInterval")},NBsH:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("hbEN"),c=e("ifKl"),r=e("wd/R"),f=e.n(r),l=e("Cfcg"),p=e("WIr4"),h=e("qDEp"),u=e("oEDn"),b=e("QYtq"),v=e("s4P+"),d=e("nNoG"),m=e("7bEI"),g=e("MYuU"),O=e("9Gfp"),E=e("SkME"),y=e("INTg"),C=e("4TL0"),I=e("aqlM");const j=new d.b("date_picker"),M=150;let T=o(class extends n.PureComponent{componentDidUpdate(){this.updateListeners()}componentWillUnmount(){this.removeListeners()}setTargetBounds(){if(this.selectContainer.current){const P=this.selectContainer.current.getBoundingClientRect(),{pageYOffset:N}=window,G={top:P.top+N,bottom:P.bottom+N,left:P.left,right:P.right,width:P.width,height:P.height};this.setState(()=>({targetBoundsAdjusted:G}))}}changeDate(P){P!==this.props.selectedDate&&this.props.onDateChange(P)}closeDropdown(){this.setState(()=>({dropdownVisible:!1,dropdownActive:!1}))}handleOnClose(){this.props.onClose(),this.closeDropdown()}handleCalendarChange(P){this.changeDate(P),this.closeDropdown()}handleClearSelectionClick(){this.changeDate(""),this.closeDropdown()}handleContainerClick(){this.lastClickInsideSelect=!0}handleDropdownClick(){this.lastClickInsideDropdown=!0}handleDropdownFocusEnter(){this.props.datePickerDisabled||this.setState(()=>({dropdownVisible:!0,dropdownActive:!0}))}handleInputBlur(P){let{relatedTarget:N}=P;const G=this.dropdownContainer.current;G&&G.contains(N)||(this.setState(()=>({dropdownVisible:!1})),this.props.onBlur&&this.props.onBlur())}handleInputChange(P){this.changeDate(P)}handleInputClick(P){if(this.props.datePickerDisabled)return;this.setTargetBounds();const N=Object(m.a)(P);this.setState(()=>({dropdownVisible:!0,dropdownActive:N,dropdownFocusOnMount:N})),this.props.onClick(P)}handleInputEscape(P){this.state.dropdownVisible&&(P.preventDefault(),this.setState(()=>({dropdownVisible:!1})))}handleMaybeOutsideClick(){this.lastClickInsideSelect||this.lastClickInsideDropdown?(this.lastClickInsideSelect=!1,this.lastClickInsideDropdown=!1):this.setState(()=>({dropdownVisible:!1,dropdownActive:!1,dropdownFocusOnMount:!1}))}handleTriggerClick(P){if(this.props.datePickerDisabled)return;this.setTargetBounds();const N=Object(m.a)(P);this.setState(G=>G.dropdownVisible?{dropdownVisible:!1,dropdownActive:!1,dropdownFocusOnMount:!1}:{dropdownVisible:!0,dropdownActive:!0,dropdownFocusOnMount:N}),this.props.onClick(P)}removeListeners(){this.resizeListenerInstalled&&(this.handleResize.cancel(),window.removeEventListener("resize",this.handleResize),this.resizeListenerInstalled=!1),this.clickListenerInstalled&&(document.removeEventListener("click",this.handleMaybeOutsideClick),this.clickListenerInstalled=!1)}updateListeners(){this.state.dropdownVisible?(this.resizeListenerInstalled||(window.addEventListener("resize",this.handleResize),this.resizeListenerInstalled=!0),this.clickListenerInstalled||(document.addEventListener("click",this.handleMaybeOutsideClick),this.clickListenerInstalled=!0)):this.removeListeners()}handleContainerKeyDown(P){const{onDatePickerSelectKeyDown:N}=this.props;if(N)return N(P,{closeDropdown:this.closeDropdown})}renderPopover(){const{selectedDate:P,dateFormat:N,calendarClassName:G,dropdownClassName:V,yearTitleFormat:k,isDateDisabled:x,disabledDates:H,disableDatesBefore:R,disableDatesAfter:W,required:U,size:_,onScrollablePage:B,initialViewType:z,clearSelectionText:L}=this.props,{dropdownVisible:$,dropdownActive:Q,dropdownFocusOnMount:K}=this.state,Z=Object(a.default)(V,"c-date_picker__dropdown"),ne=Object(a.default)(G,"c-date_picker__select_calendar"),F=_==="small"?C.b:C.a;let J;return B&&(J={height:window.document.body.scrollHeight}),t.a.createElement(b.a,{isOpen:$,onClose:this.handleOnClose,overlayClassName:"c-popover c-date_picker__popover_overlay",targetBounds:this.state.targetBoundsAdjusted,position:"bottom-right",offsetX:F.x,offsetY:F.y,ariaHideApp:!Q,shouldFocusAfterRender:Q,tryOppositePosition:!0,overlayStyle:J},t.a.createElement("div",{ref:this.dropdownContainer,className:Z,tabIndex:-1,"data-qa":"date_picker_dropdown",onFocus:this.handleDropdownFocusEnter},t.a.createElement(y.a,{className:ne,selectedDate:P,dateFormat:N,yearTitleFormat:k,onDateChange:this.handleCalendarChange,kbNavActive:Q,focusOnMount:K,isDateDisabled:x,disabledDates:H,disableDatesBefore:R,disableDatesAfter:W,initialViewType:z}),!U&&P&&t.a.createElement("div",{className:"c-date_picker__clear_selection_container"},t.a.createElement(h.d,{className:"c-date_picker__clear_selection_btn","data-qa":"date_picker_clear",onClick:this.handleClearSelectionClick},L||j.t("Clear selection")))))}renderPopoverTrigger(){const{"data-qa":P,size:N}=this.props;return t.a.createElement(h.d,{className:Object(a.default)("c-date_picker__select_btn",{"c-date_picker__select_btn--small":N==="small","c-date_picker__select_btn--large":N==="large"}),onClick:this.handleTriggerClick,"data-qa":P?`${P}_dropdown_trigger`:"date_picker_dropdown_trigger","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],disabled:this.props.datePickerDisabled},t.a.createElement(u.a,{type:N==="small"?"chevron-down":"chevron-medium-down"}))}renderDownIcon(){return t.a.createElement(u.a,{className:"c-date_picker__icon",type:this.props.size==="small"?"chevron-down":"chevron-medium-down"})}render(){const{id:P,dateFormat:N,displayFormat:G,datePlaceholder:V,inputClassName:k,isDateDisabled:x,disabledDates:H,disableDatesBefore:R,disableDatesAfter:W,required:U,selectedDate:_,size:B,datePickerDisabled:z,"aria-label":L,"aria-labelledby":$,"data-qa":Q,isInvalid:K,containerStyle:Z,autoClogProps:ne,featureAccessibleDatePickerSelect:F,focusOnMount:J,blurOnTab:X,onResetInput:Y}=this.props,ae=Object(a.default)(k,"c-date_picker__select_input");return t.a.createElement("div",{ref:this.selectContainer,className:"c-date_picker__select_container",onClick:this.handleContainerClick,role:"presentation",style:Z,onKeyDown:this.handleContainerKeyDown},t.a.createElement(E.a,{id:P,className:ae,value:_,valueFormat:N,displayFormat:G,onChange:this.handleInputChange,onClick:this.handleInputClick,onBlur:this.handleInputBlur,onEscape:this.handleInputEscape,placeholder:V,isDateDisabled:x,disabledDates:H,disableDatesBefore:R,disableDatesAfter:W,required:U,"aria-label":L,"aria-labelledby":$,size:B,datePickerDisabled:!!z,"data-qa":Q?`${Q}_input`:"date_picker_input",isInvalid:K,autoClogProps:ne,focusOnMount:J,blurOnTab:X,onResetInput:Y}),!F&&this.renderPopoverTrigger(),F&&this.renderDownIcon(),this.renderPopover())}constructor(P){super(P),P.selectedDate&&!f()(P.selectedDate,P.dateFormat).isValid()&&Object(v.b)().warn(`Invalid date ${P.selectedDate} for format ${P.dateFormat}`),this.state={dropdownVisible:!1,dropdownActive:!1,dropdownFocusOnMount:!1,targetBoundsAdjusted:void 0},this.lastClickInsideSelect=!1,this.lastClickInsideDropdown=!1,this.selectContainer=t.a.createRef(),this.dropdownContainer=t.a.createRef(),this.handleResize=Object(i.a)(this.setTargetBounds,M,{maxWait:M,trailing:!0}),this.resizeListenerInstalled=!1,this.clickListenerInstalled=!1,Object(p.a)(this,["setTargetBounds","handleInputClick","handleInputEscape","handleTriggerClick","handleInputChange","handleCalendarChange","handleClearSelectionClick","handleInputBlur","handleDropdownFocusEnter","handleContainerClick","handleDropdownClick","handleMaybeOutsideClick","handleContainerKeyDown","handleOnClose","closeDropdown","renderPopover"])}},"DatePickerSelect");T.displayName="DatePickerSelect",T.defaultProps={onDateChange:c.a,onClick:c.a,onClose:c.a,datePickerDisabled:!1,isInvalid:!1,id:`date-picker-select-${Object(g.d)()}`,datePlaceholder:void 0,selectedDate:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0,"data-qa":void 0,onScrollablePage:!1,focusOnMount:!1,initialViewType:"month"};function D(A){return{featureAccessibleDatePickerSelect:Object(O.i)(A,"feature_accessible_date_picker_select")}}o(D,"mapStateToProps");var S=s.a=Object(l.a)(D)(T)},NFkq:function(w,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("P9LH"),c=e("dmdh"),r=e("zxER"),f=e("E97Y"),l=e("E3dU"),p=e("RVJP"),h=e("3bXy"),u=e("nNoG"),b=e("7Tv/");const v=new u.b("slack-docs"),d=o(m=>{let{id:g,size:O,showIsChannelCanvas:E}=m;const y=Object(r.c)(S=>Object(p.d)(S,"canvas_type_tags")==="on"),C=Object(r.c)(S=>g?Object(c.e)(S,g):void 0),I=C==null?void 0:C.linked_channel_id,j=Object(r.c)(S=>Object(l.d)(S,I)),M=Object(r.c)(S=>Object(i.wb)(C,S)),T=Object(i.h)(C),D=Object(a.default)("p-canvas_templates_title_badge",{"p-canvas_templates_title_badge--size_small":O===h.b.Small,"p-canvas_templates_title_badge--channel_canvas":T});if(M)return t.a.createElement("div",{className:D},t.a.createElement("span",null,v.t("Template")));if(E&&T&&y){let S=v.t("Channel Canvas");return j&&Object(f.h)(j)&&(S=v.t("DM Canvas")),t.a.createElement("div",{className:D},t.a.createElement("span",null,S))}return null},"FileTitleBadge");d.displayName="FileTitleBadge"},NFmw:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("4HNC"),i=e("sGXp"),c=e("FFLn");function r(){return r=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(p[b]=u[b])}return p},r.apply(this,arguments)}o(r,"_extends");function f(p,h,u){if(p)return h||u?i.d.highlightDim:i.d.highlightLight;if(h||u)return i.d.dim}o(f,"getBaseStyle");function l(p){let{className:h,secondaryContent:u,isActive:b=!1,isDeactivated:v=!1,isDisabled:d=!1,...m}=p;return t.a.createElement(a.a,{className:h,primaryContent:t.a.createElement(c.a,r({},m)),secondaryContent:u,size:"medium",style:f(b,d,v)})}o(l,"MediumChannelListEntity"),l.displayName="MediumChannelListEntity",s.a=l},NHkt:function(w,s,e){"use strict";e.d(s,"a",function(){return V});var n=e("ifKl"),t=e("X6iR"),a=e("JWn9"),i=e("Fsnq"),c=e("yIs4"),r=e("HA5h"),f=e("mM05"),l=e.n(f),p=e("nNoG"),h=e("yrot"),u=e("lhZz"),b=e("Oy0v"),v=e("0qhH"),d=e("TQ9f"),m=e("nPQL"),g=e("0LZ2"),O=e("kyoJ"),E=e("khnw"),y=e("haNl"),C=e("mSgU"),I=e("p7YC"),j=e("kBpe");const M="TABCOMPLETE",T={getMatch:n.a,search:n.a,onSelect:n.a,getInsertDataFromActiveResult:n.a,shouldDisplayResults:()=>!0,shouldCompleteOnTab:n.a,getMatchText:n.a,getMatchIndex:n.a,getMatchResults:n.a,clearMatchState:n.a,setSearchInFlight:n.a,getSearchInFlight:n.a,getSelectedIndex:n.a,onRequestOpen:n.a,onRequestClose:n.a,onInit:n.a,isOpen:n.a,positionMenu:n.a,logger:{error:n.a,info:n.a,warn:n.a}},D=o(k=>k.reduce((x,H)=>H.insert?x+H.insert:x,""),"combineByInserts"),S=[":","*","_","~"],A=o((k,x,H)=>{if(H.indexOf(x)!==-1)return"";const R=k.exec(x);return R?R[0]:""},"trailingPunctuation");function P(k,x,H){const R=H.concat([" "]);if(x&&x.index>=4){const W=k.getText(x.index-2,2),U=k.getFormat(x.index-3),_=W.charAt(1);if(S.indexOf(_)===-1&&(R.indexOf(_)!==-1||Object(p.d)(_))&&W.charAt(0)===" "&&U&&U.slackmention&&!U.slackmention.unverified)return!0}return!1}o(P,"hasSpaceAndPunctuationAfterMention");function N(k,x){if(x&&x.index>=5){const H=k.getText(x.index-3,3),R=k.getFormat(x.index-4);if(H===" : "&&R&&R.slackmention&&!R.slackmention.unverified)return!0}return!1}o(N,"hasSpaceAndColonAfterMention");function G(k,x){if(x&&x.index>=6){const H=k.getText(x.index-4,4),R=k.getFormat(x.index-5);if(H.search(/ ['\u2018\u2019]s /)!==-1&&R&&R.slackmention&&!R.slackmention.unverified)return!0}return!1}o(G,"hasSpaceAndApostropheAfterMention");function V(k){const H=Object(g.a)(k).import("core/module");return o(class extends H{unload(){this.isUnmounted=!0,this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd),this.hideMenu(),setTimeout(()=>{this.state=null},0)}listen(){this.quill.on("text-change",this.onTextChange),this.quill.on("selection-change",this.onSelectionChange),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd),[E.r,E.c].forEach(U=>{this.quill.keyboard.addBinding({key:U,handler:()=>this.onUpDownArrow(U)})}),[E.k,E.o].forEach(U=>{this.quill.keyboard.addBinding({key:U,handler:(_,B)=>{var z;return!((z=B.format)===null||z===void 0)&&z.slackmention||this.hideMenu(),!0}})})}ariaExpand(){const U=this.quill.root;if(!U)return;U.getAttribute("role")==="combobox"&&U.setAttribute("aria-expanded","true"),U.setAttribute("aria-activedescendant",Object(O.b)(this.options.getSelectedIndex()))}ariaCollapse(){const U=this.quill.root;if(!U)return;U.getAttribute("role")==="combobox"&&U.setAttribute("aria-expanded","false"),U.removeAttribute("aria-activedescendant")}onUpDownArrow(U){return this.options.isOpen()?this.options.onArrowKey(U):!0}onEscape(){return this.options.isOpen()?(this.hideMenu(),!0):!1}onTab(U){if(U!=null&&U.shiftKey)return!1;if(this.options.isOpen())return setTimeout(()=>{this.onEnter(null)},0),!0;if(this.options.setSearchInFlight(null),this.quill.getLength()===1)return!1;const _=!0,B=this.options.getMatchText(),z=this.getCurrentMatchAtCursor(_);return z&&B===z.text?!1:(this.completeAtCursor({isUserSolicited:_,insertFirstResult:this.options.shouldCompleteOnTab()},z),this.options.shouldCompleteOnTab()?!!z:!1)}onCompositionStart(){this.state.isInComposition=!0,this.state.compositionTimer&&clearTimeout(this.state.compositionTimer)}onCompositionEnd(){this.state.compositionTimer=setTimeout(()=>{this.state.isInComposition=!1,this.options.isOpen()||this.maybeCompleteAtCursor("user")},0)}onTextChange(U,_,B){if(!this.state||Object(m.a)(U))return;const z=this.quill.getSelection();if(U.length()===1&&U.ops[0].insert&&setTimeout(()=>{const L=this.quill.getSelection();if(L&&L.index===0&&L.length===0){const $=this.quill.getLength()-1;$===1&&(this.quill.setSelection($,0),this.options.logger.info(M,"manually adjusted index for Safari"))}},0),this.state.selectionJustHappened&&!this.state.isInComposition&&(this.state.selectionJustHappened=!1,P(this.quill,z,C.d))){setTimeout(()=>{this.quill.deleteText(z.index-2,1),this.quill.setSelection(z.index-1,0),this.hideMenu()},0);return}if(N(this.quill,z)){setTimeout(()=>{this.quill.deleteText(z.index-3,1),this.quill.setSelection(z.index-1,0),this.hideMenu()},0);return}if(G(this.quill,z)){setTimeout(()=>{this.quill.deleteText(z.index-4,2),this.quill.insertText(z.index-4,"\u2019"),this.quill.setSelection(z.index-1,0),this.hideMenu()},0);return}this.state.isMakingSelection||setTimeout(()=>{this.maybeCompleteAtCursor(B)},0)}maybeCompleteAtCursor(U){if(!this.isUnmounted){if(this.options.setSearchInFlight(null),this.quill.getLength()<=1){this.hideMenu();return}U==="user"&&this.completeAtCursor({isUserSolicited:!1,insertFirstResult:!1})}}isCursorWithinMention(U){if(U.length>0||U.index===0)return!1;const _=this.quill.getFormat(U).slackmention;if(_&&U.index!==0&&U.index<this.quill.getLength()-1&&this.quill.getFormat(U.index+1).slackmention)return!0;const B=this.quill.getFormat(U.index+1).slackmention;return!!(_&&B&&_.id===B.id)}maybeShowTooltip(U,_){if(this.options.isOpen())return;const B=this.isCursorWithinMention(U);if(!B&&this.options.tooltipIsShowing()){this.options.tooltipHide();return}const z=this.quill.selection.getNativeRange(),L=z&&z.start&&z.start.node&&z.start.node.parentNode,$=L&&L.classList;if($&&$.contains("c-member_slug--unverified")&&U.length===0){this.maybeCompleteAtCursor(_);return}const K=$&&$.contains("ts_tip_texty");B&&K&&!this.options.tooltipIsShowing()&&this.options.tooltipShow(L)}hideAndReset(){this.onEscape(),this.resetPrevMatchState()}isMenuOpen(){return this.options.isOpen()}onSelectionChange(U,_,B){if(!this.state)return;const z=this.state.isMakingSelection;if(!z&&U){this.maybeShowTooltip(U,B);return}U&&!this.state.isInComposition&&!z&&(this.options.setSearchInFlight(null),this.hideMenu()),U||(this.onEscape(),this.resetPrevMatchState())}getCurrentMatchAtCursor(U){const _=this.quill.getSelection();if(!_)return;let B=_.index+_.length;if(_.index>0&&_.length===0&&this.quill.getFormat(_).slackmention&&this.quill.getText(_.index-1,1)!==`
`){const Z=this.quill.getText(_.index-1,1)===" ",ne=_.index===1||!this.quill.getFormat(_.index-2,0).slackmention;if(!(Z&&ne)){const J=this.quill.getFormat(_).slackmention.label;for(;this.quill.getFormat(B).slackmention&&this.quill.getFormat(B).slackmention.label===J;)B+=1;B-=1}}const{searchText:z,searchTextIndex:L}=this.textBetweenLastTokenAndIndex(B),Q={insert:`
`,attributes:this.quill.getFormat(_)};return this.getMatch(z,L,U,Q)}completeAtCursor(U,_){let{isUserSolicited:B=!1,insertFirstResult:z=!1}=U;const L=_||this.getCurrentMatchAtCursor(B);if(!L){this.resetPrevMatchState(),this.hideMenu();return}this.search({match:L,insertFirstResult:z,isUserSolicited:B})}search(U){let{match:_,insertFirstResult:B=!1,isUserSolicited:z=!1}=U;if(this.options.getSearchInFlight()===_.text){this.options.logger.info(M,`duplicate search for ${_.text.length} char query`);return}this.state.prevInsertObject=null,this.options.setSearchInFlight(_.text),this.options.logger.info(M,`start search with ${_.text.length} char query`),this.options.search(_.text,()=>{if(!this.state)return;const L=!this.state.prevInsertObject&&B;this.handleSearchResults(L,z)})}handleSearchResults(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const B=this.options.getMatchText()||"";if(!this.hasResults()||!B.length){this.hideMenu();return}if(this.options.logger.info(M,`received ${this.getNumResults().length} results for ${B.length} char query`),U){this.performSelection();return}if(!this.options.shouldDisplayResults(_)){this.options.logger.info(M,"completer decided to hide results"),this.hideMenu();return}this.showMenu()}onEnter(U){return U&&U.shiftKey||!this.options.isOpen()?!1:(this.state.isInComposition||this.performSelection({fromKeyboard:!0}),!0)}onSelect(){const U=this.options.getInsertDataFromActiveResult();if(!U){this.options.logger.error("onSelect could not get insert data");return}if(!this.hasResults()){this.options.logger.error("onSelect missing previous match");return}if(this.options.logger.info(M,`selected index ${this.options.getSelectedIndex()}`),U.contents){this.state.isMakingSelection=!0,this.quill.setContents(U.contents),this.state.prevInsertObject={text:this.quill.getText()},this.quill.setSelection(this.state.prevInsertObject.text.length,0),this.state.isMakingSelection=!1,this.options.setSearchInFlight(null);return}let _=U.slackemoji,B=U.text;_&&(B=`${U.text}${U.slackemoji.text}`);let z=this.options.getSearchInFlight()||this.options.getMatchText(),L=z.length;!this.options.getSearchInFlight()&&this.state.prevInsertObject&&(z=this.state.prevInsertObject.text,L=this.state.prevInsertObject.length||this.state.prevInsertObject.text.length);const $=this.options.getMatchText(),Q=A(C.e,$,B);Object(t.a)(U.text,$)||(B+=Q);const K=this.options.getMatchIndex()+L,Z=this.quill.getText(K,1),F=C.d.concat([" "]).indexOf(Z)===-1,J=this.quill.getText(this.options.getMatchIndex()-1,1),X=this.options.getMatchIndex()>0&&U.ensure_preceding_space&&Object(p.d)(J),Y=new l.a;let ae=this.options.getMatchIndex();const ee=this.quill.getFormat(ae+1);ee.slackmention&&delete ee.slackmention;const q=this.options.useWysiwyg?ee.code||ee["code-block"]:Object(I.a)(this.quill.getText(0,ae)),te=this.options.useWysiwyg&&ee.link;if(_&&(q||te)&&(_=null),this.options.getMatchIndex()>0&&!X&&!U.text&&_&&_.text.match(/^(:skin-tone-[2-6]:)$/)){const Ke=this.quill.getContents(this.options.getMatchIndex()-1,1);if(Ke.ops&&Object(d.a)(Ke.ops[0])){const qe=Object(b.a)(Ke.ops[0].insert.slackemoji.text),ct=this.options.teamId&&Object(u.getStateByTeamId)(this.options.teamId);Object(h.o)(ct,{text:qe.name,teamId:this.options.teamId})&&(ae-=1,L+=1,_.text=`:${qe.name}:${_.text}`)}}Y.retain(ae);const de=this.options.getMatchIndex()||0,se=B.toLowerCase(),re=z.toLowerCase(),oe=this.quill.getText(de,B.length).toLowerCase();!_&&se!==re&&oe===se?Y.delete(Math.max(B.length,L)):Y.delete(L),X&&Y.insert(" ",ee);const ce=!!(U.format&&U.format.overrideLink);if(_){if(U.text&&Y.insert(U.text),_!=null&&_.text){const Ke=_.text.substr(1,_.text.indexOf(":",1)-1);Object(y.c)(Ke)}Y.insert({slackemoji:_},ee)}else if(this.options.useWysiwyg&&(q||te&&!ce))Y.insert(B,{...ee});else{var ue,Pe;const Ke=U==null||(ue=U.format)===null||ue===void 0||(Pe=ue.slackmention)===null||Pe===void 0?void 0:Pe.id;Object(y.d)(Ke),Y.insert(B,{...ee,...U.format})}F&&(ce?Y.insert(" ",{...ee,...U.format}):Y.insert(" ",ee)),this.state.isMakingSelection=!0,this.quill.updateContents(Y,"user");let Ye=1;!X&&!F&&Z!==" "?Ye=0:X&&(F||Z===" ")&&(Ye=2);const $e=U.text?U.text.length:0;this.quill.setSelection(de+(_?$e+1:B.length)+Ye,0),this.state.isMakingSelection=!1,this.options.setSearchInFlight(null),this.state.prevInsertObject={text:B},_&&(this.state.prevInsertObject.length=$e+1),this.state.selectionJustHappened=!0}textBetweenLastTokenAndIndex(U){let _;const{ops:B}=this.quill.getContents(0,U);this.quill.getFormat(U).slackmention?_=B.slice(-1):_=Object(a.a)(B,Q=>Object(v.a)(Q));const z=D(_),L=this.quill.getLength()-U-1,$=this.quill.getLength()-new l.a(_).length()-L-1;return{searchText:z,searchTextIndex:$}}getMatch(U){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,z=arguments.length>3?arguments[3]:void 0;if(!U)return;const L=this.options.getMatch(U,B,_,z);if(L)return{text:L.match,index:L.index+_}}showMenu(){this.options.tooltipHide(),this.options.isOpen()||this.options.logger.info(M,"opening menu"),this.options.onRequestOpen();const U=this.options.getMatchIndex(),_=this.quill.getBounds(U),B=this.quill.container.getBoundingClientRect(),z=_.left+B.left,L=_.top+B.top,$=L+_.height;this.options.positionMenu({top:L,left:z,bottom:$,right:z},B),this.ariaExpand()}hideMenu(){if(this.options.isOpen()&&(this.options.logger.info(M,"closing menu"),this.options.onRequestClose(),this.ariaCollapse(),!this.state.isInComposition&&this.quill.hasFocus())){const U=this.quill.getSelection();this.quill.blur(),this.quill.focus(),this.quill.setSelection(U)}}resetPrevMatchState(){this.clearPrevMatch(),this.options.setSearchInFlight(null),this.state.prevInsertObject=null}clearPrevMatch(){this.options.clearMatchState()}performSelection(){let{fromKeyboard:U=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.onSelect(),this.options.onSelect({fromKeyboard:U}),this.clearPrevMatch(),this.hideMenu()}getNumResults(){return Object(i.a)(this.options.getMatchResults())}hasResults(){return this.getNumResults()>0}getResultElementIndex(U){if(!U)return;const _=parseInt(U.getAttribute("data-index"),10);if(!Object(c.a)(_)){this.options.logger.warn(M,'missing "data-index" attribute');return}return _}constructor(U,_){const B=Object(r.a)({},T,_);super(U,B),this.onEscape=this.onEscape.bind(this),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onTextChange=this.onTextChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.onTab=this.onTab.bind(this),this.maybeCompleteAtCursor=this.maybeCompleteAtCursor.bind(this),this.hideMenu=this.hideMenu.bind(this),this.ariaExpand=this.ariaExpand.bind(this),this.performSelection=this.performSelection.bind(this),this.state={prevInsertObject:null,isInComposition:!1,isMakingSelection:!1,selectionJustHappened:!1,compositionTimer:null},Object(j.p)()&&Object(j.c)()===j.a.SAFARI&&this.quill.root.setAttribute("aria-owns",O.a),this.listen(),this.options.onInit({hideMenu:this.hideMenu,ariaExpand:this.ariaExpand,performSelection:this.performSelection})}},"TabComplete")}o(V,"getTabCompleteModule")},NNLN:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n);const a=t.a.createContext({});a.displayName="MessageContext",s.a=a},NPWB:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("H0/5"),t=e("xwCZ"),a=e("C3vN"),i=e("6dQg"),c=e("eUIW"),r=e("beOr"),f=e("ltDl");function l(p,h){if(!h)return null;const u=Object(f.a)(h),b=Object(n.a)(u.pathname,"/");if(!Object(r.a)(u.hostname))return null;const v=b.split("/");if(b.indexOf("files/")===0){if(v.length<3)return null;const d=v[1];if(!d)return null;const m=Object(c.a)(d)?Object(t.g)(p,d):Object(t.h)(p,d);if(!m||Object(a.qb)(m))return null;if(v[2]&&Object(i.a)(v[2]))return v[2]}else if(b.indexOf("files-pri/")===0){if(v.length<3)return null;const d=v[1];if(d.indexOf("-")<0)return null;const m=d.split("-");if(m.length!==2)return null;if(m[1]&&Object(i.a)(m[1]))return m[1]}return null}o(l,"getFileIdFromUrlWithState")},NR1w:function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"c",function(){return a}),e.d(s,"a",function(){return i});var n=e("DwFS");const t=Object(n.a)("Save client block file download access to the store");t.meta={name:"createAction",key:"createActionsetIsDownloadAllowed",description:"Save client block file download access to the store"};const a=Object(n.a)("Set blocked action to show banner notification");a.meta={name:"createAction",key:"createActionshowBlockedDownloadBanner",description:"Set blocked action to show banner notification"};const i=Object(n.a)("Remove banner notification");i.meta={name:"createAction",key:"createActionhideBlockedDownloadBanner",description:"Remove banner notification"}},NRPS:function(w,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"b",function(){return r});var n=e("QOYf"),t=e("bZHP"),a=e.n(t);let i;function c(f){return Object(n.a)()?(!i&&t.TimezoneDetector&&(i=new t.TimezoneDetector),i&&i.getList(f)):window&&window.timezones_list&&window.timezones_list(f)}o(c,"getTimezones");function r(f,l){return Object(n.a)()?(!i&&t.TimezoneDetector&&(i=new t.TimezoneDetector),i&&i.getCanonicalTimezone(f,l)):window&&window.get_canonical_timezone&&window.get_canonical_timezone(f,l)}o(r,"getCanonicalTimezone")},"NmJ/":function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("gSGL"),t=e("F294"),a=e("+uU3"),i=e("P9LH");function c(r,f){if(!r)return"";let l="";if(r&&r.subtype!=="tombstone"){l=Object(n.a)(r.text)?r.text:"";const p=Object(t.a)(r.attachments);if(p&&p.is_msg_unfurl&&(!l||Object(a.a)(r))){const h=typeof p.original_url=="string"?p.original_url:"";l=p.text||h||""}}if(!l&&f&&!(f!=null&&f.isNonExistent)){const p=Object(i.F)(f);p&&(l=p)}return l}o(c,"getMessageRootText")},NqZo:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("wOIf"),t=e("Qm7m"),a=e("M39c"),i=e("yepT"),c=e("A/zn");const r=o(f=>{switch(f==null?void 0:f.type){case n.SLACK_FUNCTION:return Object(a.j)(f);case n.EXTENSION:return Object(i.b)(f)||void 0;case t.SLACK_EVENT:return Object(c.d)(f);default:return}},"getSegmentSubtype")},NziY:function(w,s,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the workflow speedbump modal in client (noop)");t.meta={name:"createAction",key:"createActionopenWorkflowTriggerSpeedbumpModalCircular",description:"Triggers a side-effect that opens the workflow speedbump modal in client (noop)"},s.a=t},"O/xh":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("Cfcg"),c=e("c+dP"),r=e("zxER"),f=e("2IYT"),l=e("x/ke"),p=e("9Gfp"),h=e("MUHj"),u=e("+GhL"),b=e("zb/F"),v=e("YpEo"),d=e("5IZy"),m=e("ktUG"),g=e("nNoG"),O;(function(x){x.GO_TO_APP="go_to_app",x.VIEW_DIRECTORY="view_directory",x.COPY_APP_NAME="copy_app_name",x.COPY_APP_LINK="copy_app_link"})(O||(O={}));const E=new g.b("menu"),y=o(x=>{var H;const{memberId:R,serviceId:W,homeWorkspaceId:U,children:_}=x,B=Object(r.c)(de=>Object(l.c)(de,{serviceId:W,homeWorkspaceId:U,memberId:R})),z=R||(B==null||(H=B.app_user)===null||H===void 0?void 0:H.id),L=Object(u.h)(B),$=Object(r.c)(de=>Object(u.E)(de,B)),Q=Object(r.c)(de=>Object(u.v)(de,B)),K=Object(r.c)(de=>Object(u.c)(de,B)),Z=$&&Q||K,ne=Object(r.c)(de=>Object(u.I)(de,B)),F=Object(r.c)(p.h),J=Object(r.c)(de=>Object(d.a)({state:de})),X=Object(n.useCallback)(de=>{J.track(m.EventId.CONTEXT_MENU_ACTION,{label:de,is_iap1:!0})},[J]),Y=Object(n.useCallback)(()=>{X(O.VIEW_DIRECTORY)},[X]),ae=Object(n.useCallback)(()=>{X(O.GO_TO_APP),Object(h.a)({memberId:z})},[X,z]),ee=Object(n.useCallback)(()=>{X(O.COPY_APP_NAME),Object(b.e)(L)},[X,L]),q=Object(n.useCallback)(()=>{X(O.COPY_APP_LINK),Object(b.e)(Z)},[X,Z]),te=Object(n.useCallback)(()=>{const de=[];return Z&&(de.push({label:E.t("View in App Directory"),href:Z,click:Y,dataQa:"bot_context_menu_app_directory"}),de.push({type:"separator"})),z&&ne&&(de.push({label:E.t("Go to app"),click:ae}),de.push({type:"separator"})),de.push({label:E.t("Copy name"),click:ee}),Z&&de.push({label:E.t("Copy link"),click:q}),de},[Z,z,q,ee,ae,ne,Y]);return!F||!W?Object(v.a)(_):t.a.createElement(f.a,{getTemplate:te,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0},_)},"BotContextMenu");y.displayName="BotContextMenu";var C=y,I=e("SI/f"),j=e("QLhP"),M=e("O86Y"),T=e("9I4P"),D=e("NV6F");function S(){return S=Object.assign||function(x){for(var H=1;H<arguments.length;H++){var R=arguments[H];for(var W in R)Object.prototype.hasOwnProperty.call(R,W)&&(x[W]=R[W])}return x},S.apply(this,arguments)}o(S,"_extends");const A={children:a.default.oneOfType([a.default.element.isRequired,a.default.func.isRequired]).isRequired,menuProps:a.default.object,serviceId:a.default.string,memberId:a.default.string,homeWorkspaceId:a.default.string,memberIsHuman:a.default.bool,includeRemoveFromChannelAction:a.default.bool,profileCardProps:a.default.object},P={serviceId:void 0,memberId:void 0,homeWorkspaceId:void 0,menuProps:void 0,memberIsHuman:!1,includeRemoveFromChannelAction:!1,profileCardProps:void 0};let N=o(class extends n.Component{render(){const{serviceId:H,memberId:R,homeWorkspaceId:W,memberIsHuman:U}=this.props;return R&&U?t.a.createElement(I.a,{id:R},_=>this.renderTrigger(_)):H&&!U?t.a.createElement(C,{serviceId:H,memberId:R,homeWorkspaceId:W},_=>this.renderTrigger(_)):this.renderTrigger()}constructor(...H){var R;super(...H),R=this,this.renderProfileCard=W=>{const{serviceId:U,memberId:_,homeWorkspaceId:B,memberIsHuman:z,includeRemoveFromChannelAction:L}=this.props;return Object(D.B)({menuProps:W,serviceId:U,memberId:_,homeWorkspaceId:B,memberIsHuman:z,includeRemoveFromChannelAction:L})},this.renderTrigger=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{children:U,serviceId:_,memberId:B,homeWorkspaceId:z,memberIsHuman:L,includeRemoveFromChannelAction:$,...Q}=R.props;return t.a.createElement(c.e,S({renderMenu:R.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:8},Q),K=>Object(v.a)(U,K,W))}}},"ProfileCardTrigger");N.displayName="ProfileCardTrigger",N.propTypes=A,N.defaultProps=P;const G=o((x,H)=>{const{userId:R,botId:W,botProfile:U,serviceId:_}=H,{member:B,bot:z,memberIsHuman:L}=Object(j.f)(x,{userId:R,botId:W,botProfile:U});let $=null;if(!L||_){const Q=Object(M.g)(x);$=Object(T.c)({member:B,bot:z,botProfile:U,currentTeamId:Q})}return{serviceId:z&&z.id||_,memberId:B&&B.id,homeWorkspaceId:$,memberIsHuman:L}},"mapStateToProps");var V=Object(i.a)(G)(N),k=s.a=V},O1Zm:function(w,s,e){"use strict";e.d(s,"c",function(){return f}),e.d(s,"f",function(){return l}),e.d(s,"e",function(){return p}),e.d(s,"a",function(){return h}),e.d(s,"b",function(){return u}),e.d(s,"d",function(){return b});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i={headline:"headline__RFDzL",title:"title__mGcTQ",subtitle:"subtitle__6XHer",body:"body__+r-UH",caption:"caption__Mo50w",micro:"micro__I6YFG",black:"black__5gZjt",bold:"bold__OAtQe",regular:"regular__yD0st",foreground:"foreground__Icv+4",foreground_max:"foreground_max__QU9-E",foreground_max_solid:"foreground_max_solid__XNn-i",black_always:"black_always__vNkUL",white_always:"white_always__1BuYo"};function c(){return c=Object.assign||function(v){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])}return v},c.apply(this,arguments)}o(c,"_extends");const r=o((v,d,m,g)=>Object(n.memo)(E=>{let{element:y=d,children:C,className:I,weight:j=g,color:M,...T}=E;const D=y;return t.a.createElement(D,c({className:Object(a.default)(v,m.includes(j)?i[j]:i[g],M&&i[M],I)},T),C)}),"getStyledText");r.displayName="getStyledText";const f=r(i.headline,"h1",["black"],"black"),l=r(i.title,"h2",["black"],"black"),p=r(i.subtitle,"h3",["black","bold","regular"],"black"),h=r(i.body,"p",["black","bold","regular"],"regular"),u=r(i.caption,"span",["regular"],"regular"),b=r(i.micro,"span",["regular"],"regular")},O2qk:function(w,s,e){"use strict";e.d(s,"b",function(){return r}),e.d(s,"a",function(){return f}),e.d(s,"e",function(){return l}),e.d(s,"f",function(){return p}),e.d(s,"c",function(){return h}),e.d(s,"d",function(){return u});var n=e("ZKjC"),t=e("UOL+"),a;const i=Object(n.b)(b=>{var v;return(a=(v=Object(t.a)(b))===null||v===void 0?void 0:v.draftSending)!==null&&a!==void 0?a:b==null?void 0:b.draftSending});var c;i.meta={name:"createSelector",key:"createSelectorgetAllDraftSending",description:b=>{var v;return(c=(v=Object(t.a)(b))===null||v===void 0?void 0:v.draftSending)!==null&&c!==void 0?c:b==null?void 0:b.draftSending}};const r=Object(n.b)((b,v)=>{let{draftId:d}=v;var m,g;return!!(!((m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0)&&g.isSending)});r.meta={name:"createSelector",key:"createSelectorisDraftSending",description:(b,v)=>{let{draftId:d}=v;var m,g;return!!(!((m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0)&&g.isSending)}};const f=Object(n.b)((b,v)=>{let{draftId:d}=v;var m,g;return(m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0?void 0:g.error});f.meta={name:"createSelector",key:"createSelectorgetDraftError",description:(b,v)=>{let{draftId:d}=v;var m,g;return(m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0?void 0:g.error}};const l=Object(n.b)((b,v)=>{let{draftId:d}=v;var m,g;return!!(!((m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0)&&g.isSendingInvites)});l.meta={name:"createSelector",key:"createSelectorisSendingInvitesForDraft",description:(b,v)=>{let{draftId:d}=v;var m,g;return!!(!((m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0)&&g.isSendingInvites)}};const p=Object(n.b)((b,v)=>{let{draftId:d}=v;var m,g;return!!(!((m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0)&&g.shouldSendMessageAfterInvites)});p.meta={name:"createSelector",key:"createSelectorshouldSendMessageAfterInvites",description:(b,v)=>{let{draftId:d}=v;var m,g;return!!(!((m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0)&&g.shouldSendMessageAfterInvites)}};const h=Object(n.b)((b,v)=>{let{draftId:d}=v;var m,g;return!!(!((m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0)&&g.isSent)});h.meta={name:"createSelector",key:"createSelectorisDraftSent",description:(b,v)=>{let{draftId:d}=v;var m,g;return!!(!((m=i(b))===null||m===void 0||(g=m[d])===null||g===void 0)&&g.isSent)}};const u=Object(n.b)((b,v)=>{let{draftId:d}=v;return r(b,{draftId:d})||h(b,{draftId:d})});u.meta={name:"createSelector",key:"createSelectorisDraftSentOrSending",description:(b,v)=>{let{draftId:d}=v;return r(b,{draftId:d})||h(b,{draftId:d})}}},O6kw:function(w,s,e){"use strict";var n=e("Lgge"),t=e("q1tI"),a=e.n(t),i=e("n3tL"),c=e("fujP"),r=e("c8Bs"),f=e("Z0Cl"),l=e("gSGL"),p=e("wBxZ"),h=e("SQ0V"),u=e("3l96"),b=e("a8/Y"),v=e("gCYc"),d=e("PU6Q"),m=e("P9LH"),g=e("bORL"),O=e("pu3F"),E=e("ifKl"),y=e("syB0"),C=e("oT5T"),I=e("nNoG");const j=new I.b("files");function M(ee){let{proceedToNextDialog:q=E.a,disableFileUploadsPref:te=""}=ee;const de=j.t("Uploads disabled");let se="";te==="disable_all"&&(se=j.t("At the request of your administrator, file uploads have been disabled on this workspace.")),te==="disable_all_except_images"&&(se=j.t("At the request of your administrator, only images can be uploaded to this workspace."));const re=o(()=>Object(y.a)(()=>{q()}),"onGo");return a.a.createElement(C.a,{title:de,onGo:re},a.a.createElement("p",null,se))}o(M,"FileUploadsDisabledAlert"),M.displayName="FileUploadsDisabledAlert";var T=M;const D=new I.b("file_upload");function S(ee){let{proceedToNextDialog:q=E.a,excludedFiles:te=[],goodFiles:de=[]}=ee,se,re,oe,ce,ue,Pe,Ye="";const $e=te.length+de.length;te.length&&(se=[],ce="",Pe="",se=te.map(qe=>a.a.createElement("li",{key:qe.name},a.a.createElement("strong",null,qe.name))),te.length>1?(re=te.length===$e?D.t("All files unsupported"):D.t("Some files unsupported"),ue=D.t("Try uploading a .zip version of these files instead."),ce=a.a.createElement("ul",null,se)):te.length===1&&(re=D.t("File unsupported"),ue=D.t("Try uploading a .zip version of this file instead.")),de.length>1?Pe=D.t("(Don\u2019t worry, your other files are next.)"):de.length===1&&(Pe=D.t("(Don\u2019t worry, your other file is next.)")),te.length===1?oe=D.rt("Sorry, {excluded_file} is a type of file not supported by Slack",{excluded_file:a.a.createElement("strong",null,te[0].name)}):te.length===$e?oe=D.t("Sorry, none of those file types are supported by Slack."):oe=D.t("Sorry, some of those file types are not supported by Slack."),Ye=a.a.createElement("div",null,a.a.createElement("p",null,oe),ce,a.a.createElement("p",null,ue),a.a.createElement("p",null,Pe)));const Ke=o(()=>{Object(y.a)(()=>{q()})},"onGo");return a.a.createElement(C.a,{title:re,onGo:Ke},Ye)}o(S,"FileUploadUnsupportedAlert"),S.displayName="FileUploadUnsupportedAlert";var A=S,P=e("Cfcg"),N=e("Mz8L"),G=e("RVJP"),V=e("Rc7c");const k=new I.b("file-upload"),x={SINGLE:"single",MULTIPLE:"multiple",ALL:"all",RESTRICTED_BY_ADMIN:"restricted_by_admin"};function H(ee){let{type:q=x.SINGLE,maxFileSizeUploadPref:te=0,proceedToNextDialog:de=E.a,experimentBoxCfsGroupOn:se,filesStore:re}=ee,oe=k.t("File too large"),ce="";const ue=re==="box";q===x.ALL?(ce=k.t("All of those files are too large and cannot be uploaded. The limit is {limit}.",{limit:Object(N.a)(O.gb)}),se&&ue&&(ce=k.t("All of those files are too large and cannot be uploaded. Please contact your Box admin for file size limit."))):q===x.SINGLE?(ce=k.t("That file is too large and cannot be uploaded. The limit is {limit}.",{limit:Object(N.a)(O.gb)}),se&&ue&&(ce=k.t("That file is too large and cannot be uploaded. Please contact your Box admin for file size limit."))):q===x.RESTRICTED_BY_ADMIN?(oe=k.t("Couldn\u2019t attach file"),ce=k.t("Files can\u2019t be bigger than {limit}. To change that limit, or remove it entirely, you\u2019ll need to talk to admin.",{limit:Object(N.a)(te)}),se&&ue&&(ce=k.t("That file is too large and cannot be uploaded. Please contact your Box admin."))):(ce=k.t("We\u2019ll upload what we can, but one or more of those files is too large and cannot be uploaded. The limit is {limit}.",{limit:Object(N.a)(O.gb)}),se&&ue&&(ce=k.t("We\u2019ll upload what we can, but one or more of those files is too large and cannot be uploaded. Please contact your Box admin for file size limit.")));const Pe=q===x.MULTIPLE?()=>{Object(y.a)(()=>{de()})}:E.a;return a.a.createElement(C.a,{title:oe,onGo:Pe},a.a.createElement("p",null,ce))}o(H,"FileUploadSizeAlert"),H.displayName="FileUploadSizeAlert";const R=o(ee=>({experimentBoxCfsGroupOn:Object(G.d)(ee,"box_cfs")==="on",filesStore:Object(V.a)(ee)}),"mapStateToProps");var U=Object(P.a)(R)(H),_=e("zyFp"),B=e("bPB8"),z=e("yIs4"),L=e("uKXT"),$=e("ZOzc"),Q=e("O86Y");const K=o(ee=>{const q=Object(Q.a)(ee);if(!q)return;const te=Object(B.a)(q.map(de=>{const se=Object($.a)(ee,"max_file_upload_size",de);return Object(z.a)(se)&&se>0?se:null}));return te.length>0?Object(L.a)(te):void 0},"getMaxFileUploadSizePref"),Z=o(function(){let{dispatch:ee,getState:q,files:te}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(c.a)(te))return n.a.resolve();const de=Object(r.a)(te,se=>Object(m.sb)(se));return new n.a(se=>{const re=Object(d.b)(q());if(re==="disable_all"&&!de){ee(Object(u.a)({element:a.a.createElement(T,{disableFileUploadsPref:re,proceedToNextDialog:()=>se()}),isStackable:!0}));return}if(re==="disable_all_except_images"&&!de){const oe=Object(f.a)(te,ce=>Object(m.Ib)(ce));if(oe.length!==te.length){ee(Object(u.a)({element:a.a.createElement(T,{disableFileUploadsPref:re,proceedToNextDialog:()=>se(oe)}),isStackable:!0}));return}}se(te)})},"filterFilesForDisabledUploadsPref"),ne=o(function(){let{dispatch:ee,files:q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(c.a)(q)?n.a.resolve():new n.a(te=>{Object(m.Zb)(q,de=>{if(de.excludedFiles.length){ee(Object(u.a)({element:a.a.createElement(A,{goodFiles:de.goodFiles,excludedFiles:de.excludedFiles,proceedToNextDialog:()=>te(de.goodFiles)}),isStackable:!0}));return}te(de.goodFiles)})})},"filterFilesByType"),F=o(function(){let{dispatch:ee,getState:q,files:te}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(c.a)(te)?n.a.resolve():new n.a(de=>{const se=K(q());if(se&&se>0&&Object(f.a)(te,ce=>Object(m.sb)(ce)||Object(m.Vb)(ce,se)).length!==te.length){ee(Object(u.a)({element:a.a.createElement(U,{maxFileSizeUploadPref:se,type:x.RESTRICTED_BY_ADMIN}),isStackable:!0}));return}const re=te.filter(oe=>Object(l.a)(oe)||typeof oe.size>"u"||oe.size<=O.gb);if(re.length<te.length){if(te.length===1){ee(Object(u.a)({element:a.a.createElement(U,{type:x.SINGLE}),isStackable:!0})),de();return}if(!re.length){ee(Object(u.a)({element:a.a.createElement(U,{type:x.ALL}),isStackable:!0})),de();return}ee(Object(u.a)({element:a.a.createElement(U,{type:x.MULTIPLE,proceedToNextDialog:()=>de(re)}),isStackable:!0}));return}de(re)})},"filterFilesBySize"),J=o(function(){let{dispatch:ee,getState:q,files:te,channelId:de,threadTs:se}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(c.a)(te))return n.a.resolve();const re=q(),oe=Object(b.c)(re,{channelId:de,threadTs:se})||[];if(oe.length+te.length>O.A){ee(Object(_.a)());const ce=O.A-oe.length,ue=Object(p.a)(te,ce);return n.a.resolve(ue)}return n.a.resolve(te)},"filterFilesByCount"),X=o(function(){let{dispatch:ee,getState:q,files:te,draftId:de}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(c.a)(te))return n.a.resolve();const se=q(),re=Object(v.k)(se,de),oe=Object(g.a)(se,re);if(oe+te.length>O.A){ee(Object(_.a)());const ce=O.A-oe,ue=Object(p.a)(te,ce);return n.a.resolve(ue)}return n.a.resolve(te)},"filterFilesByCountForDraft"),Y=Object(h.c)("filters invalid files before they can be uploaded",function(ee,q){let{selectedFiles:te,channelId:de,threadTs:se,draftId:re}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Z({dispatch:ee,getState:q,files:te}).then(oe=>ne({dispatch:ee,files:oe})).then(oe=>F({dispatch:ee,getState:q,files:oe})).then(oe=>re?X({dispatch:ee,getState:q,files:oe,draftId:re}):J({dispatch:ee,getState:q,files:oe,channelId:de,threadTs:se}))});Y.meta={name:"createThunk",key:"createThunkfilterFilesForUpload",description:"filters invalid files before they can be uploaded"},Y.propTypes={selectedFiles:i.default.array.isRequired,channelId:i.default.string,threadTs:i.default.string,draftId:i.default.string};var ae=s.a=Y},O7R9:function(w,s,e){"use strict";e.d(s,"h",function(){return p}),e.d(s,"i",function(){return h}),e.d(s,"d",function(){return b}),e.d(s,"f",function(){return d}),e.d(s,"g",function(){return g}),e.d(s,"b",function(){return O}),e.d(s,"c",function(){return E}),e.d(s,"j",function(){return y}),e.d(s,"a",function(){return C}),e.d(s,"e",function(){return j});var n=e("wd/R"),t=e.n(n),a=e("f0Wu"),i=e.n(a),c=e("nNoG"),r=e("C3vN"),f=e("M+5u");const l=new c.b("workflow_builder"),p=o(M=>{const T=t()(M,"YYYY-MM-DD");if(!T.isValid())return null;const D=T.day(),S=t()(M,"YYYY-MM-DD").date(1).day(),A=Math.ceil((T.date()+S)/7);return A>=4&&t()(T,"YYYY-MM-DD").endOf("month").date()-T.date()<7?-1:D>=S?A:A-1},"getNthDay"),h=o(function(M){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const D=p(M.format("YYYY-MM-DD"))||"1";return{1:T?l.t("first"):l.t("First"),2:T?l.t("second"):l.t("Second"),3:T?l.t("third"):l.t("Third"),4:T?l.t("fourth"):l.t("Fourth"),"-1":T?l.t("last"):l.t("Last")}[D]},"getNthDayLabel"),u={1:()=>l.t("Mondays",{fallbackHash:"932eeb1076c85e522f02e15441fa371e3fd000ac",fallbackHashNs:"prefs"}),2:()=>l.t("Tuesdays",{fallbackHash:"42e43b612a5dfae57ddf5929f0fb945ae83cbf61",fallbackHashNs:"prefs"}),3:()=>l.t("Wednesdays",{fallbackHash:"5656b9b79b0316fc611a9c30d2ffac25228b8371",fallbackHashNs:"prefs"}),4:()=>l.t("Thursdays",{fallbackHash:"76031ddf92450ba52c1e3945097079807a9065c2",fallbackHashNs:"prefs"}),5:()=>l.t("Fridays",{fallbackHash:"d166e844a3f3f87149cc4f866eb998e9a751c72a",fallbackHashNs:"prefs"}),6:()=>l.t("Saturdays",{fallbackHash:"17063c506b81a46c2eb7716af50cf19d4ed5a6c6",fallbackHashNs:"prefs"}),7:()=>l.t("Sundays",{fallbackHash:"bc5dd045b8623ddfc4bd0bce98ca5fda42accf88",fallbackHashNs:"prefs"})},b=o(M=>u[M](),"getDayOfWeekLabel"),v={1:(M,T)=>T?l.t("Monthly on the {nthDay} Monday",{nthDay:M}):`Monthly on the ${M} Monday`,2:(M,T)=>T?l.t("Monthly on the {nthDay} Tuesday",{nthDay:M}):`Monthly on the ${M} Tuesday`,3:(M,T)=>T?l.t("Monthly on the {nthDay} Wednesday",{nthDay:M}):`Monthly on the ${M} Wednesday`,4:(M,T)=>T?l.t("Monthly on the {nthDay} Thursday",{nthDay:M}):`Monthly on the ${M} Thursday`,5:(M,T)=>T?l.t("Monthly on the {nthDay} Friday",{nthDay:M}):`Monthly on the ${M} Friday`,6:(M,T)=>T?l.t("Monthly on the {nthDay} Saturday",{nthDay:M}):`Monthly on the ${M} Saturday`,7:(M,T)=>T?l.t("Monthly on the {nthDay} Sunday",{nthDay:M}):`Monthly on the ${M} Sunday`},d=o((M,T)=>D=>v[D](M,T),"getMonthlyLabelsBuilder"),m={1:(M,T)=>T?l.t("and repeats monthly on the {nthDay} Monday",{nthDay:M}):`and repeats monthly on the ${M} Monday`,2:(M,T)=>T?l.t("and repeats monthly on the {nthDay} Tuesday",{nthDay:M}):`and repeats monthly on the ${M} Tuesday`,3:(M,T)=>T?l.t("Monthly on the {nthDay} Wednesday",{nthDay:M}):`and repeats monthly on the ${M} Wednesday`,4:(M,T)=>T?l.t("and repeats monthly on the {nthDay} Thursday",{nthDay:M}):`and repeats monthly on the ${M} Thursday`,5:(M,T)=>T?l.t("and repeats monthly on the {nthDay} Friday",{nthDay:M}):`and repeats monthly on the ${M} Friday`,6:(M,T)=>T?l.t("and repeats monthly on the {nthDay} Saturday",{nthDay:M}):`and repeats monthly on the ${M} Saturday`,7:(M,T)=>T?l.t("and repeats monthly on the {nthDay} Sunday",{nthDay:M}):`and repeats monthly on the ${M} Sunday`},g=o((M,T)=>D=>m[D](M,T),"getMonthlyLabelsSummaryBuilder"),O=o(function(M){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.b;return i.a.tz(M,T)},"getDateTimeMomentObj"),E=o(function(M){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.b;return i.a.tz(M,T).locale("en-US")},"getDateTimeMomentObjEnglishLocale"),y=o(function(M){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.b;const D=i.a.tz(M,T),S=i()(t()(),T);return D<S},"isDateTimePast"),C=o(function(M,T){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return t()(`${M}T${T}:00.000`).utcOffset(D/60,!0)},"createTimeZoneConsciousMomentObj"),I=o(M=>{const T=M.day();return T<5?M.add(1,"day"):M.add(8-T,"day")},"getMomentAtNextWeekday");function j(M){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unix";var D;const S=(D=Object(r.E)(M))!==null&&D!==void 0?D:0,A=t()().utcOffset(S/60).format("YYYY-MM-DD"),N=I(C(A,"08:00",S));return T==="iso"?N.toISOString():N.unix()}o(j,"getDefaultStartTimestampForMember")},OCkr:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("vJtL"),c=e("LUQC"),r=e("3V+Q"),f=e("pbND"),l=e("Pewd"),p=e("MYuU"),h=e("9ADk");function u(){return u=Object.assign||function(I){for(var j=1;j<arguments.length;j++){var M=arguments[j];for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(I[T]=M[T])}return I},u.apply(this,arguments)}o(u,"_extends");function b(I){const{name:j,addHint:M,removeHint:T}=Object(n.useContext)(f.a),D=Object(n.useMemo)(()=>`${j}_hint_${Object(p.d)()}`,[j]);return Object(n.useEffect)(()=>(M(D),()=>{T(D)}),[M,D,T]),t.a.createElement(h.a,u({},I,{id:D}))}o(b,"FormHint"),b.displayName="FormHint";var v=b;function d(I){let{hints:j}=I;return j&&j.map((M,T)=>{const D=M.slice(-3)+T;return t.a.createElement(v,{key:D,className:"c-field_input__helpers"},M)})}o(d,"FieldHints");var m=e("i5Ig"),g=e("Z4OJ");const O=o(I=>`${I}_label_id`,"getLabelId"),E=o((I,j)=>({...I,...j,className:Object(a.default)(I.className,j.className)}),"mergeProps");function y(I){let{name:j,labelText:M,hints:T=m.a,labelSubtext:D,focusOnMount:S=!1,component:A,children:P,optional:N=!1,validate:G,validateAsync:V,...k}=I;const x=O(j),H=P&&Object(i.a)(P),R=P&&!Object(i.a)(P);Object(c.a)(!(A&&H),"You should not use <Field component> and <Field children> as a function in the same <Field> component; <Field component> will be ignored.");const W=Object(n.useCallback)(_=>M?t.a.createElement(r.b,{text:M,id:x,type:"inline",cursor:"pointer",className:Object(a.default)(_,k.className),optional:N},P):P,[P,x,M,N,k.className]),U=Object(n.useCallback)(()=>M?t.a.createElement(r.b,{text:M,subtext:D,id:x,optional:N}):null,[x,D,M,N]);return t.a.createElement(f.b,{name:j,labelId:x,validate:G,validateAsync:V,focusOnMount:S},_=>{let{field:B,fieldErrors:z}=_;return t.a.createElement(t.a.Fragment,null,R?W(B.className):t.a.createElement(t.a.Fragment,null,U(),H?P({field:B}):t.a.createElement(A,E(B,{...k}))),t.a.createElement(l.a,{errors:z}),t.a.createElement(d,{hints:T}))})}o(y,"Field"),y.displayName="Field";var C=s.a=y},OF9j:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("owWc"),t=e("Dpjh"),a=e("k2bd"),i=e("fR2/"),c=e("TQ9f");function r(l){let{tagChannelsAsSearchGeneric:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{tagChannelsAsSearchGeneric:!1};return l.contents?Object(n.a)(l.contents,(u,b)=>{if(Object(i.a)(b)){const v=b.attributes.slackmention.id,d=b.attributes.slackmention.label,m=f(b,p);let g="";if(m==="%"&&(g="%"),b.insert.length>d.length){let O=b.insert.split(d);if(O.length>1)return O.shift(),O=O.map(()=>`<${m}${v}|${g}${Object(t.a)(d)}>`),u+O.join("")}return`${u}<${m}${v}|${g}${Object(t.a)(d)}>`}if(Object(c.a)(b))return u+b.insert.slackemoji.text;if(Object(a.a)(b)){const{id:v,property:d}=b.insert.workflowtoken,m=d?`.${d}`:"";return`${u}{{${v}${m}}}`}return u+b.insert},"").replace(/\n$/,""):""}o(r,"convertContentsToString");function f(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!p&&Object(i.e)(l)?"#":Object(i.h)(l,p)?"%":"@"}o(f,"getControlChar")},OJZy:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("Kn+X");function t(a){const i={},c=Object(n.o)(a)||Object(n.s)(a);return c&&(i.draft_id=c),i}o(t,"getDraftExtraArgs")},OXvE:function(w,s,e){"use strict";var n=e("F294"),t=e("bPB8"),a=e("q1tI"),i=e.n(a),c=e("Cfcg"),r=e("JoR1"),f=e("O86Y"),l=e("i7CO"),p=e("HJKc"),h=e("YlCL"),u=e("aCpJ"),b=e("lhZz");function v(W,U){if(!U||!W||!Object(p.a)(W))return"";const _=Object(b.getStateByTeamId)(U),B=Object(h.d)(_);return Object(u.a)(B)[W]}o(v,"getUnicodeNameFromEmojiString");var d=e("m5Yc"),m=e("mdQV"),g=e("6YLm"),O=e("RNBp"),E=e("FFYQ"),y=e("WXix"),C=e("ECHX"),I=e("6je6"),j=e("/ZHS"),M=e("7HXw"),T=e("895Y"),D=e("/qcS"),S=e("B/Zf"),A=e("gV07"),P=e("7UMc"),N=e("rBXw"),G=e("Atrf"),V=e("wnwS"),k=e("5yBE");const x=o(W=>{let{richTextBlock:U,do24hrTime:_,emojiSize:B,truncateLength:z,teamOrEnterpriseId:L,withFormattingStyles:$,withHighlights:Q,withSlackLinks:K,withHyperlinks:Z}=W;var ne;if(!(!(U==null||(ne=U.elements)===null||ne===void 0)&&ne.length))return null;let F=0;const J=o(()=>(F+=1,F),"makeKey");let X=Object(n.a)(U.elements),Y;if(Object(T.a)(X)&&(X!=null&&X.style&&X.style===d.a.ORDERED?Y=i.a.createElement(i.a.Fragment,null,"1. "):Y=i.a.createElement(i.a.Fragment,null,"\u2022 "),X=Object(n.a)(X.elements)),!X||!X.elements||!X.elements.length)return null;let ae=!1,ee=0;const q=X.elements.map(te=>{if(ae)return null;if(Object(y.a)(te)){ee+=1;const de=te.name,se=te.skin_tone,re=te.display_team_id,oe=te.display_alias,ce=te==null?void 0:te.unicode,ue=oe??de,Pe=Object(l.a)(ue,L);let Ye=se?`:${ue}::skin-tone-${se}:`:`:${ue}:`;if(Pe&&ce){const Ke=v(ce,L??"");Ke&&(Ye=`:${Ke}:`)}const $e=te.display_url;return i.a.createElement(D.b,{key:J(),text:Ye,emojiSize:B||D.a.MEDIUM,isEmojiInlineWithText:!0,showTooltip:!0,sourceTeamId:re,url:$e})}if(Object(E.a)(te)&&(te!=null&&te.channel_id))return ee+=te.channel_id.length,i.a.createElement(S.a,{key:J(),id:te.channel_id,noLinking:!K});if(Object(C.a)(te)&&(te!=null&&te.user_id))return ee+=te.user_id.length,i.a.createElement(G.a,{key:J(),id:te.user_id,noLinking:!K,noHighlights:!Q});if(Object(I.a)(te)&&(te!=null&&te.usergroup_id))return ee+=te.usergroup_id.length,i.a.createElement(A.a,{key:J(),id:te.usergroup_id,noLinking:!K,noHighlights:!Q});if(Object(g.a)(te)&&(te!=null&&te.range))return ee+=te.range.length,i.a.createElement(P.a,{key:J(),type:te.range,noLinking:!K,noHighlights:!Q});if(Object(O.a)(te)){const{timestamp:de,format:se,fallback:re}=te;return!de||!se?null:(ee+=re?re.length:0,i.a.createElement(N.a,{key:J(),ts:de.toString(),format:se,fallback:re,do24hrTime:_,noLinking:!K}))}if(Object(M.a)(te)){ee+=(te.text||te.url||"").length;let de;return Z?de=i.a.createElement(k.a,{key:J(),href:te.url},te.text||te.url||""):de=i.a.createElement(a.Fragment,{key:J()},te.text||te.url||""),de}if(Object(j.a)(te)&&(te!=null&&te.value))return ee+=te.value.length,i.a.createElement(a.Fragment,{key:J()},te.value||"");if(Object(m.a)(te)&&te.text){const de=te.text.split(/\n/);let se=Object(n.a)(de);const re=z?z-ee:ee;ee=se?ee+se.length:ee,de.length>1&&(ae=!0),se&&z&&se.length>re&&(ae=!0,se=se.substr(0,re));let oe;return $?oe=i.a.createElement(V.a,{key:J(),style:te.style},se):oe=i.a.createElement(a.Fragment,{key:J()},se||""),oe}return z&&!ae&&ee>z&&(ae=!0),null});return i.a.createElement(i.a.Fragment,null,Y,Object(t.a)(q),ae&&i.a.createElement(i.a.Fragment,null,"\u2026"))},"RichTextPreamble");x.displayName="RichTextPreamble";const H=o(W=>({do24hrTime:Object(r.t)(W,"time24"),teamOrEnterpriseId:Object(f.h)(W)||""}),"mapStateToProps");var R=s.a=Object(c.a)(H)(x)},OmVA:function(w,s,e){"use strict";e.d(s,"h",function(){return u}),e.d(s,"f",function(){return v}),e.d(s,"a",function(){return d}),e.d(s,"d",function(){return m}),e.d(s,"i",function(){return O}),e.d(s,"c",function(){return E}),e.d(s,"e",function(){return y}),e.d(s,"g",function(){return C}),e.d(s,"b",function(){return A});var n=e("Lgge"),t=e("n3tL"),a=e("WCk1"),i=e("2XU3"),c=e("s4P+"),r=e("mjdg"),f=e("ITkT"),l=e("Cwwo"),p=e("oTs4");const h={ok:!1},u=Object(a.a)("Send a batch of invites",function(P,N){let{invites:G,channels:V,extraMessage:k="",source:x="invite_modal",campaign:H=null,mode:R="manual",expirationTs:W=null,restricted:U=!1,ultraRestricted:_=!1,signInWithEmailAndPassword:B=!1,targetTeamId:z}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!G.length)return n.a.reject(new Error("missing_invites"));const L={invites:JSON.stringify(G),source:x,campaign:H,mode:R,restricted:U,ultra_restricted:_,email_password_policy_enabled:B,team_id:z};return V&&V.length&&(L.channels=V),k&&(L.extra_message=k),W&&(L.expiration_ts=W),z&&(L.team_id=z),P(Object(i.apiCall)({method:"users.admin.inviteBulk",reason:"invite_bulk",args:L})).catch($=>{throw Object(c.a)({getState:N}).error("Failed to send invites."),$})});u.meta={name:"createFetcher",key:"createFetchersubmitSendInvites",description:"Send a batch of invites"},u.propTypes={invites:t.default.array.isRequired,channels:t.default.oneOfType([t.default.string,t.default.array]),extraMessage:t.default.string,source:t.default.string,mode:t.default.string,expirationTs:t.default.number,restricted:t.default.bool,ultraRestricted:t.default.bool,signInWithEmailAndPassword:t.default.bool};const b=Object(a.a)("Parse a string of concatenated emails",function(P,N){let{emails:G}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const V={emails:G};return P(Object(i.apiCall)({method:"users.admin.parseEmails",reason:"parse_emails",args:V})).catch(k=>{throw Object(c.a)({getState:N}).error("Failed to parse emails."),k})});b.meta={name:"createFetcher",key:"createFetcherparseEmails",description:"Parse a string of concatenated emails"},b.propTypes={emails:t.default.string.isRequired};const v=Object(a.a)("Gets an array of existing shared invite links",function(P,N){let{mode:G,targetTeamId:V}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const k={reason:"list_shared_invites"};return G&&(k.mode=G),V&&(k.teamId=V),P(Object(p.a)(k)).catch(x=>{throw Object(c.a)({getState:N}).error("Failed to get a shared invite link."),x})});v.meta={name:"createFetcher",key:"createFetcherlistSharedInvites",description:"Gets an array of existing shared invite links"},v.propTypes={mode:t.default.string,targetTeamId:t.default.string};const d=400,m=Object(a.a)("Create a shared invite link",function(P,N){let{expiration:G,disableEmail:V}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const k={expiration:G,max_signups:d,disable_email:V};return P(Object(i.apiCall)({method:"users.admin.createSharedInvite",reason:"create_shared_invite",args:k})).catch(x=>{throw Object(c.a)({getState:N}).error("Failed to create a shared invite link."),x})});m.meta={name:"createFetcher",key:"createFetchercreateSharedInvite",description:"Create a shared invite link"},m.propTypes={expiration:t.default.number,disableEmail:t.default.bool};const g=Object(a.a)("Deletes all shared invite links for a workspace",(P,N)=>P(Object(i.apiCall)({method:"users.sharedInvites.revokeAll",reason:"revoke_all_shared_invites",args:{}})).catch(G=>{throw Object(c.a)({getState:N}).error("Failed to revoke all shared invite links."),G}));g.meta={name:"createFetcher",key:"createFetcherrevokeAllSharedInvites",description:"Deletes all shared invite links for a workspace"};const O=Object(a.a)("Update shared invite",function(P,N){let{code:G,expiration:V,joinNotificationsEnabled:k}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const x={code:G,expiration:V,notifications_enabled:k},H="users.sharedInvites.update";return P(Object(i.apiCall)({method:H,reason:"update_shared_invite",args:x})).catch(R=>{throw Object(c.a)({getState:N}).error("Failed to update a shared invite link."),R})});O.meta={name:"createFetcher",key:"createFetcherupdateSharedInvite",description:"Update shared invite"},O.propTypes={code:t.default.string,joinNotificationsEnabled:t.default.bool};const E=Object(a.a)("Parse comma separated email domains and return list of valid email domains",function(P,N){let{emailDomains:G=""}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const V={email_domains:G};return P(Object(i.apiCall)({method:"team.checkEmailDomains",reason:"check_email_domains",args:V})).catch(k=>{throw Object(c.a)({getState:N}).error("Failed to check team email domains."),k})});E.meta={name:"createFetcher",key:"createFetchercheckEmailDomains",description:"Parse comma separated email domains and return list of valid email domains"},E.propTypes={emailDomains:t.default.string};const y=Object(a.a)("Check whether this team is allowed to add new single-channel guests",(P,N)=>P(Object(i.apiCall)({method:"users.admin.canAddUltraRestricted",reason:"can_add_ultra_restricted"})).catch(G=>{if(G.data&&G.data.error==="max_uras")return h;throw Object(c.a)({getState:N}).error("Failed to check single-channel guest limit."),G}));y.meta={name:"createFetcher",key:"createFetcherfetchCanAddUltraRestricted",description:"Check whether this team is allowed to add new single-channel guests"};const C=Object(a.a)("Submit a batch of invite requests",function(P,N){let{requests:G,channels:V,expirationTs:k=null,requesterMessage:x="",restricted:H=!1,ultraRestricted:R=!1,source:W="invite_modal",campaign:U=null,mode:_="manual",targetTeamId:B}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!G.length)return n.a.reject(new Error("missing_requests"));const z={requests:JSON.stringify(G),source:W,campaign:U,mode:_,restricted:H,ultra_restricted:R,team_id:B};return V&&V.length&&(z.channels=V),k&&(z.expiration_ts=k),x&&(z.requester_message=x),P(Object(i.apiCall)({method:"users.inviteRequests.create",reason:"submit_create_invite_requests",args:z})).catch(L=>{throw Object(c.a)({getState:N}).error("users.inviteRequests.create call failed."),L})});C.meta={name:"createFetcher",key:"createFetchersubmitCreateInviteRequests",description:"Submit a batch of invite requests"},C.propTypes={requests:t.default.arrayOf(t.default.shape({email:t.default.string.isRequired,real_name:t.default.string})),channels:t.default.arrayOf(t.default.string),expirationTs:t.default.number,extraMessage:t.default.string,source:t.default.string,campaign:t.default.string,mode:t.default.string,restricted:t.default.bool,ultraRestricted:t.default.bool};const I=Object(a.a)("Fetches the invite history for a workspace",(P,N,G)=>{let{inviteType:V,cursorMark:k,query:x,sortBy:H,sortDir:R}=G;const W={type:V};return k&&(W.cursor=k),x&&(W.query=x),H&&(W.sort_by=H),R&&(W.sort_dir=R),P(Object(i.apiCall)({method:"users.admin.fetchInvitesHistory",args:W,reason:"fetch_invites_history_admin"})).then(U=>({invites:U.invites,nextCursorMark:U.next_cursor}))});I.meta={name:"createFetcher",key:"createFetcherfetchInvitesHistory",description:"Fetches the invite history for a workspace"},I.propTypes={inviteType:t.default.oneOf([r.c.PENDING,r.c.ACCEPTED]).isRequired,cursorMark:t.default.string};const j=Object(a.a)("Fetches the list of invite requests for a workspace",function(P,N){let{cursorMark:G,query:V,sortBy:k,sortDir:x}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const H={};return G&&(H.cursor=G),V&&(H.query=V),k&&(H.sort_by=k),x&&(H.sort_dir=x),P(Object(i.apiCall)({method:"users.admin.fetchInviteRequests",args:H,reason:"fetch_invite_requests_admin"})).then(R=>({requests:R.requests,nextCursorMark:R.next_cursor}))});j.meta={name:"createFetcher",key:"createFetcherfetchInviteRequests",description:"Fetches the list of invite requests for a workspace"},j.propTypes={cursorMark:t.default.string,query:t.default.string,sortBy:t.default.oneOf(Object.values(r.b)),sortDir:t.default.oneOf(Object.values(r.a))};const M=Object(a.a)("Approves a request to invite a user",function(P,N){let{requestId:G}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P(Object(i.apiCall)({method:"users.admin.inviteRequests.approve",args:{request_ids:JSON.stringify([G])},reason:"approve_invite_request_admin"}))});M.meta={name:"createFetcher",key:"createFetchersubmitApproveInviteRequest",description:"Approves a request to invite a user"},M.propTypes={requestId:t.default.number.isRequired};const T=Object(a.a)("Denies a request to invite a user",function(P,N){let{requestId:G}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P(Object(i.apiCall)({method:"users.admin.inviteRequests.deny",args:{request_ids:JSON.stringify([G])},reason:"deny_invite_request_admin"}))});T.meta={name:"createFetcher",key:"createFetchersubmitDenyInviteRequest",description:"Denies a request to invite a user"},T.propTypes={requestId:t.default.number.isRequired};const D=Object(a.a)("Revokes an invitation to a user",function(P,N){let{inviteId:G}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P(Object(i.apiCall)({method:"users.admin.revokeInvitation",args:{invite_id:G},reason:"admin_revoke_invite"}))});D.meta={name:"createFetcher",key:"createFetchersubmitRevokeInvite",description:"Revokes an invitation to a user"},D.propTypes={inviteId:t.default.number.isRequired};const S=Object(a.a)("Resends an invitation to a user",function(P,N){let{inviteId:G}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P(Object(i.apiCall)({method:"users.admin.resendInvitation",args:{invite_id:G},reason:"admin_resend_invite"}))});S.meta={name:"createFetcher",key:"createFetchersubmitResendInvite",description:"Resends an invitation to a user"},S.propTypes={inviteId:t.default.number.isRequired};const A=Object(a.a)("Send email invites and add new users to the given channel",(P,N,G)=>{let{emails:V,channelId:k,inviteType:x,team:H}=G;const R=N(),W=V.map(z=>({email:z,type:x})),U={source:"invite_emails_to_channel",channels:[k],ultraRestricted:x===l.a.SingleChannelGuest};if(Object(f.g)({state:R,inviteType:x,team:H}))return P(C({...U,requests:W,targetTeamId:H==null?void 0:H.id})).then(z=>{const L=V.map($=>({email:$,ok:!z.error}));return{status:z.error?"error":"success",topLevelError:z.error,successfulInvites:z.error?[]:L,erroredInvites:z.error?L:[]}}).catch(z=>{let{data:L}=z;var $,Q;const K=L==null||($=L.requests)===null||$===void 0?void 0:$.filter(ne=>!ne.ok),Z=L==null||(Q=L.requests)===null||Q===void 0?void 0:Q.filter(ne=>ne.ok);return{status:"error",topLevelError:L.error||"error",successfulInvites:Z||[],erroredInvites:K||V.map(ne=>({email:ne,ok:!1}))}});const B=o(z=>{let L=[],$=[];z&&($=z.filter(K=>!K.ok),L=z.filter(K=>K.ok));let Q;return L.length===V.length?Q="success":$.length>0&&$.length<V.length?Q="partial":Q="error",{status:Q,erroredInvites:$,successfulInvites:L}},"handleInvitesResponse");return P(u({...U,invites:W,targetTeamId:H==null?void 0:H.id})).then(z=>{const{status:L,erroredInvites:$,successfulInvites:Q}=B(z.invites);return{status:L,erroredInvites:$,successfulInvites:Q,topLevelError:z.error&&L==="error"?z.error:void 0}}).catch(z=>{let{data:L}=z;const{status:$,erroredInvites:Q,successfulInvites:K}=B(L.invites);return{status:$,erroredInvites:Q,successfulInvites:K,topLevelError:$==="error"&&L.error?L.error:void 0}})});A.meta={name:"createFetcher",key:"createFetcheraddEmailsToChannel",description:"Send email invites and add new users to the given channel"},A.propTypes={channelId:t.default.string.isRequired,emails:t.default.arrayOf(t.default.string)}},OmjV:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("RVJP");const t=o(a=>Object(n.d)(a,"express_templates_stepper_a11y")==="on","isExpressTemplatesStepperA11yEnabled")},Orok:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("3Hq1"),t=e("fujP"),a=e("HI9p"),i=e("SQ0V"),c=e("YBS9"),r=e("eJek");const f=Object(i.c)("remove a single reaction by a user for a reaction key",(l,p,h)=>{const{key:u,name:b,userId:v,fromUserAction:d}=h||{};if(Object(n.a)(u)||Object(n.a)(b))return!1;const m={...Object(c.b)(p(),u,b)};if(Object(t.a)(m))return!1;let g=[...m.users];const O=g.indexOf(v);O>-1&&(g=[...g.slice(0,O),...g.slice(O+1)],m.count-=1);const E=Object(c.a)(p(),u)||[],y=Object(a.a)(E,I=>I.name===b);if(Object(n.a)(E))return!1;let C;return!g.length||m.count<1?C=[...E.slice(0,y),...E.slice(y+1)]:C=[...E.slice(0,y),{...m,users:g},...E.slice(y+1)],l(Object(r.a)({key:u,reactions:C,fromUserAction:d}))});f.meta={name:"createThunk",key:"createThunkremoveReaction",description:"remove a single reaction by a user for a reaction key"}},Os2i:function(w,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"b",function(){return p});var n=e("up1q"),t=e("E3dU"),a=e("y/Pn"),i=e("P9LH"),c=e("gnJq"),r=e("z28c"),f;(function(h){h.CAN_SHARE="can_share",h.SHARING_DISABLED="canvas_sharing_disabled"})(f||(f={}));const l=o((h,u)=>Object(r.a)(h)?Object(n.a)(h,"canvas_share_status",u)===f.SHARING_DISABLED:!1,"isSlackConnectCanvasSharingDisabled"),p=o((h,u,b)=>{const v=Object(t.d)(h,u);return!Object(a.a)(v)||!b||Object(c.a)(b)||!Object(i.g)(b)?!1:!Object(r.a)(h)||l(h,u)},"shouldWarnSlackConnectCanvasSharingDisabled")},OwMQ:function(w,s,e){"use strict";var n=e("Lgge"),t=e("SQ0V"),a=e("s4P+"),i=e("FTyC"),c=e("DQNL"),r=e("GhjL"),f=e("RgHq");const l="USER_GROUPS",p=Object(t.c)("Fetch and upsert the members of a user group",(h,u,b)=>{let{groupId:v,reason:d="fetchAndUpsertUserGroupMembers"}=b;const m=u(),g=Object(r.d)(m,v);if(Object(c.v)(g)||!Object(c.x)(g))return n.a.resolve();if(!g||g!=null&&g.isNonExistent)throw new Error(`cannot fetch usergroup members for unknown or nonexistent group ${g?g==null?void 0:g.id:"[unknown group id]"}`);if(!(g!=null&&g.team_id))throw new Error(`cannot fetch usergroup members for ${g.id} because there is no team_id for that group`);return h(Object(i.a)({usergroup:v,teamId:g.team_id,reason:d})).then(O=>{let{users:E}=O;return h(Object(f.d)({groupId:v,users:E})),E}).catch(O=>{throw Object(a.a)({getState:u}).error(l,`Error in fetchAndUpsertUserGroupMembers: ${JSON.stringify(O)}`),O})});p.meta={name:"createThunk",key:"createThunkfetchAndUpsertUserGroupMembers",description:"Fetch and upsert the members of a user group"},s.a=p},Owxj:function(w,s,e){"use strict";var n=e("n3tL"),t=e("wsJ+"),a=e("yrot");const i=o(function(c){let{messageText:r,teamId:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r||!f)return"";const l=Object(t.a)();return r.replace(l,p=>{const h=Object(a.l)(c,{text:p,teamId:f});return h||p})},"replaceTextEmojiWithNative");s.a=i,i.propTypes={messageText:n.default.string,teamId:n.default.string}},Oyf8:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("SQ0V"),t=e("T1zM"),a=e("kNzh");const i=Object(n.c)("Save isComplete and progressive disclosure tip",(c,r)=>{const f=r(),p={...Object(a.b)(f)||{},isComplete:!0};let h="";try{h=JSON.stringify(p)}catch{}return c(Object(t.f)({pref:a.a,value:h}))});i.meta={name:"createThunk",key:"createThunksetProgressiveDisclosureCompleted",description:"Save isComplete and progressive disclosure tip"}},P1Ik:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("Lgge"),c=e("WMzb");const r="MEDIA-PLAYER";function f(b){const v=Object(c.a)(),[d,m]=Object(n.useState)(!0),[g,O]=Object(n.useState)(),[E,y]=Object(n.useState)();return Object(n.useEffect)(()=>{if(O(void 0),y(void 0),!b){m(!1);return}m(!0);let C;const I=new i.a((j,M,T)=>{const D=new XMLHttpRequest;let S=!1;D.addEventListener("load",()=>{v.info(r,"vtt loaded"),m(!1);const A=D.response;C=URL.createObjectURL(A),O(C),j(D.response),A.text().then(P=>{S||y(P)})}),D.addEventListener("error",()=>{v.warn(r,"error fetching vtt"),m(!1),M(new Error(`VTT load request failed with status ${D.status}`))}),T&&T(()=>{D.abort(),S=!0}),D.responseType="blob",D.withCredentials=!0,D.open("GET",b),D.send(),v.info(r,"fetching vtt")});return()=>{I.isPending()&&I.cancel(),C&&URL.revokeObjectURL(C)}},[v,b]),{vttLoading:d,vttSrc:g,vttText:E}}o(f,"useVtt");var l=f;const p=new a.b("stories_av");function h(b){let{vtt:v,enableMediaCaptions:d}=b;const{vttSrc:m}=l(v);return!v||!m?null:t.a.createElement("track",{label:p.t("Captions"),kind:"captions",src:m,default:d})}o(h,"TextTrack"),h.displayName="TextTrack";var u=s.a=h},P4EH:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("RVJP");function t(a){return Object(n.d)(a,"fe_message_forwarding_m2")==="on"}o(t,"isFeMessageForwardingM2Enabled")},P55c:function(w,s,e){"use strict";e.d(s,"a",function(){return T});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("O86Y"),c=e("zxER"),r=e("nNoG"),f=e("ktUG"),l=e("Vzni"),p=e("7ibc"),h=e("P9LH"),u=e("Os2i"),b=e("E3dU"),v=e("gNhz"),d=e("+kJ4"),m=e("ylvb"),g=e("YUBf"),O=e("9WS/"),E=e("hUMe"),y=e("CmyG"),C=e("Trx9");const I=new r.b("quip"),j={elementName:"cancel",elementType:f.ElementType.BUTTON,action:f.UiAction.CLICK,onClick:{enableClogAction:!0}},M={elementName:"share",elementType:f.ElementType.BUTTON,action:f.UiAction.CLICK,onClick:{enableClogAction:!0}};var T;(function(S){S.TOOLBAR="insertion_toolbar",S.LINK="paste_link",S.CARD="paste_card",S.INLINE="paste_title",S.OTHER="other"})(T||(T={}));function D(S){let{parentCanvas:A,embeddedCanvas:P,source:N}=S;const G=Object(a.useDispatch)(),V=Object(c.c)(p.f),k=Object(c.c)(J=>Object(b.d)(J,A.linked_channel_id)),x=Object(c.c)(i.i),H=Object(c.c)(J=>!!A.linked_channel_id&&Object(u.b)(J,A.linked_channel_id,A)),R=A.is_channel_space_disabled_on_connected_team,W=H||R,U=Object(h.Wb)(P)?v.a.Write:v.a.Read,[_,B]=Object(n.useState)(Object(l.a)(P,U)),[z,L]=Object(n.useState)(!1),$=Object(n.useCallback)(()=>G(Object(d.a)()),[G]),Q=Object(n.useCallback)(()=>{L(!0),G(Object(m.a)({parentCanvasId:A.id,embeddedCanvasId:P.id,accessLevel:_.value,reason:"share-embedded-canvas-modal"})).then(()=>{$()}).finally(()=>{L(!1)})},[G,_.value,P.id,A.id,$]);if(!V||!k)return null;const K=o(()=>W?I.t("Some people can\u2019t view this canvas"):I.rt("Share this canvas with {channel}?",{channel:t.a.createElement(O.a,{channel:k,includeChannelPrefix:!0,bold:!1})}),"getModalTitle");K.displayName="getModalTitle";const Z=o(()=>H?I.rt("Your admins turned off external sharing so only people from {currentTeam} will be able to open it.",{currentTeam:t.a.createElement(E.a,{id:x,className:"no_wrap"})}):R?I.rt("Other organizations in this channel may have disabled canvas sharing, so not everyone will be able to view this canvas."):I.rt("When you share a canvas here, anyone in {channel} can access it.",{channel:t.a.createElement(O.a,{channel:k,includeChannelPrefix:!0,bold:!1})}),"getModalContent");Z.displayName="getModalContent";const ne="share_embedded_canvas_modal_title",F="share_embedded_canvas_modal_content";return t.a.createElement(C.a,{eventId:f.EventId.QUIP_SHARE,elementType:f.ElementType.MODAL,uiComponentName:f.UiComponentName.QUIP_EMBED_SHARE_DIALOG,uiComponentVariant:N},t.a.createElement(g.a,{closeModal:$,labelledby:ne,describedby:F},t.a.createElement(g.i,null,t.a.createElement(g.l,{id:ne,title:K(),"data-qa":"share_embedded_canvas_modal_title"})),t.a.createElement(g.d,null,t.a.createElement(g.e,{"data-qa":"share_embedded_canvas_modal_content"},t.a.createElement("p",{id:F},Z()))),t.a.createElement(g.g,null,t.a.createElement(g.h,{className:"display_flex full_width"},t.a.createElement(y.a,{file:P,selectedOption:_,setSelectedOption:B}),t.a.createElement("div",{className:"display_flex margin_left_auto"},t.a.createElement(g.c,{type:"outline",className:"margin_right_50",onClick:$,autoClogProps:j},I.t("Don\u2019t Grant Access")),t.a.createElement(g.c,{type:"primary",onClick:Q,loading:z,autoClogProps:M,autoFocus:!0},W?I.t("Share Anyway"):I.t("Share")))))))}o(D,"ShareEmbeddedCanvasModal"),D.displayName="ShareEmbeddedCanvasModal",s.b=D},P8PK:function(w,s,e){"use strict";var n=e("gPPH"),t=e("Nyfl");const a=o(()=>Object(t.a)(()=>Object(n.a)()),"useUniqueId");s.a=a},PIYn:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("nNoG"),c=e("ykb+"),r=e("tYiI"),f=e("zxER"),l=e("4Ky9"),p=e("n3y5"),h=e("V/As"),u=e("srzd"),b=e("9068"),v=e("oEDn");const d=o(M=>{let{passedApp:T,appId:D,workflowId:S,appName:A,className:P,type:N,icon:G}=M;const V=Object(a.default)(P,{"p-slash_commands_autocomplete_menu_entity__slack_icon":D===void 0&&A==="Slack"}),k=Object(f.c)(l.b),x=Object(f.c)(H=>{if(S){const R=Object(u.a)(H,S);if(Object(b.a)(R)&&R.icons)return R.icons.image_96}if(Object(r.a)(D)){if(T!=null&&T.icons)return Object(h.b)(T,20,k);const R=Object(l.a)(H,D);return Object(h.b)(R,20,k)}return A==="Slack"?"/img/slack_logo_mark.svg":k});return N==="global_action"&&!D?G?t.a.createElement(v.a,{type:G}):t.a.createElement(p.a,{ariaHidden:!0,classes:V,image:"/img/slack_logo_mark.svg",size:20}):t.a.createElement(p.a,{ariaHidden:!0,classes:V,image:x,size:20})},"SlashCommandsAutocompleteMenuEntityIcon");d.displayName="SlashCommandsAutocompleteMenuEntityIcon";var m=d,g=e("beVI"),O=e("G0eX"),E=e("F0YV"),y=e("x3ts");const C=new i.b("slash-commands");function I(M){let{command:T,isActive:D,className:S}=M;const{id:A,appId:P,app_id:N,appName:G,workflowId:V,type:k,icon:x,app:H}=T,R=Object(c.b)()?"A061CBSGH":"A0F827J2C";let W="";A==="/giphy"&&!P&&!N&&(W=R);const U=T==null?void 0:T.applicableTeamId,_=Object(f.c)(J=>U?Object(g.s)(J,U):null),B=P||N||W,z=Object(f.c)(J=>T.type==="global_action"&&T.appName!=="Slack"?Object(y.c)(J,{appId:B,actionId:A}).name:T.name),L=Object(a.default)("p-slash_commands_autocomplete_menu_entity__container",S,{"p-slash_commands_autocomplete_menu_entity__container--selected":D}),$=o(()=>{var J;const X=G||(T==null||(J=T.app)===null||J===void 0?void 0:J.app_name);return X!==z&&G!=="Slack"?t.a.createElement(t.a.Fragment,null,"\xB7 ",X):null},"buildAppName"),Q=o(()=>{const J=Object(O.h)(_),X=Object(O.m)(_);return _?t.a.createElement(t.a.Fragment,null,"\xB7 ",t.a.createElement(E.a,{icon:X,size:10,teamName:J})," ",J):null},"buildTeamInfo");Q.displayName="buildTeamInfo";const K=o(()=>{var J;return!((J=T.desc)===null||J===void 0)&&J.length?t.a.createElement(t.a.Fragment,null," \xB7 ",T.desc):""},"buildDescription"),Z=o(()=>!Object(r.a)(B)&&T.appName==="Slack"?C.t("Slack"):T.isSlashCommand?C.t("Command"):T.type==="global_action"?C.t("Shortcut"):C.t("Workflow"),"buildType"),ne=o(()=>T.usage&&z?t.a.createElement(t.a.Fragment,null,z,t.a.createElement("span",{className:"p-slash_commands_autocomplete_menu_entity__usage"},T.usage)):z||"","buildName");ne.displayName="buildName";const F=o(()=>{var J,X;let Y=G||(T==null||(J=T.app)===null||J===void 0?void 0:J.app_name);Y!==z&&G!=="Slack"||(Y="");const ae=!((X=T.desc)===null||X===void 0)&&X.length?`, ${T.desc}`:"",ee=_?Object(O.h)(_):"";return`${Y}, ${Z()}, ${ee} ${ae}`},"buildAriaDescription");return t.a.createElement("div",{className:L},t.a.createElement("div",{className:"p-slash_commands_autocomplete_menu_entity__icon"},t.a.createElement(m,{passedApp:H,appId:B,appName:G,workflowId:V,type:k,icon:x})),t.a.createElement("div",{className:"p-slash_commands_autocomplete_menu_entity__details"},t.a.createElement("div",{className:"p-slash_commands_autocomplete_menu_entity__name","aria-label":z},ne()),t.a.createElement("div",{className:"p-slash_commands_autocomplete_menu_entity__description","aria-label":F()},t.a.createElement("span",{className:"p-slash_commands_autocomplete_menu_entity__type"},Z()," ",$()," ",Q()),K())))}o(I,"SlashCommandsAutocompleteMenuEntity"),I.displayName="SlashCommandsAutocompleteMenuEntity";var j=s.a=I},PKUN:function(w,s,e){"use strict";e.d(s,"u",function(){return O}),e.d(s,"s",function(){return E}),e.d(s,"t",function(){return C}),e.d(s,"g",function(){return I}),e.d(s,"e",function(){return j}),e.d(s,"r",function(){return M}),e.d(s,"n",function(){return T}),e.d(s,"x",function(){return D}),e.d(s,"o",function(){return S}),e.d(s,"c",function(){return A}),e.d(s,"i",function(){return P}),e.d(s,"w",function(){return N}),e.d(s,"q",function(){return G}),e.d(s,"b",function(){return V}),e.d(s,"k",function(){return x}),e.d(s,"d",function(){return H}),e.d(s,"m",function(){return R}),e.d(s,"v",function(){return W}),e.d(s,"j",function(){return U}),e.d(s,"l",function(){return _}),e.d(s,"p",function(){return B}),e.d(s,"h",function(){return L}),e.d(s,"f",function(){return $}),e.d(s,"y",function(){return Q}),e.d(s,"z",function(){return K}),e.d(s,"a",function(){return Z});var n=e("gSGL"),t=e("S1sa"),a=e("rdha"),i=e("4/od"),c=e("z+Hh"),r=e("mZIY"),f=e("i5Ig"),l=e("beVI"),p=e("G0eX"),h=e("uL+k"),u=e("F4Pg"),b=e("O86Y"),v=e("pu3F");function d(ne,F){const J=Object(b.i)(ne),X=Object(l.s)(ne,F),Y=Object(p.n)(X),ae=Object(p.k)(X);return J===Y||J===ae}o(d,"isCurrentTeamOrEnterpriseWorkspaceId");var m=e("bJfW");const g=o(ne=>{var F;return ne==null||(F=ne.workflowBuilder)===null||F===void 0?void 0:F.workflowEditor},"selectWorkflowEditorState"),O=o(ne=>g(ne).loading,"selectWorkflowEditorLoading"),E=o(ne=>g(ne).lastLoaded,"selectWorkflowEditorLastLoaded"),y=o(ne=>g(ne).lastLoadAttempt,"selectWorkflowEditorLastLoadAttempt"),C=o(ne=>g(ne).loadError,"selectWorkflowEditorLoadError"),I=o(ne=>g(ne).latestHermesWorkflow,"selectLatestHermesWorkflow"),j=o(ne=>{var F;return(F=g(ne))===null||F===void 0?void 0:F.isRestricted},"selectIsWorkflowRestricted"),M=o(ne=>{var F;return(F=I(ne))===null||F===void 0?void 0:F.workflow},"selectWorkflow"),T=o(ne=>{var F;return(F=I(ne))===null||F===void 0?void 0:F.trigger},"selectTrigger"),D=o(ne=>{var F;return((F=M(ne))===null||F===void 0?void 0:F.id)||""},"selectWorkflowId"),S=o(ne=>{var F;return((F=T(ne))===null||F===void 0?void 0:F.id)||""},"selectTriggerId"),A=o(ne=>{var F;return((F=M(ne))===null||F===void 0?void 0:F.collaborators)||f.a},"selectHermesWorkflowCollaborators"),P=o(ne=>{var F;return(F=I(ne))===null||F===void 0?void 0:F.permissions},"selectPermissions"),N=o((ne,F)=>{if(!F)return;const J=F==null?void 0:F.team_id;if(Object(n.a)(J)&&Object(r.b)(ne,J))return J},"selectWorkflowExternalWorkspaceTeamId"),G=o(ne=>{var F;return(F=P(ne))===null||F===void 0?void 0:F.run},"selectTriggerRunPermissions"),V=o(ne=>{var F;return(F=P(ne))===null||F===void 0?void 0:F.copy},"selectCopyPermissions"),k=o(ne=>{var F;return(F=P(ne))===null||F===void 0?void 0:F.edit},"selectWorkflowEditPermissions"),x=o(ne=>{const F=I(ne);return Object(c.w)(F).length},"selectStepCount"),H=o(ne=>{var F;return(F=g(ne))===null||F===void 0?void 0:F.inTemplateMode},"selectInTemplateMode"),R=o((ne,F)=>{var J,X;return(J=g(ne).latestHermesWorkflow)===null||J===void 0||(X=J.coachmarkData)===null||X===void 0?void 0:X[F]},"selectTemplateModeCoachmarkForSegment"),W=o(ne=>{var F;return(F=g(ne))===null||F===void 0?void 0:F.variables},"selectWorkflowEditorVariables"),U=o(ne=>{var F;return(F=g(ne))===null||F===void 0?void 0:F.savedTemplateId},"selectSavedTemplateId"),_=o(ne=>{var F;return(F=g(ne))===null||F===void 0?void 0:F.teamPublishedWorkflowsTotalCount},"selectTeamPublishedWorkflowsTotalCount"),B=Object(a.f)(ne=>{const F=G(ne);if(!F)return[];const{userIds:J=[],channelIds:X=[],teamIds:Y=[],orgIds:ae=[]}=F;return J.concat(X,Y,ae)}),z=Object(a.f)(ne=>{const F=G(ne);if(!F)return[];const{teamIds:J=[],orgIds:X=[]}=F;return J.concat(X).filter(Y=>!d(ne,Y))}),L=Object(a.c)((ne,F)=>F.length?Object(t.a)(F,J=>Object(m.c)(J)?!d(ne,J):!1):[[],[]]),$=o((ne,F)=>{const J=Object(b.i)(ne);var X;const{teamIds:Y=[],orgIds:ae=[]}=(X=G(ne))!==null&&X!==void 0?X:{},[ee]=L(ne,F??Y.concat(ae));return J===v.ab?ee.every(q=>q===v.X):J===v.X?ee.every(q=>q===v.ab):ee.length===0},"selectIsWorkflowSharedWithTrustedTeams"),Q=o(ne=>{const F=Object(l.g)(ne),J=Object(p.n)(F),X=G(ne);if(!X)return!1;const{permissionType:Y,userIds:ae,channelIds:ee,teamIds:q,orgIds:te}=X;if(Y===i.d.everyone)return!0;if(Y===i.d.named_entities&&ae.length===0&&ee.length===0){const[de,se]=L(ne,q.concat(te));return se.length>0&&se.every(re=>re===J)}return!1},"shouldDisplayEveryoneRunAccessOption"),K=o(ne=>{const F=j(ne),J=$(ne);return F&&!J},"shouldDisplayWorkflowIsRestrictedWarning"),Z=o((ne,F)=>{var J;if(!Object(i.e)(F))return!1;const{workflow:X}=F,Y=Object(c.x)(X),ae=Object(h.h)(ne);if(Y.length>0&&(!(ae==null||(J=ae.data)===null||J===void 0)&&J.apps)){var ee,q;const se=(q=ae==null||(ee=ae.data)===null||ee===void 0?void 0:ee.apps)!==null&&q!==void 0?q:{};for(let re=0;re<Y.length;re++){var te,de;const oe=Y[re],ce=(te=oe.function)===null||te===void 0?void 0:te.app_id;if(((de=oe.function)===null||de===void 0?void 0:de.type)==="app"&&ce&&(se!=null&&se[ce])){const ue=ce??"",Pe=Object(h.a)(ne,ue);if(Pe===u.a.CONFIGURATION_MISSING||Pe===u.a.CONFIGURATION_REQUESTED)return!0}}return!1}return!1},"doesWorkflowHaveAConnectorStepWithMissingConfiguration")},PU6Q:function(w,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"b",function(){return f});var n=e("ajVY"),t=e("O86Y"),a=e("rHDT"),i=e("RVJP"),c;(function(l){l.ALLOW_ALL="allow_all",l.IMAGES_ONLY="disable_all_except_images",l.DISABLE_ALL="disable_all"})(c||(c={}));const r=c.ALLOW_ALL,f=o(l=>{const p=Object(t.a)(l),h=Object(i.d)(l,"box_cfs")==="on",u=Object(n.c)(l,"allow_box_cfs",p);if(h&&u)return c.ALLOW_ALL;if(!p)return r;const b=Object.values(Object(a.a)(l,"disable_file_uploads",p)),v=[c.ALLOW_ALL,c.IMAGES_ONLY];var d;return(d=v.find(m=>b.some(g=>g===m)))!==null&&d!==void 0?d:c.DISABLE_ALL},"getMostPermissiveFileUploadPref")},Pcq4:function(w,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});const n=10,t=1e7},PglX:function(w,s,e){"use strict";var n=e("mdQV");s.a=function(t){if(Object(n.a)(t)){const a=t&&t.text&&t.text.trim();if(a)return a.length}return 0}},PhUj:function(w,s,e){"use strict";e.d(s,"a",function(){return p});var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),i=e("/Q0P"),c=e("Mqk2"),r=e("mLC8"),f=e("4cU5");const l=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"GjLU"))),p="canvas_share_dialog",h=o((b,v)=>Object(i.a)({element:t.a.createElement(l,v),isStackable:b,name:p}),"openCanvasModal"),u=Object(a.c)("Opens the modal to share a quip doc",(b,v,d)=>{let{fileId:m,initialChannelId:g,isStackable:O,initialShareDialogLocationsTab:E,viewContext:y,onCloseCallback:C,onOpenCallback:I}=d;r.d.start({label:r.a.CanvasShareDialogLoad,options:{samplingOptions:{sampleType:f.g.ALWAYS}}}),b(Object(c.d)({fileId:m,reason:"open-canvas-share-dialog"})).then(()=>{b(h(O,{fileId:m,initialChannelId:g,initialShareDialogLocationsTab:E,viewContext:y,onCloseCallback:C,onOpenCallback:I}))})});u.meta={name:"createThunk",key:"createThunkopenShareQuipModal",description:"Opens the modal to share a quip doc"},s.b=u},PjBX:function(w,s,e){"use strict";var n=e("Lgge"),t=e("mM05"),a=e.n(t),i=e("/1FC"),c=e("SQ0V"),r=e("WCk1"),f=e("2XU3"),l=e("tRmm"),p=e("RVJP");const h=1.75,u=100,b=10,v=Object(r.a)("Commit message edit text to the API",function(R,W){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{channelId:_,blocks:B,ts:z,attempts:L=0,reason:$,skipDlpUserWarning:Q=!1}=U,K={channel:_||"",ts:z||""};U.clientContextTeamId&&(K.client_context_team_id=U.clientContextTeamId);const Z=W();return Object(p.d)(Z,"native_dlp_user_warnings")==="on"&&(K.skip_dlp_user_warning=Q),K.blocks=JSON.stringify(B),Object(l.a)(z)?n.a.reject(new Error("message_not_found")):R(Object(f.apiCall)({method:"chat.update",args:K,reason:$||""})).catch(function(){let{data:ne={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ne.error==="message_not_found"&&L<b){const F=u*h;return n.a.delay(F).then(()=>R(v({...U,attempts:L+1})))}return n.a.reject(new Error(ne.error||"unknown_error"))})});v.meta={name:"createFetcher",key:"createFetchercommitMessageEdit",description:"Commit message edit text to the API"};var d=v,m=e("Jhy3"),g=e("UIhb"),O=e("9Gfp"),E=e("pOmS"),y=e("E3dU"),C=e("UNFO"),I=e("JJ34"),j=e("Rw2D"),M=e("qMw6"),T=e("GjHN"),D=e("K4/v"),S=e("9avG"),A=e("5IZy"),P=e("ktUG"),N=e("XcN5"),G=e("PIf0");const V=new Error("unknown_error"),k=o((R,W,U)=>{R.track(U,{contexts:{ui_context:{action:P.UiAction.EDIT,ui_step:W.isDLPErrorRestoredEdit?P.UiStep.DLP_USER_WARNING:null,ui_properties:{view_context:W.viewContext||M.a.MESSAGE_PANE,key:W.keyboardShortcut,is_screen_reader_enabled:W.screenReaderIsEnabled,client_has_keyboard_focus:W.hasKeyboardFocus}}}})},"trackEdit"),x=Object(c.c)("Optimistically save edits to a message",(R,W,U,_)=>{let{channelId:B,ts:z,viewContext:L,delta:$,isDLPErrorRestoredEdit:Q}=U;const K=W(),{windowId:Z}=_(G.a),ne=Object(I.b)(K,{ignoreViewContext:!0,windowId:Z})||{},F=Object(A.a)({state:K});R(Object(C.d)({windowId:Z}));const J=L===M.a.THREAD||L===M.a.THREADS_VIEW,X=Object(O.a)(K),Y=B&&z?Object(g.b)(K,B,z)||{}:{},{processedDelta:ae}=Object(j.a)(K,{channelId:B,delta:$||new a.a,inThread:J}),ee=Object(T.a)(K,Y);if(Object(D.a)(ee,ae))return k(F,ne,P.EventId.MSG_EDIT_SAVED_WITHOUT_CHANGES),n.a.resolve();const te=Object(p.d)(K,"workspace_context_for_netskope")==="on"?Object(E.a)(Object(y.d)(K,B)):void 0,de=Object(S.b)({delta:ae,state:K}),se=de&&Object(i.a)(de)?[]:de.blocks;return R(Object(m.d)({ts:z||"",channelId:B||"",blocks:se,memberId:X})),k(F,ne,P.EventId.MSG_EDIT_SAVE),R(d({channelId:B,blocks:se,ts:z,skipDlpUserWarning:!!Q,reason:"saveMessageEdit",clientContextTeamId:te})).catch(function(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;if(re.message==="message_not_found")R(Object(m.h)({message:{channel:B||"",ts:z||""}}));else{const oe=Y.edited||{};R(Object(m.d)({ts:z||"",channelId:B||"",text:Y.text,blocks:Y.blocks,memberId:oe.user,editTs:oe.ts})),re.message===N.a.DlpUserWarning&&(R(Object(C.c)({ts:z||"",channelId:B||"",viewContext:L,windowId:Z})),$!=null&&$.ops&&R(Object(C.f)({editOps:$.ops,hasUnsavedChanges:!0,ts:z||"",isDLPErrorRestoredEdit:!0,windowId:Z})))}throw re})});x.meta={name:"createThunk",key:"createThunksaveMessageEdit",description:"Optimistically save edits to a message"};var H=s.a=x},Pn4H:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("SQ0V"),t=e("RV0M"),a=e("I0j/"),i=e("37+L"),c=e("cU/a"),r=e("25cE");const f=Object(n.c)("Opens the user group details flexpane",(l,p,h,u)=>{let{groupId:b}=h;const{shouldUseNavigate:v}=u(t.a);if(v){l(Object(a.a)(Object(i.hb)(b)));return}return l(Object(c.a)({routeName:r.x,flexName:"user_groups",flexParams:{userGroupId:b}}))});f.meta={name:"createThunk",key:"createThunkshowUserGroupDetails",description:"Opens the user group details flexpane"}},"Q+Yn":function(w,s,e){w.exports=e.p+"trial-message-limit-trial-offer-v2-light-7e03a1d.gif"},QCiN:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc");const i=o(r=>{let{children:f,className:l,"data-qa":p}=r;return t.a.createElement("div",{className:Object(a.default)(l,"c-card"),"data-qa":p},f)},"Card");i.displayName="Card";var c=s.a=t.a.memo(i)},"QDh+":function(w,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"b",function(){return f});var n=e("Lgge"),t=e("SQ0V"),a=e("jmRt"),i=e("tCVa"),c=e("tkwG");const r=Object(t.c)("Adds a bookmark to the channel specified",(l,p,h)=>l(Object(a.b)(h)).then(u=>{if(!u.bookmark||!u.ok)return n.a.reject(new Error(u.error||"Cannot add bookmark"));const b=Object(c.a)(u.bookmark);return l(Object(i.g)(b))}));r.meta={name:"createThunk",key:"createThunkaddBookmarkForChannel",description:"Adds a bookmark to the channel specified"};const f=Object(t.c)("Adds a bookmark to the channel specified",(l,p,h)=>n.a.all(h.map(u=>l(r(u)))));f.meta={name:"createThunk",key:"createThunkaddBookmarkForChannels",description:"Adds a bookmark to the channel specified"}},QE0t:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("m5Yc");const t=o(a=>!a||a.length===0?!1:a[0].type===n.b.RICH_TEXT,"isFirstBlockRichText")},QLS9:function(w,s,e){"use strict";e.d(s,"b",function(){return h}),e.d(s,"a",function(){return u});var n=e("RVJP"),t=e("xwCZ"),a=e("C3vN"),i=e("P9LH"),c=e("QoUg");const r="ALQ9XG76D",f="A026RA4ND1R",l="A04EXHQ3BCL",p=["A0318KYF0M6","A02QMF6QP9T","A03FT01PAFL","A03G78MUR7Y","A038R08BE11","A047VH1TQNT","A04PL0BCZ44"],h=o(b=>Object(n.d)(b,"cfs_image_previews")==="on","cfsImagePreviewsEnabled"),u=o((b,v)=>{if(!h(b)||!v||!Object(i.Kb)(v)||!Object(i.n)(v))return!1;const d=v.bot_user_id||v.user;if(!d)return!1;const m=Object(t.g)(b,d),g=Object(a.d)(m);return g?g===r?Object(c.a)(b,v):[f,l,...p].includes(g):!1},"canPreviewRemoteImage")},QOHG:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("RVJP");const t=o(a=>Object(n.d)(a,"hermes_workflow_suggestions")==="on","isHermesWorkflowSuggestionsEnabled")},QbPB:function(w,s,e){"use strict";e.d(s,"a",function(){return m});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),i=e("q0lC"),c=e("ykb+"),r=e("rEgV"),f=e("U31a"),l=e("7DVt"),p=e("4YJR"),h=e("IaLB"),u=e("v5z3"),b=e("7UjL"),v=e("NgZ7");const d=5,m=Object(a.c)("Check conditions and show a Progressive Disclosure tip",function(){var g=Object(n.coroutine)(function*(O,E,y){let{tip:C,tipState:I,messageTs:j,skipOrderCheck:M,skipMaxCheck:T}=y;const D=E();if(!C||!I||!Object(h.X)(D)||Object(i.h)(D)&&Object(v.a)(D,"setup_started")&&Object(v.a)(D,"setup_flow_step")!==u.p.Completed)return;const S=Object(h.h)(D),A=(S==null?void 0:S.tip)||null,P=(S==null?void 0:S.state)||null,N=S==null?void 0:S.messageTs,G=A===null;if(!G&&C!==A)return;if(G){if(I===u.g.Success)return}else if(P===I&&N===j||P===u.g.Explainer&&I===u.g.Flag||P===u.g.Success&&(I===u.g.Flag||I===u.g.Explainer))return;let V=!1;if(G){if(Object(l.c)(D,C))return;const x=Object(l.a)(E()),H=x.filter(W=>{const U=Object(l.c)(D,W);return!Object(l.e)(D,W)&&U&&Object(r.a)(U)}),R=Object(c.b)()&&window.location.search.includes("day1_prog_disc_skip_max_check=1");if(!T&&H.length>=d&&!R)return;if(I===u.g.Flag&&C!==u.f.CompletedAll){const W=x.find(U=>!Object(l.c)(D,U));if(C!==W&&!M)return}yield O(Object(f.a)({tip:C})),V=!0}O(Object(p.G)(null)),O(Object(p.k)({state:I,tip:C,...j&&{messageTs:j}})),V&&(yield O(Object(b.a)()))});return function(O,E,y){return g.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkmaybeShowProgressiveDisclosureTip",description:"Check conditions and show a Progressive Disclosure tip"}},QcFm:function(w,s,e){"use strict";e.d(s,"a",function(){return t});const n=/^Wf[A-Z0-9]{7,}$/;function t(a){return n.test(a)}o(t,"looksLikeHermesWorkflowId")},Ql5a:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("E3dU"),t=e("up1q"),a=e("y/Pn");const i=o((c,r)=>{const f=Object(n.d)(c,r);if(!Object(a.a)(f))return!1;var l;return!(!((l=Object(t.a)(c,"can_upload_files",r))!==null&&l!==void 0)||l)},"isExternallySharedChannelWithFileUploadDisabled")},QoUg:function(w,s,e){"use strict";var n=e("RVJP"),t=e("ajVY"),a=e("sp7N"),c=o(l=>!!(l!=null&&l.snippetType),"fileIsSnippet");const r=o((l,p)=>{const h=Object(n.d)(l,"box_cfs")==="on",u=Object(t.d)(l,"allow_box_cfs");return!(!h||!u||Object(a.a)(p)||c(p))},"shouldUseCustomFileStore");var f=s.a=r},QsbR:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("OCkr"),c=e("IW9Y"),r=e("A7BO");function f(){return f=Object.assign||function(b){for(var v=1;v<arguments.length;v++){var d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(b[m]=d[m])}return b},f.apply(this,arguments)}o(f,"_extends");const l=Object(c.a)(r.b,b=>{let{name:v,setFieldValue:d,handleBlur:m,setFieldTouched:g,validateOnBlur:O}=b;return{onChange:E=>d(v,E),...O&&{onBlur:()=>{m(v),g(v,!0)}},...!O&&{onBlur:()=>{g(v,!1)}}}}),p={validateOnBlur:a.default.bool},h={validateOnBlur:!1},u=o(b=>t.a.createElement(i.a,f({component:l},b)),"FieldTextareaInput");u.propTypes=p,u.defaultProps=h,s.a=u},Qyzc:function(w,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"d",function(){return i}),e.d(s,"e",function(){return c}),e.d(s,"b",function(){return f}),e.d(s,"c",function(){return p});var n=e("gPPH"),t=e("Qm7m");const a=o(()=>({id:Object(n.a)(),type:t.SLASH_COMMAND,config:{command:"",description:""}}),"createSlashCommandTrigger"),i=o((h,u)=>({...h,config:{...h.config,command:u}}),"updateTriggerSetCommand"),c=o((h,u)=>({...h,config:{...h.config,description:u}}),"updateTriggerSetDescription");var r;const f=o(h=>{var u;return(r=h==null||(u=h.config)===null||u===void 0?void 0:u.command)!==null&&r!==void 0?r:""},"getCommandFromTrigger");var l;const p=o(h=>{var u;return(l=h==null||(u=h.config)===null||u===void 0?void 0:u.description)!==null&&l!==void 0?l:""},"getDescriptionFromTrigger")},"R+hq":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Fsnq"),i=e("GzZI"),c=e("H0/5"),r=e("gPPH"),f=e("m5Yc"),l=e("wnwS");const p=/(?:\n[ \t\u00A0]*)+\n/g,h=/\n/g,u=/^\n/g,b=`BREAK:PARA:${Object(r.a)()}`,v=`BREAK:LINE:${Object(r.a)()}`,d="	",m=Object(r.a)();function g(E){let{text:y,placeholderSeparator:C,isFirstElementInSection:I}=E;if(!y||y.indexOf(`
`)===-1)return y;const j=`${C}${b}${C}`,M=`${C}${v}${C}`;let T=y;return I&&y.match(u)&&(T=`
${y}`),T.replace(p,A=>{if(!A)return A;const P=A.match(h),N=Object(a.a)(P)-1;return Object(i.a)(N,()=>j).join("")}).replace(h,()=>M)}o(g,"insertTextBreakPlaceholders");const O=o(E=>{let{type:y,text:C,style:I,isFirstElementInFirstSection:j,isFirstElementInSection:M,rawLineBreaks:T}=E;if(y!==f.b.TEXT||!C)return null;const D=j?Object(c.a)(C):C,A=(T?D:g({text:D,placeholderSeparator:m,isFirstElementInSection:M})).split(m).map((P,N)=>P===v?t.a.createElement("br",{key:N}):P===b?t.a.createElement("span",{"aria-label":"",className:"c-mrkdwn__br",key:N,"data-stringify-type":"paragraph-break"}):P===d?t.a.createElement("span",{className:"c-mrkdwn__tab",key:N},"	"):t.a.createElement(l.a,{key:N,style:I},P));return t.a.createElement(t.a.Fragment,null,A)},"Text");O.displayName="Text",s.a=t.a.memo(O)},"R/i+":function(w,s,e){"use strict";e.d(s,"c",function(){return t}),e.d(s,"e",function(){return a}),e.d(s,"d",function(){return i}),e.d(s,"a",function(){return c}),e.d(s,"b",function(){return r});var n=e("DwFS");const t=Object(n.a)("Adds or updates a widget into the store");t.meta={name:"createAction",key:"createActionupsertWidget",description:"Adds or updates a widget into the store"};const a=Object(n.a)("Adds or updates multiple widgets into the store");a.meta={name:"createAction",key:"createActionupsertWidgets",description:"Adds or updates multiple widgets into the store"};const i=Object(n.a)("Adds or updates a widget placement into the store");i.meta={name:"createAction",key:"createActionupsertWidgetPlacement",description:"Adds or updates a widget placement into the store"};const c=Object(n.a)("Re-runs the widget based on the placement id to get updated blocks.");c.meta={name:"createAction",key:"createActionrefreshWidgetPlacement",description:"Re-runs the widget based on the placement id to get updated blocks."};const r=Object(n.a)("Updates the widget placement with a new set of blocks");r.meta={name:"createAction",key:"createActionupdateWidgetPlacementBlocks",description:"Updates the widget placement with a new set of blocks"}},R1mX:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("SQ0V"),c=e("3l96"),r=e("ifKl"),f=e("Cfcg"),l=e("yPgC"),p=e("P9LH"),h=e("kBpe"),u=e("Mqk2"),b=e("dmdh"),v=e("cBJ3");const d=Object(i.c)("Edit file details",function(k,x){let{fileId:H,title:R,altText:W}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const U=Object(b.e)(x(),H);U&&(k(Object(v.a)({...U,title:R,...typeof W=="string"&&{alt_txt:W}})),k(Object(u.c)({fileId:H,title:R,altText:W})).catch(()=>{k(Object(v.a)(U))}))});d.meta={name:"createThunk",key:"createThunkeditFileApi",description:"Edit file details"};var m=e("+kJ4"),g=e("EJqq"),O=e("QsbR"),E=e("SpS+"),y=e("pu3F"),C=e("nNoG"),I=e("V6Oe");function j(){return j=Object.assign||function(k){for(var x=1;x<arguments.length;x++){var H=arguments[x];for(var R in H)Object.prototype.hasOwnProperty.call(H,R)&&(k[R]=H[R])}return k},j.apply(this,arguments)}o(j,"_extends");const M=new C.b("multi_file_upload"),T={file:l.a.File().isRequired,editFileApi:a.default.func,convertEmojiInStringToCanonicalThunk:a.default.func,convertEmojiInStringToLocalizedThunk:a.default.func,closeModal:a.default.func,experimentA11yAltTextGroupOn:a.default.bool},D={editFileApi:r.a,convertEmojiInStringToCanonicalThunk:r.a,convertEmojiInStringToLocalizedThunk:r.a,closeModal:r.a,experimentA11yAltTextGroupOn:!1};let S=o(class extends n.PureComponent{handleEdit(x){let{title:H,altText:R}=x;const{file:W}=this.props;this.props.editFileApi({fileId:W.id,title:H,altText:R})}render(){const{experimentA11yAltTextGroupOn:x,file:H}=this.props,R={title:Object(p.F)(H)};let W;return x&&(Object(p.n)(H)||Object(p.Ib)(H))&&(R.altText=Object(p.d)(H)?Object(p.D)(H):"",W=o(U=>{let{values:_}=U;return t.a.createElement(t.a.Fragment,null,t.a.createElement(O.a,j({id:"altText",name:"altText",labelText:M.t("Description"),labelSubtext:M.t("A description (or alt text) helps people who cannot see or parse this image understand what you\u2019re sharing. Consider the information in the image, and convey it as concisely as possible.",{fallbackHash:"9949efa4b68cfa0249fd497aab8afcab55409fb7"})},(!Object(h.p)()||!_.altText)&&{placeholder:M.t("Aerial view of the Bixby Bridge and coastline of the Big Sur area in California.")},{validate:Object(E.b)([Object(E.d)(y.B)]),validateOnBlur:!0})))},"fields")),t.a.createElement(I.a,{initialValues:R,handleEdit:this.handleEdit,convertEmojiInStringToCanonicalThunk:this.props.convertEmojiInStringToCanonicalThunk,convertEmojiInStringToLocalizedThunk:this.props.convertEmojiInStringToLocalizedThunk,closeModal:this.props.closeModal,fields:W})}constructor(x){super(x),this.handleEdit=this.handleEdit.bind(this)}},"EditFileDialog");S.displayName="EditFileDialog",S.propTypes=T,S.defaultProps=D;const A=o(k=>({experimentA11yAltTextGroupOn:Object(p.a)(k)}),"mapStateToProps"),P={editFileApi:function(){for(var k=arguments.length,x=new Array(k),H=0;H<k;H++)x[H]=arguments[H];return d(...x)},closeModal:function(){for(var k=arguments.length,x=new Array(k),H=0;H<k;H++)x[H]=arguments[H];return Object(m.a)(...x)},convertEmojiInStringToCanonicalThunk:function(){for(var k=arguments.length,x=new Array(k),H=0;H<k;H++)x[H]=arguments[H];return Object(g.d)(...x)},convertEmojiInStringToLocalizedThunk:function(){for(var k=arguments.length,x=new Array(k),H=0;H<k;H++)x[H]=arguments[H];return Object(g.f)(...x)}};var N=Object(f.a)(A,P)(S);const G=Object(i.c)("Opens the rename file dialog",function(k,x){let{isStackable:H,...R}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};k(Object(c.a)({element:t.a.createElement(N,R),isStackable:H}))});G.meta={name:"createThunk",key:"createThunkopenEditFileDialog",description:"Opens the rename file dialog"},G.propTypes={file:l.a.File().isRequired,isStackable:a.default.bool};var V=s.a=G},RAwb:function(w,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return i});var n=e("q1tI"),t=e.n(n);const a=Object(n.createContext)(void 0),i=o(()=>Object(n.useContext)(a),"useWorkflow")},RMWS:function(w,s,e){"use strict";e.d(s,"c",function(){return y}),e.d(s,"b",function(){return C}),e.d(s,"a",function(){return I});var n=e("Z0Cl"),t=e("9Gfp"),a=e("+l5E"),i=e("JQ3U"),c=e("ssje"),r=e("E97Y"),f=e("SQ0V"),l=e("E3dU"),p=e("Yauy"),h=e("6CnZ"),u=e("UIhb"),b=e("T1zM"),v=e("u/Sz"),d=e("28Q5"),m=e("NgZ7"),g=e("83nZ");const O=o(M=>{switch(M){case v.e.GENERAL:case v.e.PROJECT:case v.e.DM:case v.e.MPDM:case v.e.SELF_DM:case v.e.RANDOM:case v.e.GENERIC:return!0;case v.e.APP_OR_BOT_DM:default:return!1}},"haveSupportForType"),E=o(M=>{let{state:T,channel:D,channelOnboardingType:S}=M;if(S===v.e.DM){var A;const P=Object(t.a)(T),N=Object(u.a)(T,D.id),G=Object(h.j)(T,D.id);if(!(G==null||(A=G.timestamps)===null||A===void 0)&&A.length&&G.timestamps.length>0){const V=N[G.start];if(G!=null&&G.reachedStart&&V&&Object(a.mb)(V)&&V.user!==P)return!0}}return!1},"isDmWithJoiner"),y=o(M=>{let{state:T,channel:D,channelOnboardingType:S}=M;if(!T||!D||!S)return!1;const A=E({state:T,channel:D,channelOnboardingType:S});if(!Object(d.f)(T)&&!A||!O(S))return!1;if(A){var P;const k=Object(t.a)(T),x=Object(h.j)(T,D.id);if(!(x==null||(P=x.timestamps)===null||P===void 0)&&P.length&&x.timestamps.length>0){var N;const H=Object(u.a)(T,D.id),R=x==null||(N=x.timestamps)===null||N===void 0?void 0:N.some(W=>{const U=H[W];return(U==null?void 0:U.user)===k});return!Object(d.b)(T)&&!R}}else if(!Object(d.f)(T))return!1;if(Object(m.a)(T,"message_suggestions_complete"))return!1;if(Object(r.g)(D)){var G;const k=Object(h.j)(T,D.id);if(!(k==null||(G=k.timestamps)===null||G===void 0)&&G.length&&k.timestamps.length>0){var V;const x=Object(u.a)(T,D.id);if(k==null||(V=k.timestamps)===null||V===void 0?void 0:V.some(R=>{const W=x[R];return Object(c.a)(W)}))return!1}}return!0},"isSuggestMessageVisible"),C=o((M,T)=>{if(!M||!T)return!1;const D=Object(u.a)(M,T);return Object(n.a)(D,A=>!Object(a.fb)(A)&&!Object(a.bb)(A)&&!Object(i.a)(A)&&!Object(c.a)(A)).length>0},"isBusyChannel"),I=Object(f.c)("Dismisses all of the suggest message UI",function(M,T){let{channelId:D}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const S=T();if(D&&!Object(d.b)(S)){const A=Object(l.d)(S,D),P=Object(p.r)(S,A);E({state:S,channel:A,channelOnboardingType:P})&&M(Object(b.f)({pref:"joiner_message_suggestion_dismissed",value:!0}))}Object(d.f)(S)&&!Object(m.a)(S,"message_suggestions_complete")&&M(Object(g.a)({pref:"message_suggestions_complete",value:!0}))});I.meta={name:"createThunk",key:"createThunkdismissAllSuggestMessages",description:"Dismisses all of the suggest message UI"};const j={isDmWithJoiner:E,haveSupportForType:O}},RNBp:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("m5Yc");const{DATE:t}=n.b,a=o(i=>{var c;return((c=i)===null||c===void 0?void 0:c.type)===t},"isRichTextDateElement")},RUo5:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("BHdc");const i={TopLeft:"top-left",Top:"top",TopRight:"top-right",BottomLeft:"bottom-left",Bottom:"bottom",BottomRight:"bottom-right",LeftTop:"left-top",Left:"left",LeftRight:"left-bottom",RightTop:"right-top",Right:"right",RightBottom:"right-bottom"},c=["top-left","top","top-right","bottom-left","bottom","bottom-right","left-top","left","left-bottom","right-top","right","right-bottom"];let r=o(class extends n.PureComponent{componentDidMount(){this.forceUpdate()}render(){const{children:l,coachmarkAnchorClassNames:p,coachmarkElement:h,orientation:u,style:b}=this.props,v=Object(a.default)("c-coachmark-anchor",p);return t.a.createElement("div",{id:"c-coachmark-anchor",ref:this.anchorRef,className:v,style:b},l,h&&t.a.cloneElement(h,{anchorElement:this.anchorRef.current,orientation:u}))}constructor(l){super(l),this.anchorRef=t.a.createRef()}},"DeprecatedCoachmarkAnchor");r.displayName="DeprecatedCoachmarkAnchor",s.b=r},RbOw:function(w,s,e){"use strict";e.d(s,"b",function(){return f}),e.d(s,"a",function(){return l});var n=e("nTNk"),t=e("khnw"),a=e("4Etr");const i=Object(n.a)(),c=i.import("parchment"),r=i.import("core/module");function f(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const h=Array.from(document.querySelectorAll('docsblockembed[data-is-selected="true"]'));for(let u=0,b=h.length;u<b;u++){const v=i.find(h[u]);a.a.updateComponent(v.domNode,{isSelected:!1})}p&&(p!=null&&p.domNode)&&p.domNode.tagName&&p.domNode.tagName==="DOCSBLOCKEMBED"&&a.a.updateComponent(p.domNode,{isSelected:!0})}o(f,"handleSelectedStates");let l=o(class extends r{listen(){this.quill.keyboard.addBinding({key:t.c},this.handleImageSelectOnDown),this.quill.keyboard.addBinding({key:t.r},this.handleImageSelectOnUp),this.quill.keyboard.addBinding({key:t.k},this.handleImageSelectOnLeft),this.quill.keyboard.addBinding({key:t.o},this.handleImageSelectOnRight),(document.querySelector(".p-client_container")||this.quill.root).addEventListener("click",this.onImageClick),document.addEventListener("keydown",this.muteKeyEventsOnImageEmbed)}muteKeyEventsOnImageEmbed(h){const u=this.quill.getSelection();if(u){const b=this.quill.getFormat(u),v=!!document.querySelector('docsblockembed[data-is-selected="true"]');if(b&&b.imageSrc||v){if(h.keyCode===t.c||h.keyCode===t.r||h.keyCode===t.k||h.keyCode===t.o||h.keyCode===t.f)return h.keyCode===t.f&&(f(),this.quill.setSelection(0,0)),!0;h.preventDefault()}}return!0}handleImageSelectOnDown(){return setTimeout(()=>{const h=this.quill.getSelection(),[u]=this.quill.getLine(h.index);u&&u.domNode&&u.domNode.tagName&&u.domNode.tagName==="DOCSBLOCKEMBED"?f(u):f()},0),!0}handleImageSelectOnUp(){return setTimeout(()=>{const h=this.quill.getSelection(),[u]=h?this.quill.getLine(h.index):[];u&&u.domNode&&u.domNode.tagName&&u.domNode.tagName==="DOCSBLOCKEMBED"?f(u):f()},0),!0}handleImageSelectOnLeft(h){return setTimeout(()=>{const u=this.quill.getSelection();let[b]=this.quill.getLeaf(u.index);h.index===u.index&&([b]=this.quill.getLeaf(u.index-1)),b&&b.prev&&b.prev.domNode&&b.prev.domNode.tagName&&b.prev.domNode.tagName==="DOCSBLOCKEMBED"&&([b]=this.quill.getLeaf(u.index-1)),b&&b.domNode&&b.domNode.tagName&&b.domNode.tagName==="DOCSBLOCKEMBED"?f(b):f()},0),!0}handleImageSelectOnRight(h){return setTimeout(()=>{const u=this.quill.getSelection();let[b]=this.quill.getLeaf(u.index);b&&b.next&&b.next.domNode&&b.next.domNode.tagName&&b.next.domNode.tagName==="DOCSBLOCKEMBED"?[b]=this.quill.getLeaf(u.index):this.quill.setSelection(u.index),b&&b.parent&&b.parent.next&&b.parent.next.domNode&&b.parent.next.domNode.tagName&&b.parent.next.domNode.tagName!=="DOCSBLOCKEMBED"&&([b]=this.quill.getLeaf(u.index),this.quill.setSelection(u.index)),u.index===h.index&&b&&b.domNode&&b.domNode.tagName&&b.domNode.tagName==="DOCSBLOCKEMBED"&&([b]=this.quill.getLeaf(u.index+1),this.quill.setSelection(u.index+1)),b&&b.domNode&&b.domNode.tagName&&b.domNode.tagName==="DOCSBLOCKEMBED"?f(b):f()},0),!0}onImageClick(h){if(h.target.classList.contains("p-docs_image--selected")||h.target.dataset.isSelected==="true")return!0;if(Array.from(document.querySelectorAll(".p-docs_image")).forEach(b=>{const v=c.find(b.parentNode);v&&v.domNode&&v.domNode.tagName&&v.domNode.tagName==="DOCSBLOCKEMBED"&&a.a.updateComponent(v.domNode,{isSelected:!1})}),h.target.classList.contains("p-docs_image_container")||h.target.classList.contains("p-docs_image")){const b=h.target.classList.contains("p-docs_image_container")?h.target:h.target.parentNode,v=c.find(b),d=this.quill.getIndex(v);return this.quill.setSelection(d,0),v&&v.domNode&&v.domNode.tagName&&v.domNode.tagName==="DOCSBLOCKEMBED"&&a.a.updateComponent(v.domNode,{isSelected:!0}),!0}return!0}constructor(h,u){super(h,u),this.quill=h,this.onImageClick=this.onImageClick.bind(this),this.muteKeyEventsOnImageEmbed=this.muteKeyEventsOnImageEmbed.bind(this),this.listen=this.listen.bind(this),this.listen()}},"DocsImageModule")},Rbqs:function(w,s,e){"use strict";e.d(s,"a",function(){return A});var n=e("9oTK"),t=e("q1tI"),a=e.n(t),i=e("/MKj"),c=e("zxER"),r=e("Lgge"),f=e("68qM"),l=e("Z2IC"),p=e("pJ2S"),h=e("jUSB"),u=e("1Np4"),b=e("4cU5"),v=e("WMzb"),d=e("FH+Z"),m=e("yvAn"),g=e("dkXW"),O=e("kBpe"),E=e("npde"),y=e("E/AO"),C=e("Tevt"),I=e("nNoG");const j=new I.b("stories_av");function M(N){let{closeModal:G}=N,V;return Object(O.i)()&&Object(O.p)()?V=j.rt("Check your <a>system preferences</a> to make sure Slack has permission to access your microphone, and try again.",{"<a>":k=>{let{text:x}=k;return a.a.createElement(C.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone"},x)}}):Object(O.i)()?V=j.rt("Check your <a>system settings</a> to make sure Slack has permission to access your microphone, and try again.",{"<a>":k=>{let{text:x}=k;return Object(O.x)()?a.a.createElement(C.a,{href:"ms-settings:privacy-microphone"},x):x}}):V=j.t("Check your browser settings to make sure Slack has permission to access your microphone, and try again."),a.a.createElement(y.a,{title:j.t("Can\u2019t access microphone"),onClose:G,onCancel:G,showSubmitButton:!1,cancelButtonText:j.t("Close")},a.a.createElement("span",null,V))}o(M,"MicrophoneAccessErrorDialog"),M.displayName="MicrophoneAccessErrorDialog";var T=M;const D=Object(E.a)(M);var S=e("RdEv");function A(N){let{fileName:G,fileSubtype:V,onFileAttach:k,onContainerUpload:x,draftId:H,timeLimitSeconds:R=d.a,timeWarningSeconds:W=10,hideBanner:U=!0}=N;const _=Object(i.useDispatch)(),B=Object(v.a)(),z=Object(t.useRef)(B),L=Object(l.a)(P),[$,Q]=Object(t.useState)(!1),[K,Z]=Object(t.useState)(),[ne,F]=Object(t.useState)(),[J,X]=Object(t.useState)(),[Y,ae]=Object(t.useState)([]),[ee,q]=Object(t.useState)(!1),te=Object(c.c)(pe=>Object(u.a)({state:pe})),de=Object(l.a)(()=>te.createTrace({traceName:"media_recorder:time_to_record",tags:{media_type:"audio"},samplingOptions:{sampleRate:.2,sampleType:b.g.SESSION}})),se=Object(l.a)(()=>de.startSpan("media_recorder:time_to_record")),re=Object(l.a)(()=>de.startSpan("media_recorder:microphone_start",{parentSpanId:se==null?void 0:se.getId()})),{finishUpload:oe,uploadedFileId:ce}=Object(S.a)({file:ne,hideBanner:U,draftId:H,onContainerUpload:x}),ue=Object(t.useCallback)(Object(n.coroutine)(function*(){re&&re.close();const pe=de.startSpan("media_recorder:play_ping",{parentSpanId:se==null?void 0:se.getId()});yield r.a.resolve(Object(h.c)(p.v)),yield r.a.delay(300),pe.close(),L.startAudioRecording()}),[L]),Pe=Object(t.useCallback)(pe=>{var fe;_(D()),(fe=z.current)===null||fe===void 0||fe.error("AUDIO-RECORDER","Microphone failed",pe==null?void 0:pe.error)},[_]),Ye=Object(t.useCallback)(()=>{F(void 0),Q(!0),X(0),se&&se.close(),de&&te.reportTrace(de)},[te]),$e=Object(t.useCallback)(pe=>{L.stop(),Z(pe.data),Q(!1)},[L]),Ke=Object(t.useCallback)(pe=>{ae(pe)},[]),qe=Object(t.useCallback)(()=>{ne?(k&&k(ne),oe()):(q(!0),L.stopAudioRecording())},[ne,oe,L,k]),ct=Object(t.useCallback)(()=>{F(void 0),L.stopAudioRecording(),Q(!1)},[L]);Object(t.useEffect)(()=>(L.addEventListener("microphonestart",ue),L.addEventListener("microphoneerror",Pe),L.addEventListener("recordingstart",Ye),L.addEventListener("recordingend",$e),()=>{L.removeEventListener("microphonestart",ue),L.removeEventListener("microphoneerror",Pe),L.removeEventListener("recordingstart",Ye),L.removeEventListener("recordingend",$e)}),[L,ue,Pe,Ye,$e]),Object(f.a)(()=>()=>{L.stop()},[]),Object(f.a)(()=>{if($){const pe=Date.now(),fe=setInterval(()=>{const me=(Date.now()-pe)/1e3;X(me),me>=R&&(q(!0),L.stopAudioRecording())},100);return()=>clearInterval(fe)}},[$,R]),Object(t.useEffect)(()=>{if(K){const pe=new File([K],G,{type:K.type});pe.subtype=V,pe.audio_wave_samples=Y==null?void 0:Y.map(fe=>fe*100),pe.duration=J??0,Q(!1),F(pe)}},[K,Y,J,_,G,V]),Object(t.useEffect)(()=>{ee&&ne&&(q(!1),oe(),k&&k(ne))},[ee,ne,oe,k]);const Be=!ne&&R-(J??0)<=W;return{audioWaveformRecorderProps:{streamManager:L,recording:$,onDotsUpdate:Ke,warningHighlight:Be},duration:J,onAttach:qe,onCancel:ct,file:ne,finishUpload:oe,uploadedFileId:ce}}o(A,"useAudioWaveformRecorder");function P(){var N,G,V,k,x;const H=Object(g.b)(),R=H==null||(N=H.deviceIdPriorities)===null||N===void 0||(G=N.microphone)===null||G===void 0?void 0:G[0],W=H==null||(V=H.deviceIdPriorities)===null||V===void 0||(k=V.camera)===null||k===void 0?void 0:k[0],U=H==null||(x=H.audio)===null||x===void 0?void 0:x.enableAGC;return new m.a({microphoneId:R,cameraId:W,noiseSuppression:!0,autoGainControl:U,shouldStartCamera:!1,shouldStartScreenCapture:!1,audioOnly:!0})}o(P,"createStreamManager")},Rc7c:function(w,s,e){"use strict";var n=e("RVJP"),t=e("ajVY");const a=o(i=>{const c=Object(n.d)(i,"box_cfs")==="on",r=Object(t.d)(i,"allow_box_cfs");return c&&r?"box":null},"getCustomFileStoreType");s.a=a},"RcB+":function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("ifKl");const i=t.a.createContext({isOpen:!1,setIsOpen:a.a}),c=o(f=>{let{children:l}=f;const[p,h]=Object(n.useState)(!1),u=Object(n.useMemo)(()=>({isOpen:p,setIsOpen:h}),[p]);return t.a.createElement(i.Provider,{value:u},l,p&&t.a.createElement("div",{className:"p-audio_popover_overlay"}))},"AudioPopoverOverlay");c.displayName="AudioPopoverOverlay";var r=s.b=c},RdEv:function(w,s,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e("/MKj"),i=e("zxER"),c=e("WMzb"),r=e("jU2U"),f=e("gCYc"),l=e("ZvCj"),p=e("tvTu"),h=e("Z9Pi"),u=e("1Np4"),b=e("O86Y"),v=e("H2PH"),d=e("SwbJ"),m=e("7XZu"),g=e("2pz5"),O=e("Mqk2"),E=e("Q3AP"),y=e("4cU5");function C(T){let{file:D,draftId:S}=T;const A=Object(i.c)(L=>Object(u.a)({state:L})),{featureTinyspeck:P}=Object(r.a)(),N=Object(t.useRef)(),G=Object(t.useRef)(),V=Object(t.useRef)(),k=Object(t.useRef)(!1),x=Object(t.useRef)(!1);Object(t.useEffect)(()=>{if(!D){N.current=void 0,G.current=void 0,V.current=void 0,k.current=!1,x.current=!1;return}let L;P&&(L={sampleType:y.b,sampleRate:1}),N.current=A.createTrace({traceName:"story_upload",tags:{draft_id:S,type:(D==null?void 0:D.subtype)==="slack_audio"?"audio":"video",bytes_uncompressed:D==null?void 0:D.size},samplingOptions:L})},[D,S,A,P]);const H=Object(t.useCallback)(()=>{N.current&&(V.current=N.current.startSpan("story_upload:perceived"))},[]),R=Object(t.useCallback)(()=>{var L;(L=V.current)===null||L===void 0||L.close()},[]),W=Object(t.useCallback)(()=>{N.current&&(R(),A.reportTrace(N.current))},[R,A]),U=Object(t.useCallback)(()=>{N.current&&(G.current=N.current.startSpan("story_upload:upload"))},[]),_=Object(t.useCallback)(()=>{var L;(L=G.current)===null||L===void 0||L.close(),k.current?W():x.current=!0},[W]),B=Object(t.useCallback)(L=>{var $;($=N.current)===null||$===void 0||$.addTags(L)},[]),z=Object(t.useCallback)(()=>{x.current?W():k.current=!0},[W]);return{startUploadTrace:U,endUploadTrace:_,startPerceivedUploadTrace:H,addTagsToTrace:B,reportTraceWhenUploadComplete:z}}o(C,"useEagerUploadTracing");var I=C;function j(T){let{file:D,draftId:S,onContainerUpload:A,thumbnailTimestamp:P,hideBanner:N}=T;const G=Object(c.a)(),V=Object(a.useDispatch)(),{featureTinyspeck:k}=Object(r.a)(),[x,H]=Object(t.useState)(""),R=Object(i.c)(b.g),W=Object(i.c)(X=>S?Object(f.k)(X,S):void 0),U=Object(i.c)(X=>Object(u.a)({state:X})),_=Object(t.useRef)(),B=Object(t.useRef)(),z=Object(t.useRef)(!1),{startUploadTrace:L,endUploadTrace:$,startPerceivedUploadTrace:Q,addTagsToTrace:K,reportTraceWhenUploadComplete:Z}=I({file:D,draftId:S}),ne=Object(t.useCallback)(()=>{if(!_.current)return;const{pendingFileId:X,uploadPromise:Y}=_.current;_.current=void 0,Y.isPending()?Object(v.a)(R).cancelEagerUpload({pendingFileId:X}):Y.then(ae=>{let{fileIds:ee}=ae;const q=ee==null?void 0:ee[0];V(Object(O.b)({fileId:q,reason:"use-eager-upload-cancel"}))}),V(Object(m.d)({pendingFileId:X}))},[V,R]);Object(t.useEffect)(()=>{if(!D){ne();return}const X=setTimeout(()=>{if(z.current)return;G.info("MEDIA-UPLOAD",`beginning upload ${D.size} bytes`),L();let Y;k&&(Y={sampleRate:1}),V(Object(d.a)({file:D,traceTags:{draft_id:S,subtype:D.subtype},samplingOptions:Y,hideBanner:!0})).then(ae=>{if(!ae)return;const{pendingFileId:ee,uploadPromise:q}=ae;!ee||!q||(_.current={file:D,pendingFileId:ee,uploadPromise:q},q.tap(function(){let{fileIds:te=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te.length===1&&(H(te[0]),K({file_id:te[0]})),K({success:!0}),$()}).tapCatch(()=>{K({success:!1}),$()}))})},2e3);return B.current=X,()=>{clearTimeout(X),_.current&&ne()}},[ne,V,D,S,U,L,K,$,k,G]);const F=Object(t.useCallback)(X=>{P&&X.then(function(){let{fileIds:Y=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ae=Y[0];ae&&V(Object(E.a)({id:ae,offsetMs:Math.round(P*1e3),reason:"useEagerUpload"}))})},[V,P]);return Object(t.useEffect)(()=>{z.current=!1},[D]),{finishUpload:Object(t.useCallback)(Object(n.coroutine)(function*(){if(D){if(Q(),Z(),N||V(Object(g.b)()),A){var X;!((X=_.current)===null||X===void 0)&&X.uploadPromise?(_.current.uploadPromise.then(function(){let{fileIds:Y=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};A(Y[0],D)}),_.current=void 0):A(void 0,D);return}if(S){const{channelId:Y,threadTs:ae}=Object(h.a)(S);!W&&Y&&V(Object(l.a)({draft:{client_draft_id:S,destinations:[{channel_id:Y,thread_ts:ae}],is_from_composer:!1},reason:"clips-recorder:attach"}))}if(_.current)S&&(V(Object(p.a)({file:_.current.file,pendingFileId:_.current.pendingFileId,uploadPromise:_.current.uploadPromise,draftId:S})),F(_.current.uploadPromise)),_.current=void 0;else return L(),z.current=!0,V(Object(d.a)({file:D,hideBanner:N})).then(Y=>{if(!Y)return;const{pendingFileId:ae,uploadPromise:ee}=Y;S&&V(Object(p.a)({file:D,pendingFileId:ae,uploadPromise:ee,draftId:S})),ee.then(function(){let{fileIds:q=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};q.length===1&&(H(q[0]),K({file_id:q[0]})),K({success:!0})}).catch(()=>{K({success:!1})}).finally(()=>{$()}),F(ee)})}}),[K,V,W,S,$,D,Z,Q,L,A,F,N]),uploadedFileId:x}}o(j,"useEagerUpload");var M=s.a=j},RhZC:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("9rmJ");const t=o((a,i,c)=>{const{onBlur:r,errorText:f,okayToDisplay:l}=Object(n.a)(a,i,c);return{onChange:r,errorText:f,okayToDisplay:l}},"useErrorOnChange")},RqAw:function(w,s,e){"use strict";var n=e("KePV");e.d(s,"a",function(){return n.a})},Rw2D:function(w,s,e){"use strict";var n=e("mM05"),t=e.n(n),a=e("JoR1"),i=e("yrot"),c=e("nNoG"),r=e("ZKjC"),f=e("JnIm"),l=e("pu3F"),p=e("p9fx"),h=e("jlKB"),u=e("Yauy"),b=e("bPB8"),v=e("7AiH"),d=e("fnDJ"),m=e("vRwa"),g=e("0SZ4"),O=e("9h7U");function E(G){let{contents:V,searchFunc:k,highlightWords:x,isEmojiDisplayedAsText:H}=G;const R=Object(b.a)(Object(v.a)(V,{useChannelTagging:!0}).map(U=>{const _=k(U.type,U.labelWithoutPrefix);if(!_.length)return null;const B={};let z;if(U.type==="channel")z=Object(m.a)({results:_,globalIndex:U.globalIndex,matchLength:U.matchLength,formats:B});else{if(U.type==="emoji")return Object(g.a)({results:_,globalIndex:U.globalIndex,matchLength:U.matchLength,formats:B});z=Object(d.a)({results:_,text:U.text,label:U.label,globalIndex:U.globalIndex,localIndex:U.localIndex,matchLength:U.matchLength,formats:B})}return!z||z.id==="UNVERIFIED"?null:z}));if(!R.length)return V;const W=Object(O.a)(R,x,H);return V.compose(W)}o(E,"replacePotentialMentionsSynchronously");var y=e("zKt1"),C=e("mNiN"),I=e("9wgI"),j=e("gTpg"),M=e("coh6"),T=e("BH90"),D=e("aVxC"),S=e("BBys"),A=e("Vr9G");const P=Object(r.b)((G,V)=>{const{channelId:k,inThread:x,delta:H=new t.a}=V,R=Object(f.a)(G),W=Object(h.a)(G),U=x||!Object(j.a)(G,k||"")?[]:Object(I.a)(G,k||"");let _=H;const B=Object(a.t)(G,"plain_text_mode");if(B&&(_=Object(y.a)(_,{ignoreUnbalancedParentheses:!0}),[S.a,D.a].forEach($=>{_=_.compose($(_,null,B))})),W){const $=Object(T.a)(H,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:Object(c.m)(),emojiNames:Object(i.c)(G),replaceNativeEmoji:!1,usePlainTextMode:!!B,teamId:void 0});$.length()>0&&(_=H.compose($))}const z={contents:_.ops},L=E({contents:new t.a(z.contents),highlightWords:R,isEmojiDisplayedAsText:W,searchFunc:($,Q)=>{if(!["member","channel"].includes($))return[];if(!Q)return[];if($==="channel")return Object(M.G)(G,{query:Q,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:l.c,sort:{source:"texty-autocomplete"}}}).filter(ne=>Object(u.K)(ne)===Q);const K=Object(C.a)(U,Q);return K?[K]:!W&&$==="emoji"?Object(M.G)(G,{query:Q,options:{entities:{emoji:!0},limit:l.c,sort:{source:"texty-autocomplete"}}}).filter(ne=>Object(p.a)(ne)===Q):Object(M.G)(G,{query:Q,options:{entities:{userGroups:{includeFromAnotherTeam:Object(A.a)(G)},members:{includeSelf:!0,includeSlackbot:!1}},limit:l.c,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:Object(y.a)(L,{limitCodeBlockLinksToFullURLs:!0,doImageReplacement:!1,ignoreExistingLinks:!0})}});P.meta={name:"createSelector",key:"createSelectorprepareMessage",description:(G,V)=>{const{channelId:k,inThread:x,delta:H=new t.a}=V,R=Object(f.a)(G),W=Object(h.a)(G),U=x||!Object(j.a)(G,k||"")?[]:Object(I.a)(G,k||"");let _=H;const B=Object(a.t)(G,"plain_text_mode");if(B&&(_=Object(y.a)(_,{ignoreUnbalancedParentheses:!0}),[S.a,D.a].forEach($=>{_=_.compose($(_,null,B))})),W){const $=Object(T.a)(H,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:Object(c.m)(),emojiNames:Object(i.c)(G),replaceNativeEmoji:!1,usePlainTextMode:!!B,teamId:void 0});$.length()>0&&(_=H.compose($))}const z={contents:_.ops},L=E({contents:new t.a(z.contents),highlightWords:R,isEmojiDisplayedAsText:W,searchFunc:($,Q)=>{if(!["member","channel"].includes($))return[];if(!Q)return[];if($==="channel")return Object(M.G)(G,{query:Q,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:l.c,sort:{source:"texty-autocomplete"}}}).filter(ne=>Object(u.K)(ne)===Q);const K=Object(C.a)(U,Q);return K?[K]:!W&&$==="emoji"?Object(M.G)(G,{query:Q,options:{entities:{emoji:!0},limit:l.c,sort:{source:"texty-autocomplete"}}}).filter(ne=>Object(p.a)(ne)===Q):Object(M.G)(G,{query:Q,options:{entities:{userGroups:{includeFromAnotherTeam:Object(A.a)(G)},members:{includeSelf:!0,includeSlackbot:!1}},limit:l.c,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:Object(y.a)(L,{limitCodeBlockLinksToFullURLs:!0,doImageReplacement:!1,ignoreExistingLinks:!0})}}};var N=s.a=P},Rzhv:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Update the visibility of the Enable Popups Banner");t.meta={name:"createAction",key:"createActionupdateEnablePopupsBannerVisibility",description:"Update the visibility of the Enable Popups Banner"}},S0gs:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("SQ0V"),t=e("RV0M"),a=e("2VFn"),i=e("aANC"),c=e("Btza"),r=e("QKJg"),f=e("v7mh"),l=e("a99s"),p=e("wmqn");const h=Object(n.c)("Update channel canvas read TS when highlights are dismissed",(u,b,v,d)=>{const{windowId:m,isChildWindow:g}=d(t.a),O=b(),E=Object(f.a)(O),{fileId:y,timestamp:C}=v;g&&m!==a.c?u(Object(r.g)({windowId:m,container:a.h.Primary,params:{lastReadTs:C}})):(u(Object(r.g)({windowId:a.c,tab:E,container:a.h.Secondary,params:{lastReadTs:C}})),u(Object(l.a)())),u(Object(c.a)({fileId:y,lastReadByUser:C})),u(Object(i.a)({fileId:y,lastHighlightDismissedTs:C})),u(Object(p.b)({fileId:y,sections:[]}))});h.meta={name:"createThunk",key:"createThunkupdateChannelCanvasReadTs",description:"Update channel canvas read TS when highlights are dismissed"}},S24Y:function(w,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.Equals="equals",t.HasChanged="hasChanged"})(n||(n={}))},S8QM:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("WMzb"),c=e("P9LH"),r=e("ZobM");function f(p){let{iconClassName:h,file:u,isFilled:b=!0}=p;const v=Object(i.a)();return u&&!Object(c.o)(u)?(v.error(`[ListIcon] Expected List file, got ${Object(c.Q)(u)}`),null):t.a.createElement("div",{className:Object(a.default)(h,"p-list_icon")},t.a.createElement(r.a,{name:"lists",size:"20",variation:b?"filled":void 0}))}o(f,"ListIcon"),f.displayName="ListIcon";var l=s.a=t.a.memo(f)},S9on:function(w,s,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the record doalog in client (noop)");t.meta={name:"createAction",key:"createActionopenRecordCircular",description:"Triggers a side-effect that opens the record doalog in client (noop)"},s.a=t},SDEs:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("zxER"),t=e("4Vim"),a=e("4eGI");function i(c,r){const f=c==null?void 0:c.id.get(),l=Object(n.c)(p=>f&&Object(t.c)(p,f));return Object(a.a)(l?r:void 0)}o(i,"useQuipDocValueIfSubscribed")},SEZ6:function(w,s,e){"use strict";e.d(s,"c",function(){return l}),e.d(s,"a",function(){return p}),e.d(s,"b",function(){return h});var n=e("+VTe"),t=e("QAer");const a="allow_message_deletion",i=o(u=>u?t.a.RA:t.a.ADMIN,"mapToWhoCanStyle"),{canUserDoCustomTeamPrefInSomeWorkspace:c,canUserDoCustomTeamPrefForChannel:r,canUserDoCustomTeamPrefForChannelById:f}=Object(n.b)(i);function l(u){return c(u,a)}o(l,"canUserDoAllowMessageDeletionInSomeWorkspace");function p(u,b){return r(u,a,b)}o(p,"canUserDoAllowMessageDeletionForChannel");function h(u,b){return f(u,a,b)}o(h,"canUserDoAllowMessageDeletionForChannelById")},"SI/f":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("2IYT"),c=e("9Gfp"),r=e("YpEo"),f=e("ifKl"),l=e("BfA7"),p=e("SQ0V"),h=e("nNoG"),u=e("rBeE"),b=e("3956"),v=e("I0j/"),d=e("37+L"),m=e("/Qyu"),g=e("QcWC"),O=e("7HMQ");const E=new h.b("menu"),y={CALL_MEMBER:"call_member",MESSAGE_MEMBER:"message_member",VIEW_PROFILE:"view_profile",COPY_MEMBER_NAME:"copy_member_name",COPY_MEMBER_LINK:"copy_member_link"},C=Object(p.c)("get the context menu item for actions",(A,P,N)=>{let{id:G}=N;const V=[];if(Object(g.a)(P()))return V;const k=A(Object(u.e)({memberId:G,onClickCallback:()=>Object(u.a)(y.MESSAGE_MEMBER)}));return k&&V.push(k),V.length&&V.push({type:"separator"}),V});C.meta={name:"createThunk",key:"createThunkgetActionsTemplate",description:"get the context menu item for actions"};const I=Object(p.c)("get the context menu item for sharing a contact",(A,P,N)=>{let{id:G}=N;const V=P();return Object(O.a)(V,G||"")&&!Object(g.a)(V)?[{label:E.t("Share contact"),click:()=>A(Object(m.a)({contactUserId:G}))},{type:"separator"}]:[]});I.meta={name:"createThunk",key:"createThunkgetShareContactActionMaybe",description:"get the context menu item for sharing a contact"};const j=Object(p.c)("get the context menu template when user clicks on a member",(A,P,N)=>{let{id:G,shouldUseNavigate:V}=N;return[{label:E.t("View profile"),click:()=>{A(Object(u.a)(y.VIEW_PROFILE)),A(V?Object(v.a)(Object(d.O)(G||"")):Object(b.a)({memberId:G}))}},{type:"separator"},...A(C({id:G})),...A(I({id:G})),A(Object(u.d)({memberId:G,label:y.COPY_MEMBER_NAME})),A(Object(u.c)({memberId:G})),{label:E.t("Copy link"),click:()=>{A(Object(u.b)({memberId:G,label:y.COPY_MEMBER_LINK}))}}].filter(k=>!!k)});j.meta={name:"createThunk",key:"createThunkgetMemberContextMenuTemplate",description:"get the context menu template when user clicks on a member"};let M=o(class extends n.Component{getContextMenuTemplate(){return this.props.getMemberContextMenuTemplate({id:this.props.id,shouldUseNavigate:!!this.props.shouldUseNavigate})}render(){const{id:P,isClient:N}=this.props;return N?P?t.a.createElement(i.a,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",onClick:this.props.onClick},this.props.children):Object(r.a)(this.props.children):Object(r.a)(this.props.children)}constructor(P){super(P),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this)}},"MemberContextMenu");M.displayName="MemberContextMenu",M.defaultProps={id:void 0,onClick:f.a,shouldUseNavigate:!1};function T(A){return{isClient:Object(c.h)(A)}}o(T,"mapStateToProps");const D=o(A=>({getMemberContextMenuTemplate:P=>A(j(P))}),"mapDispatchToProps");var S=s.a=Object(a.a)(T,D)(Object(l.a)(M))},SJuT:function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Updates the messages that were unsent while pending");t.meta={name:"createAction",key:"createActionupsertMessagesToDelete",description:"Updates the messages that were unsent while pending"};const a=Object(n.a)("Updates the message eligible for unsending");a.meta={name:"createAction",key:"createActionupsertMessageEligibleForUnsending",description:"Updates the message eligible for unsending"}},SRik:function(w,s,e){"use strict";e.d(s,"a",function(){return p}),e.d(s,"b",function(){return b});var n=e("q1tI"),t=e.n(n),a=e("Ty5D"),i=e("BHdc"),c=e("nNoG"),r=e("oEDn"),f=e("Tevt");const l=new c.b("team_creation");var p;(function(d){d.Unchecked="unchecked",d.Empty="empty-status",d.Processing="processing",d.Ratelimited="ratelimited",d.Expired="expired",d.RequestNewCode="request-new-code",d.Error="error",d.Blocked="ratelimited-blocked",d.GoogleTokenExpired="google-token-expired",d.Unknown="unknown",d.Success="success"})(p||(p={}));const u={RequestNewCode:"code_check_status_request_new_code_link"};class b extends n.Component{getStatusMessage(){const{status:m,onRequestNewCode:g}=this.props;let O=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{"aria-hidden":"true",className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},"\xA0"));switch(m){case p.Unchecked:O=t.a.createElement("span",{className:"small_desc"},l.t("Keep this window open while checking for your code. Remember to try your spam folder!"));break;case p.Processing:O=t.a.createElement(t.a.Fragment,null,t.a.createElement(r.a,{type:"spinner",animation:"spin",inline:!0,className:"margin_right_25"}),t.a.createElement("span",{className:"c-alert__message"},l.t("Checking your code...")));break;case p.Ratelimited:O=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},t.a.createElement("b",null,l.t("Whoa, you\u2019re going too fast!")),t.a.createElement("br",null),l.t("Slow down a bit. You might have better luck if you try again in a minute.")));break;case p.Error:O=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},l.t("That code wasn't valid. Give it another go!")));break;case p.Expired:O=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},l.t("That code\u2019s no longer valid. Check your email for a new code and try again.")));break;case p.Blocked:O=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},t.a.createElement("b",null,l.t("Temporarily blocked")),t.a.createElement("br",null),l.t("You\u2019ve hit our limit on verification attempts, and you\u2019ll need to try again later.")));break;case p.GoogleTokenExpired:O=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},l.rt("A good amount of time has passed, please <a>enter your email again</a> to continue.",null,E=>{let{text:y}=E;return t.a.createElement(f.a,{href:`/get-started${window.location.search}#create`},y)})));break;case p.RequestNewCode:g&&(O=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},l.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{fallbackHash:"51af4c5a673c4faadd4a072e4e1a4db188ed78a4"},E=>{let{text:y}=E;return t.a.createElement(f.a,{"data-qa":u.RequestNewCode,onClick:g},y)}))));break;case p.Unknown:O=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},l.t("Oops! Looks like something went wrong.")));break;case p.Success:O=t.a.createElement("span",{className:"small_desc"},l.t("Success!"));break;default:break}return O}render(){const{status:m,isCentered:g,id:O,className:E}=this.props;if(!m)return null;const y=Object(i.default)("c-alert confirmation_code_state_message",E,{"c-alert--boxed":m!==p.Unchecked,"c-alert--level_default":m===p.Processing,"c-alert--level_warning":m===p.Ratelimited||m===p.Expired||m===p.RequestNewCode,"c-alert--level_error":m===p.Error||m===p.Blocked||m===p.Unknown,"invisible c-alert--level_default":m===p.Empty,"c-alert--align_center":g},m);return t.a.createElement("div",{className:"confirmation_code_checker","data-state":m,"data-qa":m,id:O},t.a.createElement("p",{className:y},this.getStatusMessage()))}}o(b,"CodeCheckStatus"),b.displayName="CodeCheckStatus";let v=o(class extends b{getStatusMessage(){return this.props.status===p.RequestNewCode?t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},l.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{fallbackHash:"51af4c5a673c4faadd4a072e4e1a4db188ed78a4"},m=>{let{text:g}=m;return t.a.createElement(f.a,{href:"#",onClick:this.onClickRequestNewCode},g)}))):super.getStatusMessage()}constructor(...m){super(...m),this.onClickRequestNewCode=g=>{g.preventDefault();const{history:O}=this.props;O.goBack()}}},"CodeCheckStatusWithRouter");s.c=Object(a.a)(v)},SSy4:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("c+dP"),i=e("F0YV"),c=e("tv4y");function r(){return r=Object.assign||function(l){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var u in h)Object.prototype.hasOwnProperty.call(h,u)&&(l[u]=h[u])}return l},r.apply(this,arguments)}o(r,"_extends");const f=o(l=>{let{children:p,teamsList:h,selectedTeamId:u,handleTeamSelected:b,position:v="bottom-left",label:d=""}=l;const m=Object(n.useCallback)(O=>()=>b(O),[b]),g=Object(n.useCallback)(O=>{const E=h.map(C=>{const{name:I,id:j}=C,M=u===j;return t.a.createElement(a.b,{key:j,label:I,onSelected:m(j),icon:t.a.createElement(i.b,{className:"margin_left_50 block",id:j,size:20,team:C}),type:c.b.radio,checked:M})}),y=d?[t.a.createElement(a.b,{key:"header",label:d,type:c.b.header}),...E]:E;return t.a.createElement(a.f,r({},O),y)},[h,d,u,m]);return t.a.createElement(a.e,{position:v,renderMenu:g},p)},"BaseTeamPickerMenu");f.displayName="BaseTeamPickerMenu",s.a=f},Sczb:function(w,s,e){"use strict";e.d(s,"c",function(){return I}),e.d(s,"f",function(){return j}),e.d(s,"b",function(){return T}),e.d(s,"a",function(){return D}),e.d(s,"e",function(){return S}),e.d(s,"h",function(){return A}),e.d(s,"g",function(){return P}),e.d(s,"i",function(){return N}),e.d(s,"d",function(){return V}),e.d(s,"j",function(){return k});var n=e("ZKjC"),t=e("i5Ig"),a=e("jprL"),i=e("RVJP"),c=e("1FnB"),r=e("X/qK"),f=e("fujP"),l=e("JoR1"),p=e("zKt1"),h=e("mM05"),u=e.n(h),b=e("gSGL"),v=e("X6iR"),d=e("BeL+"),m=e("x5Qe"),g=e("htTJ"),E=o(x=>{if(!x||!x.length)return[];const H=[];return x.forEach(R=>{var W;if(!Object(g.a)(R))return;const U=R.insert,_=(W=R.attributes)===null||W===void 0?void 0:W.link;if(!Object(b.a)(U)||!Object(b.a)(_))return;const B=Object(m.a)(U),z=Object(m.a)(_);Object(v.a)(z??void 0,"http://")&&z.slice(7)===B||Object(v.a)(z??void 0,"https://")&&z.slice(8)===B||!(Object(v.a)(z??void 0,"http://")||Object(v.a)(z??void 0,"https://")||Object(v.a)(z??void 0,"spotify:"))||H.push(_)}),Object(d.a)(H)},"getUrlsInOpsToUnfurl"),y=e("gCYc"),C=e("Kn+X");const I=Object(n.b)((x,H)=>{var R;return x==null||(R=x.draftUnfurls)===null||R===void 0?void 0:R[H]});I.meta={name:"createSelector",key:"createSelectorgetAllUnfurlEntriesForDraft",description:(x,H)=>{var R;return x==null||(R=x.draftUnfurls)===null||R===void 0?void 0:R[H]}};const j=Object(n.b)(function(x){let{draftId:H,url:R}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!H||!R)return;const W=I(x,H);if(W)return W[R]});j.meta={name:"createSelector",key:"createSelectorgetUnfurlEntryForDraft",description:function(x){let{draftId:H,url:R}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!H||!R)return;const W=I(x,H);if(W)return W[R]}};const M=Object(n.b)((x,H)=>{const R=I(x,H);if(R)return Object.keys(R)});M.meta={name:"createSelector",key:"createSelectorgetAllUnfurlUrlsForDraft",description:(x,H)=>{const R=I(x,H);if(R)return Object.keys(R)}};const T=Object(n.b)((x,H)=>{const R=I(x,H);if(!R)return;const W=[];return Object.entries(R).forEach(U=>{let[_,B]=U;B.status!==a.g&&W.push(_)}),W});T.meta={name:"createSelector",key:"createSelectorgetAllNonStaleUnfurlUrlsForDraft",description:(x,H)=>{const R=I(x,H);if(!R)return;const W=[];return Object.entries(R).forEach(U=>{let[_,B]=U;B.status!==a.g&&W.push(_)}),W}};const D=Object(n.b)((x,H)=>{const R=I(x,H);if(!R)return;const W=[];return Object.entries(R).forEach(U=>{let[_,B]=U;B.status!==a.g&&Object(c.a)(B.data)&&W.push(_)}),W});D.meta={name:"createSelector",key:"createSelectorgetAllNonStaleRemoteFileUnfurlUrlsForDraft",description:(x,H)=>{const R=I(x,H);if(!R)return;const W=[];return Object.entries(R).forEach(U=>{let[_,B]=U;B.status!==a.g&&Object(c.a)(B.data)&&W.push(_)}),W}};const S=Object(n.b)((x,H)=>{if(!H)return;const R=I(x,H);if(R)return Object(r.a)(R,(W,U,_)=>{U&&U.status===a.f&&W.push(_)},[])});S.meta={name:"createSelector",key:"createSelectorgetRemovedUnfurlUrlsForDraft",description:(x,H)=>{if(!H)return;const R=I(x,H);if(R)return Object(r.a)(R,(W,U,_)=>{U&&U.status===a.f&&W.push(_)},[])}};const A=Object(n.b)((x,H)=>{let{ops:R}=H;if(!R||Object(f.a)(R))return t.a;const W=Object(l.t)(x,"plain_text_mode");let U=R;if(W){const _=Object(p.a)(new u.a(R.slice()))||{};U=_&&_.ops}return E(U)});A.meta={name:"createSelector",key:"createSelectorgetUrlsInOpsToUnfurl",description:(x,H)=>{let{ops:R}=H;if(!R||Object(f.a)(R))return t.a;const W=Object(l.t)(x,"plain_text_mode");let U=R;if(W){const _=Object(p.a)(new u.a(R.slice()))||{};U=_&&_.ops}return E(U)}};const P=Object(n.b)((x,H,R)=>{if(!H)return;const W=Object(y.k)(x,H);var U;const _=(U=Object(C.n)(W))!==null&&U!==void 0?U:[],B=A(x,{ops:_});if(!B||Object(f.a)(B))return;const z=B.map(L=>j(x,{draftId:H,url:L})).filter(L=>L&&R.includes(L.status)).map(L=>L==null?void 0:L.data);if(!(!z||Object(f.a)(z)))return z});P.meta={name:"createSelector",key:"createSelectorgetUnfurlsInDraftOpsWithStatuses",description:(x,H,R)=>{if(!H)return;const W=Object(y.k)(x,H);var U;const _=(U=Object(C.n)(W))!==null&&U!==void 0?U:[],B=A(x,{ops:_});if(!B||Object(f.a)(B))return;const z=B.map(L=>j(x,{draftId:H,url:L})).filter(L=>L&&R.includes(L.status)).map(L=>L==null?void 0:L.data);if(!(!z||Object(f.a)(z)))return z}};const N=Object(n.b)((x,H)=>P(x,H,[a.i]));N.meta={name:"createSelector",key:"createSelectorgetUserAuthRequiredUnfurlsInDraftOps",description:(x,H)=>P(x,H,[a.i])};const G=Object(n.b)((x,H)=>P(x,H,[a.a]));G.meta={name:"createSelector",key:"createSelectorgetCompleteUnfurlsInDraftOps",description:(x,H)=>P(x,H,[a.a])};const V=Object(n.b)((x,H)=>{const R=[a.a];return Object(i.d)(x,"magic_unfurls")==="treatment"&&R.push(a.g),Object(i.d)(x,"composer_auth")==="treatment"&&R.push(a.i),P(x,H,R)});V.meta={name:"createSelector",key:"createSelectorgetDisplayableUnfurlsInDraftOps",description:(x,H)=>{const R=[a.a];return Object(i.d)(x,"magic_unfurls")==="treatment"&&R.push(a.g),Object(i.d)(x,"composer_auth")==="treatment"&&R.push(a.i),P(x,H,R)}};const k=Object(n.b)((x,H)=>{const R=Object(y.k)(x,H),W=Object(C.n)(R)||[],U=A(x,{ops:W});return(U==null?void 0:U.length)>a.h});k.meta={name:"createSelector",key:"createSelectorhasReachedUnfurlLimit",description:(x,H)=>{const R=Object(y.k)(x,H),W=Object(C.n)(R)||[],U=A(x,{ops:W});return(U==null?void 0:U.length)>a.h}}},Shth:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("n3tL"),t;(function(i){i[i.IDLE=0]="IDLE",i[i.UPLOADING=1]="UPLOADING",i[i.COMPLETE=2]="COMPLETE",i[i.CANCELED=3]="CANCELED",i[i.PROCESSING=4]="PROCESSING",i[i.ERROR=5]="ERROR"})(t||(t={}));const a=n.default.shape({file:n.default.object.isRequired,pendingFileId:n.default.string,percentComplete:n.default.number,persistedFileId:n.default.string,status:n.default.oneOf(Object.values(t)),teamId:n.default.string,isSending:n.default.bool})},"Sk0/":function(w,s,e){"use strict";var n=e("zmn3"),t=e("q1tI"),a=e.n(t),c=o(v=>{const d=Object(t.useRef)(null);return Object(t.useEffect)(()=>{v&&(typeof v=="function"?v(d.current):v.current=d.current)}),d},"useForwardedRef"),r=e("Cfcg"),f=e("PU6Q");function l(){return l=Object.assign||function(v){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])}return v},l.apply(this,arguments)}o(l,"_extends");let p=o(class extends t.Component{onFilesSelected(){const{onFilesSelectedHandler:d,refToForward:m}=this.props;if(!m.current)throw new Error("HiddenFileInput missing input ref");const g=m.current.files,O=Object(n.a)(g);d(O),m.current.value=""}render(){const{disableFileUploadsPref:d,multiple:m=!0,accept:g,refToForward:O}=this.props,E=d==="disable_all_except_images"&&!g,y={accept:g};return E&&(y.accept="image/*"),a.a.createElement("input",l({type:"file",className:"p-hidden_file_input",multiple:m,"aria-hidden":"true","data-qa":"file_upload",tabIndex:-1},y,{ref:O,onChange:this.onFilesSelected}))}constructor(d){super(d),this.onFilesSelected=this.onFilesSelected.bind(this)}},"HiddenFileInput");p.displayName="HiddenFileInput";function h(v){return{disableFileUploadsPref:Object(f.b)(v)}}o(h,"mapStateToProps");const u=Object(r.a)(h)(p);var b=s.a=a.a.forwardRef((v,d)=>a.a.createElement(u,l({},v,{refToForward:c(d)})))},SkME:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("BHdc"),c=e("wd/R"),r=e.n(c),f=e("WIr4"),l=e("95ku"),p=e("A/mR"),h=e("P1FA"),u=e("XxnT");const b={"de-de":["YYYY MMM D","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"en-gb":["YYYY MMM D","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"en-us":["MMM D YYYY","M D YYYY","YYYY M D","YYYY MMM D","D MMM YYYY","M D"],"es-es":["YYYY MMM D","D [de] MMM [de] YYYY","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"es-la":["YYYY MMM D","D [de] MMM [de] YYYY","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"fr-fr":["YYYY MMM D","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"ja-jp":["YYYY[\u5E74]MMMMD","YYYY[\u5E74]MM[\u6708]D[\u65E5]","MM D"],"ko-kr":["YYYY-MM-DD","YYYY[\uB144] MM[\uC6D4] DD[\uC77C]","YYYY[\uB144] M[\uC6D4] D[\uC77C]","YYYY.MM.DD.","YYYY.MM.DD","YYYY.M.D.","YYYY.M.D","MM[\uC6D4] DD[\uC77C]","M[\uC6D4] D[\uC77C]"],"pt-br":["YYYY MMM D","D [de] MMM [de] YYYY","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"zh-cn":["YYYY [\u5E74] MMMM D","YYYY [\u5E74] MM [\u6708] D [\u65E5]","MM D"],"zh-tw":["YYYY [\u5E74] MMMM D","YYYY [\u5E74] MM [\u6708] D [\u65E5]","MM D"],default:["YYYY MMM D","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"]};function v(I){const j=u.a.locale(),M=b[j]||b.default;M.push("YYYY-M-D");var T;let D=(T=I==null?void 0:I.trim().toLocaleLowerCase())!==null&&T!==void 0?T:"";if(j==="ja-jp"||j==="ko-kr"||j==="zh-cn"||j==="zh-tw"){var A;D=(A=Object(h.a)(D))!==null&&A!==void 0?A:""}return j==="de-de"?D=D.replace("marz","m\xE4rz"):j==="fr-fr"&&(D=D.replace("fevr","f\xE9vr"),D=D.replace("aout","ao\xFBt"),D=D.replace("dec","d\xE9c")),Object(u.a)(D,M,!1)}o(v,"parseCalendarDate");var d=v,m=e("FWtP"),g=e("nNoG");function O(){return O=Object.assign||function(I){for(var j=1;j<arguments.length;j++){var M=arguments[j];for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(I[T]=M[T])}return I},O.apply(this,arguments)}o(O,"_extends");const E=new g.b("date_picker");let y=o(class extends n.PureComponent{getDisplayFormat(){return this.props.displayFormat||this.props.valueFormat}getDisplayValueFromMoment(j,M){let{useToday:T=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!j||!j.isValid())return"";if(j.isSame(r()(),"day")&&T)return E.t("Today",{fallbackHash:"24345a14377fd821d3932f4e82f6431640955b0b",fallbackHashNs:"block_kit"});if(M)return j.format(M);const D=Object(g.m)()==="es-ES"||Object(g.m)()==="es-LA";return Object(p.o)(j,{shortenMonth:D,shortenDay:D})}getMemoizedDisplayValue(j,M,T){const D=r()(j,M);return this.getDisplayValueFromMoment(D,T)}getInputValue(){if(this.state.focused)return this.state.inputValue;const{value:j,valueFormat:M,displayFormat:T}=this.props;return this.getMemoizedDisplayValue(j,M,T)}handleDownKey(j){this.props.onClick(j)}onKeyDown(j){const{key:M}=j;if(M==="Enter"){this.handleReturnKey(j);return}if(M==="Escape"){this.handleEscapeKey(j);return}if(M==="ArrowDown"){this.handleDownKey(j);return}M==="Tab"&&this.handleTabKey(j)}resetInputForEditing(){const{value:j,valueFormat:M,displayFormat:T,onResetInput:D}=this.props;this.setState(()=>({focused:!0,inputValue:this.getDisplayValueFromMoment(r()(j,M),T,{useToday:!1})||j||""}),()=>{var S;(S=this.input.current)===null||S===void 0||S.select(),D&&D(this.input)})}handleBlur(j){this.state.focused&&this.updateValue(j.target.value),this.setState(()=>({focused:!1})),this.props.onBlur(j)}handleChange(j){this.setState(()=>({inputValue:j}))}handleClick(j){this.input.current&&this.input.current.focus(),this.props.onClick(j)}handleEscapeKey(j){this.input.current&&this.state.focused&&(this.resetInputForEditing(),this.props.onEscape(j))}handleFocus(j){this.resetInputForEditing(),this.props.onFocus(j)}handleReturnKey(j){this.input.current&&this.state.focused&&(j.preventDefault(),this.input.current.blur())}handleTabKey(j){this.props.blurOnTab&&this.input.current&&this.state.focused&&(j.preventDefault(),this.input.current.blur())}isDateDisabled(j){let M=!1;if(this.props.isDateDisabled&&(M=this.props.isDateDisabled(j.format(this.props.valueFormat))),!M)for(let T=0,D=this.props.disabledDates[T];T<this.props.disabledDates.length;T++)j.isSame(r()(D,this.props.valueFormat))&&(M=!0);return!M&&this.props.disableDatesBefore&&(M=M||j.isBefore(r()(this.props.disableDatesBefore,this.props.valueFormat))),!M&&this.props.disableDatesAfter&&(M=M||j.isAfter(r()(this.props.disableDatesAfter,this.props.valueFormat))),M}parseToMoment(j){if(!j||!j.trim())return null;const M=this.getDisplayFormat(),T=r()(j,M,!0);if(T.isValid())return T;const D=d(j);if(D.isValid())return D;const S=new Date(j);return Number.isNaN(S.valueOf())?null:r()(S)}updateValue(j,M){const{value:T,valueFormat:D,required:S}=this.props;let A=M?r()(j,M):this.parseToMoment(j),P=A&&A.isValid();if(P||(S?(A=r()(T,D),P=A&&A.isValid()):(A=null,P=!0)),P){const N=A?A.format(D):"";this.props.onChange(N)}}render(){const{id:j,required:M,className:T,value:D,valueFormat:S,displayFormat:A,disabledDates:P,isDateDisabled:N,disableDatesBefore:G,disableDatesAfter:V,disabledDateErrorText:k,onChange:x,onClick:H,onEscape:R,size:W,"aria-label":U,datePickerDisabled:_,isInvalid:B,autoClogProps:z,preventScrollOnFocus:L,blurOnTab:$,onResetInput:Q,...K}=this.props;return t.a.createElement("div",{onClick:this.handleClick,"data-qa":`datepicker_input--${W}`,className:Object(i.default)(`c-date_picker_input c-date_picker_input--${W}`,{"c-date_picker_input--focused":this.state.focused}),role:"presentation"},t.a.createElement(l.a,O({},K,{id:j,name:j,className:T,inputRef:this.input,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,onKeyDown:this.onKeyDown,value:this.getInputValue(),icon:"calendar",showError:B,isDisabled:_,isInvalid:B,isRequired:M,size:W,ariaLabel:U,autoClogProps:z,preventScrollOnFocus:L,useInlineAlert:!0})))}constructor(j){super(j),this.state={inputValue:"",focused:!1},this.input=t.a.createRef(),this.getMemoizedDisplayValue=Object(m.a)(this.getMemoizedDisplayValue),Object(f.a)(this,["onKeyDown","isDateDisabled","handleBlur","handleFocus","handleClick","handleChange","handleReturnKey","handleEscapeKey","handleDownKey","handleTabKey"])}},"DatePickerInput");y.displayName="DatePickerInput",y.defaultProps={value:null,displayFormat:null,disabledDates:[],isDateDisabled:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0,disabledDateErrorText:null,onChange:a.a,onClick:a.a,onFocus:a.a,onBlur:a.a,onEscape:a.a,required:!1,isInvalid:!1,size:"medium",className:null,datePickerDisabled:!1,autoClogProps:void 0,preventScrollOnFocus:!1,placeholder:void 0,focusOnMount:void 0,onKeyDown:a.a};var C=s.a=y},"SpS+":function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"g",function(){return c}),e.d(s,"f",function(){return r}),e.d(s,"e",function(){return p}),e.d(s,"d",function(){return h}),e.d(s,"c",function(){return v}),e.d(s,"b",function(){return d});var n=e("/1FC"),t=e("owWc"),a=e("fujP");const i={email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,phone:/^[0-9._+-]{8,15}$/i},c=o(m=>{const g=typeof m=="boolean",O=typeof m=="string",E=g&&!m,y=O&&(!m||!m.trim()),C=Object(n.a)(m)&&!m.length;return E||y||C?"Required":null},"required"),r=o((m,g)=>O=>(i[m]||m).test(O)?null:g,"regexPattern"),f=r(i.email,"Please enter a valid email address."),l=r(i.phone,"Please enter a valid phone number."),p=o(m=>g=>!g||g.length<m?`Minimum of ${m} characters`:null,"minCharacterCount"),h=o(m=>g=>g.length>m?`Max character limit is ${m}`:null,"maxCharacterCount"),u=o(m=>g=>{let O=null;return m.forEach(E=>{g===E&&(O=`Cannot use ${g}`)}),O},"tokenNotAllowed"),b=o(m=>g=>{let O=null,E;return g&&g.length&&(g.includes(",")?(E=g.split(",").filter(y=>!!m.includes(y)),O=`Cannot use ${E}`):m.includes(g)&&(E=g,O=`Cannot use ${E}`)),O},"tokensNotAllowed"),v=o(m=>g=>{const O=Object(t.a)(m,(E,y,C)=>{const I=y.map(j=>j(g[C],g)).filter(Boolean);return I.length>0&&(E[C]=I),E},{});return Object(a.a)(O)?void 0:O},"createValidation"),d=o(m=>g=>{const O=m.map(E=>E(g)).filter(Boolean);return Object(a.a)(O)?void 0:O},"createValidate")},SvP2:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("BHdc"),c=e("3WT/"),r=e("OKyS"),f=e("5IZy"),l=e("4AlF"),p=e("yxNq"),h=e("RVJP"),u=e("zxER"),b=e("y/Pn"),v=e("up1q"),d=e("HmUJ"),m=e("mjhc"),g=e("N5xo"),O=e("C3vN"),E=e("K7jq"),y=e("cQ/D"),C=e("xwCZ");function I(Rt){let{channelId:vt,imMember:At,setContextBarTimeZoneIsShowing:Gt,unsetContextBarTimeZoneIsShowing:ln}=Rt;const Dt=Object(u.c)(He=>Object(O.D)(Object(C.c)(He)));return Object(n.useCallback)(()=>{if(!vt||!At||Object(E.a)(At)||Object(O.jb)(At)||Object(O.T)(At))return null;if(Dt===Object(O.D)(At)||!Object(O.D)(At))return ln({channelId:vt});try{return Object(y.a)(Date.now(),At)?Gt({channelId:vt}):ln({channelId:vt})}catch{return ln({channelId:vt})}},[vt,Dt,At,Gt,ln])}o(I,"useCalculateNightTime");function j(Rt){let{channelId:vt,imMember:At,contextBarType:Gt,setContextBarTimeZoneIsShowing:ln,unsetContextBarTimeZoneIsShowing:Dt}=Rt;const He=I({channelId:vt,imMember:At,setContextBarTimeZoneIsShowing:ln,unsetContextBarTimeZoneIsShowing:Dt});Object(g.a)(()=>{Gt&&Gt!==m.c.timeZone||He()},[He,Gt])}o(j,"useUpdateNightTime");var M=e("Fsnq"),T=e("qMw6"),D=e("gCYc"),S=e("F4sy"),A=e("Kn+X"),P=e("E3dU"),N=e("E97Y");function G(Rt){let{channelId:vt,draftId:At,viewContext:Gt}=Rt;const[ln,Dt]=Object(n.useState)(""),He=Object(u.c)(nt=>Object(P.d)(nt,vt)),Le=Object(u.c)(nt=>Object(M.a)(Object(S.a)(nt,{channelId:vt,draftId:At,viewContext:Gt}))),[Qe,Ce]=Object(n.useState)(Le),[ye,ie]=Object(n.useState)(vt),Oe=Object(u.c)(nt=>Object(D.k)(nt,At)),We=Object(n.useMemo)(()=>Object(A.t)(Oe),[Oe]),ke=Object(u.d)(nt=>We.filter(st=>{const mt=Object(C.g)(nt,st);return!Object(O.V)(mt)&&Object(O.ib)(mt)}));return Object(n.useEffect)(()=>{vt!==ye&&(ie(vt),Ce(Le))},[ye,vt,Le,ie]),Object(n.useEffect)(()=>{const nt=Le>Qe,st=Gt===T.a.COMPOSER_VIEW&&Le>0;Object(N.l)(He)&&ke&&ke.length!==0?Dt(m.c.profileOnlyUser):Dt(nt||st?m.c.scheduledSend:"")},[Le,Qe,ke,He,Gt]),{overrideType:ln,mentionedPOUs:ke}}o(G,"useContextBarOverride");var V=e("ZobM"),k=e("Yauy"),x=e("mGaQ"),H=e("F0YV"),R=e("qXtt");const W=Object.freeze({[m.c.migrating]:"info",[m.c.timeZone]:"clock",[m.c.scheduledSend]:"schedule-send",[m.c.profileOnlyUser]:"info",[m.c.fileRetention]:"warning"}),U=Object.freeze({[m.c.dnd]:"notifications-dnd",[m.c.govslackBanner]:"govslack"}),_=o(Rt=>{let{type:vt,channel:At,memberIds:Gt}=Rt;const ln=Object(u.c)(x.b),Dt=Object(u.c)(Le=>Object(k.Eb)(Le,At));return Object(b.a)(At)&&vt===m.c.govslackBanner?t.a.createElement("div",{className:"p-context_bar_v2__icon position_relative"},t.a.createElement("div",{className:ln?"p-context_bar_banner__govslack_insert":"p-context_bar_banner__govslack_insert p-context_bar_banner__govslack_insert--off"},t.a.createElement("div",{className:"p-context_bar_banner__govslack_insert_icon"},t.a.createElement(V.a,{variation:"filled",name:ln?"govslack":"govslack-off"}))),t.a.createElement(R.a,{memberIds:Gt,channel:At})):vt===m.c.shared?t.a.createElement("div",{className:"p-context_bar_v2__icon"},t.a.createElement(R.a,{memberIds:Gt,channel:At})):vt===m.c.slackConnectWorkspace?t.a.createElement("div",{className:"p-context_bar_v2__icon"},t.a.createElement(H.b,{id:Dt,size:16})):vt===m.c.outOfOffice?t.a.createElement("div",{className:"p-context_bar_v2__icon"},t.a.createElement(V.a,{name:"inactive"})):t.a.createElement("div",{className:"p-context_bar_v2__icon"},(vt===m.c.govslackBanner||vt===m.c.dnd)&&t.a.createElement(V.a,{variation:"filled",name:U[vt]}),vt!==m.c.govslackBanner&&t.a.createElement(V.a,{name:W[vt]}))},"ContextBarV2Icon");_.displayName="ContextBarV2Icon";var B=_,z=e("nNoG"),L=e("M+5u"),$=e("JoR1"),Q=e("CTEJ"),K=e("rYD8");const Z=new z.b("messages");function ne(Rt,vt){return Object(L.a)(Date.now(),{timeZone:Object(O.D)(Rt)||void 0,timeZoneOffset:Object(O.E)(Rt),do24hrTime:vt})}o(ne,"getLocalTime");const F=o(Rt=>{let{ariaId:vt,member:At}=Rt;const Gt=Object(u.c)(He=>!!Object($.t)(He,"time24")),[ln,Dt]=Object(n.useState)(ne(At,Gt));return Object(g.a)(()=>{Dt(ne(At,Gt))},[At,Gt]),t.a.createElement("span",{id:vt},Z.rt("It\u2019s {time} for {member}",{member:t.a.createElement(K.a,{id:At==null?void 0:At.id}),time:ln?t.a.createElement("strong",null,ln):t.a.createElement(Q.a,{size:"small"})}))},"ContextBarTimeZoneContent");F.displayName="ContextBarTimeZoneContent";var J=F,X=e("ktUG");const Y=new z.b("messages");function ae(Rt){let{channel:vt,ariaId:At}=Rt;const Gt=Object(u.c)(ln=>Object(f.a)({state:ln}));return Gt==null||Gt.track(X.EventId.ENTERPRISE_MIGRATION_BACKGROUND,{contexts:{ui_context:{action:X.UiAction.IMPRESSION,ui_element:X.UiElement.MIGRATION_CONTEXT_BAR},channel_id:vt.id,channel_privacy_type:Object(N.c)(vt)}}),t.a.createElement("span",{id:At},Y.rt("Missing messages? They'll show up shortly when your workspace's migration is complete."))}o(ae,"ContextBarMigrating"),ae.displayName="ContextBarMigrating";var ee=t.a.memo(ae),q=e("fujP"),te=e("/MKj"),de=e("wnRj"),se=e("+wAm"),re=e("Tevt");const oe=new z.b("messages");function ce(Rt){let{dndOverride:vt,memberId:At}=Rt;const Gt=Object(te.useDispatch)(),ln=vt==null?void 0:vt.overrideUrl,Dt=Object(n.useCallback)(()=>{Gt&&Gt(Object(se.a)(ln))},[Gt,ln]);return Object(q.a)(vt)?t.a.createElement("span",null,oe.rt("{member} has <strong>paused their notifications</strong>",{member:t.a.createElement(K.a,{id:At})})):t.a.createElement("span",null,oe.t("They will see your messages when they\u2019re back."),"\xA0",t.a.createElement(re.a,{className:"bold",onClick:Dt},oe.t("Notify anyway?")))}o(ce,"ContextBarDndContent"),ce.displayName="ContextBarDndContent";function ue(Rt,vt){let{channelId:At}=vt;return{dndOverride:Object(de.a)(Rt,At)}}o(ue,"mapStateToProps");var Pe=Object(a.a)(ue)(ce),Ye=e("hUMe"),$e=e("rKeN"),Ke=e("mY0L");const qe=new z.b("shared_channels");var Be=o(Rt=>{let{hasLeadingText:vt}=Rt;const At=Object(u.c)($e.a),{renderLink:Gt,shouldDisplayGuidelines:ln}=Object(Ke.a)({type:"LOCAL",dataQa:"slack_connect_guidelines__view_button__from_banner",stepVariant:"external_member_awareness_banner",modalHeaderSuffix:"guidelines",showCopyButton:!1,className:"bold"});return At&&ln?t.a.createElement(t.a.Fragment,null,vt&&". ",qe.rt("<link>Review guidelines</link>",{"<link>":Gt})):null},"Guidelines");const pe=new z.b("messages"),fe=o(Rt=>{let{memberId:vt,teamId:At}=Rt;var Gt;const ln=(Gt=Object(u.c)(Le=>Object(l.a)(Le,[vt])))===null||Gt===void 0?void 0:Gt[0],Dt=At||ln,He=pe.rt("They are from {teamName}",{teamName:t.a.createElement(Ye.a,{id:Dt})});return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",null,He),t.a.createElement(Be,{hasLeadingText:!0}))},"ExternalText");fe.displayName="ExternalText";var me=fe,Se=e("HOFW");function je(Rt){let{memberId:vt,ariaId:At,channelId:Gt}=Rt;const ln=Object(u.c)(Dt=>vt?Object(Se.a)(Dt,{channelId:Gt,memberIds:[vt]}):!1);return t.a.createElement("span",{id:At},t.a.createElement(Pe,{channelId:Gt,memberId:vt}),ln&&!!vt&&t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"p-context_bar__divider"}," | "),t.a.createElement(me,{memberId:vt})))}o(je,"context_bar_dnd_content_ContextBarDndContent"),je.displayName="ContextBarDndContent";var Ue=je,ve=e("Atrf"),ge=e("nWdO");const le=new z.b("messages");function he(Rt){let{memberIds:vt,ariaId:At}=Rt;if(!vt)return null;const Gt=t.a.createElement(ve.a,{id:vt[0]}),ln=vt.length;if(ln===2)return t.a.createElement("span",{id:At},le.rt("{firstMember} and {secondMember} are not on Slack and will not receive a notification.",{firstMember:Gt,secondMember:t.a.createElement(ve.a,{id:vt[1]})}));const Dt=vt.slice(1).map(Le=>t.a.createElement("span",{key:Le},t.a.createElement(ve.a,{id:Le,noLinking:!0}))),He=Object(z.h)(Dt);return t.a.createElement("span",{id:At},le.rt("{firstMember}{memberCount, plural, =1 { is} other { and {overflow} are}} not on Slack and will not receive a notification.",{firstMember:Gt,memberCount:ln,overflow:t.a.createElement(ge.c,{zIndex:"above_fs",tip:He},t.a.createElement("span",null,le.rt(" {overflowCount} others",{overflowCount:ln-1})))}))}o(he,"ContextBarProfileOnlyUserContent"),he.displayName="ContextBarProfileOnlyUserContent";var Te=he,Re=e("F294"),Ve=e("wd/R"),Ee=e.n(Ve),Ae=e("ohbk"),Ge=e("I0j/"),Ze=e("37+L"),ze=e("mQiU"),lt=e("UmHn"),tt=e("A/mR"),Ot=e("rEgV"),Ct=e("3kjJ");const St=new z.b("messages"),zt={eventId:X.EventId.COMPOSE_FLOW,uiStep:X.UiStep.CONTEXTBAR_SCHEDULED_CLICK,onClick:{enableClogAction:!0}};function kt(Rt){let{channelId:vt,draftId:At,viewContext:Gt}=Rt;const ln=Object(te.useDispatch)(),{shouldUseNavigate:Dt}=Object(n.useContext)(ze.a),He=Object(u.c)(We=>Object($.t)(We,"time24")),Le=Object(u.c)(We=>Object(P.d)(We,vt)),Qe=Object(u.c)(We=>Object(k.t)(We,Le)),Ce=Object(u.c)(We=>Object(S.a)(We,{channelId:vt,draftId:At,viewContext:Gt}));if(!vt||Object(q.a)(Ce))return null;function ye(){ln(Dt?Object(Ge.a)(Object(Ze.M)(lt.a.ScheduledMessages)):Object(Ae.a)({id:"Pscheduled-messages"}))}o(ye,"onSeeDetailsClick");let ie;if(Object(M.a)(Ce)>1)ie=St.rt("{draft_count} messages scheduled to be sent to <strong>{channel_name}</strong>.",{draft_count:Object(M.a)(Ce),channel_name:Qe});else{const We=Object(Re.a)(Ce),ke=Object(A.i)(We);if(!ke)return null;const nt=Object(Ot.a)(ke),st=Object(Ct.a)(ke,Ee()().add(1,"day")),mt=Object(tt.g)(ke,"{date_pretty}",{shouldCapitalize:!1}),pt=Object(tt.g)(ke,"{time}",{do24hrTime:He});nt?ie=St.rt("Your message will be sent to <strong>{channel_name}</strong> today at {time}.",{channel_name:Qe,time:pt}):st?ie=St.rt("Your message will be sent to <strong>{channel_name}</strong> tomorrow at {time}.",{channel_name:Qe,time:pt}):ie=St.rt("Your message will be sent to <strong>{channel_name}</strong> on {date} at {time}.",{channel_name:Qe,date:mt,time:pt})}const Oe=St.rt("<a>See all scheduled messages</a>",null,We=>{let{text:ke,tag:nt}=We;return nt==="a"?t.a.createElement(re.a,{onClick:ye,autoClogProps:zt},t.a.createElement("strong",null,ke)):null});return t.a.createElement(t.a.Fragment,null,ie," ",Oe)}o(kt,"ContextBarScheduledSendContent"),kt.displayName="ContextBarScheduledSendContent";var on=kt,_t=e("xHh6"),be=e("Trx9"),ot=e("r007"),rt=e("ilQ9"),Jt=e("YxAP"),Qt=e("blUj");function qt(Rt){let{ariaId:vt,channel:At,memberIds:Gt,connectedTeamIds:ln,shouldRender:Dt,experimentAdoptionInstantSlackGroupTreatment:He}=Rt;const Le=Object(te.useDispatch)(),Qe=Object(n.useCallback)(()=>{const ye=Object(k.i)(At);if(!ye||!(ln!=null&&ln.length))return;const ie=ln.length===1?ln[0]:Qt.b.EXTERNAL_TEAMS;return Le(Object(_t.a)({id:ye,defaultTab:Jt.a.Members,options:He?void 0:{membersFilters:[ie]}}))},[At,ln,Le,He]);if(!Dt)return null;const Ce=t.a.createElement(be.a,{eventId:X.EventId.EXTERNAL_MEMBER_AWARENESS_BANNER,clogImpression:!0},t.a.createElement(ot.a,{channel:At,memberIds:Gt,onClickMemberCount:Qe}),t.a.createElement(Be,{hasLeadingText:!0}));return vt?t.a.createElement("span",{id:vt},Ce):Ce}o(qt,"ContextBarShared"),qt.displayName="ContextBarShared";const $t=o((Rt,vt)=>{let{channel:At,memberIds:Gt}=vt;const ln=Object(C.j)(Rt,Gt),Dt=Object(rt.b)({channel:At,members:ln}),He=Object(h.d)(Rt,"adoption_instant_slack")==="treatment";return{shouldRender:Dt!==rt.a.none,experimentAdoptionInstantSlackGroupTreatment:He}},"context_bar_shared_content_mapStateToProps");var hn=Object(a.a)($t)(qt);const gn=new z.b("govslack"),Cn=o(Rt=>{let{isSlackConnect:vt=!1}=Rt;const At=Object(u.c)(x.b);let Gt=gn.rt("Don\u2019t share ITAR protected data here.",null,ln=>{let{text:Dt,tag:He}=ln;return He==="a"?Dt:null});return At&&(vt?Gt=gn.rt("These teams are using GovSlack.",{fallbackHash:"c80d207f7b80fc6839c040a53d42e9d538ff5061"}):Gt=gn.rt("This team is using GovSlack.",{fallbackHash:"c80d207f7b80fc6839c040a53d42e9d538ff5061"})),t.a.createElement("span",null,Gt)},"GovslackText");Cn.displayName="GovslackText";var Mn=Cn,kn=e("UZO2"),na=e("gVOt");function oa(Rt){let{ariaId:vt,channel:At,memberIds:Gt}=Rt;const ln=Object(b.a)(At),Dt=Object(k.i)(At),He=Object(u.c)(Qe=>Object(kn.a)(Qe,{channelId:Dt,memberIds:Gt})),Le=ln&&!He;return t.a.createElement("span",{id:vt},He&&t.a.createElement(t.a.Fragment,null,t.a.createElement(Pe,{channelId:Dt,memberId:Object(na.a)(At)}),t.a.createElement("span",{className:"p-context_bar__divider"}," | ")),Le&&!!At&&t.a.createElement(t.a.Fragment,null,t.a.createElement(hn,{channel:At,memberIds:Gt}),t.a.createElement("span",{className:"p-context_bar__divider"}," | ")),t.a.createElement(Mn,{isSlackConnect:Le}))}o(oa,"ContextBarGovSlack"),oa.displayName="ContextBarGovSlack";var ba=t.a.memo(oa),ga=e("ZOzc"),ya=e("CnQG"),Zn=e("WAPM"),Xn=e("G0eX"),Ht=e("beVI"),ut=e("ajVY");const gt=new z.b("file-upload");function Wt(Rt){let{retentionDuration:vt,teamName:At,allowBoxCfsEnabled:Gt}=Rt;if(!vt||Gt)return null;let ln;const Dt=Object(ya.a)(vt);return At?ln=gt.rt("{teamName} keeps files in Slack for {duration}. <a>Learn more</a>",{duration:Dt,teamName:At,"<a>":He=>{let{text:Le}=He;return t.a.createElement(Zn.a,{articleId:203457187},Le)}}):ln=gt.t("Due to your custom file retention policy, this file will be deleted after {duration}",{duration:Dt}),t.a.createElement("span",{id:"ariaId"},ln)}o(Wt,"ContextBarFileRetentionContent"),Wt.displayName="ContextBarFileRetentionContent";function Mt(Rt,vt){let{channelId:At}=vt;const Gt=Object(ga.a)(Rt,"file_retention_type")?Object(ga.a)(Rt,"file_retention_duration"):null,ln=Object(Xn.h)(Object(Ht.g)(Rt)),Dt=At?Object(ut.b)(Rt,"allow_box_cfs",At):Object(ut.d)(Rt,"allow_box_cfs");return{retentionDuration:Gt,teamName:ln,allowBoxCfsEnabled:!!Dt}}o(Mt,"context_bar_file_retention_content_mapStateToProps");var bt=Object(a.a)(Mt)(Wt),Nt=e("DnI3"),Pt=e("Ccc1");const nn=new z.b("messages");function rn(Rt){let{channelId:vt}=Rt;const At=Object(te.useDispatch)(),Gt=Object(u.c)(Nt.a),ln=Object(u.c)(Ce=>Object(P.d)(Ce,vt)),{shouldUseNavigate:Dt}=Object(n.useContext)(ze.a);if(!Gt)return null;const He=o(()=>{At(Dt?Object(Ge.a)(Object(Ze.M)(lt.a.OfflineOutbox)):Object(Ae.a)({id:"Poffline-outbox"}))},"navigateToOfflineOutbox"),Le=nn.rt("Your message will be sent to <strong>{channel}</strong> when you get back online.",{channel:t.a.createElement(Pt.a,{channel:ln})}),Qe=nn.rt("<a>See all messages in the offline outbox</a>",null,Ce=>{let{text:ye,tag:ie}=Ce;return ie==="a"?t.a.createElement(re.a,{onClick:He},t.a.createElement("strong",null,ye)):null});return t.a.createElement(t.a.Fragment,null,Le," ",Qe)}o(rn,"ContextBarOfflineOutboxContent"),rn.displayName="ContextBarOfflineOutboxContent";var mn=rn,vn=e("CaVW"),Xt=e("NfYe");const ht=new z.b("shared_workspaces"),It=o(Rt=>{let{channel:vt}=Rt;const At=Object(u.c)(Xt.a),Gt=Object(u.c)(Dt=>!!(vt&&Object(vn.a)(Dt,vt))),ln=Object(u.c)(Dt=>Object(k.Eb)(Dt,vt));return!At||!Gt||!ln?null:t.a.createElement("strong",null,ht.rt("This channel is part of {teamName}",{teamName:t.a.createElement(Ye.a,{id:ln,bold:!1}),fallbackHash:"b9e3b03ce10a59cd205cc1feb8cf846aca65adb7"}))},"ContextBarSlackConnectWorkspace");It.displayName="ContextBarSlackConnectWorkspace";var Ft=e("OtLZ"),Bt=e("Z0Cl"),en=e("qAkX"),On=e("dtwz"),yn=e("weu1");const Dn=o(Rt=>Object(Bt.a)(Rt,vt=>Object(O.L)(vt)),"getOooMpdmMembers"),En=o(Rt=>{const vt=Object(en.a)(Rt),At=Object(Ft.a)(Rt,vt);return Object(On.a)([Gt=>Object(Ft.a)(Gt,vt),Gt=>`${Object(yn.a)(Gt,", ")} and ${vt}`])(At)},"createOooMpdmTooltipString");var Vt=e("ssBs"),an=e("+tZp"),sn=e("feSS"),bn=e("3956");const jn=o(Rt=>{let{experimentPnpOooGroupOn:vt,memberId:At,linkText:Gt}=Rt;const ln=Object(te.useDispatch)(),Dt=Object(n.useCallback)(()=>{ln(Object(bn.a)({memberId:At}))},[ln,At]);return vt?t.a.createElement(re.a,{onClick:Dt},Gt):null},"OooProfileLink");jn.displayName="OooProfileLink";var Tn=jn,An=e("mX9+"),Vn=e("zmn3"),un=e("Tsh7");const Kn=o(Rt=>{let{text:vt,oooMpdmMembers:At}=Rt;const Gt=Object(u.d)(ln=>{const Dt=Object(An.a)(At,2),He=Object(Vn.a)(Dt,Le=>Object(an.a)(ln,Le));return He.length===2?Object(yn.a)(He," and "):He.length>2?En(He):Object(yn.a)(He,", ")});return t.a.createElement(un.d,{"aria-label":Gt,position:"top",tip:Gt},t.a.createElement(re.a,null,vt))},"OooMpdmTooltip");Kn.displayName="OooMpdmTooltip";var $n=Kn,da=e("JoAr");const fa=new z.b("rimeto_user_profile"),aa=o(Rt=>{let{experimentPnpOooGroupOn:vt,channel:At}=Rt;const Gt=Object(u.d)(nt=>{const st=Object(C.c)(nt),mt=Object(k.C)(At)||[],pt=Object(Ft.a)(mt,Object(O.m)(st));return Dn(Object(C.j)(nt,pt))}),[ln,Dt]=Gt,He=(Gt==null?void 0:Gt.length)===1?"true":"false",Le=(Gt==null?void 0:Gt.length)===2?"true":"false",Qe=(Gt==null?void 0:Gt.length)>2?"true":"false",Ce=Object(O.C)(ln),ye=Ce===Vt.a,{firstMemberName:ie,secondMemberName:Oe}=Object(u.d)(nt=>({firstMemberName:Object(an.a)(nt,ln),secondMemberName:Object(an.a)(nt,Dt)})),We=Object(n.useCallback)(nt=>{let{text:st}=nt;return t.a.createElement(Tn,{experimentPnpOooGroupOn:vt,memberId:Object(O.m)(ln),linkText:st})},[vt,ln]),ke=Object(n.useCallback)(nt=>{let{text:st}=nt;return t.a.createElement($n,{text:st,oooMpdmMembers:Gt})},[Gt]);return vt?Object(sn.a)({[He]:()=>ye?fa.rt("<strong>{firstMemberName}</strong> is currently <strong>out of office</strong>. They may not respond until they return. <Link>See more</Link>",{firstMemberName:ie,"<Link>":We}):fa.rt("<strong>{firstMemberName}</strong> is currently <strong>out of office until {oooReturnDate}</strong>. They may not respond until they return. <Link>See more</Link>",{firstMemberName:ie,oooReturnDate:Object(da.a)(Ce,"{out_of_office}",{shouldCapitalize:!1}),"<Link>":We}),[Le]:()=>fa.rt("<strong>{firstMemberName}</strong> and <strong>{secondMemberName}</strong> have their status set to <strong>out of office.</strong>",{firstMemberName:ie,secondMemberName:Oe}),[Qe]:()=>fa.rt("<strong>{firstTwoMemberNames}</strong> and <Link>{restOfOooMembersCount} others</Link> have their status set to <strong>out of office.</strong>",{"<Link>":ke,firstTwoMemberNames:`${ie}, ${Oe}`,restOfOooMembersCount:Gt.length-2})})(null)("true"):null},"OooMpdmMessage");aa.displayName="OooMpdmMessage";var ha=aa,Ia=e("8AeK");const Ba=new z.b("rimeto_user_profile"),ca=o(Rt=>{let{channel:vt}=Rt;const At=Object(u.c)(Ia.a),{dmMember:Gt,dmMemberName:ln}=Object(u.d)(ye=>{const ie=Object(C.g)(ye,Object(na.a)(vt));return{dmMember:ie,dmMemberName:Object(an.a)(ye,ie)}}),Dt=Object(N.g)(vt)&&!!Gt,He=Object(O.C)(Gt),Le=He===Vt.a,Qe=Object(n.useCallback)(ye=>{let{text:ie}=ye;return t.a.createElement(Tn,{experimentPnpOooGroupOn:At,memberId:Object(O.m)(Gt),linkText:ie})},[Gt,At]);if(!At||Object(b.a)(vt)||!Object(N.h)(vt))return null;const Ce=Le?Ba.rt("<strong>{dmMemberName}</strong> is currently <strong>out of office</strong>. They may not respond until they return. <Link>See more</Link>",{dmMemberName:ln,"<Link>":Qe}):Ba.rt("<strong>{dmMemberName}</strong> is currently <strong>out of office until {oooReturnDate}</strong>. They may not respond until they return. <Link>See more</Link>",{dmMemberName:ln,oooReturnDate:Object(da.a)(He,"{out_of_office}",{shouldCapitalize:!1}),"<Link>":Qe});return!Dt&&Object(N.i)(vt)?t.a.createElement(ha,{experimentPnpOooGroupOn:At,channel:vt}):Dt?Ce:null},"ContextBarOutOfOffice");ca.displayName="ContextBarOutOfOffice";var Aa=ca,Ma=e("IQp8"),ja=e("rZ8V");function Fa(Rt){let{onIsContextBarShowing:vt,channelId:At,memberIds:Gt,draftId:ln,viewContext:Dt,ariaId:He,contextBarType:Le,imMember:Qe,channel:Ce,connectedTeamIds:ye,setContextBarTimeZoneIsShowing:ie,unsetContextBarTimeZoneIsShowing:Oe}=Rt;const We=G({channelId:At,draftId:ln,viewContext:Dt}),ke=Object(u.c)(Zt=>Object(h.d)(Zt,"desktop_context_bar_yellow")==="on"),nt=Object(u.c)(ja.v),st=Object(u.c)(Zt=>Object(v.a)(Zt,"external_awareness_context_bar",At));j({imMember:Qe,channelId:At,setContextBarTimeZoneIsShowing:ie,unsetContextBarTimeZoneIsShowing:Oe,contextBarType:Le||""});const mt=(We==null?void 0:We.overrideType)||Le,pt=!!mt;if(Object(n.useEffect)(()=>{vt&&vt(pt)},[Le,vt,pt,At]),Object(n.useEffect)(()=>()=>{Oe({channelId:At||""})},[Oe,At]),!mt)return null;let Et=null;switch(mt){case m.c.profileOnlyUser:{Et=t.a.createElement(Te,{memberIds:We==null?void 0:We.mentionedPOUs,ariaId:He});break}case m.c.fileRetention:Et=t.a.createElement(bt,{channelId:At,ariaId:He});break;case m.c.govslackBanner:Et=t.a.createElement(ba,{ariaId:He,channel:Ce,memberIds:Gt});break;case m.c.migrating:Et=t.a.createElement(ee,{channel:Ce,ariaId:He});break;case m.c.shared:Et=t.a.createElement(hn,{ariaId:He,channel:Ce,memberIds:Gt,connectedTeamIds:ye});break;case m.c.slackConnectWorkspace:Et=t.a.createElement(It,{channel:Ce});break;case m.c.scheduledSend:Et=t.a.createElement(on,{channelId:At,draftId:ln,viewContext:Dt});break;case m.c.dnd:Et=t.a.createElement(Ue,{channelId:At,memberId:Qe==null?void 0:Qe.id,ariaId:He});break;case m.c.timeZone:Et=t.a.createElement(J,{member:Qe,ariaId:He});break;case m.c.offlineOutbox:Et=t.a.createElement(mn,{channelId:At});break;case m.c.outOfOffice:Et=t.a.createElement(Aa,{channel:Ce});break;default:Et=null}if(!Et)return null;const it=mt===m.c.shared,at=it&&nt,ft=o(()=>mt===m.c.slackConnectWorkspace?!0:Object(b.a)(Ce)&&ke,"shouldShowYellowContextBar"),yt=o(()=>{switch(st){case Ma.c.High:return"high_viz";default:return"default"}},"getRenderExternalAwarenessContextBarStyle"),Tt=Object(i.default)("p-context_bar_v2",{"p-context_bar_v2--teal":it&&!ke&&!nt,"p-context_bar_v2--yellow":ft(),[`p-context_bar_v2--campfire-${yt()}`]:at});return t.a.createElement("div",{className:Tt,"data-qa":"context_bar"},t.a.createElement(B,{type:mt,channel:Ce,memberIds:Gt}),t.a.createElement("div",{className:Object(i.default)("p-context_bar_v2__content",{[`p-context_bar_v2__content--${yt()}`]:at}),"data-qa":`context_bar_text_${mt}`},Et),t.a.createElement("div",{className:"p-context_bar_v2__filler"}))}o(Fa,"ContextBarV2"),Fa.displayName="ContextBarV2";const ta=o((Rt,vt)=>{let{channelId:At,draftId:Gt,memberIds:ln,viewContext:Dt,inputHasFiles:He}=vt;const{channel:Le,member:Qe,memberIds:Ce,modelObIds:ye}=Object(c.b)(Rt,{id:At,memberIds:ln});return{channelId:At,channel:Le,clogger:Object(f.a)({state:Rt}),contextBarType:Object(d.a)(Rt,At,Ce,{draftId:Gt,viewContext:Dt,inputHasFiles:He}),imMember:Qe||void 0,connectedTeamIds:Object(l.a)(Rt,ye)}},"context_bar_v2_mapStateToProps"),Pn=o(Rt=>({setContextBarTimeZoneIsShowing:vt=>Rt(Object(r.c)(vt)),unsetContextBarTimeZoneIsShowing:vt=>Rt(Object(r.e)(vt))}),"mapDispatchToProps");var dn=s.a=Object(a.a)(ta,Pn,null,{areStatePropsEqual:(Rt,vt)=>Object(p.a)(Rt,vt,2)})(Object(n.memo)(Fa))},SwbJ:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("Lgge"),t=e("SQ0V"),a=e("gPPH"),i=e("6Q+y"),c=e("O86Y"),r=e("7XZu"),f=e("bCCa");const l=Object(t.c)("Processes a file object, adds it to Redux, and uploads it",function(p,h){let{file:u,clientContextTeamId:b,traceTags:v,samplingOptions:d,hideBanner:m}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!u)return n.a.resolve();const g=Object(a.a)();u.id=g,p(Object(r.c)({files:[u]})),p(Object(f.a)({file:u}));const O=h(),E=Object(c.g)(O);p(Object(r.b)({pendingFileId:g,teamId:E}));const y=p(Object(i.a)({teamId:E,files:[u],shareData:{isEagerUpload:!0,clientContextTeamId:b},traceTags:v,samplingOptions:d,hideBanner:m}));return n.a.resolve({pendingFileId:g,uploadPromise:y})});l.meta={name:"createThunk",key:"createThunkaddAndUploadPendingFile",description:"Processes a file object, adds it to Redux, and uploads it"}},"T/b3":function(w,s,e){"use strict"},T00V:function(w,s,e){"use strict";var n=e("BHdc"),t=e("q1tI"),a=e.n(t),i=e("Cfcg"),c=e("n3tL"),r=e("Kmpi"),f=e("beVI"),l=e("G0eX"),p=e("e7up"),h=e("DR7d"),u=e("oTSI");const b=[230,132,102,88,68,44,34],v={className:c.default.string,invert:c.default.bool,id:c.default.string.isRequired,size:c.default.number.isRequired,team:c.default.object,allowTeamInitials:c.default.bool},d={className:void 0,invert:!1,team:void 0,allowTeamInitials:!0};function m(I){let{size:j,team:M}=I;const T=Object(l.m)(M);if(!T||T.image_default)return null;const D=j*2,S=Object(h.a)(D,b);return T[`image_${S}`]||[...Object.values(M.icon).filter(Boolean)].pop()}o(m,"getImage");function g(I){const j=Object(l.h)(I);return Object(l.p)(j,{limit:2})}o(g,"getInitials");const O=Object(u.a)((I,j)=>({backgroundImage:I&&`url(${I})`,fontSize:`${Math.round(j/1.8)}px`,height:j,lineHeight:`${j}px`,width:j}),(I,j)=>`${I}-${j}`);function E(I){let{className:j,id:M,invert:T,size:D,team:S,allowTeamInitials:A}=I;const P=Object(r.c)(S),N=Object(r.d)(S);if(P||N)return a.a.createElement(p.a,{className:Object(n.default)(j,"c-team_entity__icon"),isNonExistent:P,size:D,invert:T,"data-team-id":M});const G=m({size:D,team:S});if(!A&&!G)return null;const V=!G&&g(S);return a.a.createElement("span",{"aria-hidden":"true",className:Object(n.default)(j,"c-team_entity__icon",{"c-team_entity__icon--default":!G}),style:O(G,D),"data-team-id":M},V)}o(E,"TeamIcon"),E.displayName="TeamIcon",E.propTypes=v,E.defaultProps=d;const y={BaseTeamIcon:E},C=o((I,j)=>{const M=j.team||Object(f.s)(I,j.id);return{team:M,id:M.id}},"mapStateToProps");s.a=Object(i.a)(C)(E)},"T10+":function(w,s,e){w.exports=e.p+"share-workflow-2f598f5.png"},"T4G+":function(w,s,e){"use strict";e.d(s,"c",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"a",function(){return i});var n=e("bG/T");const t="Fn010N",a=n.b,i=30},"T5R/":function(w,s,e){"use strict";e.d(s,"b",function(){return h});var n=e("Lgge"),t=e("TSHB"),a=e("Z3Pq"),i=e("kBpe"),c=e("qiCS"),r=e("vfQU");let f;const l={substitutions:{},useSmartDashes:!1,useSmartQuotes:!1},p={substitutions:{},useSmartDashes:!0,useSmartQuotes:!0};s.a=function(){let{bustCache:b=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(f&&!b)return n.a.resolve(f);const v=Object(i.p)(),d=Object(i.i)(),m=Object(c.e)(window.location.href);return d&&!v||!d&&m.smart_quotes!=="1"?n.a.resolve(l):d?(f=p,Object(r.Qb)().then(g=>(f={...p,substitutions:{}},g&&(Object(i.j)("4.3.0")||(f.substitutions=Object(t.a)(Object(a.a)(g.substitutions,"replace"),"with")),f.useSmartDashes=g.useSmartDashes,f.useSmartQuotes=g.useSmartQuotes,!f.substitutions["--"]&&f.useSmartDashes&&(f.substitutions["--"]="\u2014")),f))):(f={...p,substitutions:{"--":"\u2014"}},n.a.resolve(f))};const h=o(()=>f,"getSystemTextPreferencesCache"),u={resetCache:()=>{f=void 0}}},T7Sj:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("SQ0V"),c=e("oY18"),r=e("g3a/");const f=new a.b("file"),l=Object(i.c)("Enqueue copy link success toast message",function(p,h){let{targetWindow:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return p(Object(c.a)({element:t.a.createElement(r.a,{icon:"check-large"},f.t("Link copied to clipboard")),targetWindow:u}))});l.meta={name:"createThunk",key:"createThunkenqueueCopyLinkSuccessToast",description:"Enqueue copy link success toast message"}},THWC:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("pu3F"),t=e("Kn+X"),a=e("MnWT");function i(c){return Object(a.b)(c).filter(l=>Object(t.z)(l)).length>=n.H}o(i,"hasMaxComposerDrafts")},THtN:function(w,s,e){"use strict";e.d(s,"a",function(){return C});var n=e("q1tI"),t=e.n(n),a=e("Lgge"),i=e("SQ0V"),c=e("ByMX"),r=e("Yauy"),f=e("Sl1j"),l=e("1czH"),p=e("nNoG"),h=e("rAyg");const u=new p.b("channel_member_limit");function b(){return t.a.createElement(h.a,null,u.t("You can\u2019t join this channel. Channel membership limit reached."))}o(b,"ChannelMemberLimitToast"),b.displayName="ChannelMemberLimitToast";var v=b,d=e("oY18"),m=e("E3dU"),g=e("p/ji"),O=e("48NQ"),E=e("B4kw");const y={},C=Object(i.c)("Join a channel",function(j,M){let{channelId:T,requestInBackground:D=!1,reason:S}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!T)return a.a.reject(new Error("No channel id given"));const A=M();if(Object(c.b)(A))return a.a.reject(new Error("Account is restricted"));const P=!1,N=Object(m.d)(A,T,P);if(!N){if(y[T])return a.a.reject(new Error("Already joining"));y[T]=!0}return(Object(g.h)(A)||Object(O.a)(A))&&Object(g.g)(A,T)&&j(Object(E.f)(T)),j(Object(f.C)({channelId:T,requestInBackground:D,reason:S})).tap(G=>{const k={channel:T,request_in_background:D};Object(l.c)(!0,G,k)}).catch(G=>{var V;(G==null||(V=G.data)===null||V===void 0?void 0:V.error)==="too_many_members"&&j(Object(d.a)({element:t.a.createElement(v)}));const k=!1,x={channel:T,request_in_background:D,name:Object(r.K)(N)};throw Object(l.c)(k,G.data,x),G}).finally(()=>{delete y[T]})});C.meta={name:"createThunk",key:"createThunkjoinConversationApi",description:"Join a channel"};const I={resetChannelJoinsInFlight:()=>{Object.keys(y).forEach(j=>{delete y[j]})}}},TIBL:function(w,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("d/xU"),c=e("F3oq"),r=e("fenk"),f=e("/0Xg"),l=e("mY0L");const p=o(y=>{let{children:C,guidelinesHelperProps:I}=y;const j=Object(l.a)(I);return t.a.createElement(t.a.Fragment,null,C(j))},"GuidelinesHelperWrapper");var h=e("ZobM"),u=e("Tevt"),b=e("WAPM"),v=e("hUMe"),d=e("vY0R"),m=e("8v4m");const g=new a.b("shared_channel_invites"),O=[],E=o(function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.d.Generic,{invite:C,fallbackCopy:I,acceptingTeam:j,acceptingUserName:M,connectInvite:T,alreadyConnectedWorkspaceName:D,guidelinesType:S,contentBlocks:A,onBack:P,onSignIn:N}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var G;let V=T==null||(G=T.channel)===null||G===void 0?void 0:G.name;!V&&Object(r.g)(C)&&(V=C.channel.name);const k=C?t.a.createElement(v.a,{team:Object(c.a)(C)}):"",x=S==="link",H=x||S==="content",R={type:"INVITE",dataQa:"web_accept_flow_cta",stepVariant:"web_accept_flow",modalHeaderSuffix:"instructions",showCopyButton:!0};var W;const U=(W=A==null?void 0:A[0].elements)!==null&&W!==void 0?W:O,_=t.a.createElement(b.a,{articleId:360003534892},t.a.createElement(h.a,{name:"help",inline:!0})," ",g.t("Who are my admins?"));switch(y){case r.a.InvalidLink:case r.c.InvalidLink:return{header:g.t("Unable to accept this Slack Connect invitation",{fallbackHash:"7da6ae968627994d80a2e1083c46e8569e6e0a8a"}),body:g.t("Slack Connect invitations are only active for 14 days. If it hasn\u2019t been 14 days, the invitation may have been cancelled by the sender.",{fallbackHash:"3f12bb7d5cb5784b78e235c98badf129d5748665"}),stepVariant:"no_longer_available"};case r.a.NotPaid:return{header:g.t("Ready to upgrade?"),body:g.rt("Shared channels are one of the many features you get with a Slack paid plan. To accept this invitation, <a> upgrade your account</a>.",null,B=>{let{text:z}=B;return t.a.createElement("a",{href:Object(f.v)({entryPoint:"shared_channel_error_ineligible"})},z)}),stepVariant:"ready_to_upgrade"};case r.b.UpgradeRequiredButUserCannot:return{header:g.t("Ask your team to upgrade your plan"),body:g.t("Slack Connect is a paid feature, so your team needs to upgrade in order for you to accept this invitation. Contact an admin for help."),stepVariant:"upgrade_required"};case r.a.RestrictedAction:return H?{header:g.t("Unable to accept Slack Connect invitations"),body:x?t.a.createElement(p,{guidelinesHelperProps:R},B=>{let{renderLink:z}=B;return t.a.createElement(t.a.Fragment,null,g.rt("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. Read the <link><strong>instructions they created</strong></link> for details.",{"<link>":z,fallbackHash:"fc7456b06b5de3e2ecbda7aa26c7abab4d526126"}))}):t.a.createElement(t.a.Fragment,null,g.t("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. Read the instructions they created for details.",{fallbackHash:"fc7456b06b5de3e2ecbda7aa26c7abab4d526126"}),t.a.createElement("div",{className:"p-error_messages_body__subtitle"},g.t("Instructions from your admin")),t.a.createElement(m.a,{elements:U,elementsAreCamelCased:!1})),stepVariant:"couldnt_accept_unauth"}:{header:g.t("Unable to accept Slack Connect invitations",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:g.t("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. You may want to ask an admin for help.",{fallbackHash:"eadecf49fe5258de5c02cf81ae141ed1d3dec5cd"}),helpLink:_,stepVariant:"couldnt_accept_unauth"};case r.b.UserIsRestricted:return{header:g.t("Unable to accept Slack Connect invitations",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:g.t("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. You may want to ask an admin for help.",{fallbackHash:"513bbc9abb6e75e969b9fd9ee56f6cca4b62fedf"}),helpLink:_,stepVariant:"couldnt_accept_guest"};case r.b.UserCannotCreateChannel:return{header:g.rt("Unable to accept Slack Connect invitations",{inviteUserName:C.inviting_user.profile.real_name,fallbackHash:"632d51b850af08b89615f4d58498275449dcfaf0"}),body:g.rt("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. You may want to ask an admin for help.",{inviteTeamName:t.a.createElement(v.a,{id:j.id}),fallbackHash:"be5f6206866d0d1288334fa7dae562e0a5eef5fc"}),helpLink:_,stepVariant:"couldnt_create_channel"};case r.c.OrgsSevered:return{header:g.t("Unable to accept this Slack Connect invitation",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:g.rt("An admin disconnected {acceptingTeamName} and {invitingTeamName} so this invitation can\u2019t be accepted anymore.",{invitingTeamName:t.a.createElement(v.a,{id:C.inviting_team.id}),acceptingTeamName:t.a.createElement(v.a,{id:j.id}),fallbackHash:"b8c063b689e35655dbc8d032cbe4df0e05f4b6db"})};case r.b.HasAlreadyConnectedToOrg:return M?{header:g.t("Invitation has already been accepted"),body:g.rt("<strong>{name}</strong> has already accepted this invitation. Reach out to them to add you to the channel. <learn-more-link>Learn more</learn-more-link>",{name:M},B=>{let{tag:z,text:L}=B;return z==="strong"?t.a.createElement("strong",null,L):z==="learn-more-link"?t.a.createElement(u.a,{href:`https://${Object(i.l)()}/help/articles/201980108-Add-people-to-a-channel`,target:"_blank"},L):L}),stepVariant:"already_connected"}:{header:g.t("Couldn\u2019t accept invitation"),body:g.t("Your organization is already sharing this channel."),stepVariant:"already_connected"};case r.b.IsPendingConnectedToOrg:return Object(r.g)(C)?{header:g.t("Waiting for an admin\u2019s approval"),body:g.rt("You\u2019ve already accepted this invitation to join <strong>#{channelName}</strong> \u2014 the channel just needs approval from one of your organization\u2019s admins. You\u2019ll be notified in Slack once the channel is connected. <learn-more-link>Learn more</learn-more-link>",{channelName:V},B=>{let{tag:z,text:L}=B;return z==="strong"?t.a.createElement("strong",null,L):z==="learn-more-link"?t.a.createElement(u.a,{href:`https://${Object(i.l)()}/help/articles/360049769934-Accept-an-invitation-to-share-a-channel-`,target:"_blank"},L):L}),stepVariant:"pending_connected"}:E(r.e.Generic);case r.a.ConnectionLimitExceeded:return{header:g.t("Couldn\u2019t accept invitation"),body:g.t("This channel has already been shared with the maximum number of organizations. You may want to reach out to the person who sent you this link for help.",{fallbackHash:"ef2c0d899ddf8df6dbece97317aec7f70b3176c6",fallbackHashNs:"setup_page"}),stepVariant:"connection_limit_exceeded"};case r.a.InvalidRecipientTeam:case r.c.InvalidRecipientTeam:case r.e.InvalidRecipientTeam:{const B={header:g.rt("Sign in to {orgName}",{orgName:k,fallbackHash:"8d886c0ba6f2b683daba5f19568a316226ce3e4c"}),body:g.rt("This invitation was sent to <strong>{emailAddress}</strong> so you need to sign in to {orgName} to accept it.",{orgName:k,emailAddress:C==null?void 0:C.recipient_email,fallbackHash:"cabf640a269de803a07f21f41986fe9857bc12f6"}),stepVariant:r.a.InvalidRecipientTeam};return N&&(B.callToAction={text:g.t("Sign In",{fallbackHash:"f8492cc1deac31fd73c80bbca9ae51f0def25837",fallbackHashNs:"find_team"}),action:N}),B}case r.e.InternalInviteNotMember:case r.e.InternalInviteNotMemberCanRequest:return Object(r.g)(C)?{header:g.t("You\u2019ll need to join this channel\u2019s workspace"),body:g.rt("Before you can join <strong>#{channelName}</strong>, you\u2019ll need to first be a part of its workspace, <strong>{workspaceName}</strong>. You may have to ask your organization\u2019s admin to add you to the workspace.",{channelName:V,workspaceName:D}),stepVariant:"couldnt_accept_not_workspace_member"}:E(r.e.Generic);case r.e.InternalInviteWasPreviouslyConnectedButNotMember:{const B={header:g.t("Couldn\u2019t accept invitation"),body:g.t("Looks like your team added this channel to a workspace that you don\u2019t have access to."),stepVariant:"couldnt_accept_previously_connected_to_different_workspace_and_not_workspace_member"};return P&&(B.callToAction={text:g.t("Back"),action:P}),B}case r.e.InternalInviteWasPreviouslyConnected:{const B={header:g.t("Change workspaces to accept this invitation",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:g.rt("This channel was originally added to {alreadyConnectedWorkspaceName}, so you\u2019ll need to accept this invitation there.",{alreadyConnectedWorkspaceName:D,fallbackHash:"0505cac52372bdcc58bb31e8618deb6949abad5c"}),stepVariant:"couldnt_accept_previously_connected_to_different_workspace"};return P&&(B.callToAction={text:g.t("Back"),action:P}),B}case r.e.InternalInviteNoAccess:return Object(r.g)(C)?{header:g.t("You\u2019ll need to ask to join this channel"),body:g.rt("<p>Someone tried to share this channel with you but it looks like there\u2019s a privacy setting that doesn\u2019t allow you to join this way.</p> <p>You\u2019ll need to ask to join <strong>#{channelName}</strong> from a member of the channel or your organization\u2019s admin.</p>",{channelName:V}),stepVariant:"couldnt_accept_private_channel_not_member"}:E(r.e.Generic);case r.b.LegacyConnectionInvalidOrg:return{header:g.t("Couldn\u2019t accept invitation"),body:g.rt("This invitation couldn\u2019t be accepted. You may want to reach out to {invitingUser} at {invitingOrg} for details.",{invitingUser:t.a.createElement("strong",null,C.inviting_user.profile.real_name),invitingOrg:t.a.createElement("strong",null,C.inviting_team.name)}),stepVariant:"legacy_connection_invalid_org"};case r.d.InviteInactive:return{header:g.t("Couldn\u2019t accept invitation",{fallbackHash:"12875ababd80f4f6417a5718eb4a8fca8badcff1"}),body:g.t("This invitation is no longer available. You may want to ask the person who invited you to resend it.",{fallbackHash:"6fb8ea413c2344d12c947c2cb805ebcedef045d9"}),stepVariant:r.d.InviteInactive};case r.d.InviteAlreadyUsed:return{header:g.t("Already accepted"),body:g.t("It looks like someone else has already accepted this invitation."),stepVariant:r.d.InviteAlreadyUsed};case r.d.InviteNotAllowed:return{header:g.t("Couldn\u2019t accept invitation"),body:g.t("We\u2019re sorry, but this invitation is no longer valid. "),stepVariant:r.d.InviteNotAllowed};case r.d.AcceptNotAllowed:return{header:g.t("Unauthorized to accept"),body:g.t("We\u2019re sorry, but you do not have permission to use Slack Connect Direct Message in your organization."),stepVariant:r.d.AcceptNotAllowed};case r.b.NotAllowedForGridWorkspace:return H?{header:g.t("Slack Connect isn\u2019t enabled for this workspace yet"),body:x?t.a.createElement(p,{guidelinesHelperProps:R},B=>{let{renderLink:z}=B;return t.a.createElement(t.a.Fragment,null,g.rt("Take a look at the <link>instructions from your admins</link> for details.",{"<link>":z}))}):t.a.createElement(t.a.Fragment,null,g.t("Take a look at the instructions from your admins for details."),t.a.createElement("div",{className:"p-error_messages_body__subtitle"},g.t("Instructions from your admin")),t.a.createElement(m.a,{elements:U,elementsAreCamelCased:!1})),stepVariant:"not_allowed"}:{header:g.rt("Slack Connect isn\u2019t enabled on {workspaceName}",{workspaceName:j.name}),body:g.t("Invitations to work with other companies can\u2019t be accepted from this workspace."),stepVariant:"not_allowed"};case r.b.EmailDoesNotMatch:return{header:g.rt("This invitation can only be accepted by {invitingUserEmail}",{invitingUserEmail:C==null?void 0:C.recipient_email,fallbackHash:"8d886c0ba6f2b683daba5f19568a316226ce3e4c"}),body:g.rt("If this was sent to the wrong email address, you can ask someone from <strong>{invitingTeamName}</strong> to resend the invitation. {externalLimitedLearnMoreLink}",{invitingTeamName:C==null?void 0:C.inviting_team.name,externalLimitedLearnMoreLink:Object(r.g)(C)&&(C!=null&&C.external_limited)?t.a.createElement(d.a,null):"",fallbackHash:"8d886c0ba6f2b683daba5f19568a316226ce3e4c"})};case r.b.UserRequiredToAcceptAsPrivateButCannot:return{header:g.rt("Contact an admin to join the channel",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:g.rt("<strong>{invitingTeamName}</strong> set this channel to private on your end \u2014 but your workspace settings don\u2019t let you create a private channel.  <learn-more-link>One of your admins</learn-more-link> can help sort this out.",{invitingTeamName:C==null?void 0:C.inviting_team.name,fallbackHash:"8d886c0ba6f2b683daba5f19568a316226ce3e4c"},B=>{let{tag:z,text:L}=B;return z==="strong"?t.a.createElement("strong",null,L):z==="learn-more-link"?t.a.createElement(u.a,{href:`https://${Object(i.l)()}/help/articles/360003534892-Browse-people-and-user-groups-in-Slack#find-owners-and-admins`,target:"_blank"},L):L})};default:return I||{header:g.t("Something went wrong"),body:g.rt("If the problem persists, please <a>drop us a line</a>",null,B=>{let{text:z}=B;return t.a.createElement("a",{href:`https://${Object(i.l)()}/help/requests/new`},z)}),stepVariant:"something_went_wrong"}}},"getCopyForError");E.displayName="getCopyForError"},TKl6:function(w,s,e){w.exports=e.p+"salesforce-logo-793406f.svg"},TVHa:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("4HNC"),i=e("sGXp"),c=e("sGZK");function r(f){const{className:l,"data-qa":p,file:h,id:u,isActive:b,isDisabled:v,detailType:d,secondaryContent:m,shouldShowHighlight:g=!0,shouldShowDetailText:O=!0,useNewChannelCanvasNaming:E=!1}=f,y=u||(h==null?void 0:h.id),C=Object(n.useMemo)(()=>y?t.a.createElement(c.a,{shouldShowHighlight:g,file:h,"data-id":y,"data-qa":p,"data-sk":"small_file_list_entity",id:y,detailType:d,shouldShowDetailText:O,useNewChannelCanvasNaming:E}):null,[p,d,h,y,O,g,E]);if(!y)return null;let I;return b?v?I=i.d.highlightDim:I=i.d.highlightDark:v&&(I=i.d.dim),t.a.createElement(a.a,{size:"small",style:I,className:l,primaryContent:C,secondaryContent:m})}o(r,"SmallFileListEntity"),r.displayName="SmallFileListEntity",s.a=r},"Te+D":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("DPHH"),i=e("BHdc"),c=e("nNoG");const r=new c.b("keyboard_keys"),f=o(l=>{let{isInline:p=!1,title:h,mainKey:u,modifier:b,modifiers:v,className:d,useSlimModifiers:m}=l,g;const O=t.a.createElement(a.a,{label:u,tooltip:!0}),E=Object(i.default)("c-keyboard_keys",{"c-keyboard_keys--inline":p,"c-keyboard_key__tooltip_text":!(b||v)},d),y=Object(i.default)("c-keyboard_keys--title",{"c-keyboard_keys--title-inline":p}),C=b?[b]:v;return C?g=t.a.createElement(t.a.Fragment,null,C.map(I=>t.a.createElement(a.a,{key:`${I}_key`,label:I,tooltip:!0,slim:m})),O):g=r.rt("Press {key}",{key:O}),t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:y},h),t.a.createElement("span",{className:E},g))},"KeyboardKeysTooltip");f.displayName="KeyboardKeysTooltip",s.a=f},TlwC:function(w,s,e){w.exports=e.p+"weekly-reminder-956d070.png"},Tmt4:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("SQ0V"),t=e("azkI"),a=e("0Wfr"),i=e("9Gfp"),c=e("T1zM");const r=Object(n.c)("A wrapper around setUserPrefByApi meant for setting frecency data",(u,b,v)=>{let{value:d}=v;u(Object(c.f)({pref:Object(i.m)(b())?"frecency_ent_jumper":"frecency_jumper",value:d}))});r.meta={name:"createThunk",key:"createThunksetFrecencyByApi",description:"A wrapper around setUserPrefByApi meant for setting frecency data"};const f=!1,l=Object(a.a)(r,6e4,f);var p=e("Vy29");const h=Object(n.c)("Update the frecency cache with the new recorded item, then save it to user prefs",(u,b,v)=>{let{id:d,text:m}=v;const g=b(),E={...Object(t.c)(g)},y=Object(t.l)(m),C=E[y];if(C&&!Object(t.k)(C))C.id===d?E[y]=Object(t.a)(C):E[y]=[C,Object(t.b)(d)];else if(C&&Object(t.k)(C)){let M=!1;for(let T=0;T<C.length;T+=1)if(C[T].id===d){E[y]=[...C],E[y][T]=Object(t.a)(E[y][T]),M=!0;break}M||(E[y]=[...C,Object(t.b)(d)])}else E[y]=Object(t.b)(d);const I=E[d];if(I&&Object(t.k)(I))for(let M=0;M<I.length;M+=1)I[M].id===d&&(E[d][M]=Object(t.a)(I[M]));else I&&!Object(t.k)(I)?E[d]=Object(t.a)(I):(E[d]=Object(t.b)(d),E[d]._reduced=!0);const j=JSON.stringify(E);u(Object(p.b)({pref:Object(t.d)(g),value:j})),u(l({value:j}))});h.meta={name:"createThunk",key:"createThunkrecordFrecencyEvent",description:"Update the frecency cache with the new recorded item, then save it to user prefs"}},U31a:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),i=e("4YJR"),c=e("T1zM"),r=e("7DVt"),f=e("kNzh");const l=Object(a.c)("Save last shown timestamp for an progressive disclosure tip",function(){var p=Object(n.coroutine)(function*(h,u,b){let{tip:v,organicUse:d}=b;var m;const g=u();if(Object(r.c)(g,v))return;const E=Object(f.b)(g),y={...E||{},tips:{...E.tips||{},[v]:{...((m=E.tips)===null||m===void 0?void 0:m[v])||{},ts:Date.now(),organicUse:d}}};let C="";try{C=JSON.stringify(y)}catch{}h(Object(i.t)(!0)),yield h(Object(c.f)({pref:f.a,value:C})),h(Object(i.t)(!1))});return function(h,u,b){return p.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunksetProgressiveDisclosureTipLastShown",description:"Save last shown timestamp for an progressive disclosure tip"}},UL37:function(w,s,e){"use strict";var n=e("2VFn");const t={WORKSPACE_SWITCHER_TAB_LIST:0,PRIMARY_WORKSPACE_ACTIONS:1,SECONDARY_WORKSPACE_ACTIONS:2,WORKSPACE_NAVIGATION:3,PRIMARY_VIEW:4,SECONDARY_VIEW:5,TOP_NAV:0,WORKSPACE_SWITCHER:1,WORKSPACE_SWITCHER_RAIL:2,WORKSPACE_TAB_RAIL:3,CONTROL_STRIP:7,HUDDLE_WORKSPACE:8,[n.h.Sidebar]:4,[n.h.Primary]:5,[n.h.Secondary]:6,[n.h.Modal]:-1,[n.h.Tile]:-1,[n.h.Peek]:-1};s.a=t},UZO2:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("E3dU"),t=e("xwCZ"),a=e("IYwZ"),i=e("gVOt"),c=e("C3vN"),r=e("E97Y");function f(l,p){const h=Object(n.d)(l,p.channelId);if(Object(r.g)(h)){const b=Object(i.a)(h),v=Object(t.g)(l,b);if(Object(c.bb)(v)||Object(c.jb)(v)||Object(c.T)(v))return!1;if(b&&Object(a.b)(l,b))return!0}const u=p.memberIds||[];if(!h&&u.length&&u.length===1){const b=u[0],v=Object(t.g)(l,b);if(Object(c.bb)(v)||Object(c.jb)(v)||Object(c.T)(v))return!1;if(Object(a.b)(l,b))return!0}return!1}o(f,"shouldDisplayDndDMBanner")},Ubdx:function(w,s,e){"use strict";e.d(s,"d",function(){return f}),e.d(s,"a",function(){return l}),e.d(s,"c",function(){return p}),e.d(s,"b",function(){return h}),e.d(s,"e",function(){return u});var n=e("nSuI"),t=e("SQ0V"),a=e("bi++"),i=e("XIp8"),c=e("Muja"),r=e("wXOV");const f=Object(t.c)("Update quip presence info",(d,m,g)=>{let{docId:O,editors:E}=g;const y=b(O,m());d(a.d({docId:O,editors:E})),v(O,y,m())});f.meta={name:"createThunk",key:"createThunkupdatePresenceEditingInfo",description:"Update quip presence info"};const l=Object(t.c)("Add viewers to quip presence",(d,m,g)=>{let{docId:O,viewers:E}=g;const y=b(O,m());d(a.a({docId:O,viewers:E})),v(O,y,m())});l.meta={name:"createThunk",key:"createThunkaddViewingPresence",description:"Add viewers to quip presence"};const p=Object(t.c)("Remove viewers from quip presence",(d,m,g)=>{let{docId:O,removedViewers:E}=g;const y=b(O,m());d(a.c({docId:O,removedViewers:E})),v(O,y,m())});p.meta={name:"createThunk",key:"createThunkremoveViewingPresence",description:"Remove viewers from quip presence"};const h=Object(t.c)("Remove all viewers from quip presence",(d,m,g)=>{let{docId:O}=g;var E,y,C,I;const j=(I=(E=m())===null||E===void 0||(y=E.quipPresence)===null||y===void 0||(C=y[O])===null||C===void 0?void 0:C.presenceInfo)!==null&&I!==void 0?I:{};d(a.b({docId:O})),v(O,j,m())});h.meta={name:"createThunk",key:"createThunkclearPresence",description:"Remove all viewers from quip presence"};const u=Object(t.c)("Update isViewing for viewers who are/are not pinging",(d,m,g)=>{let{docId:O,viewers:E}=g;const y=b(O,m());d(a.e({docId:O,viewers:E})),v(O,y,m())});u.meta={name:"createThunk",key:"createThunkupdateViewingPresence",description:"Update isViewing for viewers who are/are not pinging"};function b(d,m){var g,O,E;return Object(i.a)((E=m==null||(g=m.quipPresence)===null||g===void 0||(O=g[d])===null||O===void 0?void 0:O.presenceInfo)!==null&&E!==void 0?E:{})}o(b,"recordPresence");function v(d,m,g){var O,E;const y=Object(r.a)(g,d,!1);var C;const I=(C=g==null||(O=g.quipPresence)===null||O===void 0||(E=O[d])===null||E===void 0?void 0:E.presenceInfo)!==null&&C!==void 0?C:{};if(y&&!Object(c.a)(m,I)){var j;const M=Object.keys(I).map(T=>({slackUserId:T,isWriting:I[T].isEditing}));(j=n.b.get(g))===null||j===void 0||j.onPresenceUpdated([{threadId:y,presenceUsers:M}])}}o(v,"updateByDocId")},Ubqm:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return i});var n=e("ZKjC");const t=Object(n.b)((c,r)=>{const{quipEphemeralMessages:f}=c;return f&&f.originalMsgToEphemeralMsgs[r]});t.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesForOriginalMessage",description:(c,r)=>{const{quipEphemeralMessages:f}=c;return f&&f.originalMsgToEphemeralMsgs[r]}};const a=Object(n.b)((c,r)=>{const{quipEphemeralMessages:f}=c,l=f&&f.originalMsgToEphemeralMsgs[r];return l&&l.length&&l[0]});a.meta={name:"createSelector",key:"createSelectorgetFirstEphemeralMessageForOriginalMessage",description:(c,r)=>{const{quipEphemeralMessages:f}=c,l=f&&f.originalMsgToEphemeralMsgs[r];return l&&l.length&&l[0]}};const i=Object(n.b)((c,r)=>{const{quipEphemeralMessages:f}=c;return!!(f!=null&&f.ephemeralMsgToOriginalMsg[r])});i.meta={name:"createSelector",key:"createSelectorisEphemeralMessageAvailable",description:(c,r)=>{const{quipEphemeralMessages:f}=c;return!!(f!=null&&f.ephemeralMsgToOriginalMsg[r])}}},Uddq:function(w,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("Lgge"),i=e("n3tL"),c=e("h9dl"),r=e("E3dU"),f=e("SQ0V"),l=e("Yauy");const p=Object(f.c)("Get relevant channel data for sharing",function(){var h=Object(n.coroutine)(function*(u,b){let{channelOrMemberId:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const d=b(),m=yield u(Object(c.a)({channelOrMemberId:v})),g=Object(r.d)(d,m),O=Object(l.Fb)(d,g);return a.a.resolve({channelId:m,channelTeamId:O})});return function(u,b){return h.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkgetTargetChannel",description:"Get relevant channel data for sharing"},p.propTypes={channelOrMemberId:i.default.string},s.a=p},Ueyg:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("4HNC"),c=e("sGXp"),r=e("3RZE"),f=e("JfyJ");function l(){return l=Object.assign||function(u){for(var b=1;b<arguments.length;b++){var v=arguments[b];for(var d in v)Object.prototype.hasOwnProperty.call(v,d)&&(u[d]=v[d])}return u},l.apply(this,arguments)}o(l,"_extends");function p(u,b,v){let d;return u?b||v?d=c.d.highlightDim:d=c.d.highlightDark:(b||v)&&(d=c.d.dim),d}o(p,"getBaseStyle");function h(u){const{className:b,isActive:v,isDeactivated:d,isDisabled:m,secondaryContent:g}=u,O=Object(n.useMemo)(()=>t.a.createElement(r.a,l({invert:p(v,m,d)===c.d.highlightDark},u)),[v,d,m,u]),E=p(v,m,d);return t.a.createElement(i.a,{className:Object(a.default)("c-small_user_group_list_entity",b),style:E,primaryContent:O,secondaryContent:g,size:"small"})}o(h,"SmallUserGroupListEntity"),h.displayName="SmallUserGroupListEntity",s.a=h},"Ufy+":function(w,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("q1tI"),t=e.n(n),a=e("GzZI"),i=e("nNoG"),c=e("BHdc"),r=e("khnw"),f=e("U3SE"),l=e("A6se");function p(){return p=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(d[O]=g[O])}return d},p.apply(this,arguments)}o(p,"_extends");let h=o(class extends n.Component{render(){const{isDisabled:m,isInvalid:g=!1,ariaDescribedBy:O,className:E}=this.props;return t.a.createElement("div",{className:Object(c.default)("split_input_item",E,{focused:this.props.hasFocus})},t.a.createElement("input",{ref:this.props.refToForward,type:"text",value:this.props.value,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":O,disabled:m,"aria-disabled":m,"aria-invalid":g}))}constructor(...m){super(...m),this.onKeyDown=g=>{switch(g.keyCode){case r.a:{g.currentTarget.value||this.props.moveLeft();return}case r.k:return g.preventDefault(),this.props.moveLeft();case r.o:return g.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=g=>{const{isNumbersOnly:O}=this.props;(O?!Object(l.a)(g.which):!Object(l.b)(g.which))&&g.charCode&&!Object(f.a)(g)&&g.preventDefault()},this.onChange=g=>{const O=g.target.value,{isNumbersOnly:E}=this.props;((E?/^[0-9]$/:/^[a-zA-Z0-9]$/).test(O)||O==="")&&this.props.onChange(O.toUpperCase())},this.onPaste=g=>{g.preventDefault();const{isNumbersOnly:O}=this.props,E=window.clipboardData||g.clipboardData,y=E.getData("text")||E.getData("text/plain"),C=O?/\D/g:/[^a-zA-Z0-9]/g,I=y.replace(C,"");this.props.onPaste(I)}}},"CodeInput");h.displayName="CodeInput";var u=t.a.forwardRef((d,m)=>t.a.createElement(h,p({},d,{refToForward:m})));const b=new i.b("team_creation");let v=o(class extends n.Component{focusInput(m){const g=this.inputRefs[m];g&&g.current&&g.current.focus()}moveLeft(m){m<=0||this.focusInput(m-1)}moveRight(m){m>=this.state.values.length-1||this.focusInput(m+1)}isComplete(m){return!m.some(g=>!g)}clear(){this.setState(m=>({values:m.values.map(()=>"")})),this.focusInput(0)}onChange(m,g){const O=this.state.values.slice();O[m]=g,this.setState(()=>({values:O}),()=>{g&&!this.isComplete(this.state.values)&&this.moveRight(m)})}componentDidUpdate(m,g){if(!this.isComplete(g.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&g.values.join("")!==this.state.values.join("")){const O=this.state.values.join("");this.props.onFillCode(O)}else g.values.join(",")!==this.state.values.join(",")&&this.props.onChange();m.isDisabled!==this.props.isDisabled&&this.focusInput(0)}componentDidMount(){this.focusInput(0)}renderInputs(m,g){const{isDisabled:O,isNumbersOnly:E=!0,isInvalid:y=!1,ariaDescribedBy:C,govSlackTheme:I=!1}=this.props;return this.state.values.slice(m,g).map((j,M)=>{const T=M+m;return t.a.createElement(u,{isNumbersOnly:E,key:T,ref:this.inputRefs[T],moveLeft:()=>this.moveLeft(T),moveRight:()=>this.moveRight(T),onChange:D=>this.onChange(T,D),onPaste:this.onPaste,onFocus:()=>this.setState(()=>({focusedInputIndex:T})),onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===T,value:this.state.values[T],ariaLabel:b.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:T+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:C,isInvalid:y,isDisabled:O,className:I?"split_input_item--gov_slack":""})})}render(){return t.a.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input","data-state":this.props.isCheckError?"error":""},t.a.createElement("div",{className:"display_flex"},this.renderInputs(0,3)),t.a.createElement("div",{className:"confirmation_code_span_cell margin_50"},"\u2014"),t.a.createElement("div",{className:"display_flex"},this.renderInputs(3,6)))}constructor(m){super(m),this.onPaste=g=>{const O=this.state.focusedInputIndex;if(O===-1)return;const E=this.state.values.length-O,y=g.substring(0,E).split(""),C=this.state.values.slice();y.forEach((I,j)=>{const M=j+O;C[M]=I}),this.setState(()=>({values:C}),()=>{this.focusInput(Math.min(this.state.values.length-1,O+y.length))})},this.state={values:Object(a.a)(6,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.a.createRef())}},"SplitInput");v.displayName="SplitInput",v.defaultProps={isNumbersOnly:!0}},Unj8:function(w,s,e){w.exports=e.p+"connection-dark-6211e2b.svg"},UrBK:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n={ReactionAdded:"slack#/events/reaction_added",UserJoinedChannel:"slack#/events/user_joined_channel",ListRecordCreated:"slack#/events/list_record_created",ListRecordUpdated:"slack#/events/list_record_updated",ChannelCreated:"slack#/events/channel_created"}},Uuto:function(w,s,e){"use strict";e.d(s,"a",function(){return p});var n=e("9Gfp"),t=e("QLhP"),a=e("xwCZ"),i=e("P9LH"),c=e("+tZp"),r=e("Nnn3"),f=e("nNoG");const l=new f.b("file");function p(h,u){if(!u)return"";const{userId:b,botId:v}=Object(i.G)(u),d=b?Object(a.g)(h,b):null,m=d?Object(r.a)(h,d):null,g=v||m;if(g){const O=Object(t.b)(h,g);if(O&&O.name)return O.name}if(d){const O=Object(c.a)(h,d);return b===Object(n.a)(h)?l.rt("{name} (you)",{name:O,fallbackHash:"26d4d69c81b9ea155418f35cc46db79fdbb5e28b",fallbackHashNs:"channel_sidebar"}):O}return u.username||""}o(p,"getFileOwner")},V6Oe:function(w,s,e){"use strict";var n=e("Vfgr"),t=e("ifKl"),a=e("q1tI"),i=e.n(a),c=e("Cfcg"),r=e("P9LH"),f=e("JvzI"),l=e("nNoG"),p=e("pu3F"),h=e("kBpe"),u=e("qDEp"),b=e("YUBf"),v=e("LSTB"),d=e("SpS+"),m=e("1yr/");function g(){return g=Object.assign||function(j){for(var M=1;M<arguments.length;M++){var T=arguments[M];for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&(j[D]=T[D])}return j},g.apply(this,arguments)}o(g,"_extends");const O=new l.b("file-details");function E(j,M){return Object.keys(j).reduce((T,D)=>{const S=M({locale:Object(f.a)(),text:j[D]});return{...T,[D]:Object(n.a)(S)}},{})}o(E,"convertFieldValues");const y=o(j=>{let{closeModal:M=t.a,convertEmojiInStringToCanonicalThunk:T=t.a,convertEmojiInStringToLocalizedThunk:D=t.a,experimentA11yAltTextGroupOn:S=!1,fields:A,handleEdit:P=t.a,initialValues:N={title:""}}=j;const G=E(N,D),V=Object(d.c)({title:[d.g,Object(d.d)(p.z)]});let k,x,H;S?(k=O.t("File details"),x=O.t("File name"),H=O.t("big-sur-trip-aerial.png")):(k=O.t("Rename file"),x="",H=O.t("File name"));const R=O.t("Save Changes"),W=O.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"}),U="edit-file-dialog-title";return i.a.createElement(b.b,{labelledby:U,className:"p-edit_file_dialog",overlayClassName:"p-file_viewer__modal_overlay"},i.a.createElement(b.i,null,i.a.createElement(b.l,{id:U,title:k})),i.a.createElement(v.a,{initialValues:G,validate:V,validateOnMount:!0,onSubmit:_=>{P(E(_,T)),M()}},_=>{let{errors:B,isSubmitting:z,values:L}=_;return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.d,null,i.a.createElement(b.e,null,i.a.createElement(m.a,g({focusOnMount:!0,validateOnBlur:!0,id:"title",name:"title",labelText:x},(!Object(h.p)()||!L.title)&&{placeholder:H})),A==null?void 0:A({values:L}))),i.a.createElement(b.g,null,i.a.createElement(b.h,null,i.a.createElement(b.c,{type:"outline"},W),i.a.createElement(u.f,{htmlType:"submit","aria-disabled":z||Object.keys(B).length>0},R))))}))},"BaseEditFileDialog");y.displayName="BaseEditFileDialog";const C=o(j=>({experimentA11yAltTextGroupOn:Object(r.a)(j)}),"mapStateToProps");var I=s.a=Object(c.a)(C)(y)},VJ6u:function(w,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("mM05"),t=e.n(n),a=e("zmn3"),i=e("0VPD"),c=e("TSHB"),r=e("Z3Pq"),f=e("IOc2"),l=e("fR2/"),p=e("tfz1"),h=e("TQ9f"),u=e("htTJ"),b=e("k2bd"),v=e("gSGL"),d=e("wBgp");function m(y){var C,I,j,M;if(!Object(b.a)(y)||Object(v.a)(y.insert))return!1;if((y==null||(C=y.insert)===null||C===void 0||(I=C.workflowtoken)===null||I===void 0?void 0:I.type)===d.h)return!0;if((y==null||(j=y.insert)===null||j===void 0||(M=j.workflowtoken)===null||M===void 0?void 0:M.type)===d.i){var T,D,S,A;return(y==null||(T=y.insert)===null||T===void 0||(D=T.workflowtoken)===null||D===void 0?void 0:D.property)===d.a||(y==null||(S=y.insert)===null||S===void 0||(A=S.workflowtoken)===null||A===void 0?void 0:A.property)===d.b}return!1}o(m,"isOpWorkflowTokenForText");var g=e("5SjC"),O=e("3yyz");function E(y){let{removeEmbedsFromCode:C=!0,stripAllInlineFormatting:I=!1,stripInlineFormattingFromCodeBlock:j=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return new t.a;const M=new t.a;return Object(g.a)(y,(T,D)=>{const S=Object(O.a)(T),A=Object(f.a)(T)||Object(p.a)(D);if(C&&A||I){let P={...T.attributes};if(Object(p.a)(D)&&(P={}),Object(h.a)(T)){M.delete(1).insert(Object(h.c)(T),{...P});return}if(Object(l.a)(T)){delete P.slackmention,M.delete(Object(l.c)(T).length).insert(Object(l.c)(T),{...P});return}if(Object(u.a)(T)){delete P.link,M.delete(Object(u.b)(T).length).insert(Object(u.b)(T),{...P});return}if(Object(b.a)(T)&&!m(T)){M.delete(1);return}}if(Object(p.a)(D)&&j||I){const P=["bold","italic","strike","code","underline","slackmention","unlink"],N=Object(a.a)(T.attributes||{},(V,k)=>({key:k,value:V})).filter(V=>!!V.value).map(V=>V.key),G=Object(i.a)(P,N);M.retain(S,Object(c.a)(Object(r.a)(G,V=>V),()=>!1));return}S&&M.retain(S)}),M}o(E,"stripFormattingFromDelta")},VKiV:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),i=e("ZrLl"),c=e("KPXh"),r=e("/MKj"),f=e("zxER"),l=e("+kJ4"),p=e("VDNX"),h=e("AEEY"),u=e("zKrX"),b=e("YyjR"),v=e("DWmQ"),d=e("9org"),m=e("SSy4"),g=e("CD4m"),O=e("3V+Q"),E=e("qDEp"),y=e("F0YV"),C=e("ZobM"),I=e("PIYn"),j=e("beVI"),M=e("G0eX"),T=e("NX5n"),D=e("1XAj"),S=e("x3ts"),A=e("O86Y"),P=e("4qCO"),N=e("nNoG");const G=new N.b("shortcuts_speedbump"),V="shortcuts_workspace_picker_speedbump";function k(L,$){const Q=Object(M.h)(L),K=Object(M.h)($);return Object(P.a)(Q,K)}o(k,"teamSorter");function x(L){let{teamIds:$,onConfirm:Q,command:K,isSlashCommand:Z}=L;const ne=Object(r.useDispatch)(),F=Object(f.c)(T.a),J=Object(f.c)($e=>Object(j.t)($e,$)),X=Object(n.useMemo)(()=>[...J].sort(k),[J]);let Y=X[0].id;const ae=Object(f.c)(S.d),ee=Object(f.c)(A.c);ae&&$.find($e=>$e===ae)?Y=ae:ee&&$.find($e=>$e===ee)&&(Y=ee);const[q,te]=Object(n.useState)(Y),de=Object(n.useCallback)($e=>{te($e)},[]),se=Object(n.useCallback)(()=>{ne(Object(D.d)(q)),Q(q),ne(Object(l.a)({closeNamed:[V]}))},[ne,Q,q]),re=J.find($e=>{let{id:Ke}=$e;return Ke===q}),oe=Object(M.h)(re),ce=Object(n.useMemo)(()=>t.a.createElement("b",null,oe),[oe]),ue=Object(n.useCallback)($e=>{let{className:Ke}=$e;return t.a.createElement("div",{className:Ke},t.a.createElement(y.b,{id:q,size:24,showTooltip:!0,className:"nudge_top_2"}))},[q]),Pe=Z?{label:F?G.t("Select workspace to run slash command"):"",confirm:F?G.t("Run Slash Command"):""}:{label:F?G.t("Select workspace to run shortcut"):"",confirm:F?G.t("Run Shortcut"):""},Ye=t.a.createElement(O.b,{htmlFor:"shortcut_workspace_picker",text:Pe.label},t.a.createElement(m.a,{teamsList:X,handleTeamSelected:de,selectedTeamId:q,position:"bottom-left"},t.a.createElement(E.f,{id:"shortcut_workspace_picker",className:"full_width justify_content_between",type:"outline"},t.a.createElement(g.d,{avatar:ue,size:"medium",text:ce}),t.a.createElement(C.a,{name:"caret-down",inline:!0}))));return t.a.createElement(p.a,null,t.a.createElement(h.a,null,t.a.createElement(d.a,null,t.a.createElement("div",{className:"padding_top_150 padding_bottom_150"},t.a.createElement(I.a,{className:"p-slash_commands_autocomplete_menu__item",command:K,isActive:!1})),Ye)),t.a.createElement(u.a,null,t.a.createElement(b.a,null,t.a.createElement(v.a,{type:"outline"},F?G.t("Cancel"):""),t.a.createElement(E.f,{onClick:se},Pe.confirm))))}o(x,"ShortcutsWorkspacePickerSpeedbump"),x.displayName="ShortcutsWorkspacePickerSpeedbump";var H=x,R=e("3l96"),W=e("Lgge"),U=e("bqbz"),_=e("VqrZ");const B=Object(a.c)("Handle action calls, clogs, and frecency for shortcuts menu item clicks",(L,$,Q)=>{let{action:K,channelId:Z,onConfirm:ne,isSlashCommand:F=!1}=Q;const J=$();if(!Object(T.a)(J))return ne();const X=F?Object(c.h)(J,K,Z):Object(i.b)(J,K,Z),Y=Object(U.A)(J),ae=(Y==null?void 0:Y.type)===_.b.Workspace?Y.workspace.id:void 0;return ae&&X.includes(ae)?ne(ae):X.length>1?(L(Object(R.a)({element:t.a.createElement(H,{teamIds:X,onConfirm:ne,command:K,isSlashCommand:F}),name:V})),W.a.resolve()):X.length===1?ne(X[0]):ne()});B.meta={name:"createThunk",key:"createThunkmaybeShowShortcutsWorkspacePickerSpeedbump",description:"Handle action calls, clogs, and frecency for shortcuts menu item clicks"};var z=s.a=B},"VO/D":function(w,s,e){"use strict";var n=e("vJtL"),t=e("qAkX"),a=e("fujP"),i=e("gSGL"),c=e("NZ+B"),r=e("Muja"),f=e("yIs4"),l=e("ifKl"),p=e("WIr4"),h=e("q1tI"),u=e.n(h),b=e("wSSu"),v=e.n(b),d=e("BHdc"),m=e("Cfcg"),g=e("Lgge"),O=e("/MKj"),E=e("U27P"),y=e("lhZz");function C(Ht,ut,gt){if(!Ht)throw new Error('mountTextyPlaceholder missing required "teamId" parameter');if(!ut)return;const Wt=Object(y.getStoreInstanceByTeamId)(Ht);Object(E.a)(u.a.createElement(O.Provider,{store:Wt},gt),ut)}o(C,"mountTextyPlaceholder"),C.displayName="mountTextyPlaceholder";function I(Ht){Ht&&v.a.unmountComponentAtNode(Ht)}o(I,"unmountTextyPlaceholder");var j=e("s4P+"),M=e("pu3F"),T=e("LpvA"),D=e("5/Zs"),S=e("7INw"),A=e("Wya+"),P=e("VO0X"),N=e("BU52"),G=e("tcEy"),V=e("Xx2o"),k=e("RVJP"),x=e("O86Y"),H=e("JoR1"),R=e("JnIm"),W=e("yrot"),U=e("1sW9"),_=e("pWPO"),B=e("OF9j"),z=e("FZE2"),L=e("jlKB"),$=e("W29z"),Q=e("BJra"),K=e("T5R/"),Z=e("stxl"),ne=e("3l96"),F=e("HOkk"),J=e("nNoG"),X=e("hrWC"),Y=e("/uJc"),ae=e("vVwU"),ee=e("n3tL"),q=e("SQ0V"),te=e("oY18"),de=e("T1zM"),se=e("KwZw"),re=e("g3a/"),oe=e("6R8Z"),ce=e("Pw4T");const ue=new J.b("markdown_paste_toast");var Pe;(function(Ht){Ht[Ht.DONT_SHOW=-1]="DONT_SHOW",Ht[Ht.UNSEEN=0]="UNSEEN",Ht[Ht.SEEN=1]="SEEN"})(Pe||(Pe={}));let Ye=o(class extends h.Component{onApplyFormattingClick(){this.props.telemeter.count("wysiwyg_markdown_paste_toast_apply"),this.props.hasSeenToastValue===Pe.UNSEEN&&this.props.setUserPrefByApi({pref:"seen_markdown_paste_toast",value:Pe.SEEN}),this.props.dismissCurrentToast(),this.props.applyFormatting()}onDontShowClick(){this.props.telemeter.count("wysiwyg_markdown_paste_toast_dont_show"),this.props.setUserPrefByApi({pref:"seen_markdown_paste_toast",value:Pe.DONT_SHOW}),this.props.dismissCurrentToast()}renderContent(){const ut=u.a.createElement(oe.a,{className:"underline",onClick:this.onDontShowClick},ue.t("Don\u2019t ask again"));if(this.props.hasSeenToastValue===Pe.UNSEEN){const Mt=u.a.createElement(oe.a,{className:"underline",onClick:this.onApplyFormattingClick},ue.t("Apply formatting")),Xe=ue.t("Looks like your content contains markdown.");return u.a.createElement("div",null,Xe,u.a.createElement("br",null),Mt," ",ut)}const gt=u.a.createElement(oe.a,{className:"underline",onClick:this.onApplyFormattingClick},ue.t("Apply")),Wt=ue.t("Apply formatting?");return u.a.createElement("div",null,Wt," ",gt," ",ut)}render(){if(this.props.hasSeenToastValue===Pe.DONT_SHOW)return null;this.props.telemeter.count("wysiwyg_markdown_paste_toast_shown");const ut=this.renderContent();return u.a.createElement(re.a,{duration:1e3*10},u.a.createElement("div",null,ut))}constructor(ut){super(ut),Object(p.a)(this,["onApplyFormattingClick","onDontShowClick"])}},"MarkdownPasteToast");Ye.displayName="MarkdownPasteToast",Ye.defaultProps={hasSeenToastValue:Pe.DONT_SHOW};var $e=Object(m.a)(Ht=>({telemeter:Object(ce.d)({state:Ht}),hasSeenToastValue:Object(H.t)(Ht,"seen_markdown_paste_toast")}),{dismissCurrentToast:()=>Object(se.a)(),setUserPrefByApi:Ht=>{let{pref:ut,value:gt}=Ht;return Object(de.f)({pref:ut,value:gt})}})(Ye),Ke=e("kBpe"),qe=e("rAyg");const ct=new J.b("markdown_paste_toast");let Be=o(class extends h.Component{render(){this.props.telemeter.count("wysiwyg_markdown_paste_shortcut_toast_shown");const ut=ct.rt("You can do this any time with <span>Ctrl Shift F</span>"),gt=ct.rt("You can do this any time with <span>\u2318 Shift F</span>");return u.a.createElement(qe.a,{fadeDelay:1e3*5},u.a.createElement("div",null,Object(Ke.p)()?gt:ut))}},"MarkdownPasteShortcutToast");Be.displayName="MarkdownPasteShortcutToast";var pe=Object(m.a)(Ht=>({telemeter:Object(ce.d)({state:Ht})}))(Be);const fe=Object(q.c)("Show markdown paste toast",(Ht,ut,gt)=>{let{applyFormatting:Wt}=gt;const Mt=ut();return Ht(Object(te.a)({element:u.a.createElement($e,{applyFormatting:()=>{const Xe=Object(H.t)(Mt,"seen_markdown_paste_shortcut");Xe<3&&(Ht(Object(te.a)({element:u.a.createElement(pe)})),Ht(Object(de.f)({pref:"seen_markdown_paste_shortcut",value:Xe+1}))),Wt()}})}))});fe.meta={name:"createThunk",key:"createThunkshowMarkdownPasteToast",description:"Show markdown paste toast"},fe.propTypes={applyFormatting:ee.default.func.isRequired};var me=fe,Se=e("9tjR"),je=e("npmo");const Ue=new J.b("csv_tsv_paste_toast");var ve;(function(Ht){Ht.CSV="CSV",Ht.TSV="TSV"})(ve||(ve={}));let ge=o(class extends h.Component{hideToast(){const{dispatchDismissCurrentToast:ut}=this.props;ut()}onConvertToSnippet(){const{dispatchDismissCurrentToast:ut,openCsvTsvSnippetDialog:gt,clearText:Wt}=this.props;ut(),gt(),Wt()}renderContent(){const{experimentCsvTsvAutocaptureGroupOn:ut}=this.props,gt=u.a.createElement(oe.a,{"data-qa":"toast-do-nothing-btn",className:"underline",onClick:this.hideToast},ut?Ue.t("No, do nothing"):""),Wt=u.a.createElement(oe.a,{"data-qa":"toast-open-snippet-modal-btn",className:"underline",onClick:this.onConvertToSnippet},ut?Ue.t("Yes, convert to snippet"):""),Mt=ut?Ue.t("Looks like you\u2019ve pasted {contentType} data. Convert it to a snippet so it looks like a table?",{contentType:this.props.contentType.toUpperCase()}):"";return u.a.createElement("div",null,Mt,u.a.createElement("br",null),Wt," ",gt)}render(){const ut=this.renderContent();return u.a.createElement(qe.a,{fadeDelay:1e3*10},u.a.createElement("div",null,ut))}constructor(ut){super(ut),Object(p.a)(this,["onConvertToSnippet","hideToast"])}},"BaseCsvTsvPasteToast");ge.displayName="BaseCsvTsvPasteToast",ge.defaultProps={contentType:ve.TSV,experimentCsvTsvAutocaptureGroupOn:!1,openCsvTsvSnippetDialog:l.a,clearText:l.a,dispatchDismissCurrentToast:l.a};const le=o(Ht=>({experimentCsvTsvAutocaptureGroupOn:Object(k.d)(Ht,"csv_tsv_autocapture")==="on"}),"mapStateToProps"),he=o(Ht=>({dispatchDismissCurrentToast:()=>Ht(Object(se.a)())}),"mapDispatchProps"),Te=Object(je.a)(le,he)(ge);var Re=Te;const Ve=Object(q.c)("Show Csv Tsv paste toast message",(Ht,ut,gt)=>{let{contentType:Wt,openCsvTsvSnippetDialog:Mt,clearText:Xe}=gt;return Object(Se.e)(ut())&&Ht(Object(se.a)()),Ht(Object(te.a)({element:u.a.createElement(Te,{contentType:Wt,openCsvTsvSnippetDialog:Mt,clearText:Xe})}))});Ve.meta={name:"createThunk",key:"createThunkshowCsvTsvPasteToast",description:"Show Csv Tsv paste toast message"},Ve.propTypes={contentType:ee.default.string.isRequired,openCsvTsvSnippetDialog:ee.default.func.isRequired,clearText:ee.default.func.isRequired};var Ee=Ve,Ae=e("mKxD"),Ge=e("eUIW"),Ze=e("bjy1"),ze=e("Zbwg"),lt=e("ktUG"),tt=e("bdcb"),Ot=e("feGl"),Ct=e("F294");let St={index:0,length:0};function zt(Ht){let{quill:ut,line:gt,blockType:Wt}=Ht;var Mt,Xe,bt,Nt;return(!(gt!=null&&gt.prev)||(gt==null||(Mt=gt.prev)===null||Mt===void 0||(Xe=Mt.statics)===null||Xe===void 0?void 0:Xe.blotName)!==Wt)&&(St.index=ut.getIndex(gt)),gt!=null&&gt.prev&&(gt==null||(bt=gt.prev)===null||bt===void 0||(Nt=bt.statics)===null||Nt===void 0?void 0:Nt.blotName)===Wt?zt({quill:ut,line:gt.prev,blockType:Wt}):St}o(zt,"adjustRangeIndex");function kt(Ht){let{quill:ut,line:gt,blockType:Wt}=Ht;var Mt,Xe,bt,Nt;const Pt=ut.getIndex(gt);if(!(gt!=null&&gt.next)||(gt==null||(Mt=gt.next)===null||Mt===void 0||(Xe=Mt.statics)===null||Xe===void 0?void 0:Xe.blotName)!==Wt){var nn;St.length=Pt+(gt==null||(nn=gt.cache)===null||nn===void 0?void 0:nn.length)-St.index}return gt!=null&&gt.next&&(gt==null||(bt=gt.next)===null||bt===void 0||(Nt=bt.statics)===null||Nt===void 0?void 0:Nt.blotName)===Wt&&kt({quill:ut,line:gt.next,blockType:Wt}),St}o(kt,"adjustRangeLength");function on(Ht){let{blockType:ut,quill:gt,range:Wt}=Ht;var Mt;const Xe=Wt==null?void 0:Wt.index,bt=Wt==null?void 0:Wt.length,[Nt]=gt.getLine(Xe);if(St={index:Xe,length:0},(Nt==null||(Mt=Nt.statics)===null||Mt===void 0?void 0:Mt.blotName)===ut){if(zt({quill:gt,line:Nt,blockType:ut}),kt({quill:gt,line:Nt,blockType:ut}),bt>0&&ut==="list-item"){const Pt=gt.getLines(Xe,bt);if(Pt!=null&&Pt.length){const nn=Object(Ct.a)(Pt);if(nn!=null&&nn.prev&&zt({quill:gt,line:nn.prev,blockType:ut}),(Pt==null?void 0:Pt.length)>1){const rn=Object(t.a)(Pt);rn!=null&&rn.next?kt({quill:gt,line:rn.next,blockType:ut}):kt({quill:gt,line:rn,blockType:ut})}}}return St}return Wt}o(on,"adjustSelectionToCoverBlock");var _t=e("oonp"),be=e("nWdO"),ot=e("Tsh7"),rt=e("gCYc"),Jt=e("Y/OQ");function Qt(Ht){let{enableComposerButton:ut,enableEmojiButton:gt,enableFileButton:Wt,enableMentionButton:Mt,enableSendButton:Xe,enableStickyComposer:bt,enableStoryButton:Nt,enableAudioButton:Pt,isExpanded:nn,isPlainTextModeEnabledPref:rn}=Ht,mn=0;const vn=bt&&!rn;return nn||vn?mn+=1:vn||(gt&&(mn+=1),Mt&&(mn+=1),ut&&!rn&&(mn+=1),Xe&&(mn+=1),Wt&&(mn+=1),Nt&&(mn+=1),Pt&&(mn+=1)),mn}o(Qt,"getNumInsetButtons");var qt=e("yHuM"),$t=e("j4mf");const hn=new J.b("share-dialog");function gn(Ht){let{numCharsOverLimit:ut=0}=Ht;return ut<=0?null:u.a.createElement(be.c,{tip:hn.rt("Your message is {count, plural, =1 {# character} other {# characters}} too long",{count:ut}),zIndex:"menu",position:"top-right"},u.a.createElement("div",{className:"c-texty_input_unstyled__warning"},"-",Object($t.b)(ut)))}o(gn,"TextyLengthWarning"),gn.displayName="TextyLengthWarning";var Cn=u.a.memo(gn),Mn=e("wTse");function kn(){return kn=Object.assign||function(Ht){for(var ut=1;ut<arguments.length;ut++){var gt=arguments[ut];for(var Wt in gt)Object.prototype.hasOwnProperty.call(gt,Wt)&&(Ht[Wt]=gt[Wt])}return Ht},kn.apply(this,arguments)}o(kn,"_extends");const na=new J.b("msg_input"),oa={LARGE:"large",MEDIUM:"medium"},ba={numCharsOverLimit:0,tooltipShowing:!1,tooltipMemberId:void 0,tooltipUserGroupId:void 0,tooltipChannelId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0,indicateTopScroll:!1,indicateBottomScroll:!1};let ga=o(class extends T.b{componentDidMount(){var ut,gt;const{initialText:Wt,focusOnMount:Mt,teamId:Xe,onMount:bt}=this.props;if(this.instance=new V.a(this.container,this.getOptions()),this.setupInputListeners(),!this.instance){Object(j.a)({teamId:Xe}).error("TextyInput: could not create instance");return}(gt=(ut=this).contextSetTextyInstance)===null||gt===void 0||gt.call(ut,this.instance),Wt&&(this.value(Wt,{isSilent:!0}),this.clearHistory()),this.onMountTimeout=window.setTimeout(()=>{Mt&&this.setCursorAtEnd(),bt&&bt()},0),this.handlePropChanges()}componentDidUpdate(ut){this.handlePropChanges(ut)}componentWillUnmount(){this.unmountPlaceholder(),this.removeInputListeners(),this.instance&&this.instance.unload(),this.onMountTimeout&&clearTimeout(this.onMountTimeout)}setupInputListeners(){this.setupScrollListener(),this.setupResizeListener()}removeInputListeners(){var ut,gt;const Wt=(ut=this.instance)===null||ut===void 0||(gt=ut.quill)===null||gt===void 0?void 0:gt.root;Wt&&(Wt.removeEventListener("scroll",this.scrollListenerRaf),this.resizeListener.disconnect())}calculateInputOffsetScroll(){var ut,gt;const Wt=(ut=this.instance)===null||ut===void 0||(gt=ut.quill)===null||gt===void 0?void 0:gt.root,Mt=Wt.scrollHeight>Wt.clientHeight,Xe=Mt&&Wt.scrollTop>0,bt=Mt&&Wt.scrollTop<Wt.scrollHeight-Wt.clientHeight;this.setState(()=>({indicateTopScroll:Xe,indicateBottomScroll:bt}))}setupResizeListener(){var ut,gt;const Wt=(ut=this.instance)===null||ut===void 0||(gt=ut.quill)===null||gt===void 0?void 0:gt.root;Wt&&(this.resizeListener=Object(G.a)(()=>{this.calculateInputOffsetScroll()},250),this.resizeListener.observe(Wt))}scrollListenerRaf(){this.scrollTicking||(this.window.requestAnimationFrame(()=>{this.calculateInputOffsetScroll(),this.scrollTicking=!1}),this.scrollTicking=!0)}setupScrollListener(){var ut,gt;const Wt=(ut=this.instance)===null||ut===void 0||(gt=ut.quill)===null||gt===void 0?void 0:gt.root;Wt&&Wt.addEventListener("scroll",this.scrollListenerRaf)}onMouseOut(ut){const{showTextyTooltips:gt}=this.props;gt&&!this.mentionReplaceTimer&&(ut.target.classList.contains("c-member_slug")||ut.target.classList.contains("emoji"))&&this.hideTooltip()}onMouseOver(ut){const{showTextyTooltips:gt}=this.props;gt&&(ut.target.classList.contains("c-member_slug")||ut.target.classList.contains("emoji"))&&(ut.persist(),this.showTooltip(ut.target,ut))}onTextChange(ut,gt,Wt){v.a.unstable_batchedUpdates(()=>{const{onTextChange:Mt,useWysiwyg:Xe,isPlainTextModeEnabledPref:bt}=this.props,{tooltipShowing:Nt}=this.state;this.updateActiveFormats(),this.updateToolbarPosition(),Xe&&!bt&&this.props.closeTextyModals(void 0),!this.mentionReplaceTimer&&Nt&&this.hideTooltip(),Object(ot.e)(),Object(be.d)(this.window);const Pt=o(()=>{const rn=this.container.querySelector(".ql-editor");return rn.clientHeight<rn.scrollHeight},"getHasScrollbar"),nn=this.getNumCharsOverLimit();this.setState(()=>({numCharsOverLimit:nn})),this.hideToolbarOverflow(),Mt&&Mt(ut,Pt,gt,Wt)})}hasWarning(){const{numCharsOverLimit:ut}=this.state;return ut>0}getNumCharsOverLimit(){const{maxLength:ut,useWysiwyg:gt}=this.props,Wt=ut||0;if(Wt<=0||Wt>200&&this.instance.getLength()<Wt/2)return 0;let Mt;const Xe=this.instance.getDelta();return gt?Mt=Object(z.a)(Xe):Mt=Object(_.a)({contents:Xe.ops}).length,Math.max(0,Mt-Wt)}onSelectionChange(ut){v.a.unstable_batchedUpdates(()=>{const{onSelectionChange:gt,textyModalIsOpen:Wt}=this.props;this.updateActiveFormats(),this.preventToolbarOnNextSelection||Wt||!ut||!ut.length?(this.preventToolbarOnNextSelection=!1,this.resetToolbarPosition()):this.updateToolbarPosition(),this.hideToolbarOverflow(),gt&&gt(ut)})}onScrollOptimize(){this.updateActiveFormats(),this.updateToolbarPosition()}onResize(){this.updateToolbarPosition()}onDrop(ut){const gt=this.props.dragLinksToComposer({dragEvent:ut,inputProxy:this.instance});gt!=null&&gt.length&&this.insertContentsAtCursor({contents:{ops:gt.ops}})}onLinkClick(ut,gt,Wt,Mt){const{isPlainTextModeEnabledPref:Xe}=this.props;if(Xe)return;const bt=this.instance.getSelection(),Nt=Object(Jt.a)(Wt.ops,{embedReplacement:"\uE000"}),Pt=Nt.indexOf("\uE000")===-1;this.preventToolbarOnNextSelection=!0,this.instance.setSelection(Mt.index,Mt.length),this.props.openTextyEditLinkModal({initialRange:bt,adjustedRange:Mt,anchorElement:ut,initialText:Nt,initialUrl:gt,textIsEditable:Pt,initialContents:Wt,source:lt.MsgFormattingInputSource.TOOLBAR,quill:this.instance.quill})}onMentionReplace(ut){let{replacements:gt,isLastReplacement:Wt}=ut;if(!Wt||gt.length!==1||gt[0].id==="UNVERIFIED")return;const Mt=this.container.querySelectorAll(`ts-mention[data-id=${gt[0].id}]`);if(Mt.length!==1||Mt[0].offsetTop<this.container.offsetTop)return;const Xe=gt[0].id,bt=Object(Ge.a)(Xe)?Xe:void 0,Nt=Object(Ze.a)(Xe)?Xe:void 0,Pt=Object(ze.a)(Xe)?Xe:void 0;this.setState(()=>({tooltipShowing:!0,tooltipMemberId:bt,tooltipUserGroupId:Nt,tooltipChannelId:Pt,tooltipTitle:void 0,tooltipTargetBounds:Mt[0].getBoundingClientRect()})),this.mentionReplaceTimer=window.setTimeout(()=>{this.mentionReplaceTimer=null,this.hideTooltip()},1500)}getOptions(){const{id:ut,ariaLabel:gt,ariaLabelledBy:Wt,ariaDescribedBy:Mt,ariaAutocomplete:Xe,ariaControls:bt,ariaExpanded:Nt,ariaActiveDescendant:Pt,inputMetricBoundary:nn,onEnter:rn,onPlusMenuShortcut:mn,onEscape:vn,onTab:Xt,isSingleLine:ht,enableBroadcastKeywords:It,includeAllBroadcastKeywords:Ft,showTextyTooltips:Bt,teamId:en,isPlainTextModeEnabledPref:On,useWorkflowTokens:yn,workflowTokenClick:Dn,useWysiwyg:En,enableStickyComposer:Vt,onBackspace:an,forceChannelTaggingDisabled:sn,forceAutoslugginEnabled:bn,role:jn,window:Tn,isMultiverseQuillEnabled:An,experimentBkRichTextWfbGroupOn:Vn}=this.props;return{id:ut,modules:{keyboard:this.getKeyboardModule(),slackmention:!0,textsubstitutions:this.getTextSubstitutionsModule(),clipboard:this.getClipboardModule(),tabcomplete:this.getTabCompleteModule(),cleanembedsincode:!0,cleanemptyinput:!0,cleanworkflowtokens:yn&&Vn},onBlur:()=>{var un,Kn,$n,da;this.hideToolbarOverflow(),(Kn=(un=this).contextSetIsFocused)===null||Kn===void 0||Kn.call(un,!1),(da=($n=this.props).onBlur)===null||da===void 0||da.call($n)},onFocus:()=>{var un,Kn,$n,da;(Kn=(un=this.props).onFocus)===null||Kn===void 0||Kn.call(un),(da=($n=this).contextSetIsFocused)===null||da===void 0||da.call($n,!0)},onEnter:rn?un=>{var Kn,$n;return($n=(Kn=this.props).onEnter)===null||$n===void 0?void 0:$n.call(Kn,un)}:void 0,onBackspace:an?()=>{var un,Kn;return(Kn=(un=this.props).onBackspace)===null||Kn===void 0?void 0:Kn.call(un)}:void 0,onEscape:()=>{if(this.contextRequestFloatingToolbarClose&&this.contextRequestFloatingToolbarClose(),vn)return this.props.onEscape?this.props.onEscape():void 0},onTab:Xt?un=>{var Kn,$n;return($n=(Kn=this.props).onTab)===null||$n===void 0?void 0:$n.call(Kn,un)}:void 0,onTextChange:this.onTextChange,onSelectionChange:this.onSelectionChange,onScrollOptimize:this.onScrollOptimize,onCompositionEnd:this.props.onCompositionEnd,onResize:this.onResize,onLinkClick:this.onLinkClick,showLinkForm:this.showLinkForm,singleLineInput:ht,enableBroadcastKeywords:It,includeAllBroadcastKeywords:Ft,isJumbomojiEnabled:()=>Object(n.a)(this.props.enableJumbomoji)?this.props.enableJumbomoji():this.props.enableJumbomoji,convertEmoticonsIsEnabled:()=>this.props.enableEmoticons,replaceNativeEmoji:!0,usePlainTextMode:On,inlineEmojiIsEnabled:()=>!this.props.isEmojiDisplayedAsText,getLocale:()=>this.props.locale,getTeamId:()=>this.props.teamId,getChannelId:()=>this.props.channelId,getUserHighlightWords:()=>this.props.userHighlightWords,isAutocompleteOpen:()=>this.props.isAutocompleteOpen,promiseToSearchMembers:this.promiseToSearchMembers,promiseToSearchChannels:this.promiseToSearchChannels,promiseToSearchEmoji:this.promiseToSearchEmoji,onMentionReplace:this.onMentionReplace,className:"c-texty_input_unstyled",inputMetricBoundary:nn,ariaLabel:gt,ariaLabelledBy:Wt,ariaDescribedBy:Mt,ariaAutocomplete:Xe,ariaControls:bt,ariaExpanded:Nt,ariaActiveDescendant:Pt,tabIndex:"0",showTextyTooltips:Bt,getEmojiNames:()=>this.props.emojiNames,logger:Object(j.a)({teamId:en}),useWorkflowTokens:yn,workflowTokenClick:Dn,onPlusMenuShortcut:mn,nestedListDepth:M.E,useWysiwyg:En,useStickyComposer:!1,enableStickyComposer:Vt,useChannelTagging:!sn,forceAutoslugginEnabled:bn,scrollingContainerSelector:"c-texty_input_unstyled__container",role:jn,window:Tn,isMultiverseQuillEnabled:An}}getKeyboardModule(){const{featureReactMessages:ut,onCmdLeftWhenEmpty:gt,onCmdRightWhenEmpty:Wt,onCmdZWhenEmpty:Mt,onCmdKWhenSelected:Xe,onDownArrowWhenEmpty:bt,onUpArrow:Nt,onDownArrow:Pt,onRightArrow:nn,onLeftArrow:rn,onSelectAll:mn,onPageUp:vn,onPageDown:Xt}=this.props,ht={featureReactMessages:ut,onCmdLeftWhenEmpty:gt,onCmdRightWhenEmpty:Wt,onCmdZWhenEmpty:Mt,onCmdKWhenSelected:Xe,onDownArrowWhenEmpty:bt,shouldInsertNewline:(It,Ft)=>this.props.isSingleLine?!1:Object(Ae.a)({...It,enterCreatesNewlinePref:this.props.enterCreatesNewlinePref,isCursorInPreBlock:this.instance.isCursorInPreBlock(),usePreNewlines:this.props.usePreNewlines,followsTripleBackticks:Ft})};return Nt&&(ht.onUpArrow=()=>Nt({}),ht.onUpArrowCmd=()=>Nt({cmdKey:!0}),ht.onUpArrowShift=()=>Nt({shiftKey:!0})),Pt&&(ht.onDownArrow=()=>Pt({}),ht.onDownArrowCmd=()=>Pt({cmdKey:!0}),ht.onDownArrowShift=()=>Pt({shiftKey:!0})),nn&&(ht.onRightArrow=()=>nn()),rn&&(ht.onLeftArrow=()=>rn()),mn&&(ht.onSelectAll=()=>mn()),vn&&(ht.onPageUp=()=>vn()),Xt&&(ht.onPageDown=()=>Xt()),ht}getTabCompleteModule(){const{autocompleteConfig:ut}=this.props;return ut?{tooltipIsShowing:()=>this.state.tooltipShowing,tooltipShow:gt=>{this.showTooltip(gt)},tooltipHide:()=>{this.hideTooltip()},...ut}:null}getTextSubstitutionsModule(){return this.props.disableTextSubstitutions?null:{getTextPreferences:()=>this.props.isAutocompleteOpen?null:Object(K.b)()}}getContents(){return this.instance.getContents()}getText(){return this.instance.getText()}getContentsForRange(ut,gt){return this.instance.getContentsForRange(ut,gt)}getSelection(){return this.instance.getSelection()}getFormatForQuotedObjects(ut){var gt,Wt,Mt,Xe,bt,Nt,Pt;const nn=this.instance.getFormat(ut),rn=on({blockType:"list-item",quill:this.instance.quill,range:ut}),mn=rn&&(rn==null?void 0:rn.length)>0&&this.instance.quill.getLines(rn),vn=Object(t.a)(mn);if((vn==null||(gt=vn.statics)===null||gt===void 0?void 0:gt.blotName)==="block"&&(vn==null||(Wt=vn.children)===null||Wt===void 0||(Mt=Wt.head)===null||Mt===void 0||(Xe=Mt.statics)===null||Xe===void 0?void 0:Xe.blotName)==="break"&&(vn==null||(bt=vn.children)===null||bt===void 0||(Nt=bt.tail)===null||Nt===void 0||(Pt=Nt.statics)===null||Pt===void 0?void 0:Pt.blotName)==="break"&&mn.pop(),mn!=null&&mn.length){let Xt=!1;if(Xt=Object(_t.a)(mn),Xt){const ht=this.instance.getFormat(rn);return{...nn,...ht,blockquote:!0}}}}getFormat(ut){return this.getFormatForQuotedObjects(ut)||this.instance.getFormat(ut)}getLength(){return this.instance.getLength()}getClipboardModule(){const{onPasteLimit:ut,openSnippetDialog:gt,isCsvTsvPastingEnabled:Wt}=this.props;return{shouldFocusOnPaste:()=>this.props.focusOnPaste&&this.props.isAttentionOnChat,showMarkdownPasteToast:this.props.showMarkdownPasteToast,showCsvTsvPasteToast:this.props.showCsvTsvPasteToast,getChannelId:()=>this.props.channelId,getThreadTs:()=>this.props.threadTs,onPasteLimit:(Mt,Xe)=>Xe&&Xe.length()>M.J?(Mt.stopPropagation(),Mt.preventDefault(),ut?ut(Mt,Xe):this.props.openModal({element:this.renderPasteLimitDialog(),isStackable:!0}),!0):!1,onPaste:()=>this.props.onPaste?this.props.onPaste():!1,openCsvTsvSnippetDialog:(Mt,Xe)=>{gt&&gt({initialText:Mt,initialChannelId:this.props.channelId,threadTs:this.props.threadTs,viewContext:this.props.viewContext||"",initialType:"tsv",initialContents:{contents:Xe.ops}})},getCsvTsvPastingEnabled:()=>Wt}}setContainerRef(ut){this.container=ut}setContents(ut){return this.instance.setContents(ut)}setCursorAtEnd(){this.instance.setSelectionAtEnd()}isCursorAtStart(){return this.instance.getSelection().index===0}maybeTriggerMentionAutocomplete(){this.instance.maybeTriggerMentionAutocomplete()}setCursor(ut){let gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.container&&this.instance.setSelection(ut,gt)}insertContentsAtCursor(ut){let gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"user";this.container&&this.instance.insertContentsAtCursor(ut,gt,Wt)}clearHistory(){return this.instance.clearHistory()}isEnabled(){return this.instance.isEnabled()}prependContents(ut){return this.instance.prependContents(ut)}value(ut){let{isSilent:gt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{userHighlightWords:Wt,isEmojiDisplayedAsText:Mt,emojiNames:Xe,locale:bt,useWorkflowTokens:Nt,workflowTokens:Pt,tagChannelsAsSearchGeneric:nn,forceChannelTaggingDisabled:rn}=this.props;if(ut!==void 0){if(Object(a.a)(ut))this.clear();else{let mn=ut;Object(i.a)(ut)&&(mn=Object(U.b)(ut,{highlightWords:Wt,shouldRenderEmojiAsText:Mt,emojiNames:Xe,locale:bt,workflowTokens:Nt?Pt:void 0,useChannelTagging:!rn,tagChannelsAsSearchGeneric:nn}));const vn={};gt&&(vn.source="silent"),this.instance.setContents(mn,vn)}return}return Object(B.a)(this.instance.getContents(),{tagChannelsAsSearchGeneric:nn})}displayValue(){return Object(_.a)(this.instance.getContents(),this.props.userHighlightWords)}clear(){let{isSilent:ut=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.instance.clear({is_silent:ut})}handlePropChanges(){let ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{placeholder:gt,enableSpellCheck:Wt,isDisabled:Mt,isPlainTextModeEnabledPref:Xe,overlayIsOpen:bt,ariaLabel:Nt,ariaDescribedBy:Pt,enableBroadcastKeywords:nn,ariaActiveDescendant:rn,teamId:mn}=this.props;if(ut.enableSpellCheck!==Wt&&this.container.querySelector("[contenteditable=true]").setAttribute("spellcheck",Wt),ut.isDisabled!==Mt&&(Mt?this.instance.disable():this.instance.enable()),ut.placeholder!==gt&&this.updatePlaceholder(),ut.ariaActiveDescendant&&rn&&ut.ariaActiveDescendant!==rn&&this.instance.setActiveDescendant(rn),ut.ariaLabel!==Nt&&this.instance.setAriaLabel(Nt),ut.ariaDescribedBy!==Pt&&this.instance.setAriaDescribedBy(Pt),Object(c.a)(ut.isPlainTextModeEnabledPref)&&Object(c.a)(Xe)&&ut.isPlainTextModeEnabledPref!==Xe||Object(c.a)(ut.enableBroadcastKeywords)&&Object(c.a)(nn)&&ut.enableBroadcastKeywords!==nn&&ut.channelId===this.props.channelId){var vn,Xt;Object(j.a)({teamId:mn}).info("Texty-Input",`Recreates the texty class instance for channelId ${this.props.channelId} `);const ht=this.getContents();this.instance&&this.instance.unload(),this.instance=new V.a(this.container,this.getOptions()),(Xt=(vn=this).contextSetTextyInstance)===null||Xt===void 0||Xt.call(vn,this.instance),this.setContents(ht),bt||this.setCursorAtEnd(),this.updatePlaceholder()}}focus(){this.instance.focus()}blur(){this.instance.blur()}selectAll(){this.instance.selectAll()}isEmpty(){let{doIgnoreWhitespace:ut=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gt=this.value();return gt&&ut&&(gt=gt.trim()),!gt}hasFocus(){var ut;return(ut=this.instance)===null||ut===void 0?void 0:ut.hasFocus()}resetToolbarPosition(){this.contextSetToolbarPositionData&&this.contextSetToolbarPositionData(void 0)}updateToolbarPosition(){const{enableStickyComposer:ut,useStickyComposer:gt,useWysiwyg:Wt,isPlainTextModeEnabledPref:Mt}=this.props;if(!Wt||Mt||gt&&ut)return;const Xe=this.getSelection();if(!Xe||!Xe.length){this.resetToolbarPosition();return}const bt=this.instance.quill.getBounds(Xe.index,Xe.length),Nt=getComputedStyle(this.instance.quill.root),Pt=this.instance.quill.root.clientWidth-parseInt(Nt.paddingLeft,10)-parseInt(Nt.paddingRight,10),nn=this.instance.quill.root.parentNode.getBoundingClientRect(),rn=(nn==null?void 0:nn.left)||0,mn=(nn==null?void 0:nn.top)||0,vn=(nn==null?void 0:nn.width)||0,Xt={rect:bt,editorWidth:Pt,containerLeftBound:rn,containerTopBound:mn,containerWidthBound:vn,viewportWidth:this.window.document.documentElement.clientWidth};this.contextSetToolbarPositionData&&this.contextSetToolbarPositionData(Xt)}hideToolbarOverflow(){this.contextSetToolbarOverflowVisible&&this.contextSetToolbarOverflowVisible(!1)}updateActiveFormats(){const ut=this.getSelection(),gt=ut?this.getFormat(ut):{},Wt=Object.keys(gt).map(Mt=>{if(Mt==="header")return`h${gt[Mt]}`;if(Mt==="list"){if(gt[Mt]==="bullet")return"bullet-list";if(gt[Mt]==="ordered")return"ordered-list";if(gt[Mt]==="unchecked")return"check-list"}return Mt});this.contextSetActiveFormats&&this.contextSetActiveFormats(Mt=>Object(r.a)(Mt,Wt)?Mt:Wt)}showTooltip(ut,gt){if(this.getSelection().length>0)return;const Wt=ut.getAttribute("data-id"),Mt=Wt!=="UNVERIFIED"&&Object(Ge.a)(Wt)?Wt:null,Xe=Wt!=="UNVERIFIED"&&Object(Ze.a)(Wt)?Wt:null,bt=Object(ze.a)(Wt)?Wt:null,Nt=ut.getAttribute("data-title");if(!ut.classList.contains("emoji")&&!Nt&&!(Mt||bt||Xe))return;this.mentionReplaceTimer&&(clearTimeout(this.mentionReplaceTimer),this.mentionReplaceTimer=null);const nn=ut.getClientRects(),rn=gt&&Array.from(nn).find(mn=>gt.clientY>=mn.top&&gt.clientY<=mn.bottom&&gt.clientX>=mn.left&&gt.clientX<=mn.right)||nn[0];this.setState(()=>({tooltipShowing:!0,tooltipMemberId:Mt,tooltipUserGroupId:Xe,tooltipChannelId:bt,tooltipTitle:Nt,tooltipTargetBounds:rn}))}hideTooltip(){this.setState(()=>({tooltipShowing:!1,tooltipMemberId:void 0,tooltipUserGroupId:void 0,tooltipChannelId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0}))}showLinkForm(ut){let{source:gt}=ut;this.preventToolbarOnNextSelection=!0,this.props.openTextyLinkFormBasedOnSelection({textyInstance:this.instance,source:gt})}promiseToSearchMembers(ut){const{channelId:gt,enableBroadcastKeywords:Wt,includeAllBroadcastKeywords:Mt}=this.props;return this.props.autocompleteMembers({query:ut,enableBroadcastKeywords:Wt,includeAllBroadcastKeywords:Mt,channelId:gt})}promiseToSearchChannels(ut){return this.props.autocompleteChannels({query:ut})}promiseToSearchEmoji(ut,gt){return this.props.autocompleteEmoji({query:ut,useSearcherSessions:gt})}renderPasteLimitDialog(){return u.a.createElement(F.a,{title:na.t("That\u2019s a bit too long to paste"),goButtonText:na.t("OK")},na.t("To keep things running smoothly, there\u2019s a limit on the number of characters you can paste into Slack."))}updatePlaceholder(){var ut;const{placeholder:gt,teamId:Wt}=this.props,Mt=(ut=this.container)===null||ut===void 0?void 0:ut.querySelector(".ql-placeholder");C(Wt,Mt,gt)}unmountPlaceholder(){var ut;const gt=(ut=this.container)===null||ut===void 0?void 0:ut.querySelector(".ql-placeholder");I(gt)}render(){var ut=this;const{className:gt,isExpanded:Wt,isInvalid:Mt,isSingleLine:Xe,maxLines:bt,minLines:Nt,useFocusRing:Pt,size:nn,enableActionsButton:rn,experimentIncreaseListSpacingGroupTreatment:mn,a11yUnderlineLinks:vn}=this.props,{numCharsOverLimit:Xt,tooltipShowing:ht,tooltipMemberId:It,tooltipUserGroupId:Ft,tooltipChannelId:Bt,tooltipTitle:en,tooltipTargetBounds:On,indicateTopScroll:yn,indicateBottomScroll:Dn}=this.state,En=Object(f.a)(Nt)&&Nt>0?Nt:1,Vt=Object(f.a)(bt)&&bt>0?bt:void 0,an=Object(d.default)("c-texty_input_unstyled__container",`c-texty_input_unstyled__container--size_${nn}`,{"c-texty_input_unstyled__container--multi_line":!Xe,"c-texty_input_unstyled__container--single_line":Xe,"c-texty_input_unstyled__container--use_focus_ring":Pt,"c-texty_input_unstyled__container--expanded":Wt,"c-texty_input_unstyled__container--invalid":Mt,"c-texty_input_unstyled__container--no_actions":!rn,"c-texty_input_unstyled__container--with_warning":this.hasWarning(),"c-texty_input_unstyled__container--increased_list_spacing":mn,"c-texty_input_unstyled__container--with_underlined_links":vn,"c-texty_input_unstyled__container--multiline_overflow--top":!Xe&&yn,"c-texty_input_unstyled__container--multiline_overflow--bottom":!Xe&&Dn});return u.a.createElement("div",{className:an,"data-buttons":Qt(this.props)},u.a.createElement("div",kn({className:gt},Object(Q.a)(this.props),{"data-min-lines":En,"data-max-lines":Vt,ref:this.setContainerRef,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onDrop:this.onDrop,onFocus:l.a,onBlur:l.a})),this.hasWarning()&&u.a.createElement(Cn,{numCharsOverLimit:Xt}),ht&&u.a.createElement(qt.a,{memberId:It,userGroupId:Ft,channelId:Bt,title:en,targetBounds:On}),u.a.createElement(Mn.a.Consumer,null,function(){let{setTextyInstance:sn,setIsFocused:bn,setActiveFormats:jn,setToolbarOverflowVisible:Tn,setToolbarPositionData:An,requestFloatingToolbarClose:Vn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ut.contextSetTextyInstance=sn,ut.contextSetIsFocused=bn,ut.contextSetActiveFormats=jn,ut.contextSetToolbarOverflowVisible=Tn,ut.contextSetToolbarPositionData=An,ut.contextRequestFloatingToolbarClose=Vn}))}constructor(ut){super(ut),this.container=null,this.instance=null,this.resizeListener=null,this.setContainerRef=this.setContainerRef.bind(this),this.mentionReplaceTimer=null,this.toolbarRef=u.a.createRef(),this.preventToolbarOnNextSelection=!1,this.scrollTicking=!1,this.window=ut.window||window,Object(p.a)(this,["promiseToSearchMembers","promiseToSearchChannels","promiseToSearchEmoji","onMouseOver","onMouseOut","onTextChange","onSelectionChange","onScrollOptimize","onResize","onLinkClick","showLinkForm","onMentionReplace","displayValue","hideToolbarOverflow","resetToolbarPosition","calculateInputOffsetScroll","setupInputListeners","removeInputListeners","scrollListenerRaf","onDrop"]),this.state={...ba}}},"TextyInput");ga.displayName="TextyInput",ga.defaultProps={onCompositionEnd:l.a,onMount:l.a,onFileMenuOpen:l.a,onFileMenuClose:l.a,forceFileMenuOpen:!1,sendMessage:l.a,openSnippetDialog:l.a,isSingleLine:!1,isAttentionOnChat:!1,enableJumbomoji:!1,enableSpellCheck:!1,enableEmoticons:!1,enableStickyComposer:!1,overlayIsOpen:!1,isPlainTextModeEnabledPref:!1,autocompleteChannels:()=>g.a.resolve(),showMarkdownPasteToast:l.a,showCsvTsvPasteToast:l.a,enterCreatesNewlinePref:!1,forceEnterCreatesNewline:!1,isDisabled:!1,isExpanded:!1,isEmojiDisplayedAsText:!1,focusOnMount:!1,focusOnPaste:!1,minLines:1,maxLines:void 0,maxLength:void 0,openModal:l.a,autocompleteMembers:l.a,featureReactMessages:!0,showTextyTooltips:!0,isAutocompleteOpen:!1,enableBroadcastKeywords:!0,includeAllBroadcastKeywords:!1,usePreNewlines:!1,useFocusRing:!0,workflowTokens:[],workflowTokenClick:l.a,size:oa.MEDIUM,isInvalid:!1,renderFileMenu:l.a,useWysiwyg:!1,useStickyComposer:!0,useWorkflowTokens:!1,enableActionsButton:!1,forceChannelTaggingDisabled:!1,forcePlainTextModeDisabled:!1,forceAutoslugginEnabled:!1,openTextyEditLinkModal:l.a,openTextyLinkFormModal:l.a,openTextyLinkFormBasedOnSelection:l.a,closeTextyModals:l.a,textyModalIsOpen:!1,onScheduleSend:l.a,autocompleteEmoji:l.a,experimentIncreaseListSpacingGroupTreatment:!1,isCsvTsvPastingEnabled:!1,tagChannelsAsSearchGeneric:!1,a11yUnderlineLinks:!1,dragLinksToComposer:l.a,experimentBkRichTextWfbGroupOn:!1};const ya=o((Ht,ut)=>{const{isExpanded:gt,forcePlainTextModeDisabled:Wt,forceEnterCreatesNewline:Mt}=ut,Xe=Object(rt.p)(Ht),bt=Object($.g)(Ht);return{teamId:Object(x.h)(Ht),enableSpellCheck:!!Object(H.t)(Ht,"webapp_spellcheck"),userHighlightWords:Object(R.a)(Ht),isEmojiDisplayedAsText:Object(L.a)(Ht),overlayIsOpen:bt,enableEmoticons:!!Object(H.t)(Ht,"convert_emoticons"),enableStickyComposer:Xe,locale:Object(J.m)(),emojiNames:Object(W.c)(Ht),enterCreatesNewlinePref:Mt?!0:Object(D.a)(Ht,gt),usePreNewlines:!!Object(H.t)(Ht,"enter_is_special_in_tbt"),isPlainTextModeEnabledPref:Wt?!1:!!Object(H.t)(Ht,"plain_text_mode"),isAttentionOnChat:Object($.h)(Ht),textyModalIsOpen:Object(tt.a)(Object(Z.a)(Ht).map(Nt=>Nt.name||"")),a11yUnderlineLinks:!!Object(H.t)(Ht,"underline_links"),experimentIncreaseListSpacingGroupTreatment:Object(k.d)(Ht,"increase_list_spacing")==="treatment",experimentBkRichTextWfbGroupOn:Object(k.d)(Ht,"bk_rich_text_wfb")==="on"}},"texty_input_mapStateToProps"),Zn={openModal:ne.a,autocompleteMembers:X.a,autocompleteChannels:Y.a,autocompleteEmoji:ae.a,showMarkdownPasteToast:me,showCsvTsvPasteToast:Ee,openTextyEditLinkModal:Ht=>Object(S.a)(Ht),openTextyLinkFormModal:Ht=>Object(A.b)(Ht),closeTextyModals:N.a,openTextyLinkFormBasedOnSelection:Ht=>Object(P.a)(Ht),dragLinksToComposer:Ht=>Object(Ot.a)(Ht)};var Xn=s.a=Object(m.a)(ya,Zn,null,{forwardRef:!0})(ga)},VO0X:function(w,s,e){"use strict";var n=e("n3tL"),t=e("mM05"),a=e.n(t),i=e("gSGL"),c=e("dYt1"),r=e("SQ0V"),f=e("7INw"),l=e("Wya+"),p=e("ktUG"),h=e("rneN"),u=e("mSgU"),b=e("Y/OQ");const v=o(()=>{const E=u.d.map(y=>`\\${y}`);return E.push("\\s"),E.push("\\ue000"),new RegExp(`[${E.join("")}]+$`)},"trailingPunctuationRegex"),d=o(()=>{const E=u.b.map(y=>`\\${y}`);return E.push("\\s"),E.push("\\ue000"),new RegExp(`^[${E.join("")}]+`)},"leadingPunctuationRegex"),m=o(()=>{if(!m.resultMemo){const E=u.c.reduce((y,C)=>({pairsByOpening:{...y.pairsByOpening,[C[0]]:C},pairsByClosing:{...y.pairsByClosing,[C[1]]:C}}),{pairsByOpening:{},pairsByClosing:{}});m.resultMemo=E}return m.resultMemo},"getPermissibleCharPairsByChar"),g=o(function(E){let{isTrailing:y=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=0;const I=y?v:d,j=E.match(I());if(!j)return C;const{pairsByOpening:M,pairsByClosing:T}=m(),D=E.split(""),S=[...D].reverse(),A=j[0].split("");for(let P=0;P<A.length;P+=1){const N=y?D.length-1-P:P,G=E[N],V=y?T[G]:M[G];if(!V){C+=1;continue}const[k,x]=V;let H=0;if(y?S.slice(P).forEach(R=>{R===x?H+=1:R===k&&(H-=1)}):D.slice(P).forEach(R=>{R===k?H+=1:R===x&&(H-=1)}),H>0)C+=1;else break}return C},"getTrimLength"),O=Object(r.c)("Opens the Texty create link or edit link dialogs based on the current selection",(E,y,C)=>{let{textyInstance:I,source:j}=C;const M=I.getSelection(),T=I.getFormat(M);let D="";M.length>0&&(D=Object(b.a)(I.getContentsForRange(M.index,M.length).ops,{embedReplacement:"\uE000"}));const S=T.link&&Object(i.a)(T.link)?T.link:void 0;let A=Object(c.a)(M);const P=g(D);P&&(D=D.substr(P),A={index:A.index+P,length:D.length});const N=g(D,{isTrailing:!0});if(N&&(D=D.substr(0,D.length-N),A={index:A.index,length:D.length}),!A.length&&T.link){const[V]=I.quill.getLeaf(A.index),k=V&&V.domNode&&V.domNode.parentNode&&V.domNode.parentNode.closest("a");if(!k||!I.quill.root.contains(k))return;A=Object(h.a)(new a.a(I.getContents().contents),{index:A.index,length:0},I.getFormat({index:A.index,length:0}));const x=I.getContentsForRange(A.index,A.length);D=Object(b.a)(x.ops,{embedReplacement:"\uE000"});const H=D.indexOf("\uE000")===-1;I.setSelection(M.index,M.length),E(Object(f.a)({initialRange:M,adjustedRange:A,anchorElement:k,initialText:D,initialUrl:T.link,textIsEditable:H,initialContents:x,source:p.MsgFormattingInputSource.TOOLBAR,quill:I.quill}));return}const G=D.indexOf(`
`)===-1&&D.indexOf("\uE000")===-1;E(Object(l.b)({initialText:D,initialContents:I.getContentsForRange(A.index,A.length),initialUrl:S,range:A,textIsEditable:G,source:j,quill:I.quill}))});O.meta={name:"createThunk",key:"createThunkopenTextyLinkFormBasedOnSelection",description:"Opens the Texty create link or edit link dialogs based on the current selection"},O.propTypes={textyInstance:n.default.object.isRequired,source:n.default.number.isRequired},s.a=O},VW9X:function(w,s,e){"use strict"},VXbZ:function(w,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"a",function(){return r});var n=e("n3tL"),t=e("SQ0V"),a=e("9avG"),i=e("YOgf");const c=Object(t.c)("Convert delta object to Block Kit",(f,l,p)=>{let{delta:h,convertEmpty:u=!1,trimStartingWhitespace:b=!0}=p;return Object(a.b)({delta:h,options:{convertEmpty:u,trimStartingWhitespace:b},state:l()})});c.meta={name:"createThunk",key:"createThunkconvertDeltaToBlocksThunk",description:"Convert delta object to Block Kit"},c.propTypes=n.default.shape({delta:n.default.object,convertEmpty:n.default.bool,trimStartingWhitespace:n.default.bool});const r=Object(t.c)("Convert blocks to delta objects",(f,l,p)=>{let{blocks:h}=p;const u=l();return Object(i.a)(u,h)});r.meta={name:"createThunk",key:"createThunkconvertBlocksToDelta",description:"Convert blocks to delta objects"},r.propTypes={blocks:n.default.array}},Ve6K:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("ZKjC");const t=Object(n.b)(c=>c&&c.fileUpload);t.meta={name:"createSelector",key:"createSelectorgetFileUploadState",description:c=>c&&c.fileUpload};const a=Object(n.b)(c=>c&&c.fileUpload&&c.fileUpload.status);a.meta={name:"createSelector",key:"createSelectorgetFileUploadStatus",description:c=>c&&c.fileUpload&&c.fileUpload.status};const i=Object(n.b)(c=>c&&c.fileUpload&&c.fileUpload.originWindowId);i.meta={name:"createSelector",key:"createSelectorgetFileUploadWindowOriginId",description:c=>c&&c.fileUpload&&c.fileUpload.originWindowId}},VfoO:function(w,s,e){"use strict";var n=e("Lgge"),t=e("b0Xh"),a=e.n(t),i=e("ifKl"),c=e("P9LH");function r(f){const l=f.replace(/^data:([^;]+);base64,/gim,""),p=atob(l),h=p.length,u=new Uint8Array(h);for(let b=0;b<h;b++)u[b]=p.charCodeAt(b);return u.buffer}o(r,"base64ToArrayBuffer"),s.a=function(f){return new n.a((l,p)=>{if(!f||!Object(c.ub)(f)){p(new Error("Invalid file argument provided to getPendingFileData"));return}if(!window.FileReader){p(new Error("Cannot read file data, browser does not support FileReader"));return}if(f.dataUrl){l({dataUrl:f.dataUrl,orientation:f.orientation,width:f.width,height:f.height});return}const h=new FileReader;h.onload=u=>{const b=u.target.result,v=r(b),d=Object(t.readFromBinaryFile)(v),g=d&&typeof d.Orientation=="number"?d.Orientation:null,O=new Image;O.style.imageOrientation="none",document.body.appendChild(O),O.onload=()=>{const E=O.width,y=O.height;document.body.removeChild(O),f.dataUrl=b,f.orientation=g,f.width=E,f.height=y,l({dataUrl:b,orientation:g,width:E,height:y})},O.onerror=()=>{document.body.removeChild(O)},O.src=b},h.onloadstart=u=>{Object(i.a)(u)},h.onerror=u=>{h.abort(),h.error?p(new Error(`FileReader error, ${h.error.name}: ${h.error.message}`)):p(new Error(`FileReader error, type ${u.type}`))},h.readAsDataURL(f)})}},Vk8Z:function(w,s,e){"use strict";e.d(s,"b",function(){return m}),e.d(s,"c",function(){return g}),e.d(s,"a",function(){return O});var n=e("9oTK"),t=e.n(n),a=e("Lgge"),i=e("SQ0V"),c=e("8gWv"),r=e("NOq0"),f=e("I0j/"),l=e("37+L"),p=e("2VFn"),h=e("RV0M"),u=e("E3dU"),b=e("6CnZ"),v=e("cBLH"),d=e("sCfo");const m=Object(i.c)("Open an assisted thread from given context",(E,y,C)=>{let{context:I,action:j,reason:M}=C;return Object(c.a)(y())?E(Object(r.a)({context:I,action:j,reason:M})).then(T=>(E(Object(f.a)({...Object(l.e)({channelId:T.channel_id,threadTs:T.thread_ts}),options:{forceTab:p.d.Assistant}})),T)):a.a.reject(new Error("isAssistantThreadsEnabled not enabled"))});m.meta={name:"createThunk",key:"createThunkopenAssistantThread",description:"Open an assisted thread from given context"};const g=Object(i.c)("Open a assistant thread detail",function(){var E=Object(n.coroutine)(function*(y,C,I,j){const{activeTab:M}=j(h.a),{channelId:T,threadTs:D}=I;T&&D&&y(Object(f.a)({options:{forceTab:M},...Object(l.b)({aiSummaryId:"",channelId:T,threadTs:D,openInPlace:!0,isAssistantThread:!0})}))});return function(y,C,I,j){return E.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkopenAssistantThreadDetail",description:"Open a assistant thread detail"};const O=Object(i.c)("Open a assistant thread detail",function(){var E=Object(n.coroutine)(function*(y,C,I){var j;const{threadTs:M}=I,T="USLACKBOT",D=Object(u.m)(C(),T),S=`${D==null?void 0:D.id}-${M}`,A=Object(b.e)(C(),S),P=A!=null&&A.slices?(j=A==null?void 0:A.slices[0])===null||j===void 0?void 0:j.timestamps.filter(G=>Object(d.a)(G)):[],N=P.length>0?P[0]:null;N&&y(Object(v.d)({channelId:S,timestamp:N}))});return function(y,C,I){return E.apply(this,arguments)}}());O.meta={name:"createThunk",key:"createThunkclearAssistantThreadTempTimestampsForThread",description:"Open a assistant thread detail"}},VmGj:function(w,s,e){"use strict";e.d(s,"a",function(){return I});var n=e("SQ0V"),t=e("dmdh"),a=e("i9jZ"),i=e("4hjS"),c=e("RV0M"),r=e("PIf0"),f=e("6inW"),l=e("HoeF");const p=Object(n.c)("Opens member profile in the huddle window flexpane if the window is open",(j,M,T,D)=>{let{fileId:S}=T;const{window:A,windowId:P}=D(r.a);return Object(f.b)(P)&&!!A?(j(Object(l.G)({fileId:S})),!0):!1});p.meta={name:"createThunk",key:"createThunkopenFileDetailInHuddleWindow",description:"Opens member profile in the huddle window flexpane if the window is open"};var h=e("P9LH"),u=e("I0j/"),b=e("37+L"),v=e("cU/a"),d=e("25cE"),m=e("4iK2"),g=e("bcZH"),O=e("uNaj"),E=e("CnKg"),y=e("+kJ4"),C=e("rZ8V");const I=Object(n.c)("Opens the file details flexpane",(j,M,T,D)=>{let{fileId:S,flexOrigin:A,flexOriginId:P,event:N,tileKey:G}=T;const V=M(),k=Object(t.e)(V,S),x=Object(a.d)(N)||!!G,H=Object(i.l)(V),{shouldUseNavigate:R}=D(c.a);if(!j(p({fileId:S}))&&(k&&(Object(h.rb)(k)||Object(h.jb)(k)||Object(h.lb)(k)||Object(h.mb)(k))&&(R||Object(C.m)(M())?j(Object(u.a)(Object(b.u)(S))):j(Object(v.a)({routeName:d.i,flexName:"files",flexParams:{fileId:S},flexOrigin:A,flexOriginId:P,shouldOpenInTile:x}))),!(!k||!Object(h.Yb)(k)))){if(R||Object(C.m)(M()))j(Object(u.a)(Object(b.u)(S)));else{let _=A,B=P;if(H===m.a||Object(g.a)(V)){var U;const z=Object(O.a)(),{fileIdOrQuipThreadId:L}=Object(E.i)(z==null||(U=z.params)===null||U===void 0?void 0:U.entityId);_=m.a,B=L}j(Object(v.a)({routeName:d.i,flexName:"files",flexParams:{fileId:S},flexOrigin:_,flexOriginId:B,shouldOpenInTile:x}))}j(Object(y.a)())}});I.meta={name:"createThunk",key:"createThunkpreviewFile",description:"Opens the file details flexpane"}},VnPF:function(w,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"a",function(){return r});var n=e("9oTK"),t=e.n(n),a=e("IJpL"),i=e("1G0c");function c(l){let{teamId:p,userId:h}=l;return Object(i.a)(p).finally(()=>Object(a.b)({teamId:p,userId:h}))}o(c,"clearAllPersistedDataForUserId");function r(l){return f.apply(this,arguments)}o(r,"clearAllPersistedDataExceptForTeamIds");function f(){return f=Object(n.coroutine)(function*(l){if(!Array.isArray(l))throw new Error("teamIds in clearAllPersistedDataExceptForTeamIds must be an array");return Object(i.b)(l).finally(()=>Object(a.a)(l))}),f.apply(this,arguments)}o(f,"_clearAllPersistedDataExceptForTeamIds")},VqrZ:function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"c",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"d",function(){return i});const n={All:"all",AllInternal:"all-internal",Workspace:"workspace"},t={Internal:"internal",External:"external"},a={All:"all",Internal:"internal",External:"external"};function i(c){return c.type===n.All||c.type===n.AllInternal}o(i,"isStaticWorkspaceFilter")},Vr9G:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("UIWO");function t(a){return!!Object(n.a)(a)}o(t,"isXWSUserGroupsEnabled")},VvJB:function(w,s,e){"use strict";e.d(s,"b",function(){return a}),e.d(s,"c",function(){return i}),e.d(s,"a",function(){return c});var n=e("pu3F"),t=e("uiBO");const a=[n.f.users_select,n.f.conversations_select,n.f.channels_select,n.f.multi_users_select,n.f.multi_conversations_select,n.f.multi_channels_select,n.f.multi_static_select,n.f.multi_external_select,n.f.external_select,n.f.static_select,n.f.datepicker,n.f.timepicker,n.f.range_datepicker,n.f.plain_text_input,n.f.number_input,n.f.radio_buttons,n.f.checkboxes,n.f.password,n.f.rich_text_input,n.f.datetimepicker,n.f.url_text_input,n.f.email_text_input,n.f.file_input],i=[n.f.multi_static_select,n.f.multi_channels_select,n.f.multi_conversations_select,n.f.multi_external_select,n.f.multi_users_select];var c;(function(r){r.message="message",r.message_attachment="message_attachment",r.search="search",r[r.thread=t.b.Thread]="thread",r.block_kit_builder="block_kit_builder",r.delete_dialog="delete_dialog",r.flag_dialog="flag_dialog",r.remove_broadcast_dialog="remove_broadcast_dialog",r.share_dialog="share_dialog",r.app_actions="app_actions",r.app_home="app_home",r.block_kit_builder_template="block_kit_builder_template",r.workflow_message_preview="workflow_message_preview",r.workflow_extension_step="workflow_extension_step",r.all_threads="all_threads",r.all_unreads="all_unreads",r.shared_message="shared_message",r.starred_message="starred_message",r.activity="activity",r.pinned_items="pinned_items",r.modal="modal",r.app_notification_subscription_configuration="app_notification_subscription_configuration",r.view="view",r.draft="draft",r.welcome_message="welcome_message",r.board="board",r.condition="condition",r.profile="profile",r.slack_connect_hub="slack_connect_hub",r.slab_grid_cell="slab_grid_cell",r.channel_set="channel_set",r.quip_unfurl="quip_unfurl",r.workflow_builder="workflow_builder",r.canvas_title="canvas_title",r.sales_home_notification="sales_home_notification",r.search_summary="search_summary",r.ai_summary="ai_summary",r.channel_canvas_share_selection="channel_canvas_share_selection",r.wfb_preview="wfb_preview",r.widget="widget"})(c||(c={}))},Vzni:function(w,s,e){"use strict";e.d(s,"c",function(){return r}),e.d(s,"a",function(){return f}),e.d(s,"b",function(){return l});var n=e("Atq3"),t=e("gNhz"),a=e("P9LH"),i=e("nNoG");const c=new i.b("file-permissions");function r(p){const h=c.t("Can edit"),u=c.t("Can view");switch(p){case t.a.Owner:return c.t("Owner");case t.a.Write:return h;case t.a.Read:return u;default:Object(n.a)(p)}}o(r,"getStringForAccessLevel");function f(p,h){return{label:r(h),value:h,isDisabled:h===t.a.Write&&!Object(a.Wb)(p)}}o(f,"getAccessOption");function l(p){return[t.a.Write,t.a.Read].map(h=>f(p,h))}o(l,"getAccessOptions")},W1Od:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("q1tI"),t=e.n(n),a=e("HJ1R"),i=e("nLfX"),c=e("FZE2"),r=e("pu3F");const f=o(l=>{let{shareType:p,wrapperMsgOps:h,setWrapperSelectedChannel:u,setWrapperMsgOps:b}=l;const[v,d]=Object(n.useState)(null),[m,g]=Object(n.useState)(null),[O,E]=Object(n.useState)(!1),[y,C]=Object(n.useState)(!1),I=Object(a.a)(),{speedBumpState:j,closeSpeedBump:M,openSpeedBump:T}=I,D=Object(n.useRef)(null),S=Object(n.useRef)(null),A=Object(n.useCallback)(()=>Object(c.b)(h||[])>r.i,[h]),P=Object(n.useCallback)(()=>{var x;if(S.current&&(!((x=S.current)===null||x===void 0)&&x.focus)){var H;(H=S.current)===null||H===void 0||H.focus()}},[]),N=Object(n.useCallback)((x,H)=>{u&&u(x,H)},[u]),G=Object(n.useCallback)(x=>{d(x)},[]),V=Object(n.useCallback)(x=>{g(x)},[]),k=Object(n.useCallback)(x=>{let{msgOps:H,overLimit:R}=x;b&&b(H),E(R)},[b]);return Object(n.useEffect)(()=>{Object(i.a)({shareType:p})||P()},[S,P,p]),{destinationError:v,setDestinationError:d,totalNumberDestinationMembers:m,setTotalNumberDestinationMembers:g,overMsgLengthLimit:O,setOverMsgLengthLimit:E,submitting:y,setSubmitting:C,closeDialogSpeedBumpState:j,closeCloseDialogSpeedBump:M,openCloseDialogSpeedBump:T,shouldShowCloseDialogSpeedBump:A,channelPickerInputRef:D,messageInputRef:S,onShareChannelChange:N,onShareChannelChangeError:G,onChangeTotalDestinationMembers:V,onTextChange:k}},"useShareDialogState")},W8kP:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return!t||!t.ops?!0:!(t.ops.length>0)}o(n,"isDeltaEmpty")},W9RG:function(w,s,e){"use strict";e.d(s,"h",function(){return l}),e.d(s,"f",function(){return p}),e.d(s,"j",function(){return h}),e.d(s,"b",function(){return b}),e.d(s,"a",function(){return v}),e.d(s,"c",function(){return d}),e.d(s,"d",function(){return m}),e.d(s,"i",function(){return g}),e.d(s,"g",function(){return y}),e.d(s,"e",function(){return C});var n=e("ZKjC"),t=e("G4qV"),a=e("JoR1"),i=e("j/ar"),c=e("pjW8"),r=e("s4P+");const f=Object(n.b)(I=>{var j;return I==null||(j=I.siwsDomains)===null||j===void 0?void 0:j.domainsCollection});f.meta={name:"createSelector",key:"createSelectorgetDomains",description:I=>{var j;return I==null||(j=I.siwsDomains)===null||j===void 0?void 0:j.domainsCollection}};const l=Object(n.b)(I=>{var j;return I==null||(j=I.connectedApps)===null||j===void 0?void 0:j.loading});l.meta={name:"createSelector",key:"createSelectorselectLoadingState",description:I=>{var j;return I==null||(j=I.connectedApps)===null||j===void 0?void 0:j.loading}};const p=o(I=>{const j=Object(a.t)(I,"identity_links_prefs");if(j)try{return JSON.parse(j)}catch{return Object(r.a)({state:I}).warn("Unable to parse identity_links_prefs JSON string"),{}}return{}},"selectIdentityLinksPrefs"),h=Object(t.a)(p,Object.keys),u=Object(n.b)(I=>{var j;return I==null||(j=I.connectedApps)===null||j===void 0?void 0:j.apps});u.meta={name:"createSelector",key:"createSelectorselectAppProfileInfo",description:I=>{var j;return I==null||(j=I.connectedApps)===null||j===void 0?void 0:j.apps}};const b=Object(t.a)(h,u,(I,j)=>I.filter(M=>!j[M])),v=Object(t.a)(p,u,i.a,function(I,j){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(I).map(S=>j[S]?{...j[S].profile||{},...Object(c.a)(I[S])||{},domain:M[S]||{}}:null).filter(S=>Boolean(S))}),d=Object(t.a)(v,I=>I.filter(j=>j==null?void 0:j.completedTransfer).sort((j,M)=>M.dateCompletedTransfer-j.dateCompletedTransfer)),m=Object(t.a)(v,I=>I.filter(j=>j==null?void 0:j.dateDisconnected).sort((j,M)=>M.dateDisconnected-j.dateDisconnected)),g=Object(t.a)(v,I=>I.filter(j=>(j==null?void 0:j.numSkipped)&&!(j!=null&&j.completedTransfer)).sort((j,M)=>M.dateLastSkipped-j.dateLastSkipped)),O=o(I=>{const j=Object(a.t)(I,"identity_links_global_prefs");if(j)try{return Object(c.a)(JSON.parse(j))}catch{return Object(r.a)({state:I}).warn("Unable to parse identity_links_global_prefs JSON string"),{}}return{}},"selectIdentityLinksGlobalPrefs"),E=Object(t.a)(O,I=>I==null?void 0:I.dateDisabled),y=Object(t.a)(E,I=>!I),C=Object(n.b)(I=>{var j;return I==null||(j=I.connectedApps)===null||j===void 0?void 0:j.error});C.meta={name:"createSelector",key:"createSelectorselectError",description:I=>{var j;return I==null||(j=I.connectedApps)===null||j===void 0?void 0:j.error}}},WKVO:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("SQ0V"),t=e("jBIF");const a=Object(n.c)("Creates JSON string of file permissions data submit to draft syncing endpoints",function(i,c){let{draftId:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=i(Object(t.a)({draftId:r}));if(!f)return;let l;try{f.length&&(l=JSON.stringify(f))}catch{l=void 0}return l});a.meta={name:"createThunk",key:"createThunkgetFormattedFilePermissions",description:"Creates JSON string of file permissions data submit to draft syncing endpoints"}},WM2Z:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("c+dP"),i=e("nNoG");function c(){return c=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(p[b]=u[b])}return p},c.apply(this,arguments)}o(c,"_extends");const r=new i.b("setup_page"),f=o(p=>{const{onClickCloseThis:h,onClickDismissAllTips:u,...b}=p;return t.a.createElement(a.f,c({"data-qa":"dismissal_menu"},b,{width:"200px"}),t.a.createElement(a.b,{label:r.t("Close tip",{fallbackHash:"9453e1cad14b475a506988bd4a022c2c38dd35c6",fallbackHashNs:"setup_page"}),"data-qa":"close_this",onSelected:h}),t.a.createElement(a.b,{label:r.t("Don\u2019t show tips"),"data-qa":"dont_show_tips",onSelected:u,className:"p-setup_dismissal_menu__menu_item_dismiss_tips"}))},"DismissalMenu");f.displayName="DismissalMenu";var l=s.a=Object(n.memo)(f)},WY9I:function(w,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.EMOJI="EMOJI",t.MENTION="MENTION",t.STORY="STORY",t.SLASHCOMMANDS="SLASHCOMMANDS",t.OVERFLOWMENU="OVERFLOWMENU"})(n||(n={}))},"We5+":function(w,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"a",function(){return r});var n=e("Lgge"),t=e("nNoG");const a=new t.b("files_types"),i={apl:{mimeType:"text/apl",label:()=>"APL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-apl")]).then(e.t.bind(null,"4kmW",7))},applescript:{mimeType:"text/applescript",label:()=>a.t("AppleScript")},asciiarmor:{mimeType:"application/pgp",label:()=>"PGP",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-asciiarmor")]).then(e.t.bind(null,"Jt+K",7))},"asn.1":{mimeType:"asn.1",label:()=>"ASN.1",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-asn.1")]).then(e.t.bind(null,"0OHD",7))},aspx:{mimeType:"application/x-aspx",label:()=>"ASP.NET",loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-htmlembedded")]).then(e.t.bind(null,"dLt8",7)),i.csharp.loader()])},asterisk:{mimeType:"text/x-asterisk",label:()=>"Asterisk",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-asterisk")]).then(e.t.bind(null,"yGjk",7))},brainfuck:{mimeType:"text/x-brainfuck",label:()=>"Bf",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-brainfuck")]).then(e.t.bind(null,"oF4/",7))},c:{mimeType:"text/x-csrc",label:()=>a.t("C"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},cfm:{mimeType:"text/plain",label:()=>a.t("ColdFusion")},clojure:{mimeType:"text/x-clojure",label:()=>a.t("Clojure"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-clojure")]).then(e.t.bind(null,"LA1u",7))},cmake:{mimeType:"text/x-cmake",label:()=>"CMake",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-cmake")]).then(e.t.bind(null,"qE+Q",7))},cobol:{mimeType:"text/x-cobol",label:()=>"Cobol",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-cobol")]).then(e.t.bind(null,"JNJg",7))},coffeescript:{mimeType:"text/x-coffeescript",label:()=>a.t("CoffeeScript"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-coffeescript")]).then(e.t.bind(null,"oL3q",7))},cpp:{mimeType:"text/x-c++src",label:()=>a.t("C++"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},crystal:{mimeType:"text/x-crystal",label:()=>a.t("Crystal"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-crystal")]).then(e.t.bind(null,"JRJP",7))},csharp:{mimeType:"text/x-csharp",label:()=>a.t("C#"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},css:{mimeType:"text/css",label:()=>a.t("CSS"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820")]).then(e.t.bind(null,"ewDg",7))},csv:{mimeType:"text/csv",label:()=>a.t("CSV")},cypher:{mimeType:"application/x-cypher-query",label:()=>a.t("Cypher"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-cypher")]).then(e.t.bind(null,"vW+e",7))},d:{mimeType:"text/x-d",label:()=>a.t("D"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-d")]).then(e.t.bind(null,"zRyg",7))},dart:{mimeType:"application/dart",label:()=>a.t("Dart"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba"),e.e("gantry-v2-async-codemirror-lang-dart")]).then(e.t.bind(null,"6q/U",7))},diff:{mimeType:"text/x-diff",label:()=>a.t("Diff"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-diff")]).then(e.t.bind(null,"3fnu",7))},django:{mimeType:"text/x-django",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("Django Template"):"Django"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-django")]).then(e.t.bind(null,"SzTn",7))},dockerfile:{mimeType:"text/x-dockerfile",label:()=>a.t("Docker"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-dockerfile")]).then(e.t.bind(null,"R6x9",7))},dtd:{mimeType:"application/xml-dtd",label:()=>"DTD",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-dtd")]).then(e.t.bind(null,"/YIB",7))},dylan:{mimeType:"text/x-dylan",label:()=>"Dylan",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-dylan")]).then(e.t.bind(null,"PLH4",7))},ebnf:{mimeType:"text/x-ebnf",label:()=>"EBNF",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ebnf")]).then(e.t.bind(null,"AvIz",7))},ecl:{mimeType:"text/x-ecl",label:()=>"ECL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ecl")]).then(e.t.bind(null,"rSpl",7))},eiffel:{mimeType:"text/x-eiffel",label:()=>"Eiffel",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-eiffel")]).then(e.t.bind(null,"t86p",7))},ejs:{mimeType:"application/x-ejs",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("Embedded JavaScript"):"EJS"},loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-htmlembedded")]).then(e.t.bind(null,"dLt8",7)),i.javascript.loader()])},elixir:{mimeType:"text/x-elixir",label:()=>"Elixir",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-elixir")]).then(e.bind(null,"k+dc"))},elm:{mimeType:"text/x-elm",label:()=>"Elm",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-elm")]).then(e.t.bind(null,"Rba3",7))},erb:{mimeType:"application/x-erb",label:()=>"ERB",loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-htmlembedded")]).then(e.t.bind(null,"dLt8",7)),i.ruby.loader()])},erlang:{mimeType:"text/x-erlang",label:()=>a.t("Erlang"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-erlang")]).then(e.t.bind(null,"9RTS",7))},factor:{mimeType:"text/x-factor",label:()=>"Factor",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-factor")]).then(e.t.bind(null,"yv4w",7))},fcl:{mimeType:"text/x-fcl",label:()=>"FCL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-fcl")]).then(e.t.bind(null,"xvvs",7))},forth:{mimeType:"text/x-forth",label:()=>"Forth",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-forth")]).then(e.t.bind(null,"CDkR",7))},fortran:{mimeType:"text/x-fortran",label:()=>a.t("Fortran"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-fortran")]).then(e.t.bind(null,"UYub",7))},fsharp:{mimeType:"text/x-fsharp",label:()=>a.t("F#"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mllike")]).then(e.t.bind(null,"NU+Z",7))},gas:{mimeType:"gas",label:()=>"Gas",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-gas")]).then(e.t.bind(null,"Upog",7))},gherkin:{mimeType:"text/x-feature",label:()=>a.t("Gherkin"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-gherkin")]).then(e.t.bind(null,"tkAH",7))},go:{mimeType:"text/x-go",label:()=>a.t("Go"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-go")]).then(e.t.bind(null,"T/QY",7))},graphql:{mimeType:"graphql",label:()=>"GraphQL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-graphql")]).then(e.t.bind(null,"HkoP",7))},groovy:{mimeType:"text/x-groovy",label:()=>a.t("Groovy"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-groovy")]).then(e.t.bind(null,"X7TR",7))},gss:{mimeType:"text/x-gss",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("Closure Stylesheets (GSS)"):"GSS"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820")]).then(e.t.bind(null,"ewDg",7))},haml:{mimeType:"text/x-haml",label:()=>"HAML",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-haml")]).then(e.t.bind(null,"c+b1",7))},handlebars:{mimeType:"text/x-handlebars-template",label:()=>a.t("Handlebars"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-handlebars")]).then(e.t.bind(null,"4d6s",7))},haskell:{mimeType:"text/x-haskell",label:()=>a.t("Haskell"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-haskell")]).then(e.t.bind(null,"0+DK",7))},haskell_literate:{mimeType:"text/x-literate-haskell",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("Literate Haskell"):"LHS"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-haskell-literate")]).then(e.t.bind(null,"INem",7))},haxe:{mimeType:"text/x-haxe",label:()=>a.t("Haxe"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-haxe")]).then(e.t.bind(null,"We/1",7))},html:{mimeType:"text/html",label:()=>a.t("HTML"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59")]).then(e.t.bind(null,"1p+/",7))},http:{mimeType:"message/http",label:()=>"HTTP",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-http")]).then(e.t.bind(null,"scEK",7))},idl:{mimeType:"text/x-idl",label:()=>"IDL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-idl")]).then(e.t.bind(null,"HqpV",7))},java:{mimeType:"text/x-java",label:()=>a.t("Java"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},javascript:{mimeType:"text/javascript",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("JavaScript"):"JavaScript"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"+dQi",7))},jinja2:{mimeType:"text/jinja2",label:()=>"Jinja2",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-jinja2")]).then(e.t.bind(null,"ToA7",7))},json:{mimeType:"application/json",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("JSON"):"JSON"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"+dQi",7))},json_ld:{mimeType:"application/ld+json",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("JSON for Linking Data"):"JSON-LD"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"+dQi",7))},jsp:{mimeType:"application/x-jsp",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?"JavaServer Pages":"JSP"},loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-htmlembedded")]).then(e.t.bind(null,"dLt8",7)),i.java.loader()])},jsx:{mimeType:"text/jsx",label:()=>a.t("JSX"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"onn/",7))},julia:{mimeType:"text/x-julia",label:()=>a.t("Julia"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-julia")]).then(e.t.bind(null,"NGrM",7))},kotlin:{mimeType:"text/x-kotlin",label:()=>a.t("Kotlin"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},latex:{mimeType:"text/x-stex",label:()=>a.t("LaTeX/sTeX"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-stex")]).then(e.t.bind(null,"+NIl",7))},less:{mimeType:"text/x-less",label:()=>"LESS",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820")]).then(e.t.bind(null,"ewDg",7))},lisp:{mimeType:"text/x-common-lisp",label:()=>a.t("Lisp"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-commonlisp")]).then(e.t.bind(null,"kmAK",7))},livescript:{mimeType:"text/x-livescript",label:()=>"LiveScript",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-livescript")]).then(e.t.bind(null,"5RX+",7))},lua:{mimeType:"text/x-lua",label:()=>a.t("Lua"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-lua")]).then(e.t.bind(null,"jrMQ",7))},markdown:{mimeType:"yaml-frontmatter",label:()=>a.t("Markdown (raw)"),loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-yaml-frontmatter")]).then(e.t.bind(null,"0gIM",7)),Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-markdown")]).then(e.t.bind(null,"RKCW",7))])},mathematica:{mimeType:"text/x-mathematica",label:()=>a.t("Mathematica"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mathematica")]).then(e.t.bind(null,"ztbM",7))},matlab:{mimeType:"text/x-octave",label:()=>a.t("MATLAB"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-octave")]).then(e.t.bind(null,"mybg",7))},mbox:{mimeType:"application/mbox",label:()=>"mbox",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mbox")]).then(e.t.bind(null,"6mA5",7))},mirc:{mimeType:"text/mirc",label:()=>"mIRC",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mirc")]).then(e.t.bind(null,"o5kb",7))},modelica:{mimeType:"modelica",label:()=>"Modelica",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-modelica")]).then(e.t.bind(null,"lQiH",7))},mscgen:{mimeType:"text/x-mscgen",label:()=>"MscGen",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mscgen")]).then(e.t.bind(null,"6gTk",7))},mumps:{mimeType:"text/x-mumps",label:()=>a.t("MUMPS"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mumps")]).then(e.t.bind(null,"Q7su",7))},mysql:{mimeType:"text/x-mysql",label:()=>"SQLite",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-sql")]).then(e.t.bind(null,"/9rB",7))},nginx:{mimeType:"text/x-nginx-conf",label:()=>"Nginx",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-nginx")]).then(e.t.bind(null,"srmC",7))},nsis:{mimeType:"text/x-nsis",label:()=>"NSIS",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-nsis")]).then(e.t.bind(null,"bYLO",7))},ntriples:{mimeType:"application/n-triples",label:()=>"NTriples",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ntriples")]).then(e.t.bind(null,"PWBO",7))},objc:{mimeType:"text/x-objectivec",label:()=>a.t("Objective-C"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},ocaml:{mimeType:"text/x-ocaml",label:()=>a.t("OCaml"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mllike")]).then(e.t.bind(null,"NU+Z",7))},oz:{mimeType:"text/x-oz",label:()=>"Oz",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-oz")]).then(e.t.bind(null,"yhmh",7))},pascal:{mimeType:"text/x-pascal",label:()=>a.t("Pascal"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-pascal")]).then(e.t.bind(null,"lB9V",7))},pegjs:{mimeType:"pegjs",label:()=>"PEG.js",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-pegjs")]).then(e.t.bind(null,"ZGb1",7))},perl:{mimeType:"text/x-perl",label:()=>a.t("Perl"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-perl")]).then(e.t.bind(null,"kG+r",7))},php:{mimeType:"application/x-httpd-php",label:()=>a.t("PHP"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba"),e.e("gantry-v2-async-codemirror-lang-php")]).then(e.t.bind(null,"RNWO",7))},pig:{mimeType:"text/x-pig",label:()=>a.t("Pig"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-pig")]).then(e.t.bind(null,"860+",7))},powershell:{mimeType:"application/x-powershell",label:()=>a.t("PowerShell"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-powershell")]).then(e.t.bind(null,"naPG",7))},properties:{mimeType:"text/x-ini",label:()=>"INI",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-properties")]).then(e.t.bind(null,"3Fvf",7))},protobuf:{mimeType:"text/x-protobuf",label:()=>"ProtoBuf",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-protobuf")]).then(e.t.bind(null,"cHwl",7))},pug:{mimeType:"text/x-pug",label:()=>"Pug/Jade",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-pug")]).then(e.t.bind(null,"W+/v",7))},puppet:{mimeType:"text/x-puppet",label:()=>a.t("Puppet"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-puppet")]).then(e.t.bind(null,"cwoo",7))},python:{mimeType:"text/x-python",label:()=>a.t("Python"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-python")]).then(e.t.bind(null,"25Eh",7))},q:{mimeType:"text/x-q",label:()=>"Q",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-q")]).then(e.t.bind(null,"MiqB",7))},r:{mimeType:"text/x-rsrc",label:()=>a.t("R"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-r")]).then(e.t.bind(null,"kD6b",7))},rpm:{mimeType:"text/x-rpm-spec",label:()=>"RPM",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-rpm")]).then(e.t.bind(null,"Qs4+",7))},rst:{mimeType:"text/x-rst",label:()=>"reStructuredText",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-rst")]).then(e.t.bind(null,"jIQM",7))},ruby:{mimeType:"text/x-ruby",label:()=>a.t("Ruby"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ruby")]).then(e.t.bind(null,"hTYL",7))},rust:{mimeType:"text/x-rustsrc",label:()=>a.t("Rust"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-rust")]).then(e.t.bind(null,"sY4N",7))},sas:{mimeType:"text/x-sas",label:()=>"SAS",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-sas")]).then(e.t.bind(null,"Sh3j",7))},sass:{mimeType:"text/x-sass",label:()=>a.t("Sass"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("gantry-v2-async-codemirror-lang-sass")]).then(e.t.bind(null,"G2Pi",7))},scala:{mimeType:"text/x-scala",label:()=>a.t("Scala"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},scheme:{mimeType:"text/x-scheme",label:()=>a.t("Scheme"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-scheme")]).then(e.t.bind(null,"8wdy",7))},scss:{mimeType:"text/x-scss",label:()=>"SCSS",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820")]).then(e.t.bind(null,"ewDg",7))},shell:{mimeType:"text/x-sh",label:()=>a.t("Shell"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-shell")]).then(e.t.bind(null,"AvDn",7))},sieve:{mimeType:"application/sieve",label:()=>"Sieve",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-sieve")]).then(e.t.bind(null,"1dRh",7))},slim:{mimeType:"text/x-slim",label:()=>"Slim",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-slim")]).then(e.t.bind(null,"VI2i",7))},smalltalk:{mimeType:"text/x-stsrc",label:()=>a.t("Smalltalk"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-smalltalk")]).then(e.t.bind(null,"n4Nj",7))},smarty:{mimeType:"text/x-smarty",label:()=>"Smarty",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-smarty")]).then(e.t.bind(null,"QWhe",7))},solr:{mimeType:"text/x-solr",label:()=>"Solr",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-solr")]).then(e.t.bind(null,"xhF3",7))},soy:{mimeType:"text/x-soy",label:()=>"Soy",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-soy")]).then(e.t.bind(null,"vH+N",7))},sparql:{mimeType:"application/sparql-query",label:()=>"SPARQL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-sparql")]).then(e.t.bind(null,"++e5",7))},spreadsheet:{mimeType:"text/x-spreadsheet",label:()=>"Spreadsheet",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-spreadsheet")]).then(e.t.bind(null,"bEWP",7))},sql:{mimeType:"text/x-mysql",label:()=>a.t("SQL"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-sql")]).then(e.t.bind(null,"/9rB",7))},stylus:{mimeType:"text/x-styl",label:()=>"Stylus",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-stylus~gantry-v2-async-codemirror-lang-vue")]).then(e.t.bind(null,"dtKC",7))},swift:{mimeType:"text/x-swift",label:()=>a.t("Swift"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-swift")]).then(e.t.bind(null,"wOIU",7))},tcl:{mimeType:"text/x-tcl",label:()=>"Tcl",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-tcl")]).then(e.t.bind(null,"BEBj",7))},textile:{mimeType:"text/x-textile",label:()=>"Textile",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-textile")]).then(e.t.bind(null,"TD3l",7))},tiddlywiki:{mimeType:"text/x-tiddlywiki",label:()=>"TiddlyWiki ",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-tiddlywiki")]).then(e.t.bind(null,"9+NH",7))},tiki:{mimeType:"text/tiki",label:()=>"Tiki Wiki",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-tiki")]).then(e.t.bind(null,"Km7L",7))},toml:{mimeType:"text/x-toml",label:()=>"TOML",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-toml")]).then(e.t.bind(null,"0sou",7))},tornado:{mimeType:"text/x-tornado",label:()=>"Tornado",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("gantry-v2-async-codemirror-lang-tornado")]).then(e.t.bind(null,"xbNY",7))},troff:{mimeType:"text/troff",label:()=>"Troff",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-troff")]).then(e.t.bind(null,"s1o1",7))},tsv:{mimeType:"text/tab-separated-values",label:()=>a.t("TSV")},tsx:{mimeType:"text/typescript-jsx",label:()=>a.t("TSX"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"onn/",7))},ttcn:{mimeType:"ttcn",label:()=>"TTCN",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ttcn")]).then(e.t.bind(null,"TYrp",7))},ttcn_cfg:{mimeType:"ttcn-cfg",label:()=>"TTCN_CFG",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ttcn-cfg")]).then(e.t.bind(null,"hmTv",7))},turtle:{mimeType:"text/turtle",label:()=>"Turtle",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-turtle")]).then(e.t.bind(null,"P3N9",7))},twig:{mimeType:"text/x-twig",label:()=>"Twig",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-twig")]).then(e.t.bind(null,"SII/",7))},typescript:{mimeType:"text/typescript",label:()=>a.t("TypeScript"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"+dQi",7))},vb:{mimeType:"text/x-vb",label:()=>a.t("VB.NET"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-vb")]).then(e.t.bind(null,"Kr55",7))},vbscript:{mimeType:"text/vbscript",label:()=>a.t("VBScript"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-vbscript")]).then(e.t.bind(null,"axah",7))},velocity:{mimeType:"text/velocity",label:()=>a.t("Velocity"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-velocity")]).then(e.t.bind(null,"/kYp",7))},verilog:{mimeType:"text/x-verilog",label:()=>a.t("Verilog"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-verilog")]).then(e.t.bind(null,"m2bc",7))},vhdl:{mimeType:"text/x-vhdl",label:()=>"VHDL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-vhdl")]).then(e.t.bind(null,"PP56",7))},vue:{mimeType:"script/x-vue",label:()=>"Vue.js",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-css~gantry-v2-async-codemirror-lang-django~gantry-v2-async-c~0e762820"),e.e("vendors~gantry-v2-async-codemirror-lang-django~gantry-v2-async-codemirror-lang-haml~gantry-v2-async-~bf1d1b59"),e.e("vendors~gantry-v2-async-codemirror-lang-stylus~gantry-v2-async-codemirror-lang-vue"),e.e("gantry-v2-async-codemirror-lang-vue")]).then(e.t.bind(null,"aT2M",7))},webidl:{mimeType:"text/x-webidl",label:()=>"Web IDL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-webidl")]).then(e.t.bind(null,"PVgs",7))},xml:{mimeType:"text/xml",label:()=>a.t("XML"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-xml")]).then(e.t.bind(null,"1eCo",7))},xquery:{mimeType:"application/xquery",label:()=>"XQuery",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-xquery")]).then(e.t.bind(null,"bJEP",7))},yacas:{mimeType:"yacas",label:()=>"Yacas",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-yacas")]).then(e.t.bind(null,"WThJ",7))},yaml:{mimeType:"text/x-yaml",label:()=>a.t("YAML"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-yaml")]).then(e.t.bind(null,"ztCB",7))},z80:{mimeType:"text/x-z80",label:()=>"Z80",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-z80")]).then(e.t.bind(null,"dRHf",7))}};s.c=i;const c="text",r="auto"},Wjm6:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("gSGL"),c=e("yIs4"),r=e("Cfcg"),f=e("mvFy"),l=e("QYtq"),p=e("mLC8"),h=e("T1zM"),u=e("zxER"),b=e("VkPA"),v=e("nNoG"),d=e("9oTK"),m=e("UXvI"),g=e("hbEN"),O=e("Gs4e"),E=e("Gulw"),y=e("Tm50"),C=e("/MKj"),I=e("oSkh"),j=e("RqXZ"),M=e("c7k8"),T=e("RVJP"),D=e("qDEp");const S=o(ee=>{let{gifClickCallback:q,url:te,id:de,isSelected:se,previewUrl:re,name:oe,width:ce,height:ue,bytes:Pe,previewBytes:Ye}=ee;const $e=Object(n.useCallback)(qe=>{q(qe,{previewUrl:re,name:oe,width:ce,height:ue,bytes:Pe,previewBytes:Ye,originalGifUrl:te})},[q,re,oe,ce,ue,Pe,Ye,te]),Ke=Object(n.useRef)(null);return Object(n.useEffect)(()=>{if(se){var qe;Ke==null||(qe=Ke.current)===null||qe===void 0||qe.focus()}},[se]),t.a.createElement(D.d,{role:"gridcell",className:"p-gif_picker__row_item",onClick:$e,key:de,tabIndex:-1,ref:Ke},t.a.createElement("div",{className:"p-gif_picker__row_item_preview",style:{backgroundImage:`url(${te})`},"data-item-key":de}))},"GifListItem");S.displayName="GifListItem";var A=e("/2YZ");const P=o(ee=>{let{index:q,style:te,row:de,gifResultsMap:se,isGifSelected:re,onGifSelected:oe}=ee;const ce=Object(n.useCallback)(ue=>{let{row:{items:Pe}={items:[]}}=ue;if(Pe)return Pe.map((Ye,$e)=>{const Ke=se[Ye],{id:qe,content_description:ct,media_formats:{tinygif:{url:Be,dims:pe,size:fe}={url:"",dims:[],size:0},tinygifpreview:{url:me,size:Se}={url:"",size:0}}}=Ke||{},je=q*A.f+$e,Ue=re({gif:qe,index:je});return t.a.createElement(S,{key:qe,id:qe,url:Be,previewUrl:me,name:ct,width:pe[0],height:pe[1],bytes:fe,previewBytes:Se,gifClickCallback:oe,isSelected:Ue,index:je})})},[se,re,q,oe]);return t.a.createElement("div",{className:"p-gif_picker__row",style:te},ce({row:de}))},"GifListRow");P.displayName="GifListRow";var N=e("FAxm"),G=e("1Aeb"),V=e("LTWq"),k=e("khnw"),x=e("1ufr"),H=e("xKHu");const R=new v.b("gif-picker"),W=o(()=>t.a.createElement("svg",{fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",className:"p-gif_picker__empty_content"},t.a.createElement("path",{d:"M18.75 3.50098C20.5449 3.50098 22 4.95605 22 6.75098V17.2536C22 19.0485 20.5449 20.5036 18.75 20.5036H5.25C3.45507 20.5036 2 19.0485 2 17.2536V6.75098C2 4.95605 3.45507 3.50098 5.25 3.50098H18.75ZM18.75 5.00098H5.25C4.2835 5.00098 3.5 5.78448 3.5 6.75098V17.2536C3.5 18.2201 4.2835 19.0036 5.25 19.0036H18.75C19.7165 19.0036 20.5 18.2201 20.5 17.2536V6.75098C20.5 5.78448 19.7165 5.00098 18.75 5.00098ZM8.0146 8.87237C8.6115 8.87237 9.03353 8.9537 9.51677 9.18576C9.82793 9.33519 9.95904 9.70856 9.80962 10.0197C9.66019 10.3309 9.28682 10.462 8.97566 10.3126C8.67583 10.1686 8.43601 10.1224 8.0146 10.1224C7.14789 10.1224 6.51104 10.9187 6.51104 11.9947C6.51104 13.0717 7.14873 13.8707 8.0146 13.8707C8.44322 13.8707 8.80607 13.6908 8.99484 13.3699L9.001 13.355V12.621L8.62522 12.6216C8.31142 12.6216 8.05164 12.3904 8.007 12.089L8.00022 11.9966C8.00022 11.6828 8.23148 11.423 8.53286 11.3784L8.62522 11.3716H9.62682C9.94062 11.3716 10.2004 11.6029 10.245 11.9043L10.2518 11.9966L10.2505 13.5443L10.2441 13.5996L10.223 13.6895L10.2025 13.7446C9.82607 14.6348 8.96156 15.1207 8.0146 15.1207C6.38858 15.1207 5.26104 13.708 5.26104 11.9947C5.26104 10.2821 6.38839 8.87237 8.0146 8.87237ZM12.6289 8.99437C12.9427 8.99437 13.2025 9.22563 13.2472 9.52701L13.2539 9.61937V14.3815C13.2539 14.7267 12.9741 15.0065 12.6289 15.0065C12.3151 15.0065 12.0554 14.7752 12.0107 14.4739L12.0039 14.3815V9.61937C12.0039 9.27419 12.2838 8.99437 12.6289 8.99437ZM15.6248 8.99437L17.6222 9.00127C17.9673 9.00246 18.2462 9.28325 18.245 9.62842C18.2439 9.94222 18.0118 10.2012 17.7102 10.2448L17.6178 10.2513L16.247 10.246V12L17.37 12.0008C17.6838 12.0008 17.9436 12.2321 17.9882 12.5335L17.995 12.6258C17.995 12.9396 17.7637 13.1994 17.4624 13.2441L17.37 13.2508L16.247 13.25L16.2476 14.3654C16.2476 14.6792 16.0163 14.939 15.715 14.9836L15.6226 14.9904C15.3088 14.9904 15.049 14.7591 15.0044 14.4578L14.9976 14.3654V9.61721C14.9987 9.30342 15.2308 9.04443 15.5324 9.00083L15.6248 8.99437Z"})),"GifPopoverEmptyContent");W.displayName="GifPopoverEmptyContent";const U=100+12,_=Object(x.a)(ee=>{let{window:q,onGifSelected:te,onClosed:de}=ee;const se=Object(C.useDispatch)(),[re,oe]=Object(n.useState)(),ce=Object(n.useRef)(null),[ue,Pe]=Object(n.useState)({}),[Ye,$e]=Object(n.useState)(""),[Ke,qe]=Object(n.useState)(A.b),[ct,Be]=Object(n.useState)(0),[pe,fe]=Object(n.useState)(),[me,Se]=Object(n.useState)(!1),je=Object(u.c)(be=>Object(T.d)(be,"native_gif_picker")==="on"),Ue=Object(n.useRef)(null),ve=Object(n.useRef)(null),ge=Object(n.useRef)(null),le=Object(n.useRef)(null);Object(n.useEffect)(()=>{var be;(be=ge.current)===null||be===void 0||be.scrollToRow(ct)},[ct]);const he=Object(n.useCallback)(be=>{let{gif:ot,index:rt}=be;return Object(G.a)({selection:ot,cursorPosition:Ke,index:rt,numPerRow:A.f,currentSelection:Ye})},[Ke,Ye]),Te=Object(n.useMemo)(()=>{const be=[...Object.keys(ue||{})],ot=be.length/A.f,rt=[];for(let Jt=0;Jt<ot;Jt++){const Qt=be.splice(0,A.f);rt.push({items:Qt,type:N.a.GIF})}return rt},[ue]),Re=Object(n.useCallback)(()=>{const be=[0,0],ot=Object(V.a)(Te,be);qe(be),$e(ot??"")},[Te]),Ve=Object(n.useCallback)(()=>{qe(A.b),$e(""),Be(void 0),Be(0)},[]),Ee=Object(n.useCallback)(be=>{if(Te.length<1)return;if(be.target===ve.current&&re&&Ke===A.b){var ot,rt,Jt;if(!(be.keyCode===k.o&&((ot=ve.current)===null||ot===void 0?void 0:ot.selectionEnd)===((rt=ve.current)===null||rt===void 0?void 0:rt.value.length)&&((Jt=q.document.getSelection())===null||Jt===void 0?void 0:Jt.type)!=="Range")&&(be.keyCode===k.k||be.keyCode===k.o))return}be.preventDefault();const Qt=Object(V.d)({screenRows:Te,direction:be.keyCode,currentCursor:Ke||A.b,pickerType:A.g.GIF,infiniteScroll:!0}),qt=Object(V.a)(Te,Qt);qe(Qt),$e(qt??"")},[Ke,Te,re,q]),Ae=Object(m.a)(Ee,A.a),Ge=Object(n.useCallback)((be,ot)=>{de(be),te==null||te(be,ot)},[de,te]),Ze=Object(n.useCallback)(be=>{let{index:ot,key:rt,style:Jt}=be;const Qt=Te[ot];return t.a.createElement(P,{index:ot,key:rt,style:Jt,row:Qt,gifResultsMap:ue,isGifSelected:he,onGifSelected:Ge})},[Te,ue,he,Ge]),ze=Object(n.useCallback)(be=>{let{gifs:ot,previousMap:rt={}}=be;const Jt={...rt};return ot.reduce((Qt,qt)=>(Qt[qt.id]=qt,Qt),Jt)},[]),lt=Object(n.useCallback)(()=>{Pe({}),Ve(),fe(void 0),Se(!1)},[Ve]);Object(n.useEffect)(()=>{re!==void 0&&!re.length&&Te.length&&lt()},[re,Te.length,lt]);const tt=Object(n.useCallback)(be=>{let{gifs:ot,next_cursor:rt,value:Jt}=be;if(Jt!==re)return;Be(0),Ve();const Qt=ze({gifs:ot,previousMap:{}});Pe(Qt),fe(rt)},[Ve,ze,re]),Ot=Object(n.useCallback)(be=>{var ot;const rt=(ot=be.target)===null||ot===void 0?void 0:ot.value;if(rt!=null&&rt.replace(/[\s\t\n]/g,"").length){const Jt={query:rt,limit:30};se(Object(E.a)(Jt)).then(Qt=>{let{gifs:qt=[],response_metadata:{next_cursor:$t}}=Qt;tt({gifs:qt,next_cursor:$t,value:rt})})}},[se,tt]),Ct=Object(g.a)(Ot,360),St=Object(n.useCallback)(be=>{be.persist(),!(be.key&&!Object(H.a)(be))&&Ct(be)},[Ct]),zt=Object(n.useCallback)(be=>{var ot;if(be.persist(),((ot=q.document.querySelector("#gif-picker-list"))===null||ot===void 0?void 0:ot.contains(be==null?void 0:be.target))&&ve.current&&Object(H.a)(be)){Ve(),ve.current.focus();return}[k.r,k.c,k.k,k.o].includes(be.keyCode)&&Ae(be);const Jt=q.document.activeElement===le.current;be.keyCode===k.q&&!be.shiftKey&&Jt&&Re()},[Ae,q,Re,Ve]),kt=Object(n.useCallback)(()=>{Ve()},[Ve]),on=function(){var be=Object(d.coroutine)(function*(){if(re!==void 0&&re.length&&!me){const ot={query:re,limit:30,cursor:pe};Se(!0);const rt=yield se(Object(E.a)(ot)),{gifs:Jt=[],response_metadata:{next_cursor:Qt}}=rt,qt=ze({gifs:Jt,previousMap:ue});Pe(qt),fe(Qt),Se(!1)}});return o(function(){return be.apply(this,arguments)},"loadMoreRows")}(),_t=o(be=>{let{index:ot}=be;return!!Te[ot]},"isRowLoaded");return Object(n.useEffect)(()=>{const be={limit:50};se(Object(y.a)(be)).then(ot=>{let{gifs:rt=[]}=ot;const Jt=ze({gifs:rt,previousMap:{}});Pe(Jt)})},[se,ze]),t.a.createElement("div",{className:"p-gif_picker",onKeyDown:zt,role:"presentation"},t.a.createElement("header",{className:"p-gif_picker__header",ref:Ue},t.a.createElement(O.b,{focusOnMount:!0,onChange:oe,onFocus:kt,value:re??"",className:"p-gif_picker__search_input",onKeyUp:St,ref:ve,placeholder:je?R.t("Search all GIFs on Tenor"):"Search all GIFs on Tenor"})),t.a.createElement("section",{className:"p-gif_picker__content",ref:ce},Te.length?t.a.createElement(I.a,null,be=>{let{width:ot,height:rt}=be;return t.a.createElement(M.f,{isRowLoaded:_t,loadMoreRows:on,rowCount:1e3},Jt=>{let{onRowsRendered:Qt,registerChild:qt}=Jt;return t.a.createElement(j.a,{onRowsRendered:Qt,ref:$t=>{qt($t),ge.current=$t},screenRows:Te,className:"p-gif_picker__list_scroller",height:rt,rowCount:Te.length,rowHeight:U,rowRenderer:Ze,scrollToAlignment:"start",width:ot,tabIndex:null,id:"gif-picker-list",role:"presentation",containerRole:"presentation","aria-label":"","aria-readonly":!1})})}):t.a.createElement(W,null)))});var B=e("BHdc"),z=e("zm5I");const L=o(ee=>{let{isActive:q}=ee;const te=Object(u.c)(de=>Object(z.a)(de)==="dark");return q?t.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",className:Object(B.default)("p-emoji_and_gif_picker_custom_icons__custom-icon",{"p-emoji_and_gif_picker_custom_icons__custom-icon--active":q,"p-emoji_and_gif_picker_custom_icons__custom-icon--dark":te})},t.a.createElement("g",{clipPath:"url(#clip0_538_258928)"},t.a.createElement("path",{d:"M4.5 1.5H15.5C17.1569 1.5 18.5 2.84315 18.5 4.5V7V15.5C18.5 17.1569 17.1569 18.5 15.5 18.5H4.5C2.84315 18.5 1.5 17.1569 1.5 15.5V4.5C1.5 2.84315 2.84315 1.5 4.5 1.5Z",fill:q?"#9ED6FA":"none",strokeWidth:"1.5",className:"p-emoji_and_gif_picker_custom_icons__stroke"}),t.a.createElement("circle",{cx:"12.5",cy:"8.5",r:"1.5",className:"p-emoji_and_gif_picker_custom_icons__fill"}),t.a.createElement("path",{d:"M6.90216 12.5C7.39558 14 8.71137 14.75 10.0272 14.75C11.3429 14.75 12.6587 14 13.1522 12.5",strokeWidth:"1.5",strokeLinecap:"round",className:"p-emoji_and_gif_picker_custom_icons__stroke"}),t.a.createElement("path",{d:"M7.03613 7.53516L9.03613 8.67801L7.03613 9.53516",strokeLinecap:"round",strokeLinejoin:"round",className:"p-emoji_and_gif_picker_custom_icons__stroke"})),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0_538_258928"},t.a.createElement("rect",{width:"20",height:"20",fill:"white"})))):t.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Object(B.default)("p-emoji_and_gif_picker_custom_icons__custom-icon",{"p-emoji_and_gif_picker_custom_icons__custom-icon--active":q,"p-emoji_and_gif_picker_custom_icons__custom-icon--dark":te})},t.a.createElement("g",{clipPath:"url(#clip0_538_258934)"},t.a.createElement("path",{d:"M4.5 1.6272H12.4244C13.3242 1.6272 14.1765 2.03108 14.7462 2.72748L17.6125 6.23062C18.051 6.76661 18.2906 7.43781 18.2906 8.13033V15.4178C18.2906 17.0746 16.9474 18.4178 15.2906 18.4178H4.5C2.84315 18.4178 1.5 17.0746 1.5 15.4178V4.6272C1.5 2.97034 2.84315 1.6272 4.5 1.6272Z",className:"p-emoji_and_gif_picker_custom_icons__stroke",strokeWidth:"1.5"}),t.a.createElement("circle",{cx:"7.42601",cy:"8.54097",r:"1.48152",className:"p-emoji_and_gif_picker_custom_icons__fill"}),t.a.createElement("circle",{cx:"12.3645",cy:"8.54097",r:"1.48152",className:"p-emoji_and_gif_picker_custom_icons__fill"}),t.a.createElement("path",{d:"M6.83563 12.4917C7.32298 13.9732 8.62256 14.714 9.92214 14.714C11.2217 14.714 12.5213 13.9732 13.0086 12.4917",className:"p-emoji_and_gif_picker_custom_icons__stroke",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0106 8.91138C12.8969 8.91138 11.9941 8.00855 11.9941 6.89486L11.9941 3.60259C11.9941 1.6647 14.4611 0.842363 15.6238 2.39268L18.093 5.68495C19.0901 7.01431 18.1415 8.91138 16.4798 8.91138L14.0106 8.91138ZM13.7226 6.89486C13.7226 7.05396 13.8515 7.18293 14.0106 7.18293L16.4798 7.18293C16.7172 7.18293 16.8527 6.91192 16.7103 6.72202L14.2411 3.42975C14.075 3.20827 13.7226 3.32575 13.7226 3.60259L13.7226 6.89486Z",className:"p-emoji_and_gif_picker_custom_icons__fill"})),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0_538_258934"},t.a.createElement("rect",{width:"20",height:"20",fill:"white"}))))},"GifIcon");L.displayName="GifIcon";const $=o(ee=>{let{isActive:q}=ee;const te=Object(u.c)(de=>Object(z.a)(de)==="dark");return q?t.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",className:Object(B.default)("p-emoji_and_gif_picker_custom_icons__custom-icon",{"p-emoji_and_gif_picker_custom_icons__custom-icon--active":q,"p-emoji_and_gif_picker_custom_icons__custom-icon--dark":te})},t.a.createElement("path",{d:"M19 10C19 5.03 14.97 1 10 1C5.03 1 1 5.03 1 10C1 14.97 5.03 19 10 19C14.97 19 19 14.97 19 10Z",fill:"#F2C744"}),t.a.createElement("path",{d:"M10 1C14.97 1 19 5.03 19 10C19 14.97 14.97 19 10 19C5.03 19 1 14.97 1 10C1 5.03 5.03 1 10 1ZM10 2.5C5.86 2.5 2.5 5.86 2.5 10C2.5 14.14 5.86 17.5 10 17.5C14.14 17.5 17.5 14.14 17.5 10C17.5 5.86 14.14 2.5 10 2.5Z",className:"p-emoji_and_gif_picker_custom_icons__fill"}),t.a.createElement("path",{d:"M8.12202 8.31307C7.33104 8.06157 6.89556 7.22006 7.14705 6.42908C7.39855 5.6381 8.24007 5.20261 9.03105 5.45411C9.82203 5.70561 10.2575 6.54713 10.006 7.33811C9.75452 8.12909 8.913 8.56457 8.12202 8.31307ZM12.887 9.82812C12.096 9.57662 11.6605 8.73511 11.912 7.94413C12.1635 7.15315 13.005 6.71766 13.796 6.96916C14.587 7.22066 15.0225 8.06218 14.771 8.85316C14.5195 9.64414 13.6779 10.0796 12.887 9.82812ZM8.68643 14.7885C5.60828 13.8098 5.39459 10.9506 5.72487 9.91188C5.84607 9.53068 6.24755 9.29107 6.66687 9.42439L13.4331 11.5758C13.8524 11.7091 14.0418 12.1366 13.9206 12.5178C13.6024 13.5184 11.8027 15.7794 8.68643 14.7885Z",className:"p-emoji_and_gif_picker_custom_icons__fill"})):t.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",className:"p-emoji_and_gif_picker_custom_icons__custom-icon"},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 10C2.5 5.85786 5.85786 2.5 10 2.5C14.1421 2.5 17.5 5.85786 17.5 10C17.5 14.1421 14.1421 17.5 10 17.5C5.85786 17.5 2.5 14.1421 2.5 10ZM10 1C5.02944 1 1 5.02944 1 10C1 14.9706 5.02944 19 10 19C14.9706 19 19 14.9706 19 10C19 5.02944 14.9706 1 10 1ZM7.5 9.5C8.32843 9.5 9 8.82843 9 8C9 7.17157 8.32843 6.5 7.5 6.5C6.67157 6.5 6 7.17157 6 8C6 8.82843 6.67157 9.5 7.5 9.5ZM14 8C14 8.82843 13.3284 9.5 12.5 9.5C11.6716 9.5 11 8.82843 11 8C11 7.17157 11.6716 6.5 12.5 6.5C13.3284 6.5 14 7.17157 14 8ZM7.61454 11.7656C7.48511 11.3722 7.06121 11.1581 6.66774 11.2876C6.27427 11.417 6.06022 11.8409 6.18966 12.2344C6.7965 14.0792 8.42824 15 10.0271 15C11.626 15 13.2577 14.0792 13.8645 12.2344C13.994 11.8409 13.7799 11.417 13.3865 11.2876C12.993 11.1581 12.5691 11.3722 12.4397 11.7656C12.0597 12.9208 11.0598 13.5 10.0271 13.5C8.99438 13.5 7.99455 12.9208 7.61454 11.7656Z",className:"p-emoji_and_gif_picker_custom_icons__fill"}))},"EmojiIcon");$.displayName="EmojiIcon";const Q=new v.b("emoji_picker"),K={EMOJIS:"emojis",GIFS:"gifs"},Z=o(ee=>{let{onSkinToneChanged:q,onEmojiSelected:te,onClosed:de=a.a,showHandyReactions:se,hideAddEmojiButton:re,enableSkinTonePicker:oe,onGifSelected:ce=a.a}=ee;const[ue,Pe]=Object(n.useState)(K.EMOJIS),Ye=p.d.isEnabled()?f.a:f.b,$e=Object(u.c)(qe=>Object(T.d)(qe,"native_gif_picker")==="on"),Ke=Object(n.useMemo)(()=>{const qe=t.a.createElement(Ye,{onSkinToneChanged:q,onSelected:te,onClosed:de,showHandyReactions:!!se,hideAddEmojiButton:!!re,enableSkinTonePicker:!!oe,className:"p-emoji_picker--with_gif_picker"});return[{title:$e?Q.t("Emoji"):"Emoji",id:K.EMOJIS,"data-qa":`${K.EMOJIS}_tab`,content:qe,customIcon:t.a.createElement($,{isActive:ue===K.EMOJIS})},{title:$e?Q.t("GIFs"):"GIFs",id:K.GIFS,"data-qa":`${K.GIFS}_tab`,content:t.a.createElement(_,{onGifSelected:ce,onClosed:de}),customIcon:t.a.createElement(L,{isActive:ue===K.GIFS})}]},[Ye,q,te,de,se,re,oe,$e,ue,ce]);return t.a.createElement(b.a,{className:"p-emoji_and_gif_pickers_container",tabs:Ke,currentTabId:ue,onTabChange:Pe,manualTabActivation:!0,iconPosition:"left",fullWidthMenu:!0})},"EmojiAndGifPickersContainer");Z.displayName="EmojiAndGifPickersContainer";function ne(){return ne=Object.assign||function(ee){for(var q=1;q<arguments.length;q++){var te=arguments[q];for(var de in te)Object.prototype.hasOwnProperty.call(te,de)&&(ee[de]=te[de])}return ee},ne.apply(this,arguments)}o(ne,"_extends");const F=15;let J=o(class extends n.Component{onEmojiSelected(q,te){this.props.onEmojiSelected&&this.props.onEmojiSelected(q,te)}onSkinToneChanged(q){this.props.setUserPrefByApi({pref:"preferred_skin_tone",value:q})}renderPopover(q){const{offsetX:te,offsetY:de,position:se,contentStyle:re,overlayStyle:oe,showHandyReactions:ce,shouldReturnFocusAfterClose:ue,hideAddEmojiButton:Pe,enableSkinTonePicker:Ye,tryOppositePosition:$e,enableGifPicker:Ke,experimentNativeGifPickerGroupOn:qe,onGifSelected:ct}=this.props,Be=p.d.isEnabled()?f.a:f.b;return t.a.createElement(l.a,ne({shouldFade:!1,allowanceX:F,allowanceY:F,position:se,offsetX:te||0,tryOppositePosition:!!$e,offsetY:de||0,contentStyle:re,overlayStyle:oe,shouldReturnFocusAfterClose:!!ue},q),t.a.createElement(t.a.Fragment,null,qe&&Ke?t.a.createElement(Z,{onSkinToneChanged:this.onSkinToneChanged,onEmojiSelected:this.onEmojiSelected,onGifSelected:ct,onClosed:q.onClose,showHandyReactions:!!ce,hideAddEmojiButton:!!Pe,enableSkinTonePicker:!!Ye}):t.a.createElement(Be,{onSkinToneChanged:this.onSkinToneChanged,onSelected:this.onEmojiSelected,onClosed:q.onClose,showHandyReactions:!!ce,hideAddEmojiButton:!!Pe,enableSkinTonePicker:!!Ye})))}render(){const{onClick:q,onClose:te,forceOpen:de,startsOpen:se,customTrigger:re,targetBounds:oe}=this.props;return t.a.createElement(l.b,{onClick:q||a.a,onClose:te||a.a,customTrigger:!!re,forceOpen:!!de,startsOpen:!!se,targetBounds:oe,renderPopover:this.renderPopover,shouldCloseOnOverlayMouseDown:!0},this.props.children)}constructor(q){if(super(q),!Object(i.a)(q.children)&&!Object(c.a)(q.children)&&q.children&&q.children.type&&q.children.type===t.a.Fragment)throw new Error("EmojiMenuTrigger component cannot contain React Fragment as outermost element from props.children");this.onEmojiSelected=this.onEmojiSelected.bind(this),this.onSkinToneChanged=this.onSkinToneChanged.bind(this),this.renderPopover=this.renderPopover.bind(this)}},"EmojiMenuTrigger");J.displayName="EmojiMenuTrigger",J.defaultProps={offsetX:0,offsetY:-6,position:"top-left",onClick:a.a,onClose:a.a,onEmojiSelected:a.a,showHandyReactions:!1,customTrigger:!1,forceOpen:!1,startsOpen:!1,contentStyle:void 0,overlayStyle:void 0,shouldReturnFocusAfterClose:!0,tryOppositePosition:!1,hideAddEmojiButton:!1,enableSkinTonePicker:!0,enableGifPicker:!1};const X=o(ee=>({experimentNativeGifPickerGroupOn:Object(T.d)(ee,"native_gif_picker")==="on"}),"mapStateToProps"),Y={setUserPrefByApi:ee=>Object(h.f)(ee)};var ae=s.a=Object(r.a)(X,Y)(J)},WwqK:function(w,s,e){"use strict";e.d(s,"b",function(){return a}),e.d(s,"e",function(){return i}),e.d(s,"a",function(){return c}),e.d(s,"d",function(){return r}),e.d(s,"c",function(){return f});var n=e("gPPH");const t=new Map;function a(l,p,h){var u;const b=(u=t.get(l))!==null&&u!==void 0?u:new Map;b.set(p,h),t.set(l,b)}o(a,"registerFileIdForWindow");function i(l,p){var h;if(((h=t.get(l))===null||h===void 0?void 0:h.size)===1)t.delete(l);else{var u;(u=t.get(l))===null||u===void 0||u.delete(p)}}o(i,"unregisterFileIdForWindow");function c(l,p){var h,u;return(u=(h=t.get(l))===null||h===void 0?void 0:h.get(p))===null||u===void 0?void 0:u.docEmbed.a11yReadOnlyMode}o(c,"getA11yReadOnly");function r(l,p){var h,u;(u=(h=t.get(l))===null||h===void 0?void 0:h.get(p))===null||u===void 0||u.docEmbed.docEditor.toggleA11yReadOnlyMode()}o(r,"toggleA11yReadOnly");function f(l,p,h,u){var b,v;(v=(b=t.get(l))===null||b===void 0?void 0:b.get(p))===null||v===void 0||v.announcerContext.sendMessageToAnnouncerAPI({message:h,assertive:u,uuid:Object(n.a)()})}o(f,"sendA11yAnnouncement")},WySd:function(w,s,e){"use strict";e.d(s,"c",function(){return a}),e.d(s,"b",function(){return i}),e.d(s,"a",function(){return c});var n=e("dqj/"),t=e("P9LH");function a(r){return r.attachments?r.attachments[0]:void 0}o(a,"getAttachmentFromMessagePostedToFileChannel");function i(r){var f;const l=a(r);var p,h;return(h=(p=Object(n.f)(l))!==null&&p!==void 0?p:Object(n.n)(l))!==null&&h!==void 0?h:(f=r.text)===null||f===void 0?void 0:f.slice(1,-1)}o(i,"extractURLFromMessagePostedToFileChannel");function c(r){const f=Object(t.eb)(r),l=Object(t.Q)(r)==="snippet";return!!(f||l)}o(c,"IsFileThumbnailAvailableForUnfurlsInCanvas")},"Wya+":function(w,s,e){"use strict";e.d(s,"a",function(){return Z});var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("SQ0V"),c=e("3l96"),r=e("9avG"),f=e("m8R6"),l=e("yIs4"),p=e("WIr4"),h=e("Cfcg"),u=e("mM05"),b=e.n(u),v=e("O86Y"),d=e("+kJ4"),m=e("5IZy"),g=e("Z44y"),O=e("ktUG"),E=e("mSgU"),y=e("3yyz"),C=e("dA19"),I=e("95ku"),j=e("3V+Q"),M=e("HOkk");function T(){return T=Object.assign||function(J){for(var X=1;X<arguments.length;X++){var Y=arguments[X];for(var ae in Y)Object.prototype.hasOwnProperty.call(Y,ae)&&(J[ae]=Y[ae])}return J},T.apply(this,arguments)}o(T,"_extends");const D={display:"none"};class S extends n.PureComponent{save(){const{isValid:X,onGo:Y,closeModal:ae}=this.props;if(!X)return;const ee=Y();ee&&ee.then&&ee.then(()=>{ae()})}submit(X){X.preventDefault(),this.save()}render(){const{children:X,isValid:Y,onGo:ae,...ee}=this.props;return t.a.createElement(M.a,T({},ee,{goButtonIsDisabled:!Y||ee.goButtonIsDisabled,shouldCloseOnGo:!1,onGo:this.save}),t.a.createElement("form",{onSubmit:this.submit},X,t.a.createElement("button",{style:D,type:"submit"},"Submit")))}constructor(X){super(X),this.submit=this.submit.bind(this),this.save=this.save.bind(this)}}o(S,"form_dialog_FormDialog"),S.displayName="_FormDialog",S.defaultProps={isValid:!1};const A={closeModal:d.a},P=Object(h.a)(null,A)(S);var N=e("nNoG"),G=e("gSGL"),V=e("lhZz"),k=e("pu3F"),x=e("sxm7"),H=e("slMn"),R=e("yrot"),U=o((J,X)=>{if(!Object(G.a)(X))return null;const Y=J&&Object(V.getStateByTeamId)(J),ae=Object(x.b)(J);return X.replace(ae,(ee,q,te,de)=>{if(de>0&&X.charAt(de-1)===k.hb)return ee;const se=Object(H.a)(ee)||"",re=Object(R.i)(Y,se);return re?`:${re}:`:ee})},"replaceNativeEmojiWithText"),_=e("taA2"),B=e("OXvE");const z=new N.b("message-input");let L=o(class extends n.Component{onChange(X,Y){X==="text"?this.setState(()=>({text:Y,inputIsDirty:!0})):X==="url"&&this.setState(()=>({url:Y,inputIsDirty:!0}))}onSubmit(){const{initialText:X,teamId:Y}=this.props,{text:ae,url:ee}=this.state;let q=ee?ee.trim().replace(/ /g,"%20"):"";if(!q.length){this.removeLink();return}const te=Object(_.a)(q);te&&te.length===1&&te[0].text===q?q=`mailto:${q}`:q.match(/^[a-zA-Z]{0,63}:(\/\/)?.+/)||(q=`${q.substr(0,2)==="//"?"http:":"http://"}${q}`);const se=!ae||!ae.length||ae.match(/^\s+$/)?ee:ae,re=U(Y,se||"");this.saveLink({didTextChange:re!==X,text:re||"",url:q})}saveLink(X){let{didTextChange:Y,text:ae,url:ee}=X;var q,te,de,se;const{quillRef:re,range:oe,source:ce,clogger:ue}=this.props;if(!oe)return;let Pe=oe.index+ae.length;const Ye=new b.a;if(oe.index>0&&Ye.retain(oe.index),!Y&&oe.length>0){var $e;re==null||($e=re.current)===null||$e===void 0||$e.getContents(oe).forEach(ct=>{const Be=Object(y.a)(ct);Object(C.a)(ct)?Ye.retain(Be):Ye.retain(Be,{link:ee,slackmention:!1,unlink:!1})})}else{var Ke;const ct=Object(f.a)((re==null||(Ke=re.current)===null||Ke===void 0?void 0:Ke.getFormat(oe))||{},["slackmention","link"]);oe.length&&Ye.delete(oe.length),Ye.insert(ae,{...ct,link:ee,unlink:!1})}oe.length===0&&(Ye.insert(" "),Pe+=1);const qe=re==null||(q=re.current)===null||q===void 0?void 0:q.getModule("slacklink");qe&&(qe.skipNextTextChange=!0),re==null||(te=re.current)===null||te===void 0||te.updateContents(Ye),re==null||(de=re.current)===null||de===void 0||de.setSelection(Pe,0),re==null||(se=re.current)===null||se===void 0||se.focus(),Object(l.a)(ce)&&ue.track(O.EventId.MSG_FORMATTING_ADDED,{input_context:Object(g.a)()?O.MsgFormattingInputContext.POST:O.MsgFormattingInputContext.MESSAGE,input_source:ce,input_format:E.a.link,is_selection:oe.length>0})}removeLink(){var X,Y;const{quillRef:ae,range:ee,source:q,clogger:te}=this.props;this.props.closeModal(),ee&&(ae==null||(X=ae.current)===null||X===void 0||X.formatText(ee.index,ee.length,{link:!1,unlink:!0}),te.track(O.EventId.MSG_FORMATTING_REMOVED,{input_context:Object(g.a)()?O.MsgFormattingInputContext.POST:O.MsgFormattingInputContext.MESSAGE,input_source:q,input_format:E.a.link,is_selection:!0}),ae==null||(Y=ae.current)===null||Y===void 0||Y.setSelection(ee.index+ee.length,0))}isValid(){const{url:X}=this.state;return!(X&&X.trim().match(/^javascript:/gi)||X&&X.trim().match(/^about:/gi))}render(){const{quillRef:X,initialUrl:Y,initialBlocks:ae,textIsEditable:ee,focusTextOnMount:q,focusUrlOnMount:te}=this.props,{text:de,url:se,inputIsDirty:re}=this.state,oe=ee?t.a.createElement(j.b,{text:z.t("Text"),htmlFor:"composer-link-modal-text",id:"composer-link-modal-text-1"},t.a.createElement(I.a,{name:"composer-link-modal-text",id:"composer-link-modal-text",onChange:ce=>this.onChange("text",ce),size:"medium",value:de,focusOnMount:q})):t.a.createElement(t.a.Fragment,null,t.a.createElement(j.b,{text:z.t("Text")}),t.a.createElement("div",{className:"margin_bottom_125 half_opacity"},t.a.createElement(B.a,{richTextBlock:ae.blocks?ae.blocks[0]:null})));return t.a.createElement(P,{title:Y?z.t("Edit link"):z.t("Add link"),goButtonText:z.t("Save"),cancelText:z.t("Cancel"),onGo:this.onSubmit,onClose:()=>{var ce;X==null||(ce=X.current)===null||ce===void 0||ce.focus()},isValid:this.isValid(),goButtonIsDisabled:!re},oe,t.a.createElement(j.b,{text:z.t("Link"),htmlFor:"composer-link-modal-url",id:"composer-link-modal-url-1"},t.a.createElement(I.a,{name:"composer-link-modal-url",id:"composer-link-modal-url",onChange:ce=>this.onChange("url",ce),size:"medium",value:se,focusOnMount:te})))}constructor(X){super(X),this.state={text:X.initialText,url:X.initialUrl,inputIsDirty:!1},Object(p.a)(this,["onChange","onSubmit","isValid"])}},"ComposerLinkModal");L.displayName="ComposerLinkModal",L.defaultProps={quillRef:void 0,range:void 0,initialBlocks:void 0,initialText:void 0,initialUrl:void 0,textIsEditable:!0,focusTextOnMount:!1,focusUrlOnMount:!1,teamId:void 0,source:void 0};const $=o(J=>({teamId:Object(v.g)(J),clogger:Object(m.a)({state:J})}),"mapStateToProps"),Q=o(J=>({closeModal:function(){for(var X=arguments.length,Y=new Array(X),ae=0;ae<X;ae++)Y[ae]=arguments[ae];return J(Object(d.a)(...Y))}}),"mapDispatchToProps");var K=Object(h.a)($,Q)(L);const Z="composer_link_modal",ne=Object(i.c)("Opens the Texty link form modal",(J,X,Y)=>{let{quill:ae,initialContents:ee,initialText:q,initialUrl:te,textIsEditable:de,range:se,source:re}=Y;const oe=de?null:Object(r.b)({delta:ee,state:X()}),ce=t.a.createElement(K,{quillRef:{current:ae},initialBlocks:oe,initialText:q,initialUrl:te,textIsEditable:de,focusTextOnMount:!q||!q.length,focusUrlOnMount:!!(q&&q.length),range:se,source:re});J(Object(c.a)({element:ce,name:Z,isStackable:!0}))});ne.meta={name:"createThunk",key:"createThunkopenTextyLinkFormModal",description:"Opens the Texty link form modal"},ne.propTypes={quill:a.default.object.isRequired,initialBlocks:a.default.arrayOf(a.default.object),initialText:a.default.string,initialUrl:a.default.string,textIsEditable:a.default.bool.isRequired,range:a.default.object.isRequired,source:a.default.number.isRequired};var F=s.b=ne},"X+Fw":function(w,s,e){"use strict";e.d(s,"b",function(){return y}),e.d(s,"a",function(){return j}),e.d(s,"c",function(){return M});var n=e("oTSI"),t=e("UXvI"),a=e("uAML"),i=e("lhZz"),c=e("aVws");function r(D){const[S,A]=D.split("_");return{fileId:S,sectionId:A}}o(r,"deserialize");function f(D,S){return`${D}_${S}`}o(f,"serialize");var l=e("SQ0V"),p=e("s4P+"),h=e("Lgge"),u=e("kQBZ"),b=e("in8x");const v="CANVAS-SECTION-CFM",d=Object(l.c)("Fetches rich text representation of a canvas section",(D,S,A)=>{let{ids:P}=A;const N={};return P.forEach(G=>{const{fileId:V,sectionId:k}=r(G);N[V]=(N[V]||[]).concat(k)}),h.a.map(Object.keys(N),G=>{const V=N[G];return Object(p.a)({getState:S,label:v}).info(`Re-fetching sectionIds:${V} in fileId:${G}`),D(Object(u.ag)({fileId:G,sectionIds:V,reason:"conditional-fetching"})).then(k=>{k.sections&&k.sections.forEach(x=>{D(Object(b.c)({fileId:G,sectionId:x.id,richText:x.blocks}))})}).catch(()=>{D(Object(b.b)({fileId:G}))})})});d.meta={name:"createThunk",key:"createThunkfetchAndUpsertCanvasSectionRichText",description:"Fetches rich text representation of a canvas section"};var m=e("P0Un");const g=30*1e3,O=new m.a(20),E=Object(n.a)(()=>new a.b({fetch:(D,S)=>Object(i.dispatchForTeamId)(D,d({ids:S})),isEnabled:()=>!0})),y=o((D,S,A)=>E().maybeRefetch(Object(c.b)(D,"canvasSectionRichText"),f(S,A)),"maybeRefetch"),C=o((D,S,A)=>E().markObjectsAsFresh(Object(c.b)(D,"canvasSectionRichText"),A.map(P=>f(S,P))),"markObjectsAsFresh"),I=o(D=>E().getFreshObjects(Object(c.b)(D,"canvasSectionRichText")).map(r),"getFreshObjects"),j=o((D,S)=>{const A=I(D);let P=[];return S.forEach(N=>{const G=A.filter(V=>V.fileId===N);P=P.concat(G.map(V=>{let{fileId:k,sectionId:x}=V;return f(k,x)}))}),E().markObjectsAsStale(Object(c.b)(D,"canvasSectionRichText"),P)},"markObjectsAsStale"),M=o((D,S)=>{const A=`${D}-${S}`;return O.readWithDefault(A,N=>Object(t.a)(j,g,{leading:!0,trailing:!0}))(D,[S])},"throttledMarkObjectsAsStale"),T=o((D,S,A)=>E().isObjectFresh(Object(c.b)(D,"canvasSectionRichText"),f(S,A)),"isObjectFresh")},"X7+j":function(w,s,e){"use strict";e.d(s,"d",function(){return T}),e.d(s,"c",function(){return D}),e.d(s,"b",function(){return S}),e.d(s,"a",function(){return A});var n=e("9oTK"),t=e("q1tI"),a=e.n(t),i=e("SQ0V"),c=e("oY18"),r=e("nNoG"),f=e("g3a/");const l=new r.b("slack_functions"),p=o(()=>a.a.createElement(f.a,{duration:6e3},a.a.createElement("span",null,l.rt("You successfully started a workflow"))),"SlackFunctionFormModalConfirmToast");p.displayName="SlackFunctionFormModalConfirmToast";var h=p,u=e("rAyg"),b=e("WAPM");const v=new r.b("slack_functions"),d=o(P=>{let{errorType:N,errorSubType:G}=P,V=v.rt("Oops, there was an error running that workflow");switch(N){case"access_denied":if(G){switch(G){case"unsupported_private_channel":V=v.rt("Unfortunately you can\u2019t run new workflows in private channels");break;case"unsupported_slack_connect_channel":V=v.rt("Unfortunately you can\u2019t run new workflows in Slack Connect");break;case"away_user_home_only_workflow":V=v.rt("People from external orgs can\u2019t use this workflow. <a>Learn more about workflow restrictions</a>.",{fallbackHash:"cc2bc8453df04b82213495de2b46006c48d23693"},k=>{let{text:x,tag:H}=k;return H==="a"?a.a.createElement(b.a,{articleId:0xd8057515213},x):null});break;default:break}break}V=v.rt("You don\u2019t have permissions to run this workflow");break;case"trigger_not_found":V=v.rt("This workflow no longer exists.");break;case"not_opted_into_overages":case"reached_upper_spend_limit":case"free_team_not_allowed":V=v.rt("<strong>Workflow currently unavailable.</strong> <br></br>Contact a workspace owner for help.");break;default:break}return a.a.createElement(u.a,null,a.a.createElement("span",null,V))},"SlackFunctionTriggerErrorToast");d.displayName="SlackFunctionTriggerErrorToast";var m=d;const g=new r.b("hermes_shortcuts"),O=o(()=>a.a.createElement(u.a,null,a.a.createElement("span",null,g.rt("You successfully copied the workflow"))),"HermesCopyWorkflowConfirmToast");O.displayName="HermesCopyWorkflowConfirmToast";var E=O,y=e("lqkv"),C=e("RVJP"),I=e("zxER");const j=new r.b("hermes_shortcuts"),M=o(P=>{let{workflowTitle:N}=P;const G=Object(I.c)(k=>Object(C.d)(k,"connector_ai_step_indicator")==="on");let V;return N?V=G?j.rt("<strong>You started {workflowTitle}.</strong> This workflow might take a little longer to run.",{workflowTitle:N}):"":V=G?j.t("<strong>You started a workflow.</strong> This workflow might take a little longer to run."):"",a.a.createElement(y.b,{icon:"rocket"},V)},"SlowWorkflowStartedToast");M.displayName="SlowWorkflowStartedToast";const T=Object(i.c)("eneuques a shortcut trigger run toast",function(){var P=Object(n.coroutine)(function*(N,G){return N(Object(c.a)({element:a.a.createElement(h,null)}))});return function(N,G){return P.apply(this,arguments)}}());T.meta={name:"createThunk",key:"createThunkenqueueTriggerSuccessToast",description:"eneuques a shortcut trigger run toast"};const D=Object(i.c)("eneuques a shortcut trigger run error toast",function(){var P=Object(n.coroutine)(function*(N,G,V){let{errorType:k,errorSubType:x}=V;return N(Object(c.a)({element:a.a.createElement(m,{errorType:k,errorSubType:x})}))});return function(N,G,V){return P.apply(this,arguments)}}());D.meta={name:"createThunk",key:"createThunkenqueueTriggerErrorToast",description:"eneuques a shortcut trigger run error toast"};const S=Object(i.c)("eneuques a shortcut trigger run toast",function(){var P=Object(n.coroutine)(function*(N,G,V){let{workflowTitle:k}=V;return N(Object(c.a)({element:a.a.createElement(M,{workflowTitle:k})}))});return function(N,G,V){return P.apply(this,arguments)}}());S.meta={name:"createThunk",key:"createThunkenqueueSlowWorkflowStartedToast",description:"eneuques a shortcut trigger run toast"};const A=Object(i.c)("eneuques a trigger copied toast",function(){var P=Object(n.coroutine)(function*(N,G){return N(Object(c.a)({element:a.a.createElement(E,null)}))});return function(N,G){return P.apply(this,arguments)}}());A.meta={name:"createThunk",key:"createThunkenqueueCopiedTriggerSuccessToast",description:"eneuques a trigger copied toast"}},XELS:function(w,s,e){"use strict";e.d(s,"a",function(){return I});var n=e("Lgge"),t=e("n3tL"),a=e("fujP"),i=e("WCk1"),c=e("2XU3"),r=e("AzV5"),f=e("jprL"),l=e("Sczb"),p=e("Kn+X"),h=e("BBdC"),u=e("62K+"),b=e("2XGx"),v=e("Cnv9"),d=e("9BpI"),m=e("WKVO"),g=e("rq8k"),O=e("RVJP"),E=e("nwIl"),y=e("D1F6"),C=e("z4V0");const I=Object(i.a)("Creates a draft",function(j,M){let{draft:T,reason:D,origClientDraftId:S,acknowledgedUnfurls:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var P;if(Object(a.a)(T))return n.a.reject(new Error("No draft provided"));const N=Object(p.e)(T),G=S??N,V=Object(p.n)(T),k=j(Object(r.a)({msgOps:V}))||g.a,x=Object(p.j)(T),H=Object(h.a)(T),R=M();let W=j(Object(d.a)({draftId:G,ops:V}));const U=Object(O.d)(R,"native_gif_picker")==="on",_=Object(E.a)(R,{draftId:N}),B=(((P=Object(l.g)(R,G,[f.f]))===null||P===void 0?void 0:P.length)||0)>0;W||(W=B?JSON.stringify([]):void 0);const z=Object(v.b)(R)?j(Object(u.a)({draftId:N})):void 0;let L=z?Object(b.a)(z):[];if(U&&_){const Q=Object(y.a)(R,{draftId:N,status:C.b.DRAFT});L=L.concat(Q)}const $=j(Object(m.a)({draftId:N}));return j(Object(c.apiCall)({method:"drafts.create",args:{blocks:JSON.stringify(k),client_msg_id:Object(p.s)(T),attachments:L,destinations:JSON.stringify(x),file_ids:JSON.stringify(H),unfurl:A||W,is_from_composer:Object(p.z)(T),date_scheduled:Object(p.i)(T),file_permissions:$},reason:D}))});I.meta={name:"createFetcher",key:"createFetchercreateDraftApi",description:"Creates a draft"},I.propTypes={draft:t.default.object.isRequired,reason:t.default.string.isRequired}},XFNL:function(w,s,e){"use strict";e.d(s,"b",function(){return l}),e.d(s,"d",function(){return i}),e.d(s,"c",function(){return p}),e.d(s,"e",function(){return b}),e.d(s,"f",function(){return M}),e.d(s,"a",function(){return D.a});var n=e("M39c"),t=e("YeHW"),a=e("T4G+");const i=o(S=>Object(t.a)(S)&&Object(n.j)(S)===a.c,"isOpenFormSegment");var c=e("wdL8");const r=o(S=>{if(i(S))return S.config.inputs[c.b.on_submit_function_config]},"getOnSubmitConfig"),f=o((S,A)=>{const P=r(S);if(!(!P||!(A in P.value.inputs)))return P.value.inputs[A]},"getOnSubmitConfigInput"),l=o(S=>{var A;return(A=r(S))===null||A===void 0?void 0:A.value.function_id},"getWrappedFunctionId"),p=o(S=>i(S)&&!!r(S),"isFormWrappedSegment");var h=e("lYve");const u=o((S,A)=>{const P=Object(c.i)(S);return A.input_parameters.reduce((N,G)=>{var V;const k=P==null?void 0:P.find(B=>{let{name:z}=B;return z===G.name});var x;const H=(x=k==null?void 0:k.value)!==null&&x!==void 0?x:k==null?void 0:k.default,R=(V=f(S,G.name))===null||V===void 0?void 0:V.value;let U=typeof R=="string"&&(R==null?void 0:R.startsWith("{{$this.form.fields."))?H:R;typeof U=="boolean"&&(U=String(U));const _=k&&k.choices&&typeof U=="string"?{[U]:k.choices[0].title}:void 0;return N[G.name]={value:U??null,..._&&{label:_}},N},{})},"transformSegmentFormFieldsToInputs"),b=o((S,A)=>p(S)?{...S,config:{...S.config,function_id:A.id,type:A.type,inputs:u(S,A)}}:S,"transformFormWrappedFunctionSegment");var v=e("kNaz"),d=e("vIgB");const{SlackTypesUserId:m,SlackTypesChannelId:g,SlackTypesFileId:O}=d.d,E=o(S=>{switch(S.type){case d.d.String:return Array.isArray(S.enum)?v.c.Dropdown:S.long?v.c.LongText:v.c.ShortText;case d.d.Number:return Array.isArray(S.enum)?v.c.Dropdown:v.c.Number;case d.d.Integer:return Array.isArray(S.enum)?v.c.Dropdown:v.c.Integer;case d.d.SlackTypesDate:return v.c.Date;case d.d.SlackTypesTimestamp:return v.c.DateTime;case d.d.SlackTypesUserId:return v.c.SelectUser;case d.d.SlackTypesChannelId:return v.c.SelectConversation;case d.d.SlackTypesRichText:return v.c.RichText;case d.d.Boolean:return v.c.Boolean;case d.d.Array:{const A=S.items&&typeof S.items=="object"&&"type"in S.items?S.items.type:void 0;if(A===m)return v.c.UserMultiSelect;if(A===g)return v.c.ChannelMultiSelect;if(A===O)return v.c.File;if(A==="string")return v.c.StaticMultiSelect;throw new Error(`Input parameter with base type 'array' has unrecognized items type: ${A}`)}default:throw new Error(`Unable to derive question type for parameter of type: ${S.type}`)}},"deriveQuestionTypeFromInputParameter");var y=e("MWPj");const C=o((S,A)=>{if(!(!A&&A!==0&&A!==!1))return S===y.a.Number||S===y.a.Integer?Number(A):S===y.a.Boolean&&typeof A=="string"?A.toLowerCase()==="true":S===y.a.Array?Array.isArray(A)?A:[]:A},"coerceDefaultValueByInputType"),I=o((S,A,P)=>S.reduce((N,G)=>{if("childInputs"in G&&Array.isArray(G.childInputs)&&G.childInputs.length>0)return N;if(Object(h.a)(G.type)){const k=E(G),{name:x,type:H,title:R,description:W,items:U,long:_,minimum:B,maximum:z}=G;var V;const{value:L,label:$}=(V=A[x])!==null&&V!==void 0?V:{};let Q=G.choices,K;const Z="dynamic_options"in G&&G.dynamic_options;if(Z&&(K={type:"reference",function:P,parameter:[G.name]}),Z&&L){const F=!!$&&typeof L=="string"&&!!$[L];Q=[{value:L,title:F?$[L]:L}]}const ne={type:H,questionType:k,title:R,label:R,description:W,name:x,long:_,minimum:B,maximum:z,optional:!G.is_required};U&&(ne.items=U),G.enum&&(ne.enum=G.enum),Q&&(ne.choices=Q),K&&(ne.external_select=K),L&&(ne.default=C(G.type,L)),N.push(ne)}return N},[]),"transformInputsToFormFields");var j=e("KNcQ");const M=o(S=>{const A={locked:!1,hidden:!1},{config:P,id:N,type:G}=S,V=Object(n.h)(S);if(!V||!V.input_parameters.length)return S;const k=I(V.input_parameters,P.inputs,P.function_id),x=V.input_parameters.reduce((W,U)=>{const _=k.some(z=>z.name===U.name),B=Object(n.c)(S,U.name);return _?W[U.name]={...A,...B,value:`{{$this.form.fields.${U.name}}}`}:B&&(B.value||B.value===!1||B.value===0)&&(W[U.name]={...A,...B}),W},{}),H=V.title.length<=a.b?V.title:`${V.title.substring(0,a.b-1)}\u2026`;return{...S,id:N,type:G,config:{...P,slackFunction:void 0,type:j.a.BuiltIn,function_id:a.c,inputs:{[c.b.fields]:{value:k},[c.b.title]:{value:H},[c.b.on_submit_function_config]:{value:{id:S.id,function_id:P.function_id,inputs:x}}}}}},"transformSegmentToOpenForm");var T=e("Fi0I"),D=e("9AgP")},"XZ+b":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("SQ0V"),c=e("3l96"),r=e("+kJ4"),f=e("8j99");const l=Object(i.c)("Display warning when user attemps to share a URL with sensitive login info",(p,h,u)=>{let{channelId:b,dateScheduled:v,urlString:d,onSend:m,onClose:g=a.a}=u;const O=t.a.createElement(f.a,{channelId:b,dateScheduled:v,urlString:d,onClose:()=>{g(),p(Object(r.a)())},onSend:m});p(Object(c.a)({element:O}))});l.meta={name:"createThunk",key:"createThunkopenLoginInitiateRedirectLinkWarningDialog",description:"Display warning when user attemps to share a URL with sensitive login info"},s.a=l},XayX:function(w,s,e){"use strict";e.d(s,"a",function(){return p});var n=e("nNoG"),t=e("A+oD"),a=e("kBpe"),i=e("P9LH"),c=e("drD8"),r=e("oq5T"),f=e("RVJP");const l=new n.b("files");function p(h,u,b){if(Object(f.d)(b,"file_consistency")==="treatment"){const d=Object(r.a)(b,u);let m;switch(h){case"detail":m=l.t("Click to view details");break;case"view":m=l.rt("View <strong>{fileType}</strong> in Slack",{fileType:d,fallbackHash:"4373df90f1ae5a82dd83d58a8fb61b1e705f1496"});break;case"download":m=l.rt("Download <strong>{fileType}</strong>",{fileType:d,fallbackHash:"30db38f6cca1027133585204ba5fe29e334abf8b"});break;case"window":if(Object(i.t)(u)){if(Object(c.a)(b,u).edit){m=l.t("Edit in new window");break}m=l.t("Open in new window");break}m=l.t("Click to open original");break;case"remote":m=l.rt("Open <strong>{fileType}</strong> in <strong>{appName}</strong>",{appName:Object(t.a)(b,u),fileType:d,fallbackHash:"fdf53377932b56896fbf2078ce736a6c00f4734a"});break;case"reveal":m=Object(a.p)()?l.t("Show in Finder"):l.t("Open containing folder");break;case"external":switch(u.external_type){case"gdrive":m=l.rt("Open <strong>{fileType}</strong> in browser",{fileType:d,fallbackHash:"2208430e3a61290ed957caf3f590606b07f487f0"});break;case"dropbox":m=l.rt("Open <strong>{fileType}</strong> in DropBox",{fileType:d,fallbackHash:"6734623f3dfad69099aaa81fa11ce19431b98c65"});break;case"box":m=l.rt("Open <strong>{fileType}</strong> in Box",{fileType:d,fallbackHash:"4b9a59eede692bac88605a693f6c946f1ed9fe43"});break;case"onedrive":m=l.rt("Open <strong>{fileType}</strong> in OneDrive",{fileType:d,fallbackHash:"84fd5fe3f6f647f10ed57c0b7cbaee8ee213c6ce"});break;default:m=l.t("Open file")}break;case"open":d==="Canvas"||d==="Template"?m=l.rt("Open {fileType}",{fileType:d.toLowerCase()}):m=l.t("Open file");break;default:m=l.t("Open file");break}return m}switch(h){case"detail":return l.t("Click to view details");case"view":return l.t("Click to view");case"download":return l.t("Click to download");case"window":return Object(i.t)(u)?Object(c.a)(b,u).edit?l.t("Edit in new window"):l.t("Open in new window"):l.t("Click to open original");case"remote":return l.t("Click to open in {appName}",{appName:Object(t.a)(b,u)||""});case"reveal":return Object(a.p)()?l.t("Show in Finder"):l.t("Open containing folder");case"external":switch(u.external_type){case"gdrive":return l.t("Click to open in Google\xA0Drive");case"dropbox":return l.t("Click to open in Dropbox");case"box":return l.t("Click to open in Box");case"onedrive":return l.t("Click to open in OneDrive");default:return l.t("Click to open in a\xA0web\xA0page")}case"open":default:return l.t("Click to open")}}o(p,"getActionText")},XpTY:function(w,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"c",function(){return i}),e.d(s,"b",function(){return c});var n=e("lCmp"),t=e("vFlG");function a(r){if(!r)return!1;const f=["code-block","blockquote","list"];return Object(n.a)(f,p=>Object(t.a)(r,p))}o(a,"doesAttributesContainBlockFormatting");function i(r){if(!r)return!1;const{insert:f,attributes:l}=r;return f!==`
`||!l?!1:a(l)}o(i,"isOpOnlyBlockFormatting");function c(r){if(!r)return!1;const f=r.ops;if(!f||f.length!==1)return!1;const l=r.ops[0];return l?i(l):!1}o(c,"isDeltaOnlyBlockFormatting")},Xstn:function(w,s,e){"use strict";var n=e("HSXp"),t=e("szr9"),a=e("d+k3"),i=e("4V1c");s.a=n.a},Xx2o:function(w,s,e){"use strict";e.d(s,"a",function(){return js});var n=e("ifKl"),t=e("fujP"),a=e("3Hq1"),i=e("M1Wn"),c=e("gSGL"),r=e("HA5h"),f=e("yIs4"),l=e("8QLk"),p=e("Bw5p"),h=e("jeQL"),u=e("XhtD"),b=e("mYQK"),v=e.n(b),d=e("mM05"),m=e.n(d),g=e("wSSu"),O=e.n(g),E=e("QOYf"),y=e("Z44y"),C=e("cqtq"),I=e("qAkX"),j=e("pu3F"),M=e("Yu+/"),T=e("VJ6u");const D=j.E-1;function S(Je,Ie,et){let Ne=0;Je==null||Je.forEach(xe=>{Object(M.a)(xe)&&(Ne+=1)});const De=(Ie==null?void 0:Ie.indent)||0,_e=(et==null?void 0:et.indent)||0;let Me=Math.min(De+_e,D);return Ne===2&&(Me=_e>=De?0:De),Me}o(S,"getRelativeIndent");function A(){let{delta:Je,format:Ie,omitFinalBlockFormattingLine:et=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{delta:void 0,format:void 0,omitFinalBlockFormattingLine:!1},Ne=new m.a;Je==null||Je.eachLine((xe,Fe)=>{if(Ne=Ne.concat(xe),Ie!=null&&Ie.list&&(Fe!=null&&Fe.list)){const we=S(Je,Ie,Fe);Ne=Ne.concat(new m.a().insert(`
`,{...Fe,indent:we}))}else if(Ie!=null&&Ie.blockquote&&(Fe!=null&&Fe.list)){const we=S(Je,Ie,Fe);Ne=Ne.concat(new m.a().insert(`
`,{blockquote:!1,border:1,list:Fe.list,indent:we}))}else Ie!=null&&Ie.blockquote&&(Fe!=null&&Fe["code-block"])?Ne=Ne.concat(new m.a().insert(`
`,{blockquote:!1,border:1,"code-block":!0})):Ne=Ne.concat(new m.a().insert(`
`,Ie))}),Ie&&Ie["code-block"]&&(Ne=Ne.compose(Object(T.a)(Ne)));let _e=!0;if(Ie!=null&&Ie.list||Ie!=null&&Ie.blockquote){const xe=Ne.length()!==0&&Ne.slice(Ne.length()-1)||new m.a,Fe=Object(I.a)(xe==null?void 0:xe.ops),we=Fe==null?void 0:Fe.attributes,{list:dt,indent:Ut,border:Lt}=we||{},xt=we==null?void 0:we["code-block"],jt=(Ie==null?void 0:Ie.indent)||0,tn=dt&&Object(f.a)(Lt)&&Lt>0,fn=xt&&Object(f.a)(Lt)&&Lt>0;_e=!(dt&&Object(f.a)(Ut)&&Ut>0&&Ut>jt)&&!tn&&!fn}if(et&&_e||!Ie){const xe=Ne.length();Ne=Ne.slice(0,xe-1)}return Ne}o(A,"convertDeltaToBlockFormat");var P=e("T5R/"),N=o(function(Je,Ie){let{formats:et}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ne="@",De=Je.index;return Ie==="@"?De-=1:Ie&&Ie!==" "&&(Ne=` ${Ne}`),new m.a().retain(De).delete(Je.index-De).delete(Je.length).insert(Ne,et)},"get_mention_insert_delta"),G=e("dA19"),V=e("rneN"),k=e("1m8D"),x=e("0LZ2"),H=e("+HCj"),R=e("p7YC"),W=e("Y/OQ"),U=e("lE2N"),_=e("pHS2"),B=e("bPB8"),z=e("OtLZ"),L=e("hbEN"),$=e("mNiN"),Q=e("Yauy"),K=e("lhZz"),Z=e("9wgI"),ne=e("od0p"),F=e("7AiH"),J=e("fnDJ"),X=e("vRwa"),Y=e("0SZ4"),ae=e("9h7U"),ee=e("0f4s"),q=e("Z5O3"),te=e("pbCm"),de=e("pWPO");const re=["'",".","_","-","\u2018","\u2019"].map(Je=>`\\${Je}`).join(""),oe=new RegExp(`^[${re}]+$`,"g");function ce(Je){const et=Object(x.a)(Je).import("core/module");return o(class extends et{unload(){this.processPotentionalMentionsDebounced.cancel()}afterTextChangeQueue(){this.processPotentionalMentionsDebounced(this.quill)}processPotentialMentions(){if(this.options.isAutocompleteOpen())return;const _e=this.quill.getContents(),Me=this.quill.getSelection(),xe=Me?Me.index:0;if(_e.length()<=1)return;let Fe=[];if(this.options.enableBroadcastKeywords){if(this.options.includeAllBroadcastKeywords)Fe=Object(ne.a)();else if(this.options.getTeamId()&&this.options.getChannelId()){const xt=Object(K.getStateByTeamId)(this.options.getTeamId());Fe=Object(Z.a)(xt,this.options.getChannelId())}}const we=[],dt=[];Object(F.a)(_e,{useChannelTagging:this.options.useChannelTagging}).forEach(xt=>{const jt=xt.labelWithoutPrefix;if(!jt.length)return;const tn=this.options.useWysiwyg&&!this.options.usePlainTextMode,fn=tn?!1:Object(R.a)(Object(ee.a)(_e,0,xt.globalIndex)),Gn=tn?[]:Object(q.a)(Object(de.a)({contents:_e.ops}));if(!((tn?!1:Object(te.a)(xt.globalIndex,Gn))&&xt.type==="emoji")&&(xt.type==="emoji"||!(xe>xt.globalIndex&&xe<=xt.globalIndex+xt.matchLength)&&jt.search(oe)===-1&&!fn)){const Da=xt.type==="member"&&Object($.a)(Fe,jt);if(Da){const Pa=this.quill.getFormat(xt.globalIndex,xt.matchLength);if(Pa.slackmention&&delete Pa.slackmention,Pa.code||Pa["code-block"]||Pa.link)return;const Ga=Object(J.a)({results:[Da],formats:Pa,...xt});we.push(Ga)}else dt.push({type:xt.type,label:xt.label,labelWithoutPrefix:jt})}});const Ut=dt.filter(xt=>!(this.searchesInFlight.indexOf(xt.label)!==-1||this.searchesWithoutResults.indexOf(xt.label)!==-1)),Lt=Object(U.a)(Ut,"label");this.asyncResultCount=Lt.length,this.replacePotentialMentions({replacements:we,hasPendingReplacements:this.asyncResultCount>0||we.length>1}),this.searchAndReplaceMentions(Lt)}replacePotentialMentions(_e){let{replacements:Me,hasPendingReplacements:xe}=_e;if(!Me.length)return;const Fe=this.options.getUserHighlightWords(),we=!this.options.inlineEmojiIsEnabled(),dt=Object(ae.a)(Me,Fe,we);this.quill.updateContents(dt),this.options.onMentionReplace({replacements:Me,isLastReplacement:this.asyncResultCount===1&&!xe})}clearSearchCache(){this.searchesInFlight=[],this.searchesWithoutResults=[]}searchAndReplaceMentions(_e){if(!_e||!_e.length)return;const Me=Object(_.a)(_e,"type");Me.member&&Me.member.forEach(xe=>{this.searchesInFlight.push(xe.label),this.options.promiseToSearchMembers(xe.label).then(Fe=>{this.processSearchResults(xe,Fe)})}),Me.emoji&&Me.emoji.forEach(xe=>{this.searchesInFlight.push(xe.label),this.options.promiseToSearchEmoji(xe.label,!1).then(Fe=>{Fe.promise&&Fe.promise.then(dt=>{const Ut=dt.filter(Lt=>Lt.isEmojiExactMatch);this.processSearchResults(xe,Ut)});const we=Fe.filter(dt=>dt.isEmojiExactMatch);this.processSearchResults(xe,we)})}),this.options.useChannelTagging&&Me.channel&&Me.channel.forEach(xe=>{this.searchesInFlight.push(xe.label),this.options.promiseToSearchChannels(xe.label).then(Fe=>{const we=Fe.filter(dt=>Object(Q.K)(dt)===xe.labelWithoutPrefix);this.processSearchResults(xe,we)})})}processSearchResults(_e,Me){if(!Me.length){this.searchesWithoutResults.push(_e.label);return}const xe=Me.map(xt=>xt.item),Fe=this.quill.getContents(),we=this.quill.getSelection(),dt=we?we.index:0;if(Fe.length()<=1)return;const Ut=Object(F.a)(Fe,{useChannelTagging:this.options.useChannelTagging}).map(xt=>{if(xt.label!==_e.label||!_e.labelWithoutPrefix.length||!(this.options.useWysiwyg&&!this.options.usePlainTextMode)&&Object(R.a)(Object(ee.a)(Fe,0,xt.globalIndex))||xt.type!=="emoji"&&dt>xt.globalIndex&&dt<=xt.globalIndex+xt.matchLength)return null;const tn=this.quill.getFormat(xt.globalIndex,xt.matchLength);return tn.slackmention&&delete tn.slackmention,tn.code||tn["code-block"]||tn.link?null:_e.type==="channel"?Object(X.a)({results:xe,formats:tn,...xt}):_e.type==="emoji"?Object(Y.a)({results:xe,formats:tn,...xt}):Object(J.a)({results:xe,formats:tn,...xt})}),Lt=!(this.searchesInFlight.length===1&&this.searchesInFlight.indexOf(_e.label)!==-1);this.replacePotentialMentions({replacements:Object(B.a)(Ut),hasPendingReplacements:Lt}),this.searchesInFlight=Object(z.a)(this.searchesInFlight,_e.label),Lt||(this.asyncResultCount=0)}constructor(_e,Me){super(_e,Me),this.options=Me,this.quill=_e,this.processPotentionalMentionsDebounced=Object(L.a)(this.processPotentialMentions,100),this.asyncResultCount=0,this.searchesInFlight=[],this.searchesWithoutResults=[]}},"SlackAutoSlugModule")}o(ce,"getSlackAutoSlugModule");var ue=e("NHkt"),Pe=e("d0Vf"),Ye=e("pfyn"),$e=e("NFsq"),Ke=e("fR2/"),qe=e("htTJ"),ct=e("IOc2"),Be=e("0qhH"),pe=e("tfz1"),fe=e("p21v"),me=e("CMoc"),Se=e("5SjC"),je=e("K1vi"),Ue=e("ntGM");function ve(Je){return Je.replace(/([^A-Za-z0-9]|^)"(\S)/g,"$1\u201C$2").replace(/(\u201c[^"]*)"([^"]*$|[^\u201c"]*\u201c)/g,"$1\u201D$2").replace(/([^0-9])"/g,"$1\u201D").replace(/([^A-Za-z0-9]|^)'(\S)/g,"$1\u2018$2").replace(/([a-z])'([a-z])/gi,"$1\u2019$2").replace(/((\u2018[^']*)|[a-z])'([^0-9]|$)/gi,"$1\u2019$3").replace(/(\u2018)([0-9]{2}[^\u2019]*)(\u2018([^0-9]|$)|$|\u2019[a-z])/gi,"\u2019$2$3").replace(/(\B|^)\u2018(?=([^\u2019]*\u2019\b)*([^\u2019\u2018]*\W[\u2019\u2018]\b|[^\u2019\u2018]*$))/gi,"$1\u2019").replace(/'/g,"\u2032")}o(ve,"createSmartQuotes");function ge(Je){let Ie=Je;Ie=Ie.replace(/[\u2018|\u2019]/g,"'"),Ie=Ie.replace(/[\u201c|\u201d]/g,'"');const et=[];Ie=Object(je.c)(et,Ie,{replace_pre:!0,replace_code:!0,replace_url:!0});const Ne=[];return Ie=Ie.replace(Object(Ue.a)(),De=>{const _e=`<emoticon-placeholder-${Date.now()}>`;return Ne.push({emoticon:De,placeholder:_e}),_e}),Ie=ve(Ie),Ne.forEach(De=>{Ie=Ie.replace(De.placeholder,De.emoticon)}),Ie=Object(je.d)(et,Ie),Ie}o(ge,"replaceSmartQuotes");var le=e("sLds"),he=e("3yyz");const Te=["'",'"',"\u201C","\u201D","\u2018","\u2019"];function Re(Je){return Je.reduce((Ie,et)=>{if(Object(G.a)(et))return Object(fe.a)(et)?`${Ie} `:Object(me.a)(et)?`${Ie} `:`${Ie}a`;if(Object(Ke.a)(et)||Object(qe.a)(et)){const De=(Object(Ke.a)(et)?Object(Ke.c)(et):Object(qe.b)(et)).replace(/./g,"a");return Ie+De}if(Object(Be.a)(et)){let Ne=Object(Be.b)(et).replace(le.c,De=>De.replace(/./g,"a"));return Ne=Ne.replace(/:'\(/g,"aaa"),Ie+Ne}return Ie+et.insert},"")}o(Re,"convertDeltaToTextForSmartQuotes");function Ve(Je){const et=Object(x.a)(Je).import("core/module");return o(class extends et{shouldDoSubstitutions(_e){if(!_e||!this.options.getTextPreferences())return!1;if(this.options.useWysiwyg&&!this.options.usePlainTextMode)return!0;const Me=this.quill.getText(0,_e.index+_e.length);return!Object(R.a)(Me)}listen(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{code:!1,"code-block":!1}},this.onSpace),this.quill.keyboard.addBinding({key:190,collapsed:!0,format:{code:!1,"code-block":!1},prefix:/\.\.$/},this.onEllipsis)}onSpace(_e,Me){if(this.options.isInComposition()||!this.shouldDoSubstitutions(_e))return!0;const xe=this.options.getTextPreferences(),Fe=Me.prefix.substring(Me.prefix.lastIndexOf(" ")+1);if(this.shouldStartSubstitution(Fe,xe)){const we=_e.index-Fe.length,dt=this.quill.history.options.delay;return this.quill.history.options.delay=0,this.quill.updateContents(new m.a().retain(we).delete(Fe.length).insert(`${xe.substitutions[Fe]} `,Me.format)),this.quill.history.options.delay=dt,this.lastSubstitutionMade=Fe,!1}return this.lastSubstitutionMade=null,!0}onEllipsis(_e,Me){if(this.options.isInComposition()||!this.shouldDoSubstitutions(_e)||!this.options.getTextPreferences().useSmartDashes)return!0;const xe=_e.index-2;return this.quill.updateContents(new m.a().retain(xe).delete(2).insert("\u2026",Me.format)),!1}shouldBuildSmartQuotes(){const _e=this.options.getTextPreferences();return!(!_e||!_e.useSmartQuotes)}shouldStartSubstitution(_e,Me){return!(this.lastSubstitutionMade===_e||!Object.prototype.hasOwnProperty.call(Me.substitutions,_e)||!Me.substitutions[_e])}buildWysiwygSafeTextChangeDelta(_e){const Me=new m.a,xe=Re(_e),Fe=xe.replace(/[\u2018|\u2019]/g,"'").replace(/[\u201c|\u201d]/g,'"');if(!Object($e.a)(Fe,"'")&&!Object($e.a)(Fe,'"'))return Me;const we=ve(Fe),dt=[];for(let xt=0;xt<xe.length;xt++)Te.indexOf(xe[xt])!==-1&&Te.indexOf(we[xt])!==-1&&dt.push(xt);if(!dt.length)return Me;let Ut=0,Lt=0;return Object(Se.a)(_e,(xt,jt)=>{const tn=Object(pe.a)(jt),fn=Object(he.a)(xt);if(Lt+fn<dt[0]||!Object(Be.a)(xt)){Lt+=fn;return}dt.filter(Wn=>Wn>=Lt&&Wn<Lt+fn).forEach(Wn=>{let ma=we[Wn];if(tn||Object(ct.a)(xt)||Object(qe.a)(xt))ma==="\u201C"||ma==="\u201D"?ma='"':(ma==="\u2018"||ma==="\u2019")&&(ma="'");else if(!this.shouldBuildSmartQuotes())return;xe[Wn]!==ma&&(Me.retain(Wn-Ut).delete(1).insert(ma,xt.attributes),Ut=Wn+1)}),Lt+=fn}),Me}buildTextChangeDelta(_e,Me){let xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,usePlainTextMode:!1};if(xe.useWysiwyg&&!xe.usePlainTextMode)return this.buildWysiwygSafeTextChangeDelta(_e);const Fe=new m.a;let we=0;if(!this.shouldBuildSmartQuotes())return Fe;const dt=_e.reduce((Lt,xt)=>{if(Object(G.a)(xt))return`${Lt}a`;if(Object(Ke.a)(xt)){const jt=Object(Ke.c)(xt).replace(/./g,"a");return Lt+jt}return Lt+xt.insert},""),Ut=ge(dt);if(dt===Ut)return Fe;for(let Lt=0;Lt<dt.length;Lt++)dt[Lt]!==Ut[Lt]&&Te.indexOf(dt[Lt])!==-1&&Te.indexOf(Ut[Lt])!==-1&&(Fe.retain(Lt-we).delete(1).insert(Ut[Lt]),we=Lt+1);return Fe}constructor(_e,Me){super(_e,Me),this.lastSubstitutionMade=null,this.options.getTextPreferences=Me.getTextPreferences||n.a,this.onSpace=this.onSpace.bind(this),this.onEllipsis=this.onEllipsis.bind(this),this.shouldDoSubstitutions=this.shouldDoSubstitutions.bind(this),this.listen()}},"TextSubstitutionsModule")}o(Ve,"getTextSubstitutionsModule");const Ee=Ve(window);var Ae=e("HKE1");function Ge(Je,Ie,et,Ne){if(!Je||!Ne)return;const De=Je.getFormat(Ie,et);De&&De[Ne]&&(De[Ne]=null,Je.formatText(Ie,et,De))}o(Ge,"removeFormatFromRange");var Ze=e("qfW3"),ze=e("lnVG");function lt(Je){return!!(Je&&Object(f.a)(Je.delete))}o(lt,"isOpDelete");var tt=e("5IZy"),Ot=e("/0zS"),Ct=e("zKt1"),St=e("ktUG");function zt(Je){if(!Je)return"";const Ie=Je.match(/\d+/g);return Ie!=null?Ie.join(""):""}o(zt,"extractNumbersFromString");const kt=o(Je=>{if(!Je||!Je.attributes)return!1;const Ie=Object(Ae.a)(Je.attributes.link),et=Object(Ae.a)(Je.insert);if(!Ie||!et)return!1;if(Ie===et||Ie===`mailto:${et}`)return!0;const Ne=Ie.split(":")[0],De=`${Ne}://${et}`;if(Ie===De)return!0;const _e=`${Ne}://www.${et}`;return Ie===_e||Ie.substr(0,4)==="tel:"&&zt(Ie)===zt(et)},"isLabelGoodEnoughForLink");function on(Je){const Ie=Object(x.a)(Je),et=Ie.import("core/module"),Ne=Ie.import("formats/link");return o(class extends et{listen(){this.options.linkifyOnSpace||this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0},this.maybeLinkify)}onEnter(Me,xe){let{range:Fe,context:we,shouldInsertNewline:dt}=xe;if(!Fe||Fe.length>0||!dt(Me))return!1;const Ut=this.quill.getFormat(Fe),Lt=this.quill.getFormat(Fe.index+1),jt=this.quill.getLine(Fe.index)[1];if(Ut.link&&Lt.link&&Ut.link===Lt.link&&jt!==0&&we.prefix.trim().length!==0){const[tn,fn]=this.quill.getLeaf(Fe.index);tn.text&&Ge(this.quill,Fe.index-fn,tn.domNode.length,"link")}else this.maybeLinkify(Fe,we);return!1}maybeLinkify(Me,xe){if(xe&&xe.format&&xe.format["code-block"])return!0;const Fe=xe.prefix.lastIndexOf(" "),we=Fe!==-1?xe.prefix.substr(Fe+1):xe.prefix,dt=Object(Ot.a)({input:we}),Ut=Object(I.a)(dt);if(!Ut)return!0;const{url:Lt,offset:xt,text:jt}=Ut,tn=jt.length,fn=Me.index-we.length+xt,Gn=this.quill.getFormat(fn,tn);if(Gn&&Gn.link||Gn&&Gn.code)return!0;if(this.options.convertImages&&Object(Ct.c)(Lt)&&!Object(Ct.b)(Lt)){const Wn=new m.a().retain(fn).delete(tn).insert({slackdocimage:Lt});this.quill.updateContents(Wn,"silent")}else this.quill.formatText(fn,tn,"link",Lt),this.clogger.track(St.EventId.MSG_FORMATTING_ADDED,{input_context:Object(y.a)()?St.MsgFormattingInputContext.POST:St.MsgFormattingInputContext.MESSAGE,input_source:St.MsgFormattingInputSource.MARKDOWN,input_format:St.MsgFormattingInputFormat.LINK,is_selection:tn>0});return!0}getChangeIndex(Me){if(!Me)return null;const xe=Me.ops;return!xe||!xe.length?null:Object(Be.a)(xe[0])||lt(xe[0])?0:xe.length>1&&Object(ze.a)(xe[0])&&(Object(Be.a)(xe[1])||lt(xe[1]))?xe[0].retain:null}getRelevantOpData(Me,xe){const Fe=Object(Be.a)(Me),we=Fe?Me.insert.substr(0,xe):"",dt=Fe?Me.insert.substr(xe):"",Ut=Fe&&we.match(/\s/g),Lt=Fe&&dt.match(/\s/),xt=Object(qe.a)(Me)||!Object(Be.a)(Me),jt=we.length===0&&dt.length>0&&dt[0].match(/\s/),tn=xt||!Ut||jt,fn=xt||!Lt;let Gn=0;if(!Fe)return{shouldGetPreviousOp:tn,shouldGetNextOp:fn,offsetAdjustment:Gn,opTextChanged:!1,relevantText:""};let Wn=we;!tn&&Ut&&(Gn=we.lastIndexOf(Ut[Ut.length-1]),Wn=we.substr(Gn));let ma=dt;!fn&&Lt&&(ma=dt.substr(0,Lt.index));const Da=`${Wn}${ma}`;return{shouldGetPreviousOp:tn,shouldGetNextOp:fn,offsetAdjustment:Gn,opTextChanged:Da!==Me.insert,relevantText:Da}}getRelevantDeltaAndOffsetWithLimitedScope(Me,xe){if(!Me||!Object(f.a)(xe))return null;const Fe=Me.ops;if(!Fe||!Fe.length)return null;const we=[];let dt,Ut=0;if(xe===0){dt=0;const xt=Fe[0],{shouldGetNextOp:jt,relevantText:tn,opTextChanged:fn}=this.getRelevantOpData(xt,0);fn?we.push({...xt,insert:tn}):we.push(xt),jt&&Fe.length>1&&we.push(Fe[1])}else Fe.forEach((xt,jt)=>{const tn=Object(he.a)(xt),fn=Ut+tn;if(!(xe>=Ut&&xe<fn)){Ut+=tn;return}const Gn=xe-Ut,{shouldGetPreviousOp:Wn,shouldGetNextOp:ma,relevantText:Da,offsetAdjustment:Pa,opTextChanged:Ga}=this.getRelevantOpData(xt,Gn);Wn&&jt>0&&(we.push(Fe[jt-1]),dt=Ut-Object(he.a)(Fe[jt-1])),Ga?Da.length&&we.push({...xt,insert:Da}):we.push(xt),Object(f.a)(dt)||(dt=Ut+Pa),ma&&jt+1<Fe.length&&we.push(Fe[jt+1]),Ut+=tn});if(xe>0&&xe===Ut){const xt=Fe.length-1,jt=Fe[xt],tn=Object(he.a)(jt);dt=Ut-tn;const{shouldGetPreviousOp:fn,relevantText:Gn,opTextChanged:Wn,offsetAdjustment:ma}=this.getRelevantOpData(jt,tn);if(fn&&xt>0){const Da=Fe[xt-1];we.push(Da),dt=Ut-Object(he.a)(jt)-Object(he.a)(Da)}Wn?we.push({...jt,insert:Gn}):we.push(jt),fn||(dt+=ma)}return{relevantDelta:new m.a(we),offset:dt}}buildTextChangeDelta(Me,xe){let{initialTextChangeDelta:Fe,isSpaceInsertion:we,isDeletion:dt,useWysiwyg:Ut,usePlainTextMode:Lt}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.skipNextTextChange)return this.skipNextTextChange=!1,new m.a;if(!this.options.supportsAnchorText)return new m.a;if(!Me||!Fe)return new m.a;if(!Ut||Lt)return new m.a;const xt=this.getChangeIndex(Fe);if(!Object(f.a)(xt))return new m.a;const{relevantDelta:jt,offset:tn}=this.getRelevantDeltaAndOffsetWithLimitedScope(Me,xt)||{};if(!jt||!Object(f.a)(tn))return new m.a;let fn=jt,Gn,Wn=0;if(dt||we)for(let Ga=0;Ga<fn.ops.length;Ga++){const Es=fn.ops[Ga];Wn+=Object(he.a)(Es),Object(qe.a)(Es)&&(Gn=Gn?void 0:Es)}(dt||we)&&Object(Ze.a)(Gn,{userDidDelete:dt,userDidInsertSpace:we})&&(fn=fn.compose(new m.a().retain(Wn,{link:!1})));const ma=this.options.supportsAnchorText?Object(Ct.e)(fn):Object(Ct.d)(fn);if(!ma)return new m.a;const Da=fn.reduce((Ga,Es)=>Ga+Object(he.a)(Es),0),Pa=new m.a().retain(tn).delete(Da).concat(ma);return Me.diff(Me.compose(Pa)).length()>0?Pa:new m.a}constructor(Me,xe){super(Me,xe),this.maybeLinkify=this.maybeLinkify.bind(this);const Fe=Object(K.getStoreInstanceByTeamId)(this.options.teamId);this.skipNextTextChange=!1,this.clogger=Object(tt.a)(Fe),Ne.sanitize=we=>we,this.listen()}},"SlackLinkModule")}o(on,"getSlackLinkModule");const _t={isLabelGoodEnoughForLink:kt},be=on(window);function ot(Je){const et=Object(x.a)(Je).import("blots/inline");let Ne=o(class extends et{static create(_e){const Me=super.create(_e);return Me.setAttribute("data-name",_e.name),Me}static formats(_e){return{name:_e.getAttribute("data-name")}}},"SlackSearchTokenModifier");return Ne.blotName="slacksearchtokenmodifier",Ne.tagName="ts-searchtoken-modifier",Ne}o(ot,"getSlackSearchTokenModifierFormat");function rt(Je){const et=Object(x.a)(Je).import("blots/inline");let Ne=o(class extends et{static create(_e){const Me=super.create(_e);return Me.setAttribute("data-text",_e.text),Me.setAttribute("data-ghost",_e.ghost),Me}static formats(_e){return{text:_e.getAttribute("data-text"),ghost:_e.getAttribute("data-ghost")}}},"SlackSearchTokenValue");return Ne.blotName="slacksearchtokenvalue",Ne.tagName="ts-searchtoken-value",Ne}o(rt,"getSlackSearchTokenValueFormat");var Jt=e("TQ9f");function Qt(Je){return Object(Ke.a)(Je)?Object(Ke.d)(Je)!==Je.insert:!1}o(Qt,"isOpMentionAndInvalid");function qt(Je){if(!Object(Ke.a)(Je))return!1;const Ie=Object(Ke.c)(Je),et=Object(Ke.b)(Je),Ne=Object(Ke.d)(Je);if(!et||!Ne)return!1;const De=Ie.substr(0,Ne.length);return Ie.length>Ne.length&&De===Ne}o(qt,"isOpMentionWithAppendedText");function $t(Je){if(!Object(Ke.a)(Je))return!1;const Ie=Object(Ke.b)(Je),et=Object(Ke.d)(Je),Ne=Object(Ke.c)(Je);if(!Ie||!et)return!1;const De=Ne.substr(et.length*-1);return Ne.length>et.length&&De===et}o($t,"isOpMentionWithPrependedText");var hn=e("k2bd"),gn=e("nPQL");const Cn=o(Je=>Je.attributes&&Je.attributes.background,"hasBackgroundAttr"),Mn=o((Je,Ie)=>{const et=Ie.ops[0];return Qt(et)?new m.a().insert(Object(Ke.c)(et)):Ie},"handleMention"),kn=o((Je,Ie)=>Ie.length()===0&&Je.textContent.length>0&&/^ +$/.test(Je.textContent)?new m.a().insert(Je.textContent):Ie,"maybeHandleSpaces");function na(Je){const Ie=new m.a;let et=0,Ne=0;return Je.forEach(De=>{let _e=0,Me=et,xe="";const Fe=Object(he.a)(De);if(et+=Fe,!(!Object(Ke.a)(De)||!Qt(De))){if(Object(Jt.a)(De))Ie.retain(Me-Ne).delete(Fe).insert({slackemoji:Object(Jt.b)(De)},{...De.attributes,slackmention:null});else if(Object(hn.a)(De))Ie.retain(Me-Ne).delete(Fe).insert({workflowtoken:Object(hn.c)(De)},{...De.attributes,slackmention:null});else if(qt(De)){if(Me+=Object(Ke.d)(De).length,Ie.retain(Me-Ne),_e=Fe-Object(Ke.d)(De).length,xe=Object(ee.a)(Je,Me,_e),xe.length>=Object(Ke.d)(De).length)for(;xe.length>=Object(Ke.d)(De).length&&xe.length;){const we=xe.substr(0,Object(Ke.d)(De).length);if(we===Object(Ke.d)(De))Ie.delete(we.length).insert(we,De.attributes),xe=xe.substr(we.length);else break}xe.length&&Ie.delete(xe.length).insert(xe,{...De.attributes,slackmention:null})}else if($t(De)){xe=Object(ee.a)(Je,Me,Fe).replace(/\n$/,"");const we=xe.length,dt=Object(Ke.d)(De);let Ut=0;for(;xe.length>dt.length&&xe.substr(dt.length*-1)===dt;)Ut+=1,xe=xe.substr(0,xe.length-dt.length);Ie.retain(Me-Ne),Ie.delete(we),Ie.insert(xe);for(let Lt=0;Lt<Ut;Lt++)Ie.insert(dt,De.attributes)}else xe=Object(ee.a)(Je,Me,Fe),Ie.retain(Me-Ne).delete(Fe).insert(xe,{...De.attributes,slackmention:null});Ne=et}}),Ie}o(na,"buildUnformatBrokenMentionsChanges");function oa(Je){const et=Object(x.a)(Je).import("core/module");return o(class extends et{listen(){this.quill.on("text-change",this.onTextChange),this.quill.clipboard.addMatcher(".c-member_slug",Mn),this.quill.clipboard.addMatcher("ts-mention",Mn),this.quill.clipboard.addMatcher(Node.TEXT_NODE,kn)}onTextChange(_e){Object(gn.a)(_e)||(this.fixMultipleBrokenMentionsAttempt||this.fixMultipleBrokenMentions(_e),this.fixLeakingMentions())}buildTextChangeDelta(_e){return na(_e)}fixMultipleBrokenMentions(_e){const Me=_e==null?void 0:_e.ops,xe=this.quill.getContents();let Fe=Me.map(Lt=>{var xt;return Lt==null||(xt=Lt.attributes)===null||xt===void 0?void 0:xt.slackmention});if(Fe=Object(B.a)(Fe),!Fe.length||this.fixMultipleBrokenMentionsAttempt)return;const we=2;let dt=0,Ut=Fe[0];for(let Lt=1;Lt<Fe.length;Lt++){const xt=Fe[Lt];if(xt.label===Ut.label&&(dt+=1),xt.label!==Ut.label&&(dt=0),dt>=we){this.quill.setContents(xe),this.fixMultipleBrokenMentionsAttempt=!1;return}Ut=xt,this.fixMultipleBrokenMentionsAttempt=!0}}fixLeakingMentions(){this.quill.getContents().filter(xe=>Cn(xe)).length>0&&setTimeout(()=>{const xe=this.quill.getContents().map(we=>Cn(we)?{insert:we.insert}:we),Fe=this.quill.getSelection();this.quill.setContents({ops:xe},"silent"),Fe&&this.quill.setSelection(Fe)},0)}constructor(_e,Me){super(_e,Me),this.onTextChange=this.onTextChange.bind(this),this.fixMultipleBrokenMentionsAttempt=!1,this.listen()}},"SlackMentionModule")}o(oa,"getSlackMentionModule");var ba=e("BHdc"),ga=e("nNoG"),ya=e("haNl");const Zn=new ga.b("texty");function Xn(Je){const et=Object(x.a)(Je).import("blots/inline");let Ne=o(class extends et{static create(_e){const Me=super.create(_e);Me.setAttribute("data-id",_e.id),Me.setAttribute("data-label",_e.label),Me.setAttribute("spellcheck","false"),_e.unverified&&Me.setAttribute("data-title",Zn.t("Several matches for {name}",{name:_e.label}));const xe=Object(ba.default)("c-member_slug","c-member_slug--link","ts_tip_texty",{"c-member_slug--mention":_e.mention,"c-member_slug--unverified":_e.unverified});return Me.setAttribute("class",xe),Me.setAttribute("dir","ltr"),Object(ya.h)(_e==null?void 0:_e.id),Me}static formats(_e){return{id:_e.getAttribute("data-id"),label:_e.getAttribute("data-label"),mention:_e.classList.contains("c-member_slug--mention"),unverified:_e.classList.contains("c-member_slug--unverified")}}},"SlackMention");return Ne.blotName="slackmention",Ne.tagName="ts-mention",Ne}o(Xn,"getSlackMentionFormat");function Ht(Je){const et=Object(x.a)(Je).import("blots/inline");let Ne=o(class extends et{static create(_e){return super.create(_e)}static formats(_e){return _e.tagName==="TS-UNLINKED"}},"SlackUnlinked");return Ne.blotName="unlink",Ne.tagName=["ts-unlinked"],Ne}o(Ht,"getSlackUnlinkedFormat");var ut=e("Oy0v"),gt=e("yrot"),Wt=e("BH90"),Mt=e("v/ip");function Xe(Je){if(!Je)return 2;const Ie=Je+1;return Ie>6?1:Ie}o(Xe,"increment");function bt(Je,Ie,et){let{emojiSupportsMultiSkinTones:Ne}=et;if(Ne&&Ie.length!==Je.length-2){const De=Je.substr(Ie.length+2).match(Mt.a);if(De){let _e=parseInt(De[2],10)||1,Me=parseInt(De[3],10)||_e;return Me===6?(_e=Xe(_e),Me=Xe(Me)):Me&&(Me=Xe(Me)),_e===1?"":_e===Me?`:skin-tone-${_e}:`:`:skin-tone-${_e}-${Me===1?2:Me}:`}}else if(Ie.length!==Je.length-2){const De=Je.substr(Ie.length+2).match(Mt.b);return De&&De[2]!=="6"?`:skin-tone-${parseInt(De[2],10)+1}:`:""}return":skin-tone-2:"}o(bt,"generateNextSkinTone");const Nt=/\S/,Pt=/^\s*:\S*\n$/;function nn(Je){const Ie=Object(x.a)(Je),et=Ie.import("core/module"),Ne=Ie.import("parchment");return o(class extends et{unload(){this.quill.root.removeEventListener("click",this.onEmojiClick),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd)}listen(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{link:!1,code:!1,"code-block":!1}},this.onSpace),this.quill.root.addEventListener("click",this.onEmojiClick,!1),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd)}onCompositionStart(){this.isInComposition=!0}onCompositionEnd(){this.isInComposition=!1}maybeConvertEmoticonFromKeyboardBinding(Me,xe,Fe){if(this.isInComposition||!this.options.convertEmoticonsIsEnabled())return!1;const we=xe.prefix;if(!we)return!1;const dt=Object(Ue.a)();if(!dt)return!1;let Ut=-1,Lt="";we.replace(dt,(jt,tn,fn,Gn)=>{Ut=Gn+tn.length,Lt=fn});const xt=Me.index-we.length+Ut;if(!j.o[Lt]||this.options.useWysiwyg&&xe.format&&(xe.format.link||xe.format.code||xe.format["code-block"]))return!1;if(!this.options.useWysiwyg||this.options.usePlainTextMode){if(Object(R.a)(this.quill.getText(0,xt)))return!1;const jt=Object(q.a)(we);if(Object(te.a)(xt,jt))return!1}if(Lt==="8)"&&xt>3&&this.quill.getText(xt-1,1)===`
`){const jt=this.quill.getText(0,xt-1);if(jt.substr(jt.lastIndexOf(`
`)+1,2)==="7)")return!1}if(this.options.useWysiwyg&&xt>0){const tn=this.quill.getContents(xt-1,1).ops[0];if(!(Object(Be.a)(tn)&&tn.insert.match(/\s/)||Object(Jt.a)(tn)))return!1}return this.quill.deleteText(xt,Lt.length),this.quill.insertEmbed(xt,"slackemoji",{text:`:${j.o[Lt]}:`}),Fe?(this.quill.insertText(xt+1,Fe),this.quill.setSelection(xt+2)):this.quill.setSelection(xt+1),!0}onEnter(Me,xe){let{range:Fe,context:we}=xe;return this.maybeConvertEmoticonFromKeyboardBinding(Fe,we),!1}onSpace(Me,xe){return!this.maybeConvertEmoticonFromKeyboardBinding(Me,xe," ")}onEmojiClick(Me){const xe=Me.target;if(!(xe!=null&&xe.classList.contains("emoji")&&(xe!=null&&xe.hasAttribute("data-has-skin-tone"))))return!0;const we=Ne.find(Me.target).offset(this.quill.scroll),dt=this.quill.getContents(we,1);if(dt.ops[0]&&Object(Jt.a)(dt.ops[0])){const Ut=dt.ops[0].insert.slackemoji.text,Lt=Object(ut.a)(Ut)||{name:""},xt=this.options.teamId&&Object(K.getStateByTeamId)(this.options.teamId),jt=Object(gt.o)(xt,{text:Lt.name,teamId:this.options.teamId}),tn=Object(gt.p)(xt,{text:Lt.name,teamId:this.options.teamId});if(!jt&&!tn)return!0;const fn=bt(Ut,Lt.name,{emojiSupportsMultiSkinTones:tn}),Gn=new m.a;Gn.retain(we).delete(1).insert({slackemoji:{text:`:${Lt.name}:${fn}`}}),this.quill.updateContents(Gn)}return!0}toggleJumbomoji(Me){if(!this.options.isJumbomojiEnabled)return;if(!this.options.isJumbomojiEnabled()||Me.length()<=1){this.updateJumbomojiClass(!1);return}let xe=!0,Fe=0;const we=Me.ops.length-1;Me.forEach((dt,Ut)=>{if(Object(Jt.a)(dt)){Fe+=1;return}Object(Ke.a)(dt)||!Object(Be.a)(dt)?xe=!1:we===Ut&&xe?xe=!Nt.test(Object(c.a)(dt.insert)?dt.insert:"")||Pt.test(Object(c.a)(dt.insert)?dt.insert:""):Nt.test(Object(c.a)(dt.insert)?dt.insert:"")&&(xe=!1)}),this.updateJumbomojiClass(xe&&Fe>0&&Fe<=j.C)}buildTextChangeDelta(Me,xe){let Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,usePlainTextMode:!1,formattingOnly:!1};return Object(Wt.a)(Me,{useWysiwyg:Fe.useWysiwyg,usePlainTextMode:Fe.usePlainTextMode,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled(),emojiNames:this.options.getEmojiNames?this.options.getEmojiNames():[],locale:this.options.getLocale?this.options.getLocale():void 0,replaceNativeEmoji:this.options.replaceNativeEmoji,teamId:this.options.teamId})}afterTextChangeQueue(Me){this.toggleJumbomoji(Me)}constructor(Me,xe){super(Me,xe),this.onSpace=this.onSpace.bind(this),this.onEnter=this.onEnter.bind(this),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onEmojiClick=this.onEmojiClick.bind(this),this.toggleJumbomoji=this.toggleJumbomoji.bind(this),this.updateJumbomojiClass=xe.updateJumbomojiClass,this.isInComposition=!1,this.options.inlineEmojiIsEnabled||(this.options.inlineEmojiIsEnabled=()=>!1),this.options.convertEmoticonsIsEnabled||(this.options.convertEmoticonsIsEnabled=()=>!1),this.listen()}},"SlackEmoji")}o(nn,"getSlackEmojiModule");const rn=nn(window);var mn=e("RaLP"),vn=e.n(mn),Xt=e("CpTu"),ht=e("EJqq"),It=e("whaK"),Ft=e("RJAC"),Bt=e("s4P+"),en=e("JoR1"),On=e("UPr+"),yn=e("nift"),Dn=e("Y31Q"),En=e("JvzI");function Vt(Je,Ie){let et=Ie;return Object(en.t)(Je,"a11y_animations")||(et=Object(Ft.a)(Je,{url:Ie,stopAnimations:!0,isEmoji:!0})),et}o(Vt,"getActualEmojiUrl");function an(Je){const Ie=Object(x.a)(Je),et=Je||window,Ne=Ie.import("blots/embed");let De=o(class extends Ne{static create(Me){let xe;Object(c.a)(Me)?(Object(Bt.b)().error("slackemoji_bad_input"),xe=Me):xe=Me.text;const Fe=super.create(xe);Fe.setAttribute("data-id",xe),Fe.setAttribute("data-title",xe),Fe.setAttribute("data-stringify-text",xe),Fe.setAttribute("class","emoji"),Fe.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),Fe.setAttribute("alt",Object(Dn.a)(xe));const we=Object(ut.a)(xe),dt=we?we.name:"";return Fe.addEventListener("load",Ut=>{const Lt=Ut.target;let xt=null;if(Lt.closest)xt=Lt.closest(".ql-editor");else if(et.document.documentElement.contains(Lt)){let fn=Lt;do{if(fn.classList.contains("ql-editor")){xt=fn;break}fn=fn.parentElement||fn.parentNode}while(fn!==null&&fn.nodeType===1)}if(!xt)return;const jt=xt.getAttribute("data-team-id");let tn=`background-image: url(${vn.a});`;if(jt){const fn=Object(K.getStateByTeamId)(jt),Gn=Object(En.a)({teamOrEnterpriseId:jt}),Wn=Object(ht.i)({state:fn,locale:Gn,name:xe})||xe;Wn&&Wn!==xe&&(Fe.setAttribute("data-title",Wn),Fe.setAttribute("alt",Object(Dn.a)(Wn)));const ma=Object(gt.j)(fn,{...Me,teamId:jt,emojiMode:Object(It.a)(fn,{forceDisplay:!0}),emojiSize:yn.a.LARGE});ma?(tn=`background-image: url(${Vt(fn,ma)});`,we&&Object(gt.o)(fn,{text:dt,teamId:jt})&&Lt.setAttribute("data-has-skin-tone","")):(tn="background-image: none;",Lt.classList.add("sk_foreground_low_solid_bg","rounded"),Object(On.b)(jt,[dt]).then(Da=>{var Pa;const Ga=(Pa=Object(Xt.a)(Da,["name",dt]))===null||Pa===void 0?void 0:Pa.value;Lt.classList.remove("sk_foreground_low_solid_bg","rounded"),Ga?(tn=`background-image: url(${Vt(fn,Ga)});`,Lt.setAttribute("style",tn)):Lt.setAttribute("style",`background-image: url(${vn.a});`)}))}Lt.setAttribute("style",tn),Object(ya.g)(dt)}),Fe}static value(Me){return{text:Me.getAttribute("data-id")}}},"SlackEmoji");return De.blotName="slackemoji",De.tagName="img",De}o(an,"getSlackEmojiFormat");function sn(Je){const et=Object(x.a)(Je).import("blots/block/embed");let Ne=o(class extends et{static formats(){return{slackhorizontalrule:!0}}},"SlackHorizontalRule");return Ne.blotName="slackhorizontalrule",Ne.tagName="hr",Ne}o(sn,"getSlackHorizontalRuleFormat");var bn=e("khnw");function jn(Je){const Ie=Object(x.a)(Je),et=Je||window,Ne=Ie.import("core/module");return o(class extends Ne{listen(){et.document.addEventListener("keydown",this.muteKeyEventsOnHrEmbed)}unload(){et.document.removeEventListener("keydown",this.muteKeyEventsOnHrEmbed)}muteKeyEventsOnHrEmbed(Me){const xe=this.quill.getSelection();if(xe){const Fe=this.quill.getFormat(xe);if(Fe&&Fe.slackhorizontalrule){if(Me.keyCode===bn.e||Me.keyCode===bn.c||Me.keyCode===bn.r||Me.keyCode===bn.k||Me.keyCode===bn.o)return!0;Me.preventDefault()}}return!0}constructor(Me,xe){super(Me,xe),this.muteKeyEventsOnHrEmbed=this.muteKeyEventsOnHrEmbed.bind(this),this.listen=this.listen.bind(this),this.listen()}},"SlackHorizontalRuleModule")}o(jn,"getSlackHorizontalRuleModule");function Tn(Je){return!Je||!Je.length()?!1:!!(Je.ops.length===1&&Object(Be.a)(Je.ops[0])&&Je.ops[0].insert===" "||Je.ops.length===2&&Object(ze.a)(Je.ops[0])&&!Je.ops[0].attributes&&Object(Be.a)(Je.ops[1])&&Je.ops[1].insert===" "||Je.ops.length===3&&Object(ze.a)(Je.ops[0])&&!Je.ops[0].attributes&&Object(Be.a)(Je.ops[1])&&Je.ops[1].insert===" "&&lt(Je.ops[2]))}o(Tn,"isDeltaSpaceInsertion");function An(Je){return!Je||!Je.length()?!1:!!(Je.ops.length===1&&lt(Je.ops[0])||Je.ops.length===2&&Object(ze.a)(Je.ops[0])&&!Je.ops[0].attributes&&lt(Je.ops[1]))}o(An,"isDeltaDeletion");const Vn="TEXT-CHANGE-QUEUE";function un(Je){const et=Object(x.a)(Je).import("core/module");return o(class extends et{unload(){this.quill.root.removeEventListener("compositionstart",this.startComposition),this.quill.root.removeEventListener("compositionend",this.endComposition)}listen(){this.quill.on("text-change",this.onTextChange)}onTextChange(_e){if(this.skipNextTextChange){this.skipNextTextChange=!1;return}this.maybeUpdateCompositionDelta(_e),this.processChanges(_e)}startComposition(){this.isInsideComposition=!0,this.compositionDelta=new m.a}endComposition(){this.isInsideComposition=!1;const _e=this.compositionDelta;this.processChanges(_e)}isInComposition(){return!!this.isInsideComposition}maybeUpdateCompositionDelta(_e){if(!this.isInComposition())return;const Me=this.compositionDelta;if(!Me)return;const xe=Me.compose(_e);this.compositionDelta=xe}shouldProcessChange(){return!this.isInComposition()}processChanges(_e){this.isMidProcessingChanges&&this.logger&&this.logger.error(Vn,"Side effect from processChanges caused TextChangeQueue to rerun unexpectedly (non-fatal)"),this.isMidProcessingChanges=!0;const Me=this.options.getTextChangeModules(),xe=this.quill.getContents();let Fe=xe;if(this.shouldProcessChange()){let we=xe;const dt=[];Me.forEach(Lt=>{if(Lt&&Lt.buildTextChangeDelta){const xt=Object(gn.a)(_e),jt=Tn(_e),tn=An(_e),fn=Lt.buildTextChangeDelta(we,this.quill.getSelection(),{initialTextChangeDelta:_e,useWysiwyg:this.options.useWysiwyg,usePlainTextMode:this.options.usePlainTextMode,formattingOnly:xt,isSpaceInsertion:jt,isDeletion:tn});fn.length()>0&&(dt.push(Lt),we=we.compose(fn))}});const Ut=xe.diff(we);if(Ut.length()>0){setTimeout(()=>{const Lt=this.quill.getModule("slackmarkdown");if(this.quill.getContents().diff(xe).length()>0&&!(Lt&&dt.includes(Lt)))return;const xt=Lt&&dt.includes(Lt),jt=this.quill.history.options.delay;xt&&(this.quill.history.options.delay=0),this.skipNextTextChange=!0,this.quill.updateContents(Ut,"user"),xt&&(this.quill.history.options.delay=jt),Fe=this.quill.getContents(),Me.forEach(tn=>{tn&&tn.afterTextChangeQueue&&tn.afterTextChangeQueue(Fe)})},0),this.isMidProcessingChanges=!1;return}}Me.forEach(we=>{we&&we.afterTextChangeQueue&&we.afterTextChangeQueue(Fe)}),this.isMidProcessingChanges=!1}constructor(_e,Me){super(_e,Me),this.options=Me,this.quill=_e;const xe=Me&&Me.teamId,Fe=xe&&Object(K.getStoreInstanceByTeamId)(xe),we=Fe&&Fe.getState();this.logger=Object(Bt.a)({state:we,label:Vn}),this.onTextChange=this.onTextChange.bind(this),this.startComposition=this.startComposition.bind(this),this.endComposition=this.endComposition.bind(this),this.skipNextTextChange=!1,this.isInsideComposition=!1,this.compositionDelta=new m.a,_e.root.addEventListener("compositionstart",this.startComposition),_e.root.addEventListener("compositionend",this.endComposition),this.isMidProcessingChanges=!1,this.listen()}},"TextChangeQueueModule")}o(un,"getTextChangeQueueModule");const Kn=un(window),$n=/(\u2028|\u2029)/g,da=`
`,fa=/^[\u200b\uFEFF]+|[\u200b\uFEFF]+$/gm,aa=/(\u00AD)/g,ha=/\u00A0/g,Ia=o(Je=>{const Ie=Je.map((et,Ne)=>{if(Object($e.a)(et.insert,`
`)){const De=Ne===Je.ops.length-1;return{...et,insert:(Object(c.a)(et.insert)?et.insert:"").replace(/( ?)\n+/g,(_e,Me,xe,Fe)=>{const dt=xe+_e.length===Fe.length;return De&&dt?`${Me}
`:" "})}}return et});return Je.diff(new m.a(Ie))},"removeDeltaNewlines"),Ba=o(Je=>{const Ie=Je.map(et=>Object(c.a)(et.insert)&&et.insert.match(fa)?{...et,insert:et.insert.replace(fa,"")}:et);return Je.diff(new m.a(Ie))},"removeDeltaZeroWidthCharacters"),ca=o(Je=>{const Ie=Je.map(et=>Object(c.a)(et.insert)&&et.insert.match(aa)?{...et,insert:et.insert.replace(aa,"")}:et);return Je.diff(new m.a(Ie))},"removeDeltaUnwantedCharacters"),Aa=o(Je=>{const Ie=Je.map(et=>Object(c.a)(et.insert)&&et.insert.match(ha)?{...et,insert:et.insert.replace(ha," ")}:et);return Je.diff(new m.a(Ie))},"replaceNonBreakingSpacesWithRegularSpaces"),Ma=o(Je=>{const Ie=Je.map(et=>Object(c.a)(et.insert)&&et.insert.match($n)?{...et,insert:et.insert.replace($n,da)}:et);return Je.diff(new m.a(Ie))},"normalizeDeltaNewlines");function ja(Je){const et=Object(x.a)(Je).import("core/module");return o(class extends et{buildTextChangeDelta(_e,Me){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,formattingOnly:!1}).formattingOnly)return new m.a;let Fe=_e;return Fe=Fe.compose(Ma(Fe)),Fe=Fe.compose(Ba(Fe)),Fe=Fe.compose(ca(Fe)),Fe=Fe.compose(Aa(Fe)),this.options.stripNewlines&&(Fe=Fe.compose(Ia(Fe))),_e.diff(Fe)}},"TextSanitization")}o(ja,"getTextSanitizationModule");const Fa=ja(window);function ta(Je){const et=Object(x.a)(Je).import("core/module");return o(class extends et{buildTextChangeDelta(_e){const Me=Object(T.a)(_e,{removeEmbedsFromCode:!0,stripAllInlineFormatting:!1,stripInlineFormattingFromCodeBlock:!0});return Me.ops.length===1&&Object(ze.a)(Me.ops[0])&&!Me.ops[0].attributes?new m.a:Me}},"CleanEmbedsInCodeModule")}o(ta,"getCleanEmbedsInCodeModule");const Pn=ta(window);var dn=e("XpTY");function Rt(Je){const et=Object(x.a)(Je).import("core/module");return o(class extends et{buildTextChangeDelta(_e,Me){let{initialTextChangeDelta:xe=void 0,useWysiwyg:Fe=!1,formattingOnly:we=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Fe||we)return new m.a;const dt=xe&&xe.ops;if(!dt||dt.length!==1)return new m.a;const Ut=dt[0];return!Ut||!Ut.delete||Ut.delete<=1?new m.a:Object(dn.b)(_e)?new m.a().delete(1):new m.a}},"CleanEmptyInputModule")}o(Rt,"getCleanEmptyInputModule");const vt=Rt(window);var At=e("WIr4"),Gt=e("BeL+"),ln=e("xWuZ"),Dt=e("kBas"),He=e("wr1M");const Le=Object.keys(He.a);var Ce=o(Je=>{if(!Je)return null;const Ie=Je.ops;if(!Ie||!Ie.length)return null;let et,Ne;return Ie.length===1&&Object(Be.a)(Ie[0])?(Ne=0,et=Object(c.a)(Ie[0].insert)?Ie[0].insert:""):Ie.length===2&&Object(ze.a)(Ie[0])&&Object(Be.a)(Ie[1])&&(Ne=Ie[0].retain,et=Object(c.a)(Ie[1].insert)?Ie[1].insert:""),!et||!Object(f.a)(Ne)||!Le.includes(et)?null:{delimiter:et,position:Ne}},"getMarkdownDelimiterData"),ye=e("Ms05");function ie(Je){let{lineText:Ie,delimiter:et,position:Ne}=Je;if(!Ie||!et||!Object(f.a)(Ne))return null;let De;for(let we=Ne-1;we>=0;we--)if(Ie[we]===et){De=we;break}if(!Object(f.a)(De)){for(let we=Ne+1;we<Ie.length;we++)if(Ie[we]===et){De=we;break}}if(!Object(f.a)(De))return null;const _e=Math.min(Ne,De),Me=Math.max(Ne,De),xe=_e>0?_e-1:_e,Fe=Object(l.a)(Me+2,Me,Ie.length);return{matchStart:xe,matchEnd:Fe}}o(ie,"findPotentialMatchBounds");function Oe(Je,Ie){if(!Je||!Ie)return new m.a;const{delimiter:et,position:Ne}=Ce(Ie)||{};if(!et||!Object(f.a)(Ne))return new m.a;let De=new m.a,_e=0;return Je.eachLine((Me,xe)=>{const Fe=Me&&Me.ops,we=Object(ye.a)(Fe),dt=_e+(we?we.length:0)+1,Ut=Ne>=_e&&Ne<dt,Lt=xe["code-block"];if(Ut&&!Lt){const xt=Ne-_e,{matchStart:jt,matchEnd:tn}=ie({lineText:we,delimiter:et,position:xt})||{},fn=we&&we.substring(jt||0,tn);if(fn){const Gn=He.b[et],Wn=He.a[et];fn.replace(Gn,(ma,Da,Pa)=>{De=new m.a().retain(_e).retain(jt||0).retain(Da.length-1).delete(1).retain(Pa.length,{[Wn]:!0}).delete(1)})}}_e=dt}),De}o(Oe,"buildLocalMarkdownChangeDelta");var We=e("nBOy");function ke(Je,Ie){const et={action:"noop",delta:new m.a};if(!Je||!Ie)return et;const{delimiter:Ne,position:De}=Ce(Ie)||{};if(!Ne||!Object(f.a)(De)||Ne!=="`"&&Ne!=="\uFF40")return et;const _e=De,Me=_e-2,xe=_e+1,Fe=Object(W.a)(Je.ops),we=Fe.substring(Me,xe);if(we!=="```"&&we!=="\uFF40\uFF40\uFF40")return et;const dt=Object(We.a)(Je,_e),Ut=Object(We.a)(Je,Me-1),Lt=dt!=null&&dt.blockquote||Ut!=null&&Ut["code-block"]&&((Ut==null?void 0:Ut.border)||0)>=1?1:void 0;if(dt!=null&&dt.code)return et;const xt=dt&&dt["code-block"],jt=Fe.charAt(Me-1),tn=Fe.charAt(xe),fn=new m.a().retain(Me).delete(3);if(xt)return xt&&tn===`
`?(fn.retain(1).insert(`
`),{action:"remove",delta:fn}):et;jt!==`
`&&Me!==0&&fn.insert(`
`,{...dt});const Wn=Fe.indexOf(`
`,_e),ma={"code-block":!0};if(Object(f.a)(Lt)&&(ma.border=Lt),Wn!==-1){const Pa=Wn-_e-1;return fn.retain(Pa).delete(1).insert(`
`,ma),{action:"insert",delta:fn}}const Da=Fe.length-_e;return fn.retain(Da-1).insert(`
`,ma),{action:"insert",delta:fn}}o(ke,"buildLocalCodeBlockMarkdownChangeDelta");function nt(Je,Ie){if(!Je||!Ie)return new m.a;const{delimiter:et,position:Ne}=Ce(Ie)||{};if(!et||!Object(f.a)(Ne))return new m.a;if(et!==">"&&et!=="\uFF1E")return new m.a;const De=Object(W.a)(Je.ops);if(De.charAt(Ne-1)!==`
`&&Ne!==0)return new m.a;const Me=Object(We.a)(Je,Ne),xe=(Me==null?void 0:Me.blockquote)&&!(Me!=null&&Me.border);if(Object(dn.a)(Me||{})&&!xe)return new m.a;const Fe=new m.a().retain(Ne).delete(1),we=De.indexOf(`
`,Ne),dt={blockquote:!0};if(xe&&(dt.border=1),we!==-1){const Lt=we-Ne-1;return Fe.retain(Lt).delete(1).insert(`
`,dt)}const Ut=De.length-Ne;return Fe.retain(Ut-1).insert(`
`,dt)}o(nt,"buildLocalBlockQuoteMarkdownChangeDelta");var st=e("lCmp"),mt=e("Awek");function pt(Je){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(!Je||Ie!=="code-block"&&Ie!=="blockquote")return!1;const et=Je.ops;if(!et)return!1;const Ne=Ie==="code-block"?pe.a:mt.a;return Object(st.a)(et,De=>Ne(De))}o(pt,"shouldClogBlockFormattingEvent");var Et=e("iu/Y");function it(Je){if(!Je)return null;const Ie=Je.ops;if(!Ie)return null;if(Ie.length===2&&Object(ze.a)(Ie[0])&&Object(Be.a)(Ie[1])){const et=Ie[0].retain,Ne=Object(c.a)(Ie[1].insert)?Ie[1].insert:"",De=Ne&&Ne.length;return{position:et,insert:Ne,insertLength:De}}return null}o(it,"getChangeDeltaInsertData");var ft=o((Je,Ie)=>{if(!Je||!Ie)return new m.a;const{position:et,insert:Ne,insertLength:De}=it(Ie)||{};if(!Object(f.a)(et)||!Ne)return new m.a;const{op:_e,opIndex:Me}=Object(Et.a)(Je,et)||{};if(!_e||!Object(f.a)(Me)||!Object(Be.a)(_e))return new m.a;const xe=et-Me,Fe=Object(c.a)(_e.insert)?_e.insert:"",we=xe-1,dt=xe+(Object(f.a)(De)?De:0),Ut=Fe.charAt(we),Lt=Fe.charAt(dt);if(Ut!==Lt)return new m.a;if(!Le.includes(Ut))return new m.a;const xt=Ut;if(Ne.indexOf(xt)!==-1)return new m.a;const jt=Fe.substring(we-1,dt+1),tn=He.b[xt];if(!jt.match(tn))return new m.a;const fn=Object(We.a)(Je,et)||{};if(fn["code-block"]||fn.code)return new m.a;const Wn=He.a[xt];return new m.a().retain(Me).retain(we).delete(1).retain(Object(f.a)(De)?De:0,{[Wn]:!0}).delete(1)},"handleDoubleDelimeterInserts"),yt=e("dZlw");const Tt=/(^|\s)\*[^*]*\S\*$/,Zt=/(^|\s)_[^_]*\S_$/,In=/(^|\s)(?:`|\uFF40)[^`\uFF40]*\S(?:`|\uFF40)$/,_n=/(^|\s)~[^~]*\S~$/,Nn={bold:St.MsgFormattingInputFormat.BOLD,italic:St.MsgFormattingInputFormat.ITALIC,strike:St.MsgFormattingInputFormat.STRIKE,code:St.MsgFormattingInputFormat.CODE,"code-block":St.MsgFormattingInputFormat.CODE_BLOCK,blockquote:St.MsgFormattingInputFormat.BLOCKQUOTE,hr:St.MsgFormattingInputFormat.HR,h1:St.MsgFormattingInputFormat.H1,h2:St.MsgFormattingInputFormat.H2};function Fn(Je){return!!{[St.MsgFormattingInputFormat.BOLD]:!1,[St.MsgFormattingInputFormat.ITALIC]:!1,[St.MsgFormattingInputFormat.STRIKE]:!1,[St.MsgFormattingInputFormat.CODE]:!1,[St.MsgFormattingInputFormat.UNDERLINE]:!1,[St.MsgFormattingInputFormat.LINK]:!1,[St.MsgFormattingInputFormat.H1]:!1,[St.MsgFormattingInputFormat.H2]:!1,[St.MsgFormattingInputFormat.HR]:!1,[St.MsgFormattingInputFormat.CHECK_LIST]:!1,[St.MsgFormattingInputFormat.BULLET_LIST]:!0,[St.MsgFormattingInputFormat.ORDERED_LIST]:!0,[St.MsgFormattingInputFormat.CODE_BLOCK]:!0,[St.MsgFormattingInputFormat.BLOCKQUOTE]:!0,[St.MsgFormattingInputFormat.DEDENT]:!0,[St.MsgFormattingInputFormat.INDENT]:!0}[Je]}o(Fn,"isClogFormatComposerBlockLevelFormat");function Bn(Je){const Ie=[];return Je.length()&&(Je.ops||[]).forEach(De=>{!De.retain||!De.attributes||Ie.push(Object.keys(De.attributes))}),Object(Gt.a)(Object(ln.a)(Ie))}o(Bn,"getAppliedFormatsFromDelta");function Un(Je){const et=Object(x.a)(Je).import("core/module");return o(class extends et{unload(){this.quill.root.removeEventListener("compositionstart",this.resetFormatsToRestore)}listen(){this.quill.on("selection-change",this.onSelectionChange),this.quill.on("text-change",this.resetFormatsToRestore),this.quill.root.addEventListener("compositionstart",this.resetFormatsToRestore),this.options.convertHorizontalRule&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{"code-block":!1,code:!1},prefix:/^---$/,offset:3},this.formatHorizontalRule),this.options.convertHeaders&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{header:!1,"code-block":!1,code:!1},prefix:/^#{1,2}$/},this.formatHeader)}onSelectionChange(_e,Me){this.formatsToRestoreOnBackspace&&(_e?_e&&Object(f.a)(this.wasBlurredAtIndex)?(this.wasBlurredAtIndex!==_e.index&&this.resetFormatsToRestore(),this.wasBlurredAtIndex=null):Object(f.a)(this.wasBlurredAtIndex)||this.resetFormatsToRestore():this.wasBlurredAtIndex=Me.index)}onBackspace(){return this.formatsToRestoreOnBackspace&&this.formatsToRestoreOnBackspace.length&&(this.formatsToRestoreOnBackspace.forEach(_e=>{this.quill.format(_e,!0)}),this.formatsToRestoreOnBackspace=null),!1}resetFormatsToRestore(){this.formatsToRestoreOnBackspace=null}clogMarkdownFormattingEvent(_e){let{format:Me,range:xe}=_e;if(!this.clogger)return;const Fe=Nn[Me];if(Object(a.a)(Fe))return;const we={input_context:Object(y.a)()?St.MsgFormattingInputContext.POST:St.MsgFormattingInputContext.MESSAGE,input_source:St.MsgFormattingInputSource.MARKDOWN,input_format:Fe,is_selection:!1};if(Fn(Fe)&&xe){const dt=Object(yt.a)(this.quill,xe);we.input_prexisting_block_formats=dt}this.clogger.track(St.EventId.MSG_FORMATTING_ADDED,we)}formatHorizontalRule(_e){const Me=_e.index-3;this.quill.deleteText(Me,3),this.quill.insertEmbed(Me,"slackhorizontalrule",!0),this.quill.setSelection(Me+1,"silent"),this.quill.removeFormat(Me+1),this.clogMarkdownFormattingEvent({format:"hr"})}formatHeader(_e,Me){if(Me.offset>2)return!0;Object(Dt.a)(this.quill,{format:{header:Me.offset},range:_e,replacementLength:Me.offset,charToInsert:" "});const xe=Me.offset===1?"h1":"h2";return this.clogMarkdownFormattingEvent({format:xe}),!1}afterTextChangeQueue(){if(this.formatsAppliedInQueue){this.formatsToRestoreOnBackspace=this.formatsAppliedInQueue;const Me=this.quill.getFormat()||{};var _e;for(let xe=0;xe<((_e=this.formatsToRestoreOnBackspace)!==null&&_e!==void 0?_e:[]).length;xe++){const Fe=this.formatsToRestoreOnBackspace[xe];Me[Fe]?(this.quill.format(Fe,!1),this.clogMarkdownFormattingEvent({format:Fe})):(this.formatsToRestoreOnBackspace.splice(xe,1),xe-=1)}}this.formatsAppliedInQueue=null}buildTextChangeDelta(_e,Me){let{initialTextChangeDelta:xe,useWysiwyg:Fe=!1,formattingOnly:we=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!_e||!xe)return new m.a;if(!Fe)return new m.a;if(we)return new m.a;let dt=Oe(_e,xe);if(dt.length()!==0){const Ut=Bn(dt);this.formatsAppliedInQueue=Ut.length?Ut:null}if(dt.length()===0&&(dt=ft(_e,xe),Bn(dt).forEach(Lt=>{this.clogMarkdownFormattingEvent({format:Lt})})),dt.length()===0){const{delta:Ut}=ke(_e,xe);dt=Ut;const Lt="code-block";pt(dt,Lt)&&this.clogMarkdownFormattingEvent({format:Lt,range:Me})}if(dt.length()===0){dt=nt(_e,xe);const Ut="blockquote";pt(dt,Ut)&&this.clogMarkdownFormattingEvent({format:Ut,range:Me})}return dt}constructor(_e,Me){super(_e,Me),Object(At.a)(this,["formatHorizontalRule","formatHeader","resetFormatsToRestore","onSelectionChange","onBackspace"]);const xe=this.options.teamId,Fe=Object(K.getStoreInstanceByTeamId)(xe);this.clogger=Object(tt.a)(Fe),this.formatsToRestoreOnBackspace=null,this.formatsAppliedInQueue=null,this.listen()}},"SlackMarkdown")}o(Un,"getSlackMarkdownModule");const zn=Un(window);var wn=e("4pJt");function Rn(Je){const Ie=Object(x.a)(Je),et=Ie.import("core/module"),Ne=Ie.import("parchment");return o(class extends et{unload(){this.onClickOption&&this.quill.root.removeEventListener("click",this.onTokenClick)}listen(){this.onClickOption&&this.quill.root.addEventListener("click",this.onTokenClick,!1)}onTokenClick(Me){if(!this.onClickOption)return!0;const xe=Me.target.closest(`.${wn.d}`);if(xe===null)return!0;const we=Ne.find(xe).offset(this.quill.scroll),dt=this.quill.getContents(we,1);if(dt.ops[0]&&Object(hn.a)(dt.ops[0])){Me.preventDefault(),Me.stopPropagation();const Ut=dt.ops[0].insert.workflowtoken;if(!Ut.isAvailable||!Ut.isClickable)return!0;this.onClickOption({token:Ut,element:xe,index:we})}return!0}constructor(Me,xe={}){super(Me,xe),this.onClickOption=xe.onClick,this.onTokenClick=this.onTokenClick.bind(this),this.listen()}},"WorkflowTokenModule")}o(Rn,"getWorkflowTokenModule");var ra=e("x4bu"),wt=e("vIgB");const pn=`
`;function Hn(Je){return{...Je.attributes||{},bold:!1,italic:!1,strike:!1,link:!1,underline:!1,code:!1,"code-block":!1}}o(Hn,"getCleanedAttributes");function Jn(Je){const et=Object(x.a)(Je).import("core/module");return o(class extends et{buildTextChangeDelta(_e){const Me=_e.ops;if(!Me||Me.length===0)return new m.a;let xe=!0,Fe=null;const we=new m.a,dt=[];Object(Se.a)(_e,(Lt,xt)=>{const jt=Object(he.a)(Lt);if(Object(hn.a)(Lt)&&Object(hn.e)(Lt)===wt.d.SlackTypesRichText){const fn=Hn(Lt);Object(M.a)(xt)||Object(ct.a)(xt)||Object(mt.a)(xt)?(xe=!1,we.delete(jt),dt.push({...Lt,attributes:fn})):(Fe&&!Object(ra.a)(Fe).includes(pn)&&(xe=!1,we.insert(pn)),we.retain(jt,fn)),Fe=Lt;return}if(Fe&&Object(hn.a)(Fe)&&Object(hn.e)(Fe)===wt.d.SlackTypesRichText&&Object(ra.a)(Lt)!==pn&&(xe=!1,we.insert(pn)),dt.length&&Lt.insert===pn&&Object(t.a)(Lt.attributes)&&Ut(),jt){var tn;we.retain(jt,(tn=Lt.attributes)!==null&&tn!==void 0?tn:{})}Fe=Lt}),Ut();function Ut(){for(;dt.length;){const xt=dt.shift();if(xt!=null&&xt.insert){xe=!1;var Lt;we.insert(xt==null?void 0:xt.insert,(Lt=xt==null?void 0:xt.attributes)!==null&&Lt!==void 0?Lt:{})}}}return o(Ut,"reinsertTokens"),xe?new m.a:we}},"CleanWorkflowTokensModule")}o(Jn,"getCleanWorkflowTokensModule");const Ca=Jn(window);function qn(Je){const et=Object(x.a)(Je).import("formats/bold");let Ne=o(class extends et{},"Strike");return Ne.blotName="strike",Ne.tagName=["S","STRIKE"],Ne}o(qn,"getSlackStrikeFormat");var ua=e("Dpjh");function va(Je){const Ie=Object(x.a)(Je),et=Ie.import("blots/container"),Ne=Ie.import("blots/block"),De=Ie.import("blots/inline"),_e=Ie.import("blots/text"),Me=Ie.import("blots/break"),xe=Ie.import("blots/cursor");let Fe=o(class extends et{static create(Lt){const xt=super.create(Lt);return xt.setAttribute("spellcheck",!1),xt}html(Lt,xt){const jt=this.children.map(tn=>tn.domNode.innerText).join(`
`).slice(Lt,Lt+xt);return`<pre>${Object(ua.a)(jt)}</pre>`}},"CodeBlockContainer"),we=o(class extends Ne{static register(){Ie.register(Fe)}},"CodeBlock"),dt=o(class extends De{},"Code");return dt.blotName="code",dt.tagName="CODE",we.blotName="code-block",we.className="ql-code-block",we.tagName="DIV",Fe.blotName="code-block-container",Fe.className="ql-code-block-container",Fe.tagName="DIV",Fe.allowedChildren=[we],we.allowedChildren=[_e,Me,xe],we.requiredContainer=Fe,we.TAB="  ",{Code:dt,CodeBlockContainer:Fe,CodeBlock:we}}o(va,"getCodeBlockFormat");const{Code:Ea,CodeBlockContainer:_a,CodeBlock:Ra}=va(window);function Va(Je){const et=Object(x.a)(Je).import("parchment");let Ne=o(class extends et.Attributor.Class{add(Me,xe){let Fe=xe;if(Fe==="+1"||Fe==="-1"){const dt=this.value(Me)||0;Fe=(Fe==="+1"?dt+1:dt-1).toString()}if(parseInt(Fe,10)===0)return this.remove(Me,Fe),!0;const we=Me==null?void 0:Me.parentNode;return Me.tagName==="LI"&&we&&parseInt(Fe,10)>0?(super.add(we,Fe),we.querySelectorAll("li").forEach(dt=>{super.add(dt,Fe)}),!0):(super.add(Me,Fe),this.cleanup(),!0)}remove(Me,xe){const Fe=Me==null?void 0:Me.parentNode;parseInt(xe,10)===0&&(Fe&&(Fe.tagName==="OL"||Fe.tagName==="UL")&&(super.remove(Fe),Fe.querySelectorAll("li").forEach(we=>{super.remove(we)})),Me.tagName==="DIV"&&Me.classList.contains("ql-border-1")&&Me.classList.contains("ql-code-block")&&super.remove(Me),Me.tagName==="BLOCKQUOTE"&&Me.classList.contains("ql-border-1")&&super.remove(Me))}canAdd(Me,xe){return Me&&super.canAdd(Me,xe)||Me&&super.canAdd(Me,parseInt(xe,10))||(Me==null?void 0:Me.parentNode)&&super.canAdd(Me.parentNode,xe)}value(Me){return Me&&parseInt(super.value(Me),10)||(Me==null?void 0:Me.parentNode)&&parseInt(super.value(Me.parentNode),10)||void 0}cleanup(){setTimeout(()=>{document.querySelectorAll("p[class*='ql-border-']").forEach(Me=>{super.remove(Me)})},0)}},"BorderAttributor");return new Ne("border","ql-border",{scope:et.Scope.BLOCK,whitelist:[1,2]})}o(Va,"getSlackBorderFormat");const xn=Va(window);var Ta=e("kBpe");const La={attributes:{},logger:{error:n.a,info:n.a,warn:n.a},modules:{},onEnter:n.a},Ka=50,Ha="TEXTY",xa=["code-block","blockquote","list","indent","border"],za=new WeakMap,us=o(Je=>!!za.get(Je),"isQuillInitialized"),ss=o(Je=>{za.set(Je,!0)},"setQuillInitialized");function Ja(Je){const Ie=Object(x.a)(Je);if(us(Ie))return Ie;Ie.register({"modules/tabcomplete":Object(ue.a)(Je),"modules/textsubstitutions":Ve(Je),"modules/cleanembedsincode":ta(Je),"modules/cleanemptyinput":Rt(Je),"modules/clipboard":Object(Pe.a)(Je),"modules/keyboard":Object(Ye.a)(Je),"modules/slackmention":oa(Je),"modules/slackemoji":nn(Je),"modules/textchangequeue":un(Je),"modules/textsanitization":ja(Je),"modules/autoslug":ce(Je),"modules/slacklink":on(Je),"modules/slackmarkdown":Un(Je),"modules/slackhorizontalrule":jn(Je),"modules/workflowtoken":Rn(Je),"modules/cleanworkflowtokens":Jn(Je),"formats/slacksearchtokenmodifier":ot(Je),"formats/slacksearchtokenvalue":rt(Je),"formats/slackmention":Xn(Je),"formats/slackemoji":an(Je),"formats/unlink":Ht(Je),"formats/slackhorizontalrule":sn(Je),"formats/workflowtoken":Object(wn.g)(Je),"formats/strike":qn(Je),"formats/border":Va(Je)},!0);const{CodeBlock:et}=va(Je),Ne=Ie.import("blots/inline"),De=Ie.import("formats/bold"),_e=Ie.import("formats/italic"),Me=Ie.import("formats/strike"),xe=Ie.import("formats/code"),Fe=Ie.import("formats/link"),we=Ie.import("formats/unlink"),dt=Ie.import("formats/slackemoji"),Ut=Ie.import("formats/slackmention"),Lt=Ie.import("formats/workflowtoken");return et.allowedChildren.push(Ne),et.allowedChildren.push(De),et.allowedChildren.push(_e),et.allowedChildren.push(Me),et.allowedChildren.push(xe),et.allowedChildren.push(Fe),et.allowedChildren.push(we),et.allowedChildren.push(dt),et.allowedChildren.push(Ut),et.allowedChildren.push(Lt),Ie.register({"formats/code":et},!0),ss(Ie),Ie}o(Ja,"initQuill");const Na=o((Je,Ie)=>{!Je||Object(t.a)(Ie)||Object.keys(Ie).forEach(et=>{const Ne=Ie[et];!Object(a.a)(Ne)&&!Object(i.a)(Ne)&&Je.setAttribute(et,Ne)})},"addAttributes"),Qa=o(Je=>{Na(Je,{"aria-hidden":!0,tabindex:-1})},"hideElFromScreenReaders"),$a=o((Je,Ie,et,Ne)=>{Je.element.addEventListener("click",Je.onInputClick),Ie.root.addEventListener("focus",Je.onRootFocus),Ie.root.addEventListener("blur",Je.onRootBlur),Ie.root.addEventListener("compositionstart",Je.onCompositionStart),Ie.root.addEventListener("compositionend",Je.onCompositionEnd),v.a.msie&&Ie.root.addEventListener("focusout",Je.onRootFocusOut),Ie.on("selection-change",De=>{De&&Je.setLastSelection(De),Je.hasFocus()?Je.onFocus():Je.onBlur(),et.onSelectionChange&&et.onSelectionChange(De)}),(Je.useWysiwyg||et.usePlainTextMode)&&Ne.addEventListener("resize",Je.onResize),Ie.on("text-change",(De,_e,Me)=>{Je.setLastSelection();const xe=Ie.getLength()>1&&_e.length()<=1;if(xe&&Je.enforceEmptyStateConsistency(),et.onTextChange){const Fe=Je.nextTextChangeCallbackSource||Me;Je.nextTextChangeCallbackSource=null,et.onTextChange(Fe,xe,Je.isInComposition)}}),Ie.on(Object(x.a)(Ne).events.SCROLL_OPTIMIZE,Je.onScrollOptimize)},"configUserEvents"),bs=o((Je,Ie)=>{const{id:et,getTeamId:Ne,singleLineInput:De,tabIndex:_e,role:Me,ariaLabel:xe,ariaLabelledBy:Fe,ariaDescribedBy:we,ariaControls:dt,ariaExpanded:Ut,ariaAutocomplete:Lt,ariaActiveDescendant:xt,inputMetricBoundary:jt}=Ie,tn={id:et,dir:"auto",role:Me||"textbox",tabindex:_e,"data-team-id":Ne?Ne():"","data-input-metric-boundary":jt,"aria-label":xe,"aria-labelledby":Fe,"aria-describedby":we,"aria-multiline":!De},fn=Object(Ta.p)()&&Object(Ta.c)()===Ta.a.SAFARI,Gn=Me==="combobox",Wn=fn?"aria-owns":"aria-controls";(fn||Gn)&&(tn[Wn]=dt),Gn&&(tn["aria-expanded"]=Ut),tn["aria-autocomplete"]=Lt;const ma=Object(c.a)(xt)&&xt.length?xt:void 0;tn["aria-activedescendant"]=ma,Na(Je.root,tn)},"configAttributes"),gs=o((Je,Ie)=>!Ie||!Ie.modules||!Ie.modules.clipboard?{}:Object(r.a)({onPasted:Je.setLastSelection.bind(Je),logger:Ie.logger,getUserHighlightWords:Ie.getUserHighlightWords,useWysiwyg:Je.useWysiwyg,usePlainTextMode:Ie.usePlainTextMode,supportsAnchorText:!Ie.disableAnchorText,texty:Je,teamId:Ie.getTeamId?Ie.getTeamId():"",useChannelTagging:Ie.useChannelTagging},Ie.modules.clipboard),"buildClipboardOptions"),ys=o((Je,Ie,et)=>Je.useWysiwyg?{convertImages:et.includes("slackdocimage"),linkifyOnSpace:Je.useWysiwyg&&!Ie.disableAnchorText,supportsAnchorText:!Ie.disableAnchorText,teamId:Ie.getTeamId?Ie.getTeamId():""}:null,"buildSlackLinkOptions"),ps=o((Je,Ie,et)=>Je.useWysiwyg&&!Ie.usePlainTextMode?{convertHeaders:et.includes("header"),convertHorizontalRule:et.includes("slackhorizontalrule"),teamId:Ie.getTeamId?Ie.getTeamId():""}:null,"buildSlackMarkdownOptions"),Cs=o((Je,Ie)=>!Ie||!Ie.modules||!Ie.modules.tabcomplete?!1:Object(r.a)({logger:Ie.logger,tooltipIsShowing:Ie.modules.tabcomplete.tooltipIsShowing||n.a,tooltipShow:Ie.modules.tabcomplete.tooltipShow||n.a,tooltipHide:Ie.modules.tabcomplete.tooltipHide||n.a,useWysiwyg:Je.useWysiwyg&&!Ie.usePlainTextMode,teamId:Ie.getTeamId?Ie.getTeamId():""},Ie.modules.tabcomplete),"buildTabCompleteOptions"),os=o(Je=>!Je||!Je.modules||!Je.modules.slackmention?!1:Je.modules.slackmention,"buildSlackMentionOptions"),Os=o((Je,Ie)=>!Ie||!Ie.modules||!Ie.modules.textsubstitutions?!1:(Object(P.a)(),{useWysiwyg:Je.useWysiwyg,usePlainTextMode:Ie.usePlainTextMode,isInComposition:()=>Je.isInComposition,...Ie.modules.textsubstitutions}),"buildTextSubstitutionsOptions"),Xa=o((Je,Ie)=>!Ie.forceAutoslugginEnabled&&Ie.singleLineInput||!Ie||!Ie.modules||!Ie.modules.tabcomplete?!1:{getTeamId:Ie.getTeamId||n.a,getChannelId:Ie.getChannelId||n.a,enableBroadcastKeywords:Ie.enableBroadcastKeywords,isAutocompleteOpen:Ie.isAutocompleteOpen,includeAllBroadcastKeywords:Ie.includeAllBroadcastKeywords,getUserHighlightWords:Ie.getUserHighlightWords,promiseToSearchMembers:Ie.promiseToSearchMembers,promiseToSearchChannels:Ie.promiseToSearchChannels,promiseToSearchEmoji:Ie.promiseToSearchEmoji,onMentionReplace:Ie.onMentionReplace||n.a,useWysiwyg:Je.useWysiwyg,usePlainTextMode:Ie.usePlainTextMode,useChannelTagging:Ie.useChannelTagging,inlineEmojiIsEnabled:Ie.inlineEmojiIsEnabled},"buildAutoSlugOptions"),ts=o((Je,Ie)=>Ie?{isJumbomojiEnabled:Ie.isJumbomojiEnabled,inlineEmojiIsEnabled:Ie.inlineEmojiIsEnabled,convertEmoticonsIsEnabled:Ie.convertEmoticonsIsEnabled,getEmojiNames:Ie.getEmojiNames,getLocale:Ie.getLocale,replaceNativeEmoji:Ie.replaceNativeEmoji,updateJumbomojiClass:et=>{const Ne=Je.element.classList.contains("texty_emoji_only");et&&!Ne&&Je.element.classList.add("texty_emoji_only"),!et&&Ne&&Je.element.classList.remove("texty_emoji_only")},safeToReplaceEmoji:()=>{const et=Je.quill.getModule("tabcomplete");return et?!et.isShowing():!0},teamId:Ie.getTeamId?Ie.getTeamId():"",useWysiwyg:Je.useWysiwyg,usePlainTextMode:Ie.usePlainTextMode}:!1,"buildSlackEmojiOptions"),Ya=o((Je,Ie)=>Ie?{useWysiwyg:Je.useWysiwyg,usePlainTextMode:Ie.usePlainTextMode,getTextChangeModules:()=>{const et=[];return Je.quill&&(Je.quill.options.modules.textsanitization&&et.push(Je.quill.getModule("textsanitization")),Je.useWysiwyg&&et.push(Je.quill.getModule("slacklink")),Je.quill.options.modules.slackmention&&et.push(Je.quill.getModule("slackmention")),Xa(Je,Ie)&&et.push(Je.quill.getModule("autoslug")),Je.quill.options.modules.slackemoji&&et.push(Je.quill.getModule("slackemoji")),Je.useWysiwyg&&!Ie.usePlainTextMode&&et.push(Je.quill.getModule("slackmarkdown")),Je.quill.options.modules.textsubstitutions&&et.push(Je.quill.getModule("textsubstitutions")),Je.quill.options.modules.cleanembedsincode&&et.push(Je.quill.getModule("cleanembedsincode")),Je.quill.options.modules.cleanemptyinput&&et.push(Je.quill.getModule("cleanemptyinput")),Je.quill.options.modules.cleanworkflowtokens&&et.push(Je.quill.getModule("cleanworkflowtokens"))),et},teamId:Ie.getTeamId?Ie.getTeamId():""}:!1,"buildTextChangeQueueOptions"),ds=o((Je,Ie)=>{if(delete Je.__quill,delete Je.__blot,delete Je["__ql-matcher"],delete Je["__ql-computed-style"],!(!(Je instanceof Ie.HTMLElement)||O.a.unmountComponentAtNode(Je)))for(;Je.lastChild;){const Ne=Je.lastChild;Je.removeChild(Ne),ds(Ne,Ie)}},"detachNode");let js=o(class{unload(){this.getModules().forEach(Ie=>{Ie.unload&&Ie.unload()}),this.element.removeEventListener("click",this.onInputClick),this.quill.root.removeEventListener("focus",this.onRootFocus),this.quill.root.removeEventListener("blur",this.onRootBlur),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd),this.window.removeEventListener("resize",this.onResize),v.a.msie&&this.quill.root.removeEventListener("focusout",this.onRootFocusOut),this.quill.off(this.Quill.events.SCROLL_OPTIMIZE,this.onScrollOptimize),this.quill.rootListeners&&(this.quill.rootListeners.forEach(Ie=>{let[et,Ne,De]=Ie;this.quill.root.removeEventListener(et,Ne,De)}),delete this.quill.rootListeners,delete this.quill.root.addEventListener),this.quill.scroll.detach(),ds(this.element,this.window)}onCompositionStart(){this.isInComposition=!0}onCompositionEnd(){this.isInComposition=!1,this.options.onCompositionEnd&&this.options.onCompositionEnd()}onScrollOptimize(){this.options.onScrollOptimize&&this.options.onScrollOptimize()}onResize(){this.options.onResize&&this.options.onResize()}openPlusMenuShortcut(){this.options.onPlusMenuShortcut&&this.options.onPlusMenuShortcut()}onInputClick(Ie){this.maybeHandleLinkClick(Ie),!this.quill.hasFocus()&&!Object(y.a)()&&this.quill.focus()}onRootFocus(){this.onFocus()}onRootBlur(){if(this.quill.hasFocus()||Object(y.a)()&&(v.a.safari||v.a.firefox))return;const Ie=this.quill.getModule("tabcomplete");Ie&&Ie.hideAndReset(),this.onBlur()}onRootFocusOut(Ie){let{relatedTarget:et}=Ie;et&&(et===this.window.document.body||et===this.window.document||setTimeout(()=>{this.window.document.activeElement!==et&&et.focus()},0))}onFocus(){this.element.classList.contains("focus")||(this.element.classList.add("focus"),this.options.onFocus&&this.options.onFocus())}onBlur(){this.element.classList.contains("focus")&&(this.element.classList.remove("focus"),this.options.onBlur&&this.options.onBlur())}maybeHandleLinkClick(Ie){if(!this.options.onLinkClick)return;const et=Ie.target.closest("a");if(!et||!this.quill.root.contains(et))return;const Ne=et.getBoundingClientRect(),De=Ie.x-Ne.left,_e=Ne.right-Ie.x;if(Ne.width>=20&&De<5||Ne.width>=20&&_e<5)return;const xe=this.Parchment.find(Ie.target).offset(this.quill.scroll),Fe=this.quill.getContents(xe,1);if(Fe.ops.length===1&&Object(G.a)(Fe.ops[0]))return;const we=Object(V.a)(this.quill.getContents(),{index:xe+1,length:0},this.quill.getFormat(xe+1,0)),dt=this.quill.getFormat(we),Ut=this.quill.getContents(we.index,we.length);this.options.onLinkClick(Ie.target,dt.link,Ut,we)}enable(){this.quill.enable(),this.element.querySelector(".ql-editor").setAttribute("tabindex",0)}disable(){this.quill.disable(),this.blur(),this.element.querySelector(".ql-editor").setAttribute("tabindex",-1)}isEnabled(){return this.quill.isEnabled()}focus(){this.isEnabled()&&this.quill.focus()}selectAll(){this.setSelection(0,this.getLength())}blur(){this.quill.blur()}hasFocus(){return this.quill&&this.quill.hasFocus()}getContents(){return this.quill?{contents:this.quill.getContents().ops}:{contents:[]}}getDelta(){var Ie;return((Ie=this.quill)===null||Ie===void 0?void 0:Ie.getContents())||new m.a}setContents(Ie){let{source:et="api"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.nextTextChangeCallbackSource=et,this.quill.setContents(Ie.contents,et),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0);const Ne=this.quill.getModule("autoslug");Ne&&Ne.clearSearchCache()}prependContents(Ie){const et=new m.a(Ie.contents).concat(new m.a(this.quill.getContents()));return this.setContents({contents:et.ops})}maybeTriggerSlashCommandsAutocomplete(){if(this.quill.focus(),!this.quill.getSelection())return;const et=this.getBlockFormat();if(!this.isEmpty()||!Object(t.a)(et))return;const Ne=new m.a().insert("/");this.quill.updateContents(Ne,"user"),setTimeout(()=>{this.quill.setSelection(1,0,"user"),this.setSelectionAtEnd()},0)}maybeTriggerMentionAutocomplete(){this.quill.focus();const Ie=this.quill.getSelection();if(!Ie){this.options.logger.warn(Ha,"trying to trigger mention autocomplete but there is no range");return}const et=this.quill.getFormat(Ie.index-1,1),Ne=this.quill.getFormat(Ie.index,1),De=this.quill.getLength()-1;if(Ie&&Ie.index<De&&et.slackmention&&Ne.slackmention)return;const _e=this.getFormats()||{},Me=this.quill.getText(Ie.index-1,1),xe=N(Ie,Me,{formats:_e});this.quill.updateContents(xe,"user");const we=this.quill.getLength()-1-De;this.quill.setSelection(Ie.index+we,0,"user");const dt=this.quill.getModule("tabcomplete");dt&&dt.maybeCompleteAtCursor("user")}getTextForRange(Ie,et){return this.quill.getText(Ie,et)}getContentsForRange(Ie,et){return this.quill.getContents(Ie,et)}getLineAtCursor(){const Ie=this.quill.getContents(),et=this.getSelection();if(!Ie||!et)return null;const Ne=et.index||0;let De,_e=0;return Ie.eachLine(Me=>{if(De)return;const xe=Me&&Me.ops,Fe=Object(W.a)(xe,{replaceLinks:!0,replaceCode:!0,embedReplacement:"a"}),we=_e+(Fe?Fe.length:0)+1;Ne>=_e&&Ne<we&&(De=Me),_e=we}),De}getText(){return this.quill.getText().replace(/\n$/,"")}setText(Ie){if(!Ie){this.clear();return}this.nextTextChangeCallbackSource="api",this.quill.setText(Ie),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0)}insertText(Ie,et){let Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,De=Ie;if(!Object(f.a)(De)){this.options.logger.warn(Ha,"no specified index");return}const _e=this.quill.getLength()-1;De=Object(l.a)(De,0,_e),et&&this.quill.insertText(De,et,"user"),this.setLastSelection({index:De+et.length,length:0}),this.hasFocus()?this.quill.setSelection(this.lastSelection):Ne&&this.quill.setSelection(this.lastSelection,0,"silent")}insertTextAtCursor(Ie){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Object(E.a)()){this.options.logger.warn(Ha,"do not call insertTextAtCursor from modern. use insertContentsAtCursor");return}this.lastSelection.length&&this.quill.deleteText(this.lastSelection),this.insertText(this.lastSelection.index,Ie,et)}insertContentsAtCursor(Ie){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"user",{matchBlockFormat:De=!1}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_e=new m.a(Ie.contents);if(De){const Fe=this.getBlockFormat();Fe&&(_e=A({delta:_e,format:Fe,omitFinalBlockFormattingLine:!0}))}const Me=new m.a().retain(this.lastSelection.index).delete(this.lastSelection.length).concat(_e),xe=this.lastSelection.index+_e.length();this.setLastSelection({index:xe,length:0}),this.quill.updateContents(Me,Ne),this.hasFocus()?this.quill.setSelection(xe,0,Ne):et&&this.quill.setSelection(xe,0,Ne)}updateContents(Ie){const et=new m.a(Ie.contents);this.quill.updateContents(et,"api")}getFormats(Ie){let et=Ie;return Object(f.a)(et)||(et=this.lastSelection.index),this.quill.getFormat(et,0)}getBlockFormat(Ie){const et=this.getFormats(Ie);if(!et)return null;const Ne=Object(p.a)(et,xa);return Object(t.a)(Ne)?null:Ne}clear(){let Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setLastSelection({index:0,length:0});const et=Ie.is_silent?"silent":"api";this.setContents({contents:new m.a().insert(`
`)},{source:et});const Ne=this.quill.getModule("autoslug");Ne&&Ne.clearSearchCache()}refreshJumbomoji(){this.quill.getModule("slackemoji").toggleJumbomoji(this.quill.getContents())}refreshContents(Ie){this.quill.setContents(Ie.contents,"silent")}getPlaceholder(){return this.placeholder?this.placeholder.innerHTML:""}setPlaceholder(Ie){this.placeholder||(this.placeholder=this.quill.addContainer("ql-placeholder"),Qa(this.placeholder)),Ie?this.placeholder.innerHTML=Ie:this.placeholder.innerHTML=""}setAriaLabel(Ie){const et=this.quill.root;if(!Ie){et.removeAttribute("aria-label");return}et.setAttribute("aria-label",Ie)}setAriaDescribedBy(Ie){const et=this.quill.root;if(!Ie){et.removeAttribute("aria-describedby");return}et.setAttribute("aria-describedby",Ie)}setActiveDescendant(Ie){const et=this.quill.root;if(!Ie){et.removeAttribute("aria-activedescendant");return}et.setAttribute("aria-activedescendant",Ie)}getSelection(){return!this.hasFocus()&&this.lastSelection?this.lastSelection:this.quill.getSelection()}getBounds(Ie,et){return this.quill.getBounds(Ie,et)}getFormat(Ie){return Ie?this.quill.getFormat(Ie):this.quill.getFormat(this.lastSelection)}setSelection(Ie){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!this.isEnabled())return!1;let Ne=Ie,De=et;if(!Object(f.a)(Ne)&&!Object(f.a)(De))return!1;const _e=this.quill.getLength()-1;Ne=Object(l.a)(Ne,0,_e),De=Object(l.a)(De,0,_e-Ne);try{return this.quill.setSelection(Ne,De),!0}catch(Me){return this.options.logger.error(Ha,`Failed to set selection (${Me})`),Me.stack&&this.options.logger.error(Ha,Me.stack),!1}}setSelectionAtEnd(){const Ie=this.getLength();this.setSelection(Ie,0)&&(this.element.querySelector(".ql-editor").scrollLeft=1e4)}isEmpty(){return this.quill.getLength()<=1}getLength(){return this.quill.getLength()-1}isCursorInPreBlock(){const Ie=this.quill.getSelection();if(!Ie)return!1;if(this.useWysiwyg&&!this.options.usePlainTextMode){const Ne=this.quill.getFormat(Ie);return!!(Ne&&Ne["code-block"])}const et=this.quill.getText(0,Ie.index+Ie.length);return Object(H.a)(et)}isIndexInCode(Ie){const et=this.quill.getText(0,Ie);return Object(R.a)(et)}deleteSelection(){const Ie=this.quill.getSelection();Ie&&Ie.length&&(this.quill.deleteText(Ie.index,Ie.length),this.quill.setSelection(Ie.index))}deleteText(Ie,et){this.quill.deleteText(Ie,et)}clearHistory(){this.quill.history.clear()}setLastSelection(Ie){Ie?this.lastSelection=Ie:this.isEmpty()?this.lastSelection={index:0,length:0}:this.lastSelection=this.quill.getSelection()||this.lastSelection}getModules(){const Ie=[];return Object.keys(this.quill.options.modules).forEach(et=>{const Ne=this.quill.getModule(et);Ne&&Ie.push(Ne)}),Ie}enforceEmptyStateConsistency(){this.placeholder&&(this.placeholder.offsetHeight,this.placeholder.style.transform="translateZ(0)",this.placeholder.style.transform="")}constructor(Ie,et){if(!Ie||Ie.tagName!=="DIV")throw new Error('Texty: param "element" must be <div> element');this.options=Object(r.a)({},La,Object(h.a)(et,a.a));const Ne=this.options.isMultiverseQuillEnabled&&this.options.window?this.options.window:window;this.Quill=Ja(Ne),this.Parchment=this.Quill.import("parchment"),this.onInputClick=this.onInputClick.bind(this),this.onRootFocus=this.onRootFocus.bind(this),this.onRootBlur=this.onRootBlur.bind(this),this.onRootFocusOut=this.onRootFocusOut.bind(this),this.onResize=Object(C.a)(this.onResize.bind(this),Ka),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onScrollOptimize=this.onScrollOptimize.bind(this),this.window=Ne,this.element=Ie,this.placeholder=null,this.setLastSelection({index:0,length:0}),this.nextTextChangeCallbackSource=null,this.isInComposition=!1,this.useWysiwyg=this.options.useWysiwyg,this.options.singleLineInput&&Ie.classList.add("texty_single_line_input"),this.options.showTextyTooltips||Ie.classList.add("texty_hide_tooltips"),this.options.className&&this.options.className.split(" ").forEach(Me=>{Ie.classList.add(Me)});const De=["slackemoji","unlink"];if(this.options.modules.slacksearch&&(De.push("slacksearchtokenmodifier"),De.push("slacksearchtokenvalue")),this.options.modules.slackmention&&De.push("slackmention"),this.options.modules.slackhorizontalrule&&De.push("slackhorizontalrule"),this.options.modules.slackdocimage&&De.push("slackdocimage"),this.options.useWorkflowTokens&&De.push("workflowtoken"),this.useWysiwyg&&!this.options.usePlainTextMode){const{formats:Me}=Object(k.b)({overrideDefaultFormats:et.overrideDefaultFormats,overridesDefaultComposerButtons:et.overridesDefaultComposerButtons,useWorkflowTokens:et.useWorkflowTokens});if(Me.forEach(xe=>{["h1","h2"].includes(xe)?De.includes("header")||De.push("header"):["bullet-list","ordered-list","check-list"].includes(xe)?De.includes("list")||De.push("list"):De.push(xe)}),De.push("indent"),!this.options.modules.slackdocslist&&this.options.nestedListDepth){const xe=this.options.nestedListDepth;if(xe){const Fe=this.Quill.import("formats/indent"),we=Object(u.a)(1,xe);Fe.whitelist=we}}}const _e=this.options.useQuillClass||this.Quill;this.quill=new _e(Ie,{formats:De,scrollingContainer:this.options.scrollingContainerSelector,modules:{clipboard:gs(this,this.options),keyboard:{...this.options.modules.keyboard,onEnterExternal:this.options.onEnter,onBackspaceExternal:this.options.onBackspace,onEscapeExternal:this.options.onEscape,onTabExternal:this.options.onTab,texty:this,singleLineInput:this.options.singleLineInput,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled,teamId:et.getTeamId?et.getTeamId():"",useWysiwyg:this.useWysiwyg,usePlainTextMode:this.options.usePlainTextMode,showLinkForm:this.options.showLinkForm},tabcomplete:Cs(this,this.options),textsubstitutions:Os(this,this.options),slackmention:os(this.options),slackemoji:ts(this,this.options),slacklink:ys(this,this.options,De),slackdocimage:this.options.modules.slackdocimage,slackdocslist:this.options.modules.slackdocslist,slackmarkdown:ps(this,this.options,De),slackhorizontalrule:this.options.modules.slackhorizontalrule,textchangequeue:Ya(this,this.options),textsanitization:{stripNewlines:this.options.singleLineInput},autoslug:Xa(this,this.options),workflowtoken:this.options.useWorkflowTokens?{onClick:this.options.workflowTokenClick}:null,cleanembedsincode:this.options.modules.cleanembedsincode,cleanemptyinput:this.options.modules.cleanemptyinput,cleanworkflowtokens:this.options.modules.cleanworkflowtokens}}),$a(this,this.quill,this.options,this.window),bs(this.quill,this.options),this.setPlaceholder(this.options.placeholder),Qa(this.quill.clipboard.container)}},"TextyClass")},XzGp:function(w,s,e){"use strict";e.d(s,"a",function(){return pe}),e.d(s,"b",function(){return Se});var n=e("9oTK"),t=e("Aqb/"),a=e("PLUl"),i=e("s4P+"),c=e("G5NC"),r=e("lhZz"),f=e("rIJ2"),l=e("7xYR");const p=Object(f.a)(50),h=Object(f.a)(1);function u(){var ve,ge;if(!Object(c.a)())return!1;const he=(ve=Object(r.getClientStoreInstance)())===null||ve===void 0||(ge=ve.getState)===null||ge===void 0?void 0:ge.call(ve);return he&&Object(l.hasBootedSlackOwnedTeam)(he)&&p?!0:h}o(u,"shouldMeasureClientMetrics");var b=e("Z7Ay"),v=e("BEaa"),d=e("ykb+"),m=e("VYSP"),g=e("DKof"),O=e("jeQL"),E=e("1myf"),y=e("Z4nq"),C=e("okoL"),I=e("f8fv"),j=e("Lgge"),M=e("5NQM"),T=e("5MVR"),D=e("vLZU"),S=e("4hjS"),A=e("1Np4"),P=e("tHoN"),N=e("thso"),G=e("nRvL"),V=e("j77i");const k="CLIENT-METRICS:REDUX",x=Object(d.b)()?0:10*1e3,H=10,R=300;var W;(function(ve){ve.Inactive="inactive",ve.Active="active"})(W||(W={}));function U(ve){return _.apply(this,arguments)}o(U,"measureStoreSizes");function _(){return _=Object(n.coroutine)(function*(ve){const ge=Object(i.b)({label:k});let le=W.Inactive;const he=Object(r.getStateForClientStore)(),Te=Object(l.getBootedWorkspaces)(he)||[],Re=Object(l.getWorkspacesMeta)(he),Ve=yield j.a.map(Te,function(){var Ge=Object(n.coroutine)(function*(Ze){yield j.a.delay(x);const ze=Object(r.getStateByTeamId)(Ze),tt={...Object(r.getSharedStoreInstanceByEnterpriseId)(Ze)?Object(r.getSharedStateByEnterpriseId)(Ze):{},...ze},Ot=Object(A.a)({state:ze}),Ct=Object(i.a)({teamId:Ze,label:k});return Object(M.a)(()=>{const St=Ot.createMetricsTrace({label:"workspace",samplingOptions:{sampleType:t.a.ALWAYS},traceId:ve.getTraceId(),parentSpanId:ve.getRootSpanId()}),zt={},kt=Object(S.g)(ze,Ze);Object.keys(tt).forEach(hn=>{const gn=(hn==="messages"?G.c:N.b)(tt[hn]),Cn=Object(T.a)(gn);Cn&&(zt[hn]=Cn)});const on=Object(g.a)(Object.values(zt));let _t;const be=Re[Ze].enterprise_id;if(be){const hn={...Object(D.t)(be),...Object(D.t)(Ze)},gn=Object(O.a)(zt,(Cn,Mn)=>Object(D.B)({reducer:hn[Mn]}));_t=Object(g.a)(Object.values(gn))}Ct.info("Redux total store size:",Object(P.c)(on));const ot=St.store({name:"redux:workspace",label:"store_bytes",value:on}),rt={},Jt=Object(E.a)(Object(y.a)(zt),1),Qt=Object(C.a)(Jt,H);Qt.forEach(hn=>{let[gn,Cn]=hn;Ct.info(`Redux store size for ${gn}:`,Object(P.c)(Cn));const Mn=Object(I.a)(gn);St.store({name:`redux:workspace:${Mn}`,label:"store_bytes",value:Cn})});const qt=kt?(Date.now()-kt)/1e3:0;qt>0&&qt<R&&(le=W.Active);const $t=Qt.pop();if(rt.largest_store_name=$t&&$t[0],rt.largest_store_bytes=$t&&$t[1],rt.team_activity_level=le,rt.last_cold_boot_ts=Object(V.f)("lastColdBootTs"),ot.addTags(rt),_t){const hn=on-_t;Ct.info("Redux store size shared by org:",Object(P.c)(hn)),St.store({name:"redux:workspace:org_shared_bytes",value:hn})}return Ot.reportTrace(St),{teamId:Ze,totalSize:on,sizes:zt,orgId:be,orgSize:_t}})});return function(Ze){return Ge.apply(this,arguments)}}(),{concurrency:1}),Ee=[];let Ae=0;Ve.forEach(function(){let{orgId:Ge,orgSize:Ze,totalSize:ze}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ge&&Ee.includes(Ge)?Ae+=Ze:(Ae+=ze,Ge&&Ee.push(Ge))}),ge.info("Total Redux store size on client:",Object(P.c)(Ae));try{localStorage.setItem("client_metrics_client_redux_size",Ae.toString())}catch(Ge){ge.info("Error storing redux in local Storage",Ge)}return ve.store({name:"redux:all_workspaces_bytes",value:Ae}),ve}),_.apply(this,arguments)}o(_,"_measureStoreSizes");var B=e("RmlA");const z="CLIENT-METRICS:STORAGE";function L(ve){return $.apply(this,arguments)}o(L,"measureLocalStorageSize");function $(){return $=Object(n.coroutine)(function*(ve){return yield Object(M.a)(()=>{const ge=Object(i.b)({label:z}),le=Object(a.a)();try{const he=le.createMetricsTrace({label:"local_storage",traceId:ve.getTraceId(),parentSpanId:ve.getRootSpanId()}),Te=Object.entries(localStorage).sort((Ae,Ge)=>{let[Ze,ze]=Ae,[lt,tt]=Ge;return tt.length-ze.length}),Re=Te.reduce((Ae,Ge)=>{let[Ze,ze]=Ge;const lt=Q(ze);return!isNaN(lt)&&localStorage.hasOwnProperty(Ze)&&(Ae+=lt),Ae},0);if(he.store({name:"local_storage_bytes",value:Re}).setTag("total_entries",Te.length),ge.info("LocalStorage total size:",Object(P.c)(Re)),ge.info("LocalStorage total entries:",Te.length),Te.length){const Ae=Te[0];ge.info(`LocalStorage largest entry: ${Ae[0]} (${Object(P.c)(Q(Ae[1]))})`)}Te.slice(0,5).forEach(Ae=>{let[Ge,Ze]=Ae;he.store({name:"local_storage:largest_entry_bytes",value:Q(Ze)}).addTags({entry_key:Object(B.b)(Ge)})}),le.reportTrace(he)}catch{}}),ve}),$.apply(this,arguments)}o($,"_measureLocalStorageSize");function Q(ve){return ve.length*2}o(Q,"getLocalStorageItemSize");var K=e("ektR");const Z="CLIENT-METRICS:PERF",ne=["JSHeapUsedSize","JSHeapTotalSize","JSEventListeners","Nodes"];function F(){return J.apply(this,arguments)}o(F,"getMetrics");function J(){return J=Object(n.coroutine)(function*(){var ve;const ge={};yield Object(K.g)();const le=yield Object(K.h)();return yield Object(K.f)(),le==null||(ve=le.metrics)===null||ve===void 0||ve.forEach(he=>{let{name:Te,value:Re}=he;ne.includes(Te)&&(ge[Te]=Re)}),ge}),J.apply(this,arguments)}o(J,"_getMetrics");function X(ve){return Y.apply(this,arguments)}o(X,"performanceStats");function Y(){return Y=Object(n.coroutine)(function*(ve){const ge=Object(i.b)({label:Z});let le,he,Te,Re,Ve=!1;if(K.h.isAvailable()){const Ee=yield F();le=Ee.JSHeapUsedSize,he=Ee.JSHeapTotalSize,Te=Ee.JSEventListeners,Re=Ee.Nodes}else Object(P.e)()&&(le=Object(P.b)(),he=Object(P.a)(),Ve=!0);if(le&&he){ge.info("Total memory usage:",Object(P.c)(le),"out of",Object(P.c)(he));const Ee=ve.store({name:"memory_usage_bytes",value:le}),Ae=ve.store({name:"memory_total_bytes",value:he});if(Ve){const Ge={single_process:!0};Ee.addTags(Ge),Ae.addTags(Ge)}}return Te&&(ge.info("Total event listeners:",Te),ve.store({name:"desktop:event_listeners",value:Te})),Re&&(ge.info("Total nodes:",Re),ve.store({name:"desktop:nodes",value:Re})),ve}),Y.apply(this,arguments)}o(Y,"_performanceStats");var ae=e("kiPk"),ee=e("Uu/N"),q=e("vfQU"),te=e("xt0X"),de=e("kBpe");const se="CLIENT-METRICS:APP",re=[["workingSetSize",""],["peakWorkingSetSize","peak"],["privateBytes","private"]];let oe;function ce(ve){return ue.apply(this,arguments)}o(ce,"appStats");function ue(){return ue=Object(n.coroutine)(function*(ve){if(!Object(de.i)())return ve;const ge=Object(i.b)({label:se}),le=q.C.isAvailable()?(yield Object(q.C)()).processMetrics:yield Object(q.B)();if(!le)return ve;const he={},Te=Pe(Object(ae.a)(le,Ee=>{let{cpu:Ae}=Ee;return Ae.percentCPUUsage}));if(ve.store({name:"app:cpu_usage_percent_total",value:Te}),ge.info("App CPU Usage % Total:",Te),he.cpu_usage_percent_delta_total=Te,navigator!=null&&navigator.hardwareConcurrency){const Ee=Te*navigator.hardwareConcurrency;ve.store({name:"app:cpu_usage",value:Ee}),ge.info("App CPU Usage:",Ee)}le==null||le.forEach(Ee=>{const{cpu:Ae,memory:Ge,type:Ze,sandboxed:ze,pid:lt}=Ee,tt=Ze.toLowerCase();re.forEach(on=>{let[_t,be]=on;if(_t in Ge){const ot=Math.round(Object(te.b)(Ge[_t]));ve.count({name:`app:memory_${tt}_process_mb`,label:be,value:ot}).setTag("type",Ze),ge.info(`App ${Ze} Process ${be&&`${Object(ee.a)(be)} `}Memory Usage (MB):`,ot)}}),he[`memory_${tt}_working_set_size`]=Ge.workingSetSize;const Ot=Pe(Ae.percentCPUUsage),Ct=ve.store({name:`app:cpu_usage_${tt}_percent`,value:Ot});ge.info(`App ${Ze} Process % CPU Usage:`,Ot),he[`cpu_usage_percent_delta_${tt}`]=Ot;const St=Ae.idleWakeupsPerSecond,zt=ve.store({name:`app:cpu_idle_${tt}_wakeups`,value:St});ge.info(`App ${Ze} Process Idle Wakeups per second:`,St);const kt={type:Ze,sandboxed:ze,pid:lt};zt.addTags(kt),Ct.addTags(kt)});const Re=Object(P.d)(le,"workingSetSize");if(ge.info("App Total Memory (MB):",Re),ve.store({name:"app:memory_total_mb",value:Re}),he.memory_total_working_set_size=Re,oe){const Ee=Re-oe;ge.info("App Memory Delta (MB):",Ee),ve.store({name:"app:memory_delta_mb",value:Ee})}oe=Re;const Ve=Object(P.d)(le,"peakWorkingSetSize");if(ge.info("App Peak Memory (MB):",Ve),ve.store({name:"app:memory_peak_mb",value:Ve}),Object(de.x)()){const Ee=Object(P.d)(le,"privateBytes");ge.info("App Private Memory (B):",Ee),ve.store({name:"app:memory_private_mb",value:Ee})}try{localStorage.setItem("client_metrics_app_stats",JSON.stringify(he))}catch(Ee){ge.warn("Error storing app stats in local Storage",Ee)}return ve}),ue.apply(this,arguments)}o(ue,"_appStats");function Pe(ve){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return Number.parseFloat(ve.toPrecision(ge))}o(Pe,"convertToPrecision");var Ye=e("XO6L");const $e="CLIENT-METRICS",Ke=Object(d.b)()?0:3*60*1e3,qe=60*60*1e3;let ct=!1,Be;function pe(){u()&&(Be=window.setTimeout(fe,Ke))}o(pe,"reportClientMetricsOnAnInterval");function fe(){window.clearTimeout(Be),Se(),Be=window.setTimeout(fe,Object(v.a)(qe,-.1,.1))}o(fe,"runClientMetricsAndScheduleNext");let me=!1;function Se(){return je.apply(this,arguments)}o(Se,"runClientMetrics");function je(){return je=Object(n.coroutine)(function*(){const ve=Object(i.b)({label:$e});if(ve.info("Attempting to run client metrics"),ct){ve.info("Already running client metrics, skipping");return}ct=!0;const ge=Object(a.a)(),le=ge.createMetricsTrace({tags:{...Object(Ye.a)(),...Object(m.b)()},samplingOptions:{sampleType:t.a.ALWAYS}});return yield X(le),yield U(le),yield ce(le),me||(me=!0,yield L(le)),ge.reportTrace(le),ve.info("Completed client metrics",{traceId:le.getTraceId()}),ct=!1,le}),je.apply(this,arguments)}o(je,"_runClientMetrics"),Object(b.a)("clientMetrics",{isSampled:()=>u(),runClientMetrics:Se}),Object.defineProperties({runClientMetrics:Se,currentlyRunningClientMetrics:ct},{currentlyRunningClientMetrics:{get:()=>ct,set:ve=>{ct=ve}}})},Y0qr:function(w,s,e){"use strict";e.d(s,"a",function(){return t});const n=o(a=>a==="1"?"true":a==="0"?"false":a,"coerceNumericBooleanToStringBoolean"),t=o(function(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a&&"inputs"in a.root)return a.root.inputs.map(c=>{const[r,f,l,p]=Array.from(c.statement.matchAll(/'([^':]*?)(:([^']*?))?'/g))[0],h=i?n(p):p;return{field:f,value:h}});if(a&&"statement"in a.root){const[c,r,f,l]=Array.from(a.root.statement.matchAll(/'([^':]*?)(:([^']*?))?'/g))[0],p=i?n(l):l;return[{field:r,value:p}]}return[]},"readListRecordUpdatedFilter")},Y4Ot:function(w,s,e){"use strict";e.d(s,"a",function(){return C});var n=e("Lgge"),t=e("fujP"),a=e("WCk1"),i=e("2XU3"),c=e("jprL"),r=e("Sczb"),f=e("AzV5"),l=e("Kn+X"),p=e("BBdC"),h=e("62K+"),u=e("2XGx"),b=e("Cnv9"),v=e("9BpI"),d=e("WKVO"),m=e("rq8k"),g=e("nwIl"),O=e("RVJP"),E=e("D1F6"),y=e("z4V0");const C=Object(a.a)("Updates a draft",function(I,j){let{draft:M,reason:T,syncDateScheduled:D,origClientDraftId:S,acknowledgedUnfurls:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var P;if(Object(t.a)(M))return n.a.reject(new Error("No draft provided"));const N=M,G=Object(l.e)(N),V=j(),k=Object(O.d)(V,"native_gif_picker")==="on",x=Object(g.a)(V,{draftId:G}),H=Object(l.o)(N);if(!H)return n.a.reject(new Error("Draft does not have a server generated ID"));const R=Object(l.n)(N),W=I(Object(f.a)({msgOps:R}))||m.a,U=Object(l.j)(N),_=Object(p.a)(N),B=S??G;let z=I(Object(v.a)({draftId:B,ops:R}));const L=(((P=Object(r.g)(V,B,[c.f]))===null||P===void 0?void 0:P.length)||0)>0;z||(z=L?JSON.stringify([]):void 0);const $=Object(b.b)(V)?I(Object(h.a)({draftId:G})):void 0;let Q=$?Object(u.a)($):[];if(k&&x){const Z=Object(E.a)(V,{draftId:G,status:y.b.DRAFT});Q=Q.concat(Z)}const K=I(Object(d.a)({draftId:G}));return I(Object(i.apiCall)({method:"drafts.update",args:{blocks:JSON.stringify(W),client_last_updated_ts:Object(l.l)(N).toString(),attachments:Q,destinations:JSON.stringify(U),draft_id:H,file_ids:JSON.stringify(_),unfurl:A||z,date_scheduled:D?Object(l.i)(N):void 0,is_from_composer:Object(l.z)(N),file_permissions:K},reason:T}))});C.meta={name:"createFetcher",key:"createFetcherupdateDraftApi",description:"Updates a draft"}},YCzX:function(w,s,e){"use strict";e.d(s,"f",function(){return m}),e.d(s,"a",function(){return y}),e.d(s,"e",function(){return C}),e.d(s,"d",function(){return I}),e.d(s,"b",function(){return j}),e.d(s,"c",function(){return T});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("fujP"),c=e("BHdc"),r=e("nNoG"),f=e("Tevt"),l=e("8HWa"),p=e("wBgp"),h=e("wnwS"),u=e("m5Yc"),b=e("R+hq"),v=e("vIgB"),d=e("2IlT");const m=Object(n.createContext)(null),g=new r.b("workflow_builder"),O=o(S=>{S.preventDefault()},"preventDefault"),E=o(S=>{let{variable:A,defaultLabel:P,prependText:N}=S;return A!=null&&A.label?`${N??""}${A==null?void 0:A.label}`:P},"buildLabel"),y=o(S=>{let{style:A}=S;return t.a.createElement(h.a,{style:A},t.a.createElement("span",{className:"p-workflowtoken--error"},g.t("Missing Data")))},"MissingData"),C=o(S=>{let{style:A,variable:P}=S;return t.a.createElement("span",{className:"p-workflowtoken__text"},t.a.createElement(f.a,{href:"#",className:Object(c.default)("c-member_slug c-member_slug--link",{"p-workflowtoken--error":P&&!P.isAvailable}),onClick:O,tabIndex:-1,"aria-hidden":!0,disabled:!0},t.a.createElement(b.a,{type:u.b.TEXT,text:E({variable:P,defaultLabel:g.t("Variable text")}),style:A})))},"PreviewText"),I=o(S=>{let{style:A,variable:P}=S;return t.a.createElement("span",{className:"p-workflowtoken__user"},t.a.createElement(h.a,{style:A},t.a.createElement(l.a,{id:"preview-user",className:Object(c.default)("c-link--disabled",{"p-workflowtoken--error":P&&!P.isAvailable}),tabIndex:-1,ariaHidden:!0,name:E({variable:P,defaultLabel:(P==null?void 0:P.type)===v.d.SlackTypesUsergroupId?g.t("Variable User group",{fallbackHash:"8c94d32b4b7aa138343157046fa53de39e68f6d9",fallbackHashNs:"user_groups"}):g.t("Variable User")}),showTooltip:!1,onClick:a.a,isUnknown:!1})))},"PreviewMember"),j=o(S=>{let{style:A,variable:P}=S;return t.a.createElement("span",{className:"p-workflowtoken__channel"},t.a.createElement(h.a,{style:A},t.a.createElement(f.a,{href:"#",className:Object(c.default)("c-member_slug c-member_slug--link",{"p-workflowtoken--error":P&&!P.isAvailable}),onClick:O,tabIndex:-1,"aria-hidden":!0,disabled:!0},E({variable:P,defaultLabel:g.t("#variable-channel"),prependText:"#"}))))},"PreviewChannel");j.displayName="PreviewChannel";var M;const T=o(S=>{let{style:A,variable:P}=S;return t.a.createElement(h.a,{style:A},t.a.createElement("span",{className:Object(c.default)({"p-workflowtoken--error":P&&!P.isAvailable})},(M=P==null?void 0:P.label)!==null&&M!==void 0?M:g.t("Variable emoji")))},"PreviewEmoji"),D=o(S=>{let{id:A,dataType:P,property:N,style:G}=S;const V=Object(n.useContext)(m);if(!A||!P||!V||Object(i.a)(V))return null;const k=Object(d.a)(V,A);if(!k||k.isTombstone)return t.a.createElement(y,{style:G});let x=null;var H;switch((H=k.type)!==null&&H!==void 0?H:P){case p.i:case v.d.SlackTypesUserId:case v.d.SlackTypesUsergroupId:N&&[p.b,p.a].includes(N)?x=t.a.createElement(C,{style:G,variable:k}):x=t.a.createElement(I,{style:G,variable:k});break;case p.c:case v.d.SlackTypesChannelId:x=t.a.createElement(j,{style:G,variable:k});break;case p.e:x=t.a.createElement(T,{style:G,variable:k});break;case p.h:default:x=t.a.createElement(C,{style:G,variable:k})}return x},"WorkflowToken");D.displayName="WorkflowToken",s.g=D},YGCq:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("HOkk"),c=e("AwEi"),r=e("nNoG");function f(){return f=Object.assign||function(h){for(var u=1;u<arguments.length;u++){var b=arguments[u];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(h[v]=b[v])}return h},f.apply(this,arguments)}o(f,"_extends");const l=new r.b("attachment_actions");function p(h){let{dangerGoButton:u=!1,dismissText:b,isMrkdwnText:v=!0,okText:d,onCancel:m=a.a,onGo:g,text:O="",title:E="",confirmTextProps:y,autoClogProps:C}=h,I;return!O&&!E?I=l.t("Are you sure?"):v?I=t.a.createElement(c.a,f({},y,{text:O})):I=O,t.a.createElement(i.a,{cancelText:b||l.t("Cancel"),goButtonText:d||l.t("OK"),goButtonType:u?"danger":void 0,onCancel:m,onGo:g,title:E,autoClogProps:C},I)}o(p,"AttachmentActionConfirmDialog"),p.displayName="AttachmentActionConfirmDialog",s.a=t.a.memo(p)},YHfO:function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t});const n=5e3,t="share_dialog"},YJrJ:function(w,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return i});var n=e("q1tI"),t=e.n(n);const a=t.a.createContext({highlightFirstSearchResult:!1,setHighlightFirstSearchResult:()=>!1,highlightOnMultiPickerEscape:!1,setHighlightOnMultiPickerEscape:()=>!1,showHandyReactions:!1,enableSkinTonePicker:!0,keyboardIntoPicker:!1,setKeyboardIntoPicker:()=>!1}),i=o(c=>{let{children:r,showHandyReactions:f,enableSkinTonePicker:l}=c;const[p,h]=Object(n.useState)(!1),[u,b]=Object(n.useState)(!1),[v,d]=Object(n.useState)(!1),m=Object(n.useMemo)(()=>({highlightFirstSearchResult:p,setHighlightFirstSearchResult:h,highlightOnMultiPickerEscape:u,setHighlightOnMultiPickerEscape:b,showHandyReactions:f,enableSkinTonePicker:l,keyboardIntoPicker:v,setKeyboardIntoPicker:d}),[p,u,f,l,v]);return t.a.createElement(a.Provider,{value:m},r)},"EmojiPickerContextProvider");i.displayName="EmojiPickerContextProvider"},YKBt:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("WSQ4"),i=e("khnw"),c=e("mX3T"),r=e("LK2A");const f=o(l=>{let{value:p,max:h,tick:u,jump:b,onChange:v,renderContainer:d,renderTrack:m,renderInner:g,onMouseDown:O,onMouseUp:E,"aria-label":y,"aria-valuetext":C,vertical:I,autoFocus:j}=l;const M=Object(n.useRef)(null),{embeddedUiData:T}=Object(n.useContext)(c.a),{window:D}=Object(n.useContext)(a.a),S=Object(n.useCallback)(R=>{let{pageX:W,pageY:U}=R;const _=M.current;if(!_)return;const B=_.getBoundingClientRect(),z=I?B.y:B.x,L=Math.max(0,(I?U:W)-z),$=I?B.height:B.width,K=(I?1-Math.min(1,L/$):Math.min(1,L/$))*h;v(K)},[h,v,I]),A=Object(n.useCallback)(R=>{S(R)},[S]),P=Object(n.useCallback)(R=>{D.document.removeEventListener("mousemove",A),D.document.removeEventListener("mouseup",P),E==null||E(R)},[A,E,D]),N=Object(n.useCallback)(R=>{R.button!==0||R.ctrlKey||(S(R),R.preventDefault(),D.document.addEventListener("mousemove",A),D.document.addEventListener("mouseup",P),O==null||O(R))},[A,P,S,O,D]),G=Object(n.useCallback)(R=>{switch(R.which){case i.o:case i.r:v(p+(u??1));break;case i.k:case i.c:v(p-(u??1));break;case i.n:v(p+(b??h*.1));break;case i.m:v(p-(b??h*.1));break;case i.g:v(0);break;case i.d:v(h);break;default:return}R.preventDefault()},[p,h,u,b,v]);Object(n.useEffect)(()=>{var R;return M==null||(R=M.current)===null||R===void 0||R.toggleAttribute(r.EmbeddedUIAttributes.NO_DRAG_ON_MOUSE_MOVE,!!T),()=>{D.document.removeEventListener("mousemove",A),D.document.removeEventListener("mouseup",P)}},[T,A,P,D]),Object(n.useEffect)(()=>{j&&M.current&&M.current.focus()},[j]);const V=`${((h>0?p/h:0)*100).toFixed(2)}%`,k=g({style:I?{height:V}:{width:V}}),x=m({children:k,tabIndex:0,role:"slider","aria-label":y,"aria-valuemin":0,"aria-valuemax":h,"aria-valuenow":Math.floor(p),"aria-valuetext":C,onKeyDown:G,ref:M});return d({children:x,onMouseDown:N})},"CustomizableSlider");s.a=f},YOgf:function(w,s,e){"use strict";e.d(s,"a",function(){return $});var n=e("mM05"),t=e.n(n),a=e("m5Yc"),i=e("mdQV"),c=e("ECHX"),r=e("6je6"),f=e("FFYQ"),l=e("6YLm"),p=e("WXix"),h=e("7HXw"),u=e("/ZHS"),b=e("RNBp");const{WORKFLOWTOKEN:v}=a.b,d=o(ne=>{var F;return((F=ne)===null||F===void 0?void 0:F.type)===v},"isRichTextWorkflowtokenElement");var m=e("EbWi"),g=e("5f4c"),O=e("59NB"),E=e("895Y"),y=e("gSGL"),C=e("TGBA");const I=o(ne=>{var F,J;return Object(y.a)((F=ne)===null||F===void 0?void 0:F.text)&&!Object(C.a)(a.b).includes((J=ne)===null||J===void 0?void 0:J.type)},"isRichTextUnknownElementWithText");var j=e("xwCZ"),M=e("GhjL"),T=e("E3dU"),D=e("JnIm"),S=e("2oNE"),A=e("/+/u"),P=e("pTwU"),N=e("MvaT"),G=e("iomZ"),V=e("yrot"),k=e("HJKc"),x=e("52Wj"),H=e("DQNL"),R=e("Yauy"),W=e("jlKB"),U=e("dS/7"),_=e("Ar8P"),B=e("oNuo"),z=e("6kKm");const{BULLET:L}=a.a;function $(ne,F){const J=Object(D.a)(ne);let X=new t.a;return!F||!Object(_.a)(F)||(F[0].elements.forEach(Y=>{const ae=(Y==null?void 0:Y.border)>0?1:void 0;Object(m.a)(Y)?X=X.concat(K(ne,Y.elements,J)):Object(g.a)(Y)?(X=X.concat(K(ne,Y.elements,J,{blockquote:!0,border:ae})),X.insert(`
`,{blockquote:!0,border:ae})):Object(O.a)(Y)?(X=X.concat(K(ne,Y.elements,J,{"code-block":!0,border:ae})),X.insert(`
`,{"code-block":!0,border:ae})):Object(E.a)(Y)?X=X.concat(Q(ne,Y,J)):d(Y)&&X.insert({workflowtoken:{id:Y.id,property:Y.property,type:Y.data_type}},{...Z(Y.style)})}),Object(N.a)(X)||X.insert(`
`)),X}o($,"convertBlocksToDelta");function Q(ne,F,J){let X=new t.a;const Y=F.style===L?{list:"bullet"}:{list:"ordered"};return F.indent&&(Y.indent=F.indent),F.border&&(Y.border=F.border),F&&F.elements&&F.elements.forEach(ae=>{X=X.concat(K(ne,ae.elements,J,Y)),X.insert(`
`,Y)}),X}o(Q,"convertList");function K(ne,F,J,X){const Y=new t.a,ae=Object(W.a)(ne);return(F||[]).forEach(ee=>{let q,te,de,se,re,oe,ce,ue;if(Object(i.a)(ee)||I(ee))if(X&&X.list)Y.insert(ee.text.replace(/\n/g,""),Z(ee.style));else if(X){q=ee.text.split(`
`);for(let Pe=0;Pe<q.length;Pe++)ee.text&&Y.insert(q[Pe],Z(ee.style)),Pe<q.length-1&&Y.insert(`
`,X)}else Y.insert(ee.text,Z(ee.style));else if(Object(c.a)(ee))te=Object(j.g)(ne,ee.user_id),Y.insert(`@${Object(x.b)(te)}`,{slackmention:Object(A.a)(te,J),...Z(ee.style)});else if(Object(r.a)(ee))de=Object(M.d)(ne,ee.usergroup_id),Y.insert(Object(H.g)(de),{slackmention:Object(P.a)(de,J),...Z(ee.style)});else if(Object(f.a)(ee))se=Object(T.d)(ne,ee.channel_id),ue=`#${Object(R.t)(ne,se,{publicChannelIncludeHashSign:!1})}`,Y.insert(ue,{slackmention:Object(S.a)((se==null?void 0:se.id)||"",ue),...Z(ee.style)});else if(Object(l.a)(ee))re=Object(B.a)(`BK${ee.range}`),Y.insert(`@${Object(z.a)(re)}`,{slackmention:Object(S.a)(`BK${ee.range}`,`@${Object(z.a)(re)}`,J),...Z(ee.style)});else if(Object(p.a)(ee))if(ae)Y.insert(Object(U.a)(ee,{state:ne,localize:!0}),{...Z(ee.style)});else{oe=`:${ee.name}:`,ee.skin_tone&&(oe+=`:skin-tone-${ee.skin_tone}:`);const Pe={...Z(ee.style)},Ye=o($e=>{Y.insert({slackemoji:{text:$e}},Pe)},"addToDelta");if(ee.unicode&&Object(k.a)(ee.unicode)){const $e=Object(V.i)(ne,ee.unicode);if($e)Ye(`:${$e}:`);else{const Ke=Object(G.a)({codePointLikeString:ee.unicode});Y.insert(Ke||"",Pe)}}else Ye(oe)}else Object(h.a)(ee)?(ce=Z(ee.style),ce.code||X&&X["code-block"]||(ce.link=ee.url),Y.insert(ee.text||ee.url,ce)):Object(u.a)(ee)?Y.insert(ee.value,{...Z(ee.style)}):Object(b.a)(ee)?ee.fallback&&Y.insert(ee.fallback,{...Z(ee.style)}):d(ee)&&Y.insert({workflowtoken:{id:ee.id,property:ee.property,type:ee.data_type}},{...Z(ee.style)})}),Y}o(K,"convertTextChunks");function Z(ne){const F={};return ne&&(ne.bold&&(F.bold=!0),ne.italic&&(F.italic=!0),ne.strike&&(F.strike=!0),ne.code&&(F.code=!0),ne.unlink&&(F.unlink=!0)),F}o(Z,"styleToDeltaAttributes")},YbME:function(w,s,e){"use strict";s.a={workflowSuggestionFeedbackButtons:"workflowSuggestionFeedbackButtons__YEkV4"}},YeHW:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("wOIf");const t=o(i=>{const c="config"in i?i.config:void 0;return!!c&&i.type===n.SLACK_FUNCTION&&"slackFunction"in c},"isSlackFunctionSegment"),a=o(i=>n.SLACK_FUNCTION in i&&!("config"in i),"isSlackFunctionStep")},Yg60:function(w,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});var n;(function(a){a.SAME_LOCATION="Same location",a.SELF_DM="Self DM",a.DM="DM",a.MPDM="MPDM",a.SC_DM="Slack Connect DM",a.SC_MPDM="Slack Connect MPDM",a.PRIVATE_CHANNEL="Private Channel",a.SC_PRIVATE_CHANNEL="Slack Connect Private Channel",a.PUBLIC_CHANNEL="Public Channel",a.SC_PUBLIC_CHANNEL="Slack Connect Public Channel",a.UNKNOWN="unknown"})(n||(n={}));var t;(function(a){a[a.DEFAULT=0]="DEFAULT",a[a.DM=1]="DM",a[a.MPDM=2]="MPDM",a[a.FORWARDING_TO_SC_DM=3]="FORWARDING_TO_SC_DM",a[a.FORWARDING_TO_SC_MPDM=4]="FORWARDING_TO_SC_MPDM",a[a.FORWARDING_TO_PRIVATE_CHANNELS=5]="FORWARDING_TO_PRIVATE_CHANNELS",a[a.FORWARDING_TO_SC_PRIVATE_CHANNELS=6]="FORWARDING_TO_SC_PRIVATE_CHANNELS",a[a.FORWARDING_TO_PUBLIC_CHANNELS=7]="FORWARDING_TO_PUBLIC_CHANNELS",a[a.FORWARDING_TO_SC_PUBLIC_CHANNELS=8]="FORWARDING_TO_SC_PUBLIC_CHANNELS"})(t||(t={}))},YnUV:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Tell the app whether the Composer formatting bar is visible in this window");t.meta={name:"createAction",key:"createActionsetComposerVisibility",description:"Tell the app whether the Composer formatting bar is visible in this window"}},Yp7W:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("QXUO"),t;(function(i){i.FileUploadsDisabled="file_uploads_disabled",i.FileUploadsExceptImagesDisabled="file_uploads_except_images_disabled",i.SlackConnectFileLinkSharingBlocked="slack_connect_file_link_sharing_blocked",i.SlackConnectBlockedFileType="slack_connect_blocked_file_type",i.SlackConnectFileUploadSharingBlocked="slack_connect_file_upload_sharing_blocked",i.MalwareDetected="malware_detected",i.FilesUploadHasExceededLimit="files_upload_has_exceeded_limit",i.SlackConnectCanvasContainFileSharingBlocked="slack_connect_canvas_contain_file_sharing_blocked",i.FileNotFoundOnDevice="file_not_found_on_device",i.ProcessingTimeout="processing_timeout",i.DlpUserWarning="dlp_user_warning",i.BlockedFileType="blocked_file_type",i.CanvasHeaderImageUnsupportedFileType="canvas_header_image_unsupported_file_type"})(t||(t={}));function a(i){return i===t.ProcessingTimeout?!0:!(Object.values(t).includes(i)||[n.a.FilestoreAuthError,n.a.FilestoreDisabled,n.a.FilestoreMisconfigured].includes(i))}o(a,"canRetry")},"Yu+/":function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return!!(t&&t.attributes&&(t.attributes.list==="bullet"||t.attributes.list==="ordered"))}o(n,"isOpListItem")},YxAP:function(w,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.About="about",t.Members="members",t.Integrations="integrations",t.Insights="Insights",t.Settings="settings"})(n||(n={}))},Z2IC:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("q1tI"),t=e.n(n);function a(i){const c=Object(n.useRef)();return c.current===void 0&&(c.current=i()),c.current}o(a,"useRefCreator")},Z4OJ:function(w,s,e){"use strict"},ZBdd:function(w,s,e){"use strict"},ZFGU:function(w,s,e){"use strict";e.d(s,"i",function(){return f}),e.d(s,"g",function(){return l}),e.d(s,"c",function(){return p}),e.d(s,"d",function(){return h}),e.d(s,"a",function(){return u}),e.d(s,"b",function(){return b}),e.d(s,"k",function(){return v}),e.d(s,"l",function(){return d}),e.d(s,"e",function(){return m}),e.d(s,"f",function(){return g}),e.d(s,"h",function(){return O}),e.d(s,"n",function(){return E}),e.d(s,"m",function(){return y}),e.d(s,"j",function(){return C});var n=e("ktUG"),t=e("FWtP");function a(I){return{eventId:n.EventId.NEWXP_JOIN_TEAM,uiStep:n.UiStep.SETUP_JOINER_LAUNCHPAD_STEP_TEAMMATES,elementName:"joiner_launchpad_people_picker",stepVariant:I}}o(a,"getJoinerLaunchpadStepTeammatesPageImpressionAutoClogProps");function i(I){return{contexts:{ui_context:{action:n.UiAction.SEARCH,step:n.UiStep.SETUP_JOINER_LAUNCHPAD_STEP_TEAMMATES,step_variant:I,ui_properties:{element_name:"joiner_launchpad_people_picker"}}}}}o(i,"getJoinerLaunchpadStepTeammatesSearchActionClog");function c(I,j){return{contexts:{ui_context:{action:j?n.UiAction.ERROR:n.UiAction.SKIP,step:n.UiStep.SETUP_JOINER_LAUNCHPAD_STEP_TEAMMATES,step_variant:I,ui_properties:{element_name:"joiner_launchpad_people_picker"}}}}}o(c,"getJoinerLaunchpadStepTeammatesSkipActionClog");function r(I){let{stepVariant:j,searchSelectedUsers:M,totalSelectedUsers:T,inviterSelected:D}=I;return{contexts:{ui_context:{action:n.UiAction.NEXT,step:n.UiStep.SETUP_JOINER_LAUNCHPAD_STEP_TEAMMATES,step_variant:j,ui_properties:{element_name:"joiner_launchpad_people_picker",element_type:M,element_index:T},entry_point:D?"inviter_selected":"inviter_not_selected"}}}}o(r,"getJoinerLaunchpadStepTeammatesNextActionClog");function f(I){return{eventId:n.EventId.NEWXP_JOIN_TEAM,uiStep:n.UiStep.JOINER_LAUNCHPAD,elementName:n.UiStep.JOINER_LAUNCHPAD,stepVariant:I}}o(f,"getJoinerLaunchpadPageImpressionAutoClogProps");function l(I){return{eventId:n.EventId.NEWXP_JOIN_TEAM,uiStep:n.UiStep.JOINER_LAUNCHPAD,elementName:"joiner_launchpad_api_error_screen",stepVariant:I}}o(l,"getJoinerLaunchpadErrorPageImpressionAutoClogProps");function p(I,j){return{contexts:{ui_context:{action:n.UiAction.CLICK,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:I,ui_properties:{element_name:`suggested_channel_click_${j?"join":"view"}`,element_type:n.ElementType.BUTTON}}}}}o(p,"getChannelClickClog");function h(I){return{contexts:{ui_context:{action:n.UiAction.CLICK,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:I,ui_properties:{element_name:"suggested_dm_click",element_type:n.ElementType.BUTTON}}}}}o(h,"getDMClickClog");function u(I){return{contexts:{ui_context:{action:n.UiAction.CLICK,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:I,ui_properties:{element_name:"view_all_channels_click",element_type:n.ElementType.BUTTON}}}}}o(u,"getAllChannelsClickedClog");function b(I){return{contexts:{ui_context:{action:n.UiAction.CLICK,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:I,ui_properties:{element_name:"view_everyone_click",element_type:n.ElementType.LINK}}}}}o(b,"getAllDMsClickedClog");const v=Object(t.a)(I=>({uiStep:n.UiStep.JOINER_LAUNCHPAD,elementName:"joiner_launchpad_sidebar_link",elementType:n.ElementType.LINK,stepVariant:I})),d=Object(t.a)(I=>({link:{eventId:n.EventId.NEWXP_JOIN_TEAM},onClick:{onClick:{enableClogAction:!0},...I}}));function m(I){return{contexts:{ui_context:{action:n.UiAction.CLICK,ui_step:n.UiStep.JOINER_LAUNCHPAD,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:I,ui_properties:{element_name:"dismiss_joiner_launchpad",element_type:n.ElementType.X}}}}}o(m,"getJoinerLaunchpadDismissClog");function g(I){return{eventId:n.EventId.NEWXP_JOIN_TEAM,elementName:"dismiss_joiner_launchpad_coachmark",uiComponentName:`dismiss_joiner_launchpad_coachmark_${I}`}}o(g,"getJoinerLaunchpadDismissCoachmarkImpressionAutoClogProps");function O(I){return{eventId:n.EventId.NEWXP_JOIN_TEAM,uiStep:n.UiStep.JOINER_LAUNCHPAD,elementName:"suggested_channel_preview",stepVariant:I}}o(O,"getJoinerLaunchpadJoinChannelPaneAutoClogProps");const E={elementName:"suggested_channel_preview_join_channel",onClick:{enableClogAction:!0}},y={elementName:"suggested_channel_preview_dismiss",onClick:{enableClogAction:!0}};function C(I){return{contexts:{ui_context:{action:n.UiAction.SEND,ui_step:n.UiStep.JOINER_LAUNCHPAD,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:I,ui_properties:{element_name:"joiner_launchpad_recommended_dm_message_sent"}}}}}o(C,"getJoinerLaunchpadRecommendedDMSentClog")},ZXTy:function(w,s,e){"use strict";e.d(s,"a",function(){return f}),e.d(s,"b",function(){return l});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),i=e("Sl1j"),c=e("dmHe"),r=e("ksz/");const f=Object(a.c)("Fetch and upsert channel pref data",function(){var p=Object(n.coroutine)(function*(h,u,b){let{channelId:v,prefName:d,reason:m}=b;if(d==="enable_at_channel"&&!Object(c.a)(u(),v))return;const g=yield h(Object(i.n)({channelId:v,prefName:d,reason:m||"fetch-channel-pref"}));h(Object(r.b)({channelId:v,pref:d,value:g==null?void 0:g.pref_value}))});return function(h,u,b){return p.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkgetChannelPref",description:"Fetch and upsert channel pref data"};const l=Object(a.c)("Set and upsert channel pref data",function(){var p=Object(n.coroutine)(function*(h,u,b){let{channelId:v,newPrefs:d,reason:m}=b;const g=yield h(Object(i.u)({channelId:v,newPrefs:d,reason:m||"set-channel-prefs"})),O={[v]:g.prefs};h(Object(r.a)(O))});return function(h,u,b){return p.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunksetChannelPrefs",description:"Set and upsert channel pref data"}},ZaGd:function(w,s,e){"use strict";var n=e("mM05"),t=e.n(n);e.d(s,"a",function(){return t.a});var a=e("nTNk"),i=e("VO/D"),c=e("Xx2o"),r=e("NHkt"),f=e("d0Vf"),l=e("pfyn");const p=Object(a.a)();s.b=i.a},ZerW:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("beVI"),c=e("Yauy"),r=e("M1/X"),f=e("XXd4"),l=e("G0eX"),p=e("uxpt"),h=e("hUMe"),u=e("nNoG"),b=e("mY0L"),v=e("iBXr");const d=new u.b("channel_invite"),{CannotRequestSharedChannels:m,DisallowedWorkspace:g}=v.a,O=o(E=>{let{processingOrgMembers:y=!1,canConvertToExternalSharedChannel:C,channel:I}=E;var j,M;const T=Object(a.c)(i.g),D=Object(l.h)(T),S=Object(a.c)(i.i),A=Object(l.h)(S),P=Object(a.c)(L=>Object(c.t)(L,I)),N=Object(a.c)(L=>!Object(p.b)(L,[T.id])),G=Object(a.c)(L=>Object(f.a)(L,I)),V=Object(a.c)(L=>Object(r.d)(L,I)),k=Object(a.c)(L=>Object(v.b)(L,I)),x=k==null||(j=k.reasons)===null||j===void 0?void 0:j.includes(g),H=k==null||(M=k.reasons)===null||M===void 0?void 0:M.includes(m),{renderLink:R,shouldDisplayGuidelines:W}=Object(b.a)({type:"INVITE",dataQa:"slack-connect-instructions-disabled-slack-connect-copy",stepVariant:"disabled-slack-connect-copy",modalHeaderSuffix:"instructions",showCopyButton:!0,className:"instructions-link--button"}),U=W&&k.ok;if(y)return t.a.createElement(t.a.Fragment,null,d.rt("They are already a full member of {teamName}.",{teamName:t.a.createElement(h.a,{id:S.id,team:S})}));if(G)return t.a.createElement(t.a.Fragment,null,d.rt("Email invitations to external people can\u2019t be sent for this channel."));if(C)return null;if(H&&U)return d.rt("Your admins haven\u2019t shared the permission required to invite external people to this channel. Read the <link>instructions they created</link> for details.",{"<link>":R,fallbackHash:"36301f08849ebff17b014f40f279704b95295b98"});if(x&&U)return d.rt("Slack Connect isn\u2019t enabled for this workspace, but your admins <link>created instructions</link> to help you add the right people to the right workspaces.",{"<link>":R});if(N)return d.rt("Slack Connect has been disabled for <strong>{teamName}</strong> workspace.",{teamName:D,currentTeamName:D,fallbackHash:"684d8220b193d9ee29436f74bc2decc1cc3caf89"});const _=r.a.InvalidChannel,B=V.reason===_;return!V.ok&&!B?d.rt("You\u2019re not allowed to add people outside <strong>{teamName}</strong>.",{teamName:A,fallbackHash:"da6e41b91161beac54d86bdd0edf8e5139bf12a8",fallbackHashNs:"slack_connect_hub"}):d.rt("You\u2019re not allowed to add people outside <strong>{teamName}</strong> to this channel.",{teamName:A,channelName:P,fallbackHash:"fafe1a508d8f9576a675a8421a7f66691a86c491"})},"DisabledSlackConnectCopy");O.displayName="DisabledSlackConnectCopy",s.a=O},ZgSn:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n="identity_links_prefs"},Zlla:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});function*n(i){if(i!==void 0)for(const c of i)c.value!==void 0?yield c:c.options&&(yield*n(c.options))}o(n,"nestedOptionsGenerator");function t(i,c){for(const r of n(i))if(r.value===c)return r}o(t,"findOption");function*a(i,c){const r=new Set(c);for(const f of n(i))f.value!==void 0&&f.value!==null&&r.has(f.value)&&(r.delete(f.value),yield f)}o(a,"findOptions")},Znag:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("V/As"),c=e("4Ky9"),r=e("zxER");const f=Object(n.memo)(l=>{let{appId:p,imageClassName:h,size:u=36,size2x:b=72,alt:v}=l;const d=Object(r.c)(O=>Object(c.a)(O,p));if(!d)return null;const m=Object(i.b)(d,u),g=Object(i.b)(d,b||u*2);return t.a.createElement("img",{className:Object(a.default)("c-slack_app_icon__image",h),src:m,srcSet:`${g} 2x`,alt:v??d.name,width:u,height:u})})},Zp1r:function(w,s,e){"use strict";var n=e("Dpjh"),t=e("q1tI"),a=e.n(t),i=e("Cfcg"),c=e("mM05"),r=e.n(c),f=e("FWtP"),l=e("O86Y"),p=e("/XFw"),h=e("pu3F"),u=e("qMw6"),b=e("FZE2"),v=e("eUIW"),d=e("gPPH"),m=e("mjhc"),g=e("SvP2"),O=e("4oy+"),E=e("BUaB");function y(){return y=Object.assign||function(M){for(var T=1;T<arguments.length;T++){var D=arguments[T];for(var S in D)Object.prototype.hasOwnProperty.call(D,S)&&(M[S]=D[S])}return M},y.apply(this,arguments)}o(y,"_extends");let C=o(class extends t.PureComponent{onEnter(T){return T&&T.shiftKey?!0:this.props.onEnter?this.props.onEnter():void 0}onTextChange(){const{numCharsOverLimit:T}=this.state,D=this.getTextContents(),S=this.countCharsOverLimit(),A=S>0||T>0;A&&this.setState(()=>({numCharsOverLimit:S})),this.props.onTextChange&&this.props.onTextChange({msgOps:D,overLimit:A})}getTextContents(){const{initialContents:T}=this.props;if(!this.texty)return T&&T.contents;const D=this.texty.getContents();return D&&D.contents}setTextyRef(T){this.texty=T}countCharsOverLimit(){const T=this.getTextContents(),D=Object(b.a)(new r.a(T));return Math.max(0,D-h.D)}focus(){this.texty&&this.texty.focus()}renderContextBar(){if(!this.props.enabled)return null;const{channelId:T}=this.props;return a.a.createElement("div",{className:"p-share_dialog_message_input__context_bar_wrapper"},a.a.createElement(g.a,{channelId:Object(v.a)(T)?void 0:T,memberIds:Object(v.a)(T)?this.getMemberIdArray(T):void 0,viewContext:u.a.SHARED_MESSAGE_DIALOG,ariaId:this.contextBarAriaId,inputHasFiles:!1}))}render(){const T=this.props["data-qa"],D={enabled:this.props.enabled},S=a.a.createElement(E.a,y({completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,completeOnLinks:!0,completeOnLists:!0,channelId:this.props.channelId,shouldCompleteOnTab:!0,position:"bottom"},D,{id:"share-dialog-message-input",ref:this.setTextyRef,ariaLabel:this.props.ariaLabel||"",initialText:this.props.initialContents,placeholder:Object(n.a)(this.props.placeholder),enableBroadcastKeywords:this.props.enableBroadcastKeywords,enableJumbomoji:this.props.useJumbomoji,onEnter:this.onEnter,onEscape:this.props.onEscape,onTextChange:this.onTextChange,isDisabled:!this.props.enabled,focusOnMount:this.props.focusOnMount,maxLines:this.props.maxLines,minLines:3,maxLength:h.D,useWysiwyg:!0,ariaDescribedBy:this.contextBarAriaId}));return a.a.createElement("div",{"data-qa":T},this.renderContextBar(),a.a.createElement(O.a,{channelId:this.props.channelId||"",enableEmojiButton:!0,enableMentionButton:!0,enableComposerButton:!0,numMaxLines:this.props.maxLines||3,numMinLines:3,className:"p-share_dialog_message_input",withBasicContainerBorder:!0},S))}constructor(T){super(T),this.setTextyRef=this.setTextyRef.bind(this),this.onTextChange=this.onTextChange.bind(this),this.onEnter=this.onEnter.bind(this),this.renderContextBar=this.renderContextBar.bind(this),this.state={numCharsOverLimit:this.countCharsOverLimit()},this.contextBarAriaId=m.b.concat(Object(d.a)().slice(-8)),this.getMemberIdArray=Object(f.a)(S=>[S||""]);const D=T.initialContents&&T.initialContents.contents;D!==void 0&&D.length>0&&this.onTextChange()}},"ShareDialogMessageInput");C.displayName="ShareDialogMessageInput",C.defaultProps={enabled:!0,enableBroadcastKeywords:!0,maxLines:3};function I(M){return{useJumbomoji:Object(p.a)(M),teamId:Object(l.g)(M)}}o(I,"mapStateToProps");var j=s.a=Object(i.a)(I,null,null,{forwardRef:!0})(C)},ZpEY:function(w,s,e){"use strict";e.d(s,"c",function(){return c}),e.d(s,"a",function(){return r}),e.d(s,"b",function(){return f}),e.d(s,"d",function(){return l});var n=e("wd/R"),t=e.n(n),a=e("A/mR");const i=o((p,h,u)=>{const b=t()("2020-01-01").hour(p).minute(h),v=Object(a.g)(b.unix(),"{time}",{do24hrTime:u});return{value:b.format("HH:mm"),label:v}},"getOption"),c=o((p,h)=>{const[u,b]=p.split(":");return i(parseInt(u,10),parseInt(b,10),h)},"getOptionFromHHmm"),r=o(p=>{const h=[];for(let u=0;u<24;u++)h.push(i(u,0,p));return h},"getFullHourOptions"),f=o(p=>{const h=[];for(let u=0;u<24;u++)h.push(i(u,0,p)),h.push(i(u,30,p));return h},"getHalfHourOptions"),l=o(p=>{const h=[];for(let u=0;u<24;u++)h.push(i(u,0,p)),h.push(i(u,15,p)),h.push(i(u,30,p)),h.push(i(u,45,p));return h},"getQuarterHourOptions")},ZqJU:function(w,s,e){"use strict";e.d(s,"a",function(){return p});var n=e("CpTu"),t=e("lhZz"),a=e("G5NC"),i=e("vfQU"),c=e("O86Y"),r=e("beVI"),f=e("UIWO"),l=e("7xYR");function p(){let{teamId:h,subdomain:u}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(a.a)()){const b=Object(t.getStateForClientStore)(),v=Object(l.getWorkspacesMeta)(b),d=Object(l.getBootedWorkspaces)(b);return d&&d.find(g=>{const O=v[g];if(h&&g===h||u&&O&&O.url&&O.url.startsWith(`https://${u}.`))return g;if(Object(f.b)()){const E=Object(t.getStateByTeamId)(g),y=Object(c.a)(E);if(h&&(y!=null&&y.includes(h))||u&&y&&y.find(C=>{const I=Object(r.s)(E,C);return I&&I.url&&I.url.startsWith(`https://${u}.`)}))return g}return null})||null}if(Object(i.fb)()){const b=Object(i.yb)();if(h&&b[h])return h;if(u){const v=Object(n.a)(b,d=>d.team_url&&d.team_url.startsWith(`https://${u}.`));if(v)return v.team_id}}return null}o(p,"findDesktopTeamByIdOrSubdomain")},ZtOl:function(w,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("mM05"),i=e.n(a),c=e("n3tL"),r=e("Lgge"),f=e("s4P+"),l=e("Kn+X"),p=e("BBdC"),h=e("vUys"),u=e("5IZy"),b=e("ktUG"),v=e("Yauy"),d=e("SQ0V"),m=e("b+Ip"),g=e("m5fH"),O=e("fPvm"),E=e("E3dU"),y=e("zcRq"),C=e("kDB5"),I=e("BtdC"),j=e("f7Y4"),M=e("OJZy"),T=e("AcWU"),D=e("ohbk"),S=e("ZXTy"),A=e("RV0M"),P=e("I0j/"),N=e("37+L"),G=e("KcWJ"),V=e("nwIl"),k=e("RVJP"),x=e("KVhq");const H=Object(d.c)("Send channel or Composer draft message",function(){var R=Object(n.coroutine)(function*(W,U,_,B){let{draft:z,isFromModal:L=!1,isFromBulkModal:$=!1,isFromDraftsPageAndExternallySharedChannel:Q=!1,isFromScheduledPage:K=!1,skipDlpUserWarning:Z=!1,isFromDraftsPage:ne=!1}=_;const{shouldUseNavigate:F}=B(A.a),J=Object(l.d)(z);if(J&&J[0]&&(yield r.a.all([W(Object(S.a)({channelId:J[0],prefName:"enable_at_channel",reason:"send-draft-message"}))])),Object(l.z)(z))return W(Object(m.a)({draft:z,isFromModal:L,isFromDraftsPageAndExternallySharedChannel:Q,isFromScheduledPage:K,skipDlpUserWarning:Z,isFromDraftsPage:ne}));const X=Object(f.a)({getState:U,label:"COMPOSER"}),{channelId:Y,isBroadcast:ae,threadTs:ee}=Object(l.b)(z)||{},q=Object(l.n)(z),te=Object(l.e)(z),de=Object(u.a)({getState:U}),se=Object(M.a)(z),re=Object(p.a)(z),oe=W(Object(y.a)({draftId:te,ops:q})),ce=W(Object(C.a)({unfurls:oe,draftId:te}));W(Object(O.a)({ids:[te],syncDelete:!1,reason:"sendDraftMessage",disableGifUnfurlClearing:!0}));const ue=Object(E.d)(U(),Y),Pe=Object(v.Fb)(U(),ue),Ye=Object(h.a)(U(),te),$e=Object(k.d)(U(),"native_gif_picker")==="on",Ke=Object(V.a)(U(),{draftId:te});if($e&&Ke&&W(Object(x.b)({draftId:te})),ee){const qe=Y?Object(I.a)(Y,ee):null;if(qe&&qe.clear(),!$){if(Q)return W(Object(G.a)({channelId:Y||"",threadTs:ee})).then(()=>W(Object(j.c)({channelId:Y||"",delta:new i.a(q),fileIds:re,includeBroadcastKeywordWarning:!0,includePrivateFileReshareWarning:!0,includeLoginInitiateRedirectLinkWarning:!0,replyToTs:ee,shouldBroadcast:ae,pendingFileIds:Ye,xArgs:se,draftId:te,isFromDraftsPageAndExternallySharedChannel:Q,unfurls:oe,unfurlsWithData:ce})).tap(()=>{X.info(`Composer message successfuly sent. Removing the draft (${te})`)}).then(()=>{Object(x.a)({draftIds:[te]})}).catch(ct=>{throw W(Object(g.h)(z)),ct}));W(Object(G.a)({channelId:Y||"",threadTs:ee}))}}else if(yield W(Object(T.a)({channelId:Y})),!$)try{F&&Y?yield W(Object(P.a)(Object(N.i)(Y))):yield W(Object(D.a)({id:Y||"",teamId:Pe}))}catch(qe){throw X.error("Failed to navigate to primary view",qe),qe}return de.track(b.EventId.COMPOSE_FLOW,{draft_action_source:L?"modal":"input",draft_id:te,draft_type:"channel",contexts:{ui_context:{action:b.UiAction.CLICK,step:b.UiStep.COMPOSE_FLOW_SEND}}}),W(Object(j.c)({channelId:Y||"",delta:new i.a(q),fileIds:re,includeBroadcastKeywordWarning:!0,includePrivateFileReshareWarning:!0,includeLoginInitiateRedirectLinkWarning:!0,replyToTs:ee,shouldBroadcast:ae,pendingFileIds:Ye,xArgs:se,draftId:te,isFromDraftsPageAndExternallySharedChannel:Q,unfurls:oe,unfurlsWithData:ce})).tap(()=>{X.info(`Composer message successfuly sent. Removing the draft (${te})`)}).then(()=>{Object(x.a)({draftIds:[te]})}).catch(qe=>{throw W(Object(g.h)(z)),qe})});return function(W,U,_,B){return R.apply(this,arguments)}}());H.meta={name:"createThunk",key:"createThunksendDraftMessage",description:"Send channel or Composer draft message"},H.propTypes={draft:c.default.object.isRequired},s.a=H},ZvCj:function(w,s,e){"use strict";e.d(s,"a",function(){return C});var n=e("fujP"),t=e("SQ0V"),a=e("s4P+"),i=e("m5fH"),c=e("gCYc"),r=e("gMIi"),f=e("238b"),l=e("CpTu"),p=e("Muja"),h=e("gPPH"),u=e("EyYJ"),b=e("ZLCL"),v=e("LTE6"),d=e("Kn+X"),m=e("BBdC");const g=Object(t.c)("Recover from attached_draft_exists error",(I,j,M)=>{let{draft:T,draftId:D,syncImmediately:S,reason:A}=M;if(Object(n.a)(T))return;const{error:P,info:N}=Object(a.a)({getState:j,label:"DRAFTS"});N(`The drafts.create call failed with attached_draft_exists - ${D} - attempting to recover by moving existing draft`),I(Object(b.a)({reason:"attached_draft_exists:recovery",limit:100,isActive:!0})).then(G=>{const V=(G==null?void 0:G.drafts)||[],k=Object(l.a)(V,x=>{const H=Object(d.b)(x);return H?Object(p.a)(H,Object(d.b)(T)):!1});if(k){I(Object(u.a)({draftId:Object(d.o)(k),clientLastUpdatedTs:Date.now().toString(),reason:"attached_draft_exists:recovery"})).then(()=>{I(Object(r.a)({draft:T,reason:A,syncImmediately:S}))});const{threadTs:x}=Object(d.b)(k)||{};x||I(Object(v.b)({blocks:JSON.stringify(Object(d.v)(k)),clientMsgId:Object(h.a)(),destinations:Object(d.j)(k),fileIds:JSON.stringify(Object(m.a)(k)||[]),isFromComposer:!0,attachments:JSON.stringify(Object(d.c)(k)),reason:"attached_draft_exists:recovery"}))}else P(`The drafts.create call failed due to attached_draft_exists and the existing draft could not be found - ${D}`)})});g.meta={name:"createThunk",key:"createThunkhandleExistingAttachedDraft",description:"Recover from attached_draft_exists error"};var O=g,E=e("nwIl"),y=e("RVJP");const C=Object(t.c)("Stores and syncs draft changes",(I,j,M)=>{let{draft:T,reason:D,sync:S=!0,syncImmediately:A=!1,skipEqualityCheck:P=!1}=M;const N=j(),G=Object(d.e)(T),V=Object(E.a)(N,{draftId:G}),k=Object(y.d)(N,"native_gif_picker")==="on";if(k&&Object(n.a)(T)&&!V||!k&&Object(n.a)(T))return;const{error:x,info:H}=Object(a.a)({getState:j,label:"DRAFTS"});if(!G){x("Draft does not have an id - an id is required to create or update a draft");return}let R=Object(c.k)(j(),G);if(!R&&Object(d.z)(T)){const U=Object(d.s)(T);U&&(R=Object(c.e)(j(),U))}const W={...R,...T};if(!(!P&&Object(d.A)(W,R))&&(H(`Storing draft changes locally - ${G}`),I(Object(i.h)({...W,last_updated:Date.now(),skipEqualityCheck:P})),S)){const U=Object(c.k)(j(),G),_=Object(d.o)(U);I(_?Object(f.a)({draft:U,reason:D,syncImmediately:A}):Object(r.a)({draft:U,reason:D,syncImmediately:A,handleExistingAttachedDraft:(B,z)=>I(O({draftId:B,draft:z,syncImmediately:A,reason:D}))}))}});C.meta={name:"createThunk",key:"createThunksetDraft",description:"Stores and syncs draft changes"}},Zxte:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("zxER"),c=e("nNoG"),r=e("ktUG"),f=e("/0Xg"),l=e("s9Q6"),p=e("stkM"),h=e("sK3r"),u=e("Trx9"),b=e("/cL/"),v=e("GR6R"),d=e("Tevt");const m=new c.b("files"),g={elementName:"pricing",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},O={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},E=o(y=>{let{context:C}=y;const I=Object(a.useDispatch)(),j=f.o.PaidFeatureTrial,M=f.n.MessageLimit,[T,D]=Object(n.useState)(!0),S=Object(i.c)(N=>Object(l.c)(N,j,M)),A=Object(n.useCallback)(()=>{I(Object(v.a)({uiComponentVariant:r.UiComponentVariant.FILE_STORAGE_WARNING}))},[I]);if(Object(n.useEffect)(()=>{I(Object(p.a)({context:h.b.fileStorageWarning,campaignType:j,campaignSubType:M,reason:"file_storage_warning"})).then(()=>{D(!1)})},[I,j,M]),T)return null;const P=S?m.rt("This file is hidden because it was uploaded more than {limitInDays} days ago. <a>Start a free trial</a> to view.",{limitInDays:f.f,"<a>":N=>{let{text:G}=N;return t.a.createElement(d.a,{autoClogProps:O,"data-qa":"file-storage-warning_start-trial-link",onClick:A},G)}}):m.rt("This file is hidden because it was uploaded more than {limitInDays} days ago. <a>Upgrade to a paid plan</a> to view.",{limitInDays:f.f,"<a>":N=>{let{text:G}=N;return t.a.createElement(b.a,{autoClogProps:g,"data-qa":"file-storage-warning_pricing-link",feature:f.h.UNLIMITED_MESSAGES,useLink:!0},G)}});return t.a.createElement(u.a,{eventId:r.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:r.UiComponentName.FILE_STORAGE_WARNING,uiComponentVariant:C},t.a.createElement("span",null,P))},"FileStorageWarning");E.displayName="FileStorageWarning",s.a=E},"a/x4":function(w,s,e){"use strict";e.d(s,"a",function(){return L});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("zxER"),c=e("n3tL"),r=e("pCgU"),f=e("ASdn"),l=e("gBFA"),p=e("S8QM"),h=e("sGXp"),u=e("oEDn"),b=e("JoR1"),v=e("n7Bo"),d=e("P9LH"),m=e("8aVz"),g=e("se5Z"),O=e("We5+");const E=new Set(["text","markdown"]);function y($){return $&&$ in O.c&&!E.has($)}o(y,"isCodeFileType");function C($){if($ instanceof File){if(Object(g.a)($))return"audio";if(Object(m.a)($))return"video";const Z=Object(d.R)($.type);return Z&&Object(v.c)({fileTypeDescription:Z})?Z:"generic"}const Q=$.filetype||$.highlight_type;if(Q&&Object(v.c)({fileTypeDescription:Q}))return Q;if(y(Q))return"code";const K=Object(d.Q)($);return K==="snippet"&&!(Q&&E.has(Q))?"code":K}o(C,"getSVGIconType");var I=e("ZobM"),j=e("gnJq"),M=e("yPgC"),T=e("zm5I"),D=e("rZ8V"),S=e("2R1f");const A=3/4,P=9/16,N=3/4,G=1/4,V=5/4,k={className:c.default.string,file:M.a.File().isRequired,width:c.default.number.isRequired,height:c.default.number,cover:c.default.bool,suppressAnimations:c.default.bool,forceIconThumbnail:c.default.bool,forceIconThumbnailForDocument:c.default.bool,presentationOnly:c.default.bool,hasNotification:c.default.bool,"data-qa":c.default.string},x={className:void 0,height:null,cover:!1,suppressAnimations:null,forceIconThumbnail:!1,forceIconThumbnailForDocument:!1,presentationOnly:!1,hasNotification:!1,"data-qa":null};function H($){let{className:Q,containerHeight:K,containerWidth:Z,file:ne,cover:F,suppressAnimations:J}=$;const[X,Y]=Object(n.useState)(!1),[ae,ee]=Object(n.useState)(!1),q=Object(i.c)(Ke=>!Object(b.t)(Ke,"a11y_animations")),te=Object(a.default)(Q,"p-file_thumbnail__img"),{src:de,height:se,width:re}=Object(d.db)(ne,{containerHeight:K,containerWidth:Z,cover:F,suppressAnimations:J||q}),oe=Object(r.a)(de);let ce,ue;if(se&&re){const Ke=se/re,qe=K/Z,ct=Ke>qe;F&&ct||!F&&!ct?(ue=Math.min(Z,re),ce=Ke*ue):(ce=Math.min(K,se),ue=ce/Ke)}const Pe=Object(n.useCallback)(()=>Y(!0),[]),Ye=Object(n.useCallback)(()=>ee(!0),[]);if(X)return t.a.createElement("div",{className:"p-file_thumbnail__broken_img",style:{height:K,width:Z}});const $e=t.a.createElement("img",{key:ne.id,className:te,alt:Object(d.D)(ne),src:oe,height:ce,width:ue,onError:Pe,onLoad:Ye,"data-qa":"file_thumbnail_img"});return Object(d.ib)(ne)&&ce&&ue?t.a.createElement("div",{className:"p-file_thumbnail__tiny_thumb_wrapper",style:{backgroundImage:ae?void 0:`url(${Object(d.fb)(ne)})`,filter:ae?void 0:"blur(6px)",height:ce,width:ue}},$e):$e}o(H,"ThumbnailImg"),H.displayName="ThumbnailImg",H.propTypes={className:c.default.string,containerHeight:c.default.number.isRequired,containerWidth:c.default.number.isRequired,file:M.a.File().isRequired,cover:c.default.bool,suppressAnimations:c.default.bool},H.defaultProps={className:void 0,cover:!1,suppressAnimations:!1};function R($){let{containerHeight:Q,containerWidth:K,cover:Z,file:ne,suppressAnimations:F}=$;return t.a.createElement(H,{key:ne==null?void 0:ne.id,className:"p-file_thumbnail__image",file:ne,containerHeight:Q,containerWidth:K,cover:Z,suppressAnimations:F})}o(R,"ImageThumbnail"),R.displayName="ImageThumbnail",R.propTypes={containerHeight:c.default.number.isRequired,containerWidth:c.default.number.isRequired,cover:c.default.bool.isRequired,file:M.a.File().isRequired,suppressAnimations:c.default.bool},R.defaultProps={suppressAnimations:!1};function W($){let{containerHeight:Q,containerWidth:K,file:Z}=$;return t.a.createElement("div",{className:"p-file_thumbnail__document_container",style:{maxHeight:Q},"data-qa":"file_thumbnail_doc"},t.a.createElement(H,{className:"p-file_thumbnail__document_img",file:Z,containerHeight:Q,containerWidth:K,cover:!0}))}o(W,"DocumentThumbnail"),W.displayName="DocumentThumbnail",W.propTypes={containerHeight:c.default.number.isRequired,containerWidth:c.default.number.isRequired,file:M.a.File().isRequired};function U($){let{className:Q,file:K,size:Z,hasNotification:ne}=$;const F=Object(i.c)(D.m),J=Object(a.default)("c-icon__file","p-file_thumbnail__file_icon",Q);if(K&&Object(d.u)(K)||Object(d.h)(K))return t.a.createElement(l.a,{iconClassName:J,file:K,size:Z,hasNotification:ne,useIa4Icon:F});if(Object(d.o)(K))return t.a.createElement(p.a,{iconClassName:Object(a.default)("p-file_thumbnail__file_icon",Q),file:K});if(Object(d.w)(K))return t.a.createElement(u.a,{className:Object(a.default)("p-file_thumbnail__file_icon","p-file_thumbnail__slides",Q),type:"all-files-alt"});const X=C(K);return t.a.createElement(u.a,{className:J,"data-qa":"file_thumbnail_icon",file:"svgicon",type:X})}o(U,"IconThumbnail"),U.displayName="IconThumbnail",U.propTypes={className:c.default.string,file:M.a.File().isRequired,size:c.default.number,hasNotification:c.default.bool},U.defaultProps={className:null,size:void 0,hasNotification:!1};function _($){const{file:Q,forceIconThumbnail:K,forceIconThumbnailForDocument:Z,presentationOnly:ne,hasNotification:F}=$,{original_h:J,original_w:X}=Q,Y=Object(d.n)(Q),ae=Object(i.c)(T.a);let ee=A;$.height&&$.width?ee=$.height/$.width:J&&X&&(ee=J/X,ee=Math.min(ee,Y?V:N),ee=Math.max(ee,Y?G:P));const q=$.width,te=$.height||ee*$.width;let de,se;if(Object(j.a)(Q))se="exception",de=t.a.createElement("span",null);else if(Object(d.Rb)(Q))se="exception",de=t.a.createElement(u.a,{type:"trash"});else if(Object(d.Db)(Q))se="exception",de=t.a.createElement(u.a,{type:"question"});else if(Object(d.rb)(Q)||Object(d.jb)(Q))se="exception",de=t.a.createElement(I.a,{name:"lock",variation:"filled"});else if(Object(d.Bb)(Q))se="exception",de=t.a.createElement(I.a,{name:"info"});else if(Object(d.Eb)(Q))se="exception",de=t.a.createElement(u.a,{type:"lock"});else if(Y&&!K)se="image",de=t.a.createElement(R,{containerWidth:q,containerHeight:te,cover:$.cover,file:Q,suppressAnimations:$.suppressAnimations});else if((Object(d.r)(Q)||Object(d.s)(Q))&&!K){var re,oe,ce;se="video";const Pe=Object(g.a)(Q)?(re=Q.transcription_hl)===null||re===void 0||(oe=re.lines)===null||oe===void 0||(ce=oe[0])===null||ce===void 0?void 0:ce.start_time_ms:null;de=t.a.createElement(f.a,{className:"p-file_thumbnail__media",file:Q,useUserAvatarAudioThumb:te>h.a.xlarge,jumpToTimeMs:Pe,"data-qa":"file_thumbnail_video"})}else(Q.thumb_pdf||Q.thumb_360)&&!K&&!Z?(se="document",de=t.a.createElement(W,{containerWidth:q,containerHeight:te,file:Q})):(se="other",de=t.a.createElement(U,{file:Q,size:Math.min(te,h.a.xlarge),hasNotification:F}));const ue=Object(a.default)("p-file_thumbnail__container",`p-file_thumbnail__container--${se}`,$.className,{"p-file_thumbnail__container--dark-theme":ae==="dark"});return t.a.createElement("div",{className:ue,style:{width:q,height:te},"aria-hidden":ne,"data-qa":$["data-qa"]},de)}o(_,"FileThumbnail"),_.displayName="FileThumbnail",_.propTypes=k,_.defaultProps=x;var B=_,z=e("ZBdd");function L($){let{className:Q,file:K,forceIconThumbnail:Z,size:ne=h.a.medium,"data-qa":F,hasNotification:J}=$;const X=Object(a.default)("c-file_entity_thumbnail_icon",Q,{"c-file_entity_thumbnail_icon--img-border":!Z&&(Object(d.n)(K)||Object(d.s)(K)||Object(d.r)(K)),"c-file_entity_thumbnail_icon_with_notification":J});return t.a.createElement(B,{className:X,file:K,width:ne,height:ne,forceIconThumbnail:Z,forceIconThumbnailForDocument:!0,cover:!0,suppressAnimations:!0,hasNotification:J,"data-qa":F})}o(L,"FileEntityThumbnailIcon")},"a8/Y":function(w,s,e){"use strict";e.d(s,"c",function(){return r}),e.d(s,"a",function(){return f}),e.d(s,"b",function(){return p});var n=e("CpTu"),t=e("zmn3"),a=e("ZKjC"),i=e("4gSQ"),c=e("N2b9");const r=Object(a.b)(function(h){let{channelId:u,threadTs:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=Object(c.c)({channelId:u,threadTs:b});return h&&h.pendingFiles&&h.pendingFiles[v]});r.meta={name:"createSelector",key:"createSelectorgetPendingFilesforInput",description:function(h){let{channelId:u,threadTs:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=Object(c.c)({channelId:u,threadTs:b});return h&&h.pendingFiles&&h.pendingFiles[v]}};const f=Object(a.b)(function(h){let{fileId:u,channelId:b,threadTs:v}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!u||!b)return null;const d=r(h,{channelId:b,threadTs:v});return Object(n.a)(d,{id:u})});f.meta={name:"createSelector",key:"createSelectorgetPendingFileById",description:function(h){let{fileId:u,channelId:b,threadTs:v}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!u||!b)return null;const d=r(h,{channelId:b,threadTs:v});return Object(n.a)(d,{id:u})}};const l=Object(a.b)(h=>r(h,{channelId:c.a}));l.meta={name:"createSelector",key:"createSelectorgetPendingFilesforDialog",description:h=>r(h,{channelId:c.a})};const p=Object(a.b)(function(h){let{channelId:u,threadTs:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=r(h,{channelId:u,threadTs:b});return Object(t.a)(v,d=>Object(i.c)(d))});p.meta={name:"createSelector",key:"createSelectorgetPendingFilesWithUploadStatus",description:function(h){let{channelId:u,threadTs:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=r(h,{channelId:u,threadTs:b});return Object(t.a)(v,d=>Object(i.c)(d))}}},aANC:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Mark the time when highlights have been dismissed");t.meta={name:"createAction",key:"createActionupdateLastHighlightDismissedTs",description:"Mark the time when highlights have been dismissed"}},aCzs:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("fujP"),t;(function(i){i.CAN_UDPATE="can_update",i.CANNOT_DOWNGRADE_CHANNEL="cannot_downgrade_channel_edit",i.CANNOT_DOWNGRADE_ORG_EDIT="cannot_downgrade_org_edit"})(t||(t={}));const a=o(i=>{let{modifiedPermissions:c,modifiedOrgSharingSetting:r,modifiedOrgTemplateSetting:f,isOrgWideTemplate:l}=i;return!Object(n.a)(c)||!l&&!!r||f!==void 0},"hasUnsavedChanges")},aV5m:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("kBpe"),i=e("nNoG"),c=e("qDEp"),r=e("oEDn"),f=e("QYtq"),l=e("zHTW"),p=e("9oTK"),h=e("BHdc"),u=e("dG8s"),b=e("6R8Z"),v=e("nFQW");const d=new i.b("stories_av");function m(I){let{onSelected:j,onScreenSelected:M,onClose:T,className:D}=I;const[S,A]=Object(n.useState)([]);if(Object(n.useEffect)(()=>{const N=function(){var G=Object(p.coroutine)(function*(){const V=yield Object(u.c)({width:320,height:240},["window","screen"]);A(V)});return o(function(){return G.apply(this,arguments)},"getThumbnails")}();try{N()}catch(G){throw new Error(G)}},[]),!S)return null;const P=o(N=>{j&&j(N.id),M&&M(N)},"onClick");return t.a.createElement("div",{className:Object(h.default)("c-menu p-screen_picker",D),role:"dialog","aria-label":d.t("Screens")},t.a.createElement(v.a,{icon:"times","aria-label":d.t("Close"),className:"p-screen_picker__close_button",onClick:T}),t.a.createElement("div",{className:"p-screen_picker__options"},S.map(N=>t.a.createElement(b.a,{key:N.id,className:"p-screen_picker__screen",onClick:()=>P(N),"data-qa":"screen_picker_item_button"},N.thumbnail&&t.a.createElement("img",{className:"p-screen_picker__thumb",src:N.thumbnail.dataURL,alt:""}),t.a.createElement("div",{className:"p-screen_picker__title"},N.name)))))}o(m,"ScreenPicker");var g=e("vaRI");function O(){return O=Object.assign||function(I){for(var j=1;j<arguments.length;j++){var M=arguments[j];for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(I[T]=M[T])}return I},O.apply(this,arguments)}o(O,"_extends");const E=new i.b("stories_av");function y(I){let{screenCaptureOn:j,startScreenCapture:M,stopScreenCapture:T,clogButton:D}=I;const[S,A]=Object(n.useState)(!0);Object(n.useEffect)(()=>{Object(g.a)("screen").then(k=>{A(k)})},[]);const P=Object(n.useCallback)(k=>{j?T():M(k),D("share_screen","recording",{state:k||!j?"on":"off"})},[D,j,M,T]),N=Object(n.useCallback)(()=>{P()},[P]),G=Object(n.useCallback)(k=>t.a.createElement(l.a,O({},k),t.a.createElement(m,{onScreenSelected:P,onClose:k.onClose,className:"p-video_recorder__screen_picker"})),[P]),V=t.a.createElement(c.f,{type:"outline",onClick:N,className:"p-video_recorder__borderless_button p-video_recorder_screen_share_button","aria-pressed":j,disabled:!S},t.a.createElement(r.a,{type:j?"stop-screen-sharing-alt":"share-screen"}),t.a.createElement("span",{className:"p-video_recorder_screen_share_button__label"},j?E.t("Stop Sharing"):E.t("Share Screen")));return Object(a.i)()&&!j?t.a.createElement(f.b,{position:"top",renderPopover:G},V):V}o(y,"VideoRecorderScreenShareButton"),y.displayName="VideoRecorderScreenShareButton";var C=s.a=y},aVxC:function(w,s,e){"use strict";e.d(s,"a",function(){return x});var n=e("mM05"),t=e.n(n),a=e("VJ6u"),i=e("3Hq1"),c=e("pu3F"),r=e("jmOL"),f=e("m5Yc"),l=e("Ms05");const p=["*","-"];function h(H){return p.includes(H)?f.a.BULLET:H.match(r.o)?f.a.ORDERED:""}o(h,"determineListTypeFromListSymbol");var u=e("wr1M");const b=4;function v(H,R){let W=R;const U=H&&H.ops;if(!U)return[new t.a,W];let _=new t.a,B=-1,z="",L=0,$=!1,Q={};const K=Object(l.a)(U),Z=[...K.matchAll(r.m)],ne=[],F=K.match(u.e)||K.match(u.d);F!=null&&F[0]&&($=!0,W=!0);const J=r.p.test(K);return K.replace(r.q,(Y,ae,ee,q,te,de,se,re)=>{const oe=re,ce=oe+ae.length+ee.length+q.length+te.length,ue=h(q);if((Z||[]).some(fe=>re>((fe==null?void 0:fe.index)||0)&&ce+de.length<=((fe==null?void 0:fe.index)||0)+fe[0].length))return;let Ye=ee.length?Math.floor(ee.length/b):0;Ye=Math.min(c.E-1,Ye);const $e=K.substring(K.indexOf(Y)),Ke=K.substring(K.indexOf(Y)-2,K.indexOf(Y));if(ue===f.a.ORDERED){if(!J||Ye===0&&Q[Ye]===void 0&&q===r.b&&!r.n.test($e))return;if(/\n\n/.test(Ke)&&q!==r.b){Q={};return}if(Object(i.a)(Q[Ye])&&q!==r.b)return}let qe={list:ue||!1,indent:Ye,border:void 0};(ae.length||$)&&(!F||re>((F==null?void 0:F.index)||0))&&(qe={...qe,border:1});const ct=L+z.length===re,Be=B!==-1&&B<Ye;(!ct||Be)&&(Q[Ye]=0),B!==-1&&ct&&Ye!==B&&Q[Ye]>0&&(qe={...qe,offset:Q[Ye]}),Object(i.a)(Q[Ye])&&(Q[Ye]=0),Q[Ye]+=1,B=Ye,z=Y,L=re;const pe=new t.a;se?pe.retain(re).retain(Y.length-1).retain(1,qe):pe.retain(re).retain(Y.length).insert(`
`,qe),_=_.compose(pe);for(let fe=oe;fe<ce;fe++)ne.push(fe)}),ne.sort((Y,ae)=>ae-Y).forEach(Y=>{_=_.compose(new t.a().retain(Y).delete(1))}),[_,W]}o(v,"buildMarkdownChangeDeltaForLists");var d=e("BlE4"),m=e("fujP"),g=e("lCmp"),O=e("XpTY"),E=e("MvaT"),y=e("/0zS"),C=e("Fx35"),I=e("ltDl");const j="mailto:";function M(H,R){const{protocol:W,pathname:U}=Object(I.a)(R);return W===j&&U===H?!0:H===R}o(M,"isValidLinkForMrkdwn");const T={link:[r.k],bold:[r.c,r.g],italic:[r.e,r.a],code:[r.d,r.h],strike:[r.f]};function D(H){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!H||!H.ops)return[new t.a,U];let _="";R&&R.ops&&(_=Object(l.a)(R.ops));let B=new t.a,z=0;const L=[],$={},Q=[];if(H.eachLine((ne,F)=>{Q.push({line:ne,attributes:F})}),!Q.length)return[B,U];let K=!1;return Q.forEach(function(ne){let{line:F,attributes:J}=ne,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var Y,ae,ee,q,te;const de=F&&F.ops;let se=!1,re=!1,oe=Object(l.a)(de);if(Object(O.a)(J))K=!1;else if(K){if(se=!0,oe.match(u.c)&&!(oe.match(u.e)||oe.match(u.d))){var ce;re=!0;const je=((ce=oe.match(u.c))===null||ce===void 0?void 0:ce[0])||"";for(let Ue=0;Ue<je.length;Ue++)L.push(z+Ue);oe=oe.substring(je.length),z+=je.length}}else if(X!==0||!_||Object(d.a)(_,`
`)){const je=oe.match(u.e)||oe.match(u.d),Ue=oe.match(u.c),ve=je||Ue;if(X===0&&Ue&&(Ue==null?void 0:Ue.index)===0&&((Ue==null?void 0:Ue.input)===">"||(Ue==null?void 0:Ue.input)==="\uFF1E"||(Ue==null?void 0:Ue.input)==="> "||(Ue==null?void 0:Ue.input)==="\uFF1E "))return;if(!je&&U&&Ue&&(re=!0),ve){se=!0;const ge=ve[0];for(let he=0;he<ge.length;he++)L.push(z+he);if(oe=oe.substring(ge.length),z+=ge.length,je&&(K=!0,U||(U=!0),oe==="")){const he=new t.a().retain(z+oe.length);he.delete(1),B=B.compose(he);return}const le=oe.match(u.c);if(le){re=!0;const he=le[0];for(let Te=0;Te<he.length;Te++)L.push(z+Te);oe=oe.substring(he.length),z+=he.length}}}const ue=Q[X-1],Pe=Q[X+1],Ye=Q[X],$e=(ue==null||(Y=ue.attributes)===null||Y===void 0?void 0:Y.border)||0,Ke=(Pe==null||(ae=Pe.attributes)===null||ae===void 0?void 0:ae.border)||0;if(($e>=1&&Ke>=1||$e>=1&&u.c.test(Pe==null||(ee=Pe.line)===null||ee===void 0||(q=ee.ops)===null||q===void 0||(te=q[0])===null||te===void 0?void 0:te.insert)&&U)&&(oe!=null&&oe.length)&&Object(m.a)(Ye==null?void 0:Ye.attributes)&&(se=!0),$e>=1&&Object(m.a)(Ye==null?void 0:Ye.attributes)&&Pe!==Q[Q.length-1]&&U&&(se=!0),se){const Se=re?1:void 0,je=new t.a().retain(z+oe.length),Ue={blockquote:!0};Se&&(Ue.border=Se),!Object(E.a)(H)&&X===Q.length-1?je.insert(`
`,Ue):je.retain(1,Ue),B=B.compose(je)}const qe=J["code-block"],{code:ct,...Be}=T,pe=[["code",ct],...Object.entries(Be)],fe=[],me=[];pe.forEach(Se=>{let[je,Ue]=Se;Ue.forEach(ve=>{if(!(!oe||qe)){if(je==="link"){oe.replace(ve,(ge,le,he,Te)=>{const Re=Object(C.a)(ge),Ve=Object(C.a)(he),Ee=Object(y.a)({input:Ve,ignorePhoneMatches:!1,ignoreEmailMatches:!1,includePhoneMatchesWithTelPrefix:!0}),Ae=Ee.length===1&&M(Ee[0].text,Ve);if(Ee.length===0||!Ae)return;const Ge=z+Te+1,Ze=le.length,ze=Ge+le.length,lt=z+Te+Re.length,tt=Ee[0].url,Ot=new t.a().retain(Ge).retain(Ze,{link:tt});B=B.compose(Ot),L.push(Ge-1);for(let Ct=ze;Ct<lt;Ct++)L.push(Ct);me.push({linkStart:Ge,linkEnd:lt}),$[je]=!0});return}oe.replace(ve,(ge,le,he,Te)=>{const Re=z+Te+le.length,Ve=he.length,Ee=Re+Ve;if(Object(g.a)(me,Ze=>{let{linkStart:ze,linkEnd:lt}=Ze;return Re>=ze&&Ee<=lt})||je==="italic"&&he==="(\u30C4)")return;if(je==="code")fe.push({codeStart:Re,codeEnd:Ee});else if(Object(g.a)(fe,ze=>{let{codeStart:lt,codeEnd:tt}=ze;const Ot=Re>=lt&&Re<=tt,Ct=Ee>=lt&&Ee<=tt;return Ot||Ct}))return;const Ge=new t.a().retain(Re).retain(Ve,{[je]:!0});B=B.compose(Ge),L.push(Re-1),L.push(Re+Ve),$[je]=!0})}})}),z+=(oe?oe.length:0)+1}),L.sort((ne,F)=>F-ne).forEach(ne=>{B=B.compose(new t.a().retain(ne).delete(1))}),[B,U]}o(D,"buildMarkdownChangeDeltaForSingleLineFormatting");var S=e("1myf"),A=e("owWc"),P=e("qAkX"),N=e("Yk7g"),G=e("X6iR");function V(H,R){for(let W=0;W<H.length;W++){const U=H[W];U==="`"||U==="\uFF40"||U.match(/\s/)||U.match(">")||U.match("\uFF1E")?R.delete(1):R.retain(1)}return R}o(V,"deleteBackticksAndWhitespace");function k(H,R){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const _=H&&H.ops;if(!_)return[new t.a,U];let B=new t.a,z=!1;const L=Object(l.a)(_),$=L.match(u.e)||L.match(u.d),Q=L.match(/```|\uFF40\uFF40\uFF40/);$!=null&&$[0]&&(($==null?void 0:$.index)||0)<((Q==null?void 0:Q.index)||0)?z=!0:U=!1;let K="";R&&R.ops&&(K=Object(l.a)(R.ops));const Z=[];[r.m,r.i].forEach(J=>{L.replace(J,(X,Y,ae,ee,q)=>{if(!ae||!ae.length)return;const te=L[q+X.length],de=te&&te.match(/\s/)?`${ee}${te}`:ee;Z.push({phraseToFormatPrefix:Y,phraseToFormat:ae,phraseToFormatSuffix:de,matchOffset:q,backTicksStart:q+Y.length-3,backTicksEnd:q+Y.length+ae.length+3})})});const ne=Object(S.a)(Z,"matchOffset"),F=Object(A.a)(ne,(J,X)=>{const Y=Object(P.a)(J);return(!Y||Y.backTicksEnd<=X.backTicksStart)&&J.push(X),J},[]);return Object(N.a)(F).forEach((J,X)=>{let{phraseToFormatPrefix:Y,phraseToFormat:ae,phraseToFormatSuffix:ee,matchOffset:q}=J,te=new t.a;te.retain(q);const se=u.c.test(Y)||z||U?1:void 0,re=Object(G.a)(Y,`
`);re?(te.retain(1),te=V(Y.substring(1),te)):te=V(Y,te),!re&&(q>0||K&&!Object(d.a)(K,`
`))&&te.insert(`
`);const oe=F[X+1];oe&&q===oe.backTicksEnd&&te.insert(`
`);const ce=ae.split(`
`);if(ce.forEach((ue,Pe)=>{if(te.retain(ue.length),Pe===0&&ue.length===0)te.delete(1);else if(Pe!==ce.length-1){const Ye={"code-block":!0};se&&(Ye.border=se),te.retain(1,Ye)}}),Object(P.a)(ce)!==""){const ue={"code-block":!0};se&&(ue.border=se),te.insert(`
`,ue)}V(ee,te),B=B.compose(te)}),[B,U]}o(k,"buildMarkdownChangeDeltaForCodeBlocks");function x(H){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,U=!1;if(!H||!H.ops)return new t.a;const _=W;let B=new t.a,z=new t.a;if(_){const[X,Y]=v(H,U);B=X,U=Y,z=H.compose(B)}const[L,$]=k(_?z:H,R||new t.a,U);U=$;const Q=H.compose(L),K=_?z.compose(L):Q,[Z,ne]=D(K,R,U);U=ne;const F=_?B.compose(L).compose(Z):L.compose(Z),J=Object(a.a)(H.compose(F));return F.compose(J)}o(x,"buildMarkdownChangeDelta")},aZWb:function(w,s,e){"use strict";e.d(s,"a",function(){return D});var n=e("BHdc"),t=e("q1tI"),a=e.n(t),i=e("/MKj"),c=e("ZobM"),r=e("Trx9"),f=e("vS+A"),l=e("zxER"),p=e("4YJR"),h=e("v5z3"),u=e("qDEp"),b=e("ktUG"),v=e("nNoG"),d=e("zonX"),m=e("eWGC"),g=e("uVZW"),O=e("rZ8V"),E=e("Iu7c");function y(){return y=Object.assign||function(A){for(var P=1;P<arguments.length;P++){var N=arguments[P];for(var G in N)Object.prototype.hasOwnProperty.call(N,G)&&(A[G]=N[G])}return A},y.apply(this,arguments)}o(y,"_extends");const C=new v.b("setup_page"),I={onClick:{enableClogAction:!0}},j={FlagTip:"flag_tip",FlagTipIcon:"flag_tip_icon",FlagTipText:"flag_tip_text",OptOut:"opt_out_button"},M=[h.f.AtMention,h.f.Reacji],T=[h.f.AtMention],D=o(A=>{let{children:P,className:N,forwardedRef:G,handleClick:V,isEmptyState:k,tip:x,...H}=A;const R={[h.f.AtMention]:C.t("Next, try this"),[h.f.CompletedAll]:C.t("Need extra help?"),[h.f.Reacji]:C.t("Try me!")},W={[h.f.AtMention]:"mentions",[h.f.CompletedAll]:"help",[h.f.Reacji]:"add-reaction"},U=R[x],_=W[x],B=Object(l.c)(O.m);return a.a.createElement(r.a,{clogImpression:!0,elementName:h.g.Flag,elementValue:k?"empty_state":void 0,eventId:b.EventId.NEWXP_TEAM_CREATE,stepVariant:x,uiStep:b.UiStep.PROG_DISC_TIP},a.a.createElement("div",{className:"p-setup_prog_disc_icon_action_wrapper"},a.a.createElement(u.d,y({"aria-label":U,autoClogProps:I,className:Object(n.default)("p-setup_prog_disc_icon_action",`p-setup_prog_disc_icon_action--${x}`,{"p-setup_prog_disc_icon_action__icon--custom-border-radius":x===h.f.Reacji,"p-setup_prog_disc_icon_action--ia4":B},N),"data-qa":`${j.FlagTip}--${x}`,onClick:V,ref:G},H),P||a.a.createElement("div",{className:Object(n.default)("p-setup_prog_disc_icon_action__icon",{"p-setup_prog_disc_icon_action__icon--ia4":B}),"data-qa":j.FlagTipIcon},a.a.createElement(c.a,{"data-qa":`${j.FlagTipIcon}_svg_${_}`,name:_})),a.a.createElement("div",{className:"p-setup_prog_disc_icon_action__text","data-qa":j.FlagTipText},U)),M.includes(x)&&a.a.createElement(f.a,y({tipState:h.g.Flag},T.includes(x)&&{optOutIconClass:`p-opt_out_button_icon--${x}`}))))},"ProgressiveDisclosureIconAction");D.displayName="ProgressiveDisclosureIconAction";const S=o(A=>{let{onClick:P,tip:N,...G}=A;const V=Object(i.useDispatch)();Object(t.useEffect)(()=>{h.z[N]&&V(Object(p.E)(""))},[N,V]);const k=Object(t.useCallback)(x=>{h.v.includes(N)&&h.h[N]&&V(Object(m.a)({notificationName:h.h[N],action:g.f.CLICK,step:h.g.Flag})),typeof P=="function"&&P(x)},[V,P,N]);return Object(d.a)(N,h.g.Flag),a.a.createElement(D,y({},G,{handleClick:k,tip:N}))},"ConnectedProgressiveDisclosureIconAction");S.displayName="ConnectedProgressiveDisclosureIconAction",s.b=Object(t.memo)(Object(t.forwardRef)((A,P)=>a.a.createElement(S,y({},A,{forwardedRef:P}))))},afXM:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("YHfO"),i=e("lqkv");const c=o(r=>{let{message:f,icon:l="check-large"}=r;return t.a.createElement(i.b,{icon:l,"data-qa":"canvas-toast",duration:a.b},f)},"CanvasToast");c.displayName="CanvasToast",s.a=c},aqlM:function(w,s,e){"use strict"},at8L:function(w,s,e){"use strict";e.d(s,"b",function(){return u}),e.d(s,"a",function(){return b});var n=e("mYQK"),t=e.n(n),a=e("AFNo"),i=e("nzWX"),c=e("kBpe"),r=e("JoR1"),f=e("beVI"),l=e("G0eX"),p=e("7+Lm"),h=e("uVZW");const u=Object(a.c)(v=>Object(p.c)(v,h.g.CLIENT_FOOTER)===h.h.SSB_LITE_BANNER);u.meta={name:"createSelector",key:"createSelectorshouldShowDownloadSsbBannerBasedOnMegaphone",description:v=>Object(p.c)(v,h.g.CLIENT_FOOTER)===h.h.SSB_LITE_BANNER};const b=Object(a.c)(v=>{if(u(v))return!0;const d=Object(f.g)(v),m=Object(i.f)(),g=Object(r.t)(v,"dismissed_banner_download_ssb_prompt");return!Object(l.H)(d)&&!g&&!Object(c.i)()&&!t.a.chromeBook&&m.no_download_banner!=="1"&&m.defer_download_banner!=="1"&&m.show_download_ssb_banner==="1"&&m.no_download_ssb_banner!=="1"&&m.defer_download_ssb_banner!=="1"&&m.shown_ssb_redirect_page==="1"});b.meta={name:"createSelector",key:"createSelectorshouldShowDownloadSsbBanner",description:v=>{if(u(v))return!0;const d=Object(f.g)(v),m=Object(i.f)(),g=Object(r.t)(v,"dismissed_banner_download_ssb_prompt");return!Object(l.H)(d)&&!g&&!Object(c.i)()&&!t.a.chromeBook&&m.no_download_banner!=="1"&&m.defer_download_banner!=="1"&&m.show_download_ssb_banner==="1"&&m.no_download_ssb_banner!=="1"&&m.defer_download_ssb_banner!=="1"&&m.shown_ssb_redirect_page==="1"}}},awTC:function(w,s,e){"use strict";e.d(s,"c",function(){return n}),e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"d",function(){return i});const n=["c","cc","cmake","cpp","csharp","css","csv","diff","erb","groovy","h","haml","htm","html","java","javascript","json","less","log","matlab","markdown","ocaml","php","perl","properties","py","rb","rst","sass","scala","scheme","shell","sql","text","xlsb","xml","yaml"],t=["doc","docx","gdoc","gsheet","numbers","ods","odt","pages","pdf","rtf","xls","xlsm","xlsx","key","odp","ppt","pptx"],a=["ai","bmp","gif","eps","heic","jpeg","jpg","png","psd","svg","tif","tiff"],i=o(c=>{const r=(c.filetype||"").toLowerCase();return n.concat(t,a).includes(r)},"isFileTypeSupportedForPreview")},"b+Ip":function(w,s,e){"use strict";e.d(s,"a",function(){return mn});var n=e("9oTK"),t=e("q1tI"),a=e.n(t),i=e("Lgge"),c=e("mM05"),r=e.n(c),f=e("n3tL"),l=e("fujP"),p=e("zmn3"),h=e("ifKl"),u=e("OZf9"),b=e("CpTu"),v=e("uiBO"),d=e("ktUG"),m=e("s4P+"),g=e("5IZy"),O=e("zZFv"),E=e("o2tK"),y=e("pu3F"),C=e("Kn+X"),I=e("BBdC"),j=e("EzPs"),M=e("7YN0"),T=e("KTal"),D=e("Yauy"),S=e("iheS"),A=e("SQ0V"),P=e("fPvm"),N=e("hD77"),G=e("AcWU"),V=e("AzV5"),k=e("OmVA"),x=e("Cwwo"),H=e("F8ux"),R=e("5icM"),W=e("3l96"),U=e("/MKj"),_=e("zxER"),B=e("Fsnq"),z=e("T1zM"),L=e("O86Y"),$=e("beVI"),Q=e("G0eX"),K=e("nNoG"),Z=e("YUBf"),ne=e("3V+Q"),F=e("Ws5+"),J=e("qDEp"),X=e("T1/z");const Y=new K.b("drafts"),ae="suppress_external_invites_from_compose_warning";function ee(vn){let{draftId:Xt,onClose:ht,sendMessage:It}=vn;const Ft=Object(U.useDispatch)(),Bt=Object(_.c)(Vn=>Object(X.c)(Vn,{draftId:Xt})),en=Object(_.c)(Vn=>{const un=Object(L.g)(Vn),Kn=un?Object($.s)(Vn,un):null;return Object(Q.h)(Kn)}),[On,yn]=Object(t.useState)(!1),Dn=Object(B.a)(Bt),En=Y.t("Add {emailCount, plural, =1 {a member} other {members}} to your workspace",{emailCount:Dn}),Vt=Object(K.h)(Bt,{strong:!0,react:!0}),an=Y.rt("By adding {emailAddressesString}, you\u2019re giving them access to the channels and conversations in the {workspaceName} workspace.",{emailAddressesString:Vt,workspaceName:en}),sn=Y.t("Cancel"),bn=Y.t("Add {emailCount, plural, =1 {Member} other {Members}}",{emailCount:Dn}),jn=Y.t("Don\u2019t ask me again"),Tn="p-composer_page__external_email_warning_modal_dont_ask_again";function An(){On&&Ft(Object(z.f)({pref:ae,value:!0})),It&&It()}return o(An,"onSendMessagee"),a.a.createElement(Z.a,{closeModal:ht||h.a},a.a.createElement(Z.i,null,a.a.createElement(Z.l,{title:En})),a.a.createElement(Z.d,null,a.a.createElement(Z.e,null,a.a.createElement("p",null,an))),a.a.createElement(Z.g,null,a.a.createElement(ne.b,{type:"inline",cursor:"pointer",className:"p-composer_page__external_email_warning_modal_dont_ask_again_label",htmlFor:Tn,text:jn},a.a.createElement(F.a,{id:Tn,checked:On,onChange:Vn=>{var un;yn(Vn==null||(un=Vn.target)===null||un===void 0?void 0:un.checked)},"data-qa":"external_email_warning_modal_dont_ask_again_checkbox"})),a.a.createElement(Z.h,null,a.a.createElement(Z.c,{onClick:ht||h.a,type:"outline"},sn),a.a.createElement(J.f,{className:"p-composer_page__external_email_warning_modal_send_message","data-qa":"button_send_message",onClick:An,autoFocus:!0},bn))))}o(ee,"ComposerExternalEmailWarningModal"),ee.displayName="ComposerExternalEmailWarningModal";var q=ee;const te=Object(A.c)("Opens the external email warning modal when sending composer message",function(vn,Xt){let{draftId:ht,onClose:It,sendMessage:Ft}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};vn(Object(W.a)({element:a.a.createElement(q,{draftId:ht||"",onClose:It,sendMessage:Ft})}))});te.meta={name:"createThunk",key:"createThunkopenComposerExternalEmailWarningModal",description:"Opens the external email warning modal when sending composer message"},te.propTypes={draftId:f.default.string.isRequired,onClose:f.default.func,sendMessage:f.default.func};var de=te,se=e("XZ+b"),re=e("1ao7"),oe=e("62K+"),ce=e("kDB5"),ue=e("FezJ"),Pe=e("kMME"),Ye=e("nRFS"),$e=e("nwIl"),Ke=e("1LR9"),qe=e("I27i"),ct=e("Wn1n"),Be=e("ohbk"),pe=e("8yCK"),fe=e("O2qk"),me=e("E3dU"),Se=e("TZwK"),je=e("7XZu"),Ue=e("Qmy9"),ve=e("ku/f"),ge=e("+kJ4"),le=e("3tUm"),he=e("vUys"),Te=e("DPzB"),Re=e("b8Xe"),Ve=e("3Tbp"),Ee=e("HxoY"),Ae=e("6CnZ"),Ge=e("jBIF"),Ze=e("RVJP"),ze=e("WMzb"),lt=e("I0j/"),tt=e("37+L"),Ot=e("mQiU"),Ct=e("UmHn"),St=e("9WS/"),zt=e("oy9Z");const kt=new K.b("drafts");function on(vn){let{channelId:Xt,draftId:ht,onSend:It,onClose:Ft}=vn;const Bt=Object(U.useDispatch)(),en=Object(_.c)(bn=>Object(me.d)(bn,Xt)),On=Object(ze.a)(),{shouldUseNavigate:yn}=Object(t.useContext)(Ot.a),Dn=Object(t.useCallback)(()=>{Bt(yn?Object(lt.a)(Object(tt.M)(Ct.a.ScheduledMessages)):Object(Be.a)({id:"Pscheduled-messages"})),On.info("COMPOSER",`${ht} scheduled from send scheduled message immedietly speedbump, redirecting to scheduled messages page`)},[Bt,ht,On,yn]);function En(bn){let{didSend:jn}=bn;Ft({didSend:jn}),Bt(Object(ge.a)())}o(En,"handleCloseModal");function Vt(){It(),En({didSend:!0})}o(Vt,"handleSendNowClick");function an(){En({didSend:!1}),Bt(Object(zt.a)({draftId:ht,onMessageScheduled:Dn}))}o(an,"handleSendLaterClick");const sn=a.a.createElement(St.a,{channel:en,includeChannelPrefix:!0,displayFormerNames:!1});return a.a.createElement(Z.a,{closeModal:()=>En({didSend:!1})},a.a.createElement(Z.i,null,a.a.createElement(Z.l,{title:kt.t("Send now?")})),a.a.createElement(Z.d,null,a.a.createElement(Z.e,null,kt.rt("Are you sure you want to send this message to {channel_name} now?",{channel_name:sn}))),a.a.createElement(Z.g,null,a.a.createElement(J.f,{type:"outline","data-qa":"drafts_page_confirm_send_scheduled_draft_later",onClick:an},kt.t("Send Later")),a.a.createElement(Z.h,null,a.a.createElement(Z.c,{type:"outline","data-qa":"drafts_page_confirm_send_scheduled_draft_cancel",onClick:()=>En({didSend:!1})},kt.t("Cancel")),a.a.createElement(J.f,{"data-qa":"drafts_page_confirm_send_scheduled_draft_now",onClick:Vt,autoFocus:!0,type:"primary"},kt.t("Send Now")))))}o(on,"ConfirmSendScheduledMessageImmediatelyModal");var _t=e("dtWQ"),be=e("8j99"),ot=e("ixSl"),rt=e("zcRq"),Jt=e("oY18"),Qt=e("rAyg"),qt=e("oEDn");function $t(vn){let{errorText:Xt}=vn;return a.a.createElement(Qt.a,{position:"bottom-right",shouldAutoFade:!1},a.a.createElement(qt.a,{type:"exclamation-circle",className:"margin_right_50"}),a.a.createElement("span",null,Xt))}o($t,"MessageSendErrorToast"),$t.displayName="MessageSendErrorToast";var hn=$t;const gn=Object(A.c)("Displays a message send error toast",function(vn,Xt){let{errorText:ht}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ht&&vn(Object(Jt.a)({element:a.a.createElement(hn,{errorText:ht})}))});gn.meta={name:"createThunk",key:"createThunkdisplayMessageSendErrorToast",description:"Displays a message send error toast"},gn.propTypes={errorText:f.default.oneOfType([f.default.string,f.default.object]).isRequired};var Cn=gn,Mn=e("f7Y4"),kn=e("OJZy"),na=e("lCmp"),oa=e("/92K"),ba=e("JoR1"),ga=e("6ysl");const ya="suppress_external_invites_from_compose_warning";var Xn=o(function(vn){let{draftId:Xt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object(ba.t)(vn,ya))return!1;const It=Object(X.b)(vn,{draftId:Xt});return Object(na.a)(It,Ft=>Object(ga.c)(Ft)&&Object(ga.a)(Ft)!==oa.a.Internal)},"shouldShowExternalEmailWarning"),Ht=e("Gnyr"),ut=e("ExKK"),gt=e("XcN5"),Wt=e("gXfi"),Mt=e("2VFn"),Xe=e("RV0M"),bt=e("v7mh"),Nt=e("E97Y"),Pt=e("KVhq"),nn=e("D1F6");const rn=new K.b("client"),mn=Object(A.c)("Sends a composer message",function(){var vn=Object(n.coroutine)(function*(Xt,ht,It,Ft){let{draft:Bt,fromKeyboardShortcut:en,isFromModal:On,bypassExternalEmailWarning:yn,isFromDraftsPageAndExternallySharedChannel:Dn,isFromScheduledPage:En,tileKey:Vt,skipDlpUserWarning:an,isFromDraftsPage:sn}=It;const{shouldUseNavigate:bn,getSiblingView:jn,windowId:Tn}=Ft(Xe.a);if(!Object(T.a)(ht(),Bt))return i.a.reject(new Error("Composer message is not sendable. This may be due to a missing destination, missing text, or posting restrictions"));if(!Object(qe.d)(ht()))return i.a.reject(new Error("Composer message is not sendable. Client is offline"));const An=Object(m.a)({getState:ht,label:"COMPOSER"}),Vn=Object(g.a)({getState:ht}),un=Object(C.e)(Bt),Kn=Object(C.n)(Bt),$n=Bt?Object(kn.a)(Bt):{},da=Xt(Object(rt.a)({draftId:un,ops:Kn})),fa=Xt(Object(ce.a)({unfurls:da,draftId:un})),aa=ht(),ha=Object(Ze.d)(aa,"native_gif_picker")==="on",Ia=Object($e.a)(aa,{draftId:un});if(ha&&Ia&&Xt(Object(Pt.b)({draftId:un})),!un||!Bt)return i.a.reject(new Error("Composer message is not sendable. Draft is not provided or draft does not have draftId"));if(Object(fe.b)(ht(),{draftId:un}))return An.info(`Already sending draft (draftId: ${un})`),i.a.resolve();if(Object(fe.e)(aa,{draftId:un}))return An.info("Already sending email invites for draft, skip sending message -- we will send when all invites complete"),i.a.resolve();if(!yn&&Xn(aa,{draftId:un}))return Xt(de({draftId:un,onClose:()=>Xt(Object(ge.a)()),sendMessage:()=>{Xt(Object(ge.a)()),Xt(mn({draft:Bt,fromKeyboardShortcut:en,isFromModal:On,bypassExternalEmailWarning:!0}))}})),i.a.reject(new Error("Composer external email warning in effect"));const Ba=Object(X.c)(aa,{draftId:un});if(!Object(l.a)(Ba)){Xt(Object(Ke.g)({draftId:un,isSendingInvites:!0,shouldSendMessageAfterInvites:!0}));const vt=Object(p.a)(Ba,At=>({email:At,type:x.a.Member}));return Xt(Object(k.h)({invites:vt})),An.info("Kick off sending email invites for draft, skip sending message until all emails resolve"),Vn.track(d.EventId.COMPOSE_FLOW,{draft_id:un,draft_num_selected_emails:vt.length,contexts:{ui_context:{ui_step:d.UiStep.COMPOSE_FLOW_SEND_EMAIL_INVITES}}}),setTimeout(()=>{Object(fe.e)(ht(),{draftId:un})&&(Xt(Object(Ke.c)({draftId:un})),An.error("Failed to resolve emails to memberIds in a reasonable time -- cancel draft send"),Xt(Cn({errorText:rn.rt("<b>Something went wrong.</b> Try typing the email again.")})))},y.V),i.a.resolve()}Xt(Object(Ke.e)({draftId:un,isSending:!0})),Object(N.a)(un);let ca;try{({channelId:ca}=yield Xt(Object(re.a)({draft:Bt})))}catch(vt){var Aa;return Xt(Object(Ke.e)({draftId:un,isSending:!1})),!(vt==null||(Aa=vt.message)===null||Aa===void 0)&&Aa.includes(y.U.INVALID_USER_COMBINATION)?i.a.reject(new Error("invalid_user_combination")):i.a.reject(vt)}An.info(`Preparing to send a composer message to ${ca}`),Vn.track(d.EventId.COMPOSE_FLOW,{draft_action_source:On?"modal":"input",draft_type:"composer",draft_id:un,contexts:{ui_context:{action:en?d.UiAction.KEYDOWN:d.UiAction.CLICK,step:d.UiStep.COMPOSE_FLOW_SEND}}});function Ma(){return ja.apply(this,arguments)}o(Ma,"sendMessage");function ja(){return ja=Object(n.coroutine)(function*(){let{acknowledgedUnfurls:vt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var At;if(yield Xt(Object(G.a)({channelId:ca})),Vt)Xt(Object(Ue.a)({key:Vt,tile:{view:ca}}));else if(bn)if(Tn===Mt.c){const Le=Object(bt.a)(aa),Qe=Object(bt.h)(aa,{tab:Le}),Ce=Object(me.d)(aa,ca),ye=!(Object(Nt.i)(Ce)||Object(Nt.g)(Ce)),ie=Le===Mt.d.DMs;let Oe={id:ca,viewType:v.b.Channel},We=Le;ye&&ie&&(Oe={...Qe==null?void 0:Qe[Mt.h.Primary],id:Ct.a.Empty,viewType:v.b.Page},We=Mt.d.DMs),Xt(Object(Wt.a)({windowId:Mt.c,viewSet:{[Mt.h.Sidebar]:Qe==null?void 0:Qe[Mt.h.Sidebar],[Mt.h.Primary]:Oe},tab:We})),ye&&ie&&Xt(Object(lt.a)(Object(tt.i)(ca)))}else Xt(Object(Wt.a)({windowId:Tn,viewSet:{[Mt.h.Primary]:{id:ca,viewType:v.b.Channel}}}));const Gt=Object(pe.a)(ht());if((bn?(At=jn(aa,{container:Mt.h.Primary}))===null||At===void 0?void 0:At.id:Object(ct.a)(ht()))==="Pcomposer"&&Gt===un){let Le;const Qe=Object(C.d)(Bt);if(Qe.length===1){const Ce=Object(me.d)(ht(),Qe[0]);Le=Object(D.Fb)(ht(),Ce)}bn?Xt(Object(lt.a)(Object(tt.i)(ca))):Xt(Object(Be.a)({id:ca,teamId:Le})).catch(h.a)}if(Object(j.a)(ht(),Bt)){const Le=Xt(Object(V.a)({msgOps:Kn,channelId:ca}));let Qe;if(ha&&Ia){const ke=Object(nn.a)(aa,{draftId:un});ke.length&&(Qe=[{blocks:ke}])}Xt(Object(le.a)({draftId:un||"",pendingFileIds:Object(he.a)(aa,un||"")}));const Ce=Object(M.c)(un||"")||[];Object(M.b)(un||"");const ye=Object(Se.c)(ht(),un||"");Object(u.a)(ye,ke=>{Xt(Object(je.f)({pendingFileId:ke,isSending:!0}))});const ie=Object(Ee.a)(Object(Ae.i)(aa,ca)),Oe=Xt(Object(Te.a)({msgParams:{channel:ca,ts:ie,type:"message",blocks:Le},channelId:ca,fileIds:Object(I.a)(Bt),pendingFileIds:Object(he.a)(aa,un||"")}));Oe&&Xt(Object(Re.a)({channelId:ca,ts:Oe.ts,promises:Ce}));const We=Xt(Object(Ge.a)({draftId:un}));return yield i.a.all(Ce).then(ke=>{const nt=Object(I.a)(Bt)||[];return Object(u.a)(ke,st=>{st.fileIds?nt.push(st.fileIds[0]):st.file&&nt.push(st.file.id)}),Xt(Object(H.a)({fileIds:nt,channelId:ca,blocks:Le,attachments:Qe,xArgs:$n,skipDlpUserWarning:an,reason:"send_composer_message",clientMsgId:Oe?Oe.client_msg_id:void 0,permissions:We}))}).then(Fa).finally(ta).catch(ke=>{(ke==null?void 0:ke.name)===gt.a.DlpUserWarning?Xt(Object(ve.a)({error:ke==null?void 0:ke.name,draftId:un})):Xt(Object(ve.a)({error:ke==null?void 0:ke.name,goToDrafts:!0})),Object(u.a)(ye,nt=>{Xt(Object(je.f)({pendingFileId:nt,isSending:!1}))}),Xt(Object(Ke.e)({draftId:un||"",isSending:!1})),Oe&&Xt(Object(Ve.a)({clientMsgId:Oe.client_msg_id,channelId:ca,ts:Oe.ts}))}),null}const Dt=Xt(Object(oe.a)({draftId:un})),He=Xt(Object(Ge.a)({draftId:un}));return Xt(Object(Mn.c)({draftUniqueId:Object(C.s)(Bt),detachedDraftId:un,channelId:ca,unfurls:vt||da,contactUnfurls:Dt,filePermissions:He,delta:new r.a(Kn),xArgs:$n,includeExternalMembersSpeedBump:!1,includeExternalQuipFileSpeedBump:!1,includePrivateMessageForwardingSpeedBump:!1})).catch(Le=>{if(Bt){const Qe=Xt(Object(ot.b)({draft:Bt}));Xt(Object(_t.a)({draft:Qe}))}throw Le}).then(Fa).finally(ta)}),ja.apply(this,arguments)}o(ja,"_sendMessage");function Fa(){An.info(`Composer message successfuly sent. Removing the draft (${un})`),Xt(Object(P.a)({ids:[un||""],syncDelete:!1,reason:"sendComposerMessage"}))}o(Fa,"onSendSuccess");function ta(){Xt(Object(Ke.b)({draftId:un||""}))}if(o(ta,"onSendComplete"),Object(be.b)(aa)){const vt=Object(E.a)(new r.a(Kn)),At=Object(b.a)(vt,function(Gt){return Gt.includes("slack.com/openid/connect/login_initiate_redirect")});if(At)return Xt(Object(se.a)({channelId:ca,dateScheduled:Object(C.i)(Bt),urlString:At,onSend:()=>{Ma()},onClose:()=>{Xt(Object(Ke.b)({draftId:un}))}})),i.a.reject(new Error("Link warning in effect"))}const Pn=Object(O.a)({contents:Kn});return Object(S.a)(ht(),ca,Pn)?(Xt(Object(R.a)({channelId:ca,keywordsInUse:Pn,onClose:function(){let{didSend:vt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vt||Xt(Object(Ke.b)({draftId:un}))},onSend:()=>{Ma()}})),i.a.reject(new Error("Shouty rooster in effect"))):Xt(Object(Ht.a)({fileIds:Object(I.a)(Bt),entityId:ca,onSend:()=>{Ma()},onClose:()=>{Xt(Object(Ke.b)({draftId:un}))},onSendLater:()=>{Xt(Object(zt.a)({draftId:un,isFromScheduledPage:En}))},isFromDraftsPageAndExternallySharedChannel:Dn,isFromScheduledPage:En})).didOpen?i.a.reject(new Error(Mn.b.ExternalMembersSpeedBump)):Object(C.i)(Bt)&&!an?(Xt(Object(W.a)({element:a.a.createElement(on,{channelId:ca,draftId:un,onClose:function(){let{didSend:vt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vt||Xt(Object(Ke.b)({draftId:un}))},onSend:()=>{Ma()}})})),i.a.reject(new Error("Send scheduled message immediately speedbump in effect"))):Xt(Object(ut.a)({delta:new r.a(Kn),fileIds:Object(I.a)(Bt),onSend:()=>{Ma()}})).didOpen?i.a.reject(new Error(Mn.b.ExternalQuipFileSpeedBump)):Object(Ye.a)(aa)&&Xt(Object(Pe.a)({channelId:ca,isScheduledSend:!!Object(C.i)(Bt),unfurls:da,unfurlsWithData:fa,isFromDraftsPage:sn,onSend:()=>{const At=Object(ue.a)(da,fa);Ma({acknowledgedUnfurls:At})},onClose:()=>{Xt(Object(Ke.b)({draftId:un}))}})).didOpen?i.a.reject(new Error(Mn.b.PrivateMessageForwardingSpeedBump)):Ma()});return function(Xt,ht,It,Ft){return vn.apply(this,arguments)}}());mn.meta={name:"createThunk",key:"createThunksendComposerMessage",description:"Sends a composer message"},mn.propTypes={draft:f.default.object.isRequired}},b8Xe:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("OZf9"),t=e("F294"),a=e("zmn3"),i=e("n3tL"),c=e("SQ0V"),r=e("Jhy3"),f=e("UIhb");const l=Object(c.c)("Swap pending file IDs with real file IDs when uploading finishes",(p,h,u)=>{let{channelId:b,ts:v,promises:d}=u;Object(n.a)(d,m=>{m.then(g=>{let{fileIds:O,pendingFileId:E}=g;const y=Object(f.b)(h(),b,v);if(!y)return;const C=Object(t.a)(O);if(!C)return;const I=Object(a.a)(y.pendingFiles,M=>M===E?C:M),j={...y,pendingFiles:I};p(Object(r.a)([j]))})})});l.meta={name:"createThunk",key:"createThunksyncPlaceholderWithUploads",description:"Swap pending file IDs with real file IDs when uploading finishes"},l.propTypes={channelId:i.default.string.isRequired,ts:i.default.string.isRequired,promises:i.default.array.isRequired}},bCCa:function(w,s,e){"use strict";var n=e("SQ0V"),t=e("P9LH"),a=e("QoUg"),i=e("VfoO"),c=e("Lgge"),r=e("FH+Z");function f(b){const v=URL.createObjectURL(b),d=document.createElement("video");return new c.a((m,g)=>{var O;d.preload="metadata",d.onloadedmetadata=()=>{d.currentTime=.1},d.onseeked=()=>{const y=document.createElement("canvas");if(!d.videoHeight||!d.videoWidth){g(new Error("could not load video thumbnail"));return}y.height=d.videoHeight,y.width=d.videoWidth;const C=y.getContext("2d");if(!C){g(new Error("could not get canvas context"));return}C.drawImage(d,0,0,y.width,y.height),m({dataUrl:y.toDataURL("image/jpeg"),orientation:1,width:d.videoWidth,height:d.videoHeight})};const E=document.createElement("source");b.subtype===r.j&&(!((O=b.type)===null||O===void 0)&&O.includes("mp4"))&&(E.type="video/mp4"),E.src=v,d.appendChild(E)}).timeout(1e4,"Timeout generating video thumbnail").finally(()=>{d.src="",d.firstChild&&d.removeChild(d.firstChild),URL.revokeObjectURL(v)})}o(f,"getVideoThumbnailData");var l=f,p=e("7XZu");const h=Object(n.c)("Load data for thumbnails",(b,v,d)=>{let{file:m}=d;if(!Object(a.a)(v(),m)){if(Object(t.Ib)(m)){Object(i.a)(m).then(g=>{b(Object(p.e)({previewData:g,pendingFileId:m.id}))});return}Object(t.Jb)(m)&&l(m).then(g=>{b(Object(p.e)({previewData:g,pendingFileId:m.id}))})}});h.meta={name:"createThunk",key:"createThunkpreloadPreviewData",description:"Load data for thumbnails"};var u=s.a=h},"bG/T":function(w,s,e){"use strict";e.d(s,"c",function(){return r}),e.d(s,"a",function(){return f}),e.d(s,"b",function(){return l}),e.d(s,"e",function(){return p}),e.d(s,"d",function(){return h}),e.d(s,"g",function(){return b}),e.d(s,"i",function(){return v}),e.d(s,"f",function(){return g}),e.d(s,"h",function(){return O}),e.d(s,"j",function(){return A});var n=e("pu3F"),t=e("lE2N"),a=e("o2Hb"),i=e("p8wN"),c=e("zoal");const r=15,f=24,l=24,p=125,h=125,u=75,b=o(P=>{var N,G,V;return((G=(N=P.label)===null||N===void 0?void 0:N.trim())===null||G===void 0?void 0:G.length)>0&&((V=P.label)===null||V===void 0?void 0:V.length)<=u},"optionIsValid"),v=o(P=>{let{dialogTitle:N,maxLength:G}=P;var V;return((V=N==null?void 0:N.trim())===null||V===void 0?void 0:V.length)>0&&(N==null?void 0:N.length)<=G},"titleIsValid"),d=o(P=>Object(t.a)(P,N=>N.value).length!==P.length,"hasDuplicates");function m(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1?arguments[1]:void 0;const G=[];let V=P.indexOf(N);for(;V!==-1;)G.push(V),V=P.indexOf(N,V+1);return G}o(m,"findIndices");function g(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1?arguments[1]:void 0,G=arguments.length>2?arguments[2]:void 0;const V=m(P.map(k=>k.value),N);return V.length<=1?!1:V.some(k=>k<G)}o(g,"isTheSecondDuplicate");const O=o(P=>{var N,G,V;return((G=(N=P.label)===null||N===void 0?void 0:N.trim())===null||G===void 0?void 0:G.length)===0||((V=P.label)===null||V===void 0?void 0:V.length)>p?!1:Object(c.b)(P.questionType)||Object(c.c)(P.questionType)?!P.options||P.options.length===0?!1:P.options.every(k=>b(k))&&!d(P.options):!0},"questionIsValid"),E=Object(a.a)("hasValidTitle",P=>{let{segment:N}=P;const G=Object(i.f)(N);return v({dialogTitle:G,maxLength:l})}),y=Object(a.a)("questionsAreValid",P=>{let{segment:N}=P;const G=Object(i.p)(N),V=Object(i.s)(N).every(k=>O(k));return G>0&&G<=r&&V}),C=Object(a.a)("messageButtonLabelHasText",P=>{let{segment:N}=P;return Object(i.m)(N).length>0}),I=Object(a.a)("messageHasText",P=>{let{segment:N}=P;return Object(i.o)(N).length>0}),j=Object(a.a)("messageTooLong",P=>{let{segment:N}=P;return Object(i.o)(N).length>n.D}),M=Object(a.a)("messageIsValid",function(P){let{segment:N}=P,{messageButtonLabelHasText:G,messageHasText:V,messageTooLong:k}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object(i.e)(N))return!0;const H=!!Object(i.t)(N),R=!!Object(i.g)(N),W=H||R,U=G&&Object(i.m)(N).length<=f;return W&&V&&!k&&U}),T=Object(a.a)("canDeleteQuestion",P=>{let{segment:N}=P;return Object(i.s)(N).length>1}),D=Object(a.a)("canAddQuestion",P=>{let{segment:N}=P;return Object(i.s)(N).length<r}),S=Object(a.a)("isValid",(P,N)=>{let{hasValidTitle:G,questionsAreValid:V,messageIsValid:k}=N;return G&&V&&k}),A=[E,y,C,I,j,M,T,D,S]},"bHB/":function(w,s,e){"use strict";var n=e("n3tL"),t=e("SQ0V"),a=e("NV6F"),i=e("8f+r"),c=e("e33t"),r=e("O5bS"),f=e("ltL2"),l=e("F294"),p=e("mM05"),h=e.n(p),u=e("yLDf"),b=e("mlNA");const v=Object(t.c)("Parses slash command args from delta",(F,J,X)=>{const Y=Object(b.a)(X),ae=Object(l.a)(Y),ee=ae&&ae.type==="string"?Y[0].value:null;if(!ae||!ee)return{cmd:"",disp:null,userParams:[],deltaWithoutCmd:new h.a};const q=ee.toLowerCase().replace(/\u2019/g,"'"),te=new h.a().delete(q.length),de=X.compose(te),se=Object(u.a)({delta:de,trimEnd:!1});return{cmd:q,disp:ee,userParams:Y.slice(1),deltaWithoutCmd:se}});v.meta={name:"createThunk",key:"createThunkparseSlashCmdArgsFromDelta",description:"Parses slash command args from delta"},v.propTypes=n.default.object;var d=v,m=e("NFsq"),g=e("0qhH");const O=/^\/s\/([^/]+)\/([^/]*)(?:\/([a-z]+)?)?$/i;function E(F){if(!F)return null;const J=Object(u.a)({delta:F,trimStart:!1});if(!J)return null;const X=J.ops;if(!X||X.length!==1)return null;const Y=Object(l.a)(X);if(!Y||!Object(g.a)(Y))return null;const ae=Object(g.b)(Y);if(!ae)return null;const ee=ae.replace(/\uFF0F/g,"/"),[,q,te,de]=ee.match(O)||[];if(!q)return null;const se=Object(m.a)(de,"g"),re=Object(m.a)(de,"i");return{prev:q,next:te,replaceAll:se,ignoreCase:re}}o(E,"parseEditLastMessageCommand");var y=e("Lgge"),C=e("JJ34"),I=e("PjBX"),j=e("pguY");const M=`[\\s\\n\\r\\t.,'"+!?\\-_|]`;var T=o(function(F,J){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",{ignoreCase:Y,replaceAll:ae}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!F||!J)return null;let ee="";Y&&(ee+="i"),ae&&(ee+="g");const q=Object(j.a)(J),te=new RegExp(`(^|${M}+)(?:${q})(?=${M}+|$)`,ee);return F.replace(te,`$1${X}`)},"replace_word"),D=e("YOgf"),S=e("W8kP");const A=Object(t.c)('Attempt to edit the previous message via the "/s" shortcut',function(F,J){let{channelId:X,threadTs:Y,prev:ae,next:ee,ignoreCase:q,replaceAll:te}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const de=J(),se=Object(C.a)(de,{channelId:X,threadTs:Y});if(!se||!se.blocks)return y.a.reject(new Error("Message not found"));const re=Object(D.a)(de,se.blocks);if(!re)return y.a.reject(new Error("Message not found"));let oe=!1;const ce=re.map(Pe=>{if(!te&&oe)return Pe;if(Object(g.a)(Pe)){const Ye=Object(g.b)(Pe),$e=T(Ye,ae||"",ee||"",{ignoreCase:!!q,replaceAll:!!te});return Ye!==$e&&(oe=!0),{...Pe,insert:$e||""}}return Pe}),ue=Object(u.a)({delta:new h.a(ce)});return Object(S.a)(ue)?y.a.reject(new Error("No message text")):F(Object(I.a)({channelId:X,ts:se.ts,delta:ue}))});A.meta={name:"createThunk",key:"createThunkeditLastUserMessageText",description:'Attempt to edit the previous message via the "/s" shortcut'};var P=A,N=e("pu3F"),G=e("qMw6"),V=e("s4P+"),k=e("nNoG"),x=e("NX5n"),H=e("VKiV"),R=e("CpTu"),W=e("9tyN"),U=e("bPOb"),_=e("B8JY");const{RESTRICTED_COMMAND:B,UNKNOWN_API_ERROR:z,UNKNOWN_COMMAND:L,UNSUPPORTED_IN_THREAD:$,CUSTOM_ERROR:Q}=N.db,K=new k.b("client"),Z=Object(t.c)("Intercept and handle a slash commands when sending a message",(F,J,X)=>{let{delta:Y,channelId:ae,threadTs:ee,draftId:q,slashCommandApplicableTeamId:te,viewContext:de}=X;if(!Y||!ae&&!q||!Object(f.a)(Y))return null;const re=Object(V.a)({getState:J});re.info("SLASH-COMMAND","Looks like a slash command; attempt to parse and execute");const oe=E(Y);if(oe)return re.info("SLASH-COMMAND",'Command "search/replace" is PENDING'),F(P({channelId:ae,threadTs:ee,...oe})).then(()=>{re.info("SLASH-COMMAND",'Command "search/replace" RESOLVED')}).catch($e=>{throw re.info("SLASH-COMMAND",`Command "search/replace" FAILED (error "${$e.message}")`),$e});const ce=F(d(Y)),ue=ee?r.a.threadsTempSlashCmdFeedback:r.a.tempSlashCmdFeedback;F(Object(c.a)({ephemeralType:ue}));const Pe=o($e=>F(Object(a.c)({args:ce,channelId:ae,draftId:q,threadTs:ee,delta:Y,slashCommandApplicableTeamId:$e,viewContext:de})).tap(function(){let{response:Ke}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ke&&F(Object(i.b)({message:{text:Ke,channel:ae,thread_ts:ee}}))}).catch(Ke=>{let qe;throw Ke.message===B?qe=K.t("*{command}* failed because you are not allowed to perform that action. Talk to your Workspace Owner.",{command:ce.cmd}):Ke.message===L?qe=K.t(`*{command}* is not a valid command. In Slack, all messages that start with the "/" character are interpreted as commands.

If you are trying to send a message and not run a command, try preceding the "/" with an empty space.`,{command:ce.cmd}):Ke.message===$?qe=K.t("*{command}* is not supported in threads. Sorry!",{command:ce.cmd}):Ke.message===z&&Ke.feedback?qe=K.t('*{command}* failed with the error "{reason}"',{command:ce.cmd,reason:Ke.feedback}):Ke.message===Q&&Ke.feedback?qe=Ke.feedback:qe=K.t("*{command}* failed with an unknown error.",{command:ce.cmd}),F(Object(i.b)({ephemeralType:ue,message:{text:qe,channel:ae,slackbot_feels:i.a.sadSurprise,thread_ts:ee}})),Ke}),"executeSlashCommandCallback"),Ye=J();if(Object(x.a)(Ye)){const $e=Object(U.a)(Ye);let Ke=Object(R.a)(Object.values($e),qe=>Object(W.a)(qe,ce.cmd));if(Ke)return Ke=Object(_.a)(Ye,Ke),F(Object(H.a)({action:Ke,channelId:ae,onConfirm:Pe,isSlashCommand:!0}))}return Pe(te)});Z.meta={name:"createThunk",key:"createThunkhandleSlashCommand",description:"Intercept and handle a slash commands when sending a message"},Z.propTypes={delta:n.default.object.isRequired,channelId:n.default.string.isRequired,threadTs:n.default.string,viewContext:n.default.oneOf(Object.values(G.a))};var ne=s.a=Z},bLbp:function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"c",function(){return t}),e.d(s,"a",function(){return a});var n;(function(i){i.MODAL_HEADER="share-dialog-header-name",i.MODAL_HEADER_TITLE="share-dialog-title-and-subtitle-bar",i.MODAL_ALERT_SECTION="share-dialog-alert-section",i.MODAL_HEADER_SECTION="share-dialog-header-section",i.CHANNEL_PICKER="share_dialog_channel_picker"})(n||(n={}));var t;(function(i){i.CLOSE_DIALOG="close_dialog_speedbump"})(t||(t={}));var a;(function(i){i.GO="dialog_go"})(a||(a={}))},bPOb:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=o(t=>{var a;return(t==null||(a=t.slashCommand)===null||a===void 0?void 0:a.commands)||{}},"getServerSlashCommands")},bQRJ:function(w,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("ZKjC"),t=e("UIhb"),a=e("6CnZ"),i=e("+l5E"),c=e("JQ3U"),r=e("ssje"),f=e("JMq3"),l=e("rebY"),p=e("s8RM");const h=Object(n.b)(function(b,v){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3;const m=Object(a.h)(b,v),O=(m?m.timestamps:[]).map(E=>Object(t.b)(b,v,E)).filter(E=>!Object(p.a)(E.subtype)&&!Object(i.bb)(E)&&!Object(i.fb)(E)&&!Object(f.a)(b,E)&&!Object(c.k)(E)&&!Object(l.a)(E)&&!Object(r.a)(E)).slice(-1*Math.abs(d));return{slice:m,messages:O}});h.meta={name:"createSelector",key:"createSelectorgetLastHumanMessages",description:function(b,v){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3;const m=Object(a.h)(b,v),O=(m?m.timestamps:[]).map(E=>Object(t.b)(b,v,E)).filter(E=>!Object(p.a)(E.subtype)&&!Object(i.bb)(E)&&!Object(i.fb)(E)&&!Object(f.a)(b,E)&&!Object(c.k)(E)&&!Object(l.a)(E)&&!Object(r.a)(E)).slice(-1*Math.abs(d));return{slice:m,messages:O}}};const u=Object(n.b)((b,v)=>h(b,v,1).messages.length>0);u.meta={name:"createSelector",key:"createSelectordoesChannelHaveMessages",description:(b,v)=>h(b,v,1).messages.length>0}},bTgy:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("P9LH");const t=o(i=>!!(i!=null&&i.is_org_visible),"isFileOrgVisible"),a=o((i,c)=>Object(n.wb)(c,i)&&t(c)&&!Object(n.vb)(c,i),"isTemplateOrgVisible")},bUGr:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("P9LH"),t=e("SQ0V"),a=e("Lgge"),i=e("dmdh"),c=e("tRZ0"),r=e("5IZy"),f=e("ktUG");const l=Object(t.c)("Calls quip.removeCanvasCollection and remove canvas as collection/favorites",(p,h,u)=>{let{fileId:b,userId:v}=u;const d=h(),m=Object(i.e)(d,b);return!Object(n.u)(m)&&!Object(n.h)(m)?a.a.reject(new Error("fileId missing while calling removeCanvasFromFavorites")):(Object(r.a)({state:d}).track(f.EventId.CANVAS_UNSTARRED,{contexts:{core:{quip_file_id:b,file_id:b,is_channel_canvas:Object(n.h)(m)}}}),p(Object(c.a)({fileId:b,userId:v,reason:"canvas_organization_collections_proto"})))});l.meta={name:"createThunk",key:"createThunkremoveCanvasFromFavorites",description:"Calls quip.removeCanvasCollection and remove canvas as collection/favorites"}},bb0F:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("nFQW"),c=e("plVP"),r=e("zxER"),f=e("nNoG"),l=e("YbME");const p=new f.b("express_templates");function h(u){let{text:b,onProvideFeedback:v}=u;const d=Object(r.c)(c.a),m=Object(n.useCallback)(()=>{v("positive")},[v]),g=Object(n.useCallback)(()=>{v("negative")},[v]);return t.a.createElement("div",{className:Object(a.default)(l.a.workflowSuggestionFeedbackButtons,"display_flex","justify_content_center","align_items_center")},b||d?p.t("Helpful?"):"Helpful?",t.a.createElement(i.a,{"aria-label":"thumbs-up",icon:"thumbs-up",onClick:m}),t.a.createElement(i.a,{"aria-label":"thumbs-down",icon:"thumbs-down",onClick:g}))}o(h,"WorkflowSuggestionFeedbackButtons"),h.displayName="WorkflowSuggestionFeedbackButtons"},bdcb:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("CpTu");function t(a){const i=["composer_edit_link_popover","composer_link_modal"];return!!Object(n.a)(a,c=>i.includes(c))}o(t,"isTextyModalOpen")},"bi++":function(w,s,e){"use strict";e.d(s,"d",function(){return t}),e.d(s,"e",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"c",function(){return c}),e.d(s,"b",function(){return r});var n=e("DwFS");const t=Object(n.a)("Set document editing info");t.meta={name:"createAction",key:"createActionupdatePresenceEditingInfo",description:"Set document editing info"};const a=Object(n.a)("Set document viewing info");a.meta={name:"createAction",key:"createActionupdatePresenceViewingInfo",description:"Set document viewing info"};const i=Object(n.a)("Add viewers");i.meta={name:"createAction",key:"createActionaddViewingPresence",description:"Add viewers"};const c=Object(n.a)("Remove viewers");c.meta={name:"createAction",key:"createActionremoveViewingPresence",description:"Remove viewers"};const r=Object(n.a)("Clear all viewers");r.meta={name:"createAction",key:"createActionclearPresence",description:"Clear all viewers"}},bkBi:function(w,s,e){"use strict";function n(t,a,i){if(t<0||t>i.length)throw new Error(`index ${t} is non-contiguous for array with length ${i.length}`);const c=[...i];return c[t]=a,c}o(n,"setArrayElement"),s.a=n},blUj:function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t});const n={EVERYONE:"everyone",CHANNEL_MANAGERS:"channel_managers",MEMBERS:"members",GUESTS:"guests",EXTERNAL_TEAMS:"external_teams",EXTERNAL_TEAM:"external_teams",SELF_ORGANIZATION:"self_organization"},t=n.EVERYONE},"bol+":function(w,s,e){"use strict";e.d(s,"c",function(){return v}),e.d(s,"b",function(){return d}),e.d(s,"l",function(){return m}),e.d(s,"k",function(){return g}),e.d(s,"h",function(){return O}),e.d(s,"j",function(){return E}),e.d(s,"i",function(){return y}),e.d(s,"d",function(){return C}),e.d(s,"e",function(){return I}),e.d(s,"g",function(){return j}),e.d(s,"f",function(){return M}),e.d(s,"u",function(){return T}),e.d(s,"v",function(){return D}),e.d(s,"t",function(){return S}),e.d(s,"r",function(){return A}),e.d(s,"s",function(){return P}),e.d(s,"a",function(){return N}),e.d(s,"m",function(){return G}),e.d(s,"p",function(){return V}),e.d(s,"o",function(){return k}),e.d(s,"q",function(){return x}),e.d(s,"n",function(){return H});var n=e("7EGn"),t=e("XIp8"),a=e("vEhQ"),i=e("m8R6"),c=e("wd/R"),r=e.n(c),f=e("gPPH"),l=e("o37S"),p=e("HBMi"),h=e("C3vN"),u=e("O7R9"),b=e("Qm7m");const v={FREQUENCY_DOES_NOT_REPEAT:"does_not_repeat",FREQUENCY_DAILY:"daily",FREQUENCY_WEEKDAYS:"weekdays",FREQUENCY_WEEKLY:"weekly",FREQUENCY_MONTHLY_DATE:"monthly_date",FREQUENCY_MONTHLY_NTH_DAY:"monthly_nth_day",FREQUENCY_YEARLY:"yearly",FREQUENCY_CUSTOM:"custom"},d=o(R=>{let{member:W}=R;return{id:Object(f.a)(),type:b.SCHEDULED,config:{start:Object(u.e)(W),timezone:Object(h.D)(W)}}},"createScheduledTrigger"),m=o(R=>Object(n.a)(R,"config.start"),"getStartFromTrigger"),g=o(R=>Object(n.a)(R,"config.frequency.type",null),"getFrequencyTypeFromTrigger"),O=o(R=>Object(n.a)(R,"config.frequency.options",null),"getCustomFrequencyOptionsFromTrigger"),E=o(R=>Object(n.a)(R,"config.frequency.options.type",v.FREQUENCY_DAILY),"getCustomFrequencyTypeFromTrigger"),y=o(R=>Object(n.a)(R,"config.frequency.options.every",1),"getCustomFrequencyRepeatEveryFromTrigger"),C=o(R=>Object(n.a)(R,"config.frequency.options.options.days",[]),"getCustomDaysOfWeekFromTrigger"),I=o(R=>Object(n.a)(R,"config.frequency.options.end_date",null),"getCustomEndDateFromTrigger"),j=o(R=>Object(n.a)(R,"config.frequency.options.end_num_runs",null),"getCustomEndNumRunsFromTrigger"),M=o(R=>!(I(R)||j(R)!==null),"getCustomEndNeverFromTrigger"),T=o((R,W,U,_)=>{let B=Object(t.a)(R);const z=Object(u.a)(W,U,_);if(B=Object(a.a)(B,"config.start",z.unix()),g(R)===v.FREQUENCY_MONTHLY_NTH_DAY){const $=Object(u.h)(W),Q=r()(W).day();B=Object(a.a)(B,"config.frequency.options.n",$),B=Object(a.a)(B,"config.frequency.options.weekday",Q)}return B},"updateTriggerStartDate"),D=o((R,W,U,_)=>{const B=Object(t.a)(R),z=Object(u.a)(W,U,_);return Object(a.a)(B,"config.start",z.unix())},"updateTriggerStartTime"),S=o((R,W)=>{let U=Object(t.a)(R);if(W===v.FREQUENCY_DOES_NOT_REPEAT)return Object(i.a)(U,"config.frequency");if(U=Object(a.a)(U,"config.frequency.type",W),U=Object(i.a)(U,"config.frequency.options"),W===v.FREQUENCY_CUSTOM)return U=Object(a.a)(U,"config.frequency.options.type",v.FREQUENCY_DAILY),U=Object(a.a)(U,"config.frequency.options.every",1),U;if(W===v.FREQUENCY_MONTHLY_NTH_DAY){const _=m(U),B=r.a.unix(_).format("YYYY-MM-DD"),z=r()(B).day(),L=Object(u.h)(B);return U=Object(a.a)(U,"config.frequency.options.n",L),U=Object(a.a)(U,"config.frequency.options.weekday",z),U}return U},"updateTriggerFrequencyType"),A=o((R,W)=>{let U=Object(t.a)(R);if(U=Object(a.a)(U,"config.frequency.options.options",{}),W===v.FREQUENCY_MONTHLY_NTH_DAY){const _=m(U),B=r.a.unix(_).format("YYYY-MM-DD"),z=r()(B).day(),L=Object(u.h)(B);return U=Object(a.a)(U,"config.frequency.options.type",W),U=Object(a.a)(U,"config.frequency.options.options.n",L),U=Object(a.a)(U,"config.frequency.options.options.weekday",z),U}return Object(a.a)(U,"config.frequency.options.type",W)},"updateTriggerCustomFrequencyType"),P=o((R,W)=>{const U=Object(t.a)(R),_=parseInt(W,10);return Object(a.a)(U,"config.frequency.options.every",_)},"updateTriggerCustomRepeatEvery"),N=o((R,W)=>{const U=Object(t.a)(R),_=C(U);return _.push(W),Object(a.a)(U,"config.frequency.options.options.days",_)},"addTriggerCustomDayOfWeek"),G=o((R,W)=>{const U=Object(t.a)(R),_=C(U),B=_.indexOf(W);return _.splice(B,1),Object(a.a)(U,"config.frequency.options.options.days",_)},"removeTriggerCustomDayOfWeek"),V=o(R=>{const W=Object(t.a)(R);return Object(a.a)(W,"config.frequency.options.end_date",null),Object(a.a)(W,"config.frequency.options.end_num_runs",null)},"updateTriggerCustomEndNever"),k=o((R,W)=>{let U=Object(t.a)(R);const _=m(U),B=r.a.unix(_).add(1,"hour").format("kk:mm"),z=Object(p.a)(`${W} ${B}`,{parseFormat:"YYYY-MM-DD k:mm",returnMoment:!0});return U=Object(a.a)(U,"config.frequency.options.end_num_runs",null),Object(a.a)(U,"config.frequency.options.end_date",Object(l.a)(z))},"updateTriggerCustomEndDate"),x=o((R,W)=>{const U=Object(t.a)(R);return Object(a.a)(U,"config.frequency.options.end_date",null),Object(a.a)(U,"config.frequency.options.end_num_runs",parseInt(W,10))},"updateTriggerCustomEndNumRuns"),H=o((R,W)=>{let U;const _=Object(h.D)(W);U=Object(a.a)(R,"config.timezone",_);const B=Object(u.e)(W);return U=Object(a.a)(R,"config.start",B),U},"updateImportedScheduledTrigger")},bp2J:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("nNoG"),c=e("C3vN"),r=e("djjd"),f=e("E3dU"),l=e("Zbwg"),p=e("mzsf");const h=new i.b("drafts");function u(b){let{entity:v,id:d,isEmail:m,isActive:g,isDisabled:O,matchData:E}=b;const y=Object(a.c)(M=>Object(f.d)(M,d)),C=Object(a.c)(f.a);if(m)return t.a.createElement("span",{className:"p-composer_page__destination_select_email_suggestion"},d);let I;Object(c.db)(v)&&O&&(I=h.t("From another organization"));let j;return Object(l.a)(d)&&y&&(j=Object(r.a)(C,y)),t.a.createElement(p.b,{model:v,isActive:g,isDisabled:O,secondaryContent:I,matchData:E,showTeamForLocalChannel:j})}o(u,"ComposerDestinationSelectOption"),u.displayName="ComposerDestinationSelectOption",s.a=u},bryr:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("0VB0"),t=e("rZ8V"),a=e("j77i"),i=e("m5HF"),c=e("mNau");function r(f,l){var p,h,u,b;const v=Object(i.b)(l),d=l==null||(p=l.clientTheme)===null||p===void 0?void 0:p.clientTheme,m=Object(c.a)(l==null||(h=l.prefs)===null||h===void 0?void 0:h.iaTheme),g=Object(t.F)(l),O=l==null||(u=l.prefs)===null||u===void 0||(b=u.user)===null||b===void 0?void 0:b.window_background_gradients;if(v&&v.column_bg&&(Object(a.x)(f,"channelSidebarBackground",v.column_bg),Object(a.x)(f,"teamSwitcherBackground",Object(n.f)(v.column_bg,20)),Object(a.x)(f,"textColor",v.text_color)),g&&(m!=null&&m.useCustomHex)?Object(a.x)(f,"customTheme",!0):Object(a.x)(f,"customTheme",!1),O?Object(a.x)(f,"windowGradient",!0):Object(a.x)(f,"windowGradient",!1),v&&d&&Object(t.m)(l)&&v.top_nav_bg){let E="#FFFFFF";if(d==="dark"&&(E="#1A1D21"),Object(t.G)(l)&&m){const y={...m,mode:d};Object(a.x)(f,"iaTheming",y)}else{const y=Object(n.m)(v.top_nav_bg,E,.125);Object(a.x)(f,"channelSidebarBackground",y),Object(a.x)(f,"iaTheming",void 0)}}v&&v.top_nav_bg&&Object(a.x)(f,"topNavBackground",v.top_nav_bg),v&&v.top_nav_text&&Object(a.x)(f,"topNavTextColor",v.top_nav_text)}o(r,"saveColorsToLocalConfig")},buun:function(w,s,e){"use strict"},c07z:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("i5Ig"),c=e("vd/O"),r=e("Pewd"),f=e("9ADk"),l=e("vfQU");function p(){return p=Object.assign||function(b){for(var v=1;v<arguments.length;v++){var d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(b[m]=d[m])}return b},p.apply(this,arguments)}o(p,"_extends");function h(b){let{children:v,className:d,hideBorder:m=!1,isDisabled:g=!1,isInvalid:O=!1,numMaxLines:E,numMinLines:y,refToForward:C,renderPrefix:I,renderSuffix:j,size:M="medium",hints:T=[],errors:D=i.a}=b;const S=I==null?void 0:I(),A=j==null?void 0:j(),P=Object(c.a)(D),N=Object(l.Z)();return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:Object(a.default)(d,"c-basic_container",`c-basic_container--size_${M}`,{"c-basic_container--bordered":!m,"c-basic_container--disabled":g,"c-basic_container--invalid":P||O,"c-basic_container--prefixed":!!S,"c-basic_container--suffixed":!!A}),"data-max-lines":E,"data-min-lines":y,ref:C},t.a.createElement("div",{className:Object(a.default)("c-basic_container__body",{"c-basic_container__body--zoom-adjustment":N>2})},S,v,A)),t.a.createElement(r.a,{className:"c-basic_container__subtext margin_bottom_0",errors:D}),T.map(G=>{let{id:V,message:k}=G;return k&&t.a.createElement(f.a,{className:"c-basic_container__subtext",key:V,id:V},k)}))}o(h,"BasicContainer"),h.displayName="BasicContainer";var u=s.a=t.a.forwardRef((b,v)=>t.a.createElement(h,p({refToForward:v},b)))},c15m:function(w,s,e){"use strict"},"cQ/D":function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("yIs4"),t=e("s4P+"),a=e("M+5u"),i=e("C3vN");const c=22,r=8;function f(l,p){const h=Object(t.b)();try{const b=Object(a.a)(l,{timeZone:Object(i.D)(p)||void 0,timeZoneOffset:Object(i.E)(p),do24hrTime:!0,returnMoment:!0,noTzFallback:!0}).hour();return Object(n.a)(b)&&(b>=c||b<r)}catch(u){return h.error("isDuringMemberNighttime invalid timezone error: ",u),!1}}o(f,"isDuringMemberNighttime")},cQoj:function(w,s,e){"use strict";e.d(s,"b",function(){return p}),e.d(s,"a",function(){return h});var n=e("9oTK"),t=e.n(n),a=e("Lgge"),i=e("dmdh"),c=e("P9LH"),r=e("B1w/"),f=e("lhZz"),l=e("twB+");const p=new l.a;let h=o(class fo{static getOrCreate(b){return p.get(b,(v,d)=>new fo({teamId:v}))}getSectionAnchorLink(b,v){var d=this;return Object(n.coroutine)(function*(){const m=Object(f.getStateByTeamId)(d.teamId),g=Object(r.a)(m,b);let O="";if(g){const E=Object(i.e)(m,g);O=Object(c.M)(E,d.teamId,"",v)}return a.a.resolve({url:O})})()}constructor({teamId:b}){this.teamId=b}},"QuipAnchorLinkProvider")},cfe2:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl");s.a=Object(n.createContext)({blocks:void 0,setBlocksStateGeneric:a.a,containerId:"",containerContext:void 0})},csgs:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("YUBf");function c(f){let{showBottomBorder:l,children:p}=f;return t.a.createElement(i.i,{className:Object(a.default)("p-video_recorder_header",{"p-video_recorder_header--bottom_border":l})},p)}o(c,"VideoRecorderHeader"),c.displayName="VideoRecorderHeader";var r=s.a=c},"ct/k":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("SQ0V"),t=e("G5NC"),a=e("lhZz"),i=e("7xYR"),c=e("bryr");const r=Object(n.c)("Loops through all booted workspaces to update the localConfig sidebar color in each",()=>{if(!Object(t.a)())return;const f=Object(a.getStateForClientStore)();Object(i.getBootedWorkspaces)(f).forEach(p=>{const h=Object(a.getStateByTeamId)(p);Object(c.a)(p,h)})});r.meta={name:"createThunk",key:"createThunksaveColorsToLocalConfigForAllWorkspaces",description:"Loops through all booted workspaces to update the localConfig sidebar color in each"},r.propTypes=null},"d+k3":function(w,s,e){"use strict";e.r(s),e.d(s,"EMOJI_MATCH_RX",function(){return d}),e.d(s,"getInsertData",function(){return O}),e.d(s,"getMatch",function(){return E}),e.d(s,"getResultFrecencyId",function(){return y}),e.d(s,"recordSelection",function(){return C});var n=e("gSGL"),t=e("BXkk"),a=e("EJqq"),i=e("nNoG"),c=e("TyLq"),r=e("y//8");const f=o((I,j)=>{if(!I)return null;const M=I.emojiBestNameMatchLocalized;if(!M)return"";const T=`:${M}:`;if(Object(c.a)(j)&&Object(r.a)(I.item)){const D=`skin-tone-${j}`,S=Object(a.m)({locale:Object(i.m)(),name:D});return`${T}:${S}:`}return T},"getLocalizedTextFromEmojiResult");var l=e("ntGM"),p=e("5IZy"),h=e("I8Au"),u=e("coh6"),b=e("GS6c"),v=e("ktUG");const d=/(^|\s|\S)([:|\uFF1A][^~@#$%^&*()=[\]{}\\|!?`;:\uFF1A",.<>/\s]*)$/i,m=o(I=>I==="+"||I==="-","isReactionPrefix"),g=o(I=>m(I)||!Object(h.a)(I),"isAllowedPrefix"),O=o(function(I){let{userSkinTone:j,shouldRenderEmojiAsText:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!I||!I.item)return null;Object(p.a)().track(v.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"emoji"}}});const T=Object(t.a)(I,j);return M?{text:f(I,j)}:{text:"",slackemoji:{text:T}}},"getInsertData"),E=o(function(I){let{isUserSolicited:j,locale:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Object(n.a)(I))return null;let T="",D=0;if(I.replace(d,(S,A,P,N)=>{g(A)&&(D=N+A.length,T=I.substr(D,P.length))}),!T||Object(l.a)().test(T))return null;if(!j){const S=D===1&&m(I[0]),A=M==="ja-JP"||S?2:3;if(T.length<A)return null}return{match:T,index:D}},"getMatch"),y=o(I=>I&&I.item&&I.item.id,"getResultFrecencyId"),C=o(I=>{let{clogger:j,query:M,result:T,results:D,teamId:S,useSearcherSessions:A}=I;const P={query:M,results:D,selectedItemId:T.item.id,source:"texty-autocomplete"};A?Object(b.a)({teamId:S,key:"texty-autocomplete"}).clogSearcherAccept({clogger:j,data:P}):Object(u.c)({clogger:j,data:P})},"recordSelection")},d0Vf:function(w,s,e){"use strict";e.d(s,"a",function(){return Be});var n=e("OZf9"),t=e("ifKl"),a=e("Muja"),i=e("TSHB"),c=e("NZ+B"),r=e("gSGL"),f=e("IzLi"),l=e("CpTu"),p=e("pguY"),h=e("Dpjh"),u=e("HA5h"),b=e("HJ27"),v=e("WIr4"),d=e("mM05"),m=e.n(d),g=e("lhZz"),O=e("NFsq"),E=e("lCmp"),y=e("SQ0V"),C=e("xwCZ"),I=e("E3dU"),j=e("GhjL"),M=e("pu3F"),T=e("9wgI"),D=e("C3vN"),S=e("E97Y"),A=e("DQNL");const P=Object(y.c)("Determine whether a mention id (member, broadcast, user group) is valid",function(fe,me){let{id:Se,channelId:je,threadTs:Ue,useChannelTagging:ve}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Se)return!1;const ge=me(),le=!1,he=Object(C.g)(ge,Se,{preferNonExistentToNull:!1,fetchIfMissing:le});if(he&&!Object(D.qb)(he))return!0;if(ve){const Ve=Object(I.d)(ge,Se,!1);if(Ve&&!Object(S.r)(Ve))return!0}const Te=Object(j.d)(ge,Se);if(Te&&!Object(A.v)(Te))return!0;if(Object(O.a)(M.L,Se)){if(Ue)return!1;const Re=Object(T.a)(ge,je||"");return Object(E.a)(Re,{id:Se})}return!1});P.meta={name:"createThunk",key:"createThunkgetIsValidMentionId",description:"Determine whether a mention id (member, broadcast, user group) is valid"};var N=P,G=e("WBOM"),V=e("Yauy"),k=e("52Wj"),x=e("s4P+"),H=e("zb/F"),R=e("MO4o"),W=e("pWPO"),U=e("2oNE"),_=e("/+/u"),B=e("Bw5p"),z=e("fujP"),L=e("yIs4");function $(fe){return fe?new m.a(fe.map(me=>{if(me.attributes){var Se,je;const Ue=Object(B.a)(me.attributes,["bold","italic","strike","code","link","underline","code-block","list","blockquote","slackmention","indent"]);let ve={...me,attributes:Object(z.a)(Ue)?void 0:Ue};return Object(L.a)((Se=ve.attributes)===null||Se===void 0?void 0:Se.indent)&&((je=ve.attributes)===null||je===void 0?void 0:je.indent)>=M.E&&(ve={...ve,attributes:{...ve.attributes,indent:M.E-1}}),ve}return me})):new m.a}o($,"cleanStyleFromHtmlDelta");var Q=e("yLDf"),K=e("zmn3"),Z=e("dYt1"),ne=e("F294"),F=e("qAkX"),J=e("H0/5");function X(fe,me){var Se,je,Ue;const ve=Object(K.a)(me==null?void 0:me.ops,Z.a),ge=Object(ne.a)(ve),le=Object(F.a)(ve);if(!(ge!=null&&ge.insert)||!(le!=null&&le.insert)||typeof(ge==null?void 0:ge.insert)!="string")return me;ge.insert=Object(J.a)(ge==null?void 0:ge.insert);const he=ge.insert.match(/^(\S+?)\s+?/);if(!he)return me;ge.insert=Object(J.a)(ge.insert.substring(he[0].length,ge.insert.length));const Re=he[1].match(/\S+?\./)?"ordered":"bullet",Ve=(Se=fe==null?void 0:fe.getAttribute("style"))===null||Se===void 0?void 0:Se.replace(/\n+?/g,""),Ee=(je=Ve==null?void 0:Ve.match(/level(\d+?)/))===null||je===void 0?void 0:je[1],Ae=(Ue=Ve==null?void 0:Ve.match(/margin:\s\din\s\din\s\din\s(\d[.]?([\d]+?)?)?in;/))===null||Ue===void 0?void 0:Ue[1];let Ge;return Ge=Ee?parseInt(Ee,10)-1:Ge,!Ge&&Ae&&le.insert.slice(-1)===`
`&&(le.insert=le.insert.substring(0,le.insert.length-1)),!Ge&&Ae&&(Ae==="0.25"||Ae==="0.5"?Ge=0:Ae==="0.75"||Ae==="1"?Ge=1:Ae==="1.25"||Ae==="1.5"?Ge=2:Ae==="1.75"||Ae==="2"?Ge=3:Ae==="2.25"||Ae==="2.5"?Ge=4:(Ae>="2.75"||Ae==="3")&&(Ge=5)),Ge=Ge&&Ge>=M.E?M.E:Ge,ve.push({insert:`
`,attributes:{list:Re,indent:Ge}}),new m.a(ve)}o(X,"matchMicrosoftWordContents");var Y=e("aVxC"),ae=e("BBys"),ee=e("XpTY");function q(fe){if(!fe||!fe.clipboardData)return null;const me=fe.clipboardData.getData("slack/texty");if(me)try{return{type:"slack/texty",contents:JSON.parse(me).ops}}catch{Object(x.b)().error("PASTE",`found ${me.length} chars in "slack/texty", but couldn't parse it`)}const Se=fe.clipboardData.getData("text/plain")?"text/plain":"Text",je=fe.clipboardData.getData(Se);return je?{type:Se,contents:[{insert:je}]}:null}o(q,"getContentsFromClipboard");var te=e("dA19"),de=e("0qhH"),se=e("fR2/"),re=e("htTJ"),oe=e("W8kP"),ce=e("0LZ2"),ue=e("/0zS"),Pe=e("Y/OQ"),Ye=e("25Vh");function $e(fe){const Se="	",je=(fe||"").split(`
`,5),Ue=[];for(let ge=0;ge<5&&je[ge]!==void 0;ge++){const le=je[ge].split(Se);Ue.push(le.length)}const ve=new Set(Ue);return Ue.length>0&&ve.size===1&&Ue[0]>1}o($e,"isTsv");function Ke(fe){return fe.nodeType===Node.ELEMENT_NODE&&fe.hasAttribute("data-stringify-type")}o(Ke,"hasStringifyTransforms");function qe(fe){let me=0;return Ke(fe)?me+=1:fe.hasChildNodes()?Object(n.a)(fe.childNodes,Se=>{me+=qe(Se)}):fe.textContent.trim()&&(me+=1),me}o(qe,"getNumContentfulChildren");const ct={getChannelId:t.a,getThreadTs:t.a,getUserHighlightWords:t.a,logger:{info:t.a},onPaste:t.a,onPasted:t.a,onPasteLimit:t.a,shouldFocusOnPaste:t.a,getCsvTsvPastingEnabled:t.a};function Be(fe){const me=Object(ce.a)(fe),Se=fe||window,je=me.import("modules/clipboard");return o(class extends je{unload(){this.quill.container.removeEventListener("copy",this.onCopy),this.quill.container.removeEventListener("cut",this.onCopy),Se.removeEventListener("paste",this.onGlobalPaste)}isPastingMultipleNodes(){return qe(this.quill.clipboard.container)>1}onCopy(ge){if(this.options.logger.info("COPY",`handling "${ge.type}" event`),ge.type==="cut"&&!this.quill.isEnabled()){ge.preventDefault(),ge.stopPropagation();return}const le=this.quill.getSelection();if(!le||le.length===0){this.options.logger.info("COPY","no selection");return}ge.preventDefault(),ge.stopPropagation();const he=this.correctCopyRange(le),Te=this.quill.getContents(he),Re=Object(W.a)({contents:Te.ops});if(this.options.logger.info("COPY",`found ${Re.length} chars`),Object(H.f)(ge,{"text/plain":Re,text:Re,"public.utf8-plain-text":Re,"slack/texty":JSON.stringify(Te)}),this.options.logger.info("COPY",`copied ${Re.length} chars`),ge.type==="cut"){const Ve=this.options.texty.getBlockFormat(le.index),Ee=this.options.texty.getBlockFormat(le.index+le.length-1);this.quill.deleteText(le.index,le.length),this.quill.setSelection(le.index),Ee&&!Object(a.a)(Ve,Ee)&&(Ve?this.quill.formatLine(le.index,1,Ve):this.quill.formatLine(le.index,1,Object(i.a)(Ee,()=>!1))),this.options.logger.info("COPY","deleted selection")}}onGlobalPaste(ge){this.options.shouldFocusOnPaste()&&(Object(R.a)(Se.document.activeElement)||this.quill.hasFocus()||ge.defaultPrevented||(this.quill.focus(),this.onPaste(ge)))}onPaste(ge){if(!(ge.defaultPrevented||!this.quill.isEnabled()||!this.quill.getSelection())){this.hasFixedPastedNodes=!1;try{if(this.options.onPaste(ge))return;this.handleOnPaste(ge)}catch(he){const Te=he instanceof Error?he.message||he.description:JSON.stringify(he);Object(x.b)().error(`Error on paste: ${Te}`)}}}shouldSkipOnPaste(ge){if(!ge||!ge.clipboardData||ge.defaultPrevented||!this.quill.isEnabled())return!0;const le=ge.clipboardData.getData("text/plain")?"text/plain":"Text";return!ge.clipboardData.getData(le)&&!this.options.useCustomMatchers?(ge&&ge.preventDefault&&ge.preventDefault(),!0):!1}handleOnPaste(ge){if(!ge)return;function le(zt){return zt.map(kt=>{const on=kt.attributes?Object(i.a)(kt.attributes,be=>Object(c.a)(be)?be:!!be):{};if(!kt.insert)return{...kt,attributes:{...on}};let _t;return Object(r.a)(kt.insert)?_t=kt.insert.length:Object(f.a)(kt.insert)&&(_t=Object.keys(kt.insert).join(",")),{insert:_t,attributes:{...on}}})}if(o(le,"redactDelta"),this.shouldSkipOnPaste(ge))return;const he=ge.clipboardData.getData("slack/texty");if(this.options.useCustomMatchers&&!he){super.onPaste(ge),setTimeout(this.options.onPasted,0);return}const Te=this.options.texty,Re=Te&&Te.getSelection(),Ve=Re?Te&&Te.getFormats(Re.index):{},Ee=Te.getLineAtCursor(),Ae=this.options.useWysiwyg&&!this.options.usePlainTextMode&&!Ve["code-block"],Ge=this.quill.getContents(Re),Ze=Object(l.a)(Ge.ops,zt=>Object(te.a)(zt)||Object(se.a)(zt)),ze=Object(Pe.a)(Ge.ops),lt=Object(ue.a)({input:ze}),tt=lt&&lt.length===1&&lt[0].url===lt[0].text&&lt[0].text===ze,{pastedDelta:Ot,type:Ct,hasExternalHtml:St}=this.getPastedDelta(ge,{acceptExternalHtml:Ae,acceptSingleUrl:this.options.useWysiwyg&&this.options.supportsAnchorText&&!this.options.usePlainTextMode&&Re.length>0&&!Ve.code&&!Ve["code-block"]&&!Ze&&!tt});if(!St&&(!Ot||!(Ot!=null&&Ot.length()))){ge.preventDefault();return}if(St||ge.preventDefault(),!he&&St)this.container.focus(),setTimeout(()=>{this.convertActionIsExternalHtml=!0;const zt=this.convert();let kt;try{kt=$(zt)}catch{Object(x.b)().error(new Error("External HTML cleaning error.").stack),kt=zt}const on=Object(Q.a)({delta:kt});this.convertActionIsExternalHtml=!1;const _t=this.preparePastedDelta({pastedDelta:on,type:Ct,formats:Ve,lineAtCursor:Ee});if(_t&&!this.options.onPasteLimit(ge,_t)){try{this.insertPastedDelta(_t)}catch(be){throw Object(x.b)().error(`External HTML paste error (redacted). HTML delta: ${JSON.stringify(le(on))}; Prepared delta: ${JSON.stringify(le(_t))}`),be}this.maybeShowMarkdownToast({preparedDelta:_t,clipboardHasTextyContents:he}),setTimeout(this.options.onPasted,0)}},1);else{const zt=this.quill.getContents(),kt=this.preparePastedDelta({pastedDelta:Ot,type:Ct,formats:Ve,lineAtCursor:Ee});if(!kt||this.options.onPasteLimit(ge,kt))return;const on=kt.ops[0];if(Ct==="text/uri-list"&&on&&Object(de.a)(on)?this.quill.formatText(Re.index,Re.length,"link",kt.ops[0].insert):this.insertPastedDelta(kt),this.options.getCsvTsvPastingEnabled()){const _t=Object(Pe.a)(Ot.ops);if($e(_t)){const ot=zt.compose(new m.a().retain(Re.index).delete(Re.length));this.mayBeShowCsvTsvToast(_t,ot),setTimeout(this.options.onPasted,0);return}}this.maybeShowMarkdownToast({preparedDelta:kt,clipboardHasTextyContents:he}),setTimeout(this.options.onPasted,0)}}mayBeShowCsvTsvToast(ge,le){const{showCsvTsvPasteToast:he}=this.options;he&&he({contentType:"tsv",openCsvTsvSnippetDialog:()=>this.options.openCsvTsvSnippetDialog(ge,le),clearText:()=>this.quill.setContents(new m.a().insert(`
`))})}getPastedDelta(ge){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{acceptExternalHtml:!0,acceptSingleUrl:!1};if(!ge)return{pastedDelta:new m.a,type:"text/plain",hasExternalHtml:!1};const he=le.acceptExternalHtml,Te=le.acceptSingleUrl,{type:Re,contents:Ve}=q(ge)||{};if(!Ve||!Ve.length)return{pastedDelta:new m.a,type:"text/plain",hasExternalHtml:!1};let Ee=new m.a(Ve),Ae=Re;const Ge=Ae==="text/plain"||Ae==="Text"||Ae==="slack/texty";let Ze=!1;if(Te&&Ge)if(Ae==="slack/texty"){if(Ve&&Ve.length===1&&Object(re.a)(Ve[0])&&Ve[0].insert===Ve[0].attributes.link)return{pastedDelta:Ee,type:"text/uri-list",hasExternalHtml:Ze}}else{const Ot=Object(ue.a)({input:Ve[0].insert});if(Ot.length===1&&Ot[0].url===Ot[0].text&&Ot[0].text===Ve[0].insert)return{pastedDelta:Ee,type:"text/uri-list",hasExternalHtml:Ze}}if(Ae==="slack/texty")return{pastedDelta:Ee,type:Ae,hasExternalHtml:Ze};const ze=ge.clipboardData.getData("text/html"),lt=ze&&ze.indexOf("data-stringify-")!==-1,tt=ze&&ze.match(/<\/table>(?:\s*<\/body>\s*<\/html>)?\s*$/);if(he&&ze&&!lt&&!tt){const Ot=Object(ue.a)({input:Ve[0].insert});if(Ge&&Ot.length===1&&Ot[0].url===Ot[0].text&&Ot[0].text===Ve[0].insert&&RegExp(`^<html>\\s*<body>\\s*<!--StartFragment--><a href=("|')${Object(p.a)(Object(h.a)(Ve[0].insert))}("|')>.+<\\/a><!--EndFragment-->\\s*<\\/body>\\s*<\\/html>\\s*$`).test(ze))return{pastedDelta:Ee,type:Ae,hasExternalHtml:!1};Ze=!0,Ae="text/html",Ee=new m.a}else if(lt){const Ot=this.convert(ze);Ot&&(Ee=Object(Q.a)({delta:Ot}),Ae="text/html")}return{pastedDelta:Ee,type:Ae,hasExternalHtml:Ze}}preparePastedDelta(){let{pastedDelta:ge,type:le="",formats:he={},lineAtCursor:Te}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(Ye.a)(ge,le,he,Te,this.options,this.getIsValidMentionIdDispatched,Re=>{this.blockquote=Re},this.quill)}insertPastedDelta(ge){const le={contents:ge.ops},he=!0,Te="user",Re=this.options.useWysiwyg&&!this.options.usePlainTextMode&&this.matchBlockFormat;this.options.texty.insertContentsAtCursor(le,he,Te,{matchBlockFormat:Re})}maybeShowMarkdownToast(ge){let{preparedDelta:le,clipboardHasTextyContents:he}=ge;!this.options.showMarkdownPasteToast||this.options.usePlainTextMode||he||Object(Y.a)(le).length()===0||this.options.showMarkdownPasteToast({applyFormatting:()=>{[ae.a,Y.a].forEach(Re=>{const Ve=this.quill.getContents(),Ee=Re(Ve);this.quill.updateContents(Ee)})}})}correctCopyRange(ge){if(!ge||!this.options.useWysiwyg)return ge;const le=ge.index+ge.length,he=this.quill.getContents(le,1);if(Object(ee.b)(he)){this.options.logger.info("COPY","extending selection range to include block formatting char");const Te=ge.length+1;return{index:ge.index,length:Te}}return ge}constructor(ge,le){super(ge,le),this.options=Object(u.a)({},ct,le),this.hasFixedPastedNodes=!1;const he=this.options.teamId,Te=Object(g.getStoreInstanceByTeamId)(he);this.convertActionIsExternalHtml=!1,this.matchBlockFormat=!0,this.addMatcherSafely=(Re,Ve)=>{let Ee;if(Object(r.a)(Re))try{Se.document.querySelectorAll(Re)}catch(Ae){Ee=Ae,this.options.logger.error("QUILL MATCHERS",`You have an unsafe matcher in PlainClipboardModule: "${Re}"`)}Ee||this.addMatcher(Re,Ve)},this.getIsValidMentionIdDispatched=Re=>{let{id:Ve}=Re;return Object(g.dispatchForTeamId)(he,N({id:Ve,channelId:this.options.getChannelId(),threadTs:this.options.getThreadTs(),useChannelTagging:this.options.useChannelTagging}))},Object(v.a)(this,["onCopy","onGlobalPaste"]),ge.container.addEventListener("copy",this.onCopy),ge.container.addEventListener("cut",this.onCopy),Se.addEventListener("paste",this.onGlobalPaste),this.addMatcherSafely("p.MsoListParagraphCxSpFirst",X),this.addMatcherSafely("p.MsoListParagraphCxSpMiddle",X),this.addMatcherSafely("p.MsoListParagraphCxSpLast",X),this.addMatcherSafely("*",(Re,Ve)=>{if(this.hasFixedPastedNodes)return Ve;this.hasFixedPastedNodes=!0,Object(b.a)(this.quill.clipboard.container.childNodes,Ge=>qe(Ge)?!1:(this.quill.clipboard.container.removeChild(Ge),!0));const Ee=this.quill.clipboard.container.querySelectorAll('[data-stringify-type="replace"]'),Ae=this.isPastingMultipleNodes();return Object(n.a)(Ee,Ge=>{if(Ge.hasAttribute("data-stringify-requires-siblings")&&!Ae)return;const Ze=Ge.getAttribute("data-stringify-text");let ze;Ge.classList.contains("c-message__sender")?(ze=Se.document.createElement("b"),ze.appendChild(Se.document.createTextNode(Ze))):ze=Se.document.createTextNode(Ze),Ge.parentNode.replaceChild(ze,Ge)}),Ve}),this.addMatcherSafely("img",()=>new m.a),this.addMatcherSafely("[data-stringify-ignore]",()=>new m.a),this.addMatcherSafely("[data-stringify-link]",(Re,Ve)=>{if(this.convertActionIsExternalHtml||!this.options.supportsAnchorText)return Ve;const Ee=new m.a().insert(Re.textContent,{link:Re.getAttribute("data-stringify-link")});return this.options.usePlainTextMode&&Object(re.c)(Ee.ops[0])?new m.a().insert(Re.getAttribute("data-stringify-link")):Ee}),this.addMatcherSafely(Node.TEXT_NODE,(Re,Ve)=>this.convertActionIsExternalHtml||this.options.useCustomMatchers?Ve:new m.a().insert(Re.textContent)),this.addMatcherSafely("span",(Re,Ve)=>!(Re!=null&&Re.style)||!this.convertActionIsExternalHtml?Ve:Re.style.textDecorationLine==="line-through"||Re.style.textDecoration==="line-through"?Ve.compose(new m.a().retain(Ve.length(),{strike:!0})):Ve),this.options.useWysiwyg&&this.addMatcherSafely("span.inline-code",(Re,Ve)=>this.convertActionIsExternalHtml?Ve.compose(new m.a().retain(Ve.length(),{code:!0})):Ve),this.addMatcherSafely("[data-stringify-indent], li[data-stringify-border]",(Re,Ve)=>{if(Object(oe.a)(Ve))return Ve;const Ee=Re.getAttribute("data-stringify-indent"),Ae=parseInt(Ee,10)||0;let Ge=0;const Ze=Re.getAttribute("data-stringify-border");Ge=parseInt(Ze,10)||0;const ze=this.quill.getSelection(),lt=ze&&this.quill.getFormat(ze);return lt!=null&&lt.blockquote&&(Ge=1),Ve.compose(new m.a().retain(Ve.length()-1).retain(1,{indent:Ae,border:Ge}))}),this.addMatcherSafely('[data-stringify-type="pre"]',(Re,Ve)=>{if(Object(oe.a)(Ve))return Ve;let Ee=0;const Ae=Re.getAttribute("data-stringify-border");Ee=parseInt(Ae,10)||0;let Ge=new m.a;return Ve.forEach(Ze=>{Ge=Ge.insert(Ze.insert||"",{...Ze.attributes,border:Ee})}),Ge}),this.addMatcherSafely('blockquote[data-stringify-border="1"]',(Re,Ve)=>{if(Object(oe.a)(Ve))return Ve;let Ee=0;const Ae=Re.getAttribute("data-stringify-border");Ee=parseInt(Ae,10)||0;let Ge=new m.a;return Ve.forEach(Ze=>{Ge=Ge.insert(Ze.insert||"",{...Ze.attributes,border:Ee})}),Ge}),this.addMatcherSafely('blockquote[type="cite"]',(Re,Ve)=>{if(Object(oe.a)(Ve))return Ve;const Ee=this.quill.getSelection(),Ae=Ee&&this.quill.getFormat(Ee);let Ge=new m.a;return Ae!=null&&Ae.blockquote&&!(Ae!=null&&Ae.border)?(this.quill.format("blockquote",!1,"silent"),Ve.forEach(Ze=>{Ge=Ge.insert(Ze.insert||"",{...Ze.attributes,border:1})}),Ge):Ve}),this.addMatcherSafely('[data-stringify-type="emoji"]',Re=>{const Ve=Re.getAttribute("data-stringify-emoji");return new m.a().insert({slackemoji:{text:Ve}})}),this.addMatcherSafely(".c-message_kit__gutter__left",(Re,Ve)=>Re.querySelector(".p-message_pane_message__compact_timestamp--adjacent")?new m.a().insert(`${Re.textContent} `):Ve),this.addMatcherSafely(".c-message_kit__message",(Re,Ve)=>Re.querySelector(".p-message_pane_message__compact_timestamp--adjacent")?Ve:new m.a().insert(`
`).concat(Ve)),this.addMatcherSafely(".c-message_actions__container",()=>new m.a),this.addMatcherSafely("#unreadDivider",()=>new m.a),this.addMatcherSafely('[data-stringify-type="paragraph-break"]',()=>new m.a().insert(`

`)),this.addMatcherSafely('[data-stringify-type="pre"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new m.a().insert(`
`)),this.addMatcherSafely('[data-stringify-type="unordered-list"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new m.a().insert(`
`)),this.addMatcherSafely('[data-stringify-type="ordered-list"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new m.a().insert(`
`)),this.addMatcherSafely('[data-stringify-type="quote"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new m.a().insert(`
`)),this.addMatcherSafely('[data-stringify-type="mention"]',Re=>{const Ve=Re.getAttribute("data-stringify-id"),Ee=Re.getAttribute("data-stringify-label");return new m.a().insert(Ee,{slackmention:Object(U.a)(Ve,Ee,this.options.getUserHighlightWords())})}),this.addMatcherSafely('a[data-stringify-type="channel"]',Re=>{if(this.options.useChannelTagging){const Ve=Re.getAttribute("data-channel-id"),Ee=Re.getAttribute("data-channel-name");return Ee?new m.a().insert(Ee,{slackmention:Object(U.a)(Ve,Ee)}):new m.a().insert(Re.textContent)}return new m.a().insert(Re.textContent)}),this.addMatcherSafely("a",(Re,Ve)=>{if(!this.options.supportsAnchorText)return Ve;const Ee=Re.getAttribute("data-stringify-type"),Ae=Re.textContent;if(Ee==="mention"||Ee==="channel")return Ve;const Ge=Re.getAttribute("href");if(this.convertActionIsExternalHtml){let ze;try{ze=new URL(Ge)}catch{}if(!ze||!ze.protocol||ze.protocol.toLowerCase()==="javascript:")return new m.a().insert(Ae)}const Ze=Te&&Te.getState();if(Ae.match(/^[#\uFF03][^~`!@#\uFF03$%^&*()+=[\]{}\\|;:'",.<>/?\s]*$/i)){const ze=Object(G.e)(Ze,Ge);if(ze&&ze.type==="message"&&!ze.ts){const lt=Object(I.d)(Ze,ze.channelId);if(lt&&Object(V.s)(lt)===Ae.substr(1))return new m.a().insert(Ae)}}if(Ae.match(/^(?:@|\uFF20)[^\n@\uFF20]*$/)){const ze=Object(G.e)(Ze,Ge);if(ze&&ze.type==="member"){const lt=Object(C.g)(Ze,ze.memberId),tt=Object(k.b)(lt);return lt&&tt===Ae.substr(1)?new m.a().insert(Ae,{slackmention:Object(_.a)(lt,this.options.getUserHighlightWords())}):new m.a().insert(Ae)}}return Ve})}},"PlainClipboard")}o(Be,"getPlainClipboardModule");const pe=Be(window)},d5BB:function(w,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"k",function(){return f}),e.d(s,"l",function(){return p}),e.d(s,"G",function(){return h}),e.d(s,"H",function(){return u}),e.d(s,"F",function(){return v}),e.d(s,"u",function(){return d}),e.d(s,"z",function(){return g}),e.d(s,"E",function(){return O}),e.d(s,"w",function(){return E}),e.d(s,"s",function(){return y}),e.d(s,"v",function(){return C}),e.d(s,"t",function(){return I}),e.d(s,"d",function(){return j}),e.d(s,"c",function(){return M}),e.d(s,"o",function(){return T}),e.d(s,"x",function(){return D}),e.d(s,"y",function(){return S}),e.d(s,"A",function(){return A}),e.d(s,"B",function(){return P}),e.d(s,"I",function(){return N}),e.d(s,"C",function(){return G}),e.d(s,"J",function(){return V}),e.d(s,"a",function(){return _}),e.d(s,"j",function(){return B}),e.d(s,"r",function(){return z}),e.d(s,"n",function(){return L}),e.d(s,"h",function(){return $}),e.d(s,"D",function(){return Q}),e.d(s,"q",function(){return K}),e.d(s,"p",function(){return Z}),e.d(s,"g",function(){return ne}),e.d(s,"e",function(){return J}),e.d(s,"f",function(){return X}),e.d(s,"i",function(){return Y}),e.d(s,"m",function(){return ee});var n=e("JaxT"),t=e("CxxK"),a=e("hhZA"),i=e("o37S");const c={Default:"default",Pending:"pending",Accepted:"accepted",Inactive:"inactive",Rejected:"rejected"},r=o(q=>q.invite.date_created>0,"hasInviteCreation"),f=o(q=>r(q)?q.invite.date_created:void 0,"getInviteCreation"),l=o(q=>q.invite.date_invalid>0,"hasInviteExpiration"),p=o(q=>l(q)?q.invite.date_invalid:void 0,"getInviteExpiration"),h=o(q=>q.status===n.a.Expired||q.status===n.a.Sent&&q.invite.date_invalid&&q.invite.date_invalid<Object(i.a)(Date.now()),"isInviteExpired"),u=o(q=>q.status===n.a.Revoked,"isInviteRevoked");var b;const v=o(q=>{var te;return q.invite.date_created<((b=q==null||(te=q.channel)===null||te===void 0?void 0:te.unlinked)!==null&&b!==void 0?b:0)},"isInviteCreatedBeforeDisconnect"),d=o((q,te)=>{var de;const se=(de=q.acceptances)===null||de===void 0?void 0:de.find(re=>{var oe;return(re==null||(oe=re.accepting_user)===null||oe===void 0?void 0:oe.id)===(te==null?void 0:te.id)});return se?se.date_accepted<q.invite.date_created:!1},"isAcceptanceForOutdatedInvite"),m=o(q=>!q.invite.recipient_email,"isInviteMultiUse"),g=o(q=>q.status===n.a.Sent&&q.invite.date_invalid===0,"isDmLinkInviteMultiUse"),O=o(q=>!h(q)&&!u(q),"isInviteActive"),E=o(q=>q.approval_status===a.a.Rejected,"isAcceptanceRejected"),y=o(q=>q.approval_status===a.a.Approved,"isAcceptanceApproved"),C=o(q=>q.approval_status===a.a.PendingApproval,"isAcceptancePendingApproval"),I=o(q=>q.approval_status===a.a.Expired||C(q)&&q.date_invalid&&q.date_invalid<Object(i.a)(Date.now()),"isAcceptanceExpired"),j=o((q,te)=>{var de;if(!C(te))return{pendingApproval:[],approved:[],rejected:[]};const se=ne(q,te),re=J(q,te);if(!se||!re)return{pendingApproval:[],approved:[],rejected:[]};const oe=[],ce=[],ue=[],Pe={},Ye={};return(de=te.reviews)===null||de===void 0||de.forEach($e=>{$e.type==="approval"&&(Pe[$e.reviewing_team.id]=!0),$e.type==="rejection"&&(Ye[$e.reviewing_team.id]=!0)}),[se,re].forEach($e=>{Pe[$e.id]?oe.push($e):Ye[$e.id]?ce.push($e):ue.push($e)}),{pendingApproval:ue,approved:oe,rejected:ce}},"getAcceptanceTeamsStatus"),M=o(q=>{var te;if(C(q))return;const de=(te=q.reviews)===null||te===void 0?void 0:te.find(se=>se.type==="rejection");return de?de.reviewing_team:void 0},"getAcceptanceRejectingTeam"),T=o(q=>q.invite_type,"getInviteType"),D=o(q=>q.invite_type==="channel","isChannelInvite"),S=o(q=>q.invite_type==="im","isDmInvite"),A=o(q=>!!q.invite.recipient_email,"isEmailInvite"),P=o(q=>!!q.invite.recipient_user_id,"isExternalMemberInvite"),N=o(q=>!A(q),"isLinkInvite"),G=o(q=>(q==null?void 0:q.direction)===t.b.Incoming,"isIncomingInvite"),V=o(q=>(q==null?void 0:q.direction)===t.b.Outgoing,"isOutgoingInvite"),k=o(q=>{if(m(q))return V(q)&&O(q);const te=q.acceptances&&q.acceptances[0];return V(q)&&O(q)&&(!te||C(te)&&!I(te))},"canRevokeInvite"),x=o(q=>V(q)&&N(q)&&O(q),"canCopyInviteLink"),H=o(q=>{var te;return G(q)&&S(q)&&L({invite:q,acceptance:(te=q.acceptances)===null||te===void 0?void 0:te[0]})===c.Default&&!!q.invite.sig},"canAcceptDmInvite"),R=o((q,te)=>{var de;return!(q==null||(de=q.channel)===null||de===void 0)&&de.unlinked?!v(q):!z({invite:q,user:te})},"canReAcceptChannelInvite"),W=o((q,te)=>{var de;const se=L({invite:q,acceptance:(de=q.acceptances)===null||de===void 0?void 0:de[0]});return G(q)&&D(q)&&(se===c.Default||(se===c.Pending||se===c.Accepted)&&R(q,te))&&!!q.invite.sig},"canAcceptChannelInvite"),U=o((q,te)=>{var de;if(!G(q))return!1;const se=L({invite:q,acceptance:(de=q.acceptances)===null||de===void 0?void 0:de[0]});return S(q)?se===c.Default:se===c.Default||(se===c.Pending||se===c.Accepted)&&R(q,te)},"canIgnoreInvite"),_={AcceptChannel:"accept-channel",AcceptDm:"accept-dm",IgnoreInvite:"ignore-invite",CopyLink:"copy-link",Revoke:"revoke"},B=o((q,te)=>{const de=[];return x(q)&&de.push(_.CopyLink),k(q)&&de.push(_.Revoke),U(q,te)&&de.push(_.IgnoreInvite),H(q)&&de.push(_.AcceptDm),W(q,te)&&de.push(_.AcceptChannel),de},"getInviteActions");function z(q){let{invite:te,user:de}=q;var se;let re=!1;return(se=te.acceptances)===null||se===void 0||se.forEach(oe=>{oe.accepting_user.id===de.id&&(re=!0)}),re}o(z,"hasUserAlreadyAcceptedInvite");function L(q){let{invite:te,acceptance:de}=q,se=c.Default;return de?E(de)?se=c.Rejected:y(de)?se=c.Accepted:I(de)?se=c.Inactive:C(de)&&(se=c.Pending):(h(te)||u(te))&&(se=c.Inactive),se}o(L,"getInviteOverallStatus");function $(q){return q.invite.introducing_user}o($,"getIntroducingUser");function Q(q){var te;return!!(!((te=q.invite)===null||te===void 0)&&te.introducing_user)}o(Q,"isIntroductionInvite");function K(q){return q.invite.inviting_user}o(K,"getInvitingUser");function Z(q){return q.invite.inviting_team}o(Z,"getInvitingTeam");function ne(q,te){return V(q)?Z(q):te.accepting_team}o(ne,"getHomeTeam");function F(q,te){return V(q)?K(q):te.accepting_user}o(F,"getHomeTeamMember");function J(q,te){return V(q)?te.accepting_team:q.invite.inviting_team}o(J,"getAwayTeam");function X(q,te){return V(q)?te.accepting_user:q.invite.inviting_user}o(X,"getAwayTeamMember");function Y(q,te){const de=X(q,te);return`${q.invite.id}-${de.id}`}o(Y,"getInviteAcceptanceUniqueId");function ae(q){return q.invite.message}o(ae,"getInviteMessage");function ee(q){var te;return q==null||(te=q.invite)===null||te===void 0?void 0:te.message_blocks}o(ee,"getInviteMessageBlocks")},"dA+b":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("ifKl"),c=e("WIr4"),r=e("qDEp"),f=e("oEDn");function l(){return l=Object.assign||function(u){for(var b=1;b<arguments.length;b++){var v=arguments[b];for(var d in v)Object.prototype.hasOwnProperty.call(v,d)&&(u[d]=v[d])}return u},l.apply(this,arguments)}o(l,"_extends");let p=o(class extends n.Component{setTitleRef(b){this.titleRef=b}focus(){this.titleRef&&this.titleRef.focus()}renderButton(b){let{icon:v,className:d,...m}=b;const g=Object(a.default)("c-calendar_view_header__stepper_btn",d);return t.a.createElement(r.d,l({className:g},m),t.a.createElement(f.a,{type:v}))}renderLeftArrow(){return this.props.onLeftArrowClick?this.renderButton({icon:"chevron-large-left",onClick:this.props.onLeftArrowClick,className:"c-calendar_view_header__left_stepper_btn","aria-label":this.props.leftArrowLabel,"data-qa":"cal_header_prev_btn",disabled:this.props.leftArrowIsDisabled}):null}renderRightArrow(){return this.props.onRightArrowClick?this.renderButton({icon:"chevron-large-right",onClick:this.props.onRightArrowClick,className:"c-calendar_view_header__right_stepper_btn","aria-label":this.props.rightArrowLabel,"data-qa":"cal_header_next_btn",disabled:this.props.rightArrowIsDisabled}):null}renderTitle(){const{title:b,titleLabel:v,onTitleClick:d}=this.props;return d?t.a.createElement(r.d,{className:"c-button-unstyled c-calendar_view_header__title_btn","data-qa":"cal_header_title",onClick:d,"aria-label":v||b,ref:this.setTitleRef},b,t.a.createElement(f.a,{type:"chevron-down"})):b}render(){return t.a.createElement("div",{className:"c-calendar_view_header",onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderLeftArrow(),t.a.createElement("span",{className:"c-calendar_view_header__title","data-qa":"calendar_view_header_title"},this.renderTitle()),this.renderRightArrow())}constructor(b){super(b),this.titleRef=null,Object(c.a)(this,["setTitleRef"])}},"ViewHeader");p.displayName="ViewHeader",p.defaultProps={rightArrowIsDisabled:!1,leftArrowIsDisabled:!1,onFocus:i.a,onBlur:i.a};var h=s.a=p},"dS/7":function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("m5Yc"),t=e("EJqq"),a=e("nNoG"),i=e("yrot"),c=e("HJKc");function r(f,l){let{state:p,localize:h}=l;if(!f||f.type!==n.b.EMOJI)return"";const u=f.skinTone||f.skin_tone,b=f.unicode;let v;return!b&&u?v=`:${f.name}::skin-tone-${u}:`:!u&&!b?v=`:${f.name}:`:b&&Object(c.a)(b)&&(v=`:${Object(i.i)(p,b)}:`),h?Object(t.i)({state:p,locale:Object(a.m)(),name:v})||"":v}o(r,"getEmojiElementAsText")},dSGR:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n="canAccessClientV2"},dYsn:function(w,s,e){"use strict";e.d(s,"c",function(){return p}),e.d(s,"b",function(){return h}),e.d(s,"a",function(){return u});var n=e("ZKjC"),t=e("UIhb"),a=e("6CnZ"),i=e("E3dU"),c=e("9Gfp"),r=e("xcHN"),f=e("+l5E"),l=e("UOL+");const p=Object(n.b)(b=>{var v,d;return(v=Object(l.a)(b))===null||v===void 0||(d=v.undoSendMessage)===null||d===void 0?void 0:d.messagesToDelete});p.meta={name:"createSelector",key:"createSelectorgetMessagesToDelete",description:b=>{var v,d;return(v=Object(l.a)(b))===null||v===void 0||(d=v.undoSendMessage)===null||d===void 0?void 0:d.messagesToDelete}};const h=Object(n.b)(b=>{var v,d;return(v=Object(l.a)(b))===null||v===void 0||(d=v.undoSendMessage)===null||d===void 0?void 0:d.messageEligibleForUnsending});h.meta={name:"createSelector",key:"createSelectorgetMessageEligibleForUnsending",description:b=>{var v,d;return(v=Object(l.a)(b))===null||v===void 0||(d=v.undoSendMessage)===null||d===void 0?void 0:d.messageEligibleForUnsending}};const u=Object(n.b)((b,v)=>{let{channelId:d,threadTs:m}=v;if(!b||!d)return null;const g=Object(c.a)(b);if(!Object(i.d)(b,d))return null;const E=m?Object(r.c)(d,m):d,{timestamps:y}=Object(a.j)(b,E,null),C=y.map(j=>Object(t.b)(b,d,j)).filter(j=>m?!Object(f.gb)(j):!Object(f.fb)(j)),I=Object(f.s)(C,g);return I||null});u.meta={name:"createSelector",key:"createSelectorgetLastMessageInChannelByCurrentUser",description:(b,v)=>{let{channelId:d,threadTs:m}=v;if(!b||!d)return null;const g=Object(c.a)(b);if(!Object(i.d)(b,d))return null;const E=m?Object(r.c)(d,m):d,{timestamps:y}=Object(a.j)(b,E,null),C=y.map(j=>Object(t.b)(b,d,j)).filter(j=>m?!Object(f.gb)(j):!Object(f.fb)(j)),I=Object(f.s)(C,g);return I||null}}},dZlw:function(w,s,e){"use strict";e.d(s,"a",function(){return m});var n=e("/1FC"),t=e("BeL+"),a=e("xWuZ"),i=e("ktUG"),c=e("4WY+"),r=e("eHe6"),f=e("oonp"),l;(function(g){g.QUOTED="QUOTED",g.LIST_ITEM="LIST_ITEM",g.CODE_BLOCK="CODE_BLOCK"})(l||(l={}));function p(g){const O=[];return Object(c.b)(g)&&O.push({format:l.LIST_ITEM,formatQualities:Object(c.a)(g)}),Object(r.a)(g)&&O.push({format:l.CODE_BLOCK,formatQualities:{}}),Object(f.b)(g)&&O.push({format:l.QUOTED,formatQualities:{}}),O}o(p,"getBlockFormatsOfLine");function h(g){return g.map(O=>p(O))}o(h,"getBlockFormatsOfLines");var u=e("kiyg");function b(g){var O,E;return g.format===l.CODE_BLOCK?i.MsgFormattingInputFormat.CODE_BLOCK:g.format===l.QUOTED?i.MsgFormattingInputFormat.BLOCKQUOTE:g.format===l.LIST_ITEM&&(!((O=g.formatQualities)===null||O===void 0)&&O.isOrdered)?i.MsgFormattingInputFormat.ORDERED_LIST:g.format===l.LIST_ITEM&&!(!((E=g.formatQualities)===null||E===void 0)&&E.isOrdered)?i.MsgFormattingInputFormat.BULLET_LIST:null}o(b,"getClogBlockFormatFromLineFormat");function v(g){return h(g).map(y=>{const C=[];return y.forEach(I=>{const j=b(I);j&&C.push(j)}),C})}o(v,"getClogBlockFormatsForLines");function d(g){return!g||!Object(n.a)(g)||(g==null?void 0:g.length)===0?[]:Object(t.a)(Object(a.a)(v(g)))}o(d,"getDistinctClogBlockFormatsForLines");function m(g,O){if(!g||!O)return[];const E=Object(u.a)(g,O);return d(E)}o(m,"getDistinctClogBlockFormatsForRange")},daiH:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("q1tI"),t=e.n(n),a=e("ny0b");let i=null;var r=o(()=>(i===null&&(i=document&&document.documentElement&&document.documentElement.hasAttribute("data-primer")),i),"isPrimer"),f=e("F0YV"),l=e("pFNT"),p=e("Grbt");class h extends n.PureComponent{render(){var b,v;const{className:d,team:m,user:g,size:O,allowDefaultProfileImage:E,fallbackUserIcon:y,fallbackUserIcon2x:C,isInteractive:I,hideUserIcon:j}=this.props,M=!!(!((b=g.profile)===null||b===void 0)&&b.is_custom_image),T=!!y||!!C,D=!(!((v=m.icon)===null||v===void 0)&&v.image_default),{imageUrl:S,imageUrl2x:A}=this.getProfileImages();if((M||E||T)&&!j){const P=g.profile.real_name;return t.a.createElement(l.b,{className:d,imageUrl:M||E?S:y,imageUrl2x:M||E?A:C,memberOrBotName:P,size:O,teamId:m.id,team:m,isInteractive:I&&!r()&&!!g.id,renderCustomBadge:this.renderTeamBadge,showCard:!0,userId:g.id,profileCardProps:{allowOutsideOfSonic:!0,maybeAllowInteract:!1,...p.a}})}return D?t.a.createElement(f.a,{teamName:m.name,icon:m.icon,size:O,className:d}):null}constructor(b){super(b),this.renderTeamBadge=()=>null,this.getProfileImages=()=>{var O;const{team:E,user:y,size:C}=this.props,I=Object(a.a)({size:C,teamOrEnterpriseId:E.id,memberId:y.id,avatarHash:(O=y.profile)===null||O===void 0?void 0:O.avatar_hash}),j=(I==null?void 0:I.imageUrl)||"",M=I!=null&&I.imageUrl2x?`${I.imageUrl2x} 2x`:"";return{imageUrl:j,imageUrl2x:M}};const{team:v,allowTeamInitials:d,shouldRenderTeamBadge:m,teamIconSize:g}=b;m&&(this.renderTeamBadge=Object(l.d)({isExternal:!0,team:v,teamId:v.id,allowTeamInitials:d,teamIconSize:g}))}}o(h,"user_icon_UserIcon"),h.displayName="UserIcon",h.defaultProps={shouldRenderTeamBadge:!1,allowTeamInitials:!1,allowDefaultProfileImage:!1,className:"p-shared_channel_invite_header__avatar",isInteractive:!0,hideUserIcon:!1}},dmHe:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("beVI"),t=e("E3dU"),a=e("E97Y"),i=e("miM7"),c=e("G0eX"),r=e("Zbwg");const f=o((l,p)=>{if(!p||!Object(r.a)(p))return!1;const h=Object(n.g)(l),u=Object(t.d)(l,p),b=Object(a.h)(u),v=Object(i.a)(u),d=Object(c.H)(h);return!(b||!d&&!v)},"doBroadcastKeywordPrefsApplyForChannel")},dq9a:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc");function i(){return i=Object.assign||function(f){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(f[h]=p[h])}return f},i.apply(this,arguments)}o(i,"_extends");const c=t.a.forwardRef(o(function(l,p){let{className:h="",children:u,id:b,...v}=l;const d=Object(a.default)("c-legend",h);return t.a.createElement("legend",i({id:b},v,{className:d,ref:p}),u)},"Legend"));c.displayName="Legend";var r=s.a=c},"dqj/":function(w,s,e){"use strict";e.d(s,"m",function(){return C}),e.d(s,"n",function(){return I}),e.d(s,"k",function(){return j}),e.d(s,"c",function(){return M}),e.d(s,"j",function(){return T}),e.d(s,"l",function(){return D}),e.d(s,"g",function(){return S}),e.d(s,"h",function(){return A}),e.d(s,"e",function(){return P}),e.d(s,"b",function(){return N}),e.d(s,"f",function(){return G}),e.d(s,"d",function(){return k}),e.d(s,"i",function(){return x}),e.d(s,"r",function(){return H}),e.d(s,"q",function(){return R}),e.d(s,"p",function(){return W}),e.d(s,"o",function(){return U}),e.d(s,"a",function(){return _}),e.d(s,"s",function(){return B}),e.d(s,"t",function(){return z});var n=e("F294"),t=e("fujP"),a=e("lCmp"),i=e("JoR1"),c=e("RVJP"),r=e("BBdC"),f=e("gCYc"),l=e("E97Y"),p=e("z4V0"),h=e("Ar8P"),u=e("Sczb"),b=e("nwIl"),v=e("QE0t");function d(L){return L==null?void 0:L.service_name}o(d,"getServiceName");function m(L){return L==null?void 0:L.service_url}o(m,"getServiceLink");function g(L){return L==null?void 0:L.service_icon}o(g,"getServiceIcon");function O(L){return L==null?void 0:L.author_name}o(O,"getAuthorName");function E(L){return L==null?void 0:L.author_link}o(E,"getAuthorLink");function y(L){return L==null?void 0:L.author_icon}o(y,"getAuthorIcon");function C(L){return L==null?void 0:L.title}o(C,"getTitle");function I(L){return L==null?void 0:L.title_link}o(I,"getTitleLink");function j(L){return L==null?void 0:L.text}o(j,"getText");function M(L){if(H(L)){var $,Q;return($=Object(n.a)(L==null?void 0:L.message_blocks))===null||$===void 0||(Q=$.message)===null||Q===void 0?void 0:Q.blocks}return L==null?void 0:L.blocks}o(M,"getBlocks");function T(L){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Q=M(L);return Object(h.a)(Q,$)?$?Object(v.a)(Q)?Q==null?void 0:Q[0]:null:Q==null?void 0:Q[0]:null}o(T,"getRichTextBlocks");function D(L){return L==null?void 0:L.thumb_url}o(D,"getThumbUrl");function S(L){return L==null?void 0:L.image_url}o(S,"getImageUrl");function A(L){return L==null?void 0:L.original_url}o(A,"getOriginalUrl");function P(L){return L==null?void 0:L.file_id}o(P,"getFileId");function N(L){return L==null?void 0:L.app_unfurl_url}o(N,"getAppUnfurlUrl");function G(L){return L==null?void 0:L.from_url}o(G,"getFromUrl");function V(L){return L==null?void 0:L.channel_name}o(V,"getChannelName");function k(L){return L==null?void 0:L.fallback}o(k,"getFallback");function x(L){return L==null?void 0:L.preview}o(x,"getPreview");function H(L){return!!(L!=null&&L.is_msg_unfurl)}o(H,"isMsgUnfurl");function R(L){const $=!!(D(L)||S(L)),Q=!(d(L)||O(L));return $&&Q}o(R,"isGraphicUnfurl");const W=o(L=>{const $=R(L),Q=(L==null?void 0:L.type)===p.a;return $&&Q},"isGifUnfurl");function U(L,$){if(!L)return null;const Q=A(L);let K,Z,ne,F;const J=O(L),X=y(L),Y=E(L);J&&X?(K=J,Z=Y,ne=X):(K=d(L)||J,Z=m(L)||Y,ne=g(L)||X),K||(K=Q,Z=Q);const ee=V(L),q=L.private_channel_prompt;return ee&&Object(l.h)($)?F=`${ee}`:ee&&Object(l.k)($)&&q?F=`${ee}`:ee?F=`#${ee}`:J&&K!==J&&(F=J),{name:K,nameLink:Z,iconLink:ne,subheader:F}}o(U,"getUnfurlHeaderProps");function _(L){if(!L)return!1;const $=!!A(L)||!!N(L),K=!!(!!T(L)||C(L)||j(L)||k(L)||x(L));var Z;return $&&K||R(L)||((Z=L==null?void 0:L.user_auth_required)!==null&&Z!==void 0?Z:!1)}o(_,"canRenderUnfurl");function B(L){let{draftId:$}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!$)return!1;const Q=Object(u.d)(L,$);return!Object(t.a)(Q)&&Object(a.a)(Q,Z=>(Z==null?void 0:Z.filetype)==="quip")}o(B,"shouldRenderCanvasUnfurls");function z(L){let{draftId:$}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var Q;if(!$)return!1;const K=Object(f.k)(L,$),Z=Object(u.d)(L,$),ne=Object(i.t)(L,"expand_non_media_attachments"),J=Object(c.d)(L,"hide_unfurls_with_files")==="treatment"&&((Q=Object(r.a)(K))===null||Q===void 0?void 0:Q.length),Y=Object(c.d)(L,"native_gif_picker")==="on"&&Object(b.a)(L,{draftId:$});return!!ne&&(!Object(t.a)(Z)||Y)&&!Object(u.j)(L,$)&&!J}o(z,"shouldRenderDraftUnfurls")},drD8:function(w,s,e){"use strict";e.d(s,"a",function(){return L}),e.d(s,"b",function(){return $}),e.d(s,"c",function(){return Q});var n=e("q1tI"),t=e.n(n),a=e("AFNo"),i=e("zxER"),c=e("5jHt"),r=e("G0eX"),f=e("beVI"),l=e("E3dU"),p=e("ZOzc"),h=e("9Gfp"),u=e("Wn1n"),b=e("kBpe"),v=e("QLS9"),d=e("P9LH"),m=e("dmdh"),g=e("6dQg"),O=e("mzZe"),E=e("Yauy"),y=e("ISSR"),C=e("Dn5J"),I=e("uMkW");const j=o((K,Z)=>{if(!Z||Object(y.a)(Z))return!1;const ne=Object(I.a)(K,Z.id),F=ne&&Object(g.a)(ne)?Object(m.e)(K,ne):null;if(!F)return!1;const J=F&&ne?Object(C.b)(K,ne):!1,X=F==null?void 0:F.linked_channel_id;let ae=Object(O.a)(K,Z??void 0)&&Object(E.db)(Z);return J&&!X&&(ae=!0),Object(d.Cb)(F)&&(ae=!1),ae},"canEditChannelSpace");var M=e("2VFn");const T=o((K,Z,ne,F)=>{var J;if(!Z||Object(d.xb)(Z))return!1;const X=ne&&F?(J=F(K,{container:M.h.Primary}))===null||J===void 0?void 0:J.id:Object(u.a)(K),Y=Object(l.d)(K,X);return Y?j(K,Y):!1},"canAddFile");var D=e("i9jZ"),S=e("O0Iw"),A=e("ByMX"),P=e("zb/F"),N=e("3yS5"),G=e("i5Ig"),V=e("yxNq"),k=e("Fb72"),x=e("3TE0"),H=e("mQiU"),R=e("6inW"),W=e("NNLN"),U=e("RVJP");function _(){return _=Object.assign||function(K){for(var Z=1;Z<arguments.length;Z++){var ne=arguments[Z];for(var F in ne)Object.prototype.hasOwnProperty.call(ne,F)&&(K[F]=ne[F])}return K},_.apply(this,arguments)}o(_,"_extends");const B={remove_download:!0};Object.freeze(B);const z=Object(a.c)((K,Z,ne,F,J,X,Y)=>{var ae;if(!Z||Object(d.h)(Z)&&!Y)return G.b;const ee=Object(h.h)(K),q=Object(h.l)(K),te=ne&&F?(ae=F(K,{container:M.h.Primary}))===null||ae===void 0?void 0:ae.id:Object(u.a)(K),de=Object(l.d)(K,te),se=Object(h.a)(K),re=Object(A.b)(K),oe=Object(S.c)(K),ce=Object(f.g)(K),ue=!!(Z&&Z.user&&Object(N.a)(K,Z.user)),Pe=Object(p.a)(K,"disallow_public_file_urls"),Ye=Object(p.a)(K,"disable_file_deleting"),$e=Object(p.a)(K,"disable_file_editing"),Ke=Object(c.a)(K,Z),qe=Object(c.b)(K,Z),ct=Object(v.a)(K,Z),Be=T(K,Z,ne,F),pe=Object(U.d)(K,"canvas_user_created_templates_ga")==="on",fe=Object(U.d)(K,"canvas_user_created_templates")==="on",me=Object(c.n)(Z);if(Z.downloadPath)return B;const Se=Z.user===se,je=Z.is_public||Se,Ue=!je,ve=!0,ge=!Z.public_url_shared&&Z.mode!=="external"&&!re&&!Pe&&(Z.is_public||Se)&&!(Object(d.y)(Z)&&Object(r.F)(ce)),le=Z.public_url_shared&&!re&&!Pe&&(oe||Se),he=Object(k.a)(K,Z),Te=Object(d.n)(Z)||Z.filetype==="pdf"||Object(d.i)(Z)||Object(d.y)(Z),Re=(!me||qe)&&(Te&&Z.mode!=="external"||Z.mode==="snippet"||Z.mode==="email"),Ve=Object(b.i)()&&Te&&(!me||Ke),Ee=Z.mode!==void 0&&q&&["post","snippet","space","email","docs"].includes(Z.mode),Ae=Z.mode==="space"&&!(Z.user==="USLACKBOT"&&Z.name==="Getting_Started_with_Posts"),Ge=X&&Object(R.b)(X.toString()),Ze=Object(D.a)(K)&&Object(D.b)()&&(J||Ge)&&(Z.mode==="space"||Z.mode==="docs"||Object(d.g)(Z)),ze=(!me||qe)&&Ze,lt=(Se||oe&&!ue||!pe&&fe&&Object(d.wb)(Z,K)&&Object(d.Wb)(Z)&&!ue)&&!Ye&&!Z.is_tombstoned&&!Object(d.vb)(Z,K),tt=!Se,Ot=Z.mode!==void 0&&["snippet","space","docs"].includes(Z.mode)&&(Se||Z.mode==="space"&&Z.state!=="locked"||Z.mode==="docs"&&Z.non_owner_editable)&&!$e&&!Z.is_tombstoned,Ct=Object(x.a)(K,Z),St=Object(P.a)(),zt=Object(d.v)(Z)&&(Se||oe),kt=!0,on=Object(d.i)(Z)&&Se;return{share:je,share_private_file:Ue,comment:ve,create_public_link:ge,revoke_public_link:!!le,download:he,open_original:Re,open_in_browser:Ve,print:Ee,learn_more:Ae,new_window:ze,delete_file:lt,report_file:tt,edit:!!Ot,edit_file:Ct,copy_file_link:St,refresh:zt,unpin_file:!1,pin_file:!1,rxn_file:kt,remove_pdf_preview:on,open_remote_image:ct,add_file:!!(de&&ee&&Be)}});z.meta={name:"createSelector",key:"createSelectorgetFileActions",description:(K,Z,ne,F,J,X,Y)=>{var ae;if(!Z||Object(d.h)(Z)&&!Y)return G.b;const ee=Object(h.h)(K),q=Object(h.l)(K),te=ne&&F?(ae=F(K,{container:M.h.Primary}))===null||ae===void 0?void 0:ae.id:Object(u.a)(K),de=Object(l.d)(K,te),se=Object(h.a)(K),re=Object(A.b)(K),oe=Object(S.c)(K),ce=Object(f.g)(K),ue=!!(Z&&Z.user&&Object(N.a)(K,Z.user)),Pe=Object(p.a)(K,"disallow_public_file_urls"),Ye=Object(p.a)(K,"disable_file_deleting"),$e=Object(p.a)(K,"disable_file_editing"),Ke=Object(c.a)(K,Z),qe=Object(c.b)(K,Z),ct=Object(v.a)(K,Z),Be=T(K,Z,ne,F),pe=Object(U.d)(K,"canvas_user_created_templates_ga")==="on",fe=Object(U.d)(K,"canvas_user_created_templates")==="on",me=Object(c.n)(Z);if(Z.downloadPath)return B;const Se=Z.user===se,je=Z.is_public||Se,Ue=!je,ve=!0,ge=!Z.public_url_shared&&Z.mode!=="external"&&!re&&!Pe&&(Z.is_public||Se)&&!(Object(d.y)(Z)&&Object(r.F)(ce)),le=Z.public_url_shared&&!re&&!Pe&&(oe||Se),he=Object(k.a)(K,Z),Te=Object(d.n)(Z)||Z.filetype==="pdf"||Object(d.i)(Z)||Object(d.y)(Z),Re=(!me||qe)&&(Te&&Z.mode!=="external"||Z.mode==="snippet"||Z.mode==="email"),Ve=Object(b.i)()&&Te&&(!me||Ke),Ee=Z.mode!==void 0&&q&&["post","snippet","space","email","docs"].includes(Z.mode),Ae=Z.mode==="space"&&!(Z.user==="USLACKBOT"&&Z.name==="Getting_Started_with_Posts"),Ge=X&&Object(R.b)(X.toString()),Ze=Object(D.a)(K)&&Object(D.b)()&&(J||Ge)&&(Z.mode==="space"||Z.mode==="docs"||Object(d.g)(Z)),ze=(!me||qe)&&Ze,lt=(Se||oe&&!ue||!pe&&fe&&Object(d.wb)(Z,K)&&Object(d.Wb)(Z)&&!ue)&&!Ye&&!Z.is_tombstoned&&!Object(d.vb)(Z,K),tt=!Se,Ot=Z.mode!==void 0&&["snippet","space","docs"].includes(Z.mode)&&(Se||Z.mode==="space"&&Z.state!=="locked"||Z.mode==="docs"&&Z.non_owner_editable)&&!$e&&!Z.is_tombstoned,Ct=Object(x.a)(K,Z),St=Object(P.a)(),zt=Object(d.v)(Z)&&(Se||oe),kt=!0,on=Object(d.i)(Z)&&Se;return{share:je,share_private_file:Ue,comment:ve,create_public_link:ge,revoke_public_link:!!le,download:he,open_original:Re,open_in_browser:Ve,print:Ee,learn_more:Ae,new_window:ze,delete_file:lt,report_file:tt,edit:!!Ot,edit_file:Ct,copy_file_link:St,refresh:zt,unpin_file:!1,pin_file:!1,rxn_file:kt,remove_pdf_preview:on,open_remote_image:ct,add_file:!!(de&&ee&&Be)}}};const L=z;function $(K){const{shouldUseNavigate:Z,getSiblingView:ne,isMainWindow:F,windowId:J}=Object(n.useContext)(H.a),X=Object(n.useContext)(W.a);return Object(i.c)(Y=>z(Y,K,Z,ne,F,J,!!(X!=null&&X.ts)),V.a)}o($,"useFileActions");function Q(K){const Z=K,ne=t.a.forwardRef((F,J)=>{const X={...F,fileActions:$(F.file)};return t.a.createElement(Z,_({ref:J},X))});return ne.defaultProps=K.defaultProps,ne.displayName=`withFileActions(${Z.displayName})`,ne}o(Q,"withFileActions"),Q.displayName="withFileActions"},dtWQ:function(w,s,e){"use strict";var n=e("Lgge"),t=e("fujP"),a=e("n3tL"),i=e("Kn+X"),c=e("Yauy"),r=e("BtdC"),f=e("ohbk"),l=e("E3dU"),p=e("EHXP"),h=e("qcoW"),u=e("SQ0V"),b=e("RV0M"),v=e("I0j/"),d=e("37+L");let m;function g(E,y){clearInterval(m);const C=Object(r.a)(E,y);return C?n.a.resolve(C):new n.a(I=>{m=window.setInterval(()=>{const j=Object(r.a)(E,y);j&&(clearInterval(m),I(j))},50)}).timeout(1e4)}o(g,"waitForDraftInput");const O=Object(u.c)("View a channel, thread, or composer draft",(E,y,C,I)=>{let{draft:j}=C;const{shouldUseNavigate:M}=I(b.a);if(!Object(t.a)(j))if(Object(i.z)(j)){const T=Object(i.e)(j);E(Object(h.a)({draftId:T}))}else{const{channelId:T,threadTs:D}=Object(i.b)(j)||{},S=Object(l.d)(y(),T),A=Object(c.Fb)(y(),S);T&&(D?(E(Object(p.a)({channelId:T,teamId:A,threadTs:D})),g(T,D).then(P=>{P.scrollIntoView(),P.focus()})):E(M?Object(v.a)(Object(d.i)(T)):Object(f.a)({id:T,teamId:A})))}});O.meta={name:"createThunk",key:"createThunkjumpToDraft",description:"View a channel, thread, or composer draft"},O.propTypes={draft:a.default.object.isRequired},s.a=O},dz36:function(w,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"d",function(){return l}),e.d(s,"e",function(){return u}),e.d(s,"c",function(){return b}),e.d(s,"f",function(){return v}),e.d(s,"b",function(){return d});var n=e("Yauy");const t=/^IS\d{19}$/,a=/-instant-\d{5}$/,i=/^[A-Za-z0-9._%+-]+?@slack-corp\.com$/,c="instantSlackSessionData",r="save_instant_slack_conversation";var f;const l=o(m=>t.test((f=m==null?void 0:m.name)!==null&&f!==void 0?f:""),"looksLikeInstantSlackTeam");var p;const h=o(m=>a.test((p=Object(n.s)(m))!==null&&p!==void 0?p:""),"looksLikeInstantSlackChannel"),u=o(m=>i.test(m??""),"looksLikeSlackEmail"),b=o(()=>{try{const m=localStorage.getItem(c);return m?JSON.parse(m):{}}catch{return{}}},"getInstantSlackSessionData"),v=o(m=>{try{return localStorage.setItem(c,JSON.stringify(m)),!0}catch{return!1}},"setInstantSlackSessionData"),d=o(()=>{localStorage.removeItem(c)},"clearInstantSlackSessionData")},"e+ex":function(w,s,e){"use strict";e.d(s,"e",function(){return n}),e.d(s,"d",function(){return t}),e.d(s,"c",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c});const n={BooleanSchemaField:"BooleanSchemaField",DateSchemaField:"DateSchemaField",DateTimeSchemaField:"DateTimeSchemaField",DoubleSchemaField:"DoubleSchemaField",LongSchemaField:"LongSchemaField",ReferenceSchemaField:"ReferenceSchemaField",SelectSchemaField:"SelectSchemaField",StringSchemaField:"StringSchemaField",EmailSchemaField:"EmailSchemaField",URLSchemaField:"URLSchemaField",CurrencySchemaField:"CurrencySchemaField",UnknownSchemaField:"UnknownSchemaField"},t={AndTriggerCondition:"AndTriggerCondition",ContainsTriggerCondition:"ContainsTriggerCondition",DoesNotContainTriggerCondition:"DoesNotContainTriggerCondition",DoesNotEqualTriggerCondition:"DoesNotEqualTriggerCondition",EndsWithTriggerCondition:"EndsWithTriggerCondition",EqualsTriggerCondition:"EqualsTriggerCondition",GreaterThanTriggerCondition:"GreaterThanTriggerCondition",HasChangedTriggerCondition:"HasChangedTriggerCondition",HasDecreasedTriggerCondition:"HasDecreasedTriggerCondition",HasIncreasedTriggerCondition:"HasIncreasedTriggerCondition",IsEmptyTriggerCondition:"IsEmptyTriggerCondition",IsNotEmptyTriggerCondition:"IsNotEmptyTriggerCondition",LessThanTriggerCondition:"LessThanTriggerCondition",OrTriggerCondition:"OrTriggerCondition",StartsWithTriggerCondition:"StartsWithTriggerCondition",SetContainsOneOfTriggerCondition:"SetContainsOneOfTriggerCondition",SetContainsAllOfTriggerCondition:"SetContainsAllOfTriggerCondition",SetContainsNoneOfTriggerCondition:"SetContainsNoneOfTriggerCondition",SetEqualsTriggerCondition:"SetEqualsTriggerCondition",SetNotEqualsTriggerCondition:"SetNotEqualsTriggerCondition",IsNewRecordTriggerCondition:"IsNewRecordTriggerCondition"},a={Empty:"empty",StringValue:"StringValue",UnknownValue:"UnknownValue",DoubleNumber:"DoubleNumber",LongInt:"LongInt",BooleanValue:"BooleanValue",ReferenceValue:"ReferenceValue",Select:"Select",IntDaysAgo:"IntDaysAgo",IntDaysAway:"IntDaysAway",RelativeChange:"RelativeChange"},i={AndFilterCondition:"AndFilterCondition",ContainsFilterCondition:"ContainsFilterCondition",DateOffsetEqualsFilterCondition:"DateOffsetEqualsFilterCondition",DateOffsetGreaterThanFilterCondition:"DateOffsetGreaterThanFilterCondition",DateOffsetLessThanFilterCondition:"DateOffsetLessThanFilterCondition",DoesNotContainFilterCondition:"DoesNotContainFilterCondition",DoesNotEqualFilterCondition:"DoesNotEqualFilterCondition",EndsWithFilterCondition:"EndsWithFilterCondition",EqualsFilterCondition:"EqualsFilterCondition",GreaterThanFilterCondition:"GreaterThanFilterCondition",IsEmptyFilterCondition:"IsEmptyFilterCondition",IsNotEmptyFilterCondition:"IsNotEmptyFilterCondition",LessThanFilterCondition:"LessThanFilterCondition",OrFilterCondition:"OrFilterCondition",SetEqualsFilterCondition:"SetEqualsFilterCondition",SetNotEqualsFilterCondition:"SetNotEqualsFilterCondition",StartsWithFilterCondition:"StartsWithFilterCondition"},c={GrandParentPlatformFilter:"GrandParentPlatformFilter",GrandParentRecursivePlatformFilter:"GrandParentRecursivePlatformFilter",GreatGrandParentRecursivePlatformFilter:"GreatGrandParentRecursivePlatformFilter",ParentPlatformFilter:"ParentPlatformFilter",ParentRecursivePlatformFilter:"ParentRecursivePlatformFilter"}},eHe6:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("c8Bs");function t(i){var c;return!!((i==null||(c=i.statics)===null||c===void 0?void 0:c.blotName)==="code-block")}o(t,"lineIsCodeBlock");function a(i){return!!((i==null?void 0:i.length)>0&&Object(n.a)(i,r=>{var f;return(r==null||(f=r.statics)===null||f===void 0?void 0:f.blotName)==="code-block"}))}o(a,"everyLineIsCodeBlock")},eJPC:function(w,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.BOOKMARK_BAR="bookmark_bar",t.COMPOSE_BUTTON="compose_button",t.SIDEBAR_CANVAS_CMD_CLICK="sidebar_canvas_cmd_click",t.SIDEBAR_ADD_BUTTON="sidebar_add_button",t.SIDEBAR_CONTEXT_MENU="sidebar_context_menu",t.QUIP_FILE_BROWSER_NUX_CREATE_DOC="quip_file_browser_nux_create_doc",t.SHORTCUT_MENU="shortcut_menu",t.QUIP_SHORTCUT_MENU="quip_shortcut_menu",t.HEADER_OVERFLOW_MENU="header_overflow_menu",t.QUIP_CANVAS_CABINET_CREATE_DOC="quip_canvas_cabinet_create_doc",t.SHORTCUT="shortcut",t.CANVAS_PAGE_EMPTY_STATE_FREEMIUM="canvas_page_empty_state_freemium",t.TRIAL_OFFER_MODAL="trial_offer_modal",t.HUDDLE_ATTACHMENTS_CREATE="huddle_attachments_create",t.QUIP_FILE_BROWSER_CREATE_DOC="quip_file_browser_create_doc",t.BOOKMARKS_BAR_CREATE="bookmarks_bar_create",t.CREATE_CHANNEL_SPACE="create-channel-space",t.QUICKSWITCHER="quickswitcher",t.FILE_MENU="file_menu",t.CREATE_MENU="create_menu",t.MORE_CANVASES_SIDEBAR="more_canvases_sidebar",t.CALL_ATTACHMENTS_CREATE="call_attachments_create",t.INSERT_CANVAS_MODAL_CREATE="insert_canvas_modal_create",t.CREATE_HUDDLE_NOTES_DOC="create_huddles_notes_doc",t.CREATE_SIDECAR_NOTES="create_sidecar_notes",t.QUIP_BOOT_HOOKS="quip_boot_hooks",t.INSERT_CANVAS_SHORTCUTS_MENU="insert_canvas_shortcuts_menu",t.SHORTCUTS_MENU_V2_ITEM_CLICK="shortcuts_menu_v2_item_click",t.INTERNAL_TEST="internal_test",t.CANVASES_PEEK_VIEW="canvases_peek_view",t.RESURRECTED_USER_WELCOME="resurrected_user_welcome"})(n||(n={}))},eJek:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("SQ0V"),t=e("uEJH"),a=e("TNCj");const i=Object(n.c)("upsert reactions for a reaction key",(c,r,f)=>{const{key:l,reactions:p,fromUserAction:h}=f||{};if(!h){const u=Object(t.a)(l);if(u)return u.then(()=>c(i({key:l,reactions:p}))),!1}return c(Object(a.a)({objects:[{key:l,reactions:p}]})),!0});i.meta={name:"createThunk",key:"createThunkupsertReactions",description:"upsert reactions for a reaction key"}},eM3y:function(w,s,e){"use strict";var n=e("e7up");s.a=n.a},ekM3:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("P9LH"),t=e("QLS9"),a=e("8z04"),i=e("1VCh");function c(r,f){if(Object(i.a)(r,f)&&f.has_rich_preview||Object(t.a)(r,f))return a.b.View;if(Object(n.Kb)(f))return a.b.Remote;if(Object(n.n)(f)||Object(n.Xb)(f)||Object(n.A)(f))return a.b.View;if(Object(n.m)(f))return a.b.Detail;if(Object(n.u)(f)||Object(n.h)(f)||Object(n.o)(f))return a.b.Open;const l=Object(n.Q)(f);return l==="snippet"||l==="post"||l==="email"?a.b.Detail:Object(n.L)(f)}o(c,"getMainFileAction")},"f+33":function(w,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"b",function(){return E}),e.d(s,"c",function(){return y});var n=e("nNoG"),t=e("mM05"),a=e.n(t),i=e("JvzI");const c=new n.b("champion_welcome_dm"),r=`https://${window.location.hostname}/slackhelp/${Object(i.a)()}/115005506003`,f=`https://${window.location.hostname}/downloads`,l=[r,f],p=`
`,h=" ",u=o((C,I,j)=>{const M=new a.a,T=C.split(I);return T.splice(1,0,I),T.forEach((D,S)=>{S===1?M.insert(D,{link:j}):M.insert(D)}),M},"buildDeltaWithLink"),b=o(function(C,I,j){let M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=new a.a,D=C.split(I);return D.splice(1,0,I),D.forEach((S,A)=>{A===1?T.insert(S,{slackmention:{id:j,label:S,mention:M,unverified:!1}}):T.insert(S)}),T},"buildDeltaWithChannelLink"),v=o((C,I)=>{const j=new a.a;if(C&&I){const T=`@${I}`,D=c.t("Welcome {linkText}! Here are some tips for getting started with Slack:",{linkText:T});return b(D,T,C,!0).insert(p).insert(p)}const M=c.t("Welcome! Here are some tips for getting started with Slack:");return j.insert(M).insert(p).insert(p)},"getWelcomeDelta"),d=o(()=>{const C=c.t("profile photo"),I=c.t("Update your {linkText}",{linkText:C});return u(I,C,r).insert(h).insert({slackemoji:{text:":sun_with_face:"}}).insert(p,{list:"ordered"})},"getTipOneDelta"),m=o(()=>{const C=c.t("Download the Slack apps"),I=c.t("{linkText} to stay connected",{linkText:C});return u(I,C,f).insert(h).insert({slackemoji:{text:":computer:"}}).insert(p,{list:"ordered"})},"getTipTwoDelta"),g=o(C=>{if(!C)return new a.a;const I="#general",j=c.t("Say hello to everyone in the {linkText} channel",{linkText:I});return b(j,I,C).insert(h).insert({slackemoji:{text:":wave:"}}).insert(p,{list:"ordered"})},"getTipThreeDelta"),O=o(()=>{const C=new a.a,I=c.t("Let me know if you have any questions!");return C.insert(p).insert(I).insert(p)},"getLastLineDelta"),E=o((C,I,j)=>{const M=v(I,j),T=d(),D=m(),S=g(C),A=O();return{contents:M.concat(T).concat(D).concat(S).concat(A)}},"constructWelcomeDm"),y=o(C=>{let I=!1,j=!1;if(C&&C.ops)try{const M=JSON.stringify(C),T=l;M.toLowerCase().includes("#general")&&(I=!0),T.some(D=>M.includes(D))&&(j=!0)}catch{}return I&&j},"parseIsWelcomeDmTemplate")},f0LB:function(w,s,e){"use strict";var n=e("9oTK"),t=e("SQ0V"),a=e("APfK"),i=e("hRxb"),c=e("q1tI"),r=e.n(c),f=e("n3tL"),l=e("3l96"),p=e("/MKj"),h=e("+kJ4"),u=e("YUBf"),b=e("Trx9"),v=e("ktUG"),d=e("nNoG"),m=e("qDEp"),g=e("EyGR"),O=e("2Wdf");const E=new d.b("request_access_done"),y={uiComponentName:v.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_close",elementName:"quip_permissions_request_button_close",onClick:{enableClogAction:!0}},C={uiComponentName:v.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_send",elementName:"quip_permissions_request_button_send",onClick:{enableClogAction:!0}},I=o(A=>{let{fileId:P}=A;const[N,G]=Object(c.useState)(!1),[V,k]=Object(c.useState)(!1),x=Object(p.useDispatch)(),H=Object(c.useCallback)(()=>(x(Object(h.a)()),!1),[x]),R=Object(c.useCallback)(()=>{k(!1),x(Object(a.a)({fileId:P,requestType:"access",reason:"CustomizedRequestAccessModal"})).then(()=>x(Object(g.a)())).catch(()=>{x(Object(O.a)())}),G(!0)},[x,P]),W=E.t("You don\u2019t have access"),U=E.t("Collaborators can grant you access"),_=E.t("Cancel"),B=E.t("Request access");return r.a.createElement(b.a,{eventId:v.EventId.QUIP_PERMISSIONS_REQUEST,elementType:v.ElementType.MODAL},r.a.createElement(u.a,{closeModal:H,"data-qa":"canvas_customized_request_access_modal",centered:!0,shouldCloseOnOverlayClick:!0},r.a.createElement(u.i,null,r.a.createElement(u.l,null,r.a.createElement("h2",null,W))),r.a.createElement(u.d,null,r.a.createElement(u.e,null,U)),r.a.createElement(u.g,null,r.a.createElement(u.h,null,r.a.createElement(u.c,{type:"outline",onClick:H,"data-qa":"canvas_request_cancel_button",autoClogProps:y},_),r.a.createElement(m.c,{type:"primary",onClick:R,loading:V,"data-qa":"canvas_request_access_button",disabled:N,autoClogProps:C},B)))))},"CustomizedRequestAccessModal");I.displayName="CustomizedRequestAccessModal";var j=I;const M=Object(t.c)("Opens the Request Access Done confirmation modal in client",(A,P,N)=>{let{fileId:G}=N;A(Object(l.a)({element:r.a.createElement(j,{fileId:G})}))});M.meta={name:"createThunk",key:"createThunkopenCustomizedRequestAccessModal",description:"Opens the Request Access Done confirmation modal in client"},M.propTypes={fileId:f.default.string};var T=M;const D=Object(t.c)('Opens the "Request Access" modal',function(){var A=Object(n.coroutine)(function*(P,N,G){let{fileId:V,url:k,skipConfirmation:x,skipDoneDialog:H}=G,R;!V&&k?R=Object(i.a)(N(),k):V&&(R=V),R&&(x?P(Object(a.a)({fileId:R,requestType:"access",reason:"DirectRequestAccessModal"})).then(()=>{H||P(Object(g.a)())}).catch(()=>{P(Object(O.a)())}):P(T({fileId:R})))});return function(P,N,G){return A.apply(this,arguments)}}());D.meta={name:"createThunk",key:"createThunkrequestAccessModalThunk",description:'Opens the "Request Access" modal'};var S=s.a=D},f3d1:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("ZBlo"),c=e("XIp8"),r=e("BeL+"),f=e("9Gfp"),l=e("nNoG"),p=e("EJqq"),h=e("JvzI"),u=e("jlKB"),b=e("UnpP"),v=e("VSuV"),d=e("O86Y"),m=e("yrot"),g=e("9BZl");const O=new l.b("reactions"),E=8,y=50,C=10;function I(D){let{users:S,emojiName:A,selfUserId:P,isOverflow:N,showClickToRemove:G}=D;const V=S.includes(P);if(S.length===1)return V?G?O.rt('You (click to remove) <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{emoji:A}):O.rt('You <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{emoji:A,fallbackHash:"21789028a9fbf819663c98109deba7ea61553021"}):O.rt('{user} <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{user:t.a.createElement(v.a,{userId:S[0],isFirst:!0,isSelf:!1}),emoji:A});const k=S.map((H,R)=>t.a.createElement(v.a,{key:H,userId:H,isFirst:R===0,isSelf:P===H}));N&&k.push(O.rt("others"));const x=Object(l.h)(k,{react:!0});return V?O.rt('{users_and_you} <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{users_and_you:x,emoji:A}):O.rt('{users} <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{users:x,emoji:A})}o(I,"getTip"),I.displayName="getTip";const j=o(D=>{let{count:S=0,dispatchConvertEmojiInStringToLocalizedThunk:A,shouldRenderEmoji:P=!1,reactions:N=[],isMultiSkintone:G=!1,showClickToRemove:V=!0,selfUserId:k,showImportTip:x}=D;var H,R;const W=Object(i.a)(N,E).map(L=>t.a.createElement("div",{key:N.map($=>$.name).join("-"),className:"c-reaction__tip--emoji"},L.map($=>t.a.createElement(b.b,{text:$.name,key:$.name,emojiSize:N.length===1?b.a.LARGER:b.a.LARGE,url:$.url,shouldFallbackOnLoadError:!0}))));let U=N;G&&(U=Object(c.a)(N.slice(0,1)),U[0].users=Object(r.a)(N.map(L=>L.users||[]).flat()),U[0].name=U[0].baseName);const _=S>y&&N.length>1,B=t.a.createElement("div",{className:"c-reaction__tip_group_container"},U.map(L=>{const $=A({locale:Object(h.a)(),text:`:${L.name}:`}),Q=_?(L.users||[]).slice(0,C):L.users||[],K=_?L.count>C:L.count>y;return t.a.createElement("div",{className:"c-reaction__tip_group",key:L.name},I({emojiName:$,users:Q,selfUserId:k,isOverflow:K,showClickToRemove:V}))})),z=P?t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"c-reaction__tip--emoji_wrapper"},W),B):B;return t.a.createElement("div",{className:"c-reaction__tip"},z,x&&t.a.createElement(g.a,{emojiName:N==null||(H=N[0])===null||H===void 0?void 0:H.name,emojiUrl:N==null||(R=N[0])===null||R===void 0?void 0:R.url}))},"ReactionTip");j.displayName="ReactionTip";const M=o((D,S)=>{let{reactions:A}=S;var P;return{selfUserId:Object(f.a)(D),shouldRenderEmoji:!Object(u.a)(D),isMultiSkintone:!!Object(m.p)(D,{text:(P=A[0])===null||P===void 0?void 0:P.baseName,teamId:Object(d.g)(D)||""})}},"mapStateToProps"),T={dispatchConvertEmojiInStringToLocalizedThunk:D=>Object(p.f)(D)};s.a=Object(a.a)(M,T)(j)},f7Y4:function(w,s,e){"use strict";e.d(s,"b",function(){return pa}),e.d(s,"a",function(){return qa});var n=e("9oTK"),t=e("Lgge"),a=e("fujP"),i=e("CpTu"),c=e("ifKl"),r=e("bPB8"),f=e("q1tI"),l=e.n(f),p=e("gPPH"),h=e("iheS"),u=e("Yauy"),b=e("pOmS"),v=e("+l5E"),d=e("Ep1z"),m=e("gnJq"),g=e("ohbk"),O=e("fuYn"),E=e("Cnv9"),y=e("xwCZ"),C=e("dmdh"),I=e("6CnZ"),j=e("O86Y"),M=e("SQ0V"),T=e("gCYc"),D=e("1LR9"),S=e("s4P+"),A=e("HxoY"),P=e("nNoG"),N=e("NPWB"),G=e("zZFv"),V=e("9avG"),k=e("o2tK"),x=e("1Np4"),H=e("haNl"),R=e("RVJP");const W=1e3*60*60*4,U="user_expectations_survey",_="control",B={treatment:W};function z(Kt){return Object.keys(B).includes(Kt)}o(z,"isGroupATreatmentGroupForUserExpectationsSurveyToggle");function L(Kt){if(!Kt)return!1;const Yt=Object(R.d)(Kt,U);return Yt?!!z(Yt):!1}o(L,"isUserExpectationsSurveyEnabled");function $(Kt){if(!L(Kt))return null;const Yt=new URLSearchParams(window.location.search),Sn=parseInt(Yt.get("force_user_expectations_survey_interval_ms")||"",10);if(Sn>0)return Sn;const cn=Object(R.d)(Kt,U);return cn&&B[cn]||null}o($,"getUserExpectationSurveyIntervalFromToggle");const Q={isGroupATreatmentGroupForUserExpectationsSurveyToggle:z};var K=e("NgZ7"),Z=e("83nZ"),ne=e("OZf9"),F=e("zmn3"),J=e("n3tL"),X=e("7YN0"),Y=e("v+CX"),ae=e("mEPG"),ee=e("ku/f"),q=e("7XZu"),te=e("AyK6"),de=e("F8ux"),se=e("f80L"),re=e("m5fH"),oe=e("B+Mk"),ce=e("Kn+X"),ue=e("XcN5"),Pe=e("DPzB"),Ye=e("b8Xe"),$e=e("3Tbp"),Ke=e("3tUm");const qe=Object(M.c)("Sends draft files and handles errors",(Kt,Yt,Sn)=>{let{fileIds:cn,channelId:Ln,threadTs:Yn,msgParams:Qn,shouldBroadcast:ia,delta:la,pendingFileIds:ea,xArgs:Oa,draftId:Ua,trace:Sa}=Sn;const es=Object(x.a)({getState:Yt}),Ds=Object(S.a)({getState:Yt});Kt(Object(Ke.a)({draftId:Ua,pendingFileIds:ea}));const rs=[...cn],Ps=new Set,Ts=Object(X.c)(Ua)||[];Object(ne.a)(ea,Za=>{Kt(Object(q.f)({pendingFileId:Za,isSending:!0}))}),Object(X.b)(Ua),Kt(Object(D.e)({draftId:Ua,isSending:!0}));const Is=Kt(Object(Pe.a)({msgParams:Qn,channelId:Ln,threadTs:Yn,fileIds:cn,pendingFileIds:ea}));if(Is&&Kt(Object(Ye.a)({channelId:Ln,ts:Is.ts,promises:Ts})),Sa==null||Sa.addTags({media_threads_enabled:!0}),Sa){const Za=Object(F.a)(cn,wa=>Object(C.e)(Yt(),wa)),is=Object(F.a)(Za,"mimetype"),sa=Object(F.a)(ea,wa=>{const hs=Object(te.b)(Yt(),{pendingFileId:wa}),Ns=Object(oe.a)(hs);return Ns==null?void 0:Ns.type}),as=[...is,...sa],Vs=Object(r.a)(Object(F.a)(as,wa=>wa?wa.startsWith("video")?"video":wa.startsWith("audio")?"audio":wa.startsWith("image")?"image":"other":null)).sort().join("|");Sa.addTags({contents:Vs})}const Ws=Sa==null?void 0:Sa.startSpan("file_message_send_attempt:upload");return Ts.forEach(Za=>{Za.tap(function(){let{fileIds:is=[],pendingFileId:sa}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};is.forEach(as=>rs.push(as)),sa&&Ps.add(sa)})}),t.a.all(Ts).then(Za=>{const is=cn||[];return Object(ne.a)(Za,sa=>{sa.fileIds?is.push(sa.fileIds[0]):sa.file&&is.push(sa.file.id)}),Ws==null||Ws.close(),Kt(Object(de.a)({fileIds:is,channelId:Ln,threadTs:Yn,broadcast:ia,blocks:Qn.blocks,attachments:Qn.attachments,reason:"send_message_with_files",clientMsgId:Is?Is.client_msg_id:void 0,xArgs:Oa,unfurls:Qn.unfurl,permissions:Qn.file_permissions}))}).then(()=>{Sa&&(Sa.addTags({success:!0}),es.reportTrace(Sa))}).finally(()=>{Kt(Object(D.b)({draftId:Ua}))}).catch(Za=>{const is=(Za==null?void 0:Za.name)===ue.a.DlpUserWarning;return is||Kt(Object(ee.a)({error:Za==null?void 0:Za.name,goToDrafts:!0})),Kt(Object(se.a)()).then(sa=>{is&&Kt(Object(ee.a)({error:Za==null?void 0:Za.name,draftId:sa}));const as=[];Object(ne.a)(ea,wa=>{if(Ps.has(wa))return;const hs=Object(te.b)(Yt(),{pendingFileId:wa}),Ns=Object(oe.a)(hs);Ns&&as.push(Ns),Kt(Object(q.d)({pendingFileId:wa})),Kt(Object(ae.c)({draftId:Ua,pendingFileId:wa}))}),Kt(Object(Y.a)({draftId:sa,files:as}));const Vs={client_draft_id:sa,ops:la?la.ops:[],destinations:Object(ce.a)({channelIds:[Ln]}),file_ids:[...rs]};Kt(Object(re.h)(Vs))}),Is&&Kt(Object($e.a)({clientMsgId:Is.client_msg_id,channelId:Ln,ts:Is.ts})),Sa&&(Sa.addTags({success:!1}),es.reportTrace(Sa)),Ds.error("SEND-DRAFT-FILES",Za),t.a.reject(Za)})});qe.meta={name:"createThunk",key:"createThunksendDraftFiles",description:"Sends draft files and handles errors"},qe.propTypes={fileIds:J.default.array,channelId:J.default.string.isRequired,threadTs:J.default.string,msgParams:J.default.object.isRequired,shouldBroadcast:J.default.bool.isRequired,delta:J.default.object.isRequired,pendingFileIds:J.default.array,xArgs:J.default.object,draftId:J.default.string.isRequired,trace:J.default.object};var ct=e("tiWk"),Be=e("E3dU"),pe=e("E97Y"),fe=e("2XL1"),me=e("9Gfp"),Se=e("XZo2"),je=e("FUEd"),Ue=e("gVOt"),ve=e("g3FH"),ge=e("at8L"),le=e("1Wxh"),he=e("uVZW"),Te=e("7+Lm");const Re=Object(M.c)("Potentially show the mobile awareness DM promo",function(){var Kt=Object(n.coroutine)(function*(Yt,Sn,cn){let{channelId:Ln}=cn;const Yn=Sn();if(Object(Se.p)(Yn))return;const ia=Object(Be.d)(Yn,Ln);if(ia&&!Object(pe.g)(ia))return;const la=Object(Ue.a)(ia);if(!(Object(me.a)(Yn)===la||Object(je.c)(Yn,la)!==ve.b||Object(ge.a)(Yn)||Object(le.b)(Yn)||Object(Te.c)(Yn,he.g.MESSAGE_PANE)!==he.h.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO))return Yt(Object(fe.t)(Ln))});return function(Yt,Sn,cn){return Kt.apply(this,arguments)}}());Re.meta={name:"createThunk",key:"createThunkmaybeShowMobileAwarenessDmPromo",description:"Potentially show the mobile awareness DM promo"};var Ve=e("84jr"),Ee=e("gSGL"),Ae=e("Ja/R"),Ge=e("wFOH"),Ze=e("B+uu"),ze=e("kJif"),lt=e("yrot"),tt=e("EJqq"),Ot=e("YBS9"),Ct=e("z9VZ"),St=e("wsJ+");let zt;var kt=o(()=>{if(zt)return zt;const Yt=Object(St.a)().source;return zt=new RegExp(`^(\\+|\uFF0B|-|\uFF0D) {0,1}(${Yt})\\s*$`),zt},"get_rxns_colons_rx"),on=e("Oy0v"),_t=e("IOc2"),be=e("fR2/"),ot=e("TQ9f"),rt=e("0qhH"),Jt=e("5SjC");const Qt=Object(M.c)("Check if messages matches the +:emoji: pattern and handle it if so",(Kt,Yt,Sn)=>{let{delta:cn,channelId:Ln,threadTs:Yn}=Sn;const Qn=Yt(),ia=Object(P.m)(),la=Yn?Object(Ae.a)(Qn,Ln,Yn):Object(Ge.a)(Qn,Ln);if(!la)return{didHandle:!1,didAddOrRemove:!1};let ea=!0,Oa="";if(Object(Jt.a)(cn,(wa,hs)=>{ea&&(Object(a.a)(hs.attributes)?Object(_t.a)(wa)||Object(be.a)(wa)?ea=!1:Object(ot.a)(wa)?Oa+=Object(ot.c)(wa):Object(rt.a)(wa)?Oa+=Object(Ee.a)(wa.insert)?wa.insert:"":ea=!1:ea=!1)}),!ea)return{didHandle:!1,didAddOrRemove:!1};const Ua=(Oa||"").match(/:/g);if(!Ua||Ua.length<2)return{didHandle:!1,didAddOrRemove:!1};const es=(Object(tt.c)({state:Qn,text:Oa,locale:ia})||"").match(kt());if(!es)return{didHandle:!1,didAddOrRemove:!1};const Ds=es[1],rs=es[2],Ps=Ds==="+"||Ds==="\uFF0B",Ts=Object(on.a)(rs);if(!Ts)return{didHandle:!1,didAddOrRemove:!1};const Is=Object(Ze.a)(la);if(!Is)return{didHandle:!0,didAddOrRemove:!1};const Ws=Ts.skinTone?`${Ts.name}::skin-tone-${Ts.skinTone}`:Ts.name,Za=Object(ze.a)(Qn,Is,Ws),is=Object(me.a)(Qn),sa=Object(Ot.b)(Qn,Is,Za),as=sa&&sa.users.indexOf(is)!==-1;if(!as&&!Ps)return{didHandle:!1,didAddOrRemove:!1};if(Ps&&as)return{didHandle:!0,didAddOrRemove:!1};const Vs=Object(j.g)(Qn);return Object(lt.q)(Qn,{text:Ts.name,teamId:Vs})?(Kt(Object(Ct.b)({key:Is,name:Ws})),{didHandle:!0,didAddOrRemove:!0}):{didHandle:!0,didAddOrRemove:!1}});Qt.meta={name:"createThunk",key:"createThunkmaybeReactToLastMessageInChannel",description:"Check if messages matches the +:emoji: pattern and handle it if so"};const qt={maybeReactToLastMessageInChannel:Qt};var $t=Qt,hn=e("5icM"),gn=e("Z0Cl"),Cn=e("c8Bs"),Mn=e("3Hq1");function kn(Kt,Yt){return!!(Kt&&Object(Ee.a)(Kt.insert)&&Yt.test(Kt.insert))}o(kn,"isOpRegexMatch");const na=/^[\s,]+$/;function oa(Kt){if(Object(Mn.a)(Kt)||Object(Mn.a)(Kt.ops))return!1;let Yt=!1;for(let Sn=0;Sn<Kt.ops.length;Sn++){const cn=Kt.ops[Sn],Ln=Object(be.j)(cn);if(!(Ln||kn(cn,na)))return!1;Ln&&(Yt=!0)}return Yt}o(oa,"didUserWriteOnlyMentions");function ba(Kt){return Kt.ops.filter(Sn=>Object(be.a)(Sn)&&!Object(be.e)(Sn)).map(Sn=>Object(be.b)(Sn))}o(ba,"getMentionsUserIdsFromContents");var ga=e("y6S6"),ya=e("dlm8"),Zn=e("beVI"),Xn=e("3l96"),Ht=e("+kJ4"),ut=e("C3vN"),gt=e("Awbm"),Wt=e("ehcD"),Mt=e("bjy1"),Xe=e("WIr4"),bt=e("Cfcg"),Nt=e("8f+r"),Pt=e("Sl1j"),nn=e("yhu1"),rn=e("YUBf"),mn=e("qMw6"),vn=e("RB1+"),Xt=e("8HWa"),ht=e("Ccc1"),It=e("Tevt");const Ft=new P.b("message-input");let Bt=o(class extends f.Component{inviteMentionedUsers(){const{submitInvite:Yt,channelId:Sn,atMentionedUsers:cn,addEphemeralFeedbackMessage:Ln,channelName:Yn}=this.props,Qn=Object(vn.a)({viewContext:mn.a.MESSAGE_PANE,channelId:Sn});Qn&&Qn.clear(),Yt({channelId:Sn,users:cn==null?void 0:cn.join(","),reason:"submit-invite-at-mention-invite-warning"}).catch(ia=>{let{data:la}=ia;var ea,Oa;const Ua=la==null||(ea=la.errors)===null||ea===void 0||(Oa=ea[0])===null||Oa===void 0?void 0:Oa.error;if(!Ua)return;const Sa=Object(nn.a)({inviteeType:"member",channelName:Yn,errorKey:Ua});Ln({temporary:!1,message:{text:Sa,channel:Sn}})}).finally(()=>this.props.onClose())}sendMessage(){const{channelId:Yt}=this.props,Sn=Object(vn.a)({viewContext:mn.a.MESSAGE_PANE,channelId:Yt});Sn&&Sn.clear(),this.props.onSend(),this.props.onClose()}renderInviteEducationMessage(){return Ft.rt("Learn more about adding people to channels by visiting our <link>Help Center</link>.",null,Yt=>{let{key:Sn,text:cn}=Yt;return l.a.createElement(It.a,{key:Sn,href:"https://get.slack.help/hc/en-us/articles/201980108-Add-people-to-a-channel"},cn)})}renderMessage(){const{atMentionedUsers:Yt,channelId:Sn}=this.props,cn=l.a.createElement("strong",null,l.a.createElement(ht.a,{channelId:Sn}));return(Yt==null?void 0:Yt.length)===1?Ft.rt("{user} isn\u2019t in {channelName} yet \u2014 you can add them now instead of sending this message to the whole channel.",{user:l.a.createElement(Xt.b,{id:Yt==null?void 0:Yt[0]}),channelName:cn,fallbackHash:"cadec3268b7cc12b8cc751d6f00398ebe4c4ce2a"}):(Yt==null?void 0:Yt.length)===2?Ft.rt("{user1} and {user2} aren't in {channelName} yet \u2014 you can add them now instead of sending this message to the whole channel.",{user1:l.a.createElement(Xt.b,{id:Yt==null?void 0:Yt[0]}),user2:l.a.createElement(Xt.b,{id:Yt==null?void 0:Yt[1]}),channelName:cn,fallbackHash:"d443232f36fd8912444ee8fa4038e2443ed3c54b"}):(Yt==null?void 0:Yt.length)===3?Ft.rt("{user1}, {user2}, and {user3} aren't in {channelName} yet \u2014 you can add them now instead of sending this message to the whole channel.",{user1:l.a.createElement(Xt.b,{id:Yt==null?void 0:Yt[0]}),user2:l.a.createElement(Xt.b,{id:Yt==null?void 0:Yt[1]}),user3:l.a.createElement(Xt.b,{id:Yt==null?void 0:Yt[2]}),channelName:cn,fallbackHash:"81d4aa53308a23ac396767ff068bcb547f072b42"}):Ft.rt("{user1} and <strong>{remainingUsersCount} other people</strong> aren't in {channelName} yet \u2014 you can add them now instead of sending this message to the whole channel.",{user1:l.a.createElement(Xt.b,{id:Yt==null?void 0:Yt[0]}),remainingUsersCount:(Yt==null?void 0:Yt.length)&&Yt.length-1,channelName:cn,fallbackHash:"b23c23dd511e8fad166511789c97e5aa29488f71"})}render(){const Yt="message-pane-input-at-mention-invite-warning";return l.a.createElement(rn.a,{closeModal:this.props.onClose,labelledby:Yt},l.a.createElement(rn.i,null,l.a.createElement(rn.l,{title:Ft.t("Want to add this person instead?",{fallbackHash:"a7191c3760760579ba5fb9b033173a6635d8559b",fallbackHashNs:"admin"}),id:Yt})),l.a.createElement(rn.d,null,l.a.createElement(rn.e,null,l.a.createElement("p",{className:"margin_top_125"},this.renderMessage()),this.renderInviteEducationMessage())),l.a.createElement(rn.g,null,l.a.createElement(rn.h,null,l.a.createElement(rn.c,{type:"outline",onClick:this.sendMessage,"data-qa":"at_mention_invite_warning__send_button"},Ft.t("Send This Message",{fallbackHash:"6dcd151222c0c288e39811b96a54d91e50f9c4a8"})),l.a.createElement(rn.c,{autoFocus:!0,onClick:this.inviteMentionedUsers,"data-qa":"at_mention_invite_warning__invite_button"},Ft.t("Add to Channel")))))}constructor(Yt){super(Yt),Object(Xe.a)(this,["sendMessage","inviteMentionedUsers"])}},"MessagePaneInputAtMentionInviteWarning");Bt.displayName="MessagePaneInputAtMentionInviteWarning",Bt.defaultProps={atMentionedUsers:[]};const en=o((Kt,Yt)=>{let{channelId:Sn}=Yt;const cn=Object(Be.d)(Kt,Sn);return{channelName:Object(u.t)(Kt,cn,{publicChannelIncludeHashSign:!1})}},"mapStateToProps"),On={submitInvite:Kt=>Object(Pt.B)(Kt),addEphemeralFeedbackMessage:Kt=>Object(Nt.b)(Kt)};var yn=Object(bt.a)(en,On)(Bt),Dn=e("3yS5");const En=Object(M.c)("Display broadcast warning (@mention invites)",(Kt,Yt,Sn)=>{let{delta:cn,channelId:Ln,onSend:Yn}=Sn;const Qn=Yt();if(!cn)return{didOpen:!1};if(Object(G.a)({contents:cn.ops}).length!==0)return{didOpen:!1};const la=Object(Be.d)(Qn,Ln);if(Object(pe.h)(la))return{didOpen:!1};if(Object(pe.k)(la))return{didOpen:!1};if(Object(ya.d)(Qn,Ln)===1)return{didOpen:!1};const Oa=Object(Zn.g)(Qn);if(!Oa)return{didOpen:!1};if(oa(cn)){const Ua=ba(cn),Sa=Object(gn.a)(Ua,rs=>{const Ps=Object(y.g)(Qn,rs,{preferNonExistentToNull:!1,fetchIfMissing:!1});return!Object(ut.ib)(Ps)});if(!Sa||!Sa.length)return{didOpen:!1};if(Sa.some(rs=>Object(Mt.a)(rs)))return{didOpen:!1};const es=o(rs=>{const Ps=Object(y.g)(Qn,rs,{preferNonExistentToNull:!1,fetchIfMissing:!1}),Ts=Object(ga.c)(Qn,Ln,rs);return!!(Ts.isKnown&&!Ts.isMember&&!Object(Dn.a)(Qn,rs)&&!Object(gt.b)(Ps)&&Object(Wt.h)(Ps,Oa.id))},"isValidUserToInvite");if(Object(Cn.a)(Sa,es)){const rs=l.a.createElement(yn,{channelId:Ln,onClose:()=>{Kt(Object(Ht.a)())},onSend:Yn,atMentionedUsers:Sa});return Kt(Object(Xn.a)({element:rs})),{didOpen:!0}}}return{didOpen:!1}});En.meta={name:"createThunk",key:"createThunkmaybeOpenAtMentionInviteWarningDialog",description:"Display broadcast warning (@mention invites)"};var Vt=En,an=e("BeL+"),sn=e("G0eX"),bn=e("ZobM");function jn(){return l.a.createElement("div",{className:"p-thread_mention_warning__illustration"},l.a.createElement("svg",{width:"394",height:"112",viewBox:"0 0 394 112",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("g",{clipPath:"url(#clip0_666_42803)"},l.a.createElement("path",{d:"M1.36615e-07 55.8137C-0.0008384 44.8087 3.85852 34.0505 11.09 24.8998C18.3215 15.749 28.6003 8.61671 40.6267 4.40476C52.653 0.192801 65.8866 -0.909606 78.654 1.23694C91.4214 3.3835 103.149 8.68259 112.354 16.4641C121.559 24.2456 127.828 34.1601 130.368 44.9536C132.908 55.7472 131.605 66.9351 126.623 77.1026C121.642 87.27 113.206 95.9603 102.383 102.074C91.559 108.189 78.8339 111.452 65.8165 111.452H1.36615e-07V55.8137Z",fill:"#4A154B"}),l.a.createElement("path",{d:"M394 56.8246C394 46.0203 390.21 35.4586 383.11 26.4752C376.01 17.4917 365.918 10.49 354.111 6.35532C342.304 2.22069 329.312 1.13888 316.777 3.2467C304.243 5.35452 292.729 10.5573 283.693 18.1971C274.656 25.8369 268.502 35.5706 266.008 46.1673C263.515 56.764 264.795 67.7478 269.685 77.7297C274.576 87.7116 282.858 96.2432 293.484 102.246C304.11 108.248 316.603 111.452 329.383 111.452H394V56.8246Z",fill:"#4A154B"}),l.a.createElement("path",{d:"M79.5573 63.434H79.6336L79.481 61.3479C79.4134 61.1135 79.3834 60.8723 79.392 60.6311C79.3878 60.5702 79.3878 60.5092 79.392 60.4483C79.4069 60.2675 79.4439 60.0886 79.5022 59.9142C79.5022 59.8676 79.5319 59.8211 79.5531 59.7745C79.7362 59.3247 80.053 58.9224 80.4731 58.606C80.9546 58.2392 81.5562 58.0043 82.1986 57.9321L85.8744 57.5271C87.3061 57.3696 88.7152 57.0898 90.0801 56.692L104.516 52.4733C105.317 52.2404 112.652 56.416 112.652 56.416C113.208 56.8491 113.842 57.2048 114.53 57.4698L115.823 57.9716C116.388 58.186 117.01 58.2701 117.626 58.2153C118.242 58.1605 118.83 57.9689 119.33 57.6597C110.102 43.9109 95.8362 33.0719 78.6839 26.7778L58.9695 37.6489C54.034 40.3687 50.3165 44.4061 48.4085 49.1185L46.5049 53.8748C45.7375 55.7745 45.2755 57.7528 45.1313 59.7565L41.447 111.452H65.8166C71.0174 111.455 76.2003 110.937 81.2574 109.911L79.5573 63.434Z",fill:"#250B26"}),l.a.createElement("path",{d:"M387.149 61.9429L331.262 57.5737L296.619 61.4806L293.995 64.3444L294.504 66.6096L289.378 66.8677L275.277 73.8283L293.287 74.6419L302.826 89.2263L334.53 79.7137L335.616 81.2585L387.149 61.9429Z",fill:"#250B26"}),l.a.createElement("path",{d:"M279.118 51.6417L326.946 53.7922L391.588 41.9821C391.147 40.6607 390.651 39.3596 390.099 38.0789L297.081 42.7635L279.118 51.6417Z",fill:"white"}),l.a.createElement("path",{d:"M388.031 33.8675L350.45 30.9355L306.311 35.9069L302.966 39.5557L389.756 37.3191C389.228 36.1482 388.652 34.9977 388.031 33.8675Z",fill:"white"}),l.a.createElement("path",{d:"M389.756 37.3191L302.966 39.5557L303.615 42.4446L390.104 38.0861L389.756 37.3191Z",fill:"#A7A9AC"}),l.a.createElement("path",{d:"M358.667 48.0037L326.946 53.7994L302.063 52.6775L314.218 71.2583L364.42 56.1973L358.667 48.0037Z",fill:"#A7A9AC"}),l.a.createElement("path",{d:"M391.588 41.9893L348.144 49.932L355.996 61.1112L393.008 47.2402C392.635 45.4505 392.161 43.7001 391.588 41.9893Z",fill:"#CCCCCC"}),l.a.createElement("path",{d:"M82.3257 22.6271L83.2711 32.0501L93.8703 30.5555L96.961 30.5268C98.1898 30.5138 99.4125 30.6761 100.577 31.0071L107.001 32.8351C107.37 32.9427 107.729 33.0757 108.073 33.2329L108.01 33.1218L101.527 24.1612C101.349 23.9222 101.158 23.6833 100.955 23.4443L92.8994 20.2185L87.0741 21.2938C85.8192 21.5483 82.7242 21.663 82.3257 22.6271Z",fill:"#745943"}),l.a.createElement("path",{d:"M128.928 12.1684L106.661 8.89955C105.298 8.69842 103.91 8.64902 102.532 8.7526L76.3648 10.6917C74.3993 10.8327 72.5058 11.3832 70.8533 12.2938L45.0804 26.5126C40.1458 29.2333 36.4285 33.2704 34.5194 37.9822L32.5988 42.7349C31.8274 44.6337 31.3652 46.6124 31.2252 48.6166L26.8414 110.108C26.8073 110.56 26.7365 111.009 26.6294 111.452H67.8346L65.5961 50.1973C65.4818 49.8201 65.4635 49.4268 65.5424 49.0432C65.6212 48.6596 65.7954 48.2945 66.0534 47.972C66.3115 47.6495 66.6475 47.377 67.0393 47.1724C67.4311 46.9678 67.8698 46.8358 68.3264 46.7851L72.0065 46.3801C73.4381 46.2222 74.8472 45.9424 76.2122 45.5449L90.627 41.3263C92.2874 40.8412 94.0607 40.6987 95.7994 40.9105L107.781 42.3729C108.233 42.4276 108.694 42.4022 109.134 42.2983C109.574 42.1943 109.984 42.0141 110.337 41.769C110.691 41.5239 110.98 41.2194 111.186 40.8747C111.393 40.5301 111.512 40.1529 111.537 39.7671L111.609 38.5915C111.692 37.3369 111.285 36.0941 110.451 35.0541C109.616 34.0141 108.401 33.2345 106.992 32.8352L100.569 31.0072C99.4041 30.6762 98.1815 30.5139 96.9526 30.5269L88.7701 30.6094C87.9447 30.6177 87.1411 30.3858 86.4941 29.9524C85.8471 29.519 85.3963 28.9106 85.2172 28.2294L84.3693 24.9427C84.2662 24.5524 84.2552 24.1488 84.3368 23.755C84.4185 23.3611 84.5914 22.9848 84.8454 22.6475C85.0994 22.3102 85.4297 22.0186 85.8172 21.7894C86.2048 21.5602 86.642 21.3979 87.1039 21.3118L102.981 18.3512C104.379 18.0901 105.812 17.9889 107.242 18.0501L125.346 18.8387C126.637 18.8932 127.913 18.5814 128.971 17.9528C130.028 17.3242 130.807 16.4148 131.184 15.3691L131.213 15.2867C131.334 14.9546 131.369 14.6045 131.316 14.26C131.263 13.9155 131.124 13.5845 130.907 13.2893C130.691 12.994 130.403 12.7412 130.061 12.5479C129.72 12.3546 129.333 12.2252 128.928 12.1684V12.1684Z",fill:"#E69E6C"}),l.a.createElement("path",{d:"M106.992 32.8351L100.569 31.0071C99.404 30.6761 98.1814 30.5137 96.9525 30.5268L88.77 30.6092C87.866 30.6185 86.991 30.3395 86.3195 29.8279C86.6078 30.3687 87.0769 30.8264 87.6689 31.1448C88.261 31.4632 88.9502 31.6284 89.6518 31.62L97.8344 31.5376C99.0631 31.5261 100.285 31.6885 101.451 32.0179L107.874 33.8458C108.975 34.16 109.962 34.708 110.74 35.4372C109.913 34.209 108.578 33.2824 106.992 32.8351Z",fill:"#F3C4A5"}),l.a.createElement("path",{d:"M27.7232 111.137L32.107 49.6452C32.2553 47.641 32.7216 45.6627 33.4934 43.7635L35.414 39.0143C37.3225 34.3023 41.0399 30.265 45.975 27.5447L71.769 13.326C73.4156 12.4187 75.3014 11.8684 77.2594 11.7239L103.414 9.78836C104.794 9.68837 106.183 9.73775 107.548 9.93531L129.81 13.2041C130.294 13.2752 130.748 13.4505 131.129 13.7131C130.952 13.3168 130.656 12.9664 130.27 12.6966C129.884 12.4269 129.422 12.2472 128.928 12.1755L106.661 8.90663C105.298 8.7055 103.91 8.6561 102.532 8.75968L76.3648 10.6988C74.3993 10.8398 72.5058 11.3903 70.8533 12.3009L45.0804 26.5125C40.1458 29.2332 36.4285 33.2703 34.5194 37.9821L32.5988 42.7348C31.8274 44.6336 31.3652 46.6124 31.2252 48.6166L26.8414 110.108C26.8073 110.56 26.7365 111.009 26.6294 111.452H27.6851C27.6978 111.348 27.7147 111.244 27.7232 111.137Z",fill:"#F3C4A5"}),l.a.createElement("path",{d:"M132.277 17.0035L130.378 16.7275C129.818 17.4138 129.06 17.9676 128.175 18.3365C127.291 18.7053 126.309 18.8769 125.324 18.8351L107.221 18.0501C105.791 17.9888 104.358 18.0901 102.96 18.3512L92.9078 20.2258L100.963 23.4516L110.714 22.896L128.814 23.681C130.102 23.7373 131.376 23.4283 132.434 22.803C133.491 22.1778 134.272 21.272 134.652 20.2294V20.2294C134.775 19.8852 134.81 19.5227 134.754 19.1661C134.699 18.8095 134.553 18.4671 134.329 18.1618C134.104 17.8564 133.805 17.5951 133.451 17.3954C133.097 17.1956 132.697 17.062 132.277 17.0035Z",fill:"#9B7659"}),l.a.createElement("path",{d:"M111.609 38.5915L111.537 39.7671C111.512 40.1529 111.393 40.5301 111.186 40.8748C110.98 41.2194 110.69 41.5239 110.337 41.769C109.984 42.0141 109.574 42.1943 109.134 42.2983C108.694 42.4023 108.233 42.4277 107.781 42.3729L104.889 42.0145L106.67 43.5951C107.476 44.3118 108.488 44.8392 109.608 45.1256L113.453 46.1077C113.959 46.2375 114.498 46.2441 115.008 46.1268C115.518 46.0095 115.978 45.7731 116.336 45.4446L117.019 44.8174C117.524 44.3529 117.79 43.7379 117.759 43.1074C117.728 42.4769 117.403 41.8827 116.853 41.4553L111.503 37.3083C111.596 37.7312 111.632 38.1618 111.609 38.5915Z",fill:"#745943"}),l.a.createElement("path",{d:"M95.8162 40.9106C94.9199 40.8043 94.0115 40.7911 93.1113 40.8711L98.784 45.2726C99.3395 45.7046 99.9719 46.0602 100.658 46.3264L101.955 46.8282C102.635 47.0905 103.395 47.1646 104.128 47.0397C104.86 46.9148 105.527 46.5974 106.034 46.1328L107.823 44.4912L105.114 42.0468L95.8162 40.9106Z",fill:"#745943"}),l.a.createElement("path",{d:"M65.7146 52.2834L65.5662 50.1974C65.4185 49.7067 65.4346 49.191 65.6127 48.7075C65.7909 48.2241 66.124 47.7919 66.5752 47.459V47.459L55.9634 53.2296L65.7146 52.2834Z",fill:"#9B7659"}),l.a.createElement("path",{d:"M218.118 66.0935C217.52 66.0935 216.914 66.0684 216.307 66.0254C209.426 65.5021 204.564 63.8247 201.142 61.8713C196.275 63.4448 190.323 64.0577 183.793 63.5595C175.056 62.9 169.671 58.563 163.969 53.9752C157.698 48.9286 151.22 43.7135 139.557 42.8282L139.671 41.7529C151.776 42.6669 158.419 48.0146 164.842 53.1866C170.383 57.6455 175.611 61.8534 183.921 62.4806C189.907 62.9358 195.368 62.4376 199.917 61.1078C197.439 59.52 195.442 57.4574 194.092 55.0899C192.086 51.4268 192.235 47.4733 194.486 44.7672C196.466 42.3873 199.773 41.2439 203.783 41.5414C208.108 41.8676 211.296 43.5235 212.767 46.2009C214.306 49.0146 213.679 52.5558 211.071 55.6741C209.066 58.0863 206.153 60.0039 202.571 61.3623C205.785 63.0541 210.253 64.4735 216.422 64.9466C224.901 65.5917 232.927 61.2261 240.694 57.011C247.503 53.3121 253.926 49.8246 259.955 50.2762L259.84 51.3515C254.252 50.9286 248.003 54.3229 241.381 57.9179C233.978 61.943 226.334 66.0899 218.118 66.0935ZM202.533 42.5844C199.501 42.5844 197.021 43.5629 195.516 45.3909C193.524 47.7852 193.396 51.33 195.232 54.6454C196.619 57.0579 198.713 59.1297 201.316 60.6634C205.026 59.3731 208.023 57.4842 210.033 55.0648C212.365 52.2655 212.95 49.1257 211.597 46.6669C210.325 44.3515 207.51 42.9178 203.661 42.6274C203.275 42.5988 202.902 42.5844 202.533 42.5844Z",fill:"#696969"})),l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clip0_666_42803"},l.a.createElement("rect",{width:"394",height:"111.28",fill:"white",transform:"translate(0 0.171875)"})))))}o(jn,"ThreadMentionWarningIllustration"),jn.displayName="ThreadMentionWarningIllustration";var Tn=l.a.memo(jn);const An=new P.b("message-input");let Vn=o(class extends f.Component{clearInput(){const Yt=Object(vn.a)({viewContext:this.props.viewContext||"",channelId:this.props.channelId,threadTs:this.props.replyToTs});Yt&&Yt.clear()}sendMessage(){this.clearInput(),this.props.onSend(),this.props.onClose()}shareMessage(){this.setState(()=>({loading:!0})),this.clearInput(),this.props.onShare()}render(){const{experimentThreadMentionSpeedbumpGroupOn:Yt,atMentionedUsers:Sn,onClose:cn}=this.props;if(!Yt)return null;let Ln=An.rt("If you want <b>{user}</b> to see this thread, try sharing it as a direct message instead.",{user:l.a.createElement(Xt.b,{id:Sn[0],noLinking:!1})});return Sn.length===2&&(Ln=An.rt("If you want <b>{userA}</b> and <b>{userB}</b> to see this thread, try sharing it as a direct message instead.",{userA:l.a.createElement(Xt.b,{id:Sn[0],noLinking:!1}),userB:l.a.createElement(Xt.b,{id:Sn[1],noLinking:!1})})),Sn.length>2&&(Ln=An.rt("If you want <b>{user} and the {otherCount} other people you mentioned</b> to see this thread, try sharing it as a direct message instead.",{user:l.a.createElement(Xt.b,{id:Sn[0],noLinking:!1}),otherCount:Sn.length-1})),l.a.createElement(rn.a,{closeModal:cn},l.a.createElement(Tn,null),l.a.createElement(rn.d,null,l.a.createElement(rn.e,null,l.a.createElement("h3",{className:"p-thread_mention_warning__title margin_bottom_100 margin_top_125"},An.t("Just want to make sure someone sees this?")),l.a.createElement("p",null,Ln))),l.a.createElement(rn.g,null,l.a.createElement(rn.h,null,l.a.createElement("div",{className:"flex_none"},l.a.createElement(rn.c,{type:"outline",className:"margin_right_75",onClick:this.sendMessage,"data-qa":"thread_mention_warning__send_button"},An.t("Reply Anyway")),l.a.createElement(rn.c,{autoFocus:!0,onClick:this.shareMessage,"data-qa":"thread_mention_warning__share_button",loading:this.state.loading},l.a.createElement("span",null,l.a.createElement(bn.a,{name:"share-message",inline:!0})),l.a.createElement("span",{className:"margin_left_25"},An.t("Share thread\u2026")))))))}constructor(Yt){super(Yt),Object(Xe.a)(this,["sendMessage","shareMessage","clearInput"]),this.state={loading:!1}}},"ThreadMentionWarningDialog");Vn.displayName="ThreadMentionWarningDialog";var un=Vn,Kn=e("i3RS"),$n=e("CMT/"),da=e("0SKT"),fa=e("xueD");const aa=Object(M.c)("Display broadcast warning (@mention in a thread)",(Kt,Yt,Sn)=>{let{delta:cn,channelId:Ln,replyToTs:Yn,onSend:Qn,viewContext:ia}=Sn;const la=Yt();if(ia===mn.a.HUDDLE_THREADS)return{didOpen:!1};if(!cn)return{didOpen:!1};if(!Yn)return{didOpen:!1};const ea=Object(Be.d)(la,Ln);if(Object(pe.h)(ea))return{didOpen:!1};if(!Object(da.a)(la)&&!Object(pe.l)(ea))return{didOpen:!1};if(Object(sn.F)(Object(Zn.g)(la)))return{didOpen:!1};if(Object(G.a)({contents:cn.ops}).length!==0)return{didOpen:!1};if(!oa(cn))return{didOpen:!1};const Sa=ba(cn),es=Object(an.a)(Object(gn.a)(Sa,Ds=>{const rs=Object(y.g)(la,Ds,{preferNonExistentToNull:!1,fetchIfMissing:!1});return!Object(ut.ib)(rs)}));if(!es||!es.length)return{didOpen:!1};if(es.some(Ds=>Object(Mt.a)(Ds)))return{didOpen:!1};if(es.length<=Object(Kn.a)(la)){const Ds=l.a.createElement(un,{experimentThreadMentionSpeedbumpGroupOn:Object(R.d)(la,"thread_mention_speedbump")==="on",channelId:Ln,replyToTs:Yn,atMentionedUsers:es,viewContext:ia,onClose:()=>{Kt(Object(Ht.a)())},onSend:Qn,onShare:()=>{Kt(Object($n.a)({isQuiet:!0,memberIds:es,shouldNavigateToChannel:!1})).then(rs=>{Kt(Object(fa.a)({channelId:Ln,ts:Yn,initialChannelId:rs?rs.id:void 0,viewContext:ia,initialFocusOnText:!0}))})}});return Kt(Object(Xn.a)({element:Ds})),{didOpen:!0}}return{didOpen:!1}});aa.meta={name:"createThunk",key:"createThunkmaybeOpenThreadMentionWarningDialog",description:"Display broadcast warning (@mention in a thread)"};var ha=aa,Ia=e("Gnyr"),Ba=e("HOkk"),ca=e("yxNq"),Aa=e("y/Pn"),Ma=e("FdVR"),ja=e("Enx8"),Fa=e("P9LH");const ta=new P.b("message-input");let Pn=o(class extends f.Component{componentDidMount(){this.inputProxy=Object(vn.a)({viewContext:this.props.tileKey||mn.a.MESSAGE_PANE,channelId:this.props.channelId})}sendMessage(){const{channelId:Yt,delta:Sn,draftId:cn,dateScheduled:Ln}=this.props;if(!Ln){var Yn;(Yn=this.inputProxy)===null||Yn===void 0||Yn.clear()}this.props.prepareAndSendMessage({channelId:Yt,delta:Sn,draftId:cn,dateScheduled:Ln,includePrivateFileReshareWarning:!1}),this.props.onClose()}render(){const{channel:Yt,connectedTeamNames:Sn,files:cn,onClose:Ln,fileOwners:Yn,channelDisplayName:Qn}=this.props;let ia="",la="";const ea=cn?cn.length:0,Oa=Yn.length!==0&&Yn[0]===void 0,Ua=ta.rt("{file_count, plural, =1 {This file was} other {These files were}} shared with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by anyone in <strong>{channel_name}</strong>.",{channel_name:Qn,file_count:ea}),Sa=ta.rt("{file_count, plural, =1 {This file was} other {These files were}} shared with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by <strong>{recipient_name}</strong>.",{recipient_name:Qn,file_count:ea}),es=ta.rt("{file_count, plural, =1 {This file was} other {These files were}} shared with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by everyone in this conversation.",{file_count:ea});return Object(Aa.a)(Yt)&&(Object(pe.g)(Yt)||Object(pe.i)(Yt)||Object(pe.k)(Yt))?(ia=ta.t("Share private {file_count, plural, =1 {file} other {files}}?",{file_count:ea}),la=Oa?Ua:ta.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, {file_count, plural, =1 {the file} other {they}} could be shared with anyone from <strong>{workspace_name}</strong>.",{user_names:Object(P.h)(Yn).join(""),workspace_name:Object(P.h)(Sn||[],{noEscape:!0}).join(""),file_owners_count:Yn.length,file_count:ea})):Object(Aa.a)(Yt)&&Object(pe.l)(Yt)?(ia=ta.t("Share private {file_count, plural, =1 {file} other {files}}?",{file_count:ea}),la=Oa?Ua:ta.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, {file_count, plural, =1 {the file} other {they}} will be viewable by anyone from <strong>{workspace_names}</strong>.",{user_names:Object(P.h)(Yn).join(""),workspace_names:Object(P.h)(Sn||[],{noEscape:!0}).join(""),file_owners_count:Yn.length,file_count:ea})):Object(pe.g)(Yt)?(ia=ta.t("Share private {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments?",{file_count:ea}),la=Oa?Sa:ta.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by <strong>{recipient_name}</strong>.",{user_names:Object(P.h)(Yn).join(""),recipient_name:Qn,file_owners_count:Yn.length,file_count:ea})):Object(pe.i)(Yt)?(ia=ta.t("Share private {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments?",{file_count:ea}),la=Oa?es:ta.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by everyone in this conversation.",{user_names:Object(P.h)(Yn).join(""),file_owners_count:Yn.length,file_count:ea})):(ia=ta.t("Share private {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments?",{file_count:ea}),la=Oa?Ua:ta.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by anyone in <strong>{channel_name}</strong>.",{user_names:Object(P.h)(Yn).join(""),channel_name:Qn,file_owners_count:Yn.length,file_count:ea})),l.a.createElement(Ba.a,{isOpen:!0,onClose:Ln,title:ia,goButtonText:ta.t("Share {file_count, plural, =1 {File} other {Files}}",{file_count:ea,fallbackHash:"a0ddcef14890cf697038778a296afa7de9d50abd"}),onGo:this.sendMessage},la)}constructor(Yt){super(Yt),Object(Xe.a)(this,["sendMessage"])}},"MessageInputPrivateReshareWarning");Pn.displayName="MessageInputPrivateReshareWarning";const dn=o((Kt,Yt)=>{let{channelId:Sn,files:cn}=Yt;const Ln=Object(Be.d)(Kt,Sn),Yn=(cn||[]).map(la=>Object(Fa.G)(la).userId),Qn=Object(an.a)(Yn).map(la=>Object(ja.a)(Kt,la));let ia;return Object(Aa.a)(Ln)&&(ia=Object(Ma.a)(Kt,Ln).map(Oa=>Object(Zn.s)(Kt,Oa)).map(Oa=>Object(sn.h)(Oa))),{channel:Ln,channelDisplayName:Object(u.t)(Kt,Ln)||"",fileOwners:Qn,connectedTeamNames:ia}},"message_input_private_reshare_warning_mapStateToProps"),Rt={prepareAndSendMessage:Kt=>Rs(Kt)};var vt=Object(bt.a)(dn,Rt,null,{areStatePropsEqual:(Kt,Yt)=>Object(ca.a)(Kt,Yt,2)})(Pn);const At=Object(M.c)("Display private file reshare warning",(Kt,Yt,Sn)=>{let{channelId:cn,delta:Ln,files:Yn,draftId:Qn,dateScheduled:ia,tileKey:la}=Sn;const ea=l.a.createElement(vt,{channelId:cn,delta:Ln,files:Yn,draftId:Qn,dateScheduled:ia,tileKey:la,onClose:()=>{Kt(Object(Ht.a)())}});Kt(Object(Xn.a)({element:ea}))});At.meta={name:"createThunk",key:"createThunkopenPrivateFileReshareWarningDialog",description:"Display private file reshare warning"};var Gt=At,ln=e("XZ+b"),Dt=e("ExKK"),He=e("hRxb"),Le=e("Os2i"),Qe=e("zxER"),Ce=e("ktUG"),ye=e("hUMe"),ie=e("Trx9");const Oe=new P.b("drafts"),We={elementName:"message_input_slack_connect_canvas_sharing_disabled_speed_bump",elementType:Ce.ElementType.MODAL},ke={elementName:"cancel",elementType:Ce.ElementType.BUTTON,action:Ce.UiAction.CLICK,onClick:{enableClogAction:!0}},nt={elementName:"share",elementType:Ce.ElementType.BUTTON,action:Ce.UiAction.CLICK,onClick:{enableClogAction:!0}};function st(Kt){let{onClose:Yt,onSend:Sn,fileCount:cn}=Kt;const Ln=Object(Qe.c)(j.i),Yn=Object(f.useCallback)(()=>{Sn(),Yt()},[Sn,Yt]),Qn=l.a.createElement(ye.a,{id:Ln,bold:!1,className:"no_wrap"});return l.a.createElement(ie.a,{eventId:Ce.EventId.QUIP_EXTERNAL_FILE_SPEED_BUMP},l.a.createElement(rn.a,{closeModal:Yt,autoClogProps:We},l.a.createElement(rn.l,{title:Oe.rt("Some people can\u2019t view {count, plural, =1 {this canvas} other {these canvases}}",{count:cn,fallbackHash:"fc2e280aa90def9698cc07a6365fe4860dabf27f"})}),l.a.createElement(rn.d,null,l.a.createElement(rn.e,null,l.a.createElement("p",null,Oe.rt("Your admins turned off external sharing so only people from <strong>{currentTeam}</strong> will be able to open it.",{currentTeam:Qn,fallbackHash:"46a2f09a71c9e98f07554c55ece3c46345deed71"})))),l.a.createElement(rn.g,null,l.a.createElement(rn.h,null,l.a.createElement(rn.c,{type:"outline",autoFocus:!0,onClick:Yt,autoClogProps:ke},Oe.t("Cancel")),l.a.createElement(rn.c,{type:"primary",onClick:Yn,autoClogProps:nt},Oe.t("Send Anyway"))))))}o(st,"MessagePaneInputSlackConnectCanvasSharingDisabledSpeedBump"),st.displayName="MessagePaneInputSlackConnectCanvasSharingDisabledSpeedBump";var mt=st;const pt=Object(M.c)("Show external quip doc reshare warning",(Kt,Yt,Sn)=>{let{delta:cn,fileIds:Ln=[],channelId:Yn,onSend:Qn}=Sn;const ia=Yt(),la=Object(k.a)(cn),ea=Object(r.a)(la.map(Sa=>Object(He.a)(ia,Sa,!0))),Oa=[];[...Ln,...ea].forEach(Sa=>{const es=Object(C.e)(ia,Sa);es&&Object(Fa.u)(es)&&Oa.push(es)});const Ua=Object(Le.b)(ia,Yn,Oa[0]);if(Oa.length>0&&Ua){const Sa=l.a.createElement(mt,{fileCount:Oa.length,onClose:()=>{Kt(Object(Ht.a)())},onSend:Qn});return Kt(Object(Xn.a)({element:Sa})),{didOpen:!0}}return{didOpen:!1}});pt.meta={name:"createThunk",key:"createThunkmaybeOpenSlackConnectCanvasSharingDisabledSpeedBump",description:"Show external quip doc reshare warning"};var Et=pt,it=e("kMME"),at=e("rAyg"),ft=e("oY18"),yt=e("fPvm"),Tt=e("BBdC"),Zt=e("vUys"),In=e("RMWS"),_n=e("28Q5"),Nn=e("q6Tz"),Fn=e("IaLB"),Bn=e("4YJR"),Un=e("v5z3"),zn=e("rZ8V");const wn=5,Rn=Object(M.c)("Handle the send message event and maybe show progressive disclosure tip",function(){var Kt=Object(n.coroutine)(function*(Yt,Sn,cn){let{hasMentions:Ln,isInThread:Yn}=cn;var Qn;const ia={[Un.f.FirstMessage]:he.e.PD_FIRST_MESSAGE_SENT,[Un.f.AtMention]:he.e.MENTION,[Un.f.Threads]:he.e.THREAD_REPLY_SENT},la={[Un.f.FirstMessage]:()=>!0,[Un.f.AtMention]:()=>Ln,[Un.f.Threads]:()=>Yn},ea=Object(Fn.ib)(Sn()),Oa=ea&&(Object(Fn.pb)(Sn(),{tip:ea})||Object(Fn.ob)(Sn(),{tip:ea})),Ua=ea&&la[ea]&&((Qn=la[ea])===null||Qn===void 0?void 0:Qn.call(la));if(Oa&&Ua){const Sa=ia[ea];Sa&&(Yt(Object(Bn.E)("")),Yt(Object(Nn.b)({event:{type:Sa,current_notification:Object(Te.c)(Sn(),he.g.PROGRESSIVE_DISCLOSURE),...Sa===he.e.PD_FIRST_MESSAGE_SENT&&{iaVersion:Object(zn.m)(Sn())?4:3}}})))}});return function(Yt,Sn,cn){return Kt.apply(this,arguments)}}());Rn.meta={name:"createThunk",key:"createThunkhandleSendMessageForProgressiveDisclosure",description:"Handle the send message event and maybe show progressive disclosure tip"};const ra={PROGRESSIVE_DISCLOSURE_SENT_MESSAGE_TRIGGER_MAX:wn};var wt=e("Rw2D"),pn=e("4+qf"),Hn=e("JoR1"),Jn=e("T1zM");const Ca=7,qn="attempt-to-trigger-user-expectations-survey",ua=o((Kt,Yt)=>{let{lastAttempt:Sn,currentTime:cn}=Yt;const Ln=$(Kt);return Ln?cn-Sn>Ln:!1},"sufficientTimeHasPassedSinceLastSurveyTrigger"),va=Object(M.c)("Maybe Trigger user expectations survey to be delivered to this client",function(){var Kt=Object(n.coroutine)(function*(Yt,Sn){const cn=Sn();if(!L(cn)||!ua(cn,{lastAttempt:Object(Hn.s)(cn)||0,currentTime:Date.now()}))return!1;const Yn=yield Yt(Object(pn.a)({id:Ca,payload:{},reason:qn}));return Yn!=null&&Yn.ok?(Yt(Object(Jn.f)({pref:"user_expectations_survey_last_trigger_attempt",value:Date.now()})),!0):!1});return function(Yt,Sn){return Kt.apply(this,arguments)}}());va.meta={name:"createThunk",key:"createThunkmaybeTriggerUserExpectationsSurvey",description:"Maybe Trigger user expectations survey to be delivered to this client"};var Ea=va,_a=e("8j99"),Ra=e("w5j6"),Va=e("yMyB"),xn=e("2XGx"),Ta=e("bHB/"),La=e("l/Qw"),Ka=e("g0EK"),Ha=e("hD2y"),xa=e("ByMX"),za=e("9wgI"),us=e("gTpg"),ss=e("6kKm"),Ja=e("oNuo"),Na=e("O5bS");const Qa=new P.b("client");function $a(Kt,Yt,Sn){let{channelId:cn,replyToTs:Ln,delta:Yn}=Sn;const Qn=Kt(),ia=Object(us.a)(Qn,cn),la=Ln||!ia?[]:Object(F.a)(Object(za.a)(Qn,cn),"id"),ea=Yn.filter(Oa=>Object(be.b)(Oa).substr(0,2)==="BK").map(Oa=>Object(be.b)(Oa));if(ea.includes("BKhere")&&!la.includes("BKhere")||ea.includes("BKchannel")&&!la.includes("BKchannel")){let Oa;const Ua=ea.includes("BKhere")?Object(ss.a)(Object(Ja.a)("BKhere")):Object(ss.a)(Object(Ja.a)("BKchannel"));return ia?Object(Ka.a)(Qn,cn)?Oa=Qa.t("Usage of *{key_word}* is restricted to Workspace Admins in this large channel.",{key_word:`@${Ua}`}):Oa=Qa.t("A Workspace Owner has restricted the use of *{key_word}* messages.",{key_word:`@${Ua}`}):Oa=Qa.t("*{key_word}* has been disabled in this channel, so your message cannot be sent.",{key_word:`@${Ua}`,fallbackHash:"aee9a551962ffe54c8895c5c343bf148282e4d20",fallbackHashNs:"client"}),Yt(Object(Nt.b)({temporary:!0,ephemeralType:Na.a.genericPostingRestricted,message:{text:Oa,channel:cn,thread_ts:Ln}})),!0}if(ea.includes("BKeveryone")&&!la.includes("BKeveryone")){const Oa=Object(ss.a)(Object(Ja.a)("BKeveryone"));let Ua=Qa.t("A Workspace Owner has restricted the use of *{everyone}* messages.",{everyone:`@${Oa}`});return ia?Object(xa.b)(Qn)?Ua=Qa.t("Your account is restricted, and you cannot send *{everyone}* messages.",{everyone:`@${Oa}`}):Object(Ha.a)(Qn,cn)&&(Ua=Qa.t("Usage of *{everyone}* is restricted to Workspace Admins in the large general channel.",{everyone:`@${Oa}`})):Ua=Qa.t("*{everyone}* has been disabled in this channel, so your message cannot be sent.",{everyone:`@${Oa}`,fallbackHash:"6b9b037da332eea6189a4ce55f2eaf212bbf8e50",fallbackHashNs:"client"}),Yt(Object(Nt.b)({temporary:!0,ephemeralType:Na.a.genericPostingRestricted,message:{text:Ua,channel:cn,thread_ts:Ln}})),!0}return!1}o($a,"hasProhibitedKeywords");var bs=e("mzZe"),gs=e("nnVK"),ys=e("ISSR"),ps=e("pZC0"),Cs=e("miM7");const os=new P.b("client");function Os(Kt,Yt,Sn){let{channelId:cn,replyToTs:Ln,isScheduledSend:Yn}=Sn;const Qn=Kt(),ia=Object(Be.d)(Qn,cn);if(Ln)return Object(pe.r)(ia)||Object(u.bb)(Qn,ia)||!Object(u.b)(Qn,ia)||Object(ys.a)(ia)||ia&&!Object(u.db)(ia)&&!Object(ps.a)(ia)||Object(gs.a)(Qn,{threadTs:Ln,channelId:cn})?(Object(S.b)().warn("userCanPostToChannel false for threads"),!1):!0;if(!Object(bs.b)(Qn,cn)&&Object(Cs.a)(ia)){const la=os.t("A Workspace Owner has restricted posting to the *{channel_name}* channel.",{channel_name:Object(u.t)(Qn,ia)||""});return Yt(Object(Nt.b)({temporary:!0,ephemeralType:Na.a.generalPostingRestricted,message:{text:la,channel:cn,thread_ts:Ln}})),Object(S.b)().warn("userCanPostToChannel false for general channels"),!1}if(ia&&Object(u.w)(Qn,ia)){const la=os.t("Posting to *{channel_name}* has been restricted to select members.",{channel_name:Object(u.t)(Qn,ia)||""});return Yt(Object(Nt.b)({temporary:!0,ephemeralType:Na.a.generalPostingRestricted,message:{text:la,channel:cn,thread_ts:Ln}})),Object(S.b)().warn("userCanPostToChannel false for readOnlyDraft"),!1}return!Object(bs.b)(Qn,cn)||Object(ys.a)(ia)||!Yn&&!Object(u.db)(ia)?(Object(S.b)().warn(`userCanPostToChannel false for generic error, canPostInChannel ${Object(bs.b)(Qn,cn)}, isArchived ${Object(ys.a)(ia)}, isScheduledSend ${Yn}, isMemberOfChannel ${Object(u.db)(ia)}`),!1):!0}o(Os,"userCanPostToChannel");var Xa=e("5IZy"),ts=e("tvJC"),Ya=e("htTJ"),ds=e("Pw4T"),js=e("rIJ2");function Je(Kt,Yt){let Sn=0,cn=0;const Ln=[],Yn=Object(js.a)(10);if(Yt.forEach(Qn=>{var ia;if(Object(be.a)(Qn)&&(Object(ts.a)(Object(be.b)(Qn))?cn+=1:Object(be.e)(Qn)||(Sn+=1)),Yn&&Object(Ya.a)(Qn)&&Qn.insert===((ia=Qn.attributes)===null||ia===void 0?void 0:ia.link)){var la;Ln.push(((la=Qn.attributes)===null||la===void 0?void 0:la.link)||"")}}),(Sn||cn)&&Object(Xa.a)({state:Kt}).track(Ce.EventId.MSG_SUBMITTED_MENTIONS,{num_mentions:Sn,num_unverified_mentions:cn}),Ln.length){const Qn=Object(ds.d)({state:Kt});Ln.forEach(ia=>Qn.count("messaging_link_length",ia.length))}}o(Je,"countAndClogMentionsAndUrls");var Ie=e("kBpe"),et=e("vfQU"),Ne=e("sLds"),De=e("OqoL"),_e=e("tfz1"),Me=e("Awek");function xe(Kt){let Yt="";return!Kt||!Kt.length()?Yt:(Object(Jt.a)(Kt,(Sn,cn)=>{Object(_e.a)(cn)||Object(Me.a)(cn)||Object(Ya.a)(Sn)||Object(be.a)(Sn)||Object(ot.a)(Sn)||Object(_t.a)(Sn)||Object(rt.a)(Sn)&&(Yt+=Sn.insert)}),Yt=Yt.replace(Object(St.a)(),""),Yt=Yt.replace(De.a,""),Yt=Yt.replace(Ne.c,""),Yt.trim())}o(xe,"cleanDeltaForLanguageIdentifier");function Fe(Kt,Yt){if(Object(Ie.j)("3.0.0")&&et.p&&et.p.appendBufferText)try{const Sn=xe(Yt);et.p.appendBufferText(Sn,{workspaceId:Object(j.g)(Kt)})}catch{}}o(Fe,"feedDesktopSpellchecker");var we=e("lLIM"),dt=e("f+33");const Ut=Object(M.c)("Parse message to determine if its the Welcome DM then clog and mark as sent",(Kt,Yt,Sn)=>{let{delta:cn,channelId:Ln}=Sn;const Yn=Object(dt.c)(cn);Yn&&Kt(Object(Bn.V)(Ln)),Object(Xa.a)().track(Ce.EventId.NEWXP_TEAM_CREATE,{contexts:{ui_context:{action:Ce.UiAction.CLICK,step:Ce.UiStep.CHAMPION_SUGGESTION_MESSAGE,ui_properties:{element_name:"champion_suggestion_message_sent",element_value:Yn?"template":"custom"}}}})});Ut.meta={name:"createThunk",key:"createThunkparseAndClogWelcomeDmMessage",description:"Parse message to determine if its the Welcome DM then clog and mark as sent"};var Lt=e("FezJ"),xt=e("p/ji"),jt=e("bQRJ"),tn=e("B4kw");const fn=Object(M.c)("clog a message send to a recommended user and remove the recommendation from the newxp_suggested_channels pref for sidebar suggestions. For the launchpad, call the custom clogging utility",(Kt,Yt,Sn)=>{let{channelId:cn}=Sn;const Ln=Yt();if(Object(xt.h)(Ln)){const Yn=Object(Ue.a)(Object(Be.d)(Ln,cn));Object(jt.a)(Ln,cn)||Kt(Object(tn.b)(Yn))}});fn.meta={name:"createThunk",key:"createThunkclogAndRemoveRecommendedDm",description:"clog a message send to a recommended user and remove the recommendation from the newxp_suggested_channels pref for sidebar suggestions. For the launchpad, call the custom clogging utility"};var Gn=e("ykb+"),Wn=e("wd/R"),ma=e.n(Wn);const Da="ia4_external_pilot_survey",Pa="ia4_ts_opt_in_survey",Ga="ia4_ts_opt_out_survey",Es="ia4_sfdc_survey",zs="ia4_sfdc_v2_survey";var ms;(function(Kt){Kt[Kt.SKIP=0]="SKIP",Kt[Kt.EXTERNAL_PILOT=9]="EXTERNAL_PILOT",Kt[Kt.SFDC=11]="SFDC",Kt[Kt.TS_OPT_IN=14]="TS_OPT_IN",Kt[Kt.TS_OPT_OUT=15]="TS_OPT_OUT",Kt[Kt.SFDC_V2=17]="SFDC_V2"})(ms||(ms={}));function Hs(Kt){if(!Kt)return ms.SKIP;const Yt=Object(zn.m)(Kt);return Object(R.d)(Kt,Da)==="on"&&Yt?ms.EXTERNAL_PILOT:Object(R.d)(Kt,Pa)==="on"&&Yt?ms.TS_OPT_IN:Object(R.d)(Kt,Ga)==="on"&&!Yt?ms.TS_OPT_OUT:Object(R.d)(Kt,Es)==="on"&&Yt?ms.SFDC:Object(R.d)(Kt,zs)==="on"&&Yt?ms.SFDC_V2:ms.SKIP}o(Hs,"getUserEligibleIa4SurveyGroup");function Gs(Kt){if(!Kt)return!1;if(Object(Gn.b)())return!0;const Yt=ma()(),Sn=window.localStorage.getItem("IA4_survey_sent");if(Sn&&Yt.date()===parseInt(Sn,10)||Yt.day()!==2)return!1;const cn=Yt.hour();return!(cn>=20||cn<8)}o(Gs,"shouldAttemptIa4SurveyTrigger");const ks=Object(M.c)("Call the inprodsurvey API for IA4 external pilots and SFDC users",function(){var Kt=Object(n.coroutine)(function*(Yt,Sn,cn){if(!Gs(cn))return!1;const Ln=yield Yt(Object(pn.a)({id:cn,payload:{},reason:`attempt-to-trigger-ia4-survey-${ms[cn]}`}));if(Ln!=null&&Ln.ok){try{window.localStorage.setItem("IA4_survey_sent",ma()().date().toString())}catch{Object(S.a)({getState:Sn}).error("Unable to access localStorage for ia4_external_pilot_survey_sent")}return!0}return!1});return function(Yt,Sn,cn){return Kt.apply(this,arguments)}}());ks.meta={name:"createThunk",key:"createThunkmaybeTriggerIa4Survey",description:"Call the inprodsurvey API for IA4 external pilots and SFDC users"};var xs=e("v7mh"),Fs=e("2VFn"),fs=e("D1F6"),Ls=e("8gWv"),Us=e("Vk8Z");const Ms=new P.b("client"),pa=Object.freeze({ShoutyRooster:"Shouty rooster in effect",AtMentionInviteCoachmark:"At Mention invite coachmark in effect",ThreadMentionWarning:"Thread mention warning in effect",PrivateFileReshare:"Showing private file re-share",AddRemoveReactionFailed:"Could not add/remove reaction",PostingRestrictionInEffect:"Posting restrictions in effect",ProhibitedBroadcastKeywordInEffect:"Broadcast keyword restrictions in effect",ExternalMembersSpeedBump:"Sharing to external members speed bump in effect",LinkWarning:"Link warning in effect",ExternalQuipFileSpeedBump:"Sharing externally owned quip doc speed bump in effect",SlackConnectCanvasSharingDisabledSpeedBump:"Sharing canvas when Slack Connect canvas sharing is disabled speed bump in effect",PrivateMessageForwardingSpeedBump:"Private message forwarding speed bump in effect"}),qa=Object.freeze([pa.ShoutyRooster,pa.AtMentionInviteCoachmark,pa.PrivateFileReshare,pa.AddRemoveReactionFailed,pa.PostingRestrictionInEffect,pa.ProhibitedBroadcastKeywordInEffect,pa.ExternalMembersSpeedBump,pa.LinkWarning,pa.ExternalQuipFileSpeedBump,pa.PrivateMessageForwardingSpeedBump]),ns=Object(M.c)("Prepare a message and dispatch the `sendMessage` thunk",(Kt,Yt,Sn)=>{const{channelId:cn,delta:Ln,fileIds:Yn,unfurlsWithData:Qn,contactUnfurls:ia,filePermissions:la,replyToTs:ea,shouldBroadcast:Oa=!1,includeBroadcastKeywordWarning:Ua=!1,includeAtMentionInviteWarning:Sa=!1,includeThreadMentionWarning:es=!1,includePrivateFileReshareWarning:Ds=!1,includeExternalMembersSpeedBump:rs=!0,includeLoginInitiateRedirectLinkWarning:Ps=!1,includeExternalQuipFileSpeedBump:Ts=!0,includeSlackConnectCanvasSharingDisabledSpeedBump:Is=!0,includePrivateMessageForwardingSpeedBump:Ws=!0,xArgs:Za,pendingFileIds:is,draftId:sa,draftUniqueId:as,detachedDraftId:Vs,notificationTracePassthroughData:wa,dateScheduled:hs,shouldProcessEventForProgressiveDisclosure:Ns,fileAnnotation:no,inputRef:Ss,isFromDraftsPageAndExternallySharedChannel:go,viewContext:ao,tileKey:po,channelSetBlocks:so,experimentShareableSectionsGroupTreatment:Oo,slashCommandApplicableTeamId:Eo,unfurls:Qs}=Sn,ka=Yt(),bo=Object(j.g)(ka)||"",oo=Object(R.d)(ka,"native_gif_picker")==="on",yo=Object(Ls.a)(ka),Xs=Object(x.a)({state:ka}),Bs=!!hs,ws=!Object(a.a)(Yn)||!Object(a.a)(is),$s=ws?Xs.createTrace({traceName:"file_message_send_attempt"}):Xs.createTrace({traceName:"message_send_attempt",tags:{endpoint:"chat.postMessage",channel_id:cn,has_blocks:!!Ln}}),ro=Object(A.a)(Object(I.i)(ka,cn)),io=Object(S.a)({getState:Yt});Object(H.e)(ro,bo);const{processedDelta:As}=$s.traceFn({name:"message_send_attempt:prepare"},wt.a.bind(void 0,ka,{channelId:cn,delta:Ln,inThread:!!ea}));if(yo&&ea&&Object(xs.a)(ka)===Fs.d.Assistant&&Kt(Object(Us.a)({threadTs:ea})),Object(_a.b)(ka)&&Ps){const Wa=Object(k.a)(As),ls=Object(i.a)(Wa,cs=>cs.includes("slack.com/openid/connect/login_initiate_redirect"));if(ls)return Kt(Object(ln.a)({channelId:cn,dateScheduled:hs,urlString:ls,onClose:c.a,onSend:Object(n.coroutine)(function*(){const cs=Object(Tt.a)(Object(T.k)(Yt(),sa||"")),_s=Object(Zt.a)(Yt(),sa||"");yield Kt(ns({draftId:sa,draftUniqueId:as,channelId:cn,delta:Ln,includeLoginInitiateRedirectLinkWarning:!1,fileIds:cs,pendingFileIds:_s,dateScheduled:hs})),!Bs&&sa&&Kt(Object(yt.a)({ids:[sa],reason:"PrepareAndSendMessage:openLoginInitiateRedirectLinkWarningDialog"}))})})),t.a.reject(new Error(pa.LinkWarning))}if(Ws&&Kt(Object(it.a)({channelId:cn,unfurls:Qs,unfurlsWithData:Qn,isScheduledSend:Bs,onSend:Object(n.coroutine)(function*(){const ls=Object(Lt.a)(Qs,Qn);if(Bs&&sa)Kt(Object(ct.a)({draftId:sa,dateScheduled:hs,acknowledgedUnfurls:ls})).then(()=>{Kt(Object(g.a)({id:cn})).catch(cs=>{Kt(Object(g.a)({id:"Pscheduled-messages"})),io.info("SCHEDULE-SEND",`failed to redirect to ${cn}, redirecting to schedule send page; error: ${cs==null?void 0:cs.message}`)})});else{const cs=Object(Tt.a)(Object(T.k)(Yt(),sa||"")),_s=Object(Zt.a)(Yt(),sa||"");Ss==null||Ss.clear(),yield Kt(ns({draftId:sa,draftUniqueId:as,channelId:cn,replyToTs:ea,shouldBroadcast:Oa,delta:Ln,includePrivateMessageForwardingSpeedBump:!1,includeExternalMembersSpeedBump:!1,fileIds:cs,pendingFileIds:_s,filePermissions:la,dateScheduled:hs,unfurls:ls})),sa&&Kt(Object(yt.a)({ids:[sa],reason:"PrepareAndSendMessage:openPrivateMessageForwardingSpeedBump"}))}})})).didOpen)return t.a.reject(new Error(pa.PrivateMessageForwardingSpeedBump));if(rs){const Wa=(Yn??[]).concat(Array.isArray(is)?is:[]);if(Kt(Object(Ia.a)({fileIds:Wa,entityId:cn,delta:As,onClose:c.a,onSendLater:c.a,onSend:Object(n.coroutine)(function*(){if(Bs&&sa)Kt(Object(ct.a)({draftId:sa,dateScheduled:hs}));else{const cs=Object(Tt.a)(Object(T.k)(Yt(),sa||"")),_s=Object(Zt.a)(Yt(),sa||"");Ss==null||Ss.clear(),yield Kt(ns({draftId:sa,draftUniqueId:as,channelId:cn,replyToTs:ea,delta:Ln,includeExternalMembersSpeedBump:!1,fileIds:cs,pendingFileIds:_s,unfurls:Qs,contactUnfurls:ia,filePermissions:la,shouldBroadcast:Oa,xArgs:Za,shouldProcessEventForProgressiveDisclosure:!!Ns})),sa&&Kt(Object(yt.a)({ids:[sa],reason:"PrepareAndSendMessage:maybeOpenExternalMembersSpeedBump"}))}}),isScheduledSend:Bs,isFromDraftsPageAndExternallySharedChannel:!!go,isFromScheduledPage:!1})).didOpen)return t.a.reject(new Error(pa.ExternalMembersSpeedBump))}const lo=Object(G.a)({contents:As.ops});if(Ua&&Object(h.a)(ka,cn,lo))return Kt(Object(hn.a)({channelId:cn,keywordsInUse:lo,dateScheduled:hs,onClose:c.a,onSend:Object(n.coroutine)(function*(){const Wa=Object(Tt.a)(Object(T.k)(Yt(),sa||"")),ls=Object(Zt.a)(Yt(),sa||"");yield Kt(ns({draftId:sa,draftUniqueId:as,channelId:cn,delta:Ln,includeBroadcastKeywordWarning:!1,fileIds:Wa,pendingFileIds:ls,dateScheduled:hs})),!Bs&&sa&&Kt(Object(yt.a)({ids:[sa],reason:"PrepareAndSendMessage:openBroadcastKeywordWarningDialog"}))})})),t.a.reject(new Error(pa.ShoutyRooster));if(Sa&&Kt(Vt({channelId:cn,delta:Ln,onSend:Object(n.coroutine)(function*(){const ls=Object(Tt.a)(Object(T.k)(Yt(),sa||"")),cs=Object(Zt.a)(Yt(),sa||"");yield Kt(ns({draftId:sa,draftUniqueId:as,channelId:cn,delta:Ln,includeAtMentionInviteWarning:!1,fileIds:ls,pendingFileIds:cs})),sa&&Kt(Object(yt.a)({ids:[sa],reason:"PrepareAndSendMessage:maybeOpenAtMentionInviteWarningDialog"}))})})).didOpen)return t.a.reject(new Error(pa.AtMentionInviteCoachmark));if(Object(R.d)(ka,"thread_mention_speedbump")==="on"&&!ws&&es&&ea&&Kt(ha({channelId:cn,delta:Ln,replyToTs:ea,viewContext:ao,onSend:Object(n.coroutine)(function*(){const ls=Object(Tt.a)(Object(T.k)(Yt(),sa||"")),cs=Object(Zt.a)(Yt(),sa||"");yield Kt(ns({draftId:sa,draftUniqueId:as,channelId:cn,replyToTs:ea,delta:Ln,includeThreadMentionWarning:!1,fileIds:ls,pendingFileIds:cs})),sa&&Kt(Object(yt.a)({ids:[sa],reason:"PrepareAndSendMessage:maybeOpenThreadMentionWarningDialog"}))})})).didOpen)return t.a.reject(new Error(pa.ThreadMentionWarning));if(Object(xt.h)(ka)&&Kt(fn({channelId:cn})),Object(we.b)(ka)&&Kt(Ut({delta:Ln,channelId:cn})),Ds){const Wa=Object(k.a)(As),ls=Object(r.a)(Wa.map(Ks=>Object(N.a)(ka,Ks))).map(Ks=>Object(C.e)(ka,Ks)),cs=Object(y.c)(ka),_s=ls.filter(Ks=>Ks&&!Object(m.a)(Ks)&&Object(d.a)(Ks)&&Ks.user!==cs.id);if(_s.length>0)return Kt(Gt({channelId:cn,delta:Ln,files:_s,draftId:sa,dateScheduled:hs,tileKey:po})),t.a.reject(new Error(pa.PrivateFileReshare))}if(Ts){const Wa=(Yn??[]).concat(Array.isArray(is)?is:[]);if(Kt(Object(Dt.a)({delta:As,fileIds:Wa,onSend:Object(n.coroutine)(function*(){const cs=Object(Tt.a)(Object(T.k)(Yt(),sa||"")),_s=Object(Zt.a)(Yt(),sa||"");Ss==null||Ss.clear(),yield Kt(ns({draftId:sa,draftUniqueId:as,channelId:cn,replyToTs:ea,delta:Ln,includeExternalQuipFileSpeedBump:!1,includeSlackConnectCanvasSharingDisabledSpeedBump:!1,fileIds:cs,pendingFileIds:_s,filePermissions:la,dateScheduled:hs})),sa&&Kt(Object(yt.a)({ids:[sa],reason:"PrepareAndSendMessage:openExternalQuipFileSpeedBump"}))})})).didOpen)return t.a.reject(new Error(pa.ExternalQuipFileSpeedBump))}if(Is){const Wa=(Yn??[]).concat(Array.isArray(is)?is:[]);if(Kt(Et({delta:As,fileIds:Wa,channelId:cn,onSend:Object(n.coroutine)(function*(){const cs=Object(Tt.a)(Object(T.k)(Yt(),sa||"")),_s=Object(Zt.a)(Yt(),sa||"");Ss==null||Ss.clear(),yield Kt(ns({draftId:sa,draftUniqueId:as,channelId:cn,replyToTs:ea,delta:Ln,includeSlackConnectCanvasSharingDisabledSpeedBump:!1,fileIds:cs,pendingFileIds:_s,filePermissions:la,dateScheduled:hs})),sa&&Kt(Object(yt.a)({ids:[sa],reason:"PrepareAndSendMessage:openSlackConnectCanvasSharingDisabledSpeedBump"}))})})).didOpen)return t.a.reject(new Error(pa.SlackConnectCanvasSharingDisabledSpeedBump))}if(Fe(ka,As),!Bs){const Wa=Kt($t({delta:As,channelId:cn,threadTs:ea}));if(Wa.didHandle&&!Wa.didAddOrRemove)return t.a.reject(new Error(pa.AddRemoveReactionFailed));if(Wa.didHandle)return t.a.resolve();const ls=Kt(Object(Ta.a)({channelId:cn,threadTs:ea,delta:As,viewContext:ao,slashCommandApplicableTeamId:Eo}));if(ls)return ls}if(!Os(Yt,Kt,{channelId:cn,replyToTs:ea,isScheduledSend:Bs}))return t.a.reject(new Error(pa.PostingRestrictionInEffect));if($a(Yt,Kt,{channelId:cn,replyToTs:ea,delta:As}))return t.a.reject(new Error(pa.ProhibitedBroadcastKeywordInEffect));if(Bs&&sa)return Xs.clearTrace($s),Kt(Object(ct.a)({draftId:sa,dateScheduled:hs}));let co;ea&&(co={reply_broadcast:Oa,thread_ts:ea}),Je(ka,As);const vs={channel:cn,ts:ro,type:"message",xArgs:Za,...co};Qs&&(vs.unfurl=Qs),Object(E.b)(ka)&&!Object(a.a)(ia)?vs.attachments=Object(xn.a)(ia||[]):Oo&&so&&(vs.attachments=[{blocks:so}]);let Ys=[];if(oo&&(Ys=Object(fs.a)(ka,{draftId:Vs||sa}),Ys.length)){var qs;vs.attachments=((qs=vs.attachments)!==null&&qs!==void 0?qs:[]).concat([{blocks:Ys}])}if(wa&&(vs.notificationTracePassthroughData=wa),no&&(vs.file_annotation=no),la!=null&&la.length&&(vs.file_permissions=la),Object(u.Y)(ka,cn,!1)){const Wa=Object(O.a)(ka,{channelId:cn});Wa&&(vs.service_team_id=Wa)}if(Object(R.d)(ka,"workspace_context_for_netskope")==="on"){const Wa=Object(b.a)(Object(Be.d)(ka,cn));Wa&&(vs.client_context_team_id=Wa)}try{const Wa=$s.traceFn({name:"message_send_attempt:blocks"},V.b.bind(void 0,{delta:As,state:ka})).blocks;Wa&&Wa.length>0&&(vs.blocks=Wa),oo&&(Ys!=null&&Ys.length)&&!Wa&&(vs.blocks=[])}catch(Wa){io.error("RICH-TEXT",`Conversion of Delta to Block Kit failed with error: "${Wa.message}")`,Wa);const ls=l.a.createElement(at.a,{icon:"warning"},Ms.rt("Couldn\u2019t send message. You may need to remove formatting or retype your message."));return Kt(Object(ft.a)({element:ls})),t.a.reject(Wa)}!Bs&&Object(Va.a)(ka,cn)&&Kt(Object(Ra.c)({channelId:cn,threadTs:ea,expiryTs:Date.now()+15e3}));const Co=Object(_n.f)(ka);Kt(Object(In.a)({channelId:cn})),Co&&(Object(_n.c)(ka)||Kt(Object(Z.a)({pref:"message_input_cta_complete",value:!0})),Object(K.a)(ka,"has_sent_first_message")||Kt(Object(Z.a)({pref:"has_sent_first_message",value:!0})),!Object(K.a)(ka,"has_sent_first_direct_message")&&Object(xs.a)(ka)===Fs.d.DMs&&Object(pe.g)(Object(Be.d)(ka,cn))&&Kt(Object(Z.a)({pref:"has_sent_first_direct_message",value:!0}))),Kt(Re({channelId:cn})),Ns&&Kt(Rn({hasMentions:Object(v.Eb)(vs),isInThread:!!ea})),L(ka)&&Kt(Ea());const uo=Hs(ka);uo!==ms.SKIP&&Kt(ks(uo)),Object(R.d)(ka,"onbrd_1572_feature")==="on"&&(vs.client_msg_id=Object(p.a)(),Kt(Object(fe.j)(vs.client_msg_id)),Kt(Object(Ve.a)()));let Js;return ws&&sa?Js=Kt(qe({fileIds:Yn||[],channelId:cn,threadTs:ea,msgParams:vs,shouldBroadcast:Oa,delta:Ln,pendingFileIds:is,xArgs:Za,draftId:sa,trace:$s})):(vs.messageSendTrace=$s,Js=Kt(Object(La.b)(vs))),as?(Kt(Object(D.e)({draftId:as,isSending:!0})),Js.then(()=>{Kt(Object(D.f)({draftId:as}))}).catch(()=>{Kt(Object(D.e)({draftId:as,isSending:!1}))})):Js});ns.meta={name:"createThunk",key:"createThunkprepareAndSendMessage",description:"Prepare a message and dispatch the `sendMessage` thunk"};var Rs=s.c=ns},f80L:function(w,s,e){"use strict";var n=e("Lgge"),t=e("q1tI"),a=e.n(t),i=e("n3tL"),c=e("gPPH"),r=e("s4P+"),f=e("THWC"),l=e("SQ0V"),p=e("ZvCj"),h=e("oY18"),u=e("nNoG"),b=e("rAyg");const v=new u.b("drafts"),d={},m={};function g(){return a.a.createElement(b.a,null,v.t("You\u2019ve reached the maximum number of drafts allowed"))}o(g,"DraftLimitToast"),g.displayName="DraftLimitToast",g.propTypes=d,g.defaultProps=m;var O=g,E=O;const y=Object(l.c)("Create a new composer draft",function(I,j){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=j();if(Object(f.a)(T))return I(Object(h.a)({element:a.a.createElement(E)})),Object(r.a)({state:T,label:"DRAFTS"}).info("Failed to create composer draft (max_num_drafts)"),n.a.reject(new Error("max_num_drafts"));const D=Object(c.a)(),S={client_draft_id:D,is_from_composer:!0,...M};return I(Object(p.a)({draft:S,reason:"createComposerDraft",sync:!1})),n.a.resolve(D)});y.meta={name:"createThunk",key:"createThunkcreateComposerDraft",description:"Create a new composer draft"},y.propTypes=i.default.object;var C=s.a=y},fGmc:function(w,s,e){"use strict";e.d(s,"b",function(){return G}),e.d(s,"a",function(){return x}),e.d(s,"c",function(){return H});var n=e("G4qV"),t=e("zmn3"),a=e("bPB8"),i=e("xWuZ"),c=e("JoR1"),r=e("LvEQ"),f=e("O86Y"),l=e("k400");function p(W){return!W||!W.localEmoji?[]:Object.keys(W.localEmoji)}o(p,"getEmojiCollectionLocalEmojiNames");var h=e("Oy0v"),u=e("YlCL"),b=e("EJqq"),v=e("nNoG"),d=e("AiJP"),m=e("7+Lm"),g=e("uVZW"),O=e("coh6"),E=e("RVJP"),y=e("UPr+"),C=e("yrot");const I=new v.b("emoji"),j=36,M=5,T=["slightly_smiling_face","heart","+1","100","bug"],D=o((W,U)=>{if(!U)return null;const{name:_}=Object(h.a)(U)||{};if(!_)return null;const B=Object(C.n)(W,_);return B?`E${B.unicode}`:`E${_}`},"getEmojiFrecencyIdFromName"),S={},A={},P={};function N(W,U,_,B,z){if(U.length>=B)return U;const L=V(W,_,B,z);if(U.length===0)return L;let $=L.length-U.length;const Q=new Set(U);for(let K=0;K<L.length&&!($<=0);K++){const Z=L[K];Q.has(Z)||(Q.add(Z),$-=1,U.push(Z))}return U}o(N,"ensureMinResults");function G(W){let{maxNum:U=j,minNum:_=M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const B=Object(f.g)(W);if(Object(E.d)(W,"snd_searcher_emoji_frequently_used")==="searcher"){const Q=Date.now(),K=P[B]||{};if(Q<=K.expirationTime)return Q+9e5>K.expirationTime&&(K.expirationTime=Q+9e5),K.data;const Z=Object(O.G)(W,{query:"",options:{entities:{emoji:{matchKeywords:!0}},sort:{source:"emoji-frequently-used",frecency:!0,modelLocal:!0,model:"emojiFrequentlyUsed"},allowEmptyQuery:!0,limit:250,returnMetadata:!0}}).filter(ne=>ne.hitCount>0||ne.itemCount>0).map(ne=>ne.item.name).slice(0,U);return K.data=N(W,Z,B,U,_),K.expirationTime=Q+144e5,P[B]=K,K.data}return V(W,B,U,_)}o(G,"getFrequentlyUsedEmoji");function V(W,U,_,B){const z=Object(c.t)(W,"emoji_use")||S[U]||{},L=`${U}|${_}|${B}`;if(S[U]===z&&A[L])return A[L];const $=Object.keys(z).reduce((K,Z)=>{const ne=Z.split("::")[0],F=Object(C.d)(W,{text:ne,teamId:U});if(!F||!Object(v.e)()&&Object(C.f)(W,{text:F,teamId:U})&&Object(b.g)({state:W,locale:Object(v.m)(),name:F})!==F)return K;const J=K[F]||0,X=z[Z];return K[F]=J+X,K},{}),Q=Object.keys($).sort((K,Z)=>{const ne=$[K],F=$[Z];if(ne===F){if(K<Z)return-1;if(K>Z)return 1}return-(ne-F)});if(Q.length<B){const K=B-Q.length;A[L]=[...Q,...T.slice(0,K)]}else A[L]=Q.slice(0,_);return S[U]=z,A[L]}o(V,"getUsedEmojiFromPref");const k=Object(n.a)(u.c,W=>Object(v.m)(),W=>Object(t.a)(W.filter(U=>U.name!=="Skin Tones"),U=>({name:U.name,nameLocalized:Object(b.h)(U),emoji_names:U.emoji_names}))),x=Object(n.a)(W=>Object(C.r)(W)?Object(y.e)(W):Object(C.h)(W),C.r,G,r.d,k,f.h,W=>Object(m.c)(W,g.g.EMOJI_DRAWER),(W,U,_,B,z,L,$)=>{if(!L)return null;const Q={name:"Frequently Used",nameLocalized:I.t("Frequently Used",{fallbackHash:"37d705a1bb3f5c4de282c71afa432104e3cfd417",fallbackHashNs:"emoji"}),emoji_names:_};let K=W,Z=[];const ne=B;if(Z=Object(a.a)(ne.map(Y=>{const ae=Object(l.a)(Y),ee=p(Y);let q;return U?q=ee:q=K.filter(te=>ee.includes(te)),q.length?{name:ae,nameLocalized:ae,emoji_names:q,omitFromTabs:!0}:null})),Z.length){const Y=Object(i.a)(Z.map(ae=>ae.emoji_names));K=K.filter(ae=>!Y.includes(ae))}let F=[];if($===g.h.PRODUCTIVITY_REACJI){const Y=Object.keys(Object(d.a)());F=[{name:"Getting Work Done",nameLocalized:I.t("Getting Work Done"),emoji_names:Y}]}const J=K.length?[{name:"Custom",nameLocalized:I.t("Custom",{fallbackHash:"081ae3fdc403609cf6e760849ebb14117b7a50cb",fallbackHashNs:"emoji"}),emoji_names:K}]:[],X=_.length>0?[Q]:[];return U?[...X,...F,...z,...Z,...J]:[...X,...F,...z,...J,...Z]});function H(W){delete P[W],delete S[W]}o(H,"invalidateCachedEmojiResults");const R={DEFAULT_FREQUENTLY_USED_EMOJI_NAMES:T,getCustomEmojiForCurrentTeamSorted:C.h,getTranslatedEmojiCategories:k};Object.defineProperty(R,"getFrequentlyUsedEmoji",{get:()=>G,set:W=>{G=W}})},fdJE:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("xwCZ"),t=e("E3dU"),a=e("52Wj"),i=e("K1vi"),c=e("AQ1G");function r(f,l){if(!l)return"";const p=Object(i.a)(l,"EDIT",{jumbomoji:!1,allow_intra_word_formatting:!1});return Object(c.a)(p).reduce((h,u)=>{if(u.type==="member"){const b=Object(n.g)(f,u.id),v=Object(a.b)(b);return`${h}@${v||u.id}`}if(u.type==="channel"){const b=Object(t.d)(f,u.id),v=b?b.name:"";return`${h}#${v}`}if(u.type==="command"){if(u.data.type==="here"||u.data.type==="channel"||u.data.type==="everyone"||u.data.type==="group")return`${h}@${u.data.type}`;if(u.data.type==="date"||u.data.type==="subteam")return h+u.data.label}return u.text?h+u.text:h},"")}o(r,"messageTextToPlainText")},feGl:function(w,s,e){"use strict";var n=e("mM05"),t=e.n(n),a=e("SQ0V"),i=e("tcou"),c=e("WBOM"),r=e("2oNE"),f=e("xwCZ"),l=e("52Wj"),p=e("E3dU"),h=e("Yauy");const u=Object(a.c)("Support dragging links to texty inputs",(b,v,d)=>{let{dragEvent:m,inputProxy:g}=d;var O;const E=m==null||(O=m.dataTransfer)===null||O===void 0?void 0:O.getData("text/uri-list");if(!E||!g)return null;const y=Object(i.a)(E);if(!y.length)return null;const C=v(),I=y[0],j=Object(c.e)(C,I.url);if(y&&y.length===1&&I.text===E){const M=g.getSelection(),T=new t.a;if((M==null?void 0:M.index)>0&&(j||I!=null&&I.text&&(I!=null&&I.url))){const D=g.getText(M.index-1,1);D!==" "&&D!==`
`&&T.insert(" ")}if((j==null?void 0:j.type)===c.a.MEMBER){const D=Object(f.g)(C,j==null?void 0:j.memberId);if(!(D!=null&&D.id))return T;const S=Object(r.a)(D.id,`@${Object(l.b)(D)}`,[]);S!=null&&S.label&&T.insert(S.label,S)}else if((j==null?void 0:j.type)===c.a.MESSAGE)if(j!=null&&j.ts)T.insert(`${I.text}`,{link:I.url});else{const D=Object(p.d)(C,j==null?void 0:j.channelId);if(!(j!=null&&j.channelId))return T;const S=Object(r.a)(j==null?void 0:j.channelId,`#${Object(h.K)(D)}`,[]);S!=null&&S.label&&T.insert(S.label,S)}else I!=null&&I.text&&(I!=null&&I.url)&&!j&&T.insert(`${I.text}`,{link:I.url});return(M==null?void 0:M.index)<g.getLength()&&(j||I!=null&&I.text&&(I!=null&&I.url))&&g.getText(M.index+1,1)!==" "&&T.insert(" "),T}return null});u.meta={name:"createThunk",key:"createThunkdragLinksToComposer",description:"Support dragging links to texty inputs"},s.a=u},feSS:function(w,s,e){"use strict";const n=o(i=>typeof i=="function"?i():i,"executeIfFunction"),t=o(i=>c=>r=>r in i?i[r]:c,"switchcase"),a=o(i=>c=>r=>n(t(i)(c)(r)),"switchcaseF");s.a=a},ffkt:function(w,s,e){"use strict";e.d(s,"b",function(){return r}),e.d(s,"e",function(){return f}),e.d(s,"a",function(){return l}),e.d(s,"d",function(){return h}),e.d(s,"c",function(){return b});var n=e("nNoG"),t=e("vIgB"),a=e("O7R9"),i=e("Muja");const c=new n.b("workflow_builder"),r={FREQUENCY_ONCE:"once",FREQUENCY_HOURLY:"hourly",FREQUENCY_DAILY:"daily",FREQUENCY_WEEKDAYS:"weekdays",FREQUENCY_WEEKLY:"weekly",FREQUENCY_MONTHLY:"monthly",FREQUENCY_MONTHLY_NTH_DAY:"monthly_nth_day",FREQUENCY_YEARLY:"yearly",FREQUENCY_CUSTOM:"custom"},f={[r.FREQUENCY_HOURLY]:"hours",[r.FREQUENCY_DAILY]:"days",[r.FREQUENCY_WEEKLY]:"weeks",[r.FREQUENCY_MONTHLY]:"months",[r.FREQUENCY_YEARLY]:"years"},l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=["Monday","Tuesday","Wednesday","Thursday","Friday"],h=o(()=>({startTime:{type:t.e.DateTime,name:"startTime",title:c.t("Starts on",{fallbackHash:"59cb3c017fc6b9ba6c1d50eb2d96a3e974063164"}),is_required:!0},timezone:{type:t.e.Timezone,name:"timezone",title:c.t("Time zone",{ns:"prefs"}),is_required:!0},occurrenceCount:{type:t.e.Integer,name:"occurrenceCount",title:c.t("After a set number of occurrences",{fallbackHash:"7f50ece5af3bd63bea10916ff5b840e12b686800"}),is_required:!0},endTime:{type:t.e.DateTime,name:"endTime",title:c.t("Ends"),is_required:!0},frequency:{type:t.e.Object,name:"frequency",title:c.t("Frequency"),is_required:!0,required:["type"],properties:{type:{type:t.e.String,name:"type",is_required:!0,title:c.t("Repeat every",{fallbackHash:"c61ae3bea7bb0e5d325df76c665909ed8386cf08"}),enum:["daily","weekly","monthly","yearly"]},onDays:{type:t.e.Array,name:"onDays",is_required:!0,title:c.t("Repeat on",{fallbackHash:"f6bb0f468a8569c67b3d6826e57e62c5500c3681"}),items:{type:t.e.String,enum:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],minItems:1}},repeatsEvery:{type:t.e.Integer,name:"repeatsEvery",title:c.t("Repeat every",{fallbackHash:"c61ae3bea7bb0e5d325df76c665909ed8386cf08"})},onWeekNum:{type:t.e.Integer,name:"onWeekNum",enum:[1,2,3,4,-1]}}}}),"getSegmentParameters"),u=o(v=>{const{startTime:d,timezone:m,frequency:g}=v,{FREQUENCY_MONTHLY:O}=r,E=Object(a.c)(d,m),y=E.format("dddd");var C;const I=(C=Object(a.h)(E.format("YYYY-MM-DD")))!==null&&C!==void 0?C:1,j={type:O,onDays:[y],onWeekNum:I};return Object(i.a)(g,j)},"getIsMonthlyNthDayFrequency"),b=o(v=>{const{startTime:d,timezone:m,endTime:g,occurrenceCount:O,frequency:E}=v,{FREQUENCY_ONCE:y,FREQUENCY_WEEKDAYS:C,FREQUENCY_WEEKLY:I,FREQUENCY_HOURLY:j,FREQUENCY_MONTHLY:M,FREQUENCY_MONTHLY_NTH_DAY:T,FREQUENCY_CUSTOM:D}=r;var S;if(g||O||((S=E==null?void 0:E.repeatsEvery)!==null&&S!==void 0?S:0)>1||(E==null?void 0:E.type)===j)return D;if(!E)return y;if(E.type===I){if(E.onDays){const A=Object(a.c)(d,m).format("dddd");return E.onDays.length===1&&E.onDays.includes(A)?I:E.onDays.length===5&&E.onDays.every(P=>p.includes(P))?C:D}return I}return E.type===M?u(v)?T:D:E.type},"getFrequencyMenuOption")},fnDJ:function(w,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("zmn3"),t=e("bPB8"),a=e("BeL+"),i=e("gSGL"),c=e("CpTu"),r=e("s4P+"),f=e("ROZo");const l=Object(f.a)("TS.ui.frecency.query",()=>[]);var p=e("mNiN"),h=e("s2GU");function u(b){let{text:v,label:d,globalIndex:m,localIndex:g,results:O,matchLength:E,formats:y}=b,C,I;const j={id:"UNVERIFIED",label:d,globalIndex:m,length:d.length,formats:y,type:"mention"};if(O.length===1&&O[0].is_broadcast_keyword)return Object(r.b)().info("AUTOSLUG",`Creating broadcast keyword mention (${O[0].id})`),C=Object(h.a)(O[0]),{id:O[0].id,label:C,globalIndex:m,length:E,formats:y,type:"mention"};let M=Object(n.a)(O,T=>Object(p.d)(Object(h.a)(T)));M=M.concat(Object(n.a)(O,T=>Object(p.d)(Object(h.b)(T)))),M=Object(t.a)(Object(a.a)(M)),M.sort((T,D)=>(Object(i.a)(D)?D.length:0)-(Object(i.a)(T)?T.length:0));for(let T=0;T<M.length&&(I=M[T]||"",!(d.length>I.length));T+=1){const D=Object(p.c)(I,v,g);if(D||O.length<=1){const S=O.filter(Object(h.c)(I));if(Object(p.b)(I,d)&&S.length===1&&(D||!S[0].is_usergroup))return Object(r.b)().info("AUTOSLUG",`Inserting real mention, only a single matching result (${S[0].id}). ${O.length} total results`),C=Object(h.a)(S[0]),{id:S[0].id,label:C,globalIndex:m,length:O.length===1&&!D?j.length:I.length,formats:y,type:"mention"};if(Object(p.b)(I,d)&&S.length>1){Object(r.b)().info("AUTOSLUG",`${S.length} matching results, trying to break tie using frecency`);const A=l(S,d,null,{normalize:!0});if(A&&A.length>1&&A[0].score-A[1].score>=30){const P=Object(c.a)(S,{id:A[0].id});return C=P?Object(h.a)(P):"",Object(r.b)().info("AUTOSLUG",`Inserting real mention, tie was broken using frecency (${A[0].id}=${A[0].score};${A[1].id}=${A[1].score})`),{id:(P==null?void 0:P.id)||"",label:C,globalIndex:m,length:O.length===1&&!D?j.length:I.length,formats:y,type:"mention"}}}if(D)return Object(r.b)().info("AUTOSLUG",`Inserting maybe-mention mention, expanded mention to cover name (${O.length} total results)`),j.label=v.substr(g,I.length),j.length=I.length,j}}return Object(r.b)().info("AUTOSLUG",`Fallback: Inserting maybe-mention (${O.length} total results)`),j}o(u,"createPotentialMentionObject")},fuYn:function(w,s,e){"use strict";e.d(s,"b",function(){return d}),e.d(s,"a",function(){return m});var n=e("ZKjC"),t=e("0VPD"),a=e("fujP"),i=e("E3dU"),c=e("gVOt"),r=e("xwCZ"),f=e("ehcD"),l=e("O86Y"),p=e("bJfW"),h=e("rZ8V"),u=e("bqbz"),b=e("VqrZ");const v=Object(n.b)(function(g){let{channelId:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O)return g&&g.appHomeContextTeam&&g.appHomeContextTeam[O]});v.meta={name:"createSelector",key:"createSelectormaybeGetCurrentAppHomeContextTeamId",description:function(g){let{channelId:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O)return g&&g.appHomeContextTeam&&g.appHomeContextTeam[O]}};const d=Object(n.b)(function(g){let{channelId:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const E=Object(l.f)(g)||[],y=Object(i.d)(g,O);if(!y)return E;const C=Object(c.a)(y),I=Object(r.g)(g,C),j=Object(f.a)(I),M=Object(t.a)(E,j);return Object(a.a)(M)?E:M});d.meta={name:"createSelector",key:"createSelectorgetPossibleAppHomeContextTeamIds",description:function(g){let{channelId:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const E=Object(l.f)(g)||[],y=Object(i.d)(g,O);if(!y)return E;const C=Object(c.a)(y),I=Object(r.g)(g,C),j=Object(f.a)(I),M=Object(t.a)(E,j);return Object(a.a)(M)?E:M}};const m=Object(n.b)(function(g){let{channelId:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Object(h.i)(g))return;const E=v(g,{channelId:O});if(E)return E;const y=Object(l.g)(g),C=d(g,{channelId:O});if(!Object(a.a)(C)){if(y&&Object(p.a)(y)&&C.includes(y))return y;const I=Object(u.A)(g),j=(I==null?void 0:I.type)===b.b.Workspace?I.workspace.id:void 0;if(j&&C.includes(j))return j;const M=Object(l.c)(g);return M&&C.includes(M)?M:C[0]}});m.meta={name:"createSelector",key:"createSelectorgetAppHomeContextTeamId",description:function(g){let{channelId:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Object(h.i)(g))return;const E=v(g,{channelId:O});if(E)return E;const y=Object(l.g)(g),C=d(g,{channelId:O});if(!Object(a.a)(C)){if(y&&Object(p.a)(y)&&C.includes(y))return y;const I=Object(u.A)(g),j=(I==null?void 0:I.type)===b.b.Workspace?I.workspace.id:void 0;if(j&&C.includes(j))return j;const M=Object(l.c)(g);return M&&C.includes(M)?M:C[0]}}}},"g/Lm":function(w,s,e){"use strict";e.d(s,"b",function(){return r}),e.d(s,"c",function(){return f}),e.d(s,"a",function(){return p});var n=e("S24Y"),t=e("vIgB"),a=e("8/D0"),i=e("Y0qr");const c=o(h=>h==="true"?"1":h==="false"?"0":h,"coerceStringBooleanToNumericBoolean"),r=o((h,u)=>{if(u==="topLevelFilterOperator"){var b;return!((b=h.filter)===null||b===void 0)&&b.root&&"operator"in h.filter.root?h.filter.root.operator:"OR"}return h.filter?Object(i.a)(h.filter,!0):[]},"readListRecordUpdated"),f=o((h,u,b)=>{var v;const d=!((v=u.filter)===null||v===void 0)&&v.root&&"operator"in u.filter.root?u.filter.root.operator:"OR",m=h.map(g=>{const{value:O,field:E}=g,y=c(O);return!y&&E?{statement:`{{data.updated_fields}} CONTAINS '${E}'`}:!E&&y?{statement:`{{data.updated_fields}} CONTAINS '${y}'`}:{statement:`{{data.updated_fields}} CONTAINS '${E}:${y}'`}});if(m.length)return{version:1,root:{operator:d,inputs:m}}},"writeListRecordUpdated"),l=o(h=>{switch(h){case a.b.Checkbox:return t.e.Boolean;case a.b.User:case a.b.CreatedBy:case a.b.LastEditedBy:return t.e.SlackTypesUserId;case a.b.Channel:return t.e.SlackTypesChannelId;case a.b.Email:case a.b.Phone:case a.b.Select:case a.b.Rating:return t.e.String;case a.b.Number:return t.e.Number;case a.b.Message:case a.b.Text:default:return}},"listFieldToFilterTypeMap"),p=o(h=>h.map(u=>{const b=l(u.type),v=Boolean(b&&Object.values(t.e).includes(b)),d=b?[n.a.Equals,n.a.HasChanged]:[n.a.HasChanged];return{id:u.key,type:b,isHermesType:v,supportedOperators:d,name:u.name,options:u.options}}),"convertListSchemaToFilterField")},g3SJ:function(w,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"d",function(){return i}),e.d(s,"b",function(){return c}),e.d(s,"e",function(){return r}),e.d(s,"c",function(){return f});var n=e("wd/R"),t=e.n(n);const a=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function i(l){const p=l.isoWeekday();return p<1||p>7?"INVALID DAY":a[p-1]}o(i,"getDayOfWeek");const c="YYYY-MM-DD[T]HH:mmZ";function r(){const l=t()(),p=i(l);return{start_time:(l.minute()||l.second()||l.millisecond()?l.add(1,"hour").startOf("hour"):l.startOf("hour")).add(1,"week").toISOString(),timezone:t.a.tz.guess(),frequency:{type:"weekly",on_days:[p]}}}o(r,"getDefaultScheduleObject");function f(l){const p=t()(l.start_time,c),h=t()();if(p.isBefore(h)){const u=h.diff(p,"days"),b=Math.abs(p.day()-h.day());p.add(b+u,"days")}return{...l,start_time:p.format(c)}}o(f,"ensureFutureDate")},gBFA:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("zxER"),c=e("P9LH"),r=e("ZobM"),f=e("E3dU"),l=e("E97Y"),p=e("RVJP"),h=e("zm5I");function u(v){let{file:d,hasNotification:m=!1,useIa4Icon:g=!1}=v;const O=Object(i.c)(D=>Object(p.d)(D,"spaceship_canvas_icon_changes")==="on"),E=d==null?void 0:d.linked_channel_id,y=Object(i.c)(D=>Object(f.d)(D,E)),C=Object(l.h)(y),I=Object(i.c)(h.a);if(!Object(c.g)(d))return null;let j;O&&Object(c.h)(d)&&C?j=t.a.createElement(r.a,{name:"direct-messages",variation:g?"filled":void 0,type:"quip",size:"20"}):O&&Object(c.h)(d)?j=t.a.createElement("div",{className:"p-quip_icon_container_channel_icon"},t.a.createElement(r.a,{name:"channel",variation:g?"filled":void 0,type:"quip",size:"20"})):j=t.a.createElement(r.a,{name:"canvas-content",variation:g?"filled":void 0,type:"quip",size:"20"});const M=Object(a.default)("p-quip_icon_container",{"p-quip_icon_container__ia4_icon":g}),T=Object(a.default)("p-quip_icon_notification_badge",{"p-quip_icon_notification_badge--dark_mode":I==="dark"});return t.a.createElement("div",null,t.a.createElement("div",{className:M},j),m?t.a.createElement("div",{className:T}):null)}o(u,"QuipIcon"),u.displayName="QuipIcon";var b=s.a=t.a.memo(u)},gBoP:function(w,s,e){"use strict";e.d(s,"c",function(){return j}),e.d(s,"b",function(){return M}),e.d(s,"a",function(){return T}),e.d(s,"q",function(){return D}),e.d(s,"p",function(){return S}),e.d(s,"r",function(){return A}),e.d(s,"i",function(){return P}),e.d(s,"h",function(){return G}),e.d(s,"g",function(){return V}),e.d(s,"k",function(){return k}),e.d(s,"o",function(){return x}),e.d(s,"n",function(){return H}),e.d(s,"m",function(){return R}),e.d(s,"l",function(){return W}),e.d(s,"e",function(){return U}),e.d(s,"f",function(){return _}),e.d(s,"j",function(){return B}),e.d(s,"d",function(){return z});var n=e("SQ0V"),t=e("gPPH"),a=e("QRgo"),i=e("Ipa7"),c=e("2jTV"),r=e("6G6r"),f=e("yHFC"),l=e("K1sk"),p=e("+l5E"),h=e("UIhb"),u=e("Jhy3"),b=e("dmdh"),v=e("3zNH"),d=e("0w2g"),m=e("Lgge"),g=e("QN65"),O=e("JoR1"),E=e("Bnbe");const y=Object(n.c)("update local SavedCounts for counts.uncompletedCount",(L,$,Q)=>{const K=$(),Z=Object(f.j)(K),ne={...Z,uncompletedCount:Z.uncompletedCount+Q};L(Object(r.h)(ne))});y.meta={name:"createThunk",key:"createThunkupdateLocalUncompletedCount",description:"update local SavedCounts for counts.uncompletedCount"};const C=Object(n.c)("update local SavedCounts for counts.uncompletedOverdueCount",(L,$,Q)=>{const K=$(),Z=Object(f.j)(K),ne={...Z,uncompletedOverdueCount:Z.uncompletedOverdueCount+Q};L(Object(r.h)(ne))});C.meta={name:"createThunk",key:"createThunkupdateLocalUncompletedOverdueCount",description:"update local SavedCounts for counts.uncompletedOverdueCount"};const I=Object(n.c)("update local SavedCounts for local item removal",(L,$,Q)=>{Q&&!Object(l.c)(Q)&&!Object(l.a)(Q)&&(Object(l.b)(Q)&&L(C(-1)),L(y(-1)))});I.meta={name:"createThunk",key:"createThunkupdateLocalCountsForItemRemoval",description:"update local SavedCounts for local item removal"};const j=Object(n.c)("Add a saved message to redux and call the API",(L,$,Q)=>{let{channelId:K,messageTs:Z,dateDue:ne=void 0}=Q;if(!K||!Z)return m.a.reject(new Error(`${d.c} addSavedMessage() requires channelId and messageTs arguments. Received ${K}, ${Z}`));const F=Object(O.t)($(),"has_starred_item")===!0,J={itemType:a.a.message,itemId:K,ts:Z,dateDue:ne,dateCreated:Math.floor(Date.now()/1e3),dateCompleted:0,dateUpdated:0,isArchived:!1,state:"in_progress"};L(Object(r.a)(J)),L(Object(r.g)(J.dateCreated)),L(y(1)),Object(l.b)(J)&&L(C(1));const X=Object(h.b)($(),K,Z);if(X){const Y={...X,saved:Object(g.a)(J)};L(Object(u.a)([Y]))}return L(Object(c.g)({channelId:K,messageTs:Z,dateDue:ne})).then(Y=>(L(Object(E.a)(F)),m.a.resolve(Y))).catch(Y=>{const ae=Y&&Y.data;return((ae==null?void 0:ae.error)===i.a.ChannelNotFound||(ae==null?void 0:ae.error)===i.a.MessageNotFound||(ae==null?void 0:ae.error)===i.a.PermissionDenied)&&(L(Object(r.d)({itemId:K,messageTs:Z})),X&&(delete X.saved,L(Object(u.a)([X])))),m.a.reject(Y)})});j.meta={name:"createThunk",key:"createThunkaddSavedMessage",description:"Add a saved message to redux and call the API"};const M=Object(n.c)("Add a saved file to redux and call the API",(L,$,Q)=>{let{fileId:K,dateDue:Z=void 0}=Q;if(!K)return m.a.reject(new Error(`${d.c} addSavedFile() requires fileId argument. Received ${K}`));const ne=Object(O.t)($(),"has_starred_item")===!0,F={itemType:a.a.file,itemId:K,dateDue:Z,dateCreated:Math.floor(Date.now()/1e3),dateCompleted:0,dateUpdated:0,isArchived:!1,state:"in_progress"};L(Object(r.a)(F)),L(Object(r.g)(F.dateCreated)),L(y(1)),Object(l.b)(F)&&L(C(1));const J=Object(b.e)($(),K);if(J){const X={...J,saved:Object(g.a)(F)};L(Object(v.a)({files:[X]}))}return L(Object(c.f)({fileId:K,dateDue:Z})).then(X=>(L(Object(E.a)(ne)),m.a.resolve(X))).catch(X=>{const Y=X&&X.data;return((Y==null?void 0:Y.error)===i.a.FileNotFound||(Y==null?void 0:Y.error)===i.a.PermissionDenied)&&L(Object(r.d)({itemId:K})),m.a.reject(X)})});M.meta={name:"createThunk",key:"createThunkaddSavedFile",description:"Add a saved file to redux and call the API"};const T=Object(n.c)("Add a reminder to redux and call the API",(L,$,Q)=>{let{description:K,dateDue:Z=void 0}=Q;if(!K)return m.a.reject(new Error(`${d.c} addReminder() requires a description argument`));const ne=Object(O.t)($(),"has_starred_item")===!0,F=Object(t.a)(),J={itemId:F,dateCreated:Math.floor(Date.now()/1e3),itemType:a.a.reminder,description:K,dateDue:Z,dateCompleted:0,dateUpdated:0,state:"in_progress"};return L(Object(r.a)(J)),L(Object(r.g)(J.dateCreated)),L(y(1)),Object(l.b)(J)&&L(C(1)),L(Object(c.h)({description:K,clientId:F,dateDue:Z})).then(X=>(L(Object(E.a)(ne)),m.a.resolve(X))).catch(X=>(L(Object(r.d)({itemId:F})),m.a.reject(X)))});T.meta={name:"createThunk",key:"createThunkaddReminder",description:"Add a reminder to redux and call the API"};const D=Object(n.c)("Update a saved message in redux and call the API",(L,$,Q)=>{let{channelId:K,messageTs:Z,dateDue:ne=void 0}=Q;if(!K||!Z)return m.a.reject(new Error(`${d.c} updateSavedMessage() requires channelId and messageTs arguments. Received ${K}, ${Z}`));const F=Object(g.f)({channelId:K,messageTs:Z}),J=Object(f.k)($(),F);if(J){const X={...J,dateUpdated:Math.floor(Date.now()/1e3),dateDue:ne};Object(l.a)(J)&&!Object(l.a)(X)&&L(y(1)),!Object(l.a)(J)&&Object(l.a)(X)&&(L(y(-1)),Object(l.b)(J)&&L(C(-1))),L(Object(r.i)({itemId:F,updatedItem:X}));const Y=Object(h.b)($(),K,Z);if(Y){const ae={...Y,saved:Object(g.a)(X)};L(Object(u.a)([ae]))}}return L(Object(c.o)({channelId:K,messageTs:Z,dateDue:ne})).catch(X=>(J&&L(Object(r.i)({itemId:F,updatedItem:J})),m.a.reject(X)))});D.meta={name:"createThunk",key:"createThunkupdateSavedMessage",description:"Update a saved message in redux and call the API"};const S=Object(n.c)("Update a saved file in redux and call the API",(L,$,Q)=>{let{itemId:K,dateDue:Z=void 0}=Q;if(!K)return m.a.reject(new Error(`${d.c} updateSavedFile() requires itemId argument of type file. Received ${K}`));const ne=$(),F=Object(f.k)(ne,K);if(F){const J={...F,dateUpdated:Math.floor(Date.now()/1e3),dateDue:Z};Object(l.a)(F)&&!Object(l.a)(J)&&L(y(1)),!Object(l.a)(F)&&Object(l.a)(J)&&(L(y(-1)),Object(l.b)(F)&&L(C(-1))),L(Object(r.i)({itemId:K,updatedItem:J}));const X=Object(b.e)(ne,K);if(X){const Y={...X,saved:Object(g.a)(F)};L(Object(v.a)({files:[Y]}))}}return L(Object(c.n)({itemId:K,dateDue:Z})).catch(J=>(F&&L(Object(r.i)({itemId:K,updatedItem:F})),m.a.reject(J)))});S.meta={name:"createThunk",key:"createThunkupdateSavedFile",description:"Update a saved file in redux and call the API"};const A=Object(n.c)("Update a saved reminder in redux and call the API",(L,$,Q)=>{let{itemId:K,description:Z=void 0,dateDue:ne=void 0}=Q;if(!K)return m.a.reject(new Error(`${d.c} updateSavedReminder() requires an itemId argument. Received ${K}`));const F=Object(f.k)($(),K);if(!F)return m.a.reject(new Error(`${d.c} updateSavedReminder() could not find item to update`));if(F.itemType!==a.a.reminder)return m.a.reject(new Error(`${d.c} updateSavedReminder() requires a reminder itemType`));const J=F,X={...F,description:Z||J.description,dateDue:typeof ne<"u"?ne:J.dateDue};return!Object(l.b)(F)&&Object(l.b)(X)&&L(C(1)),Object(l.b)(F)&&!Object(l.b)(X)&&L(C(-1)),L(Object(r.i)({itemId:K,updatedItem:X})),L(Object(c.p)({itemId:K,description:X.description,dateDue:X.dateDue})).catch(Y=>(F&&L(Object(r.i)({itemId:K,updatedItem:F})),m.a.reject(Y)))});A.meta={name:"createThunk",key:"createThunkupdateSavedReminder",description:"Update a saved reminder in redux and call the API"};const P=Object(n.c)("Remove a saved message in redux and optionally call the API",(L,$,Q)=>{let{channelId:K,messageTs:Z,skipApi:ne=!1}=Q;if(!K||!Z)return m.a.reject(new Error(`${d.c} removeSavedMessage() requires channelId and messageTs arguments. Received ${K}, ${Z}`));const F=Object(g.f)({channelId:K,messageTs:Z}),J=Object(f.k)($(),F);J&&(L(I(J)),L(Object(r.d)({itemId:K,messageTs:Z})));const X=Object(h.b)($(),K,Z);if(X&&(delete X.saved,L(Object(u.a)([X]))),!ne)return L(Object(c.e)({channelId:K,messageTs:Z})).then(()=>m.a.resolve()).catch(Y=>(J&&L(Object(r.a)(J)),m.a.reject(Y)))});P.meta={name:"createThunk",key:"createThunkremoveSavedMessage",description:"Remove a saved message in redux and optionally call the API"};const N=Object(n.c)("Toggle saved for later state on a message",(L,$,Q)=>{let{channelId:K,messageTs:Z}=Q;const ne=Object(h.b)($(),K,Z);return Object(p.xb)(ne)?L(P({channelId:K,messageTs:Z})):L(j({channelId:K,messageTs:Z}))});N.meta={name:"createThunk",key:"createThunktoggleSavedMessage",description:"Toggle saved for later state on a message"};const G=Object(n.c)("Remove a saved file in redux and optionally call the API",(L,$,Q)=>{let{itemId:K,skipApi:Z=!1}=Q;if(!K)return m.a.reject(new Error(`${d.c} removeSavedFile() requires itemId argument of type file. Received ${K}`));const ne=$(),F=Object(f.k)(ne,K);F&&(L(I(F)),L(Object(r.d)({itemId:K})));const J=Object(b.e)(ne,K);if(J&&(delete J.saved,L(Object(v.a)({files:[J]}))),!Z)return L(Object(c.c)({itemId:K})).then(()=>m.a.resolve()).catch(X=>(F&&L(Object(r.a)(F)),m.a.reject(X)))});G.meta={name:"createThunk",key:"createThunkremoveSavedFile",description:"Remove a saved file in redux and optionally call the API"};const V=Object(n.c)("Remove a reminder in redux and optionally call the API",(L,$,Q)=>{let{itemId:K,skipApi:Z=!1}=Q;if(!K)return m.a.reject(new Error(`${d.c} removeReminder() requires an itemId argument. Received ${K}`));const ne=Object(f.k)($(),K);if(ne&&(L(I(ne)),L(Object(r.d)({itemId:K}))),!Z)return L(Object(c.d)({itemId:K})).then(()=>m.a.resolve()).catch(F=>(ne&&L(Object(r.a)(ne)),m.a.reject(F)))});V.meta={name:"createThunk",key:"createThunkremoveReminder",description:"Remove a reminder in redux and optionally call the API"};const k=Object(n.c)("Mark a reminder complete in redux and call the API",(L,$,Q)=>{let{itemId:K,mark:Z,reason:ne}=Q;if(!K)return m.a.reject(new Error(`${d.c} toggleReminderComplete() requires an itemId argument. Received ${K}`));const F=Object(f.k)($(),K);if(!F)return m.a.reject(new Error(`${d.c} toggleReminderComplete() could not find item to update`));const J=Math.floor(Date.now()/1e3),X={...F,dateCompleted:J};return L(Object(r.i)({itemId:K,updatedItem:X})),Z===a.c.completed?(L(y(-1)),Object(l.b)(F)&&L(C(-1))):(L(y(1)),Object(l.b)(F)&&L(C(1))),L(Object(c.i)({itemId:K,mark:Z,reason:ne})).catch(Y=>(L(Object(r.i)({itemId:K,updatedItem:F})),m.a.reject(Y)))});k.meta={name:"createThunk",key:"createThunktoggleReminderComplete",description:"Mark a reminder complete in redux and call the API"};const x=Object(n.c)("Toggle a saved message completed state in redux and call the API",(L,$,Q)=>{let{channelId:K,messageTs:Z,mark:ne,reason:F}=Q;if(!K||!Z)return m.a.reject(new Error(`${d.c} toggleSavedMessageComplete() requires channelId and messageTs arguments. Received ${K}, ${Z}`));const J=Object(g.f)({channelId:K,messageTs:Z}),X=Object(f.k)($(),J);if(!X)return m.a.reject(new Error(`${d.c} toggleSavedMessageComplete() could not find item to mark complete`));const Y=ne===a.c.completed?Math.floor(Date.now()/1e3):0,ae={...X,dateCompleted:Y};L(Object(r.i)({itemId:J,updatedItem:ae})),ne===a.c.completed?(L(y(-1)),Object(l.b)(X)&&L(C(-1))):L(y(1));const ee=Object(h.b)($(),K,Z);if(ee){const q={...ee,saved:Object(g.a)(ae)};L(Object(u.a)([q]))}return L(Object(c.m)({channelId:K,messageTs:Z,mark:ne,reason:F})).catch(q=>(L(Object(r.i)({itemId:J,updatedItem:X})),m.a.reject(q)))});x.meta={name:"createThunk",key:"createThunktoggleSavedMessageComplete",description:"Toggle a saved message completed state in redux and call the API"};const H=Object(n.c)("Toggle a saved message archived state in redux and call the API",(L,$,Q)=>{let{channelId:K,messageTs:Z,mark:ne,reason:F}=Q;if(!K||!Z)return m.a.reject(new Error(`${d.c} toggleSavedMessageArchived() requires channelId and messageTs arguments. Received ${K}, ${Z}`));const J=Object(g.f)({channelId:K,messageTs:Z}),X=Object(f.k)($(),J);if(!X)return m.a.reject(new Error(`${d.c} toggleSavedMessageArchived() could not find item to mark archived`));const Y={...X,dateDue:0,isArchived:ne===a.c.archived};L(Object(r.i)({itemId:J,updatedItem:Y})),ne===a.c.archived?(L(y(-1)),Object(l.b)(X)&&L(C(-1))):L(y(1));const ae=Object(h.b)($(),K,Z);if(ae){const ee={...ae,saved:Object(g.a)(Y)};L(Object(u.a)([ee]))}return L(Object(c.l)({channelId:K,messageTs:Z,mark:ne,reason:F})).catch(ee=>(L(Object(r.i)({itemId:J,updatedItem:X})),m.a.reject(ee)))});H.meta={name:"createThunk",key:"createThunktoggleSavedMessageArchived",description:"Toggle a saved message archived state in redux and call the API"};const R=Object(n.c)("Toggle a saved file completed state in redux and call the API",(L,$,Q)=>{let{itemId:K,mark:Z,reason:ne}=Q;if(!K)return m.a.reject(new Error(`${d.c} toggleSavedFileComplete() requires itemId argument. Received ${K}`));const F=Object(f.k)($(),K);if(!F)return m.a.reject(new Error(`${d.c} toggleSavedFileComplete() could not find item to mark complete`));const J=Z===a.c.completed?Math.floor(Date.now()/1e3):0,X={...F,dateCompleted:J};return L(Object(r.i)({itemId:K,updatedItem:X})),Z===a.c.completed?(L(y(-1)),Object(l.b)(F)&&L(C(-1))):L(y(1)),L(Object(c.k)({itemId:K,mark:Z,reason:ne})).catch(Y=>(L(Object(r.i)({itemId:K,updatedItem:F})),m.a.reject(Y)))});R.meta={name:"createThunk",key:"createThunktoggleSavedFileComplete",description:"Toggle a saved file completed state in redux and call the API"};const W=Object(n.c)("Toggle a saved file archived state in redux and call the API",(L,$,Q)=>{let{itemId:K,mark:Z,reason:ne}=Q;if(!K)return m.a.reject(new Error(`${d.c} toggleSavedFileArchived() requires itemId argument. Received ${K}`));const F=Object(f.k)($(),K);if(!F)return m.a.reject(new Error(`${d.c} toggleSavedFileArchived() could not find item to mark archived`));const J={...F,dateDue:0,isArchived:Z===a.c.archived};return L(Object(r.i)({itemId:K,updatedItem:J})),Z===a.c.archived?(L(y(-1)),Object(l.b)(F)&&L(C(-1))):L(y(1)),L(Object(c.j)({itemId:K,mark:Z,reason:ne})).catch(X=>(L(Object(r.i)({itemId:K,updatedItem:F})),m.a.reject(X)))});W.meta={name:"createThunk",key:"createThunktoggleSavedFileArchived",description:"Toggle a saved file archived state in redux and call the API"};const U=Object(n.c)("Remove completed items from redux locally",(L,$)=>{const Q=$();Object(f.f)(Q).map(Z=>{if(Z)return Z.itemType===a.a.message?L(P({channelId:Z.itemId,messageTs:Z.ts,skipApi:!0})):Z.itemType===a.a.file?L(G({itemId:Z.itemId,skipApi:!0})):L(V({itemId:Z.itemId,skipApi:!0})),Z})});U.meta={name:"createThunk",key:"createThunkclearLocalCompletedItems",description:"Remove completed items from redux locally"};const _=Object(n.c)("Delete all completed items",L=>{L(Object(c.a)({reason:"manually_marked_all_completed"})),L(U())});_.meta={name:"createThunk",key:"createThunkremoveAllCompletedItems",description:"Delete all completed items"};const B=Object(n.c)("Snooze a reminder",(L,$,Q)=>{let{item:K,dateDueTs:Z}=Q;const ne=K.itemType===a.a.message,F=K.itemType===a.a.file;L(ne?D({channelId:K.itemId,messageTs:K.ts,dateDue:Z}):F?S({itemId:K.itemId,dateDue:Z}):A({itemId:K.itemId,dateDue:Z}))});B.meta={name:"createThunk",key:"createThunksnoozeReminder",description:"Snooze a reminder"};const z=Object(n.c)("Apply change in later_show_upcoming_reminders pref",(L,$)=>{L(Object(c.b)({filter:a.b.saved,replace:!0}))});z.meta={name:"createThunk",key:"createThunkapplyUpcomingRemindersPrefChange",description:"Apply change in later_show_upcoming_reminders pref"}},gFcQ:function(w,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"b",function(){return p});var n=e("nNoG"),t=e("Y31Q"),a=e("EJqq"),i=e("7nxQ"),c=e("GYna");const r=new n.b("emoji");function f(h,u){const b=Object(n.m)();return Object(a.e)({state:h,locale:b,text:u})}o(f,"getLocalizedEmojiName");function l(h,u,b){let{state:v}=b;const d=f(v,h),m=Object(c.a)(v),g=d&&Object(t.b)(d,u,m);return d?Object(i.e)()?g:` ${g} `:m?r.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:h,size:u}):`${u} ${h} emojis`}o(l,"convertEmojiGroupNameToPhrase");function p(h,u){let{state:b}=u;const v=f(b,h),d=v&&Object(t.a)(v);return v?Object(i.e)()?d:` ${d} `:h}o(p,"convertEmojiNameToPhrase")},gMIi:function(w,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("fujP"),t=e("SQ0V"),a=e("Lgge"),i=e("s4P+"),c=e("hD77"),r=e("q3X1"),f=e("Kn+X"),l=e("XELS"),p=e("I27i"),h=e("jKtb"),u=e("m5fH"),b=e("gCYc");const v=Object(t.c)("Creates a synced draft",function(g,O){let{draftId:E,reason:y,handleExistingAttachedDraft:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!E)return a.a.reject(new Error("Cannot sync draft creation due to a missing draft id"));const{error:I,info:j}=Object(i.a)({getState:O,label:"DRAFTS"}),M=Object(b.k)(O(),E);return M?Object(p.e)(O())?(j(`Syncing a new draft - ${E}`),Object(r.a)(E),g(Object(l.a)({draft:M,reason:y})).then(T=>{if(j(`New draft synced - ${E}`),!(T!=null&&T.draft)){I(`No draft received from the drafts.create response ${E}`);return}const D=Object(b.k)(O(),E);if(Object(n.a)(D)){j(`Draft no longer exists locally, skipping post API updates - ${E}`);return}const S=parseFloat(T.draft.last_updated_ts);g(Object(u.h)({client_draft_id:E,id:T.draft.id,last_updated_ts:S}))}).catch(T=>{(T==null?void 0:T.name)==="attached_draft_exists"&&C?C(E,M):I(`The drafts.create call failed - ${E}`,T)}).finally(()=>{Object(r.b)(E)})):(j(`Deferring create draft API while offline (id: ${E})`),g(Object(h.a)({draftClientId:E})),a.a.resolve()):(j(`No need to sync changes for a draft that no longer exists locally - ${E}`),a.a.resolve())});v.meta={name:"createThunk",key:"createThunksyncDraftCreate",description:"Creates a synced draft"};const d=Object(t.c)("Creates a draft locally and via API",function(g,O){let{draft:E,reason:y,syncImmediately:C=!1,handleExistingAttachedDraft:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object(n.a)(E))return;const{error:j}=Object(i.a)({getState:O,label:"DRAFTS"}),M=Object(f.e)(E);if(!M){j("Draft does not have an ID - an ID is required to create a draft");return}const T=o(()=>{const D={draftId:M,reason:y};I&&(D.handleExistingAttachedDraft=I),g(v(D))},"sync");C?T():Object(c.b)({draftId:M,sync:T})});d.meta={name:"createThunk",key:"createThunkcreateDraft",description:"Creates a draft locally and via API"};const m={syncDraftCreate:v}},gTpg:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("fujP"),t=e("9MPI"),a=e("dmHe");function i(c,r){var f;if(!Object(a.a)(c,r))return!0;const l=Object(t.a)(c,r,"enable_at_channel");return Object(n.a)(l)||((f=l)===null||f===void 0?void 0:f.enabled)}o(i,"isBroadcastKeywordsEnabled")},gV07:function(w,s,e){"use strict";var n=e("ifKl"),t=e("q1tI"),a=e.n(t),i=e("BHdc"),c=e("Cfcg"),r=e("G5NC"),f=e("DQNL"),l=e("G0eX"),p=e("GhjL"),h=e("beVI"),u=e("Tevt"),b=e("dl0f"),v=e("mzG2"),d=e("2vLX"),m=e("rZ8V"),g=e("Pn4H");function O(){return O=Object.assign||function(j){for(var M=1;M<arguments.length;M++){var T=arguments[M];for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&(j[D]=T[D])}return j},O.apply(this,arguments)}o(O,"_extends");function E(j){let{id:M,className:T=void 0,fallback:D=void 0,handle:S=void 0,isUserInGroup:A=!1,onClick:P=n.a,noHighlights:N=!1,noLinking:G=!1,isNonExistent:V=!1,isUnknown:k=!1,isDeactivated:x=!1,team:H=void 0,experimentIa4Enabled:R,showUserGroupDetailsProps:W}=j;const U=Object(t.useCallback)(K=>{R&&(W(M),K.preventDefault()),P(K,M)},[M,P,R,W]);if(k)return a.a.createElement(b.a,{type:"unknown"});if(V&&!D)return a.a.createElement(b.a,{type:"non-existent"});const _=!G&&!V&&!x,B=Object(v.a)({userGroupHandle:S,fallbackHandle:D,isUnknown:k,isNonExistent:V}),z=B,L=A&&!N,$=Object(i.default)("c-mrkdwn__user_group",T,{"c-mrkdwn__user_group--link":_,"c-mrkdwn__user_group--mention":L});if(!_)return a.a.createElement("span",{"data-user-group-id":M,"data-qa-user-group-mrkdwn-is-linked":_,"data-qa-user-group-mrkdwn-is-mention":L,className:$},z);const Q={};return Object(r.a)()?(Q["data-stringify-type"]="mention",Q["data-stringify-id"]=M,Q["data-stringify-label"]=B):Q["data-stringify-text"]=B,a.a.createElement(u.a,O({className:$,"data-user-group-id":M,"data-qa-user-group-mrkdwn-is-linked":_,"data-qa-user-group-mrkdwn-is-mention":L,href:`${Object(l.v)(H)}admin/user_groups`,onClick:U},Q),z)}o(E,"UserGroup"),E.displayName="UserGroup";const y=a.a.memo(E);function C(j,M){let{id:T}=M;const D=Object(p.d)(j,T);let S;if(D){const P=Object(f.u)(D),N=Object(f.t)(D),G=!Object(f.x)(D),V=D.handle||void 0;var A;S={handle:V,isUnknown:P,isNonExistent:N,isDeactivated:G,isUserInGroup:Object(d.b)(j,D.id)&&!G,team:(A=Object(h.g)(j))!==null&&A!==void 0?A:void 0,experimentIa4Enabled:!!Object(m.m)(j)}}else S={isNonExistent:!0,experimentIa4Enabled:!!Object(m.m)(j)};return S}o(C,"mapStateToProps");const I=o(j=>({showUserGroupDetailsProps:M=>j(Object(g.a)({groupId:M}))}),"mapDispatchToProps");s.a=Object(c.a)(C,I)(E)},ganR:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("zxER"),c=e("NNLN"),r=e("ktUG"),f=e("wNt4"),l=e("j/ar"),p=e("Trx9"),h=e("+HIp");const u=o(b=>{let{children:v,url:d}=b;const m=Object(a.useDispatch)(),g=Object(n.useContext)(c.a).channelId,O=Object(i.c)(j=>Object(l.c)(j,d)),E=Object(i.c)(j=>Object(l.d)(j,d)),y=Object(i.c)(j=>Object(h.c)(j,O??"")!==null),C=Object(n.useCallback)(j=>{j.shiftKey||j.metaKey||j.ctrlKey||(j.preventDefault(),m(Object(f.a)({url:d,channelId:g})))},[m,d,g]),I=Object(n.useMemo)(()=>({onClick:{enableClogAction:!y}}),[y]);return t.a.createElement(p.a,{eventId:r.EventId.IDL_CLICKED,idlAppId:O,idlDomain:E,idlEventId:r.EventId[r.EventId.IDL_CLICKED].toLowerCase()},typeof v=="function"?v(C,I):v)},"IdentityTransferTrigger");u.displayName="IdentityTransferTrigger",s.a=u},gn35:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("2XU3"),t=e("WCk1"),a=e("s4P+");const i=Object(t.a)("Check to see if the client\u2019s is authorzied based on the IP address of the client",(c,r,f)=>{let{reason:l,fileId:p=""}=f;return c(Object(n.apiCall)({method:"teams.authorized.ip.range.checkIp",args:{file:p},reason:l})).catch(h=>{const u="Failed to check IP";throw Object(a.a)({getState:r}).error("Authorized IP ranges",u),h})});i.meta={name:"createFetcher",key:"createFetchercheckIP",description:"Check to see if the client\u2019s is authorzied based on the IP address of the client"}},gnJq:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("Kmpi");function t(a){return Object(n.d)(a)}o(t,"isFileUnknown")},goOt:function(w,s,e){"use strict";e.d(s,"a",function(){return Z});var n=e("yIs4"),t=e("XIp8"),a=e("GhjL"),i=e("xwCZ"),c=e("E3dU"),r=e("O86Y"),f=e("Kmpi"),l=e("Yauy"),p=e("52Wj"),h=e("E97Y"),u=e("paOu"),b=e("GYna"),v=e("dS/7"),d=e("m5Yc"),m=e("Atq3"),g=e("gFcQ"),O=e("Owxj"),E=e("mzG2"),y=e("D3DU"),C=e("EJqq");function I(ne){if(ne<=0)return"";let F="",J=ne;for(;J>0;)J-=1,F=String.fromCharCode("a".charCodeAt(0)+J%26)+F,J=Math.floor(J/26);return F}o(I,"convertNumberToLetterIncrement");const j=["","c","cc","ccc","cd","d","dc","dcc","dccc","cm","","x","xx","xxx","xl","l","lx","lxx","lxxx","xc","","i","ii","iii","iv","v","vi","vii","viii","ix"];function M(ne){if(ne<=0)return"";const F=ne.toString().split("");let J="";for(let ae=2;ae>=0;ae--){const ee=parseInt(F.pop()||"0",10);J=(j[ee+ae*10]||"")+J}const X=F.join("")||"0",Y=parseInt(X,10)+1;return Array(Y).join("m")+J}o(M,"convertNumberToRomanNumeral");var T=e("nNoG"),D=e("A/mR"),S=e("895Y"),A=e("HJKc"),P=e("iomZ");const N=new T.b("channel_token"),G=new T.b("emoji"),V=o((ne,F)=>F.text||"","textToText"),k=o((ne,F)=>`@${F.range}`,"broadcastToText"),x=o((ne,F)=>F.value||"","colorToText"),H=o((ne,F,J)=>{let{linkFormat:X}=J;const{text:Y="",url:ae=""}=F;if(!Y&&!ae)return"";if(!Y)return ae;switch(X){case"default":return Y;case"prefer_url":return ae;case"bracket":return`[ ${Y}: ${ae} ]`;default:Object(m.a)(X)}},"linkToText"),R=o((ne,F)=>{const J=Object(i.g)(ne,F.user_id);return`@${Object(p.b)(J)||F.user_id}`},"userToText"),W=o((ne,F)=>{const J=Object(a.d)(ne,F.usergroup_id);if(J===!1)return Object(E.a)({userGroupHandle:"",isUnknown:!0,isNonExistent:!0});const X=Object(f.c)(J);var Y;return Object(E.a)({userGroupHandle:X?"":(Y=J.handle)!==null&&Y!==void 0?Y:"",isUnknown:Object(f.d)(J),isNonExistent:Object(f.c)(J)})},"userGroupToText"),U=o((ne,F)=>{const J=Object(c.d)(ne,F.channel_id);var X;const Y=(X=Object(l.t)(ne,J,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}))!==null&&X!==void 0?X:"",ae=Object(f.d)(J),ee=Object(f.c)(J),q=Object(h.k)(J),te=Object(l.db)(J);return ee||q&&!te?`#${N.t("private-channel")}`:Object(y.a)({channelName:Y,isUnknown:ae,isNonExistent:ee})},"channelToText"),_=o((ne,F,J)=>{let{convertEmoji:X}=J;const Y=Object(v.a)(F,{state:ne,localize:!1}),ae=Object(C.i)({state:ne,locale:Object(T.m)(),name:Y});return X==="phrase"?Object(g.b)(ae||"",{state:ne})||"":X==="unicode"&&(F!=null&&F.unicode)&&Object(A.a)(F.unicode)?Object(P.a)({codePointLikeString:F.unicode})||"":X==="unicode"&&!(F!=null&&F.unicode)?Object(O.a)(ne,{messageText:Y,teamId:Object(r.g)(ne)}):ae??""},"emojiToText"),B=o((ne,F,J)=>{let{convertEmoji:X}=J;const Y=Object(v.a)({...F,type:d.b.EMOJI},{state:ne,localize:!1}),ae=Object(C.i)({state:ne,locale:Object(T.m)(),name:Y});if(X==="phrase"){var ee;return(ee=Object(g.a)(ae||"",F.size||0,{state:ne}))!==null&&ee!==void 0?ee:""}var q;const te=(q=X==="unicode"?Object(O.a)(ne,{messageText:Y,teamId:Object(r.g)(ne)}):ae)!==null&&q!==void 0?q:"";return Object(b.a)(ne)?G.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:te,size:F.size}):`${F.size} ${te} emojis`},"emojiGroupToText"),z=o((ne,F)=>!F.timestamp&&F.fallback?F.fallback:Object(D.g)(F.timestamp,F.format,{...F.fallback&&{fallbackString:F.fallback}}),"dateToText"),L={[d.b.TEXT]:V,[d.b.USER]:R,[d.b.USERGROUP]:W,[d.b.CHANNEL]:U,[d.b.BROADCAST]:k,[d.b.DATE]:z,[d.b.COLOR]:x,[d.b.LINK]:H,[d.b.EMOJI]:_,[d.b._EMOJI_GROUP]:B};function $(ne){let{indent:F}=ne;return!Object(n.a)(F)||F%3===0?"\u2022":F%3===1?"\u25E6":F%3===2?"\u25A0":"\u2022"}o($,"getUnorderedListCharacter");function Q(ne){let{indent:F,incr:J}=ne;return!Object(n.a)(F)||F%3===0?J:F%3===1?I(J):F%3===2?M(J):J}o(Q,"getOrderedListCharacter");function K(ne,F){return Object(b.a)(ne)?Object(u.a)(Object(t.a)(F)):F}o(K,"maybeGroupEmojies");function Z(ne,F){let{convertEmoji:J="text",linkFormat:X="default"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!F||!F.length)return"";const Y=o(q=>{if(!q||!q.elements)return"";const te=[];return q.elements.forEach(de=>{if(!de||!de.type)return;const se=L[de.type];var re;const oe=(re=se==null?void 0:se(ne,de,{convertEmoji:J,linkFormat:X}))!==null&&re!==void 0?re:"";te.push(oe)}),te.join("")},"convertSection"),ae=[];return K(ne,F[0].elements).forEach(q=>{if(!(!q||!q.type))if(Object(S.a)(q)){const te=q.offset||0,de=q.indent||0;let se=1+te;q.elements.forEach(re=>{const oe=Y(re);if(q.style==="ordered"){const ce=Q({indent:de,incr:se});ae.push(`${ce}. ${oe}.`),se+=1}else{const ce=$({indent:de});ae.push(`${ce} ${oe}.`)}})}else ae.push(Y(q))}),ae.join(`
`)}o(Z,"convertRichTextToPlainText")},gvAg:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n={StepLibrary:"StepLibrary"}},gwqd:function(w,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"d",function(){return r}),e.d(s,"c",function(){return l}),e.d(s,"b",function(){return h});var n=e("gPPH"),t=e("Qm7m");const a=o(()=>({id:Object(n.a)(),type:t.MESSAGE_ACTION,config:{callback_id:Object(n.a)(),name:"",description:""}}),"createMessageActionTrigger"),i=o((u,b)=>({...u,config:{...u.config,name:b}}),"updateTriggerSetName"),c=o((u,b)=>({...u,config:{...u.config,description:b}}),"updateTriggerSetDescription"),r=o((u,b)=>c(i(u,b),b),"updateTriggerSetNameAndDescription");var f;const l=o(u=>{var b;return(f=u==null||(b=u.config)===null||b===void 0?void 0:b.name)!==null&&f!==void 0?f:""},"getNameFromTrigger");var p;const h=o(u=>{var b;return(p=u==null||(b=u.config)===null||b===void 0?void 0:b.description)!==null&&p!==void 0?p:""},"getDescriptionFromTrigger")},h6Kc:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Sets the aria-expanded value for a composer button");t.meta={name:"createAction",key:"createActionsetComposerButtonExpandedState",description:"Sets the aria-expanded value for a composer button"}},h9dl:function(w,s,e){"use strict";var n=e("Lgge"),t=e("n3tL"),a=e("SQ0V"),i=e("E3dU"),c=e("Fqb6"),r=e("eUIW"),f=e("Sl1j"),l=e("Yauy"),p=e("E97Y");const h=Object(a.c)("Joins the channel or creates an IM so a file or message can be shared into it",(b,v,d)=>{const m=v(),{channelOrMemberId:g}=d;if(!g)return n.a.reject(new Error("Missing channelOrMemberId"));if(Object(r.a)(g)){const y=Object(i.m)(m,g);return y?n.a.resolve(y.id):b(Object(f.r)({memberIds:[g],reason:"prepare-channel-for-sharing"})).then(function(){let{channel:C}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return C?(b(Object(c.a)({channel:C})),C.id):null})}const O=!1,E=Object(i.d)(m,g,O);return E?Object(p.l)(E)&&!Object(l.db)(E)?b(Object(f.C)({channelId:E.id,requestInBackground:!0,reason:"get_channel_id_for_sharing"})).then(()=>E.id):n.a.resolve(E.id):n.a.reject(new Error(`Unknown channel ID ${g}`))});h.meta={name:"createThunk",key:"createThunkgetChannelIdForSharing",description:"Joins the channel or creates an IM so a file or message can be shared into it"},h.propTypes={channelOrMemberId:t.default.string},s.a=h;const u={getChannelIdForSharing:h}},h9xh:function(w,s,e){"use strict";e.d(s,"d",function(){return c}),e.d(s,"c",function(){return r}),e.d(s,"a",function(){return f}),e.d(s,"b",function(){return l});var n=e("ZKjC"),t=e("O86Y"),a=e("u5wV"),i=e("i5Ig");const c=Object(n.b)((p,h)=>{const u=Object(t.g)(p);return u&&Object(a.b)().maybeRefetch(u,h),p&&p.workflowApps&&p.workflowApps[h]?p.workflowApps[h]:i.a});c.meta={name:"createSelector",key:"createSelectorgetWorkflowAppsListForChannel",description:(p,h)=>{const u=Object(t.g)(p);return u&&Object(a.b)().maybeRefetch(u,h),p&&p.workflowApps&&p.workflowApps[h]?p.workflowApps[h]:i.a}};const r=Object(n.b)((p,h)=>{var u,b;return p==null||(u=p.workflowApps)===null||u===void 0||(b=u[h])===null||b===void 0?void 0:b[0]});r.meta={name:"createSelector",key:"createSelectorgetWorkflowAppForDMChannel",description:(p,h)=>{var u,b;return p==null||(u=p.workflowApps)===null||u===void 0||(b=u[h])===null||b===void 0?void 0:b[0]}};const f=Object(n.b)((p,h,u)=>{if(p&&p.workflowApps&&p.workflowApps[h]){const b=p.workflowApps[h].find(v=>v.app_id===u);if(b)return b.user_id}return null});f.meta={name:"createSelector",key:"createSelectorgetBotUserIdForWorkflowAppInChannel",description:(p,h,u)=>{if(p&&p.workflowApps&&p.workflowApps[h]){const b=p.workflowApps[h].find(v=>v.app_id===u);if(b)return b.user_id}return null}};const l=Object(n.b)((p,h,u)=>{if(p&&p.workflowApps&&p.workflowApps[h]){const b=p.workflowApps[h].find(v=>v.app_id===u);if(b)return b}return null});l.meta={name:"createSelector",key:"createSelectorgetWorkflowAppForChannel",description:(p,h,u)=>{if(p&&p.workflowApps&&p.workflowApps[h]){const b=p.workflowApps[h].find(v=>v.app_id===u);if(b)return b}return null}}},hCtB:function(w,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"c",function(){return r}),e.d(s,"d",function(){return l}),e.d(s,"a",function(){return u});var n=e("CpTu"),t=e("OZf9"),a=e("vIgB");const i="__",c=o((b,v)=>`${b}${i}${v}`,"getGeneratedWorkflowInputName"),r=o(b=>`{{inputs.${b}}}`,"getWorkflowInputReference"),f=o(b=>{var v;return(v=b.split(i)[1])!==null&&v!==void 0?v:b},"getInputNameBase"),l=o((b,v)=>{if(!b)return!1;const d=Object.keys(b??{}).find(m=>m.includes(f(v)));return d?Boolean(b[d].is_customizable):!1},"isInputCustomizable"),p=o((b,v)=>{const[d,m]=b;let g;if(d===v&&(g=b),!m.is_hidden&&m.type===a.d.Object&&"properties"in m){const O=Object(n.a)(Object.entries(m.properties),E=>{let[y]=E;return y===v});O&&(g=O)}return g},"findEntryMatchById"),h=o((b,v,d)=>{const m=b[1];let g;return(c(d,m.name)===v||m.name===v)&&(g=b),!m.is_hidden&&m.type===a.d.Object&&"properties"in m&&(g=Object(n.a)(Object.entries(m.properties),E=>{const y=E[1];return c(d,y.name)===v||y.name===v})),g},"findEntryMatchByName");function u(b,v){const d=b.available_data;let m;return Object(t.a)(Object.entries(d),g=>{const{id:O,name:E}=v;return!(O&&(m=p(g,O),m)||E&&(m=h(g,E,b.id),m))}),m}o(u,"findTriggerVariable")},hEEl:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("P9LH"),i=e("NV6F"),c=e("Tsh7"),r=e("DQKV"),f=e("CTEJ");function l(p){let{file:h,stopAnimations:u}=p,b,v;if(Object(a.g)(h)||Object(a.o)(h)){if(Object(a.g)(h))v=Object(i.D)({id:h.id,fileId:h.id,stringOnly:!0,size:"caption"});else{const d=Object(a.F)(h);v=d?t.a.createElement(r.a,{text:d,stopAnimations:u}):t.a.createElement(f.a,{size:"medium"})}return b=t.a.createElement(c.d,{tip:v},t.a.createElement("div",{className:"c-truncate c-truncate--break_words","data-qa":"canvas-display-name"},v)),b}return null}o(l,"CanvasOrListDisplayName"),l.displayName="CanvasOrListDisplayName",s.a=l},hRMJ:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("4p6e"),t=e("G5NC");let a=Object(n.a)();const i=o(()=>!(a||!Object(t.a)()),"precheck");function c(f){return!!i()}o(c,"isMultiverseQuillEnabled"),Object.defineProperty({disableForTests:a},"disableForTests",{get:()=>a,set:f=>{a=f}})},hRxb:function(w,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"b",function(){return r});var n=e("ltDl"),t=e("dmdh"),a=e("P9LH"),i=e("6dQg");function c(f,l,p){if(!l)return null;const h=Object(n.a)(l);return r(f,h,p)}o(c,"getQuipFileIdFromUrl");function r(f,l,p){const h=l.pathname&&l.pathname[0]==="/"?l.pathname.slice(1):l.pathname,u=h.split("/");if(h.indexOf("docs/")===0||h.indexOf("spaces/")===0){if(u.length<3)return null;const b=u[2];if(b&&Object(i.a)(b)){const v=Object(t.e)(f,b);if(v&&(Object(a.Eb)(v)||p))return b}return null}return null}o(r,"getQuipFileIdFromParsedUrl")},hXah:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("JoR1"),c=e("P7By"),r=e("BHdc");function f(){return f=Object.assign||function(u){for(var b=1;b<arguments.length;b++){var v=arguments[b];for(var d in v)Object.prototype.hasOwnProperty.call(v,d)&&(u[d]=v[d])}return u},f.apply(this,arguments)}o(f,"_extends");const l="a11y_animations";function p(u){const{clientTheme:b="light",className:v}=u,d=Object(a.c)(g=>Object(i.t)(g,l)),m=Object(n.useCallback)(()=>b==="dark"?e.e("gantry-v2-async-lottie-birds-staggered-dark-mode.json").then(e.t.bind(null,"SRsn",3)):e.e("gantry-v2-async-lottie-birds-staggered-light-mode.json").then(e.t.bind(null,"GuhX",3)),[b]);return t.a.createElement(c.a,f({},u,{className:Object(r.default)(`p-spicy_sparrow_lottie_animation p-spicy_sparrow_lottie_animation--${b}`,v),getAnimationImport:m,loop:!0,autoplay:!!d}))}o(p,"SpicySparrowLottieAnimation"),p.displayName="SpicySparrowLottieAnimation";var h=s.a=t.a.memo(p)},hYzt:function(w,s,e){"use strict";e.r(s);var n=e("q1tI"),t=e.n(n),a=e("1Apa"),i=e("nNoG"),c=e("HOkk");const r=new i.b("rxns"),f=[()=>r.t("For reasons of performance and productivity and brevity being the soul of wit, you can add up to 23 emoji to a message, but no more.",{fallbackHash:"794631f678fbb6fc09aeb01c84ed296ab74d2bfd"}),()=>r.t("Well done! You\u2019ve added the maximum amount of emoji one person can add to one message. For reasons of performance, productivity and sharpened creative thinking, we cap the number of individual reacji to 23.",{fallbackHash:"6bc8c58e34c7f7741aa80ed5e9be299490442c8d"}),()=>r.t("Emotions! We all have them \u2014 but on Slack, you\u2019re limited to 23 reactions per message.",{fallbackHash:"1ad8ba31825ab045be95b0b03a4ec3c835421f89"})],l=[()=>r.t("The human heart is a powerful thing; its capacity to feel is limitless! A message\u2019s capacity is 50.",{fallbackHash:"c150f264344765077dff40263d1787d7dd473aa8"}),()=>r.t("Alas! Slack only allows each message a grand total of 50 emoji reactions.",{fallbackHash:"58169cc0877356a4ff1e13e704f63875116e4c4d"}),()=>r.t("A single message can\u2019t have more than 50 unique reactions. When we asked the engineers why they said, \u201Cwe have to set limits somewhere,\u201D and then we tried to frown but this error popped up. So that\u2019s where we\u2019re at.",{fallbackHash:"440d506143f2665f556689039ccb95db36bdfa30"})];let p=o(class extends n.PureComponent{render(){const{error:u}=this.props;let b;if(u==="too_many_reactions"){const v=Object(a.a)(f);b=v?v():""}else if(u==="too_many_emoji"){const v=Object(a.a)(l);b=v?v():""}return t.a.createElement(c.a,{goButtonText:r.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"}),shouldCloseOnGo:!0,showCancelButton:!1,showCloseButton:!1,title:r.t("You\u2019ve reached the reaction limit")},t.a.createElement("p",null,b))}},"ReactionErrorDialog");p.displayName="ReactionErrorDialog",s.default=p},haNl:function(w,s,e){"use strict";e.d(s,"e",function(){return u}),e.d(s,"i",function(){return b}),e.d(s,"c",function(){return O}),e.d(s,"g",function(){return E}),e.d(s,"d",function(){return y}),e.d(s,"h",function(){return C}),e.d(s,"b",function(){return D}),e.d(s,"f",function(){return S}),e.d(s,"a",function(){return A});var n=e("Fsnq"),t=e("s4P+"),a=e("mLC8"),i=e("eUIW");const c=200,r=Object(t.b)();let f=[];const l=o(P=>{Object(n.a)(f)>c&&(r.error("composer-tracing-utils: sentTimestamps exceeded maximum array size"),f=[]),f.push(P)},"addSentTimestamps"),p=o(P=>{f=f.filter(N=>N!==P)},"removeSentTimestamps"),h=o(P=>f.indexOf(P)>-1,"hasSentTimestamps"),u=o((P,N)=>{h(P)||(l(P),a.d.start({label:a.a.MessageSendRendering,id:P,options:{traceName:a.a.MessageSendRendering,teamId:N}}))},"maybeStartMessageRenderSlugAutoTrace"),b=o(P=>{h(P)&&(p(P),a.d.stop({label:a.a.MessageSendRendering,id:P}))},"maybeStopMessageRenderSlugAutoTrace");let v=[];const d=o(P=>{Object(n.a)(v)>c&&(r.error("composer-tracing-utils: slugIds exceeded maximum array size"),f=[]),v.push(P)},"addSlugId"),m=o(P=>{v=v.filter(N=>N!==P)},"removeSlugId"),g=o(P=>v.indexOf(P)>-1,"hasSlugId"),O=o(P=>{g(P)||(d(P),a.d.start({label:a.a.ComposerEmojiRendering,id:P,options:{traceName:a.a.ComposerEmojiRendering}}))},"maybeStartEmojiSlugAutoTrace"),E=o(P=>{g(P)&&(m(P),a.d.stop({label:a.a.ComposerEmojiRendering,id:P}))},"maybeStopEmojiSlugAutoTrace"),y=o(P=>{if(!g(P)){d(P);const N=Object(i.a)(P)?a.a.ComposerMentionRendering:a.a.ComposerChannelRendering;a.d.start({label:N,id:P,options:{traceName:N}})}},"maybeStartMentionSlugAutoTrace"),C=o(P=>{if(g(P)){m(P);const N=Object(i.a)(P)?a.a.ComposerMentionRendering:a.a.ComposerChannelRendering;a.d.stop({label:N,id:P})}},"maybeStopMentionSlugAutoTrace");let I=[];const j=o(P=>{Object(n.a)(I)>c&&(r.error("composer-tracing-utils: matchIds exceeded maximum array size"),I=[]),I.push(P)},"addMatchId"),M=o(P=>{I=I.filter(N=>N!==P)},"removeMatchId"),T=o(P=>I.indexOf(P)>-1,"hasMatchId"),D=o((P,N,G)=>{T(P)||(j(P),a.d.start({label:a.a.ComposerAutocompleteRender,id:P,options:{traceName:a.a.ComposerAutocompleteRender,tags:{type:N},teamId:G}}))},"maybeStartAutocompleteMatchRenderTrace"),S=o(P=>{T(P)&&(M(P),a.d.stop({label:a.a.ComposerAutocompleteRender,id:P}))},"maybeStopAutocompleteMatchRenderTrace"),A=o(P=>{T(P)&&(M(P),a.d.remove({label:a.a.ComposerAutocompleteRender,id:P}))},"maybeCancelAutocompleteMatchRenderTrace")},heah:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("VO/D"),c=e("WSQ4"),r=e("hRMJ");function f(){return f=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(p[b]=u[b])}return p},f.apply(this,arguments)}o(f,"_extends");const l=t.a.forwardRef((p,h)=>{const{window:u}=Object(n.useContext)(c.a),b=Object(a.c)(r.a);return t.a.createElement(i.a,f({},p,{window:u,isMultiverseQuillEnabled:b,ref:h}))});s.a=l},hp0J:function(w,s,e){"use strict";var n=e("Cfcg"),t=e("2um6"),a=e("Wy+d");const i=o(c=>({isScreenReaderEnabled:Object(t.j)(c)}),"mapStateToProps");s.a=Object(n.a)(i)(a.b)},hq59:function(w,s,e){"use strict";e.d(s,"b",function(){return r}),e.d(s,"a",function(){return f}),e.d(s,"c",function(){return l});var n=e("owWc"),t=e("f8fv"),a=e("IzLi"),i=e("/1FC"),c=e("zmn3");function r(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(n.a)(h,(u,b,v)=>({...u,[Object(t.a)(v)]:b}),{})}o(r,"snakeCaseKeys");const f=5;function l(h){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length>2?arguments[2]:void 0;return p(h,u,b)}o(l,"snakeCaseKeysDeep");function p(h){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length>2?arguments[2]:void 0;var v;if(!Object(a.a)(h)&&!Object(i.a)(h)||u>((v=b==null?void 0:b.maxDepth)!==null&&v!==void 0?v:f)||!h)return h;const d=u+1;let m={};return Object(i.a)(h)?Object(i.a)(h)&&(m=Object(c.a)(h,g=>l(g,d,b))):m=Object(n.a)(h,(g,O,E)=>{var y;const C=!(b==null||(y=b.ignoredKeys)===null||y===void 0)&&y.includes(E)?E:Object(t.a)(E);return{...g,[C]:l(O,d,b)}},{}),m}o(p,"snakeCaseKeysDeepPrivate")},hrWC:function(w,s,e){"use strict";var n=e("SQ0V"),t=e("E3dU"),a=e("pu3F"),i=e("coh6"),c=e("GS6c"),r=e("O86Y"),f=e("wWBL"),l=e("Vr9G"),p=e("DQNL"),h=e("jvEW");const u=Object(n.c)("Find members that match a search query",function(b,v){let{query:d,channelId:m,enableBots:g=!0,enableBroadcastKeywords:O=!0,enableFuzzyMatching:E=!0,enableUserGroups:y=!0,enableFiles:C=!0,includeAllBroadcastKeywords:I=!1,limit:j=a.c,searchViewContext:M,searcherKey:T="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const D=v();var S;const A=m&&(S=Object(t.d)(D,m))!==null&&S!==void 0?S:void 0,P=O?{currentChannel:A,includeAll:I}:void 0,N=y&&Object(p.d)(D),G=Object(h.h)(D),V={entities:{broadcastKeywords:P,userGroups:N&&{includeDeleted:!1,includeFromAnotherTeam:Object(l.a)(D)},members:{includeBots:g,includeSelf:!0,includeSlackbot:!1,includeProfileOnlyUsers:!0}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete",currentChannel:A,preferChannelMembers:!!A},fuzzyLimit:E?void 0:0,limit:j,tiered:!0,returnMetadata:!0,searchViewContext:M};return G&&C&&(V.entities.files={runaway:!0}),Object(f.c)(D)?Object(c.a)({teamId:Object(r.g)(D),key:T}).search({query:d,options:V}):b(Object(i.F)({query:d,options:V}))});u.meta={name:"createThunk",key:"createThunkautocompleteMembers",description:"Find members that match a search query"},s.a=u},hwNb:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c}),e.d(s,"c",function(){return r}),e.d(s,"d",function(){return f});var n=e("oTSI"),t=e("RVJP"),a=e("wwBm");const i=Object(n.a)(()=>{const l=Object(a.d)(window.location.search);return(l==null?void 0:l.transparent_image_fix_option)==="themed_blur"?"themed_blur":null}),c=o(l=>Object(t.d)(l,"clips_bg")==="on","isClipsBgEnabled"),r=o(l=>Object(t.d)(l,"clips_thumbnail")==="on","isClipsThumbnailEnabled"),f=o(l=>Object(t.d)(l,"clips_transcript_preview")==="on"&&Object(t.d)(l,"clips_transcript_preview_display")==="on","isClipsTranscriptPreviewsEnabled")},i3RS:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("RVJP"),t=e("pu3F");function a(i){return Object(n.d)(i,"msg_mpim_increased_limit_15")==="on"?t.F:t.I}o(a,"getGroupDmLimit")},i7CO:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("lhZz"),t=e("yrot");function a(i,c){const r=c&&Object(n.getStateByTeamId)(c);return r&&Object(t.q)(r,{text:i,teamId:c})?r&&Object(t.p)(r,{text:i,teamId:c}):new Error(`invalid emojiName passed to isEmojiMultiSkinToneCapable: ${i}`)}o(a,"isEmojiMultiSkinToneCapable")},"iAR/":function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Set guidelines associated with a given type");t.meta={name:"createAction",key:"createActionsetGuidelinesByType",description:"Set guidelines associated with a given type"};const a=Object(n.a)("Toggle if guidelines is enabled associated with a given type");a.meta={name:"createAction",key:"createActiontoggleGuidelinesByType",description:"Toggle if guidelines is enabled associated with a given type"}},iBXr:function(w,s,e){"use strict";e.d(s,"a",function(){return b}),e.d(s,"c",function(){return d}),e.d(s,"b",function(){return m});var n=e("OtLZ"),t=e("iYWO"),a=e("oU7v"),i=e("E97Y"),c=e("PMNn"),r=e("y3Vx"),f=e("nkFB"),l=e("gZ6Y"),p=e("n7UZ");const h=[r.a.UserIsRestricted,r.a.InvalidParams],u=[f.a.CanCreateExternalLimitedPref,l.a.CanCreateExternalUnlimitedPref],b={AllowedWorkspace:Symbol("allowed_workspace"),DisallowedWorkspace:Symbol("disallowed_workspace"),CannotRequestSharedChannels:Symbol("cannot_request_ext_shared"),CannotCreateChannel:Symbol("cannot_create_channel")},v={ok:!1};function d(O){return g(O,Object(r.c)(O))}o(d,"canUserSeeInviteGuidelinesWithReasons");function m(O,E){if(!Object(i.e)(E)||!Object(a.a)(O,E)||Object(p.a)(O,E.id))return v;const{reasons:y}=Object(r.c)(O,{mustEveryWorkspaceBeAllowed:!0,teamIds:Object(c.b)(O,E)}),C=Object(n.a)(y,r.a.UserCannotCreateChannel);return g(O,{ok:!C.length,reasons:C})}o(m,"canUserSeeInviteGuidelinesForChannelWithReasons");function g(O,E){if(Object(t.a)(O,"INVITE")==="disabled")return v;const{ok:C,reasons:I=[]}=E;if(h.some(T=>I.includes(T))||u.every(T=>I.includes(T)))return v;const j=[],M=I.includes(r.a.AllowedWorkspacePref);return M?j.push(b.DisallowedWorkspace):j.push(b.AllowedWorkspace),I.includes(r.a.UserCannotCreateChannel)&&j.push(b.CannotCreateChannel),!C&&(!M||M&&I.length>1)&&j.push(b.CannotRequestSharedChannels),{ok:!0,reasons:j}}o(g,"calculateInviteGuidelinesVisibilityPayloadWithRule")},iCgo:function(w,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"s",function(){return p}),e.d(s,"o",function(){return h}),e.d(s,"q",function(){return u}),e.d(s,"r",function(){return b}),e.d(s,"p",function(){return v}),e.d(s,"i",function(){return m}),e.d(s,"g",function(){return O}),e.d(s,"k",function(){return y}),e.d(s,"f",function(){return I}),e.d(s,"l",function(){return j}),e.d(s,"n",function(){return M}),e.d(s,"b",function(){return T}),e.d(s,"e",function(){return D}),e.d(s,"d",function(){return S}),e.d(s,"c",function(){return A}),e.d(s,"m",function(){return P}),e.d(s,"h",function(){return N}),e.d(s,"j",function(){return G});var n=e("XIp8"),t=e("fujP"),a=e("gPPH"),i=e("nNoG"),c=e("wBgp"),r=e("wOIf");const f=new i.b("workflow_builder"),l=o(V=>{let{derivedData:k,teamId:x}=V;return{id:Object(a.a)(),type:r.MESSAGE,config:{has_button:!1,message_text:""},derived:Object(n.a)(k),teamId:x}},"createMessageStep"),p=o((V,k)=>({...V,config:{...V.config,message_text:k}}),"setMessageText"),h=o((V,k)=>({...V,config:{...V.config,message_blocks:k}}),"setMessageBlocks"),u=o((V,k)=>{let{id:x,type:H,isDynamic:R}=k;const W=R?{ref:x}:{value:x};return{...V,config:{...V.config,channel:H===c.c?W:void 0,user:H===c.i?W:void 0,thread:H===c.g?W:void 0}}},"setMessageDestination"),b=o((V,k,x)=>({...V,config:{...V.config,has_button:k,button_label:k?x:void 0}}),"setMessageHasButton"),v=o((V,k)=>({...V,config:{...V.config,button_label:k}}),"setMessageButtonLabel");var d;const m=o(V=>{var k;return(d=(k=V.config)===null||k===void 0?void 0:k.has_button)!==null&&d!==void 0?d:!1},"getMessageHasButton");var g;const O=o(V=>{var k;return(g=(k=V.config)===null||k===void 0?void 0:k.button_label)!==null&&g!==void 0?g:""},"getMessageButtonLabel");var E;const y=o(V=>{var k;return(E=(k=V.config)===null||k===void 0?void 0:k.message_text)!==null&&E!==void 0?E:""},"getMessageText");var C;const I=o(V=>{var k;return(C=(k=V.config)===null||k===void 0?void 0:k.message_blocks)!==null&&C!==void 0?C:[]},"getMessageBlocks"),j=o(V=>{var k,x;return(k=V.config)===null||k===void 0||(x=k.channel)===null||x===void 0?void 0:x.value},"getStaticChannel"),M=o(V=>{var k,x;return(k=V.config)===null||k===void 0||(x=k.user)===null||x===void 0?void 0:x.value},"getStaticUser"),T=o(V=>{var k,x;return(k=V.config)===null||k===void 0||(x=k.channel)===null||x===void 0?void 0:x.ref},"getDynamicChannel"),D=o(V=>{var k,x;return(k=V.config)===null||k===void 0||(x=k.user)===null||x===void 0?void 0:x.ref},"getDynamicUser"),S=o(V=>{var k,x;return(k=V.config)===null||k===void 0||(x=k.thread)===null||x===void 0?void 0:x.ref},"getDynamicThread"),A=o(V=>{const k=T(V);if(k)return k;const x=D(V);if(x)return x;const H=S(V);return H||null},"getDynamicDestination"),P=o(V=>{const k=j(V);if(k)return k;const x=M(V);return x||null},"getStaticDestination"),N=o(V=>{const k=A(V);if(k)return k;const x=P(V);if(x)return x},"getMessageDestination"),G=o(function(V){let{preferBlocks:k=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=m(V),H=O(V),R=y(V),W=I(V),U=k&&!Object(t.a)(W)?Object(n.a)(W):[{type:"section",block_id:"blockId-0",text:{type:"mrkdwn",text:R||f.t("Hello!")}}];if(x){const _=f.t("Continue");U.push({type:"actions",block_id:"blockId-1",elements:[{type:"button",text:{type:"plain_text",text:H||_,emoji:!1},value:"",action_id:"actionId-0"}]})}return U},"getMessagePreviewBlocks")},iEyB:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c}),e.d(s,"c",function(){return r}),e.d(s,"f",function(){return f}),e.d(s,"d",function(){return l}),e.d(s,"e",function(){return p});var n=e("7EGn"),t=e("gPPH"),a=e("Qm7m");const i=o(h=>{let{teamId:u}=h;return{id:Object(t.a)(),type:a.REACTION_ADDED,config:{},teamId:u}},"createReactionAddedTrigger"),c=o(h=>Object(n.a)(h,"config.channel.value",""),"getChannelFromTrigger"),r=o(h=>Object(n.a)(h,"config.reactions",[]),"getReactionsFromTrigger"),f=o((h,u)=>({...h,config:{...h.config,channel:{value:u}}}),"updateTriggerSetChannel"),l=o((h,u)=>{if(!u)return h;const b=r(h);if(b.find(d=>d.value===u))return h;const v=[...b,{value:u}];return{...h,config:{...h.config,reactions:v}}},"updateTriggerAddReaction"),p=o((h,u)=>{const v=r(h).filter(d=>d.value!==u);return{...h,config:{...h.config,reactions:v}}},"updateTriggerRemoveReaction")},iKzC:function(w,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("Lgge"),t=e("OZf9"),a=e("OtLZ"),i=e("n3tL"),c=e("Zbwg"),r=e("eUIW"),f=e("s4P+"),l=e("Yauy"),p=e("gVOt"),h=e("E97Y"),u=e("9Gfp"),b=e("E3dU"),v=e("ZKjC"),d=e("SQ0V");const m=Object(v.b)(function(O){let{ids:E}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const y=Object(u.a)(O),C=[],I=[];return Object(t.a)(E,j=>{if(Object(c.a)(j)){const M=Object(b.d)(O,j);if(Object(h.i)(M)){const T=Object(l.C)(M)||[],D=Object(a.a)(T,y);I.push(...D)}else if(Object(h.g)(M)){const T=Object(p.a)(M)||"";I.push(T)}else C.push(j)}else Object(r.a)(j)?I.push(j):Object(f.a)({state:O}).warn("COMPOSER",`Unhandled selected id "${j}"`)}),C.length&&C.splice(0,C.length-1),{channelIds:C,memberIds:I}});m.meta={name:"createSelector",key:"createSelectorcategorizeDestinationIds",description:function(O){let{ids:E}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const y=Object(u.a)(O),C=[],I=[];return Object(t.a)(E,j=>{if(Object(c.a)(j)){const M=Object(b.d)(O,j);if(Object(h.i)(M)){const T=Object(l.C)(M)||[],D=Object(a.a)(T,y);I.push(...D)}else if(Object(h.g)(M)){const T=Object(p.a)(M)||"";I.push(T)}else C.push(j)}else Object(r.a)(j)?I.push(j):Object(f.a)({state:O}).warn("COMPOSER",`Unhandled selected id "${j}"`)}),C.length&&C.splice(0,C.length-1),{channelIds:C,memberIds:I}}};const g=Object(d.c)("Split destination ids into channels and members",function(O,E){let{ids:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const C=E(),I=m(C,{ids:y});return n.a.resolve(I)});g.meta={name:"createThunk",key:"createThunkcategorizeDestinationIdsThunk",description:"Split destination ids into channels and members"},g.propTypes={ids:i.default.arrayOf(i.default.string.isRequired)}},iNDb:function(w,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("Lgge"),t=e("0/Hl"),a=e("SQ0V"),i=e("fujP"),c=e("WVRU"),r=e("Zbwg"),f=e("eUIW"),l=e("O86Y"),p=e("dmdh"),h=e("/L8c"),u=e("P9LH"),b=e("7ibc"),v=e("cBJ3");const d=Object(a.c)("Calls files.updatePermission and updates the file object in the store",(m,g,O)=>{let{fileId:E,modifiedPermissions:y}=O;const C=g(),I=Object(b.f)(C),j=Object(l.g)(C),M="update-permission";if(!j)return n.a.reject(new Error("Missing teamId"));const T=[],D=[];return Object.keys(y).forEach(S=>{let A=!0;if(Object(r.a)(S)){if(I){const P=Object(h.a)(C,S);if(P){const N=Object(p.e)(C,E);!!Object(u.X)(N).find(H=>H===P)&&T.push({channelId:P,accessLevel:y[S]}),!!Object(u.N)(N).find(H=>H===S)||(A=!1)}}A&&T.push({channelId:S,accessLevel:y[S]})}else Object(f.a)(S)&&D.push({userId:S,accessLevel:y[S]})}),!Object(i.a)(T)&&!Object(i.a)(D)?n.a.reject(new Error("Invalid parameters")):!Object(i.a)(T)||!Object(i.a)(D)?m(Object(c.a)({fileId:E,...T.length>0?{channelIdAccessLevelMap:T}:{},...D.length>0?{userIdAccessLevelMap:D}:{},reason:M,teamId:j})).then(S=>{if(T.length>0){const N=S.failed_to_update_channel_ids||[];let G=[];if(I){const V=[];N.forEach(x=>{const H=Object(h.a)(C,x);H&&V.push(H)});const k=N.concat(V);T.forEach(x=>{!!k.find(R=>R===x.channelId)||G.push({entityId:x.channelId,grant:x.accessLevel})})}else G=T.filter(V=>!N.includes(V.channelId)).map(V=>({entityId:V.channelId,grant:V.accessLevel}));return m(Object(v.d)({fileId:E,updatedPermissions:G,entityType:t.a.Channel})),n.a.resolve({failedChannelIds:N,failedUserIds:[]})}const A=S.failed_to_update_user_ids||[],P=D.filter(N=>!A.includes(N.userId)).map(N=>({entityId:N.userId,grant:N.accessLevel}));return m(Object(v.d)({fileId:E,updatedPermissions:P,entityType:t.a.Member})),n.a.resolve({failedChannelIds:[],failedUserIds:A})}):n.a.reject(new Error("Invalid entity id"))});d.meta={name:"createThunk",key:"createThunkupdatePermissionAndUpdateFile",description:"Calls files.updatePermission and updates the file object in the store"}},iTjT:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("ifKl"),c=e("BHdc"),r=e("zxER"),f=e("RVJP"),l=e("LvEQ"),p=e("JoR1"),h=e("e4zL"),u=e("KVhq"),b=e("mM05"),v=e.n(b),d=o((D,S)=>{let{shouldUseInlineEmoji:A,formats:P}=S;return new v.a().insert(A?{slackemoji:{text:D}}:D,P)},"get_emoji_insert_delta"),m=e("nWdO"),g=e("nFQW"),O=e("Wjm6"),E=e("nNoG"),y=e("ZobM"),C=e("khnw"),I=e("z4V0");const j=new E.b("emoji_button"),M=o(D=>{let{enableEmojiButtonBadge:S=!1,enableMentionButton:A=!1,enableGifPicker:P=!1,onClick:N=i.a,onEmojiMenuTriggerClick:G=i.a,onEmojiSelected:V=i.a,onGifSelected:k=i.a,textyRef:x,shouldReturnFocusAfterClose:H,draftId:R}=D;const W=Object(a.useDispatch)(),U=Object(r.c)(l.c),_=Object(r.c)(q=>Object(p.t)(q,"preferred_skin_tone"))||"",B=Object(r.c)(q=>Object(f.d)(q,"emoji_button_hover_skintone")==="on"),z=Object(r.c)(q=>Object(f.d)(q,"native_gif_picker")==="on"),L=Object(n.useRef)(null),[$,Q]=Object(n.useState)(void 0),K=Object(n.useCallback)(()=>{W(Object(h.d)())},[W]),Z=Object(n.useCallback)(()=>{var q,te,de;if(G(),K(),!A||!(x!=null&&x.current))return;const se=x.current.getSelection(),re=(q=x.current)===null||q===void 0||(te=q.quill)===null||te===void 0||(de=te.container)===null||de===void 0?void 0:de.getBoundingClientRect();if(se&&re){const ue=x.current.getBounds(se.index,se.length);Q({top:re.top+ue.top,left:re.left+ue.left,right:re.right+ue.right,bottom:re.bottom+ue.bottom,width:re.width,height:re.height})}if(!se||se.length)return;const oe=se.index>0?x.current.getTextForRange(se.index-1,1):"";!!!x.current.getFormat(se.index).slackmention&&oe==="@"&&x.current.deleteText(se.index-1,1)},[A,K,G,x]),ne=Object(n.useCallback)((q,te)=>{if(!z||!(x!=null&&x.current))return;const de={from_url:te.originalGifUrl,image_url:te.originalGifUrl,image_width:te.width,image_height:te.height,image_bytes:te.bytes,fallback:te.name,original_url:te.originalGifUrl,original_gif_url:te.originalGifUrl,preview_gif_url:te.previewUrl,type:I.a};R&&(W(Object(u.c)({draftId:R,url:te.originalGifUrl,data:de,status:I.b.DRAFT})),k(te)),setTimeout(()=>{x.current.focus()},0)},[k,R,W,z,x]),F=Object(n.useCallback)((q,te)=>{if(V(te),!(x!=null&&x.current))return;const de=x.current.getSelection();if(!de)return;const se=x.current.getFormats(de.index)||{},oe=!(se.code||se["code-block"])&&x.current.options.inlineEmojiIsEnabled(),ce=`:${te}:`,ue=d(ce,{shouldUseInlineEmoji:oe,formats:se});setTimeout(()=>{x.current.insertContentsAtCursor({contents:ue.ops})},0)},[x,V]),J=`skin-tone-${_}`,X=Object(c.default)("c-wysiwyg_container__button c-wysiwyg_container__button--emoji",{"c-wysiwyg_container__button--with_badge":S&&U,[J]:B}),Y=z?j.t("Add emoji and GIFs"):j.t("Emoji"),ae=t.a.createElement(m.c,{tip:Y,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(g.a,{ref:L,className:X,onClick:N,"data-qa":"texty_emoji_button",tabIndex:-1,"aria-label":j.t("Emoji"),size:"small"},t.a.createElement("div",{className:"is-first"},t.a.createElement(y.a,{name:"emoji",size:"18"})),t.a.createElement("div",{className:"is-second"},t.a.createElement(y.a,{name:"emoji",variation:"filled",size:"18"})))),ee=Object(n.useCallback)(q=>{if(!H&&(q==null?void 0:q.keyCode)===C.f){var te;L==null||(te=L.current)===null||te===void 0||te.focus()}},[L,H]);return t.a.createElement(O.a,{onClick:Z,onEmojiSelected:F,offsetX:-17,position:"top-left",tryOppositePosition:!0,targetBounds:$,onClose:ee,shouldReturnFocusAfterClose:H,enableGifPicker:P,onGifSelected:ne},ae)},"EmojiButton");M.displayName="EmojiButton";var T=s.a=M},iYWO:function(w,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"b",function(){return l}),e.d(s,"c",function(){return u}),e.d(s,"d",function(){return d});var n=e("ZKjC"),t=e("O86Y"),a=e("UOL+"),i=e("zIFg");const c=o(function(g){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"LOCAL",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var y,C;E&&Object(i.c)(Object(t.h)(g),O);var I;return(I=(y=Object(a.a)(g))===null||y===void 0||(C=y.slackConnectGuidelines)===null||C===void 0?void 0:C[O])!==null&&I!==void 0?I:null},"getGuidelinesByType"),r=Object(n.b)((g,O)=>{var E;const y=c(g,O,!0);var C;const I=(C=y==null?void 0:y.enabled)!==null&&C!==void 0?C:!1;var j;const M=(j=!!(y!=null&&y.link))!==null&&j!==void 0?j:!1;var T;const D=(T=!!(y!=null&&y.contentOps&&(!(y==null||(E=y.contentOps)===null||E===void 0)&&E.length)))!==null&&T!==void 0?T:!1;return I?D&&M?"both":D?"content":M?"link":"none":"disabled"});r.meta={name:"createSelector",key:"createSelectorgetActiveGuidelinesVariant",description:(g,O)=>{var E;const y=c(g,O,!0);var C;const I=(C=y==null?void 0:y.enabled)!==null&&C!==void 0?C:!1;var j;const M=(j=!!(y!=null&&y.link))!==null&&j!==void 0?j:!1;var T;const D=(T=!!(y!=null&&y.contentOps&&(!(y==null||(E=y.contentOps)===null||E===void 0)&&E.length)))!==null&&T!==void 0?T:!1;return I?D&&M?"both":D?"content":M?"link":"none":"disabled"}};var f;const l=Object(n.b)((g,O)=>{var E;return(f=(E=c(g,O))===null||E===void 0?void 0:E.contentOps)!==null&&f!==void 0?f:void 0});var p;l.meta={name:"createSelector",key:"createSelectorgetGuidelinesContentOps",description:(g,O)=>{var E;return(p=(E=c(g,O))===null||E===void 0?void 0:E.contentOps)!==null&&p!==void 0?p:void 0}};var h;const u=Object(n.b)((g,O)=>{var E;return(h=(E=c(g,O))===null||E===void 0?void 0:E.link)!==null&&h!==void 0?h:""});var b;u.meta={name:"createSelector",key:"createSelectorgetGuidelinesLink",description:(g,O)=>{var E;return(b=(E=c(g,O))===null||E===void 0?void 0:E.link)!==null&&b!==void 0?b:""}};var v;const d=Object(n.b)((g,O)=>{var E;return(v=(E=c(g,O))===null||E===void 0?void 0:E.updated)!==null&&v!==void 0?v:void 0});var m;d.meta={name:"createSelector",key:"createSelectorgetGuidelinesUpdated",description:(g,O)=>{var E;return(m=(E=c(g,O))===null||E===void 0?void 0:E.updated)!==null&&m!==void 0?m:void 0}}},iheS:function(w,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("lCmp"),t=e("pu3F"),a=e("aykK"),i=e("wGfi"),c=e("E3dU"),r=e("dlm8"),f=e("ZOzc"),l=e("JoR1"),p=e("gTpg"),h=e("miM7"),u=e("E97Y"),b=e("3kjJ"),v=e("PMNn");const d=o(function(m,g){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const E=O.includes("BKeveryone"),y=O.includes("BKchannel"),C=O.includes("BKgroup"),I=O.includes("BKhere"),j=!!Object(l.t)(m,"last_seen_at_channel_warning"),M=new Date(Object(l.t)(m,"last_seen_at_channel_warning")),T=j&&Object(b.a)(M,new Date);if(!E&&!y&&!C&&!I)return!1;const D=Object(c.d)(m,g);if(!D||Object(u.g)(D)||(y||C||I)&&(!Object(a.a)(m,g)||!Object(p.a)(m,g))||Object(h.a)(D)&&E&&(!Object(i.a)(m,g)||!Object(p.a)(m,g)))return!1;const S=Object(v.b)(m,D);if(!(S&&Object(n.a)(S,G=>{const V=Object(f.a)(m,"warn_before_at_channel",G);return V==="never"?!1:V==="always"||V==="once"&&!j||V==="daily"&&!T})))return!1;const P=Object(r.d)(m,g),N=P&&P.counts&&P.counts.member_count;return!(!N||N<=t.b)},"shouldShowAtChannelWarning")},ilQ9:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("y/Pn"),t=e("E97Y"),a=e("K7jq");const i={im:"im",mpim:"mpim",channel:"channel",none:""},c=o(r=>{let{channel:f,members:l=[]}=r;if(Object(t.g)(f)&&Object(n.a)(f)||l.length===1&&Object(a.a)(l[0]))return i.im;if(Object(t.i)(f)&&Object(n.a)(f))return i.mpim;var p;return((p=l.length)!==null&&p!==void 0?p:0)>1&&l.some(h=>Object(a.a)(h))?i.mpim:Object(n.a)(f)?i.channel:""},"getConnectionType");s.b=c},in8x:function(w,s,e){"use strict";e.d(s,"c",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"b",function(){return i});var n=e("DwFS");const t=Object(n.a)("Store the rich text snippet associated with a given canvas section");t.meta={name:"createAction",key:"createActionupsertCanvasSectionRichText",description:"Store the rich text snippet associated with a given canvas section"};const a=Object(n.a)("Remove rich text snippet associated with a given canvas section");a.meta={name:"createAction",key:"createActionremoveCanvasSectionRichText",description:"Remove rich text snippet associated with a given canvas section"};const i=Object(n.a)("Remove all rich text snippets associated with a given canvas (fileId)");i.meta={name:"createAction",key:"createActionremoveCanvasSectionRichTextForFile",description:"Remove all rich text snippets associated with a given canvas (fileId)"}},"iu/Y":function(w,s,e){"use strict";var n=e("3yyz");function t(a,i){let c=0,r;return a.forEach(f=>{if(r)return;const l=c+Object(n.a)(f);i>=c&&i<l?r=f:c=l}),r?{op:r,opIndex:c,opLength:Object(n.a)(r)}:{op:null,opIndex:-1,opLength:0}}o(t,"findOpAtIndex"),s.a=t},ixSl:function(w,s,e){"use strict";e.d(s,"b",function(){return v}),e.d(s,"a",function(){return d});var n=e("fujP"),t=e("/1FC"),a=e("SQ0V"),i=e("mM05"),c=e.n(i),r=e("ZvCj"),f=e("JoR1"),l=e("gCYc"),p=e("Rw2D"),h=e("Kn+X"),u=e("9avG"),b=e("JgQX");const v=Object(a.c)("Prepares a scheduled draft before editing",(m,g,O)=>{let{draft:E}=O;const y=g();if(!Object(f.t)(y,"plain_text_mode"))return E;const I=Object(h.n)(E);if(Object(n.a)(I)||!!!Object(h.i)(E))return E;const M=new c.a(I.slice()),T=Object(u.b)({delta:M,state:y})||{},D=T&&Object(t.a)(T)?new c.a:Object(b.a)(y,T.blocks);if(!D||!D.ops)return E;const S={...E,ops:D.ops};return m(Object(r.a)({draft:S,reason:"prep-draft-before-markdown-editing"})),S});v.meta={name:"createThunk",key:"createThunkprepareScheduledDraftBeforeEditing",description:"Prepares a scheduled draft before editing"};const d=Object(a.c)("Prepares a scheduled draft after editing",(m,g,O)=>{let{draftId:E}=O;const y=g();if(!Object(f.t)(y,"plain_text_mode"))return;const I=Object(l.k)(y,E),j=Object(h.n)(I);if(!I||!j||Object(n.a)(j)||!!!Object(h.i)(I))return;const T=new c.a(j.slice()),{processedDelta:D}=Object(p.a)(y,{delta:T}),S={...I,ops:D.ops};m(Object(r.a)({draft:S,reason:"prep-draft-after-markdown-editing"}))});d.meta={name:"createThunk",key:"createThunkprepareScheduledDraftAfterEditing",description:"Prepares a scheduled draft after editing"}},"j/ar":function(w,s,e){"use strict";e.d(s,"c",function(){return u}),e.d(s,"d",function(){return b}),e.d(s,"e",function(){return v}),e.d(s,"b",function(){return d}),e.d(s,"a",function(){return m});var n=e("ZKjC"),t=e("G4qV"),a=e("fujP"),i=e("ltDl"),c=e("CRsl");function r(g,O){var E;if(Object(a.a)(g))return{appId:void 0,domain:""};const y=Object(i.a)(g),C=Object(c.b)(y,!0),I=y.hostname,j=I||C;let M=O==null||(E=O.domains)===null||E===void 0?void 0:E[j];if(!M){var T;const D=Object.keys((T=O==null?void 0:O.wildcards)!==null&&T!==void 0?T:{}).find(S=>I.endsWith(`.${S}`));D&&(M=O.wildcards[D])}return{appId:M,domain:j}}o(r,"getSIWSLinkInfo");var f=e("9ToC");function l(g,O){if(Object(a.a)(g))return!1;const E=Object(i.a)(g);return p(E,O)}o(l,"isSIWSLink");function p(g,O){var E;if(g.protocol!=="http:"&&g.protocol!=="https:"||Object(f.d)(g))return!1;const y=Object(c.b)(g,!0);if(!g.hostname||!y)return!1;const C=g.hostname,I=C.length>y.length+1,j=!!(!(O==null||(E=O.domains)===null||E===void 0)&&E[C]);var M;const T=I&&Object.keys((M=O==null?void 0:O.wildcards)!==null&&M!==void 0?M:{}).some(D=>C.endsWith(`.${D}`));return j||T}o(p,"isParsedUrlSIWSLink");const h=Object(n.b)(g=>{var O;return g==null||(O=g.siwsDomains)===null||O===void 0?void 0:O.domainsCollection});h.meta={name:"createSelector",key:"createSelectorgetDomains",description:g=>{var O;return g==null||(O=g.siwsDomains)===null||O===void 0?void 0:O.domainsCollection}};const u=Object(n.b)((g,O)=>{var E;return(E=r(O,h(g)))===null||E===void 0?void 0:E.appId});u.meta={name:"createSelector",key:"createSelectorselectSIWSLinkAppId",description:(g,O)=>{var E;return(E=r(O,h(g)))===null||E===void 0?void 0:E.appId}};const b=Object(n.b)((g,O)=>{var E;return(E=r(O,h(g)))===null||E===void 0?void 0:E.domain});b.meta={name:"createSelector",key:"createSelectorselectSIWSLinkDomain",description:(g,O)=>{var E;return(E=r(O,h(g)))===null||E===void 0?void 0:E.domain}};const v=Object(n.b)((g,O)=>l(O,h(g)));v.meta={name:"createSelector",key:"createSelectorselectURLIsSIWSLink",description:(g,O)=>l(O,h(g))};const d=Object(n.b)((g,O)=>p(O,h(g)));d.meta={name:"createSelector",key:"createSelectorselectParsedURLIsSIWSLink",description:(g,O)=>p(O,h(g))};const m=Object(t.a)(h,function(g){let{domains:O,wildcards:E}=g;const y=Object.entries(O).map(I=>{let[j,M]=I;return{appId:M,domain:j,isWildcard:!1}});return[...Object.entries(E).map(I=>{let[j,M]=I;return{appId:M,domain:j,isWildcard:!0}}),...y].reduce((I,j)=>({...I,[j.appId]:{domain:j.domain,isWildcard:j.isWildcard}}),{})})},j4ta:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("4HNC"),c=e("sGXp"),r=e("Cfcg"),f=e("OtLZ"),l=e("9Gfp"),p=e("Yauy"),h=e("E3dU"),u=e("CD4m"),b=e("wRRE"),v=e("swWY"),d=e("Hm4q");function m(){return m=Object.assign||function(D){for(var S=1;S<arguments.length;S++){var A=arguments[S];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(D[P]=A[P])}return D},m.apply(this,arguments)}o(m,"_extends");const g={className:a.default.string,"data-qa":a.default.string,"data-sk":a.default.string,currentUserId:a.default.string,id:a.default.string,isDeactivated:a.default.bool,mpim:a.default.object,subtext:a.default.node},O={className:void 0,currentUserId:void 0,id:void 0,isDeactivated:!1,mpim:void 0,subtext:void 0,"data-qa":void 0,"data-sk":"medium_mpim_entity"};function E(D){let{className:S,currentUserId:A,id:P,isDeactivated:N,mpim:G,subtext:V,"data-qa":k,"data-sk":x}=D;const H=Object(f.a)(Object(p.C)(G),A),R=N?c.d.dim:null,W=P||(G==null?void 0:G.id),U=Object(n.useCallback)(_=>t.a.createElement(b.a,m({},_,{"data-qa":"avatar",primaryMemberId:H[0],secondaryMemberId:H[1]})),[H]);return t.a.createElement(u.d,{avatar:U,className:S,"data-id":W,"data-qa":k,"data-sk":x,size:"medium",style:R,text:t.a.createElement(v.a,{className:"c-medium-unified-mpim__name","data-qa":"name",id:W,mpim:G,multiline:!0}),subtext:V})}o(E,"MediumMpimEntity"),E.displayName="MediumMpimEntity",E.propTypes=g,E.defaultProps=O;function y(D,S){let{id:A,mpim:P}=S;return{currentUserId:Object(l.a)(D),mpim:P||Object(h.d)(D,A)}}o(y,"mapStateToProps");var C=Object(r.a)(y)(E);const I={className:a.default.string,id:a.default.string.isRequired,"data-qa":a.default.string,isActive:a.default.bool,isDeactivated:a.default.bool,isDisabled:a.default.bool,mpim:a.default.object,secondaryContent:a.default.node,subtext:a.default.node},j={className:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1,mpim:void 0,secondaryContent:void 0,subtext:void 0,"data-qa":void 0};function M(D){let{className:S,id:A,isActive:P,isDeactivated:N,isDisabled:G,mpim:V,secondaryContent:k,subtext:x,"data-qa":H}=D;const R=A||(V==null?void 0:V.id);let W;return P?G||N?W=c.d.highlightDim:W=c.d.highlightLight:(G||N)&&(W=c.d.dim),t.a.createElement(i.a,{className:S,primaryContent:t.a.createElement(C,{id:R,"data-id":R,"data-qa":H,"data-sk":"medium_mpim_list_entity",isDeactivated:N,subtext:x,mpim:V}),secondaryContent:k,size:"medium",style:W})}o(M,"MediumMpimListEntity"),M.displayName="MediumMpimListEntity",M.propTypes=I,M.defaultProps=j;var T=s.a=M},j5vF:function(w,s,e){"use strict"},jBIF:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("SQ0V"),t=e("3D8U");const a=Object(n.c)("Get file permissions from draft file-permissions-store for message sending APIs",function(i,c){let{draftId:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=c();return Object.values(Object(t.a)(f,r)||{}).map(h=>({grant:h.grant,file_id:h.fileId}))});a.meta={name:"createThunk",key:"createThunkgetFilePermissionsForMessageSend",description:"Get file permissions from draft file-permissions-store for message sending APIs"}},jU2U:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("zxER"),t=e("9Gfp"),a=e("WMzb");function i(){const c=Object(n.c)(t.c),r=Object(a.a)();return c||(r.error("USE_FEATURE_FLAGS","Missing feature flags"),{})}o(i,"useFeatureFlags")},jWHu:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c});var n=e("ykb+"),t=e("4p6e"),a=e("s4P+"),i;(function(r){r.Coachmark="coachmark",r.DeprecatedCoachmark="deprecated_coachmark"})(i||(i={}));const c=o(r=>{if(Object(n.b)()&&!Object(t.a)()){let f="Coachmark";r===i.DeprecatedCoachmark&&(f="DeprecatedCoachmark"),Object(a.b)().warn(`\u{1F4E3} [MEGAPHONE FRAMEWORK]: \u{1F44B} Hi! Adding a new '${f}' component? Have you considered taking advantage of our Megaphone framework? If you already did and Megaphone does not apply to your use case, that is great! you can turn off this warning by setting the 'isMegaphoneCoachmark' prop to 'false' in your '${f}' component instance.

Now, if you want to learn more about Megaphone and how it can help your use case, you can take a look at our docs (https://docs.tinyspeck.com/megaphone/) or you can find us over #devel-megaphone and we will be happy to assist you \u{1F64C}\u{1F600}
`)}},"logMegaphoneDevAwarenessWarning")},jaNT:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("RpF1"),t=e("HoeF"),a=e("SIMs"),i=e("SQ0V"),c=e("QIbu");const r=Object(i.c)("Toggle tab open state",(f,l,p)=>{let{huddleId:h,surface:u,areTabsOpen:b,window:v,skipWindowResize:d}=p;const m=Object(a.u)(l(),{huddleId:h}),g=Object(a.a)(l(),{huddleId:h,surface:c.b.WINDOW_COMPACT});if(!(!h||!u)&&(f(Object(t.N)({huddleId:h,surface:u,areTabsOpen:b})),!d&&m&&u===c.b.WINDOW_COMPACT&&b&&!g)){const O=v.document.querySelector(`.${n.j}`),E=O==null?void 0:O.getBoundingClientRect().height,y=E?v.innerHeight-E-n.o:0,C=n.e-y;C>0&&v.resizeBy(0,C)}});r.meta={name:"createThunk",key:"createThunktoggleTabOpenState",description:"Toggle tab open state"}},jmRt:function(w,s,e){"use strict";e.d(s,"e",function(){return r}),e.d(s,"i",function(){return f}),e.d(s,"b",function(){return l}),e.d(s,"a",function(){return p}),e.d(s,"d",function(){return h}),e.d(s,"f",function(){return u}),e.d(s,"g",function(){return b}),e.d(s,"h",function(){return v}),e.d(s,"c",function(){return d});var n=e("Lgge"),t=e("WCk1"),a=e("2XU3"),i=e("+8pe"),c=e("RVJP");const r=Object(t.a)("Call to get bookmarks for a given channel",(m,g,O)=>{let{channelId:E,reason:y="bookmarks-list-api"}=O;if(!E)return n.a.reject(new Error("bookmarks.list failed with no channelId as argument"));const C=g(),I=Object(c.d)(C,"parent_bookmarks")==="on";return m(Object(a.apiCall)({method:"bookmarks.list",args:{channel:E,include_folders:I?!0:void 0,include_legacy_workflows:!0},reason:y}))});r.meta={name:"createFetcher",key:"createFetchercallListBookmarksForChannelId",description:"Call to get bookmarks for a given channel"};const f=Object(t.a)("Call to get bookmarks suggestions for a given channel",(m,g,O)=>{let{channelId:E,reason:y="bookmarks-suggest-api"}=O;return E?m(Object(a.apiCall)({method:"bookmarks.suggest",args:{channel:E},reason:y})):n.a.reject(new Error("bookmarks.suggest failed with no channelId as argument"))});f.meta={name:"createFetcher",key:"createFetchercallSuggestBookmarksForChannelId",description:"Call to get bookmarks suggestions for a given channel"};const l=Object(t.a)("Call to add bookmarks API for a given channel",(m,g,O)=>{let{channelId:E,parentId:y,url:C,title:I,iconUrl:j,emoji:M,shortcutId:T,appId:D,quipSectionId:S,reason:A="bookmarks-add-api",type:P=i.a.LINK}=O;if(!E)return n.a.reject(new Error("bookmarks.add failed with no channelId as argument"));if(!C&&P!==i.a.SHORTCUT)return n.a.reject(new Error("bookmarks.add failed with no url as argument"));const N={channel:E,link:C,title:I,type:P};return M?N.emoji=M:j&&(N.icon=j),y&&(N.parent_id=y),T&&(N.shortcut_id=T),D&&(N.app_id=D),S&&(N.quip_section_id=S),m(Object(a.apiCall)({method:"bookmarks.add",args:N,reason:A}))});l.meta={name:"createFetcher",key:"createFetchercallAddBookmarksForChannelId",description:"Call to add bookmarks API for a given channel"};const p=Object(t.a)("Call to add bookmarks folder API for a given channel",(m,g,O)=>{let{channelId:E,title:y,reason:C="bookmarks-add-folder-api"}=O;if(!E)return n.a.reject(new Error("bookmarks.add failed with no channelId as argument"));const I={channel:E,title:y,type:i.a.FOLDER};return m(Object(a.apiCall)({method:"bookmarks.add",args:I,reason:C}))});p.meta={name:"createFetcher",key:"createFetchercallAddBookmarksFolderForChannelId",description:"Call to add bookmarks folder API for a given channel"};const h=Object(t.a)("Call to edit bookmarks API for a given channel and bookmark id",(m,g,O)=>{let{id:E,channelId:y,url:C,title:I,iconUrl:j,emoji:M,reason:T="bookmarks-edit-api",type:D=i.a.LINK}=O;if(!y)return n.a.reject(new Error("bookmarks.edit failed with no channelId as argument"));if(!E)return n.a.reject(new Error("bookmarks.edit failed with no id as argument"));const S={channel:y,link:C,title:I,bookmark:E,type:D,emoji:M};return j&&(S.icon=j),m(Object(a.apiCall)({method:"bookmarks.edit",args:S,reason:T}))});h.meta={name:"createFetcher",key:"createFetchercallEditBookmarksForChannelId",description:"Call to edit bookmarks API for a given channel and bookmark id"};const u=Object(t.a)("Call to delete bookmarks API for a given channel and bookmark id",(m,g,O)=>{let{id:E,channelId:y,reason:C="bookmarks-remove-api",type:I=i.a.LINK}=O;return y?E?m(Object(a.apiCall)({method:"bookmarks.remove",args:{channel:y,bookmark:E,type:I},reason:C})):n.a.reject(new Error("bookmarks.remove failed with no id as argument")):n.a.reject(new Error("bookmarks.remove failed with no channelId as argument"))});u.meta={name:"createFetcher",key:"createFetchercallRemoveBookmarksForChannelId",description:"Call to delete bookmarks API for a given channel and bookmark id"};const b=Object(t.a)("Call to reorder bookmarks API for a given channel and bookmark id",(m,g,O)=>{let{channelId:E,parentId:y,center:C,left:I,right:j,reason:M="bookmarks-reorder-api",type:T=i.a.LINK}=O;return E?C?m(Object(a.apiCall)({method:"bookmarks.reorder",args:{channel:E,parent_id:y,center:C,left:I,right:j,bookmark_type:T},reason:M})):n.a.reject(new Error("bookmarks.reorder failed with no center id as argument")):n.a.reject(new Error("bookmarks.reorder failed with no channelId as argument"))});b.meta={name:"createFetcher",key:"createFetchercallReorderBookmarkForChannelId",description:"Call to reorder bookmarks API for a given channel and bookmark id"};const v=Object(t.a)("Call to reorder bookmarks API for a given channel and bookmark id for a folder",(m,g,O)=>{let{channelId:E,parentId:y,center:C,left:I,right:j,reason:M="bookmarks-reorder-api",type:T=i.a.LINK}=O;return E?C?m(Object(a.apiCall)({method:"bookmarks.reorder",args:{channel:E,parent_id:y,center:C,left:I,right:j,bookmark_type:T},reason:M})):n.a.reject(new Error("bookmarks.reorder failed with no center id as argument")):n.a.reject(new Error("bookmarks.reorder failed with no channelId as argument"))});v.meta={name:"createFetcher",key:"createFetchercallReorderBookmarkIntoFolderForChannelId",description:"Call to reorder bookmarks API for a given channel and bookmark id for a folder"};const d=Object(t.a)("Call to reorder bookmarks API for a given channel and bookmark id",(m,g,O)=>{let{link:E,channelId:y,reason:C="bookmarks-preview-api"}=O;return E?y?m(Object(a.apiCall)({method:"bookmarks.preview",args:{link:E,channel:y},reason:C})):n.a.reject(new Error("bookmarks.response failed with no channel id as argument")):n.a.reject(new Error("bookmarks.response failed with no link as argument"))});d.meta={name:"createFetcher",key:"createFetchercallBookmarksPreviewForLink",description:"Call to reorder bookmarks API for a given channel and bookmark id"}},jprL:function(w,s,e){"use strict";e.d(s,"c",function(){return n}),e.d(s,"e",function(){return t}),e.d(s,"i",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"g",function(){return c}),e.d(s,"d",function(){return r}),e.d(s,"b",function(){return f}),e.d(s,"f",function(){return l}),e.d(s,"h",function(){return p});const n="fetching",t="preview_pending",a="user_auth_required",i="complete",c="stale",r="no_attachment",f="error",l="removed",p=5},"k+WR":function(w,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"b",function(){return f}),e.d(s,"c",function(){return l});var n=e("LK2A"),t=e("ZTSm"),a=e("8NKP"),i=e("2m2s"),c;(function(p){p.START_THREAD="start-thread",p.OPEN_THREAD="open-thread",p.START_ASSISTANT_THREAD="start-assistant-thread",p.INSERT_VARIABLE="insert-variable",p.SHARE="share",p.OPEN_IN_DETACHED_WINDOW="open-in-detached-window",p.VIEW_FULL_SCREEN="view-full-screen",p.VIEW_IN_SLACK="view-in-slack",p.OPEN_IN_NEW_WINDOW="open-in-new-window",p.SHARE_CHANNEL_CANVAS="channel-canvas-share"})(c||(c={}));const r={...a.a,...i.a},f={...r,...c},l=o(function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.DocBlockStyle.PLAIN;const u=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).map(b=>Object(i.b)(b)).filter(t.a);return p&&u.push(Object(a.b)(p)||a.a.PARAGRAPH),u},"getFormats")},k7bp:function(w,s,e){"use strict";e.d(s,"a",function(){return C});var n=e("9oTK"),t=e("s4P+"),a=e("zFGr"),i=e("PIf0"),c=e("SQ0V"),r=e("V/iP"),f=e("0+Bg"),l=e("a7YP"),p=e("X7+j"),h=e("itAW"),u=e("8j9e"),b=e("8Htg"),v=e("gsmS"),d=e("O86Y");const m=o(I=>{let{preCheckResponse:j,hermesLinkTriggerUIContext:M}=I;return{...j,showSpeedbump:(M==null?void 0:M.location)==="search"}},"modifyTripPreCheckPayload");var g=e("NziY"),O=e("Tmt4"),E=e("CWPp"),y=e("pgVm");const C=Object(c.c)("trips a workflow trigger by api",function(){var I=Object(n.coroutine)(function*(j,M,T,D){const S=M();if(!Object(l.B)(S))return;const A=Object(y.d)(S),P=Object(t.a)({getState:M}),{linkTriggerUrl:N,isMagicActions:G,reason:V,hermesLinkTriggerUIContext:k,uiPage:x}=T,H=Object(b.b)(N),R=H?Object(h.g)(S,{triggerId:H}):void 0;if(!N||!H){P.error("Missing or invalid linkTriggerUrl"),j(Object(p.c)({}));return}let W;const U=function(){var K=Object(n.coroutine)(function*(Z,ne){const F=Z?{location:"speedbump",wrappedContext:k,speedbumpInputParameters:Z,customizableInputParameters:ne}:null;try{const{windowId:Y}=D(i.a),ae=yield j(Object(r.a)({clientToken:a.a.generateAndEnqueue(S,{windowId:Y}),context:F||k,url:N,reason:V}));if(ae!=null&&ae.ok){H&&Object(E.a)(R)&&j(Object(O.a)({id:H,text:R.name})),j(W?Object(p.b)({workflowTitle:Object(E.a)(R)?R.name:void 0}):Object(p.d)());const ee=Object(d.g)(S)||"";j(Object(u.a)({triggerId:H})),Object(v.a)().maybeRefetch(ee,H)}else j(Object(p.c)({}))}catch(Y){var J,X;const ae=(J=Y.data)===null||J===void 0||(X=J.error_messages)===null||X===void 0?void 0:X[0];P.warn(Y,`Error in workflows.trip: ${ae}`),j(Object(p.c)({errorType:Y.name,errorSubType:ae}))}});return o(function(ne,F){return K.apply(this,arguments)},"workflowTripTriggerWithErrorToasts")}();try{var _,B,z,L;const K=yield j(Object(f.a)({context:k,url:N,reason:V}));W=K.isSlowWorkflow;const Z=m({preCheckResponse:K,hermesLinkTriggerUIContext:k}),ne=x==="workflow_gallery"||x==="workflows_recently_viewed"||x==="workflow_details_modal",F=A?!!(Z!=null&&Z.thirdPartyAuths)&&!(Z!=null&&Z.thirdPartyAuths.isSatisfied):Z==null||(_=Z.thirdPartyAuths)===null||_===void 0?void 0:_.isShown,J=(Z==null?void 0:Z.showSpeedbump)&&!ne||F||(Z==null||(B=Z.missingContextParameters)===null||B===void 0?void 0:B.isShown)||(Z==null||(z=Z.scopesAcknowledgements)===null||z===void 0?void 0:z.isShown)||(Z==null||(L=Z.missingCustomizableInputParameters)===null||L===void 0?void 0:L.isShown);Z!=null&&Z.ok&&J?j(Object(g.a)({tripTrigger:U,triggerId:H,isMagicActions:G,...x?{uiPage:x}:{},...Z})):U()}catch(K){var $,Q;const Z=($=K.data)===null||$===void 0||(Q=$.error_messages)===null||Q===void 0?void 0:Q[0];P.warn(K,`Error in workflows.tripPrecheck: ${Z}`),j(Object(p.c)({errorType:K.name,errorSubType:Z}))}});return function(j,M,T,D){return I.apply(this,arguments)}}());C.meta={name:"createThunk",key:"createThunkworkflowsTriggersTrip",description:"trips a workflow trigger by api"}},kBas:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("mM05"),t=e.n(n);function a(i,c){let{format:r,range:f,replacementLength:l,charToInsert:p}=c;const[h,u]=i.getLine(f.index),b=h.length();p&&i.insertText(f.index,p);const v=i.history.options.delay;i.history.options.delay=0;const d=new t.a().retain(f.index-u).delete(l+p.length).retain(b-p.length-u).retain(1,r);i.updateContents(d),i.setSelection(f.index-l),i.history.options.delay=v}o(a,"convertShortcutToBlockFormat")},kBd7:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("g3+L");function i(){return i=Object.assign||function(r){for(var f=1;f<arguments.length;f++){var l=arguments[f];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(r[p]=l[p])}return r},i.apply(this,arguments)}o(i,"_extends");function c(r){const f=r,l=t.a.forwardRef((p,h)=>t.a.createElement(a.a.Consumer,null,u=>t.a.createElement(f,i({ref:h},p,u))));return l.displayName=`withFocusTransitions(${f.displayName})`,l}o(c,"withFocusTransitionContext"),c.displayName="withFocusTransitionContext",s.a=c},kDB5:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("SQ0V"),t=e("i5Ig");const a=Object(n.c)("Gets unfurl data from store given a list of unfurls and a draftId",function(i,c){let{unfurls:r,draftId:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=c();if(!r||!r.length||!f)return t.b;const p={};return r.forEach(h=>{var u,b;const v=h.url,d=(u=l.draftUnfurls)===null||u===void 0?void 0:u[f];!(d==null||(b=d[v])===null||b===void 0)&&b.data&&(p[v]=d[v].data)}),p});a.meta={name:"createThunk",key:"createThunkgetDataForDraftUnfurls",description:"Gets unfurl data from store given a list of unfurls and a draftId"}},kFoU:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("n3tL"),c=e("beVI"),r=e("CD4m"),f=e("sGXp"),l=e("oEDn"),p=e("T00V"),h=e("hUMe"),u=e("HAG/");function b(){return b=Object.assign||function(O){for(var E=1;E<arguments.length;E++){var y=arguments[E];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(O[C]=y[C])}return O},b.apply(this,arguments)}o(b,"_extends");const v={className:i.default.string,teamNameClassName:i.default.string,"data-qa":i.default.string,"data-sk":i.default.string,id:i.default.string.isRequired,invert:i.default.bool,isDeactivated:i.default.bool,isError:i.default.bool,team:i.default.object.isRequired,allowInitials:i.default.bool,bold:i.default.bool,shouldMaybeShowVerified:i.default.bool},d={className:void 0,teamNameClassName:void 0,"data-qa":void 0,"data-sk":"small_team_entity",invert:!1,isDeactivated:!1,isError:!1,allowInitials:!0,bold:!0,shouldMaybeShowVerified:!1};function m(O){let{className:E,teamNameClassName:y,id:C,invert:I,team:j,isDeactivated:M,isError:T,bold:D,shouldMaybeShowVerified:S,allowInitials:A,"data-qa":P,"data-sk":N}=O;const G=I?f.d.highlightDark:null,V=Object(n.useCallback)(k=>T?t.a.createElement(l.a,{type:"warning",className:"c-team_entity__icon--error"}):t.a.createElement(p.a,b({},k,{team:j,size:f.a.small,invert:I,allowTeamInitials:A})),[j,I,T,A]);return t.a.createElement(r.d,{avatar:V,className:E,isDeactivated:M,size:"small",style:G,text:t.a.createElement(h.a,{team:j,shouldMaybeShowVerified:S,invert:I,bold:D,className:y}),"data-team-id":C,"data-qa":P,"data-sk":N})}o(m,"SmallTeamEntity"),m.displayName="SmallTeamEntity",m.propTypes=v,m.defaultProps=d;const g=o((O,E)=>{const y=E.team||Object(c.s)(O,E.id);return{team:y,id:y.id}},"mapStateToProps");s.a=Object(a.a)(g)(m)},"kG/e":function(w,s,e){w.exports=e.p+"confirmation-dark-f0db418.svg"},kHrk:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("6Tgc"),i=e("Zlla"),c=e("KYPV"),r=e("OCkr");function f(){return f=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(p[b]=u[b])}return p},f.apply(this,arguments)}o(f,"_extends");const l=o(p=>{const{name:h,options:u}=p,{validateOnBlur:b,value:v,...d}=p,{setFieldValue:m,handleBlur:g,setFieldTouched:O}=Object(c.e)(),E=Object(n.useCallback)(y=>{m(h,y.value)},[h,m]);return t.a.createElement(a.a,f({},d,{onOptionSelected:E,selectedOption:Object(i.a)(u,v),key:v},b?{onBlur:()=>{g(h),O(h,!0)}}:{onBlur:()=>{O(h,!1)}}))},"WithAdaptedProps");l.displayName="WithAdaptedProps",s.a=p=>t.a.createElement(r.a,f({component:l},p))},kJAc:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),i=e("0zuE"),c=e("3l96");function r(){return r=Object.assign||function(l){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var u in h)Object.prototype.hasOwnProperty.call(h,u)&&(l[u]=h[u])}return l},r.apply(this,arguments)}o(r,"_extends");const f=Object(a.c)("Opens the roadblock modal for External Limited members",(l,p,h)=>{let{isStackable:u,...b}=h;l(Object(c.a)({element:t.a.createElement(i.b,r({},b)),isStackable:Boolean(u)}))});f.meta={name:"createThunk",key:"createThunkopenExternalLimitedRoadblockModal",description:"Opens the roadblock modal for External Limited members"}},kJif:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("YBS9"),t=e("yrot"),a=e("O86Y");const i=o((c,r,f)=>{if(Object(n.b)(c,r,f))return f;const l=Object(a.g)(c),p=Object(t.d)(c,{text:f,teamId:l}),h=Object(t.m)(c,p);return Object(n.b)(c,r,h)?h:p},"getCorrectNameForReactionKeyAndName")},kMME:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("lCmp"),c=e("SQ0V"),r=e("3l96"),f=e("+kJ4"),l=e("nRFS"),p=e("HI9p"),h=e("hXah"),u=e("YUBf"),b=e("Yauy"),v=e("Enx8"),d=e("Yg60"),m=e("E97Y"),g=e("y/Pn"),O=e("K7jq"),E=e("eUIW");function y(_){return _?Object(E.a)(_.id)?Object(O.a)(_)?d.a.SC_DM:d.a.DM:Object(g.a)(_)&&Object(m.g)(_)?d.a.SC_DM:Object(g.a)(_)&&Object(m.i)(_)?d.a.SC_MPDM:Object(m.g)(_)?d.a.DM:Object(m.i)(_)?d.a.MPDM:Object(g.a)(_)&&Object(m.k)(_)?d.a.SC_PRIVATE_CHANNEL:Object(m.k)(_)?d.a.PRIVATE_CHANNEL:Object(g.a)(_)&&Object(m.l)(_)?d.a.SC_PUBLIC_CHANNEL:Object(m.l)(_)?d.a.PUBLIC_CHANNEL:d.a.UNKNOWN:d.a.UNKNOWN}o(y,"getMessageForwardingDestinationType");var C=e("zxER"),I=e("ZobM"),j=e("j4mf"),M=e("nNoG");const T=new M.b("drafts");function D(_,B,z,L,$,Q,K,Z,ne,F,J){let X,Y;return(Q===d.a.DM||d.a.MPDM)&&(X=J?T.rt("Share this with {destinationName}?",{destinationName:F||Z}):null,J&&(Y=$?T.rt("You\u2019re about to share private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019re about to share a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K})),L&&J&&(Y=$?T.rt("You\u2019ll be sharing private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K}))),Q===d.a.SC_DM&&(X=J?T.rt("Share this with {destinationMemberName}?",{destinationMemberName:Z}):null,J&&(Y=$?T.rt("You\u2019re about to share private messages with someone from <b>{firstConnectedTeamName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:_}):T.rt("You\u2019re about to share a private message from <b>{authorName}</b> with someone from <b>{firstConnectedTeamName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K,firstConnectedTeamName:_})),L&&J&&(Y=$?T.rt("You\u2019ll be sharing private messages with someone from <b>{firstConnectedTeamName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:_}):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b> with someone from <b>{firstConnectedTeamName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K,firstConnectedTeamName:_}))),Q===d.a.SC_MPDM&&(X=J?T.rt("Share this with {destinationChannelName}?",{destinationChannelName:F}):null,J&&(Y=$?T.rt("You\u2019re about to share private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1}):T.rt("You\u2019re about to share a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K,firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1})),L&&J&&(Y=$?T.rt("You\u2019ll be sharing private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1}):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K,firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1}))),Q===d.a.PRIVATE_CHANNEL&&(X=J?T.rt("Share this with {memberCount} people in {lock}{destinationChannelName}?",{lock:t.a.createElement(I.a,{name:"lock",inline:!0}),memberCount:Object(j.a)(ne),destinationChannelName:F}):null,J&&(Y=$?T.rt("You\u2019re about to share private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019re about to share a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K})),L&&J&&(Y=$?T.rt("You\u2019ll be sharing private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K}))),Q===d.a.SC_PRIVATE_CHANNEL&&(X=J?T.rt("Share this with {memberCount} people in {lock}{destinationChannelName}?",{lock:t.a.createElement(I.a,{name:"lock",inline:!0}),memberCount:Object(j.a)(ne),destinationChannelName:F}):null,J&&(Y=$?T.rt("You\u2019re about to share private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1}):T.rt("You\u2019re about to share a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K,firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1})),L&&J&&(Y=$?T.rt("You\u2019ll be sharing private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1}):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K,firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1}))),Q===d.a.PUBLIC_CHANNEL&&(X=J?T.t("Share this with {memberCount, plural, =1 {{memberCount} person} other {{memberCount} people}} in {destinationChannelName}?",{memberCount:Object(j.a)(ne),destinationChannelName:F}):null,J&&(Y=$?T.rt("You\u2019re about to share private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019re about to share a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K})),L&&J&&(Y=$?T.rt("You\u2019ll be sharing private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K}))),Q===d.a.SC_PUBLIC_CHANNEL&&(X=J?T.t("Share this with {memberCount, plural, =1 {{memberCount} person} other {{memberCount} people}} in {destinationChannelName}?",{memberCount:Object(j.a)(ne),destinationChannelName:F}):null,J&&(Y=$?T.rt("You\u2019re about to share private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1}):T.rt("You\u2019re about to share a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K,firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1})),L&&J&&(Y=$?T.rt("You\u2019ll be sharing private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1}):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:K,firstConnectedTeamName:_,secondConnectedTeamName:B,remainingTeamsCount:z-1}))),{title:X,subTitle:Y}}o(D,"getSpeedBumpDescription"),D.displayName="getSpeedBumpDescription";var S=e("E3dU"),A=e("dlm8"),P=e("zm5I");const N=new M.b("drafts"),G=o((_,B)=>{let z=0;return _.forEach(L=>{let{url:$}=L;var Q;!((Q=B[$])===null||Q===void 0)&&Q.private_channel_prompt&&(z+=1)}),z},"getLinkedPrivateMessagesCount");function V(_){let{onClose:B,onSend:z,isScheduledSend:L,unfurlsWithData:$,unfurls:Q,channelId:K,firstConnectedTeamName:Z,secondConnectedTeamName:ne,connectedTeamsCount:F,isPrivateMessageForwardingLinkSpeedBumpEnabled:J,isFromDraftsPage:X}=_;const Y=G(Q,$)>1,ae=Object(C.c)(ue=>{if(Y)return null;const Pe=Object(p.a)(Q,Ke=>{var qe;return!!(!((qe=$[Ke.url])===null||qe===void 0)&&qe.private_channel_prompt)}),Ye=Pe!==-1&&Q[Pe].url,$e=Ye&&$[Ye].author_id||"";return $e&&Object(v.a)(ue,$e)}),ee=Object(C.c)(ue=>Object(S.d)(ue,K)),q=Object(C.c)(ue=>Object(b.t)(ue,ee,{truncateMpimNames:!0,imIncludeAtSign:!1})),te=Object(C.c)(ue=>Object(v.a)(ue,ee==null?void 0:ee.user)),de=y(ee),se=Object(C.c)(ue=>{var Pe,Ye;return(Pe=Object(A.d)(ue,K))===null||Pe===void 0||(Ye=Pe.counts)===null||Ye===void 0?void 0:Ye.member_count})||0,re=Object(C.c)(P.a),{title:oe,subTitle:ce}=D(Z,ne,F,L,Y,de,ae,te,se,q,J);return t.a.createElement(u.a,{closeModal:B},t.a.createElement(h.a,{clientTheme:re,className:"p-message_pane_link_flow_speed_bump__spicy_sparrow_animation"}),t.a.createElement(u.l,{title:oe}),t.a.createElement(u.d,null,t.a.createElement(u.e,null,t.a.createElement("p",null,ce))),t.a.createElement(u.g,null,t.a.createElement(u.h,null,t.a.createElement(u.c,{type:"outline",onClick:B,autoFocus:!0},X||L?N.t("Cancel"):N.t("Edit Message")),t.a.createElement(u.c,{type:"primary",onClick:()=>{z(),B()}},L?N.t("Schedule Message"):N.t("Send")))))}o(V,"MessagePaneInputMessageForwardingLinkSpeedBump"),V.displayName="MessagePaneInputMessageForwardingLinkSpeedBump";var k=V,x=e("FdVR"),H=e("beVI"),R=e("G0eX");const W=Object(c.c)("Display a warning when sending links from private messages",(_,B,z)=>{let{onSend:L,onClose:$=a.a,unfurlsWithData:Q,unfurls:K,isScheduledSend:Z,channelId:ne,isFromDraftsPage:F}=z;const J=B(),X=Object(l.a)(J);if(!X||!Q||!K||!K.length)return{didOpen:!1};if(!Object(i.a)(K,re=>{var oe;return(oe=Q[re.url])===null||oe===void 0?void 0:oe.private_channel_prompt}))return{didOpen:!1};const ae=Object(S.d)(J,ne);let ee=[],q="",te="";if(ae&&Object(g.a)(ae)){ee=Object(x.a)(J,ae);const re=ee.map(oe=>Object(H.s)(J,oe));q=Object(R.h)(re[0]),te=Object(R.h)(re[1])}const de=ee.length,se=t.a.createElement(k,{onClose:()=>{$(),_(Object(f.a)())},onSend:L,isScheduledSend:Z,firstConnectedTeamName:q,secondConnectedTeamName:te,connectedTeamsCount:de,unfurlsWithData:Q,unfurls:K,channelId:ne,isPrivateMessageForwardingLinkSpeedBumpEnabled:X,isFromDraftsPage:F});return _(Object(r.a)({element:se,isStackable:!0})),{didOpen:!0}});W.meta={name:"createThunk",key:"createThunkmaybeOpenPrivateMessageForwardingSpeedBump",description:"Display a warning when sending links from private messages"};var U=s.a=W},kNaz:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return i}),e.d(s,"d",function(){return c});var n=e("pu3F"),t;(function(r){r.ALL="ALL",r.IMAGES_ONLY="IMAGES_ONLY"})(t||(t={}));var a;(function(r){r.Conversations="conversations",r.Channels="channels",r.Users="users",r.Static="static"})(a||(a={}));var i;(function(r){r.Text="text",r.Number="number",r.Textarea="textarea",r.SelectStatic="selectStatic",r.SelectUser="selectUser",r.SelectConversation="selectConversation",r.Date="date",r.DateTime="dateTime",r.ShortText="shortText",r.LongText="longText",r.RichText="richText",r.SelectPerson="selectPerson",r.SelectChannel="selectChannel",r.Dropdown="dropdown",r.StaticMultiSelect="staticMultiSelect",r.StaticMultiSelectWithCheckboxes="staticMultiSelectWithCheckboxes",r.UserMultiSelect="userMultiSelect",r.ChannelMultiSelect="channelMultiSelect",r.File="file",r.Boolean="boolean",r.Integer="integer"})(i||(i={}));const c={[i.ShortText]:n.f.plain_text_input,[i.LongText]:n.f.plain_text_input,[i.RichText]:n.f.rich_text_input,[i.SelectPerson]:n.f.users_select,[i.UserMultiSelect]:n.f.multi_users_select,[i.SelectChannel]:n.f.channels_select,[i.ChannelMultiSelect]:n.f.multi_channels_select,[i.Dropdown]:n.f.static_select,[i.StaticMultiSelect]:n.f.multi_static_select,[i.StaticMultiSelectWithCheckboxes]:n.f.checkboxes,[i.Date]:n.f.datepicker,[i.DateTime]:n.f.datetimepicker,[i.Integer]:n.f.number_input,[i.Number]:n.f.number_input,[i.File]:n.f.file_input,[i.Boolean]:"",[i.Text]:"",[i.Textarea]:"",[i.SelectStatic]:"",[i.SelectConversation]:"",[i.SelectUser]:""}},kakQ:function(w,s,e){"use strict";var n=e("X6iR"),t=e("ifKl"),a=e("x91h"),i=e("q1tI"),c=e.n(i),r=e("Cfcg"),f=e("nNoG"),l=e("+wAm"),p=e("f0LB"),h=e("QLhP"),u=e("xwCZ"),b=e("JoR1"),v=e("ltDl"),d=e("WBOM"),m=e("ehcD"),g=e("m40f"),O=e("O/xh"),E=e("pu3F"),y=e("2aqP"),C=e("05YO"),I=e("s4P+"),j=e("RVJP"),M=e("a7YP"),T=e("sqFq"),D=e("nWdO"),S=e("j/ar"),A=e("ganR"),P=e("NNLN"),N=e("Tevt"),G=e("NV6F"),V=e("hRxb"),k=e("E3dU"),x=e("UIhb"),H=e("ISSR"),R=e("Yauy"),W=e("E97Y"),U=e("+l5E"),_=e("JQ3U"),B=e("ANTO"),z=e("ALys"),L=e("+uU3"),$=e("NmJ/"),Q=e("s8RM"),K=e("Kmpi"),Z=e("Epto"),ne=e("OXvE"),F=e("AwEi"),J=e("Ccc1"),X=e("/qcS"),Y=e("uVdA"),ae=e("QE0t");const ee=new f.b("linkify_emails");function q(qe){let{href:ct,isMsgPermalink:Be=!1,msg:pe=void 0,channelDisplayName:fe,msgSenderName:me,permalinkChannelId:Se=void 0,channel:je=void 0,experimentRichTextGroupOn:Ue=!1}=qe,ve=ct.length>500?`${ct.substr(0,500)}\u2026`:ct;if(ve=Be?ve:ve==null?void 0:ve.toLowerCase(),!Be||Object(K.c)(pe)||Object(U.tb)(pe)||Object(H.a)(je)||Object(Q.a)(pe==null?void 0:pe.subtype)||Object(_.a)(pe)==="tombstone"||Object(_.f)(pe)||Object(_.c)(pe)||Object(_.d)(pe)||!Object(U.S)(pe)&&!(pe!=null&&pe.text)){if(ct.startsWith("mailto:")){const Te=ct.split("mailto:")[1]?ct.split("mailto:")[1]:ct;return ee.rt("Contact {emailAddress} in Slack",{emailAddress:Te})}return c.a.createElement(c.a.Fragment,null,ve)}let ge;if(pe&&Object(z.a)(pe,Ue)&&Object(ae.a)(pe.blocks)&&!Object(L.a)(pe))ge=c.a.createElement(ne.a,{richTextBlock:(pe==null?void 0:pe.blocks)&&pe.blocks[0],emojiSize:X.a.SMALL,truncateLength:125});else{const he=pe&&Object($.a)(pe);he&&(ge=c.a.createElement(F.a,{text:he,noHighlights:!0,noHexColors:!0,noJumbomoji:!0,noLinking:!0,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,emojiSize:X.a.SMALL,maxCharacters:125}))}const le=Object(W.g)(je)||Object(W.i)(je)?fe:c.a.createElement(J.a,{className:"normal",channelId:Se});return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},c.a.createElement("b",{className:"bold sk_white_always"},me),c.a.createElement("span",{className:"normal"}," | ",le)),ge&&c.a.createElement("div",{className:"normal"},ge),c.a.createElement("div",{className:"sk_foreground_high_solid break_all"},ct))}o(q,"MrkdwnLinkTooltip"),q.displayName="MrkdwnLinkTooltip";function te(qe,ct){let{href:Be}=ct;const pe=Object(d.e)(qe,Be),fe=!!(pe&&pe.type==="message"&&pe.ts),me=fe?pe.channelId:void 0,Se=fe&&pe.channelId&&pe.ts&&Object(x.b)(qe,pe.channelId,pe.ts),je=Se&&Object(B.a)(qe,Se);var Ue;return{isMsgPermalink:fe,msg:Se||void 0,permalinkChannelId:me||void 0,channel:me&&(Ue=Object(k.d)(qe,me))!==null&&Ue!==void 0?Ue:void 0,channelDisplayName:fe?Object(R.t)(qe,Object(k.d)(qe,me)):void 0,msgSenderName:je?Object(Z.a)(qe,{userId:je.userId,botId:je.botId,username:je.username,botProfile:Se.bot_profile}):void 0,experimentRichTextGroupOn:Object(Y.a)(qe)}}o(te,"mapStateToProps");var de=Object(r.a)(te)(q);const se="javascript:";function re(qe){let{url:ct,origin:Be,botId:pe,urlIsSIWSLink:fe,experimentWebIdentityLinksGroupTreatment:me,isFileQuipAndNotAccessible:Se}=qe;return fe&&me?"siws":Se?"quip-inaccessible":pe?"bot":Object(n.a)(ct,se)?"javascript":Object(n.a)(ct,`${Be}/messages`)?"messages":Object(n.a)(ct,`${E.T}chat.help`)?"old-slack-action":Object(n.a)(ct,`${E.R}`)?"slack-action":"external"}o(re,"getUrlType");const oe=Object(y.a)();function ce(qe){let{botId:ct,botName:Be,children:pe,origin:fe=oe,doSlackAction:me,doSlackActionLinks:Se=!0,requestAccessModalThunk:je,noLinking:Ue=!1,url:ve,maybeOpenSuspiciousLinkDialog:ge=t.a,clogLinkClick:le=t.a,urlIsSIWSLink:he=!1,explicitlyRenameBotLink:Te=!1,showTooltip:Re=!1,suppressLinkWarningPref:Ve=!1,experimentWebIdentityLinksGroupTreatment:Ee=!1,isHermesLinkTrigger:Ae=!1,triggerId:Ge,isFileQuipAndNotAccessible:Ze=!1,isFromAppHome:ze=!1,permalinkType:lt=null,permalinkFileId:tt=void 0}=qe;const Ot=Object(i.useCallback)(()=>{me(ve)},[me,ve]),Ct=Object(i.useCallback)($t=>{$t.preventDefault(),je({url:ve})},[je,ve]),St=Object(i.useCallback)($t=>{let hn="external",gn;lt===d.a.MESSAGE?hn="message":lt===d.a.FILE?(hn="file",tt&&(gn={item_id:tt,item_type:"F",link_action:"file_preview_link"})):lt===d.a.SEARCH?hn="search_link":lt&&(hn="internal"),le({...$t,...gn,link_type:hn})},[le,lt,tt]),zt=Object(i.useCallback)(()=>{const $t=Object(a.a)(ve);return c.a.createElement(de,{href:$t})},[ve]);if(Ue)return c.a.createElement("span",null,pe);const kt=re({url:ve,origin:fe,botId:ct,urlIsSIWSLink:he,experimentWebIdentityLinksGroupTreatment:Ee,isFileQuipAndNotAccessible:Ze}),on=Object(a.a)(ve);let _t,be=null,ot=!1,rt=!1,Jt=pe,Qt=!1;if(kt==="slack-action")rt=!0,Se?be=Ot:(ot=!0,_t="(Disabled) ");else if(kt==="old-slack-action")ot=!0,_t="(Disabled) ";else if(kt==="quip-inaccessible"){const hn=new f.b("request_access").t("Request access"),gn=c.a.createElement(N.a,{className:"c-mrkdwn__quip_file_request_access_link","data-stringify-link":on,"data-qa":"file-request-access-link",href:on,onClick:Ct,isFromAppHome:ze},pe);return c.a.createElement(D.c,{tip:hn,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link","data-qa":"quip-file-request-access-tooltip"},gn)}else if(kt==="javascript")rt=!0,be=t.a;else if(kt==="bot"&&Te)rt=!0,Jt=Be||pe,Qt=!0;else if(kt==="siws"){const $t=o((gn,Cn)=>c.a.createElement(N.a,{autoClogProps:Cn,clogLinkClick:St,className:"c-mrkdwn__identity_trigger",onClick:gn,href:on},Jt),"renderBaseLink");let hn=$t;return Re&&(hn=o((gn,Cn)=>c.a.createElement(D.c,{tip:zt,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},$t(gn,Cn)),"renderSiwsLink")),c.a.createElement(A.a,{url:on},hn)}if(rt){let $t=c.a.createElement(g.a,{onClick:be&&!ot?be:t.a,disabled:ot,renderAsSpan:!0},_t,Jt);return Qt&&($t=c.a.createElement(O.a,{botId:ct,onClick:!ot&&be},$t)),$t}const qt=c.a.createElement(N.a,{"data-stringify-link":on,href:on,clogLinkClick:St,maybeOpenSuspiciousLinkDialog:Ve?t.a:ge,isFromAppHome:ze},pe);return Ae&&Ge?c.a.createElement(P.a.Consumer,null,$t=>{let{...hn}=$t;const gn={triggerId:Ge,url:ve},Cn=Object(T.b)(hn),Mn=Object(T.a)(hn,gn);return Object(G.G)({shortcutInfo:gn,channelId:hn.channelId,hermesLinkTriggerUIContext:Cn,autoClogEntryPoint:(Mn==null?void 0:Mn.entryPoint)||"other",children:c.a.createElement(N.a,{"data-stringify-link":on,href:on,clogLinkClick:St,autoClogProps:Mn,hermesLinkTriggerUIContext:Cn,maybeOpenSuspiciousLinkDialog:Ve?t.a:ge},pe)})}):Re?c.a.createElement(D.c,{tip:zt,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},qt):qt}o(ce,"BaseMrkdwnLink"),ce.displayName="BaseMrkdwnLink";const ue=o((qe,ct)=>{let{children:Be,memberId:pe,url:fe}=ct;const me=Object(j.d)(qe,"web_identity_links")==="treatment",Se=Object(C.a)(fe)||void 0,je=Object(v.a)(fe),Ue=je?Object(d.f)(qe,je):null;let ve;if(Se&&(ve=Object(h.d)(qe,Se),!ve&&pe)){const he=Object(u.g)(qe,pe);Object(m.c)(qe,he)&&(ve=Be),ve||Object(I.a)({state:qe}).warn(`MrkdwnLink: no bot name found for ${Se}`)}const ge=Object(M.B)(qe)&&(Ue==null?void 0:Ue.type)===d.a.SHORTCUT_LINK_TRIGGER,le=je&&Object(V.b)(qe,je,!1)!==null;return{botId:Se,botName:ve,experimentWebIdentityLinksGroupTreatment:me,suppressLinkWarningPref:!!Object(b.t)(qe,"suppress_link_warning"),urlIsSIWSLink:je?Object(S.b)(qe,je):!1,isHermesLinkTrigger:ge,triggerId:Ue==null?void 0:Ue.triggerId,permalinkType:Ue==null?void 0:Ue.type,permalinkFileId:Ue==null?void 0:Ue.fileId,isFileQuipAndNotAccessible:le}},"mrkdwn_link_mapStateToProps"),Pe=o(qe=>({doSlackAction:ct=>qe(Object(l.a)(ct)),requestAccessModalThunk:ct=>qe(Object(p.a)(ct))}),"mapDispatchToProps"),Ye=Object(r.a)(ue,Pe)(ce);var $e=s.a=Ye;Object.defineProperty({},"getUrlType",{get:()=>re,set:qe=>{re=qe}})},kghi:function(w,s,e){"use strict";e.d(s,"b",function(){return f}),e.d(s,"a",function(){return p});var n=e("SQ0V"),t=e("0aqA"),a=e("O86Y"),i=e("4Vim"),c=e("B1w/");const r={},f=Object(n.c)("Mark file as subsribed for team",(h,u,b)=>{let{fileId:v}=b;const d=Object(a.i)(u());d&&(r[d]||(r[d]={}),r[d][v]=Date.now())});f.meta={name:"createThunk",key:"createThunkmarkFileIdAsSubscribed",description:"Mark file as subsribed for team"};const l=Object(n.c)("Mark file as subsribed for team",(h,u,b)=>{let{fileId:v}=b;var d;const m=Object(a.i)(u());m&&((d=r[m])===null||d===void 0||delete d[v])});l.meta={name:"createThunk",key:"createThunkmarkFileIdAsUnsubscribed",description:"Mark file as subsribed for team"};const p=o(h=>{const u=Object(a.i)(h),b=r[u||""]||{};let v=0,d=0,m=0,g=0;const O=Object(i.a)(h);return O.forEach(E=>{const y=Object(c.a)(h,E);if(!y){v+=1;return}const C=b[y];if(C){g=Math.max(g,C);return}if(Object(t.a)(h,y)){d+=1;return}m+=1}),{openCount:O.length,missingSubCount:m,staticModeCount:d,missingFileIdCount:v,lastSubTimeAgo:Date.now()-g}},"getSubCounts")},kiyg:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("yIs4");function t(a,i){const c=i==null?void 0:i.index,r=i==null?void 0:i.length;if(!Object(n.a)(c)||!Object(n.a)(r))return[];if(c<0||r<0)return[];if(r===0){const[f,l]=a.getLine(c);return f?[f]:[]}return r>0?a.getLines(c,r):[]}o(t,"getLinesForRange")},kjgz:function(w,s,e){"use strict";e.d(s,"d",function(){return t}),e.d(s,"e",function(){return a}),e.d(s,"c",function(){return i}),e.d(s,"b",function(){return f}),e.d(s,"a",function(){return h});var n=e("ykb+");const t="A014GBNBJ59",a="A04MG80N5CY",i=Object(n.b)()?t:a,c="A014LHD2ATV",r="A050C90PUF5",f=Object(n.b)()?c:r,l="A0154SFF675",p="A05UG04QC4X",h=Object(n.b)()?l:p},"ksz/":function(w,s,e){"use strict";e.d(s,"b",function(){return a}),e.d(s,"a",function(){return i});var n=e("n3tL"),t=e("DwFS");const a=Object(t.a)("Set a channel pref");a.meta={name:"createAction",key:"createActionsetChannelPref",description:"Set a channel pref"},a.propTypes={pref:n.default.string.isRequired,value:n.default.any.isRequired};const i=Object(t.a)("Bulk set channel prefs");i.meta={name:"createAction",key:"createActionbulkSetChannelsPrefs",description:"Bulk set channel prefs"},i.propTypes=n.default.objectOf(n.default.objectOf(n.default.any))},"ku/f":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),i=e("RVJP"),c=e("3l96"),r=e("Cfcg"),f=e("QXUO"),l=e("nNoG"),p=e("d/xU"),h=e("zb/F"),u=e("goOt"),b=e("Yp7W"),v=e("+kJ4"),d=e("oY18"),m=e("ohbk"),g=e("9oTK"),O=e("m5fH"),E=e("qcoW"),y=e("gCYc"),C=e("Kn+X");const I=Object(a.c)("edit a user dlp flagged message in the message pane",function(){var re=Object(g.coroutine)(function*(oe,ce,ue){const Pe=Object(y.k)(ce(),ue),Ye={client_draft_id:ue,ops:Object(C.n)(Pe),destinations:Object(C.j)(Pe)};oe(Object(O.h)(Ye)),yield oe(Object(E.a)({draftId:ue}))});return function(oe,ce,ue){return re.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkeditDlpMessage",description:"edit a user dlp flagged message in the message pane"};var j=I,M=e("BfA7"),T=e("I0j/"),D=e("37+L"),S=e("UmHn"),A=e("HOkk"),P=e("jWAO"),N=e("Tevt"),G=e("rAyg"),V=e("ktUG");const k="https://account.box.com/app-api/slack-v2/install?cfsAuth=true",x=new l.b("file-upload"),H={labelledby:"p-file_upload_error_dialog__message"},R={cancelButton:{eventId:V.EventId.ENTERPRISE_DLP_USER_WARNING,elementName:"file_upload_edit_button",onClick:{enableClogAction:!0}}};let W=o(class extends n.PureComponent{onCancel(){const{onClose:oe,msgText:ce,goToDrafts:ue}=this.props;if(this.canCopyMessage()){Object(h.e)(ce);const Pe=x.t("Text copied.");this.props.enqueueToast({element:t.a.createElement(G.a,{icon:"check-circle-o",iconClassName:"sk_lilypad_green"},Pe)})}ue&&(this.props.shouldUseNavigate?this.props.navigate(Object(D.M)(S.a.Drafts)):this.props.setPrimaryView({id:"Pdrafts"})),this.showDlpWarningAlert()&&this.editMessageAfterDlpWarning(),oe&&oe()}onGo(oe){var ce,ue;(ue=(ce=this.props).onGo)===null||ue===void 0||ue.call(ce,oe),this.props.closeModal()}getErrorTitle(){const{experimentNativeDlpUserWarningsGroupOn:oe,error:ce,goToDrafts:ue}=this.props;return ue?x.t("Couldn\u2019t send message",{fallbackHash:"a7003a17b845a849ad6b0e26d911880416db8f96",fallbackHashNs:"client"}):oe&&this.showDlpWarningAlert()?x.t("Review this message before sending"):ce&&[b.a.SlackConnectBlockedFileType,b.a.SlackConnectFileUploadSharingBlocked].includes(ce)?x.t("File upload is not available"):ce===b.a.SlackConnectFileLinkSharingBlocked?x.t("Can\u2019t share file",{fallbackHash:"cf0b694a139c9f2ebaa6c1d6fc7d9b8f17f0cb21",fallbackHashNs:"share-dialog"}):x.t("Your file couldn\u2019t be uploaded")}getErrorMessage(){const{experimentNativeDlpUserWarningsGroupOn:oe,experimentBoxCfsGroupOn:ce,experimentFeBlockSharingFileTypesGroupOn:ue,filestore:Pe,goToDrafts:Ye,error:$e}=this.props;if($e===b.a.FileUploadsDisabled)return x.t("File uploads to this workspace have been disabled at the request of your administrator.",{fallbackHash:"41d8a72765fefd26701060f61016d5614c19f486",fallbackHashNs:"files"});if($e===b.a.FileUploadsExceptImagesDisabled)return x.t("At the request of your administrator, only images can be uploaded to this workspace.",{fallbackHash:"193abce8b47ae929ebaf718597b7be31289fec4e",fallbackHashNs:"files"});if($e===b.a.SlackConnectFileLinkSharingBlocked)return x.t("File sharing has been disabled in conversations using Slack Connect.",{fallbackHash:"e8f194362ffc5ae28e45b5ead555ca6d10747378",fallbackHashNs:"share-dialog"});if($e===b.a.SlackConnectBlockedFileType)return x.t("Files of this type can\u2019t be shared in conversations using Slack Connect.",{fallbackHash:"37e1dbfd71d5e354f61967c3eea95445bbae19cd",fallbackHashNs:"client"});if(ue&&$e===b.a.BlockedFileType)return x.t("Files of this type can\u2019t be shared in conversations according to your enterprise policy");if($e===b.a.SlackConnectFileUploadSharingBlocked)return x.t("Your admins have disabled file upload in this Slack Connect conversation.",{fallbackHash:"71383217c9d64f51dc2d041efbda8a8a4e8a3005",fallbackHashNs:"file-upload"});if($e===b.a.SlackConnectCanvasContainFileSharingBlocked)return x.t("This canvas contains at least one file. Your message couldn\u2019t be sent. File sharing has been disabled in conversations using Slack Connect.",{fallbackHash:"ac0cc1047439ad31466c9f726b80defd80b543f6",fallbackHashNs:"file-upload"});if($e===b.a.MalwareDetected)return t.a.createElement(P.d,{level:P.b.warning},x.t("This file may contain a virus or other malware and can\u2019t be uploaded to Slack.",{fallbackHash:"a73deaa3ea16beafb068543ed948e6af2c7b48bb",fallbackHashNs:"files"}));if($e===b.a.FileNotFoundOnDevice)return x.t("Something about your file changed before it could be uploaded. This might happen if your file has been moved, edited, or deleted from your device.",{fallbackHash:"125e99f44db118804f7ef65809b0f4a161dff33a",fallbackHashNs:"upload-queue"});if(ce){if(Pe==="box"){if($e===f.a.FilestoreAuthError)return x.rt("Your organization requires that you <link>connect your Box account to Slack</link> in order to upload files. Please try again after connecting.",null,Ke=>{let{key:qe,text:ct}=Ke;return t.a.createElement(N.a,{key:qe,onClick:this.props.closeModal,href:k,rel:"noopener noreferrer"},ct)});if($e&&[f.a.FilestoreUnavailable,f.a.FilestoreError].includes($e))return x.t("We were unable to communicate with Box. Please try again later.")}if($e&&[f.a.FilestoreDisabled,f.a.FilestoreMisconfigured].includes($e))return x.rt("Something isn\u2019t right with your workspace\u2019s file upload settings. Please ask your administrator to <Link>contact Slack customer support.</Link>",null,Ke=>{let{key:qe,text:ct}=Ke;return t.a.createElement(N.a,{key:qe,href:`https://${Object(p.l)()}/help/contact`,rel:"noopener noreferrer"},ct)})}return oe&&this.showDlpWarningAlert()?x.t("This message may include info that your admins don\u2019t want shared. This can include social security numbers, credit card info, or other info they choose to restrict. Make sure everything looks okay before sending.",{fallbackHash:"3d41b52522ffc1ce2a17231eddea8d6a36940833"}):Ye?x.t("Your message, along with any files and attachments, has been saved to your drafts.",{fallbackHash:"cdd8eea57f7dc6bc3e9d85522cdab14f0750b7a2",fallbackHashNs:"client"}):this.canCopyMessage()?x.t("If you\u2019d like, you can copy your message to your clipboard in order to send it separately \u2014 or you can try uploading again."):$e===b.a.CanvasHeaderImageUnsupportedFileType?x.t("This file type is not supported.",{fallbackHash:"33d6b46a676f82c6706096af1540b846b5e33e17"}):this.canTryAgain()?x.t("Hmm, it looks like your file failed to upload. Want to try again?"):x.t("Hmm, it looks like your file failed to upload.",{fallbackHash:"33d6b46a676f82c6706096af1540b846b5e33e17",fallbackHashNs:"files"})}canCopyMessage(){const{msgText:oe}=this.props;return oe&&Object(h.a)()}canTryAgain(){const{allowTryAgain:oe,goToDrafts:ce}=this.props;return!(!oe||ce)}shouldShowSlackConnectBlockFilesByTypeLearnMoreLink(){const{error:oe}=this.props;return oe===b.a.SlackConnectBlockedFileType}showShowAddFilesToSlackLearnMoreLink(){const{error:oe}=this.props;return oe===b.a.MalwareDetected}render(){const{onClose:oe,goToDrafts:ce}=this.props,ue=this.getErrorTitle();let Pe;const Ye=this.canTryAgain(),$e=this.showDlpWarningAlert();Ye&&this.canCopyMessage()?Pe=x.t("Try Again"):Ye?Pe=x.t("Yes, try again"):$e?Pe=x.t("Send Message"):Pe=x.t("Got it");let Ke;Ye&&this.canCopyMessage()?Ke=x.t("Copy Text & Close"):ce?Ke=x.t("See Drafts",{fallbackHashNs:"drafts",fallbackHash:"22a31d86e0187b65e763143666d22094cedfe6a4"}):$e?Ke=x.t("Edit Message"):Ye&&(Ke=x.t("Cancel"));const qe=this.getErrorMessage();let ct="",Be="",pe="";return this.shouldShowSlackConnectBlockFilesByTypeLearnMoreLink()?(ct="question-circle",Be=`https://${Object(p.l)()}/help/articles/1500002249342`,pe=x.t("Learn more")):this.showShowAddFilesToSlackLearnMoreLink()&&(ct="question-circle",Be=`https://${Object(p.l)()}/help/articles/201330736`,pe=x.t("Learn more")),t.a.createElement(A.a,{className:"p-file_upload_error_dialog","data-qa":"file_upload_error_dialog",title:ue,ariaContent:H,goButtonText:Pe,cancelText:Ke,showCancelButton:Ye||ce||$e,onGo:this.onGo,onCancel:this.onCancel,onClose:oe,shouldCloseOnGo:!1,footerIcon:ct!==""?ct:void 0,footerLink:Be!==""?Be:void 0,footerText:pe!==""?pe:void 0,autoClogProps:$e?R:void 0},t.a.createElement("span",{id:"p-file_upload_error_dialog__message"},qe))}constructor(oe){super(oe),this.showDlpWarningAlert=()=>this.props.experimentNativeDlpUserWarningsGroupOn&&this.props.error===b.a.DlpUserWarning,this.editMessageAfterDlpWarning=()=>{const{draftId:ce,onEditDlpMessage:ue}=this.props;this.showDlpWarningAlert()&&ce&&ue(ce)},this.onCancel=this.onCancel.bind(this),this.onGo=this.onGo.bind(this)}},"FileUploadErrorDialog");W.displayName="FileUploadErrorDialog";const U=o((re,oe)=>{let{blocks:ce}=oe;return{msgText:Object(u.a)(re,ce),experimentBoxCfsGroupOn:Object(i.d)(re,"box_cfs")==="on",experimentNativeDlpUserWarningsGroupOn:Object(i.d)(re,"native_dlp_user_warnings")==="on",experimentFeBlockSharingFileTypesGroupOn:Object(i.d)(re,"fe_block_sharing_file_types")==="on"}},"mapStateToProps"),_=o(re=>({closeModal:()=>re(Object(v.a)()),enqueueToast:oe=>re(Object(d.a)(oe)),setPrimaryView:function(){for(var oe=arguments.length,ce=new Array(oe),ue=0;ue<oe;ue++)ce[ue]=arguments[ue];return re(Object(m.a)(...ce))},navigate:oe=>re(Object(T.a)(oe)),onEditDlpMessage:oe=>{re(j(oe)),re(Object(v.a)())}}),"mapDispatchToProps");var B=Object(r.a)(U,_)(Object(M.a)(W)),z=e("/MKj"),L=e("Trx9"),$=e("PFo8"),Q=e("vDCl"),K=e("WAPM");const Z=new l.b("file-upload"),ne={elementName:"learn_more",onClick:{enableClogAction:!0}},F={elementName:"contact_us",onClick:{enableClogAction:!0}},J=o(()=>{const re=Object(z.useDispatch)(),oe=Object(n.useCallback)(()=>{re(Object(v.a)())},[re]),ce=Z.t("Team not able to upload files"),ue=`help/requests/new?title=${encodeURIComponent(ce)}`,Pe=Z.t("File not uploaded"),Ye=Z.rt("Your team isn\u2019t able to upload files right now. <learnMoreLink>Learn more</learnMoreLink> about file uploads, or <contactUsLink>contact us</contactUsLink> for additional support.",{"<learnMoreLink>":$e=>{let{text:Ke}=$e;return t.a.createElement(K.a,{"data-qa":"file-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:ne,forceOpenInBrowser:!0},Ke)},"<contactUsLink>":$e=>{let{text:Ke}=$e;return t.a.createElement(N.a,{"data-qa":"file-limit-error-modal-contact-us-link",href:ue,autoClogProps:F},Ke)}});return t.a.createElement(L.a,{eventId:V.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:V.UiComponentName.FILE_LIMIT_ERROR_MODAL},t.a.createElement($.a,{"data-qa":"file-limit-error-modal",title:Pe,titleIcon:"warning",bodyContent:Ye,onRequestClose:oe,theme:Q.b.ERROR}))},"FileLimitErrorModal");J.displayName="FileLimitErrorModal";var X=J,Y=e("Ptrd"),ae=e("yzO5"),ee=e("ZtOl");const q=Object(a.c)("skip dlp error on subsequent message resend",function(){var re=Object(g.coroutine)(function*(oe,ce,ue){let{draftId:Pe}=ue;const Ye=Object(y.k)(ce(),Pe);Ye&&oe(Object(ee.a)({draft:Ye,isFromModal:!0,skipDlpUserWarning:!0}))});return function(oe,ce,ue){return re.apply(this,arguments)}}());q.meta={name:"createThunk",key:"createThunkresendMessageAfterDlpWarning",description:"skip dlp error on subsequent message resend"};var te=q;const de=Object(a.c)("Opens the File Upload Error Dialog",(re,oe,ce)=>{if(ce.error===b.a.FilesUploadHasExceededLimit&&Object(i.d)(oe(),"file_limit_abuse_prevention")==="on")re(Object(c.a)({element:t.a.createElement(X)}));else if(ce.error===Y.u.MessageLimitExceeded&&Object(i.d)(oe(),"upgrd_5684")==="on")re(Object(ae.a)());else if(ce.error===b.a.DlpUserWarning&&Object(i.d)(oe(),"native_dlp_user_warnings")==="on"){const ue=o(()=>re(te({draftId:ce.draftId})),"onGo");re(Object(c.a)({element:t.a.createElement(B,{...ce,onGo:ue})}))}else re(Object(c.a)({element:t.a.createElement(B,ce)}))});de.meta={name:"createThunk",key:"createThunkopenFileUploadErrorDialog",description:"Opens the File Upload Error Dialog"},de.propTypes=null;var se=s.a=de},kxML:function(w,s,e){w.exports=e.p+"collaboration-46609a9.svg"},kyoJ:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return c}),e.d(s,"d",function(){return r}),e.d(s,"e",function(){return f});var n=e("3Hq1");const t="chat_input_tab_ui";function a(l){return`tab_complete_ui_item_${l}`}o(a,"htmlIdForResultAtIndex");const i={"aria-activedescendant":void 0,"aria-controls":t,"aria-haspopup":"listbox"};function c(l){Object.entries(i).forEach(p=>{let[h,u=""]=p;return l.setAttribute(h,u.toString())})}o(c,"initAttributesOnAutocompleteInputElement");function r(l){Object.keys(i).forEach(p=>l.removeAttribute(p))}o(r,"removeAttributesOnAutocompleteInputElement");function f(l,p){l.setAttribute("aria-activedescendant",Object(n.a)(p)?"":a(p))}o(f,"updateAutocompleteInputElementWithSelectedIndex")},l6CK:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("zxER"),c=e("9Gfp"),r=e("pFNT"),f=e("nNoG"),l=e("oEDn");const p=new f.b("stories_av");function h(ct){let{recording:Be,recordingPaused:pe}=ct;const[fe,me]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{if(pe){const Se=setTimeout(()=>{me(!0)},1e3);return()=>clearTimeout(Se)}me(!1)},[pe]),!Be||!pe?null:t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-video_recorder_canvas__shroud"}),t.a.createElement("div",{className:"p-video_recorder_canvas__pause_icon_container"},t.a.createElement(l.a,{type:"pause",className:"p-video_recorder_canvas__pause_icon",size:"inherit"})),t.a.createElement("div",{className:Object(a.default)("p-video_recorder_canvas__shroud_text",{"p-video_recorder_canvas__shroud_text--visible":fe})},p.rt("Press spacebar to resume recording")))}o(h,"VideoRecorderPauseOverlay"),h.displayName="VideoRecorderPauseOverlay";var u=h,b=e("/MKj"),v=e("kBpe"),d=e("VfoO"),m=e("MRve"),g=e("u0LO"),O=e("vrU2"),E=e("nFQW"),y=e("c+dP"),C=e("Tsh7"),I=e("x5Wd"),j=e("hwNb"),M=e("PU6Q"),T=e("9oTK"),D=e("fujP"),S=e("BeL+"),A=e("F294"),P=e("Z3Pq"),N=e("bPB8"),G=e("TGBA"),V=e("Z2IC"),k=e("UHsu"),x=e("jSYs"),H=e("dkXW"),R=e("LxFC"),W=e("WCSk");function U(){return U=Object.assign||function(ct){for(var Be=1;Be<arguments.length;Be++){var pe=arguments[Be];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(ct[fe]=pe[fe])}return ct},U.apply(this,arguments)}o(U,"_extends");const _=new f.b("stories_av");function B(ct){let{devicePrefsChanged:Be,...pe}=ct;const fe=Object(V.a)(H.b),[me,Se]=Object(n.useState)([]),[je,Ue]=Object(n.useState)([]);Object(n.useEffect)(()=>{let he=!0;const Te=function(){var Re=Object(T.coroutine)(function*(){const Ve=yield navigator.mediaDevices.enumerateDevices().then(x.a).then(Ge=>Ge.filter(Ze=>!Object(D.a)(Ze.label)));if(!he)return;const Ee=L(Ve.filter(Ge=>Ge.kind==="audioinput"),fe.deviceIdPriorities[R.b.Microphone]);Ue(Ee.map(W.f));const Ae=L(Ve.filter(Ge=>Ge.kind==="videoinput"),fe.deviceIdPriorities[R.b.Camera]);Se(Ae.map(W.f))});return o(function(){return Re.apply(this,arguments)},"enumerateDevices")}();return navigator.mediaDevices.addEventListener("devicechange",Te),Te(),()=>{he=!1,navigator.mediaDevices.removeEventListener("devicechange",Te)}},[fe.deviceIdPriorities]);const ve=Object(n.useCallback)(function(){var he=Object(T.coroutine)(function*(Te,Re){const Ve={...fe,deviceIdPriorities:{...fe.deviceIdPriorities,[Re]:Object(S.a)([Te.id,...fe.deviceIdPriorities[Re]])}};yield Object(H.d)(Ve),Be()});return function(Te,Re){return he.apply(this,arguments)}}(),[fe,Be]),ge=Object(n.useCallback)(he=>t.a.createElement(y.f,U({},he),me.map(Te=>t.a.createElement(y.b,{key:Te.id,type:"radio",label:Te.label,checked:Te===Object(A.a)(me),onSelected:()=>ve(Te,R.b.Camera)}))),[me,ve]),le=Object(n.useCallback)(he=>t.a.createElement(y.f,U({},he),je.map(Te=>t.a.createElement(y.b,{key:Te.id,type:"radio",label:Te.label,checked:Te===Object(A.a)(je),onSelected:()=>ve(Te,R.b.Microphone)}))),[je,ve]);return t.a.createElement(y.f,U({},pe,{width:225}),t.a.createElement(k.a,{label:_.t("Camera",{fallbackHash:"c1947f39235d4419e57e07bd8ad0c083d3040600"}),renderSubmenu:ge,disabled:me.length===0}),t.a.createElement(k.a,{label:_.t("Microphone",{fallbackHash:"2a04af2486ffab0f6fbfb20d4b5b0344935c043a"}),renderSubmenu:le,disabled:je.length===0}))}o(B,"VideoRecorderSettingsMenu"),B.displayName="VideoRecorderSettingsMenu";var z=B;function L(ct,Be){const pe=Object(P.a)(ct,me=>me.deviceId),fe=Be.map(me=>{const Se=pe[me];return delete pe[me],Se});return Object(N.a)([...fe,...Object(G.a)(pe)])}o(L,"sortDevicesByPriority");var $=e("tv4y");function Q(){return Q=Object.assign||function(ct){for(var Be=1;Be<arguments.length;Be++){var pe=arguments[Be];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(ct[fe]=pe[fe])}return ct},Q.apply(this,arguments)}o(Q,"video_recorder_sparkle_menu_extends");const K=new f.b("stories_av");function Z(ct){let{blurEnabled:Be,toggleBgBlur:pe,bgImgEnabled:fe,onUploadBgImage:me,clearBgImage:Se,clogButton:je,experimentClipsBgGroupOn:Ue,fileUploadsDisabled:ve,...ge}=ct;const le=Object(n.useCallback)(()=>{je("background_blur","initial_screen",{blur_toggled_from:Be,blur_toggled_to:!Be}),pe()},[Be,je,pe]),he=Object(n.useCallback)(()=>{je("upload_bg_img","initial_screen",{bg_img_enabled:fe,bg_img_set_before_upload:fe}),me()},[fe,je,me]),Te=Object(n.useCallback)(()=>{je("remove_bg_img","initial_screen",{bg_img_enabled_from:fe,bg_img_enabled_to:!fe}),Se()},[fe,je,Se]);return t.a.createElement(y.f,Q({},ge),t.a.createElement(y.b,{label:K.t("Blur background"),checked:Be,type:$.b.checkbox,onSelected:le}),!ve&&t.a.createElement(t.a.Fragment,null,t.a.createElement(y.d,null),t.a.createElement(y.b,{label:K.t("Upload background image"),description:!Ue&&K.t("Coming soon",{fallbackHash:"e4115be258dbdd1661c5f1ff14670c19ef1048da",fallbackHashNs:"reminders"}),onSelected:he,disabled:!Ue}),fe&&t.a.createElement(y.b,{label:K.t("Remove background image"),onSelected:Te,danger:!0})))}o(Z,"VideoRecorderSparkleMenu"),Z.displayName="VideoRecorderSparkleMenu";var ne=Z,F=e("8QLk");function J(ct){let{microphoneStream:Be}=ct;const[pe,fe]=Object(n.useState)(0);return Object(n.useEffect)(()=>{if(!Be||!window.AudioContext)return;const me=new AudioContext,Se=me.createAnalyser();Se.fftSize=32,Se.smoothingTimeConstant=.2;const je=new Uint8Array(Se.frequencyBinCount);me.createMediaStreamSource(Be).connect(Se);const ve=5,ge=5,le=new Array(ge).fill(0);let he=0;const Te=setInterval(()=>{Se.getByteFrequencyData(je);let Re=0;for(let Ee=0;Ee<je.length;Ee++)Re+=(je[Ee]/(255*.9))**2;const Ve=Math.sqrt(Re/je.length);if(le[he]=Ve,he+=1,he===ge){const Ee=Math.min(1,Math.max.apply(void 0,le));fe(Ee),he=0}},1e3/ve/ge);return()=>clearInterval(Te)},[Be]),pe}o(J,"useMicVolume");var X=J;const Y=new f.b("stories_av"),ae=.55;function ee(ct){let{videoOn:Be,initialMicrophoneOn:pe,microphoneOn:fe,microphoneFailed:me,startMicrophone:Se,stopMicrophone:je,microphoneStream:Ue}=ct;const[ve,ge]=Object(n.useState)(!1);Object(n.useEffect)(()=>{pe?(fe||me)&&ge(!0):ge(!0)},[me,fe,pe]);const le=X({microphoneStream:Ue}),he=.4,Te=.5,Ee={height:`${(Object(F.a)(le,he,Te)-he)/(Te-he)*ae}em`},Ae=!fe&&ve;return t.a.createElement("div",{className:"p-video_recorder_canvas_buttons__row_element"},t.a.createElement(C.d,{tip:fe?Y.t("Mute"):Y.t("Unmute")},t.a.createElement(E.a,{className:"p-video_recorder_canvas_buttons__button",icon:Ae?"microphone-slashless":"microphone","aria-label":fe?Y.t("Mute"):Y.t("Unmute"),"aria-pressed":fe,onClick:fe?je:Se,backgroundStyle:Be?"dark":void 0})),fe&&ve&&t.a.createElement("div",{className:Object(a.default)("p-video_recorder_mic_button__level",{"p-video_recorder_mic_button__level--dark":!Be}),style:Ee}),Ae&&t.a.createElement(l.a,{type:"microphone-slashonly",className:"p-video_recorder_canvas_buttons__button_slash"}))}o(ee,"VideoRecorderMicButton"),ee.displayName="VideoRecorderMicButton";var q=ee;function te(){return te=Object.assign||function(ct){for(var Be=1;Be<arguments.length;Be++){var pe=arguments[Be];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(ct[fe]=pe[fe])}return ct},te.apply(this,arguments)}o(te,"video_recorder_canvas_buttons_extends");const de=new f.b("stories_av");function se(ct){let{initialMicrophoneOn:Be,microphoneOn:pe,microphoneFailed:fe,startMicrophone:me,stopMicrophone:Se,initialCameraOn:je,cameraOn:Ue,cameraFailed:ve,startCamera:ge,stopCamera:le,screenCaptureOn:he,devicePrefsChanged:Te,blurEnabled:Re,toggleBgBlur:Ve,bgImgEnabled:Ee,setBgImage:Ae,clearBgImage:Ge,microphoneStream:Ze,clogButton:ze}=ct;const lt=Object(b.useDispatch)(),tt=Object(n.useContext)(I.a),Ot=Ue||he,Ct=!Object(v.i)(),St=Object(n.useRef)(null),zt=Object(i.c)(j.b),kt=Object(i.c)(M.b)==="disable_all",on=Object(i.c)(Cn=>Object(O.a)(Cn,{blurEnabled:Re})),[_t,be]=Object(n.useState)(!1);Object(n.useEffect)(()=>{je?(Ue||ve)&&be(!0):be(!0)},[ve,Ue,je]),Object(n.useEffect)(()=>{lt(Object(m.a)({interactions:[{component:g.c.ClipsNuxBlur,type:g.a.Click}],reason:"clips_nux_blur"}))},[lt]),Object(n.useEffect)(()=>{Re&&lt(Object(m.b)({component:g.c.ClipsNuxBlur,type:g.a.Click,reason:"clips_nux_blur_on"}))},[lt,Re]);const ot=Object(n.useCallback)(()=>{var Cn;(Cn=St.current)===null||Cn===void 0||Cn.click()},[]),rt=Object(n.useCallback)(()=>{var Cn,Mn;const kn=(Cn=St.current)===null||Cn===void 0||(Mn=Cn.files)===null||Mn===void 0?void 0:Mn[0];kn&&Object(d.a)(kn).then(na=>{const oa=na.dataUrl,ba=new Image;ba.src=oa,Ae(ba),St.current&&(St.current.value="")})},[Ae]),Jt=Object(n.useCallback)(()=>{ze("background_blur","initial_screen",{blur_toggled_from:Re,blur_toggled_to:!Re}),Ve()},[Re,ze,Ve]),Qt=Object(n.useCallback)(Cn=>t.a.createElement(ne,te({},Cn,{blurEnabled:Re,toggleBgBlur:Ve,bgImgEnabled:Ee,onUploadBgImage:ot,clearBgImage:Ge,clogButton:ze,experimentClipsBgGroupOn:zt,fileUploadsDisabled:kt})),[Ve,Re,Ee,Ge,ot,ze,zt,kt]),qt=Object(n.useCallback)(Cn=>t.a.createElement(z,te({},Cn,{devicePrefsChanged:Te})),[Te]),$t=!Ue&&_t,hn=Re?de.t("Remove blur",{fallbackHash:"8f96388d86c0be3fc3cd519a2dcbe3f50c5efa04"}):t.a.createElement(t.a.Fragment,null,on&&t.a.createElement("span",{className:"sk_light_grey"},de.t("New!",{fallbackHash:"6403f2b7eb2aaafe6de34cbf2a029b01afebc512",fallbackHashNs:"huddles"}))," ",de.t("Blur background",{fallbackHash:"669996c250e10f8f3076de59ec96ad9074b57714"})),gn=Re?de.t("Remove blur",{fallbackHash:"8f96388d86c0be3fc3cd519a2dcbe3f50c5efa04"}):de.t("Blur background",{fallbackHash:"669996c250e10f8f3076de59ec96ad9074b57714"});return t.a.createElement("div",{className:Object(a.default)("p-video_recorder_canvas_buttons__background",{"p-video_recorder_canvas_buttons__background--over_video":Ot,"p-video_recorder_canvas_buttons__background--align_left":Ct})},t.a.createElement("div",{className:"p-video_recorder_canvas_buttons__row_element"},t.a.createElement(C.d,{tip:Ue?de.t("Turn camera off",{fallbackHash:"0884a48bf72c358f61c5796f4fc3e608dc44fb97"}):de.t("Turn camera on",{fallbackHash:"13504d340621f1efb54dc19932f637b28c2afe86"})},t.a.createElement(E.a,{className:"p-video_recorder_canvas_buttons__button",icon:$t?"stop-video-slashless":"video-camera","aria-label":Ue?de.t("Turn camera off",{fallbackHash:"0884a48bf72c358f61c5796f4fc3e608dc44fb97"}):de.t("Turn camera on",{fallbackHash:"13504d340621f1efb54dc19932f637b28c2afe86"}),"aria-pressed":Ue,onClick:Ue?le:ge,backgroundStyle:Ot?"dark":void 0,autoFocus:tt})),$t&&t.a.createElement(l.a,{type:"stop-video-slashonly",className:"p-video_recorder_canvas_buttons__button_slash"})),t.a.createElement(q,{videoOn:Ot,initialMicrophoneOn:Be,microphoneOn:pe,microphoneFailed:fe,startMicrophone:me,stopMicrophone:Se,microphoneStream:Ze}),!zt||kt?t.a.createElement(C.d,{tip:hn},t.a.createElement(E.a,{className:Object(a.default)("p-video_recorder_canvas_buttons__button","p-video_recorder_canvas_buttons__row_element",{"p-video_recorder_canvas_buttons__button--highlight":on}),icon:"sparkles","aria-label":gn,backgroundStyle:Ot?"dark":void 0,onClick:Jt})):t.a.createElement(t.a.Fragment,null,t.a.createElement(y.e,{renderMenu:Qt,position:Ct?"top-left":"top-right"},t.a.createElement(C.d,{tip:de.t("\u2728 Effects")},t.a.createElement(E.a,{className:Object(a.default)("p-video_recorder_canvas_buttons__button","p-video_recorder_canvas_buttons__row_element"),icon:"sparkles","aria-label":de.t("Effects"),backgroundStyle:Ot?"dark":void 0,"data-qa":"p-video_recorder_canvas__effects_menu_trigger"}))),t.a.createElement("input",{type:"file",accept:"image/jpeg,image/png",hidden:!0,ref:St,onChange:rt})),t.a.createElement(y.e,{renderMenu:qt,position:Ct?"top-left":"top-right"},t.a.createElement(C.d,{tip:de.t("Settings")},t.a.createElement(E.a,{className:"p-video_recorder_canvas_buttons__button p-video_recorder_canvas_buttons__row_element",icon:"cog-o","aria-label":de.t("Settings"),backgroundStyle:Ot?"dark":void 0}))))}o(se,"VideoRecorderCanvasButtons"),se.displayName="VideoRecorderCanvasButtons";var re=se,oe=e("q7Oo");function ce(ct){let{countdownSecondsRemaining:Be}=ct;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-video_recorder_canvas__shroud p-video_recorder_canvas__shroud--visible"}),t.a.createElement("div",{className:"p-video_recorder_countdown_overlay"},t.a.createElement(oe.a,{secondsRemaining:Be,className:"p-video_recorder_countdown_overlay__countdown"})))}o(ce,"VideoRecorderCountdownOverlay"),ce.displayName="VideoRecorderCountdownOverlay";var ue=ce,Pe=e("i9y5");const Ye=new f.b("invite");function $e(){const ct=Object(n.useMemo)(()=>{const Be=[Ye.t("Herding emoji\u2026"),Ye.t("Reticulating splines\u2026"),Ye.t("Bottling messages\u2026"),Ye.t("Freeze-drying files\u2026"),Ye.t("Dredging pipes\u2026"),Ye.t("Boiling water\u2026"),Ye.t("Tuning channels\u2026"),Ye.t("Tangling wires\u2026"),Ye.t("Ironing folds\u2026"),Ye.t("Focusing figments\u2026"),Ye.t("Unspooling yarn\u2026"),Ye.t("Rotating helix\u2026"),Ye.t("Rounding corners\u2026"),Ye.t("Buffering dreams\u2026"),Ye.t("Spinning up spinners\u2026"),Ye.t("Building up steam\u2026")];return Be[Math.floor(Math.random()*Be.length)]},[]);return t.a.createElement("div",{className:"p-video_recorder_loading_spinner"},t.a.createElement(Pe.a,{color:"white",size:"jumbo",inline:!0}),t.a.createElement("span",{className:"bold margin_top_50"},ct))}o($e,"VideoRecorderLoadingSpinner");function Ke(ct){let{setCanvasRef:Be,recording:pe,countingDown:fe,countdownSecondsRemaining:me,initialMicrophoneOn:Se,microphoneOn:je,microphoneFailed:Ue,startMicrophone:ve,stopMicrophone:ge,screenCaptureOn:le,initialCameraOn:he,cameraOn:Te,cameraFailed:Re,startCamera:Ve,stopCamera:Ee,recordingPaused:Ae,devicePrefsChanged:Ge,blurEnabled:Ze,toggleBgBlur:ze,bgImgEnabled:lt,setBgImage:tt,clearBgImage:Ot,loading:Ct,microphoneStream:St,rendererStream:zt,clogButton:kt}=ct;const on=Object(i.c)(c.a),_t=Object(n.useRef)(null);Object(n.useEffect)(()=>{_t.current&&zt&&(_t.current.srcObject=zt,_t.current.play())},[zt]);const be=!pe&&!fe,ot={transform:Te&&!le&&!lt?"scale(-1, 1)":"scale(1)"},rt=Object(a.default)("p-video_recorder_canvas__container",{"p-video_recorder_canvas__container--camera":Te,"p-video_recorder_canvas__container--screen_share":le,"p-video_recorder_canvas__container--paused":pe&&Ae});return t.a.createElement("div",{className:rt},!Te&&!le&&t.a.createElement(r.c,{userId:on,size:115,className:"p-video_recorder_canvas__avatar",isInteractive:!1}),zt&&t.a.createElement("video",{className:Object(a.default)("p-video_recorder_canvas",{"p-video_recorder_canvas--not_rendering":!Te&&!le}),style:ot,ref:_t}),t.a.createElement("canvas",{className:Object(a.default)("p-video_recorder_canvas",{"p-video_recorder_canvas--not_rendering":!Te&&!le,hidden:zt}),id:"video-recorder-live-feed-layer",ref:Be,style:ot}),t.a.createElement(u,{recording:pe,recordingPaused:Ae}),be&&t.a.createElement(re,{initialMicrophoneOn:Se,microphoneOn:je,microphoneFailed:Ue,startMicrophone:ve,stopMicrophone:ge,initialCameraOn:he,cameraOn:Te,cameraFailed:Re,startCamera:Ve,stopCamera:Ee,screenCaptureOn:le,devicePrefsChanged:Ge,blurEnabled:Ze,toggleBgBlur:ze,bgImgEnabled:lt,setBgImage:tt,clearBgImage:Ot,microphoneStream:St,clogButton:kt}),fe&&t.a.createElement(ue,{countdownSecondsRemaining:me}),Ct&&t.a.createElement($e,null))}o(Ke,"VideoRecorderCanvas"),Ke.displayName="VideoRecorderCanvas";var qe=s.a=Ke},lIcY:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n="scia"},lLIM:function(w,s,e){"use strict";e.d(s,"b",function(){return D}),e.d(s,"a",function(){return S}),e.d(s,"c",function(){return G});var n=e("ZKjC"),t=e("Zbwg"),a=e("E3dU"),i=e("gVOt"),c=e("xwCZ"),r=e("C3vN"),f=e("bPB8"),l=e("zmn3"),p=e("okoL"),h=e("1myf"),u=e("uXhx"),b=e("6CnZ"),v=e("UIhb"),d=e("y8dB"),m=e("+l5E"),g=e("6Mvn");function O(V,k){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const H=Object(b.j)(V,k);if(!H||!H.timestamps)return null;const R=Object(v.a)(V,k),W=Object(d.a)(Object(f.a)(Object(l.a)(H.timestamps,U=>R[U])));return Object(p.a)(Object(h.a)(Object(u.a)(W.messages,U=>Object(m.fb)(U)||!Object(g.a)(V,U)),"ts"),x)}o(O,"getLastMessagesInChannel");var E=e("/JQq"),y=e("Yauy"),C=e("Wn1n"),I=e("2VFn"),j=e("RVJP"),M=e("uVZW"),T=e("7+Lm");const D=Object(n.b)(V=>!!V.setupCreation.isWelcomeDmTipOpen);D.meta={name:"createSelector",key:"createSelectorisWelcomeDmTipOpen",description:V=>!!V.setupCreation.isWelcomeDmTipOpen};const S=Object(n.b)(V=>V.setupCreation.welcomeDmSentToChannel);S.meta={name:"createSelector",key:"createSelectorgetWelcomeDmSentToChannel",description:V=>V.setupCreation.welcomeDmSentToChannel};const A=Object(n.b)((V,k)=>{const x=O(V,k,2)||[];return x.length===1&&Object(m.nb)(x[0])});A.meta={name:"createSelector",key:"createSelectorhasJoinerNotificationForInviterAndNoMessageHistory",description:(V,k)=>{const x=O(V,k,2)||[];return x.length===1&&Object(m.nb)(x[0])}};const P=Object(n.b)((V,k)=>{const x=O(V,k,2)||[];return x.length===0||x.length===1&&Object(m.mb)(x[0])});P.meta={name:"createSelector",key:"createSelectordmHasNoMessageHistory",description:(V,k)=>{const x=O(V,k,2)||[];return x.length===0||x.length===1&&Object(m.mb)(x[0])}};const N=Object(n.b)((V,k)=>{let{getSiblingView:x,shouldUseNavigate:H}=k;var R;const W=H?(R=x(V,{container:I.h.Primary}))===null||R===void 0?void 0:R.id:Object(C.a)(V),U=W&&Object(t.a)(W)&&Object(a.d)(V,W);if(U){const _=Object(y.r)(V,U);return{channel:U,channelOnboardingType:_,channelId:W}}return!1});N.meta={name:"createSelector",key:"createSelectorgetCurrentChannelInfo",description:(V,k)=>{let{getSiblingView:x,shouldUseNavigate:H}=k;var R;const W=H?(R=x(V,{container:I.h.Primary}))===null||R===void 0?void 0:R.id:Object(C.a)(V),U=W&&Object(t.a)(W)&&Object(a.d)(V,W);if(U){const _=Object(y.r)(V,U);return{channel:U,channelOnboardingType:_,channelId:W}}return!1}};const G=Object(n.b)((V,k,x)=>{if(Object(j.d)(V,"welcome_dm_tip_ga")!=="on"||Object(T.c)(V,M.g.MESSAGE_INPUT)!==M.h.WELCOME_DM_TIP)return!1;let H=x;if(!H&&k){let U;if(typeof k=="string")U=k;else if(typeof k=="object"){const _=N(V,k);_&&(U=_==null?void 0:_.channelId)}if(!Object(t.a)(U))return!1;H=Object(a.d)(V,U)}if(!H)return!1;const R=Object(i.a)(H);if(!R)return!1;const W=Object(c.g)(V,R);return Object(r.P)(W)&&!Object(E.a)(V,H)&&P(V,H.id)});G.meta={name:"createSelector",key:"createSelectorshouldShowWelcomeDMMessageSuggestion",description:(V,k,x)=>{if(Object(j.d)(V,"welcome_dm_tip_ga")!=="on"||Object(T.c)(V,M.g.MESSAGE_INPUT)!==M.h.WELCOME_DM_TIP)return!1;let H=x;if(!H&&k){let U;if(typeof k=="string")U=k;else if(typeof k=="object"){const _=N(V,k);_&&(U=_==null?void 0:_.channelId)}if(!Object(t.a)(U))return!1;H=Object(a.d)(V,U)}if(!H)return!1;const R=Object(i.a)(H);if(!R)return!1;const W=Object(c.g)(V,R);return Object(r.P)(W)&&!Object(E.a)(V,H)&&P(V,H.id)}}},lURg:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("hbEN"),t=e("SQ0V"),a=e("9zMb"),i=e("+ltV"),c=e("Vy29"),r=e("T1zM");const f=3e3,l=o((u,b)=>{u(Object(r.e)(b))},"setSidebarThemeByAPI"),p=Object(n.a)(l,f),h=Object(t.c)("Set the channel sidebar theme to a custom theme",(u,b,v)=>{let{newCustomTheme:d}=v;if(!Object(a.n)(d))return;const m=Object(i.a)(b()),g=Object(a.e)(d,Object(a.o)(m)?m:void 0),O={sidebar_theme:"custom_theme",sidebar_theme_custom_values:Object(a.j)(g)};u(Object(c.a)(O)),p(u,O)});h.meta={name:"createThunk",key:"createThunksetSidebarCustomTheme",description:"Set the channel sidebar theme to a custom theme"}},"lV/E":function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=o(t=>{if(!(!t||!t.conversation_host_id))return t.conversation_host_id},"getConversationHostId")},lYve:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("MWPj");const t=o(a=>Object.values(n.a).some(i=>i===a),"isParamTypeValidFormField")},la4u:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("FRd1"),c=e("ktUG"),r=e("buun");function f(){return f=Object.assign||function(h){for(var u=1;u<arguments.length;u++){var b=arguments[u];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(h[v]=b[v])}return h},f.apply(this,arguments)}o(f,"_extends");const l={onChange:{action:c.UiAction.CLICK}};let p=o(class extends n.PureComponent{componentDidMount(){this.mayBeFocus()}componentDidUpdate(){this.mayBeFocus()}focus(){var u;(u=this.inputRef.current)===null||u===void 0||u.focus()}mayBeFocus(){const{autoFocus:u}=this.props;u&&this.focus()}render(){const{className:u,autoClogProps:b,autoFocus:v,...d}=this.props,m=Object(a.default)("c-input_radio",u),g=t.a.createElement("input",f({},d,{className:m,ref:this.inputRef,type:"radio"}));return b?t.a.createElement(i.a,{autoClogProps:b,actionProps:l,elementType:c.ElementType.RADIO},g):g}constructor(u){super(u),this.inputRef=t.a.createRef()}},"Radio");p.displayName="Radio",p.defaultProps={autoFocus:!1},s.a=p},lidC:function(w,s,e){"use strict";e.d(s,"b",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"c",function(){return r}),e.d(s,"d",function(){return f});var n=e("RQuH"),t=e("8vnj");const a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,c=o(l=>Object(n.a)(l,a,i+1),"isValueInSafeRange"),r=o(l=>!isNaN(l)&&c(l)&&Object(t.a)(l),"isValidInteger"),f=o(l=>!isNaN(l)&&c(l),"isValidNumber")},lnVG:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("yIs4");function t(a){return!!(a&&Object(n.a)(a.retain))}o(t,"isOpRetain")},lqkv:function(w,s,e){"use strict";e.d(s,"a",function(){return n.a});var n=e("n5Lk"),t=e("g3a/"),a=e("q1tI"),i=e.n(a),c=e("qDEp"),r=e("9L5H"),f=e("rAyg"),l=e("P8PK"),p=e("zxER"),h=e("RVJP"),u=e("nNoG");const b=new u.b("toast");var v;(function(g){g.Error="Error",g.Information="Information",g.Warning="Warning"})(v||(v={}));const d=o(g=>{let{children:O,duration:E,buttonText:y,buttonType:C,buttonIcon:I,onButtonClick:j,type:M}=g;const T=Object(p.c)(P=>Object(h.d)(P,"toast_aria_content_label_string_translation")==="on"),D=Object(a.useMemo)(()=>T?{[v.Error]:b.t("Error"),[v.Information]:b.t("Information"),[v.Warning]:b.t("Warning")}:{},[T]),S=M&&D[M],A=Object(l.a)();return i.a.createElement(f.a,{forceFocusAfterRender:!0,fadeDelay:E,role:"dialog","aria-labelledby":A},i.a.createElement("div",{id:A},i.a.createElement("div",{className:"offscreen"},S),O),"\xA0",i.a.createElement(c.f,{type:C,icon:I,onClick:j,size:"small"},y))},"ToastAction");d.displayName="ToastAction",d.defaultProps={duration:6e3,ariaAssertive:!1,buttonType:r.b.outline};var m=s.b=t.a},"lqu/":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("veLH"),c=e("wXOV"),r=e("Wn1n"),f=e("NV6F"),l=e("P9LH"),p=e("se5Z"),h=e("sp7N"),u=e("E3dU"),b=e("Yauy"),v=e("nWdO"),d=e("9Pu8"),m=e("aR8P"),g=e("nvPh");const O=o(V=>{let{text:k="",inputIsEscaped:x=!1,showTooltips:H=!0}=V;const R=Object(a.c)(m.a);return t.a.createElement(g.a,{text:Object(d.a)({text:k,highlights:R,inputIsEscaped:x}),inputIsEscaped:x,showTooltips:H})},"FormatTextWithHighlightWords");O.displayName="FormatTextWithHighlightWords";var E=t.a.memo(O),y=e("ZobM"),C=e("nNoG"),I=e("mQiU"),j=e("rZ8V"),M=e("uiBO"),T=e("E97Y"),D=e("DQKV"),S=e("/qcS");const A=new C.b("files"),P=new C.b("stories_av");function N(V){let{className:k,file:x,disableTooltip:H=!1,forcedTitle:R,shouldShowHighlight:W=!0,allowLiveTitle:U=!0,fromCanvasOrganization:_=!1,useNewChannelCanvasNaming:B=!1}=V;const z=Object(n.useRef)(),[L,$]=Object(n.useState)(!1),[Q,K]=Object(n.useState)(!1),Z=Object(l.h)(x),ne=x==null?void 0:x.linked_channel_id,F=Object(a.c)(se=>Z&&ne?Object(u.d)(se,ne):null),J=Object(a.c)(se=>Object(b.u)(se,F)),X=Object(a.c)(j.m),{view:Y}=Object(n.useContext)(I.a);let ae=Object(a.c)(r.a)==="Psearch";X&&(ae=(Y==null?void 0:Y.viewType)===M.b.Search);const ee=Object(a.c)(se=>!!(U&&x&&Object(l.x)(x)&&!R&&Object(c.a)(se,x.id,!1)));if(Object(n.useEffect)(()=>{const se=Object(i.a)(z.current);$(se)},[Q]),!x)return null;let q,te;if(Object(l.xb)(x)||Object(l.Rb)(x))te=t.a.createElement("span",{className:k,ref:z},A.t("Deleted file",{fallbackHash:"35f7092591e27870c6d7c754aaa0d980f3e2928d",fallbackHashNs:"file-details"}));else if(Object(l.Bb)(x)||Object(l.rb)(x)||Object(l.jb)(x))te=t.a.createElement("span",{className:k,ref:z},A.t("Hidden file",{fallbackHash:"d4c2792a72452846f75dc4893e851977cb133db3",fallbackHashNs:"teams"}));else if(Object(l.Eb)(x))te=t.a.createElement("span",{className:k,ref:z},A.t("Access denied",{fallbackHash:"58aaedf0ceaa8ee5b4557b7d8ef6b1619392d4d7",fallbackHashNs:"files"}));else if(!Object(l.Yb)(x)&&!Object(l.lb)(x)&&!Object(l.mb)(x))te=t.a.createElement("span",{className:k,ref:z},A.t("File not found",{fallbackHash:"923e580ad8da42879d4753a6881bec69f15015a2",fallbackHashNs:"file-details"}));else if(Object(h.a)(x)){let se="";Object(p.a)(x)?se=P.t("Audio clip"):se=P.t("Video clip"),te=t.a.createElement("span",{className:k,ref:z},se)}else if(Object(l.h)(x)){if(!ae&&Object(l.zb)(x))q=J;else if(_||B)if(Object(l.zb)(x)||Object(T.h)(F))q=J;else{const se=J.replace("#","");q=t.a.createElement("span",null,t.a.createElement(y.a,{name:"lock",inline:!0}),se)}else if(x.title)if(x.title.includes("##")){const re=x.title.split("##");q=t.a.createElement("span",null,re[0],t.a.createElement(y.a,{name:"lock",inline:!0}),re[1])}else q=x.title;te=t.a.createElement("span",{className:k,ref:z},q)}else if(ee||Object(l.x)(x)&&x.title_blocks)te=t.a.createElement("span",{"data-qa":"file_name",className:k,ref:z},Object(f.D)({id:x.id,fileId:x.id,stringOnly:!0}));else if(Object(l.o)(x)){var de;const se=(de=x.list_metadata)===null||de===void 0?void 0:de.icon;q=se?`${se} ${x.title}`:x.title,te=t.a.createElement("span",{ref:z,"data-qa":"file_name",className:k,onMouseEnter:()=>K(!0),onMouseLeave:()=>K(!1)},t.a.createElement(D.a,{text:q,emojiSize:S.a.SMALL}))}else R||x.title?(q=R??x.title,te=t.a.createElement("span",{ref:z,"data-qa":"file_name",className:k,onMouseEnter:()=>K(!0),onMouseLeave:()=>K(!1)},W?t.a.createElement(E,{text:q||"",inputIsEscaped:!0}):q)):(q=x.name,te=t.a.createElement("span",{className:k,ref:z},q));return L&&!H?t.a.createElement(v.c,{tip:q},te):te}o(N,"Name"),N.displayName="Name";var G=s.a=Object(n.memo)(N)},ltL2:function(w,s,e){"use strict";var n=e("fujP"),t=e("F294"),a=e("gSGL"),i=e("0qhH"),c=e("IOc2"),r=e("fR2/");const f=/^[/\uFF0F][^/\uFF0F\s]/,l=/^[/\uFF0F](\n$)?(?![/\uFF0F\s])/;s.a=function(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!p||!p.ops)return!1;let u;if(p.eachLine((d,m,g)=>{g===0&&(u=m)}),!Object(n.a)(u))return!1;const b=Object(t.a)(p.ops);if(!b||!Object(i.a)(b)&&!Object(r.f)(b)||Object(c.a)(b))return!1;const v=Object(a.a)(b.insert)?b.insert:"";return h===!0?l.test(v):f.test(v)}},lvG7:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("SQ0V"),t=e("2XU3"),a=e("WCk1");const i=Object(a.a)("Get SIWS registered domains list",l=>l(Object(t.apiCall)({args:{},method:"links.getDomains",reason:"siws-get-domains"})).then(p=>({cacheTs:p.domains_ts,domains:p.domains,wildcardDomains:p.wildcard_domains})));i.meta={name:"createFetcher",key:"createFetchergetDomains",description:"Get SIWS registered domains list"};var c=i,r=e("mIQb");const f=Object(n.c)("Load remote domains into Redux",l=>{l(c()).then(p=>{let{cacheTs:h,domains:u,wildcardDomains:b}=p;const v=Date.now();l(Object(r.b)({cacheTs:h,domains:u,lastGetDomainsTs:v,wildcardDomains:b}))})});f.meta={name:"createThunk",key:"createThunkloadDomains",description:"Load remote domains into Redux"}},mD0D:function(w,s,e){w.exports=e.p+"contextual-help-keyboard-e004fd5.png"},mEPG:function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"c",function(){return a}),e.d(s,"a",function(){return i});var n=e("DwFS");const t=Object(n.a)("Connects a pending file ID to a draft");t.meta={name:"createAction",key:"createActionconnectPendingFileToDraft",description:"Connects a pending file ID to a draft"};const a=Object(n.a)("Disconnects a pending file ID from a draft");a.meta={name:"createAction",key:"createActiondisconnectPendingFileFromDraft",description:"Disconnects a pending file ID from a draft"};const i=Object(n.a)("Removes a drafts pending file IDs");i.meta={name:"createAction",key:"createActionclearDraftPendingFileIds",description:"Removes a drafts pending file IDs"}},mIQb:function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Updates the domains collection from the server");t.meta={name:"createAction",key:"createActionupdateSiwsDomains",description:"Updates the domains collection from the server"};const a=Object(n.a)("Clears any domains currently stored on the client side");a.meta={name:"createAction",key:"createActionclearSiwsDomains",description:"Clears any domains currently stored on the client side"}},mKxD:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("kBpe");function t(){let{altKey:a,ctrlKey:i,isCursorInPreBlock:c,metaKey:r,shiftKey:f,usePreNewlines:l,enterCreatesNewlinePref:p,followsTripleBackticks:h}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return r?!1:i?Object(n.p)()?!0:f?!1:!p:p?!0:l&&c?!f:!!(h&&l||f||a)}o(t,"shouldInsertNewline")},mNau:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c}),e.d(s,"d",function(){return r}),e.d(s,"c",function(){return f});var n=e("fujP"),t=e("Cgcc"),a=e("ZKjC");function i(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return l&&!Object(n.a)(l)?l:p?t.d:void 0}o(i,"getIaTheme");const c=Object(a.b)(function(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var h;const u=l==null||(h=l.prefs)===null||h===void 0?void 0:h.iaTheme;return i(u,p)});c.meta={name:"createSelector",key:"createSelectorgetIaThemePrefForUser",description:function(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var h;const u=l==null||(h=l.prefs)===null||h===void 0?void 0:h.iaTheme;return i(u,p)}};const r=Object(a.b)(l=>l==null?void 0:l.iaTheme.previousSelectedTheme);r.meta={name:"createSelector",key:"createSelectorgetPreviousSelectedTheme",description:l=>l==null?void 0:l.iaTheme.previousSelectedTheme};const f=Object(a.b)(l=>l==null?void 0:l.iaTheme.isCustomizeDropDownOpen);f.meta={name:"createSelector",key:"createSelectorgetIsCustomizeDropDownOpen",description:l=>l==null?void 0:l.iaTheme.isCustomizeDropDownOpen}},mNiN:function(w,s,e){"use strict";e.d(s,"d",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return i}),e.d(s,"a",function(){return c});var n=e("P1FA");function t(r){const f=Object(n.a)(r);return f&&f.toLowerCase()}o(t,"normalizeName");function a(r,f){const l=t(r.replace(/^[@\uFF20]/,"")),p=t(f.replace(/^[@\uFF20]/,"")),h=l==null?void 0:l.split(/[ ._]/),u=p==null?void 0:p.split(/[ \-._]/);if(!h||!u)return!1;for(let b=0;b<h.length;b++)if(h[b].split(/[-]/)[0]===u[0])return!0;return!1}o(a,"isNameMatchGoodEnoughForRealMention");function i(r,f){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return t(r)===t(f.substr(l,r.length))}o(i,"isNameSubstrMatch");function c(r,f){if(!r)return null;for(let l=0;l<r.length;l++){const p=r[l];if(p.name===f||p.ms_name===f||Object(n.a)(p.name)===f)return p}return null}o(c,"getBroadcastMatch")},mSgU:function(w,s,e){"use strict";e.d(s,"d",function(){return t}),e.d(s,"e",function(){return a}),e.d(s,"b",function(){return i}),e.d(s,"c",function(){return c}),e.d(s,"a",function(){return r});var n=e("ktUG");const t=[".",",",";",":","?","!","]",")","*","_","~",">"],a=(()=>{const f=t.map(l=>`\\${l}`).join("");return new RegExp(`[${f}]$`)})(),i=[".",",",";",":","?","!","[","(","*","_","~","<"],c=[["(",")"],["[","]"],["<",">"]],r={bold:n.MsgFormattingInputFormat.BOLD,italic:n.MsgFormattingInputFormat.ITALIC,strike:n.MsgFormattingInputFormat.STRIKE,code:n.MsgFormattingInputFormat.CODE,underline:n.MsgFormattingInputFormat.UNDERLINE,link:n.MsgFormattingInputFormat.LINK,"bullet-list":n.MsgFormattingInputFormat.BULLET_LIST,"ordered-list":n.MsgFormattingInputFormat.ORDERED_LIST,"check-list":n.MsgFormattingInputFormat.CHECK_LIST,"code-block":n.MsgFormattingInputFormat.CODE_BLOCK,blockquote:n.MsgFormattingInputFormat.BLOCKQUOTE,h1:n.MsgFormattingInputFormat.H1,h2:n.MsgFormattingInputFormat.H2,hr:n.MsgFormattingInputFormat.HR}},mX3T:function(w,s,e){"use strict";e.d(s,"b",function(){return i}),e.d(s,"a",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("weKX");const i=Object(a.d)("Embedded UI Provider",null),c=t.a.createContext({embeddedUIContainerElement:null,embeddedUiData:null,inChannelCanvas:!1,slackFileId:void 0,docEmbed:void 0})},mY0L:function(w,s,e){"use strict";e.d(s,"a",function(){return G});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("Tevt"),c=e("zxER"),r=e("/MKj"),f=e("iYWO"),l=e("mM05"),p=e.n(l),h=e("ManY"),u=e("Trx9"),b=e("8v4m"),v=e("+kJ4"),d=e("beVI"),m=e("Tsh7"),g=e("GkJf"),O=e("YUBf"),E=e("qDEp"),y=e("F0YV"),C=e("ktUG"),I=e("nNoG"),j=e("yxNq"),M=e("zb/F"),T=e("goOt"),D=e("VXbZ");const S=new I.b("slack_connect_guidelines"),A={action:C.UiAction.COPY_TO_CLIPBOARD,onClick:{enableClogAction:!0}},P=o(V=>{let{modalHeaderSuffix:k,guidelinesType:x,showCopyButton:H,entryPoint:R}=V;const W=Object(r.useDispatch)(),[U,_]=Object(h.a)(!1,3e3),B=Object(c.c)(d.o),z=Object(c.c)(d.m),L=Object(c.c)(X=>Object(f.b)(X,x),j.a),$=Object(n.useMemo)(()=>W(Object(D.b)({delta:new p.a(L),convertEmpty:!0,trimStartingWhitespace:!1})),[L,W]),Q=Object(c.c)(X=>Object(T.a)(X,$.blocks,{linkFormat:"bracket"})),K=Object(n.useCallback)(()=>{Object(M.e)(Q),_(!0)},[Q,_]);let Z;switch(k){case"instructions":Z=S.t("instructions for creating Slack Connect channels");break;case"guidelines":default:Z=S.t("guidelines for using Slack Connect");break}const ne=Object(n.useCallback)(()=>W(Object(v.a)()),[W]),F=S.t("Copied!",{fallbackHash:"3a1c3df711113ed266f7e7dabf942f92d19b3ad5"}),J=t.a.createElement(E.f,{type:"outline",onClick:K,autoClogProps:A},S.t("Copy Instructions"));return t.a.createElement(u.a,{uiStep:C.UiStep.SLACK_CONNECT_GUIDELINES_MODAL,stepVariant:x,entryPoint:R},t.a.createElement(O.a,{centered:!0,closeModal:ne,contentLabel:S.t("Your workspace\u2019s {headerText}",{headerText:Z})},t.a.createElement(O.i,null,t.a.createElement(O.l,{icon:t.a.createElement(y.b,{size:40,team:B}),title:S.rt("{orgName}\u2019s {headerText}",{orgName:z,headerText:Z})})),t.a.createElement(O.d,null,t.a.createElement(O.e,null,t.a.createElement(b.a,{elements:$.blocks[0].elements,elementsAreCamelCased:!1}))),t.a.createElement(O.g,{className:"p-slack_connect_guidelines_modal__footer"},t.a.createElement(g.a,{articleId:115004151203},S.t("Learn more about Slack Connect")),H&&Object(M.a)()?t.a.createElement(O.h,null,U?t.a.createElement(m.d,{tip:F,status:m.c.Success,shouldForceVisible:!0},J):J,t.a.createElement("div",{className:"offscreen",role:"alert"},U?F:"")):null)))},"SlackConnectGuidelinesModal");P.displayName="SlackConnectGuidelinesModal";var N=e("3l96");function G(V){let{className:k,dataQa:x,ref:H,stepVariant:R,type:W,modalHeaderSuffix:U,showCopyButton:_}=V;const B=Object(r.useDispatch)(),z=Object(c.c)(ne=>Object(f.a)(ne,W)),L=Object(c.c)(ne=>Object(f.c)(ne,W)),$=Object(n.useMemo)(()=>({elementName:"view_guidelines",elementValue:W,stepVariant:R,clogImpression:!0,onClick:{enableClogAction:!0}}),[R,W]),Q=Object(n.useCallback)(()=>B(Object(N.a)({element:t.a.createElement(P,{modalHeaderSuffix:U,showCopyButton:_,guidelinesType:W,entryPoint:$.stepVariant}),isStackable:!0})),[B,U,_,W,$.stepVariant]),K=z==="link"||z==="content",Z=Object(n.useCallback)(ne=>{let{text:F}=ne;return K?t.a.createElement(i.a,{className:k,ref:H,href:z==="link"?L:null,onClick:z==="content"?Q:a.a,"data-qa":x,autoClogProps:$},F):null},[k,x,L,z,Q,H,K,$]);return Object(n.useMemo)(()=>({guidelinesLink:L,guidelinesType:z,handleGuidelinesCTAClick:Q,renderLink:Z,shouldDisplayGuidelines:K,viewGuidelinesAutoClogProps:$}),[L,z,Q,Z,K,$])}o(G,"useGuidelinesHelper"),G.displayName="useGuidelinesHelper"},mivN:function(w,s,e){"use strict";e.d(s,"a",function(){return O});var n=e("9oTK"),t=e("SQ0V"),a=e("NV6F"),i=e("2VFn"),c=e("FVdo"),r=e("CnKg"),f=e("hgYl"),l=e("7Bj1"),p=e("xcHN"),h=e("uiBO"),u=e("3qtv"),b=e("VmGj"),v=e("GbR5");const d=Object(t.c)("Opens a flexpane in a new window",function(){var E=Object(n.coroutine)(function*(y,C,I){let{view:j,params:M}=I,T,D;const S={[i.h.Primary]:{id:"",viewType:h.b.Unknown}},A={entryPoint:j,uiComponentName:"flexpane"};switch(j){case"thread":if(M!=null&&M.threadId){const{channelId:N}=Object(p.a)(M.threadId);S[i.h.Primary].id=`${N}/thread/${M.threadId}`,S[i.h.Primary].viewType=h.b.Thread,y(Object(l.a)({viewSet:S,clogParams:A}))}return;case"files":T=b.a,D={fileId:M==null?void 0:M.fileId,flexOrigin:"open-new-window"};break;case"user_profile":case"rimeto_profile":S[i.h.Primary].id=`browse-people/rimeto_profile/${M==null?void 0:M.memberId}`,S[i.h.Primary].viewType=h.b.Profile,y(Object(l.a)({viewSet:S,clogParams:A}));return;case"user_groups":S[i.h.Primary].id=`browse-people/user_groups/${M==null?void 0:M.userGroupId}`,S[i.h.Primary].viewType=h.b.UserGroup,y(Object(l.a)({viewSet:S,clogParams:A}));return;case"feedback":T=u.b;break;default:}const P={viewSet:{[i.h.Primary]:{id:j,viewType:Object(v.a)(j)}}};T&&(P.setupConfig={thunk:T},D&&(P.setupConfig.thunkPayload=D)),y(Object(l.a)(P))});return function(y,C,I){return E.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkopenFlexpaneInDetachedWindow",description:"Opens a flexpane in a new window"};var m=d,g=e("37+L");const O=Object(t.c)("Open Embedded Canvas In NewWindow",function(){var E=Object(n.coroutine)(function*(y,C,I){let{fileId:j,sectionId:M}=I;const T=C(),D=Object(r.h)({id:j,sectionId:M});if(D&&f.a.includes(D)){y(m({view:D}));return}const S=Object(c.b)(T,D),A={[i.h.Primary]:Object(g.h)({id:D})};D&&y(Object(a.p)({viewSet:A,viewType:S}))});return function(y,C,I){return E.apply(this,arguments)}}());O.meta={name:"createThunk",key:"createThunkopenEmbeddedCanvasInNewWindow",description:"Open Embedded Canvas In NewWindow"}},mjdg:function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n;(function(c){c.REQUESTS="requests",c.PENDING="pending",c.ACCEPTED="accepted",c.INVITE_LINKS="invite_links"})(n||(n={}));var t;(function(c){c.EMAIL="email",c.DATE="date_create",c.ACTIONS="actions",c.INVITE_CODE="invite_code",c.DATE_CREATED="date_created",c.EXPIRATION="expiration",c.CREATOR="creator",c.NUM_SIGNUPS="num_signups"})(t||(t={}));var a;(function(c){c.ASCENDING="ASC",c.DESCENDING="DESC"})(a||(a={}));var i;(function(c){c.RESEND_SENT_RECENTLY="sent_recently",c.RESEND_NOT_FOUND="invitation_not_found",c.REVOKE_NOT_FOUND="invite_not_found",c.DEACTIVATE_NOT_FOUND="invite_link_not_found"})(i||(i={})),s.c=n},mjhc:function(w,s,e){"use strict";e.d(s,"b",function(){return R}),e.d(s,"c",function(){return W}),e.d(s,"a",function(){return U});var n=e("AdD7"),t=e("mGaQ");function a(_,B){return Object(n.b)()&&Object(t.b)(_)}o(a,"shouldDisplayGovslackbannerBanner");var i=e("fujP"),c=e("wnRj"),r=e("UZO2");function f(_,B){if(!Object(r.a)(_,B))return!1;const L=Object(c.a)(_,B.channelId);return!Object(i.a)(L)}o(f,"shouldDisplayDndOverrideBanner");var l=e("Yauy"),p=e("E3dU");function h(_,B){const z=Object(p.d)(_,B.channelId);return!!(z&&Object(l.fb)(_,z))}o(h,"shouldDisplayMigratingBanner");var u=e("HOFW"),b=e("F4sy");function v(_,B){return!!Object(b.b)(_,{channelId:B.channelId,draftId:B.draftId,viewContext:B.viewContext})}o(v,"shouldDisplayScheduledSendBanner");function d(_,B){return Object(u.a)(_,B)&&Object(r.a)(_,B)}o(d,"shouldDisplayDndDMSharedBanner");var m=e("xwCZ"),g=e("gVOt"),O=e("C3vN"),E=e("E97Y");function y(_,B){const z=Object(p.d)(_,B.channelId);if(Object(E.g)(z)){const L=Object(g.a)(z),$=Object(m.g)(_,L);if(Object(O.bb)($)||Object(O.jb)($)||Object(O.T)($))return!1;if(Object(c.b)(_,z==null?void 0:z.id))return!0}return!1}o(y,"shouldDisplayTimeZoneBanner");var C=e("ZOzc"),I=e("ajVY");function j(_,B){if(!B.inputHasFiles)return!1;const z=Object(C.a)(_,"file_retention_type")?Object(C.a)(_,"file_retention_duration"):null,L=Object(I.d)(_,"allow_box_cfs");return!(!z||L)}o(j,"shouldDisplayFileRetentionBanner");var M=e("CpTu"),T=e("FaiB"),D=e("DnI3");function S(_,B){if(!Object(D.a)(_))return!1;const z=Object(T.a)(_),L=B.channelId;return!!Object(M.a)(z,{channelId:L})}o(S,"shouldDisplayOfflineOutboxBanner");var A=e("CaVW"),P=e("NfYe");const N=o((_,B)=>{if(!Object(P.a)(_))return!1;const z=Object(p.d)(_,B.channelId);return Object(A.a)(_,z)},"shouldDisplaySlackConnectWorkspaceBanner");var G=e("dtwz"),V=e("OtLZ"),k=e("lCmp"),x=e("8AeK");function H(_,B){const z=Object(x.a)(_),L=Object(G.a)([m.c,O.m])(_),$=Object(V.a)((B==null?void 0:B.memberIds)||[],L),Q=Object(k.a)($,Z=>Object(O.L)(Object(m.g)(_,Z))),K=y(_,B)||S(_,B);return z&&!K&&Q}o(H,"shouldDisplayOutOfOfficeDmBanner");const R="context_bar_text-",W=Object.freeze({migrating:"migrating",shared:"shared",externalMemberAwareness:"externalMemberAwareness",dnd:"dnd",timeZone:"timezone",scheduledSend:"scheduled_send",profileOnlyUser:"profile_only_user",govslackBanner:"govSlackBanner",fileRetention:"fileRetention",offlineOutbox:"offlineOutbox",slackConnectWorkspace:"slackConnectWorkspace",outOfOffice:"outOfOffice"}),U=[{type:W.fileRetention,displayRule:j},{type:W.dnd,displayRule:f},{type:W.govslackBanner,displayRule:a},{type:W.migrating,displayRule:h},{type:W.dnd,displayRule:d},{type:W.shared,displayRule:u.a},{type:W.slackConnectWorkspace,displayRule:N},{type:W.scheduledSend,displayRule:v},{type:W.outOfOffice,displayRule:H},{type:W.dnd,displayRule:r.a},{type:W.timeZone,displayRule:y},{type:W.offlineOutbox,displayRule:S}]},mlNA:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("gSGL"),t=e("tvJC"),a=e("kzMN"),i=e("fR2/"),c=e("TQ9f"),r=e("dA19");function f(l){if(!l||l.length()===0)return[];const p=[];return l.forEach(h=>{if(Object(c.a)(h)){const u=Object(c.c)(h);p.push({type:"string",value:u});return}if(!Object(r.a)(h)){if(Object(i.a)(h)&&!Object(t.a)(Object(i.b)(h))&&!Object(a.a)(Object(i.b)(h))){p.push({type:"mention",value:Object(i.b)(h)});return}Object(n.a)(h.insert)&&h.insert.split(/\s/).forEach(u=>{u.length&&p.push({type:"string",value:u})})}}),p}o(f,"convertDeltaToSlashCommandParams")},mvFy:function(w,s,e){"use strict";e.d(s,"a",function(){return Qe});var n=e("q1tI"),t=e.n(n),a=e("CpTu"),i=e("Muja"),c=e("xWuZ"),r=e("zmn3"),f=e("hbEN"),l=e("UXvI"),p=e("ifKl"),h=e("BHdc"),u=e("Lgge"),b=e("WIr4"),v=e("Cfcg"),d=e("nNoG"),m=e("gPPH"),g=e("Oy0v"),O=e("8hJe"),E=e("khnw"),y=e("ktUG"),C=e("VymY"),I=e("UGXP"),j=e("puGG"),M=e("NqdB"),T=e("iZ9S"),D=e("9Gfp"),S=e("JoR1"),A=e("fGmc"),P=e("O86Y"),N=e("5IZy"),G=e("LvEQ"),V=e("k400"),k=e("VfSx"),x=e("q0lC");const H=o(ye=>{const ie=Object(S.t)(ye,"emoji_packs_clicked_picker_cta"),Oe=Object(G.h)(ye),We=Object(G.e)(ye);return!(!Object(x.f)(ye)||We&&Object(k.a)(We)||!Oe||ie)},"shouldShowEmojiPacksClickedPreInstallPickerCTA"),R=o((ye,ie)=>{const Oe=Object(S.t)(ye,"emoji_packs_clicked_picker_post_install_cta"),We=Object(G.h)(ye),ke=Object(G.e)(ye);if(!ke||!Object(k.a)(ke)||!We||Oe)return!1;const nt=ke?Object(V.a)(ke):"";return!!Object(a.a)(ie,mt=>mt.name===nt)},"shouldShowEmojiPacksClickedPostInstallPickerCTA");var W=e("8Vn2"),U=e("e4zL"),_=e("coh6"),B=e("Zp3w"),z=e("yrot"),L=e("wWBL"),$=e("SQ0V"),Q=e("Tmt4");const K=Object($.c)("Update the frecency cache with a new recorded emoji item",(ye,ie,Oe)=>{let{emojiName:We,text:ke}=Oe;const nt=Object(z.n)(ie(),We),st=Object(z.a)(nt||{name:We});st&&ye(Object(Q.a)({id:st,text:ke}))});K.meta={name:"createThunk",key:"createThunkrecordEmojiFrecencyEvent",description:"Update the frecency cache with a new recorded emoji item"};var Z=e("Pw4T"),ne=e("Trx9"),F=e("G7vT"),J=e("7+Lm"),X=e("uVZW"),Y=e("eWGC"),ae=e("IaLB"),ee=e("v5z3"),q=e("QbPB"),te=e("wf34"),de=e("xXOU"),se=e("mLC8"),re=e("i5Ig"),oe=e("yIs4"),ce=e("oSkh"),ue=e("RqXZ"),Pe=e("XOse"),Ye=e("7pFd"),$e=e("Tevt");const Ke=new d.b("emoji_picker"),qe=o(ye=>{const{showAddEmojiButton:ie,onAddCustomEmojiClick:Oe}=ye;return ie?t.a.createElement("div",{className:"p-emoji_picker__empty_search"},t.a.createElement($e.a,{onClick:Oe},Ke.rt("Add custom emoji"))):null},"EmojiListEmptyState");qe.displayName="EmojiListEmptyState";var ct=t.a.memo(qe),Be=e("uD37"),pe=e("/2YZ");const fe=33,me=27,Se=1,je=10,Ue="auto",ve="start";let ge=o(class extends n.Component{componentDidMount(){var ie;this.props.showProductivityReacji&&((ie=this.props.groups[1])===null||ie===void 0?void 0:ie.name)==="Getting Work Done"&&this.props.throttledRecordNotificationEvent({notificationName:X.h.PRODUCTIVITY_REACJI,action:X.f.IMPRESSION})}getSnapshotBeforeUpdate(){return Object(oe.a)(this.props.scrollToIndex)?{scrollToIndex:this.props.scrollToIndex}:null}componentDidUpdate(ie,Oe,We){We!==null&&this.virtualList.scrollToRow(We.scrollToIndex),ie.screenRows!==this.props.screenRows&&this.virtualList&&this.virtualList.recomputeRowHeights()}usingKeyboard(){const{cursorPosition:ie}=this.props;return ie[1]!==-1}onAddCustomEmojiClick(ie){const{searchQuery:Oe,onAddEmojiButtonClick:We}=this.props;We&&We(ie),this.props.openAddCustomEmojiModal({initialTab:Ye.a.CUSTOM,emojiNameSuggestion:Oe||"",elementName:"add_emoji_button"})}getRowHeight(ie){let{index:Oe}=ie;switch(this.props.screenRows[Oe].type){case"empty-header-row":return Se;case"group":return me;case"emoji":return this.props.screenRows.length-1===Oe?fe+je:fe;default:return fe}}setListRef(ie){this.virtualList=ie}scrollToTop(){this.virtualList.scrollToPosition(0)}renderEmptyState(){return t.a.createElement(ct,{onAddCustomEmojiClick:this.onAddCustomEmojiClick,showAddEmojiButton:this.props.showAddEmojiButton})}renderRow(ie){let{index:Oe,key:We,style:ke}=ie;const{showProductivityReacji:nt,screenRows:st,onMouseEnter:mt,onMouseLeave:pt,isEmojiSelected:Et,onSelected:it,activeGroupName:at,pickerHasKeyboardFocusWithin:ft,onMultiSkinTonePopoverEscape:yt}=this.props,Tt=Object(d.m)();return t.a.createElement(Be.a,{key:We,screenRows:st,isEmojiSelected:Et,usingKeyboard:ft,index:Oe,style:ke,showProductivityReacji:nt,onEmojiClick:it,onMouseEnter:mt,onMouseLeave:pt,locale:Tt,activeGroupName:at,onMultiSkinTonePopoverEscape:yt})}render(){const{screenRows:ie}=this.props,[Oe,We]=this.props.cursorPosition,ke=[Oe,We+pe.d];return t.a.createElement(ce.a,null,nt=>{let{height:st,width:mt}=nt;return t.a.createElement(ue.a,{screenRows:ie,className:"p-emoji_picker__list_scroller",height:st,rowCount:this.props.screenRows.length,rowHeight:this.getRowHeight,rowRenderer:this.renderRow,scrollToAlignment:this.usingKeyboard()?Ue:ve,width:mt,onRowsRendered:this.props.onScroll,noRowsRenderer:this.renderEmptyState,cursorPosition:ke,ref:this.setListRef,tabIndex:null,id:"emoji-picker-list",role:"presentation",containerRole:"presentation","aria-label":"","aria-readonly":!1})})}constructor(ie){super(ie),this.getRowHeight=this.getRowHeight.bind(this),this.renderRow=this.renderRow.bind(this),this.renderEmptyState=this.renderEmptyState.bind(this),this.onAddCustomEmojiClick=this.onAddCustomEmojiClick.bind(this),this.usingKeyboard=this.usingKeyboard.bind(this),this.setListRef=this.setListRef.bind(this),this.virtualList=null}},"EmojiList");ge.displayName="EmojiList";const le={throttledRecordNotificationEvent:ye=>Object(Y.b)(ye),openAddCustomEmojiModal:ye=>Object(Pe.a)(ye)};var he=Object(v.a)(null,le,null,{forwardRef:!0})(ge),Te=e("VkPA"),Re=e("ZobM");const Ve=o(ye=>{let{name:ie=""}=ye;return`${ie.toLowerCase().replace(/\s/g,"-")}-emoji-tab`},"makeEmojiTabId");function Ee(){return Ee=Object.assign||function(ye){for(var ie=1;ie<arguments.length;ie++){var Oe=arguments[ie];for(var We in Oe)Object.prototype.hasOwnProperty.call(Oe,We)&&(ye[We]=Oe[We])}return ye},Ee.apply(this,arguments)}o(Ee,"_extends");const Ae=new d.b("emoji_picker"),Ge=o(ye=>{let{name:ie,tabGroupName:Oe}=ye;return ie==="Frequently Used"&&Oe==="Search results"},"shouldFrequentlyUsedBeTheTabGroup"),Ze=Object(n.memo)(ye=>{let{groups:ie,showCustomBadge:Oe,onGroupTabClick:We,tabGroupName:ke}=ye;const nt=Object(n.useMemo)(()=>(ie||re.a).filter(mt=>{let{name:pt,omitFromTabs:Et}=mt;return!Et&&pt!=="Getting Work Done"}).map(mt=>{let{name:pt,nameLocalized:Et}=mt;const it=ke===pt||Ge({name:pt,tabGroupName:ke}),at=Oe&&pt==="Custom",ft=Object(h.default)("p-emoji_picker__group_tab",{"p-emoji_picker__group_tab--active":it,"p-emoji_picker__group_tab--emoji-a11y":it,"p-emoji_picker__group_tab--with_dot":at,hidden:pt==="Getting Work Done"});let yt=pe.e[pt],Tt=Et;pt==="Frequently Used"&&(yt=pe.e.Search,Tt=Ae.t("Search")),yt||(yt=pe.e.Custom);const Zt={name:yt,variation:yt==="emoji"?"filled":void 0},In=Ge({name:pt,tabGroupName:ke})?ke:pt,_n={elementName:`emoji_group_tab_${yt}`,elementIndex:pe.c[pt],onClick:{enableClogAction:!0}};return{id:Ve({name:In}),title:t.a.createElement(t.a.Fragment,null,t.a.createElement(Re.a,Ee({size:"20"},Zt)),at&&t.a.createElement("div",{className:"p-emoji_picker__group_tab_dot"})),"aria-label":Tt,"data-qa":`emoji_group_tab_${yt}`,onClick:()=>We(pt),className:ft,autoClogProps:_n}}),[ie,Oe,We,ke]),st=Object(n.useCallback)(mt=>{(mt.key===O.a.RIGHT||mt.key===O.a.LEFT||mt.key===O.a.UP||mt.key===O.a.DOWN||mt.key===O.a.ENTER)&&mt.stopPropagation()},[]);return t.a.createElement("div",{role:"presentation",onKeyDown:st,className:"p-emoji_picker__group_tabs p-emoji_picker__group_tabs--slack-kit-tabs"},t.a.createElement(ne.a,{eventId:y.EventId.EMOJI_PICKER_CATEGORY_SELECTED,uiComponentName:y.UiComponentName.EMOJI_PICKER_GROUP_TABS,uiStep:y.UiStep.EMOJI_PICKER_GROUP_TAB_SELECTED},t.a.createElement(Te.a,{tabs:nt,tabMenuClassnames:"p-emoji_picker__group_tabs-menu",currentTabId:Ve({name:ke}),manualTabActivation:!0})))});var ze=e("TGBA"),lt=e("ao6n"),tt=e("/MKj"),Ot=e("zxER"),Ct=e("T1zM"),St=e("s9IP"),zt=e("oEDn"),kt=e("6R8Z"),on=e("nFQW");const _t=new d.b("emoji_picker"),be=o(ye=>{const{groups:ie,jumpToGroup:Oe}=ye,We=Object(tt.useDispatch)(),ke=Object(Ot.c)(G.e),nt=ke?Object(V.a)(ke):"",st=ke?Object(k.a)(ke):!1,mt=ke?Object(St.a)(ke):[],pt=Object(ze.a)(mt),Et=!!Object(a.a)(ie,Tt=>Tt.name===nt),it=st?"emoji_packs_clicked_picker_post_install_cta":"emoji_packs_clicked_picker_cta",at=st?_t.t("New emoji added!"):_t.t("New emoji available"),ft=Object(n.useCallback)(()=>{We(Object(Ct.f)({pref:it,value:!0}))},[We,it]),yt=Object(n.useCallback)(()=>{ft(),st?Et&&Oe(nt):We(Object(Pe.a)({initialTab:Ye.a.PACKS,emojiNameSuggestion:"",elementName:"emoji_pack_cta"}))},[We,Oe,nt,ft,st,Et]);return t.a.createElement("div",{className:"p-emoji_picker__pack_cta_wrapper","data-qa":"emoji_picker__pack_cta"},t.a.createElement("div",{className:"p-emoji_picker__pack_cta_inner_wrapper"},t.a.createElement(kt.a,{className:"p-emoji_picker__pack_cta",onClick:yt},t.a.createElement("div",{className:"p-emoji_picker__pack_cta_graphic"},t.a.createElement("img",{src:Object(lt.a)(pt,0),alt:"",className:"p-emoji_picker__pack_cta_graphic_img p-emoji_picker__pack_cta_graphic_img_1"}),t.a.createElement("img",{src:Object(lt.a)(pt,1),alt:"",className:"p-emoji_picker__pack_cta_graphic_img p-emoji_picker__pack_cta_graphic_img_2"}),t.a.createElement("img",{src:Object(lt.a)(pt,2),alt:"",className:"p-emoji_picker__pack_cta_graphic_img p-emoji_picker__pack_cta_graphic_img_3"})),t.a.createElement("div",{className:"p-emoji_picker__pack_cta_text_container"},t.a.createElement("b",{className:"p-emoji_picker__pack_cta_text"},at)," ",t.a.createElement("span",{className:"p-emoji_picker__pack_cta_arrow"},t.a.createElement(zt.a,{type:"arrow-right",size:"inherit",inline:!0})))),t.a.createElement(on.a,{"aria-label":at,icon:"times-medium",size:"small",className:"p-emoji_picker__pack_cta_dismiss_btn",onClick:ft})))},"EmojiPackCta");be.displayName="EmojiPackCta";var ot=be;function rt(){return rt=Object.assign||function(ye){for(var ie=1;ie<arguments.length;ie++){var Oe=arguments[ie];for(var We in Oe)Object.prototype.hasOwnProperty.call(Oe,We)&&(ye[We]=Oe[We])}return ye},rt.apply(this,arguments)}o(rt,"emoji_picker_sticky_header_extends");const Jt=o(ye=>{const{header:ie,ariaAttributes:Oe={}}=ye;return t.a.createElement("div",{className:"p-emoji_picker__sticky_header",id:"emoji-picker-sticky-header"},t.a.createElement("div",rt({className:"p-emoji_picker__heading p-emoji_picker__heading--emoji-14-a11y"},Oe),t.a.createElement("span",{"aria-hidden":"true"},ie||"")))},"EmojiPickerStickyHeader");Jt.displayName="EmojiPickerStickyHeader";var Qt=t.a.memo(Jt),qt=e("uXhx"),$t=e("/qcS"),hn=e("qDEp"),gn=e("5KsB"),Cn=e("t7g0");const Mn="1",kn=[":hand:",":hand::skin-tone-2:",":hand::skin-tone-3:",":hand::skin-tone-4:",":hand::skin-tone-5:",":hand::skin-tone-6:"],na=new d.b("emoji_picker");let oa=o(class extends n.PureComponent{componentDidUpdate(ie){const{isOpen:Oe}=this.props;if(!ie.isOpen&&Oe){requestAnimationFrame(()=>{this.focusRadioGroup()});return}ie.isOpen&&!Oe&&requestAnimationFrame(()=>{this.toggleButton.current.focus()})}onRadioFocus(ie){const Oe=ie.target.value;this.setState(()=>({focusedSkinToneOption:Oe}))}onRadioBlur(ie){const{currentTarget:Oe,relatedTarget:We,target:ke}=ie,nt=ke.value;Oe.contains(We)||(this.setState(()=>({focusedSkinToneOption:null})),this.props.onSkinToneChanged&&this.props.onSkinToneChanged(nt))}onClick(ie){ie.stopPropagation()}onKeyDown(ie){ie.key==="Enter"&&ie.target.tagName==="INPUT"&&this.props.onSkinToneChanged&&this.props.onSkinToneChanged(ie.target.value)}onMouseDown(ie){const{currentTarget:Oe}=ie,We=Oe.querySelector("input"),ke=We&&We.value;ke&&this.props.onSkinToneChanged&&this.props.onSkinToneChanged(ke)}getCurrentTone(){const{activeSkinToneId:ie}=this.props;return!ie||ie===Mn?":hand:":`:hand::skin-tone-${ie||"1"}:`}getChoices(){const{activeSkinToneId:ie}=this.props,Oe=this.getCurrentTone();return ie?Object(qt.a)(kn,We=>We===Oe).concat(Oe):kn}maybeRenderSkinToneLabel(){return this.props.activeSkinToneId?null:t.a.createElement("span",{className:"p-emoji_picker_skintone__toggle_btn_label","data-qa":"emoji_skintone_label"},na.t("Skin Tone"))}focusRadioGroup(){const ie=this.checkedRadioButton.current;ie&&ie!==document.activeElement&&ie.focus()}renderToggleButton(){const{onOpen:ie}=this.props;return t.a.createElement(hn.d,{onClick:ie,className:"p-emoji_picker_skintone__toggle_btn","data-qa":"emoji_selected_skintone",ref:this.toggleButton,"aria-label":na.t("Choose your default skin tone")},t.a.createElement("div",null,t.a.createElement($t.b,{text:this.getCurrentTone(),emojiSize:$t.a.MEDIUM,forceDisplay:!0})),this.maybeRenderSkinToneLabel())}renderRadioButton(ie){let{skinToneId:Oe,emoji:We}=ie;const{focusedSkinToneOption:ke}=this.state,{activeSkinToneId:nt}=this.props,st=ke===Oe,mt=st||nt===Oe,pt=Object(gn.a)(Oe),Et=Object(h.default)("p-emoji_picker_skintone__radio_button_container",{"p-emoji_picker_skintone__radio_button_container--focus-visible":st});return t.a.createElement("div",{className:Et,key:Oe,"data-qa":`emoji_skintone_option_${Oe}`,onMouseDown:this.onMouseDown},t.a.createElement("input",{type:"radio",name:"skin-tone",value:Oe,defaultChecked:mt,"aria-label":pt,className:"p-emoji_picker_skintone__radio_button",ref:mt?this.checkedRadioButton:void 0}),t.a.createElement("div",{"aria-hidden":"true"},t.a.createElement($t.b,{text:We,emojiSize:$t.a.MEDIUM,forceDisplay:!0})))}renderRadioGroup(){return t.a.createElement("div",{role:"radiogroup","aria-labelledby":"emoji-picker-skintone-radiogroup-label",className:"p-emoji_picker_skintone__radiogroup"},t.a.createElement("div",{id:"emoji-picker-skintone-radiogroup-label",className:"p-emoji_picker_skintone__radiogroup_label"},na.t("Choose your default skin tone")),t.a.createElement("div",{className:"p-emoji_picker_skintone__radio_buttons","data-qa":"emoji_skintone_options",onFocus:this.onRadioFocus,onBlur:this.onRadioBlur,onKeyDown:this.onKeyDown},this.getChoices().map(ie=>{const Oe=ie.match(/skin-tone-\d+/),We=Oe?Oe[0].slice(-1):"1";return this.renderRadioButton({skinToneId:We,emoji:ie})})))}render(){const{isOpen:ie}=this.props;return t.a.createElement("div",{className:"p-emoji_picker_skintone",role:"presentation",onClick:this.onClick},!ie&&this.renderToggleButton(),ie&&this.renderRadioGroup())}constructor(ie){super(ie),this.onRadioFocus=this.onRadioFocus.bind(this),this.onRadioBlur=this.onRadioBlur.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onClick=this.onClick.bind(this),this.checkedRadioButton=t.a.createRef(),this.toggleButton=t.a.createRef(),this.state={focusedSkinToneOption:null}}},"EmojiSkinTonePicker");oa.displayName="EmojiSkinTonePicker",oa.defaultProps={activeSkinToneId:"",isOpen:!1,onSkinToneChanged:p.a,onOpen:p.a};var ba=oa;const ga=[":slightly_smiling_face:",":+1:",":heavy_check_mark:",":heart:",":eyes:"];function ya(ye,ie){return!ye||ye==="1"||!ie?ga:Object(r.a)(ga,Oe=>Oe===":+1:"?`${Oe}:skin-tone-${ye}:`:Oe)}o(ya,"buildHandyReactions");const Zn=new d.b("emoji_picker"),Xn=o(ye=>{const{emoji:ie,onSelected:Oe,onMouseEnterOrFocus:We,onMouseLeaveOrBlur:ke}=ye,nt=ie.replace(/(^:|:$)/g,""),st=Object(n.useCallback)(pt=>{pt.preventDefault(),Oe(pt,nt)},[nt,Oe]),mt=Object(n.useCallback)(()=>{We(nt)},[nt,We]);return t.a.createElement(hn.d,{className:"p-emoji_picker__list_item",onClick:st,onMouseEnter:mt,onMouseLeave:ke,onFocus:mt,onBlur:ke,"data-color-index":ye.index%j.e,"data-qa":`handy-reaction-${ie}`},t.a.createElement($t.b,{text:ie,emojiSize:$t.a.MEDIUM,forceDisplay:!0}))},"EmojiHandyReaction");Xn.displayName="EmojiHandyReaction";const Ht=o(ye=>{const ie=ya(ye.activeSkinToneId,ye.enableSkinTonePicker),Oe=Zn.t("Handy Reactions");return t.a.createElement("div",{className:"p-emoji_picker__handy_rxns",role:"group","aria-label":Oe},t.a.createElement("div",{"aria-hidden":!0,className:"p-emoji_picker__heading p-emoji_picker__heading--handy_rxns"},Oe),t.a.createElement("div",{className:"p-emoji_picker__handy_rxns_list"},ie.map((We,ke)=>t.a.createElement(Xn,{key:We,emoji:We,index:ke,onSelected:ye.onSelected,onMouseEnterOrFocus:ye.onMouseEnterOrFocus,onMouseLeaveOrBlur:ye.onMouseLeaveOrBlur}))))},"EmojiHandyReactions");Ht.displayName="EmojiHandyReactions";var ut=t.a.memo(Ht),gt=e("wKGu");const Wt=new d.b("emoji_picker"),Mt=o(ye=>{let{onClick:ie}=ye;const Oe=Object(tt.useDispatch)(),We=Object(gt.a)(),ke=Object(n.useCallback)(nt=>{ie==null||ie(nt),Oe(Object(Pe.a)({initialTab:Ye.a.CUSTOM,emojiNameSuggestion:"",elementName:"add_emoji_button"}))},[Oe,ie]);return Object(n.useEffect)(()=>{We.track(y.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"button",ui_properties:{element_type:"button",element_name:"add_emoji_button"}}}})},[We]),t.a.createElement(hn.f,{type:"outline",size:"small","emoji-type":"emoji",onClick:ke,"data-qa":"customize_emoji_add_button",className:"p-emoji_picker__add_custom_emoji"},Wt.t("Add Emoji"))},"AddCustomEmojiButton");Mt.displayName="AddCustomEmojiButton";var Xe=Mt,bt=e("EJqq"),Nt=e("+J8q");const Pt=new d.b("emoji_picker"),nn=o(ye=>{const{showSkinTonePicker:ie,activeSkinToneId:Oe,hasZeroRows:We,emoji:ke,teamOrEnterpriseId:nt,locale:st}=ye,mt=Object(Ot.c)(z.b),pt=Object(g.a)(ke||""),Et=pt?pt.name:"",it=ie?Object(Nt.a)(Et,Oe,nt):Et,at=Object(Ot.c)(yt=>Object(bt.i)({state:yt,locale:st,name:Et})),ft=Object(h.default)("p-emoji_picker__preview_text",{"p-emoji_picker__preview_text--shortened":!Oe});return t.a.createElement("div",{className:"p-emoji_picker__preview"},t.a.createElement("span",{className:"p-emoji_picker__preview_img","data-qa":"emoji_preview_img"},t.a.createElement($t.b,{text:it,emojiSize:$t.a.LARGE,forceDisplay:!0})),t.a.createElement("div",{className:ft},t.a.createElement("span",{"data-qa":"emoji_preview_name"},We?Pt.t("Oh no!"):at),t.a.createElement("br",null),t.a.createElement("span",{className:"p-emoji_picker__preview_aliases","data-qa":"emoji_preview_aliases"},We?Pt.t("We couldn\u2019t find that emoji"):`:${at}: ${mt[Et]?mt[Et].join(" "):""}`)))},"EmojiPickerPreview");nn.displayName="EmojiPickerPreview";var rn=nn;const mn=new d.b("emoji_picker"),vn=":cry:",Xt=o(ye=>{const{showHandyReactions:ie,showAddEmojiButton:Oe,showSkinTonePicker:We,activeSkinToneId:ke,onEmojiSelected:nt,onEmojiMouseEnter:st,onEmojiMouseLeave:mt,isSkinTonePickerOpen:pt,onSkinTonePickerOpened:Et,onSkinToneChanged:it,hasZeroRows:at,currentEmojiSelection:ft,teamOrEnterpriseId:yt,locale:Tt,onAddEmojiButtonClick:Zt}=ye,In=at?vn:ft;return t.a.createElement("div",null,ie&&t.a.createElement(ut,{activeSkinToneId:ke,enableSkinTonePicker:We,onSelected:nt,onMouseEnterOrFocus:st,onMouseLeaveOrBlur:mt}),In&&t.a.createElement(rn,{showSkinTonePicker:We,activeSkinToneId:ke,hasZeroRows:at,emoji:In,locale:Tt,teamOrEnterpriseId:yt}),Oe?t.a.createElement(Xe,{onClick:Zt}):t.a.createElement("div",{className:"p-emoji_picker__emoji_deluxe_label"},t.a.createElement("span",null,mn.t("Emoji Deluxe")),"\u2122"),We&&t.a.createElement(ba,{activeSkinToneId:ke,isOpen:pt,onOpen:Et,onSkinToneChanged:it}))},"EmojiPickerFooter");Xt.displayName="EmojiPickerFooter";var ht=t.a.memo(Xt),It=e("AiJP");const Ft=o(ye=>{const{showSkinTonePicker:ie,showHandyReactions:Oe,activeSkinToneId:We,teamOrEnterpriseId:ke,locale:nt,emoji:st}=ye,mt=Object(g.a)(st||""),pt=mt?mt.name:"",Et=Object(Ot.c)(z.b),it=Object(Ot.c)(Fn=>Object(bt.i)({state:Fn,locale:nt,name:pt})),at=Object(It.a)();if(!pt||!at[pt])return null;const ft=ie?Object(Nt.a)(pt,We,ke):pt,yt=at[pt].title,Tt=at[pt].description,Zt=[`:${it}:`].concat(Et[pt]?Et[pt].slice(0,3):[]),In=Object(h.default)("p-emoji_picker__productivity_emoji_preview",`p-emoji_picker__productivity_emoji_preview--${Oe?"reaction":"message"}`),_n=Object(h.default)("p-emoji_picker__productivity_emoji_img",`p-emoji_picker__productivity_emoji_img--${Oe?"reaction":"message"}`),Nn=Object(h.default)("p-productivity_emoji_content-description",`p-productivity_emoji_content-description--${Oe?"reaction":"message"}`);return t.a.createElement("div",{className:In,"data-qa":"productivity_emoji_footer"},t.a.createElement("span",{className:_n,"data-qa":"emoji_preview_img"},t.a.createElement($t.b,{text:ft,emojiSize:$t.a.MEDIUM,forceDisplay:!0})),t.a.createElement("div",{className:"p-emoji_picker__productivity_emoji_text"},t.a.createElement("div",null,t.a.createElement("span",{className:"p-productivity_emoji_content-title","data-qa":"productivity_emoji_title"},yt),t.a.createElement("span",{className:Nn,"data-qa":"productivity_emoji_description"},Tt),Oe&&t.a.createElement("div",{className:"p-productivity_emoji_content-aliases-container","data-qa":"productivity_emoji_alias_container"},Zt.map(Fn=>t.a.createElement("span",{className:"p-productivity_emoji_content-aliases",key:Fn},Fn))))))},"ProductivityEmojiFooter");Ft.displayName="ProductivityEmojiFooter";var Bt=t.a.memo(Ft);function en(){return en=Object.assign||function(ye){for(var ie=1;ie<arguments.length;ie++){var Oe=arguments[ie];for(var We in Oe)Object.prototype.hasOwnProperty.call(Oe,We)&&(ye[We]=Oe[We])}return ye},en.apply(this,arguments)}o(en,"emoji_picker_input_extends");const On=new d.b("emoji_picker"),yn=o(ye=>{const{onChange:ie,onClick:Oe,placeholder:We,refToForward:ke}=ye,nt=Object(n.useRef)({handle:void 0,status:!1}),st=Object(n.useCallback)(()=>{nt.current&&(nt.current.status=!0)},[]),mt=Object(n.useCallback)(it=>{var at,ft;const yt=it.target.value;if(!((at=nt.current)===null||at===void 0)&&at.handle){var Tt;clearTimeout(nt.current.handle),nt.current={handle:void 0,status:!!(!((Tt=nt.current)===null||Tt===void 0)&&Tt.status)}}if(!((ft=nt.current)===null||ft===void 0)&&ft.status&&yt===""){var Zt;it.persist();const In=window.setTimeout(()=>{nt.current={handle:void 0,status:!1},mt(it)},0);nt.current={handle:In,status:!!(!((Zt=nt.current)===null||Zt===void 0)&&Zt.status)};return}ie(yt)},[ie]),pt="c-input_text p-emoji_picker__input",Et=On.t("Search all emoji");return t.a.createElement("div",{className:"p-emoji_picker__input_container"},t.a.createElement("input",{"aria-label":On.t("Emoji name",{fallbackHash:"13993d0a97877a11360cdf3fa77e0dc6bb661228"}),ref:ke,className:pt,type:"text",placeholder:We||Et,onChange:mt,onCompositionStart:st,onCompositionUpdate:st,onCompositionEnd:st,onClick:Oe,"data-qa":"emoji_picker_input","data-input-metric-boundary":"emoji_picker"}))},"EmojiPickerInput");yn.displayName="EmojiPickerInput";var Dn=t.a.forwardRef((ye,ie)=>t.a.createElement(yn,en({refToForward:ie},ye))),En=e("LTWq");function Vt(ye){return ye&&ye.length?ye[0]:void 0}o(Vt,"getFirstGroup");function an(ye){return ye&&ye.length?ye[ye.length-1]:void 0}o(an,"getLastGroup");function sn(ye,ie){const Oe=ye&&ye[ie];return Oe?Oe.name:""}o(sn,"getGroupNameForIndex");function bn(ye,ie,Oe){const We=ye&&ye.length&&ye.findIndex(ke=>ke.name===ie.name);return Oe==="next"?We>-1&&We<ye.length-1?ye[We+1]:void 0:We>0?ye[We-1]:void 0}o(bn,"getNextOrPreviousGroup");var jn=e("HI9p");const Tn=o((ye,ie)=>!!(ye&&ie&&ye.name===ie.name),"areEmojiGroupsEqual");function An(ye,ie){if(!ie)return 0;const Oe=Object(jn.a)(ye,We=>!!(We.type==="group"&&We.group&&Tn(We.group,ie)));return Oe>-1?Oe:0}o(An,"getScrollIndexForGroup");var Vn=e("ZBlo"),un=e("XIp8"),Kn=e("qAkX"),$n=e("wBxZ"),da=e("okoL"),fa=e("FAxm");const aa=new d.b("emoji_picker");function ha(ye){const ie=Object(Vn.a)(ye,j.d),Oe=ye;return ie.map(ke=>{const nt={emoji_names:Oe,name:"Custom",omitFromTabs:!1,nameLocalized:aa.t("Custom",{fallbackHash:"081ae3fdc403609cf6e760849ebb14117b7a50cb",fallbackHashNs:"emoji"})};return{type:fa.a.EMOJI,group:nt,items:ke}})}o(ha,"getRowsForCustomEmoji");function Ia(ye,ie){if(!ye||!ye.length)return ie;const Oe=Object(un.a)(ie)||[];let We=[];const ke=Object(Kn.a)(Oe);if((ke==null?void 0:ke.type)==="emoji"){const nt=j.d-(ke.items?ke.items.length:0),st=Object($n.a)(ye,nt);ke.items&&ke.items.push(...st);const mt=Object(da.a)(ye,ye.length-nt),pt=ha(mt);We=Oe.concat(pt)}else{const nt=ha(ye);We=Oe.concat(nt)}return We}o(Ia,"addCustomEmojiToScreenRows");const Ba=o(ye=>{let{group:ie,skinToneId:Oe,groupIndex:We,teamOrEnterpriseId:ke,enableSkinTonePicker:nt}=ye;const st={};if(!ie)return;const mt=Object(Vn.a)(Object(r.a)(ie.emoji_names,ft=>nt?Object(Nt.a)(ft,Oe,ke):ft),j.d).map((ft,yt)=>({type:fa.a.EMOJI,group:ie,items:ft,ariaAttributes:{role:"row","aria-rowindex":yt+1,id:`group-${We}-row-${yt}`}})),pt=mt.map(ft=>{var yt;return(yt=ft.ariaAttributes)===null||yt===void 0?void 0:yt.id}).join(" ");var Et,it;const at={role:"grid","aria-readonly":!0,"aria-owns":pt,"aria-label":(it=(Et=ie.nameLocalized)!==null&&Et!==void 0?Et:ie.name)!==null&&it!==void 0?it:""};return mt.unshift({type:fa.a.GROUP,group:ie,items:[],ariaAttributes:at}),ie.name&&(st[ie.name]=at),mt.unshift({type:fa.a.EMPTY_HEADER_ROW,group:ie,items:[],ariaAttributes:{"aria-hidden":!0}}),{rows:mt,ariaAttributesByName:st}},"getRowsForGroupAndAriaAttributes"),ca=o(ye=>{let{groups:ie,skinToneId:Oe,teamOrEnterpriseId:We,enableSkinTonePicker:ke}=ye,nt=[],st={};return ie.forEach((mt,pt)=>{const it=Ba({group:mt,skinToneId:Oe,groupIndex:pt,teamOrEnterpriseId:We,enableSkinTonePicker:ke});it&&(nt=nt.concat(it.rows),st={...st,...it.ariaAttributesByName})}),{rows:nt,ariaAttributesByName:st}},"getAllRowsAndAriaAttributesForHeaders");var Aa=e("9C2q"),Ma=e("YJrJ"),ja=e("Iwbv"),Fa=e("1Aeb"),ta=e("xKHu"),Pn=e("VW9X");function dn(){return dn=Object.assign||function(ye){for(var ie=1;ie<arguments.length;ie++){var Oe=arguments[ie];for(var We in Oe)Object.prototype.hasOwnProperty.call(Oe,We)&&(ye[We]=Oe[We])}return ye},dn.apply(this,arguments)}o(dn,"emoji_picker_extends");const Rt=new d.b("emoji_picker");function vt(ye,ie){return Object(a.a)(ye,Oe=>Oe.name===ie)}o(vt,"getEmojiGroupByName");let At=o(class extends n.Component{componentDidMount(){var ie;const{clogger:Oe}=this.props;Oe.track(y.EventId.EMOJI_PICKER_OPENED),this._isMounted=!0,se.d.start({label:se.a.EmojiPicker,options:{teamId:this.props.teamOrEnterpriseId,tags:{is_lazy_emoji:!0}}}),(ie=this.searchInput)===null||ie===void 0||ie.focus(),this.state.marker||this.maybeFetchFlannelEmoji({count:1}),this.props.fetchAllEmojiCollections({reason:"emojiPack:dialog"}),this.props.showProgressiveDisclosureReacjiFlag&&this.props.maybeShowProgressiveDisclosureTip({tip:ee.f.Reacji,tipState:ee.g.Explainer})}componentDidUpdate(ie){if(this.props.activeSkinToneId!==ie.activeSkinToneId||this.props.emojiCollections!==ie.emojiCollections){this.onSearch(this.state.searchQuery);const Oe={groups:this.props.groups,skinToneId:this.props.activeSkinToneId,teamOrEnterpriseId:this.props.teamOrEnterpriseId,enableSkinTonePicker:!!this.props.enableSkinTonePicker},We=ca(Oe);this.setState(()=>({activeGroup:Vt(this.props.groups),screenRows:We.rows,groupAriaAttributesByName:We.ariaAttributesByName}))}}componentWillUnmount(){this._isMounted=!1,this.clogSearcherResults(""),this.props.showProductivityReacji&&this.seenProductiveEmojisOnMount&&(this.seenProductiveEmojisOnMount=!1),se.d.stop({label:se.a.EmojiPicker})}onArrowKey(ie){if(this.state.screenRows.length<3)return;if(ie.target===this.searchInput&&this.state.searchQuery&&(this.state.cursorPosition===pe.b||this.state.cursorPosition===pe.h)){var Oe;if(!(ie.keyCode===E.o&&this.searchInput.selectionEnd===this.searchInput.value.length&&((Oe=document.getSelection())===null||Oe===void 0?void 0:Oe.type)!=="Range")){if(ie.keyCode===E.k||ie.keyCode===E.o)return}}ie.preventDefault();let We=!1,ke=this.state.cursorPosition||pe.b;ie.target===this.searchInput&&(ie.key===O.a.DOWN||ie.key===O.a.UP||ie.keyCode===E.o||ie.keyCode===E.k)&&(ke=pe.b,We=!0),this.state.escapePressed&&(We=!0);const nt=Object(En.d)({screenRows:this.state.screenRows,direction:ie.keyCode,currentCursor:ke,pickerType:pe.g.EMOJI});let st=nt[1];(nt[1]<this.state.cursorPosition[1]||nt[1]===2)&&(st=nt[1]-2),this.setState(mt=>({cursorPosition:nt,currentSelection:Object(En.a)(mt.screenRows,nt),prevSelection:mt.currentSelection,prevCursorPosition:mt.cursorPosition,scrollToIndex:st+pe.d/2,usingKeyboard:!0,mousePosition:null,srGeneralAnnouncementNewSearch:!1,escapePressed:!1})),this.context.setKeyboardIntoPicker(We),this.context.setHighlightFirstSearchResult(!1),this.context.setHighlightOnMultiPickerEscape(!1)}onEmojiMouseEnter(ie,Oe){this.state.usingKeyboard||this.setState(We=>({currentSelection:ie,cursorPosition:[Oe%j.d,Math.floor(Oe/j.d)],prevSelection:We.currentSelection,prevCursorPosition:We.cursorPosition,isSkinTonePickerOpen:!1,srGeneralAnnouncementNewSearch:!1}))}onEmojiMouseLeave(){this.state.usingKeyboard||this.resetSelection()}onEmojiPickerClick(){this.setState(()=>({isSkinTonePickerOpen:!1}))}onGroupTabClick(ie){const{groups:Oe,teamOrEnterpriseId:We,enableSkinTonePicker:ke,activeSkinToneId:nt,hasKeyboardFocusWithin:st}=this.props,{tabGroup:mt}=this.state;if(mt===ie){var pt;(pt=this.searchInput)===null||pt===void 0||pt.focus();return}const Et=vt(Oe,ie);this.clogSearcherResults(""),(Et==null?void 0:Et.name)==="Custom"&&this.maybeFetchFlannelEmoji();let it=[],at={},ft=0,yt=!1;if(Et&&Et.name!=="Frequently Used"){const Fn=Ba({group:Et,skinToneId:nt,groupIndex:0,teamOrEnterpriseId:We,enableSkinTonePicker:!!ke});var Tt;it=(Tt=Fn==null?void 0:Fn.rows)!==null&&Tt!==void 0?Tt:[];var Zt;at=(Zt=Fn==null?void 0:Fn.ariaAttributesByName)!==null&&Zt!==void 0?Zt:{},yt=!0}else if(this.state.searchQuery||Et&&Et.name==="Frequently Used"){const Nn={groups:this.props.groups,skinToneId:this.props.activeSkinToneId,teamOrEnterpriseId:We,enableSkinTonePicker:!!ke},Fn=ca(Nn);it=Fn.rows,at=Fn.ariaAttributesByName}else it=this.state.screenRows,at=this.state.groupAriaAttributesByName,ft=An(it,Et);const In=!st;var _n;this.setState(()=>({activeGroup:Et,tabGroup:(_n=Et==null?void 0:Et.name)!==null&&_n!==void 0?_n:"",scrollToIndex:ft,cursorPosition:[0,ft+1],searchQuery:"",searchResults:[],screenRows:it,currentSelection:void 0,usingKeyboard:!0,srGeneralAnnouncementNewSearch:!1,groupAriaAttributesByName:at,isTabPanelView:yt}),()=>{var Nn;return In&&((Nn=this.searchInput)===null||Nn===void 0?void 0:Nn.focus())})}onListScroll(ie){let{startIndex:Oe,stopIndex:We}=ie;const{shouldAutoScrollToProductivityEmoji:ke}=this.props,{searchQuery:nt,isTabPanelView:st,screenRows:mt,activeGroup:pt}=this.state;if(ke&&!this.seenProductiveEmojisOnMount){this.seenProductiveEmojisOnMount=!0,this.scrollToProductivityEmojiGroup();return}if(nt||st&&(pt==null?void 0:pt.name)!=="Custom")return;const Et=Object(En.b)(mt,Oe);let it=We>=mt.length-3;this.state.marker&&(it=We>=mt.length-1),Et!=null&&Et.group&&(this.setState(()=>({activeGroup:Et.group,scrollToIndex:void 0})),it&&this.maybeFetchFlannelEmoji())}onMouseWhileUsingKeyboard(ie){if(!this.state.usingKeyboard)return;const Oe=[ie.clientX,ie.clientY];if(!this.state.mousePosition){this.setState(()=>({mousePosition:Oe}));return}Object(i.a)(Oe,this.state.mousePosition)||(this.setState(()=>({mousePosition:null,usingKeyboard:!1,scrollToIndex:void 0,cursorPosition:pe.b,escapePressed:!1})),this.context.setKeyboardIntoPicker(!1))}onEmojiButtonTab(ie){const{groups:Oe}=this.props,{screenRows:We,cursorPosition:ke,isTabPanelView:nt}=this.state;if(nt){this.resetSelection();return}const st=Object(En.b)(We,ke[1]),mt=st==null?void 0:st.group,Et=ie.shiftKey?"previous":"next",it=mt&&bn(Oe,mt,Et),at=an(Oe);if(it&&at&&(it==null?void 0:it.name)===(at==null?void 0:at.name)&&this.maybeFetchFlannelEmoji(),!it){this.resetSelection();return}ie.preventDefault();let yt=An(We,it);const Tt=[0,yt+1],Zt=pe.d*-1,In=yt+Zt>1?yt+Zt:yt;yt=ie.shiftKey?In:yt+pe.d,this.setState(_n=>({scrollToIndex:yt,cursorPosition:Tt,currentSelection:Object(En.a)(We,Tt),prevSelection:_n.currentSelection,prevCursorPosition:_n.cursorPosition,screenRows:We,usingKeyboard:!0,mousePosition:null})),this.context.setHighlightFirstSearchResult(!1),this.context.setHighlightOnMultiPickerEscape(!1)}setFirstEmojiFocusToGroup(ie){const{screenRows:Oe}=this.state;if(!ie)return;const We=An(Oe,ie),ke=[0,We+1];this.setState(nt=>({scrollToIndex:We,currentSelection:Object(En.a)(Oe,ke),prevSelection:nt.currentSelection,usingKeyboard:!0,mousePosition:null,cursorPosition:ke,prevCursorPosition:nt.cursorPosition})),this.context.setKeyboardIntoPicker(!0),this.context.setHighlightOnMultiPickerEscape(!1),this.context.setHighlightFirstSearchResult(!1)}onEmojiHomeOrEnd(ie){var Oe;if(ie.key!==O.a.HOME&&ie.key!==O.a.END||!((Oe=this.element)===null||Oe===void 0?void 0:Oe.querySelector(".p-emoji_picker__list")).contains(ie.target))return;const{screenRows:ke,cursorPosition:nt}=this.state,st=Object(En.b)(ke,nt[1]),mt=st==null?void 0:st.group;if(!mt)return;ie.preventDefault(),ie.stopPropagation();let pt=An(ke,mt),Et;if(ie.key===O.a.HOME&&(Et=[0,pt+1]),ie.key===O.a.END){const it=mt.emoji_names.length,at=Math.ceil(it/j.d),ft=it%j.d,yt=(ft>0?ft:j.d)-1;pt+=at,Et=[yt,pt]}this.setState(it=>({scrollToIndex:pt,currentSelection:Object(En.a)(ke,Et),prevSelection:it.currentSelection,usingKeyboard:!0,mousePosition:null,cursorPosition:Et,prevCursorPosition:it.cursorPosition}))}onTab(ie){var Oe,We,ke;const{groups:nt}=this.props,{screenRows:st}=this.state,{shiftKey:mt,target:pt}=ie,{activeGroup:Et,isTabPanelView:it,searchQuery:at}=this.state,ft=(Oe=this.element)===null||Oe===void 0?void 0:Oe.querySelector(".p-emoji_picker__footer"),yt=(We=this.element)===null||We===void 0?void 0:We.querySelector(".p-emoji_picker__list"),Tt=this.element.querySelector(".p-emoji_picker__group_tabs"),Zt=(ke=this.searchInput)===null||ke===void 0?void 0:ke.contains(pt),In=yt&&yt.contains(pt),_n=Tt==null?void 0:Tt.contains(pt),Nn=this.tabPanel.current===document.activeElement,Fn=an(nt),Bn=Vt(nt),Un=Object(C.a)(ft);if(!mt&&_n&&it){ie.preventDefault(),this.setFirstEmojiFocusToGroup(Et);return}if(!mt&&Zt&&(st!=null&&st.length)){const zn=at?Et:Bn;ie.preventDefault(),this.setFirstEmojiFocusToGroup(zn);return}if(In||Nn){this.onEmojiButtonTab(ie);return}if(mt&&(Un!=null&&Un.length)&&Un[0]===pt&&(st!=null&&st.length)){const zn=it||at?Et:Fn;ie.preventDefault(),this.setFirstEmojiFocusToGroup(zn)}}onKeyDown(ie){var Oe,We,ke;const{currentSelection:nt}=this.state;if(ie.persist(),!ie.currentTarget.contains(ie.target))return;const st=ie.key==="Escape";st&&(ie.preventDefault(),this.triggerClose(ie,st));const mt=(Oe=this.element)===null||Oe===void 0?void 0:Oe.querySelector(".p-emoji_picker__footer"),pt=mt&&mt.contains(ie.target),Et=(We=this.element)===null||We===void 0?void 0:We.querySelector(".p-emoji_picker__group_tabs"),it=Et&&Et.contains(ie.target),at=(ke=this.element)===null||ke===void 0?void 0:ke.querySelector(".p-emoji_picker__list"),ft=at==null?void 0:at.contains(ie.target),yt=ie.target===this.element;if(ie.key===O.a.TAB){this.onTab(ie);return}if(ie.key===O.a.HOME||ie.key===O.a.END){this.onEmojiHomeOrEnd(ie);return}if((ft||yt)&&this.searchInput&&Object(ta.a)(ie)){this.resetSelection(),this.searchInput.focus();return}!pt&&!it&&[E.r,E.c,E.k,E.o].includes(ie.keyCode)&&this.onArrowKeyThrottled(ie),!pt&&!it&&ie.keyCode===E.e&&nt&&(ie.preventDefault(),this.triggerSelect(ie,nt))}onSearch(ie){const{telemeter:Oe,groups:We,activeSkinToneId:ke,teamOrEnterpriseId:nt,enableSkinTonePicker:st}=this.props;if(Oe.mark("react_emoji_menu_search_mark"),ie){const Et=ie.split(/\s*,\s*/);u.a.map(Et,it=>this.props.searchEmoji({query:it,options:{entities:{emoji:{matchKeywords:!0}},sort:{source:"emoji-picker",frecency:!0,model:Object(L.b)()},limit:pe.i,returnMetadata:!0}})).then(it=>{const at=Object(c.a)(it);this.onSearcherResult(at,ie)});return}const pt=ca({groups:We,skinToneId:ke,teamOrEnterpriseId:nt,enableSkinTonePicker:!!st});this.setState((Et,it)=>({activeGroup:Vt(it.groups),cursorPosition:pe.b,prevCursorPosition:Et.cursorPosition,searchQuery:"",screenRows:pt.rows,groupAriaAttributesByName:pt.ariaAttributesByName,currentSelection:void 0,prevSelection:Et.currentSelection}),()=>{var Et;(Et=this.list)===null||Et===void 0||Et.scrollToTop(),Oe.measureAndClear("react_emoji_menu_search_mark","react_emoji_menu_search")})}onSearchInputChange(ie){const{searchQuery:Oe}=this.state,We=ie.replace(/:/g,"").trim();Oe!==We&&(We.length===0&&this.setState(()=>({searchResults:[]})),this.onSearchDebounced(We))}onSearchInputClick(){this.setState(()=>({cursorPosition:pe.b}))}onSearcherResult(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Oe=arguments.length>1?arguments[1]:void 0;const{activeSkinToneId:We,telemeter:ke,teamOrEnterpriseId:nt,enableSkinTonePicker:st}=this.props;let mt=[],pt={};const Et=[];if(ie.length>0){Et.push({emoji_names:Object(r.a)(ie,"emojiBestNameMatchCanonical"),name:"Search results",nameLocalized:Rt.t("Search results")});const Tt=ca({groups:Et,skinToneId:We,teamOrEnterpriseId:nt,enableSkinTonePicker:!!st});mt=Tt.rows,pt=Tt.ariaAttributesByName}const it=Object(En.e)(mt),at=Oe&&it?pe.h:pe.b;this.prevSelection=void 0;const ft=Oe&&it&&Object(En.a)(mt,[0,2])||void 0;this.context.setHighlightFirstSearchResult(!this.context.keyboardIntoPicker),this.context.setHighlightOnMultiPickerEscape(!1),this.setState(yt=>({activeGroup:Et[0],cursorPosition:at,prevCursorPosition:yt.cursorPosition,searchQuery:Oe,screenRows:mt,groupAriaAttributesByName:pt,currentSelection:ft,prevSelection:yt.currentSelection,searchResults:ie,isTabPanelView:!1}),()=>{var yt;(yt=this.list)===null||yt===void 0||yt.scrollToTop(),ke.measureAndClear("react_emoji_menu_search_mark","react_emoji_menu_search"),this.debouncedSrAnnounceResults()})}onSkinToneChanged(ie){this.props.onSkinToneChanged&&this.props.onSkinToneChanged(ie),this.setState(()=>({isSkinTonePickerOpen:!1}))}onSkinTonePickerOpened(){this.setState(()=>({isSkinTonePickerOpen:!0}))}setListRef(ie){this.list=ie}setMenuRef(ie){this.element=ie}setSearchInputRef(ie){this.searchInput=ie}maybeFetchFlannelEmoji(){let{count:ie}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{count:100};var Oe;if(!(!((Oe=this.props)===null||Oe===void 0)&&Oe.shouldUseFlannelEmoji)||this.state.fullyLoaded)return;const{marker:We}=this.state;this.props.fetchEmojiWithQuery&&this.props.fetchEmojiWithQuery({query:{count:ie,marker:We}}).then(ke=>{if(this._isMounted){const{emoji:nt,nextMarker:st}=ke||{};this.setState(mt=>({marker:st,fullyLoaded:!st,screenRows:Ia((nt||[]).map(pt=>pt.name),mt.screenRows)}))}})}scrollToProductivityEmojiGroup(){const{groups:ie}=this.props,{screenRows:Oe}=this.state,We=vt(ie,"Getting Work Done"),ke=An(Oe,We);this.setState(nt=>({activeGroup:We,scrollToIndex:ke,cursorPosition:[0,ke+1],prevCursorPosition:nt.cursorPosition,searchQuery:"",searchResults:[],screenRows:Oe,currentSelection:void 0,prevSelection:nt.currentSelection,usingKeyboard:!0}))}isEmojiSelected(ie,Oe){const{cursorPosition:We,currentSelection:ke=""}=this.state;return Object(Fa.a)({selection:ie,cursorPosition:We,index:Oe,numPerRow:j.d,currentSelection:ke})}clogSearcherResults(ie){const{clogger:Oe}=this.props,{searchQuery:We,searchResults:ke}=this.state,nt=!!this.prevSelection,st=!!(We&&ke);let mt;const pt=ie&&Object(g.a)(ie);if(st){var Et;mt={source:"emoji-picker",query:We,results:ke};const it=pt&&mt&&mt.results&&mt.results.find(at=>at.emojiBestNameMatchCanonical===pt.name);!(it==null||(Et=it.item)===null||Et===void 0)&&Et.id?(mt.selectedItemId=it.item.id,Object(_.c)({clogger:Oe,data:mt})):!it&&!nt&&Object(_.d)({clogger:Oe,data:mt})}}resetSelection(){this.setState(ie=>({currentSelection:void 0,prevSelection:ie.currentSelection,scrollToIndex:void 0,cursorPosition:pe.b,prevCursorPosition:ie.cursorPosition})),this.context.setKeyboardIntoPicker(!1)}triggerClose(ie,Oe){const We={currentSelection:void 0,scrollToIndex:void 0,cursorPosition:pe.b};Oe||(We.searchResults=[],We.searchQuery=""),this.setState(()=>We,()=>{var ke,nt;(ke=this.props)===null||ke===void 0||(nt=ke.onClosed)===null||nt===void 0||nt.call(ke,ie)}),ie.stopPropagation()}triggerSelect(ie,Oe){const{name:We}=Object(g.a)(Oe)||{};We&&this.props.recordEmojiFrecencyEvent({emojiName:We,text:this.state.searchQuery}),this.props.shouldAutoScrollToProductivityEmoji&&(this.props.incrementEmojiClickCount(),this.props.recordNotificationEvent({notificationName:X.h.PRODUCTIVITY_REACJI,action:X.f.CLICK})),this.props.shouldRecordEmojiClicksForQuickReactions&&this.props.recordNotificationEvent({notificationName:X.h.QUICK_REACTIONS,action:X.f.CLICK,step:"reaction"}),this.clogSearcherResults(Oe),this.prevSelection=ie.shiftKey?Oe:void 0,this.props.onSelected&&this.props.onSelected(ie,Oe,this.state.searchQuery);const ke=Object(I.a)(ie);ie.shiftKey||this.triggerClose(ie,ke)}render(){const{showCustomBadge:ie,showHandyReactions:Oe,activeSkinToneId:We,showProductivityReacji:ke,enableSkinTonePicker:nt,inputPlaceholder:st,showProgressiveDisclosureReacjiExplainer:mt,menuClassName:pt,menuContentClassName:Et,hideFooter:it,isClientAppOrCommunityAdminApp:at,hideAddEmojiButton:ft,canAddEmoji:yt,teamOrEnterpriseId:Tt,locale:Zt,showAnyEmojiPacksCTA:In,hasKeyboardFocusWithin:_n,onFocus:Nn,onBlur:Fn,onAddEmojiButtonClick:Bn,isSPFNonWorkWorkspace:Un,className:zn}=this.props,{cursorPosition:wn,currentSelection:Rn,screenRows:ra,activeGroup:wt,searchQuery:pn,searchResults:Hn,srGeneralAnnouncementNewSearch:Jn,groupAriaAttributesByName:Ca,isTabPanelView:qn,tabGroup:ua}=this.state,va=Hn==null?void 0:Hn.length,Ea=!it&&ke&&Rn&&!pn&&wn!==pe.b&&Object(En.c)(ra,wn[1]),_a=ra.length===0,Ra=at&&!ft&&yt,Va=!pn&&In,xn=Object(h.default)(zn,"p-emoji_picker",pt,{"c-menu":this.props.renderAsMenu,"p-emoji_picker--keyboard_mode":this.state.usingKeyboard}),Ta=Object(h.default)("p-emoji_picker__list",{"p-emoji_picker__list--with_cta":Va}),La=this.searchInput===document.activeElement,Ka=Object(h.default)("p-emoji_picker__footer",{"p-emoji_picker__footer--previewing":!!Rn||_a&&La,"p-emoji_picker__footer--handy-reactions":Oe});let Ha;ke&&(Oe?Ha={"p-emoji_picker__content--reaction-height-with-cta":Va,"p-emoji_picker__content--reaction-height-without-cta":!Va}:Ha={"p-emoji_picker__content--message-height-with-cta":Va,"p-emoji_picker__content--message-height-without-cta":!Va});const xa=Object(h.default)("p-emoji_picker__content",Ha,Et);var za;const us=t.a.createElement("div",{className:Ta},t.a.createElement(he,{screenRows:this.state.screenRows,showAddEmojiButton:Ra,searchQuery:pn,onSelected:this.triggerSelect,onMouseEnter:this.onEmojiMouseEnter,onMouseLeave:this.onEmojiMouseLeave,onMultiSkinTonePopoverEscape:this.onMultiSkinTonePopoverEscape,scrollToIndex:this.state.scrollToIndex,onScroll:this.onListScroll,isEmojiSelected:this.isEmojiSelected,cursorPosition:this.state.cursorPosition,showProductivityReacji:ke,groups:this.props.groups,ref:this.setListRef,activeGroupName:(za=wt==null?void 0:wt.name)!==null&&za!==void 0?za:"",pickerHasKeyboardFocusWithin:_n,onAddEmojiButtonClick:Bn}));let ss="";Jn&&(pn!=null&&pn.length)&&(ss=!!(!va||va===0||isNaN(va))?Rt.t("Oh no! We couldn\u2019t find that emoji"):Rt.t("{numberOfSearchResults, plural, =1 {# result} other {# results}}",{numberOfSearchResults:va})),Jn&&!(pn!=null&&pn.length)&&(ss=Rt.t("Seeing all results"));const Ja=!this.props.hideTabs,Na=!qn;var Qa;return t.a.createElement("div",{"aria-label":Rt.t("Emoji picker"),role:"dialog",className:xn,"data-using-keyboard":this.state.usingKeyboard,onClick:this.onEmojiPickerClick,onMouseMove:this.onMouseWhileUsingKeyboard,ref:this.setMenuRef,"data-qa":"emoji-picker",onKeyDown:this.onKeyDown,onFocus:Nn,onBlur:Fn},mt?t.a.createElement(te.a,{tip:ee.f.Reacji,isSPFNonWorkWorkspace:Un}):null,t.a.createElement("div",{className:xa},Ja&&t.a.createElement(Ze,{groups:this.props.groups||re.a,showCustomBadge:ie,onGroupTabClick:this.onGroupTabClick,tabGroupName:ua||""}),Na&&t.a.createElement(Dn,{ref:this.setSearchInputRef,onChange:this.onSearchInputChange,onClick:this.onSearchInputClick,placeholder:st||""}),Va&&t.a.createElement(ot,{groups:this.props.groups,jumpToGroup:this.onGroupTabClick}),t.a.createElement("div",{className:"p-emoji_picker__list_container",onMouseMove:this.mouseOverTabPanel,ref:this.tabPanel,role:"tabpanel",tabIndex:-1,"aria-labelledby":Ve({name:ua??""})},t.a.createElement(F.b,{message:ss,uuid:this.ariaAnnouncerUuid}),t.a.createElement(Qt,{header:wt&&!_a?wt==null?void 0:wt.nameLocalized:Rt.t("No Results",{fallbackHash:"b993b0c537190bfc94b21360ac5abe51e56be36f",fallbackHashNs:"search"}),ariaAttributes:Ca[(Qa=wt==null?void 0:wt.name)!==null&&Qa!==void 0?Qa:""]}),ke?t.a.createElement(ne.a,{eventId:y.EventId.EDUCATION_PRODUCTIVITY_REACJI,uiStep:y.UiStep.PRODUCTIVITY_REACJI,clogImpression:!0},us):us),!it&&t.a.createElement("div",{className:Ka,"data-qa":"emoji_picker__footer"},!Ea&&t.a.createElement(ht,{showHandyReactions:!!Oe,showAddEmojiButton:Ra,activeSkinToneId:We,showSkinTonePicker:!!nt,onEmojiSelected:this.triggerSelect,onEmojiMouseEnter:this.onEmojiMouseEnter,onEmojiMouseLeave:this.onEmojiMouseLeave,isSkinTonePickerOpen:this.state.isSkinTonePickerOpen,onSkinTonePickerOpened:this.onSkinTonePickerOpened,onSkinToneChanged:this.onSkinToneChanged,hasZeroRows:this.state.screenRows.length===0,currentEmojiSelection:Rn||"",teamOrEnterpriseId:Tt,locale:Zt,onAddEmojiButtonClick:Bn}),ke&&Ea&&t.a.createElement(Bt,{showSkinTonePicker:!!nt,showHandyReactions:!!Oe,activeSkinToneId:We,teamOrEnterpriseId:Tt,locale:Zt,emoji:Rn}))))}constructor(ie,Oe){var We;super(ie,Oe),this.ariaAnnouncerUuid=Object(m.a)(),this.mouseOverTabPanel=()=>{var pt,Et;!((pt=this.tabPanel)===null||pt===void 0||(Et=pt.current)===null||Et===void 0)&&Et.contains(document.activeElement)&&this.tabPanel.current.focus()},this.srAnnounceResults=()=>{const{srGeneralAnnouncementNewSearch:pt}=this.state;pt||this.setState(()=>({srGeneralAnnouncementNewSearch:!0}))},this.onMultiSkinTonePopoverEscape=()=>{var pt;(pt=this.element)===null||pt===void 0||pt.focus(),this.context.setHighlightOnMultiPickerEscape(!0),this.setState(Et=>({currentSelection:Et.currentSelection?Et.currentSelection:Et.prevSelection,cursorPosition:Et.currentSelection?Et.cursorPosition:Et.prevCursorPosition,escapePressed:!0})),this.context.setKeyboardIntoPicker(!0)},Object(b.a)(this,["onEmojiMouseEnter","onEmojiMouseLeave","onMouseWhileUsingKeyboard","onKeyDown","onListScroll","onSearch","onSearcherResult","onEmojiPickerClick","onGroupTabClick","onSkinToneChanged","onSkinTonePickerOpened","triggerSelect","triggerClose","resetSelection","setListRef","setMenuRef","setSearchInputRef","onSearchInputChange","onSearchInputClick","isEmojiSelected","onEmojiButtonTab","setFirstEmojiFocusToGroup","onTab"]);const ke=100;this.onSearchDebounced=Object(f.a)(this.onSearch,ke,{leading:!0}),this.debouncedSrAnnounceResults=Object(f.a)(this.srAnnounceResults,500),this.onArrowKeyThrottled=Object(l.a)(this.onArrowKey,pe.a),this.seenProductiveEmojisOnMount=!1;const nt={groups:ie.groups,skinToneId:ie.activeSkinToneId,teamOrEnterpriseId:ie.teamOrEnterpriseId,enableSkinTonePicker:!!ie.enableSkinTonePicker},st=ca(nt);var mt;this.state={currentSelection:void 0,isSkinTonePickerOpen:!1,searchQuery:"",scrollToIndex:void 0,activeGroup:Vt(ie.groups),screenRows:st.rows,groupAriaAttributesByName:st.ariaAttributesByName,cursorPosition:pe.b,usingKeyboard:!1,mousePosition:null,marker:void 0,fullyLoaded:!1,searchResults:[],srGeneralAnnouncementNewSearch:!1,isTabPanelView:!1,escapePressed:!1,tabGroup:(mt=(We=Vt(ie.groups))===null||We===void 0?void 0:We.name)!==null&&mt!==void 0?mt:"",prevCursorPosition:pe.b,prevSelection:void 0},this.context.setHighlightFirstSearchResult(!1),this.prevSelection=void 0,this._isMounted=!1,this.element=void 0,this.list=void 0,this.searchInput=void 0,this.tabPanel=Object(n.createRef)()}},"EmojiPicker");At.displayName="EmojiPicker",At.defaultProps={showHandyReactions:!1,onSelected:p.a,onClosed:p.a,onSkinToneChanged:p.a,menuClassName:"",menuContentClassName:"",hideFooter:!1,enableSkinTonePicker:!0,hideTabs:!1,renderAsMenu:!0,hideAddEmojiButton:!1,inputPlaceholder:"",forceHideEmojiPackCTA:!1,searchEmoji:p.a,recordEmojiFrecencyEvent:p.a,fetchAllEmojiCollections:p.a,recordNotificationEvent:p.a,incrementEmojiClickCount:p.a,fetchEmojiWithQuery:p.a,maybeShowProgressiveDisclosureTip:p.a,onFocus:p.a,onBlur:p.a},At.contextType=Ma.a;function Gt(ye,ie){let{forceHideEmojiPackCTA:Oe}=ie;const We=Object(P.h)(ye),ke=Object(A.a)(ye),nt=Object(J.c)(ye,X.g.EMOJI_DRAWER),st=Object(J.b)(ye,X.g.EMOJI_DRAWER),mt=nt===X.h.PRODUCTIVITY_REACJI,pt=Object(G.a)(ye),Et=mt&&st.autoscrollToProductivity&&pt<j.a,it=Object(J.b)(ye,X.g.QUICK_REACTIONS),ft=Object(J.c)(ye,X.g.QUICK_REACTIONS)===X.h.QUICK_REACTIONS&&it.sendClickDataForReactions;return{activeSkinToneId:Object(S.t)(ye,"preferred_skin_tone")||"",canAddEmoji:Object(M.a)(ye),isClientAppOrCommunityAdminApp:Object(D.h)(ye)||Object(T.g)(),clogger:Object(N.a)({state:ye}),emojiCollections:Object(G.b)(ye),groups:ke||re.a,teamOrEnterpriseId:We||"",locale:Object(d.m)({teamOrEnterpriseId:We||"",recalc:!1}),telemeter:Object(Z.d)({state:ye}),showCustomBadge:Object(G.f)(ye),showProductivityReacji:mt,shouldRecordEmojiClicksForQuickReactions:ft,shouldAutoScrollToProductivityEmoji:Et,showAnyEmojiPacksCTA:!Oe&&(H(ye)||!!(ke&&R(ye,ke))),showProgressiveDisclosureReacjiFlag:Object(ae.pb)(ye,{tip:ee.f.Reacji}),showProgressiveDisclosureReacjiExplainer:Object(ae.ob)(ye,{tip:ee.f.Reacji}),shouldUseFlannelEmoji:!!Object(z.r)(ye),isSPFNonWorkWorkspace:Object(ja.a)(ye)}}o(Gt,"mapStateToProps");const ln=o(ye=>({searchEmoji:ie=>ye(Object(_.F)(ie)),recordEmojiFrecencyEvent:ie=>ye(K(ie)),fetchAllEmojiCollections:ie=>ye(Object(W.a)(ie)),recordNotificationEvent:ie=>ye(Object(Y.a)(ie)),incrementEmojiClickCount:()=>ye(Object(U.b)()),fetchEmojiWithQuery:ie=>ye(Object(B.b)(ie)),maybeShowProgressiveDisclosureTip:ie=>ye(Object(q.a)(ie))}),"emoji_picker_mapDispatchToProps"),Dt=o(ye=>{const{showHandyReactions:ie,enableSkinTonePicker:Oe=!0}=ye;return t.a.createElement(Ma.b,{showHandyReactions:!!ie,enableSkinTonePicker:!!Oe},t.a.createElement(At,dn({},ye)))},"EmojiPickerWithContextProvider");Dt.displayName="EmojiPickerWithContextProvider";const He=Object(Aa.a)(Dt);var Le=Object(v.a)(Gt,ln)(He);const Qe=Object(v.a)(Gt,ln)(Object(de.b)(He,{name:"EmojiPicker"}));var Ce=s.b=Le},mxzN:function(w,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("q1tI"),i=e.n(a),c=e("zxER"),r=e("/MKj"),f=e("+kJ4"),l=e("kQBZ"),p=e("YUBf"),h=e("qDEp"),u=e("3V+Q"),b=e("s4P+"),v=e("1LZ8"),d=e("LSTB"),m=e("kHrk"),g=e("QsbR"),O=e("wvSc"),E=e("Ws5+"),y=e("E3dU"),C=e("E97Y"),I=e("UnpP"),j=e("SpS+"),M;(function(S){S.NEGATIVE="negative",S.NEUTRAL="neutral",S.POSITIVE="positive"})(M||(M={}));const T=[{value:M.POSITIVE,label:M.POSITIVE},{value:M.NEUTRAL,label:M.NEUTRAL},{value:M.NEGATIVE,label:M.NEGATIVE}],D=o(S=>{let{channelId:A,feedbackType:P,templateId:N,highlightedText:G}=S;const V=Object(r.useDispatch)(),k=Object(a.useCallback)(()=>{V(Object(f.a)())},[V]),x=Object(a.useMemo)(()=>({comments:"",rating:P,accurate:!1,useful:!1,trustworthy:!1}),[P]),[H,R]=Object(a.useState)(!1),[W,U]=Object(a.useState)(!1),[_,B]=Object(a.useState)(!1),z=Object(c.c)(Y=>Object(y.d)(Y,A)),L=Object(C.l)(z),[$,Q]=Object(a.useState)(L),K=Object(a.useCallback)(()=>{Q(!$)},[$]),Z=Object(a.useCallback)(()=>{R(!H)},[H]),ne=Object(a.useCallback)(()=>{U(!W)},[W]),F=Object(a.useCallback)(()=>{B(!_)},[_]),J=Object(a.useCallback)(Y=>{switch(Y.value){case M.POSITIVE:return i.a.createElement("span",null,i.a.createElement(I.b,{text:"smiley",className:"margin_right_50"}),"Good");case M.NEUTRAL:return i.a.createElement("span",null,i.a.createElement(I.b,{text:"neutral_face",className:"margin_right_50"}),"Neutral");case M.NEGATIVE:default:return i.a.createElement("span",null,i.a.createElement(I.b,{text:"disappointed",className:"margin_right_50"}),"Bad")}},[]),X=Object(a.useCallback)(function(){var Y=Object(n.coroutine)(function*(ae){const ee=[];H&&ee.push("acccuracy"),W&&ee.push("usefulness"),_&&ee.push("timeliness");const q=ee.length?`Reasons: ${ee.join(",")}. `:"";try{if(!(yield V(Object(l.Zh)({channel:A,feedback:q+ae.comments,feedbackType:ae.rating,suggestionId:N,highlightedText:$?G:"",reason:"tinyspeck_feedback"}))).ok)throw new Error("response from workflows.suggestions.feedback not ok")}catch(te){Object(b.b)().error(te),V(Object(v.a)())}k()});return function(ae){return Y.apply(this,arguments)}}(),[V,A,N,G,k,H,W,_,$]);return i.a.createElement(p.a,{closeModal:k},i.a.createElement(d.a,{initialValues:x,validate:Object(j.c)({comments:[],rating:[]}),onSubmit:X},Y=>{let{isSubmitting:ae}=Y;return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.i,null,i.a.createElement(p.l,{title:"Was this workflow suggestion useful?"})),i.a.createElement(p.d,null,i.a.createElement(p.e,null,i.a.createElement(m.a,{name:"rating",id:"rating",labelText:"Your rating of this suggestion",ariaLabel:"Your rating of this suggestion",options:T,renderOption:J,renderSelectedOption:J}),i.a.createElement(O.a,{legendId:"field-reason",legendText:"Why did you select this rating? Choose all that apply.",className:"p-summary_feedback_modal__summary_label"},i.a.createElement(u.b,{text:"Accuracy",type:"inline",cursor:"pointer"},i.a.createElement(E.a,{name:"accurate",id:"accurate",checked:H,onChange:Z})),i.a.createElement(u.b,{text:"Usefulness",type:"inline",cursor:"pointer"},i.a.createElement(E.a,{checked:W,onChange:ne})),i.a.createElement(u.b,{text:"Timeliness",type:"inline",cursor:"pointer"},i.a.createElement(E.a,{checked:_,onChange:F}))),i.a.createElement(g.a,{name:"comments",id:"comments",labelText:"Anything else you want to add?",placeholder:"How did what you see compare to what you expected?"}),G?i.a.createElement(u.b,{text:"Share this summary with the Platform team for quality purposes. Selecting this option will also share the highlighted portion of your message with the development team.",type:"inline",cursor:"pointer",className:"p-summary_feedback_modal__summary_label"},i.a.createElement(E.a,{checked:$,onChange:K})):null)),i.a.createElement(p.g,null,i.a.createElement(p.h,null,i.a.createElement(p.c,{type:"outline"},"Close"),i.a.createElement(h.c,{htmlType:"submit",loading:ae,disabled:ae},"Send"))))}))},"WorkflowSuggestionsFeedbackModal");D.displayName="WorkflowSuggestionsFeedbackModal",s.a=D},mzsf:function(w,s,e){"use strict";e.d(s,"a",function(){return T});var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("Cfcg"),c=e("TGBA"),r=e("E3dU"),f=e("xwCZ"),l=e("Zbwg"),p=e("eUIW"),h=e("C3vN"),u=e("gVOt"),b=e("E97Y"),v=e("y/e0"),d=e("ZIxB"),m=e("oiAH"),g=e("G4FP"),O=e("rIOq"),E=e("j4ta"),y=e("NFmw"),C=e("8aX7"),I=e("EVu0"),j=e("Ccc1");function M(){return M=Object.assign||function(N){for(var G=1;G<arguments.length;G++){var V=arguments[G];for(var k in V)Object.prototype.hasOwnProperty.call(V,k)&&(N[k]=V[k])}return N},M.apply(this,arguments)}o(M,"_extends");const T={SMALL:"small",MEDIUM:"medium",INLINE:"inline"},D={id:a.default.string,model:a.default.object,type:a.default.oneOf(Object(c.a)(T)),matchData:a.default.array,onlyBoldIfUnread:a.default.bool,showUnreadBadge:a.default.bool,shortenTooltipContents:a.default.bool,showTruncatedChannelNameTooltip:a.default.bool,showTeamForLocalChannel:a.default.bool,showDisambiguatingTeamName:a.default.bool},S={id:void 0,model:void 0,type:"small",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,shortenTooltipContents:!1,showTruncatedChannelNameTooltip:!1,showTeamForLocalChannel:!1,showDisambiguatingTeamName:!1};function A(N){let{id:G,model:V,type:k,matchData:x,onlyBoldIfUnread:H,showUnreadBadge:R,shortenTooltipContents:W,showTruncatedChannelNameTooltip:U,showTeamForLocalChannel:_,showDisambiguatingTeamName:B,...z}=N,L=null;if(Object(b.g)(V)||Object(h.db)(V)){let $,Q;switch(Object(h.db)(V)?($=V.id,Q=V):$=Object(u.a)(V),k){case T.SMALL:L=t.a.createElement(d.a,M({id:$,member:Q,onlyBoldIfUnread:H,showUnreadCount:R,showBadge:!1},z));break;case T.MEDIUM:L=t.a.createElement(O.a,M({id:$,member:Q},z));break;case T.INLINE:L=t.a.createElement(C.a,M({id:$,member:Q},z));break;default:break}}else if(Object(b.i)(V))switch(k){case T.SMALL:L=t.a.createElement(m.a,M({id:G,mpim:V,matchData:x,onlyBoldIfUnread:H,showUnreadBadge:R,shortenTooltipContents:W},z));break;case T.MEDIUM:L=t.a.createElement(E.a,M({id:G,mpim:V},z));break;case T.INLINE:L=t.a.createElement(I.a,M({id:G,mpim:V},z));break;default:break}else if(Object(v.a)(V))switch(k){case T.SMALL:L=t.a.createElement(g.a,M({channelId:G,channel:V,onlyBoldIfUnread:H,showUnreadBadge:R,showTruncatedChannelNameTooltip:U,showTeamForLocalChannel:_,showDisambiguatingTeamName:B},z));break;case T.MEDIUM:L=t.a.createElement(y.a,M({channelId:G,channel:V},z));break;case T.INLINE:L=t.a.createElement(j.a,M({channelId:G,channel:V},z,{showDisambiguatingTeamName:B}));break;default:break}return t.a.createElement(t.a.Fragment,null,L)}o(A,"ConversationListEntity"),A.displayName="ConversationListEntity",A.propTypes=D,A.defaultProps=S;function P(N,G){let{id:V,model:k}=G,x=k;if(!x)if(Object(l.a)(V)){if(x=Object(r.d)(N,V),Object(b.g)(x)){const H=Object(u.a)(x);x=Object(f.g)(N,H)}}else Object(p.a)(V)&&(x=Object(f.g)(N,V));return{id:V||x&&x.id,model:x}}o(P,"mapStateToProps"),s.b=Object(i.a)(P)(A)},n5Lk:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("WMzb"),i=e("9tjR"),c=e("Qn8/"),r=e("O86Y"),f=e("1ufr"),l=e("zxER");const p="TOAST",h=t.a.memo(u=>{const b=Object(l.c)(r.h),v=Object(a.a)(),d=Object(l.c)(i.d),m=Object(l.c)(Object(n.useCallback)(O=>Object(i.a)(O,u.windowId),[u.windowId])),g=Object(n.useMemo)(()=>Object(i.f)(b,u.windowId),[b,u.windowId]);return Object(n.useEffect)(()=>(c.d[g]&&v.error(p,"ToastContainer already mounted -- should only be one instance at a time"),c.d[g]=!0,()=>{delete c.d[g]}),[g,v]),m?t.a.cloneElement(m,{key:d}):null});h.displayName="ToastContainer",s.a=Object(f.a)(h)},n7Bo:function(w,s,e){"use strict";e.d(s,"c",function(){return t}),e.d(s,"b",function(){return f}),e.d(s,"a",function(){return l}),e.d(s,"d",function(){return p}),e.d(s,"e",function(){return h});const n=new Set(["ai","archive","audio","avi","binary","bmp","cpp","code","css","csv","doc","docs","docx","email","eml","eps","flv","gdoc","generic","gpres","gsheet","html","indd","java","lucidchart","lucidpress","lucidspark","m4a","mov","mp3","mp4","ogg","post","png","jpeg","jpg","gif","pdf","php","ppt","pptx","psd","quip","sketch","snippet","space","spreadsheet","text","tiff","video","wav","xls","xlsm","xlsx","xltx","zip","zohoshow"]);function t(u){let{fileTypeDescription:b}=u;return n.has(b==null?void 0:b.toLowerCase())}o(t,"isSVGIconAvailable");const a=new Set(["ai","audio","avi","bmp","eps","png","jpeg","jpg","gif","flv","indd","mov","psd","video","wav"]),i=new Set(["eml","email"]),c=new Set(["code","cpp","css","csv","eps","flv","gdoc","html","indd","java","m4a","mp3","mp4","ogg","post","php","quip","snippet","space","spreadsheet","text","xltx"]),r=new Set(["archive","zip","binary"]);function f(u){let{fileTypeDescription:b}=u;return a.has(b==null?void 0:b.toLowerCase())}o(f,"isImagePlaceholderAvailable");function l(u){let{fileTypeDescription:b}=u;return i.has(b==null?void 0:b.toLowerCase())}o(l,"isEmailPlaceholderAvailable");function p(u){let{fileTypeDescription:b}=u;return c.has(b==null?void 0:b.toLowerCase())}o(p,"isTextPlaceholderAvailable");function h(u){let{fileTypeDescription:b}=u;return r.has(b==null?void 0:b.toLowerCase())}o(h,"isZipPreviewAvailable")},nBOy:function(w,s,e){"use strict";var n=e("yIs4"),t=e("3yyz"),a=e("5SjC");const i=o((c,r)=>{if(!c||!Object(n.a)(r))return null;let f=0,l;return Object(a.a)(c,(p,h)=>{if(l)return;const u=f+Object(t.a)(p);if(r>=f&&r<u){const b=p.attributes||{},v=h.attributes||{};l={...b,...v}}f=u}),l},"getFormatAtIndex");s.a=i},nKt2:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("gCYc"),t=e("pu3F"),a=e("bORL");function i(c,r){const f=Object(n.k)(c,r);return Object(a.a)(c,f)>=t.A}o(i,"isDraftAtMaximumFiles")},nLfX:function(w,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"d",function(){return p}),e.d(s,"e",function(){return h}),e.d(s,"c",function(){return u}),e.d(s,"f",function(){return b}),e.d(s,"b",function(){return v});var n=e("E97Y"),t=e("ISSR"),a=e("0mlZ"),i=e("pu3F"),c=e("fujP");function r(d){let{channel:m,fileChannelFile:g}=d;return Object(n.l)(m)||!!(g!=null&&g.public_shared)}o(r,"inPublicChannelOrFile");function f(d){let{experimentPrivateMessageSharingGroupOn:m,shareType:g,channel:O,fileChannelFile:E}=d;return m&&g===a.b.MESSAGE&&!r({channel:O,fileChannelFile:E})}o(f,"isPrivateMessageSharing");function l(d){let{shareType:m,channel:g,fileChannelFile:O,experimentPrivateMessageSharingGroupOn:E}=d;return m===a.b.SHORTCUT||m===a.b.CHANNEL_SET||Object(a.c)(m)||m===a.b.MESSAGE&&E?!0:r({channel:g,fileChannelFile:O})}o(l,"canShareOutOfOriginChannel");function p(d){let{disallowedKeywordInMsgText:m,canPostInSelectedChannel:g,isOffline:O,overMsgLengthLimit:E,submitting:y,destinationError:C}=d;return O||!g||!!m||E||!!C||y}o(p,"isGoButtonDisabled");function h(d){let{isFetchingUnfurlData:m,experimentFeMessageForwardingM2GroupOn:g}=d;return!!(g&&m)}o(h,"isGoButtonLoading");function u(d){let{memberIds:m,channelIds:g,useMultiSelect:O}=d;if(O){const E=(m==null?void 0:m[0])!==i.Y;return{shouldSearchForChannels:Object(c.a)(m)&&Object(c.a)(g),shouldSearchForMembers:Object(c.a)(g)&&E}}return{shouldSearchForChannels:!0,shouldSearchForMembers:!0}}o(u,"determineSearchOptions");function b(d){let{destination:m,nonMemberChannel:g,canPostInSelectedChannel:O}=d;return!!(m&&m.channelIds&&m.channelIds.length)&&(Object(n.r)(g)||Object(t.a)(g)||!O)}o(b,"postingToChannelDisallowed");function v(d){let{destination:m,canPostInSelectedChannel:g,isSelectedChannelAppDm:O}=d;return!(m&&m.memberIds&&m.memberIds.length&&O&&!g)}o(v,"canShareToAppDm")},nM8Q:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=o(t=>{var a,i,c,r,f;const l=(a=t.workflow)===null||a===void 0||(i=a.app)===null||i===void 0?void 0:i.name,p=(c=t.workflow)===null||c===void 0||(r=c.app)===null||r===void 0?void 0:r.id,h=t.description,u="workflow",b=t.name,v="",d=t.shortcut_url,m=t.id,g=t==null||(f=t.workflow)===null||f===void 0?void 0:f.workflow_id;return{autocomplete:!0,appName:l,appId:p,desc:h,type:u,name:b,usage:v,id:d,triggerId:m,workflowId:g}},"createCommandObject")},nPQL:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){if(!t||!t.length())return!1;let a=!0;for(let i=0;i<t.ops.length;i++)if(!t.ops[i].retain){a=!1;break}return a}o(n,"isDeltaFormattingOnly")},"nR/p":function(w,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),i=e("fujP"),c=e("gCYc"),r=e("ZvCj"),f=e("Dpf0");const l=Object(a.c)("Attach a canvas to the current draft",function(){var p=Object(n.coroutine)(function*(h,u,b){let{fileId:v,draftId:d,channelId:m,threadTs:g,isFromComposer:O,reason:E}=b;const y=u(),C=Object(c.k)(y,d);if(Object(i.a)(C)){const I={channel_id:m};g&&(I.thread_ts=g);const j={client_draft_id:d,destinations:[I],is_from_composer:O};h(Object(r.a)({draft:j,reason:E||"attach-canvas-to-draft"}))}h(Object(f.a)({draftId:d,fileId:v}))});return function(h,u,b){return p.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkattachFileToDraft",description:"Attach a canvas to the current draft"},s.a=l},nRFS:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("RVJP");function t(a){const i=Object(n.d)(a,"private_message_sharing")==="on",c=Object(n.d)(a,"fe_message_forwarding_m2")==="on",r=Object(n.d)(a,"fe_message_forwarding_link_speed_bump")==="on";return!!(i&&c&&r)}o(t,"isFeMessageForwardingLinkSpeedBumpEnabled")},nRRV:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Te+D"),i=e("bJNA");function c(r){let{format:f,label:l,isMac:p,isDocs:h}=r;const u=p?"\u2318":"Ctrl ",b=p?"Option ":"Alt ",v=Object(n.useMemo)(()=>[u,"Shift"],[u]),d=Object(n.useMemo)(()=>[u,b,"Shift"],[u,b]),m=Object(n.useMemo)(()=>[u,b],[u,b]);switch(f){case"bold":return t.a.createElement(a.a,{title:l,modifier:u,mainKey:"B"});case"italic":return t.a.createElement(a.a,{title:l,modifier:u,mainKey:"I"});case"underline":return t.a.createElement(a.a,{title:l,modifier:u,mainKey:"U"});case"strike":return t.a.createElement(a.a,{title:l,modifiers:v,mainKey:"X"});case"code":return t.a.createElement(a.a,{title:l,modifiers:v,mainKey:"C"});case"link":return t.a.createElement(a.a,{title:l,modifiers:v,mainKey:"U"});case"bullet-list":return h?l:t.a.createElement(a.a,{title:l,modifiers:v,mainKey:"8"});case"ordered-list":return h?l:t.a.createElement(a.a,{title:l,modifiers:v,mainKey:"7"});case"blockquote":return h?l:t.a.createElement(a.a,{title:l,modifiers:v,mainKey:"9"});case"code-block":return h?l:t.a.createElement(a.a,{title:l,modifiers:d,mainKey:"C"});case"start-thread":case"open-thread":return h?l:t.a.createElement(a.a,{title:l,modifiers:m,mainKey:"T"});case i.a.CHECK_LIST_TOGGLE:return t.a.createElement(a.a,{title:l,modifiers:v,mainKey:"0"});case i.a.FILE:return t.a.createElement(a.a,{title:l,modifier:u,mainKey:"U"});default:return l}}o(c,"ToolbarButtonTooltip"),c.displayName="ToolbarButtonTooltip",s.a=t.a.memo(c)},nSuI:function(w,s,e){"use strict";e.d(s,"b",function(){return r}),e.d(s,"a",function(){return f});var n=e("PqaZ"),t=e("lhZz"),a=e("9Gfp"),i=e("B1w/"),c=e("twB+");const r=new c.a;let f=o(class ho{static getOrCreate(p){return r.get(p,(h,u)=>new ho({teamId:h}))}getState(){return Object(t.getStateByTeamId)(this.teamId)}sendDocumentEvent(p,h,u){const b=Object(a.a)(this.getState()),v=Object(i.a)(this.getState(),p);v&&u==="transient"&&Object(t.dispatchForTeamId)(this.teamId,Object(n.h)({type:"document_change",user:b,channel:v,payload:btoa(String.fromCharCode(...h))}))}onReceiveDocumentEvent(p,h,u){if(u==="transient"){var b;const m=atob(h),g=new Uint8Array(m.length);for(let O=0;O<g.length;O++)g[O]=m.charCodeAt(O);(b=this.delegate)===null||b===void 0||b.receiveDocumentEvent(p,g,u)}else if(u==="update"){var v;(v=this.delegate)===null||v===void 0||v.receiveDocumentEvent(p,h,u)}else if(u==="backlog"){var d;(d=this.delegate)===null||d===void 0||d.receiveDocumentEvent(p,h,u)}}onPresenceUpdated(p){var h;(h=this.delegate)===null||h===void 0||h.updatePresence(p)}setDelegate(p){this.delegate=p}constructor({teamId:p}){this.teamId=p}},"QuipDocumentEventProvider")},naKU:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("q1tI"),t=e.n(n);const a=t.a.createContext({mouseOver:!1})},nd5U:function(w,s,e){"use strict"},ndUn:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("n3tL"),c=e("beVI"),r=e("4HNC"),f=e("sGXp"),l=e("kFoU");function p(){return p=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(d[O]=g[O])}return d},p.apply(this,arguments)}o(p,"_extends");const h={className:i.default.string,"data-qa":i.default.string,id:i.default.string.isRequired,isActive:i.default.bool,isDisabled:i.default.bool,isDeactivated:i.default.bool,isError:i.default.bool,includeHiddenTeams:i.default.bool,shouldMaybeShowVerified:i.default.bool,secondaryContent:i.default.node,team:i.default.object.isRequired,bold:i.default.bool},u={bold:!0,className:void 0,"data-qa":void 0,isActive:!1,isDisabled:!1,isDeactivated:!1,isError:!1,includeHiddenTeams:!1,shouldMaybeShowVerified:!1,secondaryContent:void 0};function b(d){let{className:m,id:g,isActive:O,isDisabled:E,secondaryContent:y,team:C,bold:I,...j}=d,M;return O?E?M=f.d.highlightDim:M=f.d.highlightDark:E&&(M=f.d.dim),t.a.createElement(r.a,{className:m,size:"small",style:M,primaryContent:t.a.createElement(l.a,p({},j,{bold:I,team:C,invert:M===f.d.highlightDark})),secondaryContent:y,"data-team-id":g})}o(b,"SmallTeamListEntity"),b.displayName="SmallTeamListEntity",b.propTypes=h,b.defaultProps=u;const v=o((d,m)=>{const O=m.team||Object(c.s)(d,m.id,!0,m.includeHiddenTeams);return{team:O,id:O.id}},"mapStateToProps");s.a=Object(a.a)(v)(b)},npmo:function(w,s,e){"use strict";var n=e("Cfcg");e.d(s,"a",function(){return n.a})},ntOI:function(w,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"b",function(){return r}),e.d(s,"d",function(){return f}),e.d(s,"c",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("aUsF"),i=e.n(a);const c=/{{\s*?input_parameters.([^}]+?)\s*?}}/,r=o((p,h)=>{let{defaultLabel:u="",defaultValue:b=""}=h;var v,d,m;return p.map(g=>({label:(v=g.label)!==null&&v!==void 0?v:u,value:(m=(d=g.value)!==null&&d!==void 0?d:g.key)!==null&&m!==void 0?m:b}))},"parseDynamicInputsSelectOptions");function f(p){const h=Object(n.useRef)(),u=h.current,b=i()(u,p);return Object(n.useEffect)(()=>{b||(h.current=p)}),b?u:p}o(f,"useMemoDeepEqual");function l(p){return p.replace(/{{{(.*?)}}}/g,"{$1}")}o(l,"removeExtraCurlyBraces")},o07q:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Remove prefs for a given channel");t.meta={name:"createAction",key:"createActionremovePrefsForConversation",description:"Remove prefs for a given channel"};const a=Object(n.a)("Set channel prefs associated with a given channel");a.meta={name:"createAction",key:"createActionsetConversationsListPrefs",description:"Set channel prefs associated with a given channel"}},o2Hb:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=o((t,a)=>{const i=o(function(c){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a(c,r)},"validator");return i.key=t,i},"createSegmentValidator")},o2tK:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("BeL+"),t=e("htTJ");const a=o(c=>{if(!c||!c.length)return[];const r=[];return c.forEach(f=>{if(Object(t.a)(f)){var l;const p=f==null||(l=f.attributes)===null||l===void 0?void 0:l.link;r.push(p)}}),Object(n.a)(r)},"findLinksInOps");function i(c){if(!c||!c.length())return[];const r=c.ops;return a(r)}o(i,"findLinksInDelta")},o3gz:function(w,s,e){"use strict";e.d(s,"a",function(){return x});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("XhtD"),c=e("ifKl"),r=e("oaNE"),f=e("8QLk"),l=e("qDEp"),p=e("nFQW"),h=e("Tevt"),u=e("C3Bw"),b=e("ZobM"),v=e("rq2v"),d=e("Trx9"),m=e("WSQ4"),g=e("i5Ig"),O=e("nNoG");const E={PRIMARY_CTA:"coachmark-primary-cta",SECONDARY_CTA:"coachmark-secondary-cta",CLOSE_BUTTON:"coachmark-close-button"};var y=e("ktUG"),C=e("jWHu"),I=e("UA9w"),j=e("somW"),M=e("P8PK"),T=e("UL37"),D=e("khnw");function S(){return S=Object.assign||function(H){for(var R=1;R<arguments.length;R++){var W=arguments[R];for(var U in W)Object.prototype.hasOwnProperty.call(W,U)&&(H[U]=W[U])}return H},S.apply(this,arguments)}o(S,"_extends");const A=new O.b("generic_dialog"),P=[10,20,30,40,50,60,70,80,85,90,95],N=Object(i.a)(260,440,10),G=o(H=>{H.stopPropagation()},"stopPropagation"),V=o(H=>{(H==null?void 0:H.keyCode)===D.q&&H.stopPropagation()},"maybeStopPropagation"),k={qa:"coachmark"};function x(H){let{isOpen:R,title:W,bodyText:U,hero:_,icon:B,onClickPrimaryButton:z,onClickSecondaryButton:L,primaryCallToActionText:$,secondaryCallToActionText:Q,linkText:K,onClickLink:Z,alignActionsRight:ne,offsetX:F=0,offsetY:J=0,centerOnArrow:X=!1,anchorRef:Y,orientation:ae,arrowPosition:ee,hideCloseButton:q=!1,closeCoachmark:te=c.a,closeBackgroundStyle:de,onAfterOpen:se,autoClogProps:re={elementName:"unset"},linkClogElementName:oe,width:ce,ariaLabel:ue,className:Pe,UNSAFE_parentSelector:Ye,isMegaphoneCoachmark:$e=!0,overlayStyle:Ke,isModal:qe=!1,enableSectionNavigation:ct=!0,onAfterClose:Be,renderPreview:pe=c.a,"aria-labelledby":fe,"aria-describedby":me}=H;const{window:Se}=Object(n.useContext)(m.a),{isInMegaphoneContainerContext:je}=Object(n.useContext)(v.a),{experimentNonModalCoachmarkGroupTreatment:Ue}=Object(n.useContext)(I.a),[ve,ge]=Object(n.useState)(),[le,he]=Object(n.useState)(),[Te,Re]=Object(n.useState)(),Ve=Object(n.useRef)(null),Ee=Object(M.a)(),Ae=Object(n.useCallback)(()=>{if(!(Y!=null&&Y.current))return;const _t=Y==null?void 0:Y.current.getBoundingClientRect(),be=Se.innerWidth;(!ve||le!==be||_t.x!==ve.x||_t.y!==ve.y||_t.width!==ve.width||_t.height!==ve.height)&&(ge(_t),he(be))},[Y,ve,le,Se]),Ge=Object(n.useCallback)(()=>{if(!Te){const _t=Se.setInterval(Ae,50);Re(_t)}},[Ae,Te,Se]),Ze=Object(n.useCallback)(()=>{Te&&(clearInterval(Te),Re(void 0))},[Te]);Object(n.useEffect)(()=>(R?(Ae(),Ge()):Ze(),()=>{Ze()}),[R,Ae,Ge,Ze]);const ze=Object(n.useCallback)(_t=>{const ot=Se.innerWidth,rt={};switch(ae){case"top-left":rt.top=_t.top-20+J,rt.right=ot-_t.right+F;break;case"top":rt.left=_t.left+F,rt.top=_t.top-20+J,X&&(rt.left+=_t.width/2);break;case"top-right":rt.left=_t.left+F,rt.top=_t.top-20+J,X&&(rt.left+=_t.width);break;case"bottom-left":rt.top=_t.top+_t.height+20+J,rt.right=ot-_t.right+F;break;case"bottom":rt.left=_t.left+F,rt.top=_t.top+_t.height+20+J,X&&(rt.left+=_t.width/2);break;case"bottom-right":rt.left=_t.left+F,rt.top=_t.top+_t.height+20+J,X&&(rt.left+=_t.width);break;case"left-top":rt.left=_t.left+F+20,rt.top=_t.top+J;break;case"left":rt.left=_t.left+F+20,rt.top=_t.top+_t.height/2+J;break;case"left-bottom":rt.left=_t.left+F+20,rt.top=_t.top+_t.height+J;break;case"right-top":rt.left=_t.left+_t.width+20+F,rt.top=_t.top+J;break;case"right":rt.left=_t.left+_t.width+20+F,rt.top=_t.top+_t.height/2+J;break;case"right-bottom":rt.left=_t.left+_t.width+20+F,rt.top=_t.top+_t.height+J;break;default:break}return rt},[X,F,J,ae,Se]),lt=Object(n.useCallback)(()=>{Y!=null&&Y.current&&(se==null||se(Y==null?void 0:Y.current))},[se,Y]),tt=Object(n.useCallback)(()=>ne?$??t.a.createElement(t.a.Fragment,null,A.t("Next",{fallbackHash:"04a212215ef9fbf686d280802eb81ee7a6e681cd"})," ",t.a.createElement(b.a,{name:"caret-right",size:"24"})):$??A.t("Confirm"),[ne,$]),Ot=Object(n.useCallback)(()=>ne?Q??t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"caret-left",size:"24"})," ",A.t("Back")):Q??A.t("Close"),[ne,Q]),Ct=Object(n.useCallback)(()=>{const _t=t.a.createElement(t.a.Fragment,null,q?null:t.a.createElement(p.a,{className:"c-coachmarkv2__close",onClick:te,"aria-label":A.t("Close"),"data-qa":E.CLOSE_BUTTON,backgroundStyle:de,autoClogProps:{elementName:`${re.elementName}_close_cta`,action:y.UiAction.CLOSE,onClick:{enableClogAction:!0}},autoFocus:!z},t.a.createElement(b.a,{name:"close",size:"20"})),_&&!B&&(typeof _=="string"?t.a.createElement("img",{className:"c-coachmarkv2__hero",src:_,alt:"coachmark hero"}):_),t.a.createElement("div",{className:"c-coachmarkv2__content"},B&&!_?t.a.createElement("img",{className:"c-coachmarkv2__icon",src:B,alt:""}):null,t.a.createElement("p",{className:"c-coachmarkv2__title"},W),t.a.createElement("p",{className:"c-coachmarkv2__body"},U),pe(),z||L?t.a.createElement("div",{className:"c-coachmarkv2__actions"},L&&t.a.createElement(l.f,{className:"c-coachmarkv2__secondary_button",type:"outline",onClick:L,"data-action-type":"secondary","data-qa":E.SECONDARY_CTA,autoClogProps:{elementName:`${re.elementName}_secondary_cta`,onClick:{enableClogAction:!0}}},Ot()),z&&t.a.createElement(l.f,{type:"primary",onClick:z,"data-qa":E.PRIMARY_CTA,autoFocus:!0,autoClogProps:{elementName:`${re.elementName}_primary_cta`,onClick:{enableClogAction:!0}}},tt())):null,K?t.a.createElement(h.a,S({className:"c-coachmarkv2__link",onClick:Z},oe?{autoClogProps:{elementName:oe,onClick:{enableClogAction:!0}}}:g.b),K," \u2192"):null));return Ue?t.a.createElement(j.a,{id:`Coachmark_${Ee}`,index:T.a.SECONDARY_VIEW+.1,focusFn:c.a,onFocus:G,enableSectionNavigation:ct&&R,onKeyDown:V},_t):_t},[re.elementName,U,de,te,ct,Ue,_,q,B,R,oe,K,Z,z,L,Ee,tt,Ot,W,pe]);if(Object(n.useEffect)(()=>{$e&&!je&&Object(C.b)(C.a.Coachmark)},[$e,je]),!R||!(Y!=null&&Y.current)||!ve)return null;const St=ze(ve),zt=Object(a.default)("c-coachmarkv2",`c-coachmark--${ae}`,`c-coachmark--${ee}`,Pe,{"c-coachmark--center_on_arrow":X,"c-coachmarkv2--actions-right":ne}),on={overlay:Object(r.a)({position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"transparent",zIndex:1e3},Ke),content:{...St,...ce&&{width:Object(f.a)(ce,260,440)}}};return t.a.createElement(d.a,S({},re,{enableClogImpressionOffScreen:!0,clogImpression:R}),t.a.createElement(u.a,S({data:k,className:zt,isOpen:R,onRequestClose:te,ref:Ve,shouldCloseOnEsc:!0,style:on,onAfterOpen:lt,contentLabel:ue,parentSelector:Ye},Ue?{ariaHideApp:qe,aria:{modal:qe}}:g.b,{shouldReturnFocusAfterClose:!Be,onAfterClose:Be,aria:{describedby:me,labelledby:fe}}),Ct()))}o(x,"Coachmark")},o5tZ:function(w,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t[t.available=0]="available",t[t.processing=1]="processing",t[t.none=2]="none"})(n||(n={}))},o97p:function(w,s,e){"use strict";e.d(s,"i",function(){return i}),e.d(s,"h",function(){return c}),e.d(s,"g",function(){return r}),e.d(s,"f",function(){return h}),e.d(s,"d",function(){return u}),e.d(s,"e",function(){return b}),e.d(s,"c",function(){return v}),e.d(s,"a",function(){return d}),e.d(s,"b",function(){return m});var n=e("G4qV"),t=e("fujP"),a=e("O86Y");const i=o(g=>{var O,E;return g==null||(O=g.workflowBuilder)===null||O===void 0||(E=O.extensions)===null||E===void 0?void 0:E.loading},"selectWorkflowExtensionsLoading"),c=o(g=>{var O,E;return g==null||(O=g.workflowBuilder)===null||O===void 0||(E=O.extensions)===null||E===void 0?void 0:E.loadError},"selectWorkflowExtensionsLoadError"),r=o(g=>{var O,E;return g==null||(O=g.workflowBuilder)===null||O===void 0||(E=O.extensions)===null||E===void 0?void 0:E.lastLoaded},"selectWorkflowExtensionsLastLoaded"),f=o(g=>{var O,E;return g==null||(O=g.workflowBuilder)===null||O===void 0||(E=O.extensions)===null||E===void 0?void 0:E.lastLoadAttempt},"selectWorkflowExtensionsLastLoadAttempt"),l=o(g=>{var O,E;return(g==null||(O=g.workflowBuilder)===null||O===void 0||(E=O.extensions)===null||E===void 0?void 0:E.stepsById)||{}},"selectWorkflowExtensionStepsCollection"),p=o(g=>{var O,E;return(g==null||(O=g.workflowBuilder)===null||O===void 0||(E=O.extensions)===null||E===void 0?void 0:E.stepIdsByAppId)||{}},"selectWorkflowExtensionsAppsCollection"),h=o(g=>{const O=l(g);return(Object.values(O)||[]).sort((E,y)=>E.name.localeCompare(y.name))},"selectWorkflowExtensionSteps"),u=o((g,O)=>{const E=l(g);if(!(typeof O>"u"))return E[O]},"selectWorkflowExtensionStep"),b=o((g,O)=>{const E=!!r(g),y=u(g,O);return E&&!y},"selectWorkflowExtensionStepIsUnknown"),v=Object(n.a)(p,(g,O)=>O,(g,O)=>g[O]||[]),d=Object(n.a)(p,g=>!Object(t.a)(g)),m=Object(n.a)(l,a.g,(g,O)=>O?Object.values(g).some(E=>E.team_id===O):!1)},"oH+m":function(w,s,e){"use strict";e.d(s,"c",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c}),e.d(s,"d",function(){return r}),e.d(s,"e",function(){return l});var n=e("Lgge"),t=e("yCtb");const a=10,i=10,c=5;function r(p){return p?p.reduce((h,u)=>["bold","italic","strike","code","pre","quote","long_quote_prefix"].includes(u.type)?(h.push(...r(u.contents)),h):Object(t.a)(u)?(h.push({text:" "}),h):(h.push(u),h),[]):[]}o(r,"customContentHandler");function f(p){return new n.a(h=>setTimeout(h,p))}o(f,"sleep");function l(){const p=new Date;return p.setDate(p.getDate()+1),p.setHours(3,0,0,0),p.getTime()}o(l,"getExpirationTimeForRecommendations")},oI1L:function(w,s,e){"use strict";e.d(s,"d",function(){return O}),e.d(s,"a",function(){return y}),e.d(s,"c",function(){return C}),e.d(s,"b",function(){return I});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("wd/R"),c=e.n(i),r=e("g3SJ"),f=e("3NWu"),l=e("Atq3"),p=e("Yauy"),h=e("E3dU"),u=e("SQ0V"),b=e("WXkz"),v=e("fGfo");const d=Object(u.c)("Get formatted channel name",(j,M,T)=>{let{channelId:D}=T;const S=M(),A=Object(h.d)(S,D);return A?Object(p.t)(S,A):"#channel"});d.meta={name:"createThunk",key:"createThunkgetFormattedChannelName",description:"Get formatted channel name"};const m=Object(u.c)("Get formatted list column value",(j,M,T)=>{let{listId:D,listColumnKeyAndValue:S}=T;var A,P,N;const G=M();if(!D||!S)return"a field changes";const V=Object(b.l)(G,D),k=S.key,x=S.value,H=Object(v.g)(V);if(!H)return"";const R=H.find(U=>U.key===k);if(!R)return"a field changes";if(!(!((A=R.options)===null||A===void 0)&&A.choices))return`${R.name} changes`;const W=(P=R.options)===null||P===void 0||(N=P.choices)===null||N===void 0?void 0:N.find(U=>U.value===x);return`${R.name} changes${W?` to ${W.label}`:""}`});m.meta={name:"createThunk",key:"createThunkgetFormattedListColumnFilter",description:"Get formatted list column value"};function g(j){var M,T;const D=(M=j.frequency)===null||M===void 0||(T=M.on_days)===null||T===void 0?void 0:T[0],S=c()(j.start_time,r.b).format("h:mm A");return`${D} at ${S}`}o(g,"formatDate");function O(j){const M=Object(a.useDispatch)(),T={};for(const{variable:D,type:S,value:A,placeholder:P}of Object.values(j))switch(S){case f.e.Channel:T[D]=M(d({channelId:A==null?void 0:A.value}));break;case f.e.Message:T[D]=P||"message";break;case f.e.RecurringDate:T[D]=g(A);break;case f.e.Date:T[D]=`${A}`;break;case f.e.ListId:T[D]=`${A}`;break;case f.e.ListColumnKeyAndValue:T[D]=M(m({listId:j[f.e.ListId].value,listColumnKeyAndValue:j[f.e.ListColumnKeyAndValue].value}));break;case f.e.ListColumnIdsToAddToForm:T[D]="form response";break;default:return Object(l.a)(S)}return T}o(O,"useVariableDisplayValues");function E(j,M){const T={};for(const[D,S]of Object.entries(j)){const{type:A,placeholder:P}=S;switch(A){case f.e.Message:T[D]={type:A,variable:D,placeholder:P,value:S.initialValue||M[f.e.Message]};break;case f.e.Channel:T[D]={type:A,variable:D,placeholder:P,value:M[f.e.Channel]};break;case f.e.RecurringDate:T[D]={type:A,variable:D,placeholder:P,value:M[f.e.RecurringDate]};break;case f.e.Date:T[D]={type:A,variable:D,placeholder:P,value:M[f.e.Date]};break;case f.e.ListId:T[D]={type:A,variable:D,placeholder:P,value:M[f.e.ListId]};break;case f.e.ListColumnKeyAndValue:T[D]={type:A,variable:D,placeholder:P,value:M[f.e.ListColumnKeyAndValue]};break;case f.e.ListColumnIdsToAddToForm:T[D]={type:A,variable:D,placeholder:P,value:M[f.e.ListColumnIdsToAddToForm]};break;default:return Object(l.a)(A)}}return T}o(E,"getInitialTemplateState");function y(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return{[f.e.Channel]:void 0,[f.e.Message]:void 0,[f.e.Date]:Object(r.e)(),[f.e.RecurringDate]:Object(r.e)(),[f.e.ListId]:void 0,[f.e.ListColumnKeyAndValue]:void 0,[f.e.ListColumnIdsToAddToForm]:void 0,...j}}o(y,"getTemplateStateDefaults");function C(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return y(j)}o(C,"useTemplateStateDefaults");function I(j,M){const[T,D]=Object(n.useState)(E(j,M));function S(A){let{variable:P,value:N,type:G,placeholder:V}=A;if(!(P in T)||T[P].type!==G)throw new Error("invalid update");let k;switch(G){case f.e.Message:k={type:G,variable:P,value:N};break;case f.e.Channel:k={type:G,variable:P,value:N};break;case f.e.RecurringDate:case f.e.Date:k={type:G,variable:P,value:N};break;case f.e.ListId:k={type:G,variable:P,value:N};break;case f.e.ListColumnKeyAndValue:k={type:G,variable:P,value:N};break;case f.e.ListColumnIdsToAddToForm:k={type:G,variable:P,value:N};break;default:Object(l.a)(G);return}D({...T,[P]:{...k,placeholder:V||T[P].placeholder}})}return o(S,"updateTemplateState"),[T,S]}o(I,"useTemplateState")},"oL+a":function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=100},oLdd:function(w,s,e){"use strict"},oT5T:function(w,s,e){"use strict";var n=e("n3tL"),t=e("q1tI"),a=e.n(t),i=e("ifKl"),c=e("HOkk"),r=e("nNoG");function f(){return f=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(d[O]=g[O])}return d},f.apply(this,arguments)}o(f,"_extends");const l=new r.b("generic_dialog"),p={children:n.default.any.isRequired,cancelButtonText:n.default.string,shouldCloseOnCancel:n.default.bool,shouldCloseOnGo:n.default.bool,"data-qa":n.default.string,goButtonText:n.default.string,goButtonType:n.default.string,onCancel:n.default.func,onClose:n.default.func,onGo:n.default.func,showCancelButton:n.default.bool,title:n.default.node,truncateTitle:n.default.bool},h={cancelButtonText:null,shouldCloseOnCancel:!0,shouldCloseOnGo:!0,"data-qa":"alert_dialog",goButtonText:null,goButtonType:"primary",onCancel:i.a,onClose:i.a,onGo:i.a,showCancelButton:!1,title:null,truncateTitle:!0};function u(d){let{children:m,cancelButtonText:g,shouldCloseOnGo:O,shouldCloseOnCancel:E,"data-qa":y,goButtonText:C,...I}=d;return a.a.createElement(c.a,f({cancelText:g||l.t("Cancel"),"data-qa":y,shouldCloseOnGo:O,shouldCloseOnCancel:E,goButtonText:C||l.t("OK"),role:"alertdialog"},I),m)}o(u,"DeprecatedAlertDialog"),u.displayName="DeprecatedAlertDialog",u.propTypes=p,u.defaultProps=h;var b=a.a.memo(u),v=s.a=b},oh9B:function(w,s,e){"use strict";e.d(s,"a",function(){return W});var n=e("q1tI"),t=e.n(n),a=e("oq5T"),i=e("Cfcg"),c=e("JoR1"),r=e("gnJq"),f=e("P9LH"),l=e("nNoG"),p=e("A/mR"),h=e("rYD8"),u=e("tO3t");const b=new l.b("files");function v(U){let{file:_,time24:B,isChannelFiles:z,useSeparator:L,excludeTime:$,displaySharedBy:Q,documentUnfurlTs:K=void 0}=U;const Z=z||Q;let ne;const F="\xB7",J="\xA0\xA0";Z?ne="\xA0":L||K?ne=[J,F,J]:ne=J;const Y=Object(f.O)(_);let ae,ee;if(Y){const oe=Object(p.q)(Y,{shortenMonth:!0});ae=oe;let ce;if(Z)if(oe==="Today"||oe==="Yesterday"){const Pe=oe.toLowerCase();ce=b.t("{newDate}",{newDate:Pe})}else ce=b.t("on {date}",{date:oe});else ce=oe;const ue=$?ce:b.t("{date} at {time}",{date:oe,time:Object(p.g)(Y,"{time}",{do24hrTime:B})});ee=t.a.createElement(t.a.Fragment,null,ne,t.a.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-timestamp"},ue))}let q=_.bot_id?t.a.createElement(u.a,{id:_.bot_id,className:Z?"c-file_entity-user-timestamp__user-channel-files":"c-file_entity-user-timestamp__user",isChannelFiles:Z,isWorkFlow:!1,"data-qa":"file-entity-metadata-user"}):t.a.createElement(h.a,{id:_.user,isChannelFiles:Z,className:Z?"c-file_entity-user-timestamp__user-channel-files":"c-file_entity-user-timestamp__user","data-qa":"file-entity-metadata-user"});Object(f.h)(_)&&_.user==="USLACKBOT"&&(q=t.a.createElement("span",null,b.t("Shared")));const te=K&&Object(p.q)(K,{shortenMonth:!0});let de=!1,se;te&&(te.includes("Today")||te.includes("Yesterday")?se=b.t("Added {readableTs}",{readableTs:te,fallbackHash:"c6dfaec53b031de954eca42b5bba02c53eecb737",fallbackHashNs:"attachments_v2"}):se=b.t("Added on {readableTs}",{readableTs:te,fallbackHash:"c6dfaec53b031de954eca42b5bba02c53eecb737",fallbackHashNs:"attachments_v2"}),ae&&(de=ae===te));let re;return se&&(re=t.a.createElement(t.a.Fragment,null,ne,t.a.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-unfurl-in-canvas-timestamp"},se))),Object(r.a)(_)||Object(f.Rb)(_)||Object(f.Db)(_)?null:t.a.createElement(t.a.Fragment,null,q,de?t.a.createElement(t.a.Fragment,null,re):t.a.createElement(t.a.Fragment,null,ee,re))}o(v,"FileEntityUserTimestamp"),v.displayName="FileEntityUserTimestamp";const d=o(U=>({time24:Object(c.t)(U,"time24")}),"mapStateToProps");var m=Object(i.a)(d)(v),g=e("Uuto"),O=e("LQ2n"),E=e("OZf9"),y=e("E3dU"),C=e("Yauy"),I=e("pu3F");const j=6,M=10,T=20,D=25,S=o((U,_)=>{const B=_==null?void 0:_.shares;if(!B)return null;let z=null,L=!1,$=!1;return Object(E.a)(B.private,(Q,K)=>{$=!0;let Z=Q.find(F=>{let{share_user_id:J}=F;return J!==I.Y});if(Z)L=!0;else{if(L)return;Z=Q[0]}const ne=Z.ts;Number(ne)>Number((z==null?void 0:z.ts)||0)&&(z={ts:ne,channelId:K,shareUserId:Q[0].share_user_id})}),Object(E.a)(B.public,(Q,K)=>{const Z=Object(y.d)(U,K);if(Object(C.wb)(Z))$||(z=void 0),$=!0;else if($)return;let ne=Q.find(J=>{let{share_user_id:X}=J;return X!==I.Y});if(ne)L=!0;else{if(L)return;ne=Q[0]}const F=ne.ts;Number(F)>Number((z==null?void 0:z.ts)||0)&&(z={ts:F,channelId:K,shareUserId:Q[0].share_user_id})}),z},"getMostRelevantShare");function A(U,_){const B=S(U,_);if(!B)return null;const{channelId:z}=B;return t.a.createElement(O.a,{channelId:z,inline:!0})}o(A,"getFileChannel");var P=e("9Gfp"),N=e("xwCZ"),G=e("+tZp");const V=new l.b("file");function k(U,_,B){if(!_||_===I.Y)return Object(g.a)(U,B);const z=Object(N.g)(U,_),L=Object(G.a)(U,z);return _===Object(P.a)(U)?V.rt("{name} (you)",{name:L,fallbackHash:"26d4d69c81b9ea155418f35cc46db79fdbb5e28b",fallbackHashNs:"channel_sidebar"}):L}o(k,"getShareName");function x(U,_){const{shareUserId:B}=S(U,_)||{};return k(U,B,_)}o(x,"getFileSharer");var H=e("8z04");function R(){return R=Object.assign||function(U){for(var _=1;_<arguments.length;_++){var B=arguments[_];for(var z in B)Object.prototype.hasOwnProperty.call(B,z)&&(U[z]=B[z])}return U},R.apply(this,arguments)}o(R,"_extends");function W(U,_,B,z,L){switch(B){case H.a.NONE:return"";case H.a.OWNER:return Object(g.a)(U,_);case H.a.OWNER_TIMESTAMP:return t.a.createElement(m,R({file:_,documentUnfurlTs:L},z));case H.a.CHANNEL:return A(U,_);case H.a.SHARER:return x(U,_);case H.a.FILETYPE:default:return Object(a.a)(U,_)}}o(W,"getFileDetail")},oiAH:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("4HNC"),c=e("sGXp"),r=e("55av");const f={className:a.default.string,"data-qa":a.default.string,id:a.default.string,isActive:a.default.bool,isDeactivated:a.default.bool,isDisabled:a.default.bool,secondaryContent:a.default.node,matchData:a.default.array,mpim:a.default.object,onlyBoldIfUnread:a.default.bool,showUnreadBadge:a.default.bool,shortenTooltipContents:a.default.bool,useCarpeMPDM:a.default.bool,showAvatar:a.default.bool},l={className:void 0,"data-qa":void 0,id:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1,secondaryContent:void 0,matchData:[],mpim:void 0,useCarpeMPDM:!1,onlyBoldIfUnread:!1,showUnreadBadge:!1,shortenTooltipContents:!1,showAvatar:!0};function p(h){let{className:u,"data-qa":b,id:v,isActive:d,isDeactivated:m,isDisabled:g,matchData:O,mpim:E,secondaryContent:y,useCarpeMPDM:C,onlyBoldIfUnread:I,showUnreadBadge:j,shortenTooltipContents:M,showAvatar:T}=h;const D=v||(E==null?void 0:E.id);let S;d?g||m?S=c.d.highlightDim:S=c.d.highlightDark:(g||m)&&(S=c.d.dim);const A=o(()=>t.a.createElement(r.a,{id:D,"data-id":D,"data-qa":b,"data-sk":"small_mpim_list_entity",invert:S===c.d.highlightDark,isDeactivated:m,matchData:O,mpim:E,isActive:d,onlyBoldIfUnread:I,showUnreadBadge:j,shortenTooltipContents:M,showAvatar:T}),"getPrimaryContent");return A.displayName="getPrimaryContent",C?t.a.createElement(i.a,{className:u,style:S,primaryContent:A(),secondaryContent:y,size:"small"}):t.a.createElement(i.a,{className:u,style:S,primaryContent:t.a.createElement(r.a,{id:D,"data-id":D,"data-qa":b,"data-sk":"small_mpim_list_entity",invert:S===c.d.highlightDark,isDeactivated:m,mpim:E,matchData:O,isActive:d,onlyBoldIfUnread:I,showUnreadBadge:j,shortenTooltipContents:M,showAvatar:T}),secondaryContent:y,size:"small"})}o(p,"SmallMpimListEntity"),p.displayName="SmallMpimListEntity",p.propTypes=f,p.defaultProps=l,s.a=p},oonp:function(w,s,e){"use strict";e.d(s,"b",function(){return a}),e.d(s,"a",function(){return i});var n=e("c8Bs"),t=e("lCmp");function a(r){var f,l,p,h,u,b,v;return!!((r==null||(f=r.statics)===null||f===void 0?void 0:f.blotName)==="blockquote"||(r==null||(l=r.statics)===null||l===void 0?void 0:l.blotName)==="list-item"&&(r==null||(p=r.attributes)===null||p===void 0||(h=p.attributes)===null||h===void 0?void 0:h.border)||(r==null||(u=r.statics)===null||u===void 0?void 0:u.blotName)==="code-block"&&(r==null||(b=r.attributes)===null||b===void 0||(v=b.attributes)===null||v===void 0?void 0:v.border))}o(a,"lineIsQuoted");function i(r){return!!((r==null?void 0:r.length)>0&&Object(n.a)(r,l=>a(l)))}o(i,"everyLineIsQuoted");function c(r){return!!((r==null?void 0:r.length)>0&&Object(t.a)(r,l=>a(l)))}o(c,"someLinesAreQuoted")},oq5T:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("P9LH"),t=e("nNoG"),a=e("FH+Z"),i=e("DeaP");const c=new t.b("files");function r(f,l){if(Object(n.wb)(l,f))return c.t("Template");if(Object(n.u)(l)||Object(n.h)(l))return c.t("Canvas");const p=Object(n.qb)(l)||Object(n.Kb)(l)?Object(i.a)(l,f):l.pretty_type;switch(p){case"Arugula":return c.t("Post");case a.e:return c.t("Slack Clip");default:return p}}o(r,"getFileTypeDescription")},orxu:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("q1tI"),t=e.n(n),a=e("1myf"),i=e("XnHx"),c=e("GJt6");function r(f){let{listeners:l,children:p}=f;const h=Object.keys(l);for(const u of Object(a.a)(h))for(const b of Object(a.a)(Object(i.a)(l[u])))Object(c.a)(u,b);return t.a.createElement(t.a.Fragment,null,p)}o(r,"FocusTransition")},ouAP:function(w,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.Default="default",t.DownloadFile="download",t.EditTextFile="edit",t.ExpandTextFile="expand",t.ViewFile="view"})(n||(n={}))},oy9Z:function(w,s,e){"use strict";e.d(s,"a",function(){return N});var n=e("ifKl"),t=e("q1tI"),a=e.n(t),i=e("/MKj"),c=e("zxER"),r=e("SQ0V"),f=e("6JBJ"),l=e("gCYc"),p=e("3l96"),h=e("+kJ4"),u=e("Kn+X"),b=e("8sbp"),v=e("nNoG"),d=e("sryV"),m=e("8K+A"),g=e("JvzI"),O=e("YUBf"),E=e("eBYm"),y=e("zygp"),C=e("z00e"),I=e("2ySF"),j=e("BQeT");const M=new v.b("drafts");function T(G){let{customTime:V,setCustomTime:k,currentTime:x}=G;const H=Object(y.e)(x),R=Object(y.d)(x),W=Object(t.useCallback)(U=>{const _=parseInt(U,10);k(_)},[k]);return a.a.createElement(I.b,{className:"p-schedule_message__time_picker",onChange:W,value:V.toString(),valueFormat:"X","aria-label":M.t("Schedule message"),min:H.toString(),max:R.toString(),optionsHourIncrement:j.a.HALF_HOUR,showTimeZone:!1,isRequired:!0})}o(T,"ScheduleMessageTimePicker"),T.displayName="ScheduleMessageTimePicker";var D=T;const S=new v.b("drafts");function A(G){let{draftId:V,onMessageScheduled:k=n.a,isFromScheduledPage:x=!1}=G;const H=Object(i.useDispatch)(),R=Object(t.useRef)(!0),W=Object(c.c)(J=>Object(l.k)(J,V)),U=Object(C.a)(),_=Object(u.i)(W),B=Object(c.c)(J=>Object(y.b)(J,{draftId:V,dateScheduled:_,now:U})),[z,L]=Object(t.useState)(B),$=Object(c.c)(J=>Object(b.a)(J,{draftId:V,schedulingTime:z})),Q=Object(t.useCallback)(()=>{H(Object(h.a)()),H(Object(f.a)({draftId:V,dateScheduled:z,isSuggestedDate:!1,onMessageScheduled:k,isFromScheduledPage:x}))},[H,V,z,k,x]),K=Object(g.a)(),Z=Object(t.useMemo)(()=>{const J=Object(m.a)(),X=J?J.zoneId:"";return Object(d.b)(X,K)},[K]),ne=Object(t.useCallback)(()=>{R.current=!1},[]),F=z<Object(y.e)(U)||z>Object(y.d)(U);return a.a.createElement(O.b,{onAfterClose:ne},a.a.createElement(O.i,null,a.a.createElement(O.l,{title:S.t("Schedule message"),subtitle:Z})),a.a.createElement(O.d,null,a.a.createElement(O.e,null,a.a.createElement(D,{customTime:z,setCustomTime:L,currentTime:U})),$&&a.a.createElement(O.e,null,a.a.createElement("div",{className:"p-schedule_message__time_zone_details"},$))),a.a.createElement(O.g,null,a.a.createElement(O.h,null,a.a.createElement(O.c,{type:"outline"},S.rt("Cancel")),a.a.createElement(E.a,{type:"primary",onClick:Q,disabled:F,"data-qa":"schedule_message_dialog_submit_button"},S.rt("Schedule Message")))))}o(A,"ScheduleMessageDialog"),A.displayName="ScheduleMessageDialog";var P=A;const N=Object(r.c)("Opens the schedule message dialog",(G,V,k)=>{let{draftId:x,onMessageScheduled:H,isFromScheduledPage:R=!1}=k;G(Object(p.a)({element:a.a.createElement(A,{draftId:x,onMessageScheduled:H,isFromScheduledPage:R})}))});N.meta={name:"createThunk",key:"createThunkopenScheduleMessageDialog",description:"Opens the schedule message dialog"}},p8wN:function(w,s,e){"use strict";e.d(s,"r",function(){return y}),e.d(s,"d",function(){return I}),e.d(s,"c",function(){return j}),e.d(s,"C",function(){return T}),e.d(s,"p",function(){return D}),e.d(s,"s",function(){return S}),e.d(s,"q",function(){return A}),e.d(s,"a",function(){return P}),e.d(s,"k",function(){return N}),e.d(s,"x",function(){return G}),e.d(s,"f",function(){return V}),e.d(s,"E",function(){return k}),e.d(s,"m",function(){return x}),e.d(s,"o",function(){return H}),e.d(s,"l",function(){return R}),e.d(s,"h",function(){return W}),e.d(s,"i",function(){return U}),e.d(s,"g",function(){return B}),e.d(s,"u",function(){return z}),e.d(s,"v",function(){return L}),e.d(s,"t",function(){return Q}),e.d(s,"y",function(){return K}),e.d(s,"j",function(){return Z}),e.d(s,"w",function(){return J}),e.d(s,"b",function(){return X}),e.d(s,"D",function(){return Y}),e.d(s,"e",function(){return ae}),e.d(s,"A",function(){return ee}),e.d(s,"B",function(){return q}),e.d(s,"z",function(){return te}),e.d(s,"n",function(){return de});var n=e("XIp8"),t=e("7EGn"),a=e("fujP"),i=e("gPPH"),c=e("bkBi"),r=e("nNoG"),f=e("wOIf"),l=e("vIgB"),p=e("wBgp"),h=e("C3vN"),u=e("kNaz"),b=e("HyII"),v=e("Pcq4");const{SlackTypesUserId:d,SlackTypesChannelId:m,SlackTypesFileId:g}=l.d,O=new r.b("workflow_builder"),E={[u.c.Text]:{questionType:u.c.Text,baseType:"text",icon:"text-snippet"},[u.c.Boolean]:{questionType:u.c.Text,baseType:"boolean",icon:"radio-button"},[u.c.Integer]:{questionType:u.c.Integer,baseType:"integer",icon:"number"},[u.c.Number]:{questionType:u.c.Number,baseType:"number",icon:"number"},[u.c.Textarea]:{questionType:u.c.Textarea,baseType:"textarea",icon:"text-snippet"},[u.c.RichText]:{questionType:u.c.RichText,baseType:l.d.SlackTypesRichText,icon:"formatting"},[u.c.SelectStatic]:{questionType:u.c.SelectStatic,baseType:"select",icon:"caret-dropdown"},[u.c.SelectUser]:{questionType:u.c.SelectUser,baseType:"select",icon:"user"},[u.c.SelectConversation]:{questionType:u.c.SelectConversation,baseType:"select",icon:"channel"},[u.c.Date]:{questionType:u.c.Date,baseType:l.d.SlackTypesDate,icon:"calendar"},[u.c.DateTime]:{questionType:u.c.DateTime,baseType:l.d.SlackTypesTimestamp,icon:"calendar"},[u.c.ShortText]:{questionType:u.c.ShortText,baseType:"string",icon:"text-snippet"},[u.c.LongText]:{questionType:u.c.LongText,baseType:"string",icon:"text-snippet"},[u.c.SelectPerson]:{questionType:u.c.SelectPerson,baseType:l.d.SlackTypesUserId,icon:"user"},[u.c.SelectChannel]:{questionType:u.c.SelectChannel,baseType:l.d.SlackTypesChannelId,icon:"channel"},[u.c.Dropdown]:{questionType:u.c.Dropdown,baseType:"string",icon:"caret-dropdown"},[u.c.StaticMultiSelect]:{questionType:u.c.StaticMultiSelect,baseType:"array",icon:"caret-dropdown"},[u.c.StaticMultiSelectWithCheckboxes]:{questionType:u.c.StaticMultiSelectWithCheckboxes,baseType:"array",icon:"checkbox"},[u.c.UserMultiSelect]:{questionType:u.c.UserMultiSelect,baseType:"array",icon:"user-groups"},[u.c.ChannelMultiSelect]:{questionType:u.c.ChannelMultiSelect,baseType:"array",icon:"channel"},[u.c.File]:{questionType:u.c.File,baseType:"array",icon:"file"}},y=o(se=>E[se]||{},"getQuestionTypeDef"),C=o((se,re)=>{const oe=Object(b.f)(se);switch(se){case u.c.Text:return{subtype:""};case u.c.Textarea:return{subtype:""};case u.c.ShortText:return{};case u.c.LongText:return{long:!0};case u.c.Dropdown:{const ce=re||[Object(b.c)()],ue=ce.length>oe?ce.slice(0,oe):ce;return{data_source:u.b.Static,placeholder:"",value:"",options:ue,selectedOptionId:"",enum:Object(b.e)(ue),choices:Object(b.d)(ue),default:void 0}}case u.c.SelectStatic:return{data_source:u.b.Static,placeholder:"",value:"",options:[Object(b.c)()],selectedOptionId:""};case u.c.StaticMultiSelect:{const ce=re||[Object(b.c)()],ue=ce.length>oe?ce.slice(0,oe):ce;return{items:{type:"string",enum:Object(b.e)(ue)},options:ue,maxItems:ue.length,default:void 0}}case u.c.StaticMultiSelectWithCheckboxes:{const ce=re||[Object(b.c)()],ue=ce.length>oe?ce.slice(0,oe):ce;return{items:{type:"string",enum:Object(b.e)(ue)},options:ue,default:void 0,display_type:"checkboxes"}}case u.c.SelectPerson:return{data_source:u.b.Users,default:""};case u.c.SelectUser:return{data_source:u.b.Users,value:""};case u.c.SelectChannel:return{data_source:u.b.Conversations,default:""};case u.c.SelectConversation:return{data_source:u.b.Conversations,value:""};case u.c.UserMultiSelect:return{items:{type:d}};case u.c.ChannelMultiSelect:return{items:{type:m}};case u.c.File:return{items:{type:g,allowed_filetypes_group:u.a.ALL},maxItems:v.a};default:return{}}},"getQuestionTypeSpecificConfig"),I=o(se=>{let{questionType:re=u.c.Text,label:oe="",optional:ce=!1,name:ue,description:Pe="",previousOptions:Ye=[],title:$e=""}=se;const{baseType:Ke}=y(re),qe=C(re,Ye),ct=$e||oe;return{name:ue||Object(i.a)(),type:Ke,description:Pe,questionType:re,label:ct,optional:ce,...qe,title:ct}},"createQuestion"),j=o(se=>{let{derivedData:re,member:oe,teamId:ce}=se;return{id:Object(i.a)(),type:f.DIALOG,config:{delivery_message_text:O.t("Hello! To get started, please fill out this form."),delivery_button_label:O.t("Open Form"),dialog_elements:[I({})],dialog_title:"",dialog_submit_label:"",results_user:{value:Object(h.m)(oe)}},derived:Object(n.a)(re),teamId:ce}},"createDialogStep"),M=o((se,re)=>({...se,config:{...se.config,...re}}),"updateStepConfig"),T=o((se,re)=>M(re,{dialog_elements:se}),"setQuestions"),D=o(se=>Object(t.a)(se,"config.dialog_elements.length",0),"getNumberOfQuestions"),S=o(se=>Object(t.a)(se,"config.dialog_elements",[]),"getQuestions"),A=o((se,re)=>{const oe=re.findIndex(ce=>ce.name===se);return oe>-1?oe:null},"getQuestionIndex"),P=o(function(se){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return{up:se>0,down:se<re-1}},"checkIfItemIsMovable"),N=o(se=>se.length===1&&se[0].label===""?se[0].name:"","getInitialOpenQuestionName"),G=o((se,re)=>M(se,{dialog_title:re}),"setDialogTitle"),V=o(se=>Object(t.a)(se,"config.dialog_title",""),"getDialogTitle"),k=o((se,re,oe)=>{const ce=S(re),ue=A(se,ce);if(ue!==null){const Pe=ce[ue],Ye=oe(Pe),$e=Object(c.a)(ue,Ye,ce);return T($e,re)}return re},"updateSegmentSetQuestion"),x=o(se=>Object(t.a)(se,"config.delivery_button_label",""),"getMessageButtonLabel"),H=o(se=>Object(t.a)(se,"config.delivery_message_text",""),"getMessageText"),R=o(se=>Object(t.a)(se,"config.delivery_dialog_blocks",[]),"getMessageBlocks"),W=o(se=>Object(t.a)(se,"config.channel.ref"),"getDynamicFormChannel"),U=o(se=>Object(t.a)(se,"config.user.ref"),"getDynamicFormUser"),_=o(se=>Object(t.a)(se,"config.thread.ref"),"getDynamicFormThread"),B=o(se=>{const re=W(se);if(re)return re;const oe=_(se);if(oe)return oe;const ce=U(se);return ce||null},"getDynamicForm"),z=o(se=>Object(t.a)(se,"config.channel.value"),"getStaticFormChannel"),L=o(se=>Object(t.a)(se,"config.user.value"),"getStaticFormUser"),$=o(se=>Object(t.a)(se,"config.thread.value"),"getStaticFormThread"),Q=o(se=>{const re=z(se);if(re)return re;const oe=$(se);if(oe)return oe;const ce=L(se);return ce||null},"getStaticForm"),K=o((se,re)=>{let{id:oe,type:ce,isDynamic:ue}=re;const Pe={[ue?"ref":"value"]:oe};return M(se,{channel:ce===p.c?Pe:void 0,thread:ce===p.g?Pe:void 0,user:ce===p.i?Pe:void 0})},"setFormDestination"),Z=o(se=>{const re=B(se);if(re)return re;const oe=Q(se);return oe||null},"getFormDestination"),ne=o(se=>{const re=Object(t.a)(se,"config.results_channel.ref");if(re)return re;const oe=Object(t.a)(se,"config.results_thread.ref");if(oe)return oe;const ce=Object(t.a)(se,"config.results_user.ref");return ce||null},"getDynamicSubmission"),F=o(se=>{const re=Object(t.a)(se,"config.results_channel.value");if(re)return re;const oe=Object(t.a)(se,"config.results_thread.value");if(oe)return oe;const ce=Object(t.a)(se,"config.results_user.value");return ce||null},"getStaticSubmission"),J=o(se=>{const re=ne(se);if(re)return re;const oe=F(se);return oe||null},"getSubmissionDestination"),X=o(se=>M(se,{results_channel:void 0,results_thread:void 0,results_user:void 0}),"clearSubmissionDestination"),Y=o((se,re)=>{let{id:oe,type:ce,isDynamic:ue}=re;const Pe={[ue?"ref":"value"]:oe};return M(se,{results_channel:ce===p.c?Pe:void 0,results_thread:ce===p.g?Pe:void 0,results_user:ce===p.i?Pe:void 0})},"setSubmissionDestination"),ae=o(se=>Object(t.a)(se,"derived.available_interacation_pointer",!1),"getAvailableInteractionPointer"),ee=o((se,re)=>({...se,config:{...se.config,delivery_button_label:re}}),"setMessageButtonLabel"),q=o((se,re)=>({...se,config:{...se.config,delivery_message_text:re}}),"setMessageText"),te=o((se,re)=>({...se,config:{...se.config,delivery_dialog_blocks:re}}),"setMessageBlocks"),de=o(function(se){let{preferBlocks:re=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const oe=R(se),ce=H(se),ue=x(se);return re&&!Object(a.a)(oe)?Object(n.a)(oe):[{type:"section",text:{type:"mrkdwn",text:ce}},{type:"actions",elements:[{type:"button",text:{type:"plain_text",text:ue||O.t("Open Form"),emoji:!1},value:""}]}]},"getMessagePreviewBlocks")},pCgU:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n);const a=t.a.createContext(null);function i(c){const r=Object(n.useContext)(a),[f,l]=Object(n.useState)();return Object(n.useEffect)(()=>{if(c)return r==null?void 0:r.subscribeToUrl(c,l)},[r,c]),r?f:c}o(i,"useBlobUrl")},pDlT:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("hTH3"),t=e.n(n);const a={"&Aacute;":"\xC1","&Aacute":"\xC1","&aacute;":"\xE1","&aacute":"\xE1","&Abreve;":"\u0102","&abreve;":"\u0103","&ac;":"\u223E","&acd;":"\u223F","&acE;":"\u223E\u0333","&Acirc;":"\xC2","&Acirc":"\xC2","&acirc;":"\xE2","&acirc":"\xE2","&acute;":"\xB4","&acute":"\xB4","&Acy;":"\u0410","&acy;":"\u0430","&AElig;":"\xC6","&AElig":"\xC6","&aelig;":"\xE6","&aelig":"\xE6","&af;":"\u2061","&Afr;":"\u{1D504}","&afr;":"\u{1D51E}","&Agrave;":"\xC0","&Agrave":"\xC0","&agrave;":"\xE0","&agrave":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&Alpha;":"\u0391","&alpha;":"\u03B1","&Amacr;":"\u0100","&amacr;":"\u0101","&amalg;":"\u2A3F","&AMP;":"&","&AMP":"&","&amp;":"&","&amp":"&","&And;":"\u2A53","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&Aogon;":"\u0104","&aogon;":"\u0105","&Aopf;":"\u{1D538}","&aopf;":"\u{1D552}","&ap;":"\u2248","&apacir;":"\u2A6F","&apE;":"\u2A70","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&ApplyFunction;":"\u2061","&approx;":"\u2248","&approxeq;":"\u224A","&Aring;":"\xC5","&Aring":"\xC5","&aring;":"\xE5","&aring":"\xE5","&Ascr;":"\u{1D49C}","&ascr;":"\u{1D4B6}","&Assign;":"\u2254","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&Atilde;":"\xC3","&Atilde":"\xC3","&atilde;":"\xE3","&atilde":"\xE3","&Auml;":"\xC4","&Auml":"\xC4","&auml;":"\xE4","&auml":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&Backslash;":"\u2216","&Barv;":"\u2AE7","&barvee;":"\u22BD","&Barwed;":"\u2306","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&Bcy;":"\u0411","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&Because;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&Bernoullis;":"\u212C","&Beta;":"\u0392","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&Bfr;":"\u{1D505}","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bNot;":"\u2AED","&bnot;":"\u2310","&Bopf;":"\u{1D539}","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxbox;":"\u29C9","&boxDL;":"\u2557","&boxDl;":"\u2556","&boxdL;":"\u2555","&boxdl;":"\u2510","&boxDR;":"\u2554","&boxDr;":"\u2553","&boxdR;":"\u2552","&boxdr;":"\u250C","&boxH;":"\u2550","&boxh;":"\u2500","&boxHD;":"\u2566","&boxHd;":"\u2564","&boxhD;":"\u2565","&boxhd;":"\u252C","&boxHU;":"\u2569","&boxHu;":"\u2567","&boxhU;":"\u2568","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxUL;":"\u255D","&boxUl;":"\u255C","&boxuL;":"\u255B","&boxul;":"\u2518","&boxUR;":"\u255A","&boxUr;":"\u2559","&boxuR;":"\u2558","&boxur;":"\u2514","&boxV;":"\u2551","&boxv;":"\u2502","&boxVH;":"\u256C","&boxVh;":"\u256B","&boxvH;":"\u256A","&boxvh;":"\u253C","&boxVL;":"\u2563","&boxVl;":"\u2562","&boxvL;":"\u2561","&boxvl;":"\u2524","&boxVR;":"\u2560","&boxVr;":"\u255F","&boxvR;":"\u255E","&boxvr;":"\u251C","&bprime;":"\u2035","&Breve;":"\u02D8","&breve;":"\u02D8","&brvbar;":"\xA6","&brvbar":"\xA6","&Bscr;":"\u212C","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&Bumpeq;":"\u224E","&bumpeq;":"\u224F","&Cacute;":"\u0106","&cacute;":"\u0107","&Cap;":"\u22D2","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&CapitalDifferentialD;":"\u2145","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&Cayleys;":"\u212D","&ccaps;":"\u2A4D","&Ccaron;":"\u010C","&ccaron;":"\u010D","&Ccedil;":"\xC7","&Ccedil":"\xC7","&ccedil;":"\xE7","&ccedil":"\xE7","&Ccirc;":"\u0108","&ccirc;":"\u0109","&Cconint;":"\u2230","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&Cdot;":"\u010A","&cdot;":"\u010B","&cedil;":"\xB8","&cedil":"\xB8","&Cedilla;":"\xB8","&cemptyv;":"\u29B2","&cent;":"\xA2","&cent":"\xA2","&CenterDot;":"\xB7","&centerdot;":"\xB7","&Cfr;":"\u212D","&cfr;":"\u{1D520}","&CHcy;":"\u0427","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&Chi;":"\u03A7","&chi;":"\u03C7","&cir;":"\u25CB","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&CircleDot;":"\u2299","&circledR;":"\xAE","&circledS;":"\u24C8","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&cirE;":"\u29C3","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&clubs;":"\u2663","&clubsuit;":"\u2663","&Colon;":"\u2237","&colon;":":","&Colone;":"\u2A74","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&Congruent;":"\u2261","&Conint;":"\u222F","&conint;":"\u222E","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&copf;":"\u{1D554}","&coprod;":"\u2210","&Coproduct;":"\u2210","&COPY;":"\xA9","&COPY":"\xA9","&copy;":"\xA9","&copy":"\xA9","&copysr;":"\u2117","&CounterClockwiseContourIntegral;":"\u2233","&crarr;":"\u21B5","&Cross;":"\u2A2F","&cross;":"\u2717","&Cscr;":"\u{1D49E}","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&Cup;":"\u22D3","&cup;":"\u222A","&cupbrcap;":"\u2A48","&CupCap;":"\u224D","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren;":"\xA4","&curren":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&Dagger;":"\u2021","&dagger;":"\u2020","&daleth;":"\u2138","&Darr;":"\u21A1","&dArr;":"\u21D3","&darr;":"\u2193","&dash;":"\u2010","&Dashv;":"\u2AE4","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&Dcaron;":"\u010E","&dcaron;":"\u010F","&Dcy;":"\u0414","&dcy;":"\u0434","&DD;":"\u2145","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&DDotrahd;":"\u2911","&ddotseq;":"\u2A77","&deg;":"\xB0","&deg":"\xB0","&Del;":"\u2207","&Delta;":"\u0394","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&Dfr;":"\u{1D507}","&dfr;":"\u{1D521}","&dHar;":"\u2965","&dharl;":"\u21C3","&dharr;":"\u21C2","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&diam;":"\u22C4","&Diamond;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&DifferentialD;":"\u2146","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide;":"\xF7","&divide":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&DJcy;":"\u0402","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&Dopf;":"\u{1D53B}","&dopf;":"\u{1D555}","&Dot;":"\xA8","&dot;":"\u02D9","&DotDot;":"\u20DC","&doteq;":"\u2250","&doteqdot;":"\u2251","&DotEqual;":"\u2250","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&Downarrow;":"\u21D3","&downarrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&Dscr;":"\u{1D49F}","&dscr;":"\u{1D4B9}","&DScy;":"\u0405","&dscy;":"\u0455","&dsol;":"\u29F6","&Dstrok;":"\u0110","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&DZcy;":"\u040F","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&Eacute;":"\xC9","&Eacute":"\xC9","&eacute;":"\xE9","&eacute":"\xE9","&easter;":"\u2A6E","&Ecaron;":"\u011A","&ecaron;":"\u011B","&ecir;":"\u2256","&Ecirc;":"\xCA","&Ecirc":"\xCA","&ecirc;":"\xEA","&ecirc":"\xEA","&ecolon;":"\u2255","&Ecy;":"\u042D","&ecy;":"\u044D","&eDDot;":"\u2A77","&Edot;":"\u0116","&eDot;":"\u2251","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&Efr;":"\u{1D508}","&efr;":"\u{1D522}","&eg;":"\u2A9A","&Egrave;":"\xC8","&Egrave":"\xC8","&egrave;":"\xE8","&egrave":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&Element;":"\u2208","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&Emacr;":"\u0112","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&EmptySmallSquare;":"\u25FB","&emptyv;":"\u2205","&EmptyVerySmallSquare;":"\u25AB","&emsp;":"\u2003","&emsp13;":"\u2004","&emsp14;":"\u2005","&ENG;":"\u014A","&eng;":"\u014B","&ensp;":"\u2002","&Eogon;":"\u0118","&eogon;":"\u0119","&Eopf;":"\u{1D53C}","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&Epsilon;":"\u0395","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&Equal;":"\u2A75","&equals;":"=","&EqualTilde;":"\u2242","&equest;":"\u225F","&Equilibrium;":"\u21CC","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erarr;":"\u2971","&erDot;":"\u2253","&Escr;":"\u2130","&escr;":"\u212F","&esdot;":"\u2250","&Esim;":"\u2A73","&esim;":"\u2242","&Eta;":"\u0397","&eta;":"\u03B7","&ETH;":"\xD0","&ETH":"\xD0","&eth;":"\xF0","&eth":"\xF0","&Euml;":"\xCB","&Euml":"\xCB","&euml;":"\xEB","&euml":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&Exists;":"\u2203","&expectation;":"\u2130","&ExponentialE;":"\u2147","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&Fcy;":"\u0424","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&Ffr;":"\u{1D509}","&ffr;":"\u{1D523}","&filig;":"\uFB01","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&Fopf;":"\u{1D53D}","&fopf;":"\u{1D557}","&ForAll;":"\u2200","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&Fouriertrf;":"\u2131","&fpartint;":"\u2A0D","&frac12;":"\xBD","&frac12":"\xBD","&frac13;":"\u2153","&frac14;":"\xBC","&frac14":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34;":"\xBE","&frac34":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&Fscr;":"\u2131","&fscr;":"\u{1D4BB}","&gacute;":"\u01F5","&Gamma;":"\u0393","&gamma;":"\u03B3","&Gammad;":"\u03DC","&gammad;":"\u03DD","&gap;":"\u2A86","&Gbreve;":"\u011E","&gbreve;":"\u011F","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&gcirc;":"\u011D","&Gcy;":"\u0413","&gcy;":"\u0433","&Gdot;":"\u0120","&gdot;":"\u0121","&gE;":"\u2267","&ge;":"\u2265","&gEl;":"\u2A8C","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&Gfr;":"\u{1D50A}","&gfr;":"\u{1D524}","&Gg;":"\u22D9","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&GJcy;":"\u0403","&gjcy;":"\u0453","&gl;":"\u2277","&gla;":"\u2AA5","&glE;":"\u2A92","&glj;":"\u2AA4","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gnE;":"\u2269","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&Gopf;":"\u{1D53E}","&gopf;":"\u{1D558}","&grave;":"`","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&GT;":">","&GT":">","&Gt;":"\u226B","&gt;":">","&gt":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&Hacek;":"\u02C7","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&HARDcy;":"\u042A","&hardcy;":"\u044A","&hArr;":"\u21D4","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&Hat;":"^","&hbar;":"\u210F","&Hcirc;":"\u0124","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&Hfr;":"\u210C","&hfr;":"\u{1D525}","&HilbertSpace;":"\u210B","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&Hopf;":"\u210D","&hopf;":"\u{1D559}","&horbar;":"\u2015","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&Hstrok;":"\u0126","&hstrok;":"\u0127","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&hybull;":"\u2043","&hyphen;":"\u2010","&Iacute;":"\xCD","&Iacute":"\xCD","&iacute;":"\xED","&iacute":"\xED","&ic;":"\u2063","&Icirc;":"\xCE","&Icirc":"\xCE","&icirc;":"\xEE","&icirc":"\xEE","&Icy;":"\u0418","&icy;":"\u0438","&Idot;":"\u0130","&IEcy;":"\u0415","&iecy;":"\u0435","&iexcl;":"\xA1","&iexcl":"\xA1","&iff;":"\u21D4","&Ifr;":"\u2111","&ifr;":"\u{1D526}","&Igrave;":"\xCC","&Igrave":"\xCC","&igrave;":"\xEC","&igrave":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&IJlig;":"\u0132","&ijlig;":"\u0133","&Im;":"\u2111","&Imacr;":"\u012A","&imacr;":"\u012B","&image;":"\u2111","&ImaginaryI;":"\u2148","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&Implies;":"\u21D2","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&Int;":"\u222C","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&Integral;":"\u222B","&intercal;":"\u22BA","&Intersection;":"\u22C2","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&IOcy;":"\u0401","&iocy;":"\u0451","&Iogon;":"\u012E","&iogon;":"\u012F","&Iopf;":"\u{1D540}","&iopf;":"\u{1D55A}","&Iota;":"\u0399","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest;":"\xBF","&iquest":"\xBF","&Iscr;":"\u2110","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isindot;":"\u22F5","&isinE;":"\u22F9","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&Itilde;":"\u0128","&itilde;":"\u0129","&Iukcy;":"\u0406","&iukcy;":"\u0456","&Iuml;":"\xCF","&Iuml":"\xCF","&iuml;":"\xEF","&iuml":"\xEF","&Jcirc;":"\u0134","&jcirc;":"\u0135","&Jcy;":"\u0419","&jcy;":"\u0439","&Jfr;":"\u{1D50D}","&jfr;":"\u{1D527}","&jmath;":"\u0237","&Jopf;":"\u{1D541}","&jopf;":"\u{1D55B}","&Jscr;":"\u{1D4A5}","&jscr;":"\u{1D4BF}","&Jsercy;":"\u0408","&jsercy;":"\u0458","&Jukcy;":"\u0404","&jukcy;":"\u0454","&Kappa;":"\u039A","&kappa;":"\u03BA","&kappav;":"\u03F0","&Kcedil;":"\u0136","&kcedil;":"\u0137","&Kcy;":"\u041A","&kcy;":"\u043A","&Kfr;":"\u{1D50E}","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&KHcy;":"\u0425","&khcy;":"\u0445","&KJcy;":"\u040C","&kjcy;":"\u045C","&Kopf;":"\u{1D542}","&kopf;":"\u{1D55C}","&Kscr;":"\u{1D4A6}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&Lacute;":"\u0139","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&Lambda;":"\u039B","&lambda;":"\u03BB","&Lang;":"\u27EA","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&Laplacetrf;":"\u2112","&laquo;":"\xAB","&laquo":"\xAB","&Larr;":"\u219E","&lArr;":"\u21D0","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&lAtail;":"\u291B","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lBarr;":"\u290E","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&Lcaron;":"\u013D","&lcaron;":"\u013E","&Lcedil;":"\u013B","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&Lcy;":"\u041B","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&lE;":"\u2266","&le;":"\u2264","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&Leftarrow;":"\u21D0","&leftarrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&leftarrowtail;":"\u21A2","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&LeftRightArrow;":"\u2194","&Leftrightarrow;":"\u21D4","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&leftthreetimes;":"\u22CB","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&lEg;":"\u2A8B","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&lessgtr;":"\u2276","&LessLess;":"\u2AA1","&lesssim;":"\u2272","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&Lfr;":"\u{1D50F}","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lHar;":"\u2962","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&LJcy;":"\u0409","&ljcy;":"\u0459","&Ll;":"\u22D8","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&Lleftarrow;":"\u21DA","&llhard;":"\u296B","&lltri;":"\u25FA","&Lmidot;":"\u013F","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lnE;":"\u2268","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&LongLeftArrow;":"\u27F5","&Longleftarrow;":"\u27F8","&longleftarrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&Longleftrightarrow;":"\u27FA","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&LongRightArrow;":"\u27F6","&Longrightarrow;":"\u27F9","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&Lopf;":"\u{1D543}","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&Lscr;":"\u2112","&lscr;":"\u{1D4C1}","&Lsh;":"\u21B0","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&Lstrok;":"\u0141","&lstrok;":"\u0142","&LT;":"<","&LT":"<","&Lt;":"\u226A","&lt;":"<","&lt":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&ltrPar;":"\u2996","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&macr;":"\xAF","&macr":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&Map;":"\u2905","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&Mcy;":"\u041C","&mcy;":"\u043C","&mdash;":"\u2014","&mDDot;":"\u223A","&measuredangle;":"\u2221","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro;":"\xB5","&micro":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot;":"\xB7","&middot":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&MinusPlus;":"\u2213","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&Mopf;":"\u{1D544}","&mopf;":"\u{1D55E}","&mp;":"\u2213","&Mscr;":"\u2133","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&Mu;":"\u039C","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nabla;":"\u2207","&Nacute;":"\u0143","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp;":"\xA0","&nbsp":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&Ncaron;":"\u0147","&ncaron;":"\u0148","&Ncedil;":"\u0145","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&Ncy;":"\u041D","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&nearhk;":"\u2924","&neArr;":"\u21D7","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&nexist;":"\u2204","&nexists;":"\u2204","&Nfr;":"\u{1D511}","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&nGg;":"\u22D9\u0338","&ngsim;":"\u2275","&nGt;":"\u226B\u20D2","&ngt;":"\u226F","&ngtr;":"\u226F","&nGtv;":"\u226B\u0338","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&NJcy;":"\u040A","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlarr;":"\u219A","&nldr;":"\u2025","&nlE;":"\u2266\u0338","&nle;":"\u2270","&nLeftarrow;":"\u21CD","&nleftarrow;":"\u219A","&nLeftrightarrow;":"\u21CE","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nLl;":"\u22D8\u0338","&nlsim;":"\u2274","&nLt;":"\u226A\u20D2","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nLtv;":"\u226A\u0338","&nmid;":"\u2224","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&nopf;":"\u{1D55F}","&Not;":"\u2AEC","&not;":"\xAC","&not":"\xAC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&notin;":"\u2209","&notindot;":"\u22F5\u0338","&notinE;":"\u22F9\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nRightarrow;":"\u21CF","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&Nscr;":"\u{1D4A9}","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&Ntilde;":"\xD1","&Ntilde":"\xD1","&ntilde;":"\xF1","&ntilde":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&Nu;":"\u039D","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvap;":"\u224D\u20D2","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nvDash;":"\u22AD","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvHarr;":"\u2904","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwarhk;":"\u2923","&nwArr;":"\u21D6","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&Oacute;":"\xD3","&Oacute":"\xD3","&oacute;":"\xF3","&oacute":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&Ocirc;":"\xD4","&Ocirc":"\xD4","&ocirc;":"\xF4","&ocirc":"\xF4","&Ocy;":"\u041E","&ocy;":"\u043E","&odash;":"\u229D","&Odblac;":"\u0150","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&OElig;":"\u0152","&oelig;":"\u0153","&ofcir;":"\u29BF","&Ofr;":"\u{1D512}","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&Ograve;":"\xD2","&Ograve":"\xD2","&ograve;":"\xF2","&ograve":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&Omacr;":"\u014C","&omacr;":"\u014D","&Omega;":"\u03A9","&omega;":"\u03C9","&Omicron;":"\u039F","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&Oopf;":"\u{1D546}","&oopf;":"\u{1D560}","&opar;":"\u29B7","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&operp;":"\u29B9","&oplus;":"\u2295","&Or;":"\u2A54","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf;":"\xAA","&ordf":"\xAA","&ordm;":"\xBA","&ordm":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oS;":"\u24C8","&Oscr;":"\u{1D4AA}","&oscr;":"\u2134","&Oslash;":"\xD8","&Oslash":"\xD8","&oslash;":"\xF8","&oslash":"\xF8","&osol;":"\u2298","&Otilde;":"\xD5","&Otilde":"\xD5","&otilde;":"\xF5","&otilde":"\xF5","&Otimes;":"\u2A37","&otimes;":"\u2297","&otimesas;":"\u2A36","&Ouml;":"\xD6","&Ouml":"\xD6","&ouml;":"\xF6","&ouml":"\xF6","&ovbar;":"\u233D","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&par;":"\u2225","&para;":"\xB6","&para":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&PartialD;":"\u2202","&Pcy;":"\u041F","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&Pfr;":"\u{1D513}","&pfr;":"\u{1D52D}","&Phi;":"\u03A6","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&Pi;":"\u03A0","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&PlusMinus;":"\xB1","&plusmn;":"\xB1","&plusmn":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&Poincareplane;":"\u210C","&pointint;":"\u2A15","&Popf;":"\u2119","&popf;":"\u{1D561}","&pound;":"\xA3","&pound":"\xA3","&Pr;":"\u2ABB","&pr;":"\u227A","&prap;":"\u2AB7","&prcue;":"\u227C","&prE;":"\u2AB3","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&Prime;":"\u2033","&prime;":"\u2032","&primes;":"\u2119","&prnap;":"\u2AB9","&prnE;":"\u2AB5","&prnsim;":"\u22E8","&prod;":"\u220F","&Product;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&Proportion;":"\u2237","&Proportional;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&Pscr;":"\u{1D4AB}","&pscr;":"\u{1D4C5}","&Psi;":"\u03A8","&psi;":"\u03C8","&puncsp;":"\u2008","&Qfr;":"\u{1D514}","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&Qopf;":"\u211A","&qopf;":"\u{1D562}","&qprime;":"\u2057","&Qscr;":"\u{1D4AC}","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&QUOT;":'"',"&QUOT":'"',"&quot;":'"',"&quot":'"',"&rAarr;":"\u21DB","&race;":"\u223D\u0331","&Racute;":"\u0154","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&Rang;":"\u27EB","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo;":"\xBB","&raquo":"\xBB","&Rarr;":"\u21A0","&rArr;":"\u21D2","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&Rarrtl;":"\u2916","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&rAtail;":"\u291C","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&RBarr;":"\u2910","&rBarr;":"\u290F","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&Rcaron;":"\u0158","&rcaron;":"\u0159","&Rcedil;":"\u0156","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&Rcy;":"\u0420","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&Re;":"\u211C","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&REG;":"\xAE","&REG":"\xAE","&reg;":"\xAE","&reg":"\xAE","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&rfisht;":"\u297D","&rfloor;":"\u230B","&Rfr;":"\u211C","&rfr;":"\u{1D52F}","&rHar;":"\u2964","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&Rho;":"\u03A1","&rho;":"\u03C1","&rhov;":"\u03F1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&Rightarrow;":"\u21D2","&rightarrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&rightarrowtail;":"\u21A3","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&rightthreetimes;":"\u22CC","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&Ropf;":"\u211D","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&RoundImplies;":"\u2970","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&Rrightarrow;":"\u21DB","&rsaquo;":"\u203A","&Rscr;":"\u211B","&rscr;":"\u{1D4C7}","&Rsh;":"\u21B1","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&RuleDelayed;":"\u29F4","&ruluhar;":"\u2968","&rx;":"\u211E","&Sacute;":"\u015A","&sacute;":"\u015B","&sbquo;":"\u201A","&Sc;":"\u2ABC","&sc;":"\u227B","&scap;":"\u2AB8","&Scaron;":"\u0160","&scaron;":"\u0161","&sccue;":"\u227D","&scE;":"\u2AB4","&sce;":"\u2AB0","&Scedil;":"\u015E","&scedil;":"\u015F","&Scirc;":"\u015C","&scirc;":"\u015D","&scnap;":"\u2ABA","&scnE;":"\u2AB6","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&Scy;":"\u0421","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&searhk;":"\u2925","&seArr;":"\u21D8","&searr;":"\u2198","&searrow;":"\u2198","&sect;":"\xA7","&sect":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&Sfr;":"\u{1D516}","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&SHCHcy;":"\u0429","&shchcy;":"\u0449","&SHcy;":"\u0428","&shcy;":"\u0448","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&shortmid;":"\u2223","&shortparallel;":"\u2225","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&shy;":"\xAD","&shy":"\xAD","&Sigma;":"\u03A3","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&SmallCircle;":"\u2218","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&SOFTcy;":"\u042C","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&Sopf;":"\u{1D54A}","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&Sqrt;":"\u221A","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&Square;":"\u25A1","&square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&Sscr;":"\u{1D4AE}","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&Star;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&Sub;":"\u22D0","&sub;":"\u2282","&subdot;":"\u2ABD","&subE;":"\u2AC5","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&Subset;":"\u22D0","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&SubsetEqual;":"\u2286","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&sum;":"\u2211","&sung;":"\u266A","&Sup;":"\u22D1","&sup;":"\u2283","&sup1;":"\xB9","&sup1":"\xB9","&sup2;":"\xB2","&sup2":"\xB2","&sup3;":"\xB3","&sup3":"\xB3","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supE;":"\u2AC6","&supe;":"\u2287","&supedot;":"\u2AC4","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&Supset;":"\u22D1","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swarhk;":"\u2926","&swArr;":"\u21D9","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig;":"\xDF","&szlig":"\xDF","&Tab;":"	","&target;":"\u2316","&Tau;":"\u03A4","&tau;":"\u03C4","&tbrk;":"\u23B4","&Tcaron;":"\u0164","&tcaron;":"\u0165","&Tcedil;":"\u0162","&tcedil;":"\u0163","&Tcy;":"\u0422","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&Tfr;":"\u{1D517}","&tfr;":"\u{1D531}","&there4;":"\u2234","&Therefore;":"\u2234","&therefore;":"\u2234","&Theta;":"\u0398","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&ThickSpace;":"\u205F\u200A","&thinsp;":"\u2009","&ThinSpace;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&THORN;":"\xDE","&THORN":"\xDE","&thorn;":"\xFE","&thorn":"\xFE","&Tilde;":"\u223C","&tilde;":"\u02DC","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&times;":"\xD7","&times":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&Topf;":"\u{1D54B}","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&TRADE;":"\u2122","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&TripleDot;":"\u20DB","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&Tscr;":"\u{1D4AF}","&tscr;":"\u{1D4C9}","&TScy;":"\u0426","&tscy;":"\u0446","&TSHcy;":"\u040B","&tshcy;":"\u045B","&Tstrok;":"\u0166","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&Uacute;":"\xDA","&Uacute":"\xDA","&uacute;":"\xFA","&uacute":"\xFA","&Uarr;":"\u219F","&uArr;":"\u21D1","&uarr;":"\u2191","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&ubrcy;":"\u045E","&Ubreve;":"\u016C","&ubreve;":"\u016D","&Ucirc;":"\xDB","&Ucirc":"\xDB","&ucirc;":"\xFB","&ucirc":"\xFB","&Ucy;":"\u0423","&ucy;":"\u0443","&udarr;":"\u21C5","&Udblac;":"\u0170","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&Ufr;":"\u{1D518}","&ufr;":"\u{1D532}","&Ugrave;":"\xD9","&Ugrave":"\xD9","&ugrave;":"\xF9","&ugrave":"\xF9","&uHar;":"\u2963","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&Umacr;":"\u016A","&umacr;":"\u016B","&uml;":"\xA8","&uml":"\xA8","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&uogon;":"\u0173","&Uopf;":"\u{1D54C}","&uopf;":"\u{1D566}","&UpArrow;":"\u2191","&Uparrow;":"\u21D1","&uparrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&Updownarrow;":"\u21D5","&updownarrow;":"\u2195","&UpEquilibrium;":"\u296E","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&upsi;":"\u03C5","&upsih;":"\u03D2","&Upsilon;":"\u03A5","&upsilon;":"\u03C5","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&Uring;":"\u016E","&uring;":"\u016F","&urtri;":"\u25F9","&Uscr;":"\u{1D4B0}","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&Utilde;":"\u0168","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&Uuml;":"\xDC","&Uuml":"\xDC","&uuml;":"\xFC","&uuml":"\xFC","&uwangle;":"\u29A7","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&vArr;":"\u21D5","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&Vbar;":"\u2AEB","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&Vcy;":"\u0412","&vcy;":"\u0432","&VDash;":"\u22AB","&Vdash;":"\u22A9","&vDash;":"\u22A8","&vdash;":"\u22A2","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&Verbar;":"\u2016","&verbar;":"|","&Vert;":"\u2016","&vert;":"|","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&Vopf;":"\u{1D54D}","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&Vscr;":"\u{1D4B1}","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&Vvdash;":"\u22AA","&vzigzag;":"\u299A","&Wcirc;":"\u0174","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&Wedge;":"\u22C0","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&Wfr;":"\u{1D51A}","&wfr;":"\u{1D534}","&Wopf;":"\u{1D54E}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&Wscr;":"\u{1D4B2}","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&Xfr;":"\u{1D51B}","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&Xi;":"\u039E","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&Xopf;":"\u{1D54F}","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&Xscr;":"\u{1D4B3}","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&Yacute;":"\xDD","&Yacute":"\xDD","&yacute;":"\xFD","&yacute":"\xFD","&YAcy;":"\u042F","&yacy;":"\u044F","&Ycirc;":"\u0176","&ycirc;":"\u0177","&Ycy;":"\u042B","&ycy;":"\u044B","&yen;":"\xA5","&yen":"\xA5","&Yfr;":"\u{1D51C}","&yfr;":"\u{1D536}","&YIcy;":"\u0407","&yicy;":"\u0457","&Yopf;":"\u{1D550}","&yopf;":"\u{1D56A}","&Yscr;":"\u{1D4B4}","&yscr;":"\u{1D4CE}","&YUcy;":"\u042E","&yucy;":"\u044E","&Yuml;":"\u0178","&yuml;":"\xFF","&yuml":"\xFF","&Zacute;":"\u0179","&zacute;":"\u017A","&Zcaron;":"\u017D","&zcaron;":"\u017E","&Zcy;":"\u0417","&zcy;":"\u0437","&Zdot;":"\u017B","&zdot;":"\u017C","&zeetrf;":"\u2128","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&zeta;":"\u03B6","&Zfr;":"\u2128","&zfr;":"\u{1D537}","&ZHcy;":"\u0416","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&Zopf;":"\u2124","&zopf;":"\u{1D56B}","&Zscr;":"\u{1D4B5}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"};function i(c){return c&&c.replace(/&#?[a-z0-9]+;/gi,r=>{if(a[r])return a[r];if(r.match(/^&#x[0-9a-f]+;$/i)){const f=r.substring(3,r.length-1),l=parseInt(f,16);return String.fromCodePoint(l)}if(r.match(/^&#[0-9]+;$/)){const f=r.substring(2,r.length-1),l=parseInt(f,10);return String.fromCodePoint(l)}return r})}o(i,"unescapeEntities")},pJGC:function(w,s,e){"use strict";var n=e("OZf9"),t=e("SQ0V"),a=e("Kn+X"),i=e("Sczb"),c=e("hRxb"),r=e("qH0c");const f=Object(t.c)("Sync unfurl state from server to redux",(l,p,h)=>{let{draft:u,filePermissions:b}=h;if(!u)return;const v=Object(a.e)(u)||"";if(!v)return;const d=p(),m=Object(a.n)(u)||[],O=(Object(i.h)(d,{ops:m})||[]).map(E=>Object(c.a)(d,E,!0)).filter(E=>!!E);Object(n.a)(b,E=>{const y=E.file_id,C=O.includes(y);l(C?Object(r.c)({fileId:y,draftId:v,grant:E.grant}):Object(r.b)({draftId:v,fileId:y}))})});f.meta={name:"createThunk",key:"createThunksyncDraftFilePermissionsState",description:"Sync unfurl state from server to redux"},s.a=f},pTwU:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("DQNL"),t=e("2oNE");function a(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object(t.a)(i.id,Object(n.g)(i),c)}o(a,"makeSlackmentionForUsergroup")},paOu:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("HI9p"),t=e("3ftV"),a=e("WXix"),i=e("mdQV"),c=e("m5Yc"),r=e("puGG"),f=e("PglX");const{_EMOJI_GROUP:l}=c.b;function p(u,b,v,d,m,g,O){const E=u.slice(g,O),y=g+Object(n.a)(E,a.a),C=g+Object(t.a)(E,a.a)+1;u.splice(y,C-y,{type:l,name:b,size:v,displayAlias:d,skinTone:m,elements:u.slice(y,C)})}o(p,"insertEmojiGroup");function h(u){let b,v,d,m,g,O=u.length-1;for(;O>=-1;){const y=u[O];if(d=d??O,v=v??0,Object(a.a)(y))y.name===b&&y.displayAlias===m&&y.skinTone===g?v+=1:(v>=r.c&&p(u,b,v,m,g,O+1,d+1),b=y.name,m=y.displayAlias,g=y.skinTone,d=O,v=1);else if(!Object(i.a)(y)||Object(f.a)(y)!==0){var E;v>=r.c&&p(u,b,v,m,g,O+1,d+1),b=void 0,m=void 0,g=void 0,d=void 0,v=void 0,!((E=y)===null||E===void 0)&&E.elements&&h(y.elements)}O-=1}return u}o(h,"groupEmojis")},pbND:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("q1tI"),t=e.n(n),a=e("KYPV"),i=e("BHdc"),c=e("MYuU"),r=e("4r5K");function f(){const[v,d]=Object(n.useReducer)(l,[]),m=Object(n.useCallback)(O=>{d({type:"addHint",hintId:O})},[d]),g=Object(n.useCallback)(O=>{d({type:"removeHint",hintId:O})},[d]);return{hints:v,addHint:m,removeHint:g}}o(f,"useHints");function l(v,d){switch(d.type){case"addHint":return[...v,d.hintId];case"removeHint":return v.filter(m=>m!==d.hintId);default:return v}}o(l,"hintsReducer");var p=e("Z4OJ");const h=t.a.createContext({name:""});function u(v){let{children:d,name:m,className:g,labelId:O,validate:E,validateAsync:y,focusOnMount:C=!1}=v;const I=Object(r.a)(m),[j]=Object(a.d)({name:m,...y||E?{validate:y||E}:{}}),{hints:M,addHint:T,removeHint:D}=f(),S=Object(n.useMemo)(()=>({name:m,addHint:T,removeHint:D}),[T,m,D]),[A,P]=Object(n.useState)(!1);Object(n.useEffect)(()=>{C&&!A&&P(!A)},[A,C]);const N=Object(c.e)([O]),G=Object(c.e)([M,I.map(k=>k.id)]),V=Object(i.default)({"c-input_text--with_hint":M.length||I.length},g);return t.a.createElement(h.Provider,{value:S},d({field:{...j,ariaLabelledby:N,isInvalid:I.length>0,ariaDescribedby:G,className:V,focusOnMount:C&&!A},fieldErrors:I,hintProps:{addHint:T,removeHint:D}}))}o(u,"BaseField"),u.displayName="BaseField";var b=s.b=u},peVv:function(w,s,e){"use strict";e.d(s,"b",function(){return v}),e.d(s,"a",function(){return d});var n=e("q1tI"),t=e.n(n),a=e("XXd4"),i=e("Yauy"),c=e("y/Pn"),r=e("Wn1n"),f=e("E3dU"),l=e("JoR1"),p=e("T1zM"),h=e("3l96"),u=e("zg12"),b=e("SQ0V");const v=Object(b.c)("maybeShowDay1CreatorWelcomeModal",(m,g)=>{const O=g(),E=d(O);E&&Object(l.t)(O,"should_show_shared_channels_day1_creator_welcome_modal")&&Object(c.a)(E)&&Object(a.a)(O,E)&&(m(Object(h.a)({element:t.a.createElement(u.a,{sharedChannelConnected:!0,channelId:Object(i.i)(E)})})),m(Object(p.f)({pref:"should_show_shared_channels_day1_creator_welcome_modal",value:!1})))});v.meta={name:"createThunk",key:"createThunkmaybeShowDay1CreatorWelcomeModal",description:"maybeShowDay1CreatorWelcomeModal"};function d(m){const g=Object(r.a)(m);return Object(f.d)(m,g)}o(d,"getActiveChannel")},pfyn:function(w,s,e){"use strict";e.d(s,"a",function(){return ne});var n=e("ifKl"),t=e("NZ+B"),a=e("0VPD"),i=e("fujP"),c=e("qAkX"),r=e("OtLZ"),f=e("Bw5p"),l=e("m8R6"),p=e("HA5h"),h=e("yIs4"),u=e("mM05"),b=e.n(u),v=e("lhZz"),d=e("RbOw"),m=e("5IZy"),g=e("kBpe"),O=e("Z44y"),E=e("veLH"),y=e("TQ9f"),C=e("kBas");function I(F){if(!F)return!1;const J=F.getSelection();return J?J.index+J.length===F.getLength()-1:!1}o(I,"isSelectionAtEnd");var j=e("aVxC"),M=e("BBys"),T=e("xAZW"),D=e("dZlw"),S=e("0LZ2"),A=e("ktUG"),P=e("khnw"),N=e("pu3F"),G=e("mSgU");const V=N.E-1,k={bindings:{},onEnter:n.a,onEscape:n.a,onTab:n.a,featureReactMessages:!0,shouldInsertNewline:n.a},x=o(()=>({home:{key:P.g,handler(){this.quill.setSelection(0,0)}},shiftHome:{key:P.g,shiftKey:!0,handler(F){this.quill.setSelection(0,F.index+F.length)}},end:{key:P.d,handler(){this.quill.setSelection(this.quill.getLength(),0)}},shiftEnd:{key:P.d,shiftKey:!0,handler(F){this.quill.setSelection(F.index,this.quill.getLength()-F.index)}}}),"getMacSpecificBindings"),H=o(F=>{let{texty:J,range:X,context:Y,onBackspaceExternal:ae}=F;if(!J.isEnabled()||J.getModules().some(q=>q.onBackspace?q.onBackspace({range:X,context:Y}):!1))return!1;if(ae){const q=ae();return Object(t.a)(q)?q:!0}return!0},"onBackspace"),R=o(F=>{let{modifiers:J={},range:X,context:Y,onEnterExternal:ae,quill:ee,texty:q,singleLineInput:te,shouldInsertNewline:de=n.a,useWysiwyg:se}=F;if(!q.isEnabled()||q.getModules().some(Pe=>Pe.onEnter?Pe.onEnter(J,{range:X,context:Y,shouldInsertNewline:de}):!1))return!1;if(!te&&de(J)||ae(J)){var oe,ce;let Pe=[];if(se&&Y){var ue;if(Pe=Object(a.a)(Object.keys(Y.format||{}),["bold","italic","underline","strike","code"]),Y&&!Object(i.a)(Y.format)&&Y.format.header&&Y.offset===0)return ee.setSelection(X.index,"silent"),ee.insertText(X.index,`
`,"user"),ee.setSelection(X.index+1,"silent"),ee.removeFormat(X.index),!1;if(Y&&!Object(i.a)(Y.format)&&Y.format.header&&Y.offset!==0&&!J.shiftKey&&setTimeout(()=>{const $e=ee.getSelection();ee.removeFormat($e.index)},0),Y&&!Object(i.a)(Y.format)&&Y.format.slackhorizontalrule)return ee.insertText(X.index+1,`
`,"user"),ee.setSelection(X.index+1,"silent"),!1;if(Y.collapsed&&Y.format&&Y.format["code-block"]&&(!Y.suffix.length||Y.suffix.match(/^\s+$/))){const $e=X.index>1?ee.getContents(X.index-2,2):null,Ke=$e&&$e.ops&&$e.ops.length===1&&$e.ops[0];if(Ke&&Ke.insert===`

`&&Ke.attributes&&Ke.attributes["code-block"])return ee.insertText(X.index,`
`),ee.setSelection(X.index+1,0),ee.removeFormat(X.index+1,0),ee.deleteText(X.index-2,2,"user"),!1}if(!(Y==null||(ue=Y.format)===null||ue===void 0)&&ue["code-block"]&&setTimeout(()=>{const $e=ee.getFormat(X.index-1,1),Ke=ee.getFormat(X.index,1);(!($e!=null&&$e.border)||Ke!=null&&Ke.border)&&ee.formatLine(X.index-1,1,"border",$e.border||Ke.border)},0),Object(O.a)()&&Y&&Y.collapsed&&Y.format&&Y.format.list){const $e=Object(c.a)(ee.getContents().ops);return $e&&$e.attributes&&$e.attributes.list&&ee.insertText(ee.getLength(),`
`,"silent"),!0}if(!Object(O.a)()&&Y.format.list&&!Y.prefix.length&&!Y.suffix.length&&Y.empty)return ee.formatLine(X.index,1,{list:!1,indent:0},"silent"),!1;if(Y&&Y.collapsed&&Y.format&&Y.format.blockquote&&!Y.prefix.length&&!Y.suffix.length){const $e=X.index>1?ee.getContents(X.index-2,2):null,Ke=$e&&$e.ops&&$e.ops.length===1&&$e.ops[0];if(Ke&&Ke.insert===`

`&&Ke.attributes&&Ke.attributes.blockquote)return ee.insertText(X.index,`
`),ee.setSelection(X.index+1,0),ee.removeFormat(X.index+1,0),ee.deleteText(X.index-2,2,"user"),!1}Y&&Y.format&&Y.format.code&&Y.prefix.length&&Y.suffix.length&&(Pe=Object(r.a)(Pe,"code"),setTimeout(()=>(ee.formatText(X.index,X.index+Y.suffix.length,{code:!1},"silent"),!0),0))}const Ye=Object(f.a)(Y.format||{},["code-block","blockquote","list"]);!(Y==null||(oe=Y.format)===null||oe===void 0)&&oe.indent&&(Ye.indent=Y.format.indent),!(Y==null||(ce=Y.format)===null||ce===void 0)&&ce.border&&(Ye.border=Y.format.border),q.insertContentsAtCursor({contents:new b.a().insert(`
`,Ye).ops}),se&&Pe.length&&Pe.forEach($e=>{ee.format($e,!0)}),ee.selection.scrollIntoView(ee.scrollingContainer),Object(E.a)(ee.scrollingContainer)&&I(ee)&&(ee.scrollingContainer.scrollTop=Number.MAX_SAFE_INTEGER)}return!1},"onEnter"),W=o(F=>{let{onEscapeExternal:J,quill:X,texty:Y,useWysiwyg:ae,range:ee,context:q}=F;return Y.getModules().some(de=>de.onEscape?de.onEscape():!1)?!1:ae&&(q.empty&&q.collapsed&&q.format.blockquote||q.collapsed&&q.format["code-block"]&&(q.empty||q.prefix.length&&q.prefix.substr(-1)===`
`))?(X.removeFormat(ee),!1):J?!J():!0},"onEscape"),U=o(F=>{let{modifiers:J={},onTabExternal:X,texty:Y,context:ae}=F;return Y.getModules().some(q=>q.onTab?q.onTab(J):!1)?!1:X?X({modifiers:J,texty:Y,context:ae}):!0},"onTab");function _(){let{quill:F,range:J,context:X}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Y=new b.a;let ae=null;!X.collapsed&&J.index>0&&(Y.retain(J.index),ae=F.getContents(J.index-1,1));const ee=X.collapsed?F.getContents():F.getContents(J.index,J.length),q=Object(M.a)(ee);let te=J.length;X.collapsed||(te=ee.compose(q).length()),F.updateContents(Y.concat(q));const de=X.collapsed?F.getContents():F.getContents(J.index,te),se=Object(j.a)(de,ae);F.updateContents(Y.concat(se))}o(_,"convertMarkdown");const B=o(()=>({bold:{key:"B",shortKey:!0,handler(F){return this.applyFormattingFromShortcut("bold",F)}},italic:{key:"I",shortKey:!0,handler(F){return this.applyFormattingFromShortcut("italic",F)}},strike:{key:"x",shiftKey:!0,shortKey:!0,handler(F){return this.applyFormattingFromShortcut("strike",F)}},code:{key:"c",shiftKey:!0,shortKey:!0,handler(F){return this.applyFormattingFromShortcut("code",F)}},link:{key:"u",shiftKey:!0,shortKey:!0,handler(){return this.options.showLinkForm&&this.options.showLinkForm({source:A.MsgFormattingInputSource.KEYBOARD}),!1}},"bullet-list":{key:56,shiftKey:!0,shortKey:!0,handler(F){return this.applyFormattingFromShortcut("bullet-list",F)}},"ordered-list":{key:55,shiftKey:!0,shortKey:!0,handler(F){return this.applyFormattingFromShortcut("ordered-list",F)}},blockquote:{key:57,shiftKey:!0,shortKey:!0,handler(F){return this.applyFormattingFromShortcut("blockquote",F)}},"blockquote-alt":{key:190,shiftKey:!0,shortKey:!0,handler(F){return this.applyFormattingFromShortcut("blockquote",F)}},"code-block":{key:"c",shortKey:!0,shiftKey:!0,altKey:!0,handler(F){return this.applyFormattingFromShortcut("code-block",F)}}}),"getFormattingBindings"),z=o(()=>({"block code down arrow":{key:P.c,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code-block"],handler(F,J){if(!J.suffix.length||J.suffix===`
`){const X=this.quill.getLength()-1;J.prefix.length&&F.index===X&&this.quill.insertText(F.index+1,`
`,"user")}return!0}},"up arrow out of code block":{key:P.r,format:{"code-block":!0},collapsed:!0,handler(F,J){const[X]=this.quill.getLine(F.index-1);return X&&!X.prev&&X.parent&&X.parent.statics&&X.parent.statics.blotName&&X.parent.statics.blotName==="scroll"&&J.prefix.length===0&&F.index===0&&setTimeout(()=>(this.quill.insertText(0,` 
`,{"code-block":!1},"silent"),this.quill.setSelection(0,0,"silent"),!1),0),!0}},"inline code right arrow":{key:P.o,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler(F,J){return this.quill.getText(F.index,1)===`
`&&J.prefix.length&&!J.suffix.length?(this.quill.insertText(F.index," ","user"),this.quill.formatText(F.index,1,"code",!1,"silent"),this.quill.setSelection(F.index+1,0,"silent"),!1):!0}},"delete on empty line to merge with code block":{key:P.b,empty:!0,handler(F){return setTimeout(()=>{const J=this.quill.getFormat(F.index,0),X=this.quill.getFormat(F.index-1,0);!(J!=null&&J.border)&&(X==null?void 0:X.border)>0&&this.quill.formatLine(F.index,0,"border","1"),(J==null?void 0:J.border)>0&&!(X!=null&&X.border)&&this.quill.formatLine(F.index-1,0,"border","1")},0),!0}},"delete line after code block from within code block":{key:P.b,format:{"code-block":!0},handler(F){const J=this.quill.getText(F.index,1)===`
`,X=this.quill.getFormat(F.index,0);return J&&(X!=null&&X["code-block"])&&(this.quill.formatLine(F.index+1,0,"code-block",!0),X!=null&&X.border&&this.quill.formatLine(F.index+1,0,"border","1"),setTimeout(()=>{const Y=this.quill.getFormat(F.index,0),ae=this.quill.getFormat(F.index+1,0);!(Y!=null&&Y.border)&&(ae==null?void 0:ae.border)>0&&this.quill.formatLine(F.index,0,"border","1"),(Y==null?void 0:Y.border)>0&&!(ae!=null&&ae.border)&&this.quill.formatLine(F.index+1,0,"border","1")},0)),!0}},"backspace merging code blocks from empty line":{key:P.a,empty:!0,format:{"code-block":!1,blockquote:!1},handler(F){return setTimeout(()=>{const J=this.quill.getFormat(F.index-1,0),X=this.quill.getFormat(F.index,0);!(J!=null&&J.border)&&(X==null?void 0:X.border)>0&&this.quill.formatLine(F.index-1,0,"border","1"),(J==null?void 0:J.border)>0&&!(X!=null&&X.border)&&this.quill.formatLine(F.index,0,"border","1")},0),!0}},"backspace merging code blocks from within code block":{key:P.a,offset:0,format:{"code-block":!0},handler(F){return setTimeout(()=>{const J=this.quill.getFormat(F.index-1,0),X=this.quill.getFormat(F.index-2,0);J!=null&&J.border&&!(X!=null&&X.border)>0&&this.quill.formatLine(F.index-2,0,"border","1"),!(J!=null&&J.border)&&(X==null?void 0:X.border)>0&&this.quill.formatLine(F.index-1,0,"border","1")},0),!0}},"sanitize code block border information after undo":{key:"Z",shortKey:!0,format:{"code-block":!0,border:"1"},handler(){const F=this.quill.getSelection();return setTimeout(()=>{const J=this.quill.getContents();this.quill.setContents(J),this.quill.setSelection(F.index,0)},0),!0}},"sanitize quoted list border information after undo":{key:"Z",shortKey:!0,format:{list:!0,border:"1"},handler(F,J){return setTimeout(()=>{var X;!(J==null||(X=J.format)===null||X===void 0)&&X.border&&this.quill.formatLine(F.index,F.length,{border:"0"})},0),!0}},"sanitize quoted blockquote border information after undo":{key:"Z",shortKey:!0,format:{blockquote:!0,border:"1"},handler(F,J){return this.quill.formatLine(F.index,F.length,{border:"0"}),J.empty?(this.quill.insertText(F.index,"> "),this.quill.setSelection(F.index+2,0)):(this.quill.insertText(0,"> "),this.quill.setSelection(F.index+2,0)),!1}},"backspace empty code block with border":{key:P.a,collapsed:!0,empty:!0,offset:0,format:{"code-block":!0,border:!0},handler(){return this.quill.format("border","0","user"),!0}},"backspace empty code block":{key:P.a,collapsed:!0,empty:!0,offset:0,format:{"code-block":!0,border:!1},handler(){return this.quill.format("code-block",!1,"user"),!0}},"backspace empty blockquote":{key:P.a,collapsed:!0,empty:!0,offset:0,format:["blockquote"],handler(F,J){var X;return(J==null||(X=J.format)===null||X===void 0?void 0:X.border)>=1?(this.quill.format("border","0","user"),!1):(this.quill.format("blockquote",!1,"user"),!1)}},"backspace non-empty single line blockquote":{key:P.a,collapsed:!0,empty:!1,offset:0,format:["blockquote"],handler(F,J){var X;const Y=(J==null||(X=J.format)===null||X===void 0?void 0:X.border)>=1,ae=J==null?void 0:J.suffix,ee=this.quill.getFormat(F.index-1,0),q=this.quill.getFormat(F.index+ae.length+1,0),te=ee.blockquote||q.blockquote,de=!q.blockquote&&F.index===0;return Y&&(!te||de)?(this.quill.format("border","0","silent"),!1):!Y&&(!te||de)?(this.quill.format("blockquote",!1,"silent"),!1):(ae&&te&&this.quill.deleteText(F.index-1,1),!1)}},"convert markdown":!Object(O.a)()&&{key:"f",shortKey:!0,shiftKey:!0,handler(F,J){_({quill:this.quill,range:F,context:J})}}}),"getWysiwygBindings"),L=o(F=>{let{Quill:J,localWindow:X}=F;return{"inline code spacebar":{key:P.p,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler(Y,ae){const ee=Object(l.a)(ae.format,["code"]);return ae.prefix.length&&!ae.suffix.length?(this.quill.setSelection(Y.index,"silent"),this.quill.insertText(Y.index," ","user"),this.quill.setSelection(Y.index,1,"silent"),this.quill.removeFormat(Y.index,1,"silent"),Object(i.a)(ee)||this.quill.formatLine(Y.index,Y.length,ee),this.quill.setSelection(Y.index+1,0,"silent"),!1):!0}},"delete image":{key:P.b,handler(Y){const ae=this.quill.getFormat(Y.index+1,1),ee=this.quill.getFormat(Y.index,1);return ae&&ae.imageSrc&&ae.isPrivate!=="true"?(setTimeout(()=>{const q=X.document.querySelector(`docsblockembed[data-image-src="${ae.imageSrc}"]`),te=J.find(q);return Object(d.b)(te),this.quill.setSelection(Y.index+1,0),ee&&ee.imageSrc&&ee.isPrivate!=="true"&&ee.isSelected==="true"?(this.quill.deleteText(Y.index,1),!0):!1},0),!1):!0}},"backspace image":{key:P.a,handler(Y){const ae=this.quill.getFormat(Y.index-1,1),ee=this.quill.getFormat(Y.index,1);return ae&&ae.imageSrc&&ae.isPrivate!=="true"?(setTimeout(()=>{const q=X.document.querySelector(`docsblockembed[data-image-src="${ae.imageSrc}"]`),te=J.find(q);return Object(d.b)(te),this.quill.setSelection(Y.index-1,0),ee&&ee.imageSrc&&ee.isPrivate!=="true"&&ee.isSelected==="true"?(this.quill.deleteText(Y.index,1),!0):!1},0),!1):(ee&&ee.imageSrc&&ee.isPrivate!=="true"&&ee.isSelected==="true"&&this.quill.deleteText(Y.index,1),!0)}},"undo block format immediately":{key:"Z",metaKey:!0,collapsed:!0,empty:!0,offset:0,handler(Y,ae){return ae.format&&ae.format["code-block"]?(this.quill.formatLine(Y.index,Y.length,{"code-block":!1}),this.quill.insertText(Y.index,"``` "),this.quill.setSelection(Y.index+4,0),!1):!0}}}},"getDocsWysiwygBindings");function $(F){let{teamId:J,isIndent:X,indentLevel:Y}=F;const ae=X?A.MsgFormattingInputFormat.INDENT:A.MsgFormattingInputFormat.DEDENT;Object(m.a)(Object(v.getStoreInstanceByTeamId)(J)).track(A.EventId.MSG_FORMATTING_ADDED,{input_context:Object(O.a)()?A.MsgFormattingInputContext.POST:A.MsgFormattingInputContext.MESSAGE,input_source:A.MsgFormattingInputSource.KEYBOARD,input_format:ae,indent_level:Y,is_selection:!1})}o($,"clogListIndentFormatting");function Q(F){let{teamId:J,Quill:X}=F;return{indent:{key:P.q,format:["indent","list"],handler(Y,ae){var ee;if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","+1",X.sources.USER);const te=((ae==null||(ee=ae.format)===null||ee===void 0?void 0:ee.indent)||0)+1;return te<=V&&$({teamId:J,isIndent:!0,indentLevel:te}),!1}},outdent:{key:P.q,shiftKey:!0,format:["indent","list"],handler(Y,ae){var ee;if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","-1",X.sources.USER);const q=ae==null||(ee=ae.format)===null||ee===void 0?void 0:ee.indent;if(q>0){const te=q-1;$({teamId:J,isIndent:!1,indentLevel:te})}return!1}},"outdent backspace":{key:P.a,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(Y,ae){var ee;ae.format.indent!=null?this.quill.format("indent","-1",X.sources.USER):ae.format.list!=null&&this.quill.format("list",!1,X.sources.USER);const q=ae==null||(ee=ae.format)===null||ee===void 0?void 0:ee.indent;if(q>0){const te=q-1;$({teamId:J,isIndent:!1,indentLevel:te})}}}}}o(Q,"getNestedListsBindings");const K=o((F,J)=>{let{texty:X,singleLineInput:Y,onEnterExternal:ae,onBackspaceExternal:ee,onTabExternal:q,inlineEmojiIsEnabled:te,useWysiwyg:de,usePlainTextMode:se,shouldInsertNewline:re,teamId:oe,localWindow:ce,Quill:ue}=J;const Pe=Object(g.p)()?"metaKey":"ctrlKey",Ye={...Q({teamId:oe,Quill:ue}),underline:{key:"u",shortKey:!0,handler:$e=>{var Ke;if(!(X==null||(Ke=X.options)===null||Ke===void 0)&&Ke.onPlusMenuShortcut)return X.options.onPlusMenuShortcut(),!1;if(F.options.formats.indexOf("underline")===-1)return!0;const qe=F.getModule("keyboard");return qe&&qe.applyFormattingFromShortcut("underline",$e),!0}},backspace:{key:P.a,handler:($e,Ke)=>H({texty:X,range:$e,context:Ke,onBackspaceExternal:ee})},enter:{key:P.e,context:{empty:!1},handler:($e,Ke)=>R({range:$e,context:Ke,onEnterExternal:ae,quill:F,texty:X,singleLineInput:Y,shouldInsertNewline:re,useWysiwyg:de})},shiftEnter:{key:P.e,shiftKey:!0,context:{empty:!1},handler:($e,Ke)=>R({modifiers:{shiftKey:!0},range:$e,context:Ke,onEnterExternal:ae,quill:F,texty:X,singleLineInput:Y,shouldInsertNewline:re,useWysiwyg:de})},metaEnter:{key:P.e,shiftKey:!1,shortKey:!0,handler:($e,Ke)=>R({modifiers:{[Pe]:!0},range:$e,context:Ke,onEnterExternal:ae,quill:F,texty:X,singleLineInput:Y,shouldInsertNewline:re,useWysiwyg:de})},metaShiftEnter:{key:P.e,shiftKey:!0,shortKey:!0,handler:($e,Ke)=>R({modifiers:{[Pe]:!0,shiftKey:!0},range:$e,context:Ke,onEnterExternal:ae,quill:F,texty:X,singleLineInput:Y,shouldInsertNewline:re,useWysiwyg:de})},optionEnter:{key:P.e,altKey:!0,handler:($e,Ke)=>R({modifiers:{altKey:!0},range:$e,context:Ke,onEnterExternal:ae,quill:F,texty:X,singleLineInput:Y,shouldInsertNewline:re,useWysiwyg:de})},ctrlEnter:{key:P.e,ctrlKey:!0,handler:($e,Ke)=>R({modifiers:{ctrlKey:!0},range:$e,context:Ke,onEnterExternal:ae,quill:F,texty:X,singleLineInput:Y,shouldInsertNewline:re,useWysiwyg:de})},tab:{key:P.q,handler:($e,Ke)=>U({onTabExternal:q,texty:X,context:Ke})},shiftTab:{key:P.q,shiftKey:!0,handler:($e,Ke)=>U({modifiers:{shiftKey:!0},onTabExternal:q,texty:X,context:Ke})},"indent code-block":{key:P.q,shiftKey:!1,format:{"code-block":!0},handler:()=>!0},"outdent code-block":{key:P.q,shiftKey:!0,format:{"code-block":!0},handler:()=>!0},"code exit":{key:P.e,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:o(function(){return!0},"handler")},"list autofill":de&&!se&&{key:" ",collapsed:!0,format:{list:!1,code:!1,"code-block":!1},ctrlKey:null,shiftKey:null,altKey:null,prefix:/^\s*?(1(\.|\))|-|\*|\u2022|\[ ?\]|\[x\])$/,handler($e,Ke){if(Ke.prefix&&Ke.prefix.startsWith("[")&&!this.quill.options.modules.slackdocslist)return!0;const qe=Ke.prefix.length,Be=this.quill.getLine($e.index)[1],pe=this.quill.getFormat();if(Be>qe)return!0;let fe,me;switch(Ke.prefix.trim()){case"[]":case"[ ]":fe="unchecked",me=A.MsgFormattingInputFormat.CHECK_LIST;break;case"[x]":fe="checked",me=A.MsgFormattingInputFormat.CHECK_LIST;break;case"-":case"*":case"\u2022":fe="bullet",me=A.MsgFormattingInputFormat.BULLET_LIST;break;default:fe="ordered",me=A.MsgFormattingInputFormat.ORDERED_LIST}const Se=Object(D.a)(this.quill,$e),je=pe!=null&&pe.blockquote?"1":"0";return Object(C.a)(this.quill,{format:{list:fe,border:je},range:$e,replacementLength:qe,charToInsert:" "}),Object(m.a)(Object(v.getStoreInstanceByTeamId)(oe)).track(A.EventId.MSG_FORMATTING_ADDED,{input_context:Object(O.a)()?A.MsgFormattingInputContext.POST:A.MsgFormattingInputContext.MESSAGE,input_source:A.MsgFormattingInputSource.MARKDOWN,input_format:me,is_selection:!1,input_prexisting_block_formats:Se}),!1}},"opt/ctrl shift left arrow":{key:P.k,shiftKey:!0,altKey:Object(g.p)(),ctrlKey:!Object(g.p)(),collapsed:!0,handler:o(function(Ke){if(!te||!te()||!Ke||Ke.index<1)return!0;const qe=this.quill.getContents(Ke.index-1,1),ct=qe&&qe.ops&&qe.ops[0];return Object(y.a)(ct)?(this.quill.setSelection(Ke.index-1,1),!1):!0},"handler")},"opt/ctrl shift right arrow":{key:P.o,shiftKey:!0,altKey:Object(g.p)(),ctrlKey:!Object(g.p)(),collapsed:!0,handler:o(function(Ke){if(!te||!te())return!0;const qe=this.quill.getLength();if(!Ke||Ke.index>=qe-1)return!0;const ct=this.quill.getContents(Ke.index,1),Be=ct&&ct.ops&&ct.ops[0];return Object(y.a)(Be)?(this.quill.setSelection(Ke.index,1),!1):!0},"handler")},"ctrl underline":{key:"U",ctrlKey:!0,handler(){return Object(g.h)()&&ce.document.execCommand("underline",!1,null),!0}}};return de&&!se&&(Object(p.a)(Ye,z()),Object(p.a)(Ye,B()),Object(O.a)()&&Object(p.a)(Ye,L({Quill:ue,localWindow:ce}))),Object(g.p)()?Object(p.a)(Ye,x()):Ye},"getEarlyBindings"),Z=o((F,J)=>{let{onCmdLeftWhenEmpty:X,onCmdRightWhenEmpty:Y,onCmdKWhenSelected:ae,onCmdZWhenEmpty:ee,onDownArrowWhenEmpty:q,onEscapeExternal:te,onUpArrow:de,onUpArrowCmd:se,onUpArrowShift:re,onDownArrow:oe,onDownArrowCmd:ce,onDownArrowShift:ue,onRightArrow:Pe,onLeftArrow:Ye,onSelectAll:$e,onPageUp:Ke,onPageDown:qe,texty:ct,useWysiwyg:Be}=J;const pe=[{key:P.f,handler:(fe,me)=>W({onEscapeExternal:te,quill:F,texty:ct,useWysiwyg:Be,range:fe,context:me})}];return de&&pe.push({key:P.r,format:{"code-block":!1},handler(){return de()}}),oe&&pe.push({key:P.c,handler(){return oe()}}),Pe&&pe.push({key:P.o,handler(){const fe=Pe();return Object(t.a)(fe)?fe:!0}}),Ye&&pe.push({key:P.k,handler(){const fe=Ye();return Object(t.a)(fe)?fe:!0}}),se&&pe.push({key:P.r,shortKey:!0,handler(){return se(),!0}}),ce&&pe.push({key:P.c,shortKey:!0,handler(){return ce(),!0}}),re&&pe.push({key:P.r,shiftKey:!0,handler(){return re(),!0}}),ue&&pe.push({key:P.c,shiftKey:!0,handler(){return ue(),!0}}),q&&pe.push({key:P.c,handler(){return F.getLength()===1&&q(),!0}}),X&&pe.push({key:P.k,shortKey:!0,handler(){return F.getLength()===1&&X(),!0}}),Y&&pe.push({key:P.o,shortKey:!0,handler(){return F.getLength()===1&&Y(),!0}}),ee&&pe.push({key:"Z",shortKey:!0,handler(){return F.getLength()===1?!ee():!0}}),ae&&pe.push({key:"K",shortKey:!0,handler(){return F.getSelection().length&&ae(),!0}}),$e&&pe.push({key:"A",shortKey:!0,handler(){const fe=$e();return Object(t.a)(fe)?fe:!0}}),Ke&&pe.push({key:P.n,handler(){const fe=Ke();return Object(t.a)(fe)?fe:!0}}),qe&&pe.push({key:P.m,handler(){const fe=qe();return Object(t.a)(fe)?fe:!0}}),pe},"getLateBindings");function ne(F){const J=Object(S.a)(F),X=F||window,Y=J.import("modules/keyboard");return o(class extends Y{applyFormattingFromShortcut(q,te){const de=Object(D.a)(this.quill,te),{didHandle:se,addedFormatting:re,hadSelection:oe}=Object(T.a)(this.quill,{format:q,index:te.index,length:te.length});return se&&Object(h.a)(G.a[q])&&Object(m.a)(Object(v.getStoreInstanceByTeamId)(this.options.teamId)).track(re?A.EventId.MSG_FORMATTING_ADDED:A.EventId.MSG_FORMATTING_REMOVED,{input_context:Object(O.a)()?A.MsgFormattingInputContext.POST:A.MsgFormattingInputContext.MESSAGE,input_source:A.MsgFormattingInputSource.KEYBOARD,input_format:G.a[q],is_selection:oe,input_prexisting_block_formats:de}),!1}onKeydown(q){(q.keyCode===P.g||q.keyCode===P.d)&&this.quill.getLength()>1?q.stopPropagation():this.onLeftArrow&&q.keyCode===P.k&&this.quill.getLength()===1&&this.onLeftArrow()}unload(){this.quill.root.removeEventListener("keydown",this.onKeydown)}constructor(q,te){let de=te;de=Object(p.a)({},{localWindow:X,Quill:J,...k},de);const se=K(q,de);de.bindings=Object(p.a)({},de.bindings,se),super(q,de),this.onKeydown=this.onKeydown.bind(this),q.root.addEventListener("keydown",this.onKeydown),Z(q,de).forEach(oe=>this.addBinding(oe)),te.onLeftArrow&&(this.onLeftArrow=te.onLeftArrow)}},"SlackKeyboard")}o(ne,"getSlackKeyboardModule")},plVP:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("RVJP");const t=o(a=>Object(n.d)(a,"express_templates_i18n")==="on","isExpressTemplatesI18nEnabled")},pmGC:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("Lgge"),t=e("5TXe"),a=e("O86Y"),i=e("aVws"),c=e("s4P+"),r=e("2mvv"),f=e("vfQU");function l(p){const h=Object(i.c)(p),u=Object(a.g)(h);return window.desktop&&window.desktop.app&&window.desktop.app.uploadAppLogFiles?Object(f.Oc)({destination:"mc",token:Object(r.b)(h)}):Object(f.A)().then(b=>{const v=b&&b.length>0?b[0]:null;if(!v)return n.a.resolve();const d=v instanceof File?v:new File(v.buffer,v.name,v.options),m=Object(r.b)(h);return m?t.b.fetch({method:"profiling.addLogging",args:{token:m,platform:"ssb",log_file:d},teamId:u}):n.a.resolve()}).catch(b=>{Object(c.a)({teamId:u}).error(`Unable to upload app logs: ${b}`)})}o(l,"sendLogsForTeamId")},"pt+W":function(w,s,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the slide editor in client (noop)");t.meta={name:"createAction",key:"createActionopenSlidesEditorDialogCircular",description:"Triggers a side-effect that opens the slide editor in client (noop)"},s.a=t},q3X1:function(w,s,e){"use strict";e.d(s,"c",function(){return r}),e.d(s,"a",function(){return f}),e.d(s,"b",function(){return l});var n=e("NFsq"),t=e("4TP3"),a=e("s4P+");const i="DRAFTS",c=[],r=o(h=>Object(n.a)(c,h),"shouldIgnoreDraftUpdateEvent");function f(h){if(!h||Object(n.a)(c,h))return;const{debug:u}=Object(a.b)({label:i});u(`Adding an id to the draft update event manager: ${h}`),c.push(h)}o(f,"addServerIdToUpdateEventManager");function l(h){if(!h||!Object(n.a)(c,h))return;const{debug:u}=Object(a.b)({label:i});u(`Removing an id from the draft update event manager: ${h}`),Object(t.a)(c,h)}o(l,"removeServerIdFromUpdateEventManager");const p={getTrackedIds:()=>c}},q3qm:function(w,s,e){"use strict";e.d(s,"a",function(){return h}),e.d(s,"b",function(){return m});var n=e("Lgge"),t=e("SQ0V"),a=e("WF6P"),i=e("j5nr"),c=e("cBJ3"),r=e("beVI"),f=e("G0eX"),l=e("O86Y"),p=e("gNhz"),h;(function(g){g.None="none",g.Viewer="viewer",g.Editor="editor"})(h||(h={}));const u=Object(t.c)("Sets a permission level for workspace link share",(g,O,E)=>{let{payload:y}=E;const C={...y};return C.reason="enable_cross_org_link_share",g(Object(a.a)(C))});u.meta={name:"createThunk",key:"createThunksetWorkspaceLinkSharingPermission",description:"Sets a permission level for workspace link share"};const b=Object(t.c)("Sets a permission level for workspace link share and updates file",(g,O,E)=>{let{payload:y}=E;return g(u({payload:y})).then(()=>g(Object(c.o)({fileId:y.fileId,orgOrWorkspaceAccess:y.accessLevel})))});b.meta={name:"createThunk",key:"createThunksetWorkspaceLinkSharingPermissionAndUpdatesFile",description:"Sets a permission level for workspace link share and updates file"};const v=Object(t.c)("Removes a workspace or org level link share",(g,O,E)=>{let{payload:y}=E;const C={...y};return C.reason="disable_cross_org_link_share",g(Object(i.a)(C))});v.meta={name:"createThunk",key:"createThunkremoveWorkspaceLinkSharingPermission",description:"Removes a workspace or org level link share"};const d=Object(t.c)("Removes a workspace or org level link share and updates file",(g,O,E)=>{let{payload:y}=E;return g(v({payload:y})).then(()=>g(Object(c.o)({fileId:y.fileId,orgOrWorkspaceAccess:"none"})))});d.meta={name:"createThunk",key:"createThunkremoveWorkspaceLinkSharingPermissionAndUpdatesFile",description:"Removes a workspace or org level link share and updates file"};const m=Object(t.c)("Calls the appropriate workspace link sharing thunk depending on the provided input.",(g,O,E)=>{let{fileId:y,orgSharingSetting:C}=E;const I=O(),j=Object(r.g)(I),M=Object(l.i)(I),T=Object(f.z)(j)?"org":"workspace",D=M;return C===h.None?g(d({payload:{fileId:y,entityType:T,entityId:D}})).catch(S=>n.a.reject(S)):C===h.Viewer||C===h.Editor?g(b({payload:{fileId:y,entityType:T,entityId:D,accessLevel:C===h.Viewer?p.a.Read:p.a.Write}})).catch(S=>n.a.reject(S)):n.a.reject(new Error("Invalid org sharing setting"))});m.meta={name:"createThunk",key:"createThunkhandleWorkspaceLinkSharingPermissionAndUpdatesFile",description:"Calls the appropriate workspace link sharing thunk depending on the provided input."}},q7Oo:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("nNoG");const c=new i.b("stories_av");function r(l){let{secondsRemaining:p,className:h}=l;const u=Object(a.default)("p-video_recorder_countdown",h);return t.a.createElement("div",{className:u},c.rt("Recording begins in {seconds}\u2026",{seconds:p}))}o(r,"VideoRecorderCountdown"),r.displayName="VideoRecorderCountdown";var f=s.a=r},qBqz:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return i});var n=e("JoR1");const t="who_can_share_contact_card",a={EVERYONE:"EVERYONE",TEAM_MEMBERS:"TEAM_MEMBERS",NO_ONE:"NO_ONE"},i=o(c=>Object(n.t)(c,t),"getWhoCanShareContactCardPref")},qCdX:function(w,s,e){"use strict";e.d(s,"a",function(){return G}),e.d(s,"b",function(){return V});var n=e("9oTK"),t=e.n(n),a=e("lhZz"),i=e("Aqb/"),c=e("PLUl"),r=e("GlHf"),f=e("Z7Ay"),l=e("VYSP"),p=e("p+AA"),h=e("NWwO"),u=e("3KJg"),b=e("YkFH"),v=e("QBFz"),d=e("fUOF"),m=e("7xYR"),g=e("Kdix"),O=e("3vtZ"),E=e("ykb+"),y=e("RVJP"),C=e("NH62"),I=e("hhWw"),j=e("rZ8V");const M=1e3*60*10;let T=!1;const D=new C.a,S=new C.a,A=["event","longtask"];let P=o(class{start(){this.profiler=new window.Profiler({maxBufferSize:1e4,sampleInterval:0}),this.profiler.addEventListener("samplebufferfull",()=>{this.start()}),this.startTime=performance.now()}get sampleInterval(){return this.profiler.sampleInterval}stop(){return this.profiler.stop()}constructor(){this.start()}},"ContinuousProfiler");function N(R){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["selector_memo"];const U=Object(a.getStoreInstanceByTeamId)(R).getState();var _;return{...Object.fromEntries(W.map(z=>{var L;return[z,(_=(L=Object(y.c)(U,z))===null||L===void 0?void 0:L.group)!==null&&_!==void 0?_:"undefined"]})),object_store_database:Object(I.b)()?"on":"off",ia4:Object(j.m)(U)?"on":"off"}}o(N,"getJSProfileExperiments");function G(){var R;if(!Object(p.a)())return;const W=(R=window.PerformanceObserver)===null||R===void 0?void 0:R.supportedEntryTypes;if(!W)return;const U=A.filter(L=>W.includes(L));if(!U.length)return;const _=Object(a.getClientStoreInstance)();document.addEventListener("keydown",L=>{if(S.count("keystrokes"),L.target instanceof HTMLElement){var $,Q;const K=($=L.target)===null||$===void 0||(Q=$.dataset)===null||Q===void 0?void 0:Q.inputMetricBoundary;K&&S.count(`${K}_keystrokes`)}});let B;if(Object(d.a)("self_profiling","enabled")&&!Object(E.c)())try{B=new P}catch{}const z=new PerformanceObserver(L=>{const $=L.getEntries();if(!$)return;T=T||Object(O.y)();const Q=_==null?void 0:_.getState(),K=Object(m.getFocusedWorkspace)(Q);B&&Q&&K&&function(){var Z=Object(n.coroutine)(function*(){const F=B.sampleInterval,J=B.stop(),X=B.startTime;B=new P;const Y=yield J,ae=performance.timeOrigin+performance.now(),ee=Date.now(),te=Math.abs(ae-ee)<1e3?performance.timeOrigin:ee-performance.now();$.forEach(de=>{if(de.entryType==="longtask"){const se={...Y,samples:Y.samples.filter(re=>re.timestamp>=de.startTime&&re.timestamp<de.startTime+de.duration)};if(Y.samples.length>0){const re=Math.max(te+de.startTime,te+X);Object(v.b)("long_task",K,se,{from:new Date(re),until:new Date(te+de.startTime+de.duration),sample_interval:F,experiments:N(K),bucket:D.getLabel(de.duration)})}}})});function ne(){return Z.apply(this,arguments)}return o(ne,"reportProfiles"),ne}()(),$.forEach(Z=>{if(Z.entryType==="longtask")Object(r.k)(Q)&&D.increment("long_task",Z.duration);else if(Z instanceof PerformanceEventTiming&&Z.entryType==="event"&&Z.name==="keydown"){const J=Z.processingStart-Z.startTime,X=Z.processingEnd-Z.processingStart,Y=Z.duration;if(S.increment("input_delay",J),S.increment("input_processing",X),S.increment("input_duration",Y),Z.target instanceof HTMLElement){var ne,F;const ae=(ne=Z.target)===null||ne===void 0||(F=ne.dataset)===null||F===void 0?void 0:F.inputMetricBoundary;ae&&(S.increment(`input_delay:${ae}`,J),S.increment(`input_processing:${ae}`,X),S.increment(`input_duration:${ae}`,Y))}}})});U.forEach(L=>z.observe({type:L,durationThreshold:16}))}o(G,"registerPerformanceObserver");function V(){Object(p.a)()&&(k({isFirstReport:!0}),window.setInterval(()=>k({isFirstReport:!1}),M))}o(V,"reportMetricsOnAnInterval");function k(R){let{isFirstReport:W}=R;const U=Object(c.a)(),_=Object(l.b)(),B=U.createMetricsTrace({label:"perf-metrics",tags:{..._,metric_version:11,is_first_report:W,in_huddle_during_event:T,user_based_sampled:Object(h.a)()?!0:void 0},samplingOptions:{sampleType:i.a.ALWAYS}});D.report(B),S.report(B),x(B),Object(u.d)(B,_),Object(b.f)(),U.reportTrace(B),T=!1}o(k,"reportAllBucketMetrics");function x(R){const W=Object(g.b)();for(const U of W){const _=U.getMetrics();if(!_)continue;const{averageAgePastGC:B,largestAgePastGC:z,numberOfExpiredObjects:L,numberOfObjects:$}=_;if(B+z+L+$===0)continue;const Q=U.getName();R.store({name:`leaks:${Q}:average_age_past_gc`,value:B}),R.store({name:`leaks:${Q}:largest_age_past_gc`,value:z}),R.store({name:`leaks:${Q}:number_of_expired_objects`,value:L}),R.store({name:`leaks:${Q}:number_of_objects`,value:$})}}o(x,"reportLeakMetrics");const H={getJSProfileExperiments:N};Object(f.b)("bucketMetrics",()=>{const{metrics:R}=D.getDebug(),{counts:W,metrics:U}=S.getDebug();console.log("Bucketed Metrics"),console.table({...R,...U}),console.log("Input Counts"),console.table(W)})},qXtt:function(w,s,e){"use strict";var n=e("BHdc"),t=e("GzZI"),a=e("q1tI"),i=e.n(a),c=e("yxNq"),r=e("Cfcg"),f=e("xwCZ"),l=e("F0YV"),p=e("4AlF"),h=e("i5Ig"),u=e("ilQ9"),b=e("3WT/");const v=3;function d(O){let{className:E,connectedTeamIdsForDisplay:y=h.a,shouldRender:C}=O;if(!C)return null;const I=y.length,j=Object(t.a)(I).map(M=>i.a.createElement(l.b,{className:"p-connection_info_icon__icon",id:y[M],key:y[M],size:16}));return i.a.createElement("div",{className:Object(n.default)("p-connection_info_icon",E),"data-qa":"shared_channel_connection_info_icon"},j)}o(d,"SharedChannelConnectionInfoIcon"),d.displayName="SharedChannelConnectionInfoIcon";const m=o((O,E)=>{let{channel:y,id:C,member:I,memberIds:j}=E;const{channel:M,memberIds:T,modelObIds:D}=Object(b.b)(O,{channel:y,id:C,member:I,memberIds:j}),S=Object(p.a)(O,D),A=S.length?S.slice(0,v):S,N=Object(u.b)({channel:M,members:Object(f.j)(O,T)})!==u.a.none;return{connectedTeamIdsForDisplay:A,shouldRender:N}},"mapStateToProps");var g=s.a=Object(r.a)(m,null,null,{areStatePropsEqual:(O,E)=>Object(c.a)(O,E,2),areOwnPropsEqual:b.a})(d)},qY4A:function(w,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("P9LH"),t=e("SQ0V"),a=e("Lgge"),i=e("dmdh"),c=e("bDQf"),r=e("5IZy"),f=e("ktUG");const l=Object(t.c)("Calls quip.addCanvasCollection and designates canvas as a collection",function(p,h){let{fileId:u,userId:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=h(),d=Object(i.e)(v,u);return!Object(n.u)(d)&&!Object(n.h)(d)?a.a.reject(new Error("fileId missing while calling addCanvasCollection")):(Object(r.a)({state:v}).track(f.EventId.CANVAS_STARRED,{contexts:{core:{quip_file_id:u,file_id:u,is_channel_canvas:Object(n.h)(d)}}}),p(Object(c.a)({fileId:u,userId:b,reason:"canvas_organization_collections_proto"})))});l.meta={name:"createThunk",key:"createThunkaddCanvasToFavorites",description:"Calls quip.addCanvasCollection and designates canvas as a collection"}},qawj:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("RVJP");const t=o(a=>Object(n.d)(a,"clips_super_reactions")==="on","isClipsSuperReactionsExperimentEnabled")},qcoW:function(w,s,e){"use strict";e.d(s,"a",function(){return j});var n=e("9oTK"),t=e.n(n),a=e("s4P+"),i=e("5IZy"),c=e("ktUG"),r=e("r6fw"),f=e("UthN"),l=e("SQ0V"),p=e("8yCK"),h=e("Wn1n"),u=e("ohbk"),b=e("f80L"),v=e("gCYc"),d=e("BkpQ"),m=e("0/8Q"),g=e("2CL1"),O=e("I0j/"),E=e("37+L"),y=e("2VFn"),C=e("rZ8V"),I=e("v7mh");const j=Object(l.c)("Opens the composer page",function(){var M=Object(n.coroutine)(function*(T,D,S){let{draftId:A,fromKeyboardShortcut:P,origin:N,shouldOpenInTile:G=!1}=S;const V=D(),k=Object(a.a)({state:V,label:"COMPOSER"}),x=Object(C.m)(V);let H=Object(h.a)(V);if(x){var R;const L=Object(I.a)(V);H=(R=Object(I.g)(V,{tab:L,container:y.h.Primary}))===null||R===void 0?void 0:R.id}if(H==="Pcomposer"&&!A){const L=Object(p.a)(V),$=Object(v.k)(V,L);if($&&Object(f.a)(V,$)){k.info(`Composer page is already open with an empty draft ${L}`),x||T(Object(u.a)({id:"Pcomposer"}));return}}let U,_;if(A)U=A;else try{U=yield T(Object(b.a)()),k.info(`Creating a new composer draft ${U}`),P&&Object(i.a)({state:V}).track(c.EventId.COMPOSE_FLOW,{draft_type:"composer",contexts:{ui_context:{action:c.UiAction.KEYDOWN,step:c.UiStep.COMPOSE_FLOW_CREATE}}})}catch{return}const B=Object(g.a)(V);if(N?T(Object(m.b)(N)):B&&T(Object(m.b)(null)),k.info(`Opening the composer page to the following draft ${U}`),G){T(Object(d.a)({tile:{view:"Pcomposer",params:{draftId:U}},origin:"composer"}));return}if(x){var z;(z=T(Object(O.a)(Object(E.l)(U))))===null||z===void 0||z.catch(L=>{k.error("Could not open composer page",L)})}else T(Object(u.a)({id:"Pcomposer",routeParams:{draftId:Object(r.b)(U)},teamId:_})).catch(L=>{k.error("Could not open composer page",L)})});return function(T,D,S){return M.apply(this,arguments)}}());j.meta={name:"createThunk",key:"createThunkopenComposerPage",description:"Opens the composer page"}},qfW3:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("htTJ"),t=e("/0zS");function a(i){let{userDidDelete:c,userDidInsertSpace:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{userDidDelete:void 0,userDidInsertSpace:void 0};var f;if(!Object(n.a)(i))return!1;const l=(i==null||(f=i.attributes)===null||f===void 0?void 0:f.link)||"",p=Object(n.b)(i),h=l==null?void 0:l.match(/^(https?:\/\/)(.+)/);if(!h)return!1;const u=h[2].split(".");if((c||r)&&u.length===2&&u[0]===i.insert)return!1;const b=`${h[1]}${i.insert}`;if(!c&&!r&&b.length>((l==null?void 0:l.length)||0)&&b.substr(0,l==null?void 0:l.length)===l)return!0;const v=l==null?void 0:l.substr((p==null?void 0:p.length)*-1),d=l==null?void 0:l.substr(0,b.length);if(c&&(d===b||v===i.insert&&!Object(t.a)({input:b}).length))return!0;if(r){const m=p==null?void 0:p.split(" ");if(m.length===1||m.length===2){const g=`${h[1]}${m[0]}`,O=m[1]||"";if(g.length+O.length<=((l==null?void 0:l.length)||0)&&(l==null?void 0:l.substr(0,g.length))===g&&(l.substr(O.length*-1)===O||O.length===0))return!0}}return!1}o(a,"isOpBrokenAutolink")},qpkA:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("SQ0V"),t=e("Kmpi"),a=e("3zNH");const i=Object(n.c)('Stores a "recent" file',function(c,r){let{files:f,ts:l}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=[];return f.forEach(h=>{Object(t.b)(h)&&p.push({...h,actions:[{event_type:"CLOG",ts:l||String(Date.now()/1e3)}]})}),c(Object(a.a)({files:p}))});i.meta={name:"createThunk",key:"createThunkpushRecentFiles",description:'Stores a "recent" file'}},r007:function(w,s,e){"use strict";var n=e("BHdc"),t=e("q1tI"),a=e.n(t),i=e("Cfcg"),c=e("3Hq1"),r=e("M1Wn"),f=e("xwCZ"),l=e("dlm8"),p=e("+tZp"),h=e("4AlF"),u=e("nNoG"),b=e("hUMe"),v=e("CTEJ"),d=e("3bXy"),m=e("Tevt"),g=e("ilQ9"),O=e("3WT/"),E=e("LFHb"),y=e("RVJP"),C=e("beVI"),I=e("dz36");const j=new u.b("shared_channels"),M={elementName:"view_filtered_members",stepVariant:"external_member_awareness_banner",onClick:{enableClogAction:!0}};function T(A){let{ariaId:P,className:N,copyOverrideByChannelType:G,firstTeamId:V,secondTeamId:k,memberName:x,onClickMemberCount:H,totalExternalMembers:R,totalTeamIds:W,type:U,experimentAdoptionInstantSlackGroupTreatment:_=!1,looksLikeInstantSlack:B=!1}=A;const[z,L]=Object(t.useState)(),$=Object(t.useCallback)(J=>{J!=null&&J.textContent&&L(J.textContent)},[]),Q=o(J=>{let{tag:X,text:Y}=J;return X==="strong"?H?a.a.createElement(m.a,{"data-qa":"context_bar_link",onClick:H,className:"bold",autoClogProps:M},Y):a.a.createElement("strong",null,Y):Y},"memberCountReplacement");Q.displayName="memberCountReplacement";const K=o(()=>{if(W===0)return null;let J;return W===1?J=j.rt("<strong>{teamName}</strong> can view this channel",{teamName:a.a.createElement(b.a,{id:V})}):W===2?J=j.rt("<strong>{firstTeamName}</strong> and <strong>{secondTeamName}</strong> can view this channel",{firstTeamName:a.a.createElement(b.a,{id:V}),secondTeamName:a.a.createElement(b.a,{id:k})}):J=j.rt("<strong>{numConnectedTeams} external organizations</strong> can view this channel",{numConnectedTeams:W}),J},"getNoMembersText");K.displayName="getNoMembersText";const Z=o(J=>{if(W===0)return null;let X;const Y=Object(E.a)(J);return W===1?X=j.rt("<strong>{numExternalMembers} external {totalExtMembers, plural, =1 {person} other {people}}</strong> {totalExtMembers, plural, =1 {is} other {are}} from {teamName}",{numExternalMembers:Y,totalExtMembers:J,teamName:a.a.createElement(b.a,{id:V,bold:!1})},Q):W===2?X=j.rt("<strong>{numExternalMembers} external {totalExtMembers, plural, =1 {person} other {people}}</strong> {totalExtMembers, plural, =1 {is} other {are}} from {firstTeamName} and {secondTeamName}",{numExternalMembers:Y,totalExtMembers:J,firstTeamName:a.a.createElement(b.a,{id:V,bold:!1}),secondTeamName:a.a.createElement(b.a,{id:k,bold:!1})},Q):X=j.rt("<strong>{numExternalMembers} external {totalExtMembers, plural, =1 {person} other {people}}</strong> {totalExtMembers, plural, =1 {is} other {are}} from {numConnectedTeams} organizations",{numExternalMembers:Y,totalExtMembers:J,numConnectedTeams:W},Q),X},"getUpdatedText");if(Z.displayName="getUpdatedText",U===g.a.none)return null;let ne=null;Object(c.a)(R)||Object(r.a)(R)?ne=a.a.createElement(v.a,{size:d.b.Large}):R===0?ne=K():ne=_&&B?ne=j.rt("<strong>{numExternalMembers} external {numExternalMembers, plural, =1 {person} other {people}}</strong> {numExternalMembers, plural, =1 {is} other {are}} in this channel",{numExternalMembers:R},Q):Z(R);let F=null;switch(U){case g.a.im:F=(G==null?void 0:G[g.a.im])||j.rt("{memberName} is from {teamName}",{memberName:x,team:a.a.createElement(b.a,{id:V}),teamName:a.a.createElement(b.a,{id:V}),fallbackHash:"fae10cdc15e39f3f7dd82cec03ebe931e9aadb09",fallbackHashNs:"messages"});break;case g.a.mpim:F=(G==null?void 0:G[g.a.mpim])||ne;break;case g.a.channel:F=(G==null?void 0:G[g.a.channel])||ne;break}return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:Object(n.default)("p-connection_info_text",N),ref:$},F),P?a.a.createElement("span",{className:"offscreen",id:P},z):null)}o(T,"SharedChannelConnectionInfoText"),T.displayName="SharedChannelConnectionInfoText";const D=o((A,P)=>{let{channel:N,id:G,member:V,memberIds:k}=P;const{channel:x,member:H,memberIds:R,modelObIds:W}=Object(O.b)(A,{channel:N,id:G,member:V,memberIds:k}),U=H&&Object(p.a)(A,H),_=Object(h.a)(A,W),[B,z]=_,L=Object(g.b)({channel:x,members:Object(f.j)(A,R)});var $;const Q=Object(l.b)(A,($=x==null?void 0:x.id)!==null&&$!==void 0?$:""),K=Object(y.d)(A,"adoption_instant_slack")==="treatment",Z=Object(I.d)(Object(C.s)(A,B,!1));return{firstTeamId:B,secondTeamId:z,memberName:U??"",totalTeamIds:_==null?void 0:_.length,type:L,totalExternalMembers:Q,experimentAdoptionInstantSlackGroupTreatment:K,looksLikeInstantSlack:Z}},"mapStateToProps");var S=s.a=Object(i.a)(D,null,null,{areOwnPropsEqual:O.a,areStatePropsEqual:(A,P)=>(A==null?void 0:A.totalExternalMembers)===(P==null?void 0:P.totalExternalMembers)})(T)},r4kb:function(w,s,e){w.exports=e.p+"audio_only_waves-8c9c442.gif"},rBAR:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"g",function(){return c}),e.d(s,"d",function(){return r}),e.d(s,"h",function(){return f}),e.d(s,"c",function(){return l}),e.d(s,"f",function(){return p}),e.d(s,"b",function(){return h}),e.d(s,"i",function(){return u}),e.d(s,"e",function(){return b});var n=e("ktUG"),t=e("pu3F"),a=e("vobO");const i={uiComponentName:n.UiComponentName.QUIP_PERMISSIONS_ACCESS_SELECT,uiComponentVariant:"share_dialog",elementName:"quip_permissions_access_select_share_dialog_option",onOptionSelected:{enableClogAction:!0,setElementValueOnAction:!0}},c={onOptionSelected:{action:n.UiAction.SELECT}},r={eventId:n.EventId.QUIP_SHARE,uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:"copy_link",elementName:"copy_link_button",onClick:{enableClogAction:!0}},f={eventId:n.EventId.QUIP_SHARE,uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:"skip_for_now",elementName:"skip_now_button",onClick:{enableClogAction:!0}},l={eventId:n.EventId.QUIP_SHARE,uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:"close",elementName:"close_button",onClick:{enableClogAction:!0}},p=o(v=>{let{permissionsGrantLevel:d,viewContext:m}=v;return m===t.t.FILE_EMBEDDED_UNFURL||m===t.t.FILE_EMBEDDED_UNFURL_IN_CHANNEL_CANVAS?{eventId:n.EventId.QUIP_CANVAS_URL_SHARE,elementName:"share_button",onClick:{enableClogAction:!0},source:m===t.t.FILE_EMBEDDED_UNFURL_IN_CHANNEL_CANVAS?"channel-canvas":"canvas"}:{eventId:n.EventId.QUIP_SHARE,uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:`share_${d}`,elementName:"share_button",onClick:{enableClogAction:!0},...m===a.a?{source:"convert_to_template_modal"}:{}}},"getShareButtonAutoClogProps"),h={uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:"access_management",elementName:"save_button",onClick:{enableClogAction:!0}},u={continueButton:{elementName:"continue_and_send",onClick:{enableClogAction:!0}},cancelButton:{elementName:"cancel",onClick:{enableClogAction:!0}}},b=o(v=>({continueButton:{elementName:v?"discard":"save",onClick:{enableClogAction:!0}},cancelButton:{elementName:"back",onClick:{enableClogAction:!0}}}),"getCanvasChangeAccessSpeedBumpAutoClogProps")},rBXw:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("Tevt"),c=e("9wj1"),r=e("qzps"),f=e("A/mR");function l(p){let{ts:h,format:u,fallback:b=void 0,link:v=void 0,noLinking:d=!1,do24hrTime:m=!1}=p;const g=Object(a.useDispatch)(),O=Object(f.g)(h,u,{fallbackString:b,do24hrTime:m}),E=Object(n.useCallback)(y=>{v&&O&&Object(r.b)(O,v)&&(g(Object(c.a)({text:O,url:v})),y.preventDefault())},[g,O,v]);return!O||O===u?null:!v||d?t.a.createElement("span",{"data-qa":"mrkdwn_date",className:"c-mrkdwn__date"},O):t.a.createElement(i.a,{"data-qa":"mrkdwn_date",href:v,maybeOpenSuspiciousLinkDialog:E},O)}o(l,"DateCommand"),l.displayName="DateCommand",s.a=t.a.memo(l)},rBeE:function(w,s,e){"use strict";e.d(s,"f",function(){return T}),e.d(s,"c",function(){return D}),e.d(s,"a",function(){return S}),e.d(s,"d",function(){return P}),e.d(s,"b",function(){return N}),e.d(s,"g",function(){return V}),e.d(s,"e",function(){return k});var n=e("nNoG"),t=e("ifKl"),a=e("SQ0V"),i=e("zxER"),c=e("G4qV"),r=e("/MKj"),f=e("xwCZ"),l=e("C3vN"),p=e("52Wj"),h=e("+tZp"),u=e("ptQX"),b=e("LvvF"),v=e("MUHj"),d=e("zb/F"),m=e("i9jZ"),g=e("5IZy"),O=e("ktUG"),E=e("G0eX"),y=e("beVI"),C=e("O86Y");const I=new n.b("member_profile"),j=new n.b("menu"),M=Object(c.a)((x,H)=>{let{memberId:R}=H;return Object(f.g)(x,R)},(x,H)=>{let{memberId:R}=H;return Object(b.b)(x,R)},(x,H)=>{const R=Object(p.b)(x),W=Object(l.V)(x),U=H?I.t("Copy display name"):I.t("Copy display name: @{displayName}",{displayName:R,__react:!0});return!W&&R?{key:"copy_display_name",dataQa:"copy_display_name",label:U,click:()=>{Object(d.e)(R)},show:!0,disabled:Object(l.qb)(x)}:null}),T=o(x=>{let{memberId:H}=x;return Object(i.c)(R=>H?M(R,{memberId:H}):void 0)},"useGetMenuTemplateCopyDisplayName"),D=Object(a.c)("Gets the template for copy display name menu item",(x,H,R)=>M(H(),R));D.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyDisplayNameThunk",description:"Gets the template for copy display name menu item"};const S=Object(a.c)("Clog member context item click",(x,H,R)=>{Object(g.a)({getState:H}).track(O.EventId.CONTEXT_MENU_ACTION,{label:R,is_iap1:!0})});S.meta={name:"createThunk",key:"createThunkclogItemClick",description:"Clog member context item click"};const A=Object(a.c)("Gets the template for copy display name menu item",(x,H,R)=>{const{memberId:W,label:U}=R,_=Object(h.a)(H(),Object(f.g)(H(),W));return{label:j.t("Copy name"),click:()=>{x(S(U));try{Object(d.d)({"text/plain":_,"text/html":`<span data-stringify-id="${W}" data-stringify-label="${_}">${_}</span>`})}catch{Object(d.e)(_)}}}});A.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyName",description:"Gets the template for copy display name menu item"};const P=Object(a.c)("Gets the template for copy name menu item",(x,H,R)=>x(A(R)));P.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyNameThunk",description:"Gets the template for copy name menu item"};const N=Object(a.c)("Copies link to member to clipboard",(x,H,R)=>{x(S(R.label));const W=H(),U=Object(y.s)(W,Object(C.g)(W)||"");Object(d.e)(Object(E.v)(U,`/team/${R.memberId}`))});N.meta={name:"createThunk",key:"createThunkcopyMemberLink",description:"Copies link to member to clipboard"};const G=Object(c.a)(x=>x,(x,H,R)=>{let{onClickCallback:W=t.a}=R;return W},(x,H,R)=>{let{isCanvasContext:W}=R;return W},(x,H,R)=>{let{memberId:W}=R;return Object(f.g)(H,W)},(x,H,R)=>{let{memberId:W}=R;return Object(h.a)(H,Object(f.g)(H,W))},(x,H,R)=>{let{memberId:W}=R;return Object(u.a)(H,W||"")},(x,H,R,W,U,_)=>{const B=Object(l.V)(W);let z=I.rt("Message {memberName}",{memberName:U})||"";return R&&(B?z=I.t("View message history"):z=I.t("Message")),!_||Object(l.T)(W)||R&&Object(l.jb)(W)?null:{key:"message",dataQa:"message",label:z,click:L=>{x(Object(v.a)({memberId:W.id,shouldOpenInTile:Object(m.d)(L),reason:"member-context-menu"})).then(()=>H())},show:!!W,disabled:Object(l.qb)(W)}}),V=o(x=>{let{memberId:H,isCanvasContext:R,onClickCallback:W}=x;const U=Object(r.useDispatch)();return Object(i.c)(_=>H?G(U,_,{memberId:H,isCanvasContext:R,onClickCallback:W}):void 0)},"useGetMenuTemplateMessage"),k=Object(a.c)("Gets the template for message menu item",(x,H,R)=>G(x,H(),R));k.meta={name:"createThunk",key:"createThunkgetMenuTemplateMessageThunk",description:"Gets the template for message menu item"}},rNqu:function(w,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("9oTK"),t=e("fujP"),a=e("Lgge"),i=e("s4P+"),c=e("SQ0V"),r=e("YOgf"),f=e("n3tL"),l=e("Cfjn"),p=e("L1zx"),h=e("4lPb");const u=Object(c.c)('Ensures the various mention models are "known"',function(y,C){let{channelIds:I,memberIds:j,userGroupIds:M,reason:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object(t.a)(I)&&Object(t.a)(j)&&Object(t.a)(M))return a.a.resolve();const D=[];return Object(t.a)(I)||D.push(y(Object(l.a)({channelIds:I,reason:T}))),Object(t.a)(j)||D.push(y(Object(p.a)({memberIds:j,reason:T}))),Object(t.a)(M)||D.push(y(Object(h.a)({userGroupIds:M,reason:T}))),a.a.all(D)});u.meta={name:"createThunk",key:"createThunkensureMentionModelsArePresent",description:'Ensures the various mention models are "known"'},u.propTypes={channelIds:f.default.arrayOf(f.default.string),memberIds:f.default.arrayOf(f.default.string),reason:f.default.string.isRequired,userGroupIds:f.default.arrayOf(f.default.string)};var b=e("+l5E"),v=e("Kn+X"),d=e("BBdC"),m=e("Kk96"),g=e("RVJP");const O=Object(c.c)("Ensures any mentions within a set of blocks are present",function(y,C){let{blocks:I,reason:j}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object(t.a)(I))return a.a.resolve();const{info:M,warn:T}=Object(i.a)({getState:C,label:"DRAFTS"}),{channelIds:D,userIds:S,userGroupIds:A}=Object(b.v)(C(),I);if(!Object(t.a)(D)||!Object(t.a)(S)||!Object(t.a)(A)){M("Ensuring block mention models are present");const N="Could not ensure block mention models are present";return y(u({channelIds:D,memberIds:S,userGroupIds:A,reason:j})).catch(G=>{throw T(`ensureMentionModelsArePresent rejected: ${N}`,G),G}).timeout(2e3).catch(G=>{throw T(`ensureMentionModelsArePresent timed out: ${N}`),G})}return M("The blocks do not contain any mentions"),a.a.resolve()});O.meta={name:"createThunk",key:"createThunkensureBlocksMentionsArePresent",description:"Ensures any mentions within a set of blocks are present"};const E=Object(c.c)("Converts a server draft to a client draft",function(){var y=Object(n.coroutine)(function*(C,I){let{clientDraftId:j,draft:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!j||Object(t.a)(M))return a.a.resolve();const T=Object(g.d)(I(),"native_gif_picker")==="on",D=M,{warn:S}=Object(i.a)({getState:I,label:"DRAFTS"}),A=Object(v.v)(D);yield C(O({blocks:A,reason:"convertServerDraftToUnifiedDraft"})).catch(()=>{S(`Draft ops may contain unknown mentions - ${j}`)});const P=Object(r.a)(I(),A),N=(P==null?void 0:P.ops)||[],G=parseFloat(Object(v.p)(D)),V=G*1e3,k=Object(v.z)(D);T&&(D!=null&&D.attachments)&&C(Object(m.a)({draft:D,draftId:j}));const x={client_draft_id:j,date_created:parseFloat(Object(v.h)(D)),destinations:Object(v.u)(D),file_ids:Object(d.a)(D),id:Object(v.o)(D),is_from_composer:k,last_updated:V,last_updated_ts:G,ops:N,date_scheduled:Object(v.i)(D)};return k||(x.temp_attached_draft_unique_id=Object(v.w)(D)),a.a.resolve(x)});return function(C,I){return y.apply(this,arguments)}}());E.meta={name:"createThunk",key:"createThunkconvertServerDraftToUnifiedDraft",description:"Converts a server draft to a client draft"}},rYD8:function(w,s,e){"use strict";var n=e("n3tL"),t=e("q1tI"),a=e.n(t),i=e("Cfcg"),c=e("m8R6"),r=e("Enx8"),f=e("52Wj"),l=e("+tZp"),p=e("nNoG"),h=e("LvvF");function u(){return u=Object.assign||function(O){for(var E=1;E<arguments.length;E++){var y=arguments[E];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(O[C]=y[C])}return O},u.apply(this,arguments)}o(u,"_extends");const b=new p.b("files"),v={name:n.default.string.isRequired,isChannelFiles:n.default.bool,showMemberNameIfHidden:n.default.bool},d={isChannelFiles:!1,showMemberNameIfHidden:!1},m=o(O=>{const E=Object(c.a)(O,["id","name","dispatch","firstName","skipPrefCompliance","isChannelFiles","showMemberNameIfHidden"]);let y=O.name;if(O.isChannelFiles){const C=O.name;y=b.t("Shared by {memberName}",{memberName:C})}return a.a.createElement("span",u({},E),y)},"MemberName");m.displayName="MemberName",m.propTypes=v,m.defaultProps=d;const g=o((O,E)=>{const{id:y,member:C,skipPrefCompliance:I,showMemberNameIfHidden:j}=E;if(I)return{name:Object(f.e)(C)};let M;return!j&&Object(h.b)(O,y)?M=b.t("Name hidden"):M=C?Object(l.a)(O,C,!1,!1,I,!1):Object(r.a)(O,y,!1,!1,!1,!1),{name:M}},"mapStateToProps");s.a=Object(i.a)(g)(m)},rneN:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("htTJ"),t=e("iu/Y");function a(c){var r;if(!Object(n.a)(c))return!1;const f=(c==null||(r=c.attributes)===null||r===void 0?void 0:r.link)||"",l=c.insert;if(c.insert===f)return!0;const p=f==null?void 0:f.match(/^(https?:\/\/)(.+)/);return p?`${p[1]}${l}`===f:!1}o(a,"isOpAutolink");function i(c,r){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{onlyAutoLinks:l}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=r.index||0,h=r.length||0,{op:u,opIndex:b}=Object(t.a)(c,p),v=h>0?p+h-1:p+h,{op:d,opIndex:m,opLength:g}=Object(t.a)(c,v);let O=u||{},E=b;const y=d||{};if(!Object(n.a)(O)&&p>0&&h===0&&f.link){const I=Object(t.a)(c,p-1);O=I.op||{},E=I.opIndex}const C=r;return(!l&&Object(n.a)(O)||l&&(Object(n.c)(O)||a(O)))&&(C.index=E,C.length=h+(p-C.index)),(!l&&Object(n.a)(y)||l&&(Object(n.c)(y)||a(y)))&&(C.length=m+g-C.index),C}o(i,"adjustSelectionToCoverLink")},rq8k:function(w,s,e){"use strict";e.d(s,"a",function(){return n});const n=[{type:"rich_text",elements:[]}]},s2GU:function(w,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"c",function(){return r}),e.d(s,"a",function(){return f});var n=e("0Uag"),t=e("52Wj"),a=e("FsHF"),i=e("mNiN");function c(l){if(l.is_broadcast_keyword||l.is_usergroup)return"";let p="";return Object(a.b)(l)&&(p=Object(t.e)(l)),p?`@${p}`:""}o(c,"getSecondaryNameForSearchResult");const r=Object(n.a)((l,p)=>l===Object(i.d)(f(p))||l===Object(i.d)(c(p)));function f(l){return l.is_broadcast_keyword?`@${l.name}`:l.is_usergroup?`@${l.handle}`:`@${Object(t.b)(l)}`}o(f,"getDisplayTextForSearchResult")},s4Ht:function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"m",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"f",function(){return i}),e.d(s,"g",function(){return c}),e.d(s,"k",function(){return r}),e.d(s,"j",function(){return f}),e.d(s,"e",function(){return l}),e.d(s,"l",function(){return p}),e.d(s,"i",function(){return h}),e.d(s,"h",function(){return u}),e.d(s,"d",function(){return b}),e.d(s,"c",function(){return v});const n="destination_required",t="workflow_has_restricted_app_step",a="channel_id_is_empty",i="missing_channel_id",c="missing_channel_value_or_ref",r="reaction_required",f="missing_team_id",l="invalid_datetime",p="unknown_step",h="wf_function_step_missing_inputs",u="missing_wf_function_param";var b;(function(d){d.INVALID_WORKFLOW_AUTH_STRATEGY="admin_workflow_auth_strategy_requires_end_user_auth",d.INVALID_EXTERNAL_TOKEN_IDS="invalid_external_token_ids_wf_function_step",d.INVALID_TEMPLATE_VALUES="invalid_template_values_wf_function_step",d.INVALID_INTERACTIVITY_POINTER="invalid_interactivity_pointer",d.INTERACTIVE_TRIGGER_REQUIRED="interactive_trigger_required",d.EXTERNAL_TRIGGER_REQUIRED="external_trigger_required",d.EXTERNAL_TRIGGER_DISALLOWED_STEP_SENDDM="external_trigger_disallowed_step_senddm",d.INVALID_SEND_TO_SALES_HOME_STEPS="invalid_send_to_sales_home_steps",d.ALMOST_PREMIUM_WORKFLOW="user_has_no_remaining_premium_connectors",d.PREMIUM_BLOCKED_CUSTOM_STEP="user_exceeded_premium_custom_limit",d.PREMIUM_BLOCKED_CERTIFIED_STEP="user_exceeded_premium_connector_limit",d.USER_CANNOT_USE_FUNCTION="user_cannot_use_function",d.INVALID_EXTERNAL_STEPS="invalid_external_steps"})(b||(b={}));const v=[b.ALMOST_PREMIUM_WORKFLOW]},s8ZX:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("6R8Z");function c(f){let{screen:l,name:p,selected:h,onSelect:u,children:b,className:v,tabindex:d}=f;var m;const g=l==null||(m=l.thumbnail)===null||m===void 0?void 0:m.dataURL,O=Object(n.useMemo)(()=>{const y={};return g&&(y.backgroundImage=`url(${g})`),y},[g]),E=Object(n.useCallback)(()=>{u(l)},[u,l]);return t.a.createElement(i.a,{className:Object(a.default)("p-video_recorder_screen_picker_tile",{"p-video_recorder_screen_picker_tile--selected":h}),onClick:E,role:"radio","aria-checked":h,tabIndex:d},(g||b)&&t.a.createElement("div",{className:Object(a.default)("p-video_recorder_screen_picker_tile__thumb",v),style:O},b),t.a.createElement("div",{className:"p-video_recorder_screen_picker_tile__title"},p))}o(c,"VideoRecorderScreenPickerTile"),c.displayName="VideoRecorderScreenPickerTile";var r=s.a=c},sCfo:function(w,s,e){"use strict";function n(t){return!t||t.indexOf("a")>=0}o(n,"isAssistantTempTs"),s.a=n},sGZK:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("BHdc"),c=e("fujP"),r=e("P9LH"),f=e("CD4m"),l=e("sGXp"),p=e("ZobM"),h=e("oEDn"),u=e("dmdh"),b=e("lqu/"),v=e("S8QM"),d=e("8z04"),m=e("oh9B"),g=e("ZBdd");function O(y){let{className:C,"data-qa":I,"data-sk":j,fileFromPropsOrState:M,id:T,isDisabled:D,detailText:S,shouldShowHighlight:A=!0,shouldShowDetailText:P=!0,useNewChannelCanvasNaming:N=!1}=y;const G=(M==null?void 0:M.filetype)||(M==null?void 0:M.highlight_type)||"file",V=Object(n.useCallback)(()=>M?Object(r.xb)(M)||Object(r.Rb)(M)?t.a.createElement(h.a,{className:"c-file_entity__icon",type:"trash"}):Object(r.Bb)(M)||Object(r.rb)(M)||Object(r.jb)(M)?t.a.createElement(h.a,{className:"c-file_entity__icon",type:"eye-closed"}):Object(r.Yb)(M)?Object(r.o)(M)?t.a.createElement(v.a,{iconClassName:"c-file_entity__icon p-list_icon--search",file:M,isFilled:!1}):Object(r.h)(M)||Object(r.u)(M)?t.a.createElement("span",{className:"c-file_entity__icon"},t.a.createElement(p.a,{name:"canvas-content"})):t.a.createElement(h.a,{className:"c-file_entity__icon",file:"tiny",type:G}):t.a.createElement(h.a,{className:"c-file_entity__icon",type:"question"}):null,[M,G]),k=D?l.d.dim:void 0;return Object(c.a)(M)?null:t.a.createElement(f.d,{size:"small",className:Object(i.default)("c-file_entity",C),"data-id":T||(M==null?void 0:M.id),"data-qa":I,"data-sk":Object(c.a)(j)?"small_file_entity":j,style:k,avatar:V,text:t.a.createElement(t.a.Fragment,null,t.a.createElement(f.c,{className:"c-file_entity__text"},t.a.createElement(b.a,{file:M,shouldShowHighlight:A,useNewChannelCanvasNaming:N})),P&&t.a.createElement(f.c,{className:"c-file_entity__detail","data-qa":"file_detail_text"},S))})}o(O,"SmallFileEntity"),O.displayName="SmallFileEntity";function E(y,C){let{id:I,file:j,detailType:M=d.a.FILETYPE}=C;const T=j||Object(u.e)(y,I),D=Object(m.a)(y,T,M);return{fileFromPropsOrState:T,detailText:D}}o(E,"mapStateToProps"),s.a=Object(a.a)(E)(O)},sIIQ:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c}),e.d(s,"d",function(){return h}),e.d(s,"e",function(){return u}),e.d(s,"f",function(){return b}),e.d(s,"c",function(){return v}),e.d(s,"g",function(){return M}),e.d(s,"h",function(){return T}),e.d(s,"l",function(){return D}),e.d(s,"i",function(){return S}),e.d(s,"o",function(){return A}),e.d(s,"r",function(){return H}),e.d(s,"t",function(){return R}),e.d(s,"s",function(){return W}),e.d(s,"n",function(){return U}),e.d(s,"j",function(){return _}),e.d(s,"q",function(){return B}),e.d(s,"m",function(){return z}),e.d(s,"p",function(){return L}),e.d(s,"k",function(){return $});var n=e("gPPH"),t=e("Qm7m"),a=e("e+ex");const i=o(()=>({id:Object(n.a)()}),"createEmptyCondition"),c=o(()=>({type:a.d.AndTriggerCondition,conditions:[i()],id:Object(n.a)()}),"createEmptyConditionGroup"),r=o(()=>({type:a.d.AndTriggerCondition,conditions:[c()]}),"createEmptyConditions"),f=o(Q=>({...Q,id:Object(n.a)()}),"generateConditionId"),l=o(Q=>({...Q,id:Object(n.a)(),conditions:Q.conditions.map(f)}),"generateConditionGroupId"),p=o(Q=>{var K;if(!Q)return r();var Z;return{type:Q.type,conditions:(Z=(K=Q.conditions)===null||K===void 0?void 0:K.map(l))!==null&&Z!==void 0?Z:[]}},"generateConditionsIds"),h=o(()=>({id:Object(n.a)()}),"createEmptyFilterCondition"),u=o(()=>({type:a.a.AndFilterCondition,conditions:[h()],id:Object(n.a)()}),"createEmptyFilterConditionGroup"),b=o(()=>({type:a.a.AndFilterCondition,conditions:[u()]}),"createEmptyFilterConditions"),v=o(Q=>({id:Object(n.a)(),datasource_id:Q,reference_field_id:0,schema_object_id:0,conditions:b(),type:a.b.ParentPlatformFilter}),"createEmptyFilter"),d=o(Q=>({...Q,id:Object(n.a)()}),"generateFilterConditionId"),m=o(Q=>({...Q,id:Object(n.a)(),conditions:Q.conditions.map(d)}),"generateFilterConditionGroupId"),g=o(Q=>{var K,Z;return{...Q,id:Object(n.a)(),datasource_id:Q.datasource_id,reference_field_id:Q.reference_field_id,schema_object_id:Q.schema_object_id,conditions:{type:Q.conditions.type,conditions:(Z=(K=Q.conditions.conditions)===null||K===void 0?void 0:K.map(m))!==null&&Z!==void 0?Z:[]},type:Q.type}},"generateFilterIds");var O,E,y,C,I,j;const M=o(Q=>{let{srcData:K}=Q;var Z,ne,F,J,X;return{id:(O=K==null?void 0:K.id)!==null&&O!==void 0?O:Object(n.a)(),type:t.EXTERNAL,config:{name:(E=K==null?void 0:K.name)!==null&&E!==void 0?E:"",description:(y=K==null?void 0:K.description)!==null&&y!==void 0?y:void 0,inputs:(C=K==null?void 0:K.inputs)!==null&&C!==void 0?C:{},conditions:p(K==null||(Z=K.external)===null||Z===void 0?void 0:Z.conditions),filters:((I=K==null||(ne=K.external)===null||ne===void 0?void 0:ne.filters)!==null&&I!==void 0?I:[]).map(g),datasourceId:K==null||(F=K.external)===null||F===void 0?void 0:F.datasource_id,schemaObjectId:K==null||(J=K.external)===null||J===void 0?void 0:J.schema_object_id,schema:(j=K==null||(X=K.external)===null||X===void 0?void 0:X.schema)!==null&&j!==void 0?j:{}}}},"createExternalTrigger"),T=o(Q=>{var K;return(K=Q.config)===null||K===void 0?void 0:K.conditions.conditions},"getConditionGroups"),D=o(Q=>{var K;return(K=Q.config)===null||K===void 0?void 0:K.filters},"getFilters"),S=o(Q=>{var K;return(K=Q.config)===null||K===void 0?void 0:K.datasourceId},"getDataSourceObjectId"),A=o(Q=>{var K;return(K=Q.config)===null||K===void 0?void 0:K.schemaObjectId},"getSchemaObjectId"),P=o(Q=>{var K;return(K=Q.config)===null||K===void 0?void 0:K.schema},"getSchemaFields"),N=[a.d.HasChangedTriggerCondition],G=[a.d.IsEmptyTriggerCondition,a.d.IsNotEmptyTriggerCondition],V=[a.a.IsEmptyFilterCondition,a.a.IsNotEmptyFilterCondition],k=[a.d.HasIncreasedTriggerCondition,a.d.HasDecreasedTriggerCondition],x=[a.d.IsNewRecordTriggerCondition],H=o(Q=>Q===a.d.IsNewRecordTriggerCondition,"isNoConfigOperator"),R=o(Q=>[...N,...G,...k,...x].some(K=>K===Q),"isSimpleOperator"),W=o(Q=>[...V].some(K=>K===Q),"isSimpleFilterOperator"),U=o(Q=>{if(!Q)return[];switch(Q.type){case a.e.StringSchemaField:case a.e.URLSchemaField:case a.e.EmailSchemaField:return[a.d.EqualsTriggerCondition,a.d.DoesNotEqualTriggerCondition,a.d.ContainsTriggerCondition,a.d.DoesNotContainTriggerCondition,a.d.EndsWithTriggerCondition,a.d.StartsWithTriggerCondition,...N,...Q.isNullable?G:[]];case a.e.BooleanSchemaField:return[a.d.EqualsTriggerCondition,a.d.DoesNotEqualTriggerCondition,...N,...Q.isNullable?G:[]];case a.e.DoubleSchemaField:case a.e.CurrencySchemaField:return[a.d.EqualsTriggerCondition,a.d.DoesNotEqualTriggerCondition,a.d.GreaterThanTriggerCondition,a.d.LessThanTriggerCondition,...N,...Q.isNullable?G:[],...k];case a.e.LongSchemaField:return[a.d.EqualsTriggerCondition,a.d.DoesNotEqualTriggerCondition,a.d.GreaterThanTriggerCondition,a.d.LessThanTriggerCondition,...N,...Q.isNullable?G:[],...k];case a.e.SelectSchemaField:return[...Q.isMultiSelect?[a.d.SetContainsOneOfTriggerCondition,a.d.SetContainsAllOfTriggerCondition,a.d.SetContainsNoneOfTriggerCondition,a.d.SetEqualsTriggerCondition,a.d.SetNotEqualsTriggerCondition]:[a.d.EqualsTriggerCondition,a.d.DoesNotEqualTriggerCondition],...N,...Q.isNullable?G:[]];case a.e.ReferenceSchemaField:return[a.d.EqualsTriggerCondition,a.d.DoesNotEqualTriggerCondition,...N,...Q.isNullable?G:[]];default:return[...N,...Q.isNullable?G:[]]}},"getOperatorList"),_=o(Q=>{if(!Q)return[];switch(Q.type){case a.e.StringSchemaField:case a.e.URLSchemaField:case a.e.EmailSchemaField:return[a.a.EqualsFilterCondition,a.a.DoesNotEqualFilterCondition,a.a.ContainsFilterCondition,a.a.DoesNotContainFilterCondition,a.a.EndsWithFilterCondition,a.a.StartsWithFilterCondition,...Q.isNullable?V:[]];case a.e.BooleanSchemaField:return[a.a.EqualsFilterCondition,a.a.DoesNotEqualFilterCondition,...Q.isNullable?V:[]];case a.e.DoubleSchemaField:case a.e.CurrencySchemaField:return[a.a.EqualsFilterCondition,a.a.DoesNotEqualFilterCondition,a.a.GreaterThanFilterCondition,a.a.LessThanFilterCondition,...Q.isNullable?V:[]];case a.e.LongSchemaField:return[a.a.EqualsFilterCondition,a.a.DoesNotEqualFilterCondition,a.a.GreaterThanFilterCondition,a.a.LessThanFilterCondition,...Q.isNullable?V:[]];case a.e.SelectSchemaField:return[...Q.isMultiSelect?[a.a.SetEqualsFilterCondition,a.a.SetNotEqualsFilterCondition]:[a.a.EqualsFilterCondition,a.a.DoesNotEqualFilterCondition],...Q.isNullable?V:[]];case a.e.ReferenceSchemaField:return[a.a.EqualsFilterCondition,a.a.DoesNotEqualFilterCondition,...Q.isNullable?V:[]];case a.e.DateSchemaField:case a.e.DateTimeSchemaField:return[a.a.DateOffsetEqualsFilterCondition,a.a.DateOffsetGreaterThanFilterCondition,a.a.DateOffsetLessThanFilterCondition,...Q.isNullable?V:[]];default:return[...Q.isNullable?V:[]]}},"getFilterOperatorList"),B=o(Q=>!Q||!(Q!=null&&Q.length)?[]:Q.every(K=>{let{value:Z}=K;return Z==null||typeof Z=="string"&&!Z})?[]:Q.map(K=>{let{value:Z}=K;return Z}),"getValuesFromRhs"),z=o(Q=>{var K;return!Q||!(Q!=null&&Q.length)||!(!(Q==null||(K=Q[0])===null||K===void 0)&&K.identifier)?[]:Q.map(Z=>{let{identifier:ne,label:F}=Z;return{identifier:ne,label:F}})},"getIdentifiersFromRhs"),L=o(Q=>{if(!Q)return a.c.Empty;switch(Q){case a.e.StringSchemaField:case a.e.URLSchemaField:case a.e.EmailSchemaField:return a.c.StringValue;case a.e.LongSchemaField:return a.c.LongInt;case a.e.DoubleSchemaField:case a.e.CurrencySchemaField:return a.c.DoubleNumber;case a.e.BooleanSchemaField:return a.c.BooleanValue;case a.e.DateSchemaField:return a.c.IntDaysAgo;case a.e.DateTimeSchemaField:return a.c.IntDaysAgo;case a.e.ReferenceSchemaField:return a.c.ReferenceValue;case a.e.SelectSchemaField:return a.c.Select;default:return a.c.Empty}},"getValueTypeFromFieldType"),$=o(Q=>{if(!Q)return a.c.Empty;switch(Q){case a.e.StringSchemaField:case a.e.URLSchemaField:case a.e.EmailSchemaField:return a.c.StringValue;case a.e.LongSchemaField:return a.c.LongInt;case a.e.DoubleSchemaField:case a.e.CurrencySchemaField:return a.c.DoubleNumber;case a.e.BooleanSchemaField:return a.c.BooleanValue;case a.e.DateSchemaField:return a.c.LongInt;case a.e.DateTimeSchemaField:return a.c.LongInt;case a.e.ReferenceSchemaField:return a.c.ReferenceValue;case a.e.SelectSchemaField:return a.c.Select;default:return a.c.Empty}},"getFilterValueTypeFromFieldType")},sLwf:function(w,s,e){"use strict";e.d(s,"a",function(){return m}),e.d(s,"b",function(){return g});var n=e("q1tI"),t=e.n(n),a=e("aUsF"),i=e.n(a);function c(O,E){const y=t.a.useRef(O),C=t.a.useRef(0);return E(O,y.current)||(y.current=O,C.current+=1),t.a.useMemo(()=>y.current,[C.current])}o(c,"useCustomCompareMemo");function r(O){return c(O,i.a)}o(r,"useDeepEqualMemo");var f=e("RAwb"),l=e("vMCY"),p=e("sOnb"),h=e("PKUN"),u=e("z+Hh"),b=e("4/od"),v=e("zxER"),d=e("9qQi");const m=o((O,E)=>{var y;return{list:O.list.map(C=>{var I;return{...C,isAvailable:(y=(I=C.isAvailableTo)===null||I===void 0?void 0:I.includes(E))!==null&&y!==void 0?y:!1}}),groups:O.groups.filter(C=>{var I;if(Object(p.a)(C.id))return!0;var j;return(j=(I=C.isAvailableTo)===null||I===void 0?void 0:I.includes(E))!==null&&j!==void 0?j:!1})}},"filterVariablesByStepId");function g(O){const E=Object(f.b)(),y=Object(v.c)(h.v),C=Object(v.c)(d.a),j=(Object(b.e)(E)?Object(u.x)(E.workflow):Object(u.x)(E)).map(N=>N.id),M=!j.includes(O.id),T=j.findIndex(N=>N===C),D=M&&C?j[T+1]:void 0,S=D??O.id,A=Object(n.useMemo)(()=>M&&!D?y:m(y,S),[M,S,D,y]);return r(Object(b.e)(E)?A:Object(l.b)(E,O))}o(g,"useStepData")},sMre:function(w,s,e){"use strict";var n=e("Z7Ay"),t=e("Lgge"),a=e("SQ0V"),i=e("LK2A"),c=e("O86Y"),r=e("yZoH"),f=e("ykb+"),l=e("I27i"),p=e("zm5I"),h=e("Ybt4"),u=e("KGIc"),b=e("7nxQ"),v=e("jlKB"),d=e("JoR1"),m=e("beVI"),g=e("KgyH"),O=e("+jzL"),E=e("qiCS"),y=e("G0eX"),C=e("z28c"),I=e("7ibc"),j=e("jeQL"),M=e("q1tI"),T=e.n(M),D=e("ktUG"),S=e("5IZy"),A=e("WwqK"),P=e("2um6"),N=e("Pw4T"),G=e("1Np4"),V=e("CnKg"),k=e("n0Pp"),x=e("3L56"),H=e("8Dn9"),R=e("nVRZ"),W=e("+lUI"),U=e("kghi"),_=e("13wQ"),B=e("/46j"),z=e("B1w/"),L=e("Ubdx"),$=e("8ZEM"),Q=e("oY18"),K=e("afXM"),Z=e("nNoG"),ne=e("4cU5"),F=e("S0gs"),J=e("T7Sj"),X=e("wmqn");const Y=new Z.b("quip_delegate"),ae=["long_task_over_threshold","unhandled_promise_rejection"],ee="canvas:model-probe",q="canvas:fsck-probe",te="canvas:model-checksum";let de=o(class{didInitialize(){var Xe,bt;(bt=(Xe=this).onInitialize)===null||bt===void 0||bt.call(Xe)}didFailToInitialize(Xe,bt){var Nt,Pt;bt?this.logger.error(bt,`didFailToInitialize: ${Xe}`):this.logger.error(new Error(`didFailToInitialize: ${Xe}`)),(Pt=(Nt=this).onFailToInitialize)===null||Pt===void 0||Pt.call(Nt,bt||new Error(Xe))}refreshUserJwt(){return t.a.resolve(void 0)}focusedSectionStateChanged(){}updateTitle(Xe,bt,Nt,Pt){const nn=Object(z.a)(this.getState(),bt);nn&&(Object(B.c)(this.getState(),nn)!==Xe||Pt&&Object(B.a)(this.getState(),nn)!==Pt)&&this.dispatch(Object(_.a)({docId:nn,newTitleString:Xe,isEmpty:Nt,newTitleBlocks:Pt}))}updatePresenceInfo(Xe,bt){const Nt=Object(z.a)(this.getState(),bt);if(Nt){const Pt=Xe.map(nn=>nn.replace("su:",""));this.dispatch(Object(L.d)({docId:Nt,editors:Pt}))}}openFindModal(Xe,bt){this.dispatch(Object($.b)({selectionString:Xe,replace:bt}))}updateFindResults(Xe,bt){this.dispatch(Object($.c)({resultCount:Xe,currentResultIndex:bt}))}didRecordDiagnosticsEvent(Xe,bt,Nt){if(!Xe)return;const Pt=Object(j.a)(Xe,(mn,vn)=>(vn==null?void 0:vn.endsWith("_dom"))||(vn==null?void 0:vn.endsWith("_pblite"))||(vn==null?void 0:vn.startsWith("dom_"))||(vn==null?void 0:vn.startsWith("pblite_")));let nn=Xe.type;if(!nn||nn==="exception"){var rn;nn=Xe.message||Xe.exception||((rn=Xe.stack)===null||rn===void 0?void 0:rn.split(`
`)[0])}if(nn=Object(V.j)(nn),ae.includes(nn)){bt?this.logger.debug(Pt):this.logger.info(Pt);return}if(Nt){const mn=new Error(nn||"Unknown Quip Error");Xe.stack&&(mn.stack=Xe.stack,delete Pt.stack),Object(W.a)(nn,()=>{this.logger.error(mn,Pt)})||this.logger.warn(Pt);return}if(bt){if((Xe==null?void 0:Xe.type)==="save_document"){const mn=(Xe==null?void 0:Xe.save_phase)||"";if(mn.includes("early_exit")||mn.includes("error")){this.logger.warn(Pt);return}}this.logger.debug(Pt);return}(Pt==null?void 0:Pt.type)==="document_prepare_for_close"&&(Pt==null||delete Pt.stack),this.logger.info(Pt)}didRecordMetric(Xe,bt){const Nt=o((rn,mn,vn)=>{const Xt=this.tracer.createSpan({name:rn,options:{tags:{...mn,success:vn}},samplingOptions:{sampleType:ne.g.ALWAYS}});this.tracer.reportSpans([Xt])},"createAndReportProbeSpan");["unprompted_model_probe","unprompted_model_probe_changes_found","document_fsck_probe","document_fsck_probe_failure","model_checksum_attempted","model_checksum_mismatch"].includes(Xe)&&this.telemeter.count(Xe);const Pt={};if(Xe==="unprompted_model_probe")Nt(ee,bt,!0);else if(Xe==="unprompted_model_probe_changes_found"){Pt.socket_state=Object(k.c)(this.getState());const{openCount:rn,missingFileIdCount:mn,missingSubCount:vn,lastSubTimeAgo:Xt,staticModeCount:ht}=Object(U.a)(this.getState());Pt.open_docs=rn,Pt.temp_id_count=mn,Pt.static_mode_count=ht,Pt.no_sub_count=vn,Pt.last_sub_time_ago=Xt,vn>0&&this.telemeter.count("unprompted_model_probe_missing_sub"),Nt(ee,{...bt,...Pt},!1)}else Xe==="document_fsck_probe"?Nt(q,bt,!0):Xe==="document_fsck_probe_failure"?Nt(q,bt,!1):Xe==="model_checksum_attempted"?Nt(te,bt,!0):Xe==="model_checksum_mismatch"&&Nt(te,bt,!1);const nn=bt.thread_id;nn?this.dispatch(Object(x.a)({quipThreadId:nn,reason:"didRecordMetric"})).then(rn=>{this.clogger.track(D.EventId.QUIP_DOC_EMBED_EVENT,{contexts:{quip:{metric:Xe,...bt,...Pt},core:{quip_file_id:rn,file_id:rn}}})}):this.clogger.track(D.EventId.QUIP_DOC_EMBED_EVENT,{contexts:{quip:{metric:Xe,...bt,...Pt}}})}didRecordClientperfMetric(Xe,bt,Nt,Pt){const nn=this.tracer.createSpan({name:Xe,options:{startTime:this.perfTimeOrigin+bt,closeTime:this.perfTimeOrigin+Nt,tags:Pt}});this.tracer.reportSpans([nn])}didSaveDoc(Xe){this.dispatch(Object(x.a)({quipThreadId:Xe,reason:"didSaveDoc"})).then(bt=>{this.dispatch(Object(H.b)({fileId:bt,lastSaved:Date.now()}))})}didCompleteNetworkRequest(Xe){Object(R.g)({method:Xe.method,url:Xe.url,headers:Xe.requestHeaders,body:Xe.requestBody},{headers:Xe.responseHeaders,body:{}})}startTrace(Xe,bt){if(!this.trace)return null;const Nt=this.trace.startSpan(`canvas:${Xe}`,{tags:bt}),Pt=Symbol("span");return this.spans.set(Pt,Nt),Pt}startSpan(Xe,bt,Nt){if(!Xe||!this.trace)return null;const Pt=this.spans.get(Xe);if(Pt){const nn=this.trace.startSpan(`canvas:${bt}`,{parentSpanId:Pt.getId(),tags:Nt}),rn=Symbol("span");return this.spans.set(rn,nn),rn}return this.logger.debug("Invalid parent span/trace id"),null}endTraceOrSpan(Xe,bt){if(!Xe||!this.trace)return;const Nt=this.spans.get(Xe);Nt?(bt&&Nt.addTags(bt),Nt.close(),this.spans.delete(Xe)):this.logger.debug("Invalid trace or span id",Xe)}a11yAnnounce(Xe,bt,Nt,Pt){const nn=Object(z.a)(this.getState(),bt);nn&&Object(A.c)(Xe,nn,Nt,Pt)}a11yAnnounceIfScreenReaderEnabled(Xe,bt,Nt,Pt){Object(P.j)(this.getState())&&this.a11yAnnounce(Xe,bt,Nt,Pt)}showToast(Xe,bt){const Nt=bt==null?void 0:bt.icon,Pt=bt==null?void 0:bt.targetWindow;this.dispatch(Object(Q.a)({element:T.a.createElement(K.a,{message:Xe,icon:Nt}),targetWindow:Pt}))}showToastForContext(Xe,bt){switch(Xe){case i.ToastMessageContext.LINK_COPIED:return this.dispatch(Object(J.a)({targetWindow:bt})),!0;case i.ToastMessageContext.LINK_FILE_SHARE_BLOCKED:{const Nt=Y.t("File sharing has been disabled in canvases using Slack Connect");return this.showToast(Nt,{targetWindow:bt}),!0}case i.ToastMessageContext.TABLE_SIZE_LIMIT_REACHED:{const Nt=Y.t("This table has reached the maximum number of cells allowed in a canvas.");return this.showToast(Nt,{icon:"disable",targetWindow:bt}),!0}default:return!1}}isOnline(){return Object(l.e)(this.getState())}updateFileReadTsBeforeSave(Xe){const bt=this.getState(),Nt=Object(z.a)(bt,Xe),Pt=Date.now();Nt&&this.dispatch(Object(F.a)({fileId:Nt,timestamp:Pt}))}addHighlightsForPill(Xe,bt){const Nt=this.getState(),Pt=Object(z.a)(Nt,Xe);if(Pt){const nn=Date.now(),rn=bt.map(mn=>({sectionId:mn,timestamp:nn}));this.dispatch(Object(X.b)({fileId:Pt,sections:rn}))}}markAllHighlightsSeen(Xe){const bt=this.getState(),Nt=Object(z.a)(bt,Xe);Nt&&this.dispatch(Object(X.a)({fileId:Nt}))}constructor({dispatch:Xe,getState:bt,onInitialize:Nt,onFailToInitialize:Pt,trace:nn}){this.spans=new Map,this.dispatch=Xe,this.getState=bt,this.onInitialize=Nt,this.onFailToInitialize=Pt,this.clogger=Object(S.a)({getState:bt}),this.logger=Object(h.b)({getState:bt}),this.telemeter=Object(N.d)({getState:bt}),this.tracer=Object(G.a)({getState:bt}),this.perfTimeOrigin=performance.timeOrigin||performance.timing.navigationStart,this.trace=nn}},"QuipDelegate");var se=e("u0bz"),re=e("/mzS"),oe=e("nSuI");let ce=o(class{config(){return{renderTargetUrl:`${location.protocol}//${location.hostname}/docs/ui-render-target`,supportedEmbededObjectTypes:[i.EmbeddedObjectType.SLACK_OBJECT,i.EmbeddedObjectType.LINK,i.EmbeddedObjectType.TEXT,i.EmbeddedObjectType.HYPERLINK,i.EmbeddedObjectType.TABLE,i.EmbeddedObjectType.DRAG_OVERLAY,i.EmbeddedObjectType.HEADER,i.EmbeddedObjectType.COMMENT_METADATA],supportedSlackObjectTypes:[i.SlackObjectType.USER,i.SlackObjectType.FILE,i.SlackObjectType.UNFURL,i.SlackObjectType.DOCUMENT,i.SlackObjectType.PENDING_URL,i.SlackObjectType.GENERIC,i.SlackObjectType.BACKGROUND]}}},"QuipEmbedConfigProvider");var ue=e("9hgN"),Pe=e("cQoj"),Ye=e("6v4I"),$e=e("9oTK"),Ke=e("mM05"),qe=e.n(Ke),ct=e("/4Fx"),Be=e("25Vh"),pe=e("pu3F"),fe=e("fR2/"),me=e("TQ9f");let Se=o(class{getHtmlFromSlackTextyJson(Xe){var bt=this;return Object($e.coroutine)(function*(){let Nt;try{const mn=JSON.parse(Xe);if(mn===null)return t.a.resolve({html:""});Nt=new qe.a(mn)}catch{return t.a.resolve({html:""})}const Pt=Object(Be.b)(Nt);if(!Pt)return t.a.resolve({html:""});const nn=Pt.ops.map(bt.convertSpecialOpsToCustom),rn=new ct.QuillDeltaToHtmlConverter(nn,{});return rn.renderCustomWith(mn=>{switch(mn.insert.type){case"slackmention":{const vn=mn.insert.value,Xt=vn.type==="mention"?"data-stringify-id":"data-channel-id";return`<a data-stringify-type="${vn.type}" ${Xt}="${vn.id}">${vn.text}</a>`}case"slackemoji":{const vn=mn.insert.value.text;return`<img alt="${vn}" data-stringify-type="emoji" data-stringify-emoji="${vn}" stringify-emoji="${vn}">`}default:return""}}),t.a.resolve({html:rn.convert()})})()}convertSpecialOpsToCustom(Xe){var bt;if(!((bt=Xe.attributes)===null||bt===void 0)&&bt.slackmention){const Nt=Object(fe.b)(Xe);if(pe.L.includes(Nt))return Xe;let Pt;if(Object(fe.e)(Xe))Pt="channel";else if(Object(fe.g)(Xe))Pt="mention";else return Xe;return{insert:{slackmention:{type:Pt,id:Nt,text:Xe.insert}}}}return Object(me.a)(Xe)?{insert:{slackemoji:{type:"slackemoji",text:Object(me.c)(Xe)}}}:Xe}},"QuipSlackTextyHtmlConversionProvider");var je=e("UXvI"),Ue=e("M7RD");const{addObjects:ve,removeObjects:ge,clearObjects:le}=Ue.a;var he=e("ZKjC"),Te=e("oTSI"),Re=e("jvIc"),Ve=e("thso"),Ee=e("UOL+");const Ae=150,Ge=100;function Ze(Mt){var Xe,bt;return Object(Ve.b)((bt=(Xe=Object(Ee.a)(Mt))===null||Xe===void 0?void 0:Xe.quipAtoms)!==null&&bt!==void 0?bt:Mt==null?void 0:Mt.quipAtoms)}o(Ze,"getObjects");const ze=Object(Te.a)(Mt=>new Re.a({teamId:Mt,cacheSizeMaximum:Ae,cacheSizeTarget:Ge,evictionEnabled:!0,getObjects:Ze,removeObjects:Xe=>{let{ids:bt,isCacheEviction:Nt}=Xe;return Ue.a.removeObjects({ids:bt,isCacheEviction:Nt})},label:"quipAtoms",samplePercentage:100}));var lt=e("aVws");const tt=Object(he.b)((Mt,Xe)=>{const bt=Ue.c.getObjectById(Object(Ee.a)(Mt),Xe),Nt=Object(c.i)(Mt),Pt=Nt&&Object(lt.a)(Nt);return Pt&&(bt?ze(Pt).recordHit(Xe):ze(Pt).recordMiss()),bt==null?void 0:bt.value});tt.meta={name:"createSelector",key:"createSelectorgetMaybeOutdatedAtomValueByKey",description:(Mt,Xe)=>{const bt=Ue.c.getObjectById(Object(Ee.a)(Mt),Xe),Nt=Object(c.i)(Mt),Pt=Nt&&Object(lt.a)(Nt);return Pt&&(bt?ze(Pt).recordHit(Xe):ze(Pt).recordMiss()),bt==null?void 0:bt.value}};var Ot=e("5NQM");const Ct=2*1e3,St=30*1e3;let zt=o(class{get(Xe){return this.tempState.has(Xe)?this.tempState.get(Xe):tt(this.getState(),Xe)}set(Xe,bt){return this.tempState.set(Xe,bt),this.scheduleDispatch()}delete(Xe){return this.tempState.set(Xe,void 0),this.scheduleDispatch()}constructor(Xe){this.tempState=new Map,this.scheduleDispatch=Object(je.a)(()=>Object(Ot.c)(()=>{const bt=[],Nt=[];Array.from(this.tempState.entries()).forEach(Pt=>{let[nn,rn]=Pt;rn===void 0?(Nt.push(nn),this.tempState.delete(nn)):rn instanceof Object||(bt.push({id:nn,value:rn}),this.tempState.delete(nn))}),this.dispatch(ve({objects:bt})),this.dispatch(ge({ids:Nt}))},{timeout:Ct}),St,{leading:!1,trailing:!0}),this.dispatch=Xe.dispatch,this.getState=Xe.getState}},"QuipAtomStorageProvider");const kt={IDLE_CALLBACK_TIMEOUT:Ct,THROTTLE_TIMEOUT:St};var on=e("zE4u"),_t=e("I3z+"),be=e("Aqb/"),ot=e("T5R/"),rt=e("RVJP"),Jt=e("AdD7"),Qt=e("PXOn"),qt=e("Oczg");let $t;const hn={All:"1",Embedded:"embedded",Controller:"controller"};let gn=o(()=>t.a.resolve(Promise.resolve().then(e.bind(null,"LK2A"))).then(Mt=>{let{CollabApi:Xe}=Mt;return bt=>new Xe(bt)}),"builtInCollabClientCreator");const Cn=o(()=>{let Mt;return Object(f.b)()?Mt="slack-dev":Object(f.f)()?Mt="staging.slack-dev":Mt="slack-prod",`https://${Mt}.slack.quip.systems`},"getQuipIngressOrigin"),Mn=o(Mt=>Cn(),"collabEmbeddedScriptOrigin"),kn=o((Mt,Xe)=>($t&&!$t.isRejected()||($t=new t.a((bt,Nt)=>{const Pt=document.createElement("script");Pt.src=Xe===hn.All||Xe===hn.Embedded?i.GrafterUrls.EMBEDDED_JS:`${Mn(Mt)}/collab/embedded.js`,Pt.type="module",Pt.crossOrigin="anonymous",Pt.onload=()=>{const nn=Date.now();let rn;const mn=o(()=>{const vn=window.Collab;vn?(clearInterval(rn),bt(Xt=>new vn(Xt))):Date.now()-nn>1e4&&(clearInterval(rn),Nt(new Error("Collab API failed to load")))},"check");rn=setInterval(mn,100),mn()},Pt.onerror=(nn,rn,mn,vn,Xt)=>{Nt(Xt)},window.Collab=void 0,document.body.appendChild(Pt)})),$t),"loadExternalClientCreator"),na=o(Mt=>{if(Object(rt.d)(Mt,"canvas_ingress_same_origin")==="on"){const bt=Object(c.g)(Mt);return`https://${Object(Qt.a)(bt)}/canvas`}const Xe=Object(m.g)(Mt);return`https://slack-infra-canvas.${Object(y.t)(Xe)}`},"collabBaseURL");let oa=!0;const ba=Object(a.c)("Initialize the Quip SDK client",(Mt,Xe)=>{const bt=Xe(),Nt=Object(c.g)(bt),Pt=Object(c.i)(bt),nn=new URLSearchParams(window.location.search),rn=nn.get("use_remote_collab_script")==="1";var mn;const vn=(mn=nn.get("quip_js_path"))!==null&&mn!==void 0?mn:void 0;if(!Nt)return t.a.reject(new Error("Missing team ID for client initialization"));const Xt=qt.a.get(bt);if(Xt&&!Xt.isRejected()&&!Xt.isCancelled())return Xt;const ht=Object(E.e)(window.location.href),It=ht&&ht.client_theme,Ft=Object(p.a)(bt);document.documentElement.dataset.enableSystemJsForking="true";const Bt=Object(G.a)({getState:Xe});let en;const On=Object(rt.d)(bt,"canvas_ingress_same_origin")==="on";oa&&(en=Bt.createTrace({traceName:"canvas:create-collab-api",tags:{"same-origin":On},samplingOptions:{sampleType:be.a.ALWAYS}}),oa=!1);const yn=ya(bt,rn,vn,en),Dn=yn.catch(En=>{throw Object(h.b)({getState:Xe}).error(En,"Failed to initialize Collab SDK: creator promise rejected",ga(yn)),En}).then(En=>{let Vt=null;return Zn(Mt,Xe,an=>new t.a((sn,bn)=>{const jn=new de({dispatch:Mt,getState:Xe,onInitialize(){sn(Vt)},onFailToInitialize(An){bn(An)},trace:en}),Tn=ut({state:bt,dispatch:Mt,getState:Xe,teamId:Nt,topLevelTeamId:Pt,clientThemeQP:It,clientTheme:Ft,quipDelegate:jn,attemptNumber:an,quipJsPath:vn});Vt=En(Tn),Object(n.c)(Nt,"quipCollab",Vt)}),(an,sn)=>{Xn({timeMs:an,retries:sn,client:Vt,getState:Xe})},(an,sn)=>{Ht({error:an,retries:sn,client:Vt,getState:Xe})})}).then(En=>(en&&(en.addTags({success:!0}),Bt.reportTrace(en)),En)).catch(En=>{throw en&&(en.addTags({success:!1,error:`${En}`}),Bt.reportTrace(en)),En});return qt.a.set(bt,Dn),Dn});ba.meta={name:"createThunk",key:"createThunkinitializeClient",description:"Initialize the Quip SDK client"};function ga(Mt){return Mt.isPending()?"pending":Mt.isFulfilled()||Mt.isResolved()?"resolved":Mt.isRejected()?`rejected: ${Mt.reason}`:Mt.isCancelled()?"cancelled":"weird"}o(ga,"getPromiseStateDescription");function ya(Mt,Xe,bt,Nt){const Pt=Nt==null?void 0:Nt.startSpan("canvas:client-creator-promise"),nn=bt===hn.All||bt===hn.Embedded;return(Xe||nn?kn(Mt,bt):gn()).finally(()=>{Pt==null||Pt.close()})}o(ya,"getClientCreatorPromise");function Zn(Mt,Xe,bt,Nt,Pt){let nn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:3,rn=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0;if(!Object(l.d)(Xe()))return t.a.reject(new Error("Slack is offline"));const mn=Date.now(),vn=setTimeout(()=>{Nt(Date.now()-mn,nn)},2e4);return bt(rn).then(Xt=>(clearTimeout(vn),Xt)).catch(Xt=>{if(clearTimeout(vn),Pt(Xt,nn),nn===1)throw Xt;return Mt(Object(r.a)()).then(ht=>{if(!ht)throw new Error("checkAuth failed");return t.a.delay(2e3)}).then(()=>Zn(Mt,Xe,bt,Nt,Pt,nn-1,rn+1))})}o(Zn,"retry");function Xn(Mt){const{retries:Xe,timeMs:bt,client:Nt,getState:Pt}=Mt,nn=o(mn=>{Object(h.b)({getState:Pt}).error(new Error("Collab init still running"),{retries:Xe,initLog:mn,timeMs:bt})},"log"),rn=Nt?Nt.getInitLog(30):t.a.resolve({});Nt?rn.then(mn=>{nn(mn)}):nn({})}o(Xn,"logSlowAttempt");function Ht(Mt){const{error:Xe,retries:bt,client:Nt,getState:Pt}=Mt;Object(h.b)({getState:Pt}).error(Xe,"Failed to initialize Collab SDK: controller load (1/2)",{retries:bt,bridgeLog:Nt==null?void 0:Nt.getBridgeDebugReport()});const nn=o(mn=>{Object(h.b)({getState:Pt}).error(Xe,"Failed to initialize Collab SDK (2/2)",{retries:bt,initLog:mn})},"log2"),rn=Nt?Nt.getInitLog(30):t.a.resolve({});Nt?rn.then(mn=>{nn(mn)}):nn({}),rn.then(mn=>{Object(h.b)({getState:Pt}).warn("Failed to initialize Collab SDK (unredacted)",Xe,{retries:bt,bridgeLog:Nt==null?void 0:Nt.getBridgeDebugReport(!1),initLog:mn})})}o(Ht,"logCollabLoadFailure");function ut(Mt){const{state:Xe,dispatch:bt,getState:Nt,teamId:Pt,topLevelTeamId:nn,clientThemeQP:rn,clientTheme:mn,quipDelegate:vn,attemptNumber:Xt,quipJsPath:ht}=Mt,It=[];It.push(i.Feature.SLACK_AUTOCOMPLETE),It.push(i.Feature.DISABLE_GLOBAL_SHORTCUTS),Object(I.A)(Xe)&&It.push(i.Feature.A11Y_KEYBOARD_NAVIGATION),Object(rt.d)(Xe,"canvas_shortcut_command")==="on"&&It.push(i.Feature.SLASH_SHORTCUT_COMMANDS),Object(rt.d)(Xe,"canvas_insert_command_nux")==="on"&&It.push(i.Feature.SLASH_SHORTCUT_COMMANDS_NUX),Object(I.B)(Xe)&&It.push(i.Feature.INLINE_COMMENTS),It.push(i.Feature.ADD_COLUMN_FROM_SECTION_MENU),It.push(i.Feature.REQUEST_COMPLETION_HOOK),Object(I.q)(Xe)&&It.push(i.Feature.EDITABLE_CONTROL),It.push(i.Feature.MOVE_CARET_WHEN_OPENING_ANNOTATION),It.push(i.Feature.OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION),Object(I.z)(Xe)&&It.push(i.Feature.ALLOW_SLACK_OBJECT_TITLE_UNFURL);const Ft=se.a.getOrCreate(Xe),Bt=re.a.getOrCreate(Xe),en=oe.a.getOrCreate(Xe);Object(_t.b)(Xe)&&It.push(i.Feature.SAVED_FOR_LATER),Object(C.a)(Xe)&&It.push(i.Feature.LOCK_SECTION_FOR_INLINE_ANNOTATION),Object(I.d)(Xe)&&It.push(i.Feature.ALLOW_SLACK_TEMPLATE_PLACEHOLDER);const On=[i.SlackObjectType.CHANNEL,i.SlackObjectType.EMOJI,i.SlackObjectType.USER];Object(rt.d)(Xe,"canvas_use_new_section_highlight_styles")==="on"&&It.push(i.Feature.USE_NEW_SECTION_HIGHLIGHT),Object(rt.d)(Xe,"canvas_toolbar_performance")==="on"&&It.push(i.Feature.USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS),Object(I.s)(Xe)&&It.push(i.Feature.PRIVATE_MESSAGE_SPEEDBUMP_MODAL),Object(I.j)(Xe)&&It.push(i.Feature.PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS),Object(rt.d)(Xe,"canvas_model_updates_probe")==="on"&&It.push(i.Feature.MODEL_UPDATES_PROBE),Object(rt.d)(Xe,"canvas_model_fsck_probe")==="on"&&It.push(i.Feature.MODEL_FSCK_PROBE),Object(rt.d)(Xe,"canvas_model_integrity_probe")==="on"&&It.push(i.Feature.MODEL_INTEGRITY_PROBE),Object(rt.d)(Xe,"canvas_model_integrity_changes_check")==="on"&&It.push(i.Feature.MODEL_INTEGRITY_CHANGES_CHECK),Object(rt.d)(Xe,"canvas_image_min_dimensions")==="on"&&It.push(i.Feature.IMAGE_MIN_DIMENSIONS),Object(rt.d)(Xe,"canvas_clickable_comments")==="on"&&It.push(i.Feature.ONLY_OPEN_ANNOTATION_WHEN_CARET_IS_INSIDE),Object(rt.d)(Xe,"quip_transient_edit_highlights")==="on"&&It.push(i.Feature.TRANSIENT_SECTION_HIGHLIGHTING),Object(rt.d)(Xe,"canvas_optimize_controls_rendering")==="on"&&It.push(i.Feature.OPTIMIZE_CONTROLS_RENDERING),Object(rt.d)(Xe,"canvas_optimize_embeds_rendering")==="on"&&It.push(i.Feature.OPTIMIZE_EMBEDS_RENDERING),Object(rt.d)(Xe,"canvas_optimize_section_status_rendering")==="on"&&It.push(i.Feature.OPTIMIZE_SECTION_STATUS),Object(rt.d)(Xe,"canvas_header_image")==="on"&&It.push(i.Feature.ALLOW_HEADER_IMAGE),Object(rt.d)(Xe,"canvas_content_reactions")==="on"&&It.push(i.Feature.CONTENT_REACTION_BAR),Object(rt.d)(Xe,"canvas_gutter_redesign")==="on"&&It.push(i.Feature.GUTTER_REDESIGN),Object(rt.d)(Xe,"canvas_new_edits_pill")==="on"&&It.push(i.Feature.SECTION_UPDATE_PILL_ENABLED),Object(rt.d)(Xe,"canvas_simple_tables_cell_merging")==="on"&&It.push(i.Feature.SIMPLE_TABLES_CELL_MERGING),Object(rt.d)(Xe,"canvas_badging_highlighting")==="on"&&It.push(i.Feature.HIGHLIGHT_IN_STANDALONE_CANVASES);const yn=ue.a.getOrCreate(Xe,qt.c,On),Dn=Pe.a.getOrCreate(Xe),En=new Ye.a,Vt=new Se,an=on.a.getOrCreate(Xe),sn=Object(ot.b)(),bn=Object(rt.d)(Xe,"canvas_systemjs_shared_loader")==="on";return{fileDataProvider:Bt,commentsDataProvider:Ft,documentEventProvider:en,delegate:vn,features:It,origin:na(Xe),appearance:rn??mn,underlineAllLinks:Object(d.t)(Xe,"underline_links"),enableAnimations:Object(d.t)(Xe,"a11y_animations"),displayEmojiAsPlainText:Object(v.a)(Xe),spellcheckEnabled:Object(d.t)(Xe,"webapp_spellcheck"),slackObjectProvider:yn,anchorLinkProvider:Dn,teamId:Pt,topLevelTeamId:nn,embeddedConfigProvider:new ce,atomStorageProvider:new zt({dispatch:bt,getState:Nt}),urlParsersProvider:En,slackObjectUIProvider:an,slackTextyHtmlConversionProvider:Vt,enableWebCaching:Object(I.h)(Xe),useSmartQuotesAndDashes:!!sn&&sn.useSmartQuotes&&sn.useSmartDashes,attemptNumber:Xt,isGov:Object(Jt.b)(),useGraftedMode:ht===hn.All||ht===hn.Controller,useSystemJsSharedFork:bn,xhrWithCredentials:!0,getSlackToken:()=>{var jn;const Tn=(jn=Object(g.a)({},{teamId:Pt}))===null||jn===void 0?void 0:jn.token;if(!Tn){const An=new Error("getSlackToken error");throw Object(h.b)({getState:Nt}).error(An,`Looking for ${Pt} but could only find: ${Object(O.c)().join(",")}`),An}return Tn},language:Object(b.a)(),pathRewriteHook:jn=>{let Tn=Object(u.f)();return(!Tn||Tn==="0")&&(Tn="dev"),`${jn}${jn.includes("?")?"&":"?"}_x_version_ts=${encodeURIComponent(Tn)}`}}}o(ut,"createInitConfig");var gt=s.a=ba;const Wt={builtInCollabClientCreator:gn,collabCreatorPromise:$t};Object.defineProperty(Wt,"collabCreatorPromise",{get:()=>$t,set:Mt=>{$t=Mt}}),Object.defineProperty(Wt,"builtInCollabClientCreator",{get:()=>gn,set:Mt=>{gn=Mt}})},sXH4:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("68qM"),i=e("Z2IC"),c=e("xPkT");const r=24,f=o(l=>{let{streamManager:p,recording:h,onDotsUpdate:u,className:b,warningHighlight:v}=l;const d=Object(i.a)(()=>new AudioContext),m=Object(i.a)(()=>{const D=d.createAnalyser();return D.fftSize=32,D.smoothingTimeConstant=.2,D}),g=Object(i.a)(()=>new Uint8Array(m.frequencyBinCount)),O=Object(n.useRef)(),[E,y]=Object(n.useState)(()=>new Array(r).fill(-1)),C=Object(n.useRef)(E);C.current=E;const I=p.microphoneStream;Object(a.a)(()=>{I&&(O.current=d.createMediaStreamSource(I),O.current.connect(m))},[I]);const j=10,M=5;Object(a.a)(()=>{if(!h)return;const D=new Array(M).fill(0);let S=0;const A=setInterval(()=>{m.getByteFrequencyData(g);let P=0;for(let G=0;G<g.length;G++)P+=(g[G]/(255*.9))**2;const N=Math.sqrt(P/g.length);if(D[S]=N,S+=1,S===M){const G=Math.min(1,Math.max.apply(void 0,D));y([...C.current.slice(-r+1),G]),S=0}},1e3/j/M);return()=>clearInterval(A)},[h]),Object(n.useEffect)(()=>{u&&u(E)},[E,u]);const T=Object(n.useMemo)(()=>({mode:"data",color:v?"red":"blue"}),[v]);return t.a.createElement(c.a,{data:C.current,width:r,className:b,highlight:T,minHeight:3})},"AudioWaveformRecorder");f.displayName="AudioWaveformRecorder",s.a=f},"sa+Q":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("B/Zf"),i=e("m5Yc"),c=e("wnwS");const r=o(f=>{let{type:l,channelId:p,style:h,clogLinkClick:u,noLinking:b}=f;return l!==i.b.CHANNEL||!p?null:t.a.createElement(c.a,{style:h},t.a.createElement(a.a,{id:p,noLinking:b,clogLinkClick:u}))},"Channel");r.displayName="Channel",s.a=r},slMn:function(w,s,e){"use strict";var n=e("gSGL"),t=e("nKoU"),a=e("bPB8");const i=o(c=>{if(!Object(n.a)(c))return null;const r=[...c].map(f=>{const l=f.codePointAt(0);if(!l)return null;const p=l.toString("16");return Object(t.a)(p,4,"0")});return Object(a.a)(r).join("-")},"convertNativeEmojiToUnicodeSequence");s.a=i},somW:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("Jk7K"),c=e("DXiN"),r=e("g3+L");const f=o(ve=>{const{startFocusTransitionFallbackTimeout:ge,cancelFocusTransitionFallback:le}=Object(n.useContext)(r.a),he=Object(n.useCallback)((Re,Ve)=>{ge(ve,Re,Ve)},[ve,ge]),Te=Object(n.useCallback)(()=>{le(ve)},[le,ve]);return Object(n.useEffect)(()=>()=>{le(ve)},[le,ve]),[he,Te]},"useFocusTransitionFallback");var l=e("MLXQ"),p=e("VymY"),h=e("WfUL"),u=e("lhZz"),b=e("SQ0V"),v=e("JoR1"),d=e("npde"),m=e("nNoG"),g=e("mD0D"),O=e.n(g),E=e("Cfcg"),y=e("BHdc"),C=e("+kJ4"),I=e("I6n1"),j=e("WMzb"),M=e("/MKj"),T=e("T1zM"),D=e("zxER");function S(ve){const ge=Object(M.useDispatch)();return[Object(D.c)(le=>Object(v.t)(le,ve)),le=>ge(Object(T.f)({pref:ve,value:le}))]}o(S,"useUserPref");var A=e("G5NC"),P=e("7JUD"),N=e("iUFw"),G=e("Ws5+"),V=e("3V+Q"),k=e("AEEY"),x=e("9org"),H=e("zKrX"),R=e("YyjR"),W=e("lvWT"),U=e("1Qjs"),_=e("tYRW"),B=e("MIV3");function z(){return z=Object.assign||function(ve){for(var ge=1;ge<arguments.length;ge++){var le=arguments[ge];for(var he in le)Object.prototype.hasOwnProperty.call(le,he)&&(ve[he]=le[he])}return ve},z.apply(this,arguments)}o(z,"_extends");const L=new m.b("contextual_help"),$={elementName:"contextual_help_modal_pref",onChange:{enableClogAction:!0}},Q=o(ve=>{let{suppressOnClose:ge=!1,cancelButtonAutoClogProps:le,cancelButtonText:he,children:Te,className:Re,closeModal:Ve,"data-qa":Ee="contextual_help_modal",onSubmit:Ae=a.a,contextualHelpCheckboxLabel:Ge,pref:Ze,showCancelButton:ze=!1,submitButtonAutoClogProps:lt,submitButtonText:tt,submitButtonType:Ot="primary",title:Ct="",illustration:St,setUserPrefByApi:zt=a.a}=ve;const kt=Object(j.a)(),[on]=S(Ze),_t=I.c[Ze],[be,ot]=Object(n.useState)(_t!==on),rt="contextual-help-modal-dialog-title",Jt="contextual-help-modal-dialog-content",Qt=Object(n.useCallback)(gn=>{kt.action("CONTEXTUAL-HELP-MODAL",`Changed ${Ze}: ${gn}`),Object(A.a)()?Object(B.a)(Object(T.f)({pref:Ze,value:gn})):zt({pref:Ze,value:gn})},[kt,Ze,zt]),qt=Object(n.useCallback)(function(){let gn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ge?Qt(!_t):gn&&Qt(_t!==be),Ve()},[ge,Ve,_t,be,Qt]),$t=Object(n.useCallback)(gn=>{ot(gn.target.checked)},[]),hn=Object(n.useCallback)(()=>{Ae(),qt(!0)},[qt,Ae]);return t.a.createElement(P.a,{className:Re,labelledby:rt,describedby:Jt,closeModal:qt,role:"alertdialog",dataQa:Ee,shouldReturnFocusAfterClose:!0,showCloseButton:!1},t.a.createElement(W.a,null,St?t.a.createElement(U.a,z({"aria-hidden":!0},St)):null,t.a.createElement(_.a,{title:Ct,id:rt,"data-qa":`${Ee}_header`})),t.a.createElement(k.a,null,t.a.createElement(x.a,{"data-qa":`${Ee}_content`,id:Jt},Te)),t.a.createElement(H.a,{"data-qa":`${Ee}_footer`,className:Object(y.default)({"c-contextual_help_shortcuts_list__footer_with_checkbox":!ge})},!ge&&t.a.createElement(V.b,{"data-qa":`${Ee}_pref_checkbox_label`,type:"inline",cursor:"pointer",text:Ge||L.t("Don\u2019t show me this again",{fallbackHash:"a4232cdf54911c7d294da66c7a7a824355769293",fallbackHashNs:"msg_edit"})},t.a.createElement(G.a,{checked:be,onChange:$t,autoClogProps:$})),t.a.createElement(R.a,null,ze&&t.a.createElement(N.d,{type:"outline",onClick:qt,"data-qa":`${Ee}_cancel`,autoClogProps:le},he||L.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),t.a.createElement(N.d,{type:Ot,onClick:hn,"data-qa":`${Ee}_submit`,autoClogProps:lt,autoFocus:!0},tt||L.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"messages"})))))},"ContextualHelpModal");Q.displayName="ContextualHelpModal";const K=o(ve=>({closeModal:()=>ve(Object(C.a)()),setUserPrefByApi:ge=>Object(T.f)(ge)}),"mapDispatchToProps");var Z=Object(E.a)(null,K)(Q),ne=e("DPHH"),F=e("Trx9"),J=e("kBpe"),X=e("d/xU"),Y=e("Tevt");const ae=new m.b("contextual_help"),ee={elementName:"confirm_seen_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},q={elementName:"learn_more_link_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},te={src:O.a,alt:""},de=o(()=>{const ve=Object(J.i)(),ge=ae.t("Are you trying to move sections?",{fallbackHash:"3f506b9d5da983587d6842f20a64fa5d55ff16a2"}),le=`https://${Object(X.l)()}/help/articles/115003340723-Navigate-Slack-with-your-keyboard`,he=Object(ne.c)("Cmd"),Te=Object(ne.c)("Ctrl"),Re=Object(ne.c)(ne.b.ArrowLeft),Ve=Object(ne.c)(ne.b.ArrowRight),Ee=ae.t("F6"),Ae=ae.rt("{ctrlKey}+{f6Key}",{ctrlKey:Te,f6Key:Ee}),Ge=o(()=>Object(J.p)()?ae.rt("{cmdKey}+{ctrlKey}+{leftArrowKey} or {rightArrowKey}",{cmdKey:he,ctrlKey:Te,leftArrowKey:Re,rightArrowKey:Ve}):ve?Ee:Ae,"getSectionNavigationKeys"),Ze=ae.rt("<ul><li>To move focus between different sections of Slack\u2019s interface press <strong>{sectionNavigationKeys}</strong></li><li>To navigate between items in toolbars, lists, and tabs use <strong>arrow keys</strong></li></ul><link>Learn more about keyboard navigation</link>",{sectionNavigationKeys:Ge(),"<link>":lt=>{let{text:tt}=lt;return t.a.createElement(Y.a,{href:le,autoClogProps:q},tt)},fallbackHash:"98591a618babdd526f05af764ebdd2c6a90047c1"}),ze=ae.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"});return t.a.createElement(F.a,{uiComponentName:"ContextualHelpForSectionNavigationModal",clogImpression:!0},t.a.createElement(Z,{pref:"should_show_contextual_help_for_section_navigation",submitButtonAutoClogProps:ee,title:ge,illustration:te,suppressOnClose:!0,submitButtonText:ze},Ze))},"ContextualHelpForSectionNavigationModal");de.displayName="ContextualHelpForSectionNavigationModal";var se=de;const re=Object(d.a)(se),oe=Object(b.c)("Maybe open modal dialog with contextual help for section navigation",(ve,ge)=>{const le=ge();Object(v.t)(le,"should_show_contextual_help_for_section_navigation")&&ve(re())});oe.meta={name:"createThunk",key:"createThunkshowContextualHelpForSectionNavigation",description:"Maybe open modal dialog with contextual help for section navigation"};var ce=oe,ue=e("u43d"),Pe=e("O86Y"),Ye=e("1ufr"),$e=e("/0iu"),Ke=e("s4P+"),qe=e("azFB"),ct=e("7xYR"),Be=e("XMOc");function pe(){return pe=Object.assign||function(ve){for(var ge=1;ge<arguments.length;ge++){var le=arguments[ge];for(var he in le)Object.prototype.hasOwnProperty.call(le,he)&&(ve[he]=le[he])}return ve},pe.apply(this,arguments)}o(pe,"managed_focus_container_extends");const fe={display:"contents"},me="active-managed-focus-container",Se=o(()=>!0,"shouldAlwaysFocus"),je=o(ve=>{const{id:ge,index:le,focusFn:he=a.a,restoreFocusFn:Te=void 0,enableSectionNavigation:Re=!0,refToForward:Ve=void 0,onFocus:Ee=a.a,onBlur:Ae=a.a,shouldFocus:Ge=Se,onFirstHiddenTabStopFocus:Ze=a.a,onLastHiddenTabStopFocus:ze=a.a,tabCountToShowContextualHelp:lt=4,window:tt,windowToken:Ot=void 0,windowId:Ct=void 0,className:St,...zt}=ve,{document:kt}=tt,{registerSection:on,unregisterSection:_t,setActiveSection:be}=Object(n.useContext)(i.a),ot=Object(l.a)(Ve),[rt,Jt]=Object(n.useState)(),[Qt,qt]=Object(n.useState)(0),{getState:$t}=Object(M.useStore)(),hn=$t();let gn=hn,Cn;Object(ue.a)(hn)?(Cn=Object(ct.getFocusedWorkspace)(hn),gn=Object(u.getStateByTeamId)(Cn)):Cn=Object(Pe.g)(hn);const Mn=Object(Ke.a)({state:gn}),kn=Object(v.t)(gn,"should_show_contextual_help_for_section_navigation"),na=Object(n.useCallback)(Pt=>Object(u.dispatchForTeamId)(Cn,Object(T.f)({pref:"should_show_contextual_help_for_section_navigation",value:Pt})),[Cn]),[oa,ba]=Object(n.useState)(!1),ga=Object(n.useCallback)(()=>{if(oa)return;const Pt=Qt+1;if(kn){qt(0),na(!1),ba(!0),Object(u.dispatchForTeamId)(Cn,re({openModalProps:{forceTargetWindowId:Ct}}));return}if(Pt>=lt){qt(0),ba(!0),Object(u.dispatchForTeamId)(Cn,re({openModalProps:{forceTargetWindowId:Ct}}));return}qt(Pt)},[oa,na,kn,lt,Qt,Cn,Ct]),ya=Object(n.useCallback)(Pt=>{Ze(Pt)},[Ze]),Zn=Object(n.useCallback)(Pt=>{ze(Pt),ga()},[ga,ze]),Xn=Object(n.useCallback)(Pt=>{be(ge),Ee(Pt)},[ge,Ee,be]),Ht=Object(n.useCallback)(Pt=>{const{target:nn,currentTarget:rn,relatedTarget:mn}=Pt;rn.contains(mn)||Jt(nn),Ae(Pt)},[Ae,Jt]),ut=Object(n.useCallback)(()=>Ge()?!ot.current||ge===$e.d?!0:!!Object(p.d)(ot.current):!1,[ot,Ge,ge]),gt=Object(n.useCallback)(()=>{var Pt;return!!(!((Pt=ot.current)===null||Pt===void 0)&&Pt.contains(kt.activeElement))},[ot,kt.activeElement]),Wt=o(()=>!(!rt||!rt.focus||!ot.current.contains(rt)||!Object(h.a)(rt,tt)),"canFocusPreviouslyFocusedElement"),Mt=Object(n.useCallback)(Pt=>{if(Pt!==kt.activeElement||!ot.current||gt())return;const nn=Object(p.d)(ot.current);nn&&nn.focus()},[ot,kt.activeElement,gt]),Xe=Object(n.useCallback)(Pt=>{if(Qt===0||oa)return;const{key:nn,shiftKey:rn}=Pt.detail;nn==="Tab"&&!rn||qt(0)},[oa,Qt]),[bt]=f(Mt);Object(n.useEffect)(()=>(kt.addEventListener("keyboard-navigation",Xe),()=>{kt.removeEventListener("keyboard-navigation",Xe)}),[kt,Xe]),Object(n.useEffect)(()=>(Re&&(on(ge,{focus:()=>{Wt()&&(Te?Te(rt):rt==null||rt.focus(),kt.activeElement===rt)||(he(),bt(Be.a,kt.activeElement))},shouldFocus:ut},le),gt()&&be(ge)),Re||_t(ge),()=>{_t(ge)}),[Re,he,Te,ge,le,on,_t,ut,rt]),Object(n.useEffect)(()=>{var Pt;Re&&(!((Pt=ot.current)===null||Pt===void 0)&&Pt.getElementsByClassName(me).length)&&Mn.devHint("UNEXPECTED MANAGED FOCUS CONTAINER HIERARCHY",`Detected an active nested ManagedFocusContainer in container ${ge}; this will disrupt app-level F6 navigation (see https://slack-github.com/slack/webapp/blob/master/js/modern/slack-kit/accessibility-components/managed-focus-container/managed-focus-container.tsx#L30-L36)`)},[Re,ot,Mn,ge]);const Nt=Re?me:void 0;return t.a.createElement(c.b,pe({onFocus:Xn,onBlur:Ht,onFirstHiddenTabStopFocus:ya,onLastHiddenTabStopFocus:Zn,ref:ot,className:Object(y.default)(St,Nt)},zt))},"ManagedFocusContainer");je.displayName="ManagedFocusContainer",je.defaultProps={style:fe,window:qe.a};var Ue=s.a=Object(Ye.a)(je)},sqFq:function(w,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"a",function(){return r});var n=e("oTSI"),t=e("s4P+"),a=e("ktUG");const i=o(f=>{try{return JSON.stringify(f)}catch(l){return Object(t.b)().error("stringify-error-constructing-link-trigger-context-from-message",l),""}},"stringifyObject"),c=Object(n.a)(f=>f!=null&&f.channelId?{location:"message",channelId:f.channelId,messageTs:(f==null?void 0:f.ts)||""}:{location:"markdown_link"},i),r=Object(n.a)((f,l)=>({eventId:a.EventId.HERMES_LINK_TRIGGER,uiComponentName:a.UiComponentName.LINK_TRIGGER_URL,entryPoint:f?"message":"other",workflowTriggerId:l.triggerId,channelId:f==null?void 0:f.channelId,onClick:{enableClogAction:!0}}),i)},sryV:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("NRPS");function t(i,c){var r,f;const l=Object(n.a)(c),p=(r=l==null?void 0:l.find(u=>u[1]===i))===null||r===void 0?void 0:r[0];if(p)return p;const h=Object(n.b)(i,i);return(f=l==null?void 0:l.find(u=>u[1]===h))===null||f===void 0?void 0:f[0]}o(t,"getTimezoneLabel");function a(i,c){const r=t(i,c);if(r)return r.replace(/\(UTC ?[+-]? ?.*?\)/,"").trim()}o(a,"getTimezoneLocationLabel")},sw7J:function(w,s,e){"use strict";e.d(s,"a",function(){return L});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("/MKj"),c=e("zxER"),r=e("Zbwg"),f=e("eUIW"),l=e("nNoG"),p=e("52Wj"),h=e("E3dU"),u=e("xwCZ"),b=e("Lgge"),v=e("0/Hl"),d=e("SQ0V"),m=e("t+0D"),g=e("dmdh"),O=e("/L8c"),E=e("cBJ3"),y=e("O86Y"),C=e("P9LH"),I=e("7ibc");const j=Object(d.c)("Calls files.revokePermission and updates the file object in the store",($,Q,K)=>{let{fileId:Z,entityId:ne,revokeNonmemberPrivateChannel:F=!1}=K;const J=Q(),X=Object(y.g)(J),Y="revoke-permission",ae=Object(I.f)(J);if(!X)return b.a.reject(new Error("Missing teamId"));if(F)return $(Object(m.a)({fileId:Z,revokeNonmemberPrivateChannel:F,reason:Y,teamId:X})).then(()=>{$(Object(E.l)({fileId:Z}))}).catch(ee=>b.a.reject(ee));if(ne&&Object(f.a)(ne))return $(Object(m.a)({fileId:Z,userId:ne,reason:Y,teamId:X})).then(()=>{$(Object(E.k)({fileId:Z,entityId:ne,entityType:v.a.Member}))}).catch(ee=>b.a.reject(ee));if(ne&&Object(r.a)(ne)){const ee=[];if(ae){const q=Object(O.a)(J,ne);if(q){const te=Object(g.e)(J,Z);!!Object(C.X)(te).find(ce=>ce===q)&&ee.push(q),!!Object(C.N)(te).find(ce=>ce===ne)&&ee.push(ne)}else ee.push(ne)}else ee.push(ne);return $(Object(m.a)({fileId:Z,channelId:ne,reason:Y,teamId:X})).then(()=>{ee.forEach(q=>{$(Object(E.k)({fileId:Z,entityId:q,entityType:v.a.Channel}))})}).catch(q=>b.a.reject(q))}return b.a.reject(new Error("Invalid entity id"))});j.meta={name:"createThunk",key:"createThunkrevokePermissionAndUpdateFile",description:"Calls files.revokePermission and updates the file object in the store"};var M=e("YUBf"),T=e("9WS/"),D=e("Ec0U"),S=e("oY18"),A=e("ktUG"),P=e("/CFe"),N=e("afXM"),G=e("bUGr"),V=e("AutL"),k=e("Fn/R"),x=e("OaiI"),H=e("RVJP"),R=e("rZ8V"),W=e("VymY"),U=e("oLdd");const _=new l.b("share-dialog"),B={uiComponentName:A.UiComponentName.QUIP_PERMISSIONS_CONFIRMATION_SPEEDBUMP,uiComponentVariant:"revoke_access_speedbump",onClick:{enableClogAction:!0}},z={continueButton:{elementName:"revoke_button",...B},cancelButton:{elementName:"cancel_button",...B}};function L($){let{fileId:Q,entityId:K,unknownPrivateChannelCount:Z,closeSpeedBump:ne,onRevokeAccessError:F=a.a,isSlackList:J,isTemplate:X}=$;const Y=Object(i.useDispatch)(),ae=Object(n.useRef)(null),ee=Object(c.c)(Ke=>Object(H.d)(Ke,"canvas_collection_prototype")==="on"&&Object(R.m)(Ke)),q=Object(c.c)(I.b),te=Object(c.c)(Ke=>Object(H.d)(Ke,"canvas_user_created_templates")==="on"),de=Object(c.c)(x.isListsEnabled),se=Object(c.c)(Ke=>Object(r.a)(K)?Object(h.d)(Ke,K):void 0),re=Object(c.c)(Ke=>Object(f.a)(K)?Object(u.g)(Ke,K):void 0),oe=Object(k.a)(re),ce=Object(c.c)(Ke=>Object(V.b)(Ke,Q??""));Object(n.useEffect)(()=>{setTimeout(()=>{var Ke;return(Ke=Object(W.d)(ae==null?void 0:ae.current))===null||Ke===void 0?void 0:Ke.focus()},0)},[]);const ue=Object(n.useCallback)(()=>{if(Q&&K){let Ke=_.t("Canvas access removed");X?Ke=te?_.t("Template access removed"):_.t("Canvas access removed"):J&&(Ke=de?_.t("List access removed"):"List access removed"),Y(j({fileId:Q,entityId:K})).then(()=>{Y(Object(S.a)({element:t.a.createElement(N.a,{message:_.t("This request is being processed, permissions will be removed after a couple of minutes.")})})),Y(Object(S.a)({element:t.a.createElement(N.a,{message:Ke})})),ee&&ce&&Object(f.a)(K)&&Y(Object(G.a)({fileId:Q,userId:K}))}).catch(()=>{F({entityId:K})}).finally(()=>{ne()})}else Q&&Z&&Y(j({fileId:Q,revokeNonmemberPrivateChannel:!0})).then(()=>{Y(Object(S.a)({element:t.a.createElement(N.a,{message:_.t("It might take a couple minutes to remove everyone in these channels")})}))}).catch(()=>{F({entityId:D.a})}).finally(()=>{ne()})},[Q,K,Z,X,J,Y,te,de,ee,ce,F,ne]);if(!Q||!se&&!re&&!Z)return null;let Pe;q&&oe?(Pe=_.t("Remove workflow from this canvas?"),X&&(Pe=te?_.t("Remove workflow from this template?"):_.t("Remove workflow from this canvas?"))):re?X&&te?Pe=_.t("Remove {name} from this template?",{name:Object(p.c)(re)}):J?Pe=de?_.t("Remove {name} from this list?",{name:Object(p.c)(re)}):`Remove ${Object(p.c)(re)} from this list?`:Pe=_.t("Remove {name} from this canvas?",{name:Object(p.c)(re)}):Z?X&&te?Pe=_.t("Remove {count, plural, =1 {# restricted channel} other {# restricted channels}} from this template?",{count:Z}):J?Pe=de?_.t("Remove {count, plural, =1 {# restricted channel} other {# restricted channels}} from this list?",{count:Z}):`Remove ${Z} restricted ${Z>1?"channels":"channel"} from this list?`:Pe=_.t("Remove {count, plural, =1 {# restricted channel} other {# restricted channels}} from this canvas?",{count:Z}):se&&(X&&te?Pe=_.rt("Remove #{channelName} from this template?",{channelName:t.a.createElement(T.a,{channel:se,bold:!1})}):J?Pe=de?_.rt("Remove #{channelName} from this list?",{channelName:t.a.createElement(T.a,{channel:se,bold:!1})}):t.a.createElement(t.a.Fragment,null,"Remove ",t.a.createElement(T.a,{channel:se,bold:!1})," from this list?"):Pe=_.rt("Remove #{channelName} from this canvas?",{channelName:t.a.createElement(T.a,{channel:se,bold:!1})}));let Ye;q&&oe?(Ye=_.t("This workflow will stop working once it`s removed from this canvas. The workflow\u2019s creators will be notified."),X&&(Ye=te?_.t("This workflow will stop working once it`s removed from this template. The workflow\u2019s creators will be notified."):"This workflow will stop working once it`s removed from this template. The workflow\u2019s creators will be notified.")):Ye=_.t("Keep in mind that some people may still have access if it\u2019s been shared in another channel they\u2019re in.");const $e=q&&oe?_.t("Remove Workflow"):_.t("Remove Access");return t.a.createElement("div",{ref:ae},t.a.createElement(M.k,{className:"p-canvas_access_speedbump",heading:Pe,description:Ye,onContinue:ue,continueButtonLabel:$e,continueButtonType:"danger",onCancel:ne,cancelButtonLabel:_.t("Cancel"),"data-qa":P.b.REVOKE_ACCESS_SPEEDBUMP,autoClogProps:z}))}o(L,"CanvasRevokeAccessSpeedBump")},sz8i:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("ZKjC"),t=e("P9LH"),a=e("E3dU"),i=e("E97Y"),c=e("dmdh"),r=e("y6S6");const f=Object(n.b)((l,p)=>{let{fileId:h,userId:u}=p;if(!u)return!1;const b=h?Object(c.e)(l,h):void 0;return!!(Object(t.C)(b).some(m=>m.user_id===u)||[...Object(t.N)(b)].some(m=>{if(Object(i.h)(Object(a.d)(l,m)))return!1;const g=Object(r.c)(l,m,u);return g.isKnown&&g.isMember}))});f.meta={name:"createSelector",key:"createSelectorisFileExplicitlySharedWith",description:(l,p)=>{let{fileId:h,userId:u}=p;if(!u)return!1;const b=h?Object(c.e)(l,h):void 0;return!!(Object(t.C)(b).some(m=>m.user_id===u)||[...Object(t.N)(b)].some(m=>{if(Object(i.h)(Object(a.d)(l,m)))return!1;const g=Object(r.c)(l,m,u);return g.isKnown&&g.isMember}))}}},szr9:function(w,s,e){"use strict";e.r(s),e.d(s,"getInsertData",function(){return b}),e.d(s,"getMatch",function(){return v}),e.d(s,"getResultFrecencyId",function(){return d}),e.d(s,"recordSelection",function(){return m});var n=e("gSGL"),t=e("Fsnq"),a=e("5IZy"),i=e("Yauy"),c=e("2oNE"),r=e("I8Au"),f=e("coh6"),l=e("GS6c"),p=e("tcou"),h=e("ktUG");const u=/(^|\n|.)([#\uFF03][^~`!@#\uFF03$%^&*()+=[\]{}\\|;:'",.<>/?\s]*)$/i,b=o(function(g){let{useChannelTagging:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!g||!g.item)return null;Object(a.a)().track(h.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"channel"}}});const E=Object(i.s)(g.item);return O?{text:`#${E}`,format:{slackmention:Object(c.a)(g.item.id||"",`#${E}`)}}:{text:`#${E}`,ensure_preceding_space:!0}},"getInsertData"),v=o(g=>{if(!Object(n.a)(g))return null;const O=g.match(u)||[],[,E,y]=O;if(!y||Object(r.a)(E))return null;if(E==="/"){const j=Object(p.a)(g);if(j&&j.length===1&&j[0].text===g)return null}const C=(O.index||0)+Object(t.a)(E);return{match:g.slice(C),index:C}},"getMatch"),d=o(g=>g&&g.item.id,"getResultFrecencyId"),m=o(g=>{let{clogger:O,query:E,result:y,results:C,teamId:I,useSearcherSessions:j}=g;const M={query:E,results:C,selectedItemId:y.item.id,source:"texty-autocomplete"};j?Object(l.a)({teamId:I,key:"texty-autocomplete"}).clogSearcherAccept({clogger:O,data:M}):Object(f.c)({clogger:O,data:M})},"recordSelection")},t7g0:function(w,s,e){"use strict"},t9SR:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("gV07"),c=e("kBd7"),r=e("HKlo"),f=e("wnwS"),l=e("m5Yc"),p=e("BfA7"),h=e("37+L"),u=e("I0j/"),b=e("Pn4H");const v=o(m=>{let{type:g,usergroupId:O,style:E,onUserGroupClick:y,transitionFocusTo:C,shouldUseNavigate:I,navigate:j}=m;const M=Object(n.useCallback)(T=>{T.preventDefault(),I&&j&&O?j(Object(h.hb)(O)):y&&O&&y(O),C&&C({focusKey:r.c.VIEW_USER_GROUPS})},[y,C,O,I,j]);return g!==l.b.USERGROUP||!O?null:t.a.createElement(f.a,{style:E},t.a.createElement(i.a,{id:O,onClick:M}))},"UserGroupElement");v.displayName="UserGroupElement";const d=o(m=>({onUserGroupClick:g=>m(Object(b.a)({groupId:g})),navigate:g=>m(Object(u.a)(g))}),"mapDispatchToProps");s.a=Object(a.a)(null,d)(Object(p.a)(Object(c.a)(v)))},tCVa:function(w,s,e){"use strict";e.d(s,"h",function(){return t}),e.d(s,"g",function(){return a}),e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c}),e.d(s,"f",function(){return r}),e.d(s,"c",function(){return f}),e.d(s,"e",function(){return l}),e.d(s,"d",function(){return p});var n=e("DwFS");const t=Object(n.a)("Add list of bookmarks to bookmark store for a channel");t.meta={name:"createAction",key:"createActionupsertBulkBookmarksToStore",description:"Add list of bookmarks to bookmark store for a channel"};const a=Object(n.a)("Add bookmark to bookmark store for a channel");a.meta={name:"createAction",key:"createActionupsertBookmarkToStore",description:"Add bookmark to bookmark store for a channel"};const i=Object(n.a)("Remove bookmark from the bookmark store");i.meta={name:"createAction",key:"createActiondeleteBookmarkFromStore",description:"Remove bookmark from the bookmark store"};const c=Object(n.a)("Remove alls bookmarks from the bookmark store for a channel");c.meta={name:"createAction",key:"createActiondeleteBulkBookmarksFromStore",description:"Remove alls bookmarks from the bookmark store for a channel"};const r=Object(n.a)("Update a bookmark in the store");r.meta={name:"createAction",key:"createActionupdateBookmarkInStore",description:"Update a bookmark in the store"};const f=Object(n.a)("Reorder a bookmark in the store");f.meta={name:"createAction",key:"createActionreorderBookmarkInStore",description:"Reorder a bookmark in the store"};const l=Object(n.a)("Set true or false if the bar is open or not");l.meta={name:"createAction",key:"createActionsetIsBookmarksVisible",description:"Set true or false if the bar is open or not"};const p=Object(n.a)("Set true if the bar should stay closed");p.meta={name:"createAction",key:"createActionsetIsBookmarksDisabled",description:"Set true if the bar should stay closed"}},tO3t:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),i=e("Cfcg"),c=e("QLhP"),r=e("C3vN"),f=e("ww7Y"),l=e("hooW"),p=e("9I4P"),h=e("nNoG");const u=new h.b("bot-name"),b={isWorkflow:a.default.bool.isRequired,className:a.default.string,name:a.default.string,badge:a.default.bool,isChannelFiles:a.default.bool,"data-qa":a.default.string},v={className:void 0,name:void 0,badge:!0,isChannelFiles:!1,"data-qa":void 0},d=o(g=>{let{className:O,name:E,badge:y,isWorkflow:C,isChannelFiles:I,"data-qa":j}=g;const M=I&&E?u.t("Shared by {name}",{name:E}):E;return t.a.createElement("span",{className:O,"data-qa":j},M||t.a.createElement(l.a,null)," ",y&&!I&&t.a.createElement(f.a,{isWorkflow:C}))},"BotName");d.displayName="BotName",d.propTypes=b,d.defaultProps=v;const m=o((g,O)=>{let{id:E}=O;const y=Object(c.b)(g,E);return{name:Object(p.a)(y),isWorkflow:Object(r.rb)(y)}},"mapStateToProps");s.a=Object(i.a)(m)(d)},tbSn:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("/MKj"),c=e("zxER"),r=e("3l96"),f=e("nNoG"),l=e("oEDn"),p=e("qDEp"),h=e("Tsh7"),u=e("hwNb"),b=e("BHto"),v=e("wQZu");const d=new f.b("stories_av");function m(g){let{onSubmit:O,className:E,downloadLink:y,recordDuration:C,disabled:I,clogButton:j,clogImpression:M}=g;const T=Object(i.useDispatch)(),{videoRef:D}=Object(n.useContext)(v.a),S=Object(n.useMemo)(()=>({id:"",url_private:y,duration_ms:C*1e3}),[y,C]),A=Object(n.useCallback)(()=>{var G;D==null||(G=D.current)===null||G===void 0||G.pause(),T(Object(r.a)({element:t.a.createElement(b.a,{file:S,onSubmit:O,clogButton:j,clogImpression:M}),isStackable:!0}))},[D,T,O,j,M,S]);if(!Object(c.c)(u.c))return null;const N=t.a.createElement(p.f,{type:"outline",onClick:A,"aria-label":d.t("Select thumbnail"),className:Object(a.default)("p-video_recorder__borderless_button",E),disabled:I},t.a.createElement(l.a,{type:"image",className:"p-video_review_modal__retry_icon"}),d.t("Select Thumbnail"));return I?t.a.createElement(h.d,{tip:d.t("File needs to finish processing before selecting a thumbnail")},t.a.createElement("div",null,N)):N}o(m,"EditThumbnailButton"),m.displayName="EditThumbnailButton",s.a=m},tfz1:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return!!(t&&t.attributes&&t.attributes["code-block"])}o(n,"isOpCodeBlockItem")},tiWk:function(w,s,e){"use strict";var n=e("9oTK"),t=e("gSGL"),a=e("SQ0V"),i=e("gCYc"),c=e("Hxmd"),r=e("hD77"),f=e("q3X1"),l=e("Y4Ot"),p=e("XELS"),h=e("3D8U"),u=e("qH0c");const b=Object(a.c)("Swaps the draft ID for file permissions",(M,T,D)=>{let{oldDraftId:S,newDraftId:A,clearOldDraftData:P=!1}=D;if(S===void 0||A===void 0||S===A)return;const N=T(),G=Object.values(Object(h.a)(N,S)||{});G==null||G.forEach(V=>{M(Object(u.c)({draftId:A,fileId:V.fileId,grant:V.grant}))}),P&&M(Object(u.a)({draftIds:[S]}))});b.meta={name:"createThunk",key:"createThunkswitchDraftIdForFilePermissions",description:"Swaps the draft ID for file permissions"};var v=b,d=e("Kn+X"),m=e("s4P+"),g=e("TZwK"),O=e("mEPG"),E=e("7YN0");const y=Object(a.c)("Swaps the draft ID for in flight pending file uploads",(M,T,D)=>{let{oldDraftId:S,newDraftId:A}=D;if(S===A)return;const P=Object(g.c)(T(),S);P==null||P.forEach(G=>{M(Object(O.b)({draftId:A,pendingFileId:G})),M(Object(O.c)({draftId:S,pendingFileId:G}))});const N=Object(E.d)(S);N==null||N.forEach(G=>{Object(E.e)(A,G)}),Object(E.b)(S)});y.meta={name:"createThunk",key:"createThunkswitchDraftIdForPendingFiles",description:"Swaps the draft ID for in flight pending file uploads"};var C=y;const I=Object(a.c)("Schedule a draft for sending",function(){var M=Object(n.coroutine)(function*(T,D,S){let{draftId:A,dateScheduled:P,msgParams:N,acknowledgedUnfurls:G}=S;const V=Object(i.k)(D(),A);if(!V)throw new Error(`No draft for client_draft_id ${A}`);const k=Object(m.a)({getState:D});k.info("SCHEDULE-DRAFT",`Scheduling ${A} for ${P}`),Object(r.a)(A);const x=Object(d.s)(V),H=Object(d.o)(V);Object(f.a)(H||A);const R={...V,client_draft_id:x,is_from_composer:!0,date_scheduled:P,last_updated:Date.now()};T(v({oldDraftId:A,newDraftId:R.client_draft_id}));try{const W={draft:R,reason:"schedule-draft",syncDateScheduled:!0,msgParams:N,acknowledgedUnfurls:G,origClientDraftId:V.client_draft_id},U=yield T(H?Object(l.a)(W):Object(p.a)(W));if(!U.draft)throw new Error("Missing draft in response");const _=U.draft,B=Object(d.f)(_);_.is_from_composer||k.error("SCHEDULE-DRAFT",`${B} not detached`);const z=_==null?void 0:_.date_scheduled;P!==z&&k.error("SCHEDULE-DRAFT",`${B} draft returned from server does not have expected date scheduled. Expected date scheduled: ${P}, returned date scheduled ${z}`),yield T(Object(c.a)({clientDraftId:A,fetchedDraft:_,forceReconciliation:!0}));const L=Object(i.k)(D(),B),$=Object(d.o)(L),Q=Object(d.i)(L);P!==Q&&k.error("SCHEDULE-DRAFT",`${B} reconciled draft does not have expected date scheduled. Expected date scheduled: ${P}, returned date scheduled ${Q}`),k.info("SCHEDULE-DRAFT",`draft scheduled and reconciled with client ID ${B}, serverId ${$}, and dateScheduled ${Q}`);const K=Object(d.e)(L);return K!==A&&Object(t.a)(K)&&(T(C({oldDraftId:A,newDraftId:K})),T(Object(u.a)({draftIds:[A]}))),x}finally{Object(f.b)(H||A)}});return function(T,D,S){return M.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkscheduleDraft",description:"Schedule a draft for sending"};var j=s.a=I},tkwG:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("+8pe");const t=o(i=>{const{channel_id:c,date_create:r,date_update:f,emoji:l,id:p,image_url:h,parent_id:u,link:b,rank:v,title:d,entity_id:m,type:g,last_updated_by_team_id:O,last_updated_by_user_id:E,shortcut_id:y,app_id:C,quip_section_id:I,app_action_id:j}=i;return{channelId:c,dateCreate:r,dateUpdate:f,emoji:l!==""?l:void 0,iconUrl:h,id:p,rank:v,title:d,entityId:m,url:b,type:g,parentId:u,lastUpdatedByTeamId:O,lastUpdatedByUserId:E,shortcutId:y,appId:C,quipSectionId:I,appActionId:j}},"mapApiResponseToStore"),a=o(i=>({id:n.a.PINNED_MESSAGE,url:"",channelId:i,entityId:"",rank:"0",dateCreate:-1,type:n.a.PINNED_MESSAGE}),"stubPinnedMessagePlaceholder")},tnTT:function(w,s,e){"use strict";e.r(s),e.d(s,"register",function(){return Dt});var n=e("9oTK"),t=e("Omjo"),a=e("lhZz"),i=e("7xYR"),c=e("I27i"),r=e("Lgge"),f=e("BEaa"),l=e("s4P+"),p=e("Pw4T"),h=e("Aqb/"),u=e("PLUl"),b=e("31wZ"),v=e("Nf6b"),d=e("4p6e"),m=e("uBea"),g=e("ycWl"),O=e("Z7Ay"),E=e("6rGi");function y(){return Object(E.a)().waitForHuddleToEnd()}o(y,"waitForHuddleToEnd");var C=e("KGIc"),I=e("G5NC"),j=e("+CZ0");const M=45*60*1e3,T=2e4,D=3*60*60*1e3,S="MIN-VERSION",A="mvp",P="mvb:stale",N="mvb:prev_poll_interval",G="mvb:check",V="mvb:prevent",k="mvb:defer",x="mvb:defer:await_blur",H="mvb:defer:await_online",R=.1,W=1;let U=!1;const _=A;function B(He){const Le=Object(C.b)();return Le?parseInt(Le,10)<He:!1}o(B,"isVersionStale");let z=o(class{start(){if(this.pollTimer){this.logger.error("MinVersionPoll can only be started once");return}if(!U&&(Object(d.a)()||Object(m.a)()))return;this.logger.info("Starting client min-version poll.");const Le=Object(f.a)(M,.8,1.2);this.pollTimer=window.setInterval(()=>this.checkForMinVersionBumpAndMaybeReload(),Le),this.initDebugger()}checkForMinVersionBumpAndMaybeReload(){var Le=this;return Object(n.coroutine)(function*(){const Qe=Le.logger,Ce=Le.telemeter;Le.lastPollTs=Date.now(),Qe.info("Checking to see if we should reload"),Ce.count(`${A}_check`);try{const ye="polling",ie=yield Le.checkForMinVersionBump(ye);if(!ie){Qe.info("Missing client.shouldReload response. No need to reload");return}const{client_min_version:Oe,should_reload:We,reason:ke}=ie;if(Le.maybeStartTrace(Oe),Le.maybeStartPreventReloadSpan(Oe),!We){Qe.info("No need to reload"),Ce.count(`${A}_shouldreload_prevent_api`),Le.maybeIncrementPreventReloadReason(Oe,ke);return}if(!Object(b.a)(Oe)){Ce.count(`${A}_shouldreload_prevent_client`),Le.maybeIncrementPreventReloadReason(Oe,"client");return}Le.maybeClosePreventReloadSpan(),Qe.info("Time to reload! Waiting until the client is online and unfocused."),Le.isSafeToReloadRightNow()?Ce.count(`${A}_shouldreload_immediate`):(Ce.count(`${A}_shouldreload_will_defer`),Le.isClientOnline()||Ce.count(`${A}_shouldreload_will_defer_offline`),Le.maybeStartAwaitSafeTimeToReloadSpan(),yield Le.awaitSafeTimeForReload(),Le.maybeCloseAwaitSafeTimeToReloadSpan());const nt="client.shouldReload told us to reload earlier; we are now unfocused and online";Qe.info(nt),Le.maybeCloseAndReportTrace();try{Le.beforeReloadCallback()}catch(st){Le.logger.error("MinVersionPoll: beforeReloadCallback failed with error",st)}Object(g.a)({reason:nt,reasonKey:"client_should_reload"})}catch(ye){Qe.error("client.shouldReload check failed",ye)}})()}awaitSafeTimeForReload(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;var Qe=this;return Object(n.coroutine)(function*(){const Ce=Qe.telemeter,ye=Qe.logger;return Qe.maybeIncrementRetryAttempts(Le),r.a.all([Qe.awaitOnline(),Qe.awaitBlur()]).tap(()=>{ye.info(`Online and unfocused, will wait ${T}ms to reload`)}).delay(T).then(()=>Qe.isSafeToReloadRightNow()?(Ce.count(`${A}_shouldreload_did_defer`),!0):(ye.info(`Waited ${T} ms but now it is no longer safe to reload. Trying again...`),ye.info(`Online: ${Qe.isClientOnline()}; Inactive: ${!Qe.isClientActive()||Qe.hasWaitedTooLongForBlur}; Retry attempts: ${Le}`),Qe.awaitSafeTimeForReload(Le+1)))})()}isClientActive(){return!!(document.hasFocus()||Object(I.a)()&&Object(j.c)(Object(a.getStateForClientStore)()))}isSafeToReloadRightNow(){return this.isClientOnline()&&(!this.isClientActive()||this.hasWaitedTooLongForBlur)}awaitBlur(){var Le=this;return Object(n.coroutine)(function*(){if(!Le.isClientActive()||Le.hasWaitedTooLongForBlur)return!0;const Qe=Le.logger,Ce=Le.telemeter;Le.awaitBlurPromise||(Le.awaitBlurPromise=r.a.delay(D).then(()=>{Qe.info(`Waited the max ${D}ms for a blur event`),Ce.count(`${A}_shouldreload_waited_too_long_for_blur`),Le.hasWaitedTooLongForBlur=!0})),Le.maybeStartAwaitBlurSpan();const ye=[];document.hasFocus()||(Qe.info("Waiting for blur event to reload"),ye.push(Object(v.a)("blur"))),Object(I.a)()&&Object(j.c)(Object(a.getStateForClientStore)())&&(Qe.info("Waiting for huddle to end to reload"),ye.push(y()));const ie=r.a.all(ye);return r.a.race([ie,Le.awaitBlurPromise]).tap(()=>{Le.maybeCloseAwaitBlurSpan()})})()}awaitOnline(){var Le=this;return Object(n.coroutine)(function*(){return Le.isClientOnline()?!0:(Le.logger.info("Waiting to come back online to reload"),Le.maybeStartAwaitOnlineSpan(),Object(v.a)("online").tap(()=>{Le.maybeCloseAwaitOnlineSpan()}))})()}initDebugger(){Object(O.a)("minVersionPoll",{checkAndMaybeReloadNow:()=>this.checkForMinVersionBumpAndMaybeReload(),checkNow:()=>this.checkForMinVersionBump("slackdebug"),getLastPollTime:()=>this.lastPollTs,timer:this.pollTimer})}maybeStartTrace(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;try{var Qe,Ce,ye,ie;if(!B(Le)||this.trace)return;const Oe={client_min_version:Le,last_poll_ts:this.lastPollTs,method:"client.shouldReload",reason:"polling",metric_version:W},We=Le*1e3,ke=this.getLastSocketConnection(),nt=Math.max(We,ke);this.rootSpan=this.tracer.createSpan({name:P,options:{startTime:nt,tags:Oe},samplingOptions:{sampleType:h.a.SESSION,sampleRate:R}});const st=this.tracer.createSpan({name:N,options:{startTime:nt,tags:Oe,traceId:(Qe=this.rootSpan)===null||Qe===void 0?void 0:Qe.getTraceId(),parentSpanId:(Ce=this.rootSpan)===null||Ce===void 0?void 0:Ce.getId()}});st.close(),this.tracer.reportSpans([st]),this.trace=this.tracer.createTrace({traceName:G,traceId:(ye=this.rootSpan)===null||ye===void 0?void 0:ye.getTraceId(),parentSpanId:(ie=this.rootSpan)===null||ie===void 0?void 0:ie.getId(),tags:Oe})}catch{}}maybeStartPreventReloadSpan(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;try{if(!this.trace||!B(Le)||this.preventSpan)return;this.preventSpan=this.trace.startSpan(V)}catch{}}maybeClosePreventReloadSpan(){try{if(!this.trace||!this.preventSpan)return;this.preventSpan.close(),this.preventSpan=null}catch{}}maybeIncrementPreventReloadReason(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Qe=arguments.length>1?arguments[1]:void 0;try{if(!this.trace||!B(Le)||!this.preventSpan)return;const Ce=`reason:${Qe||"unknown"}`,ye=this.preventSpan.getTag(Ce)||0;this.preventSpan.setTag(Ce,ye+1)}catch{}}maybeStartAwaitSafeTimeToReloadSpan(){try{if(!this.trace||this.awaitSafeTimeForReloadSpan)return;this.awaitSafeTimeForReloadSpan=this.trace.startSpan(k,{tags:{is_online:this.isClientOnline(),is_blurred:!document.hasFocus(),has_waited_too_long_for_blur:this.hasWaitedTooLongForBlur}})}catch{}}maybeCloseAwaitSafeTimeToReloadSpan(){try{if(!this.trace||!this.awaitSafeTimeForReloadSpan)return;this.awaitSafeTimeForReloadSpan.close(),this.awaitSafeTimeForReloadSpan=null}catch{}}maybeStartAwaitOnlineSpan(){try{var Le;if(!this.trace||this.awaitOnlineSpan)return;this.awaitOnlineSpan=this.trace.startSpan(H,{parentSpanId:(Le=this.awaitSafeTimeForReloadSpan)===null||Le===void 0?void 0:Le.getId()}),this.maybeIncrementAwaitOnlineAttempts()}catch{}}maybeCloseAwaitOnlineSpan(){try{if(!this.trace||!this.awaitOnlineSpan)return;this.awaitOnlineSpan.close(),this.awaitOnlineSpan=null}catch{}}maybeStartAwaitBlurSpan(){try{var Le;if(!this.trace||this.awaitBlurSpan)return;this.awaitBlurSpan=this.trace.startSpan(x,{parentSpanId:(Le=this.awaitSafeTimeForReloadSpan)===null||Le===void 0?void 0:Le.getId()}),this.maybeIncrementAwaitBlurAttempts()}catch{}}maybeCloseAwaitBlurSpan(){try{if(!this.trace||!this.awaitBlurSpan)return;this.awaitBlurSpan.addTags({is_blurred:!document.hasFocus(),has_waited_too_long_for_blur:this.hasWaitedTooLongForBlur}),this.awaitBlurSpan.close(),this.awaitBlurSpan=null}catch{}}maybeIncrementRetryAttempts(Le){try{if(!this.trace||!this.awaitSafeTimeForReloadSpan)return;this.awaitSafeTimeForReloadSpan.setTag("total_retry_attempts",Le)}catch{}}maybeIncrementAwaitOnlineAttempts(){try{if(!this.trace||!this.awaitSafeTimeForReloadSpan)return;const Le="await_online_attempts",Qe=this.awaitSafeTimeForReloadSpan.getTag(Le)||0;this.awaitSafeTimeForReloadSpan.setTag(Le,Qe+1)}catch{}}maybeIncrementAwaitBlurAttempts(){try{if(!this.trace||!this.awaitSafeTimeForReloadSpan)return;const Le="await_blur_attempts",Qe=this.awaitSafeTimeForReloadSpan.getTag(Le)||0;this.awaitSafeTimeForReloadSpan.setTag(Le,Qe+1)}catch{}}maybeCloseAndReportTrace(){try{var Le;if(!this.trace||!this.trace||!this.rootSpan)return;(Le=this.rootSpan)===null||Le===void 0||Le.close(),this.tracer.reportTrace(this.trace),this.tracer.reportSpans([this.rootSpan]),this.trace=null,this.rootSpan=null}catch{}}testOnlyReset(){if(!Object(d.a)()&&!Object(m.a)())throw new Error("MinVersionPoll.reset should only be called in test files!");clearInterval(this.pollTimer),this.pollTimer=null,this.awaitBlurPromise&&(this.awaitBlurPromise.cancel(),this.awaitBlurPromise=null),this.lastPollTs=null,this.hasWaitedTooLongForBlur=!1}constructor({checkForMinVersionBump:Le,beforeReloadCallback:Qe,getLastSocketConnection:Ce,isClientOnline:ye,logger:ie=Object(l.b)({label:S}),telemeter:Oe=Object(p.a)(),tracer:We=Object(u.a)()}){this.hasWaitedTooLongForBlur=!1,this.awaitBlurPromise=null,this.pollTimer=null,this.lastPollTs=null,this.rootSpan=null,this.trace=null,this.preventSpan=null,this.awaitSafeTimeForReloadSpan=null,this.awaitOnlineSpan=null,this.awaitBlurSpan=null,this.checkForMinVersionBump=Le,this.beforeReloadCallback=Qe,this.getLastSocketConnection=Ce,this.logger=ie,this.telemeter=Oe,this.tracer=We,this.isClientOnline=ye}},"MinVersionPoll");Object.defineProperty({forceStartMinVersionPollInTests:U},"forceStartMinVersionPollInTests",{get:()=>U,set:He=>{U=He}});var $=e("WUSA"),Q=e("nNoG"),K=e("S1sa"),Z=e("CpTu"),ne=e("fujP"),F=e("YsUP"),J=e("WCk1"),X=e("ykb+"),Y=e("PY4h");const ae=Object(J.a)("Check to see whether we need to reload",function(){var He=Object(n.coroutine)(function*(Le,Qe,Ce){let{reason:ye="unknown",teamIds:ie=[],skipExpiryCheck:Oe=!1}=Ce;const We=Object(l.b)();if(Object(X.c)())return We.warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.shouldReload call."),{should_reload:!1,reason:"js_path"};if(!Object(I.a)())throw new Error("client.shouldReload should only be used in the client.");const ke=Object(C.e)();if(!ke)throw new Error("Cannot check whether to reload if we\u2019re missing versionTs");const nt=Object(C.d)(),st=parseInt(nt??"",10),mt={versionTs:ke,reason:ye,buildVersionTs:st,skipExpiryCheck:Oe};Object(ne.a)(ie)||(mt.teamIds=ie),Object(F.a)(st)&&Object(l.b)().error("MIN-VERSION",`Invalid build version timestamp: ${nt}`);const pt=Object(C.c)();pt&&(mt.configVersionTs=pt),Object(l.b)().info("MIN-VERSION",`teamIds: ${(ie==null?void 0:ie.join(","))||"NONE"}; versionTs: ${ke}; buildVersionTs: ${st}; configVersionTs: ${pt}; All config versions: ${Object(C.a)()}`);try{return Le(Object(Y.a)(mt))}catch(it){var Et;throw(it==null||(Et=it.data)===null||Et===void 0?void 0:Et.error)==="invalid_arguments"&&Object(l.b)().error(`client.shouldReload failed with invalid arguments: team_ids=${ie.join(",")}; version=${mt.buildVersionTs}`,it),it}});return function(Le,Qe,Ce){return He.apply(this,arguments)}}());ae.meta={name:"createFetcher",key:"createFetcherclientShouldReloadImmediately",description:"Check to see whether we need to reload"};var ee=e("ZKjC"),q=e("g8rC");const te="govslack_min_version_bumps",de="on",se=Object(ee.b)(He=>Object(q.a)(He,te,de));se.meta={name:"createSelector",key:"createSelectorisGovSlackMinVersionBumpsToggleEnabledForAnyTeam",description:He=>Object(q.a)(He,te,de)};var re=se,oe=e("VHGx"),ce=e("IU/j");const ue={is_expired:!1,ok:!0},Pe={is_expired:!1,ok:!1};function Ye(He){return $e.apply(this,arguments)}o(Ye,"clientCheckVersion");function $e(){return $e=Object(n.coroutine)(function*(He){let{teamIds:Le,enterpriseIds:Qe}=He;if(Object(X.c)())return Object(l.b)().warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.checkVersion call."),ue;if(!Object(I.a)())throw new Error("client.checkVersion should only be used in the client.");try{var Ce;const ye={team_ids:Le,enterprise_ids:Qe,build_version_ts:parseInt((Ce=Object(C.d)())!==null&&Ce!==void 0?Ce:"",10)},ie=Object(C.c)();ie&&(ye.config_version_ts=ie);const Oe=Ke(ye),We=yield oe.b.fetch({url:"/api/client.checkVersion",httpMethod:"POST",payload:Oe});return JSON.parse(We)}catch(ye){return Object(l.b)().error("Failed to fetch/parse client.checkVersion response",ye),Pe}}),$e.apply(this,arguments)}o($e,"_clientCheckVersion");function Ke(He){return Object(ce.a)(He,"client.checkVersion")}o(Ke,"getClientCheckVersionPayload");var qe=e("AdD7"),ct=e("mGaQ");const Be="MIN-VERSION";function pe(He){return fe.apply(this,arguments)}o(pe,"check_for_min_version_bump_checkForMinVersionBump");function fe(){return fe=Object(n.coroutine)(function*(He){const Le=Object(a.getClientStoreInstance)();if(Object(qe.b)()&&re(Le.getState()))return me(He);const Qe=Object(i.getFocusedWorkspace)(Le.getState()),Ce=Object(a.getStoreInstanceByTeamId)(Qe),ye=Object(i.getBootedWorkspaces)(Le.getState());return Ce.dispatch(ae({teamIds:ye,reason:He}))}),fe.apply(this,arguments)}o(fe,"_checkForMinVersionBump");function me(He){return Se.apply(this,arguments)}o(me,"checkForMinVersionBumpInGovClients");function Se(){return Se=Object(n.coroutine)(function*(He){const Le=Object(a.getClientStoreInstance)();var Qe;const Ce=(Qe=Object(i.getBootedWorkspaces)(Le.getState()))!==null&&Qe!==void 0?Qe:[],ye=Object(i.getBootedOrgs)(Le.getState()),{is_expired:ie,client_min_build_version:Oe}=yield Ye({teamIds:Ce,enterpriseIds:ye});if(!ie)return{should_reload:!1,client_min_version:Oe};const We=Object(u.a)(),ke=We.createMetricsTrace({label:"gov_mvb",samplingOptions:{sampleType:h.a.ALWAYS}}),[nt,st]=Object(K.a)(Ce,at=>Object(ct.a)(at));ke.addTags({client_min_version:Oe,has_gov_teams:!!nt.length,has_commercial_teams:!!st.length});const{should_reload:mt,reason:pt}=yield je({teamIds:nt,reason:He});if(!mt)return ke.count({name:"prevent"}).addTags({environment:"gov",reason:pt??"none"}),We.reportTrace(ke),Object(l.b)().info(Be,`Gov teams failed rate limit check with reason ${pt??"none"}; Preventing reload. teams: (${nt.join(",")}) `),{should_reload:!1,client_min_version:Oe,reason:pt};const{should_reload:Et,reason:it}=yield je({teamIds:st,reason:He});return Et?(ke.count({name:"reload"}),We.reportTrace(ke),{should_reload:!0,client_min_version:Oe}):(ke.count({name:"prevent"}).addTags({environment:"commercial",reason:it??"none"}),We.reportTrace(ke),Object(l.b)().info(Be,`Commercial teams failed rate limit check with reason ${it??"none"}; Preventing reload. teams: (${st.join(",")})`),{should_reload:!1,client_min_version:Oe,reason:it})}),Se.apply(this,arguments)}o(Se,"_checkForMinVersionBumpInGovClients");function je(He){return Ue.apply(this,arguments)}o(je,"shouldClientReloadForTeams");function Ue(){return Ue=Object(n.coroutine)(function*(He){let{teamIds:Le,reason:Qe}=He;const Ce=ve(Le);return Ce?Ce.dispatch(ae({teamIds:Le,reason:Qe,skipExpiryCheck:!0})):{should_reload:!0}}),Ue.apply(this,arguments)}o(Ue,"_shouldClientReloadForTeams");function ve(He){const Le=Object(Z.a)(He,Qe=>!!Object(a.getStoreInstanceByTeamId)(Qe));if(Le)return Object(a.getStoreInstanceByTeamId)(Le)}o(ve,"findAnyStoreInstanceForTeamIds");const ge=new Q.b("min-version-poll");let le=!1;function he(){const He=Object(a.getClientStoreInstance)();var Le;const Qe=new z({isClientOnline:()=>!!Object(c.d)(He.getState()),checkForMinVersionBump:pe,getLastSocketConnection:()=>(Le=Object(c.h)(He.getState()))!==null&&Le!==void 0?Le:0,beforeReloadCallback:()=>{Te()}});if(le){Object(t.c)("MinVersionPoll can\u2019t be started more than once!");return}Qe.start(),le=!0,Object(p.a)().count(`${_}_start_2`)}o(he,"registerMinVersionPoll");function Te(){if(!Object(I.a)())return;const He=Object(a.getClientStoreInstance)(),Le=Object(i.getFocusedWorkspace)(He.getState());Object(a.getStoreInstanceByTeamId)(Le).dispatch(Object($.a)({message:ge.t("Reloading Slack\u2026"),assertive:!0}))}o(Te,"notifyAboutReloadAccessibly");const Re={notifyAboutReloadAccessibly:Te};var Ve=e("kBpe");const Ee=3*60*1e3,Ae=60*60*1e3,Ge=10*60*1e3,Ze="ssb-memory-stats";var ze=e("kiPk"),lt=e("vfQU"),tt=e("xt0X"),Ot=e("U28S");const Ct=Object(l.b)();function St(He){return on(He)}o(St,"fetchMemoryStats");const zt=[["workingSetSize",""],["peakWorkingSetSize","peak_"],["privateBytes","private_"]];let kt;function on(He){return(lt.C.isAvailable()?Object(lt.C)():Object(lt.B)()).then(Le=>{const Qe={},Ce=Le.processMetrics||Le;if(!Ce||Ce.length===0)return Ct.warn("STATS",`No memory stats collected getAppMetrics:${Ce}`,{subtype:"stats_no_memory"}),Qe;if(navigator&&navigator.hardwareConcurrency){const ie=Object(ze.a)(Ce,Oe=>{let{cpu:We}=Oe;return We.percentCPUUsage*navigator.hardwareConcurrency});Qe[`cpu_v5_app_${He}_teams`]=Object(Ot.b)(ie,2)}Ce.forEach(ie=>{let{type:Oe,memory:We}=ie;zt.forEach(ke=>{let[nt,st]=ke;if(nt in We){const mt=`memory_v5_app_${st}mb_${He}_teams_${Oe.toLowerCase()}_process`;mt in Qe||(Qe[mt]=0),Qe[mt]+=Math.round(Object(tt.b)(We[nt]))}})});const ye=_t(Ce,"workingSetSize");return Qe[`memory_v5_app_mb_${He}_teams`]=ye,kt&&(Qe[`memory_v5_app_mb_delta_${He}_teams`]=ye-kt),kt=ye,Qe[`memory_v5_app_peak_mb_${He}_teams`]=_t(Ce,"peakWorkingSetSize"),Object(Ve.x)()&&(Qe[`memory_v5_app_private_mb_${He}_teams`]=_t(Ce,"privateBytes")),be(Qe,5,He),Qe}).catch(Le=>Ct.error("STATS",`getAppMetrics failed: ${Le.message}`))}o(on,"fetchMemoryStatsV5");function _t(He,Le){const Qe=Object(ze.a)(He,Ce=>{let{memory:ye}=Ce;return ye[Le]});return Math.ceil(Object(tt.b)(Qe))}o(_t,"sumMemoryMetricsByKey");function be(He,Le,Qe){window.performance&&window.performance.memory&&(He[`heap_v${Le}_used_mb_${Qe}_teams`]=Object(tt.a)(performance.memory.usedJSHeapSize),He[`heap_v${Le}_total_mb_${Qe}_teams`]=Object(tt.a)(performance.memory.totalJSHeapSize))}o(be,"addJSHeapMetrics"),Object(O.a)("ssbMetrics",{fetchMemoryStatsV5:on});function ot(){if(!Object(Ve.i)())return r.a.resolve();const He=Object(p.a)(),Le=Object(u.a)(),Qe=Le.createMetricsTrace({label:Ze});function Ce(){const ie=Object(a.getStateForClientStore)(),Oe=Object(i.getBootedWorkspaces)(ie),We=Oe?Oe.length:0;return St(We).then(ke=>ke?(Object.keys(ke).forEach(st=>{He.store(st,ke[st],{allow_negative:st.indexOf("delta")!==-1});const mt=/_\d+?_teams/;Qe.store({name:st.replace(mt,""),value:ke[st]}).addTags({num_teams:We})}),Le.reportTrace(Qe),ke):null)}o(Ce,"fetchStatsAndBeacon");const ye=Ae+Math.floor(Math.random()*Ge);return setInterval(()=>Ce(),ye),setTimeout(()=>Ce(),Ee),r.a.resolve()}o(ot,"storeSSBMemoryStatsOnAnInterval");var rt=e("Fsnq"),Jt=e("owWc"),Qt=e("xwCZ"),qt=e("Wjv9"),$t=e("RVJP"),hn=e("1Np4"),gn=e("thso");function Cn(){const He="store_metrics_v3";function Le(){const Ce=Object(a.getStateForClientStore)(),ye=Object(i.getBootedWorkspaces)(Ce);ye&&ye.forEach(ie=>{const Oe=Object(a.getStateByTeamId)(ie);if(!Oe)return;const We=Object(hn.a)({state:Oe}),ke=We.createMetricsTrace({label:He}),nt=ke.startSpan(`${He}:size_compute_time`),st=Object(rt.a)(Oe.files);ke.store({name:`${He}:files:count`,value:st});const mt=Object(rt.a)(Object(gn.b)(Object(Qt.b)(Oe)));ke.store({name:`${He}:members:count`,value:mt});const pt=Object(rt.a)(Object(gn.b)(Oe.channels));ke.store({name:`${He}:channels:count`,value:pt});const Et=Object(Jt.a)(Object(gn.b)(Object(qt.a)(Oe)),(yt,Tt)=>yt+Object(rt.a)(Object(gn.b)(Tt)),0);ke.store({name:`${He}:messages:count`,value:Et}),ke.store({name:`${He}:total:count`,value:st+mt+pt+Et});const it=Object($t.d)(Oe,"members_store_cache_eviction");it&&ke.store({name:`${He}:members:count`,value:mt}).addTags({group:it});const at=Object($t.d)(Oe,"messages_cache_eviction");at&&ke.store({name:`${He}:messages:count`,value:Et}).addTags({group:at});const ft=Object($t.d)(Oe,"channels_cache_eviction");ft&&ke.store({name:`${He}:channels:count`,value:pt}).addTags({group:ft}),Object($t.d)(Oe,"aggressive_messages_cache_eviction")==="treatment"&&ke.store({name:"cache_messages_aggressive_store_size",value:Et}).addTags({group:"treatment"}),Object($t.d)(Oe,"aggressive_messages_cache_eviction")==="control"&&ke.store({name:"cache_messages_aggressive_store_size",value:Et}).addTags({group:"control"}),nt.close(),We.reportTrace(ke)})}o(Le,"fetchStatsAndBeacon");const Qe=Ae+Math.floor(Math.random()*Ge);setInterval(()=>Le(),Qe)}o(Cn,"storeReduxStoreStatsOnAnInterval");var Mn=e("2um6");function kn(){try{const He=Object(a.getClientStoreInstance)();if(!He)return;const Le=Object(i.getFocusedWorkspace)(He==null?void 0:He.getState());if(!Le)return;const Qe=Object(a.getStoreInstanceByTeamId)(Le);if(!Qe)return;Object(Mn.l)(Qe)}catch(He){Object(l.b)().warn("BOOT-CLIENT","trying to set default accessibility preferences failed",He)}}o(kn,"updateA11yPreferences");var na=e("nzWX"),oa=e("d/xU");function ba(){Object(lt.fb)()&&Object(na.d)("ssb_instance_id",Object(lt.O)(),365*10,`.${Object(oa.l)()}`)}o(ba,"setUpSSBInstanceCookie");var ga=e("Fvov");const ya=o(()=>{if(!Object(Ve.r)()){Object(t.b)("BOOT","Service Worker unavailable; Skipping registration.");return}Object(ga.c)()},"registerServiceWorkerOnBoot");var Zn=e("qiCS");const Xn=["force_cold_boot","new_enough_acceptable"];function Ht(){!Object(X.e)()||Object(X.c)()||window.isReloading||Xn.forEach(He=>{if(!window.location.search.match(He))return;const Le=Object(Zn.b)(window.location.href,He);window.history.replaceState({},"",Le),Object(t.b)("BOOT",`cleared ${He} flag`)})}o(Ht,"clearReloadURLState");var ut=e("KLFD"),gt=e("VnPF");function Wt(){return Mt.apply(this,arguments)}o(Wt,"cleanUpOldPersistedData");function Mt(){return Mt=Object(n.coroutine)(function*(){const He=Object(ut.a)(),Le=new Set;He.forEach(Qe=>{const Ce=Object(a.getSharedStoreInstanceByEnterpriseId)(Qe);if(Ce){var ye,ie;const Oe=(ye=Ce.getState())===null||ye===void 0||(ie=ye.selfTeamIds)===null||ie===void 0?void 0:ie.enterpriseId;Le.add(Oe)}}),yield Object(gt.a)([...He,...Le])}),Mt.apply(this,arguments)}o(Mt,"_cleanUpOldPersistedData");var Xe=e("vnlm");function bt(){const He=Object(a.getClientStoreInstance)();Object(i.getBootedWorkspaces)(He.getState()).forEach(Qe=>{const Ce=Object(a.getStoreInstanceByTeamId)(Qe);Object(Xe.b)({teamId:Qe,store:Ce});const ye=Object(a.getSharedStoreInstanceByEnterpriseId)(Qe);if(ye){var ie,Oe;const We=(ie=ye.getState())===null||ie===void 0||(Oe=ie.selfTeamIds)===null||Oe===void 0?void 0:Oe.enterpriseId;Object(Xe.b)({teamId:We,store:ye})}})}o(bt,"persistNewData");var Nt=e("fUOF");function Pt(){if(!Object(Ve.i)()||!Object(Ve.p)())return;const He=Object(Nt.a)("squirrel_mac_direct_contents_write","on");lt.gc.isAvailable()?(Object(t.b)("BOOT",`Setting Squirrel Mac Direct Contents Write = ${He?"enabled":"disabled"}`),Object(lt.gc)(He)):Object(t.b)("BOOT","setSquirrelMacDirectContentsWriteEnabled not available")}o(Pt,"setUpSquirrelMacDirectContentsWrite");var nn=e("0akA"),rn=e("JN2d"),mn=e("t4eE"),vn=e("j77i");const Xt="recentlyUsedTeamIds",ht="mostRecentlyUsedDate",It=10;function Ft(){if(!Object(mn.b)())return;const He=Object(vn.f)(Xt)||[];if((He==null?void 0:He.length)<=It)return;const Le=He.slice(It),Qe=Object(rn.a)();Le.forEach(Ce=>{const ye=Qe[Ce];if(!ye)return;const ie=ye[ht];if(!ie)return;const Oe=Object(nn.a)(new Date,new Date(ie));Object(p.d)({teamOrEnterpriseId:Ce}).store("least_recently_used_workspaces_last_use",Oe)})}o(Ft,"reportLongTailTeamUsage");var Bt=e("LqbL");function en(){Object(a.getClientStoreInstance)().dispatch(Object(Bt.setDidBootAllWorkspaces)()),Object(l.b)().info("BOOT","Client boot completed"),Object(p.a)().count("sonic_boot_completed")}o(en,"markBootComplete");var On=e("dSGR");const yn="is_sonic_on_gantry_v2_enabled";var Dn;(function(He){He.ROLLBACK="rollback",He.ROLLOUT="rollout"})(Dn||(Dn={}));function En(){return Vt.apply(this,arguments)}o(En,"saveSonicOnGantryV2ExperimentToSW");function Vt(){return Vt=Object(n.coroutine)(function*(){try{if(Object(qe.b)())return;const He=Object(vn.f)(On.a);Object(vn.w)(On.a,void 0);const Le=!!(yield Object(ga.b)({key:yn}));if(!He){Le&&(yield Object(ga.a)({key:yn}));return}if(Le)return;Object(l.b)().info("BOOT",`Writing SoGv2 assignment (${He}) to Service Worker.`),yield Object(ga.e)({key:yn,value:He});const Qe=Object(u.a)(),Ce=Qe.createSpan({name:yn,options:{tags:{action:Dn.ROLLOUT,is_sonic_on_gantry_v2_enabled:He}},samplingOptions:{sampleType:h.a.ALWAYS}});Qe.reportSpans([Ce])}catch(He){Object(l.b)().error("GANTRY-BOOT","Failed to read/store Sonic on Gantry V2 group in cache",He)}}),Vt.apply(this,arguments)}o(Vt,"_saveSonicOnGantryV2ExperimentToSW"),Object(O.a)("sonicOnGantryV2Toggle",{saveToggleState:function(){var He=Object(n.coroutine)(function*(Le){yield Object(ga.e)({key:yn,value:Le})});return function(Le){return He.apply(this,arguments)}}(),clearToggleState:Object(n.coroutine)(function*(){yield Object(ga.a)({key:yn})}),getToggleState:()=>Object(ga.b)({key:yn}),saveSonicOnGantryV2ExperimentToSW:En});var an=e("XzGp"),sn=e("qCdX"),bn=e("pOPU");function jn(){try{Object(sn.b)(),Object(bn.b)(),Object(an.a)()}catch(He){Object(l.b)().error("Failed to report client metrics",He)}}o(jn,"reportClientMetrics");var Tn=e("5TXe"),An=e("9Gfp"),Vn=e("SQ0V"),un=e("O86Y"),Kn=e("2mvv"),$n=e("pmGC");const da=Object(Vn.c)("Signal to the desktop that all delegates are ready",(He,Le)=>{Object(lt.r)(),Ia(Le),ha(Le)});da.meta={name:"createThunk",key:"createThunkonWebappBooted",description:"Signal to the desktop that all delegates are ready"};var fa=da;const aa=new Set;function ha(He){setTimeout(Object(n.coroutine)(function*(){var Le;const Qe=He(),Ce="ssb",ye=Object(Kn.b)(Qe),ie=Object(un.g)(Qe),Oe=Object(un.d)(Qe);if(Oe){if(aa.has(Oe))return;aa.add(Oe)}const We=yield Tn.b.fetch({method:"api.features",args:{token:ye,platform:Ce},teamId:ie}),ke=We==null||(Le=We.features)===null||Le===void 0?void 0:Le.desktop_diagnostics_timestamp;if(ke){const nt=Object(l.a)({teamId:ie,label:"CLIENT-LOGS"});nt.info(`Received request ${ke} for logs ON BOOT; sending them up...`);try{yield Object(an.b)()}catch(st){nt.warn(`Error running client metrics ON BOOT for request ${ke}: ${st}`)}Object($n.a)(ie)}}),6e4)}o(ha,"maybeUploadLogs");function Ia(He){Object(An.i)(He(),"feature_desktop_system_notification_playback")&&Object(lt.J)("settings","notificationPlayback")&&Object(lt.ec)({name:"notificationPlayback",value:"system"})}o(Ia,"maybeForceNotificationPlayback");const Ba="SIGNAL-TO-DESKTOP";function ca(){if(!Object(Ve.i)())return;const Le=Object(a.getClientStoreInstance)().getState(),Qe=Object(i.getFocusedWorkspace)(Le);(Qe?Object(l.a)({teamId:Qe}):Object(l.b)()).info(Ba,"Attempted boot for all workspaces, signaling desktop");for(const ye of Object(i.getBootedWorkspaces)(Le)||[])Object(a.dispatchForTeamId)(ye,fa())}o(ca,"maybeSignalBootedToDesktop");var Aa=e("4cU5");function Ma(){const Le=Object(a.getClientStoreInstance)().getState(),Qe=Object(i.getBootedWorkspaces)(Le),Ce=Object(i.getFocusedWorkspace)(Le),ie=Object(a.getStoreInstanceByTeamId)(Ce).getState(),Oe=Object(hn.a)({state:ie}),We=Oe.createSpan({name:"workspaces:booted",samplingOptions:{sampleType:Aa.g.ALWAYS},options:{tags:{count:Qe.length}}});We.close(),Oe.reportSpans([We])}o(Ma,"beaconWorkspacesCount");var ja=e("sMre"),Fa=e("Ybt4"),ta=e("5NQM"),Pn=e("z28c");const dn=4,Rt=o(He=>1e4*2**He,"getDelayForAttempt"),vt=Object(Vn.c)("Preload Collab SDK after boot",function(He,Le){let{attempt:Qe=1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return He(Object(ja.a)()).then(Ce=>{if(navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller){var ie,Oe;navigator==null||(ie=navigator.serviceWorker)===null||ie===void 0||(Oe=ie.controller)===null||Oe===void 0||Oe.postMessage({type:"canvas_prefetch",urls:Ce.controllerModuleUrls()})}else Object($t.d)(Le(),"rm_preload_quip")!=="treatment"&&Ce.preload()}).catch(Ce=>{Object(Fa.b)({getState:Le}).error(Ce,`Error preloading Quip SDK (${Qe} / ${dn})`),Qe<dn&&setTimeout(()=>{He(vt({attempt:Qe+1}))},Rt(Qe))})});vt.meta={name:"createThunk",key:"createThunkpreloadQuip",description:"Preload Collab SDK after boot"};function At(){const He=Object(a.getStateForClientStore)(),Le=Object(i.getBootedWorkspaces)(He)||[];try{const Qe=Le.find(Ce=>{const ye=Object(a.getStateByTeamId)(Ce);return Object(Pn.a)(ye)});if(!Qe)return;Object(ta.c)(()=>{Object(a.dispatchForTeamId)(Qe,vt())},{timeout:2e3})}catch(Qe){Object(Fa.c)().error(Qe,"Error preloading Quip SDK")}}o(At,"initPreloadQuip");var Gt=e("peVv");function ln(){const He=Object(a.getClientStoreInstance)();if(He)try{const Le=He.getState(),Qe=Object(i.getFocusedWorkspace)(Le);Object(a.getStoreInstanceByTeamId)(Qe).dispatch(Object(Gt.b)())}catch(Le){Object(l.b)().error("BOOT","Failed to show Day 1 Creator welcome modal",Le)}}o(ln,"maybeShowDay1CreatorWelcomeModalAtBoot");function Dt(He){He.hooks.bootComplete.tap("Begin min version polling",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return he(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Prepare to record SSB memory usage stats on an interval",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return ot(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Prepare to record Redux store size stats on an interval",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return Cn(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Update accessibility preferences",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return kn(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Set-up a cookie with the SSB instance ID to send along with API requests",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return ba(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Register the service worker",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return ya(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Clear force_cold_boot and new_enough_acceptable params from URL",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return Ht(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Clean up old persisted data for expired teams",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return yield Wt(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Persist data for all booted teams",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return bt(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Enable the direct-contents-write feature of Squirrel.Mac on Mac SSB",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return Pt(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Collect data on how long it's been since people have used their least active teams",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return Ft(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Mark the client boot as complete",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return en(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("(Desktop only) Signal to desktop that all teams have booted",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return ca(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Preload quip assets",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return At(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Maybe show Day 1 creator welcome modal",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return ln(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Collect client metrics on an interval",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return jn(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Write sonic_on_gantry_v2 flag to the service worker",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return En(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}()),He.hooks.bootComplete.tap("Record a count of booted teams",function(){var Le=Object(n.coroutine)(function*(Qe){let{contextualInfo:Ce}=Qe;return Ma(),{contextualInfo:Ce}});return function(Qe){return Le.apply(this,arguments)}}())}o(Dt,"register")},tojS:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("/1FC"),t=e("nNoG");const a=new t.b("a11y");function i(){let{channelName:c,previousChannelName:r,workspaceName:f,orgName:l,isOrgGlobalSharedPublicOrPrivateChannel:p,isOrgSharedPublicOrPrivateChannel:h,isExternallySharedChannel:u,isArchived:b,isCurrent:v,hasUnreads:d,hasNotifications:m,isPrivate:g,isNotMember:O,isMuted:E,isStarred:y,hasDraft:C,featureFromAnotherTeamLabels:I}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const j=(()=>{if(u&&f&&f.length>0){const T=Object(n.a)(f)?f:[f];return I?T.length===1?a.t("includes external people from {workspaceName}",{workspaceName:T[0],fallbackHash:"3b471d74a7854ec44b6d5952f3e8134cded11ab6"}):T.length===2?a.t("includes external people from {workspaceName} and {workspaceName2}",{workspaceName:T[0],workspaceName2:T[1],fallbackHash:"e68b10b8d5c23e4a0f17af409edd051fa0d7253b"}):a.t("includes external people from {workspaceName1} and {remainingCount, plural, =1 {# other organization} other {# other organizations}}",{remainingCount:T.length-1,workspaceName1:T[0],fallbackHash:"8144b9be5f2cafb8d8f536e88eeaabf458dab96e"}):a.t("shared with {workspaceName}",{workspaceName:T[0]})}return p&&l?a.t("shared across all {orgName} workspaces",{orgName:l}):h?a.t("shared channel"):""})(),M=(()=>b?a.t("archived channel"):v&&d&&m&&g&&O&&E&&y&&C?a.t("current channel, has unread messages and notifications, private, not a member, muted, starred, has a draft message"):!v&&d&&m&&g&&O&&E&&y&&C?a.t("has unread messages and notifications, private, not a member, muted, starred, has a draft message"):v&&!d&&m&&g&&O&&E&&y&&C?a.t("current channel, has notifications, private, not a member, muted, starred, has a draft message"):!v&&!d&&m&&g&&O&&E&&y&&C?a.t("has notifications, private, not a member, muted, starred, has a draft message"):v&&d&&!m&&g&&O&&E&&y&&C?a.t("current channel, has unread messages, private, not a member, muted, starred, has a draft message"):!v&&d&&!m&&g&&O&&E&&y&&C?a.t("has unread messages, private, not a member, muted, starred, has a draft message"):v&&!d&&!m&&g&&O&&E&&y&&C?a.t("current channel, private, not a member, muted, starred, has a draft message"):!v&&!d&&!m&&g&&O&&E&&y&&C?a.t("private, not a member, muted, starred, has a draft message"):v&&d&&m&&!g&&O&&E&&y&&C?a.t("current channel, has unread messages and notifications, not a member, muted, starred, has a draft message"):!v&&d&&m&&!g&&O&&E&&y&&C?a.t("has unread messages and notifications, not a member, muted, starred, has a draft message"):v&&!d&&m&&!g&&O&&E&&y&&C?a.t("current channel, has notifications, not a member, muted, starred, has a draft message"):!v&&!d&&m&&!g&&O&&E&&y&&C?a.t("has notifications, not a member, muted, starred, has a draft message"):v&&d&&!m&&!g&&O&&E&&y&&C?a.t("current channel, has unread messages, not a member, muted, starred, has a draft message"):!v&&d&&!m&&!g&&O&&E&&y&&C?a.t("has unread messages, not a member, muted, starred, has a draft message"):v&&!d&&!m&&!g&&O&&E&&y&&C?a.t("current channel, not a member, muted, starred, has a draft message"):!v&&!d&&!m&&!g&&O&&E&&y&&C?a.t("not a member, muted, starred, has a draft message"):v&&d&&m&&g&&!O&&E&&y&&C?a.t("current channel, has unread messages and notifications, private, muted, starred, has a draft message"):!v&&d&&m&&g&&!O&&E&&y&&C?a.t("has unread messages and notifications, private, muted, starred, has a draft message"):v&&!d&&m&&g&&!O&&E&&y&&C?a.t("current channel, has notifications, private, muted, starred, has a draft message"):!v&&!d&&m&&g&&!O&&E&&y&&C?a.t("has notifications, private, muted, starred, has a draft message"):v&&d&&!m&&g&&!O&&E&&y&&C?a.t("current channel, has unread messages, private, muted, starred, has a draft message"):!v&&d&&!m&&g&&!O&&E&&y&&C?a.t("has unread messages, private, muted, starred, has a draft message"):v&&!d&&!m&&g&&!O&&E&&y&&C?a.t("current channel, private, muted, starred, has a draft message"):!v&&!d&&!m&&g&&!O&&E&&y&&C?a.t("private, muted, starred, has a draft message"):v&&d&&m&&!g&&!O&&E&&y&&C?a.t("current channel, has unread messages and notifications, muted, starred, has a draft message"):!v&&d&&m&&!g&&!O&&E&&y&&C?a.t("has unread messages and notifications, muted, starred, has a draft message"):v&&!d&&m&&!g&&!O&&E&&y&&C?a.t("current channel, has notifications, muted, starred, has a draft message"):!v&&!d&&m&&!g&&!O&&E&&y&&C?a.t("has notifications, muted, starred, has a draft message"):v&&d&&!m&&!g&&!O&&E&&y&&C?a.t("current channel, has unread messages, muted, starred, has a draft message"):!v&&d&&!m&&!g&&!O&&E&&y&&C?a.t("has unread messages, muted, starred, has a draft message"):v&&!d&&!m&&!g&&!O&&E&&y&&C?a.t("current channel, muted, starred, has a draft message"):!v&&!d&&!m&&!g&&!O&&E&&y&&C?a.t("muted, starred, has a draft message"):v&&d&&m&&g&&O&&!E&&y&&C?a.t("current channel, has unread messages and notifications, private, not a member, starred, has a draft message"):!v&&d&&m&&g&&O&&!E&&y&&C?a.t("has unread messages and notifications, private, not a member, starred, has a draft message"):v&&!d&&m&&g&&O&&!E&&y&&C?a.t("current channel, has notifications, private, not a member, starred, has a draft message"):!v&&!d&&m&&g&&O&&!E&&y&&C?a.t("has notifications, private, not a member, starred, has a draft message"):v&&d&&!m&&g&&O&&!E&&y&&C?a.t("current channel, has unread messages, private, not a member, starred, has a draft message"):!v&&d&&!m&&g&&O&&!E&&y&&C?a.t("has unread messages, private, not a member, starred, has a draft message"):v&&!d&&!m&&g&&O&&!E&&y&&C?a.t("current channel, private, not a member, starred, has a draft message"):!v&&!d&&!m&&g&&O&&!E&&y&&C?a.t("private, not a member, starred, has a draft message"):v&&d&&m&&!g&&O&&!E&&y&&C?a.t("current channel, has unread messages and notifications, not a member, starred, has a draft message"):!v&&d&&m&&!g&&O&&!E&&y&&C?a.t("has unread messages and notifications, not a member, starred, has a draft message"):v&&!d&&m&&!g&&O&&!E&&y&&C?a.t("current channel, has notifications, not a member, starred, has a draft message"):!v&&!d&&m&&!g&&O&&!E&&y&&C?a.t("has notifications, not a member, starred, has a draft message"):v&&d&&!m&&!g&&O&&!E&&y&&C?a.t("current channel, has unread messages, not a member, starred, has a draft message"):!v&&d&&!m&&!g&&O&&!E&&y&&C?a.t("has unread messages, not a member, starred, has a draft message"):v&&!d&&!m&&!g&&O&&!E&&y&&C?a.t("current channel, not a member, starred, has a draft message"):!v&&!d&&!m&&!g&&O&&!E&&y&&C?a.t("not a member, starred, has a draft message"):v&&d&&m&&g&&!O&&!E&&y&&C?a.t("current channel, has unread messages and notifications, private, starred, has a draft message"):!v&&d&&m&&g&&!O&&!E&&y&&C?a.t("has unread messages and notifications, private, starred, has a draft message"):v&&!d&&m&&g&&!O&&!E&&y&&C?a.t("current channel, has notifications, private, starred, has a draft message"):!v&&!d&&m&&g&&!O&&!E&&y&&C?a.t("has notifications, private, starred, has a draft message"):v&&d&&!m&&g&&!O&&!E&&y&&C?a.t("current channel, has unread messages, private, starred, has a draft message"):!v&&d&&!m&&g&&!O&&!E&&y&&C?a.t("has unread messages, private, starred, has a draft message"):v&&!d&&!m&&g&&!O&&!E&&y&&C?a.t("current channel, private, starred, has a draft message"):!v&&!d&&!m&&g&&!O&&!E&&y&&C?a.t("private, starred, has a draft message"):v&&d&&m&&!g&&!O&&!E&&y&&C?a.t("current channel, has unread messages and notifications, starred, has a draft message"):!v&&d&&m&&!g&&!O&&!E&&y&&C?a.t("has unread messages and notifications, starred, has a draft message"):v&&!d&&m&&!g&&!O&&!E&&y&&C?a.t("current channel, has notifications, starred, has a draft message"):!v&&!d&&m&&!g&&!O&&!E&&y&&C?a.t("has notifications, starred, has a draft message"):v&&d&&!m&&!g&&!O&&!E&&y&&C?a.t("current channel, has unread messages, starred, has a draft message"):!v&&d&&!m&&!g&&!O&&!E&&y&&C?a.t("has unread messages, starred, has a draft message"):v&&!d&&!m&&!g&&!O&&!E&&y&&C?a.t("current channel, starred, has a draft message"):!v&&!d&&!m&&!g&&!O&&!E&&y&&C?a.t("starred, has a draft message"):v&&d&&m&&g&&O&&E&&!y&&C?a.t("current channel, has unread messages and notifications, private, not a member, muted, has a draft message"):!v&&d&&m&&g&&O&&E&&!y&&C?a.t("has unread messages and notifications, private, not a member, muted, has a draft message"):v&&!d&&m&&g&&O&&E&&!y&&C?a.t("current channel, has notifications, private, not a member, muted, has a draft message"):!v&&!d&&m&&g&&O&&E&&!y&&C?a.t("has notifications, private, not a member, muted, has a draft message"):v&&d&&!m&&g&&O&&E&&!y&&C?a.t("current channel, has unread messages, private, not a member, muted, has a draft message"):!v&&d&&!m&&g&&O&&E&&!y&&C?a.t("has unread messages, private, not a member, muted, has a draft message"):v&&!d&&!m&&g&&O&&E&&!y&&C?a.t("current channel, private, not a member, muted, has a draft message"):!v&&!d&&!m&&g&&O&&E&&!y&&C?a.t("private, not a member, muted, has a draft message"):v&&d&&m&&!g&&O&&E&&!y&&C?a.t("current channel, has unread messages and notifications, not a member, muted, has a draft message"):!v&&d&&m&&!g&&O&&E&&!y&&C?a.t("has unread messages and notifications, not a member, muted, has a draft message"):v&&!d&&m&&!g&&O&&E&&!y&&C?a.t("current channel, has notifications, not a member, muted, has a draft message"):!v&&!d&&m&&!g&&O&&E&&!y&&C?a.t("has notifications, not a member, muted, has a draft message"):v&&d&&!m&&!g&&O&&E&&!y&&C?a.t("current channel, has unread messages, not a member, muted, has a draft message"):!v&&d&&!m&&!g&&O&&E&&!y&&C?a.t("has unread messages, not a member, muted, has a draft message"):v&&!d&&!m&&!g&&O&&E&&!y&&C?a.t("current channel, not a member, muted, has a draft message"):!v&&!d&&!m&&!g&&O&&E&&!y&&C?a.t("not a member, muted, has a draft message"):v&&d&&m&&g&&!O&&E&&!y&&C?a.t("current channel, has unread messages and notifications, private, muted, has a draft message"):!v&&d&&m&&g&&!O&&E&&!y&&C?a.t("has unread messages and notifications, private, muted, has a draft message"):v&&!d&&m&&g&&!O&&E&&!y&&C?a.t("current channel, has notifications, private, muted, has a draft message"):!v&&!d&&m&&g&&!O&&E&&!y&&C?a.t("has notifications, private, muted, has a draft message"):v&&d&&!m&&g&&!O&&E&&!y&&C?a.t("current channel, has unread messages, private, muted, has a draft message"):!v&&d&&!m&&g&&!O&&E&&!y&&C?a.t("has unread messages, private, muted, has a draft message"):v&&!d&&!m&&g&&!O&&E&&!y&&C?a.t("current channel, private, muted, has a draft message"):!v&&!d&&!m&&g&&!O&&E&&!y&&C?a.t("private, muted, has a draft message"):v&&d&&m&&!g&&!O&&E&&!y&&C?a.t("current channel, has unread messages and notifications, muted, has a draft message"):!v&&d&&m&&!g&&!O&&E&&!y&&C?a.t("has unread messages and notifications, muted, has a draft message"):v&&!d&&m&&!g&&!O&&E&&!y&&C?a.t("current channel, has notifications, muted, has a draft message"):!v&&!d&&m&&!g&&!O&&E&&!y&&C?a.t("has notifications, muted, has a draft message"):v&&d&&!m&&!g&&!O&&E&&!y&&C?a.t("current channel, has unread messages, muted, has a draft message"):!v&&d&&!m&&!g&&!O&&E&&!y&&C?a.t("has unread messages, muted, has a draft message"):v&&!d&&!m&&!g&&!O&&E&&!y&&C?a.t("current channel, muted, has a draft message"):!v&&!d&&!m&&!g&&!O&&E&&!y&&C?a.t("muted, has a draft message"):v&&d&&m&&g&&O&&!E&&!y&&C?a.t("current channel, has unread messages and notifications, private, not a member, has a draft message"):!v&&d&&m&&g&&O&&!E&&!y&&C?a.t("has unread messages and notifications, private, not a member, has a draft message"):v&&!d&&m&&g&&O&&!E&&!y&&C?a.t("current channel, has notifications, private, not a member, has a draft message"):!v&&!d&&m&&g&&O&&!E&&!y&&C?a.t("has notifications, private, not a member, has a draft message"):v&&d&&!m&&g&&O&&!E&&!y&&C?a.t("current channel, has unread messages, private, not a member, has a draft message"):!v&&d&&!m&&g&&O&&!E&&!y&&C?a.t("has unread messages, private, not a member, has a draft message"):v&&!d&&!m&&g&&O&&!E&&!y&&C?a.t("current channel, private, not a member, has a draft message"):!v&&!d&&!m&&g&&O&&!E&&!y&&C?a.t("private, not a member, has a draft message"):v&&d&&m&&!g&&O&&!E&&!y&&C?a.t("current channel, has unread messages and notifications, not a member, has a draft message"):!v&&d&&m&&!g&&O&&!E&&!y&&C?a.t("has unread messages and notifications, not a member, has a draft message"):v&&!d&&m&&!g&&O&&!E&&!y&&C?a.t("current channel, has notifications, not a member, has a draft message"):!v&&!d&&m&&!g&&O&&!E&&!y&&C?a.t("has notifications, not a member, has a draft message"):v&&d&&!m&&!g&&O&&!E&&!y&&C?a.t("current channel, has unread messages, not a member, has a draft message"):!v&&d&&!m&&!g&&O&&!E&&!y&&C?a.t("has unread messages, not a member, has a draft message"):v&&!d&&!m&&!g&&O&&!E&&!y&&C?a.t("current channel, not a member, has a draft message"):!v&&!d&&!m&&!g&&O&&!E&&!y&&C?a.t("not a member, has a draft message"):v&&d&&m&&g&&!O&&!E&&!y&&C?a.t("current channel, has unread messages and notifications, private, has a draft message"):!v&&d&&m&&g&&!O&&!E&&!y&&C?a.t("has unread messages and notifications, private, has a draft message"):v&&!d&&m&&g&&!O&&!E&&!y&&C?a.t("current channel, has notifications, private, has a draft message"):!v&&!d&&m&&g&&!O&&!E&&!y&&C?a.t("has notifications, private, has a draft message"):v&&d&&!m&&g&&!O&&!E&&!y&&C?a.t("current channel, has unread messages, private, has a draft message"):!v&&d&&!m&&g&&!O&&!E&&!y&&C?a.t("has unread messages, private, has a draft message"):v&&!d&&!m&&g&&!O&&!E&&!y&&C?a.t("current channel, private, has a draft message"):!v&&!d&&!m&&g&&!O&&!E&&!y&&C?a.t("private, has a draft message"):v&&d&&m&&!g&&!O&&!E&&!y&&C?a.t("current channel, has unread messages and notifications, has a draft message"):!v&&d&&m&&!g&&!O&&!E&&!y&&C?a.t("has unread messages and notifications, has a draft message"):v&&!d&&m&&!g&&!O&&!E&&!y&&C?a.t("current channel, has notifications, has a draft message"):!v&&!d&&m&&!g&&!O&&!E&&!y&&C?a.t("has notifications, has a draft message"):v&&d&&!m&&!g&&!O&&!E&&!y&&C?a.t("current channel, has unread messages, has a draft message"):!v&&d&&!m&&!g&&!O&&!E&&!y&&C?a.t("has unread messages, has a draft message"):v&&!d&&!m&&!g&&!O&&!E&&!y&&C?a.t("current channel, has a draft message"):!v&&!d&&!m&&!g&&!O&&!E&&!y&&C?a.t("has a draft message"):v&&d&&m&&g&&O&&E&&y&&!C?a.t("current channel, has unread messages and notifications, private, not a member, muted, starred"):!v&&d&&m&&g&&O&&E&&y&&!C?a.t("has unread messages and notifications, private, not a member, muted, starred"):v&&!d&&m&&g&&O&&E&&y&&!C?a.t("current channel, has notifications, private, not a member, muted, starred"):!v&&!d&&m&&g&&O&&E&&y&&!C?a.t("has notifications, private, not a member, muted, starred"):v&&d&&!m&&g&&O&&E&&y&&!C?a.t("current channel, has unread messages, private, not a member, muted, starred"):!v&&d&&!m&&g&&O&&E&&y&&!C?a.t("has unread messages, private, not a member, muted, starred"):v&&!d&&!m&&g&&O&&E&&y&&!C?a.t("current channel, private, not a member, muted, starred"):!v&&!d&&!m&&g&&O&&E&&y&&!C?a.t("private, not a member, muted, starred"):v&&d&&m&&!g&&O&&E&&y&&!C?a.t("current channel, has unread messages and notifications, not a member, muted, starred"):!v&&d&&m&&!g&&O&&E&&y&&!C?a.t("has unread messages and notifications, not a member, muted, starred"):v&&!d&&m&&!g&&O&&E&&y&&!C?a.t("current channel, has notifications, not a member, muted, starred"):!v&&!d&&m&&!g&&O&&E&&y&&!C?a.t("has notifications, not a member, muted, starred"):v&&d&&!m&&!g&&O&&E&&y&&!C?a.t("current channel, has unread messages, not a member, muted, starred"):!v&&d&&!m&&!g&&O&&E&&y&&!C?a.t("has unread messages, not a member, muted, starred"):v&&!d&&!m&&!g&&O&&E&&y&&!C?a.t("current channel, not a member, muted, starred"):!v&&!d&&!m&&!g&&O&&E&&y&&!C?a.t("not a member, muted, starred"):v&&d&&m&&g&&!O&&E&&y&&!C?a.t("current channel, has unread messages and notifications, private, muted, starred"):!v&&d&&m&&g&&!O&&E&&y&&!C?a.t("has unread messages and notifications, private, muted, starred"):v&&!d&&m&&g&&!O&&E&&y&&!C?a.t("current channel, has notifications, private, muted, starred"):!v&&!d&&m&&g&&!O&&E&&y&&!C?a.t("has notifications, private, muted, starred"):v&&d&&!m&&g&&!O&&E&&y&&!C?a.t("current channel, has unread messages, private, muted, starred"):!v&&d&&!m&&g&&!O&&E&&y&&!C?a.t("has unread messages, private, muted, starred"):v&&!d&&!m&&g&&!O&&E&&y&&!C?a.t("current channel, private, muted, starred"):!v&&!d&&!m&&g&&!O&&E&&y&&!C?a.t("private, muted, starred"):v&&d&&m&&!g&&!O&&E&&y&&!C?a.t("current channel, has unread messages and notifications, muted, starred"):!v&&d&&m&&!g&&!O&&E&&y&&!C?a.t("has unread messages and notifications, muted, starred"):v&&!d&&m&&!g&&!O&&E&&y&&!C?a.t("current channel, has notifications, muted, starred"):!v&&!d&&m&&!g&&!O&&E&&y&&!C?a.t("has notifications, muted, starred"):v&&d&&!m&&!g&&!O&&E&&y&&!C?a.t("current channel, has unread messages, muted, starred"):!v&&d&&!m&&!g&&!O&&E&&y&&!C?a.t("has unread messages, muted, starred"):v&&!d&&!m&&!g&&!O&&E&&y&&!C?a.t("current channel, muted, starred"):!v&&!d&&!m&&!g&&!O&&E&&y&&!C?a.t("muted, starred"):v&&d&&m&&g&&O&&!E&&y&&!C?a.t("current channel, has unread messages and notifications, private, not a member, starred"):!v&&d&&m&&g&&O&&!E&&y&&!C?a.t("has unread messages and notifications, private, not a member, starred"):v&&!d&&m&&g&&O&&!E&&y&&!C?a.t("current channel, has notifications, private, not a member, starred"):!v&&!d&&m&&g&&O&&!E&&y&&!C?a.t("has notifications, private, not a member, starred"):v&&d&&!m&&g&&O&&!E&&y&&!C?a.t("current channel, has unread messages, private, not a member, starred"):!v&&d&&!m&&g&&O&&!E&&y&&!C?a.t("has unread messages, private, not a member, starred"):v&&!d&&!m&&g&&O&&!E&&y&&!C?a.t("current channel, private, not a member, starred"):!v&&!d&&!m&&g&&O&&!E&&y&&!C?a.t("private, not a member, starred"):v&&d&&m&&!g&&O&&!E&&y&&!C?a.t("current channel, has unread messages and notifications, not a member, starred"):!v&&d&&m&&!g&&O&&!E&&y&&!C?a.t("has unread messages and notifications, not a member, starred"):v&&!d&&m&&!g&&O&&!E&&y&&!C?a.t("current channel, has notifications, not a member, starred"):!v&&!d&&m&&!g&&O&&!E&&y&&!C?a.t("has notifications, not a member, starred"):v&&d&&!m&&!g&&O&&!E&&y&&!C?a.t("current channel, has unread messages, not a member, starred"):!v&&d&&!m&&!g&&O&&!E&&y&&!C?a.t("has unread messages, not a member, starred"):v&&!d&&!m&&!g&&O&&!E&&y&&!C?a.t("current channel, not a member, starred"):!v&&!d&&!m&&!g&&O&&!E&&y&&!C?a.t("not a member, starred"):v&&d&&m&&g&&!O&&!E&&y&&!C?a.t("current channel, has unread messages and notifications, private, starred"):!v&&d&&m&&g&&!O&&!E&&y&&!C?a.t("has unread messages and notifications, private, starred"):v&&!d&&m&&g&&!O&&!E&&y&&!C?a.t("current channel, has notifications, private, starred"):!v&&!d&&m&&g&&!O&&!E&&y&&!C?a.t("has notifications, private, starred"):v&&d&&!m&&g&&!O&&!E&&y&&!C?a.t("current channel, has unread messages, private, starred"):!v&&d&&!m&&g&&!O&&!E&&y&&!C?a.t("has unread messages, private, starred"):v&&!d&&!m&&g&&!O&&!E&&y&&!C?a.t("current channel, private, starred"):!v&&!d&&!m&&g&&!O&&!E&&y&&!C?a.t("private, starred"):v&&d&&m&&!g&&!O&&!E&&y&&!C?a.t("current channel, has unread messages and notifications, starred"):!v&&d&&m&&!g&&!O&&!E&&y&&!C?a.t("has unread messages and notifications, starred"):v&&!d&&m&&!g&&!O&&!E&&y&&!C?a.t("current channel, has notifications, starred"):!v&&!d&&m&&!g&&!O&&!E&&y&&!C?a.t("has notifications, starred"):v&&d&&!m&&!g&&!O&&!E&&y&&!C?a.t("current channel, has unread messages, starred"):!v&&d&&!m&&!g&&!O&&!E&&y&&!C?a.t("has unread messages, starred"):v&&!d&&!m&&!g&&!O&&!E&&y&&!C?a.t("current channel, starred"):!v&&!d&&!m&&!g&&!O&&!E&&y&&!C?a.t("starred"):v&&d&&m&&g&&O&&E&&!y&&!C?a.t("current channel, has unread messages and notifications, private, not a member, muted"):!v&&d&&m&&g&&O&&E&&!y&&!C?a.t("has unread messages and notifications, private, not a member, muted"):v&&!d&&m&&g&&O&&E&&!y&&!C?a.t("current channel, has notifications, private, not a member, muted"):!v&&!d&&m&&g&&O&&E&&!y&&!C?a.t("has notifications, private, not a member, muted"):v&&d&&!m&&g&&O&&E&&!y&&!C?a.t("current channel, has unread messages, private, not a member, muted"):!v&&d&&!m&&g&&O&&E&&!y&&!C?a.t("has unread messages, private, not a member, muted"):v&&!d&&!m&&g&&O&&E&&!y&&!C?a.t("current channel, private, not a member, muted"):!v&&!d&&!m&&g&&O&&E&&!y&&!C?a.t("private, not a member, muted"):v&&d&&m&&!g&&O&&E&&!y&&!C?a.t("current channel, has unread messages and notifications, not a member, muted"):!v&&d&&m&&!g&&O&&E&&!y&&!C?a.t("has unread messages and notifications, not a member, muted"):v&&!d&&m&&!g&&O&&E&&!y&&!C?a.t("current channel, has notifications, not a member, muted"):!v&&!d&&m&&!g&&O&&E&&!y&&!C?a.t("has notifications, not a member, muted"):v&&d&&!m&&!g&&O&&E&&!y&&!C?a.t("current channel, has unread messages, not a member, muted"):!v&&d&&!m&&!g&&O&&E&&!y&&!C?a.t("has unread messages, not a member, muted"):v&&!d&&!m&&!g&&O&&E&&!y&&!C?a.t("current channel, not a member, muted"):!v&&!d&&!m&&!g&&O&&E&&!y&&!C?a.t("not a member, muted"):v&&d&&m&&g&&!O&&E&&!y&&!C?a.t("current channel, has unread messages and notifications, private, muted"):!v&&d&&m&&g&&!O&&E&&!y&&!C?a.t("has unread messages and notifications, private, muted"):v&&!d&&m&&g&&!O&&E&&!y&&!C?a.t("current channel, has notifications, private, muted"):!v&&!d&&m&&g&&!O&&E&&!y&&!C?a.t("has notifications, private, muted"):v&&d&&!m&&g&&!O&&E&&!y&&!C?a.t("current channel, has unread messages, private, muted"):!v&&d&&!m&&g&&!O&&E&&!y&&!C?a.t("has unread messages, private, muted"):v&&!d&&!m&&g&&!O&&E&&!y&&!C?a.t("current channel, private, muted"):!v&&!d&&!m&&g&&!O&&E&&!y&&!C?a.t("private, muted"):v&&d&&m&&!g&&!O&&E&&!y&&!C?a.t("current channel, has unread messages and notifications, muted"):!v&&d&&m&&!g&&!O&&E&&!y&&!C?a.t("has unread messages and notifications, muted"):v&&!d&&m&&!g&&!O&&E&&!y&&!C?a.t("current channel, has notifications, muted"):!v&&!d&&m&&!g&&!O&&E&&!y&&!C?a.t("has notifications, muted"):v&&d&&!m&&!g&&!O&&E&&!y&&!C?a.t("current channel, has unread messages, muted"):!v&&d&&!m&&!g&&!O&&E&&!y&&!C?a.t("has unread messages, muted"):v&&!d&&!m&&!g&&!O&&E&&!y&&!C?a.t("current channel, muted"):!v&&!d&&!m&&!g&&!O&&E&&!y&&!C?a.t("muted"):v&&d&&m&&g&&O&&!E&&!y&&!C?a.t("current channel, has unread messages and notifications, private, not a member"):!v&&d&&m&&g&&O&&!E&&!y&&!C?a.t("has unread messages and notifications, private, not a member"):v&&!d&&m&&g&&O&&!E&&!y&&!C?a.t("current channel, has notifications, private, not a member"):!v&&!d&&m&&g&&O&&!E&&!y&&!C?a.t("has notifications, private, not a member"):v&&d&&!m&&g&&O&&!E&&!y&&!C?a.t("current channel, has unread messages, private, not a member"):!v&&d&&!m&&g&&O&&!E&&!y&&!C?a.t("has unread messages, private, not a member"):v&&!d&&!m&&g&&O&&!E&&!y&&!C?a.t("current channel, private, not a member"):!v&&!d&&!m&&g&&O&&!E&&!y&&!C?a.t("private, not a member"):v&&d&&m&&!g&&O&&!E&&!y&&!C?a.t("current channel, has unread messages and notifications, not a member"):!v&&d&&m&&!g&&O&&!E&&!y&&!C?a.t("has unread messages and notifications, not a member"):v&&!d&&m&&!g&&O&&!E&&!y&&!C?a.t("current channel, has notifications, not a member"):!v&&!d&&m&&!g&&O&&!E&&!y&&!C?a.t("has notifications, not a member"):v&&d&&!m&&!g&&O&&!E&&!y&&!C?a.t("current channel, has unread messages, not a member"):!v&&d&&!m&&!g&&O&&!E&&!y&&!C?a.t("has unread messages, not a member"):v&&!d&&!m&&!g&&O&&!E&&!y&&!C?a.t("current channel, not a member"):!v&&!d&&!m&&!g&&O&&!E&&!y&&!C?a.t("not a member"):v&&d&&m&&g&&!O&&!E&&!y&&!C?a.t("current channel, has unread messages and notifications, private"):!v&&d&&m&&g&&!O&&!E&&!y&&!C?a.t("has unread messages and notifications, private"):v&&!d&&m&&g&&!O&&!E&&!y&&!C?a.t("current channel, has notifications, private"):!v&&!d&&m&&g&&!O&&!E&&!y&&!C?a.t("has notifications, private"):v&&d&&!m&&g&&!O&&!E&&!y&&!C?a.t("current channel, has unread messages, private"):!v&&d&&!m&&g&&!O&&!E&&!y&&!C?a.t("has unread messages, private"):v&&!d&&!m&&g&&!O&&!E&&!y&&!C?a.t("current channel, private"):!v&&!d&&!m&&g&&!O&&!E&&!y&&!C?a.t("private"):v&&d&&m&&!g&&!O&&!E&&!y&&!C?a.t("current channel, has unread messages and notifications"):!v&&d&&m&&!g&&!O&&!E&&!y&&!C?a.t("has unread messages and notifications"):v&&!d&&m&&!g&&!O&&!E&&!y&&!C?a.t("current channel, has notifications"):!v&&!d&&m&&!g&&!O&&!E&&!y&&!C?a.t("has notifications"):v&&d&&!m&&!g&&!O&&!E&&!y&&!C?a.t("current channel, has unread messages"):!v&&d&&!m&&!g&&!O&&!E&&!y&&!C?a.t("has unread messages"):v&&!d&&!m&&!g&&!O&&!E&&!y&&!C?a.t("current channel"):"")();return r&&!j&&!M?a.t("{channelName}, previously {previousChannelName}",{channelName:c,previousChannelName:r}):!r&&!j&&M?a.t("{channelName} ({context})",{channelName:c,context:M}):r&&!j&&M?a.t("{channelName}, previously {previousChannelName} ({context})",{channelName:c,previousChannelName:r,context:M}):!r&&j&&!M?a.t("{channelName}, {workspaceDescription}",{channelName:c,workspaceDescription:j}):r&&j&&!M?a.t("{channelName}, previously {previousChannelName}, {workspaceDescription}",{channelName:c,workspaceDescription:j,previousChannelName:r}):!r&&j&&M?a.t("{channelName}, {workspaceDescription} ({context})",{channelName:c,workspaceDescription:j,context:M}):r&&j&&M?a.t("{channelName}, previously {previousChannelName}, {workspaceDescription} ({context})",{channelName:c,workspaceDescription:j,previousChannelName:r,context:M}):c||""}o(i,"makeAriaLabelForChannel")},tvTu:function(w,s,e){"use strict";e.d(s,"a",function(){return b});var n=e("Lgge"),t=e("fujP"),a=e("SQ0V"),i=e("7XZu"),c=e("Shth"),r=e("HD5C"),f=e("Dpf0"),l=e("7YN0"),p=e("mEPG"),h=e("TZwK"),u=e("AyK6");const b=Object(a.c)("Attach an eager upload to a draft",function(v,d){let{file:m,pendingFileId:g,uploadPromise:O=n.a.resolve(),draftId:E}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!g)return;let y=E;v(Object(p.b)({draftId:y,pendingFileId:g})),Object(l.e)(y,{pendingFileId:g,uploadPromise:O}),O.then(function(){let{fileIds:C=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(t.a)(C))return;const I=C[0],j=m.dataUrl,M=m.orientation,T=m.width,D=m.height;v(Object(r.a)({fileId:I,dataUrl:j,orientation:M,width:T,height:D})),y=Object(h.b)(d(),g),Object(u.c)(d(),{pendingFileId:g})||v(Object(f.a)({draftId:y,fileId:I})),v(Object(i.d)({pendingFileId:g})),v(Object(p.c)({draftId:y,pendingFileId:g}))}).catch(()=>{v(Object(i.h)({pendingFileId:g,status:c.a.ERROR}))}).finally(()=>{Object(l.a)(y,g)})});b.meta={name:"createThunk",key:"createThunkattachUploadToDraft",description:"Attach an eager upload to a draft"}},u0yg:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("Kyco"),t=e("vLZU"),a=e("o07q");const i="conversationsListPrefs",c={},r=Object(n.b)({},c,{scope:t.k.orgShared,storeKey:i,persistenceEnabled:!0}).on(a.a,(f,l)=>{let{channelId:p}=l;if(!p||!f[p])return f;const h={...f};return delete h[p],h}).on(a.b,(f,l)=>{let{channelId:p,prefs:h}=l;return p?{...f,[p]:h}:f});s.b=r},u5Oj:function(w,s,e){"use strict";var n=e("OZf9"),t=e("SQ0V"),a=e("Kn+X"),i=e("jprL"),c=e("pgMT"),r=e("Sczb"),f=e("MUHO");const l=Object(t.c)("Sync unfurl state from server to redux",(p,h,u)=>{let{draft:b,unfurl:v}=u;if(!b)return;const d=Object(a.e)(b)||"";if(!d)return;const m=h(),g=Object(a.n)(b)||[],O=Object(r.h)(m,{ops:g})||[],E=Object(r.c)(m,d);Object(n.a)(E||[],(y,C)=>{const I=O.includes(C),j=v.includes(C);if(!(I&&j&&y.status!==i.f)){if(I&&j&&y.status===i.f){p(Object(c.d)({draftId:d,url:C,status:i.a}));return}if(I&&!j){p(Object(f.a)({draftId:d,url:C}));return}p(Object(c.c)({draftId:d,url:C}))}})});l.meta={name:"createThunk",key:"createThunksyncDraftUnfurlState",description:"Sync unfurl state from server to redux"},s.a=l},u5wV:function(w,s,e){"use strict";e.d(s,"a",function(){return m}),e.d(s,"b",function(){return E});var n=e("9oTK"),t=e("oTSI"),a=e("uAML"),i=e("Lgge"),c=e("lhZz"),r=e("oL+a"),f=e("KjUZ"),l=e("gSGL"),p=e("yIs4"),h=e("5W60");const u=100;function b(y,C){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.a;return Object(l.a)(C)?Object(p.a)(I)?I>u?i.a.reject(new Error(`Can't request more than ${u} members per query`)):Object(h.d)(y,{method:h.c.MEMBER_LIST,args:{channels:[C],present_first:!0,filter:"workflows NOT deactivated",count:I}}).then(function(){var j=Object(n.coroutine)(function*(M){let{results:T}=M;return T?T.map(S=>S.id).join(","):void 0});return function(M){return j.apply(this,arguments)}}()):i.a.reject(new Error("Expected count to be a Number.")):i.a.reject(new Error("No channel id given"))}o(b,"fetchChannelFirstNBotMembers");var v=e("3nbt"),d=e("s4P+");const m="HERMES_WORKFLOW_APPS_CFM";function g(y,C){return O.apply(this,arguments)}o(g,"fetchAndUpsertFirstNWorkflowAppsForChannel");function O(){return O=Object(n.coroutine)(function*(y,C){return i.a.map(C,function(){var I=Object(n.coroutine)(function*(j){const M=r.a,T=yield b(y,j,M),{workflow_apps:D,ok:S}=yield Object(c.dispatchForTeamId)(y,Object(v.a)({userIds:T,channelId:j,reason:"find-workflows-for-bot-users"}));if(!S){Object(d.a)({teamId:y}).error(m,"unable to fetch workflowApps, functions.workflows.findWorkflowForBotUsers responded with not ok");return}yield Object(c.dispatchForTeamId)(y,Object(f.c)({channelId:j,workflowAppsList:D}))});return function(j){return I.apply(this,arguments)}}())}),O.apply(this,arguments)}o(O,"_fetchAndUpsertFirstNWorkflowAppsForChannel");const E=Object(t.a)(()=>new a.b({fetch:g,isEnabled:()=>!0,metricsName:"workflow-apps-list"}))},uD37:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("Z0Cl"),c=e("puGG"),r=e("EJqq");const f=o(Be=>{const{emojiGroup:pe,colSpan:fe}=Be;if(!pe)return null;const me=pe.name.replace(/ /g,"_");return t.a.createElement("span",{role:"columnheader","aria-colspan":fe,className:"p-emoji_picker__heading p-emoji_picker__heading--emoji-14-no-bg","data-qa":`${me}_header`},pe.nameLocalized)},"EmojiListGroupItem");f.displayName="EmojiListGroupItem";var l=t.a.memo(f),p=e("Cfcg"),h=e("O86Y"),u=e("8hJe"),b=e("yrot"),v=e("YJrJ"),d=e("QYtq"),m=e("/qcS"),g=e("nift"),O=e("nNoG"),E=e("Trx9"),y=e("CpuT"),C=e("0cEW"),I=e("3V+Q"),j=e("la4u"),M=e("BHdc"),T=e("RaLP"),D=e.n(T),S=e("whaK");const A=o(Be=>{let{url:pe,emojiSize:fe=g.a.MEDIUM,displayText:me,alt:Se}=Be;const[je,Ue]=Object(n.useState)(!1),[ve,ge]=Object(n.useState)(!1),le=Object(n.useCallback)(()=>{Ue(!0)},[]),he=Object(n.useCallback)(()=>{ge(!0)},[]);return pe?t.a.createElement(t.a.Fragment,null,!je&&t.a.createElement("div",{className:`c-emoji  c-emoji__${fe} c-emoji__loading`}),t.a.createElement("img",{className:`c-emoji  c-emoji__${fe}`,src:ve?D.a:pe,alt:Se??me,onLoad:le,onError:he})):null},"MaskedEmoji");A.displayName="MaskedEmoji";const P=o((Be,pe)=>{const{emojiSkinToneIdLeft:fe="",emojiSkinToneIdRight:me="",emojiSize:Se=g.a.MEDIUM,text:je}=pe,Ue=Object(S.a)(Be,{forceDisplay:!0}),ve=Object(h.g)(Be)||"",ge=Object(O.m)({teamOrEnterpriseId:ve,recalc:!1}),le=Object(r.i)({state:Be,locale:ge,name:je});return{url:Object(b.k)(Be,{text:je,teamId:ve,emojiMode:Ue,emojiSize:Se,emojiSkinToneIdLeft:fe,emojiSkinToneIdRight:me})||"",displayText:le||""}},"mapStateToProps");var N=Object(p.a)(P)(A);function G(){return G=Object.assign||function(Be){for(var pe=1;pe<arguments.length;pe++){var fe=arguments[pe];for(var me in fe)Object.prototype.hasOwnProperty.call(fe,me)&&(Be[me]=fe[me])}return Be},G.apply(this,arguments)}o(G,"_extends");const V=o(Be=>{let{baseEmojiName:pe,emojiSkinToneIdLeft:fe="",emojiSkinToneIdRight:me="",key:Se,value:je,refToForward:Ue=null,name:ve,hasKeyboardFocus:ge,ariaLabel:le="",onChange:he,isSelected:Te,dataQa:Re=""}=Be;const Ve=Object(n.useRef)(null);return Object(n.useImperativeHandle)(Ue,()=>({focus:()=>{var Ee;Ve==null||(Ee=Ve.current)===null||Ee===void 0||Ee.focus()}})),t.a.createElement(I.b,{className:"p-emoji_multi_skintone_popover_emoji__label_wrapper",text:t.a.createElement("div",{className:Object(M.default)("p-emoji_multi_skintone_popover__emoji",{"p-emoji_multi_skintone_popover__emoji--selected":Te,"p-emoji_multi_skintone_popover__emoji--focus-visible":ge})},t.a.createElement(N,{text:pe,emojiSkinToneIdLeft:fe,emojiSkinToneIdRight:me,alt:le})),htmlFor:Se,type:"inline",cursor:"pointer",dataQaLabel:Re},t.a.createElement(j.a,{ref:Ve,id:Se,name:ve,className:"p-emoji_multi_skintone_popover__radio_button",value:je,checked:Te,onChange:he}))},"MultiSkinToneEmojiPopoverItem");V.displayName="MultiSkinToneEmojiPopoverItem";var x=t.a.forwardRef((Be,pe)=>t.a.createElement(V,G({refToForward:pe},Be))),H=e("Oy0v"),R=e("eoxr"),W=e("m40f"),U=e("5KsB"),_=e("Y31Q");const B=new O.b("emoji_picker");function z(Be,pe,fe){return B.t("{baseEmojiLocalized} {side} {skinToneId}",{skinToneId:Object(U.a)(Be),baseEmojiLocalized:pe,side:fe})}o(z,"getRadioButtonAriaLabel");function L(Be,pe,fe,me){return!Be&&!pe?B.t("Select skin tones for the emoji"):Be&&!pe?z(Be,fe,"left"):pe&&!Be?z(pe,fe,"right"):Object(_.a)(me,!0)}o(L,"getEmojiButtonAriaLabel");var $=e("DXiN"),Q=e("ktUG");function K(){return K=Object.assign||function(Be){for(var pe=1;pe<arguments.length;pe++){var fe=arguments[pe];for(var me in fe)Object.prototype.hasOwnProperty.call(fe,me)&&(Be[me]=fe[me])}return Be},K.apply(this,arguments)}o(K,"emoji_multi_skin_tone_popover_extends");const Z=new O.b("emoji_picker"),ne=["Tab","F6","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];function F(Be){return typeof Be.key!="string"?!1:ne.includes(Be.key)}o(F,"isKeyboardNavEvent");const J=o(Be=>{let{emoji:pe,popoverProps:fe,onClick:me}=Be;var Se;const je=Object(O.m)(),Ue=Object(a.useDispatch)(),ve=Object(n.useRef)(null),[ge,le]=Object(n.useState)(""),[he,Te]=Object(n.useState)(""),[Re,Ve]=Object(n.useState)((fe==null?void 0:fe.openedWithKeyboard)||!1),[Ee,Ae]=Object(n.useState)(!1),Ge=((Se=Object(H.a)(pe))===null||Se===void 0?void 0:Se.name)||"",Ze=!ge||!he,ze=ge&&he?Object(R.a)(Ge,ge,he):Ge,lt=Ue(Object(r.j)({locale:je,name:ze})),tt=Ue(Object(r.j)({locale:je,name:Ge})),Ot=Object(n.useMemo)(()=>L(ge,he,tt||"",lt||""),[tt,ge,he,lt]),Ct=Object(n.useCallback)((qt,$t,hn)=>qt!=="top"&&qt!=="bottom"?{}:hn?$t?{left:$t.left+$t.width/2-hn.left,right:"initial"}:{}:{},[]),St=o(qt=>{const{target:$t,currentTarget:hn}=qt,{parentElement:gn}=hn;gn!=null&&gn.contains($t)&&Ae(!0)},"onFocus"),zt=o(qt=>{const{currentTarget:$t,relatedTarget:hn}=qt,{parentElement:gn}=$t;if(!(gn!=null&&gn.contains(hn))&&(Ae(!1),Ve(!1),hn!=null&&hn.matches(".c-popover__content")&&hn.contains($t))){var Cn;(Cn=ve.current)===null||Cn===void 0||Cn.focus()}},"onBlur"),kt=o(qt=>{qt.key==="Tab"&&qt.stopPropagation(),F(qt)&&Ve(!0)},"onKeyDown"),on=o(qt=>{qt.stopPropagation()},"onMouseMove"),_t=o(()=>{Ve(!1)},"onMouseDown"),be=o(qt=>{const $t=qt.target.value;le($t)},"setLeftRadioButton"),ot=o(qt=>{const $t=qt.target.value;Te($t)},"setRightRadioButton"),rt=Object(n.useCallback)(qt=>{Ze||me(qt,ze)},[Ze,me,ze]),Jt=Object(n.useCallback)(()=>{var qt;(qt=ve.current)===null||qt===void 0||qt.focus()},[]),Qt=Object(n.useMemo)(()=>({elementName:ze,onClick:{enableClogAction:!0}}),[ze]);return t.a.createElement(d.a,K({},fe,{key:"emoji-popover-with-pointer",position:C.b.Top,tryOppositePosition:!0,ariaRole:"dialog",ariaLabel:Z.t("Multi Skin Tone Emoji Picker"),onOpen:Jt,offsetY:(fe.offsetY||0)-5}),qt=>{let{position:$t,top:hn,left:gn,targetBounds:Cn}=qt;const Mn={top:hn,left:gn};return t.a.createElement(E.a,{eventId:Q.EventId.EMOJI_PICKER_SKIN_TONE_MENU_OPENED,uiComponentName:Q.UiComponentName.EMOJI_MULTI_SKIN_TONE_PICKER,uiStep:Q.UiStep.MULTI_SKIN_TONE_EMOJI_PICKER_OPENED,clogImpression:!0},t.a.createElement($.a,{hasKeyboardFocusWithin:Ee},t.a.createElement("div",{key:"emoji-multi-tone-picker","data-qa":"emoji-multi-tone-picker",role:"presentation",className:"p-emoji_multi_skintone_popover__container",onKeyDown:kt,onMouseMove:on,onMouseDown:_t,onFocus:St,onBlur:zt},t.a.createElement(y.a,{className:"p-emoji_multi_skintone_popover__row","aria-label":Z.t("Left skin tone modifier")},g.b.map((kn,na)=>t.a.createElement(x,{ref:na===0?ve:null,name:"left-emoji-skin-tones",dataQa:"left-emoji-skin-tone",key:`left-${pe}-${kn}`,baseEmojiName:Ge,emojiSkinToneIdLeft:kn,isSelected:ge===kn,value:kn,hasKeyboardFocus:Re,ariaLabel:z(kn,tt||"","left"),onChange:be}))),t.a.createElement(y.a,{className:"p-emoji_multi_skintone_popover__row","aria-label":Z.t("Right skin tone modifier")},g.b.map(kn=>t.a.createElement(x,{name:"right-emoji-skin-tones",dataQa:"right-emoji-skin-tone",key:`right-${pe}-${kn}`,baseEmojiName:Ge,emojiSkinToneIdRight:kn,isSelected:he===kn,value:kn,hasKeyboardFocus:Re,ariaLabel:z(kn,tt||"","right"),onChange:ot}))),t.a.createElement("div",{className:"p-emoji_multi_skintone_popover__row p-emoji_multi_skintone_popover__row--last_row"},t.a.createElement(E.a,{eventId:Q.EventId.EMOJI_PICKER_SKIN_TONE_MENU_SELECTED,uiStep:Q.UiStep.MULTI_SKIN_TONE_EMOJI_SELECTED},t.a.createElement(W.a,{className:Object(M.default)("p-emoji_multi_skintone_popover__button",{"p-emoji_multi_skintone_popover__button--highlight":ge&&he}),onClick:rt,"aria-disabled":Ze,autoClogProps:Qt},t.a.createElement(N,{text:ze,emojiSkinToneIdLeft:ge,emojiSkinToneIdRight:he,emojiSize:m.a.LARGER,alt:Ot}))))),t.a.createElement("div",{className:Object(M.default)("p-emoji_multi_skintone_popover__pointer",`p-emoji_multi_skintone_popover__pointer--${$t}`),style:Ct($t,Cn,Mn)})))})},"MultiSkintoneEmojiPopover");J.displayName="MultiSkintoneEmojiPopover";var X=J,Y=e("ifKl"),ae=e("AiJP"),ee=e("Tsh7"),q=e("VW9X");function te(){return te=Object.assign||function(Be){for(var pe=1;pe<arguments.length;pe++){var fe=arguments[pe];for(var me in fe)Object.prototype.hasOwnProperty.call(fe,me)&&(Be[me]=fe[me])}return Be},te.apply(this,arguments)}o(te,"emoji_list_emoji_button_extends");const de=new O.b("emoji_button"),se=/:/g,re=o(Be=>{let{emoji:pe,dataQa:fe,className:me,onClick:Se,onMouseEnter:je=Y.a,onMouseLeave:Ue=Y.a,isDisabled:ve=!1,emojiSize:ge=m.a.MEDIUM,dataColorIndex:le,isSelected:he,autoClogProps:Te={},localizedEmoji:Re,isProductivityEmojiGroup:Ve=!1,refToForward:Ee,itemIndex:Ae=0,isMultiSkintoneCapable:Ge=!1,usingKeyboard:Ze,onContextMenu:ze=Y.a}=Be;var lt;const tt=Object(n.useRef)(null);Object(n.useImperativeHandle)(Ee,()=>tt.current);const{highlightFirstSearchResult:Ot,highlightOnMultiPickerEscape:Ct,showHandyReactions:St,keyboardIntoPicker:zt}=Object(n.useContext)(v.a),[kt,on]=Object(n.useState)(!1),_t=pe?`emoji-picker-${pe.replace(se,"")}`:void 0;let be=fe||"emoji_list_item",ot=Object(_.a)(Re);const rt=((lt=Object(H.a)(pe))===null||lt===void 0?void 0:lt.name)||"",Jt=Object(ae.a)();Ve&&(ot=Jt[rt]?Jt[rt].description:ot,be="emoji_list_productivity_item");const Qt=Object(n.useMemo)(()=>{if(Ve&&Jt[rt])return{elementName:`emoji_picker_${St?"reaction":"message"}_emoji--${rt}`,onClick:{enableClogAction:!0},...Te}},[Ve,Jt,rt,St,Te]);Object(n.useEffect)(()=>{if(he&&(zt||Ze)&&(zt||!kt)&&!Ot){var na;tt==null||(na=tt.current)===null||na===void 0||na.focus()}else if(document.activeElement===tt.current&&kt){var oa;tt==null||(oa=tt.current)===null||oa===void 0||oa.blur()}!he&&kt&&on(!1)},[tt,he,Ze,kt,Ot,zt]);const qt=Object(n.useCallback)(na=>{on(!0),je(na)},[je]),$t=Object(n.useCallback)(na=>{on(!1),Ue(na)},[Ue]),hn=Object(n.useCallback)(na=>{Se(na,pe)},[Se,pe]),gn=Object(n.useCallback)(na=>{Ge&&(na.preventDefault(),na.stopPropagation(),ze(na))},[Ge,ze]),Cn=(Ot||Ct)&&he,Mn=Object(n.useMemo)(()=>Object(M.default)(me,"p-emoji_picker__list_item",{"p-emoji_picker__list_item--a11y-not-selected":!he,key_selection:Cn}),[he,Cn,me]),kn=t.a.createElement(W.a,{role:"gridcell","aria-colindex":Ae+1,ref:tt,id:_t,onClick:hn,onContextMenu:gn,onMouseEnter:qt,onMouseLeave:$t,className:Mn,"data-color-index":le,"data-name":pe,"data-qa":be,tabIndex:he?0:-1,autoClogProps:Qt,disabled:ve},t.a.createElement(m.b,{text:pe,emojiSize:ge,forceDisplay:!0,ariaLabel:"",alt:ot}));return Ge?t.a.createElement(ee.d,{tip:de.rt("Right click to<br></br>customize skin tones"),position:"top",delay:500,zIndex:"above_fs"},kn):kn},"EmojiListEmojiButton");re.displayName="EmojiListEmojiButton";var oe=t.a.forwardRef((Be,pe)=>t.a.createElement(re,te({},Be,{refToForward:pe})));const ce=o(Be=>{const{emoji:pe,localizedEmoji:fe,index:me,emojiIndex:Se,isSelected:je,isProductivityEmojiGroup:Ue,onMouseEnter:ve,onMouseLeave:ge,onEmojiClick:le,isMultiSkintone:he,itemIndex:Te=0,usingKeyboard:Re,onMultiSkinTonePopoverEscape:Ve}=Be,{enableSkinTonePicker:Ee}=Object(n.useContext)(v.a),Ae=Object(n.useCallback)((Ot,Ct)=>{Ot.preventDefault(),le(Ot,Ct)},[le]),Ge=Object(n.useCallback)(()=>{ve(pe,me)},[pe,me,ve]),Ze=Object(n.useCallback)(()=>{ge(pe)},[pe,ge]),ze=o(Ot=>t.a.createElement(X,{popoverProps:Ot,emoji:pe,onClick:Ae}),"renderEmojiMultiSkinTonePopover");ze.displayName="renderEmojiMultiSkinTonePopover";const lt=Object(n.useCallback)(Ot=>{he&&Ot.key===u.a.ESCAPE&&Ve()},[he,Ve]),tt=t.a.createElement(oe,{key:`${pe}_${Se}`,emoji:pe,localizedEmoji:fe,onClick:Ae,onMouseEnter:Ge,onMouseLeave:Ze,isSelected:je,isProductivityEmojiGroup:Ue,dataColorIndex:me%c.e,itemIndex:Te,usingKeyboard:Re,isMultiSkintoneCapable:he&&Ee});return he&&Ee?t.a.createElement(d.b,{renderPopover:ze,isContextMenu:!0,shouldSetTargetBoundsForContextMenu:!1,offsetY:window.pageYOffset,onClose:lt},tt):tt},"EmojiListEmojiItem");ce.displayName="EmojiListEmojiItem";const ue=o((Be,pe)=>{const{emoji:fe}=pe,me=Object(h.g)(Be)||"";return{isMultiSkintone:!!Object(b.p)(Be,{text:fe,teamId:me})}},"emoji_list_emoji_item_mapStateToProps");var Pe=Object(p.a)(ue)(t.a.memo(ce)),Ye=e("FAxm");function $e(){return $e=Object.assign||function(Be){for(var pe=1;pe<arguments.length;pe++){var fe=arguments[pe];for(var me in fe)Object.prototype.hasOwnProperty.call(fe,me)&&(Be[me]=fe[me])}return Be},$e.apply(this,arguments)}o($e,"emoji_list_row_extends");const Ke=o((Be,pe)=>Be>0?Object(i.a)(pe.slice(0,Be),{type:Ye.a.EMOJI}).reduce((fe,me)=>fe+(me.items||[]).length,0):0,"getPrecedingEmojiCount"),qe=o(Be=>{const{screenRows:pe,index:fe,style:me,showProductivityReacji:Se,onEmojiClick:je,onMouseEnter:Ue,onMouseLeave:ve,isEmojiSelected:ge,usingKeyboard:le,locale:he,activeGroupName:Te,onMultiSkinTonePopoverEscape:Re}=Be,Ve=Object(a.useDispatch)();if(!pe||fe===0)return null;const Ee=pe[fe];if(!Ee)return null;const{group:Ae,type:Ge,items:Ze}=Ee,ze=Ee.ariaAttributes;if(Ge==="group"&&(Ae==null?void 0:Ae.name)!==Te)return t.a.createElement("div",$e({className:"p-emoji_picker__row",style:me},ze),t.a.createElement(l,{emojiGroup:Ae}));if(Ge==="group"&&(Ae==null?void 0:Ae.name)===Te)return t.a.createElement("div",{className:"p-emoji_picker__row",style:me,"aria-hidden":"true"},t.a.createElement(l,{emojiGroup:Ae}));if(Ge==="empty-header-row")return t.a.createElement("div",$e({className:"p-emoji_picker__row",style:me},ze),t.a.createElement("div",null));const lt=Ze&&Ze.map((tt,Ot)=>{var Ct;const St=fe*c.d+Ot,zt=ge(tt,St),kt=Ke(fe,pe)+Ot+1,on=Ve(Object(r.j)({locale:he,name:tt}));return t.a.createElement(Pe,{key:`${tt}_${kt}`,emoji:tt,localizedEmoji:on||"",index:St,emojiIndex:kt,isSelected:zt,isProductivityEmojiGroup:Se&&((Ct=Ee.group)===null||Ct===void 0?void 0:Ct.name)==="Getting Work Done",onEmojiClick:je,onMouseEnter:Ue,onMouseLeave:ve,itemIndex:Ot,usingKeyboard:le,onMultiSkinTonePopoverEscape:Re})});return lt?t.a.createElement("div",$e({className:"p-emoji_picker__row",style:me},ze),lt):null},"EmojiListRow");qe.displayName="EmojiListRow";var ct=s.a=qe},uEJH:function(w,s,e){"use strict";e.d(s,"a",function(){return C}),e.d(s,"b",function(){return j});var n=e("n3tL"),t=e("WCk1"),a=e("2XU3"),i=e("/Glb"),c=e("s4P+"),r=e("5IZy"),f=e("9Gfp"),l=e("E97Y"),p=e("E3dU"),h=e("UIhb"),u=e("dmdh"),b=e("QLhP"),v=e("ANTO"),d=e("P9LH"),m=e("xwCZ"),g=e("Nnn3");const O=2,E={};function y(M){const[T,D,S]=M.split("-");switch(T){case"message":return{channel:S,timestamp:D};case"file":return{file:D};case"file_comment":return{file_comment:D};default:throw new Error("type not handled")}}o(y,"getApiArgsFromReactionKey");function C(M){return E[M]}o(C,"getPendingReactionApiRequestForKey");const I=Object(t.a)("Get reactions for a reaction key",function(M,T){let{reactionKey:D,attempt:S=1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(E[D]&&S===1)return E[D];const A=M(Object(a.apiCall)({method:"reactions.get",args:{...y(D),full:!0}})).tap(()=>{delete E[D]}).catch(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(c.a)({getState:T}).error(`fetchReactions encountered an error: ${JSON.stringify(P.data)}`),S<O)return M(I({reactionKey:D,attempt:S+1}));throw delete E[D],P});return E[D]||(E[D]=A),A});I.meta={name:"createFetcher",key:"createFetcherfetchReactions",description:"Get reactions for a reaction key"},I.propTypes={reactionKey:n.default.string.isRequired,attempt:n.default.number};const j=Object(t.a)("Submit addition or removal of a reactions for a reaction key",function(M,T){let{reactionKey:D,name:S,add:A,reason:P}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const N=T(),G=A?"reactions.add":"reactions.remove",V=y(D),{channel:k,timestamp:x,file:H}=V,R=Object(f.a)(N),W=x?Object(h.b)(N,k,x):null;let U=null;if(W)U=Object(v.a)(N,W).botId;else if(H){const $=Object(u.e)(N,H);U=$?Object(d.G)($).botId:null}if(!U){const $=Object(m.g)(N,R);U=Object(g.a)(N,$)}let _=null;if(U){const $=Object(b.b)(N,U);_=$?$.app_id:null}const B=k?Object(p.d)(N,k):null,z=B?Object(l.c)(B):null;Object(r.a)({state:N}).track(A?"REACTION_ADDED":"REACTION_REMOVED",{member_id:R,app_id:_,bot_id:U,channel_id:k,channel_type:k?k.charAt(0):null,channel_privacy_type:z,message_timestamp:x});const L={method:G,args:{...V,name:S},reason:P};return M(Object(i.apiCallPersisted)(L))});j.meta={name:"createFetcher",key:"createFetchersubmitAddOrRemoveReaction",description:"Submit addition or removal of a reactions for a reaction key"},j.propTypes={reactionKey:n.default.string.isRequired,name:n.default.string.isRequired,add:n.default.bool.isRequired,reason:n.default.string.isRequired}},uHvG:function(w,s,e){"use strict";var n=e("pHS2"),t=e("TGBA"),a=e("BeL+"),i=e("xWuZ"),c=e("bPB8"),r=e("zmn3"),f=e("Yk7g"),l=e("1myf"),p=e("wBxZ"),h=e("q1tI"),u=e.n(h),b=e("BHdc"),v=e("zxER"),d=e("9Gfp"),m=e("N8ug"),g=e("Tsh7"),O=e("f3d1"),E=e("/qcS"),y=e("qawj");const C=12,I=10,j=25,M=5,T=o(S=>{let{duration:A,reactions:P,className:N}=S;const G=Object(v.c)(y.a),V=Object(v.c)(d.a);if(!G||!A||A===1/0)return null;const k=o(x=>{if(!x)return null;const H=A/Math.floor(x/C)||1,R=new Map;for(const B of P){var W;const z=Math.min(B.offsetMs,A*1e3-1),L=(Math.ceil((z+1)/1e3/H)-1)*H;var U;const $=(U=(W=B.users)===null||W===void 0?void 0:W.includes(V))!==null&&U!==void 0?U:!1,Q=R.get(L);Q?(Q.reactions.push(B),Q.count+=B.count,Q.reacted=Q.reacted||$):R.set(L,{bucket:L,reactions:[B],count:B.count,reacted:$})}let _=M;for(const B of R.values())B.count>_&&(_=B.count);return[...R.values()].map(B=>{var z;const L=Object(n.a)(B.reactions,"name"),$=Object(t.a)(L).map(K=>{var Z;const ne=Object(a.a)(Object(i.a)(Object(c.a)(Object(r.a)(K,"users"))));return{...K[0],baseName:(Z=K[0].name)===null||Z===void 0?void 0:Z.split("::")[0],users:ne,reacted:ne.includes(V)}}),Q=Object(f.a)(Object(l.a)($,["reacted","users.length"]));return u.a.createElement(g.d,{tip:()=>u.a.createElement(O.a,{reactions:Object(p.a)(Q,6),showClickToRemove:!1}),key:`${B.bucket}-${B.count}`},u.a.createElement("div",{className:Object(b.default)("p-media_scrubber_reactions_overlay__dot",{"p-media_scrubber_reactions_overlay__dot--reacted":B.reacted,"p-media_scrubber_reactions_overlay__dot--single":B.reactions.length===1&&((z=B.reactions[0].users)===null||z===void 0?void 0:z.length)===1}),style:{left:`${(B.bucket/A*100).toFixed(2)}%`,height:Math.max(I,(B.count/_)**.75*j)}},u.a.createElement(E.b,{className:"p-media_scrubber_reactions_overlay__dot_emoji",text:Q[0].name,emojiSize:E.a.SMALL,renderEmojiFallback:!0,showTooltip:!1})))})},"renderDots");return k.displayName="renderDots",u.a.createElement(m.a,null,x=>{let{width:H,measureRef:R}=x;return u.a.createElement("div",{className:Object(b.default)("p-media_scrubber_reactions_overlay",N),ref:R},k(H))})},"MediaScrubberReactionsOverlay");T.displayName="MediaScrubberReactionsOverlay";var D=s.a=u.a.memo(T)},"uL+k":function(w,s,e){"use strict";e.d(s,"h",function(){return l}),e.d(s,"c",function(){return p}),e.d(s,"g",function(){return h}),e.d(s,"f",function(){return u}),e.d(s,"e",function(){return v}),e.d(s,"b",function(){return d}),e.d(s,"a",function(){return m}),e.d(s,"d",function(){return g});var n=e("ZKjC"),t=e("G4qV"),a=e("F4Pg"),i=e("zCzZ"),c=e("a7YP");const r=Object(n.b)(O=>{var E;return O==null||(E=O.connectorAppsInfo)===null||E===void 0?void 0:E.loading});r.meta={name:"createSelector",key:"createSelectorselectLoadingState",description:O=>{var E;return O==null||(E=O.connectorAppsInfo)===null||E===void 0?void 0:E.loading}};const f=Object(n.b)(O=>{var E;return O==null||(E=O.connectorAppsInfo)===null||E===void 0?void 0:E.error});f.meta={name:"createSelector",key:"createSelectorselectErrorState",description:O=>{var E;return O==null||(E=O.connectorAppsInfo)===null||E===void 0?void 0:E.error}};const l=Object(n.b)(O=>O==null?void 0:O.connectorAppsInfo);l.meta={name:"createSelector",key:"createSelectorselectConnectorAppsInfo",description:O=>O==null?void 0:O.connectorAppsInfo};const p=Object(n.b)(O=>{var E;return(E=O==null?void 0:O.connectorAppsInfo.data)===null||E===void 0?void 0:E.isAaaEnabled});p.meta={name:"createSelector",key:"createSelectorisAaaEnabled",description:O=>{var E;return(E=O==null?void 0:O.connectorAppsInfo.data)===null||E===void 0?void 0:E.isAaaEnabled}};const h=Object(t.a)([O=>l(O),(O,E)=>E],(O,E)=>{var y;if(Object.prototype.hasOwnProperty.call(O==null||(y=O.data)===null||y===void 0?void 0:y.apps,E)){var C,I,j;return{app:O==null||(C=O.data)===null||C===void 0?void 0:C.apps[E],canUserManageApp:O==null||(I=O.data)===null||I===void 0?void 0:I.canUserManageApp,isAaaEnabled:O==null||(j=O.data)===null||j===void 0?void 0:j.isAaaEnabled}}return null}),u=Object(t.a)([O=>O,(O,E)=>h(O,E)],(O,E)=>{var y;return E==null||(y=E.app)===null||y===void 0?void 0:y.adminAppConfig}),b=Object(t.a)([O=>O,(O,E)=>h(O,E)],(O,E)=>{var y,C;return(C=E==null||(y=E.app)===null||y===void 0?void 0:y.isInstalled)!==null&&C!==void 0?C:!1}),v=Object(t.a)([O=>O,(O,E)=>h(O,E)],(O,E)=>!!(E!=null&&E.app)),d=Object(t.a)([O=>O,(O,E)=>h(O,E)],(O,E)=>{var y,C,I;if(!E)return null;var j;const M=(j=E==null||(y=E.app)===null||y===void 0?void 0:y.isInstalled)!==null&&j!==void 0?j:!1;var T;const D=(T=E==null?void 0:E.isAaaEnabled)!==null&&T!==void 0?T:!1;var S;const A=(S=E==null?void 0:E.canUserManageApp)!==null&&S!==void 0?S:!1,P=E==null||(C=E.app)===null||C===void 0?void 0:C.appResolution;var N;const G=(N=E==null||(I=E.app)===null||I===void 0?void 0:I.isRequestPending)!==null&&N!==void 0?N:!1,{INIT_APP_REQUEST_FLOW:V,INSTALL_SHOW_STEP_FUNCTION:k,SHOW_STEP_FUNCTION:x,APP_DENIED:H,APP_REQUEST_IS_PENDING:R,APP_HIDDEN:W}=a.c,U=Object(c.k)(O);return P==="denied"?H:!D||A||P==="approved"?M?x:k:U&&Object(i.v)(O)===a.d.hidden?W:G===!0?R:V}),m=Object(t.a)([O=>O,(O,E)=>h(O,E)],(O,E)=>{var y,C,I;const{READY:j,CONFIGURATION_MISSING:M,CONFIGURATION_REQUESTED:T}=a.a,D=E==null||(y=E.app)===null||y===void 0?void 0:y.requiresConfig,S=E==null||(C=E.app)===null||C===void 0?void 0:C.missingRequiredConfig,A=E==null||(I=E.app)===null||I===void 0?void 0:I.isConfigRequestPending;return D?A?T:S?M:j:j}),g=Object(t.a)([O=>O,(O,E)=>h(O,E)],(O,E)=>{var y,C;return(C=E==null||(y=E.app)===null||y===void 0?void 0:y.isAppInstallationInFlight)!==null&&C!==void 0?C:!1})},uMkW:function(w,s,e){"use strict";var n=e("E3dU"),t=e("Z6bF"),a=e("SQ0V");const i=o((r,f)=>{var l;const p=Object(n.d)(r,f);var h;return(h=(l=Object(t.a)(p))===null||l===void 0?void 0:l.fileId)!==null&&h!==void 0?h:null},"getChannelSpaceFileId"),c=Object(a.c)("Get fileId for a channel space given a channelId ",(r,f,l)=>{let{channelId:p}=l;return i(f(),p)});c.meta={name:"createThunk",key:"createThunkgetChannelSpaceFileIdThunk",description:"Get fileId for a channel space given a channelId "},s.a=i},up1q:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("G4qV"),t=e("O86Y"),a=e("DmfU"),i=e("UOL+");const c=o((f,l)=>{var p,h;const u=Object(t.g)(f);if(!u||!l)return null;Object(a.c)(u,l);var b;return(b=(p=Object(i.a)(f))===null||p===void 0||(h=p.conversationsListPrefs)===null||h===void 0?void 0:h[l])!==null&&b!==void 0?b:null},"getConversationsListPrefsByChannelId"),r=Object(n.a)((f,l,p)=>c(f,p),(f,l)=>l,(f,l)=>f==null?void 0:f[l])},"v+CX":function(w,s,e){"use strict";e.d(s,"a",function(){return m});var n=e("9oTK"),t=e.n(n),a=e("Lgge"),i=e("fujP"),c=e("s4P+"),r=e("SQ0V"),f=e("RVJP"),l=e("pOmS"),p=e("E3dU"),h=e("Zbwg"),u=e("OCIX"),b=e("SwbJ"),v=e("O6kw"),d=e("tvTu");const m=Object(r.c)("Kicks off the file upload and updates the draft store with the file IDs",function(){var g=Object(n.coroutine)(function*(O,E){let{draftId:y,files:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!y||Object(i.a)(C))return;const I=Object(c.a)({getState:E,label:"EAGER-UPLOADS"}),j=yield O(Object(v.a)({selectedFiles:C,draftId:y}));if(Object(i.a)(j)){I.info("No remaining files to upload after filtering");return}const M=E(),T=Object(f.d)(M,"workspace_context_for_netskope")==="on";let D;if(T&&Object(h.a)(y))D=Object(l.a)(Object(p.d)(M,y));else if(T&&Object(u.a)(y)){const S=y.split("-")[0];D=Object(l.a)(Object(p.d)(M,S))}return a.a.all(j.map(S=>O(Object(b.a)({file:S,clientContextTeamId:D})).then(function(){let{pendingFileId:A,uploadPromise:P=a.a.resolve()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return O(Object(d.a)({file:S,pendingFileId:A,uploadPromise:P,draftId:y})),P})))});return function(O,E){return g.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkuploadDraftFiles",description:"Kicks off the file upload and updates the draft store with the file IDs"}},vMCY:function(w,s,e){"use strict";e.d(s,"b",function(){return X}),e.d(s,"a",function(){return Y});var n=e("owWc"),t=e("zmn3"),a=e("nNoG"),i=e("4qCO");const c=/{{steps\.[^.]+?\.fields\.([^.]+?)}}/;function r(ae){if(!ae)return ae;const ee=ae.match(c);return ee==null?void 0:ee[1]}o(r,"extractQuestionIdFromOpenFormStepVariableId");var f=e("wBgp"),l=e("vIgB"),p=e("M39c"),h=e("CQZ9"),u=e("z+Hh"),b=e("MyeY"),v=e("wOIf"),d=e("Qm7m"),m=e("XjEU"),g=e("CdxK");const O=new a.b("workflow_builder"),E=o((ae,ee)=>{let q="";const te=ae?Object(g.d)(ae):null;switch(ee.name){case"channel_action:channel":q=O.t("Channel where workflow started");break;case"channel_action:user":te?q=O.t('Person who clicked "{actionName}"',{actionName:Object(m.b)(te)}):q=O.t("Person who clicked the shortcut");break;case"channel_action:current_timestamp":q=O.t("Time when workflow started");break;default:q=ee.name}return q},"getChannelActionTriggerVariableLabel"),y=new a.b("workflow_builder"),C=o(ae=>{let ee="";switch(ae.name){case"member_joined_channel:channel":ee=y.t("Channel that was joined");break;case"member_joined_channel:user":ee=y.t("Person who joined channel");break;case"member_joined_channel:current_timestamp":ee=y.t("Time when workflow started");break;default:ee=ae.name}return ee},"getMemberJoinedChannelTriggerVariableLabel");var I=e("gwqd");const j=new a.b("workflow_builder"),M=o((ae,ee)=>{let q="";const te=ae?Object(I.c)(ae):null;switch(ee.name){case"message_action:channel":q=j.t("Channel where workflow started");break;case"message_action:user":te?q=j.t('Person who clicked "{actionName}"',{actionName:te}):q=j.t("Person who clicked the action");break;case"message_action:permalink":q=j.t("Link to Message");break;case"message_action:messagetext":q=j.t("Text from Message");break;case"message_action:current_timestamp":q=j.t("Time when workflow started");break;default:q=ee.name}return q},"getMessageActionTriggerVariableLabel"),T=new a.b("workflow_builder"),D=o(ae=>{let ee="";switch(ae.name){case"reaction_added:channel":ee=T.t("Channel reaction was used in");break;case"reaction_added:user":ee=T.t("Person who reacted");break;case"reaction_added:reaction":ee=T.t("Reaction added");break;case"reaction_added:message_permalink":ee=T.t("Link to message reacted on");break;case"reaction_added:message_data":ee=T.t("Message thread");break;case"reaction_added:message_user":ee=T.t("Person who sent original message");break;case"reaction_added:current_timestamp":ee=T.t("Time when workflow started");break;default:ee=ae.name}return ee},"getReactionAddedTriggerVariableLabel"),S=new a.b("workflow_builder"),A=o(ae=>{let ee="";switch(ae.name){case"scheduled:current_timestamp":ee=S.t("Time when workflow started");break;default:ee=ae.label||ae.name}return ee},"getScheduledTriggerVariableLabel"),P=new a.b("workflow_builder"),N=o(ae=>{let ee="";switch(ae.name){case"slash_command:channel":ee=P.t("Channel where command was typed");break;case"slash_command:user":ee=P.t("Person who entered command");break;case"slash_command:current_timestamp":ee=P.t("Time when workflow started");break;default:ee=ae.name}return ee},"getSlashCommandTriggerVariableLabel"),G=new a.b("workflow_builder"),V=o(ae=>{let ee="";switch(ae.name){case"webhook:current_timestamp":ee=G.t("Time when workflow started");break;default:ee=ae.label||ae.name}return ee},"getWebhookTriggerVariableLabel"),k=new a.b("workflow_builder"),x=o(ae=>{let ee="";switch(ae.name){case"dialog:message_data":break;case"dialog:user_submitted":ee=k.t("Person who submitted form");break;case"dialog:timestamp_started":ee=k.t("Time when step started");break;case"dialog:timestamp_completed":ee=k.t("Time when step completed");break;default:ae.label?ee=k.t('Answer to: "{question}"',{question:Object(m.b)(ae.label),fallbackHash:"c91167e1863c3f0cf1b072d8cd7f10a06728d968"}):ee=ae.name}return ee},"getDialogStepVariableLabel"),H=new a.b("workflow_builder"),R=o(ae=>{let ee=ae.label||ae.name;switch(ae.name){case"extension_step:timestamp_started":ee=H.t("Time when step started");break;case"extension_step:timestamp_completed":ee=H.t("Time when step completed");break;default:break}return ee},"getExtensionStepVariableLabel");var W=e("iCgo");const U=new a.b("workflow_builder"),_=o((ae,ee)=>{let q="";const te=ae?Object(W.i)(ae):null,de=ae?Object(W.g)(ae):null;switch(ee.name){case"message:user_clicked":te&&de?q=U.t('Person who clicked "{buttonLabel}"',{buttonLabel:Object(m.b)(de)}):q=U.t("Person who clicked the button");break;case"message:message_data":q=U.t("Message thread");break;case"message:timestamp_started":q=U.t("Time when step started");break;case"message:timestamp_completed":q=U.t("Time when step completed");break;default:q=ee.name}return q},"getMessageStepVariableLabel");function B(ae,ee){var q;switch((q=ae==null?void 0:ae.type)!==null&&q!==void 0?q:ee.source_type){case d.CHANNEL_ACTION:return E(ae,ee);case d.MEMBER_JOINED_CHANNEL:return C(ee);case d.MESSAGE_ACTION:return M(ae,ee);case d.REACTION_ADDED:return D(ee);case d.SCHEDULED:return A(ee);case d.SLASH_COMMAND:return N(ee);case d.WEBHOOK:return V(ee);case v.DIALOG:return x(ee);case v.EXTENSION:return R(ee);case v.MESSAGE:return _(ae,ee);default:return ee.label||ee.name}}o(B,"getSegmentVariableLabel");var z=e("hCtB"),L=e("+h1i");const $=new a.b("workflow_builder"),Q=o((ae,ee)=>Object(i.a)(ae.label,ee.label),"sortByLabel");function K(ae){return ae.type===f.i?{...ae,properties:[{name:"",label:$.t("Mention (default)")},{name:f.b,label:$.t("Name")},{name:f.a,label:$.t("Email")}]}:ae}o(K,"addSubProperties");function Z(ae,ee){const q=Object.fromEntries(ee.map((se,re)=>[se.name,re])),te=[],de=[];return ae.forEach(se=>{const re=r(se.id);re?te[q[re]]=se:de.push(se)}),[...te,...de]}o(Z,"orderOpenFormVariablesByQuestionOrder");function ne(ae,ee){const q=ae.reduce((se,re)=>{var oe;if(re.isTombstone)return se;var ce;const ue=(ce=(oe=se[re.source_id])===null||oe===void 0?void 0:oe.data)!==null&&ce!==void 0?ce:[];return se[re.source_id]={id:re.source_id,type:re.source_type,label:re.sourceLabel,isAvailableTo:re.isAvailableTo,data:ue.concat({...re})},se},{});for(const[se,re]of Object.entries(q)){var te;const oe=ee.find(ue=>ue.id===se);if((oe==null||(te=oe.function)===null||te===void 0?void 0:te.callback_id)===l.g.OpenForm){var de;const ue=(de=oe.inputs.fields)===null||de===void 0?void 0:de.value;if(!ue||!Array.isArray(ue))continue;re.data=Z(re.data,ue)}}return Object.values(q)}o(ne,"groupStepAvailableData");function F(ae,ee){const q=ae.reduce((de,se)=>{var re;if(se.isTombstone)return de;var oe;const ce=(oe=(re=de[se.source_id])===null||re===void 0?void 0:re.data)!==null&&oe!==void 0?oe:[];return de[se.source_id]={id:se.source_id,type:se.source_type,label:se.sourceLabel,isAvailableTo:se.isAvailableTo,data:ce.concat({...se})},de},{});if(ee)for(const[de,se]of Object.entries(q)){const re=ee[de];if(Object(p.e)(re)===l.g.OpenForm){var te;const ce=(te=Object(p.d)(re).fields)===null||te===void 0?void 0:te.value;if(!ce||!Array.isArray(ce))continue;se.data=Z(se.data,ce)}}return Object.values(q)}o(F,"groupSegmentAvailableData");function J(ae){return F(ae)}o(J,"groupLegacyAvailableData");const X=o((ae,ee)=>{const q=Object(u.c)(ae),te=Object(u.d)(ae),de=Object(h.a)(ee),se=te.concat(q).reduce((oe,ce)=>{const ue=Object(u.u)(ae,ce.source_id),Pe=B(ue,ce);if(!Pe)return oe;var Ye;const $e=Object(L.g)(ue??{},{type:(Ye=ue==null?void 0:ue.type)!==null&&Ye!==void 0?Ye:ce.source_type});var Ke;const qe=K({...ce,label:ce.custom_label||Pe,sourceLabel:$e,defaultLabel:Pe,isTombstone:(Ke=ce.isTombstone)!==null&&Ke!==void 0?Ke:!1,isAvailable:de.includes(ce.id),canCustomizeLabel:!0});return oe.push(qe),oe},[]),re=J(se);return{list:se,groups:re}},"buildSegmentVariables"),Y=o((ae,ee,q)=>{const te=q.steps,de=te.map(Ye=>Ye.id),se=ae,re=ee.available_data,oe=Object(n.a)(se,(Ye,$e,Ke)=>{var qe,ct,Be,pe,fe;const me=$e.source_id,Se=te.find(Ae=>Ae.id===me);if(!Se)return Ye;const Ue=de.slice(de.findIndex(Ae=>Ae===me)+1,de.length),ve=$e.title||$e.name,ge=(qe=Se.function)===null||qe===void 0?void 0:qe.title,le=((ct=Se.function)===null||ct===void 0?void 0:ct.callback_id)===l.g.OpenForm;var he;const Te=le?(fe=((he=((Be=Se.inputs)===null||Be===void 0||(pe=Be.fields)===null||pe===void 0?void 0:pe.value).elements)!==null&&he!==void 0?he:[]).find(Ae=>{let{name:Ge}=Ae;return Ge===$e.name}))===null||fe===void 0?void 0:fe.title:void 0,Re=$e.type===l.d.Array&&"items"in $e,Ve=$e.type===l.d.Object&&"properties"in $e,Ee={id:Ke,name:$e.name,source:$e.source,source_id:me,source_type:v.SLACK_FUNCTION,isAvailableTo:Ue,isAvailable:!0,type:$e.type,label:ve,defaultLabel:ve,sourceLabel:ge,isTombstone:!1,canCustomizeLabel:!1,isHidden:$e.is_hidden,prependLabel:Te};return Re&&(Ee.items=$e.items),Ve&&(Ee.objectProperties=Object.entries($e.properties).map(Ae=>{let[Ge,Ze]=Ae;const ze={id:Ge,type:Ze.type,name:Ze.name,label:Ze.title||Ze.name,source:$e.source,source_id:$e.source_id,isAvailableTo:Ue,isAvailable:!0,source_type:v.SLACK_FUNCTION,isTombstone:!1,canCustomizeLabel:!1,isHidden:Ze.is_hidden};return Ze.type===l.d.Array&&"items"in Ze&&(ze.items=Ze.items),ze}).sort(Q)),Ye.push(Ee),Ye},[]).sort(Q),ce=Object(t.a)(re,(Ye,$e)=>{const Ke=Ye.name,qe=Ye.title||Ke,ct=Object(z.b)(ee.id,Ke),Be=Ye.type===l.d.Object&&"properties"in Ye,pe={id:Object(z.c)(ct),name:Ke,source:"trigger",sourceReference:$e,sourceLabel:ee.name,source_id:ee.id,source_type:Object(b.b)(ee),isAvailableTo:de,isAvailable:!0,type:Ye.type,label:qe,defaultLabel:qe,isTombstone:!1,canCustomizeLabel:!1,isHidden:Ye.is_hidden};return Be&&(pe.objectProperties=Object.entries(Ye.properties).map(fe=>{let[me,Se]=fe;const je=Se.title||Se.name,Ue=Object(z.b)(ee.id,Se.name);return{id:Object(z.c)(Ue),type:Se.type,name:Se.name,label:je,defaultLabel:je,source:"trigger",source_id:ee.id,source_type:Object(b.b)(ee),sourceReference:me,isAvailableTo:de,isAvailable:!0,isTombstone:!1,canCustomizeLabel:!1,isHidden:Se.is_hidden}}).sort(Q)),pe}).sort(Q),ue=[...oe,...ce],Pe=ne(ue,te);return Pe.sort((Ye,$e)=>{if(Ye.id===ee.id)return-1;const Ke=te.findIndex(ct=>ct.id===Ye.id),qe=te.findIndex(ct=>ct.id===$e.id);return Ke!==-1&&qe!==-1?Ke-qe:Ke!==-1?-1:1}),{list:ue,groups:Pe}},"buildHermesVariables")},vRwa:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("CpTu"),t=e("F294"),a=e("s4P+"),i=e("Yauy");function c(r){let{globalIndex:f,results:l,matchLength:p,formats:h}=r;const u=Object(n.a)(l,d=>!Object(i.X)(d)),b=Object(t.a)(l);if(!u&&!b)return null;const v=u||b;return Object(a.b)().info("AUTOSLUG",`Creating channel mention (${v==null?void 0:v.id})`),{id:(v==null?void 0:v.id)||"",label:`#${Object(i.K)(v)}`,globalIndex:f,length:p,formats:h,type:"mention"}}o(c,"createPotentialMentionChannelObject")},"vS+A":function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("+QGB"),i=e("BHdc"),c=e("v5z3"),r=e("oEDn"),f=e("c+dP"),l=e("qDEp"),p=e("nNoG"),h=e("zxER"),u=e("rZ8V");function b(){return b=Object.assign||function(g){for(var O=1;O<arguments.length;O++){var E=arguments[O];for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&(g[y]=E[y])}return g},b.apply(this,arguments)}o(b,"_extends");const v=new p.b("setup_page"),d=o(g=>{let{tipState:O=c.g.Explainer,...E}=g;const{optOutIconClass:y,optOutButtonClass:C}=E,I=Object(h.c)(u.m),j=Object(n.useCallback)(M=>t.a.createElement(a.a,b({shouldClearMessageInputCtaOnClose:!1,tipState:O},M)),[O]);return t.a.createElement(f.e,{renderMenu:j,position:"top"},t.a.createElement(l.d,{"data-qa":"opt_out_button",className:Object(i.default)(C,"p-opt_out_button"),"aria-label":v.t("Opt out of all tips")},t.a.createElement(r.a,{"data-qa":"opt_out_icon",type:"times-small",className:Object(i.default)(y,"p-opt_out_button_icon",{"p-opt_out_button_icon--ia4":I})})))},"OptOut");d.displayName="OptOut";var m=s.a=Object(n.memo)(d)},vSLz:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("nNoG"),c=e("jWAO"),r=e("Trx9"),f=e("nFQW");function l(){return l=Object.assign||function(b){for(var v=1;v<arguments.length;v++){var d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(b[m]=d[m])}return b},l.apply(this,arguments)}o(l,"_extends");const p=new i.b("educational_kit"),h=o(b=>{let{iconName:v,heading:d,children:m,onDismiss:g,"data-qa":O="",autoClogProps:E,className:y}=b;const C=Object(a.default)("c-educational_alert",{"c-educational_alert--with_close_icon":!!g,"c-educational_alert--with_no_icon":!v},y);return t.a.createElement(r.a,l({},E),t.a.createElement(c.d,{className:C,"data-qa":O,icon:v,heading:d},t.a.createElement("div",{className:"c-educational_alert__body"},m),g&&t.a.createElement(f.a,{className:"c-educational_alert__close_icon","data-qa":"alert_close_button",icon:"times",size:"small","aria-label":p.t("Dismiss",{fallbackHash:"70afe9eff3f2888493d9b5169fec8331af1810de",fallbackHashNs:"trials_highlight_paid_features"}),onClick:g})))},"EducationalAlert");h.displayName="EducationalAlert";var u=s.a=h},vUzD:function(w,s,e){w.exports=e.p+"trial-message-limit-trial-offer-v2-dark-69f9d4e.gif"},vVwU:function(w,s,e){"use strict";var n=e("SQ0V"),t=e("pu3F"),a=e("coh6"),i=e("GS6c"),c=e("O86Y"),r=e("wWBL");const f=o(p=>(p||"").replace(/:|\uFF1A/g,""),"getCleanQuery"),l=Object(n.c)("Find emoji that match a search query",function(p,h){let{query:u,limit:b=t.c,useSearcherSessions:v=!0,searcherKey:d="texty-autocomplete",searchViewContext:m}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g={entities:{emoji:{matchKeywords:!0}},sort:{source:"texty-autocomplete"},limit:b,returnMetadata:!0,tiered:!0,searchViewContext:m},O=h();return v&&Object(r.c)(O)?Object(i.a)({teamId:Object(c.g)(O),key:d}).search({query:f(u),options:g}):p(Object(a.F)({query:f(u),options:g}))});l.meta={name:"createThunk",key:"createThunkautocompleteEmoji",description:"Find emoji that match a search query"},s.a=l},vY0R:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("WAPM");const c=new a.b("slack_connect_external_limited"),r=o(()=>{const f=c.t("Learn more"),l=1500012572621;return t.a.createElement(i.a,{articleId:l},f)},"ExternalLimitedLearnMoreLink");r.displayName="ExternalLimitedLearnMoreLink",s.a=r},vaRI:function(w,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("vfQU"),i=e("kBpe");function c(f){return r.apply(this,arguments)}o(c,"checkSystemMediaAccess");function r(){return r=Object(n.coroutine)(function*(f){if(!Object(i.j)("4.9.0")||Object(i.o)())return!0;const l=yield Object(a.S)(f);return l.status==="not-determined"&&f!=="screen"?!!(yield Object(a.b)(f)).isGranted:l.isAvailable&&l.status==="granted"}),r.apply(this,arguments)}o(r,"_checkSystemMediaAccess"),s.a=c},vbN2:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("4ALb"),i=e("yVnW");function c(r){let{elapsed:f,duration:l}=r;return t.a.createElement("span",{className:"p-media_controls__timestamp"},Object(a.a)(f)," / ",Object(a.a)(l))}o(c,"PlaybackTimestamp"),c.displayName="PlaybackTimestamp",s.a=c},vbTZ:function(w,s,e){"use strict"},veLH:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return!!(t&&(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth))}o(n,"isElementScrollable")},vjzz:function(w,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t}),e.d(s,"c",function(){return a});const n="prefill_suggestions_channels_",t="prefill_suggestions_users_";function a(i,c){return!i||typeof i!="string"||(i==null?void 0:i.length)===0||!c||!(i!=null&&i.includes(n))&&!(i!=null&&i.includes(t))?i||"":i.split(",").filter(f=>f.startsWith(c))[0]||""}o(a,"parseNewXpSuggestedChannelsRequestId")},vnX7:function(w,s,e){"use strict";e.d(s,"a",function(){return ln});var n=e("9oTK"),t=e("q1tI"),a=e.n(t),i=e("SQ0V"),c=e("BHH9"),r=e("3NWu"),f=e("3l96"),l=e("Atq3"),p=e("zxER"),h=e("gPPH"),u=e("/MKj"),b=e("qDEp"),v=e("+kJ4"),d=e("YUBf"),m=e("BHdc"),g=e("m40f"),O=e("DQKV"),E=e("ktUG");function y(Dt){let{text:He,variable:Le,isActive:Qe,isValid:Ce,onClick:ye,clogContext:ie}=Dt;const Oe=Object(t.useMemo)(()=>({eventId:E.EventId.SUGGESTION_ELEMENT,elementValue:Le,onClick:{enableClogAction:!0},...ie}),[ie,Le]);return a.a.createElement(g.a,{renderAsSpan:!0,className:Object(m.default)("p-express_template_modal_header__highlight",{"p-express_template_modal_header__highlight--active":Qe,"p-express_template_modal_header__highlight--invalid":!Ce}),onClick:ye,autoClogProps:Oe,tabIndex:-1},a.a.createElement(O.a,{text:He}))}o(y,"MadLibsTextHighlight"),y.displayName="MadLibsTextHighlight";var C=e("mM05"),I=e.n(C),j=e("BUaB"),M=e("4oy+"),T=e("/eV9"),D=e("3V+Q"),S=e("P8PK"),A=e("plVP"),P=e("nNoG");const N=new P.b("express_templates");function G(Dt){let{messageValue:He,onMessageValueChange:Le}=Dt;const Qe=Object(p.c)(A.a),Ce=Object(t.useRef)(),ye=Object(u.useDispatch)(),ie=Object(S.a)(),Oe=Object(t.useCallback)(()=>{var ke;const nt=new I.a((ke=Ce.current)===null||ke===void 0?void 0:ke.getContents().contents),{processedDelta:st}=ye(Object(T.a)({delta:nt}));Le(st)},[Le,ye]),We=Object(t.useMemo)(()=>{if(He)return{contents:He}},[He]);return a.a.createElement(D.b,{htmlFor:ie,text:Qe?N.t("Message"):"Message"},a.a.createElement(M.a,{className:"normal",enableEmojiButton:!0,withBasicContainerBorder:!0},a.a.createElement(j.a,{ariaLabel:Qe?N.t("Scheduled Message"):"Scheduled Message",placeholder:Qe?N.t("Type your message"):"Type your message",initialText:We,onTextChange:Oe,ref:Ce,position:"bottom",focusOnMount:!0,useWysiwyg:!0,completeOnChannels:!0,completeOnMembers:!0,completeOnEmoji:!0})))}o(G,"MessageTab"),G.displayName="MessageTab";var V=e("1HOW");const k=new P.b("express_templates"),x={entities:{channels:{includePublic:!0,includeArchived:!1,includePrivate:!0,includeMpims:!1,includeIms:!1,includeExternallyShared:!0,canPost:!0,onlyIfMember:!0}},allowEmptyQuery:!0,limit:100,sort:{frecency:!0,source:"mad-libs-modal"}};function H(Dt){let{selectedChannel:He,onChannelSelect:Le}=Dt;const Qe=Object(S.a)(),Ce=Object(p.c)(A.a);return a.a.createElement(D.b,{htmlFor:Qe,text:Ce?k.t("Channel"):"Channel"},a.a.createElement(V.e,{placeholderText:Ce?k.t("Search for channel"):"Search for channel",focusOnMount:!1,id:Qe,selectId:"workflow-suggestions-modal-channel-select",searcherOptions:x,onOptionSelected:Le,selectedOption:He,width:"100%"}))}o(H,"ChannelPickerTab"),H.displayName="ChannelPickerTab";var R=e("BQeT"),W=e("wd/R"),U=e.n(W),_=e("SgHf"),B=e("g3SJ");const z=new P.b("express_templates"),L=B.a.map(Dt=>({label:Dt,value:Dt}));function $(Dt){let{schedule:He,onScheduleChange:Le}=Dt;const[Qe,Ce]=Z(He,Le),[ye,ie]=ne(He,Le);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"margin_bottom_100"},a.a.createElement(K,{day:ye,onDayChange:ie})),a.a.createElement(Q,{time:Qe,onTimeChange:Ce}))}o($,"ScheduleTab"),$.displayName="ScheduleTab";function Q(Dt){let{time:He,onTimeChange:Le}=Dt;const Qe=Object(S.a)();return a.a.createElement(D.b,{htmlFor:Qe,text:"Time"},a.a.createElement(R.b,{ariaLabel:"time-picker",value:He,onChange:Le,width:"100%"}))}o(Q,"TimePickerSection"),Q.displayName="TimePickerSection";function K(Dt){let{day:He,onDayChange:Le}=Dt;const Qe=Object(S.a)(),Ce=Object(p.c)(A.a),ye=Object(t.useMemo)(()=>L.find(Oe=>{let{value:We}=Oe;return We===He}),[He]),ie=Object(t.useCallback)(Oe=>{let{value:We}=Oe;Le(We)},[Le]);return a.a.createElement(D.b,{htmlFor:Qe,text:Ce?z.t("Day of Week"):"Day of Week"},a.a.createElement(_.d,{selectedOption:ye,options:L,onOptionSelected:ie,width:"100%"}))}o(K,"DayPickerSection"),K.displayName="DayPickerSection";function Z(Dt,He){const Le=Object(t.useMemo)(()=>U()(Dt.start_time,B.b),[Dt]),Qe=Object(t.useMemo)(()=>Le.format("HH:mm"),[Le]),Ce=Object(t.useMemo)(()=>Le.format("YYYY-MM-DD"),[Le]);return[Qe,o(ie=>{if(!ie)return;const Oe=U()(`${Ce} ${ie}`);He({...Dt,start_time:Oe.format(B.b)})},"onStartTimeChange")]}o(Z,"useStartTimeScheduleState");function ne(Dt,He){var Le,Qe;return[(Le=Dt.frequency)===null||Le===void 0||(Qe=Le.on_days)===null||Qe===void 0?void 0:Qe[0],o(ie=>{He({...Dt,frequency:{...Dt.frequency,on_days:[ie]}})},"onDayOfWeekChange")]}o(ne,"useDayOfWeekScheduleState");var F=e("bb0F"),J=e("LTfc"),X=e("oI1L"),Y=e("6pED");let ae=o(class{validate(He){let{type:Le,value:Qe}=He;switch(Le){case r.e.RecurringDate:case r.e.Date:case r.e.ListId:return!!Qe;case r.e.ListColumnKeyAndValue:return!!Qe&&!!Qe.key;case r.e.ListColumnIdsToAddToForm:return!!Qe&&Array.isArray(Qe)&&Qe.length>0;case r.e.Message:return!!Qe&&Object(Y.a)(Qe);case r.e.Channel:return!!Qe&&!!Qe.value;default:return Object(l.a)(Le)}}},"IsValuePresentTemplateVariableValidator"),ee=o(class{validate(He){return this.delegates.every(Le=>Le.validate(He))}constructor(He){this.delegates=He}},"CompoundTemplateVariableValidator");function q(Dt,He){const Le={};return Object.values(He).forEach(Qe=>{Le[Qe.variable]=Dt.validate(Qe)}),Le}o(q,"validateTemplateState");function te(Dt){const He=Object(t.useRef)(new ee([new ae]));return q(He.current,Dt)}o(te,"useTemplateStateValidator");var de=e("ZobM"),se=e("iUFw"),re=e("OmjV");const oe=new P.b("express_templates");function ce(Dt){let{steps:He,setActiveVariable:Le,currentStep:Qe,stepperString:Ce}=Dt;const ye=Object(p.c)(re.a),ie=Object(t.useCallback)(()=>{const nt=He[Qe-1];Le(nt)},[Le,Qe,He]),Oe=Object(t.useCallback)(()=>{const nt=He[Qe+1];Le(nt)},[Le,Qe,He]),We=Qe===0,ke=Qe===He.length-1;return a.a.createElement("div",{className:Object(m.default)("display_flex","justify_content_center","align_items_center")},a.a.createElement(se.d,{className:"p-workflow_suggestion_stepper_buttons--button",disabled:We,size:"medium",type:"outline",onClick:ie,"aria-label":ye?oe.t("On {stepperString}, go to previous step",{stepperString:Ce}):""},a.a.createElement(de.a,{name:"arrow-left",size:"20"})),a.a.createElement("div",{"aria-hidden":!0,className:"margin_left_50 margin_right_50"},ye?oe.rt("{stepperString}",{stepperString:Ce}):""),a.a.createElement(se.d,{className:"p-workflow_suggestion_stepper_buttons--button",disabled:ke,onClick:Oe,size:"medium",type:"outline","aria-label":ye?oe.t("On {stepperString}, go to next step",{stepperString:Ce}):""},a.a.createElement(de.a,{name:"arrow-right",size:"20"})))}o(ce,"WorkflowSuggestionStepperButtons"),ce.displayName="WorkflowSuggestionStepperButtons";var ue=e("WXkz"),Pe=e("OaiI"),Ye=e("fGfo");const $e=new P.b("list_column_key_and_value");function Ke(Dt){let{listId:He,selectedColumnKeyAndValue:Le,onColumnKeyAndValueSelect:Qe}=Dt;var Ce;const ye=Object(p.c)(Tt=>He?Object(ue.l)(Tt,He):null),ie=Object(t.useMemo)(()=>ye&&Object(Ye.g)(ye)||[],[ye]),Oe=Object(p.c)(Pe.isListsEnabled),We=Le==null?void 0:Le.key,ke=Le==null?void 0:Le.value,nt=Object(t.useCallback)(Tt=>{Qe({key:Tt.value,value:void 0})},[Qe]),st=Object(t.useCallback)(Tt=>{We||Qe(void 0),Qe({key:We,value:Tt.value})},[Qe,We]),mt=Object(t.useMemo)(()=>ie?ie.map(Tt=>({label:a.a.createElement(O.a,{text:Tt.name}),value:Tt.key})):[],[ie]);if(!ye||!Oe)return null;const pt=mt.find(Tt=>Tt.value===We),Et=ie.find(Tt=>Tt.key===We);var it;const ft=((it=Et==null||(Ce=Et.options)===null||Ce===void 0?void 0:Ce.choices)!==null&&it!==void 0?it:[]).map(Tt=>({label:a.a.createElement(O.a,{text:Tt.label}),value:Tt.value})),yt=ft.find(Tt=>Tt.value===ke);return a.a.createElement(a.a.Fragment,null,a.a.createElement(D.b,{htmlFor:"filterColumnSelect",text:$e.t("Field"),className:"bold margin_bottom_150"},a.a.createElement(_.d,{key:He,options:mt,placeholderText:"-",ariaLabel:$e.t("Please select a field to filter on"),selectId:"filterColumnSelect",width:"100%",minOptionsListWidth:250,isRequired:!0,onOptionSelected:nt,selectedOption:pt})),ft.length>0&&a.a.createElement(D.b,{htmlFor:"filterValueSelect",text:$e.t("Value"),className:"bold"},a.a.createElement(_.d,{key:We,options:ft,placeholderText:"Anything",ariaLabel:$e.t("Please select a value to filter on"),selectId:"filterValueSelect",width:"100%",minOptionsListWidth:250,onOptionSelected:st,selectedOption:yt})))}o(Ke,"ListColumnKeyAndValueTab"),Ke.displayName="ListColumnKeyAndValueTab";var qe=e("sAkM"),ct=e("oSkh"),Be=e("ZMRP"),pe=e("i5Ig"),fe=e("4HNC"),me=e("jWAO"),Se=e("nFQW");const je=new P.b("list_column_key_and_value");function Ue(Dt){let{listId:He,initialColumnIds:Le,onColumnSelect:Qe}=Dt;const Ce=Object(p.c)(Tt=>He?Object(ue.l)(Tt,He):null),ye=Object(p.c)(Pe.isListsEnabled),ie=Object(t.useMemo)(()=>Ce&&Object(Ye.g)(Ce),[Ce]),Oe=Object(t.useMemo)(()=>(ie==null?void 0:ie.filter(Tt=>qe.r.has(Tt.type)&&!qe.q.has(Tt.type)))||pe.a,[ie]),We=Object(t.useMemo)(()=>(ie==null?void 0:ie.filter(Tt=>!qe.r.has(Tt.type)||qe.q.has(Tt.type)))||pe.a,[ie]),ke=Object(P.h)(We.map(Tt=>Tt.name),{noEscape:!0}).join(""),nt=Object(t.useMemo)(()=>Le||Oe.map(Tt=>Tt.id)||pe.a,[Oe,Le]),st=Oe.length<=5?Oe.length*48:288,mt=Oe.map(Tt=>Tt.id),pt=Object(t.useCallback)(Tt=>nt.indexOf(Tt)>=0,[nt]),Et=Object(t.useCallback)(Tt=>()=>{const Zt=nt.indexOf(Tt),In=Zt>=0;Qe(In?nt.slice(0,Zt).concat(nt.slice(Zt+1)):nt.concat([Tt]))},[Qe,nt]),it=ye?je.t("Hide field"):"Hide field",at=ye?je.t("Show field"):"Show field",ft=Object(t.useCallback)(Tt=>{const Zt=qe.p.get(Tt.type),In=pt(Tt.id);return a.a.createElement("div",{className:"display_flex align_items_center justify_content_between normal"},a.a.createElement("div",{className:Object(m.default)("display_flex","align_items_center",{half_opacity:!In})},Zt&&a.a.createElement("div",{className:"padding_top_25 padding_right_75"},a.a.createElement(de.a,{name:Zt.icon,inline:!0,size:"20"})),a.a.createElement(O.a,{text:Tt.name})),a.a.createElement(Se.a,{onClick:Et(Tt.id),size:"x-small",icon:In?"eye":"eye-closed","aria-label":In?it:at}))},[it,pt,Et,at]),yt=Object(t.useCallback)(Tt=>a.a.createElement(fe.a,{className:"border_bottom",size:"medium",key:Oe[Tt].id,primaryContent:ft(Oe[Tt])}),[Oe,ft]);return ye?a.a.createElement(a.a.Fragment,null,!!We.length&&a.a.createElement(me.d,{type:"boxed",level:"info",align:"left",className:"margin_bottom_75"},a.a.createElement("span",null,je.t("{disallowedFieldCount, plural, =1 {# field} other {# fields}} did not convert: {names}",{disallowedFieldCount:We.length,names:Object(P.k)(ke)}))),a.a.createElement(D.b,{text:je.t("Questions"),className:"bold"},a.a.createElement(ct.a,{disableHeight:!0},Tt=>{let{width:Zt}=Tt;return a.a.createElement(Be.b,{height:st,keys:mt,rowRenderer:yt,"aria-label":je.t("Questions"),width:Zt})}))):null}o(Ue,"ListColumnIdsToAddToFormTab"),Ue.displayName="ListColumnIdsToAddToFormTab";var ve=e("8j9e"),ge=e("n3y5"),le=e("99Nn"),he={header:"header__ENGNH"};const Te=new P.b("express_templates");function Re(Dt){let{templateId:He,madlibsSentence:Le,workflowTitle:Qe,workflowIcon:Ce,useTemplateState:ye,onPublish:ie,onPublishSuccess:Oe,onProvideFeedback:We,clogContext:ke}=Dt;const nt=Object(u.useDispatch)(),st=Object(t.useCallback)(()=>{nt(Object(v.a)())},[nt]),mt=Object(p.c)(re.a),{sendMessageToAnnouncerAPI:pt}=Object(t.useContext)(le.a),Et=Object(p.c)(A.a),[it,at]=ye(),ft=te(it),yt=Object(t.useMemo)(()=>Object.values(ft).every(xn=>xn),[ft]),Tt=Object(t.useMemo)(()=>Object(J.a)(Le),[Le]),[Zt,In]=Object(t.useState)(Tt[0]),[_n,Nn]=Object(t.useState)(!1),Fn=Object(t.useCallback)(xn=>()=>{In(xn)},[]),Bn=Object(X.d)(it),Un=Object(t.useCallback)(xn=>{let{value:Ta,variable:La}=xn;return a.a.createElement(y,{text:Ta,variable:La,clogContext:ke,isActive:La===Zt,isValid:ft[La],onClick:Fn(La)})},[Zt,Fn,ke,ft]),zn=Object(J.e)({madLibsString:Le,variableValues:Bn,renderVariable:Un}),wn=Tt.indexOf(Zt),Rn=Tt.length,ra=`Step ${wn+1} of ${Rn}`,wt=Object(t.useCallback)(()=>{if(!mt)return;const xn=Object(J.d)({madLibsString:Le,variableValues:Bn});pt({assertive:!0,message:`${xn} ${ra}`,uuid:Object(h.a)()})},[Le,Bn,mt,pt,ra]),pn=Object(t.useMemo)(()=>a.a.createElement("span",{className:he.header},zn),[zn]),Hn=Object(t.useCallback)(xn=>Ta=>{at({variable:xn,type:r.e.Message,value:Ta})},[at]),Jn=Object(t.useCallback)(xn=>Ta=>{at({variable:xn,type:r.e.Channel,value:Ta})},[at]),Ca=Object(t.useCallback)(xn=>Ta=>{at({variable:xn,type:r.e.RecurringDate,value:Ta})},[at]),qn=Object(t.useCallback)(xn=>Ta=>{at({variable:xn,type:r.e.ListColumnKeyAndValue,value:Ta})},[at]),ua=Object(t.useCallback)(xn=>Ta=>{at({variable:xn,type:r.e.ListColumnIdsToAddToForm,value:Ta})},[at]),va=Object(t.useMemo)(()=>{const xn=it[Zt];if(xn!=null&&xn.type)switch(xn.type){case r.e.Message:return a.a.createElement(G,{messageValue:xn.value,onMessageValueChange:Hn(xn.variable)});case r.e.Channel:return a.a.createElement(H,{selectedChannel:xn.value,onChannelSelect:Jn(xn.variable)});case r.e.RecurringDate:return a.a.createElement($,{schedule:xn.value,onScheduleChange:Ca(xn.variable)});case r.e.Date:return a.a.createElement(a.a.Fragment,null,"TODO");case r.e.ListId:return a.a.createElement(a.a.Fragment,null,"TODO");case r.e.ListColumnKeyAndValue:return a.a.createElement(Ke,{listId:it[r.e.ListId].value,selectedColumnKeyAndValue:xn.value,onColumnKeyAndValueSelect:qn(xn.variable)});case r.e.ListColumnIdsToAddToForm:return a.a.createElement(Ue,{listId:it[r.e.ListId].value,initialColumnIds:xn.value,onColumnSelect:ua(xn.variable)});default:return Object(l.a)(xn)}},[it,Zt,Hn,Jn,Ca,qn,ua]),Ea=Object(t.useCallback)(Object(n.coroutine)(function*(){Nn(!0);const{trigger:xn,workflow:Ta,availableData:La}=yield ie({templateId:He,templateState:it});if(Nn(!1),st(),xn!=null&&xn.id){var Ka;nt(Object(ve.l)({triggers:[xn]})),Oe({variableValues:Bn,triggerId:xn.id,workflowId:xn==null||(Ka=xn.workflow)===null||Ka===void 0?void 0:Ka.workflow_id,trigger:xn,workflow:Ta,availableData:La})}}),[nt,He,ie,st,it,Oe,Bn]),_a=Object(t.useMemo)(()=>({eventId:E.EventId.SUGGESTION_COMPLETE,...ke,onClick:{enableClogAction:!0}}),[ke]),Ra=Ce?a.a.createElement(ge.a,{classes:"spacing_250",image:Ce,size:42,ariaHidden:!0}):null,Va=Et?Te.t("Was this suggestion helpful?"):"Was this suggestion helpful?";return a.a.createElement(d.a,{centered:!0,closeModal:st,onAfterOpen:wt},a.a.createElement(d.i,null,a.a.createElement(d.l,{title:Qe,icon:Ra}),a.a.createElement("div",{tabIndex:-1,className:"margin_left_175 margin_right_175 margin_bottom_100"},pn)),a.a.createElement(d.d,null,a.a.createElement("hr",{className:"margin_left_175 margin_right_175"}),a.a.createElement("div",{className:"margin_bottom_125"},a.a.createElement(d.e,null,va))),a.a.createElement(d.g,{className:"block"},a.a.createElement(d.h,{className:"display_flex justify_content_between align_items_center"},!!We&&!mt&&a.a.createElement(F.a,{text:Va,onProvideFeedback:We}),mt&&a.a.createElement(ce,{steps:Tt,setActiveVariable:In,currentStep:wn,stepperString:ra}),a.a.createElement(b.c,{type:"primary",disabled:!yt,loading:_n,onClick:Ea,autoClogProps:_a},Te.t("Publish Workflow",{fallbackHash:"b304a6cb7cec58c2c88192c812ea276d51ddbbd7",fallbackHashNs:"slack-docs"})))))}o(Re,"ExpressTemplateModal"),Re.displayName="ExpressTemplateModal";var Ve=e("Lgge"),Ee=e("kQBZ"),Ae=e("s4P+"),Ge=e("1LZ8"),Ze=e("VXbZ"),ze=e("HDAh");const lt=Object(i.c)("Add create shortcut workflow from template",function(){var Dt=Object(n.coroutine)(function*(He,Le,Qe){let{templateId:Ce,payload:ye,ts:ie,channelId:Oe}=Qe;const We="create-suggested-workflow-from-template";let ke=null,nt=null,st=null;try{var mt;const Et=yield He(Object(Ee.Xh)({templateId:Ce,payload:ye,reason:We}));if(!Et.ok)throw new Error("response from workflows.createFromTemplate not ok");const{workflow_id:it,trigger_id:at}=Et,ft=He(Object(Ee.pf)({workflowId:it,reason:We})),yt=He(Object(Ee.gi)({triggerId:at,reason:We})),Tt=He(Object(Ee.lf)({workflowId:it,reason:We})),[Zt,In,_n]=yield Ve.a.all([Tt,yt,ft]);if(!_n.ok)throw new Error("response from functions.workflows.publish not ok");if(!In.ok)throw new Error("response from workflows.triggers.info not ok");if(ke=In.trigger,nt=Zt.decorated_workflow,st=Zt.available_data,ie&&Oe&&(!(ke==null||(mt=ke.workflow)===null||mt===void 0)&&mt.workflow_id)){var pt;He(Object(ze.a)({channelId:Oe,ts:ie,workflowId:ke==null||(pt=ke.workflow)===null||pt===void 0?void 0:pt.workflow_id}))}}catch(Et){Object(Ae.b)().error(Et),He(Object(Ge.a)())}return{trigger:ke,workflow:nt,availableData:st}});return function(He,Le,Qe){return Dt.apply(this,arguments)}}());lt.meta={name:"createThunk",key:"createThunkcreateShortcutWorkflowFromTemplate",description:"Add create shortcut workflow from template"};const tt=Object(i.c)("Serializes a message value into blocks",(Dt,He,Le)=>{let{message:Qe}=Le;const Ce=Dt(Object(Ze.b)({delta:Qe}));if(!Array.isArray(Ce))return Ce.blocks});tt.meta={name:"createThunk",key:"createThunkserializeMessage",description:"Serializes a message value into blocks"};function Ot(Dt,He){const Le={};for(const{type:Qe,variable:Ce,value:ye}of Object.values(He)){if(!ye)throw new Error("Failed to serialize payload");switch(Qe){case r.e.Channel:Le[Ce]=ye.value;break;case r.e.Message:Le[Ce]=Dt(tt({message:ye}));break;case r.e.RecurringDate:case r.e.Date:Le[Ce]=ye;break;case r.e.ListId:Le[Ce]=ye;break;case r.e.ListColumnKeyAndValue:Le.column_key=ye.key,ye.value&&(Le.column_value=ye.value);break;case r.e.ListColumnIdsToAddToForm:Le[Ce]=ye;break;default:Object(l.a)(Qe);break}}return Le}o(Ot,"serializePayload");const Ct=Object(i.c)("Publish workflow from template internal",function(){var Dt=Object(n.coroutine)(function*(He,Le,Qe){let{payload:Ce,ts:ye,channelId:ie}=Qe;var Oe;const{trigger:We,workflow:ke,availableData:nt}=yield He(lt(Ce));if(!We||!ke||!nt)throw new Error("Trigger, workflow, or availableData is missing");if(ye&&ie&&(!(We==null||(Oe=We.workflow)===null||Oe===void 0)&&Oe.workflow_id)){var st;He(Object(ze.a)({channelId:ie,ts:ye,workflowId:We==null||(st=We.workflow)===null||st===void 0?void 0:st.workflow_id}))}return{trigger:We,workflow:ke,availableData:nt}});return function(He,Le,Qe){return Dt.apply(this,arguments)}}());Ct.meta={name:"createThunk",key:"createThunkpublishWorkflowFromTemplateInternal",description:"Publish workflow from template internal"};const St=Object(i.c)("Publish Workflow From API Template",function(){var Dt=Object(n.coroutine)(function*(He,Le,Qe){let{templateId:Ce,templateState:ye,ts:ie,channelId:Oe}=Qe,We=Ot(He,ye);const{trigger:ke}=We;return ke&&(delete We.trigger,We={...We,...ke}),He(Ct({payload:{payload:We,templateId:Ce},ts:ie,channelId:Oe}))});return function(He,Le,Qe){return Dt.apply(this,arguments)}}());St.meta={name:"createThunk",key:"createThunkpublishWorkflowFromApiTemplate",description:"Publish Workflow From API Template"};const zt=Object(i.c)("Publish Workflow From Template",function(){var Dt=Object(n.coroutine)(function*(He,Le,Qe){let{templateId:Ce,templateState:ye,ts:ie,channelId:Oe}=Qe;const We=Ot(He,ye);return He(Ct({payload:{payload:We,templateId:Ce},ts:ie,channelId:Oe}))});return function(He,Le,Qe){return Dt.apply(this,arguments)}}());zt.meta={name:"createThunk",key:"createThunkpublishWorkflowFromTemplate",description:"Publish Workflow From Template"};var kt=e("TlwC"),on=e.n(kt);function _t(Dt){let{onClose:He,successString:Le}=Dt;return a.a.createElement(d.a,{centered:!0,closeModal:He},a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"24px 28px",background:"rgb(249, 237, 255)"}},a.a.createElement("img",{alt:"",width:316,src:on.a})),a.a.createElement(d.i,null,a.a.createElement(d.l,{title:"You scheduled weekly updates"})),a.a.createElement(d.d,null,a.a.createElement(d.e,null,Le)),a.a.createElement(d.g,null,a.a.createElement(d.h,null,a.a.createElement(d.c,{type:"outline"},"Close"))))}o(_t,"WeeklyRemindersSuccessModal"),_t.displayName="WeeklyRemindersSuccessModal";var be=e("8uib"),ot=e.n(be);function rt(Dt){let{onClose:He,successString:Le}=Dt;return a.a.createElement(d.a,{centered:!0,closeModal:He},a.a.createElement("img",{alt:"",src:ot.a,style:{margin:"16px 16px 0 16px"}}),a.a.createElement(d.i,null,a.a.createElement(d.l,{title:"You scheduled a weekly standup"})),a.a.createElement(d.d,null,a.a.createElement(d.e,null,Le)),a.a.createElement(d.g,null,a.a.createElement(d.h,null,a.a.createElement(d.c,{type:"outline"},"Close"))))}o(rt,"StandupSuccessModal"),rt.displayName="StandupSuccessModal";var Jt=e("xueD"),Qt=e("/Hvu"),qt=e("itAW"),$t=e("Lts7"),hn=e("Tevt"),gn=e("tZQI"),Cn=e("G4FP"),Mn=e("QDh+"),kn=e("oY18"),na=e("g3a/"),oa=e("+8pe");const ba={allowEmptyQuery:!0,entities:{channels:!0}},ga=new P.b("lists");function ya(Dt){let{onClose:He,triggerId:Le,title:Qe,url:Ce}=Dt;const ye=Object(u.useDispatch)(),ie=Object(p.c)(Pe.isListsEnabled),[Oe,We]=Object(t.useState)([]),[ke,nt]=Object(t.useState)(!1),st=Object(t.useCallback)(Et=>a.a.createElement(Cn.a,{channelId:Et.value}),[]),mt=Object(t.useCallback)(Et=>{We(Et)},[]),pt=Object(t.useCallback)(Object(n.coroutine)(function*(){nt(!0);const Et=Oe.map(it=>({channelId:it.value,shortcutId:Le,type:oa.a.SHORTCUT,url:Ce,title:Qe}));ye(Object(Mn.b)(Et)).then(()=>{ye(Object(kn.a)({element:a.a.createElement(na.a,null,ie?ga.t("Workflow bookmarked"):"Workflow bookmarked")}))}).catch(()=>{ye(Object(kn.a)({element:a.a.createElement(na.a,null,ie?ga.t("Error bookmarking workflow"):"Error bookmarking workflow")}))}),He()}),[Oe,ye,ie,He,Qe,Le,Ce]);return a.a.createElement(d.a,{centered:!0,closeModal:He},a.a.createElement(d.i,null,a.a.createElement(d.l,{title:"Add as bookmark"})),a.a.createElement(d.d,null,a.a.createElement(d.e,null,a.a.createElement("strong",null,ie?ga.t("Select Channels:"):"Select Channels:"),a.a.createElement(gn.e,{className:"margin_top_50 margin_bottom_50",onSelectedItemsChange:mt,renderOption:st,searcherOptions:ba,selectedOptions:Oe,selectId:"lists-sucess-bookmark-modal",width:"100%",focusOnMount:!0,expandOnFocus:!0}))),a.a.createElement(d.g,null,a.a.createElement(d.h,{className:"display_flex full_width"},a.a.createElement(d.c,{type:"outline"},ie?ga.t("Cancel"):"Cancel"),a.a.createElement(b.c,{loading:ke,type:"primary",onClick:pt},ie?ga.t("Add"):"Add"))))}o(ya,"ListsSuccessBookmarkModal"),ya.displayName="ListsSuccessBookmarkModal";const Zn=new P.b("lists");function Xn(Dt){let{onClose:He,triggerId:Le,isForm:Qe}=Dt;const Ce=Object(u.useDispatch)(),ye=Object(p.c)(Pe.isListsEnabled),ie=Object(p.c)(Et=>Object(qt.g)(Et,{triggerId:Le},!0)),Oe=Object(t.useMemo)(()=>Object(Qt.a)({trigger:ie}),[ie]),We=Object(t.useCallback)(()=>{var Et;const it=(Et=ie.workflow_details)===null||Et===void 0?void 0:Et.id,at=it?`/workflow/${it}`:"";Ce(Object($t.a)({source:"lists-success-modal",subPath:at}))},[Ce,ie]),ke=Object(t.useCallback)(()=>{Ce(Object(Jt.a)({shortcutInfo:Oe}))},[Ce,Oe]),nt=Object(t.useCallback)(()=>{Ce(Object(f.a)({element:a.a.createElement(ya,{onClose:He,triggerId:Le,title:Oe.title,url:Oe.url}),name:"lists-alert-success-bookmark-modal",isStackable:!0}))},[Ce,He,Oe.title,Oe.url,Le]),st=ye?Zn.t("Your form is published!"):"Your form is published!",mt=ye?Zn.t("Your alert is published!"):"Your alert is published!",pt=Qe?st:mt;return a.a.createElement(d.a,{centered:!0,closeModal:He},a.a.createElement(d.i,null,a.a.createElement(d.l,{title:pt})),a.a.createElement(d.d,null,a.a.createElement(d.e,null,a.a.createElement("div",{className:"p-express_template_modal_header_bookmark_workflow padding_125"},a.a.createElement("span",null,a.a.createElement("b",null,ye?Zn.t("Bookmark to channels"):"Bookmark to channels"),a.a.createElement("br",null),ye?Zn.t("When you add a link to a channel\u2019s bookmarks, anyone in that channel can find and use it."):"When you add a link to a channel\u2019s bookmarks, anyone in that channel can find and use it."),a.a.createElement("br",null),a.a.createElement(b.f,{type:"outline",className:"margin_top_50",onClick:nt},a.a.createElement(de.a,{name:"bookmark",size:"20"}),a.a.createElement("span",{className:"margin_left_25"},ye?Zn.t("Add as Bookmark"):"Add as Bookmark"))))),a.a.createElement(d.g,null,a.a.createElement(d.h,{className:"display_flex full_width"},a.a.createElement(hn.a,{onClick:We,className:"flex_one display_flex align_items_center"},a.a.createElement(de.a,{name:"open-in-window",size:"20"})," ",ye?Zn.t("Open in workflow builder"):"Open in workflow builder"),Qe&&a.a.createElement(b.f,{type:"outline",onClick:ke},a.a.createElement(de.a,{name:"share-message",size:"20"})," ",a.a.createElement("span",{className:"margin_left_25"},ye?Zn.t("Share Form"):"Share Form")),a.a.createElement(d.c,{type:"primary"},ye?Zn.t("Done"):"Done"))))}o(Xn,"ListsSuccessModal"),Xn.displayName="ListsSuccessModal";var Ht=e("Hl+J"),ut=e.n(Ht);function gt(Dt){let{onClose:He,successString:Le}=Dt;return a.a.createElement(d.a,{centered:!0,closeModal:He},a.a.createElement("img",{alt:"",src:ut.a,style:{margin:"16px 16px 0 16px"}}),a.a.createElement(d.i,null,a.a.createElement(d.l,{title:"You scheduled a weekly kudos thread"})),a.a.createElement(d.d,null,a.a.createElement(d.e,null,Le)),a.a.createElement(d.g,null,a.a.createElement(d.h,null,a.a.createElement(d.c,{type:"outline"},"Close"))))}o(gt,"KudosSuccessModal"),gt.displayName="KudosSuccessModal";var Wt=e("Yauy"),Mt=e("E3dU"),Xe=e("u5wV"),bt=e("O86Y"),Nt=e("HpvR");const Pt=Object.values(c.a);function nn(Dt){return Pt.includes(Dt)}o(nn,"isHardcodedTemplate");var rn=e("mxzN"),mn=e("pgVm"),vn=e("95ku"),Xt=e("gZuW"),ht=e("RhZC"),It=e("9UAs"),Ft=e("gsmS"),Bt=e("mY+K");const en=1,On=80,yn=new P.b("workflow_builder");function Dn(Dt){return["shortcut","event","webhook","scheduled","external"].includes(Dt)}o(Dn,"isWorkflowsTriggersUpdateType");function En(Dt){let{trigger:He}=Dt;const Le=Object(u.useDispatch)(),Qe=Object(t.useCallback)(()=>Le(Object(v.a)()),[Le]),Ce=Object(p.c)(bt.g),ye=He.workflow.title,ie=He.workflow.description,[Oe,We]=Object(t.useState)((ie||"").replace(/[()]/g,"")),[ke,nt]=Object(t.useState)((ye||"").replace(/[()]/g,"")),st=yn.t("Something short and descriptive",{fallbackHash:"c1cc35b7c040c4f275a927648e9f31455d8a99ec"}),mt=yn.t("What is this workflow for?"),pt=Object(t.useMemo)(()=>Object(It.b)(ke),[ke]),Et=Object(t.useMemo)(()=>Object(It.a)(ke),[ke]),it=Object(t.useMemo)(()=>Object(It.c)(ke),[ke]),at=Object(t.useMemo)(()=>pt?yn.t("Whoops! That name is reserved."):Et?yn.t("Workflow names can\u2019t support special characters (i.e. !#$%&)."):it?yn.t("Whoops! Workflow names cannot have emojis."):ke.length>On?yn.t("You can\u2019t enter more than {maxLength} characters.",{maxLength:On}):yn.t("This field is required."),[Et,pt,it,ke]),[ft,yt]=Object(t.useState)(!1),[Tt,Zt]=Object(t.useState)(!1),In=Object(It.e)(On,ke),_n=Object(It.d)(On,Oe),Nn=In||Tt||_n,Fn=Object(t.useCallback)(Object(n.coroutine)(function*(){try{var wn;if(!(!(He==null||(wn=He.workflow)===null||wn===void 0)&&wn.workflow_id))throw new Error("Could not find workflow id to save workflow details");Zt(!0),yt(!1),Dn(He.type)&&(yield Le(Object(Ee.li)({...He,type:He.type,triggerId:He.id,name:ke,description:Oe,workflow:He.workflow.workflow_id,reason:"express-templates-workflow-details-edit-modal"}))),yield Le(Object(Ee.xf)({workflowId:He.workflow.workflow_id,title:ke,description:Oe,reason:"express-templates-workflow-details-edit-modal"})),Ce&&(Object(Ft.a)().markObjectsAsStale(Ce,[He.id]),Object(Bt.a)().markObjectsAsStale(Ce,[He.workflow.workflow_id])),Qe()}catch{yt(!0)}}),[Le,ke,Oe,Qe,He,Ce]),{onChange:Bn,errorText:Un}=Object(ht.a)(at,In),zn=Object(t.useCallback)(wn=>{nt(wn),Bn()},[Bn,nt]);return a.a.createElement(d.a,{centered:!0,closeModal:Qe},a.a.createElement(d.i,null,a.a.createElement(d.l,{title:yn.t("Workflow Details")})),a.a.createElement(d.d,null,a.a.createElement(d.e,null,a.a.createElement(D.b,{text:yn.t("Name")},a.a.createElement(vn.a,{id:"workflow-details-modal_name",type:"text",maxCharacterLimit:On,name:"name",value:ke,onChange:zn,placeholder:st,errorText:Un,autoComplete:"off",focusOnMount:!0,"data-qa":"workflow-details-modal-name__input",useInlineAlert:!0})),a.a.createElement(D.b,{text:yn.t("Description")},a.a.createElement(vn.a,{id:"workflow-details-modal_description",type:"text",maxCharacterLimit:On,minCharacterLimit:en,name:"description",value:Oe,onChange:We,placeholder:mt,"data-qa":"workflow-details-modal-description__input",useInlineAlert:!0,isRequired:!0})),ft&&a.a.createElement(Xt.a,{"data-qa":"workflow-details-modal-description-error"},yn.t("There was an error updating your workflow.")))),a.a.createElement(d.g,null,a.a.createElement(d.h,null,a.a.createElement(d.c,{onClick:Qe,type:"outline"},yn.t("Cancel")),a.a.createElement(b.c,{type:"primary",onClick:Fn,disabled:Nn,loading:Tt,"data-qa":"first_publish-next__button"},yn.t("Save")))))}o(En,"WorkflowDetailsEditModal"),En.displayName="WorkflowDetailsEditModal";var Vt=e("9068"),an=e("z+Hh"),sn=e("NqZo"),bn=e("0MjI"),jn=e("+h1i"),Tn=e("6C1v"),An=e("QCiN"),Vn=e("O1Zm"),un={container:"container__NrCVY",cardContainer:"cardContainer__NUdOe",divider:"divider__hAKXv"};const Kn=o(Dt=>{let{triggerSegment:He}=Dt;const Le=Object(t.useMemo)(()=>Object(sn.a)(He),[He]),Qe=Object(t.useMemo)(()=>Object(jn.d)({type:He==null?void 0:He.type,subtype:Le}),[He,Le]),Ce=Object(t.useMemo)(()=>Object(Tn.a)(He),[He]);return a.a.createElement(An.a,{className:un.cardContainer},Qe&&a.a.createElement(bn.a,{icon:Qe}),a.a.createElement(Vn.a,{element:"h2",weight:"bold"},Ce))},"TriggerPreview");Kn.displayName="TriggerPreview";var $n=e("6kwQ"),da=e("sLwf"),fa=e("vMCY"),aa;(function(Dt){Dt.BuiltIn="builtin",Dt.App="app",Dt.Workflow="workflow"})(aa||(aa={}));var ha=e("Znag");const Ia=o(Dt=>{let{hermesWorkflow:He,segment:Le}=Dt;const{availableData:Qe,trigger:Ce,workflow:ye}=He,ie=Object(t.useMemo)(()=>Object(fa.a)(Qe,Ce,ye),[Qe,Ce,ye]),Oe=Object(t.useMemo)(()=>Object(da.a)(ie,Le.id),[ie,Le]),We=Object(t.useMemo)(()=>Object(Tn.a)(Le,Oe),[Le,Oe]),ke=Object(t.useMemo)(()=>{if("slackFunction"in Le.config){const{slackFunction:mt}=Le.config;if((mt==null?void 0:mt.type)===aa.BuiltIn){var nt;return(nt=$n.a.get(mt==null?void 0:mt.callback_id))!==null&&nt!==void 0?nt:"slack-logo"}if(mt!=null&&mt.app_id)return a.a.createElement(ha.a,{appId:mt.app_id,size:24})}const st=Object(sn.a)(Le);return Object(jn.d)({type:Le==null?void 0:Le.type,subtype:st})},[Le]);return a.a.createElement(An.a,{className:un.cardContainer},a.a.createElement(bn.a,{icon:ke}),a.a.createElement(Vn.a,{element:"h2",weight:"bold"},We))},"StepPreview");Ia.displayName="StepPreview";var Ba=e("CcE6");const ca=o(Dt=>{let{trigger:He,workflow:Le,availableData:Qe}=Dt;const Ce=Object(t.useMemo)(()=>({workflow:Le,trigger:{...He,type:Object(Ba.e)(He.type)},availableData:Qe}),[Le,He,Qe]),ye=Object(t.useMemo)(()=>Object(an.h)(Ce.trigger,Ce==null?void 0:Ce.coachmarkData),[Ce])||[],ie=Object(t.useMemo)(()=>Object(an.w)(Ce),[Ce])||[];return a.a.createElement("div",{className:un.container},a.a.createElement(Kn,{triggerSegment:ye}),a.a.createElement("div",{className:un.divider},a.a.createElement(de.a,{name:"arrow-down",inline:!0,size:"20"})),ie.map((Oe,We)=>a.a.createElement(Ia,{key:`${Oe.config.function_id}_${We+1}`,hermesWorkflow:Ce,segment:Oe})))},"WorkflowPreview");ca.displayName="WorkflowPreview";const Aa=new P.b("express_templates");function Ma(Dt){let{onClose:He,trigger:Le,templateId:Qe,workflow:Ce,availableData:ye}=Dt;const ie=Object(u.useDispatch)(),Oe=Object(p.c)(mn.f),We=Object(p.c)(at=>Object(qt.g)(at,{triggerId:Le.id})),ke=Object(Vt.b)(We)?Le:We,nt=Object(t.useCallback)(()=>{var at;const ft=ke==null||(at=ke.workflow_details)===null||at===void 0?void 0:at.id,yt=ft?`/workflow/${ft}`:"";ie(Object($t.a)({source:"expresss-template-success-modal",subPath:yt}))},[ie,ke]),st=Object(t.useMemo)(()=>Object(Qt.a)({trigger:ke}),[ke]),mt=Object(t.useCallback)(()=>{ie(Object(Jt.a)({shortcutInfo:st}))},[ie,st]),pt=Object(t.useCallback)(()=>{ie(Object(f.a)({element:a.a.createElement(rn.a,{channelId:"",feedbackType:"positive",templateId:Qe||"",highlightedText:""}),isStackable:!0,name:"workflow-suggestion-feedback-modal"}))},[ie,Qe]),Et=Object(t.useCallback)(()=>{Object(Vt.a)(ke)&&ie(Object(f.a)({element:a.a.createElement(En,{trigger:ke}),isStackable:!0,name:"express-template-publish-modal-edit-workflow"}))},[ie,ke]),it=Object(t.useMemo)(()=>a.a.createElement(hn.a,{onClick:Et},Oe?Aa.t("Edit workflow name and details"):""),[Oe,Et]);return a.a.createElement(d.a,{centered:!0,closeModal:He},a.a.createElement(d.i,null,a.a.createElement(d.l,{title:st.title,subtitle:it})),a.a.createElement(d.d,null,a.a.createElement(d.e,null,a.a.createElement("b",null,Oe?Aa.rt("The workflow has been published. You can manage it in <Link>Workflow Builder</Link>.",null,at=>{let{text:ft}=at;return a.a.createElement(hn.a,{onClick:nt},ft)}):"")),a.a.createElement(d.e,null,a.a.createElement(ca,{workflow:Ce,trigger:Le,availableData:ye}))),a.a.createElement(d.g,null,a.a.createElement(d.h,{className:"display_flex full_width"},a.a.createElement("div",{className:"flex_one"},a.a.createElement(b.f,{type:"outline",onClick:pt},Oe?Aa.t("Give Feedback"):"")),a.a.createElement(b.f,{type:"outline",onClick:mt},a.a.createElement(de.a,{name:"share-message",size:"20"}),a.a.createElement("span",{className:"margin_left_25"},Oe?Aa.t("Share"):"")),a.a.createElement(d.c,{type:"primary"},Oe?Aa.t("Done"):""))))}o(Ma,"ApiPublishSuccessModal"),Ma.displayName="ApiPublishSuccessModal";const ja={MESSAGE:"slack#/types/rich_text",CHANNEL:"slack#/types/channel_id",SCHEDULE:"schedule"},Fa={SCHEDULED:"scheduled"};function ta(Dt,He){const Le={},Qe=Object(J.b)(He.sentence);return He.keyword_mapping.steps.forEach(Ce=>{switch(Ce.type){case ja.CHANNEL:Le[Ce.id]={type:r.e.Channel};break;case ja.MESSAGE:Le[Ce.id]={type:r.e.Message,placeholder:Qe[Ce.id],initialValue:Ce.default?Dt(Object(Ze.a)({blocks:Ce.default})):void 0};break;default:throw new Error(`Unsupported step type ${Ce.type}`)}}),Qe.trigger&&He.keyword_mapping.trigger.type===Fa.SCHEDULED&&(Le.trigger={type:r.e.RecurringDate,placeholder:Qe.trigger}),Le}o(ta,"convertMadlibsConfigToTemplateInputParameter");const Pn=Object(i.c)("Handle workflow publish success",(Dt,He,Le)=>{let{workflow:Qe,trigger:Ce,availableData:ye,templateId:ie}=Le;const Oe=o(()=>Dt(Object(v.a)()),"onClose");Qe&&Ce&&ye&&Dt(Object(f.a)({element:a.a.createElement(Ma,{onClose:Oe,workflow:Qe,trigger:Ce,availableData:ye,templateId:ie}),name:"standup-success-modal"}))});Pn.meta={name:"createThunk",key:"createThunkhandleApiPublishSuccess",description:"Handle workflow publish success"};const dn=Object(i.c)("Open API express template modal",function(){var Dt=Object(n.coroutine)(function*(He,Le,Qe){let{templateId:Ce,onProvideFeedback:ye,ts:ie,channelId:Oe,clogContext:We}=Qe;var ke,nt;const st=yield He(Object(Ee.bi)({templateId:Ce,reason:"open-express-template-modal"}));if(!st.ok)return;const mt=st.name,pt=(ke=st.workflow)===null||ke===void 0||(nt=ke.icons)===null||nt===void 0?void 0:nt.image_96,Et=st.madlibs_config;if(!Et)throw new Error("Madlibs config not found for workflow");const it=Et.sentence,at=function(){var In=Object(n.coroutine)(function*(_n){let{trigger:Nn,workflow:Fn,availableData:Bn}=_n;return He(Pn({workflow:Fn,trigger:Nn,availableData:Bn,templateId:Ce}))});return o(function(Nn){return In.apply(this,arguments)},"onPublishSuccess")}(),ft=function(){var In=Object(n.coroutine)(function*(_n){return He(St({..._n,ts:ie,channelId:Oe}))});return o(function(Nn){return In.apply(this,arguments)},"onPublish")}(),yt=ta(He,Et),Tt=Object(B.c)(Et.keyword_mapping.trigger.default),Zt=o(()=>Object(X.b)(yt,Object(X.a)({[r.e.RecurringDate]:Tt})),"useTemplateStateForModal");return He(Object(f.a)({element:a.a.createElement(Re,{templateId:Ce,madlibsSentence:it,workflowTitle:mt,workflowIcon:pt,useTemplateState:Zt,onProvideFeedback:ye,onPublish:ft,onPublishSuccess:at,clogContext:We}),isStackable:!0,name:"express-template-modal"}))});return function(He,Le,Qe){return Dt.apply(this,arguments)}}());dn.meta={name:"createThunk",key:"createThunkopenApiExpressTemplateModal",description:"Open API express template modal"};const Rt=Object(i.c)("Handle workflow publish success",(Dt,He,Le)=>{let{templateId:Qe,listId:Ce,triggerId:ye,variableValues:ie}=Le;const Oe=o(()=>Dt(Object(v.a)()),"onClose"),We=Object(bt.g)(He()),ke=Ce?Object(Nt.a)(He(),Ce):null,nt=r.d[Qe].confirmationMessage,st=Object(J.c)({madLibsString:nt,variableValues:ie,renderVariable:mt=>{let{value:pt}=mt;return a.a.createElement(O.a,{text:pt})}});switch(Qe){case c.a.STANDUP:Dt(Object(f.a)({element:a.a.createElement(rt,{onClose:Oe,successString:st}),name:"standup-success-modal"}));return;case c.a.WEEKLY_REMINDER:Dt(Object(f.a)({element:a.a.createElement(_t,{onClose:Oe,successString:st}),name:"weekly-reminders-success-modal"}));return;case c.a.KUDOS:Dt(Object(f.a)({element:a.a.createElement(gt,{onClose:Oe,successString:st}),name:"kudos-success-modal"}));return;case c.a.PTO_REQUEST:return;case c.a.LISTS_COLUMN_CHANGED:case c.a.ADD_RECORD_TO_LIST:case c.a.ADD_RECORD_TO_LIST_NO_NOTIFICATION:case c.a.FEEDBACK_FORM_FOR_LIST:case c.a.BUG_FORM_FOR_LIST:case c.a.HELP_FORM_FOR_LIST:Dt(Object(f.a)({element:a.a.createElement(Xn,{onClose:Oe,triggerId:ye,isForm:Qe!==c.a.LISTS_COLUMN_CHANGED}),name:"lists-alert-success-modal",isStackable:!0})),We&&ke&&setTimeout(()=>{Object(Xe.b)().markObjectsAsStale(We,[ke.id]),Object(Xe.b)().maybeRefetch(We,ke.id)},1e3);return;default:return Object(l.a)(Qe)}});Rt.meta={name:"createThunk",key:"createThunkhandlePublishSuccess",description:"Handle workflow publish success"};const vt=o((Dt,He)=>{const Le=Object(Mt.d)(Dt,He);if(Le)return Object(Wt.t)(Dt,Le,{publicChannelIncludeHashSign:!1})||void 0},"getChannelDisplayName"),At=o((Dt,He)=>{let{channelId:Le,list:Qe,listColumnKey:Ce,listColumnValue:ye,templateId:ie}=He;const Oe={},We=vt(Dt,Le);Le&&We&&(Oe[r.e.Channel]={value:Le,label:We}),Qe&&(Oe[r.e.ListId]=Qe.id),Ce&&(Oe[r.e.ListColumnKeyAndValue]={key:Ce,...ye&&{value:ye}});const ke=r.d[ie];if(ke.inputs.message){const st=ke.inputs.message.type==="message"?ke.inputs.message.initialValue:"";st&&(Oe[r.e.Message]=st)}if(ke.inputs.column_ids_to_add_to_form){var nt;const st=ke.inputs.column_ids_to_add_to_form.type==="column_ids_to_add_to_form"?ke.inputs.column_ids_to_add_to_form.initialValue||[]:[],pt=(((nt=Object(Ye.g)(Qe))===null||nt===void 0?void 0:nt.filter(Et=>{const it=qe.r.has(Et.type)&&!qe.q.has(Et.type);return st.length?st.indexOf(Et.key)>=0&&it:it}))||[]).map(Et=>Et.id);Oe[r.e.ListColumnIdsToAddToForm]=pt}return Object(X.a)(Oe)},"getTemplateDefaultValues"),Gt=Object(i.c)("Open hard-coded express template modal",function(){var Dt=Object(n.coroutine)(function*(He,Le,Qe){let{template:Ce,onProvideFeedback:ye,ts:ie,channelId:Oe,list:We,listColumnKey:ke,listColumnValue:nt,clogContext:st}=Qe;const{inputs:mt,id:pt}=Ce,Et=function(){var ft=Object(n.coroutine)(function*(yt){let{variableValues:Tt,triggerId:Zt}=yt;return He(Rt({templateId:pt,variableValues:Tt,listId:We==null?void 0:We.id,triggerId:Zt}))});return o(function(Tt){return ft.apply(this,arguments)},"onPublishSuccess")}(),it=function(){var ft=Object(n.coroutine)(function*(yt){return He(zt({...yt,ts:ie,channelId:Oe}))});return o(function(Tt){return ft.apply(this,arguments)},"onPublish")}(),at=o(()=>Object(X.b)(mt,At(Le(),{channelId:Oe,list:We,listColumnKey:ke,listColumnValue:nt,templateId:pt})),"useTemplateStateForModal");switch(pt){case c.a.WEEKLY_REMINDER:case c.a.STANDUP:case c.a.KUDOS:case c.a.LISTS_COLUMN_CHANGED:case c.a.ADD_RECORD_TO_LIST:case c.a.ADD_RECORD_TO_LIST_NO_NOTIFICATION:case c.a.FEEDBACK_FORM_FOR_LIST:case c.a.BUG_FORM_FOR_LIST:case c.a.HELP_FORM_FOR_LIST:return He(Object(f.a)({element:a.a.createElement(Re,{templateId:Ce.id,madlibsSentence:Ce.madLibDescription,workflowTitle:Ce.title,workflowIcon:Ce.previewImg,useTemplateState:at,onProvideFeedback:ye,onPublish:it,onPublishSuccess:Et,clogContext:st}),isStackable:!0,name:"weekly-reminders-modal"}));case c.a.PTO_REQUEST:return;default:return Object(l.a)(pt)}});return function(He,Le,Qe){return Dt.apply(this,arguments)}}());Gt.meta={name:"createThunk",key:"createThunkopenHardcodedExpressTemplateModal",description:"Open hard-coded express template modal"};const ln=Object(i.c)("Open express template modal",function(){var Dt=Object(n.coroutine)(function*(He,Le,Qe){let{templateId:Ce,onProvideFeedback:ye,ts:ie,channelId:Oe,list:We,listColumnKey:ke,listColumnValue:nt,clogContext:st}=Qe;if(nn(Ce)){const mt=r.d[Ce];He(Gt({template:mt,onProvideFeedback:ye,ts:ie,channelId:Oe,list:We,listColumnKey:ke,listColumnValue:nt,clogContext:st}))}else He(dn({templateId:Ce,onProvideFeedback:ye,ts:ie,channelId:Oe,clogContext:st}))});return function(He,Le,Qe){return Dt.apply(this,arguments)}}());ln.meta={name:"createThunk",key:"createThunkopenExpressTemplateModal",description:"Open express template modal"}},vnlm:function(w,s,e){"use strict";e.d(s,"b",function(){return Ye});var n=e("9oTK"),t=e("UXvI"),a=e("mXhK"),i=e("vLZU"),c=e("O86Y"),r=e("9Gfp"),f=e("s4P+"),l=e("G5NC"),p=e("Z7Ay"),h=e("usyg"),u=e("5NQM"),b=e("bJfW"),v=e("BCd4"),d=e("tHrB"),m=e("8g3S"),g=e("j77i"),O=e("OU2B"),E=e("NLR5"),y=e("lhZz"),C=e("7xYR");const I="immediately-persist-redux-state",j={};let M=o((fe,me)=>{j[fe]=me},"setPrevState"),T=o(fe=>j[fe],"getPrevState"),D=o((fe,me)=>{try{localStorage.setItem(fe,JSON.stringify(me))}catch(Se){return Se}return!0},"setItem");const S=o(fe=>{let me;try{const Se=localStorage.getItem(fe);Se||Object(f.b)().error(`Failed to read item from local storage for key ${fe}`),me=JSON.parse(Se)}catch{}return me},"getItem"),A=o(fe=>{try{localStorage.removeItem(fe)}catch{}},"removeItem");function P(fe){let{state:me={},reducerConfig:Se={},teamId:je,userId:Ue,keyPrefix:ve="",prevStatePassedIn:ge}=fe;const le=Object(c.d)(me);Object.keys(me).forEach(he=>{const Te=me[he],{persistenceEnabled:Re=!1,persistImmediately:Ve=!1,scope:Ee,beforeWriteTransform:Ae}=Object(i.u)(Se[he])||{};if(!Re||!Ve)return;const Ge=le&&Object(i.B)({scope:Ee})&&!Object(O.a)(le)?le:je,Ze=Object(i.r)({teamId:Ge,userId:Ue,key:`${ve}${he}`});let ze;if(ge){if(ze=ge[he],Te===ze)return}else{if(ze=T(Ze),Te===ze)return;M(Ze,Te)}const lt=Ae?Ae(Te,Ge):Te,tt=D(Ze,lt);if(tt!==!0&&(Object(E.a)({successState:!1,spanName:I}),Object(f.a)({teamId:je}).error("Cannot save state to LocalStorage",tt)),le){const Ot=[];Object(i.B)({scope:Ee})?C.getWorkspacesByOrg?Ot.push(...Object(C.getWorkspacesByOrg)(Object(y.getStateForClientStore)(),le)):Ot.push(je):Ot.push(le),Ot.forEach(Ct=>{const St=Object(i.r)({teamId:Ct,userId:Ue,key:`${ve}${he}`});A(St)})}})}o(P,"immediatelyPersistReduxState"),Object.defineProperties({setPrevState:M,getPrevState:T,setItem:D,getItem:S},{setPrevState:{get:()=>M,set:fe=>{M=fe}},getPrevState:{get:()=>T,set:fe=>{T=fe}},setItem:{get:()=>D,set:fe=>{D=fe}}});var G=e("IJpL"),V=e("Lgge"),k=e("fujP"),x=e("ifKl"),H=e("SQ0V"),R=e("iZ9S"),W=e("rIJ2"),U=e("PLUl"),_=e("69+H"),B=e("uUAy");const z=Object(W.a)(10),L="persist-redux-state";function $(fe){let{teamId:me,enterpriseId:Se,storeKey:je}=fe;const Ue=Object(U.a)(),ve=Ue.createMetricsTrace({label:"redux-persistence"});ve.count({name:"invalid-data-persisted"}).addTags({team_id:me,enterprise_id:Se,store:je}),Ue.reportTrace(ve)}o($,"beaconInvalidPersistedData");function Q(fe){let{reducerConfig:me={},state:Se,teamId:je,enterpriseId:Ue}=fe;const ve={[je]:{},[Ue||je]:{}};return Object.keys(Se).forEach(ge=>{const le=me[ge],{persistenceEnabled:he=!1,persistImmediately:Te=!1,scope:Re,beforeWriteTransform:Ve}=Object(i.u)(le)||{};if(!he||Te)return;const Ee=Ue&&Object(i.B)({scope:Re})&&!Object(O.a)(Ue)?Ue:je;ve[Ee][ge]=Ve?Ve(Se[ge],Ee):Se[ge]}),Ue&&Object(k.a)(ve[Ue])&&delete ve[Ue],ve}o(Q,"prepareStateForStorage");const K=Object(H.c)("Persists Redux state into IndexedDB",function(){var fe=Object(n.coroutine)(function*(me,Se){const je=Object(f.a)({getState:Se}),Ue=Se(),ve=Object(c.d)(Ue),ge=Object(c.h)(Ue);if(!Ue||!ge)throw je.error("Cannot persist state because missing information",{state:Ue,teamOrEnterpriseId:ge}),new Error("Cannot persist state");const le=Q({reducerConfig:Object(i.t)(ge),state:Ue,teamId:ge,enterpriseId:ve});return V.a.map(Object.keys(le),he=>{const Te=Object(R.e)();Te||je.error("Failed to get appName while persisting redux state");const Ve=`persist:${Object(i.E)({appName:Te,teamId:he,userId:Object(r.a)(Ue)})}`;return z&&setTimeout(()=>{const Ee=le[he];Object.entries(Ee).forEach(Ae=>{let[Ge,Ze]=Ae;const ze=!0,lt=`${i.l}${Ge}`;Object(_.a)(lt)&&(Object(_.b)(lt,Ze,{logErrorOnFailure:ze})||$({teamId:ge,enterpriseId:ve,storeKey:Ge}))})},5e3),Object(k.a)(le[he])?B.a.delete(Ve):B.a.set(Ve,le[he]).then(x.a)},{concurrency:2}).then(()=>{Object(E.a)({successState:!0,spanName:L}),je.info("PERSIST","Successfully persisted state")}).catch(he=>{Object(E.a)({successState:!1,spanName:L}),je.error("Could not persist Redux state",he)})});return function(me,Se){return fe.apply(this,arguments)}}());K.meta={name:"createThunk",key:"createThunkpersistReduxState",description:"Persists Redux state into IndexedDB"},K.propTypes=null;var Z=K;const ne={prepareStateForStorage:Q};var F=e("v6mS"),J=e("1G0c");const X=100,Y=25,ae={},ee={},q={},te={},de={};let se=o(fe=>{let me=de[fe];return me||(me=Object(t.a)(P,X),de[fe]=me),me},"getImmediatelyPersistStateThrottled"),re=!0,oe=!0,ce=0,ue=0;function Pe(fe){return fe&&te[fe]}o(Pe,"teamIsInitialized");function Ye(fe){let{teamId:me,store:Se}=fe;if(me&&!Pe(me)){const je=Se.getState(),Ue=Object(r.a)(je),ve=Object(i.t)(me),ge=Object(f.a)({teamId:me});Ke({store:Se,teamId:me,userId:Ue,reducerConfig:ve,logger:ge}),qe({teamId:me,store:Se,logger:ge}),te[me]=me}}o(Ye,"initPersistenceForTeam");function $e(fe){let{teamId:me,store:Se,logger:je}=fe;Object(u.b)(q[me]),ee[me]=!0,q[me]=Object(u.c)(()=>{Se.dispatch(Z()).then(()=>{ue=0,ce=0,ae[me]=performance.now()}).catch(Ue=>{je.warn(i.C,"Could not persist state from Redux",Ue),ue+=1,ce=Object(v.b)({attempts:ue})*1e3,ue>=Y&&(re=!1)}).finally(()=>{ee[me]=!1})})}o($e,"schedulePersist");function Ke(fe){let{store:me,teamId:Se,userId:je,reducerConfig:Ue,logger:ve}=fe;const ge="[DEBUG]";Object(p.c)(Se,"persist",{persist:Object(n.coroutine)(function*(){ve.debug(i.C,ge,"Storing redux state"),yield me.dispatch(Z()),ve.debug(i.C,ge,"Storing redux state to IndexedDB")}),get:Object(n.coroutine)(function*(){ve.debug(i.C,ge,"Getting stored state from IndexedDB");const le=yield Object(F.a)({teamId:Se,userId:je});return ve.debug(i.C,ge,"Got stored state",le),le}),clear:Object(n.coroutine)(function*(){if(!J.a){ve.warn("Attempting to call purgeModelAndClearObjectStore from a non-gantry context");return}ve.debug(i.C,ge,"Clearing stored state in IndexedDB"),yield Object(J.a)(Se),ve.debug(i.C,ge,"Cleared stored state in IndexedDB")})}),Object(p.c)(Se,"immediatePersist",{persist:function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:me.getState();ve.debug(i.C,ge,"Persisting to immediate persistence"),P({state:le,teamId:Se,userId:je,reducerConfig:Ue})},get:()=>(ve.debug(i.C,ge,"Getting immediately persisted state"),G.c&&Object(G.c)({teamId:Se,userId:je})),clear:()=>(ve.debug(i.C,ge,"Clearing immediately persisted state"),G.b&&Object(G.b)({teamId:Se,userId:je}))})}o(Ke,"initDebugger");function qe(fe){let{teamId:me,store:Se,logger:je}=fe;const Ue=Object(t.a)(()=>{je.info(i.C,"Persisting state to storage because we just lost network connectivity"),$e({teamId:me,store:Se,logger:je})},i.j,{leading:!0});window.addEventListener("offline",Ue),window.addEventListener("beforeunload",()=>{const ve=Object(g.f)("orderedTeamIds"),ge=Se.getState().isShared;if(Array.isArray(ve)&&ve.includes(me)===!1){const le=Object(g.f)("teams");if(!(ge&&Object(b.b)(me)&&ve.find(Te=>{var Re;const Ve=le==null||(Re=le[Te])===null||Re===void 0?void 0:Re.enterprise_id;return Ve&&Ve===me}))){je.info(i.C,"Not persisting state to storage even though the window is about to unload - teamId not found in sidebar");return}}ge||(Se.dispatch(Object(m.a)()),Object(h.c)()),je.info(i.C,"Persisting state to storage because the window is about to unload"),Se.dispatch(Z())})}o(qe,"initEventListeners");const ct=Object(a.b)("Persists data from Redux into localStorage and IndexedDB for rehydration later",(fe,me,Se)=>{const je=me(Se);if(!Object(l.a)()||Object(d.b)().isEnabled)return je;const Ue=fe.getState(),ve=Object(c.h)(Ue);if(!ve)return je;const ge=Object(r.a)(Ue),le=Object(i.t)(ve);if(!Ue||!le||!ve||!ge)return je;const he=Object(f.a)({teamId:ve});if(Pe(ve)&&re){const Te=ae[ve],Re=ee[ve],Ve=!Te||performance.now()-Te>=i.i+ce;!Re&&Ve&&$e({teamId:ve,store:fe,logger:he})}return oe&&se(ve)({state:Ue,teamId:ve,userId:ge,reducerConfig:le}),je});ct.meta={name:"createMiddleware",key:"createMiddlewarepersistenceMiddleware",description:"Persists data from Redux into localStorage and IndexedDB for rehydration later"};var Be=s.a=ct;const pe={immediatelyPersistStateThrottledByTeam:de,getImmediatelyPersistStateThrottled:se,lastPersistedTsByTeam:ae,currentlyAwaitingPersistByTeam:ee,initializedTeams:te,MAX_CONSECUTIVE_FAILURES:Y,persistenceEnabled:re,numberOfConsecutiveFailures:ue,additionalTimeToAwaitPersist:ce};Object(p.a)("persist",{toggle:()=>{re=!re,Object(f.b)().info(i.C,`Persistence is ${re?"ON":"OFF"}`)}}),Object(p.a)("immediatePersist",{toggle:()=>{oe=!oe,Object(f.b)().info(i.C,`Immediate persistence is ${oe?"ON":"OFF"}`)}}),Object.defineProperties(pe,{getImmediatelyPersistStateThrottled:{get:()=>se,set:fe=>{se=fe}},persistenceEnabled:{get:()=>re,set:fe=>{re=fe}},additionalTimeToAwaitPersist:{get:()=>ce,set:fe=>{ce=fe}},numberOfConsecutiveFailures:{get:()=>ue,set:fe=>{ue=fe}}})},vrU2:function(w,s,e){"use strict";e.d(s,"b",function(){return h}),e.d(s,"c",function(){return u}),e.d(s,"a",function(){return b});var n=e("u0LO"),t=e("Cyb+"),a=e("xwCZ"),i=e("28Q5"),c=e("5jHt"),r=e("C3vN"),f=e("ZKjC");const l=Object(f.b)((v,d)=>{var m;return v==null||(m=v.clipsNux)===null||m===void 0?void 0:m[d]});l.meta={name:"createSelector",key:"createSelectorgetClipsNuxOverride",description:(v,d)=>{var m;return v==null||(m=v.clipsNux)===null||m===void 0?void 0:m[d]}};const p=Object(f.b)((v,d)=>l(v,d)!==void 0);p.meta={name:"createSelector",key:"createSelectorhasClipsNuxOverride",description:(v,d)=>l(v,d)!==void 0};function h(v,d){let{channelId:m,component:g=n.c.ClipsNux}=d;if(m&&!Object(c.d)(v,m)||Object(i.f)(v))return!1;if(p(v,g))return l(v,g);if(!Object(t.f)(v,g,n.a.Click)&&!Object(t.f)(v,g,n.a.Impression)&&!Object(t.f)(v,g,n.a.Dismiss))return!1;var O;const E=(O=Object(t.a)(v,g,n.a.Click))!==null&&O!==void 0?O:0;var y;const C=(y=Object(t.a)(v,g,n.a.Dismiss))!==null&&y!==void 0?y:0,I=E>0||C>0,j=Date.now()/1e3,M=Object(t.b)(v,g,n.a.Impression)||j,T=j-M>=7*24*60*60;return!(I||T)}o(h,"shouldShowClipsNUX");function u(v,d){let{channelId:m,component:g=n.c.ClipsNux}=d;return h(v,{channelId:m,component:g})&&p(v,g)?l(v,g):!1}o(u,"shouldShowClipsNUXPill");function b(v,d){let{blurEnabled:m}=d;const g=Object(t.f)(v,n.c.ClipsNuxBlur,n.a.Click),O=Object(t.d)(v,n.c.ClipsNuxBlur);var E;const y=(E=Object(r.i)(Object(a.c)(v)))!==null&&E!==void 0?E:0;return g&&!O&&!m&&y<1642377600}o(b,"shouldShowClipsBlurNUX")},vycc:function(w,s,e){"use strict";e.d(s,"a",function(){return f}),e.d(s,"b",function(){return l}),e.d(s,"d",function(){return p}),e.d(s,"e",function(){return h}),e.d(s,"f",function(){return u}),e.d(s,"i",function(){return b}),e.d(s,"j",function(){return v}),e.d(s,"k",function(){return d}),e.d(s,"h",function(){return m}),e.d(s,"g",function(){return g}),e.d(s,"c",function(){return O});var n=e("7EGn"),t=e("gPPH"),a=e("bkBi"),i=e("nNoG"),c=e("Qm7m");const r=new i.b("workflow_builder"),f=o(()=>({id:Object(t.a)(),type:c.WEBHOOK,config:{url:"",variables:[],revoked_token:!1}}),"createWebhookTrigger"),l=o(function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"text",y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return{type:E,key:y,client_id:Object(t.a)()}},"createWebhookVariable"),p=o(E=>Object(n.a)(E,"config.url",""),"getUrlFromTrigger"),h=o(E=>Object(n.a)(E,"config.revoked_token",!1),"getUrlIsRevokedFromTrigger"),u=o(E=>Object(n.a)(E,"config.variables",[]),"getVariablesFromTrigger"),b=o((E,y)=>({...E,config:{...E.config,url:y}}),"updateTriggerSetUrl"),v=o((E,y)=>({...E,config:{...E.config,revoked_token:y}}),"updateTriggerSetUrlIsRevoked"),d=o((E,y)=>{const C=u(E),I=C.findIndex(M=>M.client_id===y.client_id),j=I>-1?Object(a.a)(I,y,C):[...C,y];return{...E,config:{...E.config,variables:j}}},"updateTriggerUpsertVariable"),m=o((E,y)=>{const I=u(E).filter(j=>j.client_id!==y);return{...E,config:{...E.config,variables:I}}},"updateTriggerRemoveVariableById"),g=o(()=>[{value:"text",label:r.t("Text")},{value:"user_email",label:r.t("Slack user email")},{value:"user_id",label:r.t("Slack user ID")}],"getWebhookVariableTypeOptions"),O=o(E=>{const y=(E||[]).reduce((C,I)=>{if(!I.key)return C;let j="";switch(I.type){case"user_email":j="example@example.com";break;case"user_id":j="U123456789";break;case"text":default:j=r.t("Example text");break}return{...C,[I.key]:j}},{});return Object.keys(y).length===0?null:y},"deriveExamplePayloadFromWebhookVariables")},w3JV:function(w,s,e){"use strict";e.d(s,"b",function(){return a}),e.d(s,"a",function(){return i});const n=5;var t;(function(c){c.TOP="top",c.BOTTOM="bottom"})(t||(t={}));function a(c){let{toolbarHeight:r,toolbarWidth:f,toolbarPositionData:l,toolbarPositioning:p=t.TOP,continuouslyCenterWithinEditor:h=!1}=c;const u={left:0,top:0};if(!l)return u;const{rect:b,editorWidth:v,containerWidthBound:d,containerLeftBound:m,containerTopBound:g,viewportWidth:O}=l;if(!b)return u;const E=b.left+m;let y=b.top+g-r-n;p===t.BOTTOM&&(y=b.bottom+g+n);let C=E;b.width>=f?b.width!==v&&(C=E+Math.abs((b.width-f)/2)):b.width<f&&E>v/2-v/4&&b.right<v/2+v/4?C=E-Math.abs((b.width-f)/2):b.width<f&&E>f&&(C=E-(f-b.width));const M=O-10-C-f;if(M<0&&(C-=M*-1),h){const S=(d-v)/2,A=Math.max(m+S-12,8),P=Math.min(m+S+v-f+12,O-f-8);b.width===v?C=E-12:C=E+(b.width-f)/2,C=Math.min(P,Math.max(C,A))}return{left:C,top:y}}o(a,"calculateToolbarPosition");function i(c){let{toolbarHeight:r,toolbarRect:f}=c;if(!f)return;const l=r+n;return f.top<l?t.BOTTOM:t.TOP}o(i,"calculateToolbarPositioning")},w5j6:function(w,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"c",function(){return r}),e.d(s,"a",function(){return p});var n=e("SQ0V"),t=e("s4P+"),a=e("dYsn"),i=e("SJuT");const c=Object(n.c)("Remove message eligible for unsending",h=>{h(Object(i.a)({messageEligibleForUnsending:null}))});c.meta={name:"createThunk",key:"createThunkremoveMessageEligibleForUnsending",description:"Remove message eligible for unsending"};const r=Object(n.c)("Update message eligible for unsending",(h,u,b)=>{let{channelId:v,threadTs:d,expiryTs:m}=b;h(Object(i.a)({messageEligibleForUnsending:{channelId:v,threadTs:d,expiryTs:m}}))});r.meta={name:"createThunk",key:"createThunkupdateMessageEligibleForUnsending",description:"Update message eligible for unsending"};const f=Object(n.c)("Add messages that were unsent while pending to redux",(h,u,b)=>{let{messagesToDelete:v}=b;h(Object(i.b)({messagesToDelete:v}))});f.meta={name:"createThunk",key:"createThunkupdateMessagesToDelete",description:"Add messages that were unsent while pending to redux"};const l=Object(n.c)("Add messages that were unsent while pending to redux",(h,u,b)=>{let{clientMsgId:v}=b;const d=u(),m=Object(a.c)(d);h(Object(i.b)({messagesToDelete:m.filter(g=>g!==v)}))});l.meta={name:"createThunk",key:"createThunkremoveDeletedMessageId",description:"Add messages that were unsent while pending to redux"};const p=Object(n.c)("Maybe add messages that were unsent while pending to redux",(h,u,b)=>{let{isPending:v,clientMsgId:d}=b;if(v&&d){const m=Object(t.a)({getState:u}),g=u(),O=Object(a.c)(g),E=d;O.includes(E)||(m.info("UNDO-SEND-MESSAGE-STORE",`Adding pending message to store with client message ID: ${d}`),O.push(d),h(f({messagesToDelete:O})))}});p.meta={name:"createThunk",key:"createThunkmaybeUpdateMessagesToDeleteWithMessage",description:"Maybe add messages that were unsent while pending to redux"}},wBgp:function(w,s,e){"use strict";e.d(s,"h",function(){return n}),e.d(s,"c",function(){return t}),e.d(s,"i",function(){return a}),e.d(s,"j",function(){return i}),e.d(s,"d",function(){return c}),e.d(s,"g",function(){return r}),e.d(s,"e",function(){return l}),e.d(s,"b",function(){return h}),e.d(s,"a",function(){return u}),e.d(s,"f",function(){return d});const n="text",t="channel",a="user",i="usergroup",c="date",r="message_data",f="message",l="emoji",p="id",h="name",u="email",b="id",v="name",d="file",m="text"},wFOH:function(w,s,e){"use strict";e.d(s,"a",function(){return b});var n=e("bPB8"),t=e("zmn3"),a=e("okoL"),i=e("1myf"),c=e("uXhx"),r=e("vPIQ"),f=e("6CnZ"),l=e("UIhb"),p=e("y8dB"),h=e("+l5E"),u=e("6Mvn");function b(v,d){const m=Object(f.j)(v,d);if(!m||!m.timestamps)return null;const g=Object(l.a)(v,d),O=Object(p.a)(Object(n.a)(Object(t.a)(m.timestamps,y=>g[y]))),E=Object(a.a)(Object(i.a)(Object(c.a)(O.messages,h.fb),"ts"),5);return Object(r.a)(E,y=>Object(u.a)(v,y))}o(b,"getLastMessageInChannel")},wKGu:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("/MKj"),t=e("5IZy");function a(){const{getState:i}=Object(n.useStore)();return Object(t.a)({getState:i})}o(a,"useClogger")},wNt4:function(w,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("9oTK"),t=e.n(n),a=e("q1tI"),i=e.n(a),c=e("SQ0V"),r=e("s4P+"),f=e("j/ar"),l=e("LaOi"),p=e("3l96"),h=e("W9RG"),u=e("yHsb"),b=e("+HIp");const v=Object(c.c)("Handle a user clicking on an identity link",function(){var d=Object(n.coroutine)(function*(m,g,O){let{url:E,channelId:y}=O;const C=Object(r.a)({getState:g}),I=Object(f.c)(g(),E),j=Object(f.d)(g(),E),M=Object(h.g)(g());if(!Object(f.e)(g(),E)){window.open(E,"_blank","noopener,noreferrer");return}if(!I){C.error(`error getting appId for domain: ${j}`,E),window.open(E,"_blank","noopener,noreferrer");return}const T=Object(b.b)(g(),I);if(!M||T){window.open(E,"_blank","noopener,noreferrer");return}if(Object(b.a)(g(),I)){m(Object(u.b)({appId:I,url:E,channelId:y,domain:j}));return}if(Object(b.c)(g(),I)===null){m(Object(p.a)({element:i.a.createElement(l.a,{appId:I,domain:j,url:E,channelId:y}),isStackable:!0}));return}window.open(E,"_blank","noopener,noreferrer")});return function(m,g,O){return d.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkhandleIdentityTransferLinkClick",description:"Handle a user clicking on an identity link"}},wQZu:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("q1tI"),t=e.n(n);const a=t.a.createContext({})},wRRE:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("C3vN"),c=e("Fn/R"),r=e("ehcD"),f=e("ny0b"),l=e("xwCZ"),p=e("LvvF"),h=e("n3tL"),u=e("BHdc"),b=e("SNS2"),v=e("n3y5");const d=24,m="c-base_icon_image_stacked__image c-base_icon_image_stacked__image--top",g="c-base_icon_image_stacked__svg",O={primaryImage:h.default.string,secondaryImage:h.default.string,primaryIsHiddenUser:h.default.bool.isRequired,secondaryIsHiddenUser:h.default.bool.isRequired,className:h.default.string,ariaHidden:h.default.bool},E={primaryImage:void 0,secondaryImage:void 0,className:null,ariaHidden:!1};function y(S){let{primaryImage:A,secondaryImage:P,primaryIsHiddenUser:N,secondaryIsHiddenUser:G,className:V,ariaHidden:k}=S,x;return P?x=t.a.createElement("image",{clipPath:"url(#c-base_icon_image_stacked__clip)",width:d,height:d,xlinkHref:P,"data-qa":"image-secondary"}):x=t.a.createElement("rect",{className:"c-base_icon_image_stacked__image--missing",clipPath:"url(#c-base_icon_image_stacked__clip)",width:d,height:d,"data-qa":"image-secondary"}),t.a.createElement("div",{"aria-hidden":k,className:Object(u.default)("c-base_icon_image_stacked",V)},G?t.a.createElement(b.a,{"data-qa":"image-secondary",className:g,size:d}):t.a.createElement("svg",{className:g,height:d,width:d,"aria-hidden":"true"},t.a.createElement("clipPath",{id:"c-base_icon_image_stacked__clip"},t.a.createElement("path",{d:"M0,0 L28,0 L28,10 L16,10 C13,10 10,13 10,16 L10,28 L0,28 L0,0 Z"})),x,t.a.createElement("path",{className:"c-base_icon_image_stacked__svg_stroke",d:"M10,23.5 L5,23.5 C2,23.5 0.5,22 0.5,20 L0.5,3.5 C0.5,2 2,0.5 3.5,0.5 L20.5,0.5 C22,0.5 23.5,2 23.5,3.5 L23.5,10"})),N?t.a.createElement(b.a,{"data-qa":"image-primary",className:m,size:d}):t.a.createElement(v.a,{image:A,classes:m,size:d,ariaHidden:!0,"data-qa":"image-primary"}))}o(y,"ImageStackedBaseIcon"),y.displayName="ImageStackedBaseIcon",y.propTypes=O,y.defaultProps=E;var C=y;function I(S){return S?Object(f.a)({avatarHash:Object(i.f)(S),memberId:S.id,size:d,teamOrEnterpriseId:Object(c.a)(S)?Object(r.d)(S):Object(r.e)(S)}).imageUrl:null}o(I,"getMemberImage");function j(S){let{className:A,primaryMember:P,primaryIsHiddenUser:N,secondaryMember:G,secondaryIsHiddenUser:V}=S;const k=P&&I(P),x=G&&I(G);return t.a.createElement(C,{className:A,primaryImage:k,secondaryImage:x,primaryIsHiddenUser:N??!1,secondaryIsHiddenUser:V??!1})}o(j,"FaceStack"),j.displayName="FaceStack";function M(S,A){let{primaryMemberId:P,secondaryMemberId:N}=A;return{primaryMember:Object(l.g)(S,P),secondaryMember:Object(l.g)(S,N),primaryIsHiddenUser:Object(p.b)(S,P),secondaryIsHiddenUser:Object(p.b)(S,N)}}o(M,"mapStateToProps");const T=Object(a.a)(M)(j);var D=s.a=T},wTse:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n);s.a=t.a.createContext({})},wdL8:function(w,s,e){"use strict";e.d(s,"b",function(){return u}),e.d(s,"k",function(){return d}),e.d(s,"e",function(){return m}),e.d(s,"f",function(){return g}),e.d(s,"j",function(){return O}),e.d(s,"i",function(){return C}),e.d(s,"h",function(){return I}),e.d(s,"l",function(){return j}),e.d(s,"m",function(){return M}),e.d(s,"a",function(){return f});var n=e("bkBi"),t=e("M39c"),a=e("p8wN");e.d(s,"d",function(){return a.d}),e.d(s,"c",function(){return a.a}),e.d(s,"g",function(){return a.k});var i=e("T4G+"),c=e("6uJ7");const r="title",f="interactivity",l="description",p="fields",h="on_submit_function_config",u={[r]:r,[f]:f,[l]:l,[p]:p,[h]:h},b=o((T,D)=>{var S,A;return(S=Object(t.d)(T))===null||S===void 0||(A=S[D])===null||A===void 0?void 0:A.value},"getConfiguredInputValueByName"),v=o((T,D,S)=>{var A;const P=(A=Object(t.f)(T))===null||A===void 0?void 0:A.find(N=>N.name===D);return P?Object(t.l)(T,P,S):T},"setConfiguredInputValueByName"),d=o((T,D)=>v(T,f,D),"setInteractivityPointer"),m=o(T=>{var D;return(D=b(T,r))!==null&&D!==void 0?D:""},"getDialogTitle"),g=o(T=>{var D;const S=(D=Object(t.f)(T))===null||D===void 0?void 0:D.find(P=>{let{name:N}=P;return N===r});var A;return(A=S==null?void 0:S.maxLength)!==null&&A!==void 0?A:i.b},"getDialogTitleMaxLength"),O=o((T,D)=>v(T,r,D),"setDialogTitle"),E=o((T,D)=>v(T,l,D),"setDialogDescription");var y;const C=o(T=>(y=b(T,p))!==null&&y!==void 0?y:[],"getQuestions"),I=o(T=>C(T).length,"getNumberOfQuestions"),j=o((T,D)=>v(D,p,T),"setQuestions"),M=o((T,D,S)=>{const A=C(D),P=Object(a.q)(T,A);if(P!==null){const N=A[P],G=S(N),V=Object(n.a)(P,G,A);return j(V,D)}return D},"updateSegmentSetQuestion")},wf34:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("nNoG"),c=e("v5z3"),r=e("ktUG"),f=e("Trx9"),l=e("zonX"),p=e("rZ8V"),h=e("zxER"),u=e("RVJP"),b=e("vSLz");const v=new i.b("setup_page"),d=o(g=>{let{tip:O,isSPFNonWorkWorkspace:E}=g;const y={[c.f.AtMention]:E?v.rt("<strong>Get someone\u2019s attention</strong>, Type \u201C@\u201D and a name, and they\u2019ll get a notification about your message.",{fallbackHash:"1007ed272ca74dd3d9d88ddc91cf582be3dcc88c"}):v.rt("<strong>Get a coworker\u2019s attention</strong>, Type \u201C@\u201D and a name, and they\u2019ll get a notification about your message.",{fallbackHash:"0eae88de2aca1dc92c184ca6f19ece9ab56f576f"}),[c.f.Reacji]:v.rt("<strong>Give a quick reaction.</strong> Like \u2795 for something you agree with, or \u2705 to approve an idea.")},C=Object(h.c)(p.m),I=Object(h.c)(M=>Object(u.d)(M,"newxp_9937")==="treatment");Object(l.a)(O,c.g.Explainer);const j=Object(n.useMemo)(()=>({eventId:r.EventId.NEWXP_TEAM_CREATE,uiStep:r.UiStep.PROG_DISC_TIP,stepVariant:O,elementName:c.g.Explainer,clogImpression:!0}),[O]);return C&&I?t.a.createElement(b.a,{autoClogProps:j,className:Object(a.default)(`p-setup_prog_disc_message_menu_explainer_tip--${O}`,{"p-setup_prog_disc_message_menu_explainer_tip--ia4":C}),"data-qa":`explainer_tip--${O}`},y[O]):t.a.createElement(f.a,{eventId:r.EventId.NEWXP_TEAM_CREATE,uiStep:r.UiStep.PROG_DISC_TIP,stepVariant:O,elementName:c.g.Explainer,clogImpression:!0},t.a.createElement("div",{className:Object(a.default)("p-setup_prog_disc_message_menu_explainer_tip",`p-setup_prog_disc_message_menu_explainer_tip--${O}`,{"p-setup_prog_disc_message_menu_explainer_tip--ia4":C}),"data-qa":`explainer_tip--${O}`},y[O]))},"ProgressiveDisclosureMessageMenuExplainerTip");d.displayName="ProgressiveDisclosureMessageMenuExplainerTip";var m=s.a=d},wmqn:function(w,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Update the array of highlighted sections");t.meta={name:"createAction",key:"createActionupdateHighlightedSections",description:"Update the array of highlighted sections"};const a=Object(n.a)("Mark all sections seen and not count towards the pill");a.meta={name:"createAction",key:"createActionmarkAllSectionsSeen",description:"Mark all sections seen and not count towards the pill"}},wnwS:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("yH2S"),c=e("NV6F");const r=o(f=>{let{children:l,style:p}=f;if(!l)return null;const{bold:h,italic:u,strike:b,code:v,clientHighlight:d,subjectLine:m,noLeftCap:g,noRightCap:O}=p||{},{workflowSuggestionHighlight:E,workflowSuggestionKey:y}=p||{};let C=l;if(b&&(C=t.a.createElement("s",{"data-stringify-type":"strike"},C)),u&&(C=t.a.createElement("i",{"data-stringify-type":"italic"},C)),h&&!m&&(C=t.a.createElement("b",{"data-stringify-type":"bold"},C)),d&&(C=t.a.createElement("span",{className:"c-mrkdwn__highlight"},C)),E){const I=Object(c.k)();C=t.a.createElement(I,{workflowSuggestionKey:y},C)}if(v){const I=Object(a.default)("c-mrkdwn__code",{"c-mrkdwn__code--no_left_cap":g,"c-mrkdwn__code--no_right_cap":O});C=t.a.createElement(i.a,{blockType:"code"},t.a.createElement(i.b,null,t.a.createElement("code",{"data-stringify-type":"code",className:I},C)))}return t.a.createElement(t.a.Fragment,null,C)},"WithFormattingStyles");r.displayName="WithFormattingStyles",s.a=r},wr1M:function(w,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"e",function(){return i}),e.d(s,"d",function(){return c}),e.d(s,"c",function(){return r});var n=e("jmOL");const t={"*":"bold",_:"italic","`":"code","~":"strike",">":"blockquote","\uFF0A":"bold","\uFF40":"code","\uFF3F":"italic","\uFF1E":"blockquote"},a={"*":n.c,_:n.e,"`":n.d,"~":n.f,"\uFF0A":n.g,"\uFF40":n.h,"\uFF3F":n.a},i=/^>>> ?/m,c=/^\uFF1E\uFF1E\uFF1E ?/m,r=/^[>\uFF1E]($| |(?=[^_]))/},wvSc:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),i=e("jWAO"),c=e("9ADk"),r=e("dq9a"),f=e("nNoG");const l=new f.b("form_inputs"),p=o(u=>{let{children:b,className:v,errorId:d,errorLevel:m=i.b.error,errorText:g,errorType:O=i.c.nestedBox,hintText:E,hintId:y,isDisabled:C=!1,isRequired:I=!1,legendId:j,legendText:M,optional:T=!1}=u;const D=Object(a.default)("c-checkboxgroup",{"c-checkboxgroup--with_error":!!g,"c-checkboxgroup--with_hint":!!E},v),S=o(()=>{const k=l.t("(optional)",{fallbackHash:"b16c7ac6faff07d7e255da685e52bd66d3bf1575",fallbackHashNs:"app_dialog"});return T?t.a.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},k):null},"renderOptionalTextMaybe");S.displayName="renderOptionalTextMaybe";const A=!j&&!d?void 0:[j,d].join(" ").trim(),P=M?t.a.createElement(r.a,{id:j},M,S()):null,N=E?t.a.createElement(c.a,{id:y},E):null,G=g?t.a.createElement(i.d,{id:d,level:m,type:O,className:"c-alert--error margin_bottom_100"},g):null,V=t.a.createElement("fieldset",{"aria-describedby":y,"aria-invalid":g?"true":"false","aria-labelledby":A,"aria-required":I,className:D,disabled:C},P,b);return t.a.createElement("div",null,V,G,N)},"Checkboxgroup");p.displayName="Checkboxgroup",p.displayName="Checkboxgroup";var h=s.a=p},wyn0:function(w,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("ZTSm");class t{hasDuplicates(i){const c=i?this.channelNameCounts.get(i):void 0;return c?c>1:!1}constructor(i){this.channelNameCounts=i.filter(n.a).reduce((c,r)=>{var f;return c.set(r,((f=c.get(r))!==null&&f!==void 0?f:0)+1),c},new Map)}}o(t,"ChannelNameCounter")},x0Hm:function(w,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("SQ0V"),t=e("9zMb"),a=e("m5HF"),i=e("T1zM");const c=Object(n.c)("Set the channel sidebar theme to a built-in theme",(r,f,l)=>{let{themeName:p}=l;const h=Object(a.a)(f(),p);r(Object(i.e)({sidebar_theme:p,sidebar_theme_custom_values:Object(t.j)(h)}))});c.meta={name:"createThunk",key:"createThunksetSidebarBuiltinTheme",description:"Set the channel sidebar theme to a built-in theme"}},x3iO:function(w,s,e){"use strict";var n=e("bPB8"),t=e("zmn3"),a=e("G4qV"),i=e("dmdh"),c=e("BBdC"),r=e("vUys"),f=e("4gSQ"),l=e("0UjO"),p=e("AyK6");const h=[],u=Object(a.a)([(b,v)=>{let{draftId:d}=v;return Object(r.a)(b,d)},(b,v)=>Object(p.a)(b),(b,v)=>Object(i.b)(b),(b,v)=>Object(l.a)(b),(b,v)=>{let{draft:d}=v;const m=Object(c.a)(d);return m==null||m.forEach(g=>Object(i.e)(b,g,!0)),m}],function(b,v,d,m){let g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];const O=Object(n.a)(Object(t.a)(b,j=>v==null?void 0:v[j]));var E;const I=[...Object(n.a)(Object(t.a)(g,j=>Object(f.b)((E=d==null?void 0:d[j])!==null&&E!==void 0?E:{id:j,isUnknown:!0},m[j]))).filter(j=>!O.find(M=>M.persistedFileId===j.persistedFileId)),...O];return I.length===0?h:I},{memoizeOptions:{maxSize:2}});s.a=u},x5Qe:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("gSGL"),t=e("P1FA");function a(i){return Object(n.a)(i)?Object(t.a)((i||"").trim().toLowerCase()):""}o(a,"normalize")},xAZW:function(w,s,e){"use strict";e.d(s,"a",function(){return ct});var n=e("mM05"),t=e.n(n),a=e("gSGL"),i=e("m8R6"),c=e("fujP"),r=e("IzLi"),f=e("8QLk"),l=e("TQ9f"),p=e("htTJ"),h=e("Z44y"),u=e("5SjC"),b=e("tfz1"),v=e("rneN");const d="block-formatter";var m=e("s4P+"),g=e("4WY+"),O=e("eHe6"),E=e("oonp"),y;(function(Be){Be.BulletList="bullet-list",Be.OrderedList="ordered-list",Be.CodeBlock="code-block",Be.BlockQuote="blockquote"})(y||(y={}));function C(Be){return Be===y.BulletList||Be===y.OrderedList||Be===y.CodeBlock||Be===y.BlockQuote}o(C,"stringIsBlockFormat");const I={[y.OrderedList]:g.c,[y.BulletList]:g.d,[y.CodeBlock]:O.a,[y.BlockQuote]:E.b};function j(Be){const pe=[y.BulletList,y.OrderedList,y.CodeBlock,y.BlockQuote],fe={[y.BulletList]:!1,[y.OrderedList]:!1,[y.CodeBlock]:!1,[y.BlockQuote]:!1};return pe.forEach(me=>{const Se=I[me];Se(Be)&&(fe[me]=!0)}),fe}o(j,"getBlockFormatsOfLine");var M=e("CpTu"),T=e("yIs4"),D=e("OZf9"),S=e("KCKY"),A=e("RQuH"),P=e("c8Bs"),N=e("kiyg");function G(Be,pe,fe){const me=I[fe],Se=Object(N.a)(Be,pe);return!Object(P.a)(Se,Ue=>me(Ue))}o(G,"shouldAddBlockFormattingToRange");function V(Be){var pe;const fe=Be==null||(pe=Be.cache)===null||pe===void 0?void 0:pe.length;return!fe||!Object(T.a)(fe)?null:fe}o(V,"getLineLength");function k(Be,pe){if(!Be||!pe)return null;const fe=Be.getIndex(pe),me=V(pe);return!Object(T.a)(fe)||!Object(T.a)(me)||fe<-1||me<-1?null:{index:fe,length:me}}o(k,"getLineRange");function x(Be,pe){const fe=j(pe),me=fe[y.BlockQuote],Se=fe[y.OrderedList]||fe[y.BulletList],je=fe[y.CodeBlock];if(me)return;const Ue=k(Be,pe);if(!Ue){Object(m.b)().error("setBlockQuoteOnLine: cannont determine range for line");return}if(Se||je){Be.formatLine(Ue==null?void 0:Ue.index,Ue==null?void 0:Ue.length,"border","1");return}Be.formatLine(Ue==null?void 0:Ue.index,Ue==null?void 0:Ue.length,"blockquote",!0)}o(x,"setBlockQuoteOnLine");function H(Be,pe){var fe;const me=j(pe),Se=me[y.BlockQuote],je=me[y.OrderedList]||me[y.BulletList],Ue=me[y.CodeBlock];if(!Se)return;const ve=k(Be,pe);if(!ve){Object(m.b)().error("removeBlockQuoteOnLine: cannont determine range for line");return}if(je||Ue){Be.formatLine(ve==null?void 0:ve.index,ve==null?void 0:ve.length,"border","0");return}Be.formatLine(ve==null?void 0:ve.index,ve==null?void 0:ve.length,"blockquote",!1),!((fe=Be.getFormat(ve))===null||fe===void 0)&&fe.border&&Be.formatLine(ve==null?void 0:ve.index,ve==null?void 0:ve.length,"border","0")}o(H,"removeBlockQuoteOnLine");function R(Be,pe,fe){fe?x(Be,pe):H(Be,pe)}o(R,"toggleBlockQuoteOnLine");function W(Be,pe,fe){fe?U(Be,pe):_(Be,pe)}o(W,"toggleCodeBlockOnLine");function U(Be,pe){const fe=j(pe),me=fe[y.CodeBlock],Se=fe[y.OrderedList]||fe[y.BulletList],je=fe[y.BlockQuote];if(me)return;const Ue=k(Be,pe);if(!Ue){Object(m.b)().error("setCodeBlockOnLine: cannont determine range for line");return}if(je&&!Se){Be.formatLine(Ue.index,Ue.length,{blockquote:!1,border:"1","code-block":!0});return}const ve=Be.getFormat(Ue),ge=(ve==null?void 0:ve.border)>0?ve.border:void 0;Be.formatLine(Ue.index,Ue.length,{"code-block":!0,border:ge})}o(U,"setCodeBlockOnLine");function _(Be,pe){const fe=j(pe),me=fe[y.CodeBlock],Se=fe[y.BlockQuote];if(!me)return;const je=k(Be,pe);if(!je){Object(m.b)().error("removeCodeBlockOnLine: cannont determine range for line");return}if(Se){Be.formatLine(je.index,je.length,{border:"0",blockquote:!0});return}Be.formatLine(je==null?void 0:je.index,je==null?void 0:je.length,"code-block",!1)}o(_,"removeCodeBlockOnLine");function B(Be,pe){const fe=j(pe),me=fe[y.OrderedList],Se=fe[y.BulletList],je=fe[y.CodeBlock],Ue=fe[y.BlockQuote];if(me)return;const ve=k(Be,pe);if(!ve){Object(m.b)().error("setOrderedListOnLine: cannont determine range for line");return}if(Ue&&!Se&&!je){Be.formatLine(ve.index,ve.length,{blockquote:!1,border:"1",list:"ordered"});return}const ge=Be.getFormat(ve),le=(ge==null?void 0:ge.border)>0?ge.border:void 0;Be.formatLine(ve.index,ve.length,{list:"ordered",border:le})}o(B,"setOrderedListOnLine");function z(Be,pe){const fe=j(pe),me=fe[y.OrderedList],Se=fe[y.BlockQuote];if(!me)return;const je=k(Be,pe);if(!je){Object(m.b)().error("removeOrderedListOnLine: cannont determine range for line");return}if(Se){Be.formatLine(je.index,je.length,{border:0,indent:0,blockquote:!0});return}Be.formatLine(je==null?void 0:je.index,je==null?void 0:je.length,"list",!1)}o(z,"removeOrderedListOnLine");function L(Be,pe,fe){fe?B(Be,pe):z(Be,pe)}o(L,"toggleOrderedListOnLine");function $(Be,pe){const fe=j(pe),me=fe[y.BulletList],Se=fe[y.OrderedList],je=fe[y.CodeBlock],Ue=fe[y.BlockQuote];if(me)return;const ve=k(Be,pe);if(!ve){Object(m.b)().error("setUnorderedListOnLine: cannont determine range for line");return}const ge=Be.getFormat(ve);if(Ue&&!Se&&!je){Be.formatLine(ve.index,ve.length,{blockquote:!1,border:"1",list:"bullet"});return}const le=(ge==null?void 0:ge.border)>0?ge.border:void 0;Be.formatLine(ve.index,ve.length,{list:"bullet",border:le})}o($,"setUnorderedListOnLine");function Q(Be,pe){const fe=j(pe),me=fe[y.BulletList],Se=fe[y.BlockQuote];if(!me)return;const je=k(Be,pe);if(!je){Object(m.b)().error("removeUnorderedListOnLine: cannot determine range for line");return}if(Se){Be.formatLine(je.index,je.length,{border:0,indent:0,blockquote:!0});return}Be.formatLine(je==null?void 0:je.index,je==null?void 0:je.length,"list",!1)}o(Q,"removeUnorderedListOnLine");function K(Be,pe,fe){fe?$(Be,pe):Q(Be,pe)}o(K,"toggleUnorderedListOnLine");function Z(Be,pe,fe,me){me===y.BlockQuote?R(Be,pe,fe):me===y.OrderedList?L(Be,pe,fe):me===y.BulletList?K(Be,pe,fe):me===y.CodeBlock&&W(Be,pe,fe)}o(Z,"toggleBlockFormatOnLine");function ne(Be,pe,fe,me){Object(N.a)(Be,pe).forEach(je=>{Z(Be,je,fe,me)})}o(ne,"toggleBlockFormatOverRange");let F=o(class{shouldAddOrRemoveBlockFormattingToRange(){return G(this.quill,this.selectionRange,this.selfBlockFormat)}addLineFormatActionsForSelection(){this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex,this.endOfSelectionLineIndex,()=>!0,pe=>{let{currentLineIndex:fe}=pe;this.addFormatAction(fe,this.selfBlockFormat,this.isAddingFormatting)})}setAllLineFormattingActions(){this.addLineFormatActionsForSelection(),this.logger.debug("block-formatter -- added lineFormatActions",this.formatActions)}formatSelection(){return this.setAllLineFormattingActions(),Object(D.a)(this.formatActions,(pe,fe)=>{if(!pe||Object(c.a)(pe.orderedFormatActions))return;const me=k(this.quill,this.lines[fe]),Se=[];pe.orderedFormatActions.forEach((je,Ue)=>{Ue===0?Z(this.quill,this.lines[fe],je.isAdding,je.blockFormat):(Se[Ue]||(Se[Ue]=[]),Se[Ue].push(()=>{ne(this.quill,me,je.isAdding,je.blockFormat)}))}),Se.forEach(je=>{je!=null&&je.length&&(je==null?void 0:je.length)>0&&setTimeout(()=>Object(S.a)(je)(),0)})}),{addedFormatting:this.isAddingFormatting}}getLineIndexOfSelectionStartAndEnd(){const pe=this.selectionRange.index,fe=this.selectionRange.index+this.selectionRange.length,me={};this.lines.forEach((ve,ge)=>{const le=k(this.quill,ve),he=le.index,Te=le.index+le.length;Object(A.a)(pe,he,Te)&&(me.selectionStartLineIndex=ge),Object(A.a)(fe,he,Te)&&(me.selectionEndLineIndex=ge)});const Se=Object(T.a)(me==null?void 0:me.selectionStartLineIndex)&&Object(T.a)(me.selectionEndLineIndex),je=(me==null?void 0:me.selectionStartLineIndex)<=(me==null?void 0:me.selectionEndLineIndex);return Se&&je||this.logger.error("getLineIndexOfSelectionStartAndEnd invalid return value",me),me}forLineFromIndexToIndexWhile(pe,fe,me,Se){if(pe<0||fe>=this.lines.length)return;const je=o(he=>pe<fe?he+1:he-1,"getNextIndex"),Ue=o(he=>pe<fe?he-1:he+1,"getPreviousIndex"),ve=o(he=>{const Te=he,Ve={currentLine:this.lines[he],currentLineIndex:Te},Ee=Ue(he);Object(A.a)(Ee,0,this.lines.length)&&(Ve.previousLineIndex=Ee,Ve.previousLine=this.lines[Ee]);const Ae=je(he);return Object(A.a)(Ae,0,this.lines.length)&&(Ve.nextLineIndex=Ae,Ve.nextLine=this.lines[Ae]),Ve},"getLineContextFromIndex");if(pe===fe){me({currentLine:this.lines[pe],currentLineIndex:pe})&&Se(ve(pe));return}const ge=o(he=>pe<fe?he<=fe:he>=fe,"moreLinesToIterateOver");let le=pe;for(;ge(le)&&!(le<0||le>=this.lines.length);){const he=ve(le);if(!me(he))break;Se(he),le=je(le)}}addFormatAction(pe,fe,me){this.formatActions[pe].formatActionsMap[fe]!==me&&(this.formatActions[pe].formatActionsMap[fe]=me,this.formatActions[pe].orderedFormatActions.push({isAdding:me,blockFormat:fe}))}constructor(pe,fe){this.formatActions=[],this.logger=Object(m.b)({label:d}),this.quill=pe,this.selectionRange=pe.getSelection(),this.lines=pe.getLines(),this.lines.forEach((Se,je)=>{this.formatActions[je]={orderedFormatActions:[],formatActionsMap:{}}}),this.selfBlockFormat=fe,this.selfFormatIdentifier=I[this.selfBlockFormat];const me=this.getLineIndexOfSelectionStartAndEnd();this.startOfSelectionLineIndex=me.selectionStartLineIndex,this.endOfSelectionLineIndex=me.selectionEndLineIndex,this.isAddingFormatting=this.shouldAddOrRemoveBlockFormattingToRange()}},"BlockFormatter"),J=o(class extends F{addLineFormatActionsThatBleedInFromAboveAndBelow(){const pe=o(me=>{let{currentLine:Se,currentLineIndex:je}=me;return je>=this.startOfSelectionLineIndex&&je<=this.endOfSelectionLineIndex||this.selfFormatIdentifier(Se)},"whileFunction"),fe=o(me=>{let{currentLineIndex:Se,previousLineIndex:je}=me;this.lineHasGreedyWhenAddingFormatOrPendingGreedyFormat(je)&&this.greedyFormatWhenAdding&&this.addFormatAction(Se,this.greedyFormatWhenAdding,!0)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,this.lines.length-1,pe,fe),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,0,pe,fe)}setAllLineFormattingActions(){this.addLineFormatActionsThatBleedInFromAboveAndBelow(),this.logger.debug("non-greedy-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}lineHasGreedyWhenAddingFormat(pe){return!pe||!this.greedyFormatWhenAdding?!1:I[this.greedyFormatWhenAdding](pe)}lineHasGreedyWhenAddingFormatOrPendingGreedyFormat(pe){return!Object(T.a)(pe)||!this.greedyFormatWhenAdding?!1:this.lineHasGreedyWhenAddingFormat(this.lines[pe])||!!this.formatActions[pe].formatActionsMap[this.greedyFormatWhenAdding]}constructor(pe,fe,me){super(pe,fe),this.greedyFormatWhenAdding=me===y.BlockQuote?me:void 0}},"NonGreedyBlockFormatter"),X=o(class extends J{removeListAboveAndBelowIfSelectionHasPreservedFormat(){const pe=o(me=>{let{currentLine:Se}=me;return this.selfFormatIdentifier(Se)&&this.lineHasPreservedFormatForList(Se)},"whileFunction"),fe=o(me=>{let{currentLineIndex:Se}=me;this.addFormatAction(Se,this.selfBlockFormat,!1)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,0,pe,fe),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,this.lines.length-1,pe,fe)}addListAboveAndBelowIfSelectionHasPreservedFormat(){const pe=o(me=>{let{currentLine:Se}=me;return this.lineOnlyHasPreservedFormatForList(Se)},"whileFunction"),fe=o(me=>{let{currentLineIndex:Se}=me;this.addFormatAction(Se,this.selfBlockFormat,!0)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,0,pe,fe),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,this.lines.length-1,pe,fe)}setAllLineFormattingActions(){this.isAddingFormatting?this.addListAboveAndBelowIfSelectionHasPreservedFormat():this.removeListAboveAndBelowIfSelectionHasPreservedFormat(),this.logger.debug("list-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}lineHasPreservedFormatForList(pe){const fe=j(pe),me=this.listWideFormatToPreserve;return!!fe[me]}lineOnlyHasPreservedFormatForList(pe){const fe=j(pe),me=this.listWideFormatToPreserve,Se=!!fe[me];if(!Se)return!1;const je=Object(M.a)(Object.keys(fe),Ue=>Ue!==me&&fe[Ue]);return Se&&!je}constructor(pe,fe,me){super(pe,fe,me),this.listWideFormatToPreserve=y.BlockQuote}},"ListBlockFormatter");class Y extends X{constructor(pe){super(pe,y.BulletList,y.BlockQuote)}}o(Y,"list_formatters_BulletListFormatter");class ae extends X{constructor(pe){super(pe,y.OrderedList,y.BlockQuote)}}o(ae,"list_formatters_OrderedListFormatter");class ee extends J{constructor(pe){super(pe,y.CodeBlock,y.BlockQuote)}}o(ee,"code_block_formatter_CodeBlockFormatter");let q=o(class extends F{addLineFormatActionsThatBleedUpFromSelection(){if(this.startOfSelectionLineIndex===0)return;const pe=this.lines[this.startOfSelectionLineIndex],fe=this.getYieldingFormatOfLine(pe);if(!fe)return;const Se=I[fe],je=o(ve=>{let{currentLine:ge}=ve;return Se(ge)},"whileFunctionUp"),Ue=o(ve=>{let{currentLineIndex:ge}=ve;this.addFormatAction(ge,this.selfBlockFormat,this.isAddingFormatting)},"lineCallback");this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex,0,je,Ue)}addLineFormatActionsThatBleedDownFromSelection(){if(this.endOfSelectionLineIndex===this.lines.length-1)return;const pe=this.lines[this.endOfSelectionLineIndex],fe=this.getYieldingFormatOfLine(pe);if(!fe)return;const Se=I[fe],je=o(ve=>{let{currentLine:ge}=ve;return Se(ge)},"whileFunctionDown"),Ue=o(ve=>{let{currentLineIndex:ge}=ve;this.addFormatAction(ge,this.selfBlockFormat,this.isAddingFormatting)},"lineCallback");this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex,this.lines.length-1,je,Ue)}setAllLineFormattingActions(){this.addLineFormatActionsThatBleedUpFromSelection(),this.addLineFormatActionsThatBleedDownFromSelection(),this.logger.debug("greedy-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}getYieldingFormatOfLine(pe){const fe=j(pe),me=this.isAddingFormatting?this.yieldingAddingFormats:this.yieldingRemovingFormats;let Se;for(const je of me)if(fe[je]){Se=je;break}return Se}constructor(pe,fe,me=[],Se=[]){super(pe,fe),this.yieldingAddingFormats=me,this.yieldingRemovingFormats=Se}},"GreedyBlockFormatter");const te=y.BlockQuote,de=[y.OrderedList,y.BulletList,y.CodeBlock],se=[y.CodeBlock,y.OrderedList,y.BulletList];class re extends q{constructor(pe){super(pe,te,de,se)}}o(re,"block_quote_formatter_QuotedBlockFormatter");function oe(Be,pe){const fe=Object(m.b)({label:d}),me=Be.getSelection();if(!me)return{didHandle:!1};if(!C(pe))return ce(pe);const je={[y.BulletList]:Y,[y.OrderedList]:ae,[y.CodeBlock]:ee,[y.BlockQuote]:re}[pe];if(!je)return ce(pe);fe.debug(`attempting to apply ${pe} to user selection`);const Ue=new je(Be),{addedFormatting:ve}=Ue.formatSelection();return{didHandle:!0,addedFormatting:ve,hadSelection:me.length>0}}o(oe,"applyBlockFormatToSelection");function ce(Be){return Object(m.b)().error(`applyBlockFormattingToselection(): ${Be} is not supported`),{didHandle:!1}}o(ce,"logUnsupportedBlockFormat");var ue=e("3yyz"),Pe=e("k2bd"),Ye=e("vIgB");const $e=o((Be,pe,fe)=>{let me={};const Se=Be.getContents(pe,fe);let je=!1;const Ue=[];let ve=pe;for(const ge of Se.ops)if(Object(Pe.a)(ge)&&Object(Pe.e)(ge)===Ye.d.SlackTypesRichText)je=!0;else{const le=Object(ue.a)(ge);Ue.push({index:ve,length:le}),ve+=le}if(!je)return me;if(je)for(const ge of Ue){const le=Object(i.a)(Be.getFormat(ge.index,ge.length),["indent"]);me={...me,...le}}return me},"getFormatAroundRichTextWft"),Ke={h1:{key:"header",value:1},h2:{key:"header",value:2},"bullet-list":{key:"list",value:"bullet"},"ordered-list":{key:"list",value:"ordered"},"check-list":{key:"list",value:"unchecked"},"code-block":{key:"code-block",value:!0},blockquote:{key:"blockquote",value:!0}};function qe(Be,pe){let{format:fe,index:me,length:Se}=pe,je=0;if(!(fe==="code-block"||fe==="code"))return je;let Ue=me,ve=Se;if(fe==="code-block"){const[he,Te]=Be.getLine(me);Ue=me-Te;let Re=Te;if(me+Se>Ue+he.length()){const[Ee,Ae]=Be.getLine(me+Se);Re+=(Ee==null?void 0:Ee.length())-Ae}ve=Se+Re}let ge=!1;const le=Be.getContents(Ue,ve).map(he=>{if(Object(l.a)(he)&&!Object(a.a)(he.insert)){var Te,Re;const Ee=((Te=he.insert)===null||Te===void 0||(Re=Te.slackemoji)===null||Re===void 0?void 0:Re.text)||"";return ge=!0,je=je+Ee.length-1,{insert:Ee}}if(Object(p.c)(he)&&Object(a.a)(he.insert)){var Ve;const Ee=he.insert||"",Ae=((Ve=he.attributes)===null||Ve===void 0?void 0:Ve.link)||"";return ge=!0,je=je+Ae.length-Ee.length,{insert:Ae}}return he});if(ge){const he=new t.a;Ue>0&&he.retain(Ue),le.forEach(Te=>{he.insert(Te.insert,Te.attributes)}),he.delete(ve),Be.updateContents(he)}return fe==="code-block"&&(Object(h.a)()?Be.removeFormat(Ue,ve+je):Be.formatText(Ue,ve+je,{strike:!1,italic:!1,bold:!1,link:void 0}),Be.history.cutoff()),je}o(qe,"maybeAdaptDeltaForCode");function ct(Be,pe){let{format:fe,index:me,length:Se}=pe,je=Object(i.a)(Be.getFormat(me,Se),["indent"]);const Ue=$e(Be,me,Se);Object(c.a)(Ue)||(je={...je,...Ue});const ve=Object(c.a)(je)?!1:je[fe],ge=Ke[fe]||void 0;let le=!ve,he=0;le&&(he=qe(Be,{format:fe,index:me,length:Se}));let Te=Se+he;if(ge&&Object(r.a)(ge)){if(!Object(h.a)())return oe(Be,fe);const Ee=ge.key,Ae=ge.value,Ge=Object.keys(je)[0];if(le=!!(Ee!==Ge&&Ae),Te>0&&Ee==="code-block"&&!le){const Ze=Be.getText(me+Te-1,1),ze=Be.getFormat(me+Te+1,1);Ze&&!ze["code-block"]&&(Te-=1)}return Be.formatLine(me,Te,{[Ee]:le?Ae:!1}),{didHandle:!0,addedFormatting:le,hadSelection:Te>0}}if(Te>0){let Ee=me,Ae=Te;if(!Object(h.a)()){const tt=Object(v.a)(Be.getContents(),{index:me,length:Te},Be.getFormat(me,Te),{onlyAutoLinks:!0});Ee=tt.index,Ae=tt.length}if(Be.getFormat(Ee,Ae)["code-block"])return{didHandle:!1};const Ze=Be.getContents(Ee,Ae),ze=Ee+Ae;let lt=0;return Object(u.a)(Ze,(tt,Ot)=>{const Ct=Object(ue.a)(tt),St=Ee+lt;if(lt+=Ct,Object(b.a)(Ot))return;const zt=ze-St,kt=Object(f.a)(Ct,0,zt);kt===0||Be.getFormat(St,kt)["code-block"]||Be.formatText(St,kt,{[fe]:le})}),{didHandle:!0,addedFormatting:le,hadSelection:!0}}const Re=Be.getSelection();return Be.getFormat(Re||void 0)["code-block"]?{didHandle:!1}:(Be.format(fe,le),{didHandle:!0,addedFormatting:le,hadSelection:!1})}o(ct,"applyFormattingToSelection")},xHh6:function(w,s,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the Channel Details modal in client (noop)");t.meta={name:"createAction",key:"createActionopenAboutChannelModalCircular",description:"Triggers a side-effect that opens the Channel Details modal in client (noop)"},s.a=t},xJTX:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("gPPH"),i=e("wKGu"),c=e("ktUG"),r=e("Z2IC");function f(l){let{recording:p}=l;const h=Object(i.a)(),u=Object(r.a)(a.a),[b,v]=Object(n.useState)();Object(n.useEffect)(()=>{p||v(Object(a.a)())},[p]);const d=Object(n.useCallback)(O=>{let{step:E,sink:y,uiProperties:C}=O;h.track(c.EventId.AV_CAPTURE,{recording_session:u,recording_id:b,media_type:"video",...y,contexts:{ui_context:{ui_step:E,action:"impression",ui_properties:C}}})},[b,u,h]),m=Object(n.useRef)(!1);return Object(n.useEffect)(()=>{u&&b&&!m.current&&(m.current=!0,d({step:"initial_screen",uiProperties:{element_type:c.ElementType.MODAL}}))},[d,b,u,h]),Object(n.useEffect)(()=>{p&&d({step:"review",sink:{blur_enabled:p.blurEnabled,bg_img_enabled:p.bgImgEnabled},uiProperties:{element_type:c.ElementType.COMPONENT,element_name:"screen"}})},[d,b,u,h,p]),{clogButton:Object(n.useCallback)((O,E,y)=>{h.track(c.EventId.AV_CAPTURE,{...y,recording_session:u,recording_id:b,media_type:"video",contexts:{ui_context:{ui_step:E,action:"click",ui_properties:{element_type:"button",element_name:O}}}})},[b,u,h]),clogImpression:d}}o(f,"useVideoRecorderClogging"),s.a=f},xKHu:function(w,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("khnw"),t=e("8hJe");const a=o(i=>(i==null?void 0:i.keyCode)>=n.s&&i.keyCode<=n.l||(i==null?void 0:i.keyCode)>=n.h&&i.keyCode<=n.j||(i==null?void 0:i.key)===t.a.BACKSPACE||(i==null?void 0:i.key)===t.a.DASH||(i==null?void 0:i.key)===t.a.UNDERSCORE,"isAlphanumericOrCertainSpecialCharacters")},xPkT:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc");const i=o((u,b)=>{const v=[],d=(u.length-1)/(b-1);for(let m=0;m<b;m++){const g=m*d,O=Math.floor(g),E=Math.min(u.length-1,Math.ceil(g)),y=g-O,C=u[E]*y+u[O]*(1-y);v.push(C)}return v},"upsampleWaveform"),c=o((u,b)=>{const v=[],d=u.length/b;for(let m=0;m<b;m++){const g=m*d,O=Math.max(0,Math.round(g)),E=Math.min(u.length,Math.round(g+d));let y=0;for(let C=O;C<E;C++)y+=u[C]**2;v.push(Math.sqrt(y/(E-O)))}return v},"downsampleWaveform"),r=o((u,b)=>u.length===0||b<=0||Math.floor(b)!==b||u.length===b?u:u.length>b?c(u,b):i(u,b),"sampleWaveform"),f=34,l=6,p=o(u=>{let{data:b,width:v,highlight:d,className:m,style:g,minHeight:O=l}=u;const[E,y]=Object(n.useState)(b);Object(n.useEffect)(()=>{y(r(b,v))},[b,v]);const C=o((I,j)=>{if(!d)return!1;switch(d.mode){case"data":return I>=0;case"before":return j<d.index;default:return!1}},"shouldHighlight");return t.a.createElement("div",{className:Object(a.default)("p-audio_waveform",m),style:g},E.map((I,j)=>{const M=C(I,j);return t.a.createElement("div",{className:Object(a.default)("p-audio_waveform__dot",{"p-audio_waveform__dot--highlight":M,[`p-audio_waveform__dot--${d==null?void 0:d.color}`]:M&&(d==null?void 0:d.color)}),style:{height:Math.min(O+I*f,f)},key:j})}))},"AudioWaveform");p.displayName="AudioWaveform";var h=s.a=p},xXOU:function(w,s,e){"use strict";e.d(s,"a",function(){return p}),e.d(s,"b",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("2mql"),i=e.n(a),c=e("mLC8"),r=e("dlyp");function f(){return f=Object.assign||function(b){for(var v=1;v<arguments.length;v++){var d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(b[m]=d[m])}return b},f.apply(this,arguments)}o(f,"_extends");function l(){return(b,v,d,m,g,O,E)=>{var y;const C=(performance==null?void 0:performance.timeOrigin)||(performance==null||(y=performance.timing)===null||y===void 0?void 0:y.navigationStart);C&&c.d.addSpanToAutoTraces({type:r.b.React,spanName:`react:<${b}>.render`,additionalSpanOptions:{startTime:g+C,closeTime:O+C,tags:{phase:v,interactions:E.size?Array.from(E).join(", "):void 0,actualDuration:d,baseDuration:m}}})}}o(l,"makeRenderCallback");function p(b){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const d=n.useRef();if(n.useEffect(()=>{d.current&&(c.d.addSpanToAutoTraces({type:r.b.React,spanName:`react:<${b}>.render-approx`,additionalSpanOptions:{startTime:d.current}}),d.current=void 0)}),!v){d.current=c.d.getCurrentTime();return}const m=l();return{RenderProfiler:o(O=>{let{children:E}=O;return n.createElement(n.Profiler,{id:b,onRender:m},E)},"RenderProfiler")}}o(p,"useAutoTracing"),p.displayName="useAutoTracing";let h=o(class extends n.Component{componentDidMount(){if(this.lastRenderStartTs){const{name:v}=this.props;c.d.addSpanToAutoTraces({type:r.b.React,spanName:`react:<${v}>.render-approx`,additionalSpanOptions:{startTime:this.lastRenderStartTs}}),delete this.lastRenderStartTs}}componentDidUpdate(){if(this.lastRenderStartTs){const{name:v}=this.props;c.d.addSpanToAutoTraces({type:r.b.React,spanName:`react:<${v}>.render-approx`,additionalSpanOptions:{startTime:this.lastRenderStartTs}}),delete this.lastRenderStartTs}}render(){const{name:v,children:d}=this.props;return this.onProfilerRender?n.createElement(n.Profiler,{id:v,onRender:this.onProfilerRender},d):(this.lastRenderStartTs=c.d.getCurrentTime(),d)}constructor(v){super(v);const{useProfilerAPI:d}=v;d&&(this.onProfilerRender=l())}},"AutoTracing");h.displayName="AutoTracing";function u(b,v){const{name:d}=v,m=d||b.displayName||b.name||"",g=n.forwardRef((O,E)=>n.createElement(h,f({},v,{name:m}),n.createElement(b,f({},O,{ref:E}))));return g.displayName=`auto-metrics(${m})`,i()(g,b)}o(u,"withAutoTracing"),u.displayName="withAutoTracing"},xZS8:function(w,s,e){"use strict";e.r(s);var n=e("q1tI"),t=e.n(n),a=e("WMzb"),i=e("JBL2"),c=e("4ALb");function r(Ce){let ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const[Oe,We]=Object(n.useState)(),[ke,nt]=Object(n.useState)(),[st,mt]=Object(n.useState)();return Object(n.useEffect)(()=>{if(Ce){const pt=Object(c.b)({audioOnly:!1,screenCapture:ye,blob:Ce});nt(pt);const Et=new File([Ce],pt,{type:Ce.type});ie||(Et.subtype="slack_video"),We(Et);const it=URL.createObjectURL(Ce);return mt(it),()=>{URL.revokeObjectURL(it)}}We(void 0),mt(void 0)},[Ce,ye,ie]),{downloadLink:st,file:Oe,fileName:ke}}o(r,"useBlob");var f=r,l=e("xJTX"),p=e("/MKj"),h=e("WY9I"),u=e("h6Kc");function b(){const Ce=Object(p.useDispatch)();Object(n.useEffect)(()=>(Ce(Object(u.a)({buttonType:h.a.STORY,expanded:!0})),()=>{Ce(Object(u.a)({buttonType:h.a.STORY,expanded:!1}))}),[Ce])}o(b,"useComposerButtonExpandedToggle");var v=b;function d(Ce){const[ye,ie]=Object(n.useState)(!0),[Oe,We]=Object(n.useState)(!0),[ke,nt]=Object(n.useState)();return Object(n.useEffect)(()=>{if(Ce&&!Ce.fromComputer){const st=Ce.cameraOn||!1;ye!==st&&ie(st)}},[ye,Ce]),Object(n.useEffect)(()=>{if(Ce&&!Ce.fromComputer){const st=Ce.microphoneOn||!1;Oe!==st&&We(st)}},[Oe,Ce]),Object(n.useEffect)(()=>{Ce&&!Ce.fromComputer&&ke!==Ce.mediaSourceId&&nt(Ce.mediaSourceId)},[ke,Ce]),{initialCameraOn:ye,initialMicrophoneOn:Oe,initialMediaSourceId:ke}}o(d,"useInitialRecordingStates");var m=d,g=e("9oTK"),O=e("BHdc"),E=e("Lgge"),y=e("nNoG"),C=e("kBpe"),I=e("WSQ4"),j=e("x5Wd"),M=e("YUBf"),T=e("UQYs"),D=e("oSkh"),S=e("+kJ4"),A=e("Tsh7"),P=e("nFQW"),N=e("ap5V");const G=new y.b("stories_av"),V=o(Ce=>{let{onClick:ye}=Ce;const ie=Object(p.useDispatch)(),Oe=Object(n.useCallback)(()=>{ie(Object(N.a)({articleId:4406611622163})),ie(Object(S.a)()),ye&&ye()},[ie,ye]),We=G.t("See how they work",{fallbackHash:"7609eab36b3efe32bd6a6c43fd71dfd7df8ca120"});return t.a.createElement(A.d,{tip:We,position:"bottom"},t.a.createElement(P.a,{className:"p-clips_nux_video_modal_help_icon",icon:"question-circle","aria-label":G.t("See how they work",{fallbackHash:"7609eab36b3efe32bd6a6c43fd71dfd7df8ca120"}),onClick:Oe}))},"ClipsNuxVideoModalHelpIcon");V.displayName="ClipsNuxVideoModalHelpIcon";var k=V,x=e("oEDn"),H=e("qDEp");const R=new y.b("stories_av");function W(Ce){let{onRetry:ye,className:ie}=Ce;return t.a.createElement(H.f,{type:"outline",onClick:ye,"aria-label":R.t("Retry recording"),className:Object(O.default)("p-video_recorder__borderless_button",ie)},t.a.createElement(x.a,{type:"repeat",className:"p-video_review_modal__retry_icon"}),R.t("Start Over"))}o(W,"RetryButton"),W.displayName="RetryButton";var U=W,_=e("hTnU"),B=e("hwUI"),z=e("2VFn");function L(Ce){let{windowId:ye=z.c,recording:ie,reviewing:Oe,clogButton:We}=Ce;const ke=Object(p.useDispatch)(),nt=Object(a.a)(),st=Object(n.useCallback)(()=>{ke(Object(S.a)()),nt.info("VIDEO-RECORDER","closing"),We("close",Oe?"review":"recording")},[ke,We,Oe,nt]),mt=Object(n.useCallback)(pt=>{if(pt||!ie&&!Oe){st();return}ke(Object(_.a)({openModalProps:{isStackable:!0},onConfirmClose:st}))},[ke,st,ie,Oe]);return Object(n.useEffect)(()=>{if(ye===z.c)return ke(Object(B.b)(!!ie||!!Oe)),()=>{ke(Object(B.b)(!1))}},[ke,ie,Oe,ye]),{closeModal:mt}}o(L,"useSpeedBump");var $=L,Q=e("K8V4");function K(Ce){let{saveRecording:ye,initialCameraOn:ie,initialMicrophoneOn:Oe}=Ce;const We=Object(a.a)(),[ke,nt]=Object(n.useState)(),[st,mt]=Object(n.useState)();Object(n.useEffect)(()=>{st&&(ye({...st,mediaSourceId:ke==null?void 0:ke.id}),mt(void 0))},[st,ye,ke==null?void 0:ke.id]);const pt=Object(Q.a)({saveRecording:mt,initialCameraOn:ie,initialMicrophoneOn:Oe}),Et=pt.startScreenCapture,it=pt.stopScreenCapture,at=pt.startRecording,ft=Object(n.useCallback)(Object(g.coroutine)(function*(){ke&&(yield Et(ke.id)),at()}),[ke,at,Et]),yt=Object(n.useCallback)(Zt=>(nt(Zt),We.info("VIDEO-RECORDER",`screen selected: ${Zt==null?void 0:Zt.id}`),Et(Zt==null?void 0:Zt.id)),[Et,We]),Tt=Object(n.useCallback)(()=>{nt(void 0),it()},[it]);return{...pt,startRecording:ft,startScreenCapture:yt,stopScreenCapture:Tt,selectedScreen:ke,setSelectedScreen:nt}}o(K,"useStreamManagerWithPreselectedScreen");var Z=K,ne=e("pJ2S"),F=e("jUSB"),J=o(function(){return Object(F.c)(ne.v)},"play_boop");const X=3;function Y(Ce){let{onCountdownFinish:ye}=Ce;const ie=Object(a.a)(),[Oe,We]=Object(n.useState)(0),ke=Object(n.useRef)(),nt=Object(n.useCallback)(Object(g.coroutine)(function*(){ie.info("VIDEO-RECORDER","starting countdown");let mt=X;We(X),yield J(),ke.current=setInterval(()=>{mt-=1,mt===0?(clearInterval(ke.current),ie.info("VIDEO-RECORDER","countdown complete"),ye()):J(),We(mt)},1e3)}),[ie,ye]),st=Object(n.useCallback)(()=>{ie.info("VIDEO-RECORDER","cancelling countdown"),clearInterval(ke.current),We(0)},[ie]);return Object(n.useEffect)(()=>()=>{clearInterval(ke.current)},[]),{countingDown:Oe>0,countdownSecondsRemaining:Oe,startCountdown:nt,cancelCountdown:st}}o(Y,"useCountdown");var ae=Y,ee=e("FH+Z");const q="VIDEO-RECORDER";function te(Ce){let{recording:ye,recordingPaused:ie,stopRecording:Oe}=Ce;const We=Object(a.a)(),ke=ee.a*1e3,nt=Object(n.useRef)(),st=Object(n.useRef)(ke),mt=Object(n.useRef)(0),pt=Object(n.useCallback)(()=>{mt.current=performance.now(),nt.current=setTimeout(()=>{We.info(q,"time limit reached, stopping"),Oe()},st.current)},[We,Oe]);Object(n.useEffect)(()=>{if(ye)if(ie){const Et=performance.now()-mt.current;st.current-=Et,We.info(q,`pausing time limit after ${Et/1e3} seconds`)}else pt(),We.info(q,`recording time limit: ${st.current/1e3} seconds`);else st.current=ke;return()=>{clearTimeout(nt.current)}},[We,ye,ie,pt,ke])}o(te,"useRecordingTimeLimit");var de=te;function se(Ce){let{recording:ye,cameraOn:ie,screenCaptureOn:Oe,stopRecording:We}=Ce;const ke=Object(a.a)();Object(n.useEffect)(()=>{ye&&!ie&&!Oe&&(ke.info("VIDEO-RECORDER","stopping recording because screen capture ended"),We())},[ie,ye,Oe,We,ke])}o(se,"useRecordingRequiresVideo");var re=se,oe=e("vfQU");const ce="VIDEO-RECORDER";function ue(Ce){let{selectedScreen:ye,screenCaptureOn:ie}=Ce;const Oe=Object(a.a)();Object(n.useEffect)(()=>{if(!Object(oe.fb)())return;(function(){var ke=Object(g.coroutine)(function*(){if(ye&&ie){if(!(ye!=null&&ye.display_id)){Oe.info(ce,"no display_id, not minimizing");return}const nt=Object(oe.Q)(),st=yield Object(oe.K)(nt);if(!st){Oe.info(ce,"could not get desktop app display");return}parseInt(ye.display_id,10)===st.id?(Oe.info(ce,"minimizing"),Object(oe.Eb)(nt)):Oe.info(ce,"not minimizing")}});return o(function(){return ke.apply(this,arguments)},"maybeMinimize")})()()},[ye,ie,Oe])}o(ue,"useMaybeMinimizeDesktopAppOnScreenCapture");var Pe=ue,Ye=o(function(Ce){let{screenCaptureOn:ye,windowToken:ie}=Ce;Object(n.useEffect)(()=>{Object(oe.fb)()&&(ye||Object(oe.y)(ie||Object(oe.Q)()))},[ye,ie])},"use_focus_after_screen_capture_ends"),$e=e("ktUG"),Ke=e("jWAO"),qe=e("Tevt");const ct=new y.b("stories_av"),Be=o(Ce=>{let{microphoneFailed:ye,cameraFailed:ie,screenCaptureFailed:Oe,clogImpression:We}=Ce;if(Object(n.useEffect)(()=>{if(!ye&&!ie&&!Oe)return;const st=[];ie&&st.push("camera"),ye&&st.push("microphone"),Oe&&st.push("screenshare"),We({step:"initial_screen",sink:{types:st.join("|")},uiProperties:{element_type:$e.ElementType.ALERT,element_name:"permissions_prompt"}})},[ie,We,ye,Oe]),!ye&&!ie&&!Oe)return null;let ke;if(ye||ie){let st,mt;ye&&ie?(st=ct.t("Can\u2019t access camera and microphone"),Object(C.i)()&&Object(C.p)()?mt=ct.rt("Check your <a>system preferences</a> to make sure Slack has permission to access your camera and microphone, and try again.",null,pt=>{let{text:Et}=pt;return t.a.createElement(qe.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone"},Et)}):Object(C.i)()?mt=ct.rt("Check your <a>system settings</a> to make sure Slack has permission to access your camera and microphone, and try again.",null,pt=>{let{text:Et}=pt;return Object(C.x)()?t.a.createElement(qe.a,{href:"ms-settings:privacy-microphone"},Et):Et}):mt=ct.t("Check your browser settings to make sure Slack has permission to access your camera and microphone, and try again.")):ye?(st=ct.t("Can\u2019t access microphone"),Object(C.i)()&&Object(C.p)()?mt=ct.rt("Check your <a>system preferences</a> to make sure Slack has permission to access your microphone, and try again.",null,pt=>{let{text:Et}=pt;return t.a.createElement(qe.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone"},Et)}):Object(C.i)()?mt=ct.rt("Check your <a>system settings</a> to make sure Slack has permission to access your microphone, and try again.",null,pt=>{let{text:Et}=pt;return Object(C.x)()?t.a.createElement(qe.a,{href:"ms-settings:privacy-microphone"},Et):Et}):mt=ct.t("Check your browser settings to make sure Slack has permission to access your microphone, and try again.")):(st=ct.t("Can\u2019t access camera"),Object(C.i)()&&Object(C.p)()?mt=ct.rt("Check your <a>system preferences</a> to make sure Slack has permission to access your camera, and try again.",null,pt=>{let{text:Et}=pt;return t.a.createElement(qe.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera"},Et)}):Object(C.i)()?mt=ct.rt("Check your <a>system settings</a> to make sure Slack has permission to access your camera, and try again.",null,pt=>{let{text:Et}=pt;return t.a.createElement(qe.a,{href:"ms-settings:privacy-webcam"},Et)}):mt=ct.t("Check your browser settings to make sure Slack has permission to access your camera, and try again.")),ke=t.a.createElement(Ke.d,{className:"p-video_recorder_alert",heading:st,level:Ke.b.warning},mt)}let nt;return Oe&&(nt=t.a.createElement(Ke.d,{className:"p-video_recorder_alert",heading:ct.t("Can\u2019t share your screen",{fallbackHash:"61f286b3ce870fd00239ba4a3ece6af09233d319"}),level:Ke.b.warning},Object(C.i)()?ct.t("Check your system preferences to make sure Slack has screen recording permission, and try again.",{fallbackHash:"8da7501ec5f67866ac25d93c2d5c219b4c9fb704"}):ct.t("Check your system preferences to make sure your browser has screen recording permission, and try again.",{fallbackHash:"e4dc82ddd4f5fb99d4f9093961e9caef8f12e0f3"}))),t.a.createElement(t.a.Fragment,null,ke,nt)},"VideoRecorderAlert");Be.displayName="VideoRecorderAlert";var pe=Be,fe=e("l6CK"),me=e("/ZWZ");function Se(Ce){const[ye,ie]=Object(n.useState)(Ce),Oe=Object(n.useRef)(!0);return Object(n.useLayoutEffect)(()=>{const We=setInterval(()=>{if(!Oe.current)return;const ke=Math.floor(Ce());ke!==ye&&ie(ke)},250);return()=>clearInterval(We)},[ye,Ce]),Object(n.useEffect)(()=>()=>{Oe.current=!1},[]),ye}o(Se,"useElapsedSeconds");var je=Se,Ue=e("aV5m");function ve(Ce){let{getCurrentDuration:ye,className:ie}=Ce;const Oe=Object(O.default)("auto_right_margin no_left_margin",ie);return t.a.createElement("span",{className:Oe},Object(c.a)(je(ye))," /"," ",Object(c.a)(ee.a))}o(ve,"VideoRecorderTimer");var ge=e("O6kw");const le=new y.b("stories_av");function he(Ce){let{draftId:ye,onFileSelected:ie,clogButton:Oe}=Ce;const We=Object(p.useDispatch)(),ke=Object(n.useRef)(null),nt=Object(n.useCallback)(()=>{var mt;Oe("upload","initial_screen"),(mt=ke.current)===null||mt===void 0||mt.click()},[Oe]),st=Object(n.useCallback)(()=>{var mt,pt;const Et=(mt=ke.current)===null||mt===void 0||(pt=mt.files)===null||pt===void 0?void 0:pt[0];Et&&We(Object(ge.a)({selectedFiles:[Et],draftId:ye})).then(it=>{const at=it[0];at&&ie(at)})},[We,ye,ie]);return t.a.createElement(t.a.Fragment,null,t.a.createElement(H.f,{type:"outline",className:"p-video_recorder__borderless_button auto_right_margin",onClick:nt},t.a.createElement(x.a,{type:"cloud-upload",className:"margin_right_50"}),le.rt("Upload Video",{fallbackHash:"503a3d8ca27443c8f052d4092e928c0d93f4033f"})),t.a.createElement("input",{type:"file",accept:"video/*",hidden:!0,ref:ke,onChange:st}))}o(he,"VideoRecorderUploadFile"),he.displayName="VideoRecorderUploadFile";var Te=he,Re=e("DPHH"),Ve=e("RMmo");const Ee=new y.b("stories_av");function Ae(Ce){let{recordingPaused:ye,pauseRecording:ie,resumeRecording:Oe,enableTooltip:We=!0}=Ce;const ke=Object(n.useCallback)(()=>{ye?Oe():ie()},[ie,ye,Oe]);Object(n.useEffect)(()=>{const mt=new Ve.a;return mt.bindAll([{keys:["space"],handler:ke,filter:pt=>!pt||!pt.target?!1:pt.target.nodeName==="BUTTON"}]),()=>mt.reset()},[ke]);const nt=t.a.createElement(H.f,{type:"outline","aria-label":ye?Ee.t("Resume recording"):Ee.t("Pause recording"),"aria-pressed":ye,className:"p-video_recorder__borderless_button p-video_recorder_pause_button",onClick:ke},t.a.createElement(x.a,{type:ye?"play":"pause",className:"p-video_recorder_pause_button__icon"}),ye?Ee.rt("Resume"):Ee.rt("Pause")),st=Object(n.useMemo)(()=>t.a.createElement("span",{className:"p-video_recorder_pause_button__tooltip"},Ee.rt("Press <key>Space</key>",{"<key>":mt=>{var pt,Et;return t.a.createElement(Re.a,{label:(pt=mt.text)===null||pt===void 0||(Et=pt.props)===null||Et===void 0?void 0:Et.children})}})),[]);return We?t.a.createElement(A.d,{tip:st},nt):nt}o(Ae,"VideoRecorderPauseButton"),Ae.displayName="VideoRecorderPauseButton";var Ge=Ae;const Ze=new y.b("stories_av");function ze(Ce){let{canRecord:ye,recording:ie,cameraOn:Oe,startRecording:We,stopRecording:ke,setRecording:nt,screenCaptureOn:st,startScreenCapture:mt,stopScreenCapture:pt,getCurrentDuration:Et,recordingPaused:it,pauseRecording:at,resumeRecording:ft,clogButton:yt,draftId:Tt}=Ce;const Zt=Object(n.useCallback)(()=>{We(),yt("record","recording")},[yt,We]),In=Object(n.useCallback)(()=>{ke(),yt("stop","recording")},[yt,ke]),_n=Object(n.useCallback)(pn=>{nt({blob:pn,fromComputer:!0})},[nt]),Nn=je(Et),Fn=ie&&Oe||!ie&&!Object(C.i)(),Bn=Fn?t.a.createElement(Ue.a,{screenCaptureOn:st,startScreenCapture:mt,stopScreenCapture:pt,clogButton:yt}):null,Un=ie?Ze.rt("Stop"):Ze.rt("Record"),zn=t.a.createElement(H.f,{type:"danger",onClick:ie?In:Zt,disabled:!ye,"aria-pressed":ie,"aria-label":ie?Ze.t("Stop recording"):Ze.t("Record")},Un),wn=ie?t.a.createElement(ve,{getCurrentDuration:Et}):null;let Rn;Nn>=ee.a-30&&(Rn="#E01E5A");const ra=ie?t.a.createElement(me.a,{duration:ee.a,elapsed:Nn,scrubbable:!1,interpolate:!it,color:Rn}):null,wt=ie?null:t.a.createElement(Te,{onFileSelected:_n,draftId:Tt,clogButton:yt});return t.a.createElement("div",{className:Object(O.default)("p-video_recorder_footer",{"p-video_recorder_footer--recording":ie}),role:"toolbar"},wt,ra,wn,Bn,ie&&t.a.createElement(t.a.Fragment,null,Fn&&t.a.createElement("div",{className:"p-video_recorder_footer__separator"}),t.a.createElement(Ge,{recordingPaused:it,pauseRecording:at,resumeRecording:ft})),ye&&zn,!ye&&t.a.createElement(A.d,{tip:Ze.t("Turn on your camera, or select a screen to share (or both!)")},t.a.createElement("span",null,zn)))}o(ze,"VideoRecorderFooter"),ze.displayName="VideoRecorderFooter";var lt=ze,tt=e("8QLk"),Ot=e("dG8s"),Ct=e("vaRI"),St=e("s8ZX"),zt=e("S1sa");const kt=new y.b("view");function on(Ce){const ye=kt.t("Slack");return Ce.name.startsWith(`${ye} |`)}o(on,"isScreenProbablySlack");function _t(Ce){const[ye,ie]=Object(zt.a)(Ce,Oe=>!!Oe.display_id);return[...ye,...ie.filter((Oe,We)=>!(We===0&&on(Oe)))]}o(_t,"filterScreens");var be=_t;const ot=new y.b("stories_av");function rt(Ce){let{selectedScreen:ye,setSelectedScreen:ie,initialMediaSourceId:Oe,clogButton:We}=Ce;const[ke,nt]=Object(n.useState)(null),[st,mt]=Object(n.useState)(!1);Object(n.useEffect)(()=>{Object(Ct.a)("screen").then(it=>{it||mt(!0),Object(Ot.c)({width:320,height:240},["screen","window"]).then(at=>{nt(be(at).map(ft=>{const[yt,Tt,Zt]=ft.id.split(":");return Zt==="0"?ft:{...ft,id:[yt,Tt,"0"].join(":")}}))})})},[]),Object(n.useEffect)(()=>{if(Oe&&ke){const it=ke.find(at=>{let{id:ft}=at;return ft===Oe});it&&ie(it)}},[Oe,ke,ie]);const pt=Object(n.useCallback)(it=>{ie(ye===it?void 0:it),We("share_screen","recording",{state:it?"on":"off"})},[We,ye,ie]),Et=Object(n.useCallback)(it=>{if(!ke||!["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(it.key))return;const ft=it.currentTarget.querySelectorAll("button"),yt=Array.from(ft).findIndex(In=>document.activeElement===In);let Tt=0;it.key==="ArrowLeft"&&(Tt=yt-1),it.key==="ArrowRight"&&(Tt=yt+1),it.key==="ArrowUp"&&(Tt=yt-3),it.key==="ArrowDown"&&(Tt=yt+3),Tt=Object(tt.a)(Tt,0,ft.length);const Zt=ft[Tt];Zt&&Zt.focus()},[ke]);return!st&&(!ke||!ke.length)?null:t.a.createElement("div",{className:"p-video_recorder_screen_picker"},t.a.createElement("div",{id:"p-video_recorder_modal__screens_section_label",className:"p-video_recorder_modal__section_label"},ot.rt("Share your screen (optional)")),st&&t.a.createElement(Ke.d,{className:"p-video_recorder_screen_picker__access_alert",level:Ke.b.warning},Object(C.p)()?ot.rt("Allow screen recording access in <a>system preferences</a>",{"<a>":it=>{let{text:at}=it;return t.a.createElement(qe.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture"},at)}}):ot.rt("Please check your system preferences to give screen share access to Slack.")),!st&&ke&&t.a.createElement("div",{className:"p-video_recorder_screen_picker__screens_grid",role:"radiogroup","aria-labelledby":"p-video_recorder_modal__screens_section_label",onKeyDown:Et},ke.map((it,at)=>t.a.createElement(St.a,{key:it.id,screen:it,name:it.name,selected:(ye==null?void 0:ye.id)===it.id,onSelect:pt,tabindex:at===0?0:-1}))))}o(rt,"VideoRecorderScreenPicker"),rt.displayName="VideoRecorderScreenPicker";var Jt=rt;const Qt=new y.b("stories_av");function qt(Ce){let{cancelCountdown:ye}=Ce;return t.a.createElement("div",{className:"p-video_recorder_footer"},t.a.createElement(H.f,{type:"danger",onClick:ye},Qt.rt("Stop")))}o(qt,"VideoRecorderCountdownFooter"),qt.displayName="VideoRecorderCountdownFooter";var $t=qt,hn=e("wSSu"),gn=e.n(hn),Cn=e("DuRM"),Mn=e("zxER"),kn=e("O86Y"),na=e("4tnk");const oa=574,ba=66,ga=100,ya={[-3]:.7,[-2]:.8,[-1]:.9,0:1,1:1.1,2:1.25,3:1.5,4:1.75,5:2};function Zn(Ce){let{children:ye,visible:ie,selectedScreen:Oe}=Ce;const We=Object(a.a)(),ke=Object(Mn.c)(ft=>Object(na.b)(ft,"zoomLevel"))||0,nt=ya[ke]||1,st=Object(n.useRef)(),mt=Object(n.useRef)(void 0),[pt,Et]=Object(n.useState)(!1),it=Object(n.useCallback)(ft=>{mt.current=ft,Et(!0)},[]),at=Object(Mn.c)(kn.g);return Object(n.useEffect)(()=>{const ft=Object(Cn.e)("",{show:!1,frame:!1,titleBarStyle:"default",acceptFirstMouse:!0,alwaysOnTop:!0,skipTaskbar:!1,fullscreenable:!1,resizable:!1,movable:!0,type:"clips-mini-panel",title:"Slack",width:oa*nt,height:ba,x:(window.screen.availWidth-oa)/2,y:window.screen.availHeight-ba-ga,parentTeamId:at}).then(yt=>{let{window:Tt,windowToken:Zt}=yt;return Object(oe.sc)(Zt,!0),Object(oe.hc)(Zt,!0,"screen-saver",1),Object(oe.kc)(Zt,!0),st.current=Zt,Object(Cn.f)(Tt,t.a.createElement("div",{ref:it}))});return()=>{ft.then(yt=>{mt.current&&gn.a.unmountComponentAtNode(mt.current),yt==null||yt()})}},[it,at,nt]),Object(n.useEffect)(()=>{pt&&(ie?(We.info("VIDEO-RECORDER","showing mini-panel"),Object(oe.Ac)(st.current)):(We.info("VIDEO-RECORDER","hiding mini-panel"),Object(oe.cb)(st.current)))},[pt,ie,We]),Object(n.useEffect)(()=>{if(!Oe)return;(function(){var yt=Object(g.coroutine)(function*(){const Tt=yield Object(oe.z)();if(Tt.length===0)return;var Zt;const In=(Zt=Tt.find(_n=>Oe.display_id===_n.id.toString()))!==null&&Zt!==void 0?Zt:Tt[0];Object(oe.ic)(st.current,Xn(In.bounds,nt))});return o(function(){return yt.apply(this,arguments)},"updateBounds")})()()},[Oe,nt]),pt&&mt.current?gn.a.createPortal(ye,mt.current):null}o(Zn,"VideoRecorderMiniPanelWindow");function Xn(Ce,ye){return{x:Ce.x+(Ce.width-oa*ye)/2,y:Ce.y+Ce.height-ba-ga,width:oa*ye,height:ba*ye}}o(Xn,"calculatePosition");var Ht=e("ifKl"),ut=e("9Gfp"),gt=e("lrwl"),Wt=e("q7Oo");const Mt=new y.b("stories_av");function Xe(Ce){let{cameraOn:ye,countingDown:ie,countdownSecondsRemaining:Oe,screenName:We,stopRecording:ke,stopScreenCapture:nt,getCurrentDuration:st,cancelCountdown:mt,recordingPaused:pt,pauseRecording:Et,resumeRecording:it,clogButton:at}=Ce;const ft=Object(Mn.c)(ut.a),yt=ye;return t.a.createElement("div",{className:"p-video_recorder_minipanel"},t.a.createElement("div",{className:"p-video_recorder_minipanel__avatar"},t.a.createElement(gt.a,{userId:ft,size:24,isInteractive:!1})),t.a.createElement("div",{className:"p-video_recorder_minipanel__middle"},t.a.createElement(Wt.a,{secondsRemaining:Oe,className:Object(O.default)("p-video_recorder_minipanel__countdown",{"p-video_recorder_minipanel__countdown--hidden":!ie})}),t.a.createElement("div",{className:Object(O.default)("p-video_recorder_minipanel__recording",{"p-video_recorder_minipanel__recording--visible":!ie})},t.a.createElement("div",{className:"p-video_recorder_minipanel__status"},t.a.createElement(ve,{getCurrentDuration:st,className:"p-video_recorder_minipanel__timer"}),We&&t.a.createElement("span",{className:"p-video_recorder_minipanel__status_screen"},Mt.t("Recording {screenName}",{screenName:We}))),yt&&t.a.createElement(Ue.a,{screenCaptureOn:!0,startScreenCapture:Ht.a,stopScreenCapture:nt,clogButton:at}),yt&&t.a.createElement("div",{className:"p-video_recorder_footer__separator"}),t.a.createElement(Ge,{recordingPaused:pt,pauseRecording:Et,resumeRecording:it,enableTooltip:!1}))),t.a.createElement(H.f,{type:"danger",onClick:ie?mt:ke},ie?Mt.t("Stop Recording"):Mt.t("Stop")))}o(Xe,"VideoRecorderMiniPanel");var bt=e("csgs");const Nt=new y.b("stories_av");function Pt(Ce){let{setRecording:ye,clogButton:ie,clogImpression:Oe,initialCameraOn:We,initialMicrophoneOn:ke,initialMediaSourceId:nt,draftId:st}=Ce;const mt=Object(n.useContext)(j.a),pt=Object(a.a)(),{windowId:Et,windowToken:it}=Object(n.useContext)(I.a);Object(n.useEffect)(()=>{pt.info("VIDEO-RECORDER","starting")},[pt]);const at=Object(n.useRef)(!0),ft=Object(n.useCallback)(ts=>{at.current&&ye(ts),at.current=!0},[ye]),{setCanvasRef:yt,recording:Tt,startRecording:Zt,stopRecording:In,microphoneOn:_n,microphoneFailed:Nn,startMicrophone:Fn,stopMicrophone:Bn,screenCaptureOn:Un,screenCaptureFailed:zn,startScreenCapture:wn,stopScreenCapture:Rn,cameraOn:ra,cameraFailed:wt,startCamera:pn,stopCamera:Hn,selectedScreen:Jn,setSelectedScreen:Ca,pauseRecording:qn,resumeRecording:ua,recordingPaused:va,getCurrentDuration:Ea,devicePrefsChanged:_a,blurEnabled:Ra,toggleBgBlur:Va,bgImgEnabled:xn,setBgImage:Ta,clearBgImage:La,microphoneStream:Ka,loading:Ha,rendererStream:xa}=Z({saveRecording:ft,initialCameraOn:We,initialMicrophoneOn:ke}),{countingDown:za,countdownSecondsRemaining:us,startCountdown:ss,cancelCountdown:Ja}=ae({onCountdownFinish:Zt}),Na=Object(n.useCallback)(()=>{Ja(),Rn()},[Ja,Rn]),Qa=Object(n.useCallback)(Object(g.coroutine)(function*(){yield J(),yield E.a.delay(1e3),Zt()}),[Zt]);de({recording:Tt,recordingPaused:va,stopRecording:In}),re({recording:Tt,cameraOn:ra,screenCaptureOn:Un,stopRecording:In}),Pe({selectedScreen:Jn,screenCaptureOn:Un}),Ye({screenCaptureOn:Un,windowToken:it});const $a=Object(C.j)("4.13.0"),bs=!!($a&&Un);Object(n.useEffect)(()=>{$a&&za&&Jn&&!Un&&wn(Jn)},[Jn,wn,$a,za,Un,Rn]);const gs=Object(n.useCallback)((ts,Ya,ds)=>{ie(ts,Ya,{screenshare:Un,camera:ra,blur_enabled:Ra,bg_img_enabled:xn,length_seconds:Math.floor(Ea()),...ds})},[ra,ie,Ea,Un,Ra,xn]),{closeModal:ys}=$({windowId:Et,recording:Tt,clogButton:gs}),ps=Object(n.useCallback)(()=>{at.current=!1,In(),Object(C.i)()&&Un&&Rn()},[Un,In,Rn]),Cs=!Tt&&!za,os=Cs&&Object(C.i)(),Os=o(()=>t.a.createElement(D.a,null,ts=>{let{width:Ya,height:ds}=ts;return t.a.createElement(T.b,{width:Ya,height:ds},t.a.createElement("div",{className:"p-video_recorder_modal__video_section"},t.a.createElement(fe.a,{setCanvasRef:yt,initialMicrophoneOn:ke,microphoneOn:_n,microphoneFailed:Nn,startMicrophone:Fn,stopMicrophone:Bn,initialCameraOn:We,cameraOn:ra,cameraFailed:wt,screenCaptureOn:Un,startCamera:pn,stopCamera:Hn,recording:Tt,countingDown:za,countdownSecondsRemaining:us,recordingPaused:va,devicePrefsChanged:_a,blurEnabled:Ra,toggleBgBlur:Va,bgImgEnabled:xn,setBgImage:Ta,clearBgImage:La,loading:Ha,microphoneStream:Ka,rendererStream:xa,clogButton:ie})),os&&t.a.createElement(Jt,{selectedScreen:Jn,setSelectedScreen:Ca,initialMediaSourceId:nt,clogButton:gs}))}),"renderScreenPickerAtBottom");Os.displayName="renderScreenPickerAtBottom";const Xa=!Tt&&!za?Nt.t("Record video clip"):void 0;return t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{fullscreen:!0,closeModal:ys,className:Object(O.default)("p-video_recorder_modal",{"p-video_recorder_modal--screen_grid_showing":os,"p-video_recorder_modal--recording":!Cs})},t.a.createElement(bt.a,{showBottomBorder:!Tt&&!za},t.a.createElement(M.l,{title:Xa,className:"p-video_recorder_header__title",titleTextClassName:"p-video_recorder_header__title_text",titleHeaderClassName:"p-video_recorder_header__title_header"},t.a.createElement("div",{className:"p-video_recorder_header__icons"},!Tt&&!za&&t.a.createElement(k,null),Tt&&va&&t.a.createElement(U,{className:"p-video_recorder_header__button",onRetry:ps})))),!za&&t.a.createElement(pe,{microphoneFailed:Nn,cameraFailed:wt,screenCaptureFailed:zn,clogImpression:Oe}),t.a.createElement("div",{className:Object(O.default)("p-video_recorder_modal__content",{"p-video_recorder_modal__content--video_only":!os})},Os()),za&&t.a.createElement($t,{cancelCountdown:Na}),!za&&t.a.createElement(lt,{canRecord:ra||Un||!!Jn,recording:Tt,cameraOn:ra,startRecording:mt?Qa:ss,stopRecording:In,setRecording:ye,screenCaptureOn:Un,startScreenCapture:wn,stopScreenCapture:Rn,getCurrentDuration:Ea,recordingPaused:va,pauseRecording:qn,resumeRecording:ua,clogButton:gs,draftId:st})),$a&&t.a.createElement(Zn,{visible:bs,selectedScreen:Jn},t.a.createElement(Xe,{cameraOn:ra,countingDown:za,countdownSecondsRemaining:us,screenName:Jn==null?void 0:Jn.name,stopRecording:In,stopScreenCapture:Rn,getCurrentDuration:Ea,cancelCountdown:Na,recordingPaused:va,pauseRecording:qn,resumeRecording:ua,clogButton:gs})))}o(Pt,"VideoRecorderModal"),Pt.displayName="VideoRecorderModal";var nn=Pt,rn=e("RVJP");const mn=new y.b("stories_av");function vn(Ce){let{onDownload:ye,disabled:ie}=Ce;const Oe=Object(O.default)("p-video_recorder__borderless_button","p-video_review_modal__download",{"p-video_review_modal__download--disabled":ie});return t.a.createElement(A.d,{tip:mn.t("Your video is being processed and will be available to download soon."),tipClassName:Object(O.default)({hidden:!ie}),position:"top"},t.a.createElement("span",{className:"p-video_review_modal__download_wrapper"},t.a.createElement(H.f,{type:"outline",className:Oe,onClick:ye,disabled:ie,"data-qa":"download_button"},t.a.createElement(x.a,{type:"cloud-download",className:"p-video_review_modal__download_icon"}),t.a.createElement("span",null,mn.rt("Download")))))}o(vn,"DownloadButton"),vn.displayName="DownloadButton";var Xt=vn;const ht=new y.b("stories_av");function It(Ce){let{onAttach:ye}=Ce;return t.a.createElement(H.f,{type:"primary",onClick:ye,"aria-label":ht.t("Attach file")},ht.t("Done"))}o(It,"AttachButton"),It.displayName="AttachButton";var Ft=It,Bt=e("tbSn"),en=e("EzYr"),On=e("I0j/"),yn=e("37+L"),Dn=e("Z9Pi"),En=e("gCYc"),Vt=e("Kn+X"),an=e("Zbwg"),sn=e("ItxP"),bn=e("RdEv"),jn=e("KcWJ"),Tn=e("ztJi"),An=e("CnKg"),Vn=e("6CqW"),un=e("mQiU"),Kn=e("xcHN"),$n=e("Wn1n"),da=e("bczA");function fa(Ce){let{file:ye,draftId:ie,clogButton:Oe,onContainerUpload:We,thumbnailTimestamp:ke}=Ce;var nt,st,mt,pt;const Et=Object(a.a)(),it=Object(p.useDispatch)(),{finishUpload:at,uploadedFileId:ft}=Object(bn.a)({file:ye,draftId:ie,onContainerUpload:We,thumbnailTimestamp:ke}),{windowId:yt}=Object(n.useContext)(I.a),{isMainWindow:Tt,shouldUseNavigate:Zt,getSiblingView:In}=Object(n.useContext)(un.a),_n=Object(Mn.c)(qn=>Object(En.k)(qn,ie)),Nn=Object(Mn.c)(da.b),{getViewSet:Fn}=Object(Vn.a)(yt),Bn=Object(Mn.c)(Fn);var Un;const{commentThreadId:zn}=Object(An.i)((Un=Nn==null?void 0:Nn.threadId)!==null&&Un!==void 0?Un:""),wn=(Bn==null||(nt=Bn.secondary)===null||nt===void 0||(st=nt.params)===null||st===void 0?void 0:st.commentThreadId)||zn,Rn=Object(Mn.c)(qn=>Object(Tn.a)(qn,wn??"")),ra=Bn==null||(mt=Bn.secondary)===null||mt===void 0||(pt=mt.params)===null||pt===void 0?void 0:pt.threadId;let wt,pn;if(_n){const qn=Object(Vt.j)(_n);qn&&qn.length===1&&(wt=qn[0].channel_id,pn=qn[0].thread_ts)}else{const qn=Object(Dn.a)(ie);qn.channelId&&Object(an.a)(qn.channelId)&&(wt=qn.channelId),qn.threadTs&&Object(sn.a)(qn.threadTs)&&(pn=qn.threadTs)}const Hn=Object(Kn.c)(wt,pn),Jn=Object(Mn.c)(qn=>{var ua;return Zt?(ua=In(qn,{container:z.h.Primary}))===null||ua===void 0?void 0:ua.id:Object($n.a)(qn)});return{attachAndUpload:Object(n.useCallback)(()=>{if(Et.info("VIDEO-RECORDER","attaching video"),at(),it(Object(S.a)()),Oe("attach","review"),!We&&pn)if(Tt){if(wt===(Rn==null?void 0:Rn.channelId)&&pn===(Rn==null?void 0:Rn.threadTs)||ra&&ra===Hn||Jn==="Vall_threads")return;it(Object(jn.a)({channelId:wt,threadTs:pn}))}else it(Object(On.a)(Object(yn.fb)({channelId:wt,threadTs:pn})))},[Et,at,it,Oe,We,pn,Tt,wt,Rn==null?void 0:Rn.channelId,Rn==null?void 0:Rn.threadTs,ra,Hn,Jn]),uploadedFileId:ft}}o(fa,"useAttachAndClose");var aa=fa,ha=e("5jHt"),Ia=e("Ilel"),Ba=e("9068"),ca=e("dmdh"),Ma=o((Ce,ye)=>{const ie=document.createElement("a");ie.href=Ce,ie.download=ye,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)},"downloadWebmLink"),Fa=o(Ce=>{const ye=["video/mp4","video/webm"];if(Ce){for(let ie=0;ie<ye.length;ie++)if(Ce.type.includes(ye[ie]))return!0}return!1},"isFileMp4OrWebm");function ta(Ce){let{downloadLink:ye,fileName:ie,clogButton:Oe,uploadedFileId:We,file:ke,action:nt}=Ce;const st=Object(p.useDispatch)(),mt=Object(Mn.c)(ft=>Object(ca.e)(ft,We)),pt=Object(Mn.c)(ft=>Object(ha.a)(ft,mt)),Et=Object(n.useCallback)(()=>{ye&&(Ma(ye,ie),Oe("download","review"))},[Oe,ye,ie]),it=Object(n.useCallback)(()=>{st(Object(Ia.a)({file:mt,action:nt})),Oe("download","review")},[st,mt,Oe,nt]);let at=Et;return Fa(ke)||pt&&(mt&&!Object(Ba.d)(mt)?at=it:at=void 0),at}o(ta,"useDownload");var Pn=ta,dn=e("1Np4"),Rt=e("4cU5");function vt(Ce){let{recordDuration:ye,actualDuration:ie,screenOn:Oe,cameraOn:We,blurEnabled:ke,bgImgEnabled:nt,workerExperimentGroup:st,canvasRecording:mt}=Ce;const pt=Object(a.a)(),Et=Object(Mn.c)(at=>Object(dn.a)({state:at})),it=Object(n.useRef)(!1);Object(n.useEffect)(()=>{if(ye&&ye!==1/0&&ie){if(it.current)return;it.current=!0;const at=Math.abs(ye-ie);at>1&&pt.error("VIDEO-RECORDER","large difference in expected duration"),pt.info("VIDEO-RECORDER",`duration difference: ${at}`);const ft=Et.createMetricsTrace({samplingOptions:{sampleRate:1,sampleType:Rt.b}});ft.store({name:"video_recorder_duration_metrics:large_difference",value:at>1?1:0}),ft.store({name:"video_recorder_duration_metrics:difference_ms",value:at*1e3}),ft.addTags({screen:Oe,camera:We,blur:ke,bg:nt,worker:st,canvas:mt}),Et.reportTrace(ft)}},[ie,ye,pt,Et,Oe,We,ke,nt,st,mt])}o(vt,"useDurationLogging");var At=vt,Gt=e("ouAP"),ln=e("c15m");function Dt(Ce){let{downloadLink:ye,file:ie,fileName:Oe,didScreenShare:We,cameraOn:ke,draftId:nt,duration:st,fromComputer:mt,retry:pt,clogButton:Et,clogImpression:it,onContainerUpload:at,blurEnabled:ft,bgImgEnabled:yt,canvasRecording:Tt}=Ce;var Zt;const In=Object(a.a)(),{windowId:_n,windowToken:Nn}=Object(n.useContext)(I.a);Object(n.useEffect)(()=>{In.info("VIDEO-RECORDER",`reviewing ${mt?"uploaded":`${st} second`} video`)},[mt,In,st]),Object(n.useEffect)(()=>{Object(oe.fb)()&&Object(oe.y)(Nn||Object(oe.Q)())},[Nn]);const[Fn,Bn]=Object(n.useState)(),Un=Object(n.useCallback)((va,Ea,_a)=>{Et(va,Ea,{screenshare:We,camera:ke,blur_enabled:ft,bg_img_enabled:yt,length_seconds:Math.floor(st),..._a})},[ke,Et,We,st,ft,yt]),{closeModal:zn}=$({windowId:_n,reviewing:!0,clogButton:Un}),{attachAndUpload:wn,uploadedFileId:Rn}=aa({file:ie,draftId:nt,clogButton:Un,onContainerUpload:at,thumbnailTimestamp:Fn}),ra=Object(n.useCallback)(()=>{pt(),Et("retry","review")},[Et,pt]),wt=Pn({downloadLink:ye,fileName:Oe,clogButton:Un,uploadedFileId:Rn,file:ie,action:Gt.a.DownloadFile}),[pn,Hn]=Object(n.useState)(),Jn=Object(Mn.c)(va=>Object(rn.d)(va,"stream_renderer_worker"));At({recordDuration:st,actualDuration:pn,screenOn:We,cameraOn:ke,blurEnabled:ft,bgImgEnabled:yt,workerExperimentGroup:Jn??"unknown",canvasRecording:Tt});const Ca=t.a.createElement("div",{className:"p-video_review_modal__additional_controls"},t.a.createElement(Bt.a,{onSubmit:Bn,downloadLink:ye,recordDuration:st,className:"p-video_recorder_header__button p-video_review_modal__thumbnail",clogButton:Et,clogImpression:it}),!mt&&t.a.createElement(Xt,{disabled:!wt,onDownload:wt}),t.a.createElement(Ft,{onAttach:wn})),qn=Object(n.useMemo)(()=>({"p-video_review_modal__video_container--camera_only":!We&&ke}),[ke,We]),ua=!(ie==null||(Zt=ie.type)===null||Zt===void 0)&&Zt.includes("mp4")?"video/mp4":void 0;return t.a.createElement(en.a,{url:ye,mimeType:ua,duration:st,additionalControls:Ca,modalHeaderChildren:t.a.createElement(M.l,null,t.a.createElement(U,{onRetry:ra,className:"p-video_recorder_header__button p-video_review_modal__retry"})),videoClassNames:qn,onClose:zn,onDurationChanged:Hn})}o(Dt,"VideoReviewModal"),Dt.displayName="VideoReviewModal";var He=Dt;function Le(Ce){let{draftId:ye,onContainerUpload:ie}=Ce;const Oe=Object(a.a)();Object(i.a)(),v();const[We,ke]=Object(n.useState)(),{blob:nt,duration:st,didScreenShare:mt,cameraOn:pt,fromComputer:Et,blurEnabled:it,bgImgEnabled:at,canvasRecording:ft}=We||{},{initialCameraOn:yt,initialMicrophoneOn:Tt,initialMediaSourceId:Zt}=m(We),{clogButton:In,clogImpression:_n}=Object(l.a)({recording:We}),Nn=Object(n.useCallback)(()=>{Oe.info("VIDEO-RECORDER","retrying"),ke(void 0)},[Oe]),{file:Fn,fileName:Bn,downloadLink:Un}=f(nt,mt,Et);return We&&Fn&&Bn&&Un?t.a.createElement(He,{draftId:ye,file:Fn,fileName:Bn,didScreenShare:mt||!1,cameraOn:pt||!1,fromComputer:Et||!1,downloadLink:Un,duration:st||0,retry:Nn,clogButton:In,clogImpression:_n,onContainerUpload:ie,blurEnabled:it||!1,bgImgEnabled:at||!1,canvasRecording:ft||!1}):t.a.createElement(nn,{draftId:ye,setRecording:ke,clogButton:In,clogImpression:_n,initialCameraOn:yt,initialMicrophoneOn:Tt,initialMediaSourceId:Zt})}o(Le,"VideoRecorder"),Le.displayName="VideoRecorder";var Qe=s.default=Le},xhb0:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("EIVZ"),i=e.n(a),c=e("MaHh"),r=e.n(c),f=e("18hm"),l=e.n(f),p=e("V/As"),h=e("nd5U");const u=o(b=>{let{headerInfo:v,isUnlinked:d=!1}=b;const m=Object(p.b)(v,56);return t.a.createElement("div",{className:"p-identity_transfer_modal__logo"},t.a.createElement("div",{className:"p-identity_transfer_modal__logo--left"},t.a.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:i.a})),t.a.createElement("div",{className:"p-identity_transfer_modal__logo__arrows"},t.a.createElement("img",{alt:"",src:d?l.a:r.a})),t.a.createElement("div",{className:"p-identity_transfer_modal__logo--right"},t.a.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:m})))},"IdentityTransferModalLogo");u.displayName="IdentityTransferModalLogo",s.a=u},xueD:function(w,s,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the share dialog in client (noop)");t.meta={name:"createAction",key:"createActionopenShareDialogCircular",description:"Triggers a side-effect that opens the share dialog in client (noop)"},s.a=t},y4hh:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("P9LH"),i=e("FXMY"),c=e("beVI"),r=e("nNoG"),f=e("Tevt"),l=e("zxER"),p=e("8eQr"),h=e("CF/G"),u=e("G0eX");function b(O){let{teamId:E}=O;const y=Object(l.c)(C=>Object(c.s)(C,E));return y?t.a.createElement(t.a.Fragment,null,Object(u.h)(y)):null}o(b,"CanvasSharedOrgMessageTeamName");var v=e("2yT+"),d=e("/CFe");const m=new r.b("share-dialog");var g=s.a=t.a.memo(o(function(E){let{file:y,currentTab:C,switchTabs:I}=E;const j=Object(l.c)(P=>Object(i.a)(P,{file:y})),M=Object(l.c)(c.i),T=Object(n.useCallback)(()=>{I(v.a.Settings)},[I]),D=Object(a.cb)(y);if(!Object(a.u)(y)||C===v.a.Settings||!(D.length>1||j))return null;const S=Object(p.a)(M==null?void 0:M.id,D),A=S.length>3?m.rt("People from {orgCount} different organizations can view this canvas. {link}",{orgCount:D.length,link:I?t.a.createElement(f.a,{onClick:T},m.rt("See General")):null}):m.rt("People from {teamList} can view this canvas.",{teamList:Object(r.h)(S.map(P=>t.a.createElement(b,{key:P,teamId:P})),{conj:"and",react:!0,strong:!0})});return t.a.createElement("div",{className:"p-shared_msg_org__desc","data-qa":d.b.ORG_SHARING_MESSAGE},t.a.createElement(h.a,{teamIds:S.slice(0,3),size:16}),t.a.createElement("div",{"data-qa":d.b.ORG_SHARING_MESSAGE_LABEL},A))},"CanvasSharedOrgMessage"))},y6n1:function(w,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return i});var n=e("RVJP"),t=e("UIWO");const a=o(c=>Object(n.d)(c,"sc_getting_started_experiments1")==="treatment","scGettingStartedExperiments1Enabled"),i=o(c=>Object(t.a)(c)?!0:Object(n.d)(c,"sc_getting_started_experiments2")==="treatment","scGettingStartedExperiments2Enabled")},y8dB:function(w,s,e){"use strict";var n=e("NFsq"),t=e("TSHB"),a=e("BeL+");const i=["channel_join","channel_leave","group_join","group_leave"],c=["app_conversation_join","app_conversation_leave"],r=[...i,...c];function f(u){let{rollupSubtypes:b=r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object(n.a)(b,u)}o(f,"isRollupSubtype");const l=o(u=>u==="channel_join"||u==="group_join","isJoin"),p=o(u=>{const b={},v=[];for(let d=0;d<u.length;d++){const m=u[d];if(m&&v.push(m),Object(n.a)(c,m==null?void 0:m.subtype)&&(b[m.ts]={[m.user]:{action:m.subtype==="app_conversation_join"?"join":"leave",inviter:m.inviter,ts:m.ts,timestamps:[m.ts]}}),Object(n.a)(i,m==null?void 0:m.subtype)){for(b[m.ts]={[m.user]:{actions:[m.subtype],inviter:m.inviter,ts:m.ts,timestamps:[m.ts]}};d+1<u.length;){const g=u[d+1];if(Object(n.a)(i,g==null?void 0:g.subtype)){const O=b[m.ts][g.user]&&b[m.ts][g.user].actions;!O||!O.length?b[m.ts][g.user]={actions:[g.subtype],inviter:g.inviter,ts:g.ts,timestamps:[g.ts]}:O.length===1&&g.subtype!==O[0]?(O.push(g.subtype),b[m.ts][g.user].timestamps.push(g.ts),g.inviter&&(b[m.ts][g.user].inviter=g.inviter)):O.length===2&&g.subtype!==O[1]&&(b[m.ts][g.user].actions=[O[1],g.subtype],b[m.ts][g.user].timestamps.push(g.ts),g.inviter&&(b[m.ts][g.user].inviter=g.inviter)),d+=1}else break}b[m.ts]=Object(t.a)(b[m.ts],g=>{let{actions:O,inviter:E,ts:y,timestamps:C}=g;return{action:Object(a.a)(O.map(I=>l(I)?"join":"leave")).join(","),inviter:E,ts:y,timestamps:C}})}}return{messages:v,rollups:b}},"computeRollups");var h=s.a=p},yCtb:function(w,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){let{text:a,type:i}=t;return!!(a&&!a.trim()||i==="paragraph_break"||i==="line_break"||i==="space_hard")}o(n,"isMrkdwnWhitespace")},yH2S:function(w,s,e){"use strict";e.d(s,"a",function(){return h}),e.d(s,"b",function(){return v});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),i=e("2IYT"),c=e("zb/F"),r=e("nNoG");const f=new r.b("message"),l={code:"code",codeBlock:"codeBlock"};function p(d){let{children:m,blockType:g,...O}=d,E;const y=t.a.Children.only(m),C=t.a.cloneElement(y,{...O,ref:j=>{j&&(E=j)}}),I=Object(n.useCallback)(()=>[{label:g==="codeBlock"?f.t("Copy this code block"):f.t("Copy this code"),click:()=>E&&Object(c.e)(E.innerText)}],[g,E]);return t.a.createElement(i.a,{getTemplate:I},C)}o(p,"BaseCopyCodeBlockContextMenuTrigger"),p.displayName="BaseCopyCodeBlockContextMenuTrigger";const h=Object(a.a)(()=>({}),()=>({}))(p),u=t.a.forwardRef((d,m)=>{let{children:g,...O}=d;const E=t.a.Children.only(g);return t.a.cloneElement(E,{...O,ref:m,onMouseDown:b})});function b(d){if(d.button!==0||d.detail<3)return;d.preventDefault();const m=window.getSelection(),g=document.createRange();m==null||m.removeAllRanges(),g.selectNodeContents(d.currentTarget),m==null||m.addRange(g)}o(b,"selectContentsOnTripleMouseDown");const v=Object(a.a)(()=>({}),()=>({}),null,{forwardRef:!0})(u)},yHsb:function(w,s,e){"use strict";e.d(s,"b",function(){return y}),e.d(s,"a",function(){return C});var n=e("9oTK"),t=e("SQ0V"),a=e("s4P+"),i=e("kQBZ"),c=e("WCk1"),r=e("417x"),f=e("lvG7");const l=Object(c.a)("Get SIWS transfer payload",(j,M,T)=>{let{appId:D,clientMsgId:S,url:A,channelId:P}=T;return j(Object(i.Nf)({appId:D,clientMsgId:S,uri:A,reason:"siws-get-transfer-payload",channelId:P})).then(N=>({...Object(r.a)(N)})).catch(N=>{var G;throw((G=N.data)===null||G===void 0?void 0:G.error)==="invalid_client_cache"&&j(Object(f.a)()),N})});l.meta={name:"createFetcher",key:"createFetchergetTransferPayload",description:"Get SIWS transfer payload"};var p=l,h=e("eMSv"),u=e("kBpe"),b=e("q1tI"),v=e.n(b),d=e("3l96"),m=e("LaOi");const g=Object(t.c)("opens the Identity Transfer Modal when we want to Reverify Email",function(){var j=Object(n.coroutine)(function*(M,T,D){let{appId:S,domain:A,url:P,channelId:N}=D;M(Object(d.a)({element:v.a.createElement(m.a,{appId:S,domain:A,url:P,channelId:N,reverifyEmail:!0}),isStackable:!0}))});return function(M,T,D){return j.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkopenIdentityTransferReverificationModal",description:"opens the Identity Transfer Modal when we want to Reverify Email"};var O=e("RVJP");const E={window:null,appId:void 0},y=Object(t.c)("Fetch and open the initialization URL for an identity link",function(){var j=Object(n.coroutine)(function*(M,T,D){let{appId:S,url:A,domain:P,clientMsgId:N,shouldCloseWindowOnCompletion:G=!1,channelId:V}=D;const k=Object(a.a)({getState:T,label:"IDENTITY_LINKS"});let x=null;const H=Object(O.d)(T(),"identity_transfer_reverification_strings")==="on";try{if(Object(u.i)()){const{initiateUrl:R}=yield M(p({appId:S,clientMsgId:N,url:A,channelId:V}));window.open(R,"_blank","noopener,noreferrer")}else{x=window.open("","_blank");const{initiateUrl:R}=yield M(p({appId:S,clientMsgId:N,url:A,channelId:V}));x.location.href=R,k.info(`opened identity transfer window for appId ${S}`),G&&(E.window=x,E.appId=S)}}catch(R){const W=R==null?void 0:R.data;k.error(`error getting transfer payload for link with appId ${S}`,W==null?void 0:W.error),(W==null?void 0:W.error)===h.a.EmailNotVerified&&H?(x==null||x.close(),M(g({appId:S,channelId:V,domain:P,url:A}))):x?x.location.href=A:window.open(A,"_blank","noopener,noreferrer")}});return function(M,T,D){return j.apply(this,arguments)}}());y.meta={name:"createThunk",key:"createThunkopenIdentityTransferLink",description:"Fetch and open the initialization URL for an identity link"};const C=Object(t.c)("Close the browser window used for the identity transfer flow with the given app, if it exists",(j,M,T)=>{let{appId:D}=T;const S=Object(a.a)({getState:M,label:"IDENTITY_LINKS"});if(S.info(`checking if there's an identity transfer window to close for appId ${D}`),D&&E.appId===D&&E.window){try{var A,P;E==null||(A=E.window)===null||A===void 0||(P=A.close)===null||P===void 0||P.call(A),S.info(`closed identity transfer window for appId ${D}`)}catch(N){S.error(`error attempting to close identity transfer window for appId ${D}`,N)}E.window=null,E.appId=void 0}});C.meta={name:"createThunk",key:"createThunkcloseIdentityTransferWindowForAppId",description:"Close the browser window used for the identity transfer flow with the given app, if it exists"};const I={lastOpenedWindowRef:E}},yHuM:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),i=e("BHdc"),c=e("E3dU"),r=e("E97Y"),f=e("M2+7"),l=e("Ccc1"),p=e("QYtq"),h=e("Z29U"),u=e("NV6F"),b=e("QLhP"),v=e("nNoG"),d=e("/MKj"),m=e("GhjL"),g=e("OwMQ"),O=e("9Gfp"),E=e("DQNL"),y=e("i5Ig"),C=e("VSuV");const I=10,j=new v.b("channel_token"),M=o(P=>{let{userGroupId:N,targetBounds:G}=P;const V=Object(d.useDispatch)(),[k,x]=Object(n.useState)(!1),H=Object(a.c)(K=>Object(m.g)(K,N)),R=Object(a.c)(K=>Object(m.d)(K,N));var W;const U=(W=Object(a.c)(O.a))!==null&&W!==void 0?W:void 0,_=Object(E.u)(R),B=!_&&!Object(E.x)(R),z=H===y.a,L=!_&&!B&&z&&!k;if(Object(n.useEffect)(()=>{L&&(V(Object(g.a)({groupId:N,reason:"texty-tooltip"})),x(!0))},[V,N,L]),z)return null;let $=H.map((K,Z)=>t.a.createElement(C.a,{key:K,userId:K,isFirst:Z===0,isSelf:U===K}));H.length>I+1&&($=$.slice(0,I).concat(j.rt("{count} others",{count:H.length-I})));const Q=Object(v.h)($,{noEscape:!0,react:!0});return t.a.createElement(p.a,{isOpen:!0,position:"top",targetBounds:G,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},t.a.createElement(h.b,{position:"top",className:"c-tooltip__tip--usergroup"},Q))},"TextyTooltipUserGroup");M.displayName="TextyTooltipUserGroup";var T=M;const D=new v.b("channel_token"),S=o(P=>{let{memberId:N,userGroupId:G,channelId:V,title:k,targetBounds:x}=P;const H=Object(a.c)(U=>Object(c.d)(U,V));if(Object(a.c)(U=>Object(b.e)(U,N)))return t.a.createElement(p.a,{isOpen:!0,position:"top",targetBounds:x,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,offsetY:-12,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},Object(u.y)({hideCoveragePlanLink:!0,memberId:N,hideButtons:!0}));let W=k;if(N)W=t.a.createElement(f.b,{id:N,showAvatar:!0,showPresence:!0,invert:!0});else if(V){const U=Object(r.q)(H),_=Object(r.j)(H);!U&&_?W=D.t("Private channel info"):W=t.a.createElement(l.a,{channelId:V,invert:!0})}else if(G)return t.a.createElement(T,{targetBounds:x,userGroupId:G});return t.a.createElement(p.a,{isOpen:!0,position:"top",targetBounds:x,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},t.a.createElement(h.b,{position:"top",className:Object(i.default)({"c-tooltip__tip--member":N,"c-tooltip__tip--channel":V})},W))},"TextyTooltip");S.displayName="TextyTooltip";var A=s.a=S},yLDf:function(w,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("mM05"),t=e.n(n),a=e("XIp8"),i=e("m7fc"),c=e("F294"),r=e("2iJX"),f=e("qAkX"),l=e("0qhH"),p=e("XpTY"),h=e("W8kP"),u=e("nBOy");const b=/^\s+$/,v=/^\s+/,d=/\s+$/;function m(){let{ops:O,trimStart:E=!0,trimEnd:y=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!O||!O.length||!E&&!y)return O;let C=Object(a.a)(O);if(E){C=Object(i.a)(C,M=>Object(l.a)(M)&&(Object(l.b)(M).match(b)||M.insert==="")&&!Object(p.a)(M.attributes||{}));const I=Object(c.a)(C)||{},j=Object(u.a)(new t.a(C),0);if(Object(l.a)(I||{})&&!Object(p.a)(j||{})){const M=Object(l.b)(I).replace(v,()=>"");I.insert=M}}if(y){C=Object(r.a)(C,j=>Object(l.a)(j)&&(Object(l.b)(j).match(b)||j.insert==="")&&!Object(p.a)(j.attributes||{}));const I=Object(f.a)(C)||{};if(Object(l.a)(I)&&!Object(p.a)(I.attributes||{})){const j=Object(l.b)(I).replace(d,()=>"");I.insert=j}}return C}o(m,"trimOps");function g(){let{delta:O,trimStart:E=!0,trimEnd:y=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(O&&Object(h.a)(O))return O;const C=O==null?void 0:O.ops,I=m({ops:C,trimStart:E,trimEnd:y});return new t.a(I)}o(g,"trimDelta")},yMyB:function(w,s,e){"use strict";var n=e("SEZ6");const t=o((a,i)=>Object(n.b)(a,i),"canUndoSendMessagesInChannel");s.a=t},yRgB:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("ifKl"),c=e("zxER"),r=e("z28c"),f=e("sMre"),l=e("Oczg"),p=e("RVJP");function h(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.a;const v=Object(c.c)(l.c),d=Object(c.c)(r.a),[m,g]=Object(n.useReducer)(j=>j+1,0),O=Object(c.c)(j=>Object(p.d)(j,"correct_collab_for_org")==="on"),[E,y]=Object(n.useState)(v),C=d&&v===void 0,I=Object(a.useDispatch)();return Object(n.useEffect)(()=>{let j=!0;if(C){const M=u==null?void 0:u.startSpan("canvas:initialize-client");return I(Object(f.a)()).then(T=>{j&&(M==null||M.close(),u==null||u.addTags({client_load_success:!0}),O?g():y(T))}).catch(T=>{M==null||M.close(),u==null||u.addTags({client_load_success:!1,success:!1,error:`${T}`}),b==null||b(T)}),()=>{j=!1}}},[I,O,b,C,u]),O?v:E}o(h,"useQuip")},yUsG:function(w,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("jWAO"),c=e("WAPM");const r=new a.b("share-dialog");function f(l){let p,h;return l.useMultiSelect&&(l.postingToChannelDisallowed?(h="error",p=r.t("Cannot send message to this channel")):l.canShareToAppDm()?l.totalNumberDestinationMembers&&l.totalNumberDestinationMembers>8?(h="error",p=r.t("Only 9 people can be in a direct message.",{fallbackHash:"c5025ffb71ed93ce11de6543bdada04e1ade99b6"})):l.deactivatedMemberIds.length>0&&l.deactivatedMemberIds.length===l.destinationMemberIds.length&&(l.deactivatedMemberIds.length===1?(h="error",p=r.t("This account has been deactivated.")):(h="error",p=r.t("These accounts have been deactivated."))):(h="error",p=r.t("Sending messages to this app has been turned off"))),(l.isHostedFile||l.isHostedMessageFile)&&l.slackConnectFileSharingBlocked&&(h="default",p=r.t("Your admins have disabled file upload in this Slack Connect conversation.",{fallbackHash:"71383217c9d64f51dc2d041efbda8a8a4e8a3005",fallbackHashNs:"file-upload"})),l.destinationError==="invalid_user_combination"&&(h="error",p=l.isFreePlanTeam?r.rt("On the free plan, Slack Connect DMs are currently limited to one-on-one conversations. Need to work as a team? <a>Learn more about Slack Connect channels</a>",{fallbackHash:"b280216d36c500bdca4ad6778c0a88045a4ec1f0",fallbackHashNs:"drafts","<a>":b=>{let{text:v}=b;return t.a.createElement(c.a,{articleId:115004151203},v)}}):null),!p||!h?null:t.a.createElement(i.d,{className:"p-composer_page__destination_alert",level:h,type:"inline","data-qa":"share_dialog_alert_message"},p)}o(f,"ShareDialogAlertMessage")},yVVx:function(w,s,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),i=e("fujP"),c=e("SQ0V"),r=e("3l96"),f=e("dmdh"),l=e("P9LH"),p=e("7ibc"),h=e("FXMY"),u=e("P55c"),b=e("hjzp"),v=e("ylvb"),d=e("OtLZ"),m=e("Wy5O"),g=e("9Gfp"),O=e("E3dU"),E=e("Yauy"),y=e("E97Y"),C=e("gVOt"),I=e("y/e0"),j=e("gNhz");function M(V){let{state:k,channel:x}=V;if(Object(y.g)(x)){const H=Object(C.a)(x);return H?[H]:void 0}if(Object(y.i)(x)){const H=Object(g.a)(k),R=Object(E.C)(x)||[];return Object(d.a)(R,H)}}o(M,"getMemberIdsFromImOrMpim");var D=o(V=>{let{state:k,channelCanvas:x,embeddedCanvas:H}=V;if(!Object(l.g)(H)||!Object(l.h)(x))return null;const R=x.linked_channel_id;if(!R)return null;const W=Object(O.d)(k,R);if(Object(y.h)(W)){const z=M({state:k,channel:W});var U;const L=(U=Object(l.C)(H))!==null&&U!==void 0?U:[],$=Object(g.a)(k),Q=L.filter(J=>J.user_id!==$),K=Q.map(J=>J.user_id);if(Object(m.a)(z,K).length>0)return null;const ne=Q.map(J=>J.access);return ne.every(J=>J===ne[0])?ne[0]:j.a.Read}if(Object(I.a)(W)){const z=Object(l.Y)(H),L=Object(l.X)(H);if(z.includes(R)){var _;return(_=H.shares)===null||_===void 0?void 0:_.public[R][0].access}if(L.includes(R)){var B;return(B=H.shares)===null||B===void 0?void 0:B.private[R][0].access}return null}return null},"getAccessForChannelCanvasLinkedChannel"),S=e("2VFn"),A=e("GlHf"),P=e("Mqk2");const N=Object(c.c)("Opens the modal to share a quip doc",function(){var V=Object(n.coroutine)(function*(k,x,H){let{source:R,parentCanvasId:W,embeddedCanvasId:U,isNewStandaloneCanvas:_}=H;const B=x(),z=Object(p.f)(B);var L;const $=(L=Object(A.d)(B))!==null&&L!==void 0?L:S.c;if(!W||!U||!z)return;const Q=Object(f.e)(B,W),K=Object(f.e)(B,U);if(!Q||!K||!Object(l.g)(Q)||!Object(l.g)(K)&&!_)return;const Z=Object(h.a)(B,{file:K});if(!Object(l.h)(Q)||Object(l.h)(K)&&!_||!Object(l.Yb)(K)||Z)return;let ne;Object(i.a)(Object(l.N)(K))?ne=yield k(Object(P.d)({fileId:U,reason:"open-embedded-canvas-share-dialog"})):ne=K;const F=Object(b.a)(W),J=Object(l.X)(ne),X=D({state:B,channelCanvas:Q,embeddedCanvas:ne});if(X||J.includes(F)){var Y,ae,ee;const te=(Y=ne.shares)===null||Y===void 0||(ae=Y.private)===null||ae===void 0||(ee=ae[F])===null||ee===void 0?void 0:ee[0].access,de=X??te;k(Object(v.a)({parentCanvasId:Q.id,embeddedCanvasId:K.id,accessLevel:Object(l.Wb)(K)?de:j.a.Read,reason:"silent-share-embedded-canvas"}));return}const q=a.a.createElement(u.b,{parentCanvas:Q,embeddedCanvas:K,source:R});k(Object(r.a)({element:q,forceTargetWindowId:$!==S.c?$:void 0}))});return function(k,x,H){return V.apply(this,arguments)}}());N.meta={name:"createThunk",key:"createThunkmaybeOpenShareEmbeddedCanvasModal",description:"Opens the modal to share a quip doc"};var G=s.a=N},yVnW:function(w,s,e){"use strict"},yepT:function(w,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return c}),e.d(s,"e",function(){return r}),e.d(s,"d",function(){return f}),e.d(s,"c",function(){return l});var n=e("XIp8"),t=e("gPPH"),a=e("wOIf");const i=o(p=>{let{derivedData:h,subtype:u,teamId:b}=p;return{id:Object(t.a)(),type:a.EXTENSION,config:{app_action:{action_id:u??""}},...h?{derived:Object(n.a)(h)}:void 0,teamId:b}},"createExtensionStep"),c=o(p=>{var h,u;return p==null||(h=p.config)===null||h===void 0||(u=h.app_action)===null||u===void 0?void 0:u.action_id},"getActionId"),r=o(p=>{var h,u;return p==null||(h=p.config)===null||h===void 0||(u=h.app_action)===null||u===void 0?void 0:u.api_app_id},"getExtensionAppId"),f=o(p=>{var h,u;return p==null||(h=p.config)===null||h===void 0||(u=h.app_defined_config)===null||u===void 0?void 0:u.step_name},"getCustomStepName"),l=o(p=>{var h,u;return p==null||(h=p.config)===null||h===void 0||(u=h.app_defined_config)===null||u===void 0?void 0:u.step_image_url},"getCustomStepImageUrl")},yfOE:function(w,s,e){"use strict";e.d(s,"a",function(){return f}),e.d(s,"b",function(){return l}),e.d(s,"d",function(){return p}),e.d(s,"c",function(){return h}),e.d(s,"f",function(){return u}),e.d(s,"h",function(){return b}),e.d(s,"g",function(){return v}),e.d(s,"i",function(){return d}),e.d(s,"j",function(){return m}),e.d(s,"k",function(){return g}),e.d(s,"e",function(){return O});var n=e("gSGL"),t=e("vIgB"),a=e("lidC"),i=e("2IlT"),c=e("JhjB");const r={entities:{channels:{includeArchived:!1,includePrivate:!0,includeMpims:!1,onlyIfMember:!0}},sort:{frecency:!0},allowEmptyQuery:!0},f={...r,entities:{channels:{...r.entities.channels,includeFromAnotherTeam:!0}}},l={entities:{members:{includeSelf:!0,includeSlackbot:!1,includeBots:!1,onlyLocalTeam:!0,includeGuests:!1}},sort:{frecency:!0},allowEmptyQuery:!0},p={entities:{userGroups:{includeFromAnotherTeam:!0}},sort:{frecency:!0},allowEmptyQuery:!0},h={entities:{teams:{includeCurrentTeam:!0,onlyCurrentOrg:!1}},sort:{frecency:!0},allowEmptyQuery:!0},u=o((E,y)=>{if(!Object(c.a)(y))return!1;const C=Object(i.a)(E.list,y);return(C==null?void 0:C.type)===t.d.Array},"isArrayVariableReference"),b=o(E=>Object(a.d)(Number(E)),"itemNumberValidator"),v=o(E=>Object(a.c)(Number(E)),"itemIntegerValidator"),d=o(E=>Object(n.a)(E),"itemStringValidator"),m=o(E=>Object(n.a)(E)&&Number(E)>0,"itemTimestampValidator"),g=[t.d.SlackTypesUserId,t.d.SlackTypesChannelId,t.d.SlackTypesUserEmail,t.d.SlackTypesUsergroupId,t.d.SlackTypesTimestamp,t.d.String,t.d.Integer,t.d.Number,t.d.Boolean,t.d.SlackTypesTeamId];function O(E,y){return E.includes(y)}o(O,"arrayIncludes")},yhu1:function(w,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),i=e("Tevt"),c=e("WAPM"),r=e("Ccc1"),f=e("Cwwo"),l=e("G0eX"),p=e("ZerW");const h=new a.b("invite-errors"),u=o((b,v,d,m,g,O)=>{const{errorKey:E,accessType:y,currentTeamName:C,hostTeamName:I,channelName:j,channelId:M}=b,T=b.inviteesCount||1,D=Object(l.v)(null,"admin"),S=360003534892;switch(E){case"url_in_message":return h.t("Sorry, but URLs are not allowed in the custom message. Please remove it and try again!");case"invalid_email":return h.t("{inviteesCount, plural, =1 {That doesn\u2019t} other {These don\u2019t}} look like a valid email {inviteesCount, plural, =1 {address} other {addresses}}!",{inviteesCount:T});case"user_is_profile_only":case"already_in_team":case"already_in_team_invited_user":return h.t("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace.",{inviteesCount:T});case"user_disabled":return g?h.t("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace, but their account is deactivated. To manage their {inviteesCount, plural, =1 {account} other {accounts}} go to Workspace Settings > Manage Members.",{inviteesCount:T}):h.rt("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace, but their account is deactivated. You can <Link>manage</Link> their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T},A=>{let{text:P}=A;return t.a.createElement(i.a,{href:D},P)});case"already_invited":return h.t("{inviteesCount, plural, =1 {This person has} other {These people have}} already been invited to your workspace.",{inviteesCount:T});case"sent_recently":return h.t("{inviteesCount, plural, =1 {This person was} other {These people were}} recently invited. No need to invite them again just yet.",{inviteesCount:T});case"invite_failed":return h.t("Something went wrong with {inviteesCount, plural, =1 {this invite} other {this invites}} :(",{inviteesCount:T});case"ura_limit_reached":return h.t("You\u2019ve reached your workspace limit for Single-Channel Guests. You must invite more paid members first.");case"user_limit_reached":return h.t("You\u2019ve reached the maximum number of users for this workspace.");case"not_allowed":return h.t("You can\u2019t invite this type of account based on your current SSO settings.");case"custom_message_not_allowed":return h.t("Sorry, you can\u2019t add a custom message to this invite. Please remove it and try again!");case"domain_mismatch":return h.t("Your SSO settings prevent you from inviting people from this email domain.");case"invite_limit_reached":return g?h.t("Your workspace has reached its invitation limit. Once people accept the existing invitations, you\u2019ll be able to send out more."):h.rt("Your workspace has exceeded the limit on invitations. After more people have accepted the ones your workspace has sent, you can send more. Revoking invitations will not lift the limit. Our Help Center has <Link>more details on invitation limits</Link>.",null,A=>{let{text:P}=A;return t.a.createElement(c.a,{articleId:201330256,hash:"invitation-limits",forceOpenInBrowser:!0},P)});case"too_long":return h.t("{inviteesCount, plural, =1 {This person\u2019s name exceeds} other {These people\u2019s names exceed}} the 35-character limit.",{inviteesCount:T});case"org_user_is_disabled":return h.t("{inviteesCount, plural, =1 {This person has a deactivated account} other {These people have deactivated accounts}} for your organization.",{inviteesCount:T});case"org_user_is_disabled_but_present":return h.t("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace, but they have been deactivated by your organization. Contact an organization administrator to re-enable their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T});case"mismatch_with_pending_team_invite":switch(y){case f.a.SingleChannelGuest:return h.t("{inviteesCount, plural, =1 {This person} other {These people}} can\u2019t be invited, because they have already been invited as a Single-Channel Guest to your organization.",{inviteesCount:T});case f.a.MultiChannelGuest:return h.t("{inviteesCount, plural, =1 {This person} other {These people}} can\u2019t be invited, because they have already been invited as a Multi-Channel Guest to your organization.",{inviteesCount:T});default:return h.t("{inviteesCount, plural, =1 {This person} other {These people}} can\u2019t be invited, because they have already been invited as a Full Member to your organization.",{inviteesCount:T})}case"user_type_mismatch":return h.t("{inviteesCount, plural, =1 {This person already has an account} other {These people already have accounts}} for your organization.",{inviteesCount:T});case"org_user_is_restricted":return h.t("{inviteesCount, plural, =1 {This person already has a Multi-Channel Guest account} other {These people already have Multi-Channel Guest accounts}} for your organization, so you can only invite them in that role.",{inviteesCount:T});case"org_user_is_ultra_restricted":return h.t("{inviteesCount, plural, =1 {This person already has a Single-Channel Guest account} other {These people already have Single-Channel Guest accounts}} for your organization, so you can only invite them in that role.",{inviteesCount:T});case"org_user_not_ultra_restricted":case"org_user_not_restricted":return h.t("{inviteesCount, plural, =1 {This person already has a Full Member account} other {These people already have Full Member accounts}} for your organization, so you can only invite them in that role.",{inviteesCount:T});case"requires_channel":return h.t("Pick at least one channel before inviting Multi-Channel Guests.");case"requires_one_channel":return h.t("Pick a channel before inviting Single-Channel Guests.");case"already_requested":return h.t("You have already requested an invite for {inviteesCount, plural, =1 {this person} other {these people}}. We\u2019ll update you when an admin approves or denies this request.",{inviteesCount:T});case"existing_request":return h.t("Someone has already requested an invite for {inviteesCount, plural, =1 {this person} other {these people}}. We\u2019ll update you when an admin approves or denies this request.",{inviteesCount:T});case"not_enough_channels":return h.t("This person is a Single-Channel Guest and can\u2019t be added to a second channel.");case"already_in_channel":return h.t("{inviteesCount, plural, =1 {User is} other {Users are}} already in this channel.",{inviteesCount:T});case"channel_not_found":return h.t("A valid channel name is required.",{});case"user_not_found":return h.t("This user can\u2019t be added.");case"method_not_supported_for_channel_type":return h.t("A valid channel name is required.",{});case"user_is_restricted":return h.t("{inviteesCount, plural, =1 {User is a Multi-Channel Guest} other {Users are Multi-Channel Guests}}. Only your Workspace Admin can add them to a channel.",{inviteesCount:T});case"org_user_not_in_team":case"invitee_is_not_a_member_of_this_workspace":return h.t("{inviteesCount, plural, =1 {This person isn\u2019t} other {These people aren\u2019t}} a member of any workspaces where this channel lives, so they can\u2019t be added to it. You might want to try again from channel details.",{currentTeamName:C,inviteesCount:T,fallbackHash:"c71a7a230a60170fceecfda9a0797fcab6337ade"});case"too_many_users":return h.t("You can only add up to 1,000 users at a time.");case"cant_invite_to_managed_channel":return M?h.rt("It looks like {inviteesCount, plural, =1 {this user isn\u2019t} other {these users aren\u2019t}} in an IDP group connected to <t1></t1>, so it\u2019s not possible to add them to this channel.",{channelName:j,inviteesCount:T,"<t1>":()=>t.a.createElement(r.a,{channelId:M})}):h.t("It looks like {inviteesCount, plural, =1 {this user isn\u2019t} other {these users aren\u2019t}} in an IDP group connected to #{channelName}, so it\u2019s not possible to add them to this channel.",{inviteesCount:T,channelName:j});case"no_urls_allowed":return h.t("Unfortunately, custom messages can\u2019t contain URLs.");case"team_user_disabled_org_user_active":return d&&v&&g?h.t("{inviteesCount, plural, =1 {This person has} other {These people have}} been removed from this workspace. To manage their {inviteesCount, plural, =1 {account} other {accounts}} go to Workspace Settings > Manage Members.",{inviteesCount:T}):d&&v&&!g?h.rt("{inviteesCount, plural, =1 {This person has} other {These people have}} been removed from this workspace. You can <Link>manage</Link> their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T},A=>{let{text:P}=A;return t.a.createElement(i.a,{href:D},P)}):d||g?h.t("{inviteesCount, plural, =1 {This person has} other {These people have}} been removed from this workspace. Contact an admin to manage their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T}):h.rt("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace, but their account is deactivated. You can <Link>manage</Link> their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T},A=>{let{text:P}=A;return t.a.createElement(i.a,{href:D},P)});case"too_many_members":return g?h.t("This channel has reached capacity, so you can\u2019t add more people right now."):h.rt("This channel is only allowed a certain number of members, so you can\u2019t add more people right now. <a>Reach out to your admins</a> if you have questions.",null,A=>{let{text:P}=A;return t.a.createElement(c.a,{articleId:S,hash:"find-owners-and-admins",forceOpenInBrowser:!0},P)});case"no_perms":return h.t("You can\u2019t invite {inviteesCount, plural, =1 {this person} other {these people}} based on your\xA0organization\u2019s settings.",{inviteesCount:T});case"cant_invite":return h.t("{inviteesCount, plural, =1 {This person} other {These people}} can\u2019t be added to the channel because they may not have Slack Connect enabled, or may not have permission to use it.",{inviteesCount:T});case"restricted_action":return h.rt("Your organization\u2019s settings prevent you from using <strong>Slack Connect</strong> to invite people outside of {currentTeamName}.",{currentTeamName:C});case"not_allowed_for_grid_workspace":return m?t.a.createElement(p.a,{processingOrgMembers:!1,canConvertToExternalSharedChannel:!1,channel:m}):void 0;case"not_owner":return I?h.rt("Only the channel owner, {hostTeam}, can invite additional organizations to join this channel.",{hostTeam:I}):h.t("Only the channel owner can add people to this channel.");case"user_cannot_view_record":return O?h.t("{inviteesCount, plural, =1 {This person} other {These people}} cannot view this record. You might want to modify their permissions in Salesforce.",{inviteesCount:T}):"This person cannot view this record. You might want to modify their permissions in Salesforce.";case"fatal_error":return h.rt("<b>Something went wrong.</b> Sorry about that \u2014 please try again later, and contact Slack if this problem persists.",{fallbackHash:"878b2348d4744f144224180a68a308032036d775",fallbackHashNs:"enterprise_settings"});default:return}},"getInviteErrorText");u.displayName="getInviteErrorText"},yvAn:function(w,s,e){"use strict";var n=e("9oTK"),t=e("Lgge"),a=e("s4P+"),i=e("ykb+"),c=e("vaRI");function r(){return new Worker(e.p+"gantry-v2-eval-test.worker.js")}o(r,"Worker_fn");function f(){return new t.a(I=>{const j=Object(i.b)()||Object(i.f)()||Object(i.c)()?new r:new Worker("/eval-test.worker.js");j.addEventListener("message",M=>{j.terminate(),I(M.data)})})}o(f,"canEvalInWorker");function l(){return p.apply(this,arguments)}o(l,"supportsStreamRendererWorker");function p(){return p=Object(n.coroutine)(function*(){return!("MediaStreamTrackProcessor"in window)||!("MediaStreamTrackGenerator"in window)||!("OffscreenCanvas"in window)||!("ImageBitmap"in window)||!("createImageBitmap"in window)?!1:f()}),p.apply(this,arguments)}o(p,"_supportsStreamRendererWorker");var h=e("JBzN");const u=20,b=8,v=1e3/20,d=1280,m=720,g=1920,O=1080,E=5e3;let y=o(class to extends EventTarget{addEventListener(j,M){super.addEventListener(j,M)}static getMIMEType(){return["video/mp4;codecs=avc1,mp4a","video/x-matroska;codecs=avc1,mp4a","video/webm;codecs=avc1,mp4a","video/mp4;codecs=avc1","video/x-matroska;codecs=avc1","video/webm;codecs=avc1","video/mp4","video/webm"].find(M=>MediaRecorder.isTypeSupported(M))}static getAudioMIMEType(){return["audio/mp4","audio/webm;codecs=opus","audio/webm"].find(j=>MediaRecorder.isTypeSupported(j))}initEffectRenderer(j,M){var T=this;return Object(n.coroutine)(function*(){if(!T.canvas)return;T.dispatchEvent(new Event("loadingstart"));const D=(yield Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-effect-renderer"),e.e("gantry-v2-async-effect-renderer")]).then(e.bind(null,"XOBc"))).default;T.effectRenderer=new D({mode:j,video:T.cameraVideo,width:T.canvas.width,height:T.canvas.height}),M&&T.effectRenderer.setBg(M),T.useEffectRendererWorker?yield T.effectRenderer.predict():(yield T.effectRenderer.modelP,T.effectRenderer.initPredict()),T.dispatchEvent(new Event("loadingend"))})()}startMicrophone(){var j=this;return Object(n.coroutine)(function*(){if(j.microphoneOn&&j.microphoneStream)return j.microphoneStream;if(j.microphoneStreamPromise)return j.microphoneStreamPromise;if(!(yield Object(c.a)("microphone"))){const D=new Error("system access to microphone not granted");throw j.dispatchEvent(new ErrorEvent("microphoneerror",{error:D,message:D.message})),D}const T={audio:{autoGainControl:j.autoGainControl,noiseSuppression:j.noiseSuppression,echoCancellation:{ideal:!1},deviceId:j.microphoneId},video:!1};j.microphoneStreamPromise=t.a.resolve(navigator.mediaDevices.getUserMedia(T));try{j.microphoneStream=yield j.microphoneStreamPromise}catch(D){throw j.stopMicrophone(),j.dispatchEvent(new ErrorEvent("microphoneerror",{error:D,message:D.message})),D}finally{j.microphoneStreamPromise=void 0}return j.microphoneStream.addEventListener("inactive",()=>{j.stopMicrophone()}),j.microphoneStream.getTracks().forEach(D=>{D.addEventListener("ended",()=>{j.stopMicrophone()})}),j.microphoneOn=!0,!j.rendering&&!j.useStreamRendererWorker&&j.render(),j.dispatchEvent(new Event("microphonestart")),j.microphoneStream})()}stopMicrophone(){var j=this;return Object(n.coroutine)(function*(){var M;j.microphoneStreamPromise&&(yield j.microphoneStreamPromise),!(!j.microphoneOn||!j.microphoneStream)&&(j.microphoneOn=!1,j.microphoneStream.getTracks().forEach(T=>T.stop()),j.microphoneStream=void 0,(M=j.cameraStream)===null||M===void 0||M.getAudioTracks().forEach(T=>T.stop()),j.dispatchEvent(new Event("microphoneend")))})()}startCamera(){var j=this;return Object(n.coroutine)(function*(){if(j.cameraOn&&j.cameraStream)return j.cameraStream;if(j.cameraStreamPromise)return j.cameraStreamPromise;const M={audio:{autoGainControl:j.autoGainControl,noiseSuppression:j.noiseSuppression,echoCancellation:{ideal:!1},deviceId:j.microphoneId},video:{deviceId:j.cameraId,width:j.width,height:j.height}};j.cameraStreamPromise=t.a.resolve(navigator.mediaDevices.getUserMedia(M));try{j.cameraStream=yield j.cameraStreamPromise}catch(T){throw j.stopCamera(),j.dispatchEvent(new ErrorEvent("cameraerror",{error:T,message:T.message})),T}finally{j.cameraStreamPromise=void 0}return j.cameraStream.addEventListener("inactive",()=>{j.stopCamera()}),j.cameraStream.getVideoTracks().forEach(T=>{T.addEventListener("ended",()=>{j.stopCamera()})}),j.cameraVideo.srcObject=j.cameraStream,j.cameraVideo.muted=!0,j.cameraVideo.play(),j.cameraOn=!0,(yield j.useStreamRendererWorker)?(j.cameraReadable=new MediaStreamTrackProcessor({track:j.cameraStream.getVideoTracks()[0]}).readable,j.updateStreamRendererWorker({cameraReadable:j.cameraReadable})):j.rendering||j.render(),j.dispatchEvent(new Event("camerastart")),j.cameraStream})()}stopCamera(){var j=this;return Object(n.coroutine)(function*(){j.cameraStreamPromise&&(yield j.cameraStreamPromise),!(!j.cameraOn||!j.cameraStream)&&(j.cameraOn=!1,j.cameraStream.getTracks().forEach(M=>M.stop()),j.cameraStream=void 0,j.cameraVideo.srcObject=null,j.dispatchEvent(new Event("cameraend")))})()}startScreenCapture(j){var M=this;return Object(n.coroutine)(function*(){if(M.screenOn&&M.screenStream)return M.screenStream;if(M.screenStreamPromise)return M.screenStreamPromise;if(j){const T={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:j,maxWidth:M.screenWidth,maxHeight:M.screenHeight,maxFrameRate:30}}},D=navigator.mediaDevices;M.screenStreamPromise=D.getUserMedia(T)}else{const T={audio:!1,video:{width:M.screenWidth,height:M.screenHeight,cursor:"always",frameRate:30}},D=navigator.mediaDevices;M.screenStreamPromise=t.a.resolve(D.getDisplayMedia(T))}try{M.screenStream=yield M.screenStreamPromise}catch(T){throw M.stopScreenCapture(),M.dispatchEvent(new ErrorEvent("screenerror",{error:T,message:T.message})),T}finally{M.screenStreamPromise=void 0}return M.screenStream.addEventListener("inactive",()=>{M.stopScreenCapture()}),M.screenStream.getTracks().forEach(T=>{T.addEventListener("ended",()=>{M.stopScreenCapture()})}),M.screenVideo.srcObject=M.screenStream,M.screenVideo.muted=!0,M.screenVideo.play(),M.screenOn=!0,M.useCanvasRecording=!0,M.resetGCO(),(yield M.useStreamRendererWorker)?(M.screenReadable=new MediaStreamTrackProcessor({track:M.screenStream.getVideoTracks()[0]}).readable,M.updateStreamRendererWorker({screenReadable:M.screenReadable})):M.rendering||M.render(),M.dispatchEvent(new Event("screenstart")),M.screenStream})()}stopScreenCapture(){!this.screenOn||!this.screenStream||(this.screenOn=!1,this.screenStream.getTracks().forEach(j=>j.stop()),this.screenStream=void 0,this.screenVideo.srcObject=null,this.dispatchEvent(new Event("screenend")))}startDummyAudio(){this.dummyAudioContext=new(window.AudioContext||window.webkitAudioContext);const j=this.dummyAudioContext.destination,M=this.dummyAudioContext.createGain();M.gain.value=.001,M.connect(j);const T=this.dummyAudioContext.createOscillator();T.frequency.value=10,T.connect(M),T.start()}stopDummyAudio(){this.dummyAudioContext&&this.dummyAudioContext.close()}startAudioRecording(){var j;if(this.recording)return;const M=(j=this.microphoneStream)===null||j===void 0?void 0:j.getTracks()[0];M&&(this.audioRecordStream=new MediaStream([M]),this.audioRecordData=[],this.audioMediaRecorder=new MediaRecorder(this.audioRecordStream,{mimeType:this.mimeType,audioBitsPerSecond:128e3}),this.audioMediaRecorder.addEventListener("dataavailable",T=>{T.data&&T.data.size>0&&this.audioRecordData.push(T.data)}),this.audioMediaRecorder.addEventListener("stop",()=>{const T=new Blob(this.audioRecordData,{type:this.mimeType});this.dispatchEvent(new BlobEvent("recordingend",{data:T})),this.recording=!1}),this.audioMediaRecorder.start(E),this.dispatchEvent(new Event("recordingstart")),this.recording=!0)}stopAudioRecording(){var j;this.recording&&(this.stopDummyAudio(),(j=this.audioMediaRecorder)===null||j===void 0||j.stop(),this.recording=!1)}startRecording(){var j,M,T,D;if(this.recording||!this.canvas||!this.mimeType)return;this.useCanvasRecording=this.screenOn||!!this.bgBlur||!!this.bgImg;let S;this.rendererTrackGenerator?S=this.rendererTrackGenerator:(this.canvasStream=this.canvas.captureStream(30),S=this.canvasStream.getTracks()[0]);const A=(j=this.cameraStream)===null||j===void 0?void 0:j.getVideoTracks()[0];var P;const N=(P=(M=this.cameraStream)===null||M===void 0?void 0:M.getAudioTracks()[0])!==null&&P!==void 0?P:(T=this.microphoneStream)===null||T===void 0?void 0:T.getTracks()[0];this.cameraOn&&this.microphoneOn&&!(!((D=this.cameraStream)===null||D===void 0)&&D.getAudioTracks()[0])&&this.logger.info("camera is on but could not get audio track from the camera stream. Fell back to microphone stream");const G=[];S&&G.push(S);const V=[];if(A&&V.push(A),this.microphoneOn&&N&&(G.push(N),V.push(N)),!G.length&&!V.length)throw new Error("no tracks to record");this.canvasRecordStream=new MediaStream(G),this.canvasRecordData=[],this.canvasMediaRecorder=new MediaRecorder(this.canvasRecordStream,{mimeType:this.mimeType,videoBitsPerSecond:8e6,audioBitsPerSecond:128e3}),this.canvasMediaRecorder.addEventListener("dataavailable",k=>{k.data&&k.data.size>0&&(this.canvasRecordData.push(k.data),this.logger.info(`canvas recorder got ${k.data.size} bytes, total ${this.canvasRecordData.reduce((x,H)=>x+H.size,0)}`))}),this.canvasMediaRecorder.addEventListener("stop",()=>{const k=new Blob(this.canvasRecordData,{type:this.mimeType});this.useCanvasRecording&&(this.logger.info("using canvas recording"),this.dispatchEvent(new BlobEvent("recordingend",{data:k}))),this.recording=!1}),this.canvasMediaRecorder.start(E),this.logger.info("Started canvas media recorder"),this.useCanvasRecording||(this.cameraRecordStream=new MediaStream(V),this.cameraRecordData=[],this.cameraMediaRecorder=new MediaRecorder(this.cameraRecordStream,{mimeType:this.mimeType,videoBitsPerSecond:4e6,audioBitsPerSecond:128e3}),this.cameraMediaRecorder.addEventListener("dataavailable",k=>{k.data&&k.data.size>0&&(this.logger.info(`camera recorder got ${k.data.size} bytes`),this.cameraRecordData.push(k.data))}),this.cameraMediaRecorder.addEventListener("stop",()=>{const k=new Blob(this.cameraRecordData,{type:this.mimeType});this.useCanvasRecording||(this.logger.info("using camera recording"),this.dispatchEvent(new BlobEvent("recordingend",{data:k}))),this.recording=!1}),this.cameraMediaRecorder.start(E),this.logger.info("Started camera media recorder")),this.dispatchEvent(new Event("recordingstart")),this.startDummyAudio(),this.recording=!0,this.frameTimings={last:0,sum:0,count:0,drops:0,draw:0}}stopRecording(){this.recording&&(this.stopDummyAudio(),this.canvasMediaRecorder&&this.canvasMediaRecorder.state!=="inactive"&&this.canvasMediaRecorder.stop(),this.cameraMediaRecorder&&this.cameraMediaRecorder.state!=="inactive"&&this.cameraMediaRecorder.stop(),this.recording=!1)}stop(){var j=this;return Object(n.coroutine)(function*(){var M;if(!j.useStreamRendererWorker&&(!((M=j.frameTimings)===null||M===void 0)&&M.count)&&j.cameraOn){var T;j.dispatchEvent(new CustomEvent("frametimingdata",{detail:{frameTimings:j.frameTimings,effect:(T=j.effectRenderer)===null||T===void 0?void 0:T.mode}})),j.frameTimings=void 0}if(j.stopRecording(),j.stopScreenCapture(),j.stopCamera(),j.stopMicrophone(),j.renderTimeout&&(clearTimeout(j.renderTimeout),j.renderTimeout=void 0),j.streamRendererWorker){const D=new t.a(S=>{j.onFrameTimingData=S});(yield j.streamRendererWorker).postMessage({type:"end"}),yield D}})()}pauseRecording(){var j,M,T;((j=this.canvasMediaRecorder)===null||j===void 0?void 0:j.state)==="recording"&&this.canvasMediaRecorder.pause(),((M=this.cameraMediaRecorder)===null||M===void 0?void 0:M.state)==="recording"&&this.cameraMediaRecorder.pause(),((T=this.audioMediaRecorder)===null||T===void 0?void 0:T.state)==="recording"&&this.audioMediaRecorder.pause(),this.recordingPaused=!0,this.dispatchEvent(new Event("recordingpaused"))}resumeRecording(){var j,M,T;((j=this.canvasMediaRecorder)===null||j===void 0?void 0:j.state)==="paused"&&this.canvasMediaRecorder.resume(),((M=this.cameraMediaRecorder)===null||M===void 0?void 0:M.state)==="paused"&&this.cameraMediaRecorder.resume(),((T=this.audioMediaRecorder)===null||T===void 0?void 0:T.state)==="paused"&&this.audioMediaRecorder.resume(),this.recordingPaused=!1,this.dispatchEvent(new Event("recordingresumed"))}toggleBgBlur(){var j=this;return Object(n.coroutine)(function*(){j.bgImg&&j.clearBgImage(),j.bgBlur=!j.bgBlur,(yield j.useStreamRendererWorker)?j.updateStreamRendererWorker({effect:j.bgBlur?"blur":!1}):(j.effectRenderer?j.effectRenderer.setMode("blur"):yield j.initEffectRenderer("blur"),j.bgBlur?(j.useCanvasRecording=!0,j.canvas&&(j.canvas.width=j.width,j.canvas.height=j.height)):j.canvas&&(j.resetGCO(),j.canvas.width=j.screenWidth,j.canvas.height=j.screenHeight)),j.effectRenderer&&j.canvas&&j.effectRenderer.setDimensions(j.canvas.width,j.canvas.height)})()}setBgImage(j){var M=this;return Object(n.coroutine)(function*(){if(M.bgBlur&&M.toggleBgBlur(),M.bgImg=j,yield M.useStreamRendererWorker){const{width:T,height:D}=Object(h.b)({sourceWidth:j.width,sourceHeight:j.height,targetWidth:M.width,targetHeight:M.height}),S=yield createImageBitmap(j,{resizeWidth:T,resizeHeight:D});M.updateStreamRendererWorker({effect:"bg",bgImg:S})}else M.effectRenderer?(M.effectRenderer.setMode("bg"),M.effectRenderer.setBg(j)):yield M.initEffectRenderer("bg",j),M.useCanvasRecording=!0})()}clearBgImage(){var j=this;return Object(n.coroutine)(function*(){j.resetGCO(),j.bgImg=null,(yield j.useStreamRendererWorker)&&j.updateStreamRendererWorker({effect:!1})})()}resetGCO(){this.ctx&&(this.ctx.globalCompositeOperation="copy")}maybeLogFrameTimings(){if(this.frameTimings){const{sum:j,count:M,drops:T,draw:D}=this.frameTimings;if(M>0&&M%300===0){const S=1e3/(j/M),A=T/M,P=D/M;this.logger.info(`fps: ${S}, relative drops: ${A}, draw time: ${P}`)}}}render(){var j=this;return Object(n.coroutine)(function*(){if(yield j.useStreamRendererWorker)throw new Error("rendering but using worker??");if(!j.ctx||!j.canvas){j.rendering=!1;return}if(!j.cameraOn&&!j.screenOn){j.ctx.clearRect(0,0,j.canvas.width,j.canvas.height),j.rendering=!1;return}j.rendering=!0;const M=performance.now();if(j.frameTimings){if(j.frameTimings.last!==0){const S=M-j.frameTimings.last;j.frameTimings.sum+=S,j.frameTimings.count+=1,S>v&&(j.frameTimings.drops+=1)}j.frameTimings.last=M}if(j.screenOn){j.ctx.clearRect(0,0,j.screenWidth,j.screenHeight);const{x:S,y:A,width:P,height:N}=Object(h.c)({sourceWidth:j.screenVideo.videoWidth,sourceHeight:j.screenVideo.videoHeight,targetWidth:j.canvas.width,targetHeight:j.canvas.height});if(j.ctx.drawImage(j.screenVideo,S,A,P,N),j.cameraOn){j.ctx.save();const G=j.canvas.height/5,{width:V,height:k}=Object(h.c)({sourceWidth:j.cameraVideo.videoWidth,sourceHeight:j.cameraVideo.videoHeight,targetWidth:1/0,targetHeight:G}),x=j.canvas.width-G-u,H=j.canvas.height-G-u,R=x+(G-V)/2,W=H;if(Object(h.a)(j.ctx,{x,y:H,width:G,height:G,radius:b,clip:!0}),j.effectRenderer&&(j.bgBlur||j.bgImg)){const U=yield j.effectRenderer.render();U&&j.ctx.drawImage(U,R,W,V,k)}else j.ctx.drawImage(j.cameraVideo,R,W,V,k);j.ctx.restore()}}else if(j.cameraOn){const{x:S,y:A,width:P,height:N}=Object(h.c)({sourceWidth:j.cameraVideo.videoWidth,sourceHeight:j.cameraVideo.videoHeight,targetWidth:j.canvas.width,targetHeight:j.canvas.height});j.canvas&&j.effectRenderer&&(j.bgBlur||j.bgImg)?(yield j.effectRenderer.render(),j.ctx.drawImage(j.effectRenderer.canvas,0,0)):j.ctx.drawImage(j.cameraVideo,S,A,P,N)}else j.ctx.clearRect(0,0,j.canvas.width,j.canvas.height);j.frameTimings&&(j.frameTimings.draw+=performance.now()-j.frameTimings.last);const D=performance.now()-M;j.renderTimeout=setTimeout(j.render.bind(j),j.renderInterval-D),j.maybeLogFrameTimings()})()}initStreamRendererWorker(){var j=this;return Object(n.coroutine)(function*(){if(!j.canvas)return;Object(i.b)()||Object(i.f)()||Object(i.c)()?j.streamRendererWorker=new t.a(D=>{e.e("gantry-v2-async-stream-renderer").then(e.bind(null,"r/fM")).then(S=>{const A=S.default;D(new A)})}):j.streamRendererWorker=t.a.resolve(new Worker("/stream-renderer.worker.js"));const M=yield j.streamRendererWorker;j.rendererTrackGenerator=new MediaStreamTrackGenerator({kind:"video"}),j.rendererWritable=j.rendererTrackGenerator.writable,j.rendererStream=new MediaStream([j.rendererTrackGenerator]);const T=j.rendererWritable;M.postMessage({type:"init",writable:T,width:j.width,height:j.height},[T]),M.addEventListener("message",D=>{if(D.data.type==="frametimingdata"){var S;D.data.frameTimings.count&&j.dispatchEvent(new CustomEvent("frametimingdata",{detail:{frameTimings:D.data.frameTimings,effect:D.data.effect}})),(S=j.onFrameTimingData)===null||S===void 0||S.call(j)}else D.data.type==="loading"&&(D.data.loading?j.dispatchEvent(new Event("loadingstart")):j.dispatchEvent(new Event("loadingend")))}),j.dispatchEvent(new Event("rendererstream"))})()}updateStreamRendererWorker(j){var M=this;return Object(n.coroutine)(function*(){if(!M.streamRendererWorker)return;const T={type:"update",...j},D=[];T.cameraReadable&&D.push(T.cameraReadable),T.screenReadable&&D.push(T.screenReadable),T.bgImg&&D.push(T.bgImg),(yield M.streamRendererWorker).postMessage(T,D)})()}constructor({width:j=d,height:M=m,screenWidth:T=g,screenHeight:D=O,canvas:S,microphoneId:A,cameraId:P,noiseSuppression:N=!1,autoGainControl:G=!1,shouldStartCamera:V=!0,shouldStartScreenCapture:k=!1,shouldStartMicrophone:x=!0,audioOnly:H=!1,bgBlur:R=!1,bgImg:W=null,useEffectRendererWorker:U=!1,useStreamRendererWorker:_=!1}){super(),this.useStreamRendererWorker=t.a.resolve(_&&l()),this.width=j,this.height=M,this.screenWidth=T,this.screenHeight=D,this.rendering=!1,this.recording=!1,this.recordingPaused=!1,this.microphoneOn=!1,this.cameraOn=!1,this.screenOn=!1,this.audioOnly=H,A&&(this.microphoneId=A),P&&(this.cameraId=P),this.noiseSuppression=N,this.autoGainControl=G,this.cameraVideo=document.createElement("video"),this.screenVideo=document.createElement("video"),!H&&S&&(this.canvas=S,this.canvas&&(this.canvas.width=R?this.width:this.screenWidth),this.canvas&&(this.canvas.height=R?this.height:this.screenHeight),this.useStreamRendererWorker.then(B=>{B||(this.ctx=S.getContext("2d",{alpha:!1}))})),this.mimeType=H?to.getAudioMIMEType():to.getMIMEType(),this.canvasRecordData=[],this.cameraRecordData=[],this.audioRecordData=[],this.useCanvasRecording=!1,this.renderInterval=30,x&&this.startMicrophone(),!H&&V&&this.startCamera(),!H&&k&&this.startScreenCapture(),H||(this.bgBlur=R,this.bgImg=W,this.cameraVideo.width=j,this.cameraVideo.height=M),this.useEffectRendererWorker=U,this.useStreamRendererWorker.then(B=>{B&&this.initStreamRendererWorker()}),this.logger=Object(a.b)({label:"STREAM-MANAGER"})}},"StreamManager");y.displayName="StreamManager";var C=s.a=y},"z+Hh":function(w,s,e){"use strict";e.d(s,"a",function(){return j}),e.d(s,"D",function(){return P}),e.d(s,"E",function(){return N}),e.d(s,"G",function(){return G}),e.d(s,"n",function(){return V}),e.d(s,"y",function(){return k}),e.d(s,"o",function(){return x}),e.d(s,"m",function(){return R}),e.d(s,"O",function(){return B}),e.d(s,"F",function(){return L}),e.d(s,"r",function(){return $}),e.d(s,"h",function(){return Q}),e.d(s,"H",function(){return K}),e.d(s,"w",function(){return ne}),e.d(s,"x",function(){return F}),e.d(s,"B",function(){return Y}),e.d(s,"z",function(){return ae}),e.d(s,"q",function(){return ee}),e.d(s,"b",function(){return q}),e.d(s,"p",function(){return te}),e.d(s,"t",function(){return se}),e.d(s,"c",function(){return re}),e.d(s,"d",function(){return oe}),e.d(s,"u",function(){return ce}),e.d(s,"l",function(){return Pe}),e.d(s,"f",function(){return Ye}),e.d(s,"C",function(){return $e}),e.d(s,"e",function(){return qe}),e.d(s,"v",function(){return ct}),e.d(s,"P",function(){return Be}),e.d(s,"N",function(){return pe}),e.d(s,"s",function(){return fe}),e.d(s,"V",function(){return me}),e.d(s,"T",function(){return Se}),e.d(s,"U",function(){return le}),e.d(s,"S",function(){return he}),e.d(s,"Q",function(){return Te}),e.d(s,"g",function(){return Ee}),e.d(s,"A",function(){return Ae}),e.d(s,"i",function(){return Ze}),e.d(s,"k",function(){return ze}),e.d(s,"j",function(){return lt}),e.d(s,"M",function(){return Ct}),e.d(s,"K",function(){return St}),e.d(s,"L",function(){return zt}),e.d(s,"I",function(){return kt}),e.d(s,"J",function(){return on}),e.d(s,"R",function(){return _t});var n=e("7EGn"),t=e("xWuZ"),a=e("Qm7m"),i=e("nNoG"),c=e("AFNo"),r=e("vIgB"),f=e("O7R9"),l=e("IbHz"),p=e("iEyB"),h=e("CdxK"),u=e("72cY"),b=e("4/od"),v=e("M39c"),d=e("MyeY"),m=e("CQZ9"),g=e("a7YP"),O=e("s4Ht"),E=e("+FG2"),y=e("QcFm"),C=e("yfOE");const I=new i.b("workflow_builder"),j="channel_or_user_missing",M="wf_invalid_function_id",T=o(be=>!be||"workflow"in be?!1:be.id===void 0,"isTemplateWorkflow"),D=o(be=>Boolean(be&&typeof be.id=="string"&&Object(y.a)(be.id)),"isDecoratedWorkflow"),S=o(be=>Boolean(be&&typeof be.id=="string"&&!Object(y.a)(be.id)),"isLegacyWorkflow"),A=o(be=>(be==null?void 0:be.id)==="TRIGGER_ID_PLACE_HOLDER","isTemplateTrigger");function P(be){return Object(b.e)(be)?be.workflow.id||"":(be==null?void 0:be.id)||""}o(P,"getWorkflowId");function N(be){return T(be)?be.title||"":Object(b.e)(be)?be.workflow.title||"":(be==null?void 0:be.name)||""}o(N,"getWorkflowName");function G(be){return Object(n.a)(be,"team_id","")}o(G,"getWorkflowTeamId");function V(be){return Object(b.e)(be)?Object(n.a)(be,"workflow.last_published_date",""):Object(n.a)(be,"last_published_date","")}o(V,"getLastPublishedDate");function k(be){return Object(b.e)(be)?Object(n.a)(be,"workflow.unpublished_change_count",0):Object(n.a)(be,"unpublished_change_count",0)}o(k,"getUnpublishedChangeCount");function x(be){return Object(b.e)(be)?Object(n.a)(be,"workflow.last_published_version_id",null):Object(n.a)(be,"last_published_version_id",null)}o(x,"getLastPublishedVersionID");function H(be){return Object(b.e)(be)?Object(n.a)(be,"workflow.collaborators",[]):Object(n.a)(be,"collaborators",[])}o(H,"getWorkflowCollaborators");function R(be){return Boolean(be&&Object(b.e)(be)&&be.formDataMigrationStatus===b.c.InProgress)}o(R,"getIsWorkflowFormDataMigrationInProgress");function W(be){if(Object(b.e)(be))return Object(n.a)(be,"permissions.run",{})}o(W,"getTriggerRunPermissions");function U(be){if(Object(b.e)(be))return Object(n.a)(be,"permissions.copy",{})}o(U,"getCopyPermissions");function _(be){if(Object(b.e)(be))return Object(n.a)(be,"permissions.edit",{})}o(_,"getWorkflowEditPermissions");function B(be,ot){const rt=_(be);if(rt!=null&&rt.apps){var Jt;return Object.prototype.hasOwnProperty.call(rt==null?void 0:rt.apps,ot)&&((Jt=rt.apps[ot])===null||Jt===void 0?void 0:Jt.appResolution)==="denied"}return!1}o(B,"isSlackFunctionStepRestricted");function z(be){const ot=_(be);var rt;return(rt=ot==null?void 0:ot.isPublishRestricted)!==null&&rt!==void 0?rt:!1}o(z,"workflowHasPublishPermissionsRestricted");const L=Object(c.c)((be,ot)=>{const rt=Object(g.v)(be),Jt=Object(g.J)(be),{PREMIUM_BLOCKED_CUSTOM_STEP:Qt,PREMIUM_BLOCKED_CERTIFIED_STEP:qt,USER_CANNOT_USE_FUNCTION:$t}=O.d,hn=P(ot),gn=Object(y.a)(hn),Cn=ot?Se(ot):!1;let Mn="";return Object(b.e)(ot)&&X(ot).forEach(kn=>{switch(kn.code){case M:Mn=rt?I.t("You cannot publish with an invalid step"):"";break;case Qt:case qt:case O.m:case $t:case O.e:Mn=Jt&&gn&&!Cn?I.t("Fix errors before finishing up"):I.t("You cannot publish with a restricted step in your workflow");break;default:break}return Mn}),Mn});L.meta={name:"createSelector",key:"createSelectorgetWorkflowPublishError",description:(be,ot)=>{const rt=Object(g.v)(be),Jt=Object(g.J)(be),{PREMIUM_BLOCKED_CUSTOM_STEP:Qt,PREMIUM_BLOCKED_CERTIFIED_STEP:qt,USER_CANNOT_USE_FUNCTION:$t}=O.d,hn=P(ot),gn=Object(y.a)(hn),Cn=ot?Se(ot):!1;let Mn="";return Object(b.e)(ot)&&X(ot).forEach(kn=>{switch(kn.code){case M:Mn=rt?I.t("You cannot publish with an invalid step"):"";break;case Qt:case qt:case O.m:case $t:case O.e:Mn=Jt&&gn&&!Cn?I.t("Fix errors before finishing up"):I.t("You cannot publish with a restricted step in your workflow");break;default:break}return Mn}),Mn}};const $=o(be=>be.blueprint.trigger,"getLegacyTriggerSegment"),Q=o((be,ot)=>Object(d.f)(be,ot==null?void 0:ot[be.id]),"getHermesTriggerSegment");function K(be){if(!be)return;const ot=Object(b.e)(be)?Q(be.trigger,be.coachmarkData):$(be);if(ot)switch(ot.type){case a.REACTION_ADDED:return Object(p.b)(ot);case a.MEMBER_JOINED_CHANNEL:return Object(l.b)(ot);case a.CHANNEL_ACTION:return Object(h.b)(ot)[0];default:return}}o(K,"getWorkflowTriggerChannelId");const Z=o((be,ot)=>be.map(rt=>{var Jt;if(((Jt=rt.function)===null||Jt===void 0?void 0:Jt.callback_id)==="send_message"){var Qt,qt,$t;const hn=($t=rt==null||(Qt=rt.inputs)===null||Qt===void 0||(qt=Qt.interactive_blocks)===null||qt===void 0?void 0:qt.value)!==null&&$t!==void 0?$t:[],gn=hn.find(Mn=>Mn.type==="actions");if(((gn==null?void 0:gn.elements)||[]).length>=2){const Mn={type:"switch",callback_id:be[be.length-1].id,title:"Switch Step",description:"Switch Step",id:`${rt.id}_switch`,input_parameters:[{type:r.d.SlackTypesBlocks,name:"interactive_blocks",title:"Button(s) to send with the message",description:"Button(s) to send with the message"}],output_parameters:[]};return Object(v.m)({id:`${rt.id}_switch`,function:Mn,inputs:{interactive_blocks:{value:hn}},outputs:[],available_data:[]},ot==null?void 0:ot[rt.id])}}return Object(v.m)(rt,ot==null?void 0:ot[rt.id])}),"getUpdatedStepsForConditionalBranchingPrototype");function ne(be){let ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var rt;if(!be)return[];if(!S(be)){const Jt=T(be)?be.steps:be.workflow.steps;return ot&&!T(be)?Z(Jt,be.coachmarkData):Jt.map(Qt=>{var qt;return Object(v.m)(Qt,Object(b.e)(be)?(qt=be.coachmarkData)===null||qt===void 0?void 0:qt[Qt.id]:void 0)})}return(be==null||(rt=be.blueprint)===null||rt===void 0?void 0:rt.steps)||[]}o(ne,"getSegments");function F(be){if(D(be)||T(be)){var ot;return(ot=be.steps)!==null&&ot!==void 0?ot:[]}return Object(n.a)(be,"blueprint.steps",[])}o(F,"getSteps");function J(be){if(Object(b.e)(be)){var ot;const Jt=((ot=be.workflow.steps)!==null&&ot!==void 0?ot:[]).map($t=>{var hn,gn;const Cn=[];var Mn;return((hn=$t.function)===null||hn===void 0?void 0:hn.type)==="app"&&B(be,(Mn=(gn=$t.function)===null||gn===void 0?void 0:gn.app_id)!==null&&Mn!==void 0?Mn:"")&&Cn.push({code:O.m,message:I.t("You cannot publish with a restricted step in your workflow"),pointer:"",source_id:$t.id}),[...Cn,...Ve($t)]}),Qt=be.trigger,qt=[];return Object(d.d)(Qt)&&(Se(be)||!Object(f.j)(Qt.schedule.start_time)||qt.push({code:O.e,message:I.t("Scheduled to start in the past. Select a time today or on a future date."),pointer:"",source_id:be.trigger.id})),Object(t.a)(Jt).concat(...qt)}return Object(n.a)(be,"blueprint.derived.errors",[])}o(J,"getErrors");function X(be){return Object(b.e)(be)?J(be).filter(ot=>!Object(C.e)(O.c,ot.code)):[]}o(X,"getBlockingErrors");function Y(be){return Object(b.e)(be)?Object(n.a)(be,"trigger.workflow.app_id",""):Object(n.a)(be,"app_id")}o(Y,"getWorkflowAppId");function ae(be){return Object(n.a)(be,"updated")}o(ae,"getUpdatedDate");function ee(be){return Object(n.a)(be,"last_updated_by")}o(ee,"getLastUpdatedBy");function q(be){return Object(b.e)(be)?V(be):Object(n.a)(be,"created")}o(q,"getCreatedDate");function te(be){if(!be)return"";const ot=F(Object(b.e)(be)?be.workflow:be);return Object(n.a)(ot[ot.length-1],"id","")}o(te,"getLastStepId");function de(be,ot){if(Object(b.e)(be)){var rt;const Jt=se(be,ot);return Jt?Object(v.m)(Jt,(rt=be.coachmarkData)===null||rt===void 0?void 0:rt[Jt.id]):null}return se(be,ot)}o(de,"getPrecedingSegment");function se(be,ot){const rt=F(Object(b.e)(be)?be.workflow:be),Jt=rt.findIndex(Qt=>Qt.id===ot);return Jt<=0?null:rt[Jt-1]}o(se,"getPrecedingStep");function re(be){return Object(n.a)(be,"blueprint.data.outputs",[])}o(re,"getDataOutputs");function oe(be){return Object(n.a)(be,"blueprint.data.tombstones",[]).map(ot=>({...ot,isTombstone:!0}))}o(oe,"getDataTombstones");function ce(be,ot){if(Object(b.e)(be))return Ye(be.workflow,ot,be.trigger);const rt=$(be);return rt.id===ot?rt:ne(be).find(Qt=>Qt.id===ot)}o(ce,"getSegment");function ue(be,ot,rt){const Qt=F(be).find(qt=>qt.id===ot);return Qt?Object(v.m)(Qt,rt==null?void 0:rt[Qt.id]):void 0}o(ue,"getHermesSlackFunctionSegment");function Pe(be){return!!(be&&Object(n.a)(be,"config.slackFunction"))}o(Pe,"getIsSlackFunctionSegment");function Ye(be,ot,rt,Jt){return rt.id===ot?Q(rt,Jt):ue(be,ot,Jt)}o(Ye,"getHermesSegment");function $e(be){let ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image_192";return!T(be)&&Object(b.e)(be)?Object(n.a)(be,["workflow","icons",ot]):Object(n.a)(be,["icons",ot])}o($e,"getWorkflowIcon");function Ke(be){return T(be)?be.icons:Object(b.e)(be)?Object(n.a)(be,["workflow","icons"]):Object(n.a)(be,["icons"])}o(Ke,"getWorkflowIcons");function qe(be,ot){let rt=[],Jt=!1;if(ot){const Qt=ce(be,ot);rt=Object(m.a)(Qt),rt=rt.concat(Object(m.c)(Qt)),Jt=Object(m.d)(Qt)}else{const Qt=Object(b.e)(be)?Q(be.trigger,be.coachmarkData):$(be);rt=Object(m.c)(Qt),Jt=Object(m.d)(Qt)}return{available_data:rt,available_interacation_pointer:Jt}}o(qe,"getDerivedDataForNewStep");function ct(be,ot){return J(be).filter(rt=>rt.source_id===ot)}o(ct,"getSegmentErrors");function Be(be){return"name"in be&&be.name!==void 0}o(Be,"isWorkflowBlueprintError");function pe(be){return"code"in be&&be.code!==void 0}o(pe,"isHermesDecoratedStepError");function fe(be,ot,rt){const Qt=F(Object(b.e)(be)?be.workflow:be).slice(),qt=Qt[ot];Qt.splice(ot,1),Qt.splice(rt,0,qt);let $t;return rt!==0&&($t=Qt[rt-1].id),{afterStepId:$t,currentStep:qt,updatedSteps:Qt}}o(fe,"getMovedWorkflowSteps");function me(be){return Object(b.e)(be)?!!Object(n.a)(be,"workflow.is_published",!1):!!Object(n.a)(be,"is_published",!1)}o(me,"workflowIsPublished");function Se(be){return!!x(be)}o(Se,"workflowHasBeenPublished");function je(be){const ot=Object(b.e)(be)?be.workflow:be;return F(ot).length>0}o(je,"workflowHasSteps");function Ue(be){return!!Y(be)}o(Ue,"workflowHasApp");function ve(be){return X(be).length>0}o(ve,"workflowHasErrors");function ge(be){return k(be)>0}o(ge,"workflowHasUnpublishedChanges");function le(be,ot){if(Object(b.e)(be)){const{workflow:{steps:rt}}=be;return rt.some(Jt=>{var Qt;return((Qt=Jt.function)===null||Qt===void 0?void 0:Qt.callback_id)===ot})}return ne(be).some(rt=>rt.type===ot)}o(le,"workflowHasStepOfType");function he(be){return!(ve(be)||!je(be)||z(be)||!ge(be)&&Se(be)&&me(be))}o(he,"workflowCanBePublished");function Te(be,ot){return H(be).includes(ot)}o(Te,"isWorkflowCollaborator");function Re(be){return Object(n.a)(be,"slack_app_id")}o(Re,"getWorkflowSlackAppId");function Ve(be){var ot,rt;return(rt=be==null||(ot=be.errors)===null||ot===void 0?void 0:ot.map(Jt=>({...Jt,source_id:be.id})))!==null&&rt!==void 0?rt:[]}o(Ve,"getModifiedHermesStepErrors");function Ee(be,ot){let{workflow:rt}=be;const Jt=rt.steps.find(qt=>{let{id:$t}=qt;return $t===ot});var Qt;return(Qt=Jt==null?void 0:Jt.warnings)!==null&&Qt!==void 0?Qt:[]}o(Ee,"getHermesStepWarnings");function Ae(be){return Object(b.e)(be)?Object(n.a)(be,"workflow.last_published_version_id",""):Object(n.a)(be,"id","")}o(Ae,"getVersionID");function Ge(be){return`${be.trigger.date_updated}-${be.workflow.last_published_date}-${be.workflow.unpublished_change_count}`}o(Ge,"getVersionFingerprint");function Ze(be){var ot;return T(be)?be.description||"":(be==null||(ot=be.workflow)===null||ot===void 0?void 0:ot.description)||""}o(Ze,"getHermesWorkflowDescription");function ze(be){return Object(n.a)(be,"trigger.shortcut_url","")}o(ze,"getHermesWorkflowUrl");function lt(be){return Object(n.a)(be,"trigger.share_url","")||Object(n.a)(be,"trigger.shortcut_url","")}o(lt,"getHermesWorkflowShareUrl");function tt(be){return Object(n.a)(be,"trigger.workflow.app","")}o(tt,"getHermesWorkflowApp");function Ot(be,ot){const rt=ot&&Object(u.c)(ot)?Object(v.e)(ot):"";return!!(Object(b.e)(be)&&r.g.OpenForm===rt)}o(Ot,"getIsHermesFormStep");function Ct(be){var ot;return(be==null||(ot=be.config)===null||ot===void 0?void 0:ot.type)===E.b.CUSTOM}o(Ct,"isCustomStep");function St(be){var ot;return(be==null||(ot=be.config)===null||ot===void 0?void 0:ot.type)===E.b.CERTIFIED}o(St,"isCertifiedStep");function zt(be){var ot;return be&&Object(u.c)(be)&&((ot=be.config.slackFunction)===null||ot===void 0?void 0:ot.type)===E.a.APP}o(zt,"isConnectorSegment");function kt(be){return Object(b.e)(be)?!!J(be).filter(Jt=>pe(Jt)&&Jt.code===O.d.ALMOST_PREMIUM_WORKFLOW).length:!1}o(kt,"isAlmostPremiumWorkflow");function on(be){if(!Object(b.e)(be))return!1;const ot=J(be),rt=ot.filter(Qt=>pe(Qt)&&Qt.code===O.d.PREMIUM_BLOCKED_CERTIFIED_STEP),Jt=ot.filter(Qt=>pe(Qt)&&Qt.code===O.d.PREMIUM_BLOCKED_CUSTOM_STEP);return!!(rt.length+Jt.length)}o(on,"isBlockedPremiumWorkflow");function _t(be){var ot;return(be==null||(ot=be.workflow)===null||ot===void 0?void 0:ot.creation_source_type)===b.a.TEMPLATE}o(_t,"isWorkflowCreatedFromTemplate")},z00e:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("N5xo");function i(){const[c,r]=Object(n.useState)(Math.floor(Date.now()/1e3));return Object(a.a)(()=>{r(Math.floor(Date.now()/1e3))}),c}o(i,"useCurrentTime")},z5hj:function(w,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t}),e.d(s,"c",function(){return a});const n={NOTIFY_BACKEND_OF_SSB_DOWNLOAD:"notify_backend_of_ssb_download",TRIGGER_MOBILE_FALLBACK_EMAIL:"trigger_mobile_fallback_email",TRIGGER_MOBILE_MAGIC_LOGIN_EMAIL:"trigger_mobile_magic_login_email",TRIGGER_BULK_SSB_MAGIC_LOGIN_EMAIL:"trigger_bulk_ssb_magic_login_email",VIDEO_CLIPS_FALLBACK_EMAIL:"execute_video_clips_fallback_event"},t={SSB_DOWNLOAD_FALLBACK_EVENT_HANDLER:"ssb_download_fallback_event_handler",MOBILE_PROMO_FALLBACK_EVENT_HANDLER:"mobile_promo_fallback_event_handler",MOBILE_PROMO_MAGIC_LOGIN_EVENT_HANDLER:"mobile_promo_magic_login_event_handler",ADD_WORKSPACES_TO_SSB_EVENT_HANDLER:"add_workspaces_to_ssb_event_handler",VIDEO_CLIPS_FALLBACK_EVENT_HANDLER:"video_clips_fallback_event_handler"},a={MOBILE_AWARENESS_BANNER:"mobile_awareness_banner",MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO:"mobile_awareness_direct_message_promo",PERSISTENT_MOBILE_PROMO:"persistent_mobile_promo",MOBILE_SOCIAL_PROOF_BANNER:"mobile_social_proof_banner",VIDEO_CLIPS_FALLBACK_EVENT_HANDLER:"video_clips_fallback_event_handler"}},z9VZ:function(w,s,e){"use strict";e.d(s,"a",function(){return _});var n=e("Lgge"),t=e("n3tL"),a=e("3Hq1"),i=e("Z0Cl"),c=e("NFsq"),r=e("fujP"),f=e("OZf9"),l=e("zmn3"),p=e("SQ0V"),h=e("9Gfp"),u=e("JoR1"),b=e("O86Y"),v=e("8Ut9"),d=e("IaLB"),m=e("v5z3"),g=e("QbPB");const O=Object(p.c)("Maybe update current Progressive Disclosure reacji tip to success",(L,$,Q)=>{let{key:K}=Q;const Z=$();if(!Object(d.X)(Z)||!Object(d.ob)(Z,{tip:m.f.Reacji}))return;const{entityId:ne}=Object(v.a)(K);L(Object(g.a)({tip:m.f.Reacji,tipState:m.g.Success,messageTs:ne}))});O.meta={name:"createThunk",key:"createThunkmaybeUpdateProgressiveDisclosureReacjiTip",description:"Maybe update current Progressive Disclosure reacji tip to success"};var E=e("YBS9"),y=e("FVTI"),C=e("Orok"),I=e("yrot"),j=e("i7CO"),M=e("kJif"),T=e("uEJH"),D=e("+J8q"),S=e("Oy0v"),A=e("q1tI"),P=e.n(A),N=e("/Q0P");const G=P.a.lazy(()=>Promise.resolve().then(e.bind(null,"hYzt"))),V=Object(p.c)("Open the Reaction Error dialog component",(L,$,Q)=>{L(Object(N.a)({element:P.a.createElement(G,Q)}))});V.meta={name:"createThunk",key:"createThunkopenReactionErrorDialog",description:"Open the Reaction Error dialog component"},V.propTypes={error:t.default.oneOf(["too_many_emoji","too_many_reactions"]).isRequired};var k=V;const x=50,H=23,R="invalid_name",W="too_many_emoji",U="too_many_reactions",_={reactionToggleButton:"reaction_toggle_button"},B=Object(p.c)("Change a reaction from a user action, make an API call to commit that action, fetch and update reactions for that key",function(L,$){let{key:Q,name:K,actionSource:Z,useDefaultSkinToneForMultiSkinToneEmoji:ne=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var F;if(Object(a.a)(Q))return!1;const J=$(),X=Object(b.g)(J),Y=Object(u.t)(J,"preferred_skin_tone"),ae=K&&Object(j.a)(K,X)||"",ee=K&&Object(M.a)(J,Q,K)||"",q=ae&&!ne?ee:Object(D.a)(ee,Y,X),te=Object(E.a)(J,Q),de=Object(E.b)(J,Q,q),se=Object(h.a)(J),re={key:Q,name:q,userId:se,url:de&&de.url||void 0,fromUserAction:!0},oe=(F=Object(S.a)(q))===null||F===void 0?void 0:F.name,ce=o($e=>{if(Z===_.reactionToggleButton){var Ke;return((Ke=Object(S.a)($e))===null||Ke===void 0?void 0:Ke.name)===oe}return $e===q},"nameFilterRule"),ue=Object(i.a)(te,$e=>ce($e.name)&&Object(c.a)($e.users,se)),Pe=Object(r.a)(ue);if(Pe){const $e=Object(I.q)(J,{text:q,teamId:X}),Ke=!!(de&&de.url);if(!$e&&!Ke)return n.a.reject(new Error(R));if(!de&&te&&te.length>=x)return L(k({error:W})),n.a.resolve();if((te||[]).filter(ct=>ct.users.indexOf(se)>-1).length>=H)return L(k({error:U})),n.a.resolve();L(Object(y.a)(re)),L(O({key:Q}))}else Object(f.a)(ue,$e=>L(Object(C.a)({...re,name:$e.name})));let Ye;return Pe?Ye=L(Object(T.b)({reactionKey:Q,name:q,add:Pe,reason:"changeReactionFromUserAction"})):Ye=n.a.all(Object(l.a)(ue,$e=>L(Object(T.b)({reactionKey:Q,name:$e.name,add:Pe,reason:"changeReactionFromUserAction"})))),Ye.catch(function(){let{data:$e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($e&&$e.error&&$e.error!=="no_reaction")throw re.fromUserAction=!1,Pe?L(Object(C.a)(re)):Object(f.a)(ue,Ke=>L(Object(y.a)({...re,name:Ke.name}))),new Error($e.error)})});B.meta={name:"createThunk",key:"createThunkchangeReactionFromUserAction",description:"Change a reaction from a user action, make an API call to commit that action, fetch and update reactions for that key"},B.propTypes={key:t.default.string.isRequired,name:t.default.string.isRequired};var z=s.b=B},zBqE:function(w,s,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),i=e("Cfcg"),c=e("7EGn"),r=e("OZf9"),f=e("Bw5p"),l=e("ifKl"),p=e("3Hq1"),h=e("BHdc"),u=e("Z7Ay"),b=e("4cU5"),v=e("1Np4"),d=e("s4P+"),m=e("9Gfp"),g=e("JoR1"),O=e("N8ug"),E=e("2IYT"),y=e("nNoG"),C=e("zb/F"),I=e("FH+Z"),j=e("pFNT"),M=e("nFQW"),T=e("r4kb"),D=e.n(T);const S=new y.b("stories_av"),A=o(U=>{let{memberId:_,videoRef:B,isPreviewing:z=!1,isPlaying:L}=U;const[$,Q]=Object(t.useState)(!0),K=Object(t.useCallback)(()=>{Q(!0)},[Q]),Z=Object(t.useCallback)(()=>{Q(!1)},[Q]),ne=Object(t.useCallback)(()=>{var Y;B==null||(Y=B.current)===null||Y===void 0||Y.play()},[B]),F=Object(t.useCallback)(()=>{var Y;B==null||(Y=B.current)===null||Y===void 0||Y.pause()},[B]),J=B==null?void 0:B.current;Object(t.useEffect)(()=>{if(J)return J.addEventListener("play",K),J.addEventListener("pause",Z),J.addEventListener("ended",Z),()=>{J.removeEventListener("play",K),J.removeEventListener("pause",Z),J.removeEventListener("ended",Z)}},[J,K,Z]);const X=L!==void 0?L:$;return a.a.createElement("div",{className:"p-audio_only_animation"},a.a.createElement("div",{className:"p-audio_only_animation__alignment"},a.a.createElement("img",{src:D.a,className:Object(h.default)("p-audio_only_animation__waves",{"p-audio_only_animation__waves--paused":!X}),alt:""}),a.a.createElement(j.c,{size:135,userId:_,isInteractive:!1,className:"p-audio_only_animation__avatar"})),z&&(B==null?void 0:B.current)&&a.a.createElement(M.a,{icon:$?"pause":"play",onClick:$?F:ne,className:"p-audio_only_animation__playback","aria-label":$?S.t("Pause"):S.t("Play")}))},"AudioOnlyAnimation");A.displayName="AudioOnlyAnimation";var P=A,N=e("P1Ik");const G=new y.b("stories_av"),V="MEDIA-PLAYER";let k=!1,x=o(class extends t.PureComponent{componentDidMount(){var _=this;return Object(n.coroutine)(function*(){_.props.file&&_.createTrace(),_.props.autoPlay&&_.maybeStartTTFFSpan(),yield _.setupVideo(!1)})()}componentDidUpdate(_){var B=this;return Object(n.coroutine)(function*(){var z,L;if(((z=B.props.file)===null||z===void 0?void 0:z.id)!==((L=_.file)===null||L===void 0?void 0:L.id)&&(B.timingData={},B.createTrace()),B.props.url!==_.url&&B.props.autoPlay&&B.maybeStartTTFFSpan(),_.enableMediaCaptions!==B.props.enableMediaCaptions){var $;const K=($=B.videoRef.current)===null||$===void 0?void 0:$.textTracks[0];K&&(K.mode=B.props.enableMediaCaptions?"showing":"hidden")}if(_.shiftCaptionsUp!==B.props.shiftCaptionsUp&&B.props.enableMediaCaptions){var Q;const K=(Q=B.videoRef.current)===null||Q===void 0?void 0:Q.textTracks[0];if(!K)return;const Z=Object(c.a)(B.videoRef,"current.clientWidth")<500?50:80;K.mode="hidden",B.props.shiftCaptionsUp?Object(r.a)(K==null?void 0:K.cues,ne=>{ne.line=ne.text.length>Z?-5:-4}):Object(r.a)(K==null?void 0:K.cues,ne=>{ne.line="auto"}),K.mode="showing"}(B.props.url!==_.url||B.props.hls!==_.hls&&B.state.errorSrcNotSupported)&&(yield B.setupVideo(!0))})()}componentWillUnmount(){this.currentTrace&&(this.maybeAddBitrateSpan(),this.tryReportTrace(this.currentTrace)),this.hlsjs&&this.hlsjs.destroy()}onVideoError(){var _;const B=(_=this.videoRef.current)===null||_===void 0?void 0:_.error;B?(this.logError(`error code: ${B.code}, msg: ${B.message}`),B.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED&&this.setState(()=>({errorSrcNotSupported:!0}))):this.logError("unknown error")}onLoadedData(){if(!this.videoRef.current)return;const _=this.videoRef.current,{mediaPlaybackSpeed:B,isAudioOnly:z,mediaVolume:L}=this.props;if(!z&&!_.videoWidth&&!_.videoHeight)return;if(_.addEventListener("ended",Q=>{this.getCurrentTime()===this.getDuration()&&(this.props.onEnd(Q),this.logInfo("ended"))}),_.addEventListener("play",Q=>{this.closeTTFFSpan(),this.setState(()=>({isPlaying:!0})),this.props.onPlay(Q,_.currentTime),this.logInfo("play")}),_.addEventListener("pause",Q=>{this.setState(()=>({isPlaying:!1})),this.props.onPause(Q,_.currentTime),this.logInfo("pause")}),_.addEventListener("waiting",()=>{this.logInfo("waiting")}),_.addEventListener("stalled",()=>{this.currentTrace&&this.currentTrace.count({name:"stall"}),this.logInfo("stalled")}),!z){if(this.props.shouldComputeHeight){const Q=_.clientWidth,K=_.videoWidth/_.videoHeight,Z=Math.min(_.clientHeight,Q/K);this.setState(()=>({height:Z}))}this.props.onDimensionsChange({videoWidth:_.videoWidth,videoHeight:_.videoHeight})}this.setPlaybackRate(B),this.setMuted(this.state.muted),this.setVolume(L??1),this.props.initialTimeElapsed&&this.setCurrentTime(this.props.initialTimeElapsed,this.props.autoPlay),this.currentTrace&&this.currentTrace.addTags({media_duration:_.duration});const $=_.textTracks[0];$?($.mode=this.props.enableMediaCaptions?"showing":"hidden",this.logInfo(`initial captions state: ${this.props.enableMediaCaptions?"showing":"hidden"}`)):(this.logInfo("no text track"),_.textTracks.addEventListener("addtrack",Q=>{const K=Q.track||_.textTracks[0];K&&(K.mode=this.props.enableMediaCaptions?"showing":"hidden",this.logInfo(`new text track: ${this.props.enableMediaCaptions?"showing":"hidden"}`))}))}onLoadedMetadata(_){const B=this.videoRef.current,z=(B==null?void 0:B.duration)===1/0||B==null?void 0:B.duration;this.props.onLoadedMetadata(_,z)}onTimeUpdate(){var _;const B=(_=this.videoRef)===null||_===void 0?void 0:_.current;if(!B)return;const z=B.duration===1/0?void 0:B.duration;this.props.onProgress(B.currentTime,z)}onDurationChange(){var _,B;this.logInfo(`duration: ${(_=this.videoRef)===null||_===void 0||(B=_.current)===null||B===void 0?void 0:B.duration}`)}onContainerResize(){let{bounds:_}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.props.onDimensionsChange({containerWidth:_==null?void 0:_.width,containerHeight:_==null?void 0:_.height})}setupVideo(_){var B=this;return Object(n.coroutine)(function*(){var z;const L=(z=B.videoRef)===null||z===void 0?void 0:z.current;if(L&&(!B.videoSourceSet||_)){if(B.videoSourceSet=!0,B.props.hls&&!k){if(L.canPlayType("application/vnd.apple.mpegurl")){B.logInfo("Using native hls"),L.src=B.props.hls,B.setState(()=>({useSource:!1,useHls:!0}));return}const Q=(yield e.e("vendors~gantry-v2-async-hls.js").then(e.t.bind(null,"F4PH",7))).default;if(Q.isSupported()){B.logInfo("Using hls.js"),B.hlsjs&&(B.hlsjs.detachMedia(L),B.hlsjs.destroy());const K={xhrSetup(ne){ne.withCredentials=!0}},Z=new Q(K);B.props.hlsEmbed?Z.loadSource(B.props.hlsEmbed):Z.loadSource(B.props.hls),Z.attachMedia(L),B.hlsjs=Z,Z.on(Q.Events.ERROR,(ne,F)=>{B.logErrorOnce(`hls error: ${F.type} ${F.details}, fatal: ${F.fatal}`),F.details===Q.ErrorDetails.BUFFER_STALLED_ERROR&&B.currentTrace&&B.currentTrace.count({name:"stall"}),B.logInfo("Not using hls"),B.setState(()=>({useSource:!0,useHls:!1,errorSrcNotSupported:!1})),Z.destroy()}),B.setState(()=>({useSource:!1,useHls:!0}));return}}B.logInfo("Not using hls"),B.setState(()=>({useSource:!0,useHls:!1,errorSrcNotSupported:!1}))}})()}getCurrentTime(){var _;return((_=this.videoRef.current)===null||_===void 0?void 0:_.currentTime)||0}getDuration(){var _;const B=(_=this.videoRef.current)===null||_===void 0?void 0:_.duration;return B!==void 0?B:1/0}setCurrentTime(_){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var z;!((z=this.videoRef)===null||z===void 0)&&z.current&&(this.videoRef.current.currentTime=_,B&&this.videoRef.current.paused&&(this.maybeStartTTFFSpan(),this.videoRef.current.play()))}setPlaybackRate(_){var B;!((B=this.videoRef)===null||B===void 0)&&B.current&&I.b.includes(_)&&(this.videoRef.current.playbackRate=_)}setMuted(_){var B;!((B=this.videoRef)===null||B===void 0)&&B.current&&(this.setState(()=>({muted:_})),this.videoRef.current.muted=_)}setVolume(_){var B;!((B=this.videoRef)===null||B===void 0)&&B.current&&(this.videoRef.current.volume=_)}getDebugInfo(){var _;const{file:B}=this.props,z=(_=this.videoRef)===null||_===void 0?void 0:_.current;return{file:Object(f.a)(B,["id","url_private","hls","mp4","vtt","mimetype","subtype","size","created"]),video:{...Object(f.a)(z,["src","videoWidth","videoHeight","readyState","networkState","currentTime","duration","volume","playbackRate","paused","webkitDecodedFrameCount","webkitDroppedFrameCount"]),error:(z==null?void 0:z.error)&&{code:z.error.code,message:z.error.message}},hlsjs:this.hlsjs&&Object(f.a)(this.hlsjs,["url","currentLevel","firstLevel","loadLevel","nextAutoLevel","nextLevel","nextLoadLevel","startLevel","bandwidthEstimate"])}}getContextMenuTemplate(){const{file:_,logger:B}=this.props;return[{label:G.t("Copy link to file",{fallbackHash:"48e492b25c556bd0c091ea5d7ee8d509028c4f59",fallbackHashNs:"file"}),click:()=>Object(C.e)(_==null?void 0:_.permalink)},{label:G.t("Copy debug info",{fallbackHash:"af74f7c5362aaee985bf8cda3dd75fc80751ce51",fallbackHashNs:"prefs"}),click:()=>{try{Object(C.e)(JSON.stringify(this.getDebugInfo(),null,"	"))}catch(z){B.error("MEDIA_PLAYER","Error copying debug info",z)}}}]}createTrace(){var _;this.currentTrace&&(this.maybeAddBitrateSpan(),this.tryReportTrace(this.currentTrace)),this.currentTrace=this.props.tracer.createMetricsTrace({label:"media_player:metrics",tags:{file:(_=this.props.file)===null||_===void 0?void 0:_.id,media_type:"video"},samplingOptions:{sampleRate:.2,sampleType:b.g.SESSION}}),this.currentTrace.count({name:"stall",value:0})}tryReportTrace(_){const{logger:B,tracer:z}=this.props;if(_)try{z.reportTrace(_)}catch(L){B.error("MEDIA_PLAYER","Failed to report trace",L)}}maybeStartTTFFSpan(){this.timingData.ttff||(this.timingData.ttff={start:performance.now()})}closeTTFFSpan(){this.timingData.ttff&&!this.timingData.ttff.end&&(this.timingData.ttff.end=performance.now(),this.currentTrace&&this.currentTrace.store({name:"time_to_first_frame_ms",value:this.timingData.ttff.end-this.timingData.ttff.start}))}maybeAddBitrateSpan(){var _,B;if(this.currentTrace&&this.hlsjs&&isFinite(this.hlsjs.currentLevel)&&isFinite((_=this.hlsjs.levels)===null||_===void 0||(B=_[this.hlsjs.currentLevel])===null||B===void 0?void 0:B.bitrate)){var z,L;this.currentTrace.store({name:"indicated_bitrate:avg",value:(z=this.hlsjs.levels)===null||z===void 0||(L=z[this.hlsjs.currentLevel])===null||L===void 0?void 0:L.bitrate})}}togglePlayPause(){var _;if(!(!((_=this.videoRef)===null||_===void 0)&&_.current))return;const B=this.videoRef.current;B.paused?B.play():B.pause()}isPlaying(){return this.state.isPlaying}pause(){var _;const B=(_=this.videoRef)===null||_===void 0?void 0:_.current;B==null||B.pause()}play(){var _;const B=(_=this.videoRef)===null||_===void 0?void 0:_.current;B==null||B.play()}getLogContextString(){var _;return((_=this.props.file)===null||_===void 0?void 0:_.id)||""}logInfo(_){this.props.logger.info(this.getLogContextString(),_)}logWarn(_){this.props.logger.warn(this.getLogContextString(),_)}logError(_){this.props.logger.error(this.getLogContextString(),new Error(`${V}: ${_}`))}logErrorOnce(_){if(this.loggedErrors.has(_)){this.logWarn(_);return}this.loggedErrors.add(_),this.logError(_)}renderVideo(){const{controlsList:_,enableControls:B,label:z,title:L,url:$,mimeType:Q,enableMediaCaptions:K,autoPlay:Z,thumbVideo:ne,vtt:F,preload:J}=this.props;if(!$)return null;const{useSource:X,useHls:Y}=this.state;return a.a.createElement("video",{autoPlay:Z&&(X||Y),"aria-label":z,className:"p-media_viewer__video",controls:B?!0:void 0,controlsList:B?_:void 0,style:{height:this.state.height||void 0},title:L,onLoadedData:this.onLoadedData,onLoadedMetadata:this.onLoadedMetadata,ref:this.videoRef,onTimeUpdate:this.onTimeUpdate,onDurationChange:this.onDurationChange,disablePictureInPicture:!0,key:`[${this.props.userIndex}][${this.props.storyIndex}]`,poster:ne,onError:this.onVideoError,src:X&&!Q?$:void 0,preload:J},X&&Q?a.a.createElement("source",{src:$,type:Q}):null,X&&F&&a.a.createElement(N.a,{vtt:F,enableMediaCaptions:K}))}render(){const{disableContextMenu:_,isAudioOnly:B,memberId:z,className:L,styleProps:$}=this.props;return a.a.createElement(O.a,{onResize:this.onContainerResize},Q=>{let{measureRef:K}=Q;const Z=a.a.createElement("div",{className:Object(h.default)("p-media_viewer__video_container",L),"data-media-focus-container":!0,onClick:this.togglePlayPause,ref:K,style:$},B&&z&&a.a.createElement(P,{memberId:z,videoRef:this.videoRef,isPlaying:this.state.isPlaying}),this.renderVideo());return _?Z:a.a.createElement(E.a,{getTemplate:this.getContextMenuTemplate,desktopAppOnly:!1},Z)})}constructor(_){super(_),this.onLoadedData=this.onLoadedData.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onDurationChange=this.onDurationChange.bind(this),this.onContainerResize=this.onContainerResize.bind(this),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this),this.onVideoError=this.onVideoError.bind(this),this.onLoadedMetadata=this.onLoadedMetadata.bind(this),this.togglePlayPause=this.togglePlayPause.bind(this),this.videoRef=Object(t.createRef)(),this.state={height:null,muted:_.isMuted,useSource:!1,useHls:!1,errorSrcNotSupported:!1,isPlaying:!1},this.timingData={},this.loggedErrors=new Set,this.videoSourceSet=!1}},"MediaVideo");x.displayName="MediaVideo",x.defaultProps={userIndex:0,storyIndex:0,autoPlay:!0,shouldComputeHeight:!0,onEnd:l.a,onPlay:l.a,onPause:l.a,onProgress:l.a,onDimensionsChange:l.a,onLoadedMetadata:l.a,mediaPlaybackSpeed:1,initialTimeElapsed:0,isMuted:!1,disableContextMenu:!1,enableControls:!1,controlsList:""};var H;const R=o((U,_)=>{let{isMuted:B,mediaPlaybackSpeed:z}=_;return{enableMediaCaptions:Object(g.t)(U,"enable_media_captions"),mediaPlaybackSpeed:Object(p.a)(z)?Object(g.t)(U,"media_playback_speed"):z,isMuted:Object(p.a)(B)?Object(g.t)(U,"media_muted"):B,mediaVolume:(H=Object(g.t)(U,"media_volume"))!==null&&H!==void 0?H:1,tracer:Object(v.a)({state:U}),logger:Object(d.a)({state:U,label:V}),featureTinyspeck:Object(m.i)(U,"feature_tinyspeck")}},"mapStateToProps");var W=s.a=Object(i.a)(R,void 0,void 0,{forwardRef:!0})(x);Object(u.a)("mediaVideo",{forceUseSource:U=>{k=U}})},zE4u:function(w,s,e){"use strict";e.d(s,"b",function(){return C}),e.d(s,"a",function(){return I});var n=e("LK2A"),t=e("xueD"),a=e("gBoP"),i=e("WBOM"),c=e("dmdh"),r=e("P9LH"),f=e("mivN"),l=e("Ilel"),p=e("ouAP"),h=e("7Yrm"),u=e("R1mX"),b=e("twB+"),v=e("lhZz"),d=e("PhUj"),m=e("3L56"),g=e("yVVx"),O=e("7ibc"),E=e("VmGj"),y=e("P55c");const C=new b.a;let I=o(class vo{static getOrCreate(M){return C.get(M,(T,D)=>new vo({teamId:T}))}getChannelIdAndTs_(M){const T=Object(i.e)(this.getState(),M);return T&&T.type===i.a.MESSAGE?{messageTs:T.ts,channelId:T.channelId}:null}shareSlackObject_(M,T,D,S){if(T===n.SlackObjectType.UNFURL){const A=this.getChannelIdAndTs_(M);A&&Object(v.dispatchForTeamId)(this.teamId,Object(t.a)({channelId:A.channelId,ts:A.messageTs,isStackable:!0}))}else if(T===n.SlackObjectType.FILE){const A=Object(i.e)(this.getState(),M);if(A!=null&&A.fileId){const P=Object(c.e)(this.getState(),A.fileId);P&&(Object(r.u)(P)?Object(v.dispatchForTeamId)(this.teamId,Object(d.b)({fileId:A.fileId,isStackable:!0})):Object(v.dispatchForTeamId)(this.teamId,Object(t.a)({fileId:A.fileId,isStackable:!0,isSlackDoc:!1})))}}else if(T===n.SlackObjectType.DOCUMENT&&D){const A=this.getState();if(Object(O.f)(A)){const P=Object(i.e)(this.getState(),M),N=P==null?void 0:P.fileId;N&&Object(v.dispatchForTeamId)(this.teamId,Object(m.a)({quipThreadId:D,reason:"share-embedded-canvas"})).then(G=>{let V;switch(S){case n.UnfurlType.CARD:V=y.a.CARD;break;case n.UnfurlType.INLINE:V=y.a.INLINE;break;case n.UnfurlType.LINK:V=y.a.LINK;break;default:V=y.a.OTHER;break}Object(v.dispatchForTeamId)(this.teamId,Object(g.a)({source:V,parentCanvasId:G,embeddedCanvasId:N}))})}}}openInNewWindow_(M){const T=Object(i.e)(this.getState(),M);if(T!=null&&T.fileId){const D=Object(c.e)(this.getState(),T.fileId);Object(r.u)(D)&&Object(v.dispatchForTeamId)(this.teamId,Object(f.a)({fileId:D.id}))}}downloadFile_(M){const T=Object(i.e)(this.getState(),M);if(T!=null&&T.fileId){const D=Object(c.e)(this.getState(),T.fileId);Object(v.dispatchForTeamId)(this.teamId,Object(l.a)({file:D,action:p.a.DownloadFile}))}}previewFile_(M){const T=Object(i.e)(this.getState(),M);T!=null&&T.fileId&&Object(v.dispatchForTeamId)(this.teamId,Object(E.a)({fileId:T.fileId}))}viewFullScreen_(M){const T=Object(i.e)(this.getState(),M);T!=null&&T.fileId&&Object(v.dispatchForTeamId)(this.teamId,Object(h.a)({fileId:T.fileId,channelId:void 0,isStackable:!0}))}editFile_(M){const T=Object(i.e)(this.getState(),M);if(T!=null&&T.fileId){const D=Object(c.e)(this.getState(),T.fileId);Object(v.dispatchForTeamId)(this.teamId,Object(u.a)({file:D,isStackable:!0}))}}saveSlackObject(M){let{objectPermalink:T}=M;const D=this.getChannelIdAndTs_(T);D&&Object(v.dispatchForTeamId)(this.teamId,Object(a.c)(D))}removeSavedSlackObject(M){let{objectPermalink:T}=M;const D=this.getChannelIdAndTs_(T);D&&Object(v.dispatchForTeamId)(this.teamId,Object(a.i)(D))}performSlackObjectAction(M){let{objectPermalink:T,action:D,objectType:S,quipThreadId:A,unfurlType:P}=M;switch(D){case n.SlackObjectActionType.SHARE:this.shareSlackObject_(T,S,A,P);break;case n.SlackObjectActionType.OPEN_IN_NEW_WINDOW:this.openInNewWindow_(T);break;case n.SlackObjectActionType.DOWNLOAD:this.downloadFile_(T);break;case n.SlackObjectActionType.PREVIEW_FILE:this.previewFile_(T);break;case n.SlackObjectActionType.VIEW_FULL_SCREEN:this.viewFullScreen_(T);break;case n.SlackObjectActionType.EDIT_FILE:this.editFile_(T);break;default:break}}constructor({teamId:M}){this.teamId=M,this.getState=()=>Object(v.getStateByTeamId)(M)}},"QuipSlackObjectUIProvider")},zIFg:function(w,s,e){"use strict";e.d(s,"a",function(){return g}),e.d(s,"b",function(){return E}),e.d(s,"c",function(){return C});var n=e("9oTK"),t=e.n(n),a=e("oTSI"),i=e("q74J"),c=e("uAML"),r=e("Z7Ay"),f=e("Lgge"),l=e("SQ0V"),p=e("lhZz"),h=e("rKeN"),u=e("p98f"),b=e("aVws"),v=e("YOgf"),d=e("iAR/"),m=e("7y/j");const g=Object(l.c)("Fetch and upsert org guidelines",function(){var j=Object(n.coroutine)(function*(M,T,D){let{teamId:S,type:A,token:P}=D,N;try{N=yield M(Object(i.a)({type:A,...P&&{token:P},reason:"client_redux_store"}))}catch{return}const{has_guidelines:G}=N;if(!G)return y(S,A);const{content:V,url:k}=N.guidelines,{is_enabled:x,updated:H}=N.metadata;M(Object(d.a)({type:A,guidelines:{enabled:x,contentOps:V?Object(v.a)(T(),V).ops:null,link:k??null,updated:H}})),y(S,A)});return function(M,T,D){return j.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkfetchAndSetOrgGuidelines",description:"Fetch and upsert org guidelines"};const O=Object(a.a)(()=>new c.b({fetch:(j,M)=>f.a.map(M,T=>Object(p.dispatchForTeamId)(j,g({teamId:j,type:T}))),isEnabled:Object(a.a)(j=>{const M=Object(p.getStateByTeamId)(j);return!M||Object(u.a)()?!1:Object(h.a)(M)}),metricsName:m.a})),E=o((j,M)=>O().markObjectsAsStale(Object(b.b)(j,m.a),[M]),"markGuidelinesAsStale"),y=o((j,M)=>O().markObjectsAsFresh(Object(b.b)(j,m.a),[M]),"markGuidelinesAsFresh"),C=o((j,M)=>O().maybeRefetch(Object(b.b)(j,m.a),M),"maybeRefetchGuidelines"),I={fetchAndSetOrgGuidelines:g};Object(r.b)("conditionalFetchManagerSlackConnectGuidelines",O)},zKt1:function(w,s,e){"use strict";e.d(s,"c",function(){return A}),e.d(s,"b",function(){return P}),e.d(s,"d",function(){return G}),e.d(s,"e",function(){return k});var n=e("mM05"),t=e.n(n),a=e("OZf9"),i=e("fujP"),c=e("CpTu"),r=e("BeL+"),f=e("m8R6"),l=e("5SjC"),p=e("/0zS"),h=e("tfz1"),u=e("0qhH"),b=e("htTJ");function v(H){var R;return!!(!(H==null||(R=H.attributes)===null||R===void 0)&&R.unlink)}o(v,"isOpUnlink");var d=e("dA19"),m=e("fR2/"),g=e("x4bu"),O=e("MvaT"),E=e("6Fta"),y=e("qfW3"),C=e("3yyz"),I=e("Y/OQ"),j=e("mSgU"),M=e("Z44y");const T=/https?:\/\/.*\.(fbcdn|cdninstagram|twimg)\.(net|com)\/.*(\.|=)(jpe?g|gif|png|svg|bmp)/,D=["dropbox.com"],S=o(H=>H&&(T.test(H)?H:H.split("?")[0]),"sanitizeImageUrlWithParams"),A=o(H=>{const R=S(H);return R?/(\.|=)(jpe?g|gif|png|svg|bmp)/.test(R):!1},"isImageUrl"),P=o(H=>{if(H){for(let R=0;R<D.length;R++)if(H.indexOf(D[R])>=0)return!0}return!1},"isImageFromDeniedDomains"),N=o(function(H){let{doImageReplacement:R,ignoreExistingLinks:W,limitCodeBlockLinksToFullURLs:U,ignoreUnbalancedParentheses:_=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!H)return new t.a;const B=Object(O.a)(H),z=new t.a;return Object(l.a)(H,(L,$)=>{const Q=Object(h.a)($);if(!Object(u.a)(L)||W&&Object(b.a)(L)||v(L)||Object(b.c)(L)){z.insert(L.insert||"",{...L.attributes});return}const K=Object(g.a)(L),Z=U&&Q,ne=Object(p.a)({input:K,ignorePhoneMatches:Z,ignoreEmailMatches:Z,ignoreLinksWithoutHttp:Z,ignoreUnbalancedParentheses:!!_});if(!ne.length){z.insert(L.insert||"",{...L.attributes});return}let F=0;const J=L&&L.attributes;if(Object(a.a)(ne,X=>{const{url:Y,type:ae,text:ee,offset:q}=X||{};if(q>F&&(z.insert(K.slice(F,q),J),F=q),!(!Y||!ee)){if(R&&ae==="url"&&A(Y)&&!P(Y)){const te=S(Y);z.insert({slackdocimage:te})}else z.insert(ee,{...J,link:Y});F=q+ee.length}}),F<K.length&&F>=0){const X=K.slice(F);z.insert(X,J)}}),B?z:Object(E.a)(z)},"linkifyDeltaText"),G=o(H=>{if(!H)return new t.a;const R=H.map(_=>{if(Object(b.a)(_)){const B={insert:_.insert},z={..._.attributes};return delete z.link,Object(i.a)(z)||(B.attributes=z),B}return _}),W=new t.a().compose(new t.a(R));return N(W,{doImageReplacement:Object(M.a)()})},"relinkifyDeltaText"),V=o((H,R,W)=>{const U=R+Object(C.a)(H);return Object(c.a)(W,_=>{if(_.text===H.insert)return!1;const B=_.offset,z=_.offset+_.text.length;return B>=R&&B<=U||z<=R&&z<=U||B<R&&z<=U})},"isOpInRangeOfMatches"),k=o(H=>{if(!H)return new t.a;const R=Object(r.a)(j.b.concat(j.d)),W=Object(I.a)(H.ops,{replaceLinks:!1,replaceCode:!0,embedReplacement:" "}),U=Object(p.a)({input:W});let _=0;const B=H.map(L=>{const $=_,Q=Object(C.a)(L);let K=!1;if(_+=Q,!Object(b.a)(L))return L;if(Object(d.a)(L)||Object(m.a)(L))return{...L,attributes:{...Object(f.a)(L.attributes,"link")}};if(Object(b.c)(L))return L;V(L,$,U)&&(K=!0);const Z=$===0?" ":W.substr($-1,1),ne=Z.match(/^\s$/)||R.includes(Z),F=$+Q===W.length?" ":W.substr($+Q,1),J=R.includes(F)||F.match(/^\s$/);if(!K&&(!ne||!J)){var X;const Y=Object(g.a)(L),ae=!K&&Object(p.a)({input:Y});ae&&ae.length===1&&ae[0].url===((X=L.attributes)===null||X===void 0?void 0:X.link)&&(K=!0)}if(!K&&Object(y.a)(L)&&(K=!0),K){const Y={insert:L.insert},ae={...L.attributes};return delete ae.link,Object(i.a)(ae)||(Y.attributes=ae),Y}return L}),z=new t.a().compose(new t.a(B));return N(z,{doImageReplacement:Object(M.a)()})},"relinkifyDeltaTextWhileRetainingExistingLinks");var x=s.a=N},zP0t:function(w,s,e){"use strict";e.r(s);var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("ktUG"),c=e("nNoG"),r=e("69o4"),f=e("uVZW"),l=e("Trx9"),p=e("o3gz"),h=e("03PU");const u=new c.b("trials_highlight_paid_features"),b=o(d=>{let{children:m,isOpen:g=!1}=d;const O=Object(a.useDispatch)(),E=Object(n.useCallback)(()=>O(Object(r.a)({spaceName:f.g.IN_PRODUCT_COACHMARK,action:f.f.DISMISS})),[O]),y=Object(n.useCallback)(()=>{window.open("https://slack.com/blog/news/pricing-and-plan-updates"),E()},[E]),C=t.a.createElement("video",{className:"p-clips_repackaging_coachmark__hero",playsInline:!0,autoPlay:!0,muted:!0,poster:"/img/trial/clips-repackaging-hero.png"},t.a.createElement("source",{type:"video/mp4",src:"/img/trial/clips-repackaging-hero.mp4"}),t.a.createElement("source",{type:"video/webm",src:"/img/trial/clips-repackaging-hero.webm"})),I=t.a.createElement(p.a,{arrowPosition:20,centerOnArrow:!0,closeBackgroundStyle:"dark",hero:C,isOpen:g,title:u.t("New for your team: Clips"),bodyText:u.t("Make a quick voice recording on the go, or share your screen in a video. Read about more new features and plan limit changes."),linkClogElementName:"see_details",linkText:u.t("See details"),onClickLink:y,closeCoachmark:E,width:324});return t.a.createElement(l.a,{eventId:i.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:i.UiComponentName.CLIPS_REPACKAGING_COACHMARK},t.a.createElement(h.b,{coachmarkAnchorClassNames:"p-clips_repackaging_coachmark",coachmarkElement:I,orientation:"top"},m))},"ClipsRepackagingCoachmark");b.displayName="ClipsRepackagingCoachmark";var v=s.default=b},zZFv:function(w,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("BeL+"),t=e("fR2/"),a=e("kzMN");function i(c){const r=[];return!c||!c.contents?r:(c.contents.forEach(f=>{Object(t.a)(f)&&Object(a.a)(Object(t.b)(f))&&r.push(Object(t.b)(f))}),Object(n.a)(r))}o(i,"getBroadcastKeywordsFromContents")},zcRq:function(w,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("SQ0V"),t=e("Sczb"),a=e("fujP"),i=e("Wy5O"),c=e("zmn3");const r=Object(n.c)("Gets URLs to unfurl from ops for message sending APIs",function(f,l){let{draftId:p,ops:h}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=l();if(!p||!h)return;const b=Object(t.h)(u,{ops:h});if(!b||Object(a.a)(b))return[];const v=Object(t.e)(u,p),d=Object(i.a)(b,v??[]);return Object(c.a)(d,g=>({url:g}))});r.meta={name:"createThunk",key:"createThunkgetDraftUnfurlsForMessageSend",description:"Gets URLs to unfurl from ops for message sending APIs"}},zg12:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),i=e("Cfcg"),c=e("71i0"),r=e.n(c),f=e("hUMe"),l=e("Yauy"),p=e("lV/E"),h=e("8aX7"),u=e("Tevt"),b=e("E3dU"),v=e("Zdzc"),d=e("zm5I"),m=e("nNoG"),g=e("BHdc"),O=e("oEDn"),E=e("zMr6"),y=e("fenk"),C=e("plSA"),I=e("YUBf"),j=e("jWAO"),M=e("daiH"),T=e("Trx9"),D=e("ktUG"),S=e("IaLB"),A=e("+kJ4"),P=e("TIBL"),N=e("3G7u"),G=e("beVI"),V=e("G0eX"),k=e("F0YV"),x=e("n7UZ"),H=e("SQ0V"),R=e("Lgge"),W=e("CMT/"),U=e("GV2D"),_=e("wFOH");const B=Object(H.c)("Open an SCDM with an external user",(Ue,ve,ge)=>{let{memberId:le}=ge;return Ue(Object(W.a)({memberIds:[le]})).then(he=>{const Te=he.id,Re=Object(_.a)(ve(),Te);Ue(Object(U.a)({channelId:Te,startTs:Re==null?void 0:Re.ts}))}).catch(he=>R.a.reject(he))});B.meta={name:"createThunk",key:"createThunkopenScdm",description:"Open an SCDM with an external user"};var z=e("FGjW"),L=e("y6n1"),$=e("Ccc1"),Q=e("MhVz"),K=e.n(Q),Z=e("kG/e"),ne=e.n(Z),F=e("kxML"),J=e.n(F),X=e("6HaY"),Y=e.n(X),ae=e("+iwk"),ee=e.n(ae),q=e("Unj8"),te=e.n(q),de=e("qiCS"),se=e("lIcY"),re=e("AKIH"),oe=e("s9Q6"),ce=e("/0Xg"),ue=e("j5vF");function Pe(){return Pe=Object.assign||function(Ue){for(var ve=1;ve<arguments.length;ve++){var ge=arguments[ve];for(var le in ge)Object.prototype.hasOwnProperty.call(ge,le)&&(Ue[le]=ge[le])}return Ue},Pe.apply(this,arguments)}o(Pe,"_extends");const Ye=new m.b("setup_page"),$e={onClick:{enableClogAction:!0},elementName:"go_to_hub_in_other_workspace"},Ke={elementName:"dm_inviting_user",onClick:{enableClogAction:!0}},qe={elementName:"ok",onClick:{enableClogAction:!0}};var ct;(function(Ue){Ue.WelcomeStep="welcome_step",Ue.PromoteScdmStep="promote_scdm_step"})(ct||(ct={}));const Be={ICONS_HEADER:"welcome-modal-icons-header",HEADER:"sc_welcome_modal_header",BODY:"sc_welcome_modal_body",BODY_TEXT:"sc_welcome_modal_body_text",ALERT:"sc_welcome_modal_alert",BUTTON:"sc_welcome_modal_ok_button",FOOTER:"sc_welcome_modal_footer",FOOTER_BLURB:"sc_welcome_modal_footer_blurb",SCDM_FOOTER_BLURB:"sc_welcome_modal_scdm_footer_blurb"};let pe=o(class extends n.Component{renderWelcomeModalScreen(){const{sharedChannelConnected:ve,shouldShowScdmStep:ge,otherWorkspaceId:le,goToHubInOtherWorkspace:he,experimentScGettingStartedExperiments2GroupTreatment:Te,hasAcceptedInviteOnFreeTrial:Re,isUserExternalLimited:Ve}=this.props,Ee=Object(g.default)("p-shared_invite_creator_welcome_modal__image",{"p-shared_invite_creator_welcome_modal__image--confirmation":!Te,"p-shared_invite_creator_welcome_modal__image--connection":Te&&!ve,"p-shared_invite_creator_welcome_modal__image--collaboration":Te&&ve}),Ae=Te&&Re,Ge=Ae?Ve:!0;return t.a.createElement(t.a.Fragment,null,t.a.createElement(I.i,null,t.a.createElement(I.j,{className:Ee,src:this.getHeaderIllustration(),alt:""}),!ve&&!Te&&this.getTeamIconsHeader(),t.a.createElement(I.l,{"data-qa":Be.HEADER,title:this.getHeaderText()})),t.a.createElement(I.d,{"data-qa":Be.BODY},t.a.createElement(I.e,{"data-qa":Be.BODY_TEXT},Ae&&t.a.createElement("p",{className:"margin_bottom_125"},this.getFreeTrialBodyText()),Ge&&this.getBodyText()),le&&t.a.createElement(I.e,{className:"margin_top_75"},t.a.createElement(j.d,{type:j.c.custom,"data-qa":Be.ALERT},Ye.rt("This channel will be added to your {otherWorkspaceName} workspace.",{otherWorkspaceName:t.a.createElement(u.a,{onClick:he,autoClogProps:$e,className:"p-shared_invite_creator_welcome_modal__alert_link",renderAsSpan:!0},t.a.createElement(f.a,{bold:!1,id:le}))})))),t.a.createElement(I.g,null,t.a.createElement(I.c,{onClick:this.onClickPrimaryCTA,className:"p-shared_invite_creator_welcome_modal__ok_button",type:"primary",size:"medium","data-qa":Be.BUTTON,autoClogProps:{elementName:ge?"continue":"done",onClick:{enableClogAction:!0}}},this.getButtonText())),this.renderAdditionalFooter())}render(){const{closeModal:ve,sharedInviteFlowError:ge,sharedChannelConnected:le,inviteId:he,connectInvite:Te,experimentScGettingStartedExperiments2GroupTreatment:Re}=this.props,{currentStep:Ve,shouldShowSpeedBump:Ee}=this.state;if(ge){const{header:Ze,body:ze}=this.getErrorText();return t.a.createElement(T.a,{eventId:D.EventId.NEWXP_TEAM_CREATE,coreInviteId:he,uiStep:D.UiStep.SETUP_SHARED_CHANNEL_CREATOR_WELCOME_MODAL,stepVariant:ge===y.a.ConnectionLimitExceeded?"connection_limit_exceeded_error":"error"},t.a.createElement(I.a,{closeModal:ve},t.a.createElement(I.i,{className:"p-shared_invite_creator_welcome_modal__header--error","data-qa":Be.HEADER},Ze),t.a.createElement(I.d,{className:"p-shared_invite_creator_welcome_modal__content--error","data-qa":Be.BODY},ze),t.a.createElement(I.g,null,t.a.createElement(I.c,{type:"primary",size:"medium","data-qa":Be.BUTTON,autoClogProps:qe},this.getButtonText()))))}let Ae;(Te==null?void 0:Te.invite_type)===C.b.Im?Ae="shared_dm":Ae=le?"shared_invite_connected":"pending_shared_invite_connection";const Ge=Ve===ct.PromoteScdmStep?D.UiStep.PROMOTE_SCDM_WHILE_SC_PENDING:D.UiStep.SETUP_SHARED_CHANNEL_CREATOR_WELCOME_MODAL;return t.a.createElement(T.a,{eventId:D.EventId.NEWXP_TEAM_CREATE,coreInviteId:he,uiStep:Ge,stepVariant:Ae,trackClogRef:Ze=>{this.trackClog=Ze}},t.a.createElement(I.a,Pe({centered:!0,showCloseButton:!le,closeModal:ve},!Re&&{maxWidth:560}),t.a.createElement(I.f.Consumer,null,Ze=>{let{showSpeedBump:ze}=Ze;return ze(Ee),Ve===ct.PromoteScdmStep?t.a.createElement(z.b,{connectInvite:Te,teamToPrompt:z.a.InvitingTeam,setShouldShowSpeedBump:this.setShouldShowSpeedBump}):this.renderWelcomeModalScreen()})))}constructor(ve){var ge;super(ve),ge=this,this.getTeamIconsHeader=()=>{const{customAwayIcon:le,customHomeIcon:he}=this.props;return!he||!le?null:t.a.createElement("div",{className:"p-shared_invite_creator_welcome_modal__team_icons","data-qa":Be.ICONS_HEADER},t.a.createElement(k.a,{icon:he,size:36,className:"p-shared_invite_creator_welcome_modal__team_icon--icon"}),t.a.createElement("span",{className:"p-shared_invite_creator_welcome_modal__team_icon--dot"}),t.a.createElement("span",{className:"p-shared_invite_creator_welcome_modal__team_icon--dot"}),t.a.createElement("span",{className:"p-shared_invite_creator_welcome_modal__team_icon--dot"}),t.a.createElement(k.a,{icon:le,size:36,className:"p-shared_invite_creator_welcome_modal__team_icon--icon"}))},this.getHeaderText=()=>{const{channelName:le,sharedChannelConnected:he,sharedInviteFlowError:Te,connectInvite:Re,experimentScGettingStartedExperiments2GroupTreatment:Ve,hasAcceptedInviteOnFreeTrial:Ee}=this.props;if((Re==null?void 0:Re.invite_type)===C.b.Im)return Ye.rt("This is Slack, a messaging app built for work");const Ae=o(Ze=>{let{tag:ze,text:lt}=Ze;var tt;const Ot=!(Re==null||(tt=Re.channel)===null||tt===void 0)&&tt.is_private?"lock":"channel";switch(ze){case"span":return t.a.createElement("span",{className:"p-shared_invite_creator_welcome_modal__channel"},t.a.createElement(O.a,{className:"p-shared_invite_creator_welcome_modal__channel_icon",type:Ot,size:"inherit"})," ",lt);default:return null}},"channelNameHandler");Ae.displayName="channelNameHandler";let Ge;return Ve?(he?Ge=Ye.rt("Welcome to the channel!"):Ge=Ye.rt("All set \u2014 admins are taking a look"),Ee&&(Ge=Ye.rt("Ta-da! Your team\u2019s on a free trial of Slack"))):he?Ge=Ye.rt("You\u2019re now part of <span>{channelName}</span>",{channelName:le},Ae):Ge=Ye.rt("You\u2019ll be joining <span>{channelName}</span> soon",{channelName:le},Ae),Te?Ye.rt("Couldn\u2019t accept invitation"):Ge},this.getFreeTrialBodyText=()=>{var le;const{trialExpirationDate:he,experimentScGettingStartedExperiments2GroupTreatment:Te,connectInvite:Re,channelId:Ve,channelName:Ee,isUserExternalLimited:Ae}=this.props,Ge=!(Re==null||(le=Re.channel)===null||le===void 0)&&le.is_private?E.d:E.a,Ze=t.a.createElement($.a,{channelId:Ve,overrideHiddenName:Ee,overrideHiddenIcon:Ge,showTeam:!1});return Te?Ae?Ye.rt("You\u2019ve accepted this invitation and your team\u2019s now on a free trial of Slack Pro. Your trial includes Slack Connect and other features that help your team work better, together. It goes through {trialEndDate}, absolutely free. {learnMoreLink}",{trialEndDate:he,learnMoreLink:t.a.createElement(u.a,{href:Object(ce.v)()},Te&&Ye.t("Learn more"))}):Ye.rt("You\u2019ve accepted this invitation to <strong>{channelName}</strong> and your team\u2019s now on a free trial of Slack Pro. Your trial includes Slack Connect and other features that help your team work better, together. It goes through {trialEndDate}, absolutely free. {learnMoreLink}",{channelName:Ze,trialEndDate:he,learnMoreLink:t.a.createElement(u.a,{href:Object(ce.v)()},Te&&Ye.t("Learn more"))}):Ye.t("")},this.getBodyText=()=>{var le;const{invitingTeamId:he,channelId:Te,channelName:Re,sharedChannelConnected:Ve,connectInvite:Ee,isUserExternalLimited:Ae,shouldShowScdmStep:Ge,pendingApprovalTeamIds:Ze,experimentScGettingStartedExperiments2GroupTreatment:ze,hasAcceptedInviteOnFreeTrial:lt}=this.props;if((Ee==null?void 0:Ee.invite_type)===C.b.Im)return Ye.rt("You\u2019re here! Now you can send messages, share all sorts of files, and collaborate on specific projects \u2014 with anyone, no matter where they work.");const tt=this.props.invitingTeamName||t.a.createElement(f.a,{id:he}),Ot=!(Ee==null||(le=Ee.channel)===null||le===void 0)&&le.is_private?E.d:E.a,Ct=t.a.createElement($.a,{channelId:Te,overrideHiddenName:Re,overrideHiddenIcon:Ot,showTeam:!1});return Ge?Ye.rt("{possessiveTeamName} admins have to sign off on channels with people outside their company. Once that\u2019s done, you\u2019ll be notified.",{possessiveTeamName:this.props.invitingTeamName?Object(m.c)(this.props.invitingTeamName):t.a.createElement(f.a,{id:he})}):Ve?Ae?ze?lt?Ye.rt("In <strong>{channelName}</strong>, you can post and reply to messages, but you\u2019ll need to get approval before you can add any other people to the channel.",{channelName:Ct}):Ye.rt("<strong>{channelName}</strong> is where you\u2019ll work with {invitingMember} and others from <strong>{invitingTeam}</strong>. You can post and reply to messages, but you\u2019ll need to get approval before you can add any other people to the channel.",{channelName:Ct,invitingMember:this.getInvitingMemberEntity(!1),invitingTeam:tt}):Ye.rt("This is where you\u2019ll be working with <strong>{invitingTeamName}</strong>. You can post messages and share files.",{invitingTeamName:tt}):ze?Ye.rt("<strong>{channelName}</strong> is where you\u2019ll work with {invitingMember} and others from <strong>{invitingTeam}</strong>.",{channelName:Ct,invitingMember:this.getInvitingMemberEntity(!1),invitingTeam:tt}):Ye.rt("This is where you\u2019ll be working with <strong>{invitingTeamName}</strong>. You can add your coworkers, reply to messages, and share files.",{invitingTeamName:tt,fallbackHash:"c9953a3520f354bd683f79886ceb1b97e9e5a032"}):Ze!=null&&Ze.length?ze?lt?Ye.rt("Once admins from your organization and {invitingTeam} review this invitation, you\u2019ll be added to <strong>{channelName}</strong>.",{invitingTeam:tt,channelName:Ct}):Ze.length===1?Ze[0]===he?Ye.rt("You\u2019ve accepted this invite from {invitingMember}! To keep things secure, admins from {invitingTeam} need to approve it before you\u2019re added to <strong>{channelName}</strong>.",{channelName:Ct,invitingMember:this.getInvitingMemberEntity(!0),invitingTeam:tt}):Ye.rt("You\u2019ve accepted this invite from {invitingMember}! To keep things secure, admins from your organization need to approve it before you\u2019re added to <strong>{channelName}</strong>.",{channelName:Ct,invitingMember:this.getInvitingMemberEntity(!0)}):Ye.rt("You\u2019ve accepted this invite from {invitingMember}! To keep things secure, admins from your organization and {invitingTeam} need to approve it before you\u2019re added to <strong>{channelName}</strong>.",{channelName:Ct,invitingMember:this.getInvitingMemberEntity(!0),invitingTeam:tt}):Ze.length===1?Ye.rt("Admins from {approvingTeam} get a chance to review this request. Once they give it the thumbs up, you\u2019ll be added to the channel.",{approvingTeam:t.a.createElement(f.a,{bold:!1,id:Ze[0]})}):Ye.rt("Admins from {approvingTeam1} and {approvingTeam2} get a chance to review this request. Once they give it the thumbs up, you\u2019ll be added to the channel.",{approvingTeam1:t.a.createElement(f.a,{bold:!1,id:Ze[0]}),approvingTeam2:t.a.createElement(f.a,{bold:!1,id:Ze[1]})}):Ye.rt("All organizations will need the approval of their admins to work together using Slack Connect. Once approved, you\u2019ll be connected.")},this.getErrorText=()=>{const{sharedInviteFlowError:le,connectInvite:he}=this.props;return Object(P.a)(le,{connectInvite:he,fallbackCopy:{header:Ye.t("Couldn\u2019t accept invitation"),body:Ye.t("This invitation is no longer available. You may want to reach out to the person who sent you this link for help.")}})},this.getButtonText=()=>{const{sharedInviteFlowError:le,shouldShowScdmStep:he,experimentScGettingStartedExperiments2GroupTreatment:Te}=this.props;return he?Ye.t("Continue"):le?Ye.t("OK"):Te?Ye.t("Got It"):Ye.t("Done")},this.setShouldShowSpeedBump=le=>{this.setState(()=>({shouldShowSpeedBump:le})),le&&this.trackClog({action:D.UiAction.IMPRESSION,elementName:"enter_speedbump"})},this.onClickPrimaryCTA=()=>{const{shouldShowScdmStep:le,closeModal:he}=this.props;return le?this.setState(()=>({currentStep:ct.PromoteScdmStep})):he()},this.getInvitingMemberEntity=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const{connectInvite:he}=ge.props,Te=he==null?void 0:he.invite.inviting_user;return t.a.createElement(h.a,{member:Te??void 0,id:Te==null?void 0:Te.id,forceRealName:!0,isBold:le})},this.getHeaderIllustration=()=>{const{isDarkMode:le,sharedChannelConnected:he,experimentScGettingStartedExperiments2GroupTreatment:Te}=this.props;return Te?he?le?Y.a:J.a:le?te.a:ee.a:le?ne.a:K.a},this.getScdmFooterText=()=>{const{navigateToInvitingMemberDM:le,experimentScGettingStartedExperiments2GroupTreatment:he}=this.props,Te=this.getInvitingMemberEntity(!1),Re=o(Ve=>t.a.createElement(u.a,{onClick:le,autoClogProps:Ke,renderAsSpan:!0},Ve),"generateDmLink");return he?Ye.rt("While you wait for approval, <a>send {member} a message</a> to let them know you accepted the invite.",{member:Te},Ve=>{let{text:Ee}=Ve;return Re(Ee)}):Ye.rt("Want to let {member} know you\u2019ve accepted their invite? <a>Send them a message</a> while you wait.",{member:Te},Ve=>{let{text:Ee}=Ve;return Re(Ee)})},this.renderAdditionalFooter=()=>{const{connectInvite:le,shouldShowScdmStep:he,shouldShowScdmFooter:Te}=this.props,Re=le==null?void 0:le.invite.inviting_user,Ve=le==null?void 0:le.invite.inviting_team,Ee=Object(g.default)("p-shared_invite_creator_welcome_modal__footer",{"p-shared_invite_creator_welcome_modal__footer--sandwich":he,"p-shared_invite_creator_welcome_modal__footer--scdm":Te});return he?t.a.createElement(I.g,{className:Ee,"data-qa":Be.FOOTER,isAdaptive:!0},t.a.createElement("div",{className:"p-shared_invite_creator_welcome_modal__footer_body","data-qa":Be.FOOTER_BLURB},t.a.createElement("img",{src:r.a,alt:Ye.t("sandwich illustration"),height:64}),t.a.createElement("div",{className:"margin_left_75"},Ye.rt("Typically this takes around <strong>10 to 15 minutes</strong> \u2014 or about how long you need to make a decent sandwich.")))):Te?t.a.createElement(I.g,{className:Ee,"data-qa":Be.FOOTER,isAdaptive:!0},t.a.createElement("div",{className:"p-shared_invite_creator_welcome_modal__footer_body","data-qa":Be.SCDM_FOOTER_BLURB},Ve&&Re&&t.a.createElement(M.a,{className:"p-shared_invite_creator_welcome_modal__inviting_member_icon",team:Ve,user:Re,size:40,shouldRenderTeamBadge:!0,allowDefaultProfileImage:!0}),t.a.createElement("div",null,this.getScdmFooterText()))):null},this.trackClog=a.a,this.state={currentStep:ct.WelcomeStep,shouldShowSpeedBump:!1}}},"SharedInviteCreatorWelcomeModal");pe.displayName="SharedInviteCreatorWelcomeModal",pe.defaultProps={shouldShowScdmStep:!1,shouldShowScdmFooter:!1};const fe=o((Ue,ve)=>{var ge;const le=Object(G.g)(Ue),he={sharedInviteFlowError:Object(S.D)(Ue)||Object(S.G)(Ue),experimentScGettingStartedExperiments2GroupTreatment:Object(L.b)(Ue),trialExpirationDate:Object(re.a)(Object(oe.g)(Ue))};if(!ve.connectInvite){var Te;const zt=Object(b.d)(Ue,ve.channelId),kt=ve.channelName||Object(l.t)(Ue,zt,{publicChannelIncludeHashSign:!1});return{...he,channelId:(zt==null?void 0:zt.id)||"",inviteId:(Te=Object(S.F)(Ue))===null||Te===void 0?void 0:Te.id,invitingTeamId:Object(p.a)(zt),channelName:kt,sharedChannelConnected:ve.sharedChannelConnected}}const{invite:Re,channel:Ve,acceptances:Ee}=ve.connectInvite,Ae=Re.inviting_team.icon,Ge=Ae&&!Ae.image_default?Ae:void 0,Ze=Object(V.w)(le)?Object(V.m)(le):void 0,ze=ve.sharedChannelConnected!==void 0?ve.sharedChannelConnected:(Ee==null||(ge=Ee[0])===null||ge===void 0?void 0:ge.approval_status)==="approved",lt=Object(N.a)({invite:ve.connectInvite}),tt=Object(b.m)(Ue,Re.inviting_user.id),Ot=Re.is_sponsored&&Object(V.F)(le),Ct=!ze&&Object(v.b)(Ue)&&ve.promptForScdmAfterAcceptInWeb&&!Object(l.W)(tt)&&!Ot,St=!ve.otherWorkspaceId&&ve.promptForScdmAfterAcceptInSlack&&!ze&&Object(v.b)(Ue)&&!Object(l.W)(tt);return{...he,channelId:(Ve==null?void 0:Ve.id)||"",inviteId:Re.id,invitingTeamId:Re.inviting_team.id,channelName:(Ve==null?void 0:Ve.name)||"",sharedChannelConnected:ze,invitingTeamName:Re.inviting_team.name,customHomeIcon:Ze,customAwayIcon:Ge,isUserExternalLimited:Object(x.a)(Ue,(Ve==null?void 0:Ve.id)||""),isDarkMode:Object(d.a)(Ue)==="dark",shouldShowScdmStep:Ct,shouldShowScdmFooter:St,pendingApprovalTeamIds:lt,isSponsoredInvite:Ot}},"mapStateToProps"),me=o((Ue,ve)=>{let{connectInvite:ge}=ve;const le=o(()=>{Ue(Object(A.a)()),window.history.replaceState("","",Object(de.b)(window.location.href,se.a))},"closeModal");return{closeModal:le,navigateToInvitingMemberDM:()=>{le(),Ue(B({memberId:ge==null?void 0:ge.invite.inviting_user.id}))}}},"mapDispatchToProps"),Se=pe;var je=s.a=Object(i.a)(fe,me)(pe)},zlyu:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("C3Bw"),i=e("BHdc"),c=e("ifKl"),r=e("oaNE"),f=e("1ufr"),l=e("WIr4"),p=e("FWtP"),h=e("nNoG"),u=e("gPPH"),b=e("nFQW"),v=e("ZobM"),d=e("Tevt"),m=e("hp0J"),g=e("Trx9"),O=e("Cfcg"),E=e("RVJP"),y=e("Atq3"),C=e("iUFw");function I(){return I=Object.assign||function(L){for(var $=1;$<arguments.length;$++){var Q=arguments[$];for(var K in Q)Object.prototype.hasOwnProperty.call(Q,K)&&(L[K]=Q[K])}return L},I.apply(this,arguments)}o(I,"_extends");let j=o(class extends n.PureComponent{componentDidMount(){this.focusOnButton()}focusOnButton(){this.buttonRef.current&&this.buttonRef.current.focus()}render(){const{children:$,...Q}=this.props;return t.a.createElement(C.d,I({ref:this.buttonRef,"data-qa":"coachmark_close_button"},Q),$)}constructor($){super($),this.buttonRef=t.a.createRef(),this.focusOnButton=this.focusOnButton.bind(this)}},"DeprecatedCoachmarkCloseButton");j.displayName="DeprecatedCoachmarkCloseButton";var M=j,T=e("ktUG"),D=e("rq2v"),S=e("jWHu"),A=e("somW"),P=e("UL37"),N=e("khnw");function G(){return G=Object.assign||function(L){for(var $=1;$<arguments.length;$++){var Q=arguments[$];for(var K in Q)Object.prototype.hasOwnProperty.call(Q,K)&&(L[K]=Q[K])}return L},G.apply(this,arguments)}o(G,"deprecated_coachmark_extends");const V=new h.b("generic_dialog"),k=Object(p.a)(L=>({qa:L})),x=Object(p.a)((L,$)=>({overlay:L,content:$}),2),H=Object(p.a)(L=>[{elementName:`${L}_close_coachmark_button`,action:T.UiAction.CLOSE,onClick:{enableClogAction:!0}},{elementName:`${L}_secondary_cta`,onClick:{enableClogAction:!0}},{elementName:`${L}_primary_cta`,onClick:{enableClogAction:!0}}]),R=o(L=>{L.stopPropagation()},"stopPropagation"),W=o(L=>{(L==null?void 0:L.keyCode)===N.q&&L.stopPropagation()},"maybeStopPropagation"),U=[10,20,30,40,50,60,70,80,90,95];class _ extends n.PureComponent{componentDidMount(){this.props.isOpen&&(this.maybeUpdateCoachmarkPosition(),this.pollForChangesToAnchorPosition()),this.props.isMegaphoneCoachmark&&!this.context.isInMegaphoneContainerContext&&Object(S.b)(S.a.DeprecatedCoachmark)}componentDidUpdate($){this.props.isOpen&&this.maybeUpdateCoachmarkPosition(),!$.isOpen&&this.props.isOpen&&this.pollForChangesToAnchorPosition(),$.isOpen&&!this.props.isOpen&&this.maybeClearInterval()}componentWillUnmount(){this.maybeClearInterval()}onAfterOpen(){const{anchorElement:$,onAfterOpen:Q}=this.props;$&&(Q==null||Q($))}maybeClearInterval(){this.intervalId&&clearInterval(this.intervalId)}pollForChangesToAnchorPosition(){this.intervalId=this.props.window.setInterval(this.maybeUpdateCoachmarkPosition,50)}maybeUpdateCoachmarkPosition(){const{anchorElement:$,forceCoachmarkRefurbish:Q,window:K}=this.props;if(!$)return;const Z=$.getBoundingClientRect(),ne=K.innerWidth;(!this.lastAnchorPosition||this.lastWindowWidth!==ne||Z.x!==this.lastAnchorPosition.x||Z.y!==this.lastAnchorPosition.y||Q&&(Z.width!==this.lastAnchorPosition.width||Z.height!==this.lastAnchorPosition.height))&&(this.lastAnchorPosition=Z,this.lastWindowWidth=ne,this.forceUpdate())}getComputedStyles($,Q){const{offsetX:K,offsetY:Z,centerOnArrow:ne,forceCoachmarkRefurbish:F,window:J}=this.props,X=J.scrollX||J.pageXOffset,Y=J.scrollY||J.pageYOffset,ae=J.innerWidth,ee=J.innerHeight,q=20,te={};if(F){switch(Q){case"top-left":te.left=$.left+K,te.top=$.top-q+Z;break;case"top":te.left=$.left+K,te.top=$.top-q+Z,ne&&(te.left+=$.width/2);break;case"top-right":te.left=$.left+K,te.top=$.top-q+Z,ne&&(te.left+=$.width);break;case"bottom-left":te.left=$.left+K,te.top=$.top+$.height+q+Z;break;case"bottom":te.left=$.left+K,te.top=$.top+$.height+q+Z,ne&&(te.left+=$.width/2);break;case"bottom-right":te.left=$.left+K,te.top=$.top+$.height+q+Z,ne&&(te.left+=$.width);break;case"left-top":te.left=$.left+K+q,te.top=$.top+Z;break;case"left":te.left=$.left+K+q,te.top=$.top+$.height/2+Z;break;case"left-bottom":te.left=$.left+K+q,te.top=$.top+$.height+Z;break;case"right-top":te.left=$.left+$.width+q+K,te.top=$.top+Z;break;case"right":te.left=$.left+$.width+q+K,te.top=$.top+$.height/2+Z;break;case"right-bottom":te.left=$.left+$.width+q+K,te.top=$.top+$.height+Z;break;default:Object(y.a)(Q);break}return te}switch(Q){case"top":te.left=$.left+X+K,te.top=$.top+Y-$.height+Z,ne&&(te.left+=$.width/2);break;case"bottom":te.left=$.left+X+K,te.top=$.top+Y+$.height+q+Z,ne&&(te.left+=$.width/2);break;case"right":te.left=$.left+X+$.width+q+K,te.top=$.top+Y+$.height/2+Z;break;case"left":te.left=$.left+X+K,te.top=$.top+Y+$.height/2+Z;break;case"bottom-left":te.right=ae-$.right+K,te.top=$.top+Y+$.height+q+Z;break;case"top-left":te.right=ae-$.right+K,te.bottom=ee-$.top+Z,ne&&(te.left+=$.width/2);break;case"left-top":te.left=$.left+X+K,te.top=$.top+Z;break;default:break}return te}renderModalContent(){const{children:$,closeCoachmark:Q,isOpen:K,onClickPrimaryButton:Z,onClickSecondaryButton:ne,onClickTertiaryButton:F,primaryCallToActionText:J,secondaryCallToActionText:X,tertiaryCallToActionText:Y,primaryCallToActionType:ae,secondaryCallToActionType:ee,autoClogProps:q,contentLabel:te,labelledby:de,describedby:se,hideCloseButton:re,experimentNonModalCoachmarkGroupTreatment:oe,enableSectionNavigation:ce}=this.props,ue=Y||X||J,[Pe,Ye,$e]=H(q==null?void 0:q.elementName),Ke=t.a.createElement(m.a,null,!re&&t.a.createElement(b.a,{className:"c-coachmark__close",onClick:Q,"aria-label":V.t("Close"),"data-qa":"close_coachmark_button",autoClogProps:Pe,autoFocus:!!(te||de||se)&&!ue},t.a.createElement(v.a,{name:"close",size:"20"})),$,ue&&t.a.createElement("div",{className:"c-coachmark__footer"},Y&&t.a.createElement(t.a.Fragment,null,t.a.createElement(d.a,{onClick:F,"data-action-type":"tertiary"},Y),t.a.createElement("div",{className:"flex_one"})),X&&t.a.createElement(M,{onClick:ne,type:ee,className:"margin_right_75","data-action-type":"secondary",autoClogProps:Ye},X),J&&t.a.createElement(M,{onClick:Z,type:ae,"data-action-type":"primary",autoClogProps:$e},J)));return oe?t.a.createElement(A.a,{id:this.id,index:P.a.SECONDARY_VIEW+.1,focusFn:c.a,onFocus:R,enableSectionNavigation:ce&&K,onKeyDown:W},Ke):Ke}render(){const{anchorElement:$,arrowPosition:Q,closeCoachmark:K,coachmarkClassNames:Z,overlayClassNames:ne,modalBodyOpenClassNames:F,qa:J,isOpen:X,orientation:Y,centerOnArrow:ae,style:ee,overlayStyle:q,autoClogProps:te,contentLabel:de,labelledby:se,describedby:re,forceCoachmarkRefurbish:oe,UNSAFE_parentSelector:ce,shouldCloseOnOverlayClick:ue,isModal:Pe,experimentNonModalCoachmarkGroupTreatment:Ye}=this.props;if(!X||!$||!this.lastAnchorPosition)return null;const $e=Object(i.default)("c-coachmark",`c-coachmark--${Y}`,`c-coachmark--${Q}`,{"c-coachmark--center_on_arrow":ae,"c-coachmark--refurbish":oe},Z),Ke=Object(i.default)("c-coachmark__overlay",ne),qe=Object(i.default)(F),ct=this.getComputedStyles(this.lastAnchorPosition,Y),Be=Object(r.a)({},ct,ee),pe=Object(r.a)({position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"transparent",zIndex:1e3},q),fe={...te};return delete fe.elementName,t.a.createElement(g.a,G({disableValidationWarnings:!0,enableClogImpressionOffScreen:!0,clogImpression:X},fe),t.a.createElement(a.a,G({data:k(J),className:$e,isOpen:X,onRequestClose:K,overlayClassName:Ke,bodyOpenClassName:qe,ref:this.contentRef,shouldCloseOnEsc:!0,style:x(pe,Be),contentLabel:de},Ye?{ariaHideApp:Pe,aria:{labelledby:se,describedby:re,modal:Pe}}:{aria:{labelledby:se,describedby:re}},{onAfterOpen:this.onAfterOpen,parentSelector:ce,shouldCloseOnOverlayClick:ue}),this.renderModalContent()))}constructor($){super($),this.contentRef=t.a.createRef(),this.id=`Coachmark_${Object(u.a)()}`,Object(l.a)(this,["maybeUpdateCoachmarkPosition","onAfterOpen"])}}o(_,"deprecated_coachmark_DeprecatedBaseCoachmark"),_.displayName="DeprecatedBaseCoachmark",_.defaultProps={arrowPosition:50,closeCoachmark:c.a,qa:"coachmark",offsetX:0,offsetY:0,onClickPrimaryButton:c.a,onClickSecondaryButton:c.a,onClickTertiaryButton:c.a,primaryCallToActionType:"primary",secondaryCallToActionType:"outline",centerOnArrow:!1,autoClogProps:{elementName:"unset"},isMegaphoneCoachmark:!0,shouldCloseOnOverlayClick:!0,isModal:!1,enableSectionNavigation:!0},_.contextType=D.a;const B=o(L=>({experimentNonModalCoachmarkGroupTreatment:Object(E.d)(L,"non_modal_coachmark")==="treatment"}),"mapStateToProps");var z=s.a=Object(f.a)(Object(O.a)(B,void 0,void 0,{forwardRef:!0})(_))},zoal:function(w,s,e){"use strict";e.d(s,"f",function(){return l}),e.d(s,"d",function(){return h}),e.d(s,"c",function(){return b}),e.d(s,"b",function(){return v}),e.d(s,"e",function(){return d}),e.d(s,"a",function(){return g}),e.d(s,"g",function(){return E});var n=e("kNaz"),t=e("pu3F"),a=e("gPPH"),i=e("nNoG");const c=new i.b("workflow_builder"),r=o(y=>y===2?c.t("two",{fallbackHash:"ad782ecdac770fc6eb9a62e44f90873fb97fb26b",fallbackHashNs:"emoji_names"}):y===3?c.t("three",{fallbackHash:"b802f384302cb24fbab0a44997e820bf2e8507bb",fallbackHashNs:"emoji_names"}):y===4?c.t("four",{fallbackHash:"9f8f7eec5dea5ac43738721939c120318cbff1df",fallbackHashNs:"emoji_names"}):y===5?c.t("five",{fallbackHash:"4db2c1df4610cd6c0da6b9197b066bfb4e9b9d00",fallbackHashNs:"emoji_names"}):y===6?c.t("six",{fallbackHash:"bec9703f7a456cd2b4ab5fb3220ae016e3e394e3",fallbackHashNs:"emoji_names"}):y===7?c.t("seven",{fallbackHash:"a00bbe560e6b0f5263e3e6cba4ff3fb9a6fe9ef0",fallbackHashNs:"emoji_names"}):y===8?c.t("eight",{fallbackHash:"d479fa0ef92542c808003731bc478f714ec1da4c",fallbackHashNs:"emoji_names"}):y===9?c.t("nine",{fallbackHash:"b4ddce182ecfb739a19a2b263412c2343dd4fc98",fallbackHashNs:"emoji_names"}):y,"getNumberFormatted"),f=o(y=>{if(y===0||!y)return"";if(y===1)return c.t("Choose one option");const C=r(y);return c.t("Choose up to {options} options",{options:C})},"getMultiselectLabel"),l=o(y=>({[n.c.ShortText]:c.t("Answer in one or two sentences"),[n.c.LongText]:c.t("You can write a paragraph"),[n.c.Number]:"",[n.c.Date]:"",[n.c.SelectPerson]:c.t("To find a person, start entering their name"),[n.c.SelectChannel]:c.t("To find a channel, start entering its name"),[n.c.Dropdown]:c.t("Choose one option"),[n.c.StaticMultiSelect]:f(y),[n.c.StaticMultiSelectWithCheckboxes]:c.t("Choose all options that apply"),[n.c.RichText]:c.t("Use bullets, bold, and other formatting tools",{fallbackHash:"63d831f014440588b315d238ba672e6a664bdb7b"})}),"questionDescriptionOptions"),p=o((y,C)=>Object.keys(y).includes(C)?y[C]:"","getDefaultDescription"),h=o(y=>y===n.c.StaticMultiSelect,"isStaticMultiSelect"),u=o(y=>y===n.c.StaticMultiSelectWithCheckboxes,"isStaticMultiSelectWithCheckboxes"),b=o(y=>u(y)||h(y),"isMultiSelect"),v=o(y=>y===n.c.Dropdown,"isDropdown"),d=o(y=>y===n.c.SelectStatic,"isStaticSelect");var m;const g=o(y=>(m=y.label)!==null&&m!==void 0?m:y.title,"getQuestionLabel"),O=o(y=>{var C;const I=y.default||void 0,j=y.maxItems||void 0,M=(C=y.options)===null||C===void 0?void 0:C.map(D=>({text:{type:t.f.plain_text,text:D.label},value:D.value})),T=I?{text:{type:t.f.plain_text,text:I},value:I}:void 0;switch(y.questionType){case n.c.LongText:return{multiline:!0};case n.c.SelectPerson:return{initial_user:I};case n.c.SelectChannel:return{initial_channel:I};case n.c.Dropdown:return{options:M,initial_option:T,placeholder:{type:t.f.plain_text,text:c.t("Select an option",{fallbackHash:"08d7aa35da9a4d64958e98f3d8476765942facb2",fallbackHashNs:"data_sources"})}};case n.c.StaticMultiSelect:return{options:M,max_selected_items:j};case n.c.StaticMultiSelectWithCheckboxes:return{options:M};case n.c.Number:return{type:t.f.number_input,is_decimal_allowed:!0};case n.c.ShortText:case n.c.RichText:case n.c.UserMultiSelect:case n.c.ChannelMultiSelect:case n.c.Date:case n.c.DateTime:case n.c.File:return{max_files:j};default:return{}}},"getBlockElementUniqueConfigFromQuestion"),E=o(y=>y.map(C=>{const I=n.d[C.questionType];return I?{blockId:Object(a.a)(),type:t.e.input,optional:C.optional,label:{type:t.f.plain_text,text:C.title,emoji:!0},hint:{type:t.f.plain_text,text:C.description,emoji:!0},element:{actionId:Object(a.a)(),type:I,...O(C)}}:{}}),"transformQuestionsToBlocks")},zonX:function(w,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),i=e("zxER"),c=e("v5z3"),r=e("IaLB"),f=e("uVZW"),l=e("eWGC");const p={[c.g.Flag]:r.pb,[c.g.Explainer]:r.ob,[c.g.Success]:r.rb},h=o((u,b)=>{const v=p[b],d=Object(i.c)(g=>v(g,{tip:u})),m=Object(a.useDispatch)();Object(n.useEffect)(()=>{c.h[u]&&d&&m(Object(l.a)({notificationName:c.h[u],action:f.f.IMPRESSION,step:b}))},[m,d,b,u])},"useRecordMegaphoneImpressionForProgressiveDisclosure")},zyFp:function(w,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),i=e("oY18"),c=e("rAyg"),r=e("pu3F"),f=e("nNoG");const l=new f.b("multi_file_upload"),p=Object(a.c)("renders a toast with error message for uploading too many files",h=>{const u=l.t("You can only upload {count, plural, =1 {# file} other {# files}} at a time.",{count:r.A}),b=t.a.createElement(c.a,{icon:"warning",iconClassName:"sk_reddish_orange"},t.a.createElement("span",null,u));setTimeout(()=>h(Object(i.a)({element:b})),500)});p.meta={name:"createThunk",key:"createThunkrenderFileLimitToast",description:"renders a toast with error message for uploading too many files"},s.a=p},zygp:function(w,s,e){"use strict";e.d(s,"a",function(){return C}),e.d(s,"g",function(){return T}),e.d(s,"f",function(){return A}),e.d(s,"c",function(){return G}),e.d(s,"b",function(){return k}),e.d(s,"e",function(){return x}),e.d(s,"d",function(){return H});var n=e("OtLZ"),t=e("1myf"),a=e("lE2N"),i=e("wd/R"),c=e.n(i),r=e("SQ0V"),f=e("ZKjC"),l=e("JoR1");const p=o(function(){let{nextDndStartTs:R,nextDndEndTs:W,now:U=c()().unix()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return R===1||W===1?!1:R<=U&&W>U},"calculateIfMemberIsInDnd"),h={calculateIfMemberIsInDnd:p};var u=e("8sbp"),b=e("C3vN"),v=e("cQ/D"),d=e("rsVu"),m=e("nNoG"),g=e("s4P+"),O=e("IYwZ");const E=new m.b("drafts");var y;(function(R){R[R.TuesToFriFrom0To8=0]="TuesToFriFrom0To8",R[R.TuesToFriFrom8To12=1]="TuesToFriFrom8To12",R[R.TuesToThursFrom12To24=2]="TuesToThursFrom12To24",R[R.Fri12ThroughSun24=3]="Fri12ThroughSun24",R[R.MondayFrom0To8=4]="MondayFrom0To8",R[R.MondayFrom8To12=5]="MondayFrom8To12",R[R.MondayFrom12To24=6]="MondayFrom12To24",R[R.Unknown=7]="Unknown"})(y||(y={}));var C;(function(R){R[R.LaterTodayAtNineAM=0]="LaterTodayAtNineAM",R[R.LaterTodayAtOnePM=1]="LaterTodayAtOnePM",R[R.TomorrowAtNineAM=2]="TomorrowAtNineAM",R[R.TomorrowAtOnePM=3]="TomorrowAtOnePM",R[R.MondayAtNineAM=4]="MondayAtNineAM",R[R.NextMondayAtNineAM=5]="NextMondayAtNineAM",R[R.MemberSpecificSchedulingTime=6]="MemberSpecificSchedulingTime",R[R.Custom=7]="Custom"})(C||(C={}));const I=Object.freeze({SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6});function j(){return c()().unix()}o(j,"getNow");function M(R){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j();if(R===C.LaterTodayAtNineAM)return c.a.unix(W).hour(9).minute(0).second(0).unix();if(R===C.LaterTodayAtOnePM)return c.a.unix(W).hour(13).minute(0).second(0).unix();if(R===C.TomorrowAtNineAM)return c.a.unix(W).hour(9).minute(0).second(0).add(1,"d").unix();if(R===C.TomorrowAtOnePM)return c.a.unix(W).hour(13).minute(0).second(0).add(1,"d").unix();if(R===C.MondayAtNineAM||R===C.NextMondayAtNineAM){const U=c()().day()<I.MONDAY?I.MONDAY:I.MONDAY+7;return c.a.unix(W).day(U).hour(9).minute(0).second(0).unix()}return R===C.Custom&&Object(g.b)().error('cannot get scheduling time for "Custom" option \u2014 this is likely a coding error'),0}o(M,"getTimeForStandardSchedulingOption");const T=Object(r.c)("gets time for scheduling option",(R,W,U)=>{let{option:_,draftId:B}=U;return _===C.MemberSpecificSchedulingTime?V(W(),B):M(_)});T.meta={name:"createThunk",key:"createThunkgetTimeForSchedulingOptionThunk",description:"gets time for scheduling option"};function D(){const R=c()().day(),W=c()().hour();return R>=I.TUESDAY&&R<=I.FRIDAY&&W>=0&&W<8?y.TuesToFriFrom0To8:R>=I.TUESDAY&&R<=I.FRIDAY&&W>=8&&W<12?y.TuesToFriFrom8To12:R>=I.TUESDAY&&R<=I.THURSDAY&&W>=12?y.TuesToThursFrom12To24:R===I.FRIDAY&&W>=12||R===I.SATURDAY||R===I.SUNDAY?y.Fri12ThroughSun24:R===I.MONDAY&&W>=0&&W<8?y.MondayFrom0To8:R===I.MONDAY&&W>=8&&W<12?y.MondayFrom8To12:R===I.MONDAY&&W>=12?y.MondayFrom12To24:y.Unknown}o(D,"getCurrentScheduledSendTimeBlock");function S(){switch(D()){case y.TuesToFriFrom0To8:return[C.LaterTodayAtNineAM,C.MondayAtNineAM,C.Custom];case y.TuesToFriFrom8To12:return[C.LaterTodayAtOnePM,C.MondayAtNineAM,C.Custom];case y.TuesToThursFrom12To24:return[C.TomorrowAtNineAM,C.MondayAtNineAM,C.Custom];case y.Fri12ThroughSun24:return[C.MondayAtNineAM,C.Custom];case y.MondayFrom0To8:return[C.LaterTodayAtNineAM,C.NextMondayAtNineAM,C.Custom];case y.MondayFrom8To12:return[C.LaterTodayAtOnePM,C.NextMondayAtNineAM,C.Custom];case y.MondayFrom12To24:return[C.TomorrowAtNineAM,C.NextMondayAtNineAM,C.Custom];default:return[C.Custom]}}o(S,"getStandardScheduledSendMenuOptions");const A=Object(f.b)((R,W)=>{let{draftId:U}=W;const _=S(),B=V(R,U);if(!B)return _;const L=Object(n.a)([..._,C.MemberSpecificSchedulingTime],C.Custom).map(K=>{const ne=K===C.MemberSpecificSchedulingTime?B:M(K);return{schedulingOption:K,schedulingTime:ne}}),Q=Object(t.a)(Object(a.a)(L,"schedulingTime"),"schedulingTime").map(K=>K.schedulingOption);return Q.push(C.Custom),Q});A.meta={name:"createSelector",key:"createSelectorgetScheduledSendMenuOptions",description:(R,W)=>{let{draftId:U}=W;const _=S(),B=V(R,U);if(!B)return _;const L=Object(n.a)([..._,C.MemberSpecificSchedulingTime],C.Custom).map(K=>{const ne=K===C.MemberSpecificSchedulingTime?B:M(K);return{schedulingOption:K,schedulingTime:ne}}),Q=Object(t.a)(Object(a.a)(L,"schedulingTime"),"schedulingTime").map(K=>K.schedulingOption);return Q.push(C.Custom),Q}};const P=Object(r.c)("gets label for scheduling option in or without 24hr option",(R,W,U)=>{let{schedulingOption:_}=U;const B=W();if(Object(l.t)(B,"time24"))switch(_){case C.LaterTodayAtNineAM:return E.t("Later today at 09:00");case C.LaterTodayAtOnePM:return E.t("Later today at 13:00");case C.TomorrowAtNineAM:return E.t("Tomorrow  at 09:00");case C.TomorrowAtOnePM:return E.t("Tomorrow at 13:00");case C.MondayAtNineAM:return E.t("Monday at 09:00");case C.NextMondayAtNineAM:return E.t("Next Monday at 09:00");case C.Custom:return E.t("Custom time");default:return""}else switch(_){case C.LaterTodayAtNineAM:return E.t("Later today at 9:00 AM");case C.LaterTodayAtOnePM:return E.t("Later today at 1:00 PM");case C.TomorrowAtNineAM:return E.t("Tomorrow at 9:00 AM");case C.TomorrowAtOnePM:return E.t("Tomorrow at 1:00 PM");case C.MondayAtNineAM:return E.t("Monday at 9:00 AM");case C.NextMondayAtNineAM:return E.t("Next Monday at 9:00 AM");case C.Custom:return E.t("Custom time");default:return""}});P.meta={name:"createThunk",key:"createThunkgetLabelForStandardSchedulingOptionThunk",description:"gets label for scheduling option in or without 24hr option"};function N(R){const W=Object(b.E)(R);if(!W)return!1;const U=W/60,_=c()().utcOffset(U),B=_.day(),z=_.hour();return B===I.FRIDAY&&z>=9||B===I.SATURDAY||B===I.SUNDAY}o(N,"shouldScheduleForMemberAfterWeekend");const G=Object(r.c)("gets label for scheduling option",(R,W,U)=>{let{option:_,draftId:B}=U;if(_===C.MemberSpecificSchedulingTime){const z=W(),L=V(z,B);if(!L)return"";const $=Object(u.b)(z,B);if(!$)return"";const Q=Object(d.a)(L,{do24hrTime:Object(l.t)(z,"time24")}),Z=c.a.unix(L).day();if(N($)){const F=Z===I.MONDAY?E.t("Monday"):E.t("Sunday");return E.t("{scheduledDayString} at {timeString}",{scheduledDayString:F,timeString:Q})}return Z===c()().day()?E.t("Later today at {timeString}",{timeString:Q}):E.t("Tomorrow at {timeString}",{timeString:Q})}return R(P({schedulingOption:_}))});G.meta={name:"createThunk",key:"createThunkgetLabelForSchedulingOptionThunk",description:"gets label for scheduling option"};function V(R,W){const U=Object(u.b)(R,W);if(!U)return;const _=Object(b.m)(U),B=Object(b.E)(U);if(!B)return;const{nextDndStartTs:z,nextDndEndTs:L}=Object(O.c)(R,_)||{},$=p({nextDndStartTs:z,nextDndEndTs:L}),Q=Object(v.a)(Date.now(),U);if($||Q){const K=B/60,Z=c()().utcOffset(K),ne=Z.day(),F=Z.hour();if(N(U)){const Y=ne<I.MONDAY?I.MONDAY:I.MONDAY+7;return c()().utcOffset(K).day(Y).hour(9).minute(0).second(0).unix()}let X=c()().utcOffset(K).hour(9).minute(0).second(0);return F>=9&&(X=X.add(1,"days")),X.unix()}}o(V,"getMemberSpecificSchedulingTime");const k=Object(f.b)((R,W)=>{let{dateScheduled:U,now:_=j(),draftId:B}=W;if(U)return U;const z=V(R,B);if(z)return z;const L=c.a.unix(_).minute(0).second(0).add(1,"hour").unix();return L<x(_)?c.a.unix(L).add(1,"hour").unix():L});k.meta={name:"createSelector",key:"createSelectorgetDefaultCustomTime",description:(R,W)=>{let{dateScheduled:U,now:_=j(),draftId:B}=W;if(U)return U;const z=V(R,B);if(z)return z;const L=c.a.unix(_).minute(0).second(0).add(1,"hour").unix();return L<x(_)?c.a.unix(L).add(1,"hour").unix():L}};function x(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j();return c.a.unix(R).add(5,"minutes").second(0).unix()}o(x,"getMinimumCustomTime");function H(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j();return c.a.unix(R).add(120,"days").second(0).unix()}o(H,"getMaximumCustomTime")}}]);})();
