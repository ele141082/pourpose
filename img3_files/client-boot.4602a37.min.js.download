(()=>{var Qc=Object.defineProperty;var m=(K,s)=>Qc(K,"name",{value:s,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["client-boot"],{"+9Uj":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("weKX");const t={},a=Object(n.d)("QuipEmbed",t)},"+GhL":function(K,s,e){"use strict";e.d(s,"x",function(){return M}),e.d(s,"z",function(){return P}),e.d(s,"A",function(){return j}),e.d(s,"y",function(){return U}),e.d(s,"g",function(){return W}),e.d(s,"h",function(){return L}),e.d(s,"l",function(){return A}),e.d(s,"n",function(){return F}),e.d(s,"j",function(){return k}),e.d(s,"r",function(){return V}),e.d(s,"e",function(){return Y}),e.d(s,"a",function(){return oe}),e.d(s,"i",function(){return me}),e.d(s,"f",function(){return re}),e.d(s,"p",function(){return ve}),e.d(s,"k",function(){return q}),e.d(s,"w",function(){return ce}),e.d(s,"b",function(){return he}),e.d(s,"d",function(){return se}),e.d(s,"m",function(){return H}),e.d(s,"s",function(){return Oe}),e.d(s,"D",function(){return $}),e.d(s,"c",function(){return z}),e.d(s,"v",function(){return be}),e.d(s,"t",function(){return Z}),e.d(s,"B",function(){return G}),e.d(s,"C",function(){return ne}),e.d(s,"J",function(){return ae}),e.d(s,"u",function(){return fe}),e.d(s,"q",function(){return Te}),e.d(s,"K",function(){return ye}),e.d(s,"G",function(){return Ue}),e.d(s,"F",function(){return Ne}),e.d(s,"o",function(){return He}),e.d(s,"H",function(){return ze}),e.d(s,"I",function(){return Je}),e.d(s,"E",function(){return Xe});var n=e("njXP"),t=e("Kmpi"),a=e("G0eX"),r=e("beVI"),d=e("xwCZ"),o=e("ByMX"),i=e("O86Y");function h(Me,Ke){if(Me.length<=Ke)return Me;const $e="\u2026",ct=Me.substring(0,Ke),Tt=ct.lastIndexOf(" ");return Tt>0&&Tt>Ke-15?ct.substring(0,Tt)+$e:ct.substring(0,ct.length-1)+$e}m(h,"truncateToNearestWordBoundary");var l=h,c=m(Me=>Me.trim().split(/\s+/).length,"getWordCount"),E=e("C3vN"),v=e("Awbm"),g=e("E3dU"),O=e("ptQX");function I(Me,Ke){const $e=Object(g.m)(Me,Ke&&Ke.id);return!(!Object(O.a)(Me,Ke&&Ke.id||"")&&!$e)&&!Object(E.ob)(Me,Ke)}m(I,"isActionable");var C=e("5+iz"),f=e("yrot"),S=e("whaK"),D=e("nift"),p=e("V/As"),b=e("M4HD");const M=m(Me=>!!(Me&&Me.installation&&Me.installation.is_active),"isAppActive"),_=m(Me=>!!(Me&&Me.app_type===n.a.Slack),"isAppSlackIntegration"),P=m(Me=>!!(Me&&Me.app_type===n.a.CustomIntegration),"isAppCustomIntegration"),y=m(Me=>!!(Me&&Me.directory_profile&&Me.directory_profile.is_published),"isAppPublished"),j=m(Me=>!!(Me&&Me.directory_profile&&Me.directory_profile.is_distributed),"isAppDistributed"),U=m(Me=>!!(Me&&Me.directory_profile&&Me.directory_profile.is_approved),"isAppApproved"),W=m(Me=>Me&&Me.app_id,"getAppId"),L=m(Me=>{var Ke,$e;return(Ke=Me)===null||Ke===void 0||($e=Ke.profile)===null||$e===void 0?void 0:$e.name},"getAppName"),R=m(Me=>Me&&Me.profile&&Me.profile.color,"getAppColor"),A=m(Me=>Me&&Me.profile&&Me.profile.tagline,"getAppTagline"),B=m(Me=>Me&&Me.profile&&Me.profile.custom_integration_type,"getAppCustomIntegrationType"),F=m(Me=>Me&&Me.app_type,"getAppType"),k=m(Me=>Me&&Me.service_id,"getAppServiceId"),V=m(Me=>Me&&Me.installation&&Me.installation.installer_user_id,"getInstalledUserId"),X=m(Me=>Me&&Me.installation&&Me.installation.memberships_count||0,"getAppMembershipsCount"),J=m(Me=>Me&&Me.installation&&Me.installation.date_created,"getAppDateCreated"),Y=m(Me=>Me&&Me.home_workspace_id,"getAppHomeWorkspaceId"),ie=m(Me=>Me&&(Me.home_enterprise_id||Me.home_workspace_id),"getAppTopLevelTeamId"),de=m(Me=>Me&&P(Me)&&Me.profile&&Me.profile.icons&&Me.profile.icons.emoji?Me.profile.icons.emoji:null,"getAppEmojiIcon"),pe=m((Me,Ke)=>{const $e=Y(Ke)||Object(r.g)(Me).id,ct=de(Ke);return ct?Object(f.j)(Me,{text:ct,teamId:$e,emojiMode:Object(S.a)(Me,{forceDisplay:!0}),emojiSize:D.a.LARGE}):Object(p.b)(Ke.profile,192)},"getAppAvatarUrl"),oe=m(Me=>Me&&Me.commands||[],"getAppCommands"),me=m(Me=>Me&&Me.directory_profile&&Me.directory_profile.screenshots||[],"getAppScreenshots"),re=m(Me=>Me&&Me.directory_profile&&Me.directory_profile.home_url,"getAppHomepageUrl"),ve=m(Me=>Me&&Me.directory_profile&&Me.directory_profile.youtube_url,"getAppYoutubeUrl"),q=m(Me=>Me&&Me.directory_profile&&Me.directory_profile.support_url,"getAppSupportUrl"),ce=m(Me=>{const Ke=Me.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);return Ke[2]!==void 0?Ke[2].split(/[^0-9a-z_-]/i)[0]:""},"getYoutubeIdFromUrl"),he=m(Me=>Me&&Me.profile&&Me.profile.description||"","getAppDescription"),Se=m(Me=>Me&&Me.profile&&Me.profile.formattedDescription||"","getAppFormattedDescription"),se=m((Me,Ke)=>{let $e=Te(Me,Ke);if(!$e&&ne(Me,Ke)){const ct=Y(Ke);ct&&($e=Object(r.s)(Me,ct))}return Object(t.b)($e)?Object(a.h)($e):void 0},"getAppHomeTeamDisplayName"),H=m(Me=>l(he(Me),350),"getAppTruncatedDescription");function Oe(Me,Ke){const $e=Object(d.c)(Me),ct=V(Ke);return $e.id===ct}m(Oe,"getInstallerIsYou");function $(Me){const Ke=!oe(Me),$e=me(Me)&&ve(Me);return _(Me)&&Ke||c(he(Me)||"")<350||!$e&&Ke}m($,"shouldHideDescriptionExpansion");function z(Me,Ke){if(!Ke)return"";const $e=W(Ke);if($e===Object(C.c)())return"";const ct=P(Ke),Tt=_(Ke);if(!ct&&!Tt){const Et=G(Me,Ke),Le=y(Ke),jt=j(Ke);if(!(Et?Le:jt))return""}return Object(a.v)(Object(r.g)(Me),`/apps/${$e}`)}m(z,"getAppDirectoryUrl");function be(Me,Ke){if(!Ke)return"";const $e=Y(Ke),ct=k(Ke),Tt=Object(r.s)(Me,$e),Et=Object(d.c)(Me),Le=Object(v.b)(Et);return G(Me,Ke)||Object(t.e)(Tt)||!ct||Le||W(Ke)===Object(C.c)()?"":Object(a.v)(Tt,`/services/${ct}?settings=1`)}m(be,"getSettingsUrl");function Z(Me,Ke){if(!Ke)return"";const $e=W(Ke),ct=Y(Ke),Tt=Object(r.s)(Me,ct);return Tt&&$e&&Object(a.v)(Tt,`/apps/${$e}`)}m(Z,"getManageUrl");function G(Me,Ke){const $e=Object(i.i)(Me),ct=ie(Ke);return $e!==ct}m(G,"isAppExternal");function ne(Me,Ke){const $e=Object(i.g)(Me);if(Y(Ke)===$e)return!1;const ct=Object(i.i)(Me);return ie(Ke)===ct}m(ne,"isAppOrgShared");function ge(Me){return Me&&Me.installation&&Me.installation.is_installed}m(ge,"isAppInstalled");function ae(Me,Ke){return!Ke||Object(o.a)(Me)||G(Me,Ke)||Object(b.w)(Ke)?!1:ge(Ke)&&!!(be(Me,Ke)||W(Ke))}m(ae,"shouldShowSettingsButton");function fe(Me,Ke,$e){const ct=be(Me,Ke);if(ct)return ct;const Tt=W(Ke);if(Tt){const Et=`/apps/${Tt}?settings=1`;if($e){const Le=Object(r.s)(Me,$e);return Object(a.v)(Le,Et)}return Et}}m(fe,"getSettingsButtonUrl");function Te(Me,Ke){if(!Ke)return null;const $e=G(Me,Ke),ct=ie(Ke);return $e?Object(r.s)(Me,ct):null}m(Te,"getExternalTopLevelTeam");function ye(Me,Ke){return!(!M(Ke)||G(Me,Ke)||ne(Me,Ke))}m(ye,"shouldShowSlashCommands");function Ue(Me,Ke){const $e=M(Ke),ct=ne(Me,Ke),Tt=Object(d.c)(Me),Et=Object(v.b)(Tt);return($e||ct)&&!Et}m(Ue,"shouldShowAppSettings");function Ne(Me,Ke){return!!z(Me,Ke)}m(Ne,"shouldShowAppDirectoryLink");function He(Me,Ke){var $e;if(Object(t.e)(Ke))return null;const ct=($e=Ke.app_user)===null||$e===void 0?void 0:$e.id;if(ct){const Tt=Object(d.g)(Me,ct);return Object(E.fb)(Tt)?null:Tt}if(!ct&&!G(Me,Ke)){const Tt=W(Ke);return Object(d.e)(Me,Tt)}return null}m(He,"getAppUser");function ze(Me,Ke){if(Object(t.e)(Ke))return!1;const $e=He(Me,Ke);return G(Me,Ke)?$e&&Ke.app_type===n.a.Xoxp&&M(Ke):!!$e}m(ze,"shouldShowAppSpace");function Je(Me,Ke){if(Object(t.e)(Ke))return!1;var $e;const ct=($e=He(Me,Ke))!==null&&$e!==void 0?$e:void 0,Tt=I(Me,ct);return G(Me,Ke)?Tt&&Ke.app_type===n.a.Xoxp:Tt}m(Je,"shouldShowDirectMessageItem");function Xe(Me,Ke){return Object(t.e)(Ke)||W(Ke)===Object(C.c)()?!1:G(Me,Ke)?y(Ke)||Je(Me,Ke):!0}m(Xe,"shouldShowAboutApp")},"+HFy":function(K,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("0VPD"),t=e("Wy5O"),a=e("Muja"),r=e("s4P+"),d=e("lhZz"),o=e("t4eE");const i={INCLUDE:"include",EXCLUDE:"exclude"};var h=e("KLFD"),l=e("j77i"),u=e("7xYR");const c="RTM-ROUTER";function E(O){if(!u.getBootedWorkspacesByOrg)return Object(r.a)({teamOrEnterpriseId:O,label:c}).error("RtmRouter called in a non-Gantry context"),[];const I=Object(d.getClientStoreInstance)().getState();return Object(u.getBootedWorkspacesByOrg)(I,O)}m(E,"getBootedTeamIdsForOrg");function v(O,I){return O.type===i.INCLUDE?Object(n.a)(I,O.ids):Object(t.a)(I,O.ids)}m(v,"filterTeamIds");class g{static get(I){let C=g.instances[I];return C||(C=new g(I),g.instances[I]=C),C}static clearForTest(){g.instances={}}static getFilters(I){return I.__filters}static isEqualFilters(I,C){return Object(a.a)(I,C)}getRouting(I){if(this.subscribedTeamIds.length===0)return this.logger.error("teamIds must be refreshed before routing"),{teamIds:[]};const C=E(this.enterpriseId),f=I==null?void 0:I.team;if(!f)return{enterpriseId:this.enterpriseId,teamIds:C};v(f,this.subscribedTeamIds).length===0&&this.logger.error(this.getFilterErrorLog("subscribed",this.subscribedTeamIds,f));const D=v(f,C);return D.length===0?(this.logger.warn(this.getFilterErrorLog("booted",C,f)),{teamIds:[]}):{teamIds:D}}refreshTeamIdsForSubscription(){const I=this.getSubscribedTeamIdsForOrg(this.enterpriseId);if(!Object(a.a)(this.subscribedTeamIds,I)){var C;this.logger.info(`Subscribed teamIds list has changed; Prev: (${(C=this.subscribedTeamIds)===null||C===void 0?void 0:C.join(",")}), Current: (${I==null?void 0:I.join(",")})`)}return this.subscribedTeamIds=I,this.subscribedTeamIds}getSubscribedTeamIds(){return this.subscribedTeamIds.length===0?(this.logger.error("teamIds must be refreshed before access"),[]):this.subscribedTeamIds}setTeamIdConnected(I){this.connectedTeamIds.add(I)}getSubscribedTeamIdsForOrg(I){return!h.c||!l.f?(this.logger.error("Attempting to call into RtmRouter from a non-Gantry context."),[]):Object(o.b)()?Object(h.c)(I):[Object(l.f)("lastActiveTeamId")]}getFilterErrorLog(I,C,f){return`No ${I} teamIds after filtering: ${C} with: { type: ${f.type}, ids: ${f.ids} }`}constructor(I){this.enterpriseId=I,this.connectedTeamIds=new Set,this.logger=Object(r.a)({teamOrEnterpriseId:I,label:c}),this.subscribedTeamIds=this.refreshTeamIdsForSubscription()}}m(g,"rtm_router_RtmRouter"),g.instances={}},"+KE1":function(K,s,e){"use strict";e.d(s,"a",function(){return Oe});var n=e("q1tI"),t=e.n(n),a=e("Muja"),r=e("m8R6"),d=e("3Hq1"),o=e("zmn3"),i=e("yM+I"),h=e("3REw"),l=e("WSQ4"),u=e("Cfcg"),c=e("9Gfp"),E=e("pFNT"),v=e("LZPg"),g=e("nNoG");const O=new g.b("calls"),I=m($=>{let{displayName:z,id:be,userId:Z,color:G}=$;return t.a.createElement("div",{className:"p-huddles_draw__name_tag",style:G?{background:G}:{}},t.a.createElement(E.c,{className:"p-huddles_draw__name_tag_avatar",key:be,size:24,userId:Z,isInteractive:!1,tabIndex:-1}),t.a.createElement("div",{className:"p-huddles_draw__name_tag_text"},z))},"NameTag"),C=m(($,z)=>{let{id:be}=z;return{displayName:be==="self"?O.t("You"):Object(v.G)($,be),userId:be==="self"?Object(c.a)($):Object(v.E)($,be).userId}},"mapStateToProps");var f=Object(u.a)(C)(I);const S=-21,D=-15,p=m($=>{let{peerId:z,width:be,height:Z,leftOffset:G,topOffset:ne,color:ge,renderNameTag:ae=!0,isWindowDrawMode:fe=!1,xWindowPosition:Te=0,yWindowPosition:ye=0}=$;const Ue=Object(n.useRef)(null);let Ne,He;const ze=G*be,Je=ne*Z;Ne=Math.round(ze+D),He=Math.round(Je+S),fe&&(Ne+=Te,He+=ye);const Xe=Object(n.useMemo)(()=>[Ne,He],[Ne,He]),Me=m(Ke=>{const $e=Ue.current;$e&&($e.style.setProperty("transform",`translate(${Ke[0]}px, ${Ke[1]}px)`),$e.style.setProperty("visibility","initial"))},"updateCursorPosition");return Object(n.useEffect)(()=>{Me(Xe)},[Xe]),t.a.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.a.createElement("div",{key:`cursor-${z}`,className:"p-huddles_cursor_tracking__cursor",ref:Ue},ae&&t.a.createElement(f,{key:`name-tag-${z}`,id:z,color:ge})))},"HuddlesCursor");p.displayName="HuddlesCursor";var b=t.a.memo(p,a.a),M=e("KciV"),_=e("uXea"),P=e("Atq3");function y($,z,be,Z){return`hsla(${$}, ${z}%, ${be}%, ${Z})`}m(y,"makeColorString");const j=m(($,z)=>y($,100,75,z),"makeBaseColorString"),U=m($=>y($,80,50,1),"makeShadowColorString"),W=3;class L{static renderBaseStyle(z){z.lineJoin="round",z.lineCap="round",z.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=L.initialWidth,this.opacity=1,this.color=j(this.hue,this.opacity))}setHue(z){this.hue=z,this.color=j(this.hue,this.opacity),this.shadowColor=U(this.hue),this.observer.requestRenderOnNextFrame()}render(z){this.fade(),z.lineWidth=this.width,z.strokeStyle=this.color,z.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const z=Math.min(1,(performance.now()-this.startedFadingTimestamp)/L.fadeDuration);this.width=L.initialWidth-z*W,this.opacity=1-z/1,this.color=j(this.hue,this.opacity),z<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(z){this.observer=z,this.width=L.initialWidth,this.opacity=1,this.hue=0,this.color=j(this.hue,this.opacity),this.shadowColor=U(this.hue)}}m(L,"LineStyle"),L.displayName="LineStyle",L.initialWidth=7,L.fadeDuration=3e3;let R=m(class{getSegments(){return this.segments}addNewSegment(z){this.segments.push(z)}editLastSegment(z){this.segments.pop(),this.segments.push(z)}constructor(){this.segments=[]}},"ProgressivePlotter");class A extends R{draw(z){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const G=this.getSegments();z.beginPath();for(let ne=0;ne<G.length;ne++){const ge=G[ne];z.moveTo(ge.a[0]*be,ge.a[1]*Z),z.lineTo(ge.b[0]*be,ge.b[1]*Z)}z.stroke()}}m(A,"ProgressiveLineSegmentPlotter");class B extends R{draw(z){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const G=this.getSegments();z.beginPath();for(let ne=0;ne<G.length;ne++){const ge=G[ne];z.moveTo(ge.a[0]*be,ge.a[1]*Z),z.bezierCurveTo(ge.b[0]*be,ge.b[1]*Z,ge.c[0]*be,ge.c[1]*Z,ge.d[0]*be,ge.d[1]*Z)}z.stroke()}}m(B,"ProgressiveBezierCurvePlotter");const F=700,k=5e3;class V{onFadeCompleted(){this.plotter=new B,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,k)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,F)}update(z){if(this.resetVestigialLineTimeout(),z.type===h.c.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(z.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(z.type===h.c.Edit)this.plotter.editLastSegment(z.segment);else if(z.type===h.c.End)this.resetInactivityTimeout();else if(z.type===h.c.ChangeHue)this.style.setHue(z.hue);else{if(z.type===h.c.Position)return;Object(P.a)(z.type)}this.observer.requestRenderOnNextFrame()}render(z,be,Z){this.style.render(z),this.plotter.draw(z,be,Z)}setLineVisibility(z){Object.assign(this.visibilityState,z)}getColor(){return this.style.getColor()}constructor(z){this.observer=z,this.plotter=new B,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new L({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}m(V,"line_DrawLine"),V.displayName="DrawLine";const X=m($=>{let{refToForward:z,isHidden:be,numVisibleLines:Z,top:G,left:ne,width:ge,height:ae,doNotApplyTargetRect:fe}=$;if(fe){const ye={display:be||Z===0?"none":"block"};return t.a.createElement("canvas",{ref:z,style:ye,"data-qa":"huddles-drawing-canvas"})}const Te={display:be||Z===0?"none":"block",...Object(_.a)({left:ne,top:G,width:ge,height:ae})};return t.a.createElement("canvas",{ref:z,style:Te,"data-qa":"huddles-drawing-canvas"})},"Canvas");X.displayName="Canvas";var J=t.a.memo(X,a.a),Y=e("uxre");const ie=new g.b("calls"),de=10,pe=10,oe=m($=>{let{displayName:z,coord:[be,Z]}=$;return t.a.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${be+de}px`,top:`${Z+pe}px`}},z)},"name_tag_NameTag"),me=m(($,z)=>{let{id:be}=z;return{displayName:be==="self"?ie.t("You"):Object(v.G)($,be)}},"name_tag_mapStateToProps");var re=Object(u.a)(me)(oe);const ve=-33,q=-9,ce=m($=>{let{top:z,left:be,width:Z,height:G,leftOffset:ne,topOffset:ge,id:ae}=$;const fe=be+ne*Z,Te=z+ge*G,ye={left:`${fe+q}px`,top:`${Te+ve}px`},Ue=Object(n.useMemo)(()=>[fe,Te],[fe,Te]);return t.a.createElement(t.a.Fragment,null,ae!=="self"&&t.a.createElement("div",{key:`cursor-${ae}`,className:"p-calls_draw__pencil_cursor",style:ye}),t.a.createElement(re,{key:`name-tag-${ae}`,id:ae,coord:Ue}))},"Cursor");ce.displayName="Cursor";var he=t.a.memo(ce,a.a);function Se(){return Se=Object.assign||function($){for(var z=1;z<arguments.length;z++){var be=arguments[z];for(var Z in be)Object.prototype.hasOwnProperty.call(be,Z)&&($[Z]=be[Z])}return $},Se.apply(this,arguments)}m(Se,"_extends");var se;class H extends(se=t.a.Component){shouldComponentUpdate(z,be){return!Object(a.a)(this.props,z)||!Object(a.a)(this.state,be)}getOrCreatePeerLine(z){return this.peerLines[z]=this.peerLines[z]||new V({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:be=>this.setState(Z=>({numVisibleLines:Z.numVisibleLines+(be?1:-1)}))}),this.peerLines[z]}onIncomingPeerLine(z){if(this.props.itemId&&z.itemId&&z.itemId!==this.props.itemId)return;const be=this.getOrCreatePeerLine(z.id);switch(be.update(z),z.type){case h.c.New:{this.setState(Z=>{let{tagCoords:G,userColors:ne}=Z;return{tagCoords:{...G,[z.id]:z.segment.d},userColors:{...ne,[z.id]:be.getColor()}}});break}case h.c.Edit:{this.setState(Z=>{let{tagCoords:G}=Z;return{tagCoords:{...G,[z.id]:z.segment.d}}});break}case h.c.ChangeHue:{this.setState(Z=>{let{userColors:G}=Z;return{userColors:{...G,[z.id]:be.getColor()}}});break}case h.c.End:{this.setState(Z=>{let{tagCoords:G}=Z;return{tagCoords:Object(r.a)(G,z.id)}});break}case h.c.Position:{const Z=[z.x,z.y];this.setState(G=>{let{tagCoords:ne}=G;return{tagCoords:{...ne,[z.id]:Z}}});break}default:break}}componentDidMount(){i.a.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(z,be){z.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&Object(M.c)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&be.numVisibleLines>0||this.state.numVisibleLines>0&&be.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){Object(d.a)(this.rafId)||this.context.window.cancelAnimationFrame(this.rafId),i.a.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,L.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.window.requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const z=this.props.targetRect.width,be=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,z,be);const Z=Object.values(this.peerLines);for(let G=0;G<Z.length;G++)Z[G].render(this.ctx,z,be)}renderCursor(z,be,Z){const{targetRect:G,useHuddlesCursor:ne,itemId:ge,isHostDrawWindow:ae,isWindowDrawing:fe}=this.props;if(ne){const Te=this.state.userColors[z],ye=ge!=="self",Ue=ae&&fe;return t.a.createElement(b,{key:z,peerId:z,topOffset:be,leftOffset:Z,width:G.width,height:G.height,color:Te,renderNameTag:ye,isWindowDrawMode:Ue,xWindowPosition:G.left,yWindowPosition:G.top})}return t.a.createElement(he,Se({key:z,id:z,topOffset:be,leftOffset:Z},G))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:z}=this.props,be={...Object(_.a)({left:z.left,top:z.top,width:z.width,height:z.height})};return t.a.createElement("div",{className:"p-calls_draw__renderer",style:be},t.a.createElement(J,Se({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),Object(o.a)(this.state.tagCoords,(Z,G)=>{let[ne,ge]=Z;return this.renderCursor(G,ge,ne)}))}return t.a.createElement("div",{className:"p-calls_draw__renderer"},t.a.createElement(J,Se({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),Object(o.a)(this.state.tagCoords,(z,be)=>{let[Z,G]=z;return this.renderCursor(be,G,Z)}))}constructor(z){super(z),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}m(H,"renderer_BaseDrawRenderer"),H.displayName="BaseDrawRenderer",H.contextType=l.a;const Oe=t.a.forwardRef(($,z)=>t.a.createElement(H,Se({refToForward:z},$)))},"+N8b":function(K,s,e){"use strict";var n=e("ZvnG");s.a=new n.a},"+OS1":function(K,s,e){K.exports=e.p+"office-98668ce.jpg"},"+VTe":function(K,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return l});var n=e("rHDT"),t=e("QAer"),a=e("O86Y"),r=e("PMNn"),d=e("E3dU"),o=e("fq54");const i=m((u,c,E,v)=>{if(Object(o.a)(u))return!0;const g=Object(n.a)(u,c,E);return Object.entries(g).map(O=>{let[I,C]=O;return[I,v(C)]}).some(O=>{let[I,C]=O;return Object(t.c)(u,C,I)})},"canUserDoCustomTeamPrefForTeamIds"),h=m((u,c,E,v)=>{if(!E)return!1;const g=Object(r.b)(u,E);return g?i(u,c,g,v):!1},"canUserDoCustomTeamPrefForChannel"),l=m(u=>({getWorkspaceIdsOnWhichUserCanDoCustomTeamPref:(c,E)=>Object(a.a)(c).filter(g=>i(c,E,[g],u)),canUserDoCustomTeamPrefInSomeWorkspace:(c,E)=>{const v=Object(a.a)(c);return i(c,E,v,u)},canUserDoCustomTeamPrefForChannel:(c,E,v)=>h(c,E,v,u),canUserDoCustomTeamPrefForChannelById:(c,E,v)=>{const g=Object(d.d)(c,v);return h(c,E,g,u)}}),"createUserCanDoCustomTeamPrefRules")},"+bQA":function(K,s,e){"use strict"},"+eea":function(K,s,e){"use strict";e.d(s,"a",function(){return S});var n=e("Olm7"),t=e("lCmp"),a=e("9ndk"),r=e("HKE1"),d=e("azkI"),o=e("ISSR"),i=e("Yauy"),h=e("E97Y"),l=e("E3dU"),u=e("G0eX"),c=e("C3vN"),E=e("+tZp"),v=e("xwCZ"),g=e("9Gfp"),O=e("Pw4T"),I=e("4qCO"),C=e("h2ws");const f={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250,popularEmoji:1,isSelf:250};let S=m(class{sort(p,b){var M;const _=Object(O.d)({state:p});_.mark("modern-searcher-sorting-mark");const{members:P,channels:y,mpims:j,ims:U,teams:W,userGroups:L,emoji:R,broadcastKeywords:A,views:B,modals:F,appActions:k,channelSections:V,emails:X,files:J,links:Y,lists:ie,listRecords:de,slashCommands:pe,slackGlobalActions:oe,quipShortcutCommands:me,channelActions:re,fakeGlobalActions:ve,callActions:q,apps:ce,helpArticles:he,workflowTriggers:Se,salesListViews:se}=b,H={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};y&&y.reduce((G,ne)=>Object(o.a)(ne.item)?(G.archivedChannels.push(ne),G):(Object(i.db)(ne.item)?G.memberChannels.push(ne):G.nonmemberChannels.push(ne),G),H);let Oe=[...P||[],...H.memberChannels,...j||[],...U||[],...R||[],...L||[],...A||[],...B||[],...F||[],...k||[],...V||[],...X||[],...J||[],...Y||[],...ie||[],...de||[],...q||[],...re||[],...ve||[],...ce||[],...he||[],...Se||[],...se||[]],$=[...H.nonmemberChannels,...W||[],...pe||[],...oe||[],...me||[]],z=H.archivedChannels;const be=this.getSortFuzzyFunction(p,{localeAware:!0});this.options.flat||(Oe=this.precomputeMatchNames(p,Oe).sort(be),$=this.precomputeMatchNames(p,$).sort(be),z=this.precomputeMatchNames(p,z).sort(be));let Z=[...Oe,...$,...z];return this.options.flat&&Z.sort(be),this.options.preferExactMatch&&(Z=[...Object(n.a)(Z,ne=>ne.isExactMatch),...Z]),this.options.frecency&&(this.options.normalize=!0,_.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?Z=Object(d.m)(p,{query:this.query,list:Z,bonusPoints:this.getFrecencyBonusPointsFunction(p)}):Z=Object(d.n)(p,{query:this.query,list:Z,bonusPoints:this.getFrecencyBonusPointsFunction(p)}),_.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),this.options.selfFirst&&!(!((M=Z[0])===null||M===void 0)&&M.isSelf)&&(Z=[...Object(n.a)(Z,ne=>ne.isSelf),...Z]),_.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),Z}precomputeMatchNames(p,b){return b.map(M=>({...M,name:this.getNameForComparison(p,M)}))}getSortFuzzyFunction(p,b){let{localeAware:M}=b;return(_,P)=>{if(Object(h.i)(_.item)&&!Object(h.i)(P.item))return 1;if(Object(h.i)(P.item)&&!Object(h.i)(_.item)||Object(h.g)(_.item)&&!Object(h.g)(P.item))return-1;if(Object(h.g)(P.item)&&!Object(h.g)(_.item))return 1;if(!Object(h.i)(_.item)&&!Object(h.i)(P.item)){const A=_.score-P.score;if(A!==0)return A}if(Object(h.i)(_.item)&&Object(h.i)(P.item)){const A=_.score-P.score;if(A!==0)return A;var y,j;const B=((y=Object(i.G)(_.item))!==null&&y!==void 0?y:0)-((j=Object(i.G)(P.item))!==null&&j!==void 0?j:0);if(B!==0)return B}var U;const W=(U=_.name)!==null&&U!==void 0?U:"";var L;const R=(L=P.name)!==null&&L!==void 0?L:"";return M?Object(I.a)(W,R):W>R?1:R>W?-1:0}}getFrecencyBonusPointsFunction(p){return b=>{var M,_;const{item:P}=b,y={};if(Object(h.i)(P)){if(y.isMpim=0,this.options.preferMpimsWithActiveMembers){const j=Object(i.C)(P);if(!j)return y;const U=j.map(W=>Object(v.g)(p,W));Object(t.a)(U,W=>Object(c.V)(W)||Object(c.mb)(W))&&(y.isMpimWithDeactivatedMember=f.mpimWithDeactivatedMember)}return y}if(b.isExactMatch?(y.isExactMatch=f.exactMatch,b.isEmojiExactMatch&&(y.isEmojiExactMatch=f.exactMatch)):b.emojiScore?y.emojiScoreBonus=this.calculateNormalizedFuzzyBonusPoints(b,"emojiScore",f.emojiMatch):Object(o.a)(P)||Object(c.V)(P)||Object(c.mb)(P)||(y.fuzzyScoreBonus=this.calculateNormalizedFuzzyBonusPoints(b,"score",f.fuzzyMatch)),b.bestPreviousNameMatch&&(y.onlyMatchesPreviousName=f.matchesPreviousName),this.options.preferChannelMembers&&P.presence&&this.options.currentChannel&&Object(C.a)(p,P,this.options.currentChannel)&&(y.isMemberOfThisChannel=f.memberOfThisChannel),Object(h.e)(P)&&Object(i.qb)(p,P)&&(y.isStarred=f.starredChannel),Object(c.db)(P)){const j=Object(l.m)(p,P.id);j&&Object(i.qb)(p,j)&&(y.isStarred=f.starredChannel)}return P.is_emoji&&(P.name==="thumbsup"||P.name==="point_up")&&(y.isPopularEmojiVariant=f.popularEmoji),this.options.selfFirst&&Object(c.jb)(P)&&(y.isSelf=f.isSelf),this.options.preferChannelWorkflows&&P.type==="channel_action"&&P.channelId===((M=this.options)===null||M===void 0||(_=M.currentChannel)===null||_===void 0?void 0:_.id)&&(y.isWorkflowAssociatedWithChannel=f.workflowAssociatedWithChannel),(Object(h.l)(P)||Object(h.k)(P))&&(Object(o.a)(P)&&(y.isArchived=f.archivedChannel),Object(h.l)(P)&&this.options.preferChannelsUserBelongsTo&&!Object(o.a)(P)&&!Object(i.db)(P)&&(y.isNotChannelMember=f.notInChannel),Object(g.m)(p)&&Object(i.X)(P)&&(y.isChannelFromAnotherTeam=f.channelFromAnotherTeam)),Object(c.db)(P)&&(Object(c.V)(P)||Object(c.mb)(P))&&(y.isDeactivatedMember=f.deactivatedMember),(P.is_usergroup||P.is_broadcast_keyword)&&(y.isUserGroupOrKeyword=f.userGroupOrKeyword),y}}calculateNormalizedFuzzyBonusPoints(p,b,M){const _=p[b];if(!Object(a.a)(_))return 0;const P=.5**_;return Math.round(M*P)}getNameForComparison(p,b){let M;const _=b.item;return Object(h.i)(_)?M=_.name_normalized:Object(h.d)(_)?M=Object(r.a)(Object(i.t)(p,_,{publicChannelIncludeHashSign:!1})):Object(c.db)(_)?M=Object(E.a)(p,_):_.is_usergroup?M=_.handle||_.name:_.team_name?M=Object(r.a)(Object(u.h)(_)):_.isEmail?M=Object(r.a)(_.value):_.title?M=_.title:M=_.name,M}constructor({query:p,options:b={}}){this.options=b,this.query=p}},"SearcherSorter")},"+fxZ":function(K,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("zxER"),r=e("/MKj"),d=e("nNoG"),o=e("s9Q6"),i=e("stkM");const h=new d.b("trials");var l;(function(c){c.HuddlesFreemium="huddles_freemium"})(l||(l={}));const u=m(c=>{let{isFreemium:E,tooltipText:v,promoType:g,promoSubtype:O,variant:I}=c;const C=Object(r.useDispatch)(),f=30,S=Object(a.c)(o.i);Object(n.useEffect)(()=>{g&&C(Object(i.a)({campaignType:g,campaignSubType:O,reason:"trial_tooltip"}))},[C,g,O]);const D=Object(a.c)(P=>g?Object(o.b)(P,g,O):!1),p=Object(a.c)(P=>g?Object(o.c)(P,g,O):!1),b=m(()=>{if(S)switch(I){case l.HuddlesFreemium:return h.t("Huddles with more than two people are a paid feature, available with your free trial");default:return h.t("This is a paid feature, available with your free trial")}if(p)switch(I){case l.HuddlesFreemium:return h.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:f});default:return h.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:f})}switch(I){case l.HuddlesFreemium:return h.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return h.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),M=m(()=>S?h.t("This feature is unlimited with your free trial"):p?h.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:f}):h.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(D)return{};const _=E?M():b();return v?{tooltipTitle:v,tooltipBody:_}:{tooltipTitle:_}},"useTrialProBadgeTooltipText");s.b=u},"+nBv":function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("SQ0V"),t=e("1yap"),a=e("E3dU"),r=e("s4P+"),d=e("0iF4"),o=e("8z+9"),i=e("vr9t");const h=Object(n.c)("update a pin count for a channel",(l,u,c)=>{let{channelId:E,count:v,forceUpdate:g=!1}=c;const O=u(),I={...Object(a.d)(O,E)},C=Object(i.e)(O,E,{refetchIfNeeded:!1}),f=Object(i.c)(O,E),S=!g&&f===o.b.LOADED?C==null?void 0:C.length:v;if(S===I.pinned_items_count)return;Object(r.a)({state:O}).info("PINS",`Pins count updated for channel ${E}: ${S}`);const D={...I,pinned_items_count:S};l(Object(t.a)({channel:D})),Object(d.d)(I,v)});h.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},"+ujC":function(K,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"b",function(){return u}),e.d(s,"c",function(){return E});var n=e("oTSI"),t=e("aVws"),a=e("uAML"),r=e("CQj+"),d=e("uubn");function o(v,g){return Object(r.a)(v,g).then(O=>Object(d.a)(v,O))}m(o,"fetchAndUpsertAppProfilesForTeam");const i=m(v=>Object(t.b)(v,"appProfiles"),"computeEffectiveTeamOrEnterpriseId"),h=Object(n.a)(()=>new a.b({fetch:o,isEnabled:()=>!0})),l=m((v,g)=>h().markObjectsAsFresh(i(v),g),"markObjectsAsFresh"),u=m((v,g)=>h().markObjectsAsStale(i(v),g),"markObjectsAsStale"),c=m(v=>h().getFreshObjects(i(v)),"getFreshObjects"),E=m((v,g)=>h().maybeRefetch(i(v),g),"maybeRefetch")},"/92K":function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return d});var n;(function(o){o.Internal="internal",o.External="external",o.Invalid="invalid"})(n||(n={}));var t=e("9oTK"),a=e("WCk1"),r=e("2XU3");const d=Object(a.a)("Classifies a set of provided emails",function(){var o=Object(t.coroutine)(function*(i,h,l){const u=[];return(yield i(Object(r.apiCall)({reason:"classify-emails",method:"emails.info",args:{emails:l.emails}}))).emails.forEach(E=>{let v;switch(E.classification){case"internal":v=n.Internal;break;case"external":v=n.External;break;default:v=n.Invalid;break}const g={email:E.email,classification:v};E.primary_sc_team&&(g.primaryScTeam=E.primary_sc_team),u.push(g)}),u});return function(i,h,l){return o.apply(this,arguments)}}());d.meta={name:"createFetcher",key:"createFetcherclassifyEmails",description:"Classifies a set of provided emails"}},"/DoU":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("cqtq"),d=e("nNoG"),o=e("WIr4"),i=e("Gs4e"),h=e("G7vT");const l=new d.b("form_inputs"),u={inline:"inline",multiline:"multiline"},c=m((C,f)=>C>f,"isCurrentCountInvalid"),E=m((C,f)=>f-C,"getCharacterCount"),v=m((C,f,S)=>!S||C>=S?E(C,f):"","getCharacterCountDisplay"),g=m(C=>C.toString().length,"getCharacterCountLength");let O=m(class extends n.Component{getSnapshotBeforeUpdate(f){if(f.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const S=E(this.props.currentCount,this.props.maxCharacterLimit),D=g(S);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==D&&this.setCharacterCountLength(D)}return null}componentDidUpdate(f,S){this.props.type===u.inline&&S.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountWidth(){return this.characterCountWidth||this.measureCountWidth()}setCharacterCountLength(f){this.setState(()=>({characterCountLength:f}))}setCharactersRemainingMessage(f,S){const D=this.makeCharactersRemainingMessage(f,S);this.setState(()=>({charactersRemainingMessage:D}))}setCharactersRemainingRef(f){this.charactersRemainingElement=f}makeCharactersRemainingMessage(f,S){const D=E(f,S);return l.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:D})}measureCountWidth(){const f=this.charactersRemainingElement&&this.charactersRemainingElement.offsetWidth||0;return this.characterCountWidth=f,f}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:f,maxCharacterLimit:S,counterMinimumCharacters:D}=this.props,p=v(f,S,D);return t.a.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining",ref:this.setCharactersRemainingRef},p)}render(){const{className:f,currentCount:S,maxCharacterLimit:D,children:p,isDisabled:b,size:M,type:_,id:P}=this.props,y=Object(a.default)(f,"c-input_character_count",{"c-input_character_count--multiline":_===u.multiline,"c-input_character_count--large":M===i.a.large,"c-input_character_count--small":M===i.a.small,"c-input_character_count--invalid":this.state.hasFocus&&c(S,D),"c-input_character_count--disabled":b}),j=this.shouldReadCharactersRemainingMessage&&t.a.createElement("div",{id:P,hidden:!0},this.state.charactersRemainingMessage);let U;return this.shouldReadCharactersRemainingMessage||(U=t.a.createElement(h.b,{assertive:!0,message:this.state.charactersRemainingMessage})),t.a.createElement("div",{role:"presentation",className:y,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},p,this.renderCharactersRemaining(),U,j)}constructor(f){super(f);const S=this.makeCharactersRemainingMessage(f.currentCount,f.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:S,hasFocus:!1},this.characterCountWidth=0,this.shouldReadCharactersRemainingMessage=!0,Object(o.a)(this,["setCharactersRemainingRef","setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=Object(r.a)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");O.displayName="CharacterCount",O.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:u.inline,size:i.a.medium,counterMinimumCharacters:0,id:void 0};var I=s.a=O},"/FOo":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("y9ga"),t=e("uwTK");const a=m(r=>{const d=n.b.WHO_CAN_MANAGE_SHARED_CHANNELS;return Object(t.a)(r,d)},"getWhoCanManageSharedChannelsPref")},"/Hvu":function(K,s,e){"use strict";e.d(s,"a",function(){return v}),e.d(s,"b",function(){return O});var n=e("oTSI"),t=e("046c"),a=e("417x"),r=e("s4P+"),d=e("CWPp");const o=m((I,C,f)=>{var S,D,p,b;return{triggerId:(I==null?void 0:I.id)||"",workflowId:(I==null?void 0:I.workflow.workflow_id)||(C==null?void 0:C.id),isWorkflowPublished:(I==null||(S=I.workflow_details)===null||S===void 0?void 0:S.is_published)||(C==null?void 0:C.is_published),appId:(I==null?void 0:I.workflow.app_id)||((D=I==null?void 0:I.workflow.app)===null||D===void 0?void 0:D.id),app:I==null?void 0:I.workflow.app,inputs:I==null?void 0:I.inputs,owningTeamId:I==null?void 0:I.owning_team_id,isWorkflowApp:(p=I==null?void 0:I.workflow.app)===null||p===void 0?void 0:p.is_workflow_app,salesHomeWorkflowAppType:(b=I==null?void 0:I.workflow.app)===null||b===void 0?void 0:b.sales_home_workflow_app_type,title:(I==null?void 0:I.name)||(I==null?void 0:I.workflow.title)||(C==null?void 0:C.title)||(f==null?void 0:f.title),description:(I==null?void 0:I.description)||(I==null?void 0:I.workflow.description)||(C==null?void 0:C.description)||(f==null?void 0:f.description),appCollaborators:(C==null?void 0:C.collaborators)||(f==null?void 0:f.appCollaborators),shareUrl:(I==null?void 0:I.share_url)||(f==null?void 0:f.shareUrl)}},"getCommonMetadataFromTriggerAndWorkflow"),i=m((I,C,f)=>({...o(I,C,f),triggerType:t.a.Shortcut,url:I.shortcut_url}),"createLinkShortcut"),h=m((I,C,f)=>({...o(I,C,f),triggerType:t.a.Webhook}),"createWebhookShortcut"),l=m((I,C,f)=>({...o(I,C,f),triggerType:t.a.External}),"createExternalShortcut"),u=m((I,C,f)=>{const{eventType:S,channelIds:D,teamIds:p,filter:b}=Object(a.a)(I),M={eventType:S,channelIds:D,teamIds:p,filter:b};return{...o(I,C,f),triggerType:t.a.Event,event:M}},"createEventShortcut"),c=m((I,C,f)=>{const S=Object(a.a)(I.schedule);return{...o(I,C,f),triggerType:t.a.Scheduled,schedule:S}},"createScheduledShortcut"),E=m((I,C,f)=>o(I,C,f),"createUnknownShortcut"),v=m(I=>{let{passedShortcutInfo:C,trigger:f,workflow:S}=I;if(Object(d.a)(f)){const D=f;switch(D.type){case t.a.Shortcut:return i(D,S,C);case t.a.Event:return u(D,S,C);case t.a.Scheduled:return c(D,S,C);case t.a.External:return l(D,S,C);case t.a.Webhook:return h(D,S,C);default:return E(D,S,C)}}return E(void 0,S,C)},"createShortcutFromTriggerAndWorkflow"),g=m(I=>{try{return JSON.stringify(I)}catch(C){throw Object(r.b)().error("stringify failed for workflow/trigger obj shortcut info"),C}},"memoizeCacheKeyResolver"),O=Object(n.a)(v,g)},"/K2e":function(K,s,e){"use strict";var n=e("n3tL"),t=e("q1tI"),a=e.n(t),r=e("TGBA"),d=e("vJtL"),o=e("UHsu"),i=e("i9y5"),h=e("7JHn"),l=e("x5cI"),u=e("GFD/"),c=e("NPyv"),E=e("tv4y"),v=e("rq2v");function g(){return g=Object.assign||function(f){for(var S=1;S<arguments.length;S++){var D=arguments[S];for(var p in D)Object.prototype.hasOwnProperty.call(D,p)&&(f[p]=D[p])}return f},g.apply(this,arguments)}m(g,"_extends");const O={type:n.default.oneOf(Object(r.a)(E.b)),label:n.default.node,description:n.default.string,children:n.default.element,key:n.default.string,click:n.default.func,danger:n.default.bool,dataQa:n.default.string,checked:n.default.bool,indeterminate:n.default.bool,ariaHidden:n.default.bool,target:n.default.string,href:n.default.string,download:n.default.string,action:n.default.func,payload:n.default.object,autoClogProps:n.default.object},I={template:n.default.arrayOf(n.default.shape({...O,renderSubmenu:n.default.func,template:n.default.arrayOf(n.default.shape(O)),submenu:n.default.arrayOf(n.default.shape(O)),checked:n.default.bool})).isRequired};let C=m(class di extends t.PureComponent{render(){const{template:S,...D}=this.props,p=S.map((b,M)=>{if(!b)return null;if(b.type===E.b.separator)return a.a.createElement(u.a,g({},b,{key:b.key||`separator-${M}`}));if(b.type===E.b.sub_separator)return a.a.createElement(u.a,g({},b,{className:"c-menu_separator__li--sub",key:b.key||`separator-${M}`}));if(b.type===E.b.header)return a.a.createElement(c.a,{key:b.key||`header-${M}`,label:b.label,className:b.className});if(b.type===E.b.loading)return a.a.createElement(i.a,{key:b.key||"loading",size:"large"});const _={children:b.children,className:b.className,classNameListItem:b.classNameListItem,label:b.label,description:b.description,icon:b.icon,badgeCount:b.badgeCount,badgeLabel:b.badgeLabel,badgeClassName:b.badgeClassName,shortcut:b.shortcut,showEnter:b.showEnter,onSelected:b.click,target:b.target,href:b.href,download:b.download,danger:b.danger,type:b.type,"data-qa":b.dataQa,disabled:b.disabled,showOfflineIcon:b.showOfflineIcon,showLinkIndicatorIcon:b.showLinkIndicatorIcon,checked:b.checked,indeterminate:b.indeterminate,width:b.submenuWidth,autoClogProps:b.autoClogProps,megaphoneSpaceName:b.megaphoneSpaceName,megaphoneNotificationName:b.megaphoneNotificationName,onMount:b.onMount,onUnmount:b.onUnmount,ariaDescribedBy:b.ariaDescribedBy,ariaRole:b.ariaRole},P=b.key||b.label;if(b.type===E.b.submenu){const j=Object(d.a)(b.renderSubmenu)?b.renderSubmenu:U=>a.a.createElement(di,g({template:b.template||b.submenu},U,{width:b.submenuWidth}));return a.a.createElement(o.a,g({},_,{label:b.label,renderSubmenu:j,key:P}))}if(b.type===E.b.custom)return b.ariaHidden===!1?b.children:a.a.createElement("div",{"aria-hidden":"true",key:b.key},b.children);if(b.type===E.b.subheaderChild)return a.a.createElement(l.a,g({key:P,type:E.b.subheaderChild},_));const y=a.a.createElement(l.a,g({key:P},_));return b.megaphoneSpaceName&&b.megaphoneNotificationName?a.a.createElement(v.c,{key:P,spaceName:b.megaphoneSpaceName,notifications:{[b.megaphoneNotificationName]:{component:()=>y}}}):y});return a.a.createElement(h.a,g({},D),p)}},"MenuFromTemplate");C.displayName="MenuFromTemplate",C.propTypes=I,s.a=C},"/Nz6":function(K,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),r=e("A1dN"),d=e("zb/F"),o=e("PIf0"),i=e("oY18"),h=e("g3a/"),l=e("nNoG"),u=e("sgFo");const c=new l.b("huddles"),E=Object(a.c)("Copies Huddle link by Channel Id",(v,g,O,I)=>{let{channelId:C,suppressToast:f}=O;const{window:S}=I(o.a),D=Object(u.o)(g());C&&(v(Object(r.b)({reason:"copy",channelId:C})).then(p=>{Object(d.e)(p.link,S)}),D&&!f&&v(Object(i.a)({element:t.a.createElement(h.a,{icon:"check-large",duration:3e3},c.rt("Huddle link copied"))})))});E.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},"/S0L":function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("SQ0V"),t=e("T1zM"),a=e("s4P+");const r="IMPROVED_SEARCH",d="search_sort",o=Object(n.c)("Message Search: set sort method",(i,h,l)=>{let{sort:u}=l;Object(a.a)({getState:h}).info(r,`Set message sort method. messageSort: ${u}`),i(Object(t.f)({pref:d,value:u}))});o.meta={name:"createThunk",key:"createThunksetMessageSort",description:"Message Search: set sort method"}},"/XFw":function(K,s,e){"use strict";var n=e("ZKjC"),t=e("jlKB"),a=e("JoR1"),r=e("ciPa");const d=Object(n.b)(o=>!Object(t.a)(o)&&!!Object(a.t)(o,"jumbomoji")&&Object(r.a)(o)!=="dense");d.meta={name:"createSelector",key:"createSelectorshouldDisplayJumbomoji",description:o=>!Object(t.a)(o)&&!!Object(a.t)(o,"jumbomoji")&&Object(r.a)(o)!=="dense"},s.a=d},"/aHE":function(K,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"b",function(){return d}),e.d(s,"e",function(){return o}),e.d(s,"f",function(){return i}),e.d(s,"d",function(){return h}),e.d(s,"c",function(){return l}),e.d(s,"g",function(){return u});var n=e("SQ0V"),t=e("T1zM"),a=e("sjOx");const r=Object(n.c)("Channel search: set hide my channels",(c,E,v)=>{let{value:g}=v;c(Object(t.f)({pref:a.F,value:g}))});r.meta={name:"createThunk",key:"createThunksetChannelSearchHideMemberChannels",description:"Channel search: set hide my channels"};const d=Object(n.c)("Channel Search: set sort method",(c,E,v)=>{let{sort:g}=v;c(Object(t.f)({pref:a.C,value:g}))});d.meta={name:"createThunk",key:"createThunksetChannelSearchSort",description:"Channel Search: set sort method"};const o=Object(n.c)("People Search: set sort method",(c,E,v)=>{let{sort:g}=v;c(Object(t.f)({pref:a.H,value:g}))});o.meta={name:"createThunk",key:"createThunksetPeopleSearchSort",description:"People Search: set sort method"};const i=Object(n.c)("Setting result Count Toggle",(c,E,v)=>{let{count:g}=v;c(Object(t.f)({pref:"result_count_toggle",value:g}))});i.meta={name:"createThunk",key:"createThunksetResultCountToggle",description:"Setting result Count Toggle"};const h=Object(n.c)("People search: set hiding deactivated users",(c,E,v)=>{let{value:g}=v;c(Object(t.f)({pref:a.E,value:g}))});h.meta={name:"createThunk",key:"createThunksetPeopleSearchHideDeactivatedUsers",description:"People search: set hiding deactivated users"};const l=Object(n.c)("Message/File search: set exclude bots",(c,E,v)=>{let{value:g}=v;c(Object(t.f)({pref:a.D,value:g}))});l.meta={name:"createThunk",key:"createThunksetMessageAndFileSearchExcludeBots",description:"Message/File search: set exclude bots"};const u=Object(n.c)("Message/File search: search only my channels",(c,E,v)=>{let{value:g}=v;c(Object(t.f)({pref:a.G,value:g}))});u.meta={name:"createThunk",key:"createThunksetSearchOnlyMyChannelsChanged",description:"Message/File search: search only my channels"}},"/cL/":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("Cfcg"),d=e("ktUG"),o=e("/0Xg"),i=e("zxER"),h=e("beVI"),l=e("s9Q6"),u=e("Trx9"),c=e("iUFw"),E=e("Tevt"),v=e("Tsh7");function g(){return g=Object.assign||function(S){for(var D=1;D<arguments.length;D++){var p=arguments[D];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(S[b]=p[b])}return S},g.apply(this,arguments)}m(g,"_extends");const O=new a.b("plan_change"),I=m(S=>{let{children:D,planLevel:p,entryPoint:b,feature:M,hash:_,action:P,useLink:y,refToForward:j,productId:U,productLevel:W,team:L,isTeamInTrial:R,tooltipProps:A,...B}=S;const F=Object(i.c)(X=>Object(o.y)(X,{entryPoint:b,productId:U,productLevel:W,action:P,feature:M,hash:_,planLevel:p})),k=y?E.a:c.a,V=t.a.createElement(k,g({ref:j},B,{href:F}),D);return t.a.createElement(u.a,{eventId:d.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},A?t.a.createElement(v.d,g({tip:O.t("Upgrade")},A),V):V)},"PlansPageCTABase");I.displayName="PlansPageCTABase";const C=m(S=>({team:Object(h.g)(S),isTeamInTrial:Object(l.i)(S)}),"mapStateToProps"),f=Object(r.a)(C)(I);s.a=t.a.forwardRef((S,D)=>t.a.createElement(f,g({},S,{refToForward:D})))},"/q5d":function(K,s,e){"use strict";e.d(s,"b",function(){return i}),e.d(s,"a",function(){return l});var n=e("9oTK"),t=e.n(n),a=e("rkcT"),r=e("lhZz"),d=e("25cE"),o=e("i/F/");function i(c){return h.apply(this,arguments)}m(i,"getRouteInfo");function h(){return h=Object(n.coroutine)(function*(c){let{contextualInfo:E,channels:v}=c;const{teamId:g,isForegroundTeam:O}=E,I=Object(r.getStoreInstanceByTeamId)(g),C=Object(a.b)({store:I,shouldSetFocus:O});return C||l({contextualInfo:E,channels:v})}),h.apply(this,arguments)}m(h,"_getRouteInfo");function l(c){let{contextualInfo:E,channels:v}=c;const{teamId:g}=E;if(!g)return null;const O=Object(a.c)(g);if(O)return O;if(v){const I=E.userId;return u({channels:v,selfId:I})}return null}m(l,"calculateRouteInfo");function u(c){let{channels:E,selfId:v}=c;if(!E.length)return null;const g={routeName:d.b,params:{}},O=Object(o.a)({channels:E,selfId:v});return O&&(g.params.entityId=O),g}m(u,"getRouteFromBootData")},"/qcS":function(K,s,e){"use strict";var n=e("UnpP");e.d(s,"a",function(){return n.a}),s.b=n.b},"04K9":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("n3tL"),t=e("DwFS");const a=Object(t.a)("Start delete animation for a message");a.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"},a.propTypes={channelId:n.default.string.isRequired,ts:n.default.string.isRequired,isDeleting:n.default.bool}},"0csk":function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("q1tI"),t=e.n(n),a=e("nNoG");const r=new a.b("error_boundary");function d(o){let{errCode:i}=o;return t.a.createElement("p",{className:"p-error_boundary__error_code_container"},t.a.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},r.t("Error: "),i))}m(d,"ErrorCode")},"0zWI":function(K,s,e){"use strict";e.d(s,"b",function(){return a});var n=e("Lgge");let t=null;function a(){return t}m(a,"getLastTeamSwitchTimestamp"),s.a=d=>{let{prevTeamId:o,nextTeamId:i,navigationTimestamp:h}=d;return o===i||!h||(t=h),n.a.resolve()},Object.defineProperty({lastTeamSwitchTimestamp:null},"lastTeamSwitchTimestamp",{get:()=>t,set:d=>{t=d}})},"19Yv":function(K,s,e){"use strict";e.d(s,"a",function(){return I}),e.d(s,"c",function(){return p}),e.d(s,"b",function(){return b});var n=e("E3dU"),t=e("RVJP"),a=e("NjAx"),r=e("E97Y"),d=e("ISSR"),o=e("OOsk");const i={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},h={ok:!1,reason:i.ArchivedChannel},l={ok:!1,reason:i.InvalidDm},u={ok:!1,reason:i.RequiredChannel};function c(M,_){const P=Object(n.B)(M,_)?Object(n.d)(M,_):null;return Object(d.a)(P)?h:Object(r.g)(P)||Object(r.i)(P)?l:Object(r.o)(P)?u:o.a}m(c,"isChannelKickableWithReason");function E(M,_){return c(M,_).ok}m(E,"isChannelKickable");var v=e("ByMX"),g=e("clOX"),O=e("RTHw");const I={...i,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},C={ok:!1,reason:I.InvalidParams},f={ok:!1,reason:I.UserIsRestricted},S={ok:!1,reason:I.RestrictedPublicChannel},D={ok:!1,reason:I.RestrictedPrivateChannel};function p(M,_){const P=Object(n.B)(M,_)?Object(n.d)(M,_):null;if(!Object(r.e)(P))return C;if(Object(v.b)(M))return f;const y=c(M,_);if(!y.ok)return{ok:!1,reason:y.reason};if(Object(t.d)(M,"channel_owner_role_expanded_permissions")==="on"&&Object(a.O)(M,{channelId:_}))return o.a;const U=Object(r.l)(P)?"public":"private",W=U==="private"?O.a:O.c,L=U==="private"?O.b:O.d,R=W(M)||L(M),A=U==="private"?"who_can_kick_groups":"who_can_kick_channels",B=Object(g.a)(M,A,P);return!R&&!B?U==="private"?D:S:o.a}m(p,"canUserKickFromChannelWithReason");function b(M,_){return p(M,_).ok}m(b,"canUserKickFromChannel")},"1EwG":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("BJra");function d(){return d=Object.assign||function(i){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])}return i},d.apply(this,arguments)}m(d,"_extends");function o(i){const{children:h,className:l}=i;return h?t.a.createElement("span",d({className:Object(a.default)(l,"c-base_entity__subtext")},Object(r.a)(i)),h):null}m(o,"BaseEntitySubtext"),o.displayName="BaseEntitySubtext",s.a=o},"1HOW":function(K,s,e){"use strict";e.d(s,"a",function(){return P}),e.d(s,"b",function(){return _}),e.d(s,"e",function(){return j}),e.d(s,"d",function(){return U}),e.d(s,"c",function(){return W});var n=e("ifKl"),t=e("oTSI"),a=e("WIr4"),r=e("vd/O"),d=e("q1tI"),o=e.n(d),i=e("BHdc"),h=e("Sf+H"),l=e("HP72"),u=e("YsXF"),c=e("FRd1"),E=e("ktUG"),v=e("yh68"),g=e("HUUN"),O=e("Pewd"),I=e("9ADk"),C=e("2K8U"),f=e("cRTT"),S=e("MYuU"),D=e("OmHH");function p(){return p=Object.assign||function(L){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(L[B]=A[B])}return L},p.apply(this,arguments)}m(p,"_extends");const b={onOptionSelected:{action:E.UiAction.SELECT}},M=m(L=>L.map(R=>{let{id:A}=R;return A}),"getIdsFromHintOrErrors");let _=m(class extends d.Component{maybeRenderOptionsList(){const{selectState:R,setSelectState:A,renderOption:B,width:F,inputRef:k,ariaLabel:V,resultsInPopover:X,overlayClassName:J,onOptionSelected:Y,className:ie,classPrefix:de,optionsRowHeight:pe,onOpen:oe,emptyStateMessage:me,minOptionsListWidth:re,maxOptionsListHeight:ve,isLoading:q,onOptionsListClose:ce,onScrollablePage:he,enableLoadingState:Se,autoClogProps:se,shouldAllowUnselectInSingleSelectMode:H,shouldOptionBeSelected:Oe,optionsListFooterBannerContent:$}=this.props;if(X&&(!this.props.inputRef||!this.props.inputRef.current))return null;const z={key:`${R.selectId}-popover`};J&&(z.overlayClassName=J);const be=X?o.a.createElement(u.a,{selectState:R,setSelectState:A,renderOption:B,width:F,inputRef:k,ariaLabel:V,onOptionSelected:Y,popoverProps:z,measurePopoverEventName:this.measurePopoverEventName,className:ie,classPrefix:de,selectDataQa:this.fallbackDataQa,optionsRowHeight:pe,onOpen:oe,emptyStateMessage:me,minOptionsListWidth:re,maxListHeight:ve,isLoading:q,onOptionsListClose:ce,onScrollablePage:he,enableLoadingState:Se,autoClogProps:se,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:H,shouldOptionBeSelected:Oe,footerBannerContent:$}):o.a.createElement(l.b,{selectState:R,setSelectState:A,renderOption:B,width:F,inputRef:k,ariaLabel:V,onOptionSelected:Y,classPrefix:de,selectDataQa:this.fallbackDataQa,emptyStateMessage:me,maxListHeight:ve,optionsRowHeight:pe,onOptionsListClose:ce,enableLoadingState:Se,shouldAllowUnselectInSingleSelectMode:H,shouldOptionBeSelected:Oe,footerBannerContent:$});return o.a.createElement(c.a,{elementType:E.ElementType.DROPDOWN,actionProps:b,autoClogProps:se},be)}render(){const{renderSelectedOption:R,className:A,classPrefix:B,placeholderText:F,size:k,width:V,selectState:X,setSelectState:J,inputRef:Y,focusOnMount:ie,showDropdownIcon:de,isLoading:pe,resultsInPopover:oe,isDisabled:me,isRequired:re,onFocus:ve,onEsc:q,ariaLabelledBy:ce,ariaDescribedBy:he,inputIcon:Se,maxCharacterLimit:se,onOptionsListClose:H,ariaLabel:Oe,expandOnClick:$,searchOnClick:z,autoClogProps:be,errors:Z,hints:G,expandOnFocus:ne,hideSelectedOptionOnDropdownOpen:ge}=this.props,{isInvalid:ae}=X,fe=Object(r.a)(Z),Te=Object(r.a)(G);let ye;Z&&(ye=fe?M(Z):void 0);let Ue;G&&(Ue=Te?M(G):void 0);const Ne=Object(S.e)([he,ye,Ue]),He=ae||fe;return o.a.createElement("div",{className:Object(i.default)(A,"c-search-select"),"data-qa":this.fallbackDataQa},o.a.createElement(h.a,{selectState:{...X,isInvalid:He,isRequired:re,isDisabled:me},setSelectState:J,renderSelectedOption:R,placeholderText:F,size:k,width:V,selectDataQa:this.fallbackDataQa,inputRef:Y,focusOnMount:ie,showDropdownIcon:de,isLoading:pe,resultsInPopover:oe,measurePopoverEventName:oe?this.measurePopoverEventName:void 0,classPrefix:B,onBlur:this.onBlur,onFocus:ve,onEsc:q,"aria-label":Oe,ariaLabelledBy:ce,ariaDescribedBy:Ne,icon:Se,maxCharacterLimit:se,onOptionsListClose:H,expandOnClick:$,autoClogProps:be,searchOnClick:z,expandOnFocus:ne,hideSelectedOptionOnDropdownOpen:ge}),fe&&Z&&o.a.createElement(O.a,{errors:Z}),Te&&G&&G.map(ze=>{let{id:Je,message:Xe,className:Me}=ze;return Xe&&o.a.createElement(I.a,{key:Je,id:Je,className:Me},Xe)}),this.maybeRenderOptionsList())}constructor(R){super(R),this.onBlur=B=>{if(this.dropdownContainer){const F=this.dropdownContainer.current;if(F&&F.contains(B.relatedTarget)){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(B)};const{selectId:A}=R.selectState;this.measurePopoverEventName=`measureSelectPopover--${A}`,this.fallbackDataQa=R.selectDataQa||A,this.dropdownContainer=o.a.createRef()}},"ControlledSearchSelect");_.displayName="ControlledSearchSelect",_.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:L=>L.label,renderSelectedOption:L=>L.label,resultsInPopover:!0,overlayClassName:void 0,size:C.f.MEDIUM,width:360,optionsRowHeight:C.a,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:n.a,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:n.a,onFocus:n.a,onEsc:n.a,onOpen:n.a,onOptionsListClose:n.a,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0,shouldOptionBeSelected:n.a};const P=Object(f.a)(_);let y=m(class extends d.Component{setSelectState(R,A){this.setState(B=>{let F=R();const{filter:k,options:V}=this.props;return F.filterQuery!==void 0&&F.filterQuery!==B.filterQuery&&k&&(F=k(V,F)),F},A)}render(){const{isRequired:R,isInvalid:A,isDisabled:B,showConfirmDialog:F}=this.props,k=F?P:_,V=Object(t.a)(()=>({...this.state,isInvalid:A,isRequired:R,isDisabled:B}));return o.a.createElement(k,p({},this.props,{selectState:V(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(R){super(R),this.state={filterQuery:"",displayQuery:"",options:R.options,selectId:R.selectId,isExpanded:R.isExpanded,isInvalid:R.isInvalid,isDisabled:R.isDisabled,selectedOption:R.selectedOption},this.inputRef=this.props.inputRef?this.props.inputRef:o.a.createRef(),Object(a.a)(this,["setSelectState"])}},"SearchSelect");y.displayName="SearchSelect",y.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:D.a,onOptionSelected:n.a,selectId:`search-select-${Object(S.d)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0},s.f=y;const j=Object(v.a)(_),U=Object(v.a)(Object(f.a)(_)),W=Object(g.a)(_)},"1Odg":function(K,s,e){"use strict";e.d(s,"a",function(){return E}),e.d(s,"b",function(){return g});var n=e("046c"),t=e("417x"),a=e("s4P+"),r=e("oTSI");const d=m(O=>{const{functionTriggerId:I,workflowId:C,title:f,description:S,isWorkflowApp:D,salesHomeWorkflowAppType:p,owningTeamId:b,developerTraceId:M,botUserId:_,appCollaborators:P,appId:y,shareUrl:j}=Object(t.a)(O);return{triggerId:I,workflowId:C,title:f,description:S,isWorkflowApp:D,salesHomeWorkflowAppType:p,owningTeamId:b,developerTraceId:M,botUserId:_,appCollaborators:P,appId:y,shareUrl:j}},"getCommonMetadataFromBlock"),o=m(O=>O.url?{...d(O),triggerType:n.a.Shortcut,url:O.url}:{...d(O),triggerType:n.a.Shortcut,url:""},"createLinkShortcutFromBlock"),i=m(O=>({...d(O),triggerType:n.a.Webhook}),"createWebhookShortcutFromBlock"),h=m(O=>({...d(O),triggerType:n.a.External}),"createExternalShortcutFromBlock"),l=m(O=>{const{triggerSubtype:I}=O,C={eventType:I||""};return{...d(O),triggerType:n.a.Event,event:C}},"createEventShortcutFromBlock"),u=m(O=>d(O),"createUnknownShortcutFromBlock"),c=m(O=>{const I={startTime:""};return{...d(O),triggerType:n.a.Scheduled,schedule:I}},"createScheduledShortcutFromBlock"),E=m(O=>{switch(O.triggerType){case n.a.Event:return l(O);case n.a.Scheduled:return c(O);case n.a.Shortcut:return o(O);case n.a.Webhook:return i(O);case n.a.External:return h(O);case void 0:return o(O);default:return u(O)}},"createShortcutFromBlock"),v=m(O=>{try{return JSON.stringify(O)}catch(I){throw Object(a.b)().error("stringify failed for workflow/trigger obj shortcut info"),I}},"memoizeCacheKeyResolver"),g=Object(r.a)(E,v)},"1VgO":function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return a});function n(r,d){const{ref:o}=d;return a(r,o)}m(n,"mergeRefWithChildRef");function t(r){return d=>{typeof r=="function"?r(d):r&&(r.current=d)}}m(t,"makeRefBackwardsCompatible");function a(){for(var r=arguments.length,d=new Array(r),o=0;o<r;o++)d[o]=arguments[o];return i=>{d.forEach(h=>{t(h)(i)})}}m(a,"mergeRefs")},"1WOA":function(K,s,e){"use strict";e.d(s,"a",function(){return O});var n=e("9oTK"),t=e("KciV"),a=e("vfQU"),r=e("S4vl"),d=e("kBpe"),o=e("74PA"),i=e("ktUG"),h=e("mSpc");const l=window.RTCPeerConnection,u=window.MediaStream,c=window.RTCIceCandidate,E=window.navigator,v={height:116,width:168},g=9;let O=m(class{getScreenThumbnails(f){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var D=this;return Object(n.coroutine)(function*(){const p=yield Object(a.z)();if(S||I(D.log,p),Object(d.y)()&&!S){const P=yield D.guessSourceIdOnWindows();if(p.length===1&&!D.isSingleAppShareEnabled)return[{mediaSourceId:P,displayId:p[0].id,bounds:p[0].bounds}]}const b=["screen"];(yield D.isSingleAppShareEnabled)&&(b.push("window"),v.width=(f==null?void 0:f.width)||200,v.height=(f==null?void 0:f.height)||150);let M;try{M=yield Object(a.V)(v,b)}catch(P){D.log.error(`Could not get screen thumbnails: ${P.message}`)}return M?M.map((P,y)=>{var j;const U=p.find(L=>parseInt(P.display_id,10)===L.id);!U&&!Object(d.z)()&&!Object(d.p)()&&!(!((j=P.id)===null||j===void 0)&&j.startsWith("window:"))&&D.log.error(`Could not find matching display for screen ${y} with id ${P.display_id}`);const W=U||(Object(d.z)()||Object(d.p)()?p[y]:void 0);return{mediaSourceId:P.id,thumbnail:P.thumbnail,displayId:W&&W.id,bounds:W&&W.bounds,name:P.name}}):[]})()}getCurrentlyActiveScreenTrack(){return this.screenTrack}startCapturingScreen(f){var S=this;return Object(n.coroutine)(function*(){if(Object(r.b)(!S.screenTrack,"Screen track should not already be active"),!f){if(!E.mediaDevices.getDisplayMedia)throw S.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const D={audio:!1,video:{frameRate:{max:15}}},p=yield E.mediaDevices.getDisplayMedia(D);return S.screenTrack=p.getVideoTracks()[0],S.log.info(`Start screen sharing with track id: ${S.screenTrack.id} in browser`),S.screenTrack}catch(D){if(D.name!=="NotAllowedError")throw S.log.error(`Error: ${D.name} while trying to screen share in browser`),Object(o.a)(i.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:D.name}),D;return null}}try{const D={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:f,maxFrameRate:15}}};if(!Object(d.x)()){const b=yield S.getScreenDetailsByMediaSourceId(f);b&&b.bounds&&(D.video.mandatory.maxWidth=b.bounds.width,D.video.mandatory.maxHeight=b.bounds.height)}const p=yield E.mediaDevices.getUserMedia(D);return S.screenTrack=p.getTracks()[0],S.log.info("Start screen sharing with track id:",S.screenTrack.id,"and mediaSourceId:",f),S.screenTrack}catch(D){throw S.log.error(`Error: ${D.name} for screen ${f}`),Object(o.a)(i.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:D.name}),D}})()}stopCapturingScreen(){if(!this.screenTrack){Object(r.b)("No screenTrack to stop.");return}this.screenTrack.stop();const f=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",f),f}clearScreenTrack(){delete this.screenTrack}guessSourceIdOnWindows(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;var S=this;return Object(n.coroutine)(function*(){const D=`screen:${f}:0`;try{return yield S.startCapturingScreen(D),S.stopCapturingScreen(),D}catch{if(f===g)throw new Error("Unable to guess sourceId");return S.guessSourceIdOnWindows(f+1)}})()}getScreenDetailsByMediaSourceId(f){var S=this;return Object(n.coroutine)(function*(){let D;const p=yield S.getScreenThumbnails();return p&&(D=p.find(b=>b.mediaSourceId===f,p)),D})()}constructor(f){this.isSingleAppShareEnabled=f,this.log=Object(t.c)("SCREENS")}},"ScreenManager");function I(C,f){if(!f.length){C.error("No screens available");return}const S=new h.a(["id","width","height","x","y","scaleFactor","rotation"]);f.forEach(D=>{S.add([D.id,D.bounds.width,D.bounds.height,D.bounds.x,D.bounds.y,D.scaleFactor,D.rotation].map(String))}),C.info(`Available screens:
${S.report()}`)}m(I,"logDisplays")},"1Zcw":function(K,s,e){"use strict";e.d(s,"c",function(){return n}),e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});const n="HUDDLES",t=864e5,a=2},"1h8Q":function(K,s,e){"use strict";e.d(s,"a",function(){return n});const n=m(t=>t.filter(a=>{let{datasource_id:r}=a;return!r}),"getAvailableOrgs")},"1yap":function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("SQ0V"),t=e("Fqb6"),a=e("u/Sz");const r=Object(n.c)(a.a.ADD_CHANNEL,function(d,o){let{channel:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!i||!i.id||d(Object(t.a)({channel:i,reason:a.a.ADD_CHANNEL}))});r.meta={name:"createThunk",key:"createThunkaddChannel",description:a.a.ADD_CHANNEL}},"20qZ":function(K,s,e){"use strict";e.d(s,"a",function(){return S});var n=e("9oTK"),t=e("OnlX"),a=e("Lgge"),r=e("5IZy"),d=e("ktUG"),o=e("8TXW"),i=e("KciV");function h(){return 2}m(h,"getVoiceFocusCacheVersion");var l;const u="voiceFocusCache";function c(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}m(c,"createDefaultVoiceFocusCapability");function E(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}m(E,"createDefaultVoiceFocusCachedConfig");function v(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(l=window.navigator)===null||l===void 0?void 0:l.userAgent,p=arguments.length>1?arguments[1]:void 0;const b=localStorage.getItem(u),M={version:h(),voiceFocusCapability:c(),voiceFocusCachedConfig:E()};if(!b)return M;let _;try{_=JSON.parse(b)}catch(P){return Object(i.c)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",P.message),M}return _.version!==h()?M:(_.voiceFocusCapability&&(_.voiceFocusCapability.userAgent!==D||_.voiceFocusCapability.sdkVersion!==p)&&(_.voiceFocusCapability=M.voiceFocusCapability,_.voiceFocusCachedConfig=M.voiceFocusCachedConfig),{...M,..._})}m(v,"readVoiceFocusCache");function g(D){try{localStorage.setItem(u,JSON.stringify(D))}catch(p){Object(i.c)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",p.message)}}m(g,"writeVoiceFocusCache");var O=e("QjW8"),I=e("+N8b");const C=1657647210615,f=1686248081659;let S=m(class{init(p){let{configOnly:b,shouldPreventAutoDisable:M}=p;var _=this;return Object(n.coroutine)(function*(){b||_.callLogger.info(`VF cache: ${!!_.cache}`),_.shouldPreventAutoDisable=!!M,_.isSupported=yield _.isCapable(!!b),_.isSupported&&_.prepare(b)})()}isAvailable(){return this.isSupported}getTransformDevice(){var p=this;return Object(n.coroutine)(function*(){if(p.isSupported&&(p.voiceFocusConfigPromise&&(yield p.voiceFocusConfigPromise),!!p.voiceFocusDeviceTransformerPromise)){try{yield p.voiceFocusDeviceTransformerPromise}catch{p.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(p.voiceFocusTransformDevicePromise)try{return yield p.voiceFocusTransformDevicePromise}catch{p.callLogger.error("Could not get VoiceFocusTransformDevice")}}})()}shouldDisable(){if(this.shouldPreventAutoDisable)return!1;const p=Date.now();this.cpuWarningTimes.push(p);const b=p-6e4;this.cpuWarningTimes=this.cpuWarningTimes.filter(_=>_>b);const M=this.cpuWarningTimes.length;return M<2?!1:this.cpuWarningTimes[M-1]-this.cpuWarningTimes[M-2]<3e3||M>2}setMute(p){var b=this;return Object(n.coroutine)(function*(){const M=yield b.getTransformDevice();M&&(yield M.mute(p))})()}isCapable(p){var b=this;return Object(n.coroutine)(function*(){if(b.isIFramed())return p||b.callLogger.warn("not supported due to IFrame"),!1;let M=!1;switch(b.cache.voiceFocusCapability.isSupported){case"yes":p||b.callLogger.info("cache says supported"),M=!0;break;case"no":p||b.callLogger.info("cache says not supported"),M=!1;break;case"unknown":{p||b.callLogger.info("cache says unknown, determining support..."),b.cache.voiceFocusCapability.userAgent=Object(t.a)(),b.cache.voiceFocusCapability.sdkVersion=o.s.sdkVersion,M=yield Object(o.H)().isSupported(),M?b.cache.voiceFocusCapability.isSupported="yes":b.cache.voiceFocusCapability.isSupported="no",g(b.cache),p||b.callLogger.info(`determined supported=${b.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:b.callLogger.warn(`Voice Focus capability pref bad: ${b.cache.voiceFocusCapability.isSupported}`);break}return M})()}isIFramed(){try{var p;return((p=window.frameElement)===null||p===void 0?void 0:p.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(p){const M=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,_=this.allowMaxModelsToBeUsed?f:C;return M===0||p-M>6048e5||M<_}prepare(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const b=Date.now(),M=this.cache.voiceFocusCachedConfig.vfConfig,_=this.isStale(b),P={},y={logger:this.chimeLogger};if(M!=="unknown"&&!_){if(p)return;if(!M.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(P,y,M);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=a.a.resolve(Object(o.H)().configure(P,y)),this.voiceFocusConfigPromise.then(j=>{var U;if(!j.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${j.reason}`);return}if(this.shouldPreventAutoDisable&&!(!(j==null||(U=j.model)===null||U===void 0)&&U.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const L=j;this.callLogger.info(`Got new config, variant: ${L.model.variant}, simd: ${L.model.simd}, executionQuanta: ${L.executionQuanta}`),this.storeVfConfig(b,L),p||this.setupDevice(P,y,L)}).catch(j=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${j.name}: ${j.message}`),p||this.setupDevice(P,y)}))}storeVfConfig(p,b){this.cache.voiceFocusCachedConfig.vfConfig=b,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=p,g(this.cache)}updateCacheWithUpdatedConfig(p){var b=this;return Object(n.coroutine)(function*(){b.callLogger.info("Updating VF cache with new modified model");const M={logger:b.chimeLogger},_={variant:p},P=yield Object(o.H)().configure(_,M);P.supported&&b.storeVfConfig(Date.now(),P)})()}setupDevice(p,b,M){const _=p;let P=M,y,j;M?(y=M.model.variant,j=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),y="c10",j=!1);let U=!0;this.allowMaxModelsToBeUsed&&(U=!1);const W=this.chooseModelVariant(y,j,U);if(W.modelWasAdjusted&&(_.variant=W.chosenModel,P=void 0,this.callLogger.info(`VF Model was adjusted from ${M==null?void 0:M.model.variant} to ${W.chosenModel} Reason: ${W.adjustmentReason}`),this.updateCacheWithUpdatedConfig(W.chosenModel)),M){Object(r.a)().track(d.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:M.model.variant,model_variant_override:_.variant,simd:M.model.simd,execution_quanta:M.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const R={...M};R.model.variant=W.chosenModel,I.a.publish({type:O.c.VoiceFocusConfig,update:R}),this.callLogger.info(`model_variant_determined: ${M.model.variant}, model_variant_override: ${W.chosenModel}, simd: ${M.model.simd}, execution_quanta: ${M.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=a.a.resolve(Object(o.H)().create(_,b,P));var L=this;this.voiceFocusDeviceTransformerPromise.then(function(){var R=Object(n.coroutine)(function*(A){L.voiceFocusTransformDevicePromise=a.a.resolve(A.createTransformDevice(null))});return function(A){return R.apply(this,arguments)}}()).catch(R=>{this.callLogger.info(`Could not create voice device transformer exp: ${R.name}: ${R.message}`)})}chooseModelVariant(p,b,M){const _={c10:1,c20:2,c50:3,c100:4},P=navigator==null?void 0:navigator.hardwareConcurrency;if(!P)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${p}`),{modelWasAdjusted:!1,chosenModel:p,adjustmentReason:""};let y;return P<=4?y="c10":P<=6?y="c20":P<=8?y="c50":y="c100",_[y]<_[p]&&!M?{modelWasAdjusted:this.wasModelAdjusted(y,p,b),chosenModel:y,adjustmentReason:"Using CPU restricted model variant which is weaker"}:_[y]>_[p]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${p}`),y=p,!M)?{modelWasAdjusted:!1,chosenModel:p,adjustmentReason:""}:y==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",p,b),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",p,b),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(p,b,M){return p===b&&!M||p!==b}tearDown(){var p=this;return Object(n.coroutine)(function*(){const b=yield p.getTransformDevice();b&&(p.callLogger.info("Attempting to destroyVoiceFocus"),o.u.destroyVoiceFocus(b))})()}constructor(p,b){this.chimeLogger=p,this.allowMaxModelsToBeUsed=b,this.callLogger=Object(i.a)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cpuWarningTimes=[],this.cache=v(Object(t.a)(),o.s.sdkVersion)}},"VoiceFocusManager")},"2B42":function(K,s,e){K.exports=e.p+"slack-salesforce@2x-06b5868.png"},"2K8U":function(K,s,e){"use strict";e.d(s,"f",function(){return n}),e.d(s,"g",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"d",function(){return r}),e.d(s,"c",function(){return d}),e.d(s,"b",function(){return o}),e.d(s,"e",function(){return i});const n={SMALL:"small",MEDIUM:"medium",LARGE:"large"},t={BASIC:"basic",SEARCH:"search",MULTI:"multi"},a=28,r=2,d="12px 0",o=16,i=240},"2OfI":function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return!!(t&&t!=="-")}m(n,"isValidFieldValue")},"2Pfg":function(K,s,e){"use strict";e.d(s,"a",function(){return n});const n=new Map},"2QJ2":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("G4qV"),t=e("O86Y");const a=Object(n.a)(t.e,r=>(r==null?void 0:r.length)===1?{eventCount:"single",destinationWorkspaceId:r[0]}:{eventCount:r!=null&&r.length?"multiple":"none"})},"2kWh":function(K,s,e){"use strict";e.d(s,"b",function(){return se}),e.d(s,"c",function(){return H});var n=e("9oTK"),t=e.n(n),a=e("q1tI"),r=e.n(a),d=e("BHdc"),o=e("/MKj"),i=e("zxER"),h=e("DneB"),l=e("GJt6"),u=e("Kmpi"),c=e("7xYR"),E=e("x5lL"),v=e("9Gfp"),g=e("E3dU"),O=e("+CZ0"),I=e("to1N"),C=e("0dq7"),f=e("VKu5"),S=e("sgFo"),D=e("SIMs"),p=e("Wn1n"),b=e("Trx9"),M=e("qZ3p"),_=e("LqER"),P=e("t35X"),y=e("ejLy"),j=e("E97Y"),U=e("gVOt"),W=e("Yauy"),L=e("3vtZ"),R=e("ZobM"),A=e("G7vT"),B=e("pFNT"),F=e("iUFw"),k=e("eBYm"),V=e("Ccc1"),X=e("HKlo"),J=e("g3a/"),Y=e("nNoG"),ie=e("ktUG"),de=e("zZZw"),pe=e("mQiU"),oe=e("2VFn"),me=e("v7mh"),re=e("Q0mH");function ve(){return ve=Object.assign||function($){for(var z=1;z<arguments.length;z++){var be=arguments[z];for(var Z in be)Object.prototype.hasOwnProperty.call(be,Z)&&($[Z]=be[Z])}return $},ve.apply(this,arguments)}m(ve,"_extends");const q=new Y.b("huddles"),ce={elementName:"huddles_invite_decline",eventId:ie.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},he={elementName:"huddles_invite_joining_soon",eventId:ie.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},Se={elementName:"huddles_invite_join",eventId:ie.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},se=m($=>{let{topic:z,formattedTopic:be,channel:Z,channelName:G,otherMemberNamesString:ne,imMemberName:ge,experimentHuddlesLaterGroupOn:ae}=$;if(!ae)return r.a.createElement(r.a.Fragment,null);let fe=z?q.rt("Join the scheduled huddle about {topic}",{topic:be}):q.rt("Join the scheduled huddle");return Object(j.g)(Z)&&ge?fe=z?q.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:be,imMemberName:ge}):q.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:ge}):Object(j.i)(Z)?fe=z?q.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:be,otherMemberNamesString:ne}):q.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:ne}):Object(u.b)(Z)&&!Object(j.g)(Z)&&(fe=z?q.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:be,channelName:G}):q.rt("Join the scheduled huddle in {channelName}",{channelName:G})),fe},"getScheduledHuddleInviteCopy");function H($){let{channelId:z,senderUserId:be,callId:Z,teamId:G,isInviter:ne}=$;const ge=Object(o.useDispatch)(),{shouldUseNavigate:ae,activeTab:fe}=Object(a.useContext)(pe.a),Te=Object(i.c)(S.D),ye=Object(i.c)(v.a),Ue=Object(i.c)(ke=>Object(y.a)(ke,be)),Ne=Object(i.c)(ke=>Object(g.d)(ke,z)),He=Object(i.c)(ke=>{if(!Ne||!Te||!Object(j.g)(Ne))return;const lt=Object(U.a)(Ne);if(lt)return Object(y.a)(ke,lt)}),ze=Object(i.c)(ke=>Object(j.i)(Ne)?(Object(W.C)(Ne)||[]).filter(at=>at!==be&&at!==ye).map(at=>Object(y.a)(ke,at)).filter(at=>at):[],o.shallowEqual),Je=Object(h.b)(O.s),Xe=Object(L.J)(Je),Ke=Object(i.c)(ke=>Object(E.o)(ke,Z,ye))==="joining_soon",$e=Object(i.c)(ke=>Object(E.f)(ke,Z));var ct;const Tt=(ct=$e==null?void 0:$e.isScheduled)!==null&&ct!==void 0?ct:!1,Et=Object(i.c)(p.a),Le=Object(i.c)(ke=>{if(ae){var lt;return(lt=Object(me.g)(ke,{tab:fe,container:oe.h.Primary}))===null||lt===void 0?void 0:lt.id}return Et}),jt=Object(h.b)(c.getFocusedWorkspace),Dt=z===Le&&jt&&G&&jt===G,Ee=Object(a.useCallback)(()=>{ge(Object(P.b)({callId:Z,channelId:z,inviteResponse:P.a.DECLINE}))},[Z,z,ge]),[te,Ae]=Object(a.useState)(!1),[Ve,Ye]=Object(a.useState)(!1),ft=Object(a.useCallback)(()=>{(function(){var lt=Object(n.coroutine)(function*(){Ye(!0),Ae(!1);const at=ge(Object(P.b)({callId:Z,channelId:z,inviteResponse:P.a.JOINING_SOON}));if(at)try{yield at}catch{Ae(!0)}finally{Ye(!1)}else Ye(!1)});return m(function(){return lt.apply(this,arguments)},"respondToInvite")})()()},[Z,z,ge]),tt=Object(a.useCallback)(()=>{ge(Object(I.a)({channelId:z,callId:Z,entryPoint:C.e.SIDEBAR_HUDDLE_INVITE}))},[z,Z,ge]),Rt=Object(i.c)(ke=>z&&Object(f.a)(ke,z))||"",rt=Rt?r.a.createElement("span",{className:"p-huddle_invite__topic"},r.a.createElement(M.a,{text:Rt})):null,we=r.a.createElement("span",{className:"p-huddle_invite__sender_name"},Ue);let xe;if(Tt){const ke=r.a.createElement(V.a,{channelId:z,boldIcon:!0});xe=se({topic:Rt,formattedTopic:rt,channel:Ne,channelName:ke,experimentHuddlesLaterGroupOn:!0})}else if(Object(j.g)(Ne))ne?xe=se({topic:Rt,formattedTopic:rt,channel:Ne,imMemberName:He,experimentHuddlesLaterGroupOn:Te}):xe=q.rt("Join huddle with {senderName}",{senderName:we});else if(Object(j.i)(Ne)){const ke=Object(de.a)(ze,{react:!0}).join("");if(ne)xe=se({topic:Rt,formattedTopic:rt,channel:Ne,otherMemberNamesString:ke,experimentHuddlesLaterGroupOn:Te});else{const lt=Object(de.a)([Ue].concat(ze),{react:!0}).join(""),at=r.a.createElement("span",{className:"p-huddle_invite__all_member_names"},lt);xe=q.rt("Join huddle with {allMemberNames}",{allMemberNames:at})}}else{const ke=r.a.createElement(V.a,{channelId:z,boldIcon:!0});ne?xe=se({topic:Rt,formattedTopic:rt,channel:Ne,channelName:ke,experimentHuddlesLaterGroupOn:Te}):Dt?xe=q.rt("{senderName} is inviting you to a huddle in this channel",{senderName:we}):xe=q.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:we,channelName:ke})}return{avatarOverflowBadgeCount:Object(j.i)(Ne)?ze.length+1:0,didRespondingToInviteFail:te,formattedTopic:rt,handleDecline:Ee,handleJoiningSoon:ft,handleJoin:tt,inviteText:xe,isCurrentUserJoiningSoon:Ke,isJoiningSoonResponsePending:Ve,isLoading:Xe}}m(H,"useHuddleInviteProps"),H.displayName="useHuddleInviteProps";const Oe=m($=>{let{channelId:z,senderUserId:be,callId:Z,teamId:G,isIA4EnabledForCurrentTeam:ne}=$;const ge=Object(i.c)(S.D),ae=Object(i.c)(v.a),fe=ge&&ae===be,Te=Object(_.b)(z),{avatarOverflowBadgeCount:ye,didRespondingToInviteFail:Ue,formattedTopic:Ne,handleDecline:He,handleJoiningSoon:ze,handleJoin:Je,inviteText:Xe,isCurrentUserJoiningSoon:Me,isJoiningSoonResponsePending:Ke,isLoading:$e}=H({channelId:z,senderUserId:be,callId:Z,teamId:G,isInviter:fe}),ct=Object(a.useRef)(null),Tt=Object(a.useCallback)(()=>{var ft;(ft=ct.current)===null||ft===void 0||ft.focus()},[]);Object(l.a)(X.c.HUDDLE_INVITE_JOIN,Tt);const Et="huddle-invite-text",Le=r.a.createElement(F.d,{type:"outline",className:"p-huddle_invite__button",onClick:He,"data-qa":"huddle_invite_declined",disabled:$e,autoClogProps:ce},r.a.createElement("span",{className:"p-huddle_invite__label"},q.t("Decline"))),jt=r.a.createElement(k.a,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:Ke,onClick:ze,disabled:$e,autoClogProps:he},r.a.createElement("span",{className:"p-huddle_invite__label"},q.t("Be there soon"))),[Dt,Ee]=Object(a.useState)(!1);Object(a.useEffect)(()=>{let ft=0;return Me&&(Ee(!0),ft=window.setTimeout(()=>{Ee(!1)},6e3)),()=>{ft&&clearTimeout(ft)}},[Me]);const te=Dt?r.a.createElement("div",{className:"p-huddle_invite__header_notif"},r.a.createElement("div",{className:"p-huddle_invite__header_notif_content"},r.a.createElement(R.a,{name:"clock",size:"20"}),r.a.createElement("span",{className:"margin_left_50"},q.t("Join when you\u2019re ready!")))):null,Ae=r.a.createElement(k.a,{ref:ct,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:$e,onClick:Je,"data-qa":"huddle_invite_join",autoClogProps:Se},r.a.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},q.t("Join"))),Ve=Object(i.c)(D.J),Ye=ne&&Ve?{width:Ve}:null;return r.a.createElement(b.a,ve({eventId:ie.EventId.CANVAS_EVENT,uiComponentName:ie.UiComponentName.HUDDLES_INVITE,clogImpression:!0},Te),r.a.createElement("div",ve({className:Object(d.default)("p-huddle_invite",{"p-huddle_invite--with_header":!!Ne,"p-huddle_invite--ia4":ne})},Ye&&{style:Ye}),r.a.createElement("div",{className:"p-huddle_invite__content"},te,Ne&&r.a.createElement("div",{className:"p-huddle_invite__message_header"},Ne),r.a.createElement("div",{className:"p-huddle_invite__message"},!fe&&r.a.createElement("div",{className:Object(d.default)("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!ye})},r.a.createElement(B.c,{key:be,className:"p-huddle_invite__avatar",size:ye?14:20,userId:be,isInteractive:!1}),!!ye&&r.a.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},ye)),r.a.createElement(A.a,null,r.a.createElement("div",{className:"p-huddle_invite__text",id:Et},Xe,r.a.createElement("span",{className:"offscreen"},q.rt("Press {key} to join",{key:Object(L.n)(),fallbackHash:"bd062cb22cea3388535c0f834ebf6df702757691",fallbackHashNs:"keyboard_keys"}))))),r.a.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":Et},Ae,!Me&&jt,Le)),Ue&&r.a.createElement(J.a,{icon:"warning"},q.t("Something went wrong responding to the invite."))))},"HuddleInvite");Oe.displayName="HuddleInvite",s.a=Oe},"2m2s":function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return r});var n=e("LK2A"),t;(function(d){d.BOLD="bold",d.STRIKE="strike",d.ITALIC="italic",d.CODE="code",d.LINK="link",d.UNDERLINE="underline"})(t||(t={}));const a=new Map([[n.DocInlineStyle.BOLD,t.BOLD],[n.DocInlineStyle.STRIKETHROUGH,t.STRIKE],[n.DocInlineStyle.ITALIC,t.ITALIC],[n.DocInlineStyle.CODE,t.CODE],[n.DocInlineStyle.LINK,t.LINK]]);function r(d){return a.get(d)}m(r,"inlineStyleToFormat")},"2xcd":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),r=e("nNoG"),d=e("i9y5"),o=e("+bQA");const i=new r.b("form_inputs"),h={count:a.default.number,theme:a.default.oneOf(["light","dark"]),spinnerSize:a.default.string},l={count:0,theme:"light",spinnerSize:"large"},u=m(c=>{let{count:E,theme:v,spinnerSize:g}=c;return t.a.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.a.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.a.createElement(d.a,{color:v==="dark"?"white":"blue",size:g,inline:!0})),i.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:E}))},"MultiSelectLoadingText");u.propTypes=h,u.defaultProps=l,s.a=u},3203:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});const n=/^p?(\d{10})\.?(\d{6})$/;function t(r){return!r||!n.test(r)?null:r.replace(n,"$1.$2")}m(t,"formatMessageTimestamp");function a(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now();if(!r)return null;const d=String((+r/1e3).toFixed(6));return t(d)}m(a,"getFormattedMessageTimestamp")},"35RN":function(K,s,e){"use strict";e.d(s,"c",function(){return n}),e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});const n="huddles_play_music_when_last",t="huddles_play_music_timeout",a="huddles_music_player_song_key"},3956:function(K,s,e){"use strict";e.d(s,"a",function(){return C});var n=e("SQ0V"),t=e("4hjS"),a=e("4iK2"),r=e("bcZH"),d=e("uNaj"),o=e("CnKg"),i=e("9Gfp"),h=e("PIf0"),l=e("6inW"),u=e("HoeF");const c=Object(n.c)("Opens member profile in the huddle window flexpane if the window is open",(f,S,D,p)=>{let{memberId:b}=D;const{window:M,windowId:_}=p(h.a);return Object(l.b)(_)&&!!M?(f(Object(u.H)({userId:b})),!0):!1});c.meta={name:"createThunk",key:"createThunkopenProfileInHuddleWindow",description:"Opens member profile in the huddle window flexpane if the window is open"};var E=e("rZ8V"),v=e("I0j/"),g=e("37+L"),O=e("cU/a"),I=e("25cE");const C=Object(n.c)("Show the member profile",function(f,S){let{memberId:D,teamId:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const b=S(),M=Object(t.l)(b);let _,P;if(M===a.a||Object(r.a)(b)){var y;const W=Object(d.a)(),{fileIdOrQuipThreadId:L}=Object(o.i)(W==null||(y=W.params)===null||y===void 0?void 0:y.entityId);_=a.a,P=L}const j=D||Object(i.a)(b);if(!f(c({memberId:j}))){if(Object(E.m)(b)){f(Object(v.a)(Object(g.O)(j)));return}return f(Object(O.a)({routeName:I.s,flexName:"rimeto_profile",flexParams:{memberId:j},flexOrigin:_,flexOriginId:P,teamId:p}))}});C.meta={name:"createThunk",key:"createThunkshowMemberProfile",description:"Show the member profile"}},"3KJg":function(K,s,e){"use strict";e.d(s,"c",function(){return P}),e.d(s,"d",function(){return j}),e.d(s,"b",function(){return R}),e.d(s,"a",function(){return A});var n=e("fujP"),t=e("lhZz"),a=e("Z7Ay"),r=e("O86Y"),d=e("p+AA"),o=e("1Np4"),i=e("PLUl"),h=e("s4P+"),l=e("aVws"),u=e("rIJ2"),c=e("n0Pp"),E=e("4cU5");const v="RTM-EVENT-METRICS",g=4;let O=!1,I;const C=50;function f(){return O?!0:Object(d.a)()?(I===void 0&&(I=Object(u.a)(C),I&&Object(h.b)({label:v}).info("Metrics collection enabled for the current interval.")),I):!1}m(f,"shouldSampleForInterval");let S={},D={},p={},b={},M={},_={};function P(X){let{teamOrEnterpriseId:J,rtmEventType:Y,duration:ie,msgs:de,fromEvtLog:pe}=X;var oe;if(!f())return;const me=Object(r.i)((oe=Object(t.getStoreOrSharedStoreInstanceByTeamOrEnterpriseId)(J))===null||oe===void 0?void 0:oe.getState());me&&(pe&&y({bucket:M,teamOrEnterpriseId:me,eventType:Y,value:de.length}),y({bucket:D,teamOrEnterpriseId:me,eventType:Y,value:1}),y({bucket:p,teamOrEnterpriseId:me,eventType:Y,value:de.length}),y({bucket:b,teamOrEnterpriseId:me,eventType:Y,value:ie}))}m(P,"incrementMetrics");function y(X){let{bucket:J,teamOrEnterpriseId:Y,eventType:ie,value:de}=X;var pe;const oe=(pe=J[Y])!==null&&pe!==void 0?pe:{};var me;const re=(me=oe[ie])!==null&&me!==void 0?me:0;oe[ie]=re+de,J[Y]=oe}m(y,"incrementBucket");function j(X,J){if(Object(n.a)(p)&&Object(n.a)(S)){B();return}const Y=Object.keys({...p,...S}),ie=setInterval(()=>{const de=Object(h.b)({label:v}),pe=Y.pop();if(!pe){de.info("Completed metrics aggregation",{traceId:X.getTraceId()}),clearInterval(ie);return}de.info(`Sending metric report for id: ${pe}`),L({teamOrEnterpriseId:pe,clientMetricsTrace:X,performanceTracingMetatags:J}),W({teamOrEnterpriseId:pe,clientMetricsTrace:X,performanceTracingMetatags:J}),F(pe)},1e3)}m(j,"reportRtmMetrics");function U(X,J){const Y=Object(l.a)(X),ie=Object(t.getStateByTeamId)(Y);return{...J,metric_version:g,slow_connection_count:Object(c.e)(ie)}}m(U,"getMetricsTraceMetatags");function W(X){let{teamOrEnterpriseId:J,clientMetricsTrace:Y,performanceTracingMetatags:ie}=X;const de=S[J];if(!de)return;const pe=Object(o.a)({teamOrEnterpriseId:J}),oe=pe.createMetricsTrace({label:"rtm_incoming",tags:U(J,ie),traceId:Y.getTraceId(),parentSpanId:Y.getRootSpanId()});var me;const re=(me=_[J])!==null&&me!==void 0?me:{};let ve=0,q=0;Object.entries(de).forEach(ce=>{let[he,Se=0]=ce;var se;const H=(se=re[he])!==null&&se!==void 0?se:0;ve+=Se,q+=H,oe.store({name:"rtm_incoming:event_count",value:Se}).addTags({event_type:he,eventlog_count:H,socket_count:Se-H})}),oe.store({name:"rtm_incoming:total_event_count",value:ve}),oe.store({name:"rtm_incoming:total_event_count:socket",value:ve-q}),oe.store({name:"rtm_incoming:total_event_count:eventlog",value:q}),Object(h.b)({label:v}).info(`${J} total incoming event count: ${ve}`),pe.reportTrace(oe)}m(W,"maybeReportRawEventCount");function L(X){let{teamOrEnterpriseId:J,clientMetricsTrace:Y,performanceTracingMetatags:ie}=X;const de=p[J];if(!de)return;const pe=Object(o.a)({teamOrEnterpriseId:J}),oe=pe.createMetricsTrace({label:"rtm_dispatch",tags:U(J,ie),traceId:Y.getTraceId(),parentSpanId:Y.getRootSpanId()});var me;const re=(me=D[J])!==null&&me!==void 0?me:{};var ve;const q=(ve=b[J])!==null&&ve!==void 0?ve:{};var ce;const he=(ce=M[J])!==null&&ce!==void 0?ce:{};let Se=0,se=0;Object.entries(de).forEach(H=>{let[Oe,$]=H;const z=re[Oe],be=q[Oe];if(z===void 0||be===void 0)return;var Z;const G=(Z=he[Oe])!==null&&Z!==void 0?Z:0;Se+=$,se+=G,oe.store({name:"rtm_dispatch:duration",value:be}).addTags({event_type:Oe,total_events:$,total_batches:z,per_event_duration:be/$,eventlog_count:G,socket_count:$-G})}),oe.store({name:"rtm_dispatch:total_event_count",value:Se}),oe.store({name:"rtm_dispatch:total_event_count:socket",value:Se-se}),oe.store({name:"rtm_dispatch:total_event_count:eventlog",value:se}),Object(h.b)({label:v}).info(`${J} total dispatch event count: ${Se}`),pe.reportTrace(oe)}m(L,"maybeReportEventMetrics");function R(X){let{teamId:J,msgs:Y}=X;if(!f())return;const ie=Object(t.getStateByTeamId)(J);var de;const pe=(de=Object(r.i)(ie))!==null&&de!==void 0?de:J,oe=Y.reduce((me,re)=>(!re||!re.type||(me[re.type]?me[re.type]+=1:me[re.type]=1),me),{});Object.entries(oe).forEach(me=>{let[re,ve]=me;y({bucket:S,teamOrEnterpriseId:pe,eventType:re,value:ve}),y({bucket:_,teamOrEnterpriseId:pe,eventType:re,value:ve})})}m(R,"countRawEventsVolumeFromEventLog");function A(X){let{teamId:J,msg:Y}=X;if(!f()||!Y||!Y.type)return;const ie=Object(t.getStateByTeamId)(J);var de;const pe=(de=Object(r.i)(ie))!==null&&de!==void 0?de:J;y({bucket:S,teamOrEnterpriseId:pe,eventType:Y.type,value:1})}m(A,"countRawEventVolume");function B(){I=void 0,S={},p={},D={},b={},M={},_={},Object(h.b)({label:v}).info("Metrics collection sampling has been reset.")}m(B,"resetAllCollections");function F(X){I=void 0,delete S[X],delete p[X],delete D[X],delete b[X],delete M[X],delete _[X],Object(h.b)({label:v}).info(`Metrics collection sampling has been reset for id: ${X}`)}m(F,"resetCollections");const k=m(()=>({rawEventCountBuckets:S,eventCountBuckets:p,batchCountBuckets:D,durationBuckets:b,eventLogEventCountBuckets:M,eventLogRawEventCountBuckets:_}),"debugGetBuckets");Object(a.a)("rtmEventMetrics",{debugGetBuckets:k,debugToggleSampling:()=>{O=!O,B(),Object(h.b)({label:v}).info(`Interval sampling: ${O?"ON":"OFF"}`)},debugReportMetrics:()=>{const X=Object(i.a)(),J=X.createMetricsTrace({samplingOptions:{sampleType:E.g.ALWAYS}});j(J,{}),X.reportTrace(J)}}),Object.defineProperty({resetAllCollections:B,debugGetBuckets:k,reportRtmMetrics:j,intervalSampleCache:I},"intervalSampleCache",{get:()=>I,set:X=>{I=X}})},"3KdQ":function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Upsert fetched ordered membership list for channel");t.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},"3RMI":function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"b",function(){return o});var n=e("Lgge"),t=e("ykb+"),a=e("s4P+"),r=e("G5NC");function d(i,h,l){const u="noversion",c=Date.now()/1e3,E=`/api/${i}?_x_id=${u}-${c}`,v=new XMLHttpRequest;v.onreadystatechange=()=>{if(v.readyState===4){v.onreadystatechange=null;let C={};if(v.status===200||v.status===429)try{C=JSON.parse(v.responseText)}catch{Object(a.b)().warn("API","Unable to do anything with api response")}C=C||{ok:!1},l?l(C.ok,C,h):Object(t.b)()&&(Object(a.b)().warn("API","No callback provided. Printing response"),Object(a.b)().warn("API",C.ok,C,h))}};const g=!0;v.open("POST",E,g);const O=new FormData;let I=!1;h?Object.keys(h).forEach(C=>{C[0]!=="_"&&(O.append(C,h[C]),I=!0)}):Object(t.b)()&&Object(a.b)().warn("API","No args provided. Bold, very bold."),I?v.send(O):v.send()}m(d,"callSlackApiUnauthed");const o=m((i,h)=>new n.a(l=>{d(i,h,(u,c)=>{l(c)})}),"callSlackApiUnauthedAsync");Object(r.a)()||(window.callSlackAPIUnauthed=(i,h,l)=>{Object(a.b)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.js"),d(i,h,l)})},"3RZE":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("DQNL"),o=e("GhjL"),i=e("RVJP"),h=e("O86Y"),l=e("beVI"),u=e("G0eX"),c=e("nNoG"),E=e("CD4m"),v=e("sGXp"),g=e("ZobM"),O=e("dl0f"),I=e("JfyJ");function C(){return C=Object.assign||function(b){for(var M=1;M<arguments.length;M++){var _=arguments[M];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(b[P]=_[P])}return b},C.apply(this,arguments)}m(C,"_extends");const f=new c.b("user_group_entity");function S(b){let{className:M,invert:_,showDescription:P=!0,userGroup:y,userGroupTeamName:j,experimentXwsUsergroupDecoratorsGroupTreatment:U,isDeactivated:W}=b;const L=W||!Object(d.x)(y),R=Object(n.useCallback)(ie=>t.a.createElement("span",{className:"margin_right_50"},t.a.createElement(g.a,C({},ie,{name:"user-groups",size:"18"}))),[]);if(Object(d.u)(y)||Object(d.t)(y)){const ie=Object(r.default)("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":_});return t.a.createElement("div",{className:"c-small_user_group__missing"},t.a.createElement("div",{className:ie},t.a.createElement(g.a,{name:"user-groups",size:"18"})),t.a.createElement(O.a,{type:Object(d.u)(y)?"unknown":"non-existent",invert:_}))}const A=Object(d.i)(y),B=t.a.createElement("span",{className:"c-user_group__name c-small_user_group__name"},A),F=Object(d.e)(y),k=Object(d.m)(y),V="\xB7",X="\xA0\xA0";let J;if(U){const ie=j&&t.a.createElement(t.a.Fragment,null,"\xA0\xA0",t.a.createElement("span",{className:"c-small_user_group__team"},j));J=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"c-small_user_group__count"},"(",f.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:k}),")"),ie)}else J=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"c-small_user_group__count"},[V,X],f.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:k}),F&&[X,V,X]),t.a.createElement("span",{className:"c-small_user_group__description"},F));let Y;return L?Y=v.d.dim:_&&(Y=v.d.highlightDark),t.a.createElement(E.d,{avatar:R,className:M,size:"small",style:Y,text:t.a.createElement(E.c,null,B,P&&J),"data-usergroup-id":y.id})}m(S,"SmallUserGroupEntity"),S.displayName="SmallUserGroupEntity";const D=m((b,M)=>{let{id:_,userGroup:P}=M;const y=P||Object(o.d)(b,_),j=Object(h.g)(b),U=Object(d.k)(y),W=U!==j&&Object(u.h)(Object(l.s)(b,U));return{userGroup:y,userGroupTeamName:W,experimentXwsUsergroupDecoratorsGroupTreatment:Object(i.d)(b,"xws_usergroup_decorators")==="treatment"}},"mapStateToProps");var p=s.a=Object(a.a)(D)(S)},"3V+Q":function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("nNoG");function d(){return d=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}return c},d.apply(this,arguments)}m(d,"_extends");const o=new r.b("app_dialog"),i={block:"block",inline:"inline"};var h;let l=m(class extends(h=t.a.Component){getCursor(){const{cursor:E,htmlFor:v}=this.props;return typeof E>"u"&&v?"pointer":E}renderOptionalTextMaybe(){const{optional:E}=this.props,v=o.t("(optional)");return E?t.a.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},v):null}renderSubtextMaybe(){const{subtext:E}=this.props;return E?t.a.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},E):null}render(){const{className:E,cursor:v,htmlFor:g,optional:O,subtext:I,text:C,type:f,isDisabled:S,dataQaLabel:D,...p}=this.props,b=Object(a.default)("c-label",E,{"c-label--block":f===i.block,"c-label--inline":f===i.inline,"c-label--with_subtext":I,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":S,"c-label--with_formatted_text":typeof C!="string"});return t.a.createElement("label",d({},p,{htmlFor:g,className:b,"data-qa-label":D,"data-qa-label-type":f}),t.a.createElement("span",{className:"c-label__text","data-qa-label-text":!0},C,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.a.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");l.displayName="Label",l.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"};var u=s.b=l},"3cIe":function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},"3i7m":function(K,s,e){K.exports=e.p+"slackbot_frowny_32-8a50a23.png"},"3mGd":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("ZKjC"),t=e("kZhr");const a=Object(n.b)(function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.a;var o,i;return r==null||(o=r.searchHistory)===null||o===void 0||(i=o[d])===null||i===void 0?void 0:i.lastExecutedEncodedSearchString});a.meta={name:"createSelector",key:"createSelectorgetLastExecutedEncodedSearchString",description:function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.a;var o,i;return r==null||(o=r.searchHistory)===null||o===void 0||(i=o[d])===null||i===void 0?void 0:i.lastExecutedEncodedSearchString}}},"3mLu":function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("7nxQ");function t(a){const r=Object(n.i)().toLowerCase();return r==="en-us"?a:`/intl/${r}${a}`}m(t,"getLocalizedPath")},"3vtZ":function(K,s,e){"use strict";e.d(s,"a",function(){return Z}),e.d(s,"b",function(){return G}),e.d(s,"N",function(){return ge}),e.d(s,"f",function(){return ae}),e.d(s,"y",function(){return fe}),e.d(s,"H",function(){return Te}),e.d(s,"e",function(){return Ue}),e.d(s,"d",function(){return Ne}),e.d(s,"g",function(){return Xe}),e.d(s,"cb",function(){return Ke}),e.d(s,"o",function(){return $e}),e.d(s,"p",function(){return ct}),e.d(s,"J",function(){return Tt}),e.d(s,"E",function(){return Et}),e.d(s,"L",function(){return Le}),e.d(s,"I",function(){return jt}),e.d(s,"K",function(){return Dt}),e.d(s,"V",function(){return Ee}),e.d(s,"w",function(){return te}),e.d(s,"c",function(){return Ae}),e.d(s,"B",function(){return Ve}),e.d(s,"A",function(){return Ye}),e.d(s,"db",function(){return ft}),e.d(s,"v",function(){return tt}),e.d(s,"n",function(){return Rt}),e.d(s,"bb",function(){return rt}),e.d(s,"P",function(){return we}),e.d(s,"Q",function(){return xe}),e.d(s,"q",function(){return st}),e.d(s,"r",function(){return at}),e.d(s,"s",function(){return Nt}),e.d(s,"t",function(){return Jt}),e.d(s,"D",function(){return zt}),e.d(s,"X",function(){return Yt}),e.d(s,"eb",function(){return sn}),e.d(s,"u",function(){return dn}),e.d(s,"z",function(){return Mt}),e.d(s,"Y",function(){return yt}),e.d(s,"W",function(){return tn}),e.d(s,"F",function(){return an}),e.d(s,"G",function(){return on}),e.d(s,"x",function(){return ut}),e.d(s,"R",function(){return Wt}),e.d(s,"S",function(){return Ht}),e.d(s,"l",function(){return Pn}),e.d(s,"k",function(){return Mn}),e.d(s,"j",function(){return pt}),e.d(s,"m",function(){return _t}),e.d(s,"M",function(){return xt}),e.d(s,"i",function(){return en}),e.d(s,"C",function(){return Cn}),e.d(s,"Z",function(){return pn}),e.d(s,"ab",function(){return fn}),e.d(s,"T",function(){return Ln}),e.d(s,"U",function(){return _n}),e.d(s,"O",function(){return Un}),e.d(s,"h",function(){return Dn});var n=e("fujP"),t=e("3Hq1"),a=e("lCmp"),r=e("Z0Cl"),d=e("NFsq"),o=e("9068"),i=e("9Gfp"),h=e("C3vN"),l=e("52Wj"),u=e("V+O/"),c=e("E3dU"),E=e("4tnk"),v=e("RVJP"),g=e("LvvF"),O=e("ZOzc"),I=e("JoR1"),C=e("9MPI"),f=e("LZPg"),S=e("GNR7"),D=e("SIMs"),p=e("0dq7"),b=e("ISSR"),M=e("pZC0"),_=e("vfvl"),P=e("/JQq"),y=e("Yauy"),j=e("gVOt"),U=e("E97Y"),W=e("mzZe"),L=e("lhZz"),R=e("sgFo"),A=e("vYXD"),B=e("xwCZ"),F=e("dlm8"),k=e("GlHf"),V=e("Cudo"),X=e("QIbu"),J=e("RBHu"),Y=e("RpF1"),ie=e("kBpe"),de=e("nNoG"),pe=e("Enx8"),oe=e("+CZ0"),me=e("3REw"),re=e("K7jq"),ve=e("RcBX"),q=e("ajVY"),ce=e("UIWO"),he=e("SZMM"),Se=e("r6c4"),se=e("wNji"),H=e("qMw6"),Oe=e("IaLB"),$=e("SpKr"),z=e("Iwbv"),be=e("wk/L"),Z;(function(nt){nt.EXTERNALLY_SHARED_CHANNEL="externally_shared_channel",nt.ADMIN_DISABLED="admin_disabled",nt.UNSUPPORTED_BROWSER="unsupported_browser"})(Z||(Z={}));var G;(function(nt){nt[nt.BROWSER=1]="BROWSER",nt[nt.MAC=2]="MAC",nt[nt.WINDOWS=3]="WINDOWS"})(G||(G={}));const ne=new de.b("huddles"),ge=Object(se.a)(nt=>{const St=Object(z.a)(nt);return((Object(ce.a)(nt)?gn(nt,"allow_huddles"):Object(O.a)(nt,"allow_huddles"))||!1)&&!St});function ae(nt,St){if(!St)return[!1,void 0];if(Object(M.a)(St))return[!1,void 0];const Ut=ge(nt),Gt=Ut||Object(Se.a)(nt,St.id);if(!Ut&&!Object(Se.a)(nt,St.id))return[!1,Z.ADMIN_DISABLED];if(!Object(o.a)(St)||Object(P.a)(nt,St)||Object(y.Z)(nt,St.id)||!Object(W.b)(nt,St.id)||Object(y.lb)(St)||Object(b.a)(St)||Object(_.a)(St)||Object(ve.a)(St)||Object(y.cb)(nt,St)||!Gt)return[!1,void 0];if(Object(A.c)())return[!1,Z.UNSUPPORTED_BROWSER];const On=Object(v.d)(nt,"huddles_channel_properties")==="on";let Xt=!1;if(On){var qt;Xt=!!(!(St==null||(qt=St.properties)===null||qt===void 0)&&qt.huddles_restricted)}else{const $n=Object(C.a)(nt,St.id,"can_huddle");Xt=$n&&($n==null?void 0:$n.enabled)===!1}const Qt=Ot(nt,St.id);return Xt?[!1,Z.ADMIN_DISABLED]:Qt===!1?[!1,Z.ADMIN_DISABLED]:[!0,void 0]}m(ae,"doesChannelSupportHuddlesWithReason");const fe=m(()=>{const nt=Object(L.getClientStoreInstance)();if(!nt)return!1;const St=nt.getState(),Ut=Object(oe.c)(St);return!Object(n.a)(Ut)},"hasActiveHuddleReferenceInClientStore"),Te=m(nt=>{const St=ge(nt),Ut=fe();return St||Ut},"isHuddleEnabledOrHasActiveHuddle");function ye(nt,St){var Ut;const Gt=(Ut=Object(B.g)(nt,St))!==null&&Ut!==void 0?Ut:void 0;return!Object(h.T)(Gt)&&!Object(u.b)(Gt)&&!Object(re.a)(Gt)}m(ye,"canUserBeInvitedToHuddle");function Ue(nt,St){return ae(nt,St)[0]}m(Ue,"doesChannelSupportHuddles");function Ne(nt,St){return ge(nt)?Object(S.e)(nt,St)>0:!1}m(Ne,"doesChannelHaveHuddle");function He(nt,St){const Ut=Object(y.t)(nt,St,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});let Gt=[],On="";if(Object(U.i)(St))Gt=Object(y.I)(nt,St)||[],On="Waiting for others...";else if(Object(U.g)(St)){const Qt=Object(j.a)(St);Qt&&Gt.push(Qt),On=`Waiting for ${Ut}`}else return Ut;const Xt=Object(S.h)(nt)||[];if(Xt.length===0)return On;const qt=Xt.map(Qt=>Qt.userId);return Gt.filter(Qt=>qt.includes(Qt)).map(Qt=>Object(pe.a)(nt,Qt)).join(", ")}m(He,"getDisplayNameActiveParticipants");const ze=new Set([V.a.SpeakingWhenMuted,V.a.UpdateSlack,V.a.RemotePeerMuted,V.a.RemotePeerSlowConnection,V.a.ScreenShareFreeTeam,V.a.NoGroupCallsForFreeTeam,V.a.PeerMuteRequest]),Je=new Set([V.a.SpeakingWhenMuted,V.a.UpdateSlack,V.a.RemotePeerMuted,V.a.RemotePeerSlowConnection,V.a.ScreenShareFreeTeam,V.a.NoGroupCallsForFreeTeam]);function Xe(nt){return Object(V.g)(nt).find(Ut=>!ze.has(Ut.type))}m(Xe,"getAlertForHuddlesBanner");function Me(nt){return Te(nt)&&!!Xe(nt)}m(Me,"shouldShowHuddlesBanner");function Ke(nt){const St=Object(L.getStateForClientStore)();return Me(nt)&&!Object(oe.l)(St)}m(Ke,"shouldShowHuddlesBannerInWorkspace");function $e(nt,St,Ut){const Gt=Object(S.e)(nt,St),On=Object(c.d)(nt,St),Xt=Object(U.d)(On)||void 0,qt=Object(L.getStateForClientStore)(),{callId:Qt}=Object(oe.p)(qt)||{};return{channel_id:St,channel_type:Xt,num_participants:Gt,is_recommended:Ut,room_id:Qt}}m($e,"getHuddlesClogContext");function ct(nt,St){return{...$e(nt,St),window_focused:Object(k.m)(nt),window_visible:Object(E.k)(nt)}}m(ct,"getHuddlesClogContextForBackgroundActions");function Tt(nt){return[p.a.STARTING,p.a.PENDING,p.a.COMPLETING_PRE_JOIN].includes(nt)}m(Tt,"isHuddleLoadingState");function Et(nt){return Tt(nt)||nt===p.a.STARTED}m(Et,"isHuddleActiveState");function Le(nt){return Tt(nt)||nt===p.a.ENDING}m(Le,"isHuddleTransitionState");function jt(nt){return[p.a.NOT_STARTED,p.a.SURVEY,p.a.SURVEY_GOOD].includes(nt)}m(jt,"isHuddleEndState");function Dt(nt){return[p.a.SURVEY,p.a.SURVEY_GOOD].includes(nt)}m(Dt,"isHuddleSurveyState");function Ee(nt,St){const Ut=Object(i.a)(nt);return!!Object(S.g)(nt,St).find(Gt=>{let{id:On}=Gt;return On===Ut})}m(Ee,"isUserHuddlingInChannel");function te(nt){var St;const Ut=nt==null||(St=nt.meeting)===null||St===void 0?void 0:St.ExternalMeetingId;var Gt;return(Gt=Ut==null?void 0:Ut.split("-")[1])!==null&&Gt!==void 0?Gt:null}m(te,"getRoomIdFromCredentials");function Ae(nt,St,Ut){if(!St)return!1;const Gt=Object(y.T)(Object(c.m)(nt,St.id));return!(!ge(nt)||!Object(o.a)(St)||Object(h.jb)(St)&&!Ut||!Object(h.N)(St)||Gt)}m(Ae,"canHuddleWithMember");function Ve(nt){return nt===p.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE||nt===p.d.INITIAL_ALONE_NOTICE_ACTIVE}m(Ve,"isAloneInHuddleCoachmarkOpen");function Ye(nt){return nt===p.d.INITIAL_ALONE_NOTICE_DISMISSED||nt===p.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED}m(Ye,"isAloneInHuddleCoachmarkDismissed");function ft(nt,St,Ut){var Gt,On;if(St===null||Object(S.e)(nt,St)>0||((Gt=Object(oe.f)(Object(L.getStateForClientStore)()))===null||Gt===void 0?void 0:Gt.channelId)===St)return!1;const Xt=Object(c.d)(nt,St);if(!Xt||!Object(o.a)(Xt))return!1;if(Ut)return!0;if(!Xt||Object(U.h)(Xt))return!1;const qt=Object(F.d)(nt,St),Qt=Object(I.t)(nt,"huddles_show_shouty_rooster"),$n=qt==null||(On=qt.counts)===null||On===void 0?void 0:On.member_count;return!(!$n||$n<=J.q||Qt===!1)}m(ft,"shouldShowHuddlesShoutyRoosterWarning");function tt(nt){return J.g}m(tt,"getParticipantLimit");function Rt(){return Object(ie.p)()?Object(ie.i)()?ne.t("Command + Shift + H"):ne.t("Command + Shift + Option + H"):Object(ie.i)()?ne.t("Ctrl + Shift + H",{fallbackHash:"dd419ad8c41aa45554059b0e4a54e75fe21b1e1b"}):ne.t("Ctrl + Shift + Alt + H",{fallbackHash:"6975e2b6527423e4f9f6019c7433b21d3222caf3"})}m(Rt,"getHuddleToggleKeyboardShortcutString");const rt=m((nt,St,Ut)=>{const Gt=ge(nt)&&Object(R.m)(nt);if(St)return Gt&&Ae(nt,St);if(Ut){const On=Object(c.d)(nt,Ut),Xt=On&&Ue(nt,On);return Gt&&Xt}return Gt},"shouldShowCallMenuHuddleDiscoveryLink"),we=m((nt,St)=>Object(t.a)(St)?Object(O.a)(nt,"allow_huddles_transcriptions")||!1:Object(ce.a)(nt)?Zt(nt,"allow_huddles_transcriptions",St):Object(O.a)(nt,"allow_huddles_transcriptions")||!1,"isHuddlesTranscriptionsEnabledForChannel"),xe=m(nt=>Object(ce.a)(nt)?gn(nt,"allow_huddles_transcriptions"):Object(O.a)(nt,"allow_huddles_transcriptions")||!1,"isHuddlesTranscriptionsEnabledForOrgWorkspaces"),st=m((nt,St)=>{const Ut=Object(i.a)(nt);return Object(B.g)(nt,Object(f.Y)(St)?Ut:St.userId)},"getMemberFromPeer"),ke=m((nt,St)=>Object(g.b)(nt,St==null?void 0:St.id)?ne.t("Name hidden"):Object(l.e)(St)||Object(l.c)(St),"getMemberName"),lt=m((nt,St)=>{const Ut=Object(i.a)(nt);if(Object(f.Z)({id:St}))return Object(B.g)(nt,Ut);const Gt=Object(S.C)(nt,St);if(Gt)return st(nt,Gt)},"getMemberFromPeerId"),at=m((nt,St)=>{const Ut=st(nt,St);return ke(nt,Ut)},"getMemberNameFromPeer"),ht=m((nt,St)=>{if(!St)return;const Ut=lt(nt,St);return ke(nt,Ut)},"getMemberNameFromPeerId"),Nt=m((nt,St)=>{const Ut=Object(B.g)(nt,St);return ke(nt,Ut)},"getMemberNameFromUserId"),Jt=m((nt,St)=>{const Ut=Object(B.g)(nt,St);return Object(h.x)(Ut)},"getMemberPronounsFromUserId"),zt=m(nt=>{let{state:St,roomId:Ut}=nt;const Gt=Object(S.r)(St,Ut);return!Gt||Gt.hasEnded?!1:Gt.allParticipants.length===0?!0:!(Gt.allParticipants.length>0&&Gt.activeParticipants.length===0)},"isHuddleActive"),Yt=m(nt=>{let{state:St,roomId:Ut,userId:Gt}=nt;if(!Ut||!Gt||!zt({state:St,roomId:Ut}))return!1;const On=Object(S.r)(St,Ut);return On?Object(a.a)(On.activeParticipants,Xt=>Object(me.g)(Xt)&&Xt.slackId===Gt):!1},"isUserInActiveHuddle"),sn=m(nt=>{let{state:St,roomId:Ut,userId:Gt}=nt;if(!Ut||!Gt||zt({state:St,roomId:Ut}))return!1;const On=Object(S.r)(St,Ut);return On?Object(a.a)(On.allParticipants,Xt=>Object(me.g)(Xt)&&Xt.slackId===Gt):!1},"wasUserInEndedHuddle"),dn=m(nt=>{let{participantsIds:St,userIdsToExclude:Ut}=nt;return!St||!St.length?[]:Object(r.a)(St,Gt=>!Object(d.a)(Ut,Gt))},"getParticipantIdsFiltered"),Mt=m(nt=>{let{state:St,channel:Ut,roomId:Gt}=nt;if(!Ut||!Gt||!Object(U.g)(Ut))return!1;const On=Object(j.a)(Ut),Xt=Object(S.r)(St,Gt);return Xt?!Yt({state:St,roomId:Gt,userId:On})&&Object(a.a)(Xt.allParticipants,qt=>Object(me.g)(qt)&&qt.slackId===On):!1},"hasImUserJoinedAndLeft"),yt=m((nt,St)=>{if(!St)return!1;const Ut=Object(c.d)(nt,St);if(!Ut)return!1;const Gt=Ue(nt,Ut);return!!Ut&&!Object(y.pb)(Ut)&&!Object(P.a)(nt,Ut)&&!!Gt},"isValidChannelForHuddleNux"),tn=m((nt,St)=>{let{channelId:Ut}=St;if(!Ut)return!1;const Gt=Object(L.getStateForClientStore)(),Xt=Object(oe.b)(Gt)===Ut;return Ee(nt,Ut)&&!Xt},"isUserHuddlingOnAnotherDevice"),an=m(nt=>{let{isDM:St,escImOrMpimMemberIds:Ut,huddlesDisabledUserIds:Gt}=nt;return St&&Ut&&Gt&&Gt.length===1&&Gt[0]===Ut[0]},"isHuddleDisabledForDM"),on=m(nt=>{let{isMPDM:St,escImOrMpimMemberIds:Ut,huddlesDisabledUserIds:Gt}=nt;return St&&Ut&&Gt&&Gt.length===Ut.length-1},"isHuddleDisabledForMPDM"),ut=m(()=>Object(he.d)()?Object(ie.p)()?G.MAC:G.WINDOWS:G.BROWSER,"getTitlebarVariant");function Ot(nt,St){return Zt(nt,"allow_huddles",St)}m(Ot,"getIsHuddlesAllowedTeamPrefForChannel");function Wt(nt,St){return Object(t.a)(St)?Object(O.a)(nt,"allow_huddles_video")||!1:Object(ce.a)(nt)?Zt(nt,"allow_huddles_video",St):Object(O.a)(nt,"allow_huddles_video")||!1}m(Wt,"isHuddlesVideoEnabledForChannel");function Ht(nt){return Object(ce.a)(nt)?gn(nt,"allow_huddles_video"):Object(O.a)(nt,"allow_huddles_video")||!1}m(Ht,"isHuddlesVideoEnabledForOrgWorkspaces");function Zt(nt,St,Ut){if(Object(ce.a)(nt)){const Gt=Object(c.d)(nt,Ut);return Object(U.j)(Gt)?Object(q.d)(nt,St):Object(q.b)(nt,St,Ut)}return Object(O.a)(nt,St)||!1}m(Zt,"getIsHuddlesOrgAllowedPrefEnabledForChannel");function gn(nt,St){return Object(q.d)(nt,St)}m(gn,"isCurrentUserWhoCanDoTeamPrefOnSelfWorkspaces");function Pn(nt,St){let{huddleId:Ut}=St;var Gt;const On=Object(D.V)(nt,{huddleId:Ut});return{canvas_thread_channel_id:On==null?void 0:On.channelId,canvas_thread_id:On==null||(Gt=On.ts)===null||Gt===void 0?void 0:Gt.replace(".","")}}m(Pn,"getHuddleClogContext");function Mn(nt){return{canvas_huddle_session_id:Object(oe.d)(nt)}}m(Mn,"getHuddleClogClientContext");function pt(nt){const St=Object(oe.a)(nt),Ut=Object(oe.b)(nt);return{room_id:St,channel_id:Ut}}m(pt,"getHuddleClogCallsContext");function _t(nt){return!nt||nt.closed?null:nt.innerWidth<=Y.g?X.b.WINDOW_COMPACT:X.b.WINDOW_FULL}m(_t,"getHuddleSurfaceFromWindowSize");function xt(nt){const Ut=nt.screen.availTop,Gt=isNaN(Ut)?!0:Math.abs(Ut-nt.screenTop)<=20,On=nt.screen.availLeft,Xt=isNaN(On)?!0:Math.abs(On-nt.screenLeft)<=20,qt=Math.abs(nt.screen.availHeight-nt.outerHeight)<=20,Qt=Math.abs(nt.screen.availWidth-nt.outerWidth)<=20;return Gt&&Xt&&(qt&&Qt)}m(xt,"isHuddleWindowMaximized");function en(nt){let{self:St,peers:Ut}=nt;const On=Ut.filter(qt=>qt.isCameraEnabled).length||St.isCameraEnabled&&!St.isHidingSelf,Xt=Ut.length+(St.isHidingSelf?0:1);if(On){if(Xt>=5)return Y.c;if(Xt===4)return Y.d;if(Xt===3)return Y.b}return Y.a}m(en,"getCompactWindowDefaultHeight");const Cn=m(nt=>Object(he.e)()?!!nt.document.fullscreenEnabled:!1,"isFullscreenEnabled"),pn=m(nt=>!!nt.document.fullscreenElement,"isWindowFullscreen"),fn=m((nt,St)=>St?nt.document.body.requestFullscreen():nt.document.exitFullscreen(),"setFullscreen");function Ln(nt){let{message:St,parentMessage:Ut,viewContext:Gt}=nt;return!!(Ut&&Ut.room_id&&(!Gt||H.a.MESSAGE_PANE===Gt)&&(St==null?void 0:St.ts)!==(St==null?void 0:St.thread_ts))}m(Ln,"isMessageHuddleRecapMessage");function _n(nt){if(Object(Oe.l)(nt))return!1;const Ut=Object($.a)(nt);return Ut?Ut<=5:!0}m(_n,"isSelfUserNewToHuddles");function Un(nt){return ge?Object(be.c)(nt):!1}m(Un,"isHuddlesPageEnabled");function Dn(nt){const Ut=Object(c.i)(nt),Gt=[];return Ut.forEach(On=>{Gt.length<3&&Ue(nt,On)&&Gt.push(On)}),Gt}m(Dn,"getChannelHuddleSuggestionsForNUX")},"4+kD":function(K,s,e){K.exports=e.p+"slack_logo-ebd02d1.svg"},"42/h":function(K,s,e){K.exports=e.p+"template_screenshot_help-28aeb89.png"},"4CqU":function(K,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("Lgge"),t=e("n3tL"),a=e("S1sa"),r=e("4TP3"),d=e("SQ0V"),o=e("E97Y"),i=e("gVOt"),h=e("lhZz"),l=e("9Gfp"),u=e("O86Y"),c=e("E3dU"),E=e("y6S6"),v=e("yQzy");const g=Object(d.c)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(O,I){let{channelId:C,userIds:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const S=I(),[D,p]=Object(a.a)(f,_=>Object(E.d)(S,C,_)),b=Object(c.d)(S,C);if(Object(o.g)(b)){const _=Object(i.a)(b),P=Object(l.a)(S);Object(r.a)(p,_,P),f!=null&&f.includes(_)&&D.push(_),f!=null&&f.includes(P)&&D.push(P)}const M={};return D.forEach(_=>{M[_]=Object(E.b)(S,C,_)}),p.length?Object(h.dispatchForTeamId)(Object(u.g)(S),Object(v.a)({channelId:C,userIds:p})).then(_=>_&&_.payload&&_.payload.membershipInfo?{membershipInfo:{..._.payload.membershipInfo,...M}}:{membershipInfo:M}):n.a.resolve({membershipInfo:M})});g.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"},g.propTypes={channelId:t.default.string.isRequired,userIds:t.default.array.isRequired}},"4Fy9":function(K,s,e){K.exports=e.p+"slackbot_frowny_24-2246c7b.png"},"4GGS":function(K,s,e){"use strict";var n=e("vJtL"),t=e("s4P+"),a=e("ykb+"),r=e("mXhK"),d=e("Z7Ay");let o=[];const i=Object(t.b)(),h=Object(r.b)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(c,E,v)=>{const g=[],O=c.getState();o.forEach(f=>{g.push(f(O,v))});const I=E(v),C=c.getState();return o.forEach((f,S)=>{const D=f(C,v);if(g[S]!==D){const p=["Redux Watcher:",`Value has changed! 
Action: `,v,`
Before: `,g[S],`
After:  `,D];if(g[S]!==void 0&&D!==void 0){const b=g[S]===void 0?{}:g[S],M=D===void 0?{}:D;p.push(`
Diff: `,Object.keys({...b,...M}).filter(_=>b[_]!==M[_]).map(_=>({key:_,before:b[_],after:M[_]})))}if(i.warn(...p),Object(a.b)()||Object(a.c)())debugger}}),I});h.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"},s.a=h;function l(c){if(!Object(n.a)(c)){i.error("watcherFn passed in to addWatcher must be a function");return}o.push(c)}m(l,"addWatcher");function u(){o=[]}m(u,"clearAllWatchers"),Object(d.a)("reduxWatcher",{addWatcher:l,clearAllWatchers:u})},"4HNC":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("BJra"),d=e("sGXp");function o(){return o=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(l[E]=c[E])}return l},o.apply(this,arguments)}m(o,"_extends");let i=m(class extends n.Component{render(){const{className:u,ariaLabel:c,primaryContent:E,secondaryContent:v,size:g=d.c.medium,style:O=d.d.normal,padding:I=d.b.normal}=this.props;return t.a.createElement("div",o({className:Object(a.default)(u,"c-base_list_entity",`c-base_list_entity--${g}`,{"c-base_list_entity--dim":O===d.d.dim,"c-base_list_entity--highlight-dark":O===d.d.highlightDark,"c-base_list_entity--highlight-dim":O===d.d.highlightDim,"c-base_list_entity--highlight-light":O===d.d.highlightLight,"c-base_list_entity--no-pad":I===d.b.none})},Object(r.a)(this.props),{"aria-label":c}),t.a.createElement("div",{className:"c-base_list_entity__primary_content"},E),v&&t.a.createElement("div",{className:"c-base_list_entity__secondary_content"},v))}},"BaseListEntity");i.displayName="BaseListEntity";var h=s.a=i},"4KfL":function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"b",function(){return i});var n=e("RVJP"),t=e("dmdh"),a=e("ZOzc");const r="canvas_version_history_enabled",d=m(h=>Object(a.a)(h,r),"getCanvasVersionHistoryEnabledTeamPref"),o=m((h,l)=>{const u=Object(t.e)(h,l);return u?u.team_pref_version_history_enabled:!1},"getOwnerCanvasVersionHistoryEnabledTeamPref"),i=m((h,l)=>{const u=Object(n.d)(h,"canvas_9740")==="on";if(u&&!l)return!1;const c=!!d(h);return u?c&&!!o(h,l):c},"isCanvasVersionHistoryEnabled")},"4MOp":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("Xfqj");let t=null;function a(){if(t===null){var r,d;t=(document==null||(r=document.documentElement)===null||r===void 0||(d=r.dataset)===null||d===void 0?void 0:d.app)===n.a.APP_POPOUTS}return t}m(a,"isAppPopouts")},"4SNR":function(K,s,e){K.exports=e.p+"template_screenshot_triage_slack-9ef91ec.png"},"4Vim":function(K,s,e){"use strict";e.d(s,"b",function(){return r}),e.d(s,"a",function(){return d}),e.d(s,"c",function(){return o});var n=e("ZKjC"),t=e("UOL+");const a=Object(n.b)(i=>{var h;return(h=Object(t.a)(i))===null||h===void 0?void 0:h.quipDocEmbeds});a.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:i=>{var h;return(h=Object(t.a)(i))===null||h===void 0?void 0:h.quipDocEmbeds}};const r=Object(n.b)(i=>{const h=a(i);return h&&Object.keys(h).length>0});r.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:i=>{const h=a(i);return h&&Object.keys(h).length>0}};const d=Object(n.b)(i=>{const h=a(i);return Object.keys(h)});d.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:i=>{const h=a(i);return Object.keys(h)}};const o=Object(n.b)((i,h)=>{const l=a(i);var u;return((u=l[h])!==null&&u!==void 0?u:0)>0});o.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(i,h)=>{const l=a(i);var u;return((u=l[h])!==null&&u!==void 0?u:0)>0}}},"4YJR":function(K,s,e){"use strict";e.d(s,"t",function(){return t}),e.d(s,"w",function(){return a}),e.d(s,"U",function(){return r}),e.d(s,"D",function(){return d}),e.d(s,"l",function(){return o}),e.d(s,"K",function(){return i}),e.d(s,"a",function(){return h}),e.d(s,"W",function(){return l}),e.d(s,"Q",function(){return u}),e.d(s,"R",function(){return c}),e.d(s,"O",function(){return E}),e.d(s,"m",function(){return v}),e.d(s,"e",function(){return g}),e.d(s,"b",function(){return O}),e.d(s,"A",function(){return I}),e.d(s,"f",function(){return C}),e.d(s,"C",function(){return f}),e.d(s,"M",function(){return S}),e.d(s,"L",function(){return D}),e.d(s,"N",function(){return p}),e.d(s,"k",function(){return b}),e.d(s,"G",function(){return M}),e.d(s,"F",function(){return _}),e.d(s,"E",function(){return P}),e.d(s,"d",function(){return y}),e.d(s,"c",function(){return j}),e.d(s,"h",function(){return U}),e.d(s,"g",function(){return W}),e.d(s,"S",function(){return L}),e.d(s,"T",function(){return R}),e.d(s,"I",function(){return A}),e.d(s,"J",function(){return B}),e.d(s,"q",function(){return F}),e.d(s,"o",function(){return k}),e.d(s,"x",function(){return V}),e.d(s,"v",function(){return X}),e.d(s,"P",function(){return J}),e.d(s,"s",function(){return Y}),e.d(s,"H",function(){return ie}),e.d(s,"z",function(){return de}),e.d(s,"n",function(){return pe}),e.d(s,"u",function(){return oe}),e.d(s,"r",function(){return me}),e.d(s,"y",function(){return re}),e.d(s,"V",function(){return ve}),e.d(s,"p",function(){return q}),e.d(s,"B",function(){return ce}),e.d(s,"i",function(){return he}),e.d(s,"j",function(){return Se});var n=e("DwFS");const t=Object(n.a)("Sets the isAddingProgressiveDisclosureTipTimestamp status");t.meta={name:"createAction",key:"createActionsetIsAddingProgressiveDisclosureTipTimestamp",description:"Sets the isAddingProgressiveDisclosureTipTimestamp status"};const a=Object(n.a)("Sets the isSetupCoachmarkShowing status");a.meta={name:"createAction",key:"createActionsetIsSetupCoachmarkShowing",description:"Sets the isSetupCoachmarkShowing status"};const r=Object(n.a)("Updates the team name");r.meta={name:"createAction",key:"createActionsetTeamNameValue",description:"Updates the team name"};const d=Object(n.a)("Updates current user full name");d.meta={name:"createAction",key:"createActionsetProfileStepFullNameValue",description:"Updates current user full name"};const o=Object(n.a)("Sets current step of the team creation setup wizard");o.meta={name:"createAction",key:"createActionsetCurrentStep",description:"Sets current step of the team creation setup wizard"};const i=Object(n.a)("Sets the current setup creation flow (ex: default vs shared channel vs. tada from pricing or promo)");i.meta={name:"createAction",key:"createActionsetSetupCreationFlow",description:"Sets the current setup creation flow (ex: default vs shared channel vs. tada from pricing or promo)"};const h=Object(n.a)("Add channels as users selects them");h.meta={name:"createAction",key:"createActionaddChannel",description:"Add channels as users selects them"};const l=Object(n.a)("Update the name of a channel");l.meta={name:"createAction",key:"createActionupdateChannel",description:"Update the name of a channel"};const u=Object(n.a)("Set skipped invites");u.meta={name:"createAction",key:"createActionsetSkippedInvites",description:"Set skipped invites"};const c=Object(n.a)("Set skipped select people");c.meta={name:"createAction",key:"createActionsetSkippedPeople",description:"Set skipped select people"};const E=Object(n.a)("Set shared invite link");E.meta={name:"createAction",key:"createActionsetSharedInviteLink",description:"Set shared invite link"};const v=Object(n.a)("Set invite emails");v.meta={name:"createAction",key:"createActionsetEmails",description:"Set invite emails"};const g=Object(n.a)("Remove email");g.meta={name:"createAction",key:"createActionremoveEmail",description:"Remove email"};const O=Object(n.a)("Clear invite emails");O.meta={name:"createAction",key:"createActionclearEmails",description:"Clear invite emails"};const I=Object(n.a)("Set selected members");I.meta={name:"createAction",key:"createActionsetMembers",description:"Set selected members"};const C=Object(n.a)("Remove selected member");C.meta={name:"createAction",key:"createActionremoveMember",description:"Remove selected member"};const f=Object(n.a)("Set Joiner setup people step is loading");f.meta={name:"createAction",key:"createActionsetPeopleStepIsLoading",description:"Set Joiner setup people step is loading"};const S=Object(n.a)("Sets the shared-invite details");S.meta={name:"createAction",key:"createActionsetSharedInviteDetails",description:"Sets the shared-invite details"};const D=Object(n.a)("Sets the shared-invite acceptance result");D.meta={name:"createAction",key:"createActionsetSharedInviteAcceptanceResult",description:"Sets the shared-invite acceptance result"};const p=Object(n.a)("Sets the error result for fetching shared-invite info");p.meta={name:"createAction",key:"createActionsetSharedInviteInfoError",description:"Sets the error result for fetching shared-invite info"};const b=Object(n.a)("Set store state for progressive disclosure tips");b.meta={name:"createAction",key:"createActionsetCurrentProgressiveDisclosureTip",description:"Set store state for progressive disclosure tips"};const M=Object(n.a)("Save a timer for delayed progressive disclosure tip");M.meta={name:"createAction",key:"createActionsetProgressiveDisclosureTipTimer",description:"Save a timer for delayed progressive disclosure tip"};const _=Object(n.a)("Set progressive disclosure sent message counter");_.meta={name:"createAction",key:"createActionsetProgressiveDisclosureSentMessageCounter",description:"Set progressive disclosure sent message counter"};const P=Object(n.a)("Set progressive disclosure last message timestamp for Megaphone controlled tip");P.meta={name:"createAction",key:"createActionsetProgressiveDisclosureLastMessageTsForMegaphoneControlledTip",description:"Set progressive disclosure last message timestamp for Megaphone controlled tip"};const y=Object(n.a)("Check if progressive disclosure is currently enabled");y.meta={name:"createAction",key:"createActioninitProgressiveDisclosure",description:"Check if progressive disclosure is currently enabled"};const j=Object(n.a)("Disable progressive disclosure");j.meta={name:"createAction",key:"createActiondisableProgressiveDisclosure",description:"Disable progressive disclosure"};const U=Object(n.a)("Set requestId from the contacts request");U.meta={name:"createAction",key:"createActionsetContactsRequestId",description:"Set requestId from the contacts request"};const W=Object(n.a)("Set calendar contact import step");W.meta={name:"createAction",key:"createActionsetCalendarContactImportStep",description:"Set calendar contact import step"};const L=Object(n.a)("Set teammate invitation suggestions from calendar app");L.meta={name:"createAction",key:"createActionsetSuggestedContactsFromImport",description:"Set teammate invitation suggestions from calendar app"};const R=Object(n.a)("Set teammate invitation external suggestions from calendar app");R.meta={name:"createAction",key:"createActionsetSuggestedExternalContactsFromImport",description:"Set teammate invitation external suggestions from calendar app"};const A=Object(n.a)("Set selected teammates to invite from calendar app suggestions");A.meta={name:"createAction",key:"createActionsetSelectedContacts",description:"Set selected teammates to invite from calendar app suggestions"};const B=Object(n.a)("Set selected external teammates to invite from calendar app suggestions");B.meta={name:"createAction",key:"createActionsetSelectedExternalContacts",description:"Set selected external teammates to invite from calendar app suggestions"};const F=Object(n.a)("Set hasSuccessfullyHuddled value");F.meta={name:"createAction",key:"createActionsetHasSuccessfullyHuddled",description:"Set hasSuccessfullyHuddled value"};const k=Object(n.a)("Set hasSeenHuddlesExplainer value");k.meta={name:"createAction",key:"createActionsetHasSeenHuddlesExplainer",description:"Set hasSeenHuddlesExplainer value"};const V=Object(n.a)("Set isSwitchOnExplainerVisible value");V.meta={name:"createAction",key:"createActionsetIsSwitchOnExplainerVisible",description:"Set isSwitchOnExplainerVisible value"};const X=Object(n.a)("Set isOnboardingHuddlesTipVisible value");X.meta={name:"createAction",key:"createActionsetIsOnboardingHuddlesTipVisible",description:"Set isOnboardingHuddlesTipVisible value"};const J=Object(n.a)("Set showSecondHuddlesTip value");J.meta={name:"createAction",key:"createActionsetShowSecondHuddlesTip",description:"Set showSecondHuddlesTip value"};const Y=Object(n.a)("Set inviterUserId value");Y.meta={name:"createAction",key:"createActionsetInviterUserId",description:"Set inviterUserId value"};const ie=Object(n.a)("Set sidebar index of click on recommended dm for clogging send action");ie.meta={name:"createAction",key:"createActionsetRecommendedDmSidebarIndex",description:"Set sidebar index of click on recommended dm for clogging send action"};const de=Object(n.a)("Set recommended channels for the joiner launchpad page");de.meta={name:"createAction",key:"createActionsetLaunchpadRecommendedChannels",description:"Set recommended channels for the joiner launchpad page"};const pe=Object(n.a)("Set when there are new, unseen joiner launchpad recommendations");pe.meta={name:"createAction",key:"createActionsetHasNewLaunchpadRecommendations",description:"Set when there are new, unseen joiner launchpad recommendations"};const oe=Object(n.a)("Set the value of isFocusedOnEmailInvitesInput");oe.meta={name:"createAction",key:"createActionsetIsFocusedOnEmailInvitesInput",description:"Set the value of isFocusedOnEmailInvitesInput"};const me=Object(n.a)("Set the value of hasUploadedPhoto");me.meta={name:"createAction",key:"createActionsetHasUploadedPhoto",description:"Set the value of hasUploadedPhoto"};const re=Object(n.a)("Set when Welcome DM message suggestion tip is visible");re.meta={name:"createAction",key:"createActionsetIsWelcomeDmTipOpen",description:"Set when Welcome DM message suggestion tip is visible"};const ve=Object(n.a)("Set the channelId when welcome DM message is being sent");ve.meta={name:"createAction",key:"createActionsetWelcomeDmSentToChannel",description:"Set the channelId when welcome DM message is being sent"};const q=Object(n.a)("Set when PD First message flag was shown");q.meta={name:"createAction",key:"createActionsetHasSeenPDFirstMessageFlag",description:"Set when PD First message flag was shown"};const ce=Object(n.a)("Set when PD First message success coachmark was dismissed");ce.meta={name:"createAction",key:"createActionsetPDFirstMessageSuccessClosed",description:"Set when PD First message success coachmark was dismissed"};const he=Object(n.a)("set the current IA4 NFX step");he.meta={name:"createAction",key:"createActionsetCurrentIA4NFXStep",description:"set the current IA4 NFX step"};const Se=Object(n.a)("set the current IA4 NUX step");Se.meta={name:"createAction",key:"createActionsetCurrentIA4NUXStep",description:"set the current IA4 NUX step"}},"4ZsU":function(K,s,e){K.exports=e.p+"ava_0022-72-5a52d67.png"},"4cJY":function(K,s,e){"use strict";e.d(s,"a",function(){return W}),e.d(s,"b",function(){return F});var n=e("7EGn"),t=e("q1tI"),a=e.n(t),r=e("/MKj"),d=e("nNoG"),o=e("zxER"),i=e("E/AO"),h=e("B4ch"),l=e("E97Y"),u=e("E3dU"),c=e("Ccc1"),E=e("dlm8"),v=e("A4eW"),g=e.n(v),O=e("s9Q6"),I=e("beVI"),C=e("G0eX"),f=e("AKIH"),S=e("ktUG"),D=e("Trx9"),p=e("eWGC"),b=e("uVZW"),M=e("rq2v"),_=e("69o4");function P(){return P=Object.assign||function(k){for(var V=1;V<arguments.length;V++){var X=arguments[V];for(var J in X)Object.prototype.hasOwnProperty.call(X,J)&&(k[J]=X[J])}return k},P.apply(this,arguments)}m(P,"_extends");const y=new d.b("huddles"),j={elementName:"cancel",onClick:{enableClogAction:!0}},U={elementName:"start-huddle",onClick:{enableClogAction:!0}},W=m(k=>{let{channelId:V,channelType:X,channelMembersCount:J,isTeamOnTrial:Y,isFreeTeam:ie,trialExpirationTS:de,handleOnSubmit:pe,closeModal:oe,UNSAFE_parentSelector:me}=k;const re=y.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),ve=a.a.createElement(c.a,{channelId:V});let q,ce;switch(X){case l.b.mpim:Y?(q=y.rt("Use this message as a jumping off point for a huddle with anyone in this this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:Object(f.a)(de)}),ce=S.UiComponentVariant.TRIAL_TEAM):ie?(q=y.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."),ce=S.UiComponentVariant.FREE_TEAM):(q=y.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:J}),ce=S.UiComponentVariant.PAID_TEAM);break;case l.b.im:q=y.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:Y?(q=y.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:ve,trialEndDate:Object(f.a)(de)}),ce=S.UiComponentVariant.TRIAL_TEAM):ie?(q=y.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:ve}),ce=S.UiComponentVariant.FREE_TEAM):(q=y.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:J,channelName:ve}),ce=S.UiComponentVariant.PAID_TEAM)}return a.a.createElement(D.a,{uiComponentName:S.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:S.EventId.CANVAS_EVENT,uiComponentVariant:ce},a.a.createElement(i.a,{isOpen:!0,centered:!0,onClose:oe,contentLabel:re,describedby:"huddle-in-thread-speed-bump-modal-body-text","data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:y.t("Start huddle"),title:re,onSubmit:pe,submitAutoClogProps:U,onCancel:oe,cancelAutoClogProps:j,headerImageSrc:g.a,className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:y.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:me},a.a.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},q)))},"BaseHuddleInThreadSpeedBumpModalBase");W.displayName="BaseHuddleInThreadSpeedBumpModalBase";const L=m(k=>{let{channelId:V,onConfirm:X,closeModal:J}=k;const Y=Object(r.useDispatch)(),ie=Object(o.c)(ce=>Object(u.d)(ce,V)),de=Object(l.d)(ie),pe=Object(o.c)(ce=>Object(E.d)(ce,V)),oe=Object(n.a)(pe,"counts.member_count")||0,me=Object(C.F)(Object(o.c)(I.g)),re=Object(o.c)(O.i),ve=Object(o.c)(O.g);Object(t.useEffect)(()=>(Y(Object(p.a)({notificationName:b.h.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:b.f.IMPRESSION})),()=>{Y(Object(_.a)({spaceName:b.g.LAUNCH_MODAL,action:b.f.DISMISS}))}),[Y]);const q=Object(t.useCallback)(()=>{X(),J==null||J()},[J,X]);return a.a.createElement(W,{channelType:de,channelMembersCount:oe,isFreeTeam:me,isTeamOnTrial:re,trialExpirationTS:ve,handleOnSubmit:q,channelId:V,onConfirm:X,closeModal:J})},"HuddleInThreadSpeedBumpModalBase");L.displayName="HuddleInThreadSpeedBumpModalBase";const R={spaceName:b.g.LAUNCH_MODAL,notifications:{[b.h.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:L}}},A=m(k=>{let{channelId:V,onConfirm:X,closeModal:J}=k;return a.a.createElement(M.c,P({},R,{channelId:V,onConfirm:X,closeModal:J}))},"HuddleInThreadSpeedBumpModal");A.displayName="HuddleInThreadSpeedBumpModal";var B=A;const F=Object(h.a)(A)},"4iK2":function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});const n="history",t="main-client-flexpane",a=["comment_thread","files","rimeto_profile","thread"]},"4tnk":function(K,s,e){"use strict";e.d(s,"g",function(){return v}),e.d(s,"k",function(){return C}),e.d(s,"h",function(){return S}),e.d(s,"i",function(){return b}),e.d(s,"j",function(){return M}),e.d(s,"e",function(){return _}),e.d(s,"b",function(){return P}),e.d(s,"d",function(){return y}),e.d(s,"f",function(){return j}),e.d(s,"c",function(){return U}),e.d(s,"a",function(){return W});var n=e("ZKjC"),t=e("Z7Ay"),a=e("O86Y"),r=e("vfQU"),d=e("9Gfp"),o=e("kBpe"),i=e("QOYf"),h=e("BeUZ");const l=Object(n.b)(L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.downloads});l.meta={name:"createSelector",key:"createSelectorgetDownloads",description:L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.downloads}};const u=Object(n.b)(L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.windows});u.meta={name:"createSelector",key:"createSelectorgetWindows",description:L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.windows}};const c=Object(n.b)(function(L){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object(r.Q)();const A=u(L);return A==null?void 0:A[R]});c.meta={name:"createSelector",key:"createSelectorgetWindowState",description:function(L){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object(r.Q)();const A=u(L);return A==null?void 0:A[R]}};const E=Object(n.b)(L=>c(L));E.meta={name:"createSelector",key:"createSelectorgetMainWindowState",description:L=>c(L)};const v=Object(n.b)(L=>!!l(L)&&!!Object(a.g)(L)&&!!Object(d.a)(L)&&Object.values(l(L)[Object(a.g)(L)]||{}).filter(R=>{const A=Object(h.b)(R.appVersion),B=Object(h.b)("4.0.0");return R.appVersion&&Object(h.a)(A,B)!==-1?R.userId&&R.userId===Object(d.a)(L):!0}));v.meta={name:"createSelector",key:"createSelectorgetTeamDownloads",description:L=>!!l(L)&&!!Object(a.g)(L)&&!!Object(d.a)(L)&&Object.values(l(L)[Object(a.g)(L)]||{}).filter(R=>{const A=Object(h.b)(R.appVersion),B=Object(h.b)("4.0.0");return R.appVersion&&Object(h.a)(A,B)!==-1?R.userId&&R.userId===Object(d.a)(L):!0})};const g=Object(n.b)(L=>{const R=v(L);return R&&R.map(A=>{let{id:B}=A;return B})});g.meta={name:"createSelector",key:"createSelectorgetTeamDownloadIds",description:L=>{const R=v(L);return R&&R.map(A=>{let{id:B}=A;return B})}};const O=Object(n.b)(L=>{var R,A;return(L==null||(R=L.desktop)===null||R===void 0||(A=R.environment)===null||A===void 0?void 0:A.titleBarStyle)||(Object(r.kb)()?"frameless":"default")});O.meta={name:"createSelector",key:"createSelectorgetTitleBarStyle",description:L=>{var R,A;return(L==null||(R=L.desktop)===null||R===void 0||(A=R.environment)===null||A===void 0?void 0:A.titleBarStyle)||(Object(r.kb)()?"frameless":"default")}};const I=Object(n.b)(L=>{const R=E(L);return R&&R.frame.isFullScreen});I.meta={name:"createSelector",key:"createSelectorisFullScreen",description:L=>{const R=E(L);return R&&R.frame.isFullScreen}};const C=Object(n.b)(L=>{const R=E(L);return R&&R.frame.isVisible});C.meta={name:"createSelector",key:"createSelectorisMainWindowVisible",description:L=>{const R=E(L);return R&&R.frame.isVisible}};const f=Object(n.b)(L=>{var R,A,B;const F=(R=window)===null||R===void 0?void 0:R.browserWindowId;return F?(A=u(L))===null||A===void 0||(B=A[F])===null||B===void 0?void 0:B.frame.isVisible:!1});f.meta={name:"createSelector",key:"createSelectorisCurrentWindowVisible",description:L=>{var R,A,B;const F=(R=window)===null||R===void 0?void 0:R.browserWindowId;return F?(A=u(L))===null||A===void 0||(B=A[F])===null||B===void 0?void 0:B.frame.isVisible:!1}};const S=Object(n.b)((L,R)=>{var A;const B=c(L,R);return B==null||(A=B.frame)===null||A===void 0?void 0:A.hasVibrancy});S.meta={name:"createSelector",key:"createSelectorhasVibrancy",description:(L,R)=>{var A;const B=c(L,R);return B==null||(A=B.frame)===null||A===void 0?void 0:A.hasVibrancy}};let D=!1,p=!1;const b=Object(n.b)(L=>D||!p&&O(L)==="custom-extension"&&!I(L));b.meta={name:"createSelector",key:"createSelectorisCustomTitlebarShown",description:L=>D||!p&&O(L)==="custom-extension"&&!I(L)};const M=Object(n.b)(L=>p||!D&&O(L)==="frameless"&&Object(o.p)()&&Object(i.a)()&&!I(L));M.meta={name:"createSelector",key:"createSelectorisFrameless",description:L=>p||!D&&O(L)==="frameless"&&Object(o.p)()&&Object(i.a)()&&!I(L)};const _=Object(n.b)(L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.settings});_.meta={name:"createSelector",key:"createSelectorgetSettings",description:L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.settings}};const P=Object(n.b)((L,R)=>{const A=_(L);return!A||A[R]===void 0?Object(r.J)("settings",R):A[R]});P.meta={name:"createSelector",key:"createSelectorgetDesktopSetting",description:(L,R)=>{const A=_(L);return!A||A[R]===void 0?Object(r.J)("settings",R):A[R]}};const y=Object(n.b)(L=>{const R=P(L,"keyboardLayout");return R!==void 0?R:Object(r.pb)()&&Object(r.vb)().currentKeybordLayout});y.meta={name:"createSelector",key:"createSelectorgetKeyboardLayout",description:L=>{const R=P(L,"keyboardLayout");return R!==void 0?R:Object(r.pb)()&&Object(r.vb)().currentKeybordLayout}};const j=Object(n.b)(L=>{var R,A;return L==null||(R=L.desktop)===null||R===void 0||(A=R.app)===null||A===void 0?void 0:A.systemLockedStatus});j.meta={name:"createSelector",key:"createSelectorgetSystemLockedStatus",description:L=>{var R,A;return L==null||(R=L.desktop)===null||R===void 0||(A=R.app)===null||A===void 0?void 0:A.systemLockedStatus}};const U=Object(n.b)(L=>{var R,A;return!!(!(L==null||(R=L.desktop)===null||R===void 0||(A=R.debug)===null||A===void 0)&&A.isPerformanceMonitorEnabled)});U.meta={name:"createSelector",key:"createSelectorgetIsPerformanceMonitorEnabled",description:L=>{var R,A;return!!(!(L==null||(R=L.desktop)===null||R===void 0||(A=R.debug)===null||A===void 0)&&A.isPerformanceMonitorEnabled)}};const W=Object(n.b)(L=>{var R;return(R=L==null?void 0:L.desktop)===null||R===void 0?void 0:R.activeTeamId});W.meta={name:"createSelector",key:"createSelectorgetActiveTeamId",description:L=>{var R;return(R=L==null?void 0:L.desktop)===null||R===void 0?void 0:R.activeTeamId}},Object(t.a)("fakeCustomTitlebar",()=>{if(p){console.error("fakeFrameless is on -- reload first");return}if(!document.querySelector("window-chrome")){const L=document.createElement("window-chrome");L.style.cssText=["display: block","height: 31px","line-height: 31px","text-align: center","background: #000","color: #fff","-webkit-app-region: drag"].join(";"),L.innerText="Fake Windows Title Bar",document.body.prepend(L)}D=!0,p=!1,window.slackDebug.dispatchNoop()}),Object(t.a)("fakeFrameless",()=>{if(D){console.error("fakeCustomTitlebar is on -- reload first");return}const L="fake-mac-traffic-lights";if(!document.querySelector(`#${L}`)){const R=document.createElement("span");R.style.cssText=["position: fixed","top: 0","left: 0","padding: 5px 0 5px 8px","z-index: 9999","line-height: 1"].join(";");const A=m(B=>{const F=document.createElement("span");return F.style.cssText=["display: inline-block",`background: ${B}`,"margin-right: 8px","height: 12px","width: 12px","border-radius: 12px"].join(";"),F},"makeLight");R.appendChild(A("#ff6159")),R.appendChild(A("#ffbd2e")),R.appendChild(A("#28c941")),document.body.appendChild(R)}p=!0,window.slackDebug.dispatchNoop()})},"4unc":function(K,s,e){"use strict";var n=e("zNRp");e.d(s,"a",function(){return n.a}),s.b=n.b},"4w5y":function(K,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("WIr4"),d=e("nNoG"),o=e("G0eX"),i=e("beVI"),h=e("O86Y"),l=e("jWAO"),u=e("SgHf"),c=e("Ufq/");const E=new d.b("enterprise_calls");var v;(function(f){f.GLOBAL="GLOBAL",f.US="US"})(v||(v={}));const g=[{label:E.t("Global",{fallbackHash:"5f1184f7df96c5928092ad9c6b550699bf887826",fallbackHashNs:"enterprise_dashboard"}),value:v.GLOBAL},{label:E.t("US",{fallbackHash:"aa3093554472fd113135bed5b63e12f84c2e9fe8",fallbackHashNs:"enterprise_dashboard"}),value:v.US}];let O=m(class extends n.Component{render(){const{appsState:S,featureCallsLocationLock:D,isLockedByOrgAdmin:p,selectedCallLocation:b,isFreeTeam:M}=this.props,_=S&&S.video&&Object.keys(S.video).find(L=>L==="A00");if(!D||!_||M)return null;const P=g.find(L=>L.value===b),y=D?E.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",j=D?E.t("Call location options"):"Call location options",U=D?E.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",W=D?E.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.a.createElement("span",{className:"p-calls_location_lock__title"},D?E.t("Calls location"):"Calls location"),t.a.createElement("span",{className:"p-calls_location_lock__description"},y),t.a.createElement("div",{className:"p-calls_location_lock__options_container"},t.a.createElement(u.d,{className:"p-calls_location_lock__options",size:"medium",isDisabled:p,options:g,selectedOption:P,onOptionSelected:this.handleOptionSelected,ariaLabel:j}),p&&t.a.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},W))),b===v.US&&t.a.createElement(l.d,{type:l.c.boxed,level:l.b.warning,icon:"warning",align:l.a.left,className:"p-calls_location_lock__alert"},t.a.createElement("span",null,U)))}handleOptionSelected(S){this.props.setSelectedCallLocation(S.value)}constructor(S){super(S),Object(r.a)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");O.displayName="CallsRegionLockOptions";const I=m(f=>{const S=Object(h.d)(f);return{isFreeTeam:!Object(o.J)(Object(i.g)(f))&&!S,featureCallsLocationLock:Object(c.d)(f)}},"mapStateToProps");var C=s.b=Object(a.a)(I)(O)},"5+iz":function(K,s,e){"use strict";e.d(s,"b",function(){return r}),e.d(s,"c",function(){return d}),e.d(s,"e",function(){return o}),e.d(s,"d",function(){return i}),e.d(s,"a",function(){return h});var n=e("ykb+"),t=e("nNoG"),a=e("MzqU");const r=m((l,u)=>{let c=null,E="",v={},g=!1;const{conversation_email_address:O,conversation_email_addresses:I}=l;if(O)c=O.address,E=O.name,v=O.icons,g=!0;else if(I&&I.length>0){const[C]=I;c=C.address,E=C.name,v=C.icons}return c&&u?{address:c,channelId:u,name:E,icons:v,createdNew:g,id:u}:{channelId:u}},"extractChannelEmailAddressFromApi"),d=m(()=>Object(n.e)()||Object(n.i)()?a.b:a.a,"getChannelEmailAddressesAppId"),o=m(l=>{if(l&&l.icons){const{image_36:u,image_48:c,image_72:E,image_original:v}=l.icons,g=u||c||E||v||null;if(g)return{url:g,src:g}}return null},"maybeExtractChannelEmailAddressIcon"),i=m(l=>l&&l.icons&&l.icons.emoji?l.icons.emoji:null,"maybeExtractChannelEmailAddressEmoji"),h=m(l=>[{type:"section",block_id:"cea_ephemeral_msg_blk",text:{type:"plain_text",text:new t.b("channel-email-addresses").t("Now that you have set an email address for {channelDisplayName}, would you like me to share it with everyone else in this channel? They\u2019ll see it along with some brief instructions for how to use it.",{channelDisplayName:l})}},{type:"actions",block_id:"cea_actions_blk",elements:[{type:"button",text:{type:"plain_text",text:"Dismiss"},value:"dismiss",action_id:"cea_dismiss_cta"},{type:"button",style:"primary",text:{type:"plain_text",text:"Share Email Address"},value:"share_email",action_id:"cea_share_email_cta"}]}],"createCeaEphemeralBlocks")},"52XJ":function(K,s,e){"use strict";e.d(s,"c",function(){return E}),e.d(s,"a",function(){return g}),e.d(s,"d",function(){return O}),e.d(s,"b",function(){return I});var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),r=e("lhZz"),d=e("Z7Ay"),o=e("/MKj"),i=e("zxER"),h=e("MRve"),l=e("Cyb+"),u=e("u0LO");let c=1;const E=m((C,f)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:S=!1,component:D=u.c.HuddleCallNudgesBanner}=f;if(!S||!Object(l.f)(C,D,u.a.Click)&&!Object(l.f)(C,D,u.a.Dismiss))return!1;var p;const b=(p=Object(l.a)(C,D,u.a.Click))!==null&&p!==void 0?p:0;var M;const _=(M=Object(l.a)(C,D,u.a.Dismiss))!==null&&M!==void 0?M:0;return!(b>=c||_>=c)},"shouldShowHuddleDiscoveryBanner"),v=m(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:C=!1,component:f=u.c.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:u.c.HuddleCallNudgesBanner};const S=Object(o.useDispatch)();Object(n.useEffect)(()=>{C&&S(Object(h.a)({interactions:[{component:f,type:u.a.Click},{component:f,type:u.a.Dismiss}],useCache:!0,cacheFilter:l.f,reason:"huddle-discovery-calls"}))},[S,C,f])},"useHuddleDiscoveryCallsUserInteractions"),g=Object(a.c)("Send interaction to dismiss nudge",(C,f,S)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:D,interactionType:p}=S;if(!D)return;const b=f();Object(l.a)(b,u.c.HuddleCallNudgesBanner,p)>c||C(Object(h.b)({component:u.c.HuddleCallNudgesBanner,type:p,reason:"huddle-discovery-calls"}))});g.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const O=m(C=>{let{component:f,type:S}=C;const D=Object(o.useDispatch)();return Object(n.useEffect)(()=>{D(Object(h.a)({interactions:[{component:f,type:S}],reason:f}))},[D,f,S]),Object(i.c)(p=>Object(l.f)(p,f,S)?Object(l.i)(p,f):null)},"useTrialProBannerInteraction"),I=Object(a.c)("Record trial pro banner interaction",(C,f,S)=>{let{component:D,type:p}=S;return C(Object(h.b)({component:D,type:p,reason:D}))});I.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},Object(d.a)("huddleInteractionUtils",{addOneMoreThanClickCount:C=>{const f=Object(r.getStateByTeamId)(C);c=Object(l.a)(f,u.c.HuddleCallNudgesBanner,u.a.Click)+1},addOneMoreThanDismissCount:C=>{const f=Object(r.getStateByTeamId)(C);c=Object(l.a)(f,u.c.HuddleCallNudgesBanner,u.a.Dismiss)+1}})},"53Bt":function(K,s,e){"use strict";var n=e("SQ0V"),t=e("O86Y"),a=e("PWAB"),r=e("HMe0"),d=e("1Mwh"),o=e("j77i");const i=Object(n.c)("Entirely replaces tile state",(h,l,u)=>{let{tilesState:c}=u;if(!c)return;const E=Object(t.g)(l());Object(o.x)(E,a.a.TILES,c.tiles),Object(o.x)(E,a.a.LAYOUT,c.layout),Object(o.x)(E,a.a.ACTIVE_TILE,c.activeTile),Object(o.x)(E,a.a.MINIMIZED_LAYOUT,c.minimizedLayout),h(Object(d.f)({tilesState:c}));const v=Object(r.c)(l());Object(o.x)(E,a.a.HISTORY,v)});i.meta={name:"createThunk",key:"createThunkreplaceTileState",description:"Entirely replaces tile state"},s.a=i},"54tk":function(K,s,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),r=e("/MKj"),d=e("nNoG"),o=e("ktUG"),i=e("AKIH"),h=e("+kJ4"),l=e("ohbk"),u=e("q6Tz"),c=e("uVZW"),E=e("TiPP"),v=e("PFo8"),g=e("xLpb"),O=e("ZobM"),C=m(B=>{let{checklistItems:F,checklistHeading:k}=B;return a.a.createElement("div",{className:"p-modal_content_checklist__checklist"},a.a.createElement("div",{className:"p-modal_content_checklist__heading"},k),F.map(V=>a.a.createElement("div",{key:V,className:"p-modal_content_checklist__checklist_item"},a.a.createElement("div",{className:"p-modal_content_checklist__checklist_check"},a.a.createElement(O.a,{name:"check",size:"16",variation:"filled"})),a.a.createElement("div",null,V))))},"ModalContentChecklist"),f=e("j/0O"),S=e("Trx9"),D=e("/cL/"),p=e("dHXs"),b=e("YUBf"),M=e("I0j/"),_=e("37+L"),P=e("mQiU"),y=e("UmHn"),j=e("i5Ig");const U=new d.b("trials"),W={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},L={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},R=m(B=>{let{modalClassName:F,modalCloseButtonTheme:k,modalSubtitle:V,modalTitle:X,modalType:J=g.a.VERTICAL_BANNER,modalVideoClassName:Y,modalVideoFileName:ie,modalLottieAnimation:de,modalVideoPosterExtension:pe="",modalBannerBackgroundColor:oe="",modalChecklistHeading:me="",modalChecklistItems:re=j.a,promoType:ve,promoSubtype:q,imgSrc:ce,isEligibleForTrial:he,startTrialContext:Se,uiPage:se,uiComponentVariant:H,uiStep:Oe,onSpeedbumpContinue:$,onSpeedbumpContinueLabel:z,onTrialStart:be,"data-qa":Z}=B;const{shouldUseNavigate:G}=Object(t.useContext)(P.a),ne=Object(r.useDispatch)(),[ge,ae]=Object(t.useState)(!1),fe=Object(t.useRef)(""),Te=Object(t.useCallback)(()=>{ne(Object(h.a)())},[ne]),ye=Object(t.useCallback)(Object(n.coroutine)(function*(){let{trialExpirationDate:ct}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ct&&(fe.current=ct,yield ne(Object(u.b)({event:{type:c.e.REQUEST_SPACES,spaces:[c.g.SIDEBAR_FOOTER]}})),be==null||be(),ae(!0))}),[ne,be]),Ue=Object(t.useCallback)(()=>{Te(),ne(G?Object(M.a)(Object(_.M)(y.a.PaidBenefits)):Object(l.a)({id:E.a}))},[ne,Te,G]),Ne=Object(t.useCallback)(()=>{Te(),$==null||$()},[Te,$]),He=a.a.createElement(C,{checklistHeading:me,checklistItems:re}),ze=a.a.createElement(p.a,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:W,reason:"start_trial_from_trial_entry_point_modal",context:Se,promoType:ve,promoSubtype:q,onRequestComplete:ye},U.t("Start Free Trial")),Je=a.a.createElement(D.a,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:L,onClick:Te},U.t("See Upgrade Options")),Xe=he?ze:Je,Me=m(()=>{if(!fe.current)return null;const ct=a.a.createElement("div",{className:"display_flex"},a.a.createElement(f.a,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),U.t("Ta-da! Your team\u2019s on a free trial")),Tt=a.a.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},U.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:Object(i.a)(fe.current)})),Le=m(()=>z||($?U.t("Continue"):U.t("Find Out More")),"getContinueButtonLabel")();let jt=U.t("Dismiss"),Dt=Ue,Ee=Te,te="speedbump_learn_more",Ae="speedbump_dismiss";return $&&(jt=U.t("Learn More"),Dt=Ne,Ee=Ue,te="speedbump_continue",Ae="speedbump_learn_more"),a.a.createElement(b.k,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:ct,description:Tt,continueButtonLabel:Le,cancelButtonLabel:jt,onCancel:Ee,onContinue:Dt,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:te,onClick:{enableClogAction:!0}},cancelButton:{elementName:Ae,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");Me.displayName="renderSpeedbump";const Ke=a.a.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},U.t("No credit card required.")),$e=a.a.createElement("div",{className:"p-trial_entry_point_modal__footer"},Xe,he&&Ke,ge&&Me());return a.a.createElement(S.a,{eventId:o.EventId.UPGRDEXP_TRIAL,clogImpression:!0,uiComponentName:o.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:H,uiStep:Oe,uiPage:se},a.a.createElement(v.a,{bannerBackgroundColor:oe,"data-qa":Z,imgSrc:ce,title:X,subtitle:V,bodyContent:He,footerContent:$e,onRequestClose:Te,maxWidth:"586px",className:F,closeButtonTheme:k,type:J,videoFilename:ie,videoPosterExtension:pe,videoClassName:Y,lottieAnimation:de}))},"TrialEntryPointModal");R.displayName="TrialEntryPointModal";var A=s.a=R},"55av":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("n3tL"),o=e("Kmpi"),i=e("Yauy"),h=e("E3dU"),l=e("CD4m"),u=e("sGXp"),c=e("pFNT"),E=e("zNRp"),v=e("e7up"),g=e("Tsh7"),O=e("QaYX"),I=e("NK7x"),C=e("zm5I"),f=e("RVJP"),S=e("xwCZ"),D=e("C3vN"),p=e("+tZp"),b=e("Fn/R"),M=e("zUbs");const _=20,P={id:d.default.string.isRequired,invert:d.default.bool,isDeactivated:d.default.bool,isHidden:d.default.bool,member:d.default.object,memberPrimaryName:d.default.string},y={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},j=t.a.forwardRef((q,ce)=>{const{id:he,invert:Se,member:se,memberPrimaryName:H,isDeactivated:Oe,isHidden:$}=q,z=Object(b.a)(se),be=Object(D.rb)(se),Z=Object(D.V)(se),G=Object(o.c)(se),ne=Object(o.d)(se),ge=G||ne,ae=Se&&!Oe,fe=t.a.createElement(M.a,{"data-qa":"mpim-entity__name",name:H,invert:ae,isAppOrBot:z,isWorkflowBot:be,isDeleted:Z,isNonExistent:G,isUnknown:ne});let Te;ge?Te=t.a.createElement(v.a,{isNonExistent:G,size:_}):Te=t.a.createElement(c.c,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:u.a.small,userId:he,tabIndex:-1,isInteractive:!1});const ye=Object(r.default)("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":Z,"c-small_mpim_entity__member--hidden":$});return t.a.createElement("div",{className:ye,"data-id":he,ref:ce},Te,fe)});j.propTypes=P,j.defaultProps=y;function U(q,ce){let{id:he}=ce;const Se=Object(S.g)(q,he);return{member:Se,memberPrimaryName:Object(p.a)(q,Se,!1,!1)}}m(U,"mapStateToProps");var W=Object(a.a)(U,null,null,{forwardRef:!0})(j),L=e("zxER"),R=e("9Gfp"),A=e("VSuV"),B=e("nNoG");const F=new B.b("channel_token"),k=10,V=m(q=>{let{memberIds:ce}=q;var he;const Se=(he=Object(L.c)(R.a))!==null&&he!==void 0?he:void 0;let se=ce.map((H,Oe)=>t.a.createElement(A.a,{key:H,userId:H,isFirst:Oe===0,isSelf:Se===H}));return ce.length>k+1&&(se=se.slice(0,k).concat(F.rt("{count} others",{count:ce.length-k}))),t.a.createElement(t.a.Fragment,null,Object(B.h)(se))},"TooltipMemberNames");V.displayName="TooltipMemberNames";var X=V,J=e("swWY"),Y=e("Hm4q");function ie(){return ie=Object.assign||function(q){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce];for(var Se in he)Object.prototype.hasOwnProperty.call(he,Se)&&(q[Se]=he[Se])}return q},ie.apply(this,arguments)}m(ie,"_extends");const de=u.a.small,pe={className:d.default.string,"data-qa":d.default.string,"data-sk":d.default.string,mpim:d.default.object,id:d.default.string,invert:d.default.bool,isDeactivated:d.default.bool,memberIds:d.default.array,isActive:d.default.bool,clientTheme:d.default.oneOf(["light","dark"]),matchData:d.default.array,onlyBoldIfUnread:d.default.bool,showUnreadBadge:d.default.bool,unreadCount:d.default.number,shortenTooltipContents:d.default.bool,showAvatar:d.default.bool,experimentSidebarPrefsApplyToMenusGroupOn:d.default.bool},oe={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,experimentSidebarPrefsApplyToMenusGroupOn:!1};function me(q){let{className:ce,"data-qa":he,"data-sk":Se,id:se,invert:H,isDeactivated:Oe,mpim:$,memberIds:z,isActive:be,clientTheme:Z,matchData:G,onlyBoldIfUnread:ne,showUnreadBadge:ge,unreadCount:ae,shortenTooltipContents:fe,showAvatar:Te,experimentSidebarPrefsApplyToMenusGroupOn:ye}=q;const Ue=Object(o.c)($),Ne=Object(o.d)($),He=Object(i.G)($),ze=se||($==null?void 0:$.id),Je=H&&!Oe,Xe=ge&&!!ae&&t.a.createElement(E.b,{className:"c-member__unread_count",count:ae,style:Je?"white":"red","data-qa":"member-entity__mention-badge"}),Me=Xe&&t.a.createElement("span",{className:"c-member__secondary_content"},Xe),Ke=Object(n.useCallback)(Et=>{if(Ue||Ne)return t.a.createElement(v.a,ie({},Et,{isNonExistent:Ue,size:de,invert:Je}));const Le=z==null?void 0:z[0];return t.a.createElement("span",{className:Object(r.default)("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",ce,{"c-small_mpim_entity__mpim_avatars--inverted":Je,[`c-small_mpim_entity__mpim_avatars--${Z}`]:Z!=="light"})},Te&&t.a.createElement(c.c,{userId:Le,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.a.createElement("div",{className:Object(r.default)("c-small_mpim_entity__mpim_counter",{"c-small_mpim_entity__mpim_counter--count-only":!Te&&ye}),"data-qa":"small-mpim-entity-mpim-counter"},t.a.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},He)))},[ce,Z,Ue,Ne,He,Je,z,Te,ye]),$e=Object(n.useCallback)(()=>{let Et;return fe?Et=t.a.createElement(X,{memberIds:z}):Et=z.map(Le=>t.a.createElement(W,{id:Le,key:Le})),t.a.createElement(t.a.Fragment,null,Et)},[z,fe]);let ct=Oe?u.d.dim:null;Je&&(ct=u.d.highlightDark);const Tt=t.a.createElement(l.d,{"data-id":ze,"data-qa":he,"data-sk":Se,avatar:Ke,className:ce,size:"small",style:ct,subtext:Me,text:t.a.createElement(J.a,{"data-qa":"name",id:ze,mpim:$,invert:Je,matchData:G,onlyBoldIfUnread:ne})});return t.a.createElement(g.d,{tip:$e(),tipClassName:fe?"":"c-small_mpim_entity__tooltip",position:"top-right",shouldForceVisible:be,shouldOnlyShowWhenTruncated:be,zIndex:"above_fs"},t.a.createElement("div",null,Tt))}m(me,"SmallMpimEntity"),me.displayName="SmallMpimEntity",me.propTypes=pe,me.defaultProps=oe;function re(q,ce){let{id:he,mpim:Se,matchData:se}=ce;const H=Se||Object(h.d)(q,he),Oe=Object(I.b)(q,he),$=Object(f.d)(q,"sidebar_prefs_apply_to_menus")==="on",z=Object(O.a)({state:q,mpim:H,matchData:se}),be=Object(C.a)(q),Z=Object(i.d)(H,Oe);return{mpim:H,experimentSidebarPrefsApplyToMenusGroupOn:$,memberIds:z,clientTheme:be,unreadCount:Z}}m(re,"small_mpim_entity_mapStateToProps");var ve=s.a=Object(a.a)(re)(me)},"59s5":function(K,s,e){K.exports=e.p+"slackbot_neutral_48-9906623.png"},"5KsB":function(K,s,e){"use strict";var n=e("gSGL"),t=e("nNoG");const a=new t.b("emoji");s.a=function(r){const d=Object(n.a)(r)?r:r.toString(),o={1:()=>a.t("No skin tone"),2:()=>a.t("light skin tone"),3:()=>a.t("medium-light skin tone"),4:()=>a.t("medium skin tone"),5:()=>a.t("medium-dark skin tone"),6:()=>a.t("dark skin tone")},i={"2-3":()=>a.t("left light skin tone and right medium-light skin tone"),"2-4":()=>a.t("left light skin tone and right medium skin tone"),"2-5":()=>a.t("left light skin tone and right medium-dark skin tone"),"2-6":()=>a.t("left light skin tone and right dark skin tone"),"3-2":()=>a.t("left medium-light skin tone and right light skin tone"),"3-4":()=>a.t("left medium-light skin tone and right medium skin tone"),"3-5":()=>a.t("left medium-light skin tone and right medium-dark skin tone"),"3-6":()=>a.t("left medium-light skin tone and right dark skin tone"),"4-2":()=>a.t("left medium skin tone and right light skin tone"),"4-3":()=>a.t("left medium skin tone and right medium-light skin tone"),"4-5":()=>a.t("left medium skin tone and right medium-dark skin tone"),"4-6":()=>a.t("left medium skin tone and right dark skin tone"),"5-2":()=>a.t("left medium-dark skin tone and right light skin tone"),"5-3":()=>a.t("left medium-dark skin tone and right medium-light skin tone"),"5-4":()=>a.t("left medium-dark skin tone and right medium skin tone"),"5-6":()=>a.t("left medium-dark skin tone and right dark skin tone"),"6-2":()=>a.t("left dark skin tone and right light skin tone"),"6-3":()=>a.t("left dark skin tone and right medium-light skin tone"),"6-4":()=>a.t("left dark skin tone and right medium skin tone"),"6-5":()=>a.t("left dark skin tone and right medium-dark skin tone")},h=i[d]?i[d]():null;return h||o[d]&&o[d]()}},"5NQM":function(K,s,e){"use strict";e.d(s,"c",function(){return h}),e.d(s,"b",function(){return l}),e.d(s,"a",function(){return u});var n=e("9oTK"),t=e.n(n),a=e("oTSI"),r=e("ifKl"),d=e("Lgge");const o={didTimeout:!0,timeRemaining:()=>0},i=Object(a.a)(()=>!!(window.requestIdleCallback&&window.cancelIdleCallback));function h(E,v){return i()?window.requestIdleCallback(E,v):window.setTimeout(()=>E(o))}m(h,"requestIdleCallback");function l(E){return i()?window.cancelIdleCallback(E):window.clearTimeout(E)}m(l,"cancelIdleCallback");function u(E){return new d.a(function(v,g){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.a;const I=h(function(){var C=Object(n.coroutine)(function*(f){try{const S=yield d.a.resolve(E(f));v(S)}catch(S){g(S)}});return function(f){return C.apply(this,arguments)}}());O(()=>{l(I)})})}m(u,"awaitIdleCallback");const c={IDLE_DEADLINE_FALLBACK:o}},"5RQ4":function(K,s,e){K.exports=e.p+"beach-33258eb.jpg"},"5U8P":function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t,a){return!t||!a?!1:a(t)?!0:n(t.parentElement||void 0,a)}m(n,"isContainedBy")},"5Vg5":function(K,s,e){K.exports=e.p+"template_card_crowdsource_ideas-28f33da.png"},"5YDL":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("E3dU"),t=e("Yauy");function a(r,d){const o=Object(n.m)(r,d&&d.id);return o?Object(t.R)(o):null}m(a,"getImUnreadCountByMember")},"5Yu9":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("n3tL"),d=e("7JUD"),o=e("AEEY"),i=e("9org"),h=e("i9y5"),l=e("+kJ4"),u=e("9v4y");const c={className:r.default.string,closeModal:r.default.func.isRequired},E={className:void 0};function v(g){return t.a.createElement(d.a,{className:g.className,closeModal:g.closeModal},t.a.createElement(o.a,null,t.a.createElement(i.a,null,t.a.createElement("div",{className:"c-lazy_modal"},t.a.createElement(h.a,null)))))}m(v,"LoadingModal"),v.displayName="LoadingModal",v.propTypes=c,v.defaultProps=E,s.a=Object(a.a)(null,g=>({closeModal:function(){for(var O=arguments.length,I=new Array(O),C=0;C<O;C++)I[C]=arguments[C];return g(Object(l.a)(...I))}}))(v)},"5c3X":function(K,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"c",function(){return f}),e.d(s,"b",function(){return S});var n=e("Yauy"),t=e("g05w"),a=e("y/Pn"),r=e("IMMN"),d=e("NjAx"),o=e("E97Y"),i=e("clOX"),h=e("nePV"),l=e("Vu8N"),u=e("pZC0");const c={...l.a,CantDisconnectExtShared:Symbol("cant_disconnect_ext_shared"),WhoCanManagePref:Symbol("who_can_manage_shared_channels"),WhoCanArchivePref:Symbol("who_can_archive_channels")},E={ok:!1,reason:c.ChannelNotFound},v={ok:!1,reason:c.ChannelTypeNotSupported},g={ok:!1,reason:c.CantDisconnectExtShared},O={ok:!1,reason:c.WhoCanManagePref},I={ok:!1,reason:c.WhoCanArchivePref},C={ok:!0},f=m((D,p)=>{if(!Object(o.e)(p))return E;if(Object(u.b)(D,p))return v;if(Object(a.a)(p)&&!Object(r.a)(D,p))return g;const b=Object(n.i)(p),M=Object(d.p)(D,{channelId:b});if(Object(t.a)(p)){if(M)return C;if(!Object(h.a)(D))return O}return M||Object(i.a)(D,"who_can_archive_channels",p)?Object(l.c)(D,p):I},"canUserArchiveChannelWithReasons"),S=m((D,p)=>f(D,p).ok,"canUserArchiveChannel")},"5eUS":function(K,s,e){"use strict";e.d(s,"b",function(){return C});var n=e("eVCY"),t=e("UUKI"),a=e("AFNo"),r=e("2VFn"),d=e("TdVx"),o=e("OaiI"),i=e("m5HF"),h=e("EAKl"),l=e("RVJP"),u=e("2QJ2"),c=e("Iwbv"),E=e("3vtZ"),v=e("PX9a"),g=e("8gWv"),O=e("kzto");const I={[r.d.Home]:S=>!Object(c.a)(S),[r.d.Activity]:()=>!0,[r.d.DMs]:()=>!0,[r.d.FilesPrototype]:S=>Object(O.a)(S),[r.d.Later]:S=>Object(i.s)(S),[r.d.Assistant]:S=>Object(g.a)(S),[r.d.Canvases]:S=>Object(d.a)(S)&&!Object(c.a)(S),[r.d.Files]:S=>!Object(c.a)(S),[r.d.Channels]:S=>!Object(c.a)(S),[r.d.Platform]:()=>!0,[r.d.People]:S=>!Object(c.a)(S),[r.d.Huddles]:S=>Object(E.O)(S)&&!Object(c.a)(S),[r.d.Browse]:()=>!0,[r.d.SalesHome]:S=>Object(n.u)(S),[r.d.Lists]:S=>Object(o.isListsEnabled)(S)&&!Object(c.a)(S),[r.d.Items]:S=>Object(o.isListsMyItemsEnabled)(S)&&!Object(c.a)(S),[r.d.CRM]:S=>Object(t.a)(S),[r.d.Search]:()=>!0,[r.d.ExternalConnections]:S=>Object(l.d)(S,"external_connections_browser")==="on",[r.d.ExternalConnectionsTemp]:S=>Object(l.d)(S,"external_connections_browser")!=="on",[r.d.ExternalWorkspace]:S=>Object(u.a)(S).eventCount!=="none"||Object(c.a)(S),[r.d.AiSummaryList]:S=>Object(h.b)(S)&&!Object(c.a)(S),[r.d.Records]:S=>Object(v.a)(S)},C=m(S=>Object(a.c)(D=>I[S](D)),"makeSelectVisibleTab"),f=m((S,D)=>C(D)(S),"getTabVisibility");s.a=f},"5pIt":function(K,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"c",function(){return r}),e.d(s,"b",function(){return d});var n=e("ZKjC");const t=Object(n.b)((o,i)=>{var h;return(h=o.channelCanvas)===null||h===void 0?void 0:h.byChannelId[i]});t.meta={name:"createSelector",key:"createSelectorgetByChannelIdState",description:(o,i)=>{var h;return(h=o.channelCanvas)===null||h===void 0?void 0:h.byChannelId[i]}};const a=Object(n.b)((o,i)=>{var h;return(h=t(o,i))===null||h===void 0?void 0:h.tempId});a.meta={name:"createSelector",key:"createSelectorgetChannelCanvasTempId",description:(o,i)=>{var h;return(h=t(o,i))===null||h===void 0?void 0:h.tempId}};const r=Object(n.b)((o,i)=>{var h;return(h=o.channelCanvas)===null||h===void 0?void 0:h.byTempId[i]});r.meta={name:"createSelector",key:"createSelectorgetChannelIdForTempId",description:(o,i)=>{var h;return(h=o.channelCanvas)===null||h===void 0?void 0:h.byTempId[i]}};const d=Object(n.b)((o,i)=>{var h,l;return(l=(h=t(o,i))===null||h===void 0?void 0:h.waitingForLock)!==null&&l!==void 0?l:!1});d.meta={name:"createSelector",key:"createSelectorgetChannelCanvasWaitingForLock",description:(o,i)=>{var h,l;return(l=(h=t(o,i))===null||h===void 0?void 0:h.waitingForLock)!==null&&l!==void 0?l:!1}}},"5ya7":function(K,s,e){"use strict";e.d(s,"a",function(){return M}),e.d(s,"c",function(){return _}),e.d(s,"b",function(){return U});var n=e("4qCO"),t=e("Bkx2"),a=e("Oy0v"),r=e("i5Ig"),d=e("NqdB"),o=e("uZL6"),i=e("beVI"),h=e("WwBA"),l=e("G0eX"),u=e("9Gfp"),c=e("JQ3U"),E=e("zxER"),v=e("AFNo"),g=e("UIhb"),O=e("B+uu"),I=e("YBS9"),C=e("WXix");const f=m(W=>{var L;return Array.isArray((L=W)===null||L===void 0?void 0:L.elements)},"hasElements"),S=m((W,L)=>Object(n.a)(W.emojiName,L.emojiName),"emojiNameSort"),D=new Set(["black_square","bowtie","cubimal_chick","dusty_stick","glitch_crab","piggy","pride","shipit","slack_call","slack","squirrel","thumbsup_all","white_square","simple_smile"]);function p(W){var L;const R=(L=Object(a.a)(W))===null||L===void 0?void 0:L.name;return!!R&&D.has(R)}m(p,"isBuiltInEmoji");function b(W,L,R){return decodeURIComponent(L).includes(Object(h.a)())?!1:!(R&&(Object(t.a)(W,R)||p(R)))}m(b,"isCustomEmoji");const M=Object(v.c)((W,L,R)=>{if(!(L&&Object(u.h)(W)&&b(W,L,R)&&Object(d.a)(W)))return!1;const B=Object(i.i)(W);var F;const k=(F=B==null?void 0:B.id)!==null&&F!==void 0?F:"",V=Object(l.i)(B);return!!V&&L.indexOf(Object(l.b)(k,V))===-1&&L.indexOf(k.slice(1))===-1});M.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(W,L,R)=>{if(!(L&&Object(u.h)(W)&&b(W,L,R)&&Object(d.a)(W)))return!1;const B=Object(i.i)(W);var F;const k=(F=B==null?void 0:B.id)!==null&&F!==void 0?F:"",V=Object(l.i)(B);return!!V&&L.indexOf(Object(l.b)(k,V))===-1&&L.indexOf(k.slice(1))===-1}};function _(W,L){return Object(E.c)(R=>M(R,W,L))}m(_,"useCanImportThisEmoji");function P(W,L){for(const R of L||[])Object(C.a)(R)?R.display_url&&W.set(R.display_url,{emojiName:R.name,emojiUrl:R.display_url}):f(R)&&P(W,R.elements)}m(P,"collectMessageEmojis");function y(W,L){for(const{name:R,url:A}of L||[])A&&W.set(A,{emojiName:R,emojiUrl:A})}m(y,"collectMessageReactjis");const j=Object(o.a)((W,L)=>L,(W,L)=>Object(I.a)(W,Object(O.a)(L)),(W,L)=>{const R=new Map;return y(R,L),P(R,W.blocks),[...R.values()].sort(S)}),U=Object(v.c)((W,L)=>{let{channelId:R,ts:A}=L;if(!Object(d.a)(W)||!Object(u.h)(W))return r.a;const B=Object(g.b)(W,R,A);return!B||Object(c.k)(B)?r.a:j(W,B).filter(F=>{let{emojiName:k,emojiUrl:V}=F;return M(W,V,k)})});U.meta={name:"createSelector",key:"createSelectorgetImportableEmojis",description:(W,L)=>{let{channelId:R,ts:A}=L;if(!Object(d.a)(W)||!Object(u.h)(W))return r.a;const B=Object(g.b)(W,R,A);return!B||Object(c.k)(B)?r.a:j(W,B).filter(F=>{let{emojiName:k,emojiUrl:V}=F;return M(W,V,k)})}}},"68hO":function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("9oTK"),t=e.n(n),a=e("3Hq1"),r=e("Lgge"),d=e("s4P+"),o=e("1Zcw");class i{static getInstance(){if(!i.wakeLockManager)try{i.wakeLockManager=new i}catch(l){Object(d.b)({label:o.c}).warn("Error instantiating WakeLockManager,",l.message)}return i.wakeLockManager}static doesInstanceExist(){return!Object(a.a)(i.wakeLockManager)}request(){var l=this;return Object(n.coroutine)(function*(){if(l.wakeLockSentinel)return r.a.resolve();l.wakeLockSentinel=yield l.wakeLock.request("screen").catch(u=>(l.logger.warn("WakeLock acquire failed",u.message),null)),l.addHandlers()})()}release(){var l=this;return Object(n.coroutine)(function*(){if(!l.wakeLockSentinel)return r.a.resolve();l.shouldRemoveVisibilityHandler=!0,yield l.wakeLockSentinel.release(),l.logger.info("WakeLock released")})()}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}handleWakeLockReleased(){var l=this;return Object(n.coroutine)(function*(){l.logger.info("WakeLock released by browser"),l.cleanupHandlers()})()}handleDocumentVisibilityChange(){var l=this;return Object(n.coroutine)(function*(){document.visibilityState==="visible"&&l.request()})()}constructor(){if(this.logger=Object(d.b)({label:o.c}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}m(i,"WakeLockManager")},"69o4":function(K,s,e){"use strict";var n=e("s4P+"),t=e("SQ0V"),a=e("Lgge"),r=e("uVZW"),d=e("7+Lm"),o=e("u4cD"),i=e("eWGC"),h=e("bJfW");const l=Object(t.c)("record a dismissal on a megaphone notification",(u,c,E)=>{const{spaceName:v,...g}=E,O=E.channelId||E.entityId,I=Object(n.b)();if(!v)return I.error(r.d,"spaceName is required when dispatching recordAndClearNotification."),a.a.resolve();const C=c(),f=Object(d.c)(C,v,O);return Object(h.a)(O)&&E.entityType==="team"?u(Object(o.b)({spaceName:v,channelId:O})):u(Object(o.d)({spaceName:v,channelId:O})),u(Object(i.a)({notificationName:f,...g}))});l.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"},s.a=l},"6Bu2":function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("q1tI"),t=e.n(n),a=e("yxNq");let r=m(class extends n.Component{shouldComponentUpdate(o,i){return!Object(a.a)(o,this.props,3)||!Object(a.a)(i,this.state,3)}},"PureComponentDepth3")},"6DCH":function(K,s,e){"use strict";e.d(s,"a",function(){return C});var n=e("9oTK"),t=e.n(n),a=e("zmn3"),r=e("hbEN"),d=e("kQBZ"),o=e("SQ0V"),i=e("gsmS"),h=e("O86Y"),l=e("8j9e"),u=e("s4P+"),c=e("pgVm"),E=e("WA8N"),v=e("itAW");const g=Object(o.c)("Fetch triggers with query",function(){var S=Object(n.coroutine)(function*(D,p,b){let{query:M,currentChannelId:_,isShortcutsGallerySearch:P=!1,isWorkflowPickerSearch:y=!1}=b;const j=p(),U=Object(h.g)(j),W=Object(c.g)(j),L=Object(E.a)(j),B=!(W&&P||y),F=y;if(L.containsPrefixOf(M)){if(W&&P){const k=Object(v.f)(j,M);return D(Object(l.i)({results:k})),k}else if(y){const k=Object(v.l)(j,M);return D(Object(l.k)({results:k})),k}}else try{const V=(yield D(Object(d.Dg)({query:M,currentChannelId:_,strictExposureRules:B,triggerTypes:F?["shortcut","event","webhook","scheduled"]:["shortcut"],reason:"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,X=5;return V.length<X&&(L.addAsPrefix(M),L.clearRequestInFlight()),U&&Object(i.a)().markObjectsAsFresh(U,Object(a.a)(V,"id")),D(Object(l.l)({triggers:V})),W&&P&&D(Object(l.i)({results:V})),y&&D(Object(l.k)({results:V})),V}catch(k){return Object(u.b)().error(k,"There was an issue fetching triggers with query"),[]}return[]});return function(D,p,b){return S.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const O=500,I=Object(r.a)((S,D)=>S(g({query:D})),O,{leading:!0,trailing:!0}),C=Object(o.c)("debounced fetch and upsert triggers with query",(S,D,p)=>{let{query:b}=p;return I(S,b)});C.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"},s.b=g;const f={DEBOUNCE_MS:O}},"6FZx":function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"d",function(){return o}),e.d(s,"c",function(){return i}),e.d(s,"b",function(){return h});var n=e("n3tL"),t=e("OZf9"),a=e("s4P+"),r=e("ykb+");const d="_isSlackMenuItem",o={menuCallback:n.default.func,menuCallbackId:n.default.number,highlighted:n.default.bool};function i(l){return!!l[d]}m(i,"isMenuItem");function h(l){if(Object(r.b)()){const u=l.propTypes||{};let c;Object.defineProperty(l,"propTypes",{get:()=>c,set:E=>{const v=l.displayName||l.name||"Component";Object(t.a)(o,(g,O)=>{const I=E[O];I&&I!==g&&I!==g.isRequired&&Object(a.b)().warn(`${v}'s ${O} prop type doesn't match menu item`)}),c={...o,...E}}}),l.propTypes=u}return l[d]=!0,l}m(h,"wrapMenuItem")},"6JJY":function(K,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("O9Jz"),d=e("QLhP");const o=Object(a.c)("Opens a member profile in a tile",function(){var i=Object(n.coroutine)(function*(h,l,u){Object(d.e)(l(),u)&&h(Object(r.a)({viewId:"rimeto_profile",params:{memberId:u}}))});return function(h,l,u){return i.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkopenProfileInWindow",description:"Opens a member profile in a tile"},s.a=o},"6SBE":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("7EGn"),r=e("Z3Pq"),d=e("oSkh"),o=e("zxER"),i=e("9Gfp"),h=e("y6S6"),l=e("xwCZ"),u=e("x5lL"),c=e("rIOq"),E=e("VkPA"),v=e("ZMRP"),g=e("ZobM"),O=e("Yauy"),I=e("E97Y"),C=e("gVOt"),f=e("Fn/R"),S=e("aqbC"),D=e("azkI"),p=e("nNoG"),b=e("yxNq"),M=e("4HNC"),_=e("sGXp");const P=new p.b("huddles");var y;(function(ie){ie[ie.Channel=0]="Channel",ie[ie.Here=1]="Here"})(y||(y={}));const j=m(ie=>{let{variation:de}=ie;const pe=Object(n.useMemo)(()=>{const oe=de===y.Channel?P.t("@channel",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}):P.t("@here",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),me=de===y.Channel?P.t("Invite every member in this channel",{fallbackHash:"356143f00ea36746c3a9c41765b940644ca651cf",fallbackHashNs:"broadcast_keywords"}):P.t("Invite every online member in this channel",{fallbackHash:"d6f32ea27e0fd9186b386de54a63fc72a17a2075",fallbackHashNs:"broadcast_keywords"});return t.a.createElement("div",{className:"p-huddle_invite_channel_list_entity"},t.a.createElement("div",{className:"p-huddle_invite_channel_list_entity__icon_container"},t.a.createElement(g.a,{name:"mentions",size:"24",variation:"large"})),t.a.createElement("div",{className:"p-huddle_invite_channel_list_entity_text_container"},t.a.createElement("span",{className:"c-base_entity__text p-huddle_invite_channel_list_entity__title"},oe),t.a.createElement("span",{className:"c-base_entity__subtext"},me)))},[de]);return t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.a.createElement(M.a,{size:_.c.medium,padding:_.b.normal,primaryContent:pe}))},"HuddleInviteChannelListEntity");j.displayName="HuddleInviteChannelListEntity";var U=j,W=e("dlm8"),L=e("GNR7"),R=e("i5Ig");const A=new p.b("huddles");var B;(function(ie){ie.SUGGESTIONS="suggestions",ie.INVITED="invited"})(B||(B={}));function F(ie,de,pe,oe,me,re){return!(!ie||de||ie===pe||oe.includes(ie)||me.includes(ie)||re.includes(ie))}m(F,"shouldSuggestMember");const k="channelEntityId",V="channelHereEntityId",X=20,J=m(ie=>{let{activeHuddleCallId:de,channel:pe,isFreeTeam:oe,onSuggestedUserSelected:me,onChannelSelected:re,onChannelHereSelected:ve,otherMembersInHuddle:q,selectedMemberIds:ce,channelSuggestionOptionSelected:he=!1}=ie;const Se=Object(o.c)(i.a),se=Object(o.c)(Dt=>Object(W.d)(Dt,pe==null?void 0:pe.id)),H=Object(a.a)(se,"counts.member_count")||void 0,Oe=Object(I.h)(pe),$=Object(o.c)(L.j),z=Object(o.c)(Dt=>Object(u.n)(Dt,de)),be=Object(o.c)(Dt=>Object(u.m)(Dt,de)),G=$+1+z+be,ne=Object(o.d)(Dt=>Object(u.p)(Dt,de)),ge=Object(n.useMemo)(()=>ne?Object.keys(ne):[],[ne]),ae=ge.length,fe=25,Te=Object(o.d)(Dt=>Object(S.a)(Dt,(pe==null?void 0:pe.id)||"",fe,fe,!0).map(te=>te.id));let ye=[];if(Object(I.g)(pe)){const Dt=Object(C.a)(pe);Dt&&ye.push(Dt)}else if(Object(I.i)(pe)){const Dt=Object(O.C)(pe);Dt&&Dt.length&&(ye=[...Dt])}else ye=Te;const Ue=Object(o.c)(Dt=>{if(he||!ye||!ye.length)return R.a;const Ee=[];return ye.forEach(te=>{const Ae=Object(l.g)(Dt,te);F(te,Object(f.a)(Ae),Se,q,ge,ce)&&Ee.push({id:te,isMemberOfChannel:!0})}),Ee},b.b),Ne=Object(o.c)(D.g,b.b),He=Object(o.c)(Dt=>{if(!Ne||!Ne.length)return R.a;const Ee=[];return Ne.forEach(te=>{const Ae=Object(l.g)(Dt,te.id);if(!F(te.id,Object(f.a)(Ae),Se,q,ge,ce)||ye.includes(te.id))return;const Ve=pe&&Object(h.c)(Dt,pe.id,te.id),Ye=Ve&&Ve.isKnown&&Ve.isMember;Ee.push({id:te.id,isMemberOfChannel:Ye})}),Ee},b.b),ze=Object(n.useMemo)(()=>re?G+H<X&&!he:!1,[H,he,G,re]),Je=Object(n.useMemo)(()=>Ue.length>=fe?Ue.slice(0,fe):[...Ue,...He].slice(0,fe),[Ue,He]),Xe=Object(n.useMemo)(()=>Je.map(Dt=>Dt.id),[Je]),Me=Object(n.useMemo)(()=>Object(r.a)(Je,"id"),[Je]),Ke=Object(n.useMemo)(()=>Math.min(60*Math.max(ae,Xe.length),240),[Xe,ae]),$e=Object(n.useCallback)((Dt,Ee)=>{if(Ee.key===k)return t.a.createElement(U,{variation:y.Channel});if(Ee.key===V)return t.a.createElement(U,{variation:y.Here});const te=Me[Ee.key];if(!te)return;let Ae=null;return te.isMemberOfChannel===!1&&(Oe?Ae=A.t("Not in conversation"):Ae=A.t("Not in channel")),t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.a.createElement(c.a,{id:te.id,secondaryContent:Ae}))},[Oe,Me]),ct=Object(n.useCallback)(Dt=>{if(Dt.id){if(Dt.id===k){re&&re();return}if(Dt.id===V){ve&&ve();return}me(Dt.id)}},[ve,re,me]),Tt=Object(n.useCallback)(()=>{let Dt=Xe;return ze&&(Dt=[k,...Xe]),t.a.createElement(d.a,{disableHeight:!0},Ee=>{let{width:te}=Ee;return t.a.createElement(v.b,{"aria-label":A.t("Suggested",{fallbackHash:"861edba00547bc9ce7a08df78d4378766418179f"}),keys:Dt,rowRenderer:$e,onItemClick:ct,width:te,height:Ke})})},[ze,$e,Xe,ct,Ke]),Et=Object(n.useCallback)(Dt=>{const Ee=ge[Dt],te=ne==null?void 0:ne[Ee];if(!te)return null;const Ae=te==="joining_soon",Ve=t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.a.createElement(g.a,{name:Ae?"clock":"paper-plane",size:"20"}),t.a.createElement("span",null,Ae?A.t("Joining soon"):A.t("Invited")));return t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.a.createElement(c.a,{id:Ee,secondaryContent:Ve}))},[ge,ne]),Le=Object(n.useCallback)(()=>t.a.createElement(d.a,{disableHeight:!0},Dt=>{let{width:Ee}=Dt;return t.a.createElement(v.b,{"aria-label":A.t("Invited"),keys:ge,rowRenderer:Et,width:Ee,height:Ke})}),[ge,Et,Ke]),jt=Object(n.useMemo)(()=>{const Dt=[];return Xe.length&&Dt.push({title:A.t("Suggested",{fallbackHash:"861edba00547bc9ce7a08df78d4378766418179f"}),id:B.SUGGESTIONS,content:Tt()}),Dt.push({title:A.t("Invited"),id:B.INVITED,titleCount:ae,content:Le()}),Dt},[Xe,ae,Le,Tt]);return!de||oe?null:t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.a.createElement(E.a,{fullHeight:!0,tabs:jt,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");J.displayName="HuddleInviteSuggestionTabs";var Y=s.a=t.a.memo(J)},"6Tgc":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ifKl"),d=e("oTSI"),o=e("WIr4"),i=e("vd/O"),h=e("ktUG"),l=e("2K8U"),u=e("ZobM"),c=e("MYuU"),E=e("khnw"),v=e("1ufr"),g=e("nNoG");function O(){return O=Object.assign||function(R){for(var A=1;A<arguments.length;A++){var B=arguments[A];for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(R[F]=B[F])}return R},O.apply(this,arguments)}m(O,"_extends");const I=new g.b("select");let C=m(class extends n.Component{componentDidMount(){const{focusOnMount:A=!1}=this.props;A&&this.onClick()}onEscPressed(A){const{selectState:B,setSelectState:F}=this.props;B.isExpanded&&(A.stopPropagation(),F(()=>({isExpanded:!1})))}onKeyDown(A){if(!(A.shiftKey||A.ctrlKey||A.metaKey||A.altKey))switch(A.keyCode){case E.f:this.onEscPressed(A);break;case E.e:case E.p:this.onClick();break;case E.r:case E.c:this.onUpOrDownPressed(A);break;case E.q:this.onTabPressed();break;default:break}}onTabPressed(){const{setSelectState:A}=this.props;A(()=>({isExpanded:!1}))}onClick(){const{onClick:A=r.a,setSelectState:B,selectState:F}=this.props;this.updateOptionsListPosition(),A&&A(),B(()=>({isExpanded:!F.isExpanded}))}onUpOrDownPressed(A){const{selectState:B,setSelectState:F}=this.props,{isExpanded:k}=B;k||(A.stopPropagation(),this.updateOptionsListPosition(),F(()=>({isExpanded:!0})))}getSelectedOptionIndex(){const{selectState:A}=this.props,{selectedOption:B,options:F}=A;return B?F.findIndex(k=>k.label===B.label&&k.value===B.value):0}updateOptionsListPosition(){const{selectState:A}=this.props,{isExpanded:B}=A;if(!B&&this.measurePopoverEvent){var F;(F=this.props.window)===null||F===void 0||F.dispatchEvent(this.measurePopoverEvent)}}renderContent(A){const{renderSelectedOption:B,selectState:F,textSelect:k=!1,textSelectLabel:V=void 0,selectDataQa:X=void 0,placeholderText:J=void 0}=this.props,{selectedOption:Y,options:ie}=F,de=Y?B(Y):t.a.createElement("span",{className:"c-select_button__placeholder"},J||I.t("Please select an option")),pe=k&&V?t.a.createElement("span",{className:"c-select_button--text-select-label"},V):void 0,oe=ie&&ie.length,me=oe||void 0,re=oe?this.getSelectedOptionIndex():void 0;return t.a.createElement("div",{id:A,role:"option","aria-selected":"true","aria-setsize":me,"aria-posinset":re,"data-qa":X?`${X}-button-content`:null,className:"c-select_button__content"},pe,de)}render(){const{ariaLabelledBy:A=void 0,ariaDescribedBy:B=void 0,ariaLabel:F=void 0,selectState:k,size:V,width:X,textSelect:J=!1,selectDataQa:Y=void 0,classPrefix:ie=void 0,onBlur:de=r.a,onMouseEnter:pe=void 0,onMouseLeave:oe=void 0,refToForward:me}=this.props,{isDisabled:re,isExpanded:ve,isInvalid:q,selectId:ce}=k,he=Object(a.default)("c-select_button",`c-select_button--${V}`,{"c-select_button--disabled":re,"c-select_button--expanded":ve,"c-select_button--text-select":J,"c-select_button--invalid":q,[`${ie}__select_button`]:ie}),Se=J?{}:{width:X},se=V===l.f.SMALL?"caret-down":"caret-down-full",H=Object(c.a)(ce,"button"),Oe=`${H}-option`;return t.a.createElement("div",{role:"listbox",tabIndex:0,className:he,onClick:this.onClick,onKeyDown:this.onKeyDown,style:Se,"aria-disabled":re?!0:void 0,"data-qa":Y?`${Y}-button`:null,id:H,onBlur:de,onMouseEnter:pe,onMouseLeave:oe,"aria-labelledby":A,"aria-describedby":B,"aria-label":F,"aria-invalid":q,"aria-activedescendant":q?void 0:Oe,ref:me,"aria-expanded":ve,"aria-multiselectable":!1},this.renderContent(Oe),t.a.createElement("div",{className:`c-select_button__icon c-select_button__icon--${V}`},t.a.createElement(u.a,{name:se})))}constructor(A){super(A),Object(o.a)(this,["onUpOrDownPressed","onKeyDown","updateOptionsListPosition","onClick","onEscPressed","onTabPressed"]);const{measurePopoverEventName:B=null}=this.props;B&&(this.measurePopoverEvent=new Event(B))}},"SelectButton");C.displayName="SelectButton";const f=Object(v.a)(C);var S=t.a.forwardRef((R,A)=>t.a.createElement(f,O({},R,{refToForward:A}))),D=e("HP72"),p=e("YsXF"),b=e("Pewd"),M=e("9ADk"),_=e("FRd1");function P(){return P=Object.assign||function(R){for(var A=1;A<arguments.length;A++){var B=arguments[A];for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(R[F]=B[F])}return R},P.apply(this,arguments)}m(P,"basic_select_extends");const y={onClick:{action:h.UiAction.CLICK}},j=m(R=>R.map(A=>{let{id:B}=A;return B}),"getIdsFromHintOrErrors");let U=m(class extends n.Component{renderOptionsList(){const{ariaLabel:A,onOptionSelected:B,onOptionsListClose:F,renderOption:k,resultsInPopover:V,overlayClassName:X,listClassName:J,selectState:Y,setSelectState:ie,width:de,classPrefix:pe,minOptionsListWidth:oe,optionsRowHeight:me,maxListHeight:re,onScrollablePage:ve,dynamicHeight:q,forceMaxHeight:ce,includePadding:he,includeDividers:Se,preventScroll:se}=this.props,{isDisabled:H}=Y;return H?null:V?t.a.createElement(p.a,{className:J,selectState:Y,setSelectState:ie,renderOption:k,ariaLabel:A,onOptionSelected:B,onOptionsListClose:F,width:de,inputRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:pe,selectDataQa:this.fallbackDataQa,minOptionsListWidth:oe,optionsRowHeight:me,focusOnMount:!0,popoverProps:X?{overlayClassName:X}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:re,onScrollablePage:ve,dynamicHeight:q,forceMaxHeight:ce,includePadding:he,includeDividers:Se,preventScroll:se}):t.a.createElement(D.b,{className:J,selectState:Y,setSelectState:ie,renderOption:k,ariaLabel:A,onOptionSelected:B,onOptionsListClose:F,width:de,inputRef:this.inputContainerRef,classPrefix:pe,selectDataQa:this.fallbackDataQa,optionsRowHeight:me,maxListHeight:re,focusOnMount:!0,shouldAlwaysHaveActiveRow:!0,dynamicHeight:q,forceMaxHeight:ce,includePadding:he,includeDividers:Se,preventScroll:se})}render(){const{resultsInPopover:A,selectState:B,setSelectState:F,className:k,textSelect:V,textSelectLabel:X,focusOnMount:J,onBlur:Y,ariaLabel:ie,ariaLabelledBy:de,ariaDescribedBy:pe,autoClogProps:oe,buttonRef:me,errors:re,hints:ve,size:q,renderSelectedOption:ce}=this.props,{isInvalid:he}=B,Se=Object(i.a)(re),se=Object(i.a)(ve);let H;re&&(H=Se?j(re):void 0);let Oe;ve&&(Oe=se?j(ve):void 0);const $=Object(c.e)([pe,H,Oe]),z=t.a.createElement("div",{className:Object(a.default)(k,"c-basic-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.a.createElement(S,P({},this.props,{size:q,renderSelectedOption:ce,selectDataQa:this.fallbackDataQa,selectState:B,setSelectState:F,measurePopoverEventName:A?this.measurePopoverEventName:void 0,textSelect:V,textSelectLabel:X,focusOnMount:J,onBlur:Y,ariaLabel:ie,ariaLabelledBy:de,ariaDescribedBy:$,"aria-invalid":he,ref:me})),Se&&re&&t.a.createElement(b.a,{errors:re}),se&&ve&&ve.map(be=>{let{id:Z,message:G}=be;return t.a.createElement(M.a,{key:Z,id:Z},G)}),this.renderOptionsList());return oe?t.a.createElement(_.a,{autoClogProps:oe,actionProps:y,elementType:h.ElementType.DROPDOWN},z):z}constructor(A){super(A),Object(o.a)(this,["renderOptionsList"]),this.inputContainerRef=t.a.createRef();const{selectId:B}=A.selectState;this.measurePopoverEventName=`measureSelectPopover--${B}`,this.fallbackDataQa=A.selectDataQa||B}},"ControlledBasicSelect");U.displayName="ControlledBasicSelect",U.defaultProps={renderOption:R=>R.label,renderSelectedOption:R=>R.label,size:l.f.MEDIUM,width:225,optionsRowHeight:l.a,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:r.a,onOptionSelected:r.a,onOptionsListClose:r.a,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onBlur:r.a,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0};let W=m(class extends n.Component{static getDerivedStateFromProps(A,B){const{selectedOption:F}=A,{selectedOption:k}=B;return!k||F!==void 0&&F!==k?{selectedOption:F}:null}setSelectState(A,B){return this.setState(A,B)}render(){const{isDisabled:A,isInvalid:B,isRequired:F,errors:k}=this.props,V=B||Object(i.a)(k),X=Object(d.a)(()=>({...this.state,isDisabled:A,isInvalid:V,isRequired:F}));return t.a.createElement(U,P({},this.props,{selectState:X(),setSelectState:this.setSelectState}))}constructor(A){super(A),this.state={activeRowIndex:null,isDisabled:A.isDisabled,isExpanded:A.isExpanded,isInvalid:A.isInvalid,isRequired:A.isRequired,options:A.options,selectId:A.selectId,selectedOption:A.selectedOption,selectType:l.g.BASIC},Object(o.a)(this,["setSelectState"])}},"BasicSelect");W.displayName="BasicSelect",W.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:r.a,onOptionsListClose:r.a,selectedOption:void 0,selectId:`basic-select-${Object(c.d)()}`,maxListHeight:void 0,autoClogProps:void 0};var L=s.a=W},"6XI5":function(K,s,e){K.exports=e.p+"ava_0022-48-93db11d.png"},"6kKm":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("nNoG");const t=new n.b("broadcast_keywords");function a(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)return"";switch(r.ms_name){case"channel":return t.t("channel");case"everyone":return t.t("everyone");case"here":return t.t("here");case"sf:dealteam":return d?t.t("deal team"):"deal team";default:return r.ms_name||""}}m(a,"getBroadcastKeywordName")},"6kzs":function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("OZf9"),t=e("Muja"),a=e("ifKl"),r=e("fDBt");let d=m(class{layout(){const{keys:i}=this,h={};let l=0;Object(n.a)(i,u=>{h[u]=l;const c=this.getHeight(u);l+=c+(c>0?this.gutter:0)}),Object(t.a)(h,this.tops)||(this.tops=h),l!==this.totalHeight&&this.onTotalHeightChange(l),this.totalHeight=l}getHeight(i){return this.heightCache.get(i)}getHeightValidity(i){return this.heightCache.getValidity(i)}getTop(i){return this.tops[i]}getBottom(i){return this.tops[i]+this.getHeight(i)}getTops(){return this.tops}getTotalHeight(){return this.totalHeight}getOffsetForKey(i){return i?this.getTop(i):this.totalHeight}getBounds(i,h){const l=this.keys;let u=0;for(;u+1<l.length;){const E=l[u+1];if(this.getTop(E)>i)break;u+=1}let c=u;for(;c<l.length;){const E=l[c];if(this.getTop(E)>h)break;c+=1}return{start:u,end:c}}setHeight(i,h,l){this.heightCache.set(i,h),this.layout()}setKeys(i,h){this.keys=i,this.layout()}constructor({keys:i=[],gutter:h=0,heightCache:l=new r.a,onTotalHeightChange:u=a.a}={}){this.keys=i,this.heightCache=l,this.onTotalHeightChange=u,this.gutter=h,this.tops={},this.totalHeight=0,this.layout()}},"Layout")},"6l10":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("nAEa");const t=window.navigator&&typeof window.navigator.sendBeacon=="function";function a(r){let{apiUrl:d,method:o,token:i,args:h={},versionTs:l="",versionUid:u=""}=r,c=!1;const E=Object(n.a)();let v=`${d}${o}?_x_id=${u.substring(0,8)}-${Date.now()/1e3}`;E!==null&&(v+=`&fp=${E}`);const g=new FormData;if(g.append("token",i),Object.keys(h).forEach(O=>g.append(O,h[O])),t)c=navigator.sendBeacon(v,g);else{const O=new XMLHttpRequest;O.addEventListener("load",()=>{const{readyState:I,status:C,DONE:f}=O;I===f&&C===200&&(c=!0)}),O.open("POST",v,!0),O.setRequestHeader("X-Slack-Version-Ts",l),O.send(g)}return c}m(a,"beaconApiCall")},"6rGi":function(K,s,e){"use strict";var n=e("9oTK"),t=e("oTSI"),a=e("LZPg"),r=e("x5lL"),d=e("3REw"),o=e("lhZz"),i=e("9Gfp"),h=e("JoR1"),l=e("NKMX"),u=e("jj3I"),c=e("dKQz"),E=e("lpU5"),v=e("SQ0V"),g=e("4CqU");const O=Object(v.c)("Fetch channel membership info for huddle member",(Dt,Ee,te)=>{let{channelId:Ae,userId:Ve}=te;return Dt(Object(g.a)({channelId:Ae,userIds:[Ve]})).then(Ye=>{let{membershipInfo:ft}=Ye;return ft[Ve]&&"isMember"in ft[Ve]?!ft[Ve].isMember:!0})});O.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var I=e("1Zcw"),C=e("HoeF"),f=e("GNR7"),S=e("sgFo"),D=e("beVI"),p=e("N1oM"),b=e("n3Lk"),M=e("0dq7"),_=e("RBHu"),P=e("q1tI"),y=e.n(P),j=e("/MKj"),U=e("zxER"),W=e("E/AO"),L=e("Tevt"),R=e("3vtZ"),A=e("nNoG"),B=e("B4ch"),F=e("E3dU"),k=e("Yauy"),V=e("+CZ0"),X=e("Kmpi"),J=e("y/e0"),Y=e("DneB");const ie=new A.b("huddles");function de(Dt){let{errorCode:Ee,isJoinError:te,closeModal:Ae}=Dt;var Ve;const Ye=Object(j.useDispatch)(),ft=(Ve=Object(Y.b)(V.p))===null||Ve===void 0?void 0:Ve.channelId,tt=Object(U.c)(Jt=>Object(F.d)(Jt,ft)),Rt=Object(U.c)(Jt=>Object(X.b)(tt)?Object(k.t)(Jt,tt,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),we=Object(U.c)(S.Y)?ie.rt("This huddle already has 250 people, which is the maximum allowed.",{fallbackHash:"37677680a08b069935e88c6124e2676a7a095ce4"}):ie.rt("This huddle already has 50 people, which is the maximum allowed.",{fallbackHash:"37677680a08b069935e88c6124e2676a7a095ce4"}),xe=Object(P.useCallback)(()=>{Ye(Object(E.h)())},[Ye]),st=Object(P.useCallback)(()=>{Ye(Object(E.g)())},[Ye]),ke=Object(J.a)(tt);if(!Object(U.c)(R.H))return null;if(Ee===M.c.FreemiumMaxParticipants)return xe(),null;const at=(()=>{switch(Ee){case M.c.MaxParticipants:return we;case M.c.AudioJoinedFromAnotherDevice:return ie.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.",{fallbackHash:"8e6fe75ad31740e7f9241ccbe132b69a85735e2f"});case M.c.ChimeMeetingEnded:return te?ie.rt("The Huddle has ended."):ke?ie.rt("We ended the huddle since you were the only one there for a bit."):ie.rt("We ended your huddle since you were the only one there for a bit.");case M.c.PermissionDenied:case d.n.CallEnded:return ie.rt("The Huddle has ended.");case M.c.DeviceLocked:return ie.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,Jt=>{let{text:zt,tag:Yt}=Jt;return Yt==="a"?y.a.createElement(L.a,{onClick:st},zt):null});default:return ie.rt("You\u2019ll have to go back and give it another try.")}})(),ht=(()=>te?ie.t("Can\u2019t join the huddle",{fallbackHash:"4bf244efc6267525220c0012ba0550f91176cc14"}):Ee===M.c.AudioJoinedFromAnotherDevice?ie.t("You\u2019ve joined the huddle on a different device"):Ee===M.c.ChimeMeetingEnded&&!te?ke?ie.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:Rt}):ie.t("You\u2019re no longer in a huddle"):Ee===M.c.DeviceLocked?ie.t("You\u2019re no longer in a huddle"):ie.t("Something went wrong with your huddle"))(),Nt=(()=>Ee===M.c.AudioInputStreamEnded||Ee===M.c.MaxParticipants||Ee===M.c.ChimeMeetingEnded&&!te?ie.t("Got It"):ie.t("OK"))();return y.a.createElement(W.a,{overlayClassName:"p-huddle_error_modal__overlay",onClose:Ae,onSubmit:Ae,showCancelButton:!1,showSubmitButton:!0,title:ht,submitButtonText:Nt},at)}m(de,"HuddleErrorModal"),de.displayName="HuddleErrorModal";const pe={HuddleErrorModal:de},oe="huddle_error_modal";var me=Object(B.a)(de,{modalName:oe,allowMultiple:!1,isStackable:!0}),re=e("A1dN"),ve=e("Lgge"),q=e("G0eX"),ce=e("5IZy"),he=e("ktUG"),Se=e("AWyR"),se=e("WJHF"),H=e("QWPf"),Oe=e("Z7Ay"),$=e("TGBA"),z=e("BEaa"),be=e("s4P+"),Z=e("Pw4T"),G=e("tcZJ"),ne=e("gPPH"),ge=e("68hO"),ae=e("35RN");const fe=60*1e3,Te=15*1e3,ye=1e3*10,Ue=1e3*60,Ne=5e3;let He=!1;const ze=500,Je=25;let Xe=m(class{setTargetState(Ee){var te=this;return Object(n.coroutine)(function*(){te.targetState=Ee;const{huddleState:Ae,huddleSubState:Ve}=te.targetState;te.isValidHuddleSubState(Ae,Ve)||(te.targetState.huddleSubState=te.getInitialSubStateForHuddleState(Ae)),Object(o.dispatchForClientStore)(Object(c.ab)(te.getOptimisticState(Ee))),yield te.process()})()}setTargetChannel(Ee){this.targetState.channelId=Ee}setTargetSubState(Ee){var te=this;return Object(n.coroutine)(function*(){te.isValidHuddleSubState(te.targetState.huddleState,Ee)&&(te.targetState.huddleSubState=Ee,yield te.process())})()}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:M.a.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId,experimentHuddlesLoungeMusicPlayerGroupOn:this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}waitForStartStop(){var Ee=this;return Object(n.coroutine)(function*(){return Ee.startStopDeferred||ve.a.resolve()})()}isProcessing(){var Ee;return(Ee=this.startStopDeferred)===null||Ee===void 0?void 0:Ee.isPending()}isTargetState(){const{teamId:Ee,channelId:te,huddleState:Ae}=this.getClientHuddleState();return Object(R.I)(this.targetState.huddleState)?Ae===this.targetState.huddleState:Ee===this.targetState.teamId&&te===this.targetState.channelId&&Ae===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(Ee){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>Ee-ze:!1}isValidHuddleSubState(Ee,te){return Ee===M.a.STARTED?te===void 0?!1:Object($.a)(M.d).includes(te):te===void 0}getInitialSubStateForHuddleState(Ee){if(Ee===M.a.STARTED)return M.d.INITIAL_ALONE}process(){var Ee=this;return Object(n.coroutine)(function*(){if(Ee.isProcessing())return Ee.waitForStartStop();Ee.startStopDeferred=Object(Se.a)();const te=setTimeout(Object(n.coroutine)(function*(){var Ae;if(!((Ae=Ee.startStopDeferred)===null||Ae===void 0)&&Ae.isPending()){const Ve=new ve.a.TimeoutError("HuddleStateManager timeout");yield Ee.handleErrorAndDisconnect(Ve)}}),Ee.startStopTimeout);try{yield Ee.runLoop(),clearTimeout(te),Ee.startStopDeferred.resolve()}catch(Ae){yield Ee.handleErrorAndDisconnect(Ae)}finally{clearTimeout(te)}Ee.startStopDeferred=null})()}runLoop(){var Ee=this;return Object(n.coroutine)(function*(){let te=0;for(;!Ee.isTargetState();){if(!Ee.isProcessing())return;if(te+=1,te>Je)throw new Error("runLoop was stuck");const{teamId:Ye,channelId:ft,huddleState:tt}=Ee.getClientHuddleState(),{teamId:Rt,channelId:rt,huddleState:we,callId:xe}=Ee.targetState;if(Ye!==Rt&&(delete Ee.clogger,delete Ee.logger,delete Ee.telemeter),[M.a.STARTED,M.a.PRE_JOINED].includes(we)){if(Ye!==Rt||ft!==rt){switch(tt){case M.a.PENDING:case M.a.STARTED:case M.a.PRE_JOINED:yield Ee.goToNext(M.a.ENDING);break;default:yield Ee.goToNext(M.a.STARTING)}continue}switch(tt){case M.a.NOT_STARTED:yield Ee.goToNext(M.a.STARTING);break;case M.a.STARTING:try{yield Ee.goToNext(M.a.PENDING)}catch(st){var Ae;if(!((Ae=Ee.credentials)===null||Ae===void 0)&&Ae.isQuickJoinCredentials){if(delete Ee.credentials,yield Ee.clearQuickJoinCredentials(),st.message===M.c.ChimeMeetingEnded)throw st;if(xe){const ke=Object(f.r)(Ee.getState(),xe);if(ke&&ke.hasEnded)throw new Error(M.c.ChimeMeetingEnded)}if(Object(S.h)(Ee.getState())){const ke=Date.now(),lt=!0;yield Ee.disconnect(lt);const ht=Date.now()-ke;Ee.getLogger().info(`Disconnecting after failed attempt to join huddle added ${ht}ms to TTI`)}else Ee.getLogger().warn("Initializing a new huddle without disconnecting the last one");yield Ee.goToNext(M.a.STARTING)}else throw st}break;case M.a.PENDING:yield Ee.goToNext(Ee.targetState.huddleState);break;case M.a.PRE_JOINED:yield Ee.goToNext(M.a.COMPLETING_PRE_JOIN);break;case M.a.COMPLETING_PRE_JOIN:yield Ee.completePrejoin({isStartMuted:Ee.targetState.muted}),yield Ee.goToNext(M.a.STARTED);break;case M.a.STARTED:throw new Error("This should not be possible");case M.a.ENDING:case M.a.SURVEY:case M.a.SURVEY_GOOD:default:yield Ee.goToNext(M.a.STARTING);break}continue}if([M.a.PENDING,M.a.STARTED,M.a.PRE_JOINED].includes(tt)){yield Ee.goToNext(M.a.ENDING);continue}yield Ee.goToNext(we)}let Ve=0;for(;!Ee.isTargetSubState();){if(Ve+=1,Ve>Je)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:Ye,huddleSubState:ft}=Ee.getClientHuddleState(),{huddleSubState:tt}=Ee.targetState;if(!Ee.isValidHuddleSubState(Ye,tt)){const Rt=Ee.getInitialSubStateForHuddleState(Ye);Ee.targetState.huddleSubState=Rt,yield Ee.goToNextSubState(Rt),Ee.getLogger().warn(I.c,`attempted to reach invalid huddleSubstate (${tt}) for the given huddleState (${Ye})`);continue}if(Ye===M.a.STARTED){switch(ft){case M.d.INITIAL_ALONE:if(tt===M.d.INITIAL_ALONE_NOTICE_ACTIVE){yield Ee.goToNextSubState(tt);break}yield Ee.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.INITIAL_ALONE_NOTICE_ACTIVE:if(tt===M.d.INITIAL_ALONE_NOTICE_DISMISSED){yield Ee.goToNextSubState(tt);break}yield Ee.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.INITIAL_ALONE_NOTICE_DISMISSED:yield Ee.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.IN_PROGRESS_TOGETHER:yield Ee.goToNextSubState(M.d.IN_PROGRESS_ALONE);break;case M.d.IN_PROGRESS_ALONE:if(tt===M.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE){yield Ee.goToNextSubState(tt);break}yield Ee.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if(tt===M.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED){yield Ee.goToNextSubState(tt);break}yield Ee.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED:yield Ee.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;default:yield Ee.goToNextSubState(M.d.INITIAL_ALONE)}continue}yield Ee.goToNextSubState(void 0)}})()}goToNext(Ee){var te=this;return Object(n.coroutine)(function*(){var Ae,Ve,Ye,ft;te.getLogger().info(`Marking huddle as ${Ee} [${(Ye=(Ae=te.targetState)===null||Ae===void 0?void 0:Ae.teamId)!==null&&Ye!==void 0?Ye:"N/A"}, ${(ft=(Ve=te.targetState)===null||Ve===void 0?void 0:Ve.channelId)!==null&&ft!==void 0?ft:"N/A"}]`);const tt=Date.now();te.timeOfLastStateChange=tt,te.timeOfLastSubStateChange=tt;const Rt=te.getInitialSubStateForHuddleState(Ee);if(Ee===M.a.STARTING){var rt,we;const ke=te.assertTargetTeamAndChannel(M.a.STARTING),lt=te.getOptimisticState(te.targetState);te.getLogger().info(`Optimistic state: ${lt.optimisticHuddleState}`),Object(o.dispatchForClientStore)(Object(c.a)({huddleState:Ee,huddleSubState:Rt,...ke,...lt,isPrejoin:((rt=te.targetState)===null||rt===void 0?void 0:rt.huddleState)===M.a.PRE_JOINED,sessionId:Object(ne.a)()})),te.credentials=yield te.fetchCredentials(),(we=te.getTelemeter())===null||we===void 0||we.mark(_.d);return}if(Ee===M.a.PENDING){const ke=te.assert(te.credentials,"Expected credentials to be set before PENDING");Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ee,huddleSubState:Rt,...te.assertTargetTeamAndChannel(M.a.PENDING),callId:ke.roomId})),yield te.connectToChime(ke,te.targetState),delete te.credentials;return}if(Ee===M.a.STARTED){var xe;const ke=te.assertTargetTeamAndChannel(M.a.STARTED);Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ee,huddleSubState:Rt,optimisticHuddleState:null,...ke,isPrejoin:!1})),Object(h.t)(te.getState(),"huddles_set_status")&&te.scheduleHuddleStateExpirationIncrement(),te.setCoachmarkTimeout(Rt),(xe=ge.a.getInstance())===null||xe===void 0||xe.request()}else{var st;(st=ge.a.getInstance())===null||st===void 0||st.release()}if(Ee===M.a.PRE_JOINED&&Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ee,huddleSubState:Rt,optimisticHuddleState:null,...te.assertTargetTeamAndChannel(M.a.PRE_JOINED)})),Ee===M.a.ENDING){Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ee,huddleSubState:Rt})),yield te.disconnect();return}Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ee,huddleSubState:Rt,optimisticHuddleState:null}))})()}goToNextSubState(Ee){var te=this;return Object(n.coroutine)(function*(){Ee===M.d.IN_PROGRESS_ALONE&&setTimeout(()=>{var Ae;((Ae=te.getClientHuddleState())===null||Ae===void 0?void 0:Ae.huddleSubState)===M.d.IN_PROGRESS_ALONE&&te.hasBeenInSubStateForAtLeastApproxTime(ye)&&(te.isMicEnabled()||te.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)&&te.setTargetSubState(M.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},ye),te.timeOfLastSubStateChange=Date.now(),Object(o.dispatchForClientStore)(Object(c.ab)({huddleSubState:Ee}))})()}handleErrorAndDisconnect(Ee){var te=this;return Object(n.coroutine)(function*(){var Ae;te.getLogger().error(Ee);const{huddleState:Ve}=te.getClientHuddleState();if([M.a.PENDING,M.a.STARTED].includes(Ve))try{yield ve.a.race([new ve.a((Ye,ft)=>{setTimeout(()=>ft(new Error("HuddleStateManager disconnect timeout")),te.disconnectTimeout)}),te.disconnect()])}catch(Ye){te.getLogger().error(Ye)}Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:M.a.NOT_STARTED,optimisticHuddleState:null})),yield ve.a.resolve(te.handleError(Ee,Ve)),(Ae=te.startStopDeferred)===null||Ae===void 0||Ae.reject(Ee)})()}getInitialAloneInHuddleTimeOutValue(){if(He)return Ne;if(!this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)return Ue;const Ee=this.getState(),te=Object(h.t)(Ee,ae.b);return te?te*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),Ue)}setCoachmarkTimeout(Ee){Ee===M.d.INITIAL_ALONE&&(setTimeout(()=>{var te;((te=this.getClientHuddleState())===null||te===void 0?void 0:te.huddleSubState)===M.d.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.isMicEnabled()||this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)&&(this.setTargetSubState(M.d.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var Ee;return!!(!((Ee=Object(a.V)(this.getState()))===null||Ee===void 0)&&Ee.isMicrophoneEnabled)}getClientHuddleState(){const Ee=Object(o.getStateForClientStore)(),te=Object(V.g)(Ee),{channelId:Ae,teamId:Ve}=Object(V.p)(Ee)||{};if(!te||te===M.a.NOT_STARTED)return{huddleState:M.a.NOT_STARTED,channelId:Ae,teamId:Ve};const Ye=Object(V.h)(Ee);return{huddleState:te,huddleSubState:Ye,channelId:Ae,teamId:Ve}}assertTargetTeamAndChannel(Ee){const{teamId:te,channelId:Ae}=this.targetState;return{teamId:this.assert(te,`Expected teamId to be set for ${Ee}`),channelId:this.assert(Ae,`Expeted channelId to be set for ${Ee}`)}}getChannelIdOrDie(){const{channelId:Ee}=this.getClientHuddleState(),{channelId:te}=this.targetState,Ae=Ee||te;return this.assert(Ae,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:Ee}=this.getClientHuddleState(),{threadTs:te}=this.targetState;return Ee||te}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getIsExperimentStandaloneHuddlesOn(){return!!this.targetState.experimentStandaloneHuddlesOn}getTeamIdOrDie(){const{teamId:Ee}=this.getClientHuddleState(),{teamId:te}=this.targetState,Ae=Ee||te;return this.assert(Ae,"No team ID or active huddle")}getCallIdOrDie(){const Ee=Object(o.getStateForClientStore)(),te=Object(V.a)(Ee);return this.assert(te,"No call ID or active huddle")}getHuddleState(){const{huddleState:Ee}=this.getClientHuddleState();return Ee}dispatch(Ee){const te=this.getTeamIdOrDie();return Object(o.dispatchForTeamId)(te,Ee)}getState(Ee){const te=Ee||this.getTeamIdOrDie();return Object(o.getStateByTeamId)(te)}assert(Ee,te){if(Ee==null)throw new Error(te);return Ee}getClogger(){if(this.clogger)return this.clogger;const{teamId:Ee}=this.getClientHuddleState();return this.clogger=Ee?Object(ce.a)({state:Object(o.getStateByTeamId)(Ee)}):Object(ce.a)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=Object(be.b)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:Ee}=this.getClientHuddleState();return Ee?this.telemeter=Object(Z.d)({state:Object(o.getStateByTeamId)(Ee)}):this.telemeter=Object(Z.a)(),this.telemeter}constructor({logLabel:Ee=I.c,startStopTimeout:te=fe,disconnectTimeout:Ae=Te}={}){this.targetState={huddleState:M.a.NOT_STARTED},this.startStopDeferred=null;var Ve=this;this.scheduleHuddleStateExpirationIncrement=Object(n.coroutine)(function*(){if(Ve.isTargetState()&&Ve.targetState.huddleState!==M.a.STARTED)return;const Ye=60*5,ft={huddle_state_expiration_ts:new Date().getTime()/1e3+Ye};yield Ve.dispatch(Object(G.a)({profile:ft,reason:"increment-huddle-state-expiration-ts"})),setTimeout(Ve.scheduleHuddleStateExpirationIncrement,Object(z.a)(12e4,-.1,.1))}),this.logLabel=Ee,this.startStopTimeout=te,this.disconnectTimeout=Ae,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");Object(Oe.a)("baseHuddleStateManager",{setShortTimeoutValue:()=>{He=!0},resetShortTimeoutValue:()=>{He=!1}}),Object.defineProperty({shouldUseDebugTimeout:He},"shouldUseDebugTimeout",{get:()=>He,set:()=>{He=!0}});var Ke=e("Erbp"),$e=e("HPAj"),ct=e("SIMs"),Tt=e("ED8d");class Et extends Xe{start(Ee,te,Ae,Ve,Ye,ft,tt,Rt){var rt=this;return Object(n.coroutine)(function*(){yield rt.startHuddleWithTargetState(M.a.STARTED,Ee,te,Ae,Ve,Ye,ft,tt,Rt)})()}prejoin(Ee,te,Ae,Ve,Ye){var ft=this;return Object(n.coroutine)(function*(){yield ft.startHuddleWithTargetState(M.a.PRE_JOINED,Ee,te,Ae,Ve,void 0,Ye)})()}setOthersInHuddle(){var Ee=this;return Object(n.coroutine)(function*(){yield Ee.setTargetSubState(M.d.IN_PROGRESS_TOGETHER)})()}setAloneInHuddle(){var Ee=this;return Object(n.coroutine)(function*(){yield Ee.setTargetSubState(M.d.IN_PROGRESS_ALONE)})()}dismissAloneInHuddleWarning(Ee){var te=this;return Object(n.coroutine)(function*(){const Ae=Ee?M.d.INITIAL_ALONE_NOTICE_DISMISSED:M.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED;yield te.setTargetSubState(Ae)})()}startHuddleWithTargetState(Ee,te,Ae,Ve,Ye,ft,tt,Rt,rt){var we=this;return Object(n.coroutine)(function*(){var xe;!((xe=we.currentHuddleDeferred)===null||xe===void 0)&&xe.isPending()||(we.currentHuddleDeferred=Object(Se.a)()),yield we.setTargetState({huddleState:Ee,teamId:te,channelId:Ae,muted:Ve,callId:Ye,threadTs:ft,experimentHuddlesLoungeMusicPlayerGroupOn:tt,isMultiDevice:Rt,experimentStandaloneHuddlesOn:rt})})()}stop(){var Ee=this;return Object(n.coroutine)(function*(){var te;const Ae=Ee.getState(),Ve=Ee.getHuddleState()!==M.a.PRE_JOINED&&Object(f.G)(Ae)&&!Ee.isProcessing();Ve&&(Ee.getLogger().info(`Show huddle survey in ${Ee.getChannelIdOrDie()}`),Ee.dispatch(Object(b.c)({timeSeen:new Date().toISOString()}))),yield Ee.setTargetState({huddleState:Ve?M.a.SURVEY:M.a.NOT_STARTED}),Ee.getHuddleState()===M.a.NOT_STARTED&&(!((te=Ee.currentHuddleDeferred)===null||te===void 0)&&te.isPending())&&Ee.currentHuddleDeferred.resolve()})()}enterTerminalState(Ee){var te=this;return Object(n.coroutine)(function*(){var Ae;!((Ae=te.pendingHuddleStart)===null||Ae===void 0)&&Ae.isPending()?te.pendingHuddleStart.reject(Ee):yield te.handleErrorAndDisconnect(Ee)})()}waitForHuddleToEnd(){return ve.a.resolve(this.currentHuddleDeferred)}handleError(Ee,te){var Ae;this.getLogger().error(Ee);const Ve=te===M.a.STARTING||te===M.a.PENDING;this.dispatch(me({errorCode:Object(M.f)(Ee.name)?Ee.name:Ee.message,isJoinError:Ve})),!((Ae=this.currentHuddleDeferred)===null||Ae===void 0)&&Ae.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(Ee){let{teamId:te,channelId:Ae,huddleState:Ve}=Ee;if([M.a.NOT_STARTED].includes(Ve))return{optimisticHuddleState:M.a.ENDING};if([M.a.SURVEY].includes(Ve))return{optimisticHuddleState:null};if(Ve===M.a.PRE_JOINED)return{optimisticHuddleState:M.a.PRE_JOINED,isPrejoin:!0};if(Ve===M.a.STARTED&&te){var Ye,ft;const tt=Object(o.getStateByTeamId)(te),Rt=Object(o.getStateForClientStore)(),rt=Object(V.f)(Rt),we=(rt==null?void 0:rt.channelId)===Ae||!((Ye=Object(f.a)(tt,Ae))===null||Ye===void 0||(ft=Ye.activeParticipants)===null||ft===void 0)&&ft.length?null:M.a.STARTED;return Object(h.t)(tt,"huddles_global_mute")&&Object(o.dispatchForClientStore)(Object(c.W)(!0)),{isPrejoin:!1,optimisticHuddleState:we}}return{}}fetchCredentials(){var Ee=this;return Object(n.coroutine)(function*(){const te=Ee.getTeamIdOrDie(),Ae=Ee.getChannelIdOrDie(),Ve=Ee.getThreadTsOrNothing(),Ye=Object(o.getStateForClientStore)(),ft=Object(f.a)(Ee.getState(),Ae),{ttiTrace:tt}=Object(Tt.a)().getAllTraceHandlers(),Rt=Object(V.r)(Ye,Ae),rt=Ee.getIsMultiDevice(),we=Object($e.a)(Ee.getState());if(tt==null||tt.createFetchCredentialsSpan(),Rt){tt==null||tt.setCachedTag({cached:!0});const xe=(ft==null?void 0:ft.id)||Object(R.w)(Rt.credentials);if(xe){const st=Object(f.r)(Ee.getState(),xe);if(st&&st.hasEnded)throw yield Ee.clearQuickJoinCredentials(),new Error(M.c.ChimeMeetingEnded)}return Ee.getTelemeter().count(_.l),tt==null||tt.closeFetchCredentialsSpan(),{roomId:xe,server:Rt.credentials,isQuickJoinCredentials:!0}}if(Object(S.C)(Ee.getState(te))){const xe=Object(ct.H)(Ee.getState(),{channelId:Ae});if(xe)return{roomId:Object(R.w)(xe),server:xe,isQuickJoinCredentials:!1}}return Ee.getTelemeter().mark(_.n),tt==null||tt.setCachedTag({cached:!1}),Ee.dispatch(Object(re.c)({teamId:te,channelId:Ae,shouldFetchRegion:!ft,traceId:tt==null?void 0:tt.getTTITraceId(),parentSpanId:tt==null?void 0:tt.getFetchCredentialsSpanId(),...Ve&&{threadTs:Ve},...rt&&{isMultiDevice:rt}})).then(xe=>{var st,ke;if(!(!(xe==null||(st=xe.server)===null||st===void 0)&&st.meeting)||!(!(xe==null||(ke=xe.server)===null||ke===void 0)&&ke.attendee))throw new Error("create_meeting_failed");tt==null||tt.closeFetchCredentialsSpan(),Ee.getTelemeter().mark(_.m);const lt=Ee.getTelemeter().measure(_.n,_.z,_.m);Ee.getTelemeter().count(_.z,lt),Object(o.dispatchForClientStore)(Object(c.ab)({metrics:{roomsJoinTime:lt}}));let at=Ae;return Ee.getIsExperimentStandaloneHuddlesOn()&&xe.channelId&&(at=xe.channelId,Ee.setTargetChannel(at),Object(o.dispatchForClientStore)(Object(c.Z)(at))),Object(o.dispatchForClientStore)(Object(c.db)({channelId:at,joinCredentials:xe.server,expiry:Date.now()+I.a,fromInvite:!1})),xe.rootThreadTs&&xe.roomId&&(Ee.dispatch(Object(C.O)({huddleId:xe.roomId,thread:{channelId:at,ts:xe.rootThreadTs}})),Ee.dispatch(Object(p.e)({channelId:at,threadTs:xe.rootThreadTs,lastRead:xe.rootThreadTs,reason:"canvas-rooms-join-api"})),Ee.dispatch(we?Object(H.a)({channelId:at,threadTs:xe.rootThreadTs,oldest:xe.rootThreadTs}):Object(se.a)({channelId:at,threadTs:xe.rootThreadTs,oldest:xe.rootThreadTs}))),xe})})()}connectToChime(Ee,te){let{server:Ae,roomId:Ve}=Ee,{muted:Ye,huddleState:ft}=te;var tt=this;return Object(n.coroutine)(function*(){const{ttiTrace:Rt}=Object(Tt.a)().getAllTraceHandlers();return Rt==null||Rt.createConnectToMediaServiceSpan(),Object(o.dispatchForClientStore)(Object(c.e)({callResult:{server:Ae,roomId:Ve,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:Ye,waitForHuddleStart:Object(Se.a)(),isPrejoin:ft===M.a.PRE_JOINED})),tt.pendingHuddleStart=Object(Se.a)(),ft===M.a.PRE_JOINED?ve.a.resolve():tt.pendingHuddleStart})()}resolvePendingJoin(Ee){var te=this;return Object(n.coroutine)(function*(){try{var Ae;const Ye=te.getChannelIdOrDie(),{ttiTrace:ft}=Object(Tt.a)().getAllTraceHandlers(),tt=te.getState(),Rt=Object(o.getStateForClientStore)(),{callId:rt,optimisticHuddleState:we}=Object(V.p)(Rt)||{},xe=Object(f.B)(tt);if(te.getLogger().info(`Resolve pending huddle (${Ye}, optimisticHuddleState: ${we}, has optimisticTopic: ${!!xe})`),!(!((Ae=te.pendingHuddleStart)===null||Ae===void 0)&&Ae.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const st=te.assert(rt,"Room ID is not defined for pending join"),ke=Object(h.t)(tt,"huddles_cc_by_default");if(Object(R.P)(tt,Ye)&&ke&&(te.dispatch(Object(l.a)()),te.dispatch(Object(u.f)(!0)),te.dispatch(Object(u.d)(!0))),xe){try{yield te.dispatch(Object(re.e)({roomId:st,name:xe})),te.dispatch(Object(r.E)({id:st,name:xe}))}catch(at){te.getLogger().error(at)}te.dispatch(Object(E.e)(null))}Object(o.dispatchForClientStore)(Object(c.c)(Ye)),ft==null||ft.closeConnectToMediaServiceSpan(),Object(ce.a)({state:tt}).track(he.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:st,duration_ms:Math.round(Ee),channel_id:Ye}}}),Object(o.dispatchForClientStore)(Object(c.ab)({metrics:{audioConnectedTime:Ee},isSelfJoined:!0})),te.pendingHuddleStart.resolve()}catch(Ye){var Ve;(Ve=te.pendingHuddleStart)===null||Ve===void 0||Ve.reject(Ye)}})()}completePrejoin(Ee){var te=this;return Object(n.coroutine)(function*(){const Ae=te.getChannelIdOrDie(),Ve=Object(o.getStateForClientStore)(),{ttiTrace:Ye}=Object(Tt.a)().getAllTraceHandlers(),ft=Object(V.r)(Ve,Ae);return Ye==null||Ye.setCachedTag({cached:!!ft}),Ye==null||Ye.createConnectToMediaServiceSpan(),Object(o.dispatchForClientStore)(Object(c.Y)({...Ee}))})()}clearQuickJoinCredentials(){return Object(n.coroutine)(function*(){const Ee=Object(o.getStateForClientStore)(),{channelId:te}=Object(V.p)(Ee)||{};return Object(o.dispatchForClientStore)(Object(c.d)({channelId:te}))})()}disconnect(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var te=this;return Object(n.coroutine)(function*(){var Ae;const Ve=te.getState(),Ye=Object(o.getStateForClientStore)(),{channelId:ft,teamId:tt}=Object(V.p)(Ye)||{};Object(o.dispatchForClientStore)(Object(c.W)(!1)),Object(S.H)(Ve)&&(Object(o.dispatchForClientStore)(Object(c.Q)()),Object(o.dispatchForClientStore)(Object(c.K)({song:void 0}))),Object(o.dispatchForClientStore)(Object(c.ab)({isSelfJoined:!1})),Ee||Object(Tt.a)().cleanup();const rt=Object(i.a)(Ve),we=ft&&Object(f.a)(Ve,ft);if(we&&ft){const xe=(we.activeParticipants||[]).filter(ke=>!(Object(d.g)(ke)&&ke.slackId===rt));te.dispatch(Object(r.E)({id:we.id,activeParticipants:xe}));const st=Object(r.f)(te.getState(),we.id);st&&te.dispatch(Object(E.l)({call:st,channelId:ft}))}if(ft){const xe=yield Object(o.dispatchForTeamId)(tt,O({channelId:ft,userId:rt})),st=Object(D.g)(Ve),ke=Object(q.F)(st);(xe||ke)&&(yield te.clearQuickJoinCredentials()),Object(o.dispatchForClientStore)(Object(c.c)(ft))}try{const xe=Object(Se.a)();Object(o.dispatchForClientStore)(Object(c.f)({waitForHuddleEnd:xe})),yield xe}catch(xe){te.getLogger().error(xe)}te.dispatch(Object(a.gb)({huddlesVideoActive:!1})),te.dispatch(Object(C.c)()),Object(o.dispatchForClientStore)(Object(c.o)()),!((Ae=te.pendingHuddleStart)===null||Ae===void 0)&&Ae.isPending()&&te.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))})()}}m(Et,"huddle_state_manager_HuddleStateManager");const Le=Object(t.a)(()=>{const Dt=new Et;return Object(Ke.b)(Dt.waitForStartStop.bind(Dt)),Dt});var jt=s.a=Le},"6w/h":function(K,s,e){K.exports=e.p+"remote_work-preview-5fbbc32.jpg"},"6y7U":function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("Omjo"),t=e("lhZz"),a=e("2Pfg"),r=e("RU1E");function d(o){if(!o)return;const i=Object(t.getStoreInstanceByTeamId)(o);i&&(Object(n.b)("BOOT",`(${o}) Boot complete`),a.a.delete("setNavigatedDuringWarmBoot"),i.dispatch(Object(r.b)(!1)),i.dispatch(Object(r.a)(!1)))}m(d,"markTeamBootCompleted")},"7/Cr":function(K,s,e){K.exports=e.p+"template_card_project_tracker-342426e.png"},"74PA":function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("5IZy"),t=e("9Gfp"),a=e("S4nM"),r=e("M3pb");function d(o,i){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var u;const c=(u=Object(r.a)())===null||u===void 0?void 0:u.getState();if(!c)return;const E=Object(n.a)({state:c}).setUser(Object(t.a)(c));if(h){const v={...i,room_id:Object(a.c)(c)};E.track(o,v,{sendImmediately:l})}else E.track(o,i,{sendImmediately:l})}m(d,"trackCallsClog")},"7Bj1":function(K,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("n3tL"),r=e("SQ0V"),d=e("l1I1"),o=e("ktUG"),i=e("2VFn"),h=e("NV6F"),l=e("i9jZ"),u=e("FVdo"),c=e("xcHN"),E=e("37+L"),v=e("oUrV");const g=Object(r.c)("Opens a channel in a new window",function(){var O=Object(n.coroutine)(function*(I,C,f){let{viewSet:S,viewType:D,shouldNavigateInContext:p,shouldShowSearch:b,containerOrigin:M,initialColumnMode:_,clogParams:P}=f;const y=C(),j=S[i.h.Primary],U=S[i.h.Secondary];if(j){if(D===u.a.Doc){var W;const X=(W=S.primary)===null||W===void 0?void 0:W.id;if(!X||!Object(d.a)(X))return;I(Object(h.v)({viewSet:S,clogParams:{entryPoint:"quip",uiComponentName:o.UiComponentName.QUIP_NEW_WINDOW_EMBED},shouldShowSearch:b}));return}if(Object(l.a)(y)){var L,R,A;if((j.id==="thread"||j.id==="comment_thread")&&(!((L=j.params)===null||L===void 0)&&L.threadId)){const{channelId:X}=Object(c.a)(j.params.threadId),J=j.params.entityId,Y=j.id==="comment_thread"?J:X;I(Object(h.v)({viewSet:{[i.h.Primary]:Object(E.i)(Y??j.params.entityId),[i.h.Secondary]:{id:j.id,params:j.params,viewType:j.viewType}},shouldNavigateInContext:p,containerOrigin:M,initialColumnMode:_,clogParams:P}))}else if((U==null?void 0:U.id)==="channel_canvas"&&(!((R=U.params)===null||R===void 0)&&R.quipDocId||!((A=U.params)===null||A===void 0)&&A.entityId)){var B,F,k,V;I(Object(h.v)({viewSet:{[i.h.Primary]:Object(E.i)(j.id),[i.h.Secondary]:Object(E.j)(((B=U.params)===null||B===void 0?void 0:B.quipDocId)||((F=U.params)===null||F===void 0?void 0:F.entityId),j.id,{fileId:((k=U.params)===null||k===void 0?void 0:k.quipDocId)||((V=U.params)===null||V===void 0?void 0:V.entityId),source:v.a.CHANNEL_CANVAS_FROM_CHANNEL_LIST_NEW_WINDOW,isChannelCanvas:!0})},shouldNavigateInContext:p,containerOrigin:M,initialColumnMode:_,clogParams:P}))}else I(Object(h.v)({viewSet:S,shouldNavigateInContext:p,shouldShowSearch:b,clogParams:P}))}}});return function(I,C,f){return O.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkopenInDetachedWindow",description:"Opens a channel in a new window"},g.propTypes={viewSet:a.default.object,viewType:a.default.string,fromTileKey:a.default.string},s.a=g},"7Ehu":function(K,s,e){K.exports=e.p+"template_card_team_priorities-f532f9e.png"},"7JHn":function(K,s,e){"use strict";e.d(s,"b",function(){return W});var n=e("q1tI"),t=e.n(n),a=e("gSGL"),r=e("/1FC"),d=e("XnHx"),o=e("ifKl"),i=e("BHdc"),h=e("Cfcg"),l=e("s4P+"),u=e("UHsu");function c(F){return F instanceof Array?F.map(k=>c(k)):F&&F.type===t.a.Fragment?c(F.props.children):F}m(c,"defragment");function E(F){return t.a.Children.toArray(c(F))}m(E,"flattenChildren");var v=e("lYQS"),g=e("Trx9"),O=e("ktUG"),I=e("6FZx"),C=e("GFD/"),f=e("NPyv");const S=m(F=>{let{"aria-labelledby":k,"aria-owns":V}=F;return V?t.a.createElement("div",{className:"offscreen",role:"group","aria-owns":V,"aria-labelledby":k}):null},"MenuItemGroup");S.displayName="MenuItemGroup";var D=S,p=e("YiJ7"),b=e("1ufr");function M(){return M=Object.assign||function(F){for(var k=1;k<arguments.length;k++){var V=arguments[k];for(var X in V)Object.prototype.hasOwnProperty.call(V,X)&&(F[X]=V[X])}return F},M.apply(this,arguments)}m(M,"_extends");function _(F){const k=F&&F.type;return!!k&&Object(I.c)(k)}m(_,"isMenuItem");function P(F){const k=F&&F.type;return!!k&&Object(u.b)(k)}m(P,"isSubmenu");function y(F){const k=F&&F.type;return k&&Object(C.b)(k)}m(y,"isSeparator");function j(F){const k=F&&F.type;return k&&Object(f.c)(k)}m(j,"isMenuItemHeader");let U=0;function W(){return U>0}m(W,"isMenuVisible");const L={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select",Home:"selectfirst",End:"selectlast"};let R=m(class extends n.Component{componentDidMount(){this.focus(),U+=1}componentDidUpdate(k){this.props.kbNavActive&&!k.kbNavActive&&this.activateKBNav()}componentWillUnmount(){U-=1,this.props.onUnmount&&this.props.onUnmount()}onMenuItemSelected(k,V){this.props.onMenuItemSelected&&this.props.onMenuItemSelected(k,V)}onMenuKeyDown(k){var V;const{kbNavActive:X,onMenuKeyDown:J,onCloseSubmenu:Y,onTriggerClose:ie,window:de}=this.props;if(!X)return;const{key:pe}=k,oe=L[pe],me=(V=this.keyboardShortcutsMap)===null||V===void 0?void 0:V[pe],re=this.getSelectedMenuItem(),ve=re&&P(re),q=this.getAllMenuItemIndices();(oe||me)&&(k.stopPropagation(),k.preventDefault()),(oe==="selectnext"||oe==="selectprevious")&&this.onMenuNavigation(oe),oe==="closesubmenu"&&(Y==null||Y(k)),(oe==="select"||oe==="opensubmenu")&&ve&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),oe==="closemenu"&&(ie==null||ie(k)),oe==="selectfirst"&&this.setState(()=>({highlightedMenuItemIndex:q[0],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0})),oe==="selectlast"&&this.setState(()=>({highlightedMenuItemIndex:q[q.length-1],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}));const ce=`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`;if(oe==="select"&&ce&&!ve){var he;(he=de.document.getElementById(ce))===null||he===void 0||he.click(),ie==null||ie(k)}if(me){var Se;(Se=de.document.getElementById(me))===null||Se===void 0||Se.click(),ie==null||ie(k)}J==null||J(k,{isCurrentItemSubmenu:ve,closeMenu:ie,selectedMenuItem:re})}onMenuNavigation(k){const V=this.getIndexOfNextMenuItemInDirection(k);this.setState(()=>({highlightedMenuItemIndex:V,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(k){const V=this.state.highlightCanChangeOnMouseMovement?k:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:V,contingentHighlightedMenuItemIndex:k,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var X;(X=this.ariaMenuNode)===null||X===void 0||X.focus()}}onMouseLeaveMenu(){const k=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:k,contingentHighlightedMenuItemIndex:-1}))}getAllMenuItemIndices(){const k=[];return E(this.props.children).forEach((V,X)=>{(_(V)||P(V))&&k.push(X)}),k}getIndexOfNextMenuItemInDirection(k){const V=this.getAllMenuItemIndices(),X=V.indexOf(this.state.highlightedMenuItemIndex),J=V.length-1;if(k==="selectnext"){const ie=X<J?X+1:0;return V[ie]}const Y=X-1>=0?X-1:J;return V[Y]}setAriaMenuRef(k){this.ariaMenuNode=k}activateKBNav(){var k;(k=this.ariaMenuNode)===null||k===void 0||k.focus(),this.setState(V=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:V.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):V.highlightedMenuItemIndex}))}allowHighlightChange(){this.setState(k=>({highlightedMenuItemIndex:k.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()}getSelectedMenuItem(){const{highlightedMenuItemIndex:k}=this.state;if(!(k<0)&&this.menuChildren)return this.menuChildren[k]}focus(){const{kbNavActive:k,isSubmenu:V}=this.props;if(!k)return;if(!V){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const X=this.getAllMenuItemIndices();if(!X.length){var J;(J=this.ariaMenuNode)===null||J===void 0||J.focus();return}this.setState(()=>({highlightedMenuItemIndex:X[0]}),()=>{var Y;(Y=this.ariaMenuNode)===null||Y===void 0||Y.focus()})}preventHighlightChange(){this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()}registerKeyboardShortcutForMenuItem(k,V){if(!k||!V)return;const{label:X,key:J}=k;Object(a.a)(X)&&(Object(a.a)(J)||Object(r.a)(J))&&Object(d.a)(J).forEach(Y=>{this.keyboardShortcutsMap[Y]=V})}renderMenuItem(k,V){const X=this.onMouseEnterMenuItem.bind(this,V),{highlightedMenuItemIndex:J,highlightedMenuItemKbNavActive:Y,isKeyboardHighlight:ie}=this.state,{onMenuItemSelectedBefore:de,stripTerminalSeparators:pe,isResponsive:oe}=this.props;j(k)&&k.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[k.props.for]={key:k.props.for,"aria-labelledby":Object(f.b)(k.props.for),"aria-owns":[],index:V});const me={...k.props,onMouseEnter:X,key:V},re=`${this.activeMenuId}-${V}`,{shortcut:ve}=k.props;if(ve&&this.registerKeyboardShortcutForMenuItem(ve,re),_(k)||P(k)){const Se=J===V;if(me.activeMenuId=re,Se&&ie){var q,ce,he;(ce=(q=this.ariaMenuNode)===null||q===void 0?void 0:q.querySelector(`#${me.activeMenuId}`))===null||ce===void 0||(he=ce.scrollIntoView)===null||he===void 0||he.call(ce)}me.menuCallbackBefore=de,me.menuCallback=this.onMenuItemSelected,me.menuCallbackId||(me.menuCallbackId=V),me.highlighted=J===V,me.isKeyboardHighlight=me.highlighted&&ie,me.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[me.group]||(this.menuGroups[me.group]={key:me.group,"aria-owns":[],index:V}),this.menuGroups[me.group]["aria-owns"].push(me.activeMenuId))}if(P(k)&&(me.isOpen=me.highlighted&&!ie||me.highlighted&&Y,me.kbNavActive=me.highlighted&&Y,me.returnKBNav=this.activateKBNav,me.preventHighlightChange=this.preventHighlightChange,me.allowHighlightChange=this.allowHighlightChange),y(k)&&pe)if(!this.menuChildren)Object(l.b)().warn("Menu.renderMenuItem called without this.menuChildren");else{const Se=this.menuChildren[V-1];if(y(Se))return null;me.noFirstChild=!0,me.noLastChild=!0}return _(k)&&(me.isResponsive=oe),t.a.cloneElement(k,me)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(k=>k["aria-owns"].length>0).map(k=>({group:t.a.createElement(D,{key:k.key,"aria-labelledby":k["aria-labelledby"],"aria-owns":k["aria-owns"].join(" ")}),index:k.index})).sort((k,V)=>V.index-k.index):[]}renderMenuItems(){this.menuChildren=E(this.props.children);const k=this.menuChildren.map(this.renderMenuItem,this);return this.renderMenuGroups().forEach(X=>{let{group:J,index:Y}=X;k.splice(Y,0,J)}),k}renderMenu(){const{noMargin:k,menuClassNames:V,"data-qa":X,isUnstyled:J,isResponsive:Y,experimentSkResponsiveMenusGroupOn:ie}=this.props,de=Object(i.default)("c-menu__items",{"c-menu__items--no_margin":k}),pe=this.state.highlightedMenuItemIndex!==-1?`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`:null,oe=Object(i.default)({"c-menu":!J,"c-menu--responsive":Y&&ie},V);return t.a.createElement("div",{className:oe,"data-qa":X,style:{width:this.props.width}},t.a.createElement("div",{className:"c-menu__items_scroller"},t.a.createElement("div",{"aria-activedescendant":pe??void 0,ref:this.setAriaMenuRef,className:de,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const k=this.renderMenu(),{autoClogProps:V}=this.props;return V?t.a.createElement(g.a,M({elementType:O.ElementType.MENU},V),k):k}constructor(k){super(k),this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1},this.setAriaMenuRef=this.setAriaMenuRef.bind(this),this.onMenuKeyDown=this.onMenuKeyDown.bind(this),this.onMouseLeaveMenu=this.onMouseLeaveMenu.bind(this),this.onMenuItemSelected=this.onMenuItemSelected.bind(this),this.allowHighlightChange=this.allowHighlightChange.bind(this),this.preventHighlightChange=this.preventHighlightChange.bind(this),this.activateKBNav=this.activateKBNav.bind(this),this.activeMenuId=`menu-${Object(v.a)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.ariaMenuNode=void 0,this.menuGroups={}}},"Menu");R.displayName="Menu",R.defaultProps={menuClassNames:void 0,onMenuItemSelected:o.a,onMenuItemSelectedBefore:o.a,onTriggerClose:o.a,onCloseSubmenu:o.a,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:o.a,allowHighlightChange:o.a,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:o.a,onUnmount:o.a,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0};const A=m(F=>({experimentSkResponsiveMenusGroupOn:Object(p.a)(F)}),"mapStateToProps");var B=s.a=Object(b.a)(Object(h.a)(A)(R))},"7K0/":function(K,s,e){"use strict";var n=e("w/U0"),t=e("MDjO");const a=m(r=>{if(!r)return!1;const d=Object(n.a)(r)?t.l:t.k;return r.replace(/[*?"]/g,"").length>=d},"isValidListViewSearchQuery");s.a=a},"7PnM":function(K,s,e){"use strict";e.d(s,"b",function(){return d}),e.d(s,"a",function(){return o}),e.d(s,"c",function(){return i});var n=e("n3tL"),t=e("2XU3"),a=e("WCk1"),r=e("e4zL");const d=Object(a.a)("Fetch all available and installed emoji collections from the API",function(h,l){let{reason:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return h(Object(t.apiCall)({method:"emoji.collections.list",reason:u,args:{installed_only:"0"}}))});d.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"},d.propTypes={reason:n.default.string.isRequired};const o=Object(a.a)("Add an emoji collection",(h,l,u)=>{let{collectionId:c,reason:E}=u;return h(Object(t.apiCall)({method:"emoji.addCollection",args:{collection_id:c},reason:E})).catch(v=>{if(v.name!=="already_installed")throw v})});o.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"},o.propTypes={collectionId:n.default.string.isRequired,reason:n.default.string.isRequired};const i=Object(a.a)("Remove an emoji collection",(h,l,u)=>{let{collectionId:c,reason:E}=u;return h(Object(r.h)({collectionId:c})),h(Object(t.apiCall)({method:"emoji.removeCollection",reason:E,args:{collection_id:c}}))});i.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"},i.propTypes={collectionId:n.default.string.isRequired,reason:n.default.string.isRequired}},"7T78":function(K,s,e){"use strict";e.d(s,"c",function(){return h}),e.d(s,"b",function(){return l}),e.d(s,"a",function(){return u});var n=e("9oTK"),t=e.n(n),a=e("WCk1"),r=e("o+v5"),d=e("O86Y"),o=e("5W60"),i=e("Yg2s");const h=Object(a.a)("Queries Flannel for a list of external connected orgs/teams",(c,E,v)=>{let{count:g,filter:O,marker:I}=v;return Object(o.d)(Object(d.h)(E()),{method:o.c.EXTERNAL_TEAMS_LIST,args:{count:g,filter:O,marker:I}}).then(C=>C)});h.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const l=Object(a.a)("Queries Flannel for channel counts of external connected orgs/teams",(c,E,v)=>{let{teamIds:g,count:O,marker:I}=v;return Object(o.d)(Object(d.h)(E()),{method:o.c.EXTERNAL_TEAMS_COUNTS,args:{team_ids:g,count:O,marker:I}}).then(C=>C)});l.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const u=Object(a.a)("Fetches and upserts external teams that match a query",function(){var c=Object(n.coroutine)(function*(E,v,g){const O=Object(d.h)(v());return Object(i.j)(O,g).then(I=>{let{objects:C,next_marker:f}=I;return E(Object(r.g)({teams:C})),{externalTeams:C,nextMarker:f}})});return function(E,v,g){return c.apply(this,arguments)}}());u.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},"7UGH":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("ZKjC"),t=e("z/sp");const a=Object(n.b)((r,d)=>{var o;return(o=Object(t.a)(r))===null||o===void 0?void 0:o[d]});a.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(r,d)=>{var o;return(o=Object(t.a)(r))===null||o===void 0?void 0:o[d]}}},"7lBi":function(K,s,e){"use strict";e.d(s,"v",function(){return n}),e.d(s,"u",function(){return t}),e.d(s,"j",function(){return a}),e.d(s,"h",function(){return r}),e.d(s,"i",function(){return d}),e.d(s,"C",function(){return o}),e.d(s,"p",function(){return h}),e.d(s,"o",function(){return l}),e.d(s,"d",function(){return u}),e.d(s,"e",function(){return c}),e.d(s,"c",function(){return E}),e.d(s,"t",function(){return v}),e.d(s,"a",function(){return g}),e.d(s,"w",function(){return O}),e.d(s,"k",function(){return I}),e.d(s,"q",function(){return f}),e.d(s,"g",function(){return S}),e.d(s,"f",function(){return D}),e.d(s,"s",function(){return b}),e.d(s,"r",function(){return M}),e.d(s,"B",function(){return _}),e.d(s,"D",function(){return y}),e.d(s,"y",function(){return j}),e.d(s,"z",function(){return U}),e.d(s,"l",function(){return W}),e.d(s,"m",function(){return L}),e.d(s,"x",function(){return R}),e.d(s,"A",function(){return A}),e.d(s,"E",function(){return B}),e.d(s,"b",function(){return F}),e.d(s,"n",function(){return k});const n=180,t=600,a=260,r=310,d=1e3,o=24,i=289,h=321,l=385,u=15;var c;(function(V){V.MANUAL="manual",V.AUTO="auto"})(c||(c={}));const E=500,v=140,g=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:310},{minWidth:0,sidebar:200,inspector:310}],O=[{min:n,max:220,className:"p-workspace__sidebar--tiny"},{min:t-50,max:t,className:"p-workspace__sidebar--large"}],I=[{min:a,max:300,className:"p-workspace__secondary_view--tiny"},{min:301,max:399,className:"p-workspace__secondary_view--medium"},{min:400,max:d,className:"p-workspace__secondary_view--large"}],C=[{min:a,max:300,className:"p-workspace__tiles--tiny"},{min:301,max:499,className:"p-workspace__tiles--medium"},{min:500,max:d,className:"p-workspace__tiles--large"}],f=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],S=260,D=400,p=400,b=8,M=16,_=60,P=44,y=40,j="sidebarWidthIntent",U="sidebarWidthMode",W="inspectorWidthIntent",L="inspectorWidthMode",R="isSidebarVisible",A="isTeamSidebarVisible",B="userPrefersResponsiveSidebar",F="calculatedSidebarWidth",k="LAYOUT"},"7pFd":function(K,s,e){"use strict";e.d(s,"a",function(){return tn});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("zxER"),d=e("BHdc"),o=e("+kJ4"),i=e("YUBf"),h=e("VkPA");function l(ut){return ut&&ut.id}m(l,"getEmojiCollectionId");var u=e("k400");function c(ut){return ut&&ut.author}m(c,"getEmojiCollectionAuthor");var E=e("s9IP");function v(ut){return ut&&ut.localEmoji}m(v,"getEmojiCollectionLocalEmoji");var g=e("nNoG"),O=e("RVJP"),I=e("fujP"),C=e("Z0Cl"),f=e("TGBA"),S=e("1myf"),D=e("Fsnq"),p=e("ZBlo"),b=e("n3tL"),M=e("LvEQ"),_=e("8Vn2");function P(ut){return ut&&ut.date_create}m(P,"getEmojiCollectionDateCreate");var y=e("VfSx"),j=e("JoR1"),U=e("T1zM"),W=e("zmn3"),L=e("UnpP"),R=e("oEDn"),A=e("GWPn"),B=e("6R8Z");const F=new g.b("custom_emoji_list"),k="emoji_packs_clicked_collection_cta",V=m(ut=>{let{id:Ot,name:Wt,author:Ht,emoji:Zt,installed:gn,onClick:Pn}=ut;const Mn=Object(a.useDispatch)(),pt=Object(r.c)(Un=>Object(j.t)(Un,k)),_t=Object(r.c)(M.h),xt=Object(r.c)(M.e);if(!Zt)return null;const Cn=l(xt)===Ot&&_t&&!pt;function pn(){Cn&&Mn(Object(U.f)({pref:k,value:!0})),Pn()}m(pn,"handleOnClick");const fn=Object(W.a)(Zt,(Un,Dn)=>({name:Dn,url:Un})),Ln=Object(p.a)(fn,4),_n=F.t("by {author}",{author:Ht});return t.a.createElement(B.a,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:pn},t.a.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.a.createElement("div",{className:"flex_one"},t.a.createElement("div",{className:"p-emoji_pack_card__header"},Wt,Cn&&t.a.createElement("span",{className:"margin_left_25"},t.a.createElement(A.a,null,F.t("NEW")))),t.a.createElement("div",{className:"p-emoji_pack_card__subheader"},_n)),gn&&!Cn&&t.a.createElement("div",{className:"flex_none"},t.a.createElement(R.a,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.a.createElement("div",{className:"p-emoji_pack_card_rows"},Ln.map(Un=>t.a.createElement("div",{key:Un.map(Dn=>`${Dn.name}-card-`).join(),className:"p-emoji_pack_card__row"},Un.map(Dn=>t.a.createElement(L.b,{key:`emoji-pack-${Dn.name}`,showTooltip:!1,text:`:${Dn.name}:`,url:Dn.url,emojiSize:L.a.LARGE})),[...new Array(4-Un.length)].map((Dn,nt)=>`emoji-pack-spacer-${nt}`).map(Dn=>t.a.createElement("div",{key:Dn,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");V.displayName="EmojiPackCard";var X=V;const J=new g.b("custom_emoji_list"),Y=m(()=>{const ut=J.t("STAY TUNED"),Ot=J.t("More emoji packs are on the way");return t.a.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.a.createElement(A.a,{className:"p-emoji_pack_coming_soon__pill"},ut),t.a.createElement("div",{className:"p-emoji_pack_coming_soon__text"},Ot),t.a.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.a.createElement("g",{opacity:"0.8"},t.a.createElement("g",{clipPath:"url(#clip0)"},t.a.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.a.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.a.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.a.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.a.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.a.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.a.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.a.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.a.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.a.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.a.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.a.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.a.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.a.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.a.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.a.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.a.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.a.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.a.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.a.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.a.createElement("defs",null,t.a.createElement("clipPath",null,t.a.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.a.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.a.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.a.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.a.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.a.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.a.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.a.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.a.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.a.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");Y.displayName="EmojiPackComingSoon";var ie=Y;const de=new g.b("custom_emoji_list");function pe(ut){let{row:Ot,className:Wt,onPackClick:Ht}=ut;return t.a.createElement("div",{key:Ot.map(Zt=>`${l(Zt)}-row`).join(),className:Wt},Ot.map(Zt=>{if(Zt.type==="coming_soon")return t.a.createElement(ie,{key:"emoji-pack-coming-soon"});if(Zt.type==="spacer")return t.a.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const gn=Object(y.a)(Zt);return t.a.createElement(X,{key:`emoji-pack-${l(Zt)}`,installed:gn,id:l(Zt)||void 0,name:Object(u.a)(Zt),author:c(Zt),emoji:Object(E.a)(Zt),onClick:()=>Ht(Zt,{installed:gn})})}))}m(pe,"Row"),pe.displayName="Row",pe.propTypes={row:b.default.arrayOf(b.default.object),className:b.default.string,onPackClick:b.default.func.isRequired},pe.defaultProps={row:[],className:void 0};function oe(ut){let{orgName:Ot,onPackClick:Wt}=ut;const Ht=Object(a.useDispatch)(),Zt=Object(r.c)(M.b);if(Object(n.useEffect)(()=>{Ht(Object(_.a)({reason:"emojiPack:dialog"}))},[Ht]),Object(I.a)(Zt))return null;const gn=Object(C.a)(Zt,_t=>Object(y.a)(_t)).length;let Pn=Object(f.a)(Zt);Pn=Object(S.a)(Pn,_t=>-1*P(_t)),Object(D.a)(Zt)<2&&Pn.push({type:"coming_soon"}),Pn.length%2!==0&&Pn.push({type:"spacer"});const Mn=Object(p.a)(Pn,2);let pt;return Ot?pt=de.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.a.createElement("b",null,Ot)}):pt=de.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.a.createElement(i.d,null,t.a.createElement(i.e,null,t.a.createElement("div",null,gn>0&&t.a.createElement("div",{className:"p-emoji_pack__header"},de.t("Added"),t.a.createElement("div",{className:"p-emoji_pack__pill"},gn)),t.a.createElement("div",{className:"p-emoji_pack__list"},Mn.map(_t=>t.a.createElement(pe,{key:_t.map(xt=>`${l(xt)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:_t,onPackClick:Wt}))),t.a.createElement("div",{className:"p-emoji_pack__help"},pt))))}m(oe,"AddEmojiPackDialogContent"),oe.displayName="AddEmojiPackDialogContent";var me=oe,re=e("Cfcg"),ve=e("7EGn"),q=e("ifKl"),ce=e("hbEN"),he=e("WIr4"),Se=e("5IZy"),se=e("95ku"),H=e("/qcS"),Oe=e("rAyg"),$=e("jWAO"),z=e("qDEp"),be=e("nWdO"),Z=e("9Gfp"),G=e("oY18"),ne=e("YlCL"),ge=e("ktUG"),ae=e("/1FC"),fe=e("Z3Pq"),Te=e("2XU3"),ye=e("WCk1"),Ue=e("DmzU"),Ne=e("ZKjC");const He=Object(Ne.b)(ut=>!ut||!ut.customizeEmoji||!ut.customizeEmoji.customEmojiData||!ut.customizeEmoji.customEmojiData.length?[]:ut.customizeEmoji.customEmojiData);He.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:ut=>!ut||!ut.customizeEmoji||!ut.customizeEmoji.customEmojiData||!ut.customizeEmoji.customEmojiData.length?[]:ut.customizeEmoji.customEmojiData};const ze=Object(Ne.b)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.customEmojiTotalCount?ut.customizeEmoji.customEmojiTotalCount:0);ze.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.customEmojiTotalCount?ut.customizeEmoji.customEmojiTotalCount:0};const Je=Object(Ne.b)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.currentPage?ut.customizeEmoji.currentPage:0);Je.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.currentPage?ut.customizeEmoji.currentPage:0};const Xe=Object(Ne.b)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.totalPages?ut.customizeEmoji.totalPages:0);Xe.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.totalPages?ut.customizeEmoji.totalPages:0};const Me=Object(Ne.b)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.isLoadingNewPage?ut.customizeEmoji.isLoadingNewPage:!1);Me.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.isLoadingNewPage?ut.customizeEmoji.isLoadingNewPage:!1};const Ke=Object(Ne.b)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.isLoadingNewSearchQuery?ut.customizeEmoji.isLoadingNewSearchQuery:!1);Ke.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.isLoadingNewSearchQuery?ut.customizeEmoji.isLoadingNewSearchQuery:!1};const $e=Object(Ne.b)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.deletedEmojiList?ut.customizeEmoji.deletedEmojiList:[]);$e.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.deletedEmojiList?ut.customizeEmoji.deletedEmojiList:[]};const ct=Object(Ne.b)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.disabledEmoji?ut.customizeEmoji.disabledEmoji:{});ct.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.disabledEmoji?ut.customizeEmoji.disabledEmoji:{}};const Tt=Object(Ne.b)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.sortDir?ut.customizeEmoji.sortDir:"asc");Tt.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.sortDir?ut.customizeEmoji.sortDir:"asc"};const Et=Object(Ne.b)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.sortBy?ut.customizeEmoji.sortBy:"name");Et.meta={name:"createSelector",key:"createSelectorgetSortBy",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.sortBy?ut.customizeEmoji.sortBy:"name"};const Le=Object(ye.a)("Load the next page of custom emoji data",function(ut,Ot){let{count:Wt=100,queries:Ht,userIds:Zt,reason:gn="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Pn=Ot();ut(Object(Ue.d)(!0));const pt={page:Je(Pn)+1,count:Wt,sort_by:Et(Pn),sort_dir:Tt(Pn)};return Ht&&(pt.queries=JSON.stringify(Ht)),Zt&&(pt.user_ids=JSON.stringify(Zt)),ut(Object(Te.apiCall)({method:"emoji.adminList",reason:gn,args:pt})).then(_t=>{ut(Object(Ue.d)(!1));const xt=Object(ae.a)(_t.disabled_emoji)?Object(fe.a)(_t.disabled_emoji,"name"):_t.disabled_emoji;ut(Object(Ue.a)({newCustomEmojiData:_t.emoji,disabledEmoji:xt,customEmojiTotalCount:_t.custom_emoji_total_count,customEmojiSearchCount:_t.paging.total,currentPage:_t.paging.page,totalPages:_t.paging.pages}))}).catch(_t=>{throw _t})});Le.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"},Le.propTypes={queries:b.default.array,userIds:b.default.array};const jt=Object(ye.a)("Load custom emoji data with a new search query",function(ut,Ot){let{queries:Wt,page:Ht=1,count:Zt=100,sortBy:gn,sortDir:Pn,userIds:Mn,reason:pt="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ut(Object(Ue.e)(!0));const _t={page:Ht,count:Zt};return Wt&&(_t.queries=JSON.stringify(Wt)),Mn&&(_t.user_ids=JSON.stringify(Mn)),gn&&Pn&&(_t.sort_by=gn,_t.sort_dir=Pn),ut(Object(Te.apiCall)({method:"emoji.adminList",reason:pt,args:_t})).then(xt=>{ut(Object(Ue.e)(!1));const en=Object(ae.a)(xt.disabled_emoji)?Object(fe.a)(xt.disabled_emoji,"name"):xt.disabled_emoji;ut(Object(Ue.f)({newCustomEmojiData:xt.emoji,disabledEmoji:en,customEmojiTotalCount:xt.custom_emoji_total_count,customEmojiSearchCount:xt.paging.total,currentPage:xt.paging.page,totalPages:xt.paging.pages,sortBy:gn,sortDir:Pn}))}).catch(xt=>{throw xt})});jt.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"},jt.propTypes={queries:b.default.array,page:b.default.number,count:b.default.number,sortBy:b.default.oneOf(["created","name"]),sortDir:b.default.oneOf(["asc","desc"]),userIds:b.default.array};const Dt=Object(ye.a)("Deletes the given custom emoji",function(ut,Ot){let{emojiName:Wt,isPrimaryEmoji:Ht=!1,synonyms:Zt=[],reason:gn="customize-emoji-remove"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ut(Object(Ue.b)({emojiName:Wt,isPrimaryEmoji:Ht,synonyms:Zt})),ut(Object(Te.apiCall)({method:"emoji.remove",reason:gn,args:{name:Wt}})).then(Pn=>Pn).then(()=>{Object(Se.a)({state:Ot()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(Pn=>{throw Object(Se.a)({state:Ot()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),Pn})});Dt.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"},Dt.propTypes={emojiName:b.default.string,isPrimaryEmoji:b.default.bool,synonyms:b.default.array};const Ee=Object(ye.a)("Creates a new custom emoji or alias",function(ut,Ot){let{mode:Wt,name:Ht,aliasFor:Zt,image:gn,searchArgs:Pn={},reason:Mn="customize-emoji-add"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ut(Object(Te.apiCall)({method:"emoji.add",reason:Mn,args:{mode:Wt,name:Ht,alias_for:Zt,image:gn}})).then(pt=>pt).then(()=>{ut(jt(Pn))}).catch(pt=>{throw pt})});Ee.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"},Ee.propTypes={mode:b.default.string,name:b.default.string,aliasFor:b.default.string,image:b.default.object};const te=Object(ye.a)("Gets the emoji data for a given emoji",function(ut,Ot){let{name:Wt,reason:Ht="customize-emoji-get-info"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ut(Object(Te.apiCall)({method:"emoji.getInfo",reason:Ht,args:{name:Wt}})).then(Zt=>Zt).catch(Zt=>{throw Zt})});te.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"},te.propTypes={name:b.default.string};const Ae=Object(ye.a)("Renames the custom emoji with the new name",function(ut,Ot){let{oldName:Wt,newName:Ht,reason:Zt="customize-emoji-rename"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ut(Object(Te.apiCall)({method:"emoji.rename",reason:Zt,args:{name:Wt,new_name:Ht}})).then(gn=>gn).then(()=>{ut(jt()),ut(Object(Ue.c)(Wt))}).catch(gn=>{throw gn})});Ae.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"},Ae.propTypes={oldName:b.default.string,newName:b.default.string};var Ve=e("HpkP"),Ye=e("E7hC"),ft=e("1ufr");const tt=new g.b("custom_emoji_list"),Rt={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let rt=m(class extends n.PureComponent{componentDidMount(){const{clogger:Ot}=this.props;Ot.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:Ot,uploadedImage:Wt,nameErrorText:Ht}=this.state,{emojiUrl:Zt}=this.props,gn=Ot.length>100;return!Ot||gn||!!Ht||!Zt&&!Wt}onDragOver(Ot){Ot.preventDefault(),Ot.dataTransfer.dropEffect="copy"}onDrop(Ot){Ot.preventDefault();const Wt=Ot.dataTransfer.files[0];if(Wt){const Ht=Wt.name,Zt=URL.createObjectURL(Wt);this.updateAfterUpload({uploadedImage:Wt,fileName:Ht,previewImageUrl:Zt})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(Ot){const{standardEmojiData:Wt}=this.props;let Ht="";this.setState(()=>({newEmojiName:Ot})),/[A-Z]/.test(Ot)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(Ot)?Ht=tt.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):Ot in Wt?Ht=tt.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):Object(Ye.a)(Ot)?this.checkIfEmojiNameAlreadyExists(Ot):Ht=tt.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:Ht}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(Ot){Ot&&Ot.preventDefault();const{newEmojiName:Wt,uploadedImage:Ht}=this.state,{emojiUrl:Zt,experimentAddEmojiFiletypesGroupOn:gn}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const Mn={...{reason:"add-custom-emoji-dialog-content",name:Wt},...Zt?{mode:"url",url:Zt}:{mode:"data",searchArgs:this.props.searchArgs,...Ht?{image:Ht}:{}}};this.props.addCustomEmoji(Mn).then(()=>{this.props.closeModal();const pt=this.renderToastMessage();this.props.enqueueToast({element:pt}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:Zt?"import_custom_emoji":"add_custom_emoji",action:Zt?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(pt=>{let _t;const xt=Object(ve.a)(pt,"data.error");(xt===Ve.a.NoUrlProvided||xt===Ve.a.NoUrlImage)&&(_t=tt.t("Something happened that prevented the image from being imported. Try again?")),xt==="error_bad_upload"?_t=tt.t("Something happened that prevented your file from being uploaded. Try again?"):xt==="error_bad_format"?_t=gn?tt.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):tt.t("Please make sure your file is a GIF, JPEG, or PNG."):xt==="resized_but_still_too_large"||xt==="too_many_frames"?_t=tt.t("This image is a bit too big, even after resizing. A smaller file might help?"):xt==="error_too_big"?_t=tt.t("Please choose an image smaller than 64KB."):xt==="error_name_taken_i18n"?_t=tt.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:Wt}):xt==="error_name_taken"?_t=tt.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:Wt}):(xt==="error_bad_name"||xt==="error_bad_name_i18n")&&(_t=tt.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:_t,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var Ot,Wt;const Ht=!((Ot=this.fileInput)===null||Ot===void 0||(Wt=Ot.current)===null||Wt===void 0)&&Wt.files?this.fileInput.current.files[0]:null;if(Ht){const Zt=Ht.name,gn=URL.createObjectURL(Ht);this.updateAfterUpload({uploadedImage:Ht,fileName:Zt,previewImageUrl:gn})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:Ot}=this.props;Ot&&this.setState(()=>({previewImageUrl:Ot,imagePreviewError:!1}))}convertFileNameToEmojiName(Ot){if(!Ot)return null;const Wt=Ot.lastIndexOf("."),Ht=Wt>0?Ot.substring(0,Wt):Ot;return Ht?Ht.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(Ot){let{uploadedImage:Wt,fileName:Ht,previewImageUrl:Zt}=Ot;const{newEmojiName:gn,fileName:Pn}=this.state;let Mn=gn;(!gn||gn===this.convertFileNameToEmojiName(Pn))&&(Mn=this.convertFileNameToEmojiName(Ht)||Mn),this.setState(()=>({uploadedImage:Wt,fileName:Ht,previewImageUrl:Zt,imagePreviewError:!1}),()=>this.onEmojiNameChange(Mn))}fileUpload(){const Ot=this.props.window.document.getElementById("emojiimg");Ot==null||Ot.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:Ot,nameErrorText:Wt}=this.state;return t.a.createElement("ol",{className:"black margin_bottom_0",start:2},t.a.createElement("li",{className:"margin_bottom_0"},t.a.createElement("div",null," ",tt.t("Give it a name")," "),t.a.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},tt.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.a.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.a.createElement(se.a,{id:"emojiname",name:"name",value:Ot,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:Wt,"data-qa":Rt.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:Ot,nameErrorText:Wt}=this.state,Ht=tt.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return Wt===Ht?t.a.createElement("div",{className:"inline_flex full_width","data-qa":Rt.ADD_DIALOG_DUPLICATE_PREVIEW},t.a.createElement(H.b,{text:Ot,alt:Ot,emojiSize:"larger",className:"flex_shrink_none"}),t.a.createElement("div",{className:"padding_left_50 overflow_hidden"},t.a.createElement("strong",null,tt.t("Existing emoji")),t.a.createElement("span",{className:"block normal overflow_ellipsis"},":",Ot,":"))):null}renderDialogMessage(){const{orgName:Ot}=this.props;let Wt;return Ot?Wt=tt.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:Ot}):Wt=tt.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.a.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":Rt.ADD_DIALOG_MESSAGE},t.a.createElement("div",null,Wt),t.a.createElement("div",null,this.renderErrorMessage()),t.a.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.a.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:Ot}=this.state;return Ot?t.a.createElement($.d,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":Rt.ADD_DIALOG_ERROR},t.a.createElement("span",null," ",Ot," ")):null}renderImagePreview(){const{previewImageUrl:Ot}=this.state,Wt=t.a.createElement("img",{src:Ot,alt:tt.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:Ht}=this.state;return Ht?t.a.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":Rt.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.a.createElement(be.c,{tip:tt.t("We couldn't preview your image. Make sure it's a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.a.createElement(R.a,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.a.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":Rt.ADD_DIALOG_IMAGE_PREVIEW},Wt)}renderPlaceholderText(){const{placeholder:Ot}=this.state;let Wt;return Ot?Wt=tt.t("avocado"):Wt="",Wt}renderToastMessage(){const{newEmojiName:Ot,previewImageUrl:Wt}=this.state,Ht=t.a.createElement(H.b,{text:Ot,url:Wt,emojiSize:H.a.MEDIUM}),Zt=tt.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:Ht,newEmojiName:Ot});return t.a.createElement(Oe.a,{toastClasses:"p-customize_emoji_list__toast"},t.a.createElement("span",null,Zt))}renderUploadImagePrompt(){const{emojiUrl:Ot}=this.props,Wt=tt.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),Ht=t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),Zt=Ot?tt.t("Import external emoji"):tt.t("Upload an image");return t.a.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":Rt.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.a.createElement("li",{className:"large_bottom_margin"},t.a.createElement("div",null," ",Zt," "),!Ot&&t.a.createElement("div",{className:"normal sk_foreground_max"},Wt),t.a.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},Ht,!Ot&&t.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.a.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":Rt.ADD_DIALOG_FILE_INPUT}),t.a.createElement(z.f,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":Rt.ADD_DIALOG_UPLOAD}," ",tt.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:Ot}=this.state,{emojiUrl:Wt}=this.props;let Ht;return Ot||Wt?Ht=this.renderImagePreview():Ht=t.a.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":Rt.ADD_DIALOG_UPLOAD_PREVIEW},t.a.createElement(R.a,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),Ht}renderUploadedFileText(){const{fileName:Ot}=this.state;let Wt;return Ot?Wt=t.a.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",Ot," "):Wt=t.a.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",tt.t("Select an image")," "),Wt}render(){const{goButtonIsPending:Ot}=this.state,Wt=this.shouldPreventSubmit();return t.a.createElement(t.a.Fragment,null,t.a.createElement(i.d,null,t.a.createElement(i.e,{"data-qa":`${Rt.ADD_DIALOG}_body`},this.renderDialogMessage())),t.a.createElement(i.g,null,t.a.createElement(i.h,null,t.a.createElement(i.c,{type:"outline"},tt.t("Cancel")),t.a.createElement(z.c,{type:"primary",onClick:this.onSubmit,loading:Ot,disabled:Wt,"data-qa":`${Rt.ADD_DIALOG}_go`},tt.t("Save")))))}constructor(Ot){super(Ot),this.fileInput=t.a.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=Wt=>{this.props.getEmojiInfo({name:Wt}).then(()=>{this.state.newEmojiName===Wt&&this.setState(()=>({nameErrorText:tt.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(q.a)},this.checkIfEmojiNameAlreadyExists=Object(ce.a)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.a.createRef(),this.eventId=Ot.clientApp?ge.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:ge.EventId.PAGE_CUSTOMIZE_EMOJI,Object(he.a)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");rt.displayName="AddCustomEmojiDialogContent",rt.defaultProps={standardEmojiData:{},addCustomEmoji:q.a,enqueueToast:q.a,clientApp:!1,closeModal:q.a,getEmojiInfo:q.a,searchArgs:{},emojiNameSuggestion:"",experimentAddEmojiFiletypesGroupOn:!1,window};const we=m(ut=>({addCustomEmoji:Ot=>ut(Object(Ve.b)(Ot)),enqueueToast:function(){for(var Ot=arguments.length,Wt=new Array(Ot),Ht=0;Ht<Ot;Ht++)Wt[Ht]=arguments[Ht];return ut(Object(G.a)(...Wt))},closeModal:()=>ut(Object(o.a)()),getEmojiInfo:function(){for(var Ot=arguments.length,Wt=new Array(Ot),Ht=0;Ht<Ot;Ht++)Wt[Ht]=arguments[Ht];return ut(te(...Wt))}}),"mapDispatchToProps"),xe=m(ut=>({standardEmojiData:Object(ne.d)(ut),clientApp:Object(Z.h)(ut),clogger:Object(Se.a)({state:ut})}),"mapStateToProps");var st=Object(re.a)(xe,we)(Object(ft.a)(rt)),ke=e("7PnM"),lt=e("e4zL"),at=e("q0lC"),ht=e("zb/F"),Nt=e("nFQW"),Jt=e("puGG");const zt=new g.b("custom_emoji_list"),Yt=m(ut=>{let{adding:Ot,name:Wt}=ut;const Ht=Object(a.useDispatch)();return t.a.createElement(Oe.a,{onCloseComplete:()=>{Ot&&Ht(Object(lt.a)())}},t.a.createElement("span",{"data-qa":"emoji-pack-action"},Ot&&zt.rt("The {name} emoji pack has been added to your workspace.",{name:t.a.createElement("b",null,Wt)}),!Ot&&zt.rt("The {name} emoji pack has been removed from your workspace.",{name:t.a.createElement("b",null,Wt)})))},"InstallToast");Yt.displayName="InstallToast";const sn=m(ut=>{let{name:Ot,url:Wt,index:Ht,copyToClipboard:Zt}=ut;const gn=Object(a.useDispatch)(),Pn=t.a.createElement(L.b,{showTooltip:!0,text:Ot,url:Wt,emojiSize:L.a.LARGE});function Mn(){Object(ht.e)(Ot),gn(Object(o.a)()),gn(Object(G.a)({element:t.a.createElement(Oe.a,null,t.a.createElement("span",null,zt.rt("Emoji copied to clipboard",{name:Ot})))}))}return m(Mn,"onClick"),Mn.displayName="onClick",Zt&&Object(ht.a)()?t.a.createElement(B.a,{className:"p-emoji_pack_details__button","data-color-index":Ht%Jt.e,onClick:Mn},Pn):Pn},"EmojiButton");sn.displayName="EmojiButton";const dn=m(ut=>{let{collectionId:Ot,name:Wt,author:Ht,installed:Zt,emoji:gn,onCancelClick:Pn}=ut;const Mn=Object(a.useDispatch)(),pt=Object(r.c)(at.f),[_t,xt]=Object(n.useState)(!1),en=Object(n.useCallback)(()=>{xt(!0),Mn(Object(ke.a)({collectionId:Ot,reason:"emojiPack:dialog"})).then(()=>{xt(!1),Mn(Object(o.a)()),Mn(Object(G.a)({element:t.a.createElement(Yt,{adding:!0,name:Wt})}))})},[Mn,Ot,Wt]),[Cn,pn]=Object(n.useState)(!1),fn=Object(n.useCallback)(()=>{pn(!0),Mn(Object(ke.c)({collectionId:Ot,reason:"emojiPack:dialog"})).then(()=>{pn(!1),Mn(Object(o.a)()),Mn(Object(G.a)({element:t.a.createElement(Yt,{adding:!1,name:Wt})}))})},[Mn,Ot,Wt]);if(!gn)return null;const Ln=Object(W.a)(gn,(Ut,Gt)=>({name:Gt,url:Ut})).map((Ut,Gt)=>({...Ut,index:Gt})),_n=Object(p.a)(Ln,5),Un=zt.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:Object(D.a)(gn)}),Dn=zt.t("by {author}",{author:Ht}),nt=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},Dn),Un),St=t.a.createElement(Nt.a,{"aria-label":zt.t("Go back"),icon:"chevron-large-left",onClick:()=>Pn()});return t.a.createElement("div",{className:"p-emoji_pack_details"},t.a.createElement(i.i,null,t.a.createElement(i.l,{icon:St,title:Wt,subtitle:nt})),t.a.createElement(i.d,{className:"p-emoji_pack_details__content"},t.a.createElement(i.e,null,_n.map(Ut=>t.a.createElement("div",{key:Ut.map(Gt=>Gt.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},Ut.map(Gt=>t.a.createElement(sn,{key:`emoji-pack-details-${Gt.name}`,name:`:${Gt.name}:`,url:Gt.url,index:Gt.index,copyToClipboard:Zt})),[...new Array(5-Ut.length)].map((Gt,On)=>`emoji-pack-details-spacer-${On}`).map(Gt=>t.a.createElement("div",{key:Gt,className:"p-emoji_pack_details__emoji_spacer"})))))),t.a.createElement(i.g,null,Zt&&Object(ht.a)()&&t.a.createElement("span",{className:"p-emoji_pack_details__tip"},zt.t("Click an emoji to copy to clipboard")),t.a.createElement(i.h,null,Zt&&pt&&t.a.createElement(z.c,{autoFocus:!0,type:"danger",loading:Cn,onClick:fn},zt.t("Remove pack")),!Zt&&t.a.createElement(z.c,{autoFocus:!0,loading:_t,onClick:en},zt.t("Add pack")))))},"EmojiPackDetails");dn.displayName="EmojiPackDetails";var Mt=dn;const yt=new g.b("custom_emoji_list"),tn={CUSTOM:"custom",PACKS:"packs"},an=m(ut=>{let{orgName:Ot="",searchArgs:Wt={},showEmojiPacks:Ht,initialTab:Zt=tn.CUSTOM,emojiNameSuggestion:gn="",emojiUrl:Pn}=ut;const Mn=Object(a.useDispatch)(),pt=Object(r.c)(Xt=>Object(O.d)(Xt,"add_emoji_filetypes")==="on"),[_t,xt]=Object(n.useState)(Zt),[en,Cn]=Object(n.useState)(!1),[pn,fn]=Object(n.useState)(null),Ln=Pn?yt.t("Add emoji to your organization"):void 0,_n=Ht?yt.t("Add emoji"):yt.t("Add custom emoji"),Un=Ln??_n,Dn=yt.t("Emoji packs"),nt=yt.t("Custom emoji"),St=Object(n.useMemo)(()=>[{title:nt,id:tn.CUSTOM,onClick:()=>xt(tn.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:Dn,id:tn.PACKS,onClick:()=>xt(tn.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],[nt,Dn]),Ut=Ht&&_t===tn.PACKS,Gt=Ht?t.a.createElement(h.a,{tabs:St,currentTabId:_t,className:"p-add_custom_emoji_dialog__tabs"}):null,On=Object(d.default)("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!Ht});return Ht&&pn?t.a.createElement(i.a,{closeModal:()=>Mn(Object(o.a)()),isOpen:!0,className:On},t.a.createElement(Mt,{collectionId:l(pn),name:Object(u.a)(pn),author:c(pn),emoji:en?v(pn):Object(E.a)(pn),installed:en,onCancelClick:()=>{fn(null)}})):t.a.createElement(i.a,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:()=>Mn(Object(o.a)()),isOpen:!0,className:On},t.a.createElement(i.i,null,t.a.createElement(i.l,{title:Un,className:"no_min_height padding_bottom_50"}),Gt),Ut&&t.a.createElement(me,{orgName:Ot,onPackClick:(Xt,qt)=>{let{installed:Qt}=qt;Cn(Qt),fn(Xt)}}),!Ut&&t.a.createElement(st,{orgName:Ot,searchArgs:Wt,emojiNameSuggestion:gn,emojiUrl:Pn,experimentAddEmojiFiletypesGroupOn:pt}))},"AddEmojiDialog");an.displayName="AddEmojiDialog";var on=s.b=an},"7zTl":function(K,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t});const n=2e3,t=2e3},"81ps":function(K,s,e){"use strict";var n=e("AFNo"),t=e("v7mh");const a=Object(n.c)((r,d)=>{let{viewType:o}=d;const i=Object(t.a)(r),h=Object(t.h)(r,{tab:i});return h?Object.keys(h).some(c=>{var E;return((E=h[c])===null||E===void 0?void 0:E.viewType)===o}):!1});a.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInMainWindow",description:(r,d)=>{let{viewType:o}=d;const i=Object(t.a)(r),h=Object(t.h)(r,{tab:i});return h?Object.keys(h).some(c=>{var E;return((E=h[c])===null||E===void 0?void 0:E.viewType)===o}):!1}},s.a=a},"8K+h":function(K,s,e){K.exports=e.p+"No_Background-ad3fcdb.png"},"8NKP":function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return o}),e.d(s,"c",function(){return i});var n=e("LK2A"),t;(function(h){h.PARAGRAPH="paragraph",h.H1="h1",h.H2="h2",h.H3="h3",h.CHECK_LIST="check-list",h.CHECK_LIST_TOGGLE="check-list-toggle",h.ORDERED_LIST="ordered-list",h.BULLET_LIST="bullet-list",h.BLOCKQUOTE="blockquote",h.CODE_BLOCK="code-block"})(t||(t={}));const a=[[n.DocBlockStyle.PLAIN,t.PARAGRAPH],[n.DocBlockStyle.H1,t.H1],[n.DocBlockStyle.H2,t.H2],[n.DocBlockStyle.H3,t.H3],[n.DocBlockStyle.LIST_CHECKLIST,t.CHECK_LIST],[n.DocBlockStyle.LIST_NUMBERED,t.ORDERED_LIST],[n.DocBlockStyle.LIST_BULLET,t.BULLET_LIST],[n.DocBlockStyle.BLOCKQUOTE,t.BLOCKQUOTE],[n.DocBlockStyle.CODE,t.CODE_BLOCK]],r=new Map(a),d=new Map(a.map(h=>[h[1],h[0]]));function o(h){return r.get(h)}m(o,"blockStyleToFormat");function i(h){return d.get(h)}m(i,"formatToBlockStyle")},"8TXW":function(K,s,e){"use strict";e.d(s,"c",function(){return i}),e.d(s,"d",function(){return h}),e.d(s,"e",function(){return l}),e.d(s,"f",function(){return u}),e.d(s,"g",function(){return c}),e.d(s,"h",function(){return E}),e.d(s,"i",function(){return v}),e.d(s,"j",function(){return g}),e.d(s,"k",function(){return O}),e.d(s,"n",function(){return I}),e.d(s,"p",function(){return C}),e.d(s,"r",function(){return f}),e.d(s,"a",function(){return b}),e.d(s,"l",function(){return A}),e.d(s,"m",function(){return B}),e.d(s,"o",function(){return F}),e.d(s,"q",function(){return J}),e.d(s,"s",function(){return ie}),e.d(s,"u",function(){return ve}),e.d(s,"b",function(){return se}),e.d(s,"t",function(){return Oe}),e.d(s,"J",function(){return be}),e.d(s,"z",function(){return ne}),e.d(s,"A",function(){return ge}),e.d(s,"B",function(){return ae}),e.d(s,"C",function(){return Te}),e.d(s,"D",function(){return ye}),e.d(s,"E",function(){return Ne}),e.d(s,"F",function(){return He}),e.d(s,"H",function(){return ze}),e.d(s,"G",function(){return Je}),e.d(s,"x",function(){return Xe}),e.d(s,"y",function(){return Me}),e.d(s,"v",function(){return Ke}),e.d(s,"w",function(){return $e}),e.d(s,"I",function(){return ct});var n=e("9oTK"),t=e.n(n),a=e("tA0R"),r=e.n(a),d=e("hGh8"),o=e.n(d);let i=a.CheckAudioConnectivityFeedback,h=a.CheckAudioInputFeedback,l=a.CheckAudioOutputFeedback,u=a.CheckCameraResolutionFeedback,c=a.CheckContentShareConnectivityFeedback,E=a.CheckNetworkTCPConnectivityFeedback,v=a.CheckNetworkUDPConnectivityFeedback,g=a.CheckVideoConnectivityFeedback,O=a.CheckVideoInputFeedback,I=a.LogLevel,C=a.MeetingSessionStatusCode,f=a.TranscriptItemType,S=a.TranscriptionStatusType;const D=a.MeetingSessionStatus;let p=a.ClientVideoStreamReceivingReport;const b=a.AllHighestVideoBandwidthPolicy;let M,_=a.ConnectionHealthData,P=a.DataMessage;const y=a.DefaultDeviceController;let j;const U=a.DefaultMeetingReadinessChecker;let W;const L=a.DefaultMeetingSession;let R,A=a.DefaultModality,B=a.DefaultVideoTile,F=a.MeetingSessionConfiguration,k=a.MeetingSessionStatus,V=a.MeetingSessionVideoAvailability,X=a.MutableVideoPreferences,J=a.PermissionDeniedError,Y=a.TargetDisplaySize,ie=a.Versioning,de=a.VideoPreference,pe=a.VideoPreferences,oe=a.VideoPriorityBasedPolicy,me=a.VideoPriorityBasedPolicyConfig,re=a.VideoTileState,ve=a.VoiceFocusDeviceTransformer,q=a.DefaultBrowserBehavior,ce=a.DefaultVideoTransformDevice,he=a.BackgroundBlurVideoFrameProcessor,Se=a.BackgroundReplacementVideoFrameProcessor,se=a.CSPMonitor;const H=a.ServerSideNetworkAdaption;let Oe=a.VideoFxProcessor,$=!1,z=!1;function be(Tt){return Z.apply(this,arguments)}m(be,"setUseExpSDK");function Z(){return Z=Object(n.coroutine)(function*(Tt){if($=Tt,!$||z)return;const Et=yield Promise.resolve().then(e.t.bind(null,"hGh8",7));i=Et.CheckAudioConnectivityFeedback,h=Et.CheckAudioInputFeedback,l=Et.CheckAudioOutputFeedback,u=Et.CheckCameraResolutionFeedback,c=Et.CheckContentShareConnectivityFeedback,E=Et.CheckNetworkTCPConnectivityFeedback,v=Et.CheckNetworkUDPConnectivityFeedback,g=Et.CheckVideoConnectivityFeedback,O=Et.CheckVideoInputFeedback,p=Et.ClientVideoStreamReceivingReport,_=Et.ConnectionHealthData,P=Et.DataMessage,j=Et.DefaultDeviceController,W=Et.DefaultMeetingReadinessChecker,R=Et.DefaultMeetingSession,A=Et.DefaultModality,B=Et.DefaultVideoTile,I=Et.LogLevel,F=Et.MeetingSessionConfiguration,k=Et.MeetingSessionStatus,C=Et.MeetingSessionStatusCode,V=Et.MeetingSessionVideoAvailability,X=Et.MutableVideoPreferences,J=Et.PermissionDeniedError,Y=Et.TargetDisplaySize,f=Et.TranscriptItemType,S=Et.TranscriptionStatusType,ie=Et.Versioning,de=Et.VideoPreference,pe=Et.VideoPreferences,oe=Et.VideoPriorityBasedPolicy,me=Et.VideoPriorityBasedPolicyConfig,re=Et.VideoTileState,M=Et.AudioProfile,ve=Et.VoiceFocusDeviceTransformer,q=Et.DefaultBrowserBehavior,ce=Et.DefaultVideoTransformDevice,he=Et.BackgroundBlurVideoFrameProcessor,Se=Et.BackgroundReplacementVideoFrameProcessor,se=Et.CSPMonitor,Oe=Et.VideoFxProcessor,z=!0}),Z.apply(this,arguments)}m(Z,"_setUseExpSDK");function G(){return $}m(G,"isUsingExpSDK");function ne(){return j||y}m(ne,"getDefaultDeviceController");function ge(){return y}m(ge,"getDefaultDeviceControllerDefault");function ae(){return j}m(ae,"getDefaultDeviceControllerExp");function fe(){return W||U}m(fe,"getDefaultMeetingReadinessChecker");function Te(){return U}m(Te,"getDefaultMeetingReadinessCheckerDefault");function ye(){return W}m(ye,"getDefaultMeetingReadinessCheckerExp");function Ue(){return R||L}m(Ue,"getDefaultMeetingSession");function Ne(){return L}m(Ne,"getDefaultMeetingSessionDefault");function He(){return R}m(He,"getDefaultMeetingSessionExp");function ze(){return ve}m(ze,"getVoiceFocusDeviceTransformer");function Je(){return ce}m(Je,"getDefaultVideoTransformDevice");function Xe(){return he}m(Xe,"getBackgroundBlurVideoFrameProcessor");function Me(){return d.BackgroundReplacementVideoFrameProcessor}m(Me,"getBackgroundReplacementVideoFrameProcessor");function Ke(){return a.AudioProfile}m(Ke,"getAudioProfileDefault");function $e(){return M}m($e,"getAudioProfileExp");function ct(Tt){return!!Tt.type}m(ct,"isTranscriptEventTranscriptionStatus")},"8Vn2":function(K,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("n3tL"),t=e("Z3Pq"),a=e("SQ0V"),r=e("7PnM"),d=e("ykb+"),o=e("LvEQ"),i=e("e4zL"),h=e("jF/p"),l=e("JoR1"),u=e("q0lC"),c=e("T1zM");const E=Object(a.c)("handle updating prefs if new emoji pack has become available",(O,I,C)=>{let{collections:f}=C;const S=I(),D=Object(u.f)(S),p=Object(l.t)(S,"emoji_packs_most_recent_available_time")||0,b=Object(h.a)(f,y=>y.date_create),{date_create:M,installed:_}=b||{};(D||_)&&M>p&&O(Object(c.e)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});E.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};var v=E;E.propTypes={collections:n.default.arrayOf(n.default.object)};const g=Object(a.c)("Process and add emoji collections",(O,I,C)=>{let{reason:f}=C;const S=I();Object(o.g)(S)||(O(Object(i.g)({hasFetched:!0})),O(Object(r.b)({reason:f})).then(D=>{const p=D.installed||[],b=D.available||[],M=Object(t.a)(p,"id"),_=b.map(P=>({...P,installed:!!M[P.id],localEmoji:M[P.id]?M[P.id].emoji:P.emoji}));O(v({collections:_})),Object(d.b)()?O(Object(i.f)({collections:_.filter(P=>!["1044122771874","11"].includes(P.id))})):O(Object(i.f)({collections:_}))}).catch(()=>{O(Object(i.g)({hasFetched:!1}))}))});g.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"},g.propTypes={reason:n.default.string.isRequired}},"8Xig":function(K,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("owWc"),t=e("Bw5p"),a=e("OZf9"),r=e("ZKjC"),d=e("s4P+"),o=e("UIhb");const i="EPHEMERAL MESSAGES",h=Object(r.b)(u=>u.ephemeralMessages);h.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesState",description:u=>u.ephemeralMessages};const l=Object(r.b)((u,c)=>{const{ephemeralType:E,channelId:v,threadTs:g}=c,O=Object(d.a)({state:u});if(g&&!v)return O.error(i,"Can't remove ephemeral messages by thread without channel ID"),[];c.channel&&!v&&O.warn(i,"`channel` passed to `getEphemeralMessagesByType`. Did you mean `channelId`?");const C=h(u)[E];return Object(n.a)(v?Object(t.a)(C,[v]):C,(f,S,D)=>(Object(a.a)(S,(p,b)=>{if(!p)return;const M=Object(o.b)(u,D,b);M&&(!g||M.thread_ts===g)&&f.push(M)}),f),[])});l.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesByType",description:(u,c)=>{const{ephemeralType:E,channelId:v,threadTs:g}=c,O=Object(d.a)({state:u});if(g&&!v)return O.error(i,"Can't remove ephemeral messages by thread without channel ID"),[];c.channel&&!v&&O.warn(i,"`channel` passed to `getEphemeralMessagesByType`. Did you mean `channelId`?");const C=h(u)[E];return Object(n.a)(v?Object(t.a)(C,[v]):C,(f,S,D)=>(Object(a.a)(S,(p,b)=>{if(!p)return;const M=Object(o.b)(u,D,b);M&&(!g||M.thread_ts===g)&&f.push(M)}),f),[])}}},"8aX7":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("NZ+B"),o=e("Kmpi"),i=e("qt2r"),h=e("xwCZ"),l=e("C3vN"),u=e("52Wj"),c=e("Fn/R"),E=e("fi3B"),v=e("sGXp"),g=e("zUbs"),O=e("LvvF"),I=e("A4tE");function C(S){const{className:D,forceRealName:p=!1,id:b,member:M,truncate:_=!1,truncateWidth:P,withTruncationTooltip:y=!1,"data-qa":j="inline_member_entity",isBold:U=!0,showAppOrBotBadge:W,isUserHidden:L=!1}=S,R=Object(r.default)(D,"c-inline_member_entity"),A=Object(c.a)(M),B=Object(l.rb)(M),F=Object(l.V)(M),k=Object(o.c)(M),V=Object(o.d)(M),X=Object(u.e)(M),J=Object(u.c)(M);let Y;p||!J?Y=X:Y=J;const ie=F?v.d.dim:void 0;return t.a.createElement(E.a,{className:R,"data-qa":j,"data-member-id":b||(M==null?void 0:M.id),style:ie,truncate:_,truncateWidth:P,withTruncationTooltip:y,primaryContent:t.a.createElement("span",{className:"c-inline_member_entity__content"},t.a.createElement(g.a,{isBold:U,name:Y,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:A,isWorkflowBot:B,isDeleted:F,isNonExistent:k,isUnknown:V,showAppOrBotBadge:W,isUserHidden:L}))})}m(C,"InlineMemberEntity"),C.displayName="InlineMemberEntity";function f(S,D){let{forceRealName:p,member:b,id:M}=D;const _=b||Object(h.g)(S,M);return{member:_??void 0,forceRealName:Object(d.a)(p)?p:Object(i.b)(S),isUserHidden:_&&Object(O.b)(S,_.id)}}m(f,"mapStateToProps"),s.a=Object(a.a)(f)(C)},"8f+r":function(K,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("otRl"),t=e("SQ0V"),a=e("O5bS"),r=e("Bi0v"),d=e("vlz8"),o=e("e33t"),i=e("RB1+"),h=e("qMw6"),l=e("WUSA"),u;(function(E){E.fancy="fancy",E.frowny="frowny",E.neutral="neutral",E.sadSurprise="sad_surprise"})(u||(u={}));const c=Object(t.c)("Add ephemeral feedback message to channel or thread",(E,v,g)=>{const{message:O,inputText:I,inputDelta:C,ephemeralType:f,ignoreExistingMessage:S}=g,D=g.temporary!==!1,p=O.channel,b=O.thread_ts,M=b?a.a.threadsTempSlashCmdFeedback:a.a.tempSlashCmdFeedback;if((I||C)&&p)if(b)Object(n.a)({inputText:I,inputDelta:C,channelId:p,threadTs:b});else{const _=Object(i.a)({viewContext:h.a.MESSAGE_PANE,channelId:p});_&&(C?_.setContents({contents:C.ops}):I&&_.setText(I))}D?E(Object(d.a)({ephemeralType:f||M,message:O,ignoreExistingMessage:S})):(E(Object(o.a)({ephemeralType:f||M,channelId:p})),E(Object(r.a)({message:O}))),O!=null&&O.text&&E(Object(l.a)({message:O.text}))});c.meta={name:"createThunk",key:"createThunkaddEphemeralFeedback",description:"Add ephemeral feedback message to channel or thread"},s.b=c},"8pYz":function(K,s,e){"use strict";e.d(s,"b",function(){return P}),e.d(s,"a",function(){return y});var n=e("nNoG"),t=e("yXH1"),a=e("IaLB"),r=e("UUKI"),d=e("LYDk"),o=e("UmHn"),i=e("rZ8V"),h=e("s4P+"),l=e("Atq3"),u=e("u0Q5"),c=e("OaiI"),E=e("EAKl"),v=e("pgVm"),g=e("48NQ");const O=new n.b("channel_sidebar"),I=new n.b("lists"),C=new n.b("crm"),f=new n.b("app_launcher"),S=new n.b("setup_page"),D=new n.b("client"),p=new n.b("search"),b=new n.b("modernselling"),M={[o.a.Composer]:j=>Object(i.m)(j)?O.t("New message",{fallbackHash:"1ed2e7b50fa1dbbf1693d1c38adf270c04db10c6",fallbackHashNs:"view"}):O.t("Composer"),[o.a.Notifications]:()=>Object(t.b)()?"Notifications":"Activity",[o.a.Reactions]:()=>"Reactions",[o.a.Drafts]:j=>Object(i.m)(j)?O.t("Drafts & sent",{fallbackHash:"50f1964d008cc3f1974523c1ac7b5a555460f87a",fallbackHashNs:"channel_sidebar"}):O.t("Drafts",{ns:"channel_sidebar"}),[o.a.ScheduledMessages]:()=>O.t("Scheduled",{ns:"channel_sidebar"}),[o.a.Sent]:()=>O.t("Sent",{fallbackHash:"35f49dcfbfb2e03fdce327671e82bf173b1ccb8b",fallbackHashNs:"sent-page"}),Pthread:()=>O.t("Thread",{fallbackHash:"7863f7503e5377891a3b7452c7d6cc377d443fe7",fallbackHashNs:"thread"}),[o.a.Example]:()=>"Example Page",[o.a.Empty]:()=>{},[o.a.Unreads]:()=>O.t("Unreads"),[o.a.Apps]:()=>f.t("Apps",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[o.a.Shortcuts]:j=>Object(i.m)(j)?f.t("Workflows",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}):O.t("Automations"),[o.a.BrowseWorkflowsManagedByYou]:j=>Object(v.b)(j)?O.t("Workflows managed by you"):"",[o.a.BrowseWorkflowTemplates]:()=>f.t("Templates",{fallbackHash:"f25b700ed9f092123a43acb205a6869342cf9dd6",fallbackHashNs:"workflow_builder"}),[o.a.Activity]:()=>O.t("Activity"),[o.a.Saved]:()=>O.t("Saved items",{fallbackHash:"c0ae8f6ea84111498894729659051ce9713aab42"}),[o.a.PaidBenefits]:()=>O.t("Paid Plan Benefits"),[o.a.BrowseChannels]:()=>O.t("All channels",{fallbackHash:"844df142c62832a202548680d3385ca47676ab85",fallbackHashNs:"channel_browser"}),[o.a.SetupTeamName]:()=>S.t("Setup Team Name"),[o.a.SetupProfile]:()=>S.t("Profile"),[o.a.SetupChannels]:()=>S.t("Setup Channels"),[o.a.SetupInvites]:()=>S.t("Setup Invites"),[o.a.SetupCalendarContactImport]:()=>"Setup Contact Import",[o.a.SetupTada]:()=>"Setup Tada",[o.a.SetupWelcome]:()=>S.t("Setup Welcome"),[o.a.SetupPeople]:()=>S.t("Setup People"),[o.a.SetupStraightToPaidPlans]:j=>{const U=Object(u.b)(j),W=Object(u.a)(j);return U||W?S.t("Setup Plans"):""},[o.a.JoinerLaunchpad]:()=>O.t("Get started"),[o.a.ResurrectedUserWelcome]:j=>Object(g.a)(j)?O.t("Welcome back"):"","Pbrowse-channels-prototype":()=>O.t("All channels"),[o.a.BrowseFiles]:j=>Object(i.m)(j)?p.t("All files"):O.t("Files"),[o.a.Calendar]:j=>Object(d.b)(j)?O.t("Calendar"):"",[o.a.BrowseChannelFiles]:()=>O.t("Channel file browser",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"}),[o.a.BrowsePeople]:j=>{const U=Object(a.mb)(j),W=Object(i.m)(j),L=U?S.t("People"):O.t("People & user groups");return W?S.t("All members"):L},[o.a.BrowseExternalContacts]:()=>O.t("External people",{fallbackHash:"3a2342a03de3fb3994d9c4fbdb18d17ec0367c35"}),[o.a.BrowseUserGroups]:()=>O.t("User groups"),[o.a.BrowseExternalWorkspaces]:()=>O.t("Events"),[o.a.AllDms]:()=>O.t("Direct messages"),[o.a.Search]:()=>D.t("Search Results",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049",fallbackHashNs:"search"}),[o.a.SlackConnect]:()=>O.t("Slack Connect",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"}),[o.a.SlackConnectInvitation]:()=>O.t("Slack Connect Invitation",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"}),[o.a.OfflineOutbox]:()=>"Offline outbox",[o.a.Huddles]:()=>"Huddles",[o.a.Today]:()=>"Today",[o.a.Later]:()=>O.t("Later",{fallbackHash:"1d9c1a090774d038318b145c9edd2301568bdd93"}),[o.a.BrowseOrgChart]:j=>Object(i.m)(j)?p.t("Org chart"):"Org Chart",[o.a.Items]:j=>Object(c.isListsMyItemsEnabled)(j)?I.t("Items"):"Items",[o.a.CRM]:j=>Object(r.a)(j)?C.t("Sales",{fallbackHash:"2a13d05eafbca696358dac2f2d62668ecb928796"}):"Sales","Pasync-modals":()=>"Modals",[o.a.BrowseCanvases]:()=>O.t("Canvases"),[o.a.BrowseLists]:()=>"Lists",[o.a.SalesHome]:()=>b.t("Sales"),[o.a.SalesNotifications]:()=>b.t("Sales notifications"),[o.a.SalesOpportunities]:()=>b.t("Sales opportunities",{fallbackHash:"cbbcbc5770bdebd9c8405d23dc490765f1fb4d14"}),[o.a.SalesAdministration]:()=>b.t("Sales administration"),[o.a.SalesLeader]:()=>b.t("Sales leader",{fallbackHash:"aca8f0529392d14f86b177719cb4ad15164b51ad"}),[o.a.SalesDealLists]:()=>b.t("Sales Deal Lists",{fallbackHash:"cbbcbc5770bdebd9c8405d23dc490765f1fb4d14"}),[o.a.Recents]:j=>Object(i.m)(j)?p.t("Recently viewed"):p.t("Recents"),[o.a.DailyDigest]:j=>Object(E.n)(j)?O.t("Daily digest"):"Daily digest"};Object(l.b)(!0);const _={Pdms:()=>O.t("All direct messages",{fallbackHash:"781373373e6fe8d45de2a1edd8dd880aaff75bce"})};function P(j){return!j||!M[j]?(Object(h.b)().error(`getLabelFunctionForPage called with invalid pageId: ${j}`),null):M[j]}m(P,"getLabelFunctionForPage");function y(j){return j?_[j]:null}m(y,"getAriaLabelFunctionForPage")},"8z+9":function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});const n={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},t={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},"92pD":function(K,s,e){"use strict";e.d(s,"b",function(){return O}),e.d(s,"a",function(){return C});var n=e("9oTK"),t=e.n(n),a=e("Lgge"),r=e("coh6"),d=e("05YS"),o=e("Tkkt"),i=e("Yauy"),h=e("gVOt"),l=e("E97Y"),u=e("Zbwg"),c=e("i26o"),E=e("wQ1d"),v=e("E3dU"),g=e("wmIu");function O(D,p){const b=Object(d.b)(D),M=new RegExp(`\\b(${Object(E.j)().in}|in):(#([^\\s]+))`,"g"),_=c.a.fromString(D,b),P={};return _.suggestionTokenList.forEach(j=>{if(j instanceof g.e){const{id:U,name:W}=j.getRawIdAndNameForXwsChannelWorkaround();U&&Object(u.a)(U)&&W&&(P[W]||(P[W]=[]),P[W].push({id:U,name:W}))}}),p.replace(M,(j,U,W,L)=>{if(P[L]&&P[L].length>0){const{id:R,name:A}=P[L].shift()||{};return`${U}:<#${R}|${A}>`}return j})}m(O,"convertUserQueryXwsChannelStringsForXwsChannelWorkaround");function I(D,p){if(Object(l.g)(p))return`<@${Object(h.a)(p)}>`;const b=Object(i.t)(D,p,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});return b?`<#${p.id}|${b}>`:`<#${p.id}>`}m(I,"formatInChannelValue");function C(D,p,b){const M=p(),_={},P=[],y={};(Object(d.n)(M)||[]).forEach(W=>{const L=Object(v.d)(M,W);L&&P.push(L)});const U=new RegExp(`\\b(${Object(E.j)().in}|in):(#([^\\s]+))`,"g");return f(b,U,(W,L,R,A)=>{const B=P.find(k=>Object(i.K)(k)===A&&!_[k.id]&&!y[k.id]);if(B)return _[B.id]=!0,y[B.id]=!0,a.a.resolve(`${L}:${I(M,B)}`);const F=Object(v.e)(M,A);return F&&!_[F.id]?(_[F.id]=!0,a.a.resolve(`${L}:${I(M,F)}`)):D(Object(r.F)({query:A,options:{fuzzyLimit:0,limit:150,entities:{channels:{includeArchived:!0,includeFromAnotherTeam:!0}},sort:{frecency:!1}}})).then(k=>{const V=p(),X=A&&A.replace("#",""),J=k.find(ie=>ie.name===X&&!_[ie.id]);if(!J)return`${L}:${R}`;_[J.id]=!0;const Y=Object(d.a)(V).queryFilter;return Y.in=Array.from(new Set([...Y.in||[],J.id])),D(Object(o.h)({queryFilter:Y})),`${L}:${I(M,J)}`})})}m(C,"convertContentsStringForEncodedXwsChannels");function f(D,p,b){return S.apply(this,arguments)}m(f,"replaceAsync");function S(){return S=Object(n.coroutine)(function*(D,p,b){const M=[];D.replace(p,function(P){for(var y=arguments.length,j=new Array(y>1?y-1:0),U=1;U<y;U++)j[U-1]=arguments[U];const W=b(P,...j);return M.push(W),D});const _=yield a.a.all(M);return D.replace(p,()=>_.shift()||"")}),S.apply(this,arguments)}m(S,"_replaceAsync")},"95ku":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("7EGn"),d=e("ifKl"),o=e("WIr4"),i=e("jWAO"),h=e("gZuW"),l=e("Gs4e"),u=e("9ADk");let c=m(class extends n.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:_,prefix:P,suffix:y}=this.props,j=Object(a.default)("c-input_text_overlay",{"c-input_text_overlay--large":_===l.a.large},this.props.className);return t.a.createElement("div",{className:j,"data-overlay-prefix":P,"data-overlay-suffix":y,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:_,suffix:P}=this.props;return t.a.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${P} appended to the text value.`},this.renderOverlay(),_)}},"TextInputOverlay");c.displayName="TextInputOverlay",c.defaultProps={className:"",placeholder:"",size:l.a.medium,value:"",prefix:"",suffix:""};var E=c,v=e("oEDn");const g={small:"small",medium:"medium",large:"large"},O=m(M=>{let{size:_,icon:P,children:y}=M;const j=Object(a.default)("c-input_text_icon",{"c-input_text_icon--small":_===g.small,"c-input_text_icon--large":_===g.large}),U=Object(a.default)("c-input_text_icon__icon",{"c-input_text_icon__icon--small":_===g.small,"c-input_text_icon__icon--large":_===g.large});return t.a.createElement("div",{className:j},t.a.createElement(v.a,{type:P,className:U,size:"inherit"}),y)},"TextInputIcon");O.displayName="TextInputIcon";var I=t.a.memo(O),C=e("/DoU"),f=e("MYuU");function S(){return S=Object.assign||function(M){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var y in P)Object.prototype.hasOwnProperty.call(P,y)&&(M[y]=P[y])}return M},S.apply(this,arguments)}m(S,"_extends");const D=12;let p=m(class extends n.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}componentDidUpdate(_,P){(this.props.value!==_.value||this.state.isFocused!==P.isFocused)&&this.getTextStyle(),this.props.value!==_.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.maybeFocusAndSelectOnMount(_)}onBlur(_){const{onBlur:P}=this.props;this.setState(()=>({isFocused:!1})),P&&P(_)}onFocus(_){const{onFocus:P}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),P&&P(_)}getPrefixStyle(){const{size:_,prefix:P}=this.props;if(!P)return;let y;const U=document.createElement("canvas").getContext("2d");return U&&(_===l.a.medium?(U.font="15px Slack-Lato",y=U.measureText(P).width+D):_===l.a.small?(U.font="13px Slack-Lato",y=U.measureText(P).width+D):(U.font="18px Slack-Lato",y=U.measureText(P).width+D)),{paddingLeft:y}}getTextStyle(){var _;const{maxCharacterLimit:P}=this.props;if(!P){this.setTextStyle({});return}const j={paddingRight:(_=this.characterCount)===null||_===void 0?void 0:_.getCharacterCountWidth()};this.setTextStyle(j)}setTextStyle(_){this.setState(()=>({textStyle:_}))}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(_){const{focusOnMount:P,forceSelectAll:y}=this.props;this.state.everFocused&&P&&_&&_.focusOnMount===P||!this.input||!this.input.current||!P||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),y&&this.input.current.select())}getIsInputLengthTooShort(){var _;const{isRequired:P,minCharacterLimit:y,value:j}=this.props,{everReceivedUserInput:U}=this.state;return!U||y==null||!P&&((_=j)===null||_===void 0?void 0:_.length)===0?!1:j.length<y}getIsInputLengthTooLong(){const{maxCharacterLimit:_,value:P}=this.props;return _==null?!1:P.length>_}renderDeprecatedErrorMaybe(){const{errorLevel:_,errorText:P,errorType:y,minCharacterLimit:j,maxCharacterLimit:U}=this.props;return P?t.a.createElement(i.d,{id:this.state.errorId,level:_,type:y,className:"margin_bottom_100","data-qa":"form_text_input_alert_on_error_text"},P):this.getIsInputLengthTooLong()?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:y,className:"margin_bottom_100"},Object(f.b)(U)):this.getIsInputLengthTooShort()?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:y,className:"margin_bottom_100"},Object(f.c)(j)):null}renderErrorMaybe(){const{errorText:_,minCharacterLimit:P,maxCharacterLimit:y}=this.props;return _?t.a.createElement(h.a,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},_):this.getIsInputLengthTooLong()?t.a.createElement(h.a,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},Object(f.b)(y)):this.getIsInputLengthTooShort()?t.a.createElement(h.a,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},Object(f.c)(P)):null}renderHintMaybe(){const{hintText:_}=this.props;return _?t.a.createElement(u.a,{id:this.state.hintId,"data-qa":"form-text-hint"},_):null}renderTextInput(){const{className:_,errorId:P,errorLevel:y,errorText:j,errorType:U,hintId:W,hintText:L,id:R,isRequired:A,isInvalid:B,labelId:F,name:k,onBlur:V,onChange:X,onCopy:J,forceSelectAll:Y,onFocus:ie,size:de,prefix:pe,suffix:oe,maxCharacterLimit:me,minCharacterLimit:re,counterMinimumCharacters:ve,icon:q,focusOnMount:ce,useInlineAlert:he,showError:Se,inputRef:se,preventScrollOnFocus:H,ariaDescribedById:Oe,autoComplete:$,type:z,readOnly:be,...Z}=this.props,G=!!j||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||B,ne=Object(a.default)({[`c-input_text--with_${y}`]:G,"c-input_text--with_hint":L,"c-input_text--with_icon":q},_),ge=Object(f.e)([F,G?this.state.errorId:null]),ae=Object(f.e)([Oe,this.state.hintId,this.characterCounterId]),fe={...this.state.textStyle,...this.getPrefixStyle()};return t.a.createElement(l.b,S({},Z,{style:fe,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:ae,isInvalid:G,ariaLabelledby:ge,ariaRequired:A,className:ne,id:R,name:k,onChange:X,onCopy:J,forceSelectAll:Y,ref:this.input,size:de,autoComplete:$,type:z,readOnly:be??void 0}))}renderWrappedTextMaybe(){const{prefix:_,suffix:P,value:y,placeholder:j,maxCharacterLimit:U,counterMinimumCharacters:W,size:L,isDisabled:R,icon:A}=this.props;let B=this.renderTextInput();const F=y;return U&&(B=t.a.createElement(C.a,{id:this.characterCounterId,currentCount:F.length,isDisabled:R,maxCharacterLimit:U,counterMinimumCharacters:W,size:L,ref:k=>{this.characterCount=k}},B)),(_||P)&&(B=t.a.createElement(E,{className:A&&"c-input_text_overlay--icon",placeholder:j,size:L,prefix:_,suffix:P,value:y??void 0},B)),A&&(B=t.a.createElement(I,{icon:A,size:L},B)),B}render(){const _=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.a.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&_,this.renderHintMaybe())}constructor(_){super(_),Object(o.a)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:P}=_;this.state={errorId:Object(r.a)(this.props,"errorId",Object(f.a)(P,"error")),everReceivedUserInput:!1,hintId:Object(r.a)(this.props,"hintId",Object(f.a)(P,"hint")),isFocused:!1,everFocused:!1,textStyle:{}},_.maxCharacterLimit&&(this.characterCounterId=Object(f.a)(P,"character-count")),this.input=_.inputRef||t.a.createRef()}},"FormTextInput");p.displayName="FormTextInput",p.defaultProps={className:null,errorId:void 0,errorLevel:i.b.error,errorText:null,errorType:i.c.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,onBlur:d.a,onChange:d.a,onCopy:d.a,forceSelectAll:!1,readOnly:!1,onFocus:d.a,placeholder:void 0,size:l.a.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:d.a,onMouseLeave:d.a,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:d.a,onKeyDown:d.a,onCompositionStart:d.a,onCompositionEnd:d.a};var b=s.a=p},"9ADk":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc");function r(){return r=Object.assign||function(i){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])}return i},r.apply(this,arguments)}m(r,"_extends");let d=m(class extends n.PureComponent{render(){const{children:h,className:l,id:u}=this.props,c=Object(a.default)("c-hint",l);return!!h&&t.a.createElement("div",r({},this.props,{className:c,id:u}),h)}},"Hint");d.displayName="Hint",d.defaultProps={className:void 0,id:void 0};var o=s.a=d},"9BZl":function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("ZobM"),d=e("5ya7");const o=new a.b("import-external-emoji");function i(h){let{emojiUrl:l,emojiName:u}=h;return Object(d.c)(l,u)?t.a.createElement("div",{className:"margin_top_50"},t.a.createElement(r.a,{name:"right-click",inline:!0,size:"18"}),t.a.createElement("span",{className:"margin_left_25"},o.t("Right click to add to your organization"))):null}m(i,"ImportExternalEmojiTooltipInfo"),i.displayName="ImportExternalEmojiTooltipInfo"},"9I4P":function(K,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"b",function(){return c}),e.d(s,"c",function(){return E}),e.d(s,"d",function(){return v});var n=e("NFsq"),t=e("bJfW"),a=e("s4P+"),r=e("+lUI"),d=e("C3vN"),o=e("V+O/"),i=e("O86Y"),h=e("beVI");function l(g){return g==null?void 0:g.name}m(l,"getBotName");function u(g){return g==null?void 0:g.real_name}m(u,"getBotRealName");function c(g,O){if(!g||!g.team_id&&!g.enterprise_user||Object(o.b)(g))return O;if(g.team_id&&Object(t.a)(g.team_id))return g.team_id;if(g.team_id&&Object(t.b)(g.team_id)&&Object(d.V)(g))return O;const I=g.enterprise_user&&g.enterprise_user.teams||[];if(I.length>0)return Object(n.a)(I,O)?O:I[0];if(O){const C=g.id;Object(r.a)(C,()=>{Object(a.a)({teamId:O}).warn("Cannot find workspace for app or bot user in this org.")})}return O}m(c,"getTeamIdFromBotAppUser");function E(){let{member:g,bot:O,botProfile:I,currentTeamId:C}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return O!=null&&O.team_id&&Object(t.a)(O.team_id)?O.team_id:I!=null&&I.team_id&&Object(t.a)(I.team_id)?I.team_id:c(g,C)}m(E,"getTeamIdFromBotOrUser");function v(g){let{member:O,bot:I,botProfile:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O!=null&&O.team_id)return O.team_id;const f=(I==null?void 0:I.team_id)||(C==null?void 0:C.team_id);if(f){if(Object(t.b)(f))return f;const S=Object(h.s)(g,f);return S?S.enterprise_id||S.id:f}return Object(i.i)(g)}m(v,"getTopLevelTeamIdForBotOrUser")},"9MPI":function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("ZKjC");const t=Object(n.b)((a,r,d)=>{var o,i,h;return a==null||(o=a.prefs)===null||o===void 0||(i=o.channel)===null||i===void 0||(h=i[r])===null||h===void 0?void 0:h[d]});t.meta={name:"createSelector",key:"createSelectorgetChannelPref",description:(a,r,d)=>{var o,i,h;return a==null||(o=a.prefs)===null||o===void 0||(i=o.channel)===null||i===void 0||(h=i[r])===null||h===void 0?void 0:h[d]}}},"9Sxv":function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("iJ8e"),d=e("oEDn");const o=m(i=>{let{type:h,spacing:l="medium"}=i;const u=Object(a.default)("three_fourths_opacity",{margin_right_0:l==="none",margin_right_25:l==="small",margin_right_50:l==="medium"});return h===r.a||h===r.n||h===r.g?t.a.createElement(d.a,{type:"channel",size:"inherit",className:u}):h===r.f?t.a.createElement(d.a,{type:"dm",size:"inherit",className:u}):h===r.i?t.a.createElement(d.a,{type:"gn-menu",size:"inherit",className:u}):h===r.b||h===r.k?t.a.createElement(d.a,{type:"shared-channels-outline",size:"inherit",className:u}):h===r.m?t.a.createElement(d.a,{type:"star-o",size:"inherit",className:u}):t.a.createElement(d.a,{type:"star-o",size:"inherit",className:u})},"InlineChannelSectionFallbackIcon");o.displayName="InlineChannelSectionFallbackIcon"},"9ToC":function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"c",function(){return a}),e.d(s,"d",function(){return d}),e.d(s,"b",function(){return i}),e.d(s,"e",function(){return l});var n=e("ltDl");const t=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function a(u){const c=typeof u=="string"&&u.match(t);return c&&c.length===1&&c[0]===u||!1}m(a,"isEmail");function r(u){const{pathname:c,protocol:E}=Object(n.a)(u);return E==="mailto:"&&a(c)}m(r,"isEmailUrl");function d(u){const{pathname:c,protocol:E}=u;return E==="mailto:"&&a(c)}m(d,"isEmailUrlFromUrlObject");const o=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function i(u){const c=typeof u=="string"&&u.match(o);return c&&c.length===1&&c[0]===u||!1}m(i,"isDomain");function h(u){return u.includes("@slack-bots.com")}m(h,"isSlackBotEmail");function l(u){let{csv:c,min:E=0,max:v=10}=u;const g=c.split(/\s*,\s*/).length;return{minViolation:g<E,maxViolation:g>v}}m(l,"validateCSV")},"9WS/":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("fujP"),o=e("nNoG"),i=e("ISSR"),h=e("vfvl"),l=e("Yauy"),u=e("G0eX"),c=e("beVI"),E=e("MUi8"),v=e("QpNZ"),g=e("BJra"),O=e("sGXp"),I=e("nvPh"),C=e("fMsH");function f(){return f=Object.assign||function(M){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var y in P)Object.prototype.hasOwnProperty.call(P,y)&&(M[y]=P[y])}return M},f.apply(this,arguments)}m(f,"_extends");const S=new o.b("search"),D=new o.b("inline_channel");function p(M){const{bestFormerName:_,bold:P=!0,channel:y,channelName:j,overrideHiddenName:U,width:W,displayFormerNames:L=O.e.true,isChannelFrozenAndInGracePeriod:R,showTeam:A=!0,showTeamForLocalChannel:B=!1,showTeamName:F}=M,k=Object(i.a)(y)&&!R;let V=`${U??j}${k?` ${S.t("(archived)")}`:""}`,X;if(L)if(_){const Y=t.a.createElement(v.a,{bold:P,className:"c-channel_name__former_channel_icon",channel:y}),ie=t.a.createElement("span",{className:"c-channel_name__former_name_text"},t.a.createElement(I.a,{text:_,showTooltips:!1}));X=_&&t.a.createElement("span",{className:"c-channel_name__suffix"},D.rt(" (formerly {icon}{name})",{icon:Y,name:ie,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"}))}else{let Y;const ie=Object(l.q)(y);if(ie&&!Object(d.a)(ie)){const de=ie.map(oe=>`#${oe}`);Y=Object(o.h)(de,{noConj:!0}).join("")}Y&&(V+=` ${D.t("(formerly {names})",{names:Y,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"'})}`)}const J=Object(r.default)("c-channel_entity__name",{"c-channel_entity__name--bold":P});return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",f({className:J},Object(g.a)(M)),t.a.createElement(I.a,{text:V,showTooltips:!1}),L&&X),!W&&t.a.createElement(t.a.Fragment,null,A&&t.a.createElement(E.a,{className:"c-channel_entity__team",iconSize:O.a.inline,channel:y,"data-qa":"channel_entity__team",shouldRender:B,showTeamName:F})))}m(p,"ChannelName"),p.displayName="ChannelName";function b(M,_){let{channel:P,includeChannelPrefix:y}=_;const j=Object(c.g)(M)||Object(c.o)(M),U=Object(u.n)(j);var W;return{channelName:(W=Object(l.t)(M,P,{publicChannelIncludeHashSign:!!y,imIncludeAtSign:!1}))!==null&&W!==void 0?W:void 0,isChannelFrozenAndInGracePeriod:Object(h.b)(U,P)}}m(b,"mapStateToProps"),s.a=Object(a.a)(b)(p)},"9cNQ":function(K,s,e){"use strict";e.d(s,"b",function(){return l}),e.d(s,"a",function(){return u}),e.d(s,"c",function(){return c});var n=e("n3tL"),t=e("jeQL"),a=e("3Hq1"),r=e("WCk1"),d=e("2XU3"),o=e("0iF4"),i=e("E3dU");const h={"pins.list":{}},l=Object(r.a)("Get pinned items for channel",function(v,g){let{channelId:O,reason:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const C=h["pins.list"];return C[O]||(C[O]=v(Object(d.apiCall)({method:"pins.list",args:{channel:O},reason:I})),C[O].then(f=>{const S=g(),D=Object(i.d)(S,O);D&&Object(o.c)(f,D)}),C[O].finally(()=>delete C[O])),C[O]});l.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"},l.propTypes={channelId:n.default.string.isRequired,reason:n.default.string.isRequired};const u=Object(r.a)("Pin Message to channel",(v,g,O)=>{let{ts:I,fileId:C,fileCommentId:f,channelId:S,reason:D}=O;return v(Object(d.apiCall)({method:"pins.add",reason:D,args:Object(t.a)({channel:S,timestamp:I,file:C,file_comment:f},a.a)}))});u.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"},u.propTypes={channelId:n.default.string.isRequired,ts:n.default.string,fileId:n.default.string,fileCommentId:n.default.string,reason:n.default.string.isRequired};const c=Object(r.a)("Unpin Message from channel",(v,g,O)=>{let{ts:I,fileId:C,fileCommentId:f,channelId:S,reason:D}=O;return v(Object(d.apiCall)({method:"pins.remove",reason:D,args:Object(t.a)({channel:S,timestamp:I,file:C,file_comment:f},a.a)}))});c.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"},c.propTypes={channelId:n.default.string.isRequired,ts:n.default.string,fileId:n.default.string,fileCommentId:n.default.string,reason:n.default.string.isRequired};const E={resetActiveCalls:()=>{Object.keys(h).forEach(v=>{h[v]={}})}}},"9gkt":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("YUBf");const d=m(o=>{let{headerClassName:i,titleClassName:h,children:l,title:u}=o;return t.a.createElement(r.i,{className:Object(a.default)("p-upgrades_modal__header",i)},l,t.a.createElement(r.l,{className:Object(a.default)("p-upgrades_modal__title",h),title:u}))},"ModalHeader");s.a=d},"9j5s":function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("lhZz"),t=e("LqbL"),a=e("7xYR"),r=e("toaU"),d=e("JfJV");function o(i){const h=Object(n.getClientStoreInstance)();var l;const u=(l=Object(a.getNavigateToUnbootedWorkspace)(h.getState()))!==null&&l!==void 0?l:{},{bootingTeamId:c,navigateToRouteProps:E}=u;return c===i?(Object(d.h)((E==null?void 0:E.routeName)||r.a,{teamId:i,...(E==null?void 0:E.params)||{}},{reason:"delayed-unbooted-team-switch",...(E==null?void 0:E.options)||{}}),h.dispatch(Object(t.setNavigateToUnbootedWorkspace)({})),!0):!1}m(o,"maybeNavigateToUnbootedWorkspace")},"9tyN":function(K,s,e){"use strict";var n=e("lCmp"),t=e("NFsq"),a=e("nNoG");const r=["`","\xB4","\u02C6","\xA8","\u02DC"],d=new RegExp(`[${r.join("")}]$`);var o=m(function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(d,"")},"trim_trailing_composition_char");const i={COMPOSITION_CHARS:r};var h=e("KPXh"),l=s.a=function(u,c){let{allowPartialMatches:E=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!c||!u)return!1;let v=c.toLowerCase().replace(/^\uFF0F/,"/");v=Object(a.a)(v),v=o(v);const g=[Object(h.g)(u),Object(h.e)(u),...Object(h.b)(u)||[]];return Object(n.a)(g,O=>{const I=Object(a.a)(O);return E?Object(t.a)(I,v):I===v})}},"9v4y":function(K,s,e){"use strict"},"9vpw":function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"e",function(){return a}),e.d(s,"c",function(){return r}),e.d(s,"g",function(){return d}),e.d(s,"d",function(){return o}),e.d(s,"b",function(){return i}),e.d(s,"f",function(){return h});var n=e("DwFS");const t=Object(n.a)("Toggle display of the huddle troubleshooting panel");t.meta={name:"createAction",key:"createActiontoggleTroubleshootingPanelDisplay",description:"Toggle display of the huddle troubleshooting panel"};const a=Object(n.a)("Update the state of the active tab in the huddle troubleshooting panel");a.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveTab",description:"Update the state of the active tab in the huddle troubleshooting panel"};const r=Object(n.a)("Update stable metrics state");r.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const d=Object(n.a)("Update unstable metrics and warnings state");d.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const o=Object(n.a)("Update stable warnings state");o.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const i=Object(n.a)("Update stable alert state");i.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const h=Object(n.a)("Update unstable alert state");h.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},"9wgI":function(K,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("bPB8"),t=e("E3dU"),a=e("miM7"),r=e("E97Y"),d=e("y/e0"),o=e("Yauy"),i=e("wGfi"),h=e("aykK"),l=e("oNuo"),u=e("2jZb"),c=e("PX9a"),E=e("nHh1");function v(g,O){const I=Object(t.d)(g,O);if(!I)return[];const C=[];if(Object(i.a)(g,O)&&C.push(Object(l.a)("BKeveryone")),(Object(d.a)(I)||Object(r.i)(I))&&(!Object(a.a)(I)||Object(i.a)(g,O))&&Object(h.a)(g,O)&&(C.push(Object(l.a)("BKchannel")),C.push(Object(l.a)("BKhere"))),Object(c.a)(g)&&Object(r.p)(I)){var f;switch((f=Object(u.c)(I).record_type)!==null&&f!==void 0?f:""){case E.b.Opportunity:C.push(Object(l.a)("BKsf:dealteam",Object(o.t)(g,I),!0));break;default:break}}return Object(n.a)(C)}m(v,"getBroadcastKeywordsForUser")},"A+YV":function(K,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("SQ0V"),t=e("HoeF"),a=e("lhZz"),r=e("+CZ0"),d=e("QIbu"),o=e("PfQc"),i=e("gpLM"),h=e("HKlo"),l=e("SIMs"),u=e("HHxC"),c=e("LZPg");const E=Object(n.c)("Opens the canvas within the huddle window",(v,g,O)=>{let{fileId:I}=O;const C=g(),f=Object(l.z)(C),S=Object(c.o)(C),D=Object(a.getStateForClientStore)(),p=Object(r.a)(D);!(!!p&&Object(l.u)(C,{huddleId:p}))&&f&&I===S?v(Object(i.c)({focusKey:h.c.QUIP_EMBED})):(v(Object(o.a)({peerId:"self",contentViewType:d.a.QuipFile,contentViewConfig:{item:{type:d.a.QuipFile,fileId:I,id:I}}})),v(Object(u.a)({surface:d.b.WINDOW_FULL})),v(Object(t.s)({isNotesOpen:!0})))});E.meta={name:"createThunk",key:"createThunkopenHuddleCanvas",description:"Opens the canvas within the huddle window"}},"A+lB":function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){const a=(t||"").split("-");return a&&(a.length===3||a.length===4)?a[1]:null}m(n,"getCallIdFromExternalId")},"A+oD":function(K,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("fujP"),t=e("ZKjC"),a=e("P9LH"),r=e("xwCZ"),d=e("QLhP"),o=e("C3vN"),i=e("Nnn3"),h=e("9I4P"),l=e("+GhL"),u=e("x/ke"),c=e("O86Y"),E=e("nNoG");const v=new E.b("files"),g=Object(t.b)((O,I)=>{if(!Object(a.Kb)(I))return null;let C=v.t("External App");const f=(I==null?void 0:I.bot_user_id)||(I==null?void 0:I.user);if(f){var S;const D=(S=Object(r.g)(O,f))!==null&&S!==void 0?S:void 0;if(Object(o.T)(D)){const p=Object(i.a)(O,D),b=Object(d.b)(O,p)||void 0,M=Object(h.a)(b);if(C=M||C,Object(n.a)(M)&&p){const _=Object(u.c)(O,{serviceId:p,homeWorkspaceId:Object(h.c)({bot:b,member:D,currentTeamId:Object(c.g)(O)})});C=Object(l.h)(_)||C}}}return C});g.meta={name:"createSelector",key:"createSelectorgetAppNameForRemoteFile",description:(O,I)=>{if(!Object(a.Kb)(I))return null;let C=v.t("External App");const f=(I==null?void 0:I.bot_user_id)||(I==null?void 0:I.user);if(f){var S;const D=(S=Object(r.g)(O,f))!==null&&S!==void 0?S:void 0;if(Object(o.T)(D)){const p=Object(i.a)(O,D),b=Object(d.b)(O,p)||void 0,M=Object(h.a)(b);if(C=M||C,Object(n.a)(M)&&p){const _=Object(u.c)(O,{serviceId:p,homeWorkspaceId:Object(h.c)({bot:b,member:D,currentTeamId:Object(c.g)(O)})});C=Object(l.h)(_)||C}}}return C}}},A1dN:function(K,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"c",function(){return u}),e.d(s,"d",function(){return c}),e.d(s,"e",function(){return E}),e.d(s,"b",function(){return v});var n=e("Z0Cl"),t=e("DxSU"),a=e("AFNo"),r=e("2XU3"),d=e("Lgge"),o=e("s4P+"),i=e("3REw"),h=e("gHj1");const l=Object(a.a)("Get call info from callId",(g,O,I)=>{let{callIds:C,reason:f}=I;const S=Object(o.a)({getState:O});return C.length>3&&S.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${C.length}`),d.a.map(C,D=>g(Object(r.apiCall)({method:"screenhero.rooms.info",args:{room:D},reason:f||"huddles-call-info"})).then(p=>{let{room:b}=p;return Object(t.b)(b)}).catch(p=>(S.error(p,`Error while fetching call: ${D}`),null))).then(n.a)});l.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const u=Object(a.a)("Join a calls / huddle room",(g,O,I)=>{let{channelId:C,roomId:f,threadTs:S,shouldFetchRegion:D,teamId:p,traceId:b,parentSpanId:M,reason:_,isMultiDevice:P=!1}=I;return(D?h.a.getInstance().getNearestChimeMediaRegion(p):d.a.resolve("")).then(y=>g(Object(r.apiCall)({method:"rooms.join",args:{...f&&{id:f},...C&&{channel_id:C},...S&&{thread_ts:S},regions:y,multidevice:P},traceId:b,parentSpanId:M,reason:_||"calls-api/joinRoom"})).then(j=>{var U;return{server:Object(i.s)(j.call),roomId:j.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:f,channelId:(U=j.huddle)===null||U===void 0?void 0:U.channels[0],...j.canvas&&j.canvas.root_thread_ts&&{rootThreadTs:j.canvas.root_thread_ts},...j.canvas&&j.canvas.canvas_file_id&&{canvasFileId:j.canvas.canvas_file_id}}}))});u.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const c=Object(a.a)("Notify member to join huddle",(g,O,I)=>{let{reason:C,channelId:f,userId:S}=I;return g(Object(r.apiCall)({method:"rooms.notifyMember",args:{channel_id:f,user_id:S},reason:C}))});c.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const E=Object(a.a)("Set a huddle topic / rename the call",(g,O,I)=>{let{roomId:C,name:f}=I;return g(Object(r.apiCall)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:C,room_name:f}}))});E.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const v=Object(a.a)("Get a link to a huddle",(g,O,I)=>{let{reason:C,channelId:f}=I;return g(Object(r.apiCall)({method:"rooms.getLink",reason:C,args:{channel_id:f}}))});v.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},A4eW:function(K,s,e){K.exports=e.p+"huddle-in-thread-da71b0e.png"},A4tE:function(K,s,e){"use strict"},A6se:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});function n(a){return a>=48&&a<=57}m(n,"isNumericKey");function t(a){const r=String.fromCharCode(a);return!!/[a-zA-Z0-9]/.test(r)}m(t,"isAlphaNumericKey")},A7BO:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ifKl"),d=e("ktUG"),o=e("FRd1");function i(){return i=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(v[I]=O[I])}return v},i.apply(this,arguments)}m(i,"_extends");const h={small:"small",medium:"medium",large:"large"},l={onBlur:{action:d.UiAction.SAVE}};var u;let c=m(class extends(u=t.a.Component){componentDidMount(){var g;this.props.focusOnMount&&(!((g=this.textAreaRef)===null||g===void 0)&&g.current)&&this.textAreaRef.current.focus()}onChange(g){this.props.onChange(g.target.value)}render(){const{ariaDescribedby:g,isInvalid:O,ariaLabelledby:I,ariaRequired:C,className:f,placeholder:S,id:D,isDisabled:p,name:b,resize:M,size:_,focusOnMount:P,autoClogProps:y,...j}=this.props,U=Object(a.default)("c-input_textarea",{"c-input_textarea--large":_===h.large,"c-input_textarea--small":_===h.small,"c-input_textarea--resize_none":M==="none","c-input_textarea--resize_both":M==="both","c-input_textarea--resize_h":M==="horizontal","c-input_textarea--with_error":O,"c-input_textarea--with_inline_alert":O},f),W=t.a.createElement("textarea",i({},j,{"aria-describedby":g,"aria-invalid":O,"aria-labelledby":I,"aria-required":C,className:U,disabled:p,id:D,name:b,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeholder:S,ref:this.textAreaRef,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength}));return y?t.a.createElement(o.a,{autoClogProps:y,actionProps:l,elementType:d.ElementType.TEXTAREA},W):W}constructor(g){super(g),this.onChange=this.onChange.bind(this),this.textAreaRef=t.a.createRef()}},"TextareaInput");c.displayName="TextareaInput",c.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:r.a,onFocus:r.a,onBlur:r.a,placeholder:"",resize:null,size:h.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0};var E=s.b=c},A7Fl:function(K,s,e){"use strict"},AFY6:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc");const r=m(d=>{let{className:o,subtitle:i}=d;return t.a.createElement("div",{className:Object(a.default)("p-upgrades_modal__subtitle",o)},i)},"ModalSubtitle");s.a=r},AIke:function(K,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("Lgge"),t=e("SQ0V"),a=e("Sl1j"),r=e("ohbk"),d=e("Fqb6"),o=e("u/Sz"),i=e("I0j/"),h=e("37+L"),l=e("RV0M");const u=Object(t.c)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(c,E,v,g)=>{let{channelId:O,users:I,subteams:C,inviteAll:f,force:S,propagateInviteResult:D}=v;return c(Object(a.e)({channelId:O,reason:o.a.CHILD_CHANNEL_CREATED})).then(function(){let{channel:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{shouldUseNavigate:b}=g(l.a);return c(Object(d.a)({channel:p,reason:o.a.CHILD_CHANNEL_CREATED})),c(b?Object(i.a)(Object(h.i)(p.id)):Object(r.a)({id:p.id})),D?f||I||C?c(Object(a.B)({channelId:p.id,users:I,subteams:C,inviteAll:f,force:S})).then(M=>({channel:p,inviteResult:M})):n.a.resolve({channel:p,inviteResult:{ok:!0}}):(c(Object(a.B)({channelId:p.id,users:I,subteams:C})),n.a.resolve({channel:p}))})});u.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},AKQE:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});let n=null;const t=m(()=>n,"getOpenChannelId"),a=m(r=>{n=r},"setOpenChannelId")},AaY3:function(K,s,e){"use strict";var n=e("9oTK"),t=e("vYXD"),a=e("AKQE"),r=e("q1tI"),d=e.n(r),o=e("zxER"),i=e("npde"),h=e("E/AO"),l=e("Tevt"),u=e("Trx9"),c=e("ktUG"),E=e("d/xU"),v=e("nNoG"),g=e("QcWC"),O=e("RVJP");const I=new v.b("huddles");function C(ce){let{closeModal:he}=ce;const Se=Object(o.c)(g.a),se=Object(o.c)($=>Object(O.d)($,"adoption_instant_slack"))==="treatment";let H,Oe;if(Object(t.c)())H=I.t("Your browser does not support Huddles"),Oe=Se&&se?I.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},$=>{let{text:z}=$;return d.a.createElement(l.a,{href:"https://www.google.com/chrome"},z)}):I.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},$=>{let{tag:z,text:be}=$;switch(z){case"desktop-link":return d.a.createElement(l.a,{href:`https://${Object(E.l)()}/downloads`},be);case"chrome-link":return d.a.createElement(l.a,{href:"https://www.google.com/chrome"},be);default:return null}});else if(Object(t.d)())H=I.t("Please update Slack"),Oe=I.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return d.a.createElement(u.a,{eventId:c.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:c.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},d.a.createElement(h.a,{onClose:he,onSubmit:he,showCancelButton:!1,showSubmitButton:!0,title:H,submitButtonText:I.t("OK")},Oe))}m(C,"HuddleUnsupportedAlert"),C.displayName="HuddleUnsupportedAlert";var f=Object(i.a)(C),S=e("Lgge"),D=e("SQ0V"),p=e("lpU5"),b=e("6rGi"),M=e("jj3I"),_=e("O86Y"),P=e("x5lL"),y=e("t3jr");const j=Object(D.c)("End active call",(ce,he)=>{const Se=Object(P.b)(he());if(Se){const se=Object(P.t)(Se);se&&!se.isClosed()&&Object(y.a)(se,"endActiveCall")}});j.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var U=e("gpLM"),W=e("HKlo"),L=e("u0LO"),R=e("52XJ"),A=e("lhZz"),B=e("GNR7"),F=e("gHj1"),k=e("sgFo"),V=e("9Gfp"),X=e("+CZ0"),J=e("0dq7"),Y=e("XM5t"),ie=e("5IZy"),de=e("3vtZ"),pe=e("QjW8"),oe=e("+N8b"),me=e("dKQz"),re=e("ED8d");const ve=Object(D.c)("Start huddle",function(){var ce=Object(n.coroutine)(function*(he,Se,se){let{channelId:H,threadTs:Oe,muted:$,callId:z,forceFocus:be,entryPoint:Z=J.e.UNKNOWN,isMultiDevice:G,isStandaloneHuddle:ne}=se;Object(A.dispatchForClientStore)(Object(me.z)(!1));const ge=Se();if(he(j()),he(Object(M.e)(!1)),he(Object(M.a)()),Object(t.d)()||Object(t.c)())return he(f()),S.a.resolve();he(Object(R.a)({experimentHuddlesDiscoveryCallsGroupTreatment:Object(k.m)(ge),interactionType:L.a.Click})),Object(a.a)()!==H&&he(Object(p.j)({channelId:H??"",open:!1}));const ae=Object(V.i)(ge,"feature_tinyspeck"),fe=Object(_.g)(ge);Object(re.a)().initializeTraces({teamId:fe,isTinySpeck:ae});const Te=!!Object(X.x)(Object(A.getStateForClientStore)()),ye=yield F.a.getInstance().getNearestChimeMediaRegion(fe),{ttiTrace:Ue,huddleEventsTrace:Ne}=Object(re.a)().getAllTraceHandlers();Ue.addTTIMetaTags({entryPoint:Z,preferredMediaRegion:ye,isPrejoin:Te,isCreate:!Object(B.a)(ge,H)}),Ne==null||Ne.recordEntryPoint(Z),oe.a.publish({type:pe.c.PreferredMediaRegion,update:{mediaRegionPreferred:ye}});const He=Object(b.a)(),ze=Object(k.r)(ge),Je=Object(V.a)(ge);return He.start(fe,H??"",$,z,Oe,ze,G,ne).then(Object(n.coroutine)(function*(){const Xe=Object(A.getStateForClientStore)(),Me=Object(de.l)(ge,{huddleId:z}),Ke=Object(de.k)(Xe),$e=Object(de.j)(Xe);Object(ie.a)({state:ge}).track(c.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:Z,ui_properties:{element_name:Y.a.CANVAS_JOIN},action:c.UiAction.TOGGLE},calls:$e},...Me,...Ke}),he(Object(U.c)({focusKey:W.c.HUDDLE_SIDEBAR_FOOTER,forceFocus:be})),he(Object(p.i)(!1)),z&&he(Object(P.B)({callId:z,userId:Je}))}))});return function(he,Se,se){return ce.apply(this,arguments)}}());ve.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};var q=s.a=ve},Aebc:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("nNoG"),d=e("nWdO"),o=e("6R8Z"),i=e("ZobM");function h(){return h=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(v[I]=O[I])}return v},h.apply(this,arguments)}m(h,"_extends");const l=new r.b("presence");function u(v,g){return v?g?l.t("Active, notifications snoozed"):l.t("Active"):g?l.t("Away, notifications snoozed"):l.t("Away")}m(u,"getPresenceText");const c=m(v=>{let{inheritIconSize:g=!1,inline:O=!0,isActive:I=!1,isDnd:C=!1,isSelf:f=!1,isSlackbot:S=!1,invert:D=!1,userType:p="member",focusable:b=!1,showText:M=!1,resetIA:_=!1,className:P}=v,y=I?{name:"status-member",variation:"filled"}:{name:"status-member"};const j=Object(a.default)(P,"c-presence",{"c-presence--active":I&&!D,"c-presence--resetIA":_,"c-presence--away":!I&&!D,"c-presence--inverted":D,"is-inline":O,block:!O}),U=u(I,C);p==="member"?C?y=I?{name:"status-member-dnd",variation:"filled"}:{name:"status-member-dnd"}:S&&(y={name:"status-slackbot",variation:"filled"}):p==="ra"||p==="external"?C?y=I?{name:"status-guest-dnd",variation:"filled"}:{name:"status-guest-dnd"}:y=I?{name:"status-guest",variation:"filled"}:{name:"status-guest"}:p==="ura"&&(C?y=I?{name:"status-single-channel-guest-dnd",variation:"filled"}:{name:"status-single-channel-guest-dnd"}:y=I?{name:"status-single-channel-guest",variation:"filled"}:{name:"status-single-channel-guest"});const W=t.a.createElement("span",{className:j},t.a.createElement(i.a,h({},y,{title:U,"aria-label":U,"aria-hidden":"false",size:g?"inherit":"20",inline:O,"data-qa":"presence_indicator","data-qa-type":y.name,"data-qa-presence-self":f,"data-qa-presence-active":I,"data-qa-presence-dnd":C})));return b?t.a.createElement(t.a.Fragment,null,t.a.createElement(d.c,{tip:U},t.a.createElement(o.a,null,W)),M&&t.a.createElement("span",{className:"padding_left_50","aria-hidden":"true"},U)):t.a.createElement(t.a.Fragment,null,W,M&&t.a.createElement("span",{className:"padding_left_50","aria-hidden":"true"},U))},"Presence");c.displayName="Presence";var E=s.a=t.a.memo(c)},Aqju:function(K,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("mLC8"),t=e("rZ8V"),a=e("O86Y"),r=e("1Np4"),d=e("QBFz"),o=e("KQ0X"),i=e("4cU5"),h=e("NWwO");function l(u){let{state:c,channelId:E,isWorkspaceSwitch:v=!1}=u;if(Object(t.m)(c))return;const g=Object(a.g)(c),O=Object(d.a)(c,"channel_switch"),I=Object(h.a)();n.d.start({label:n.a.ChannelSwitch,id:Object(o.a)({teamId:g,channelId:E}),options:{phases:!0,tracer:Object(r.a)({state:c}),samplingOptions:I?{sampleType:i.g.ALWAYS}:void 0,teamId:g,tags:{view_name:"chat",is_workspace_switch:v?!0:void 0,user_based_sampled:I?!0:void 0,version:2},onCleanup(){O.stop()}}})}m(l,"traceChannelSwitch")},"B+uu":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("8agj"),t=e("jnGo");const a=m((r,d)=>{var o,i;let h,l,u;r&&(r.subtype==="file_comment"?[l,h]=["file_comment",r.comment]:Object(n.a)(r.subtype)?[l,h]=["file",d]:[l,h,u]=["message",r,r.channel]);const c=l==="message"?(o=h)===null||o===void 0?void 0:o.ts:(i=h)===null||i===void 0?void 0:i.id;return h&&(h._rxn_key||Object(t.a)(l,c,u))},"getReactionKey")},B1Qj:function(K,s,e){"use strict";e.d(s,"b",function(){return k});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("5RQ4"),d=e.n(r),o=e("v0Vs"),i=e.n(o),h=e("+OS1"),l=e.n(h),u=e("r9Lk"),c=e.n(u),E=e("LPwq"),v=e.n(E),g=e("RIOX"),O=e.n(g),I=e("8K+h"),C=e.n(I),f=e("IPMH"),S=e.n(f),D=e("onsa"),p=e.n(D),b=e("ksuf"),M=e.n(b),_=e("ITwW"),P=e.n(_),y=e("g9pr"),j=e.n(y),U=e("6w/h"),W=e.n(U),L=e("UWeq"),R=e.n(L),A=e("IXWQ"),B=e.n(A);const F=new a.b("huddles"),k=[{key:"NONE",preview:C.a},{key:"BLUR",preview:C.a},{key:"LIVING_ROOM",url:R.a,preview:B.a},{key:"REMOTE_WORK",url:j.a,preview:W.a},{key:"TOKYO_SIGHT",url:M.a,preview:P.a},{key:"GYM",url:S.a,preview:p.a},{key:"HOME",url:v.a,preview:O.a},{key:"OFFICE",url:l.a,preview:c.a},{key:"BEACH",url:d.a,preview:i.a}],V=m(()=>Object(n.useMemo)(()=>k.map(J=>{let Y,ie;switch(J.key){case"NONE":Y=F.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":Y=F.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":Y=F.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),ie=F.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":Y=F.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),ie=F.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":Y=F.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),ie=F.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":Y=F.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),ie=F.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":Y=F.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":Y=F.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":Y=F.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:Y="NO_NAME",ie="NO_DESCRIPTION"}return{...J,name:Y,description:ie}}),[]),"useGetVideoBackgrounds");s.a=V},B4ch:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("SQ0V"),d=e("lhZz"),o=e("O86Y"),i=e("stxl"),h=e("3l96"),l=e("4hjS"),u=e("PIf0"),c=e("azFB");function E(){return E=Object.assign||function(g){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(g[C]=I[C])}return g},E.apply(this,arguments)}m(E,"_extends");const v=m((g,O)=>Object(r.c)(`XWS open ${g.displayName} modal`,(I,C,f,S)=>{const{modalName:D,allowMultiple:p=!0,isStackable:b=!1,renderInChildWindow:M=!1}=O||{};let _,P=M;const y=S(u.a);if((y==null?void 0:y.window)!==c.a&&(y!=null&&y.windowId)&&(P=!0,_=y.windowId),!p&&D&&Object(i.a)(C(),_).find(F=>{let{name:k}=F;return k===D}))return;const j=Object(o.g)(C()),U=Object(l.f)(C()),W=Object(d.getStoreInstanceByTeamId)(j);let L,R=t.a.createElement(g,E({},f,{closeModal:()=>L==null?void 0:L()}));P||(R=t.a.createElement(a.Provider,{store:W},R));let A;return P?A=I(Object(h.a)({element:R,name:D||void 0,isStackable:b})):A=Object(d.dispatchForTeamId)(U,Object(h.a)({element:R,name:D||void 0,isStackable:b})),L=A.close,A}),"createXWSModalThunk");s.a=v},BEQu:function(K,s,e){"use strict";e.d(s,"c",function(){return t}),e.d(s,"d",function(){return a}),e.d(s,"b",function(){return r}),e.d(s,"a",function(){return d}),e.d(s,"e",function(){return i});var n=e("Z7Ay");const t=450,a=450,r=25,d=500;let o;const i=m(()=>o||[a,t,r,d],"getHuddleCameraQualityConstants");Object(n.a)("huddlesVideoConstants",{resetCameraQualityToDefaults:()=>{o=void 0},maxOutCameraQuality:()=>{o=[1280,720,30,2500]}})},BHH9:function(K,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.WEEKLY_REMINDER="SUGGESTED_WORKFLOW_WEEKLY_REMINDER",t.STANDUP="SUGGESTED_WORKFLOW_STANDUP",t.KUDOS="SUGGESTED_WORKFLOW_GIVE_KUDOS",t.PTO_REQUEST="PTO_REQUEST",t.LISTS_COLUMN_CHANGED="LISTS_COLUMN_CHANGED",t.ADD_RECORD_TO_LIST="ADD_RECORD_TO_LIST",t.ADD_RECORD_TO_LIST_NO_NOTIFICATION="ADD_RECORD_TO_LIST_NO_NOTIFICATION",t.FEEDBACK_FORM_FOR_LIST="FEEDBACK_FORM_FOR_LIST",t.BUG_FORM_FOR_LIST="BUG_FORM_FOR_LIST",t.HELP_FORM_FOR_LIST="HELP_FORM_FOR_LIST"})(n||(n={}))},BJra:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("u3oV"),t=e("X6iR");function a(r){return Object(n.a)(r,(d,o)=>Object(t.a)(o,"data-"))}m(a,"getDataProps")},BSP1:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("Eh7F");const t=m(r=>{const d=Date.now();var o;return d-((o=r.updatedTimestamp)!==null&&o!==void 0?o:d)>=n.c},"isAwarenessEntryExpired"),a=m(r=>r?[n.a.HUDDLE_ACTIVE_SONG].includes(r):!1,"skipUniquenessCheck")},BTpy:function(K,s,e){"use strict";e.d(s,"c",function(){return i}),e.d(s,"a",function(){return h}),e.d(s,"b",function(){return l});var n=e("ZKjC"),t=e("dmdh"),a=e("6dQg"),r=e("CnKg"),d=e("9068");const o=Object(n.b)((u,c)=>{const{fileIdOrQuipThreadId:E}=Object(r.i)(c);if(Object(a.a)(E)){var v;return(v=Object(t.e)(u,E))!==null&&v!==void 0?v:null}return null});o.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(u,c)=>{const{fileIdOrQuipThreadId:E}=Object(r.i)(c);if(Object(a.a)(E)){var v;return(v=Object(t.e)(u,E))!==null&&v!==void 0?v:null}return null}};const i=Object(n.b)((u,c)=>{const E=o(u,c);return E&&Object(d.a)(E)?E:null});i.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(u,c)=>{const E=o(u,c);return E&&Object(d.a)(E)?E:null}};function h(u){return u.linked_channel_id}m(h,"getLinkedChannelId");function l(u){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(u)}m(l,"isSampleCanvas")},BfA7:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("mQiU");function r(){return r=Object.assign||function(o){for(var i=1;i<arguments.length;i++){var h=arguments[i];for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(o[l]=h[l])}return o},r.apply(this,arguments)}m(r,"_extends");function d(o){const i=o,h=t.a.forwardRef((l,u)=>t.a.createElement(a.a.Consumer,null,c=>{let{view:E,closeView:v,windowId:g,container:O,isMainWindow:I,isChildWindow:C,shouldUseNavigate:f,activeTab:S,forceTabWhenNavigating:D,getSiblingView:p,getViewSet:b}=c;return t.a.createElement(i,r({ref:u},l,{view:E,closeView:v,windowId:g,container:O,isMainWindow:I,isChildWindow:C,shouldUseNavigate:f,activeTab:S,forceTabWhenNavigating:D,getSiblingView:p,getViewSet:b}))}));return h.displayName=`withViewContainerContext(${i.displayName})`,h}m(d,"withViewContainerContext"),d.displayName="withViewContainerContext",s.a=d},Bi0V:function(K,s,e){K.exports=e.p+"ava_0002-48-d3ba4ec.png"},Bi0v:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("SQ0V"),t=e("HxoY"),a=e("RkbV"),r=e("rRi9"),d=e("SRu2");const o=Object(n.c)("Add an ephemeral message to messages-store and ephemeral message map",(h,l,u)=>{let{ephemeralType:c,message:E}=u;const v=l(),g=Object(d.a)(v,E);g.ts||(g.ts=Object(t.a)()),c&&(g._ephemeral_type=c),h(Object(a.a)([g])),c&&h(Object(r.a)({ephemeralType:c,channelId:g.channel,ts:g.ts}))});o.meta={name:"createThunk",key:"createThunkaddEphemeralMessage",description:"Add an ephemeral message to messages-store and ephemeral message map"};const i=Object(n.c)("Add an ephemeral message from a bot (defaults to Slackbot)",(h,l,u)=>{let{ephemeralType:c,message:E}=u,v;E.username?v={...E,subtype:"bot_message"}:v={...E,user:"USLACKBOT"},h(o({ephemeralType:c,message:v}))});i.meta={name:"createThunk",key:"createThunkaddEphemeralBotMessage",description:"Add an ephemeral message from a bot (defaults to Slackbot)"}},Bwf8:function(K,s,e){"use strict";e.d(s,"a",function(){return pe});var n=e("Kmpi"),t=e("xwCZ"),a=e("ZrLl"),r=e("M4HD"),d=e("Yauy"),o=e("pZC0"),i=e("E97Y"),h=e("gVOt"),l=e("p9fx");const u=m(oe=>oe&&(oe.displayName||oe.display_name||Object(l.a)(oe)),"getEmojiDisplayName"),c=m(oe=>oe?(oe.aliases?[oe,...oe.aliases]:[oe]).map(re=>({name:Object(l.a)(re),displayName:u(re)})):null,"getAllEmojiNameObjects");var E=e("jvEW"),v=e("C3vN"),g=e("52Wj"),O=e("G0eX"),I=e("DQNL"),C=e("vJdC"),f=e("s4P+");const S={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"]};var D=e("Tb1M"),p=e("V96q"),b=e("ifKl"),M=e("uKXT"),_=e("lCmp"),P=e("BvK0"),y=e("DKof"),j=e("CpTu"),U=e("7EGn"),W=e("RwMM"),L=e("9tyN"),R=e("EzMJ"),A=e("KPXh"),B=e("4Ky9"),F=e("E3dU"),k=e("beVI"),V=e("P9LH"),X=e("BTpy"),J=e("7ibc"),Y=e("Ir4d"),ie=e("O86Y"),de=e("rKeN");let pe=m(class{filterMembers(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(Object(v.qb)(ce)||this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery){const H={item:ce,score:0,id:ce.id};return this.selfFirst&&Object(v.jb)(ce)&&(H.isSelf=!0),q.push(H),q}const{score:he,scoreDetails:Se}=this.scoreMember(ce),se={item:ce,score:he,scoreDetails:Se,id:ce.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(se.isExactMatch=this.isMemberExactMatch(ce),se.exactMatchDetails=this.getMemberExactMatchDetails(ce)),this.selfFirst&&Object(v.jb)(ce)&&(se.isSelf=!0),he<=this.fuzzyLimit&&q.push(se),q},[])}scoreMember(me){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const ve=1/0,q={};if(this.queryIsMaybeSelf&&Object(v.jb)(me))q.self_score=0;else{const se=Object(g.f)(me),H=Object(g.d)(me);q.real_name=se?re.score(se):ve,q.display_name=H?re.score(H):ve}if(this.shouldMatchEmail){const se=Object(g.a)(me);q.email=se?this.forwardOnlyMatcher.score(se):1/0}var ce;const he=(ce=Object(M.a)(Object.values(q)))!==null&&ce!==void 0?ce:ve,Se=Object.entries(q).reduce((se,H)=>{let[Oe,$]=H;return isFinite($)&&(se[Oe]=$),se},{});return{score:he,scoreDetails:Se}}filterChannels(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(Object(i.r)(ce)||Object(o.a)(ce)||this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=Object(D.a)(Object(d.t)(me,ce,{publicChannelIncludeHashSign:!1})),Se=this.matcher.score(he),se={item:ce,score:Se,id:ce.id};this.preferExactMatch&&(se.isExactMatch=this.isChannelExactMatchPreNormalized(he));const H=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,Oe=ce.previous_names&&ce.previous_names.length;if(H&&Oe){var $;const z=ce==null||($=ce.previous_names)===null||$===void 0?void 0:$.map(ne=>({score:this.matcher.normalizeAndScore(ne),name:ne}));se.previousNameScores=z;const be=Object(_.a)(z,ne=>ne.score<=this.fuzzyLimit),Z=be&&Se>this.fuzzyLimit;let G;if(Z){const ne=Object(P.a)(z,"score");G=ne&&ne.name}return se.bestPreviousNameMatch=G,(Se<=this.fuzzyLimit||be)&&q.push(se),q}return Se<=this.fuzzyLimit&&q.push(se),q},[])}filterTeams(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(Object(O.U)(ce)||this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=this.matcher.normalizeAndScore(Object(O.h)(ce)),Se={item:ce,score:he,id:ce.id};return this.preferExactMatch&&(Se.isExactMatch=this.isTeamExactMatch(ce)),he<=this.fuzzyLimit&&q.push(Se),q},[])}filterUserGroups(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(Object(I.v)(ce)||this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=this.scoreUserGroupName(ce),Se={item:ce,score:he,id:ce.id};return this.preferExactMatch&&(Se.isExactMatch=this.isUsergroupExactMatch(ce)),he<=this.fuzzyLimit&&q.push(Se),q},[])}scoreUserGroupName(me){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,ve=1/0,q=1/0;const ce=Object(I.j)(me)||Object(I.i)(me).toLocaleLowerCase(),he=Object(I.g)(me,{includeAtSign:!1});return ve=re.normalizeAndScore(ce),he&&(q=re.normalizeAndScore(he)),Math.min(ve,q)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(re=>!!re).map(re=>{const ve=re.charAt(0)==="@"?re.substring(1):re;return new W.b(ve,{fuzzyLimit:this.fuzzyLimit})})}filterMpims(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=Object(d.C)(ce);if(!he)return q;const Se=he.map(G=>Object(t.g)(me,G)).filter(G=>!Object(v.jb)(G)&&!Object(v.qb)(G)),se={},H={},Oe=[];let $=0;const z=this.getSubQueryMatchers();for(const G of z){const ne=[];let ge=1/0;for(const ae of Se){const{score:fe,scoreDetails:Te}=this.scoreMember(ae,G),ye=se==null?void 0:se[ae.id];fe<(ye!==void 0?ye:1/0)&&(se[ae.id]=fe,H[ae.id]={score_details:Te}),ne.push({id:ae.id,score:fe}),fe<ge&&(ge=fe)}Oe.push(ne),$+=ge}let be;isFinite($)?be=Object(y.a)(Object.values(se).filter(isFinite)):be=$;const Z={id:ce.id,item:ce,score:be,scoreDetailsByMember:H,subqueryScoresByMember:Oe};return be<=this.fuzzyLimit&&q.push(Z),q},[])}filterIms(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(this.shouldFilterItem(ce,ve))return q;const he=Object(h.a)(ce);if(!he)return q;const Se=Object(t.g)(me,he);if(Object(v.qb)(Se))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const{score:se,scoreDetails:H}=this.scoreMember(Se),Oe={item:ce,score:se,scoreDetails:H,id:ce.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(Oe.isExactMatch=this.isMemberExactMatch(Se),Oe.exactMatchDetails=this.getMemberExactMatchDetails(Se)),se<=this.fuzzyLimit&&q.push(Oe),q},[])}filterViews(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=this.matcher.normalizeAndScore(ce.name),Se={item:ce,score:he,id:ce.id};return this.preferExactMatch&&(Se.isExactMatch=this.isViewOrModalExact(ce)),he<=this.fuzzyLimit&&q.push(Se),q},[])}filterModals(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=this.matcher.normalizeAndScore(ce.name),Se={item:ce,score:he,id:ce.id};return this.preferExactMatch&&(Se.isExactMatch=this.isViewOrModalExact(ce)),he<=this.fuzzyLimit&&q.push(Se),q},[])}filterAppActions(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(Object(n.e)(ce)||this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=Object(a.a)(ce),Se=Object(B.a)(me,ce.app_id),se=!Object(n.e)(Se)&&Object(r.r)(Se),H=se?[`${he} ${se}`,`${se} ${he}`]:[he],Oe=H.map(be=>this.matcher.normalizeAndScore(be)),$=Math.min(...Oe),z={item:ce,score:$,id:ce.id};return this.preferExactMatch&&(z.isExactMatch=!!(this.query&&H.map(D.a).includes(this.query))),$<=this.fuzzyLimit&&q.push(z),q},[])}filterApps(me,re,ve,q){let ce=arguments.length>4&&arguments[4]!==void 0?arguments[4]:b.a;const he={};return re!=null&&re.length&&re.forEach(Se=>{const se=Se.app_id;se&&!he[se]&&(he[se]={id:se,name:Se.appName})}),ve!=null&&ve.length&&ve.forEach(Se=>{const se=Se==null?void 0:Se.appId;se&&!he[se]&&(he[se]={id:se,name:Se==null?void 0:Se.appName})}),q!=null&&q.length&&q.forEach(Se=>{const se=Se.appId;se&&!he[se]&&(he[se]={id:se,name:Se.appName})}),this.filterShortcuts(me,Object.values(he),!1,ce)}filterShortcuts(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b.a;return re.reduce((ce,he)=>{if(Object(n.e)(he)||this.shouldFilterItem(he,q))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:he,score:0,id:he.id}),ce;const{score:Se,scoreDetails:se,bestNameMatch:H,bestNameIsExactMatch:Oe}=this.scoreShortcut(he,ve),$={item:he,id:he.id,score:Se};if(ve){$.firstWordOfRawQuery=Object(R.a)(this.query);const z=Object(L.a)(he,Object(R.b)($.firstWordOfRawQuery),{allowPartialMatches:!1});$.commandMatch=z&&this.isOpenedWithSlash,$.isExactMatch=$.commandMatch}return $.scoreDetails=se,$.bestNameMatch=H,$.bestNameIsExactMatch=Oe,$.isExactMatch=$.isExactMatch||Oe,(Se<=this.fuzzyLimit||$.commandMatch)&&ce.push($),ce},[])}scoreShortcut(me){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const q=this.isQueryExactlySlash?[]:me.aliases||[];let ce=Object(D.a)(Object(A.g)(me));const he={name:ve.score(ce),label:ve.normalizeAndScore(me.label),desc:ve.normalizeAndScore(Object(A.f)(me)),app_name:ve.normalizeAndScore(Object(A.d)(me))};re&&he.name!==void 0&&he.name>0&&(he.name-=1);let Se,se,H;q.forEach(be=>{let Z=Object(D.a)(be);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(Z=Object(Y.a)(Z));const G=ve.score(Z);Z=Object(Y.a)(Z),!H&&(Se===void 0||G<Se)&&(Se=G,se=Z),this.normalizedQuery===Z&&(H=!0,se=Z)}),Se!==void 0&&isFinite(Se)&&(he.aliases=Se);var Oe;const $=(Oe=Object(M.a)(Object.values(he)))!==null&&Oe!==void 0?Oe:1/0;ce=Object(Y.a)(ce),!H&&isFinite(he.name)&&(Se===void 0||he.name<Se)&&(se=ce),this.normalizedQuery===ce&&(H=!0,se=ce);const z=Object.entries(he).reduce((be,Z)=>{let[G,ne]=Z;return isFinite(ne)&&(be[G]=ne),be},{});return{score:$,scoreDetails:z,bestNameMatch:se,bestNameIsExactMatch:H}}filterWorkflowTriggers(me,re){return re.reduce((ve,q)=>{if(!this.query&&this.allowEmptyQuery)return ve.push({item:q,score:0,id:q.id}),ve;const ce=this.scoreWorkflowTrigger(q),he={item:q,score:ce,id:q.id};return this.preferExactMatch&&(he.isExactMatch=this.isTriggerExactMatch(q)),ce<=this.fuzzyLimit&&ve.push(he),ve},[])}scoreWorkflowTrigger(me){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;var ve;const q={name:re.normalizeAndScore(me.name),description:re.normalizeAndScore(me.description),appName:re.normalizeAndScore((ve=me.workflow.app)===null||ve===void 0?void 0:ve.name)};var ce;return(ce=Object(M.a)(Object.values(q)))!==null&&ce!==void 0?ce:1/0}filterBroadcastKeywords(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=this.scoreBroadcastKeyword(ce),Se={item:ce,score:he,id:ce.id};return this.preferExactMatch&&(Se.isExactMatch=this.isBroadcastKeywordExactMatch(ce)),he<=this.fuzzyLimit&&q.push(Se),q},[])}scoreBroadcastKeyword(me){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,ve=1/0,q=1/0;const ce=re.normalizeAndScore(me.name);return me.id==="BKchannel"&&(ve=re.normalizeAndScore("group")),me.ms_name!==me.name&&(q=re.normalizeAndScore(me.ms_name)),Math.min(ce,q,ve)}filterEmoji(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;const q=[];return re.forEach(ce=>{if(this.shouldFilterItem(ce,ve))return;if(!this.query&&this.allowEmptyQuery){var he;q.push({item:ce,emojiScore:0,emojiMatchIndices:[],score:0,id:(he=ce.id)!==null&&he!==void 0?he:ce.name});return}var Se;const se=(Se=c(ce))!==null&&Se!==void 0?Se:[];let H=1/0,Oe,$,z,be,Z,G;se.forEach(ye=>{let{name:Ue,displayName:Ne}=ye;if(Ue){const He=Object(D.a)(Ue),ze=this.scoreEmojiName(He);(ze.score<H||H===1/0)&&(H=ze.score,Oe=ze.matchIndices,$=Ue,z=Ue,Z=ze.queryLengthRatio,G=ze.totalComboBreaks,be=this.query===He||Ue==="ok_hand"&&this.query==="ok")}if(Ne&&Ne!==Ue){const He=Object(D.a)(Ne),ze=this.scoreEmojiName(He);(ze.score<H||H===1/0)&&(H=ze.score,Oe=ze.matchIndices,$=Ne,z=Ue,Z=ze.queryLengthRatio,G=ze.totalComboBreaks,be=this.query===He)}});const ne=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,ge=ce.keywords,ae=!!(ge&&ge.length&&Array.isArray(ge));ge&&ge.length&&!Array.isArray(ge)&&Object(f.a)({state:me}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${ce.name} is not an array - ${ce.keywords}`);let fe=!1;if(H===1/0&&ne&&ae&&(fe=ce.keywords.some(ye=>this.matcher.normalizeAndScore(ye)<1/0),fe&&($=ce&&(ce.displayName||ce.name))),H!==1/0||fe){const ye=Object(j.a)(se,He=>{let{name:ze}=He;return ze===z}),Ue=ye&&ye.displayName;var Te;const Ne={item:ce,score:H,emojiScore:H,emojiBestNameMatch:$,emojiBestNameMatchCanonical:z,emojiBestNameMatchLocalized:Ue,emojiMatchIndices:Oe,emojiQueryLengthRatio:Z,emojiTotalComboBreaks:G,id:(Te=ce.id)!==null&&Te!==void 0?Te:ce.name};this.preferExactMatch&&(Ne.isExactMatch=be,Ne.isEmojiExactMatch=be),q.push(Ne)}}),q}scoreEmojiName(me){const re={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!me)return re;if(me==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};if(S[this.query]&&S[this.query].indexOf(me)!==-1)return re;const ve=this.query.length,q=[];let ce=2,he=5;ve<3?(ce=0,he=0):ve===3?(ce=1,he=1):ve===4&&(ce=1);let Se=1/0,se=0,H=null,Oe=me.indexOf(this.query);if(Oe===-1&&(Oe=me.indexOf(this.query[0])),Oe!==-1){const $=/\s+/g,z=/[-]+/g,be=this.query.replace($,"").replace(z,"_"),Z=me.replace(z,"_"),G=be.split("");H=0;let ne=0,ge=0,ae=!0;for(let fe=Oe;fe<Z.length;fe++){if(Z[fe]===G[0]){if(ae=!0,q.push(fe),G.shift(),ge>ne&&(ne=ge),ge=0,G.length===0)break}else ae&&(H+=1),ae=!1,ge+=1;if(H>ce)return{score:Se,matchIndices:q,queryLengthRatio:se,totalComboBreaks:H};if(ge>he)return{score:Se,matchIndices:q,queryLengthRatio:se,totalComboBreaks:H}}if(G.length>0)return re;se=be.length/Z.length,Se=1-se,H>0&&(Se+=H)}return{score:Se,matchIndices:q,queryLengthRatio:se,totalComboBreaks:H}}filterFiles(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;const q=Object(J.o)(me),ce=Object(ie.i)(me),he=Object(k.s)(me,ce),Se=Object(de.a)(me),se=he&&Object(O.J)(he),H=!Se&&!se;return re.reduce((Oe,$)=>{var z,be;if(Object(n.e)($))return Oe;const Z=(z=this.options)===null||z===void 0||(be=z.entities)===null||be===void 0?void 0:be.files,G=!!(Z!=null&&Z.includeChannelCanvases)||!!(Z!=null&&Z.onlyChannelCanvases);if($&&Object(V.h)($)&&!G)return Oe;const ne=$&&Object(V.vb)($,me),ge=$==null?void 0:$.user_team,ae=ge?Object(k.s)(me,ge):null;var fe;const ye=((fe=Object(O.k)(ae??void 0))!==null&&fe!==void 0?fe:ge)!==ce;if(ne&&(ye||H)||$&&q&&(Z!=null&&Z.onlyChannelCanvases||H)&&Object(V.u)($)||this.shouldFilterItem($,ve))return Oe;if(!this.query&&this.allowEmptyQuery)return Oe.push({item:$,score:0,id:$.id}),Oe;const Ue=this.scoreFile(me,$),Ne={item:$,score:Ue,id:$.id};return this.preferExactMatch&&(Ne.isExactMatch=this.isFileExactMatch($)),Ue<=this.fuzzyLimit&&Oe.push(Ne),Oe},[])}scoreFile(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const q=re.name?ve.normalizeAndScore(re.name):1/0,ce=re.title&&re.name!==re.title?ve.normalizeAndScore(re.title):1/0,he=re.external_url?ve.normalizeAndScore(re.external_url):1/0;let Se=1/0;if(Object(V.h)(re)){const se=Object(X.a)(re),H=Object(F.d)(me,se);if(H){const Oe=Object(D.a)(Object(d.t)(me,H,{publicChannelIncludeHashSign:!1}));Se=this.matcher.score(Oe)}}return Math.min(q,ce,he,Se)}filterLinks(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(!ce.id||Object(n.e)(ce)||this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=this.scoreLink(ce),Se={item:ce,score:he,id:ce.id};return this.preferExactMatch&&(Se.isExactMatch=this.isLinkExactMatch(ce)),he<=this.fuzzyLimit&&q.push(Se),q},[])}scoreLink(me){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const ve=Object(E.f)(me),q=Object(E.g)(me)?Object(E.e)(me):void 0,ce=Object(E.g)(me)?Object(E.d)(me):void 0,he=ve?re.normalizeAndScore(ve):1/0,Se=q?re.normalizeAndScore(q):1/0,se=ce?re.normalizeAndScore(ce):1/0;return Math.min(he,Se,se)}filterLists(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(this.shouldFilterItem(ce,ve))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=this.scoreList(ce),Se={item:ce,score:he,id:ce.id};return this.preferExactMatch&&(Se.isExactMatch=this.isListExactMatch(ce)),he<=this.fuzzyLimit&&q.push(Se),q},[])}scoreList(me){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(me.title)}filterListRecords(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(this.shouldFilterItem(ce,ve)||!ce.name||!ce.listTitle)return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const he=this.scoreListRecord(ce),Se={item:ce,score:he,id:ce.id};return this.preferExactMatch&&(Se.isExactMatch=this.isListRecordExactMatch(ce)),he<=this.fuzzyLimit&&q.push(Se),q},[])}scoreListRecord(me){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(me.name)}filterChannelSections(me,re){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.a;return re.reduce((q,ce)=>{if(this.shouldFilterItem(ce,ve))return q;const he=Object(C.b)(ce,me),Se=this.matcher.normalizeAndScore(he),se={item:ce,score:Se,id:ce.id};return!this.query&&this.allowEmptyQuery?(q.push(se),q):(Se<=this.fuzzyLimit&&q.push(se),q)},[])}shouldFilterItem(me,re){return re(me)===!1||this.filter(me)===!1}getMemberExactMatchDetails(me){const re={},ve=Object(g.f)(me),q=Object(g.d)(me);return re.real_name=ve===this.query,re.display_name=q===this.query,this.shouldMatchEmail&&(re.email=Object(g.a)(me)===this.query),re}isMemberExactMatch(me){return!this.query||!this.query.length?!1:Object(_.a)(this.getMemberExactMatchDetails(me),Boolean)}isChannelExactMatchPreNormalized(me){return!this.query||!this.query.length?!1:me===this.query}isFileExactMatch(me){if(!this.query||!this.query.length)return!1;var re;return Object(D.a)(me.name)===this.query||Object(D.a)(me.title)===this.query||Object(D.a)((re=me.external_url)!==null&&re!==void 0?re:void 0)===this.query}isLinkExactMatch(me){if(!this.query||!this.query.length)return!1;const re=Object(E.f)(me),ve=Object(E.g)(me)?Object(E.e)(me):void 0;return Object(D.a)(re)===this.query||Object(D.a)(ve)===this.query}isListExactMatch(me){return!this.query||!this.query.length?!1:Object(D.a)(me.title)===this.query}isListRecordExactMatch(me){return!this.query||!this.query.length?!1:Object(D.a)(me.name)===this.query}isTeamExactMatch(me){return!this.query||!this.query.length?!1:Object(D.a)(Object(O.h)(me))===this.query}isUsergroupExactMatch(me){return!this.query||!this.query.length?!1:Object(D.a)(Object(I.g)(me))===this.query||Object(D.a)(Object(I.i)(me))===this.query}isTriggerExactMatch(me){return!this.query||!this.query.length?!1:Object(D.a)(me.name)===this.query}isBroadcastKeywordExactMatch(me){return!this.query||!this.query.length?!1:Object(D.a)(me.name)===this.query||Object(D.a)(me.ms_name)===this.query}isViewOrModalExact(me){return!this.query||!this.query.length?!1:Object(D.a)(me.name)===this.query}filterHelpArticles(me,re){const q=re.reduce((ce,he)=>{const Se=Object(D.a)(he.title),se=this.substringMatcher.normalizeAndScore(he.title);return se>this.fuzzyLimit?ce:ce.concat({item:{...he,id:String(he.id)},score:se,isExactMatch:Se===this.query,id:String(he.id)})},[]).sort((ce,he)=>ce.score-he.score);return q.slice(0,Math.min(5,q.length))}filterSalesListViews(me,re){return re.reduce((q,ce)=>{const he=ce.label;if(!he)return q;const Se=Object(D.a)(he),se=this.substringMatcher.normalizeAndScore(Se);return se>this.fuzzyLimit?q:q.concat({item:{id:ce.id,name:he},score:se,isExactMatch:Se===this.query,id:ce.id})},[])}constructor({query:me="",options:re={entities:{}}}){var ve,q,ce,he,Se,se,H,Oe,$,z,be,Z,G;this.options=re,this.query=Object(D.a)(me);var ne;this.fuzzyLimit=(ne=this.options.fuzzyLimit)!==null&&ne!==void 0?ne:3,this.allowEmptyQuery=!!this.options.allowEmptyQuery,this.preferExactMatch=!!(this.options.sort&&this.options.sort.preferExactMatch),this.avoidExactMatchForMembers=!!(!((ve=this.options)===null||ve===void 0||(q=ve.sort)===null||q===void 0)&&q.avoidExactMatchForMembers),this.selfFirst=!!(!((ce=this.options)===null||ce===void 0||(he=ce.sort)===null||he===void 0)&&he.selfFirst),this.filter=this.options.filter||b.a,this.shouldMatchEmail=Object(U.a)(this.options,"entities.members.matchEmailField")||Object(U.a)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=Object(p.a)(me),this.normalizedQuery=this.query,!((Se=this.options)===null||Se===void 0||(se=Se.entities)===null||se===void 0||(H=se.shortcuts)===null||H===void 0)&&H.queryStartsWithSlash&&(this.query=Object(R.b)(this.query)),this.matcher=new W.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK}),this.forwardOnlyMatcher=new W.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly}),this.substringMatcher=new W.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=!!(!((Oe=this.options)===null||Oe===void 0||($=Oe.entities)===null||$===void 0||(z=$.shortcuts)===null||z===void 0)&&z.isOpenedWithSlash),this.isQueryExactlySlash=!!(!((be=this.options)===null||be===void 0||(Z=be.entities)===null||Z===void 0||(G=Z.shortcuts)===null||G===void 0)&&G.isQueryExactlySlash)}},"SearcherMatcher")},Byhf:function(K,s,e){"use strict";e.d(s,"a",function(){return D});var n=e("SQ0V"),t=e("n3tL"),a=e("UIhb"),r=e("E3dU"),d=e("F294"),o=e("Wn1n"),i=e("4hjS"),h=e("GlHf"),l=e("04K9"),u=e("Q7We"),c=e("RV0M"),E=e("G5NC"),v=e("xcHN");const g=Object(n.c)("Checks if the message is in an active view before doing the animation",function(p,b){let{channelId:M,ts:_,threadTs:P}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3?arguments[3]:void 0;const j=b(),{shouldUseNavigate:U,getViewSet:W}=y(c.a),L=!Object(E.a)()||Object(i.o)(j),R=Object(h.m)(j)&&L,A=Object(i.d)(j);let B=Object(i.l)(j),F=Object(o.a)(j);if(U){var k;const{primary:X,secondary:J}=(k=W(j))!==null&&k!==void 0?k:{};F=X==null?void 0:X.id,B=J==null?void 0:J.id}const V=m(()=>p(Object(l.a)({channelId:M,ts:_})),"doAnimation");if(R){if(P&&(B==="convo"||B==="thread")&&Object(d.a)(A)===Object(v.c)(M,P)){V();return}if(F===M){V();return}}p(Object(u.a)({channelId:M,ts:_,threadTs:P}))});g.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};var O=g,I=e("hcyO"),C=e("2Zgd"),f=e("lmdu"),S=e("s4P+");const D=Object(n.c)("Delete a message by channel ID and timestamp",function(p,b){let{deleted_ts:M,channel:_,_from_evt_log:P,previous_message:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var j;const U=b(),W=Object(S.a)({state:U});if(!M){W.error("Error in messageDeleted: no deleted_ts");return}const L=Object(r.B)(U,_)&&Object(r.d)(U,_);if(!L){W.error(`Unknown channelId: ${_}`);return}if((j=Object(f.a)(U,{channelId:_,ts:M}))===null||j===void 0?void 0:j.isDeleting)return;Object(C.b)(L,{deleted_ts:M});const A=!1,F=Object(a.b)(U,_,M,A)||y;p(F?O({channelId:_,ts:M,threadTs:F.thread_ts,fromEvtLog:P}):Object(u.a)({channelId:_,ts:M})),p(Object(I.a)({channelId:_,ts:M}))});D.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"},D.propTypes={deletedTs:t.default.string,channelId:t.default.string,fromEvtLog:t.default.bool}},Bz4R:function(K,s,e){"use strict";var n=e("CpTu"),t=e("ZKjC"),a=e("xwCZ"),r=e("aLx5"),d=e("GHHW");const o=Object(t.b)((i,h)=>{const l=Object(a.g)(i,h),{status_text_canonical:u}=l.profile;if(u){let c;const E=Object(r.a)(i);return E&&(c=(Object(n.a)(E,v=>v.canonical===u)||{}).text||null),u.toLowerCase()==="on a call"&&(c=a.p.t("On a call")),c||l.profile.status_text||""}return Object(d.a)(i,l)?a.p.t("In a huddle"):l.profile.status_text||""});o.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(i,h)=>{const l=Object(a.g)(i,h),{status_text_canonical:u}=l.profile;if(u){let c;const E=Object(r.a)(i);return E&&(c=(Object(n.a)(E,v=>v.canonical===u)||{}).text||null),u.toLowerCase()==="on a call"&&(c=a.p.t("On a call")),c||l.profile.status_text||""}return Object(d.a)(i,l)?a.p.t("In a huddle"):l.profile.status_text||""}},s.a=o},C0ks:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("8z+9");const t=m(a=>{switch(a.type){case n.a.MESSAGE:var r;return{type:a.type,channel:a.channel,ts:(r=a.message)===null||r===void 0?void 0:r.ts};case n.a.FILE:var d,o;return{type:a.type,id:a.file?a.file.id:(d=a.files)===null||d===void 0||(o=d[0])===null||o===void 0?void 0:o.id};case n.a.FILE_COMMENT:var i;return{type:a.type,id:a.comment.id,fileId:(i=a.file)===null||i===void 0?void 0:i.id};default:return{}}},"formatPinFromAPI")},C3NW:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("SQ0V"),t=e("eBdR"),a=e("kZhr");const r=Object(n.c)("Sets a new ID for the query session",d=>{d(Object(t.a)({windowId:a.a}))});r.meta={name:"createThunk",key:"createThunkendQuerySession",description:"Sets a new ID for the query session"}},CD4m:function(K,s,e){"use strict";var n=e("gv7z"),t=e("MC67");e.d(s,"c",function(){return t.a});var a=e("1EwG");e.d(s,"b",function(){return a.a});var r=e("iXLD");e.d(s,"a",function(){return r.a}),s.d=n.a},CDqL:function(K,s,e){"use strict";var n=e("A1dN"),t=e("Lgge"),a=e("SQ0V"),r=e("LZPg"),d=e("lhZz"),o=e("GNR7"),i=e("XM5t"),h=e("ktUG"),l=e("5IZy"),u=e("3vtZ");const c=Object(a.c)("Notify members to join huddle",(E,v,g)=>{let{channelId:O,userIds:I}=g;const C=[];if(I&&I.length>0){I.forEach(_=>{E(Object(r.b)({userId:_})),C.push(E(Object(n.d)({userId:_,channelId:O,reason:"huddle-notify-member"})))});const f=Object(d.getStateForClientStore)(),S=v(),D=Object(o.a)(S,O),p=Object(u.l)(S,{huddleId:D==null?void 0:D.id}),b=Object(u.k)(f),M=Object(u.j)(f);Object(l.a)({state:S}).track(h.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:i.a.INVITATION_SENT},action:h.UiAction.INVITE_PEOPLE},calls:M},invited_user_ids:I,...p,...b})}return t.a.all(C).then(f=>f)});c.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"},s.a=c},CFdI:function(K,s,e){K.exports=e.p+"template_card_help-97d17c4.png"},CJqd:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("7lBi"),t=e("SQ0V"),a=e("ED1u"),r=e("j77i");const d=Object(t.c)("Set the user-specified sidebar width and mode",(o,i,h)=>{let{inspectorWidthIntent:l,inspectorWidthMode:u}=h;Object(r.w)(n.l,l),Object(r.w)(n.m,u),o(Object(a.a)({inspectorWidthIntent:l,inspectorWidthMode:u}))});d.meta={name:"createThunk",key:"createThunksetInspectorColumn",description:"Set the user-specified sidebar width and mode"}},"CMT/":function(K,s,e){"use strict";e.d(s,"a",function(){return S});var n=e("Lgge"),t=e("fujP"),a=e("BeL+"),r=e("SQ0V"),d=e("9Gfp"),o=e("Yauy"),i=e("Sl1j"),h=e("ohbk"),l=e("37+L"),u=e("E3dU"),c=e("G0eX"),E=e("beVI"),v=e("Fqb6"),g=e("RV0M"),O=e("I0j/"),I=e("NV6F"),C=e("Oeqe"),f=e("BkpQ");const S=Object(r.c)("Create or open an MPIM",function(D,p){let{memberIds:b,shouldNavigateToChannel:M=!0,isQuiet:_=!1,shouldOpenInTile:P=!1,reason:y="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments.length>3?arguments[3]:void 0;if(Object(t.a)(b))return n.a.resolve();const{shouldUseNavigate:U}=j(g.a),W=p(),L=m(B=>{if(U)return D(Object(O.a)(Object(l.i)(B.id))),n.a.resolve(B);let F;return P?F=D(Object(f.a)({tile:{view:B.id},origin:y})):Object(d.h)(W)?F=D(Object(h.a)({id:B.id})):F=D(Object(I.r)({permalink:Object(c.v)(Object(E.g)(W),Object(C.a)({channelId:B.id}))})),F.then(()=>B)},"navigateToChannel");let R,A;if(b.length===1)A=b,R=Object(u.m)(W,b[0]);else{const B=Object(d.a)(W);A=Object(a.a)([B,...b]),R=Object(u.q)(W,A)}return Object(o.jb)(R)?M?L(R):n.a.resolve(R):D(Object(i.r)({isQuiet:_,memberIds:A,reason:y})).then(B=>!B||!B.channel?n.a.reject(new Error("missing-channel")):(D(Object(v.a)({channel:B.channel})),M?L(B.channel):n.a.resolve(B.channel)))});S.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},"COk/":function(K,s,e){K.exports=e.p+"template_screenshot_crowdsource_ideas-8806de3.png"},"CQj+":function(K,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("lhZz"),t=e("Z0Cl"),a=e("Lgge"),r=e("SQ0V"),d=e("s4P+"),o=e("vdXo"),i=e("zwKj"),h=e("TGfC");const l=Object(r.c)("Fetch multiple app profiles by combined IDs",(E,v,g)=>{const O=Object(d.a)({getState:v});return a.a.all(g.map(I=>{const{serviceId:C,homeWorkspaceId:f}=Object(h.b)(I);return C?E(Object(o.b)({serviceId:C,homeWorkspaceId:f})).then(S=>({...Object(i.a)(C,S),id:I})).catch(S=>(O.warn(S,`Error while fetching profile ${I}`),null)):a.a.resolve(null)})).then(t.a)});l.meta={name:"createThunk",key:"createThunkfetchAppProfiles",description:"Fetch multiple app profiles by combined IDs"};var u=l;function c(E,v){return Object(n.dispatchForTeamId)(E,u(v))}m(c,"fetchAppProfilesForTeamId")},Cbpi:function(K,s,e){"use strict";var n=e("Lgge"),t=e("yIs4"),a=e("CpTu"),r=e("uXhx"),d=e("oTSI"),o=e("UXvI"),i=e("SQ0V"),h=e("lhZz"),l=e("9Gfp"),u=e("O86Y"),c=e("ZAxE"),E=e("J/RB"),v=e("E3dU"),g=e("cBLH"),O=e("E97Y"),I=e("+nBv"),C=e("xcHN"),f=e("Jhy3"),S=e("pOIg"),D=e("zADO"),p=e("s4P+"),b=e("n0Pp");const M=1e3,_=m((W,L,R)=>{if(L==="Vall_threads")return Object(h.dispatchForTeamId)(W,Object(S.e)()),n.a.resolve();const A=!1,B=Object(v.d)(Object(h.getStateByTeamId)(W),L,A);if(!B)return n.a.resolve();if(R)return P(W,L,R);const F=Object(O.d)(B);return Object(h.dispatchForTeamId)(W,Object(c.b)({channelId:L,type:F,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:k,hasMore:V,isLimited:X,pinCount:J,deleted:Y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ie=Object(h.getStateByTeamId)(W);Object(b.h)(ie)&&!Object(D.b)(ie,L)&&!Object(D.b)(ie,Object(l.a)(ie))||(Object(h.dispatchForTeamId)(W,Object(g.e)({channelId:L})),Object(h.dispatchForTeamId)(W,Object(E.a)({msgs:k,channelId:L,isLimited:X,pinCount:J,hasMore:{hasMoreStart:V,hasMoreEnd:!1},oldest:null,latest:null,deleted:Y})),Object(t.a)(J)&&Object(h.dispatchForTeamId)(W,Object(I.a)({channelId:L,count:J})))}).catch(k=>{Object(p.a)({state:Object(h.getStateByTeamId)(W)}).error(`Failed to fetch offline history for ${L}: ${k}`)})},"fetchOfflineHistory");function P(W,L,R){const A=Object(C.c)(L,R);return Object(h.dispatchForTeamId)(W,Object(c.e)({channelId:L,threadTs:R,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:B,deleted:F,hasMore:k}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const V=Object(h.getStateByTeamId)(W);if(Object(b.h)(V)&&!Object(D.b)(V,L)&&!Object(D.b)(V,Object(l.a)(V)))return;let X=B;const J=Object(a.a)(B,{ts:R});k&&(X=Object(r.a)(B,{ts:R})),Object(h.dispatchForTeamId)(W,Object(g.e)({channelId:A})),Object(h.dispatchForTeamId)(W,Object(E.a)({msgs:X,channelId:A,hasMore:{hasMoreStart:k,hasMoreEnd:!1},oldest:null,latest:null,deleted:F})),J&&Object(h.dispatchForTeamId)(W,Object(f.a)([J]))})}m(P,"fetchOfflineHistoryForThread");const y=(()=>{const W=Object(d.a)(()=>Object(o.a)(_,M),function(){for(var L=arguments.length,R=new Array(L),A=0;A<L;A++)R[A]=arguments[A];return JSON.stringify(R)});return function(){for(var L=arguments.length,R=new Array(L),A=0;A<L;A++)R[A]=arguments[A];return W(...R)(...R)}})(),j=Object(i.c)("Request offline history",function(W,L){let{channelId:R,threadTs:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y(Object(u.g)(L()),R,A)});j.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"},j.propTypes={},s.a=j;const U={fetchOfflineHistory:_,fetchOfflineHistoryForThread:P}},Ccc1:function(K,s,e){"use strict";e.d(s,"b",function(){return S});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("E3dU"),o=e("ISSR"),i=e("E97Y"),h=e("s4P+"),l=e("fi3B"),u=e("sGXp"),c=e("fZDj"),E=e("QpNZ"),v=e("MUi8"),g=e("9WS/"),O=e("djjd"),I=e("rZ8V"),C=e("fMsH");function f(){return f=Object.assign||function(P){for(var y=1;y<arguments.length;y++){var j=arguments[y];for(var U in j)Object.prototype.hasOwnProperty.call(j,U)&&(P[U]=j[U])}return P},f.apply(this,arguments)}m(f,"_extends");function S(P){return!Object(i.g)(P)&&!Object(i.i)(P)}m(S,"shouldUseInlineChannelEntity");const D="INLINE-CHANNEL-ENTITY";function p(P){let{className:y,channel:j,bestFormerName:U,displayFormerNames:W=u.e.false,logger:L,boldIcon:R=!1,showTeam:A=!0,truncate:B=!1,truncateWidth:F,overrideHiddenName:k,overrideHiddenIcon:V,withTruncationTooltip:X,channelNameClassName:J,omitNonExistentTooltip:Y,channelHasNonUniqueName:ie=!1,showDisambiguatingTeamName:de=!1}=P;const pe=Object(i.q)(j),oe=Object(i.j)(j||null),me=Object(n.useCallback)(se=>{let{className:H,...Oe}=se;return(!oe||V)&&t.a.createElement(E.a,f({},Oe,{bold:R,className:H,channel:j,overrideHiddenIcon:V}))},[j,R,oe,V]);if(!S(j||null))return L==null||L.warn(D,"InlineChannelEntity should not display IMs or MPIMs ... YET"),null;const re=Object(r.default)(y,"c-inline_channel_entity"),ve=Object(o.a)(j)?u.d.dim:void 0,q=j&&k?{...j,name:k}:j||void 0,ce=Object(r.default)(J,"c-inline_channel_entity__content"),he=ie&&de,Se=(pe||oe)&&!k?t.a.createElement(c.a,{"data-qa":"inline_channel_entity__missing",type:pe?"unknown":"non-existent",size:"small",width:F,omitNonExistentTooltip:Y}):t.a.createElement("span",{className:ce},t.a.createElement(g.a,{bold:R,channel:q,bestFormerName:U,displayFormerNames:W,showTeam:A,showTeamForLocalChannel:he,width:F,"data-qa":"inline_channel_entity__name",overrideHiddenName:k}));return t.a.createElement(l.a,{avatar:me,className:re,"data-qa":"inline_channel_entity","data-channel-id":j&&j.id,style:ve,truncate:B,truncateWidth:F,withTruncationTooltip:X,primaryContent:Se,secondaryContent:F&&t.a.createElement(t.a.Fragment,null,A&&t.a.createElement(v.a,{className:"c-inline_channel_entity__team",iconSize:14,channel:q,"data-qa":"inline_channel_entity__team"}))})}m(p,"InlineChannelEntity"),p.displayName="InlineChannelEntity";function b(P){return Object.prototype.hasOwnProperty.call(P,"channel")}m(b,"propsContainsChannel");function M(P,y){const j=b(y)?y.channel:Object(d.d)(P,y.channelId);let U;return y.showDisambiguatingTeamName&&Object(I.m)(P)&&(U=Object(O.a)(Object(d.a)(P),j)),{channel:j,channelHasNonUniqueName:U,logger:Object(h.a)({state:P})}}m(M,"mapStateToProps");var _=s.a=Object(a.a)(M)(p)},Cudo:function(K,s,e){"use strict";e.d(s,"a",function(){return Y}),e.d(s,"d",function(){return oe}),e.d(s,"f",function(){return re}),e.d(s,"b",function(){return ve}),e.d(s,"c",function(){return q}),e.d(s,"i",function(){return ce}),e.d(s,"e",function(){return he}),e.d(s,"g",function(){return H}),e.d(s,"h",function(){return Oe});var n=e("AFNo"),t=e("DwFS"),a=e("G4qV"),r=e("LZPg"),d=e("S4nM"),o=e("3REw"),i=e("ipyK"),h=e("1myf"),l=e("Z0Cl"),u=e("Muja"),c=e("3Hq1"),E=e("Fsnq"),v=e("CpTu"),g=e("KciV"),O=e("dqxO"),I=e("d3B0"),C=e("9oTK"),f=e("SQ0V"),S=e("SZMM"),D=e("pJ2S"),p=e("jUSB");const b=Object(t.a)("Start connecting to the media server");b.meta={name:"createAction",key:"createActionconnectToMediaServer",description:"Start connecting to the media server"};const M=Object(t.a)("Leave the room and stop media transmission");M.meta={name:"createAction",key:"createActiondisconnectFromMediaServer",description:"Leave the room and stop media transmission"};const _=Object(f.c)("Transition the UI to a terminal state and handle all teardown activities",($,z,be)=>{$(Object(d.j)()),$(Object(d.i)()),$(Object(d.k)({terminalState:be})),$(M()),Object(p.e)(D.n,{logFailure:!1}),$(Object(r.nb)())});_.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Transition the UI to a terminal state and handle all teardown activities"};var P=e("syB0"),y=e("T1zM"),j=e("JoR1"),U=e("n9FT"),W=e("Ufq/");const L=.005,R=.02;let A=!1;function B(){return A}m(B,"isClosingWindow");let F=!1;function k($,z){$(Object(y.f)({pref:"calls_survey_last_seen",value:z}))}m(k,"setCallsLastSeenSurvey");function V($,z){const be=new Date().toISOString(),Z=Object(d.e)($);if(!Z)return!1;const G=Object(j.f)($),ne=new Date(be).getTime()-new Date(G).getTime();return Z&&Z.surveyInterval&&ne<Z.surveyInterval?!1:($.activeCall.hasVideoBeenEnabled||$.activeCall.hasScreenshareBeenEnabled)&&Z&&Z.surveyVideoSample&&Math.random()<Z.surveyVideoSample||Z&&Z.surveyAudioSample&&Math.random()<Z.surveyAudioSample?(k(z,be),!0):!1}m(V,"dynamicallyShowSurvey");function X($,z){return Object(W.h)($)?V($,z):F||!Object(d.a)($)?!1:Math.random()<($.activeCall.hasVideoBeenEnabled||$.activeCall.hasScreenshareBeenEnabled?R:L)}m(X,"shouldShowSurvey");const J=Object(f.c)("Close the window and leave the call",function(){var $=Object(C.coroutine)(function*(z,be){if(A=!0,z(Object(d.f)()),z(Object(d.b)()),z(Object(U.a)()),X(be(),z)){F=!0,z(_(o.n.ShowSurvey));return}Object(S.c)()?(z(Object(r.nb)()),Object(g.c)("CALL-WINDOW").info("dispatching disconnect"),yield z(M()),Object(P.a)(()=>{Object(g.c)("CALL-WINDOW").info("Closing call window (deferred)"),window.close()})):z(_(o.n.UserEndedOrphanedCall))});return function(z,be){return $.apply(this,arguments)}}());J.meta={name:"createThunk",key:"createThunkcloseWindow",description:"Close the window and leave the call"};var Y;(function($){$.Connecting="connecting",$.NoConnection="noConnection",$.NoUserAudioDevice="noUserAudioDevice",$.NoUserVideoDevice="noUserVideoDevice",$.NoSystemAudio="noSystemAudio",$.NoSystemVideo="noSystemVideo",$.NoSystemScreenShare="noSystemScreenShare",$.RemotePeerMuted="remotePeerMuted",$.PeerMuteRequest="peerMuteRequest",$.RemotePeerSlowConnection="remotePeerSlowConnection",$.DisplayDisconnected="displayDisconnected",$.UpdateSlack="updateSlack",$.ScreenShareFreeTeam="screenShareFreeTeam",$.NoGroupCallsForFreeTeam="noGroupCallsForFreeTeam",$.NoUserVideoStream="noUserVideoStream",$.NoUserAudioStream="noUserAudioStream",$.SlowNetwork="slowNetwork",$.NoAudioOutputAudioElementError="noAudioOutputAudioElementError",$.NoAudioOutputAudioLevelError="noAudioOutputAudioLevelError",$.NoOrLowInputAudioLevelError="noOrLowInputAudioLevelError",$.SpeakingWhenMuted="SpeakingWhenMuted",$.ScreenShareError="screenShareError",$.SSNotFoundError="ScreenShareNotFoundError",$.SSNotReadableError="ScreenShareNotReadableError",$.NoiseSuppressionCPUThrottled="NoiseSuppressionCPUThrottled",$.NoBrowserAudioPermission="NoBrowserAudioPermission",$.NoBrowserVideoPermission="NoBrowserVideoPermission",$.AudioInputTrackMuted="AudioInputTrackMuted",$.HiddenUserJoinedHuddle="HiddenUserJoinedHuddle",$.AudioOnlyModeRecommended="AudioOnlyRecommended",$.AudioOnlyModeActive="AudioOnlyModeActive"})(Y||(Y={}));const ie=[Y.RemotePeerMuted,Y.SlowNetwork];function de($,z){switch($){case Y.NoConnection:return{priority:0,type:$,icon:"cloud-offline",isWarning:!0};case Y.Connecting:return{priority:0,type:$,isWarning:!0};case Y.NoSystemAudio:return{priority:200,type:$,dismissible:!0,isWarning:!0};case Y.SpeakingWhenMuted:return{priority:200,type:$,dismissible:!0};case Y.AudioInputTrackMuted:return{priority:200,type:$,dismissible:!0,isWarning:!0};case Y.NoUserAudioDevice:return{priority:201,type:$,dismissible:!0,isWarning:!0};case Y.NoUserAudioStream:return{priority:202,type:$,dismissible:!0,isWarning:!0};case Y.NoiseSuppressionCPUThrottled:return{priority:203,type:$,dismissible:!0,isWarning:!0};case Y.NoBrowserAudioPermission:return{priority:204,type:$,dismissible:!0,isWarning:!0};case Y.AudioOnlyModeActive:return{priority:205,type:$,dismissible:!0,isWarning:!0};case Y.AudioOnlyModeRecommended:return{priority:206,type:$,dismissible:!0,isWarning:!0};case Y.NoSystemScreenShare:return{priority:300,type:$,dismissible:!0,isWarning:!0};case Y.ScreenShareError:return{priority:301,type:$,dismissible:!0,isWarning:!0};case Y.SSNotFoundError:return{priority:302,type:$,dismissible:!0,isWarning:!0};case Y.SSNotReadableError:return{priority:303,type:$,dismissible:!0,isWarning:!0};case Y.NoSystemVideo:return{priority:400,type:$,dismissible:!0,isWarning:!0};case Y.NoUserVideoDevice:return{priority:401,type:$,dismissible:!0,isWarning:!0};case Y.NoUserVideoStream:return{priority:402,type:$,dismissible:!0,isWarning:!0};case Y.NoBrowserVideoPermission:return{priority:403,type:$,dismissible:!0,isWarning:!0};case Y.ScreenShareFreeTeam:return{priority:500,type:$,dismissible:!0};case Y.NoGroupCallsForFreeTeam:return{priority:500,type:$,dismissible:!0};case Y.HiddenUserJoinedHuddle:return{priority:600,type:$,dismissible:!0,isWarning:!0};case Y.SlowNetwork:return{priority:700,type:$,dismissible:!0,isWarning:!0,icon:"slow-network"};case Y.NoAudioOutputAudioElementError:return{priority:701,type:$,dismissible:!0,isWarning:!0};case Y.NoAudioOutputAudioLevelError:return{priority:701,type:$,dismissible:!0,isWarning:!0};case Y.NoOrLowInputAudioLevelError:return{priority:701,type:$,dismissible:!0,isWarning:!0};case Y.RemotePeerSlowConnection:return{priority:800,type:$,id:z};case Y.RemotePeerMuted:return{priority:801,type:$,id:z,icon:"microphone-slash"};case Y.PeerMuteRequest:return{priority:802,type:$,id:z,dismissible:!0,isWarning:!0};case Y.DisplayDisconnected:return{priority:900,type:$,dismissible:!0};case Y.UpdateSlack:default:return{priority:1e3,type:$,dismissible:!0}}}m(de,"makeAlertObject");const pe={alerts:[]};function oe($,z,be){if(B())return Object(g.c)("ALERTS").info(`Not adding alert '${z}' because the window is closing`),$.alerts;const Z=de(z,be);return be?Object(i.a)(Object(h.a)([Z,...$.alerts],["priority"]),(G,ne)=>G.id===ne.id&&G.type===ne.type):Object(i.a)(Object(h.a)([Z,...$.alerts],["priority"]),(G,ne)=>G.id?G.id===ne.id&&G.type===ne.type:G.type===ne.type)}m(oe,"createArrayWithNewAlert");function me($,z){return Object(l.a)($.alerts,be=>be.type!==z)}m(me,"filterAlertType");function re($,z){return Object(l.a)($.alerts,be=>!z.find(Z=>be.type===Z))}m(re,"filterAlertTypes");const ve=Object(t.a)("Add an alert from the alerts array");ve.meta={name:"createAction",key:"createActionaddAlert",description:"Add an alert from the alerts array"};const q=Object(t.a)("Add an alert from the alerts array, specifying sender peer Id");q.meta={name:"createAction",key:"createActionaddPeerAlert",description:"Add an alert from the alerts array, specifying sender peer Id"};const ce=Object(t.a)("Remove an alert from the alerts array");ce.meta={name:"createAction",key:"createActionremoveAlert",description:"Remove an alert from the alerts array"};const he=m(()=>Object(n.b)({},pe,{storeKey:"alert",persistenceEnabled:!1}).on(ve,($,z)=>{const be=oe($,z);return Object(u.a)($.alerts,be)?$:(Object(g.c)("ALERTS").info(`Added alert type: '${z.toString()}'`),{alerts:be})}).on(q,($,z)=>{let{alert:be,peerId:Z}=z;const G=oe($,be,Z);return Object(u.a)($.alerts,G)?$:(Object(g.c)("ALERTS").info(`Added peer alert type: '${be.toString()}'`),{alerts:G})}).on(ce,($,z)=>{const be=me($,z);return Object(u.a)($.alerts,be)?$:(Object(g.c)("ALERTS").info(`Removed alert type: '${z.toString()}'`),{alerts:be})}),"createDefaultAlertReducer");var se=he().on(O.a,($,z)=>{let be=$.alerts;return Object(I.h)(z)?be=Object(l.a)($.alerts,Z=>Z.type!==Y.NoUserAudioDevice):be=oe($,Y.NoUserAudioDevice),{alerts:be}}).on(r.c,($,z)=>{let be=$.alerts;return z.isMicrophoneEnabled===!1&&(be=oe($,Y.RemotePeerMuted,z.id)),z.slowNetwork&&(be=oe($,Y.RemotePeerSlowConnection,z.id)),{alerts:be}}).on(r.fb,($,z)=>({alerts:Object(l.a)($.alerts,Z=>Z.id!==z)})).on(r.ob,($,z)=>{let be=$.alerts;return Object(r.ab)(z)?Object(c.a)(z.isConnected)||(z.isConnected?be=me($,Y.Connecting):be=oe($,Y.Connecting,z.id)):(Object(c.a)(z.isMicrophoneEnabled)||(z.isMicrophoneEnabled?be=me($,Y.RemotePeerMuted):be=oe($,Y.RemotePeerMuted,z.id)),Object(c.a)(z.slowNetwork)||(z.slowNetwork===!1?be=me($,Y.RemotePeerSlowConnection):z.slowNetwork&&(be=oe($,Y.RemotePeerSlowConnection,z.id)))),{alerts:be}});const H=Object(n.c)($=>$.alert.alerts);H.meta={name:"createSelector",key:"createSelectorgetAllAlerts",description:$=>$.alert.alerts};const Oe=Object(a.a)(H,r.T,d.d,($,z,be)=>{let Z=$;be===o.b.GALLERY&&(Z=Object(l.a)($,ge=>!ie.includes(ge.type)));let G=Z[0];return Object(E.a)(z)>1&&(G=Object(v.a)($,ge=>!ge.id)),G})},Cwwo:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"e",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return r}),e.d(s,"d",function(){return d}),e.d(s,"f",function(){return o});const n={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},t={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},a={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},r={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class d{constructor(h){this.ok=h.ok,this.invitee=h.email,this.inviteeType=t.Email,this.accessType=h.inviteType||n.Member,this.error=h.error}}m(d,"InviteResult");function o(i){return i===n.Member||i===n.MultiChannelGuest||i===n.SingleChannelGuest}m(o,"isBaseInviteType")},D1k6:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("LK2A"),t=e("SQ0V"),a=e("IsIP"),r=e("gpLM"),d=e("HKlo");const o=Object(t.c)("Focuses the flexpane according to focusTarget",(i,h,l)=>{let{focusTarget:u,tileKey:c,entityId:E,quipCommentThreadId:v}=l;if(u!==n.CommentFocusTarget.NONE){const g=u===n.CommentFocusTarget.THREAD_ROOT?d.c.THREAD_MESSAGE_LIST:Object(a.e)({focusKey:d.c.THREAD_MESSAGE_INPUT,tileKey:c});i(Object(r.c)({focusKey:g,focusMetadata:{id:"thread",params:{entityId:E,commentThreadId:v}},forceFocus:!0}))}});o.meta={name:"createThunk",key:"createThunkmaybeFocusThreadsFlexpane",description:"Focuses the flexpane according to focusTarget"}},D4ee:function(K,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("SQ0V"),t=e("rZ8V"),a=e("CnKg"),r=e("E3dU"),d=e("I0j/"),o=e("37+L"),i=e("cU/a"),h=e("25cE"),l=e("u+Mq"),u=e("oUrV");const c=Object(n.c)("Open the quip doc in the flexpane",(E,v,g)=>{let{quipDocId:O,inTile:I,replaceHistoryState:C,source:f}=g;const S=v();if(Object(t.m)(S)&&O){const D=Object(a.f)(O),p=D?Object(r.f)(S,D):void 0;if(p){E(Object(d.a)(Object(o.j)(O,p,{fileId:D??O,source:f??u.a.CHANNEL_CANVAS_GENERIC_SOURCE,isChannelCanvas:!0})));return}}E(Object(i.a)({routeName:h.o,flexName:"docs",flexParams:{quipDocId:O},shouldOpenInTile:I??!1,replaceHistoryState:C})),I||E(Object(l.b)({params:{entityId:O},uiState:{reason:l.a.ShowDocFlexpane}}))});c.meta={name:"createThunk",key:"createThunkshowDocFlexpane",description:"Open the quip doc in the flexpane"}},D6Rr:function(K,s,e){"use strict";var n=e("Cfcg"),t=e("FUEd"),a=e("9Gfp"),r=e("FSos"),d=e("q1tI"),o=e.n(d),i=e("ifKl"),h=e("68qM"),l=e("Aebc");function u(){return u=Object.assign||function(S){for(var D=1;D<arguments.length;D++){var p=arguments[D];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(S[b]=p[b])}return S},u.apply(this,arguments)}m(u,"_extends");const c=Object(d.memo)(S=>{let{addMemberToPresenceSubscription:D=i.a,memberId:p,removeMemberFromPresenceSubscription:b=i.a,renderDoublePresence:M=!1,firstElementExtraClassName:_="",...P}=S;return Object(h.a)(()=>(D(p),()=>b(p)),[p]),M?o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,u({},P,{className:`${P.className||""} ${_}`})),o.a.createElement(l.a,u({},P))):o.a.createElement(l.a,u({},P))});c.displayName="PresenceWithSubscriptions";var E=c,v=e("XcRx"),g=e("ivl2"),O=e("pu3F");const I=m((S,D)=>{const p=Object(t.c)(S,D.memberId),b=Object(v.a)(S,D.memberId),M=Object(g.a)(S,D.memberId),_=Object(a.a)(S)===D.memberId;return{...D,userType:b,isDnd:M,isSelf:_,isSlackbot:D.memberId===O.Y,isActive:p==="active"}},"mapStateToProps"),C=m(S=>({addMemberToPresenceSubscription:D=>S(Object(r.a)({memberId:D})),removeMemberFromPresenceSubscription:D=>S(Object(r.c)({memberId:D}))}),"mapDispatchToProps");var f=s.a=Object(n.a)(I,C)(E)},DDZn:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("q1tI"),t=e.n(n);class a extends n.PureComponent{render(){return t.a.createElement(t.a.Fragment,null,this.props.children)}}m(a,"PassThrough"),a.displayName="PassThrough"},DNzI:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("8TXW"),t=e("KciV"),a=e("Pw5n"),r=e("Z7Ay");const d={debug:0,info:1,warn:2,error:3,action:0};class o{debug(h){if(!(this.level>n.n.DEBUG||!o.debugLogsEnabled))if(typeof h=="string"){const l=h;this.consoleLogger.debug(l)}else{const l=h();this.consoleLogger.debug(l)}}info(h){this.level>n.n.INFO||this.consoleLogger.info(h)}warn(h){this.level>n.n.WARN||this.consoleLogger.warn(h)}error(h){this.level>n.n.ERROR||this.callLogger.error(h)}setLogLevel(h){this.level=h}getLogLevel(){return this.level}getName(){return this.name}constructor(h,l){this.name=h,this.level=l||d[Object(a.e)()],this.consoleLogger=Object(t.b)(h),this.callLogger=Object(t.a)(h)}}m(o,"FreeWillyLogger"),o.debugLogsEnabled=!1,Object(r.a)("toggleChimeDebugLogs",()=>{o.debugLogsEnabled=!o.debugLogsEnabled})},DQKV:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("x91h"),r=e("wsJ+"),d=e("/qcS"),o=e("wA9Q");function i(h){let{text:l="",inputIsEscaped:u=!1,emojiSize:c=d.a.SMALL,showTooltips:E=!0,stopAnimations:v=!1,emojiDisplayInfo:g={}}=h;const O=[];let I=0;const C=u?Object(a.a)(l):l;if(C.replace(Object(r.a)(),(f,S,D)=>{if(D>I){const M=C.slice(I,D);O.push(t.a.createElement(t.a.Fragment,{key:`${D}-${M}`},M))}const{name:p=f,url:b=void 0}=Object(o.a)(f,g);return O.push(t.a.createElement(d.b,{text:p,emojiSize:c,key:`${D}-${p}`,showTooltip:E,stopAnimations:v,isEmojiInlineWithText:!0,url:b})),I=D+f.length,""}),!O.length)return t.a.createElement(t.a.Fragment,null,C);if(I<C.length){const f=C.substr(I);O.push(t.a.createElement(t.a.Fragment,{key:`last-${f}`},f))}return t.a.createElement(t.a.Fragment,null,O)}m(i,"FormatTextWithEmoji"),i.displayName="FormatTextWithEmoji",s.a=t.a.memo(i)},DS5W:function(K,s,e){"use strict";var n=e("ZKjC"),t=e("C3vN"),a=e("xwCZ"),r=e("GHHW");const d=Object(n.b)((o,i)=>{const h=Object(a.g)(o,i),{status_text_canonical:l}=h.profile;return l?Object(t.C)(h):Object(r.a)(o,h)?0:Object(t.C)(h)});d.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(o,i)=>{const h=Object(a.g)(o,i),{status_text_canonical:l}=h.profile;return l?Object(t.C)(h):Object(r.a)(o,h)?0:Object(t.C)(h)}},s.a=d},DcSV:function(K,s,e){"use strict";e.d(s,"b",function(){return h}),e.d(s,"d",function(){return l}),e.d(s,"e",function(){return E}),e.d(s,"a",function(){return v}),e.d(s,"c",function(){return g});var n=e("nNoG"),t=e("E3dU"),a=e("GhjL"),r=e("xwCZ"),d=e("rVFV");const o=new n.b("channel_modal"),i=new n.b("ui_validation"),h={hasNameRequiredWarning:!1,hasMaxLengthWarning:!1,hasSpecialsWarning:!1,hasPunctuationWarning:!1,hasNameTakenWarning:!1,hasUnknownWarning:!1,hasRestriction:!1};function l(){return 80}m(l,"getMaxLength");const u=/[ .,;'`~!@#$%^&*+=)(\\/:"<>?|\u2018\u2019{}[\]]/;function c(O){return O?u.test(O.trim()):!1}m(c,"hasSpecialCharacters");function E(O){return O?O.replace(new RegExp(u,"g"),""):""}m(E,"replaceSpecialCharacters");function v(O){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:80,S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const D=!I.trim(),p=Object(d.a)(I)>f,b=c(I),M=/^[-|_]+$/.test(I),_=/[A-Z]/.test(I);let P=!1;return I!==C&&O&&!S&&(P=!!(Object(t.e)(O,I)||Object(r.s)(O,I)||Object(a.e)(O,I))),{hasNameRequiredWarning:D,hasMaxLengthWarning:p,hasSpecialsWarning:b,hasPunctuationWarning:M,hasLowercaseWarning:_,hasNameTakenWarning:P}}m(v,"channelNameValidation");function g(O){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{maxChannelNameLength:C,workspaceName:f}=I;if(O){if(O.hasNameRequiredWarning)return o.t("Give your channel a name to continue. You can always change the name later.");if(O.hasMaxLengthWarning)return i.t("Channel names can\u2019t be longer than {maxLength} characters.",{maxLength:C});if(O.hasSpecialsWarning||O.hasPunctuationWarning)return o.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(O.hasNameTakenWarning)return f?i.t("That name is already taken by a channel, username, or user group in {workspaceName}.",{workspaceName:f}):o.t("That name is already taken by a channel, username, or user group in this workspace.");if(O.hasRestriction)return o.t("Your organization\u2019s settings have changed and may limit who can create channels. Contact an Admin or channel Owner to add people.");if(O.hasUnknownWarning)return o.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}}m(g,"getErrorStringFromChannelNameErrors")},DeaP:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("nNoG"),t=e("A+oD"),a=e("RVJP");const r=new n.b("files");function d(o,i){if(!o.is_external)return null;if(Object(a.d)(i,"file_consistency")==="treatment"){let l="File";switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":l=r.t("Google Sheet");break;case"gdoc":l=r.t("Google Doc");break;case"gpres":l=r.t("Google Slide");break;case"gdraw":l=r.t("Google Drawing");break;default:l=r.t("Google {fileType}",{fileType:o.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":l=r.t("{fileType}",{fileType:o.pretty_type});break;default:l=r.t("File")}return l}switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":return r.t("Spreadsheet from Google Drive");case"gdoc":return r.t("Document from Google Drive");case"gpres":return r.t("Presentation from Google Drive");case"gdraw":return r.t("Drawing from Google Drive");default:return r.t("{fileType} from Google Drive",{fileType:o.pretty_type})}case"dropbox":return r.t("{fileType} from Dropbox",{fileType:o.pretty_type});case"box":return r.t("{fileType} from Box",{fileType:o.pretty_type});case"onedrive":return r.t("{fileType} from OneDrive",{fileType:o.pretty_type});case"app":return r.t("{fileType} from {appName}",{fileType:o.pretty_type,appName:Object(t.a)(i,o)||""});default:return r.t("File")}}m(d,"getExternalFiletypeDescription")},DmzU:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"f",function(){return a}),e.d(s,"b",function(){return r}),e.d(s,"c",function(){return d}),e.d(s,"d",function(){return o}),e.d(s,"e",function(){return i}),e.d(s,"g",function(){return h});var n=e("DwFS");const t=Object(n.a)("Adds the new set of custom emoji to the existing store");t.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const a=Object(n.a)("Resets the array of custom emoji in the store");a.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const r=Object(n.a)("Removes the specified custom emoji from the store");r.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const d=Object(n.a)("Renames a disabled custom emoji");d.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const o=Object(n.a)("Set the loading status for the API request when a new page is loading");o.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const i=Object(n.a)("Set the loading status for the API request when a user searches for emojis");i.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const h=Object(n.a)("Set the current sort category and direction for the table");h.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},E7hC:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test(t)}m(n,"isValidEmojiName")},ED1u:function(K,s,e){"use strict";e.d(s,"e",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"d",function(){return r}),e.d(s,"b",function(){return d}),e.d(s,"c",function(){return o}),e.d(s,"f",function(){return i});var n=e("DwFS");const t=Object(n.a)("Set the user-specified sidebar width and mode (use setSidebarColumn instead)");t.meta={name:"createAction",key:"createActionsetSidebarColumnInternal",description:"Set the user-specified sidebar width and mode (use setSidebarColumn instead)"};const a=Object(n.a)("Set the user-specified sidebar width and mode (use setInspectorColumn instead)");a.meta={name:"createAction",key:"createActionsetInspectorColumnInternal",description:"Set the user-specified sidebar width and mode (use setInspectorColumn instead)"};const r=Object(n.a)("Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)");r.meta={name:"createAction",key:"createActionsetIsTeamSidebarVisibleInternal",description:"Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)"};const d=Object(n.a)("Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)");d.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)"};const o=Object(n.a)("Sets whether or not the sidebar is currently visible when in collapsed mode");o.meta={name:"createAction",key:"createActionsetIsSidebarVisibleWhenFloating",description:"Sets whether or not the sidebar is currently visible when in collapsed mode"};const i=Object(n.a)("Sets whether the user prefers a responsive sidebar");i.meta={name:"createAction",key:"createActionsetUserPrefersResponsiveSidebarInternal",description:"Sets whether the user prefers a responsive sidebar"}},ED8d:function(K,s,e){"use strict";var n=e("oTSI"),t=e("ykb+"),a=e("s4P+"),r=e("1Np4"),d=e("4cU5"),o=e("RBHu");let i=m(class{initializeHuddleReconnectTracer(){var le,Re,Fe;this.reconnectSpan=(le=this.trace)===null||le===void 0?void 0:le.startSpan(o.F),this.reconnectSuccessSpan=(Re=this.trace)===null||Re===void 0?void 0:Re.startSpan(o.H),this.reconnectFailureSpan=(Fe=this.trace)===null||Fe===void 0?void 0:Fe.startSpan(o.G)}traceReconnectAttemptOutcome(le){let{isSuccess:Re}=le;var Fe;Re?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(Fe=this.logger)===null||Fe===void 0||Fe.info(`Registered huddle reconnect attempt outcome - isSuccess: ${Re}`)}traceReconnectAttempt(){var le;this.reconnectCount+=1,(le=this.logger)===null||le===void 0||le.info("Counted huddle reconnect attempt")}report(){var le,Re,Fe,Ge,et;(le=this.reconnectSpan)===null||le===void 0||le.addTags({metric_value:this.reconnectCount}).close(),(Re=this.reconnectSuccessSpan)===null||Re===void 0||Re.addTags({metric_value:this.reconnectSuccessCount}).close(),(Fe=this.reconnectFailureSpan)===null||Fe===void 0||Fe.addTags({metric_value:this.reconnectFailureCount}).close(),(Ge=this.tracer)===null||Ge===void 0||Ge.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(et=this.logger)===null||et===void 0||et.info("Reported reconnect attempt metric trace")}constructor({tracer:le,trace:Re,logger:Fe}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=le,this.trace=Re,this.logger=Fe,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer"),h=m(class{initializeHuddleNoAudioTracer(){var le;this.noAudioSpan=(le=this.trace)===null||le===void 0?void 0:le.startSpan(o.E)}incNoAudioInputCounter(){this.noAudioInputCount+=1}resetNoAudioInputCounter(){this.noAudioInputCount=0}closeHuddleNoAudioSpan(){var le;(le=this.noAudioSpan)===null||le===void 0||le.close()}report(){var le,Re,Fe;(le=this.noAudioSpan)===null||le===void 0||le.addTags({metric_value:this.noAudioInputCount}),this.closeHuddleNoAudioSpan(),(Re=this.tracer)===null||Re===void 0||Re.reportSpans([this.noAudioSpan]),this.resetNoAudioInputCounter(),(Fe=this.logger)===null||Fe===void 0||Fe.info("Reported no audio input span")}constructor({tracer:le,trace:Re,logger:Fe}){this.noAudioInputCount=0,this.tracer=le,this.trace=Re,this.logger=Fe,this.initializeHuddleNoAudioTracer()}},"HuddleNoAudioTracer"),l=m(class{addTTIMetaTags(le){let{entryPoint:Re,preferredMediaRegion:Fe,isPrejoin:Ge,isCreate:et}=le;var Qe;(Qe=this.trace)===null||Qe===void 0||Qe.addTags({entry_point:Re,preferred_media_region:Fe,is_prejoin:Ge,is_create:et,success:!1})}createFetchCredentialsSpan(){var le;this.fetchCredentialsSpan=(le=this.trace)===null||le===void 0?void 0:le.startSpan(o.b)}setCachedTag(le){let{cached:Re}=le;var Fe;(Fe=this.trace)===null||Fe===void 0||Fe.addTags({cached:Re})}closeFetchCredentialsSpan(){var le;(le=this.fetchCredentialsSpan)===null||le===void 0||le.close()}createConnectToMediaServiceSpan(){var le;this.connectToMediaServiceSpan=(le=this.trace)===null||le===void 0?void 0:le.startSpan(o.a)}closeConnectToMediaServiceSpan(){var le,Re,Fe,Ge;(le=this.connectToMediaServiceSpan)===null||le===void 0||le.close(),(Re=this.trace)===null||Re===void 0||Re.addTags({success:!0}),(Fe=this.tracer)===null||Fe===void 0||Fe.reportTrace(this.trace),this.traceReported=!0,(Ge=this.logger)===null||Ge===void 0||Ge.info("Reported TTI metric trace")}getTTITraceId(){var le;return(le=this.trace)===null||le===void 0?void 0:le.getTraceId()}getFetchCredentialsSpanId(){var le;return(le=this.fetchCredentialsSpan)===null||le===void 0?void 0:le.getId()}setMediaRegionTag(le){var Re,Fe;const Ge=(Re=this.trace)===null||Re===void 0?void 0:Re.getTags().preferred_media_region;(Fe=this.trace)===null||Fe===void 0||Fe.addTags({media_region:le,media_region_matches:le===Ge})}report(){var le,Re;if(!this.traceReported){var Fe,Ge;(Fe=this.tracer)===null||Fe===void 0||Fe.reportTrace(this.trace),this.traceReported=!0,(Ge=this.logger)===null||Ge===void 0||Ge.info("Reported TTI metric trace in final clean up")}(le=this.tracer)===null||le===void 0||le.clearTrace(this.trace),(Re=this.logger)===null||Re===void 0||Re.info("Cleaned up TTI metric trace")}constructor({teamId:le,logger:Re}){this.traceReported=!1,this.tracer=Object(r.a)({teamOrEnterpriseId:le}),this.trace=this.tracer.createTrace({traceName:o.p,samplingOptions:{sampleRate:Object(t.b)()?1:.05,sampleType:d.g.SESSION}}),this.logger=Re}},"HuddleTTITracer");var u=e("yIs4"),c=e("Uqsd"),E=e("QjW8"),v=e("9oTK");const g=10*1e3,O=1e3,I=1e3,C="2.2",f=450*450,S=25,D=15,p="huddles_perf",b="app_metrics",M=5;var _=e("f8fv"),P=e("ZGcR"),y=e("Lgge");const j=m(De=>Object(_.a)(De),"formatTag"),U=m(function(De){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return Object(P.a)(De,(Re,Fe)=>Fe.indexOf(le)>-1?Fe:j(Fe))},"formatTags"),W=m(()=>new y.a(De=>{setTimeout(De,0)}),"waitForNextTick");let L=m(class{recordAppMetrics(le){var Re=this;return Object(v.coroutine)(function*(){const Fe=Date.now();if(Fe-Re.lastRecordedSpanTs<Re.reportingInterval)return;Re.logger.debug(`Adding new ${p}:${b} span`);const et=Re.trace.startSpan(b),Qe=U(le),it=Object.keys(Qe).length;et.addTags(Qe),et.close(),Re.logger.debug(`Added new ${p}:${b} span with ${it} tags`),Re.getSpanCount()>M&&Re.report(),Re.lastRecordedSpanTs=Fe})()}constructor({teamId:le,logger:Re,callLogger:Fe,isTinySpeck:Ge}){var et=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.getMetricsCollectionInterval=()=>Object(t.b)()?O:this.isTinyspeck?I:g,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:p,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleType:d.g.ALWAYS}}),this.trace),this.getDataSet=()=>{if(!Object(t.b)())return"client_metrics"},this.getSpanCount=()=>{var Qe;const it=(Qe=this.trace)===null||Qe===void 0?void 0:Qe.getSpans();return it?Object.keys(it).length:0},this.report=function(){let Qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Qe&&et.callLogger.debug(`Huddle ${et.callId} is ending. Reporting ${et.getSpanCount()} remaining spans`),!et.traceReported&&et.getSpanCount()>0){var it,Lt;(it=et.tracer)===null||it===void 0||it.reportTrace(et.trace),(Lt=et.tracer)===null||Lt===void 0||Lt.clearTrace(et.trace),et.logger.debug(`Cleared ${p}:${b} event trace`),Qe?et.traceReported=!0:et.createNewTrace()}else et.logger.debug(`Attempted to report ${p}:${b} trace but there was nothing to report`)},this.tracer=Object(r.a)({teamOrEnterpriseId:le}),this.isTinyspeck=Ge,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=Re,this.callLogger=Fe}},"HuddlePerfTracer");const R=L;var A=e("TSHB"),B=e("Muja"),F=e("9vpw");const k=30,V=200,X=200,J=30,Y=m(De=>function(le){for(var Re=arguments.length,Fe=new Array(Re>1?Re-1:0),Ge=1;Ge<Re;Ge++)Fe[Ge-1]=arguments[Ge];if(!(typeof le!="string"&&typeof le!="number"))return De(le,...Fe)},"makeDeduction"),ie=Y(De=>De>J?De/5:void 0),de=Y(De=>De>400?De/20:void 0),pe=Y(De=>De>1?De*10:void 0),oe=Y(De=>De>X?De/7.5:void 0),me=Y(De=>De>1?De*10:void 0),re=Y(De=>De>k?De/2:void 0),ve=Y(De=>De>0?De*20:void 0),q=Y(De=>De>V?De/7.5:void 0),ce=Y(De=>De>0?De*10:void 0),he=Y(De=>De*2),Se=Y(De=>De&&De!=="udp"?40:void 0),se=Y(De=>De&&De>500?De/100:void 0),H=Y(De=>De>150?De/5:void 0),Oe=Y(De=>De>15?De*2:void 0),$=Y(De=>De>5?De:void 0),z=Y(De=>De>50?De/5:void 0),be=Y(De=>De>5?De*5:void 0),Z=Y(De=>!De||De==="none"?void 0:25),G=Y(De=>De>0?De*20:void 0),ne=Y(De=>De>5?De*1.25:void 0),ge=Y(De=>De>300?De/10:void 0),ae=20,fe=60,Te=60,ye=m(De=>{const{audioDownstreamQualityScore:le,networkQualityScore:Re,networkType:Fe,networkProtocol:Ge,networkRelayProtocol:et,networkAvailableOutgoingBitrate:Qe,audioDownstreamJitterMs:it,audioDownstreamPacketLossPercent:Lt,audioDownstreamJitterBufferDelay:Pt,networkCurrentRoundTripTimeMs:rn,mediaRegionSelected:nn,mediaRegionPreferred:Sn,cpuUse:jn,cpuUseRelative:hn,cpuCompetitionScore:un,gpuUse:An,batteryIsUsing:mn,selectedMicrophone:Nn,selectedCamera:xn,selectedSpeakers:Vn,cameraIsBlocked:Wn,cameraIsAvailable:Bn,microphoneIsBlocked:hs,microphoneIsAvailable:ln,isMicrophoneBluetooth:kn,isSpeakerBluetooth:Rs,isMicrophoneAndSpeakerOnSameDevice:As,isHardwareAccelerationEnabled:ws,isDisconnected:Vs,noAudioInput:Gs}=De;return{metrics:{stable:{mediaRegionSelected:nn,mediaRegionPreferred:Sn,selectedMicrophone:Nn,selectedCamera:xn,selectedSpeakers:Vn},unstable:{cpuCompetitionScore:un,cpuUse:jn,gpuUse:An,cpuUseRelative:hn,audioQualityScore:le,jitterMs:it,audioDelayMs:Pt,roundTripTimeMs:rn,packetLossPercent:Lt,incomingBandwidth:Qe,networkQualityScore:Re}},warnings:{stable:{isVpnEnabled:Fe==="vpn",isSuboptimalProtocol:!!Se(Ge)||!!Se(et),isMediaRegionSuboptimal:!!nn&&!!Sn&&nn!==Sn,isUsingBatteryPower:mn,isMicrophoneBluetooth:kn,isMicrophoneAndSpeakerOnSameDevice:As,isSpeakerBluetooth:Rs,isCameraProbablyIphone:/iphone/.test(xn==null?void 0:xn.toLowerCase()),isHardwareAccelerationDisabled:ws===!1},unstable:{isCpuUsePoor:!!H(jn),isCpuUseRelativePoor:!!Oe(hn),isGpuUsePoor:!!z(An),isJitterPoor:!!re(it),isRTTPoor:!!oe(rn),isAudioDelayPoor:!!q(Pt),isPacketLossPoor:!!ce(Lt)}},alerts:{stable:{isCameraBlocked:Wn||!Bn,isMicrophoneBlocked:hs||!ln,isMicrophoneNotSendingAudio:!!Gs,isDisconnected:Vs},unstable:{isAudioQualityPoor:le<=ae,isNetworkQualityPoor:Re<=fe,isCpuCompetitionPoor:un<=Te}}}},"getTroubleshootingMetricsFromTags");var Ue=e("OZf9"),Ne=e("okoL");const He=10*1e3,ze=30*1e3,Je=.2;class Xe{constructor(le){this.logger=le,this.currentStableAlerts={},this.currentAlerts={},this.updateInterval=He,this.updateIntervalIncrements=0,this.countRecentTimestamps=(Re,Fe)=>{if(!Re.length)return 0;const Ge=Date.now(),et=[...Re].reverse().findIndex(Qe=>Ge-Qe>Fe);return et===-1?Re.length:et},this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(ze,this.updateInterval+1e3))},this.getStableAlerts=(Re,Fe)=>{const Ge={};return Object(Ue.a)(Re,(et,Qe)=>{if(et===void 0)return;const it=this.currentAlerts[Qe]||[];et&&(it.push(Date.now()),this.currentAlerts[Qe]=Object(Ne.a)(it,30));const Lt=this.countRecentTimestamps(it,Fe.interval);Ge[Qe]=Lt>=Fe.threshold}),Ge},this.getStabilityConfig=()=>{const Re=Math.floor(this.updateInterval/1e3*Je);return{interval:this.updateInterval,threshold:Re}},this.getAlertUpdates=Re=>{let{alerts:Fe}=Re;const Ge=this.getStableAlerts(Fe,this.getStabilityConfig()),et=!Object(B.a)(Ge,this.currentStableAlerts);if(this.maybeIncrementUpdateInterval(),et)return this.currentStableAlerts=Ge,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),Ge}}}m(Xe,"alert_updater_AlertUpdater");const Me=Xe,Ke="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",$e={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${Ke}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${Ke}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network."},Et={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...$e},Le={isNetworkQualityPoor:"networkQualityScoreReasons",isCpuCompetitionPoor:"cpuCompetitionScoreReasons"};class jt{constructor({callLogger:le,logger:Re,dispatch:Fe}){this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=Ge=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:et,isUnifiedGrid:Qe,visibleSidebarItemCount:it,networkType:Lt,networkProtocol:Pt,networkRelayProtocol:rn,isHardwareAccelerationEnabled:nn,batteryIsUsing:Sn}=Ge;this.callLogger.info(`Initial Huddle Config: Network Type=${Lt}; Network Protocol=${Pt}; Network Relay Protocol=${rn}; IA4=${et}; Unified Grid=${Qe}; Hardware Acceleration=${nn??"unknown (browser)"}; Using Battery Power=${Sn}; Sidebar Size=${it};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=(Ge,et)=>{Object.entries(Ge).forEach(Qe=>{let[it,Lt]=Qe;if(Lt&&this.isRelevantWarning(it,Ge)&&Et[it]){let Pt;if(it in Le){const nn=Le[it];nn&&(et!=null&&et[nn])&&(Pt=et[nn])}this.callLogger.warn(`\u{1F6A8} WARNING! ${Et[it]}${Pt?` reasons: (${Pt})`:""}`)}})},this.isRelevantWarning=(Ge,et)=>Ge==="isNetworkQualityPoor"||Ge==="isCpuCompetitionPoor"?"isAudioQualityPoor"in et&&!!et.isAudioQualityPoor:!0,this.logTags=Ge=>{const et=Date.now();et-this.lastLoggedTagsTs>10*1e3&&(this.logger.info(`Recorded ${p}:${b} event span tags`,Ge),this.lastLoggedTagsTs=et)},this.getStatsDiff=Ge=>{const et=this.lastProcessedStats;return Object(A.a)(Ge,(Qe,it)=>{var Lt,Pt;return{stable:et?!Object(B.a)((Lt=et[it])===null||Lt===void 0?void 0:Lt.stable,Qe==null?void 0:Qe.stable):null,unstable:et?!Object(B.a)((Pt=et[it])===null||Pt===void 0?void 0:Pt.unstable,Qe==null?void 0:Qe.unstable):null}})},this.maybeUpdateTroubleshootingPanel=Ge=>{var et,Qe,it,Lt,Pt,rn,nn,Sn,jn;const hn=Date.now(),un=ye(Ge),An=this.getStatsDiff(un);if(this.lastProcessedStats=un,(!((et=An.alerts)===null||et===void 0)&&et.stable||((Qe=An.alerts)===null||Qe===void 0?void 0:Qe.stable)===null)&&un.alerts.stable&&(this.dispatch(Object(F.b)(un.alerts.stable)),An.alerts.stable&&this.logWarningAndAlertUpdates(un.alerts.stable)),(!((it=An.metrics)===null||it===void 0)&&it.stable||((Lt=An.metrics)===null||Lt===void 0?void 0:Lt.stable)===null)&&un.metrics.stable&&this.dispatch(Object(F.c)(un.metrics.stable)),(!((Pt=An.warnings)===null||Pt===void 0)&&Pt.stable||((rn=An.warnings)===null||rn===void 0?void 0:rn.stable)===null)&&un.warnings.stable&&(this.dispatch(Object(F.d)(un.warnings.stable)),An.warnings.stable&&this.logWarningAndAlertUpdates(un.warnings.stable)),!((nn=un.alerts)===null||nn===void 0)&&nn.unstable){const mn=this.alertUpdater.getAlertUpdates({alerts:un.alerts.unstable});mn&&(this.dispatch(Object(F.f)(mn)),this.logWarningAndAlertUpdates(mn,Ge))}un.metrics.unstable&&un.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||hn-this.lastUnstableMetricsUpdateTs>1e4&&(!((Sn=An.warnings)===null||Sn===void 0)&&Sn.unstable||!((jn=An.metrics)===null||jn===void 0)&&jn.unstable))&&(this.dispatch(Object(F.g)({metrics:un.metrics.unstable,warnings:un.warnings.unstable})),this.lastUnstableMetricsUpdateTs=hn)},this.processTags=Ge=>{this.maybeUpdateTroubleshootingPanel(Ge),this.logHuddleConfigInfo(Ge),this.logTags(Ge),this.lastProcessedTagsTs=Date.now()},this.callLogger=le,this.logger=Re,this.dispatch=Fe,this.alertUpdater=new Xe(Re),this.callLogger.info("huddle perf observer initialized")}}m(jt,"observer_HuddlePerfObserver");const Dt=jt;var Ee=jt;const te=m(De=>{const{audioUpstreamAudioLevel:le,audioUpstreamTotalAudioEnergy:Re,audioUpstreamTotalSamplesDuration:Fe,audioDownstreamLevel:Ge}=De;return{send:[{audioStats:{audioLevel:le,totalAudioEnergy:Re,totalSamplesDuration:Fe}}],recv:[{audioStats:{audioLevel:Ge}}]}},"getStatsForAnomalyDetectorFromTags");var Ae=e("KciV"),Ve=e("DKof"),Ye=e("xnu4"),ft=e("fujP"),tt=e("owWc"),Rt=e("dhcM");const rt=m(De=>{if(Object(ft.a)(De))return;const le=Object(tt.a)(De,(Re,Fe)=>Object(Rt.a)(Re,Fe,(Ge,et)=>(Ge||0)+et),{});return Object(A.a)(le,Re=>Re/De.length)},"calculateIncomingVideoStatsAverages"),we=m(De=>{if(!isNaN(De)&&!(typeof De>"u"||De===null))return Math.round(De)},"getScrubbedMetricValue"),xe=m(De=>{let{clientMetricReport:le,direction:Re}=De;const Fe=Object.keys(le.streamMetricReports);let Ge;return Fe.forEach(et=>{const Qe=Number(et),it=le.streamMetricReports[Qe];it.direction===Re&&it.mediaType===E.d.AUDIO&&(Ge=Qe)}),Ge},"getAudioSsrcId"),st=m((De,le,Re,Fe,Ge)=>{const et=De==null?void 0:De.getMetricMap(le,Re)[Fe];if(et!=null&&et.transform)return et.transform(Fe,Ge)},"getNonObservedMetric"),ke=m((De,le)=>{const Re=le?De.replace(le,""):De;return Re.charAt(0).toUpperCase()+Re.slice(1)},"removeSubstringAndCapitalize");var lt=e("5MVR"),at;(function(De){De[De.UPSTREAM=0]="UPSTREAM",De[De.DOWNSTREAM=1]="DOWNSTREAM"})(at||(at={}));var ht;(function(De){De[De.AUDIO=0]="AUDIO",De[De.VIDEO=1]="VIDEO"})(ht||(ht={}));let Nt,Jt;const zt=m(function(De,le,Re){let Fe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De||!le)return;const Ge=(le.timestamp-De.timestamp)/1e3,et=le[Re]-De[Re];return Fe?et/Ge:et},"getNextStat"),Yt=m(De=>{let{clientMetricReport:le,selfAttendeeId:Re}=De;const Fe=le.getObservableVideoMetrics();if(!Fe||!Re)return;let Ge=0;const et={},Qe=[];return Object(Ue.a)(Fe,(it,Lt)=>{var Pt;const rn=Number((Pt=Object.keys(it))===null||Pt===void 0?void 0:Pt[0]);if(!rn)return;const nn=it[rn];if(Lt.endsWith("#content")){Ge+=1,Object(Ue.a)(nn,(Sn,jn)=>{et[Object(Ye.a)(`screenshare_${j(jn)}${Ge>1?`${Ge}_`:""}`)]=we(Sn)});return}Re===Lt?nn.videoUpstreamBitrate!==0&&(Object(Ue.a)(nn,(Sn,jn)=>{et[`self${ke(jn,"Upstream")}`]=we(Sn)}),Object.assign(et,{selfVideoHardwareEncoder:st(le,ht.VIDEO,at.UPSTREAM,"encoderImplementation",rn)})):Qe.push(nn)}),Object(ft.a)(Qe)||Object.assign(et,rt(Qe)),et},"getVideoMetricTags"),sn=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],dn=m(De=>{let{clientMetricReport:le}=De;const{audioDecoderLoss:Re,audioPacketLossPercent:Fe,audioPacketsReceived:Ge,audioPacketsReceivedFractionLoss:et,audioPacketsSent:Qe,audioSpeakerDelayMs:it,audioDownstreamJitterMs:Lt,videoUpstreamBitrate:Pt,videoPacketSentPerSecond:rn,currentRoundTripTimeMs:nn,availableIncomingBitrate:Sn,availableOutgoingBitrate:jn,nackCountReceivedPerSecond:hn,audioUpstreamRoundTripTimeMs:un,audioUpstreamJitterMs:An}=le.getObservableMetrics(),mn={audioDownstreamDecoderLoss:Re,audioUpstreamPacketLossPercent:Fe,audioDownstreamPacketsReceived:Ge,audioDownstreamPacketLossPercent:et,audioDownstreamJitterMs:Lt,audioUpstreamPacketsSent:Qe,audioDownstreamJitterBufferDelay:it,selfVideoBitrate:Pt,selfVideoPacketsSentPerSecond:rn,audioUpstreamRoundTripTimeMs:un,audioUpstreamJitterMs:An,networkCurrentRoundTripTimeMs:nn,networkAvailableIncomingBitrate:Sn,networkAvailableOutgoingBitrate:jn,networkNackCountReceivedPerSecond:hn},Nn=Object(P.a)(mn,(ln,kn)=>sn.indexOf(kn)>-1?Object(Ye.a)(`network_${kn}`):kn),Vn={networkSocketPacketsDiscardedOnSend:le.globalMetricReport.currentMetrics.packetsDiscardedOnSend},Wn=xe({clientMetricReport:le,direction:at.DOWNSTREAM});let Bn;if(Wn){const ln=st(le,ht.AUDIO,at.DOWNSTREAM,"concealedSamples",Wn);Bn={audioDownstreamTotalSamplesReceived:st(le,ht.AUDIO,at.DOWNSTREAM,"totalSamplesReceived",Wn),audioDownstreamConcealedSamples:ln}}return Object(A.a)({...Nn,...Vn,...Bn},ln=>we(ln))},"getAudioMetricTags"),Mt=m(De=>{const le={},Re=[];let Fe;if(!De)return Nt=void 0,le;De.forEach(et=>{et.type==="local-candidate"&&Re.push(et),et.type==="media-source"&&et.kind==="audio"&&(le.audioUpstreamTotalSamplesDuration=et.totalSamplesDuration,le.audioUpstreamAudioLevel=et.audioLevel,le.audioUpstreamTotalAudioEnergy=et.totalAudioEnergy),et.type==="candidate-pair"&&et.state==="succeeded"&&et.nominated&&et.localCandidateId&&(Fe=et.localCandidateId),et.type==="inbound-rtp"&&et.kind==="audio"&&(le.audioDownstreamLevel=et.audioLevel),et.type==="outbound-rtp"&&et.kind==="video"&&(le.selfVideoQualityLimitationDurations=et.qualityLimitationDurations&&Object(lt.c)(et.qualityLimitationDurations),le.selfVideoOutboundFramesPerSecond=et.framesPerSecond,le.selfVideoPacketSendDelay=zt(Nt,et,"totalPacketSendDelay"),Nt=et),et.type==="media-source"&&et.kind==="video"&&(le.selfVideoSourceFramesPerSecond=et.framesPerSecond)});const Ge=Re.find(et=>et.id===Fe);if(Ge){const{networkType:et,protocol:Qe,relayProtocol:it}=Ge;le.networkType=et,le.networkProtocol=Qe,le.networkRelayProtocol=it}return le},"getRtcStatsTags"),yt=m(De=>{if(!De){Jt=void 0;return}const le={};return De.forEach(Re=>{if(Re.type==="remote-inbound-rtp"&&Re.kind==="video"){const{fractionLost:Fe,jitter:Ge,roundTripTime:et}=Re;Object.assign(le,{screenshareUpstreamJitter:Ge*1e3,screenshareUpstreamPacketLossPercent:Fe*100,screenshareUpstreamRoundTripTime:et*1e3})}if(Re.type==="outbound-rtp"&&Re.kind==="video"){const{frameHeight:Fe,frameWidth:Ge,framesPerSecond:et,targetBitrate:Qe}=Re;if(Object.assign(le,{screenshareUpstreamTargetBitrate:Qe,screenshareUpstreamFrameWidth:Ge,screenshareUpstreamFrameHeight:Fe,screenshareUpstreamFramesPerSecond:et}),!Jt){Jt=Re;return}Object.assign(le,{screenshareUpstreamPacketsSent:zt(Jt,Re,"packetsSent"),screenshareUpstreamPacketSendDelay:zt(Jt,Re,"totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:zt(Jt,Re,"keyFramesEncoded"),screenshareUpstreamBitrate:zt(Jt,Re,"bytesSent",!0)}),Jt=Re}}),Object(A.a)(le,Re=>we(Re))},"getScreenshareRtcStatsTags"),tn=m(De=>{let{clientMetricReport:le,selfAttendeeId:Re}=De;const Fe=Yt({clientMetricReport:le,selfAttendeeId:Re}),Ge=dn({clientMetricReport:le});return{...Fe,...Ge}},"getClientMetricReportTags"),an={getVideoMetricTags:Yt,getAudioMetricTags:dn,getClientMetricReportTags:tn,getScreenshareRtcStatsTags:yt,getRtcStatsTags:Mt};var on=e("8QLk");const ut=0,Ot=100;function Wt(De){return De.endsWith(",")?De.slice(0,-1):De}m(Wt,"trimComma");const Ht=m(()=>{let De=100,le="";return{deductFromScoreForReason:(Re,Fe)=>{Re&&(De-=Re,le+=`${Fe},`)},getScore:()=>Object(on.a)(De,ut,Ot),getReasons:()=>Wt(le)}},"trackScoreAndReasons"),Zt=m(De=>{const{deductFromScoreForReason:le,getScore:Re,getReasons:Fe}=Ht(),{screenshareUpstreamBitrate:Ge,screenshareUpstreamPacketLossPercent:et,screenshareUpstreamJitter:Qe,screenshareUpstreamRoundTripTime:it,screenshareUpstreamFramesPerSecond:Lt,screenshareUpstreamPacketSendDelay:Pt,screenshareUpstreamQualityLimitationReason:rn}=De;if(Ge)return le(ce(et),"screenshareUpstreamPacketLossPercent"),le(re(Qe),"screenshareUpstreamJitter"),le(oe(it),"screenshareUpstreamRoundTripTime"),le(ie(Pt),"screenshareUpstreamPacketSendDelay"),le(be(D-Lt),"screenshareUpstreamFramesPerSecond"),le(Z(rn),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:Re(),screenshareUpstreamQualityScoreReasons:Fe()}},"getScreenshareUpstreamQualityScore"),gn=m(De=>{const{selfVideoPacketLossPercent:le,selfVideoFrameHeight:Re,selfVideoFrameWidth:Fe,selfVideoRoundTripTime:Ge,selfVideoJitterMs:et,selfVideoFramesEncodedPerSecond:Qe,isSelfVideoEnabled:it}=De;if(!it||!Fe)return;const{deductFromScoreForReason:Lt,getScore:Pt,getReasons:rn}=Ht();Lt(ce(le),"selfVideoPacketLossPercent");const nn=Re*Fe;return Lt(pe(f/nn),"selfVideoFrameHeight,selfVideoFrameWidth"),Lt(re(et),"selfVideoJitterMs"),Lt(oe(Ge),"selfVideoRoundTripTime"),Lt(be(S-Qe),"selfVideoFramesEncodedPerSecond"),{selfVideoQualityScore:Pt(),selfVideoQualityScoreReasons:rn()}},"getSelfVideoQualityScore"),Pn=m(De=>{const{videoDownstreamPacketLossPercent:le,videoDownstreamFramesDecodedPerSecond:Re,videoDownstreamFrameHeight:Fe,videoDownstreamFrameWidth:Ge,videoDownstreamJitterMs:et,videoDownstreamDelayMs:Qe}=De;if(!Ge)return;const{deductFromScoreForReason:it,getScore:Lt,getReasons:Pt}=Ht();it(ce(le),"videoDownstreamPacketLossPercent");const rn=Fe*Ge;return it(pe(f/rn),"videoDownstreamFrameHeight,videoDownstreamFrameWidth"),it(q(Qe),"videoDownstreamDelayMs"),it(re(et),"videoDownstreamJitterMs"),it(be(S-Re),"videoDownstreamFramesDecodedPerSecond"),{videoDownstreamQualityScore:Lt(),videoDownstreamQualityScoreReasons:Pt()}},"getVideoDownstreamQualityScore"),Mn=m(function(De){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:Re,getScore:Fe,getReasons:Ge}=Ht();if(le){const{screenshareVideoDownstreamPacketLossPercent2:Pt,screenshareVideoDownstreamJitterMs2:rn,screenshareVideoDownstreamDelayMs2:nn,screenshareVideoDownstreamFrameHeight2:Sn}=De;return Sn?(Re(ce(Pt),"screenshareVideoDownstreamPacketLossPercent2"),Re(re(rn),"screenshareVideoDownstreamJitterMs2"),Re(q(nn),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:Fe(),screenshareVideoDownstreamQualityScoreReasons2:Ge()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:et,screenshareVideoDownstreamJitterMs:Qe,screenshareVideoDownstreamDelayMs:it,screenshareVideoDownstreamFrameHeight:Lt}=De;if(Lt)return Re(ce(et),"screenshareVideoDownstreamPacketLossPercent"),Re(re(Qe),"screenshareVideoDownstreamJitterMs"),Re(q(it),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:Fe(),screenshareVideoDownstreamQualityScoreReasons:Ge()}},"getScreenshareDownstreamQualityScore"),pt=m(De=>{const{audioUpstreamPacketLossPercent:le,audioUpstreamRoundTripTimeMs:Re,audioUpstreamJitterMs:Fe}=De;if(!Re)return;const{deductFromScoreForReason:Ge,getScore:et,getReasons:Qe}=Ht();return Ge(ce(le),"audioUpstreamPacketLossPercent"),Ge(oe(Re),"audioUpstreamRoundTripTimeMs"),Ge(re(Fe),"audioUpstreamJitterMs"),{audioUpstreamQualityScore:et(),audioUpstreamQualityScoreReasons:Qe()}},"getAudioUpstreamQualityScore"),_t=m(De=>{const le={};return De.screenshareVideoDownstreamFrameHeight2&&Object.assign(le,Mn(De,!0)),{...Mn(De),...le}},"getScreenshareDownstreamQualityScores"),xt=m(De=>{const{cpuUse:le,gpuUse:Re,cpuUseRelative:Fe,longTasksPercentage:Ge}=De,{deductFromScoreForReason:et,getScore:Qe,getReasons:it}=Ht();return et(ne(Ge),"longTasksPercentage"),et(H(le),"cpuUse"),et(z(Re),"gpuUse"),et(Oe(Fe),"cpuUseRelative"),{cpuCompetitionScore:Qe(),cpuCompetitionScoreReasons:it()}},"getCpuCompetitionScoreTags"),en=m(De=>{const{networkCurrentRoundTripTimeMs:le,networkNackCountReceivedPerSecond:Re,networkSocketPacketsDiscardedOnSend:Fe,networkProtocol:Ge,networkRelayProtocol:et,audioDownstreamJitterMs:Qe,audioDownstreamPacketLossPercent:it}=De,{deductFromScoreForReason:Lt,getScore:Pt,getReasons:rn}=Ht();return Lt(Se(Ge),"networkProtocol"),Lt(Se(et),"networkRelayProtocol"),Lt(G(Fe),"networkSocketPacketsDiscardedOnSend"),Lt(oe(le),"networkCurrentRoundTripTimeMs"),Lt(re(Qe),"audioDownstreamJitterMs"),Lt(me(Re),"networkNackCountReceivedPerSecond"),Lt(ce(it),"audioDownstreamPacketLossPercent"),{networkQualityScore:Pt(),networkQualityScoreReasons:rn()}},"getNetworkQualityScoreTags"),Cn=m(De=>{const{audioDownstreamDecoderLoss:le,audioDownstreamJitterBufferDelay:Re,audioDownstreamPacketLossPercent:Fe}=De,{deductFromScoreForReason:Ge,getScore:et,getReasons:Qe}=Ht();return Ge(ve(le),"audioDownstreamDecoderLoss"),Ge(q(Re),"audioDownstreamJitterBufferDelay"),Ge(ce(Fe),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:et(),audioDownstreamQualityScoreReasons:Qe()}},"getAudioDownstreamQualityTags");var fn=m(De=>({...Cn(De),...en(De),...pt(De),...gn(De),..._t(De),...Zt(De),...xt(De),...Pn(De),qualityScoringVersion:C}),"getQualityScoreTags");const Ln={[E.c.BluetoothDevices]:(De,le)=>{let{sharedTags:Re}=le;Object.assign(Re,De)},[E.c.MemoryLeaks]:(De,le)=>{let{name:Re,leakCount:Fe}=De,{sharedTags:Ge}=le;const et=Ge.memoryLeakCount;Object.assign(Ge,{type:"shared",tags:{[`memoryLeaks-${Re}`]:Fe,memoryLeakCount:et?et+Fe:Fe}})},[E.c.SelectedMediaRegion]:(De,le)=>{let{mediaRegionSelected:Re}=De,{sharedTags:Fe}=le;const{mediaRegionPreferred:Ge}=Fe;Object.assign(Fe,{mediaRegionSelected:Re,mediaRegionMatchesPreference:Ge&&Re?Ge===Re:!0})},[E.c.PreferredMediaRegion]:(De,le)=>{let{sharedTags:Re}=le;Object.assign(Re,De)},[E.c.VoiceFocusConfig]:(De,le)=>{let{sharedTags:Re}=le;De&&Object.assign(Re,{vfSimdSupported:De.model.simd,vfModelVariant:De.model.variant,vfSupported:De.supported})},[E.c.NetworkDisconnect]:(De,le)=>{let{peerId:Re}=De,{transientTags:Fe}=le;Re==="self"&&Object.assign(Fe,{selfDisconnectCount:(Fe.selfDisconnectCount||0)+1})},[E.c.CallId]:(De,le)=>{let{sharedTags:Re}=le;Object.assign(Re,De)},[E.c.ScreenshareContentType]:(De,le)=>{let{sharedTags:Re}=le;Object.assign(Re,De)},[E.c.NoAudio]:(De,le)=>{let{sharedTags:Re}=le;De.direction==="send"?Object.assign(Re,{noAudioInput:De.noAudio}):Object.assign(Re,{noAudioOutput:De.noAudio})},[E.c.CameraResolution]:(De,le)=>{let{sharedTags:Re}=le;Object.assign(Re,De)},[E.c.SetIsDebugApp]:(De,le)=>{Object.assign(le,{isDebugApp:!0})}},_n=Ln;var Un=Ln,Dn=e("ZvnG");const nt=Object(a.b)({label:"COMPUTE-PRESSURE"}),St={nominal:1,fair:2,serious:3,critical:4};class Ut{constructor(){this.defaultSampleRate=.5,this.pubSub=new Dn.a,this.isObserving=!1,this.currentLevel=null;var le=this;this.startObserving=Object(v.coroutine)(function*(){if(!le.isObserving){try{var Fe;le.isObserving=!0,yield(Fe=le.pressureObserver)===null||Fe===void 0?void 0:Fe.observe("cpu")}catch(Ge){le.isObserving=!1,nt.error("An error occurred while attempting to observe compute pressure",Ge)}nt.info("Observing compute pressure")}}),this.getPressureLevelFromRecord=Fe=>Fe?St[Fe.state]:void 0,this.pressureObserverCallback=Fe=>{const Ge=Fe.pop();if(!Ge)return;const et=this.getPressureLevelFromRecord(Ge);et&&(this.currentLevel=et,et===1?nt.debug(`Compute pressure updated to ${Ge.state} (${et} of 4)`):nt.warn(`Compute pressure updated to ${Ge.state} (${et} of 4)`),this.pubSub.publish(et))};var Re=this;this.subscribe=function(){var Fe=Object(v.coroutine)(function*(Ge){Re.pubSub.subscribe(Ge),yield Re.startObserving()});return function(Ge){return Fe.apply(this,arguments)}}(),this.unsubscribe=Fe=>{if(this.pubSub.unsubscribe(Fe),!this.pubSub.subscriberCount)try{var Ge;(Ge=this.pressureObserver)===null||Ge===void 0||Ge.disconnect(),nt.debug("No longer observing compute pressure.")}catch(et){nt.error("An error occurred attempted to disconnect from the compute pressure observer",et)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let Fe;try{var Ge;Fe=(Ge=this.pressureObserver)===null||Ge===void 0?void 0:Ge.takeRecords()}catch(Qe){nt.error("An error occurred attempting to get latest compute pressure reports",Qe)}const et=Fe?this.getPressureLevelFromRecord(Fe.pop()):void 0;return et&&(this.currentLevel=et),et},nt.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(Fe){nt.error("An error occurred creating a new instance of the PressureObserver",Fe)}if(!this.pressureObserver){nt.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}m(Ut,"compute_pressure_observer_ComputePressureObserver"),Ut.isSupported=()=>"PressureObserver"in globalThis;let Gt;const On=m(()=>{if(Gt)return Gt;if(!Ut.isSupported()){nt.info("Compute Pressure API is not supported.");return}try{Gt=new Ut}catch(De){nt.error("An error occurred while attempting to create compute pressure observer",De);return}return Gt},"getComputePressureObserver"),Xt=Ut,qt=On;var Qt=On;const $n={longTasksPercentage:0,longTasksPeakDuration:0,longTasksCount:0,longTasksTotalDuration:0};let os=m(class{initializeReport(){this.report={...$n},this.lastReportTime=performance.now()}isLongTaskTimingSupported(){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}start(){this.observer||!this.isSupported||(this.observer=new PerformanceObserver(this.onReceiveLongTaskList),this.observer.observe({entryTypes:["longtask"]}),this.observer.takeRecords())}stop(){this.observer&&(this.observer.disconnect(),this.observer=null)}getReportSinceLastCall(){if(!this.observer||!this.isSupported)return;const Re=performance.now()-this.lastReportTime;this.report.longTasksCount>0&&(this.report.longTasksPercentage=Math.round(this.report.longTasksTotalDuration/Re*100));const Fe={...this.report};return this.initializeReport(),Fe}constructor(){this.report={...$n},this.lastReportTime=performance.now(),this.observer=null,this.onReceiveLongTaskList=le=>{const Re=le.getEntries();let Fe=0,Ge=0;Re.forEach(et=>{const Qe=et.duration;Fe+=Qe,Qe>Ge&&(Ge=Qe)}),this.report.longTasksTotalDuration+=Fe,this.report.longTasksCount+=Re.length,Ge>this.report.longTasksPeakDuration&&(this.report.longTasksPeakDuration=Ge)},this.isSupported=this.isLongTaskTimingSupported()}},"LongTaskObserver");const Ps=os;var Ws=os;let Is=0;const vs={traceName:p},Ts="HUDDLES-PERF";let zn=m(class{constructor(){var le;this.callLogger=Object(Ae.c)(Ts),this.logger=Object(a.b)({label:Ts}),this.sharedTags=vs,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.longTaskObserver=new Ws,this.initSharedTags=()=>{Is+=1,this.updateSharedTags({huddlesCountSinceRefresh:Is})},this.initComputePressureObserver=()=>{this.computePressureObserver=Qt(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var Re;const Fe=(Re=this.computePressureObserver)===null||Re===void 0?void 0:Re.getCurrentLevel();Fe&&(this.computePressure=Fe)})},this.updateSharedTags=Re=>{this.sharedTags={...this.sharedTags,...Re}},this.updateTransientTags=Re=>{this.transientTags={...this.transientTags,...Re}},this.updateComputePressure=Re=>{const Fe=this.computePressure;this.computePressure=Re;let Ge;switch(Re){case 1:Ge="System workload is minimal, operating at lower clock speed to conserve power.";break;case 2:Ge="System is performing well but under a fair amount of pressue. Still able to take on additional workload without issues.";break;case 3:Ge="System is experiencing significant pressure but remains sustainable; close to operational limits.";break;case 4:Ge="System is now about to reach its operational limits; continued pressure may lead to CPU throttling.";break;default:Ge="Unknown system workload condition."}Re>2?this.callLogger.warn(`Compute pressure updated to level ${Re} of 4. ${Ge} Potential degradation in audio/video quality detected.`):Fe&&Fe>2&&this.logger.debug(`Compute pressure updated to level ${Re} of 4 from ${Fe}. ${Ge}`)},this.updateState=(Re,Fe)=>{if(Re===E.c.RenderTiming)this.renderTimings.push(Fe);else if(Re===E.c.RtmMetrics)this.rtmProcessingTimings.push(Fe);else if(Re===E.c.AppMetrics)this.updateMetrics(Fe);else{const Ge=Ln[Re];if(!Ge)return;const{sharedTags:et,transientTags:Qe}=this;Ge(Fe,{sharedTags:et,transientTags:Qe})}},this.updateMetrics=Re=>{let{huddleStateSnapshot:Fe,clientMetricReport:Ge,screenshareRtcStats:et}=Re;const Qe=Ge?tn({clientMetricReport:Ge,selfAttendeeId:Ge.selfAttendeeId}):{},it=Ge?Mt(Ge.getRTCStatsReport()):{},Lt=yt(et),Pt={...Fe,...Qe,...Lt,...it,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags(),...this.getLongTaskTags()},rn=fn(Pt);this.currentTags={...Pt,...rn},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getLongTaskTags=()=>{var Re;return(Re=this.longTaskObserver)===null||Re===void 0?void 0:Re.getReportSinceLastCall()},this.getTimestampTags=()=>{const{huddleStartTimestamp:Re}=this.currentTags;return Re?{secondsSinceJoining:Math.floor((Date.now()-Re)/1e3)}:{}},this.getRtmMetricTags=()=>{const Re=this.rtmProcessingTimings.length;return this.rtmProcessingTimings=[],{rtmMessagesProcessed:Re}},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const Re=Date.now()-this.lastAppMetricsRecordingTs,Fe=Object(Ve.a)(this.renderTimings),Ge=this.renderTimings.length;return!Fe||!Re?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((Fe/Re*100).toFixed(1)),uiRenderCount:Ge})},this.cleanup=()=>{var Re,Fe;(Re=this.computePressureObserver)===null||Re===void 0||Re.unsubscribe(this.updateComputePressure),delete this.computePressureObserver,(Fe=this.longTaskObserver)===null||Fe===void 0||Fe.stop(),delete this.longTaskObserver},this.initSharedTags(),this.initComputePressureObserver(),(le=this.longTaskObserver)===null||le===void 0||le.start()}},"HuddlePerfStateInternal");const rs=zn;var Fs=zn,Es=e("+N8b"),cs=e("Pv5J"),ls=e("OCqp"),Os=e("Yzsk");const Cs="HUDDLES-PERF",Ls=5e3,$s=1e3;let ns=m(class{constructor({teamId:le,logger:Re,isTinySpeck:Fe,dispatch:Ge,useRtmScheduler:et}){this.logger=Object(a.b)({label:Cs}),this.callLogger=Object(Ae.c)(Cs),this.errorReported=!1,this.lastRecordedMetricsTs=0,this.reportCounts={skipped:0,recorded:0},this.useRtmScheduler=!1,this.reportUpdate=Qe=>{let{type:it,update:Lt}=Qe;it===E.c.AppMetrics?this.recordAppMetrics(Lt):this.huddlePerfState.updateState(it,Lt)},this.recordAppMetrics=Qe=>{Object(ls.a)("huddle-perf-metrics",()=>{var it;if(!this.shouldRecordAppMetrics({nextReportTimestamp:Qe==null||(it=Qe.clientMetricReport)===null||it===void 0?void 0:it.currentTimestampMs})){this.reportCounts.skipped+=1;return}this.logger.debug("Recording app metrics",this.reportCounts.recorded),this.huddlePerfState.updateMetrics(Qe);const Lt=this.huddlePerfState.getCurrentTags();this.runAnomalyDetectorOnNextTags(Lt),this.huddlePerfTrace.recordAppMetrics(Lt),this.updateRtmScheduler(Lt);try{this.huddlePerfObserver.processTags(Lt)}catch(Pt){this.errorReported||(this.callLogger.error("An error occurred while processing tags",Pt),this.errorReported=!0)}this.lastRecordedMetricsTs=Date.now(),this.reportCounts.recorded+=1},{delay:100})},this.shouldRecordAppMetrics=Qe=>{let{nextReportTimestamp:it}=Qe;if(!it)return!1;const Lt=Date.now(),Pt=Lt-this.lastRecordedMetricsTs;if(Pt<$s)return this.logger.debug(`Not enough time has passed since last report was recorded (${Pt}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1;const nn=Lt-it;return nn>Ls?(this.logger.debug(`Too much time has passed since the current report was made (${nn}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1):!0},this.runAnomalyDetectorOnNextTags=Qe=>{try{cs.a.run(te(Qe))}catch(it){this.callLogger.error("An error occurred while running the anomaly detector",it)}},this.updateRtmScheduler=Qe=>{if(!this.useRtmScheduler)return;const{cpuCompetitionScore:it}=Qe;Object(u.a)(it)&&Object(Os.d)({cpuCompetitionScore:it})},this.report=Qe=>{this.huddlePerfTrace.report(Qe),cs.a.cleanup(),Es.a.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup(),this.useRtmScheduler&&(Object(c.h)(!1),Object(Os.c)())},this.huddlePerfTrace=new L({teamId:le,logger:Re,callLogger:this.callLogger,isTinySpeck:Fe}),this.huddlePerfObserver=new Ee({logger:Re,callLogger:this.callLogger,dispatch:Ge}),this.huddlePerfState=new Fs,Es.a.subscribe(this.reportUpdate),this.useRtmScheduler=et,this.useRtmScheduler&&(Object(c.h)(this.useRtmScheduler),this.callLogger.info("RTM queues will be drained as background priority tasks by Huddle RTM scheduler"))}},"HuddlePerfManager");const Jn=ns;var Ds=ns,is=e("lhZz"),Ss=e("TGBA"),Xn=e("smhd"),Us=e("xwCZ"),Fn=e("9Gfp"),Ms=e("+CZ0"),x=e("O86Y"),ue=e("UIhb"),We=e("SIMs"),At=e("Awbm");const bn=m(De=>{let{teamId:le}=De;var Re,Fe;const Ge=Object(is.getStoreInstanceByTeamId)(le).getState(),et=Object(is.getClientStoreInstance)().getState(),Qe=Object(Ms.a)(et),it=Object(Ms.b)(et),Lt=Object(x.d)(Ge),Pt=Object(We.Y)(Ge,{huddleId:Qe}),rn=Object(We.W)(Ge,{huddleId:Qe}),nn=Object(Fn.a)(Ge),Sn=rn.timestamps.map(Nn=>it?Object(ue.b)(Ge,it,Nn):void 0).filter(Nn=>(Nn==null?void 0:Nn.user)===nn),jn=(Re=Sn[0])===null||Re===void 0?void 0:Re.ts,hn=(Fe=Sn.slice(-1)[0])===null||Fe===void 0?void 0:Fe.ts,un=Sn.length,An=Object(Us.g)(Ge,nn),mn=Object(At.a)(An);return{huddleId:Qe,channelId:it,enterpriseId:Lt,threadId:Pt,threadReplyCnt:un,threadFirstReplyTs:jn,threadLastReplyTs:hn,isGuest:mn}},"getHuddleEventsStateSnapshot"),vn="huddle_events",bt="huddle",T="vhq",N={topicName:bt,userAgent:navigator.userAgent,serviceName:T};let Q=m(class{get spansList(){var le;return Object(Ss.a)((le=this.trace)===null||le===void 0?void 0:le.getSpans())||[]}report(){var le;const Re=U({...this.sharedTags,...bn({teamId:this.teamId})});!this.traceReported&&this.trace&&(this.trace.addTags(Re),this.logger.info(`Reporting huddle_events trace: ${this.trace.getTraceId()} with ${this.spansList.length} spans`),this.tracer.reportTrace(this.trace),this.traceReported=!0,this.logger.debug("Reported huddle_events trace with tags",Re)),(le=this.tracer)===null||le===void 0||le.clearTrace(this.trace)}constructor({teamId:le,logger:Re}){this.sharedTags=N,this.traceReported=!1,this.getSpanByName=Fe=>this.spansList.find(Ge=>Fe===Ge.getOperationName()),this.getDataSet=()=>{if(!Object(t.b)())return"client_metrics"},this.addInitialSpans=()=>{this.update({name:Xn.a.JOIN,type:Xn.b.START,tags:{}}),this.update({name:Xn.a.MINIPLAYER_VIEW,type:Xn.b.START})},this.isSurfaceChange=Fe=>Fe===Xn.a.MINIPLAYER_VIEW||Fe===Xn.a.WINDOW_COMPACT_VIEW||Fe===Xn.a.WINDOW_FULL_VIEW,this.handleSurfaceChange=Fe=>{let{name:Ge,type:et}=Fe;et===Xn.b.START&&this.isSurfaceChange(Ge)&&this.spansList.filter(Qe=>this.isSurfaceChange(Qe.getOperationName())).forEach(Qe=>{Qe.getOperationName()!==Ge&&this.closeSpan(Qe)})},this.update=Fe=>{let{name:Ge,type:et,tags:Qe}=Fe;if(this.trace)if(et===Xn.b.START||et===Xn.b.ONCE){const it=this.trace.startSpan(Ge,{parentSpanId:this.joinSpanId});Qe&&it.addTags(Qe),Ge===Xn.a.JOIN&&(this.joinSpanId=it.getId()),this.isSurfaceChange(Ge)&&this.handleSurfaceChange({name:Ge,type:et}),this.logger.debug(`started new span for huddle_events trace: ${Ge}`),et===Xn.b.ONCE&&this.closeSpan(it)}else{const it=this.getSpanByName(Ge);this.closeSpan(it),this.logger.debug(`closed span for huddle_events trace: ${Ge}`)}},this.closeSpan=Fe=>{Fe&&(Fe.getCloseTimeMs()||Fe.close())},this.recordEntryPoint=Fe=>{Object.assign(this.sharedTags,{entryPoint:Fe})},this.tracer=Object(r.a)({teamOrEnterpriseId:le}),this.trace=this.tracer.createTrace({traceName:vn,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:d.g.SESSION}}),this.teamId=le,this.logger=Re,this.logger.info(`created huddle_events trace:${this.trace.getTraceId()}`),this.addInitialSpans()}},"HuddleEventsTracer");var w=e("sgFo");const Pe="HUDDLE-TRACE-MANAGER",Be=Object(a.b)({label:Pe});let _e=m(class{initializeTraces(le){let{teamId:Re,isTinySpeck:Fe,isDebugApp:Ge}=le;const et=Object(is.getStoreInstanceByTeamId)(Re),Qe=et.getState();this.teamId=Re,this.tracer=Object(r.a)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:o.h,samplingOptions:{sampleRate:Object(t.b)()||Fe?1:.05,sampleType:d.g.SESSION},tags:{__dataset:"client_metrics"}}),Ge||(this.reconnectTrace=new i({tracer:this.tracer,trace:this.trace,logger:Be}),this.ttiTrace=new l({teamId:this.teamId,logger:Be}),this.huddleEventsTrace=new Q({teamId:this.teamId,logger:Be})),this.huddlePerfTraceManager=new Ds({teamId:this.teamId,logger:Be,isTinySpeck:Fe,dispatch:et.dispatch,useRtmScheduler:Object(w.t)(Qe)}),this.noAudioInputTrace=new h({tracer:this.tracer,trace:this.trace,logger:Be})}setCallId(le){var Re;this.callId=le,(Re=this.trace)===null||Re===void 0||Re.addTags({callId:this.callId}),le&&Es.a.publish({type:E.c.CallId,update:{callId:le}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,noAudioInputTrace:this.noAudioInputTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager,huddleEventsTrace:this.huddleEventsTrace}}cleanup(){var le,Re,Fe,Ge,et,Qe,it;(le=this.reconnectTrace)===null||le===void 0||le.report(),(Re=this.noAudioInputTrace)===null||Re===void 0||Re.report(),(Fe=this.ttiTrace)===null||Fe===void 0||Fe.report(),(Ge=this.huddlePerfTraceManager)===null||Ge===void 0||Ge.report(!0),(et=this.huddleEventsTrace)===null||et===void 0||et.report(),(Qe=this.tracer)===null||Qe===void 0||Qe.reportTrace(this.trace),(it=this.tracer)===null||it===void 0||it.clearTrace(this.trace),Be.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.noAudioInputTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,delete this.huddleEventsTrace,this.callId=null}constructor(){Be.info("Huddle Trace Manager created")}},"HuddleTraceManager");const Ze=Object(n.a)(()=>new _e);var qe=s.a=Ze},EQgQ:function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"b",function(){return i}),e.d(s,"c",function(){return l});var n=e("owWc"),t=e("S4vl");const a=window.AudioContext||window.webkitAudioContext,r=window.AnalyserNode,d=6;function o(u){let c=1;for(;c*2<u;)c*=2;return c}m(o,"getPowerof2LessThan");function i(u){let E=.01;for(const g of u)E=Math.max(E,(g-128)/128);const v=(Math.log(.01)-Math.log(E))/Math.log(.01);return Math.min(Math.max(v,0),1)}m(i,"computeStrength");function h(u){return Object(n.a)(u,(c,E)=>{const v=E.getSettings().sampleRate;return v!==void 0&&c!==void 0?Math.max(c,v):v},void 0)}m(h,"getMaxTrackSampleRate");let l=m(class{getLevel(){var c;return(c=this.analyserNode)===null||c===void 0||c.getByteTimeDomainData(this.data),i(this.data)/d}stop(){var c;if(this.analyserNode){var E;(E=this.audioNode)===null||E===void 0||E.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(c=this.audioCtx)===null||c===void 0||c.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(c,E){Object(t.b)(E>=0,"Level poll interval must be positive"),this.audioCtx=new a;const v=c.getAudioTracks();Object(t.b)(!!v.length,"Need audio tracks to run analyser");const O=(h(v)||48e3)*E/1e3,I=Math.max(32,Math.min(32768,o(O)));this.data=new Uint8Array(I),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=I,this.audioNode=this.audioCtx.createMediaStreamSource(c),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},EbWb:function(K,s,e){"use strict";var n=e("Kyco"),t=e("mkcb"),a=e("2VFn");const r={[a.c]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},d=Object(n.b)({},r,{storeKey:"window",persistenceEnabled:!1}).on(t.c,(o,i)=>{let{windowId:h=a.c,...l}=i;if(!o[h])return o;const u={[a.c]:{...o[a.c]}};return u[h]={...o[h],...l},Reflect.ownKeys(o).forEach(c=>{c!==h&&l.isFocused&&(u[c]={...o[c],isFocused:!1})}),{...o,...u}}).on(t.e,(o,i)=>{let{windowId:h=a.c,...l}=i;return o[h]?{...o,[h]:{...o[h],isUnloading:l.isUnloading}}:o}).on(t.f,(o,i)=>{let{windowId:h=a.c,...l}=i;return{...o,[h]:{...o[h],...l,windowId:h}}}).on(t.d,(o,i)=>{let{windowId:h=a.c,...l}=i;return o[h]?{...o,[h]:{...o[h],bootType:l.bootType}}:o}).on(t.a,(o,i)=>{let{windowId:h}=i;if(h===a.c||!o[h])return o;const l={...o};return delete l[h],l}).on(t.b,(o,i)=>{let{windowId:h,viewport:l}=i;return o[h]?{...o,[h]:{...o[h],viewport:l}}:o});s.a=d},Efzj:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("i7LB"),d=e("gz6s"),o=e("FRd1"),i=e("ktUG"),h=e("sBXg"),l=e("7nuq");function u(){return u=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(v[I]=O[I])}return v},u.apply(this,arguments)}m(u,"_extends");const c={onClick:{action:i.UiAction.CLICK}},E=t.a.forwardRef(m(function(g,O){let{autoClogProps:I,className:C,href:f,invert:S=!1,children:D,hasKeyboardFocus:p=!1,...b}=g;const M=Object(a.default)("c-link",{"c-link--focus-visible":p,"c-link--invert":S},C),_=b.target==="_blank"||(f==null?void 0:f.startsWith("mailto:")),P=t.a.createElement("a",u({},Object(r.a)(b),{className:M,href:f,ref:O}),D,_&&t.a.createElement(h.a,null));return I?t.a.createElement(o.a,{autoClogProps:I,actionProps:c,elementType:i.ElementType.LINK},P):P},"BaseLink"));E.displayName="BaseLink",s.a=Object(d.a)(E)},Eh7F:function(K,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t}),e.d(s,"c",function(){return a});var n;(function(r){r.BROADCAST="broadcast",r.QUERY="query",r.CLOSE="close"})(n||(n={}));var t;(function(r){r.CONTENTVIEW="contentView",r.STICKYEMOJI="stickyEmoji",r.ACTIVE_CELL="activeCell",r.HUDDLE_ACTIVE_SONG="huddleActiveSong",r.STEPS="steps"})(t||(t={}));const a=60*1e3},Eoji:function(K,s,e){"use strict";e.d(s,"a",function(){return C});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("7EGn"),d=e("ifKl"),o=e("WIr4"),i=e("jWAO"),h=e("gZuW"),l=e("A7BO"),u=e("9ADk"),c=e("/DoU"),E=e("MYuU"),v=e("FRd1"),g=e("ktUG");function O(){return O=Object.assign||function(f){for(var S=1;S<arguments.length;S++){var D=arguments[S];for(var p in D)Object.prototype.hasOwnProperty.call(D,p)&&(f[p]=D[p])}return f},O.apply(this,arguments)}m(O,"_extends");const I={onChange:{action:g.UiAction.ENTER_TEXT}};let C=m(class extends n.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var S;(S=this.input.current)===null||S===void 0||S.focus()}}componentDidUpdate(S,D){if((this.props.value!==S.value||this.state.isFocused!==D.isFocused)&&this.getTextStyle(),this.props.value!==S.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.props.focusOnMount&&S.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var p;(p=this.input.current)===null||p===void 0||p.focus()}}onBlur(){const{onBlur:S}=this.props;this.setFocus(!1),S&&S()}onFocus(){const{onFocus:S}=this.props;this.setFocus(!0),S&&S()}getTextStyle(){var S;const{maxCharacterLimit:D}=this.props;if(!D){this.setTextStyle({});return}const b={paddingRight:(S=this.characterCount)===null||S===void 0?void 0:S.getCharacterCountWidth()};this.setTextStyle(b)}setCharacterCountRef(S){this.characterCount=S}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}setFocus(S){this.setState(()=>({isFocused:S}))}setInputRef(S){this.input=S}setTextStyle(S){this.setState(()=>({textStyle:S}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}getIsInputLengthTooShort(){const{isRequired:S,minCharacterLimit:D,value:p}=this.props,{everReceivedUserInput:b}=this.state;return!b||D==null||!S&&p.length===0?!1:p.length<D}getIsInputLengthTooLong(){const{maxCharacterLimit:S,value:D}=this.props;return S==null?!1:D.length>S}renderDeprecatedErrorMaybe(){const{showError:S,errorLevel:D,errorText:p,errorType:b,isRequired:M,maxCharacterLimit:_,minCharacterLimit:P,value:y}=this.props;return S?p?t.a.createElement(i.d,{id:this.state.errorId,level:D,type:b,className:"margin_bottom_100"},p):!M&&y.length===0?null:this.getIsInputLengthTooLong()?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:b,className:"margin_bottom_100"},Object(E.b)(_)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:b,className:"margin_bottom_100"},Object(E.c)(P)):null:null}renderErrorMaybe(){const{showError:S,errorText:D,isRequired:p,maxCharacterLimit:b,minCharacterLimit:M,value:_}=this.props;return S?D?t.a.createElement(h.a,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},D):!p&&_.length===0?null:this.getIsInputLengthTooLong()?t.a.createElement(h.a,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},Object(E.b)(b)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.a.createElement(h.a,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},Object(E.c)(M)):null:null}renderHintMaybe(){const{hintText:S}=this.props;return S?t.a.createElement(u.a,{id:this.state.hintId},S):null}renderTextArea(){const{className:S,showError:D,errorId:p,errorLevel:b,errorText:M,errorType:_,hintId:P,hintText:y,useInlineAlert:j,id:U,isRequired:W,isInvalid:L,labelId:R,name:A,onChange:B,onFocus:F,onBlur:k,maxCharacterLimit:V,minCharacterLimit:X,focusOnMount:J,autoClogProps:Y,ariaDescribedById:ie,inputRef:de,...pe}=this.props,{textStyle:oe}=this.state,me=!!M||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||L,re=Object(a.default)({[`c-input_textarea--with_${b}`]:me,"c-input_textarea--with_hint":y,"c-input_textarea--with_character_count":!!V,"c-input_text--with_inline_alert":j},S),ve=Object(E.e)([R,me?this.state.errorId:void 0]),q=Object(E.e)([ie,this.state.hintId,this.characterCounterId]),ce=t.a.createElement(l.b,O({},pe,{ref:this.setInputRef,style:oe,ariaDescribedby:q,isInvalid:me,ariaLabelledby:ve,ariaRequired:W,className:re,id:U,"data-qa":pe["data-qa"]||U,name:A,onChange:B,onFocus:this.onFocus,onBlur:this.onBlur}));return Y?t.a.createElement(v.a,{autoClogProps:Y,actionProps:I,elementType:g.ElementType.TEXTAREA},ce):ce}renderWrappedTextareaMaybe(){const{value:S,maxCharacterLimit:D,size:p,isDisabled:b}=this.props;let M=this.renderTextArea();return D&&(M=t.a.createElement(c.a,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:S==null?void 0:S.length,isDisabled:b,maxCharacterLimit:D,type:"multiline",size:p},M)),M}render(){const S=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.a.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),S,this.renderHintMaybe())}constructor(S){super(S);const{id:D}=this.props;Object(o.a)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:Object(r.a)(this.props,"errorId",Object(E.a)(D,"error")),hintId:Object(r.a)(this.props,"hintId",Object(E.a)(D,"hint")),isFocused:!1,everReceivedUserInput:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=Object(E.a)(D,"character-count")),this.input=t.a.createRef()}},"FormTextareaInput");C.displayName="FormTextareaInput",C.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:i.b.error,errorText:null,errorType:i.c.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:d.a,onFocus:d.a,onBlur:d.a,placeholder:void 0,size:l.a.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},ErGN:function(K,s,e){"use strict";e.d(s,"a",function(){return E}),e.d(s,"b",function(){return v}),e.d(s,"c",function(){return C});var n=e("vJtL"),t=e("G4qV"),a=e("nNoG"),r=e("JvzI"),d=e("RVJP"),o=e("WD3d"),i=e("bJNA"),h=e("2m2s"),l=e("X/Mv"),u=e("LK2A");const c=new a.b("quip_shortcut_handlers");var E;(function(f){f[f.OBJECT=0]="OBJECT",f[f.LAYOUT=1]="LAYOUT",f[f.FORMATTING=2]="FORMATTING"})(E||(E={}));const v=Object(t.a)(f=>f,()=>Object(r.a)(),f=>{const S=Object(d.d)(f,"canvas_shortcut_command")==="on",D=Object(d.d)(f,"canvas_insert_command_nux")==="on";return{[E.OBJECT]:S?c.t("Objects"):"",[E.LAYOUT]:D?c.t("Layout"):"",[E.FORMATTING]:D?c.t("Formatting"):""}}),g=m(f=>{const S=Object(d.d)(f,"canvas_shortcut_command")==="on",D=Object(d.d)(f,"canvas_insert_workflow_menu")==="on",p=Object(d.d)(f,"canvas_insert_command_nux")==="on",b=v(f),M=b[E.OBJECT],_=b[E.LAYOUT],P=b[E.FORMATTING];return[{id:u.SlackShortcutCommandType.FILE,name:()=>Object(o.a)(i.a.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:E.OBJECT,aliases:[M]},{id:u.SlackShortcutCommandType.CANVAS,name:()=>Object(o.a)(i.a.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:Object(l.a)(i.a.CANVAS).name,category:E.OBJECT,aliases:[M]},{id:u.SlackShortcutCommandType.IMAGE,name:()=>Object(o.a)(i.a.IMAGE),canonicalName:"/image",autocomplete:!0,icon:Object(l.a)(i.a.IMAGE).name,category:E.OBJECT,aliases:[M]},{id:u.SlackShortcutCommandType.TABLE,name:()=>Object(o.a)(i.a.TABLE),canonicalName:"/table",autocomplete:!0,icon:Object(l.a)(i.a.TABLE).name,category:E.OBJECT,aliases:S?[c.t("grid"),c.t("spreadsheet"),M]:[]},{id:u.SlackShortcutCommandType.DIVIDER,name:()=>Object(o.a)(i.a.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:Object(l.a)(i.a.DIVIDER).name,category:E.OBJECT,aliases:S?[c.t("horizontal line"),M]:[]},{id:u.SlackShortcutCommandType.AUDIO,name:()=>Object(o.a)(i.a.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:Object(l.a)(i.a.AUDIO_CLIP).name,category:E.OBJECT,aliases:[M]},{id:u.SlackShortcutCommandType.VIDEO,name:()=>Object(o.a)(i.a.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:Object(l.a)(i.a.VIDEO_CLIP).name,category:E.OBJECT,aliases:[M]},...D?[{id:u.SlackShortcutCommandType.WORKFLOW,name:()=>Object(o.a)(i.a.WORKFLOW,{experimentCanvasInsertWorkflowMenuGroupOn:D}),canonicalName:"/workflow",autocomplete:!0,icon:Object(l.a)(i.a.WORKFLOW).name,category:E.OBJECT,aliases:[M]}]:[],{id:u.SlackShortcutCommandType.TWO_COLUMNS,name:()=>p?c.t("Two columns"):"",canonicalName:"/twocolumns",autocomplete:!0,icon:"column-two",category:E.LAYOUT,aliases:[_]},{id:u.SlackShortcutCommandType.THREE_COLUMNS,name:()=>p?c.t("Three columns"):"",canonicalName:"/threecolumns",autocomplete:!0,icon:"column-three",category:E.LAYOUT,aliases:[_]},{id:u.SlackShortcutCommandType.PLAIN,name:()=>Object(o.a)(i.a.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:Object(l.a)(i.a.PARAGRAPH).name,category:E.FORMATTING,aliases:S?[c.t("plain"),P]:[]},{id:u.SlackShortcutCommandType.H1,name:()=>Object(o.a)(i.a.H1),canonicalName:"/largeheading",autocomplete:!0,icon:Object(l.a)(i.a.H1).name,category:E.FORMATTING,aliases:["h1",P]},{id:u.SlackShortcutCommandType.H2,name:()=>Object(o.a)(i.a.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:Object(l.a)(i.a.H2).name,category:E.FORMATTING,aliases:["h2",P]},{id:u.SlackShortcutCommandType.H3,name:()=>Object(o.a)(i.a.H3),canonicalName:"/smallheading",autocomplete:!0,icon:Object(l.a)(i.a.H3).name,category:E.FORMATTING,aliases:["h3",P]},{id:u.SlackShortcutCommandType.CHECKLIST,name:()=>Object(o.a)(i.a.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:Object(l.a)(i.a.CHECK_LIST).name,category:E.FORMATTING,aliases:[P]},{id:u.SlackShortcutCommandType.ORDERED_LIST,name:()=>Object(o.a)(i.a.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:Object(l.a)(i.a.ORDERED_LIST).name,category:E.FORMATTING,aliases:[P]},{id:u.SlackShortcutCommandType.BULLET_LIST,name:()=>Object(o.a)(i.a.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:Object(l.a)(i.a.BULLET_LIST).name,category:E.FORMATTING,aliases:[P]},{id:u.SlackShortcutCommandType.BLOCKQUOTE,name:()=>Object(o.a)(i.a.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:Object(l.a)(i.a.BLOCKQUOTE).name,category:E.FORMATTING,aliases:[P]},{id:u.SlackShortcutCommandType.CODE,name:()=>Object(o.a)(h.a.CODE,{experimentCanvasShortcutCommandGroupOn:S}),canonicalName:"/code",autocomplete:!0,icon:Object(l.a)(h.a.CODE).name,category:E.FORMATTING,aliases:[P]},{id:u.SlackShortcutCommandType.CODEBLOCK,name:()=>Object(o.a)(i.a.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:Object(l.a)(i.a.CODE_BLOCK).name,category:E.FORMATTING,aliases:[P]}]},"getCommands");function O(f,S){return Object(n.a)(S)?S(f):S}m(O,"maybePassState");function I(f,S){return{...S,autocomplete:O(f,S.autocomplete),name:O(f,S.name),type:"client"}}m(I,"formatShortcut");const C=Object(t.a)(f=>f,()=>Object(r.a)(),f=>g(f).map(D=>I(f,D)))},Erbp:function(K,s,e){"use strict";e.d(s,"b",function(){return a});var n=e("Lgge");let t;const a=m(r=>{t=r},"setWaitForStartStop");s.a=()=>t?t():n.a.resolve()},EzMJ:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});const n=m(r=>(r||"").split(/\s+/)[0],"getFirstWord"),t=m(r=>["/","\uFF0F"].includes((r||"").charAt(0))?r:`/${r}`,"prependSlashToStr"),a=m(r=>((r||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace")},"F0b/":function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("d/xU");function t(){return`https://${Object(n.n)()}`}m(t,"getSlackRootUrl")},FFTZ:function(K,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("ANjH"),t=e("ykb+"),a=e("QOYf"),r=e("M9qL");const d=m(u=>{switch(u.type){case r.a.getType():return{...u,payload:"Channel bulk add payload is too big to output to redux devtools"};default:return u}},"actionSanitizer"),o=Object(a.a)()?void 0:()=>({apologies:"Serializing our large state kept crashing redux devtools. I hope to bring it back someday, but for now you can see the state by using `TS.redux.getState()` in the console"});var h={autoPause:!0,actionSanitizer:d,stateSanitizer:o,maxAge:1e3,features:{pause:!0}};function l(u){let{teamOrEnterpriseId:c,appName:E="",customEnhancers:v,middlewares:g,disableDevTools:O}=u;return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!O&&(Object(t.b)()||Object(t.c)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({...h,name:["Slack",c,E].filter(f=>f&&f.length>0).join("-")}):n.d)(Object(n.a)(...g??[]),...v??[])}m(l,"configureEnhancers")},FN5i:function(K,s,e){"use strict"},FSos:function(K,s,e){"use strict";e.d(s,"d",function(){return O}),e.d(s,"a",function(){return I}),e.d(s,"c",function(){return C}),e.d(s,"b",function(){return f});var n=e("n3tL"),t=e("UXvI"),a=e("SQ0V"),r=e("PqaZ"),d=e("s4P+"),o=e("O86Y"),i=e("Z7Ay"),h=e("6TBL"),l=e("n0Pp");const u="PRESENCE-MANAGER",c={},E=m((p,b)=>{const M=Object(o.g)(b()),_=Object.keys(c[M]),P={type:"presence_sub",ids:_},y=Object(d.a)({getState:b});y.debug(u,`Sending a 'presence_sub' event with the following ids: ${_}`),p(Object(r.h)(P)).catch(j=>{j&&j.message===h.c||y.error(`Received an error while trying to send 'presence_sub' with the following ids: ${_}, error = ${j}`)})},"sendMessageEvent");let v;function g(){return v||(v=Object(t.a)(E,100,{leading:!1})),v}m(g,"getThrottledSendMessageEvent");const O=Object(a.c)("Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for",(p,b)=>{if(!Object(l.f)(b())){Object(d.a)({getState:b}).debug(u,"The presence subscription changed while the WebSocket disconnected; will send the updated subscription once we are connected");return}g()(p,b)});O.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:"Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for"};const I=Object(a.c)("Adds the member to the presence subscription or increments the associated count",function(p,b){let{memberId:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!M||M==="USLACKBOT")return;const _=Object(o.g)(b());if(c[_]||(c[_]={}),c[_][M]){Object(d.a)({getState:b}).debug(u,`Increasing the count for ${M} by 1`),c[_][M]+=1;return}Object(d.a)({getState:b}).debug(u,`Adding ${M} to the presence subscription`),c[_][M]=1,p(O())});I.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"},I.propTypes={memberId:n.default.string.isRequired};const C=Object(a.c)("Removes the member from the presence subscription or decrements the associated count",function(p,b){let{memberId:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!M)return;const _=Object(o.g)(b());if(!(!c[_]||!c[_][M])){if(c[_][M]>1){Object(d.a)({getState:b}).debug(u,`Decreasing the count for ${M} by 1`),c[_][M]-=1;return}Object(d.a)({getState:b}).debug(u,`Removing ${M} from the presence subscription`),delete c[_][M],p(O())}});C.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"},C.propTypes={memberId:n.default.string.isRequired};const f=m(p=>c[p],"getPresenceSubscriptionByTeamId"),S=m(p=>{delete c[p]},"deletePresenceSubscriptionByTeamId"),D={sendMessageEvent:E};Object(i.a)("presenceManager",{getPresenceSubscriptionByTeamId:f})},FZZA:function(K,s,e){"use strict";e.d(s,"c",function(){return o}),e.d(s,"b",function(){return i});var n=e("SQ0V"),t=e("lhZz"),a=e("oBB2"),r=e("+CZ0");const d=Object(n.c)("End huddle for channelId if any",(h,l,u)=>{const c=Object(t.getStateForClientStore)(),E=Object(r.b)(c);E&&E===u&&h(Object(a.a)())});d.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const o=Object(n.c)("End last active huddle for channelId if any",(h,l,u)=>{var c;const E=Object(t.getStateForClientStore)(),v=(c=Object(r.p)(E))===null||c===void 0?void 0:c.channelId;v&&v===u&&h(Object(a.a)())});o.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const i=Object(n.c)("End huddle for call Id and channelId if any",(h,l,u)=>{let{channelId:c,callId:E}=u;const v=Object(t.getStateForClientStore)(),{channelId:g,callId:O}=Object(r.p)(v)||{};g&&g===c&&O===E&&h(Object(a.a)())});i.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"},s.a=d},Fbvv:function(K,s,e){"use strict";e.d(s,"a",function(){return n});const n=m(()=>null,"noopNull")},FcR8:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("2VFn"),a=e("CnKg"),r=e("+9Uj"),d=e("E3dU"),o=e("5pIt"),i=e("BkpQ"),h=e("Qmy9"),l=e("59uo"),u=e("7Bj1"),c=e("Ki3U"),E=e("wXOV"),v=e("ohbk"),g=e("akkM"),O=e("q1tI"),I=e.n(O),C=e("npde"),f=e("nNoG"),S=e("KkHf"),D=e("qiCS"),p=e("Fvov");const b=new f.b("slack_docs");function M(H){let{closeModal:Oe}=H;const $=Object(O.useCallback)(()=>{let z=window.location.href;z=Object(D.d)(window.location.href,"force_cold_boot",1),Object(p.c)().finally(()=>{window.location.href=z})},[]);return I.a.createElement(S.a,{title:b.t("Can\u2019t open this canvas right now"),onClose:Oe,onCancel:Oe,onSubmit:$,submitButtonText:b.t("Reload")},b.t("This could be because you need to update to the latest version, or you don\u2019t have permission to open this canvas. Try refreshing Slack. If that doesn\u2019t work, ask an owner or admin for help."))}m(M,"QuipUpdateModal"),M.displayName="QuipUpdateModal";var _=Object(C.a)(M),P=e("FVdo"),y=e("6dQg"),j=e("37+L"),U=e("I0j/"),W=e("i9jZ"),L=e("RV0M"),R=e("v7mh"),A=e("PIf0"),B=e("6inW"),F=e("xY6W"),k=e("A+YV"),V=e("rZ8V"),X=e("i5Ig"),J=e("ETR2"),Y=e("GoiD"),ie=e("D4ee"),de=e("4KfL"),pe=e("dmdh"),oe=e("P9LH"),me=e("z28c"),re=e("Qyw2"),ve=e("Ekwm"),q=e("RVJP");const ce=Object(n.c)("Opens the doc in a new window",(H,Oe,$)=>{let{id:z,commentThreadId:be,shouldOpenCommentStream:Z,shouldOpenActivityHistory:G,lastReadTs:ne}=$,ge;be&&(ge=Object(j.R)({entityId:z,commentThreadId:be})),G&&(ge=Object(j.P)(z)),Z&&(ge=Object(j.Q)(z));const ae={[t.h.Primary]:Object(j.h)({id:z,lastReadTs:ne}),[t.h.Secondary]:ge};return H(Object(u.a)({viewSet:ae,viewType:P.a.Doc,shouldShowSearch:!1}))});ce.meta={name:"createThunk",key:"createThunkopenDocInNewWindow",description:"Opens the doc in a new window"};const he=Object(n.c)("Open a Slack doc in IA4",(H,Oe,$,z)=>{let{id:be,commentThreadId:Z,clogParams:G,versionId:ne,sequence:ge,isFromQuipActivityHistory:ae,shouldOpenActivityHistory:fe,shouldOpenCommentStream:Te,lastReadTs:ye,forceNewWindow:Ue}=$;const{container:Ne}=z(L.a),He=Ne===t.h.Sidebar&&!Ue,ze=Z?{scrollBehavior:"scroll_to_section"}:X.b;return He?H(Z?Object(U.a)(Object(j.R)({entityId:be,commentThreadId:Z})):Object(U.a)(Object(j.h)({id:be,versionId:ne,sequence:ge,preserveExistingSecondaryView:ae||!!Z,clogParams:G,lastReadTs:ye,...ze}))):Object(W.b)()?(H(Object(J.a)(G)),H(ce({id:be,commentThreadId:Z,shouldOpenCommentStream:Te,shouldOpenActivityHistory:fe,lastReadTs:ye}))):H(Object(U.a)(Object(j.h)({id:be,versionId:ne,sequence:ge,preserveExistingSecondaryView:ae||!!Z,clogParams:G,lastReadTs:ye,...ze})))});he.meta={name:"createThunk",key:"createThunkopenDocIA4",description:"Open a Slack doc in IA4"};const Se=Object(n.c)("Open a Slack doc",(H,Oe,$,z)=>{let{fileId:be,inTile:Z,tileKey:G,forceNewWindow:ne,origin:ge,source:ae,sectionId:fe,commentThreadId:Te,resetScroll:ye=!0,replaceHistoryState:Ue=!1,inFlexpane:Ne,isFromQuipActivityHistory:He,quipSyntheticViewSort:ze,quipSyntheticViewFilter:Je,versionId:Xe,sequence:Me,openedFromId:Ke,shouldOpenActivityHistory:$e,shouldOpenCommentStream:ct,lastReadTs:Tt}=$;var Et;const Le=Oe(),jt=Object(pe.e)(Le,be,!1);if(jt&&Object(oe.t)(jt)){H(Object(re.a)({file:jt}));return}if(!Object(me.a)(Le)){H(_());return}const Dt=Object(de.b)(Le,be),Ee=Dt?Xe:void 0,te=Dt?Me:void 0,{fileId:Ae,focusSection:Ve,openVersion:Ye}=z(r.a),{windowId:ft}=z(A.a),tt=Object(R.e)(Le,{windowId:ft||""}),{isChildWindow:Rt}=z(L.a),rt=Object(q.d)(Le,"show_badge_standalone")==="on",we=Object(q.d)(Le,"canvas_badging_highlighting")==="on";let xe;if(we&&(rt?xe=jt==null?void 0:jt.last_read:xe=Object(ve.b)(Le,be||"").lastReadByUser),be===Ae||be===Object(a.i)((tt==null||(Et=tt.primary)===null||Et===void 0?void 0:Et.id)||"").fileIdOrQuipThreadId){if(fe&&Ve){Ve(fe);return}if(Te&&H(Object(Y.a)({fileId:be,quipCommentThreadId:Te})),He&&Ye){Dt&&Ye(Ee,te);return}}const ke=Object(a.h)({id:be,sectionId:fe,commentThreadId:Te,versionId:Ee,sequence:te}),lt={fileId:be,forceNewWindow:ne,source:ae,quipSyntheticViewSort:ze,quipSyntheticViewFilter:Je,isChannelCanvas:!1},at=Object(y.a)(be)?Object(d.f)(Le,be):Object(o.c)(Le,be);if(at&&!He&&!Ee&&!te){const Nt=fe||Te;return we||(xe=Object(ve.b)(Le,be||"").lastReadByUser),H(Object(c.a)({channelId:at,commentThreadId:Te,forceNewWindow:ne||Z,focusSectionId:Nt,source:ae,shouldOpenActivityHistory:Dt&&$e,shouldOpenCommentStream:ct,quipSyntheticViewSort:ze,quipSyntheticViewFilter:Je,lastReadTs:Tt||xe}))}const ht=Object(l.j)(Le);if(Object(V.m)(Le)||H(Object(J.a)(lt)),ye){const Jt=Object(E.a)(Le,be,!1);Jt&&Object(g.d)(Jt)}if(Object(B.b)(ft))if(ne)H(Object(F.a)());else return H(Object(k.a)({fileId:be}));if(Rt&&!ne){const Nt=Te?{scrollBehavior:"scroll_to_section"}:X.b;return H(Object(U.a)(Object(j.h)({id:ke,versionId:Ee,sequence:te,preserveExistingSecondaryView:He||!!Te,clogParams:lt,lastReadTs:Tt||xe,...Nt})))}if(Object(V.m)(Le))return H(he({id:ke,commentThreadId:Te,clogParams:lt,versionId:Ee,sequence:te,isFromQuipActivityHistory:He,shouldOpenActivityHistory:Dt&&$e,shouldOpenCommentStream:ct,lastReadTs:Tt||xe,forceNewWindow:ne}));if(Object(W.b)())return Object(V.m)(Le)&&H(Object(J.a)(lt)),H(ce({id:ke,shouldOpenActivityHistory:Dt&&$e,shouldOpenCommentStream:ct,commentThreadId:Te}));if(Z){if(Object(W.a)(Le)){const Nt={[t.h.Primary]:Object(j.h)({id:ke})};return H(Object(u.a)({viewSet:Nt,viewType:P.a.Doc}))}return H(G?Object(h.a)({key:G,tile:{view:ke}}):Object(i.a)({tile:{view:ke},origin:ge}))}return Ne?H(Object(ie.a)({quipDocId:ke,source:ae})):ht&&Te?H(Object(Y.a)({fileId:be,quipCommentThreadId:Te,replaceHistoryState:!0,openInPrimaryTile:!0})):H(Object(v.a)({id:ke,replaceHistoryState:Ue,routeParams:{canvasOpenedFromId:Ke}})).then(()=>{if(Te)return Object(g.c)(Te),H(Object(Y.a)({fileId:be,quipCommentThreadId:Te,replaceHistoryState:!0}))})});Se.meta={name:"createThunk",key:"createThunkopenDoc",description:"Open a Slack doc"};var se=s.a=Se},FeOl:function(K,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return h});var n=e("bTOH");const t=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],a=new RegExp(`[${t}]`),r=new RegExp(`<(${n.c})>`,"i"),d=new RegExp(`\\((${n.c})\\)`,"i"),o=/(?=\s+[@\uFF20])/g;function i(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=[];return u.entities&&u.entities.members&&u.entities.members.matchEmailField&&(r.test(l)||d.test(l))?c=l.match(new RegExp(n.b.CONTAINS_EMAIL,"gi")):a.test(l)?c=l.split(a):u.fromMetadata?c=l.split(/\s+/):u.entities&&u.entities.members&&o.test(l)&&(c=l.split(o)),(!c||!c.length)&&(c=l.split(/\s+/)),c.map(E=>E.trim()).filter(E=>Boolean(E))}m(i,"defaultSplitQuery");function h(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l;return u.entities&&u.entities.members&&u.entities.members.matchEmailField&&n.b.CONTAINS_EMAIL.test(l)&&(c=l.match(n.b.CONTAINS_EMAIL)[0]),c}m(h,"parseQueryForSearch")},Fk5v:function(K,s,e){"use strict";var n=e("NZ+B"),t=e("mx2s"),a=e("Kyco"),r=e("E4z0"),d=e("7lBi"),o=e("j77i");const i={persistenceEnabled:!1,storeKey:"viewLayout"},h={sidebarWidthIntent:void 0,sidebarWidthMode:d.e.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:d.e.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:d.e.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:d.e.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isWorkspaceSwitcherVisible:!1};try{h.sidebarWidthIntent=Object(o.f)(t.i)||void 0,h.sidebarWideWidthIntent=Object(o.f)(t.g)||void 0,h.sidebarExtraWideWidthIntent=Object(o.f)(t.d)||void 0,h.secondaryWidthIntent=Object(o.f)(t.b)||void 0,h.sidebarWidthMode=Object(o.f)(t.j)||d.e.AUTO,h.sidebarWideWidthMode=Object(o.f)(t.h)||d.e.AUTO,h.sidebarExtraWideWidthMode=Object(o.f)(t.e)||d.e.AUTO,h.secondaryWidthMode=Object(o.f)(t.c)||d.e.AUTO;const u=Object(o.f)(t.f);h.isSidebarVisible=Object(n.a)(u)?u:!0;const c=Object(o.f)(t.l);h.isWorkspaceSwitcherVisible=Object(n.a)(c)?c:!1}catch{}const l=Object(a.b)({},h,i).on(r.e,(u,c)=>{let{sidebarWidthIntent:E,sidebarWidthMode:v}=c;return{...u,sidebarWidthIntent:E,sidebarWidthMode:v}}).on(r.g,(u,c)=>{let{sidebarWideWidthIntent:E,sidebarWideWidthMode:v}=c;return{...u,sidebarWideWidthIntent:E,sidebarWideWidthMode:v}}).on(r.f,(u,c)=>{let{sidebarExtraWideWidthIntent:E,sidebarExtraWideWidthMode:v}=c;return{...u,sidebarExtraWideWidthIntent:E,sidebarExtraWideWidthMode:v}}).on(r.d,(u,c)=>{let{secondaryWidthIntent:E,secondaryWidthMode:v}=c;return{...u,secondaryWidthIntent:E,secondaryWidthMode:v}}).on(r.a,(u,c)=>({...u,isSidebarVisible:c})).on(r.b,(u,c)=>({...u,isSidebarVisibleWhenFloating:c})).on(r.c,(u,c)=>({...u,isWorkspaceSwitcherVisible:c}));s.a=l},FlEr:function(K,s,e){"use strict";var n=e("ZKjC"),t=e("xwCZ");const a=Object(n.b)((r,d)=>Object(t.g)(r,d).profile.statusEmojiDisplayInfo||void 0);a.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusEmojiDisplayInfo",description:(r,d)=>Object(t.g)(r,d).profile.statusEmojiDisplayInfo||void 0},s.a=a},"G/rR":function(K,s,e){K.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},G0Vk:function(K,s,e){K.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},G2FQ:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("kzMN");function t(a){return Object(n.a)(a)?a.replace(/^BK/,""):""}m(t,"getBroadcastKeyword")},G4FP:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("4HNC"),d=e("E3dU"),o=e("sGXp"),i=e("4unc"),h=e("Iy3M"),l=e("fMsH");function u(){return u=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&(O[f]=C[f])}return O},u.apply(this,arguments)}m(u,"_extends");function c(O,I,C){if(O)return I||C?o.d.highlightDim:o.d.highlightDark;if(I||C)return o.d.dim}m(c,"getBaseStyle");function E(O){let{className:I,secondaryContent:C,isActive:f=!1,isDeactivated:S=!1,isDisabled:D=!1,showUnreadBadge:p=!1,badgeCount:b=0,onlyBoldIfUnread:M=!1,..._}=O,P=C;p&&(P=t.a.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},C,t.a.createElement(i.b,{count:b,className:"c-channel_entity__mentions",style:f?"white":"red"})));const y=c(f,D,S);return t.a.createElement(r.a,{className:I,primaryContent:t.a.createElement(h.a,u({invert:y===o.d.highlightDark,onlyBoldIfUnread:M},_)),secondaryContent:P,size:"small",style:y})}m(E,"SmallChannelListEntity"),E.displayName="SmallChannelListEntity";function v(O){return Object.prototype.hasOwnProperty.call(O,"channel")}m(v,"propsContainsChannel");function g(O,I){const C=v(I)?I.channel:Object(d.d)(O,I.channelId),f=I.showUnreadBadge?I.badgeCount||Object(d.c)(O,C):0;return{channel:C,badgeCount:f}}m(g,"mapStateToProps"),s.a=Object(a.a)(g)(E)},GCXW:function(K,s,e){K.exports=e.p+"slackbot_fancy_32-176771b.png"},"GFD/":function(K,s,e){"use strict";e.d(s,"b",function(){return h});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),r=e("BHdc");const d="_isSlackMenuSeparator";function o(l){let{className:u,onMouseEnter:c=a.a,noPadding:E,noPaddingAbove:v,noPaddingBelow:g,noFirstChild:O,noLastChild:I}=l;const C=Object(r.default)("c-menu_separator__li",{padding_0:E,padding_top_0:v,padding_bottom_0:g,"c-menu_separator__li--no_first_child":O,"c-menu_separator__li--no_last_child":I},u);return t.a.createElement("div",{"aria-hidden":"true",className:C,onMouseEnter:c},t.a.createElement("hr",{className:"c-menu_separator__separator"}))}m(o,"MenuSeparator"),o.displayName="MenuSeparator",o[d]=!0;var i=s.a=o;function h(l){return!!(l!=null&&l[d])}m(h,"isMenuSeparator")},GKly:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("Xfqj");let t=null;function a(){if(t===null){var r,d;t=(document==null||(r=document.documentElement)===null||r===void 0||(d=r.dataset)===null||d===void 0?void 0:d.app)===n.a.WORKFLOW_BUILDER}return t}m(a,"isWorkflowBuilder")},GS6c:function(K,s,e){"use strict";e.d(s,"a",function(){return ge});var n=e("Lgge"),t=e("/1FC"),a=e("fujP"),r=e("xWuZ"),d=e("ifKl"),o=e("lCmp"),i=e("TGBA"),h=e("wBxZ"),l=e("E3dU"),u=e("i5Ig"),c=e("g4Nj"),E=e("dmdh"),v=e("y23z"),g=e("WXkz"),O=e("xwCZ"),I=e("9wgI"),C=e("od0p"),f=e("GhjL"),S=e("O86Y"),D=e("I27i"),p=e("fTzy"),b=e("yrot"),M=e("bqbz"),_=e("isHU"),P=e("26vS"),y=e("x3ts"),j=e("NX5n"),U=e("NV6F"),W=e("rKeN"),L=e("mLC8"),R=e("Pw4T"),A=e("gPPH"),B=e("Z7Ay"),F=e("lhZz"),k=e("ktUG"),V=e("RVJP"),X=e("Ir4d"),J=e("Bwf8"),Y=e("+eea"),ie=e("WTVm"),de=e("Y3/F"),pe=e("ie1g"),oe=e("KZ1R"),me=e("hwwf"),re=e("9oTK"),ve=e("SQ0V"),q=e("IIEv"),ce=e("Z01D");const he=Object(ve.c)("Fetch list records for lists mentions",function(){var ae=Object(re.coroutine)(function*(fe,Te,ye){let{query:Ue}=ye;const Ne=Object(me.w)(Ue);if(!Ne)return;const{listTitle:He}=Ne,ze=fe(Object(ce.a)()),Je=Object(me.i)(ze,He);if(!Je)return;const Xe=Je.id;yield fe(Object(q.a)({listId:Xe}))});return function(fe,Te,ye){return ae.apply(this,arguments)}}());he.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var Se=e("046c"),se=e("coh6"),H=e("w/U0"),Oe=e("G5NC"),$=e("ptQX"),z=e("R4JA"),be=e("KPXh"),Z=e("ErGN");class G{search(fe){let{query:Te,options:ye}=fe;var Ue;if(this.maybeStartSession(Te),(Te===void 0||!Te.length)&&!ye.allowEmptyQuery)return n.a.resolve(u.a);if(Object(t.a)(Te))return this.bulkSearch({queryRecords:Te,options:ye});const Ne=Object(F.getStateByTeamId)(this.teamId),He=Object(R.d)({state:Ne}),ze=Object(A.a)();He.mark(`modern-searcher-search-mark-${ze}`);const Je=Object(X.a)(Te??"");L.d.start({label:L.a.Searcher,id:ze,options:{teamId:Object(S.g)(Ne),tags:this.getTraceTags({query:Je,options:ye})}});const Xe=(Ue=L.d.get({label:L.a.Searcher,id:ze}))===null||Ue===void 0?void 0:Ue.createChildSpan({name:"searcher:search"}),Me=Object(se.e)(Ne,ye,se.a,Te);if(Object(a.a)(Me))return n.a.resolve(u.a);if(Object(p.a)(Ne)!==D.a.ONLINE||!(ye!=null&&ye.allowEmptyQueryRemoteSearch)&&!Je.length&&Object(Oe.a)()&&Object(V.d)(Ne,"searcher_local_empty_string")==="treatment"&&!ye.entities.lists)return n.a.resolve(this.searchLocal({query:Je,options:Me,autoTraceId:ze,parentSpanId:Xe==null?void 0:Xe.getId()}));const Ke=this.fetchRemote({query:Je,options:Me,autoTraceId:ze,parentSpanId:Xe==null?void 0:Xe.getId()}).then($e=>this.processFetchedEntities({query:Je,data:$e,options:Me,autoTraceId:ze,parentSpanId:Xe==null?void 0:Xe.getId()}));if(Me.tiered){const $e=this.searchLocal({query:Je,options:Me,autoTraceId:ze,parentSpanId:Xe==null?void 0:Xe.getId()});return $e.promise=Ke.finally(()=>{Xe==null||Xe.close(),L.d.stop({label:L.a.Searcher,id:ze})}),n.a.resolve($e).finally(()=>{He.measureAndClear(`modern-searcher-search-mark-${ze}`,"modern-searcher-search-tiered")})}return Ke.finally(()=>{He.measureAndClear(`modern-searcher-search-mark-${ze}`,"modern-searcher-search"),Xe==null||Xe.close(),L.d.stop({label:L.a.Searcher,id:ze})})}flattenResultsWithQueryId(fe){let{returnedResults:Te,queryIds:ye}=fe;const Ue=Te;for(let Ne=0;Ne<Te.length;Ne++)for(let He=0;He<Te[Ne].length;He++)Ue[Ne][He].queryId=ye[Ne];return Object(r.a)(Ue)}bulkSearch(fe){let{queryRecords:Te,options:ye}=fe;const Ue=Object(F.getStateByTeamId)(this.teamId),Ne=Object(R.d)({state:Ue}),He=Object(A.a)();Ne.mark(`modern-searcher-search-mark-${He}`);const ze=Object(se.e)(Ue,ye,se.a,"");if(Object(a.a)(ze))return n.a.resolve(u.a);const Je=Te.map(Tt=>Tt.query),Xe=Te.map(Tt=>Tt.queryId),Me=Je.map(Tt=>Object(X.a)(Tt));let Ke,$e;if(Object(p.a)(Ue)!==D.a.ONLINE)return $e=Me.map(Tt=>this.searchLocal({query:Tt,options:ze})),Ke=this.flattenResultsWithQueryId({returnedResults:$e,queryIds:Xe}),n.a.resolve(Ke);const ct=this.fetchRemote({query:Me,options:ze}).then(Tt=>($e=Tt.map((Et,Le)=>this.processFetchedEntities({query:Me[Le],data:Et,options:ze})),this.flattenResultsWithQueryId({returnedResults:$e,queryIds:Xe})));return ze.tiered?($e=Me.map(Tt=>this.searchLocal({query:Tt,options:ze})),Ke=this.flattenResultsWithQueryId({returnedResults:$e,queryIds:Xe}),Ke.promise=ct,n.a.resolve(Ke).finally(()=>{Ne.measureAndClear(`modern-searcher-search-mark-${He}`,"modern-searcher-search-tiered")})):ct.finally(()=>{Ne.measureAndClear(`modern-searcher-search-mark-${He}`,"modern-searcher-search")})}searchLocal(fe){let{query:Te,options:ye,autoTraceId:Ue,parentSpanId:Ne}=fe;var He;const ze=Object(F.getStateByTeamId)(this.teamId);let Je=Ue;Je||(Je=Object(A.a)(),L.d.start({label:L.a.Searcher,id:Je,options:{teamId:Object(S.g)(ze),tags:this.getTraceTags({query:Te,options:ye})}}));const Xe=(He=L.d.get({label:L.a.Searcher,id:Je}))===null||He===void 0?void 0:He.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Ne}});if(!Te.length&&!ye.allowEmptyQuery)return[];const Me=Object(se.e)(ze,ye,se.a,Te);if(Object(a.a)(Me))return[];const Ke=Object(X.a)(Te),$e=this.fetchLocal({query:Te,options:Me}),ct=this.processFetchedEntities({query:Ke,data:$e,options:Me,autoTraceId:Je,parentSpanId:Xe==null?void 0:Xe.getId()});return Xe==null||Xe.close(),ct}fetchRemote(fe){let{query:Te,options:ye,autoTraceId:Ue,parentSpanId:Ne}=fe;var He;const ze=Object(F.getStateByTeamId)(this.teamId),Je=(He=L.d.get({label:L.a.Searcher,id:Ue}))===null||He===void 0?void 0:He.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Ne}});this.pendingRequests.forEach(te=>te.cancel()),this.pendingRequests=[];const Xe=[],Me=[],{channels:Ke,emoji:$e,files:ct,lists:Tt,members:Et,teams:Le,userGroups:jt,appActions:Dt,workflowTriggers:Ee}=ye.entities;if(Et){let te;Object(t.a)(Te)?te=Object(F.dispatchForTeamId)(this.teamId,Object(se.g)({queries:Te,options:ye})):te=Object(F.dispatchForTeamId)(this.teamId,Object(se.x)({query:Te,options:ye})),this.pendingRequests.push(te),Et.runaway?Me.push(te):Xe.push(te)}if(Ke&&!Object(t.a)(Te)){const te=Object(F.dispatchForTeamId)(this.teamId,Object(se.t)({query:Te,options:ye}));this.pendingRequests.push(te),Ke.runaway?Me.push(te):Xe.push(te)}if($e&&!Object(t.a)(Te)){const te=Object(F.dispatchForTeamId)(this.teamId,Object(se.u)({query:Te,options:ye}));this.pendingRequests.push(te),$e.runaway?Me.push(te):Xe.push(te)}if(ct&&!Object(t.a)(Te)&&(Object(H.a)(Te)||Te.length>3)){const te=Object(F.dispatchForTeamId)(this.teamId,Object(se.v)({query:Te,options:ye}));this.pendingRequests.push(te),ct.runaway?Me.push(te):Xe.push(te)}if(Tt&&!Object(t.a)(Te)){const te=Object(F.dispatchForTeamId)(this.teamId,Te.indexOf(">")<0?Object(oe.a)({query:Te}):he({query:Te}));this.pendingRequests.push(te),Tt.runaway?Me.push(te):Xe.push(te)}if(jt){let te;Object(t.a)(Te)?te=Object(F.dispatchForTeamId)(this.teamId,Object(se.h)({queries:Te,options:ye})):te=Object(F.dispatchForTeamId)(this.teamId,Object(se.z)({query:Te,options:ye})),this.pendingRequests.push(te),jt.runaway?Me.push(te):Xe.push(te)}if(Object(W.a)(ze)&&Le&&!Object(t.a)(Te)){const te=Object(F.dispatchForTeamId)(this.teamId,Object(se.y)({query:Te,options:ye}));this.pendingRequests.push(te),Le.runaway?Me.push(te):Xe.push(te)}if(Object(_.a)(ze)&&Dt){const te=Object(F.dispatchForTeamId)(this.teamId,Object(c.a)()).timeout(2e3).catch(d.a);this.pendingRequests.push(te),Dt.runaway?Me.push(te):Xe.push(te)}if(Ee&&!Object(t.a)(Te)){const te=Object(F.dispatchForTeamId)(this.teamId,Object(se.A)({query:Te}));Ee.runaway?Me.push(te):Xe.push(te)}return n.a.all(Xe).then(te=>{let Ae;if(Object(t.a)(Te))Ae=Te.map(tt=>this.fetchLocal({query:tt,options:ye})).map(tt=>{const Rt={...tt};return Rt.remoteIds=Object(se.w)(te),Rt});else{if(Ae=this.fetchLocal({query:Te,options:ye}),Ae.remoteIds=Object(se.w)(te),Et&&Et.onlyFromExternalWorkspaceId){var Ve,Ye;Ae.members=(Ye=(Ve=te.find(tt=>!!tt.members))===null||Ve===void 0?void 0:Ve.members)!==null&&Ye!==void 0?Ye:u.a}const ft=Object(o.a)(Object(i.a)(Ae),"length");if(Me.length&&!ft)return n.a.all(Me).then(()=>this.fetchLocal({query:Te,options:ye}))}return Je==null||Je.close(),Ae}).finally(()=>{this.pendingRequests=[]})}fetchLocal(fe){let{query:Te,options:ye}=fe;const Ue=Object(F.getStateByTeamId)(this.teamId);Object(se.E)(ye);const Ne={},{members:He,channels:ze,teams:Je,userGroups:Xe,appActions:Me,views:Ke,broadcastKeywords:$e,emoji:ct,files:Tt,links:Et,lists:Le,channelSections:jt,emails:Dt,modals:Ee,shortcuts:te,workflowTriggers:Ae,helpArticles:Ve}=ye.entities;if(ze&&(ze.includePublic||ze.includePrivate)&&(Ne.channels=Object(se.l)(Ue,ye)),ze&&ze.includeMpims&&(Ne.mpims=Object(l.r)(Ue)),ze&&ze.includeIms&&(Ne.ims=Object(l.o)(Ue)),He&&(Ne.members=He.onlyFromExternalWorkspaceId?u.a:Object(O.a)(Ue).filter(tt=>Object($.a)(Ue,tt.id)&&!Object(z.a)(Ue,tt.id))),Je&&(Ne.teams=Object(se.o)(Ue,ye)),Xe&&(Ne.userGroups=Object(f.c)(Ue)),Me&&(Ne.appActions=Object(j.a)(Ue)?Object(y.b)(Ue):Object(se.f)(Ue,Me.channel)),Tt&&(Ne.files=Object(E.a)(Ue)),Et&&(Ne.links=Object(v.a)(Ue)),Le&&(Te.indexOf(">")<0?Ne.lists=Object(g.o)(Ue):Ne.listRecords=Object(g.p)(Ue,Te)),Ke&&(Ne.views=Object(se.p)(Ue)),Ee&&(Ne.modals=Object(se.n)(Ue)),$e){var Ye;const tt=$e.currentChannel?$e.currentChannel.id:null;Ne.broadcastKeywords=!((Ye=ye.entities.broadcastKeywords)===null||Ye===void 0)&&Ye.includeAll||!tt?Object(C.a)():Object(I.a)(Ue,tt)}if(ct&&(Ne.emoji=Object(b.e)(Ue)),jt&&(Ne.channelSections=Object(i.a)(Object(M.b)(Ue))),(te!=null&&te.slashCommands||te!=null&&te.fakeGlobalActions)&&!(te!=null&&te.isAnnounceOnly)&&(Ne.slashCommands=Object(j.a)(Ue)?Object(U.j)(Ue,te.channel,te.threadTs,!0).map(tt=>({...tt,id:Object(be.e)(tt),isSlashCommand:!0})):Object(se.B)(Ue,te.channel,te.threadTs)),te!=null&&te.slackGlobalActions&&(Ne.slackGlobalActions=Object(U.h)(Ue,te.channel,te.threadTs)),te!=null&&te.quipShortcutCommands&&(Ne.quipShortcutCommands=Object(Z.c)(Ue)),te!=null&&te.channelActions&&(Ne.channelActions=Object(P.b)(Ue,te.channel)),te!=null&&te.fakeGlobalActions&&(Ne.fakeGlobalActions=Object(U.g)(Ue,te.channel,te.threadTs,Ne.slashCommands)),te!=null&&te.callActions&&(Ne.callActions=Object(U.f)(Ue,te.channel,te.threadTs,te.isAnnounceOnly)),Ae){const tt=Object(U.e)(Ue);Ae.includeAutomated?Ne.workflowTriggers=tt:Ne.workflowTriggers=tt.filter(Rt=>Rt.type===Se.a.Shortcut)}Dt&&(Ne.emails=Object(se.m)(Te));const ft=Object(de.a)(Ue);return Ve&&ft&&(Ne.helpArticles=Object(pe.c)(Ue,"searcher/fetch_all_articles")),Object(se.H)(),Ne}processFetchedEntities(fe){let{query:Te,data:ye,options:Ue,autoTraceId:Ne,parentSpanId:He}=fe;var ze,Je,Xe;const Me=Object(F.getStateByTeamId)(this.teamId),Ke=(ze=L.d.get({label:L.a.Searcher,id:Ne}))===null||ze===void 0?void 0:ze.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:He}});Object(se.E)(Ue);const $e={},ct=new J.a({query:Te,options:Ue}),Tt=Object(R.d)({state:Me});Tt.mark("modern-searcher-matching-mark");const Et=(Je=L.d.get({label:L.a.Searcher,id:Ne}))===null||Je===void 0?void 0:Je.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Ke==null?void 0:Ke.getId()}});if(ye.channels&&($e.channels=ct.filterChannels(Me,ye.channels,Object(se.i)(Me,Ue.entities.channels))),ye.members&&($e.members=ct.filterMembers(Me,ye.members,Object(se.q)(Me,Ue.entities.members))),ye.emails&&ye.members&&!(!($e==null||(Xe=$e.members)===null||Xe===void 0)&&Xe.length)&&($e.emails=ye.emails),ye.mpims&&($e.mpims=ct.filterMpims(Me,ye.mpims,Object(se.r)(Me,Ue.entities.channels))),ye.ims&&($e.ims=ct.filterIms(Me,ye.ims,Object(se.k)(Me,Ue.entities.channels))),ye.userGroups&&($e.userGroups=ct.filterUserGroups(Me,ye.userGroups,Object(se.D)(Me,Ue.entities.userGroups))),ye.teams&&($e.teams=ct.filterTeams(Me,ye.teams,Object(se.C)(Me,Ue.entities.teams))),ye.views&&($e.views=ct.filterViews(Me,ye.views)),ye.modals&&($e.modals=ct.filterModals(Me,ye.modals)),ye.appActions&&($e.appActions=ct.filterAppActions(Me,ye.appActions)),ye.slashCommands&&($e.slashCommands=ct.filterShortcuts(Me,ye.slashCommands,!0)),ye.slackGlobalActions&&($e.slackGlobalActions=ct.filterShortcuts(Me,ye.slackGlobalActions)),ye.quipShortcutCommands&&($e.quipShortcutCommands=ct.filterShortcuts(Me,ye.quipShortcutCommands)),ye.channelActions&&($e.channelActions=ct.filterShortcuts(Me,ye.channelActions)),ye.fakeGlobalActions&&($e.fakeGlobalActions=ct.filterShortcuts(Me,ye.fakeGlobalActions)),ye.callActions&&($e.callActions=ct.filterShortcuts(Me,ye.callActions)),ye.workflowTriggers&&($e.workflowTriggers=ct.filterWorkflowTriggers(Me,ye.workflowTriggers)),ye.broadcastKeywords&&($e.broadcastKeywords=ct.filterBroadcastKeywords(Me,ye.broadcastKeywords)),ye.emoji&&($e.emoji=ct.filterEmoji(Me,ye.emoji)),ye.channelSections&&($e.channelSections=ct.filterChannelSections(Me,ye.channelSections,tt=>{var Rt,rt;return!!(!((Rt=Ue.entities.channelSections)===null||Rt===void 0||(rt=Rt.includeTypes)===null||rt===void 0)&&rt[tt.type])})),ye.files&&($e.files=ct.filterFiles(Me,ye.files,Object(se.j)(Me,Ue.entities.files))),ye.links&&($e.links=ct.filterLinks(Me,ye.links)),ye.lists&&($e.lists=ct.filterLists(Me,ye.lists)),ye.listRecords){var Le;const{recordQuery:tt}=(Le=Object(me.w)(Te))!==null&&Le!==void 0?Le:{},Rt=new J.a({query:tt,options:Ue});$e.listRecords=Rt.filterListRecords(Me,ye.listRecords)}ye.helpArticles&&($e.helpArticles=ct.filterHelpArticles(Me,ye.helpArticles)),Tt.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),Et==null||Et.close();const jt=Object(se.b)($e,ye.remoteIds||{});let Dt=Object(r.a)(Object.values(jt));const Ee=500,te=3;var Ae;const Ve=Math.min(((Ae=Ue==null?void 0:Ue.limit)!==null&&Ae!==void 0?Ae:1)*te,Ee);if(Ue.sort&&!Ue.sort.bypassSorting){var Ye;let tt=!1;Dt.length<Ve&&(tt=!0);const Rt=new Y.a({query:Te,options:{modelOnly:tt,...Ue.sort}}),rt=(Ye=L.d.get({label:L.a.Searcher,id:Ne}))===null||Ye===void 0?void 0:Ye.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Ke==null?void 0:Ke.getId()}});Dt=Rt.sort(Me,jt),rt==null||rt.close()}if(Ue.sort&&Ue.sort.frecency&&!Ue.sort.bypassSorting){var ft;const tt=(ft=L.d.get({label:L.a.Searcher,id:Ne}))===null||ft===void 0?void 0:ft.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Ke==null?void 0:Ke.getId()}});Dt=new ie.a({query:Te,options:Ue.sort,teamId:Object(S.g)(Me),enterpriseId:Object(W.a)(Me)&&Object(S.d)(Me)?Object(S.d)(Me):void 0}).sort(Me,Dt.slice(0,Ve)),tt==null||tt.close()}return Ue.limit&&(Dt=Object(h.a)(Dt,Ue.limit)),Ue.returnMetadata||(Dt=Dt.map(tt=>tt.item)),Object(se.H)(),Dt||[]}clogSearcherAccept(fe){let{clogger:Te,data:ye}=fe;const{source:Ue,query:Ne,results:He,selectedItemId:ze,displayedItemIds:Je}=ye,Xe=15;if(!ze)return;const Me=Je?Je.length:He.length,Ke=Je?Je.indexOf(ze):He.findIndex(Ve=>Ve.item.id===ze);if(Ke<0)return;const $e=He.find(Ve=>Ve.item.id===ze);if(!$e)return;const ct=$e.type||"other",Tt=Object(t.a)(Ne)?Ne.map(Ve=>Object(X.a)(Ve)):Object(X.a)(Ne),Et=$e.source||"local";let Le;$e.type==="mpim"?Le=$e.scoreDetailsByMember:$e.type==="member"?Le={[ze]:{is_exact_match:$e.isExactMatch,exact_match_details:$e.exactMatchDetails,score_details:$e.scoreDetails}}:$e.type==="emoji"&&(Le={[ze]:{is_exact_match:$e.isExactMatch}});let jt=[];He.some(Ve=>Ve.featureVectorRaw)&&(Je?jt=Je.map(Ve=>{const Ye=He.find(ft=>ft.item.id===Ve);return Ye&&Ye.featureVectorRaw.serialize()||""}):jt=He.map(Ve=>{var Ye,ft;return Ve==null||(Ye=Ve.featureVectorRaw)===null||Ye===void 0||(ft=Ye.serialize)===null||ft===void 0?void 0:ft.call(Ye)}));let Ee;Object(t.a)(Tt)?Ee=Tt.reduce((Ve,Ye)=>Ve+Object(se.s)(Object(X.a)(Ye)),0):Ee=Object(se.s)(Tt);var te;const Ae={source:Ue,query_length:Tt.length?Tt.length:0,query_terms_length:Ee,results_length:Me,selected_position:Ke,selected_type:ct,selected_source:Et,selected_match_details:Le,feature_vector_list:jt.slice(0,Xe),session_length:Date.now()-((te=this.sessionTs)!==null&&te!==void 0?te:0)};Te.track(k.EventId.SEARCHER_ACCEPT,Ae),this.endSession()}clogSearcherReject(fe){let{clogger:Te,data:ye}=fe;const{source:Ue,query:Ne,results:He,displayedItemIds:ze}=ye,Je=ze!==void 0?ze.length:He.length,Xe=Object(t.a)(Ne)?Ne.map(ct=>Object(X.a)(ct)):Object(X.a)(Ne);let Me;Object(t.a)(Xe)?Me=Xe.reduce((ct,Tt)=>ct+Object(se.s)(Object(X.a)(Tt)),0):Me=Object(se.s)(Xe);var Ke;const $e={source:Ue,query_length:Xe.length?Xe.length:0,query_terms_length:Me,results_length:Je,session_length:Date.now()-((Ke=this.sessionTs)!==null&&Ke!==void 0?Ke:0)};Te.track(k.EventId.SEARCHER_REJECT,$e),this.endSession()}maybeStartSession(fe){!this.sessionId&&fe!==void 0&&fe.length&&(this.sessionTs=Date.now(),this.sessionId=Object(A.a)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(fe){let{query:Te,options:ye}=fe;var Ue;const Ne=ye.entities;return{source:(ye==null?void 0:ye.searchViewContext)||((Ue=ye.sort)===null||Ue===void 0?void 0:Ue.source),tiered:ye.tiered,is_searcher_sessions:!0,entities:Object.keys(Ne).filter(He=>!!Ne[He]).sort().toString(),query_length:Te.length}}constructor(fe){this.teamId=fe,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}m(G,"searcher_Searcher");const ne={};function ge(ae){let{teamId:fe,key:Te}=ae;if(!fe)throw new Error("Searcher must be instantiated with a team id");return ne[fe]&&!ne[fe][Te]&&(ne[fe][Te]=new G(fe)),ne[fe]||(ne[fe]={},ne[fe][Te]=new G(fe)),ne[fe][Te]}m(ge,"getSearcher"),Object(B.a)("searcherObj",{search:(ae,fe)=>new G(ae).search(fe),searchLocal:(ae,fe)=>{new G(ae).searchLocal(fe)}})},GTsZ:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("add an app profile to the store");t.meta={name:"createAction",key:"createActionaddAppProfile",description:"add an app profile to the store"};const a=Object(n.a)("add multiple app profiles to the store");a.meta={name:"createAction",key:"createActionbulkAddAppProfiles",description:"add multiple app profiles to the store"}},GUXX:function(K,s,e){"use strict";e.d(s,"e",function(){return u}),e.d(s,"h",function(){return c}),e.d(s,"m",function(){return E}),e.d(s,"d",function(){return v}),e.d(s,"c",function(){return O}),e.d(s,"v",function(){return I}),e.d(s,"z",function(){return f}),e.d(s,"u",function(){return S}),e.d(s,"i",function(){return D}),e.d(s,"j",function(){return p}),e.d(s,"y",function(){return _}),e.d(s,"w",function(){return P}),e.d(s,"x",function(){return y}),e.d(s,"g",function(){return j}),e.d(s,"f",function(){return W}),e.d(s,"k",function(){return L}),e.d(s,"n",function(){return R}),e.d(s,"l",function(){return A}),e.d(s,"s",function(){return B}),e.d(s,"t",function(){return F}),e.d(s,"a",function(){return V}),e.d(s,"b",function(){return X}),e.d(s,"p",function(){return J}),e.d(s,"r",function(){return Y}),e.d(s,"q",function(){return ie}),e.d(s,"C",function(){return pe}),e.d(s,"A",function(){return oe}),e.d(s,"B",function(){return me}),e.d(s,"D",function(){return re}),e.d(s,"G",function(){return ve}),e.d(s,"E",function(){return q}),e.d(s,"F",function(){return ce}),e.d(s,"H",function(){return he}),e.d(s,"o",function(){return Se});var n=e("ZKjC"),t=e("G4qV"),a=e("1h8Q"),r=e("eEvQ"),d=e("ZOzc"),o=e("eVCY"),i=e("q1tI");function h(se,H){const Oe={},$=Object(i.useRef)(Oe);if(!H)return;$.current.source={sfdc_object_identifier:H.sfdc_object_identifier,sfdc_object_label:H.sfdc_object_label,troops_schema_object_id:H.troops_schema_object_id},$.current.target_identifier=se,$.current.field_mappings=[];const z=H!=null&&H.fields?Object.keys(H.fields):[];return z.length!==0&&z.forEach(be=>{var Z;const G=H==null||(Z=H.fields)===null||Z===void 0?void 0:Z[be];var ne,ge;$.current.field_mappings.push({source:{...G,sfdc_field_identifier:(ne=G==null?void 0:G.sfdc_field_identifier)!==null&&ne!==void 0?ne:"",sfdc_field_label:(ge=G==null?void 0:G.sfdc_field_label)!==null&&ge!==void 0?ge:""},target:be})}),$==null?void 0:$.current}m(h,"convertObjectMappingToDatasourceSchema");var l=e("Uu/N");const u=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.appId});u.meta={name:"createSelector",key:"createSelectorgetAppId",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.appId}};const c=Object(n.b)(se=>{var H;return!!(!((H=se.modernSelling)===null||H===void 0)&&H.hasExternalAuthToken)});c.meta={name:"createSelector",key:"createSelectorgetHasExternalAuthToken",description:se=>{var H;return!!(!((H=se.modernSelling)===null||H===void 0)&&H.hasExternalAuthToken)}};const E=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.providerKey});E.meta={name:"createSelector",key:"createSelectorgetProviderKey",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.providerKey}};const v=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.adminWorkflowView});v.meta={name:"createSelector",key:"createSelectorgetAdminWorkflowView",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.adminWorkflowView}};const g=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.adminWorkflowId});g.meta={name:"createSelector",key:"createSelectorgetAdminWorkflowId",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.adminWorkflowId}};const O=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.adminWorkflowInitEditPayload});O.meta={name:"createSelector",key:"createSelectorgetAdminWorkflowInitEditPayload",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.adminWorkflowInitEditPayload}};const I=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.userWorkflowView});I.meta={name:"createSelector",key:"createSelectorgetUserWorkflowView",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.userWorkflowView}};const C=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.userWorkflowId});C.meta={name:"createSelector",key:"createSelectorgetUserWorkflowId",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.userWorkflowId}};const f=Object(n.b)((se,H)=>H?g(se):C(se));f.meta={name:"createSelector",key:"createSelectorgetWorkflowId",description:(se,H)=>H?g(se):C(se)};const S=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.userWorkflowInitEditPayload});S.meta={name:"createSelector",key:"createSelectorgetUserWorkflowInitEditPayload",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.userWorkflowInitEditPayload}};const D=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.isLoadingAdminWorkflowView});D.meta={name:"createSelector",key:"createSelectorgetIsLoadingAdminWorkflowView",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.isLoadingAdminWorkflowView}};const p=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.isLoadingUserWorkflowView});p.meta={name:"createSelector",key:"createSelectorgetIsLoadingUserWorkflowView",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.isLoadingUserWorkflowView}};const b=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.workflowForms});b.meta={name:"createSelector",key:"createSelectorgetWorkflowForms",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.workflowForms}};const M=Object(n.b)((se,H)=>{var Oe,$;return((Oe=se.modernSelling)===null||Oe===void 0||($=Oe.workflowForms)===null||$===void 0?void 0:$[H])||null});M.meta={name:"createSelector",key:"createSelectorgetWorkflowForm",description:(se,H)=>{var Oe,$;return((Oe=se.modernSelling)===null||Oe===void 0||($=Oe.workflowForms)===null||$===void 0?void 0:$[H])||null}};const _=Object(n.b)((se,H)=>{var Oe,$,z;return((Oe=se.modernSelling)===null||Oe===void 0||($=Oe.workflowForms)===null||$===void 0||(z=$[H])===null||z===void 0?void 0:z.values)||null});_.meta={name:"createSelector",key:"createSelectorgetWorkflowFormValues",description:(se,H)=>{var Oe,$,z;return((Oe=se.modernSelling)===null||Oe===void 0||($=Oe.workflowForms)===null||$===void 0||(z=$[H])===null||z===void 0?void 0:z.values)||null}};const P=Object(n.b)((se,H)=>{var Oe,$,z;return((Oe=se.modernSelling)===null||Oe===void 0||($=Oe.workflowForms)===null||$===void 0||(z=$[H])===null||z===void 0?void 0:z.errors)||null});P.meta={name:"createSelector",key:"createSelectorgetWorkflowFormErrors",description:(se,H)=>{var Oe,$,z;return((Oe=se.modernSelling)===null||Oe===void 0||($=Oe.workflowForms)===null||$===void 0||(z=$[H])===null||z===void 0?void 0:z.errors)||null}};const y=Object(n.b)((se,H)=>{var Oe,$,z;return((Oe=se.modernSelling)===null||Oe===void 0||($=Oe.workflowForms)===null||$===void 0||(z=$[H])===null||z===void 0?void 0:z.formSubmitError)||null});y.meta={name:"createSelector",key:"createSelectorgetWorkflowFormSubmitError",description:(se,H)=>{var Oe,$,z;return((Oe=se.modernSelling)===null||Oe===void 0||($=Oe.workflowForms)===null||$===void 0||(z=$[H])===null||z===void 0?void 0:z.formSubmitError)||null}};const j=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.datasourcesList});j.meta={name:"createSelector",key:"createSelectorgetDatasourcesList",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.datasourcesList}};const U=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.datasourceInfo});U.meta={name:"createSelector",key:"createSelectorgetDatasourceInfo",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.datasourceInfo}};const W=Object(n.b)(se=>Object(r.b)(U(se)));W.meta={name:"createSelector",key:"createSelectorgetDatasourceInfoExtended",description:se=>Object(r.b)(U(se))};const L=Object(n.b)(se=>{if(Object(o.c)(se)){var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.selectedOrgNotificationsPref}return Object(d.a)(se,"sales_home_notifications")});L.meta={name:"createSelector",key:"createSelectorgetNotificationsPref",description:se=>{if(Object(o.c)(se)){var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.selectedOrgNotificationsPref}return Object(d.a)(se,"sales_home_notifications")}};const R=Object(n.b)((se,H)=>{var Oe,$,z,be;return Object(o.c)(se)?h(Object(l.a)(H.toString()),(Oe=se.modernSelling)===null||Oe===void 0||($=Oe.selectedOrgObjectMappings)===null||$===void 0?void 0:$[Object(l.a)(H.toString())]):(z=L(se))===null||z===void 0||(be=z.object_mappings)===null||be===void 0?void 0:be.find(Z=>Z.target_identifier===H)});R.meta={name:"createSelector",key:"createSelectorgetSchemaPrefForObjectType",description:(se,H)=>{var Oe,$,z,be;return Object(o.c)(se)?h(Object(l.a)(H.toString()),(Oe=se.modernSelling)===null||Oe===void 0||($=Oe.selectedOrgObjectMappings)===null||$===void 0?void 0:$[Object(l.a)(H.toString())]):(z=L(se))===null||z===void 0||(be=z.object_mappings)===null||be===void 0?void 0:be.find(Z=>Z.target_identifier===H)}};const A=Object(n.b)((se,H)=>{var Oe,$;return(Oe=R(se,H))===null||Oe===void 0||($=Oe.source)===null||$===void 0?void 0:$.sfdc_object_identifier});A.meta={name:"createSelector",key:"createSelectorgetObjectIdentifierByObjectType",description:(se,H)=>{var Oe,$;return(Oe=R(se,H))===null||Oe===void 0||($=Oe.source)===null||$===void 0?void 0:$.sfdc_object_identifier}};const B=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.salesHomeCurrentTab});B.meta={name:"createSelector",key:"createSelectorgetSetSalesHomeCurrentTab",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.salesHomeCurrentTab}};const F=Object(n.b)(se=>{var H;return!!(!((H=se.modernSelling)===null||H===void 0)&&H.shouldShowOnboardingOpptyCoachmark)});F.meta={name:"createSelector",key:"createSelectorgetShouldShowOnboardingOpptyCoachmark",description:se=>{var H;return!!(!((H=se.modernSelling)===null||H===void 0)&&H.shouldShowOnboardingOpptyCoachmark)}};const k=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.activityLogFormData});k.meta={name:"createSelector",key:"createSelectorgetActivityLogFormData",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.activityLogFormData}};const V=Object(n.b)(se=>{var H;return(H=k(se))===null||H===void 0?void 0:H.activityId});V.meta={name:"createSelector",key:"createSelectorgetActivityLogFormActivityId",description:se=>{var H;return(H=k(se))===null||H===void 0?void 0:H.activityId}};const X=Object(n.b)(se=>{var H;return(H=k(se))===null||H===void 0?void 0:H.fieldData});X.meta={name:"createSelector",key:"createSelectorgetActivityLogFormFieldData",description:se=>{var H;return(H=k(se))===null||H===void 0?void 0:H.fieldData}};const J=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.selectedSalesforceOrg});J.meta={name:"createSelector",key:"createSelectorgetSelectedSalesforceOrg",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.selectedSalesforceOrg}};const Y=Object(n.b)(se=>{var H,Oe;return(H=se.modernSelling)===null||H===void 0||(Oe=H.selectedSalesforceOrg)===null||Oe===void 0?void 0:Oe.salesforce_org_id});Y.meta={name:"createSelector",key:"createSelectorgetSelectedSalesforceOrgId",description:se=>{var H,Oe;return(H=se.modernSelling)===null||H===void 0||(Oe=H.selectedSalesforceOrg)===null||Oe===void 0?void 0:Oe.salesforce_org_id}};const ie=Object(n.b)(se=>{var H,Oe;return(H=se.modernSelling)===null||H===void 0||(Oe=H.selectedSalesforceOrg)===null||Oe===void 0?void 0:Oe.datasource_id});ie.meta={name:"createSelector",key:"createSelectorgetSelectedSalesforceOrgDataSourceId",description:se=>{var H,Oe;return(H=se.modernSelling)===null||H===void 0||(Oe=H.selectedSalesforceOrg)===null||Oe===void 0?void 0:Oe.datasource_id}};const de=Object(n.b)(se=>se.modernSelling.userInsights);de.meta={name:"createSelector",key:"createSelectorselectUserInsights",description:se=>se.modernSelling.userInsights};const pe=Object(n.b)(se=>se.modernSelling.adminOrgList.status);pe.meta={name:"createSelector",key:"createSelectorselectAdminOrgListStatus",description:se=>se.modernSelling.adminOrgList.status};const oe=Object(n.b)(se=>se.modernSelling.adminOrgList.data);oe.meta={name:"createSelector",key:"createSelectorselectAdminOrgListData",description:se=>se.modernSelling.adminOrgList.data};const me=Object(n.b)(se=>se.modernSelling.adminOrgList.error);me.meta={name:"createSelector",key:"createSelectorselectAdminOrgListError",description:se=>se.modernSelling.adminOrgList.error};const re=Object(t.a)(oe,a.a),ve=Object(n.b)(se=>se.modernSelling.datasources.status);ve.meta={name:"createSelector",key:"createSelectorselectDatasourceListStatus",description:se=>se.modernSelling.datasources.status};const q=Object(n.b)(se=>se.modernSelling.datasources.list);q.meta={name:"createSelector",key:"createSelectorselectDatasourceListData",description:se=>se.modernSelling.datasources.list};const ce=Object(n.b)(se=>se.modernSelling.datasources.error);ce.meta={name:"createSelector",key:"createSelectorselectDatasourceListError",description:se=>se.modernSelling.datasources.error};const he=Object(n.b)(se=>se.modernSelling.userOrgAuthList);he.meta={name:"createSelector",key:"createSelectorselectUserOrgAuthListData",description:se=>se.modernSelling.userOrgAuthList};const Se=Object(n.b)(se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.selectedOrgObjectMappings});Se.meta={name:"createSelector",key:"createSelectorgetSelectedOrgObjectMappings",description:se=>{var H;return(H=se.modernSelling)===null||H===void 0?void 0:H.selectedOrgObjectMappings}}},GV2D:function(K,s,e){"use strict";e.d(s,"a",function(){return _});var n=e("SQ0V"),t=e("UEGZ"),a=e("E3dU"),r=e("GlHf"),d=e("JoR1"),o=e("Wn1n"),i=e("s4P+"),h=e("Pw4T"),l=e("yZZd"),u=e("O86Y"),c=e("1o0K"),E=e("Yauy"),v=e("E97Y"),g=e("ZAxE"),O=e("tUtw"),I=e("p5o1");const C=Object(n.c)("Cancel history request for a channel",(P,y,j)=>{const{channelId:U}=j||{},W=Object(O.a)(y(),U);W&&W.loading&&W.request&&W.request.cancel(),P(Object(I.b)({ids:[U]}))});C.meta={name:"createThunk",key:"createThunkcancelLoading",description:"Cancel history request for a channel"};var f=e("XZo2"),S=e("2XL1"),D=e("Aqju");const p=m(P=>{let{sourceTeam:y,sourceChannel:j,targetTeam:U,targetChannel:W}=P;return`start_channel_change_${[y,j,U,W].join("_")}`},"formatStartChannelChangeMark");var b=e("RV0M"),M=e("2VFn");const _=Object(n.c)("Switch to a channel",(P,y,j,U)=>{let{channelId:W,startTs:L,isWorkspaceSwitch:R=!1}=j;var A;const B=y(),{shouldUseNavigate:F,getSiblingView:k}=U(b.a),V=F?(A=k(B,{container:M.h.Primary}))===null||A===void 0?void 0:A.id:Object(o.a)(B),X=Object(u.g)(B),J=Object(i.a)({getState:y,label:"SWITCH-TO-CHANNEL"});if(W){try{Object(D.a)({state:B,channelId:W,isWorkspaceSwitch:R})}catch(re){J.warn(re,`Could not trace channel switch from ${V} to ${W}`)}const Y=p({sourceTeam:X,sourceChannel:V,targetTeam:X,targetChannel:W});Object(h.d)({state:B}).mark(Y),P(Object(l.a)({lastFocus:Object(r.j)(B),objId:W}));const ie=Object(a.d)(B,W),de=Object(E.R)(ie),pe=Object(E.z)(B,ie);Object(g.a)(W),P(C({channelId:W}));const oe=Object(d.t)(B,"start_scroll_at_oldest")&&Object(d.t)(B,"mark_msgs_read_immediately"),me=de?pe:null;if(L)J.info(`Switching to ${W} at specified startTs ${L}`),P(Object(S.f)({channelId:W,startTs:L,highlightTs:L,prevChannelId:V,ghostLastRead:me})),P(Object(c.a)({startTs:L,highlightTs:L}));else{if(pe&&de&&oe)J.info(`Switching to ${W} at last_read ${pe}`),P(Object(S.f)({channelId:W,startTs:pe,prevChannelId:V,ghostLastRead:me})),P(Object(c.a)({startTs:pe}));else{const re=Object(f.t)(B,W);oe&&re?(J.info(`Switching to ${W} at scrollmark ${re.mark} offset ${re.offset}`),P(Object(S.f)({channelId:W,startTs:re.mark,startTsOffset:re.offset,prevChannelId:V,ghostLastRead:me})),P(Object(c.a)({startTs:re.mark,startTsOffset:re.offset}))):(J.info(`Switching to ${W} at end`),P(Object(S.f)({channelId:W,startTs:null,prevChannelId:V,ghostLastRead:me})),P(Object(c.a)({startTs:null})))}Object(v.l)(ie)&&!Object(E.db)(ie)&&!Object(E.Db)(ie)&&P(Object(t.a)({id:ie==null?void 0:ie.id,never_needs_joined_msg:!0}))}}else P(Object(S.f)({channelId:null,startTs:null,prevChannelId:V}))});_.meta={name:"createThunk",key:"createThunkswitchToChannel",description:"Switch to a channel"}},GWPn:function(K,s,e){"use strict";var n=e("HCZ2");s.a=n.a},GYPw:function(K,s,e){"use strict";e.d(s,"e",function(){return n}),e.d(s,"j",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"g",function(){return r}),e.d(s,"f",function(){return d}),e.d(s,"h",function(){return o}),e.d(s,"c",function(){return i}),e.d(s,"d",function(){return h}),e.d(s,"b",function(){return l}),e.d(s,"i",function(){return u});const n="(prefers-contrast: more)",t="useAriaApplicationForListViews",a="composerUpArrowShortcutBehavior",r="messageTextLineSpacing",d="messageSpacing",o="messageTextWordSpacing",i="conversationIncomingMessageSound",h="conversationSentMessageSound",l="conversationIncomingMessageAnnouncement",u="peeksEnabledOnMouseEnter"},GapZ:function(K,s,e){K.exports=e.p+"template_card_feedback-c76ef1b.png"},GiOu:function(K,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("q1tI"),t=e.n(n),a=e("zxER"),r=e("fujP"),d=e("BHdc"),o=e("nNoG"),i=e("Trx9"),h=e("ktUG"),l=e("gJbv");function u(){return u=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var f=arguments[C];for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&(I[S]=f[S])}return I},u.apply(this,arguments)}m(u,"_extends");const c=new o.b("trials");var E;(function(I){I.Purple="purple",I.White="white"})(E||(E={}));const v={eventId:h.EventId.UPGRDEXP_TRIAL,uiComponentName:h.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},g=m(I=>{let{className:C,autoClogProps:f,badgeTheme:S=E.Purple}=I;const D=Object(a.c)(l.b),p=Object(a.c)(l.c),b=c.t("PRO"),M=t.a.createElement("div",{className:Object(d.default)("p-pro_badge",`p-pro_badge--${S}`,C,{"p-pro_badge--v2":D||p}),"data-qa":"pro_badge","aria-label":b},c.t("PRO"));return Object(r.a)(f)?M:t.a.createElement(i.a,u({},v,f),M)},"ProBadge");g.displayName="ProBadge";var O=s.b=g},GoiD:function(K,s,e){"use strict";e.d(s,"a",function(){return I});var n=e("SQ0V"),t=e("hjzp"),a=e("CnKg"),r=e("4hjS"),d=e("RV0M"),o=e("4iK2"),i=e("bcZH"),h=e("I0j/"),l=e("37+L"),u=e("59uo"),c=e("D1k6"),E=e("6dQg"),v=e("E3dU"),g=e("5pIt"),O=e("KcWJ");const I=Object(n.c)("Opens the Quip doc comment thread in the side or flexpane",(C,f,S,D)=>{let{fileId:p,quipCommentThreadId:b,shouldIncludeBack:M=!0,shouldOpenInTile:_,replaceHistoryState:P,openInPrimaryTile:y,focusTarget:j}=S;const U=Object(t.a)(p),W=Object(a.c)(b),L=Object(r.l)(f()),{shouldUseNavigate:R}=D(d.a),A=Object(E.a)(p)?Object(v.f)(f(),p):Object(g.c)(f(),p);let B,F;if(L===o.a||Object(i.a)(f())?(B=o.a,F=p):M&&(A?(B="channel_canvas",F=A):(B="comments",F=p)),R)return C(Object(h.a)(Object(l.R)({entityId:Object(a.a)(p),commentThreadId:b})));var k;const V=(k=Object(u.b)(f()))!==null&&k!==void 0?k:null;return C(Object(c.a)({focusTarget:j,tileKey:V,entityId:p,quipCommentThreadId:b})),C(Object(O.a)({channelId:U,threadTs:W,origin:B,originId:F,shouldOpenInTile:_,replaceHistoryState:P,openInPrimaryTile:y}))});I.meta={name:"createThunk",key:"createThunkshowQuipCommentThread",description:"Opens the Quip doc comment thread in the side or flexpane"}},Gs4e:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ifKl"),d=e("FRd1"),o=e("ktUG");function i(){return i=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(E[O]=g[O])}return E},i.apply(this,arguments)}m(i,"_extends");const h={small:"small",medium:"medium",large:"large"};var l;let u=m(class extends(l=t.a.Component){componentDidMount(){if(this.props.focusOnMount){var v;(v=this.props.refToForward.current)===null||v===void 0||v.focus()}}onChange(v){this.props.onChange&&this.props.onChange(v.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(v){this.props.readOnly&&this.props.forceSelectAll&&v.currentTarget.select()}blur(){var v;(v=this.props.refToForward.current)===null||v===void 0||v.blur()}focus(){var v;(v=this.props.refToForward.current)===null||v===void 0||v.focus()}render(){const{ariaDescribedby:v,isInvalid:g,ariaLabelledby:O,ariaRequired:I,className:C,id:f,isDisabled:S,name:D,placeholder:p,size:b,type:M,refToForward:_,ariaLabel:P,forceSelectAll:y,focusOnMount:j,autoClogProps:U,autoComplete:W,...L}=this.props,R=Object(a.default)("c-input_text",{"c-input_text--large":b===h.large,"c-input_text--small":b===h.small,"c-input_text--with_error":g,"c-input_text--with_inline_alert":g},C),A=t.a.createElement("input",i({},L,{"aria-describedby":L["aria-describedby"]||v,"aria-invalid":L["aria-invalid"]||g,"aria-labelledby":L["aria-labelledby"]||O,"aria-required":L["aria-required"]||I,"aria-label":L["aria-label"]||P,autoComplete:W,className:R,disabled:S,id:f,name:D,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:p,ref:_,type:M}));return U?t.a.createElement(d.a,{autoClogProps:U,actionProps:{onChange:{action:o.UiAction.ENTER_TEXT},onCopy:{action:o.UiAction.COPY_TO_CLIPBOARD}},elementType:o.ElementType.INPUT},A):A}constructor(v){super(v),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");u.displayName="TextInput",u.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:r.a,onCopy:r.a,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"};var c=s.b=t.a.forwardRef((E,v)=>t.a.createElement(u,i({},E,{refToForward:v||t.a.createRef()})))},HCZ2:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),r=e("BHdc"),d={callout:"callout__G9Iwc"};function o(h){let{children:l,className:u,dataQa:c,onClick:E=a.a,onKeyDown:v=a.a,role:g=void 0,tabIndex:O=void 0,ariaLabel:I=void 0}=h;return t.a.createElement("div",{className:Object(r.default)(u,d.callout),"data-sk":"callout","data-qa":c,onClick:E,onKeyDown:v,role:g,tabIndex:O,"aria-label":I},l)}m(o,"Callout"),o.displayName="Callout",o.displayName="Callout";var i=s.a=o},HEqF:function(K,s,e){K.exports=e.p+"slackbot_neutral_32-44a4c24.png"},HHxC:function(K,s,e){"use strict";e.d(s,"a",function(){return O});var n=e("LZPg"),t=e("PIf0"),a=e("vfQU"),r=e("SZMM"),d=e("RpF1"),o=e("6inW"),i=e("SQ0V"),h=e("lhZz"),l=e("+CZ0"),u=e("SIMs"),c=e("GNR7"),E=e("3vtZ"),v=e("QIbu"),g=e("kBpe");const O=Object(i.c)("Resizes the huddle window",(I,C,f,S)=>{let{surface:D}=f;const p=C(),{window:b,windowId:M}=S(t.a);if(!Object(o.b)(M))return;const P=b.outerWidth,y=Object(h.getStateForClientStore)(),j=Object(l.a)(y);let U,W;if(D===v.b.WINDOW_COMPACT){const k=Object(n.V)(p),V=Object(c.h)(p);U=Object(E.i)({self:k,peers:V}),W=d.f}else D===v.b.WINDOW_FULL&&(U=d.m,W=d.n);let L=1;if(Object(g.i)()?L=Object(a.bb)():Object(g.h)()&&(L=P/b.innerWidth),U&&(U*=L),!Object(r.d)()&&U){const k=b.outerHeight-b.innerHeight*L;k>0&&(U+=k)}const R=Object(u.g)(p,{huddleId:j,surface:D}),A=(R==null?void 0:R.height)||U,B=(R==null?void 0:R.width)||W;if(!A||!B)return;let F=0;D===v.b.WINDOW_COMPACT&&B<P&&(F=P-B),b.resizeTo(B,A),F&&b.moveBy(F,0)});O.meta={name:"createThunk",key:"createThunkresizeHuddleWindow",description:"Resizes the huddle window"}},"HMy/":function(K,s,e){"use strict";e.d(s,"d",function(){return c}),e.d(s,"b",function(){return E}),e.d(s,"f",function(){return v}),e.d(s,"e",function(){return g}),e.d(s,"g",function(){return O}),e.d(s,"i",function(){return I}),e.d(s,"h",function(){return C}),e.d(s,"j",function(){return f}),e.d(s,"c",function(){return S}),e.d(s,"a",function(){return D});var n=e("ZKjC"),t=e("uVZW"),a=e("rZ8V"),r=e("NgZ7"),d=e("RVJP"),o=e("IaLB"),i=e("q0lC"),h=e("28Q5"),l=e("7+Lm"),u=e("iJ8e");const c=Object(n.b)((p,b)=>Object(o.n)(p)===b);c.meta={name:"createSelector",key:"createSelectorisTractorChannel",description:(p,b)=>Object(o.n)(p)===b};const E=m((p,b)=>{if(!(!Object(h.f)(p)||!c(p,b)||Object(d.d)(p,"productivity_packs_v2",!1)!=="treatment"||!Object(i.h)(p)||Object(a.m)(p)))return Object(r.a)(p,"seen_tractor_channel_canvas")||0},"hasOpenedCanvasOnTractorChannel"),v=Object(n.b)((p,b)=>c(p,b)&&Object(h.f)(p)&&Object(i.h)(p)&&!Object(a.m)(p)&&Object(d.d)(p,"productivity_packs_v2")==="treatment");v.meta={name:"createSelector",key:"createSelectorshowProductivityPacksAndTriggerExposure",description:(p,b)=>c(p,b)&&Object(h.f)(p)&&Object(i.h)(p)&&!Object(a.m)(p)&&Object(d.d)(p,"productivity_packs_v2")==="treatment"};const g=Object(n.b)(p=>Object(h.f)(p)&&Object(i.h)(p)&&!Object(a.m)(p)&&Object(d.d)(p,"productivity_packs_v2",!1)==="treatment");g.meta={name:"createSelector",key:"createSelectorshowProductivityPackCoachmarks",description:p=>Object(h.f)(p)&&Object(i.h)(p)&&!Object(a.m)(p)&&Object(d.d)(p,"productivity_packs_v2",!1)==="treatment"};const O=Object(n.b)(p=>g(p)?Object(l.c)(p,t.g.SMB_PRODUCTIVITY_PACKS)===t.h.SMB_PRODUCTIVITY_PACKS_CANVAS_COACHMARK:!1);O.meta={name:"createSelector",key:"createSelectorshowProductivityPacksCanvasCoachmark",description:p=>g(p)?Object(l.c)(p,t.g.SMB_PRODUCTIVITY_PACKS)===t.h.SMB_PRODUCTIVITY_PACKS_CANVAS_COACHMARK:!1};const I=Object(n.b)(p=>g(p)?Object(l.c)(p,t.g.SMB_PRODUCTIVITY_PACKS)===t.h.SMB_PRODUCTIVITY_PACKS_HUDDLES_COACHMARK:!1);I.meta={name:"createSelector",key:"createSelectorshowProductivityPacksHuddlesCoachmark",description:p=>g(p)?Object(l.c)(p,t.g.SMB_PRODUCTIVITY_PACKS)===t.h.SMB_PRODUCTIVITY_PACKS_HUDDLES_COACHMARK:!1};const C=Object(n.b)((p,b)=>{let{sectionType:M}=b;return M!==u.a||!g(p)?!1:Object(l.c)(p,t.g.SMB_PRODUCTIVITY_PACKS)===t.h.SMB_PRODUCTIVITY_PACKS_CHANNELS_COACHMARK});C.meta={name:"createSelector",key:"createSelectorshowProductivityPacksChannelsCoachmark",description:(p,b)=>{let{sectionType:M}=b;return M!==u.a||!g(p)?!1:Object(l.c)(p,t.g.SMB_PRODUCTIVITY_PACKS)===t.h.SMB_PRODUCTIVITY_PACKS_CHANNELS_COACHMARK}};const f=Object(n.b)(p=>g(p)?Object(l.c)(p,t.g.SMB_PRODUCTIVITY_PACKS)===t.h.SMB_PRODUCTIVITY_PACKS_INVITES_COACHMARK:!1);f.meta={name:"createSelector",key:"createSelectorshowProductivityPacksInvitesCoachmark",description:p=>g(p)?Object(l.c)(p,t.g.SMB_PRODUCTIVITY_PACKS)===t.h.SMB_PRODUCTIVITY_PACKS_INVITES_COACHMARK:!1};const S=Object(n.b)(p=>O(p)||I(p)||C(p,{sectionType:u.a})||f(p));S.meta={name:"createSelector",key:"createSelectorisProductivityPackCoachmarksTourActive",description:p=>O(p)||I(p)||C(p,{sectionType:u.a})||f(p)};const D=Object(n.b)(p=>Object(d.d)(p,"test_aa")==="treatment");D.meta={name:"createSelector",key:"createSelectorcheckExposuresOnPageLoadForCreators",description:p=>Object(d.d)(p,"test_aa")==="treatment"}},HP72:function(K,s,e){"use strict";e.d(s,"a",function(){return H});var n=e("BHdc"),t=e("HI9p"),a=e("Yk7g"),r=e("ifKl"),d=e("HiDb"),o=e("qAkX"),i=e("yIs4"),h=e("7EGn"),l=e("vfWj"),u=e("Muja"),c=e("oTSI"),E=e("hbEN"),v=e("WIr4"),g=e("3zPy"),O=e.n(g),I=e("q1tI"),C=e.n(I),f=e("c7k8"),S=e("RqXZ"),D=e("yxNq"),p;(function(Z){Z[Z.ELEMENT=1]="ELEMENT",Z[Z.ATTRIBUTE=2]="ATTRIBUTE",Z[Z.TEXT=3]="TEXT",Z[Z.CDATA_SECTION=4]="CDATA_SECTION",Z[Z.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",Z[Z.ENTITY=6]="ENTITY",Z[Z.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",Z[Z.COMMENT=8]="COMMENT",Z[Z.DOCUMENT=9]="DOCUMENT",Z[Z.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",Z[Z.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",Z[Z.NOTATION=12]="NOTATION"})(p||(p={}));const b=new Set(["INPUT","TEXTAREA","SELECT"]),M=new Set([...b,"BUTTON"]),_="http://www.w3.org/1999/xhtml",P="http://www.w3.org/2000/svg";function y(Z){return(Z==null?void 0:Z.nodeType)===p.TEXT}m(y,"isTextNode");function j(Z){return(Z==null?void 0:Z.nodeType)===p.ELEMENT}m(j,"isElement");function U(Z){return j(Z)&&Z.namespaceURI===_}m(U,"isHtmlElement");function W(Z){return j(Z)&&Z.namespaceURI===P}m(W,"isSvgElement");function L(Z){return U(Z)||W(Z)}m(L,"isHtmlOrSvgElement");function R(Z){return U(Z)||W(Z)}m(R,"isElementCssInlineStyle");function A(Z){return F(Z,"a")}m(A,"isAnchorElement");function B(Z){return U(Z)&&M.has(Z.tagName)}m(B,"isInteractiveElement");function F(Z,G){return U(Z)&&Z.localName===G}m(F,"isHtmlElementWithTagName");function k(Z){return y(Z)?Z:null}m(k,"asTextNode");function V(Z){return j(Z)?Z:null}m(V,"asElement");function X(Z){return U(Z)?Z:null}m(X,"asHtmlElement");function J(Z,G){const ne=Z;return ne.hasAttribute&&ne.hasAttribute(G)}m(J,"hasAttribute");function Y(Z,G){return J(Z,`data-${G}`)}m(Y,"hasData");var ie=e("RMmo"),de=e("2K8U"),pe=e("lYQS"),oe=e("FWtP"),me=e("oEDn"),re=e("nNoG"),ve=e("LpvA"),q=e("MYuU"),ce=e("1ufr");function he(){return he=Object.assign||function(Z){for(var G=1;G<arguments.length;G++){var ne=arguments[G];for(var ge in ne)Object.prototype.hasOwnProperty.call(ne,ge)&&(Z[ge]=ne[ge])}return Z},he.apply(this,arguments)}m(he,"_extends");const Se=new re.b("select"),se="-",H="sk-select-clear",Oe={label:"Clear selection",value:H},$=O()("esc");let z=m(class ui extends ve.a{getCurrentActiveElement(){var G,ne;return(ne=(G=this.props.window)===null||G===void 0?void 0:G.document.activeElement)!==null&&ne!==void 0?ne:null}componentDidUpdate(G){var ne;const{selectState:ge,setSelectState:ae,shouldIncludeActiveOption:fe=!1,dynamicHeight:Te=!1,optionsShallowEqualComparisonDepth:ye=4,shouldRerenderOnOptionChange:Ue=!1}=this.props,{filterQuery:Ne,options:He,initialActiveOption:ze}=ge,Je=!Object(D.a)(G.selectState.options,He,ye),Xe=Ne!==G.selectState.filterQuery;if(Je||Xe){const $e=typeof ze<"u"?this.getInitialActiveRowIndex():this.getFirstSelectableRowIndex();ae(()=>({activeRowIndex:$e,...fe?{activeOption:this.getOptionFromList($e)}:null}));const ct=$e||$e===0;this.list.current&&ct&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow($e))}if(Je&&!Xe&&Ue){var Me;(Me=this.list.current)===null||Me===void 0||Me.recomputeRowHeights()}if(Te&&(ge==null?void 0:ge.options)!==((ne=G.selectState)===null||ne===void 0?void 0:ne.options)){var Ke;(Ke=this.cellMeasurerCache)===null||Ke===void 0||Ke.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}clearDynamicRowHeight(G){var ne;(ne=this.cellMeasurerCache)===null||ne===void 0||ne.clear(G,0),this.list.current&&this.list.current.recomputeRowHeights(G)}getInitialActiveRowIndex(){const{selectState:G}=this.props,{initialActiveOption:ne}=G;if(!ne)return null;const ge=Object(t.a)(this.getOptionsList(),["option.value",ne.value]);return ge>=0?ge:null}getFirstSelectableRowIndex(){const{selectState:G,multiSelectMode:ne=!1,customOptionCompare:ge,shouldAlwaysHaveActiveRow:ae=!1}=this.props,{filterQuery:fe}=G,Te=this.getOptionsList();let ye=null;if((fe||ae)&&Te.length){const Ue=Object(t.a)(Te,Ne=>Ne.type!=="heading"&&Ne.type!=="divider"&&!this.isOptionSelected(G,Ne.option,ne,ge),0);Ue!==-1&&(ye=Ue)}return ye}componentDidMount(){this.keyCommands=this.initKeyCommands();const{focusOnMount:G=!1,selectState:ne,setSelectState:ge,shouldIncludeActiveOption:ae=!1,multiSelectMode:fe=!1}=this.props,{selectedOption:Te,selectType:ye}=ne;ye===de.g.BASIC&&G&&this.open();let Ue=null;if(!fe&&Te){const Ne=Object(t.a)(this.getOptionsList(),["option.value",Te.value]);Ne!==-1&&(Ue=Ne)}else Ue=this.getFirstSelectableRowIndex();ge(()=>({activeRowIndex:Ue,...ae?{activeOption:this.getOptionFromList(Ue)}:null})),this.list.current&&typeof Ue=="number"&&this.list.current.scrollToRow(Ue),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:G=!1,preventScroll:ne=!1}=this.props,{selectType:ge}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),G&&ge===de.g.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:ne})}open(){const{focusOnMount:G=!1,selectState:ne}=this.props,{selectType:ge}=ne;!G&&ge!==de.g.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}close(G){$===G.keyCode&&this.onKeyPressedEsc(G);const{focusOnMount:ne=!1,preventScroll:ge=!1}=this.props,{selectType:ae}=this.props.selectState;!ne&&ae!==de.g.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:ge})}onKeyPressedDown(G){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(G))return;const{selectState:ne,setSelectState:ge,shouldIncludeActiveOption:ae=!1}=this.props,{isExpanded:fe,activeRowIndex:Te}=ne,ye=this.getNextActiveRowIndex(Te);fe&&G.preventDefault(),ge(()=>{var Ue;return{activeRowIndex:ye,...ae?{activeOption:this.getOptionFromList(ye)}:null,displayQuery:(Ue=this.getOptionFromList(ye))===null||Ue===void 0?void 0:Ue.value}}),this.debouncedEnableMouseMove(),this.list.current&&(this.list.current.forceUpdateGrid(),ye===1&&this.isFirstItemUnselectable()?this.list.current.scrollToRow(0):this.list.current.scrollToRow(ye))}onKeyPressedUp(G){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(G))return;const{selectState:ne,setSelectState:ge,shouldIncludeActiveOption:ae=!1}=this.props,{isExpanded:fe,activeRowIndex:Te}=ne,ye=this.getPreviousActiveRowIndex(Te);if(fe&&G.preventDefault(),ge(()=>{var He;return{activeRowIndex:ye,...ae?{activeOption:this.getOptionFromList(ye)}:null,displayQuery:(He=this.getOptionFromList(ye))===null||He===void 0?void 0:He.value}}),this.debouncedEnableMouseMove(),this.list.current){this.list.current.forceUpdateGrid();const He=this.getOptionsList();if(ye){var Ue,Ne;if(((Ue=He[ye])===null||Ue===void 0||(Ne=Ue.option)===null||Ne===void 0?void 0:Ne.height)!==0)this.list.current.scrollToRow(ye);else{const ze=Object(a.a)(He.slice(0,ye)).findIndex(Je=>{var Xe;return(Je==null||(Xe=Je.option)===null||Xe===void 0?void 0:Xe.height)!==0});this.list.current.scrollToRow(ye-ze-1)}}}}onKeyPressedEsc(G){const{shouldIncludeActiveOption:ne=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent(G))return;G.preventDefault();const{onOptionsListClose:ge=r.a}=this.props;ge&&ge(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:null,...ne?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onMouseEnteredOption(G){const{shouldIncludeActiveOption:ne=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:G,...ne?{activeOption:this.getOptionFromList(G)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:G=!1}=this.props;!this.isMouseMoveEnabled||G||this.clearActive()}onKeyPressedEnter(G){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent(G))return;G.preventDefault();const{activeRowIndex:ne,initialActiveOption:ge}=this.props.selectState,ae=this.getOptionsList();let fe;typeof ne=="number"&&(fe=ae[ne]&&ae[ne].option||ae[ne]),fe=fe||ge,!(fe&&(fe.isDisabled||fe.nonInteractive))&&(this.onOptionSelected(fe),this.close(G))}onKeyPressedShiftTab(G){if(!this.shouldInterceptKeyEvent(G))return;const{onKeyPressedShiftTab:ne=r.a}=this.props;ne&&ne!==r.a&&ne(G)}onKeyPressedTab(G){const{selectState:ne,disableSelectOnTab:ge=!1}=this.props;if(ge||!this.shouldInterceptKeyEvent(G)||!ne.isExpanded)return;const{onKeyPressedTab:ae=r.a}=this.props;if(ae&&ae!==r.a){ae(G);return}const{activeRowIndex:fe,initialActiveOption:Te}=ne,ye=this.getOptionsList();let Ue;typeof fe=="number"&&(Ue=ye[fe]&&ye[fe].option||ye[fe]),Ue=Ue||Te,Ue&&G.preventDefault(),!(Ue&&(Ue.isDisabled||Ue.nonInteractive))&&this.onOptionSelected(Ue)}onOptionClicked(G){this.onOptionSelected(G,!0)}onScroll(G){const{onScroll:ne=r.a}=this.props;ne&&ne(G)}static formatOptions(G){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Object(d.a)(G,(ae,fe)=>{if(ae.type==="divider")return{type:"divider"};if(ae.options){const{options:Te,label:ye,...Ue}=ae,Ne=`${ae.label.toLowerCase()}${se}${Object(pe.a)()}`,He=[{type:"heading",label:ae.label,group:Ne,optionsCount:ae.options&&ae.options.length||0,extras:Ue}].concat(ae.options.map((ze,Je)=>{const Xe={type:"option",option:ze,optgroup:Ne};return Je===0&&(Xe.isFirstChild=!0),Je===ae.options.length-1&&(Xe.isLastChild=!0),Xe}));if(ne){if(G[fe-1]&&G[fe-1].value&&!G[fe-1].options&&He.unshift({type:"divider"}),Object(o.a)(G)===ae)return He;He.push({type:"divider"})}return He}return{type:"option",option:ae}})}getClassName(G,ne){const{unstyled:ge=!1}=this.props;return ge&&ne?Object(n.default)(ne):Object(n.default)(ne,G)}getRowHeight(G){var ne;const{optionsRowHeight:ge=de.a,headingRowHeight:ae=null,dividerRowHeight:fe=de.b}=this.props;return G.option&&Object(i.a)(G.option.height)?Number(G.option.height):G.type&&G.type==="divider"?fe:G.type==="heading"&&Object(i.a)((ne=G.extras)===null||ne===void 0?void 0:ne.height)?Number(G.extras.height):G.type&&G.type==="heading"&&ae!==null?ae:ge}clearActive(){const{shouldIncludeActiveOption:G=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:null,...G?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}focusNode(G){G&&this.getCurrentActiveElement()!==G&&G.focus()}getOptionFromList(G){const ne=this.getOptionsList();return Object(h.a)(ne,`[${G}].option`,null)}getOptionsList(){const{multiSelectMode:G=!1,selectState:ne,includeDividers:ge=!0}=this.props,{options:ae,isRequired:fe,selectedOption:Te,filterQuery:ye,minQueryLength:Ue}=ne;let Ne=[];return Ue&&Ue>0&&Te&&!ye&&(Ne=[Te]),ae&&ae.length&&(!G&&Te&&!fe?Ne=[Oe,...ae]:Ne=ae,Ne=[...this.formatOptions(Ne,ge)]),Ne}enableMouseMove(){this.isMouseMoveEnabled=!0}getDataQaTag(G,ne){const{selectDataQa:ge=void 0,selectState:ae}=this.props,{isRequired:fe}=ae,Te=G.value?G.value:G.label;let ye="";typeof Te=="string"&&(ye=Te.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const Ue=fe?ne:ne-1;return G.value?`${ge}_option_${Ue}`:`${ge}_option_header_${ye}`}isFirstItemUnselectable(){var G,ne,ge;const ae=this.getOptionsList();return((G=ae[0])===null||G===void 0?void 0:G.type)==="heading"||((ne=ae[0])===null||ne===void 0||(ge=ne.option)===null||ge===void 0?void 0:ge.nonInteractive)}getNextActiveRowIndex(G){const ne=this.getOptionsList(),ge=this.isFirstItemUnselectable();if(G===null&&!ge)return 0;if(G===null&&ge)return 1;let ae=null;return typeof G=="number"&&(ae=Object(t.a)(ne,fe=>{var Te;return fe.type!=="heading"&&fe.type!=="divider"&&!(!(fe==null||(Te=fe.option)===null||Te===void 0)&&Te.nonInteractive)},G+1)),typeof ae=="number"&&ne[ae]?ae:ge?1:0}getPreviousActiveRowIndex(G){const ne=this.getOptionsList();let ge,ae;return typeof G=="number"&&(ge=Object(a.a)(ne.slice(0,G)).findIndex(fe=>{var Te;return fe.type!=="heading"&&fe.type!=="divider"&&!(!(fe==null||(Te=fe.option)===null||Te===void 0)&&Te.nonInteractive)}),ae=G-ge-1),ne&&!ne.length?null:ae===G?ne.length-1:typeof ae=="number"&&typeof G=="number"&&ne[ae]&&G>0?ae:ne.length-1}initKeyCommands(){var G;const{shouldTokenizeOnComma:ne,shouldTokenizeOnSpace:ge}=this.props,ae=new ie.a((G=this.props.window)===null||G===void 0?void 0:G.document),fe=["enter"];return ne&&fe.push("comma"),ge&&fe.push("space"),ae.bindAll([{keys:["down"],handler:this.onKeyPressedDown},{keys:fe,handler:this.onKeyPressedEnter,filter:Te=>Te.code.toLowerCase()==="comma"&&Te.key!==","},{keys:["up"],handler:this.onKeyPressedUp},{keys:["tab"],handler:this.onKeyPressedTab},{keys:["shift+tab"],handler:this.onKeyPressedShiftTab}]),ae}handleClear(){const{selectState:G,setSelectState:ne,onOptionSelected:ge=r.a,multiSelectMode:ae=!1,onMultiSelectClear:fe=void 0}=this.props,{selectedOption:Te,selectedOptions:ye}=G;let Ue=!1;Te?(ne(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{ge&&ge({value:null})}),Ue=!0):ae&&ye&&ye.length&&(ne(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{fe&&fe()}),Ue=!0),this.list.current&&Ue&&this.list.current.forceUpdateGrid()}onOptionSelected(G){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:ge=r.a,onOptionUnselected:ae=r.a,selectState:fe,setSelectState:Te,multiSelectMode:ye=!1,inputRef:Ue,customOptionCompare:Ne,shouldIncludeActiveOption:He=!1,shouldOptionBeSelected:ze,shouldAllowUnselectInMultiSelectMode:Je=!1,shouldAllowUnselectInSingleSelectMode:Xe=!0,stayExpandedAfterSelection:Me=!1}=this.props;if(G&&!G.isDisabled&&!G.nonInteractive){if(ze&&ze(G)===!1){Te(()=>({activeRowIndex:null,filterQuery:"",isExpanded:!1}),()=>{ge(G)});return}if(G.value===H)this.handleClear();else if(ye){const{selectedOptions:Ke,shouldRefocusInputAfterSelection:$e}=fe;if(!this.isOptionSelected(fe,G,ye,Ne)&&Ke)Te(()=>({selectedOptions:[...Ke,G],activeRowIndex:null,...He?{activeOption:null}:null,filterQuery:"",isExpanded:Me}),()=>{ge&&ge(G)});else if(Je){const Tt=Object(l.a)(Ke,[G],(Et,Le)=>Et.value===Le.value);Te(()=>({selectedOptions:Tt,activeRowIndex:null,...He?{activeOption:null}:null,filterQuery:"",isExpanded:Me}),()=>{ae&&ae(G)})}!$e&&!G.fromUnknown&&Ue&&Ue.current&&Ue.current.focus()}else{const Ke={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:Xe?null:fe.selectedOption};!Object(u.a)(fe.selectedOption,G)&&(Ke.selectedOption=G),Te(()=>Ke,()=>{ge&&ge(G,ne)}),fe.shouldRefocusInputAfterSelection&&Ue&&Ue.current&&Ue.current.focus()}}}getArialabelForItem(G){var ne,ge,ae,fe;const{isFirstChild:Te,isLastChild:ye,optgroup:Ue}=G;if(!Ue)return null;const Ne=Se.t("First item in group {group}, {value}",{group:Ue&&Ue.split(se).slice(0,-1).join("-"),value:typeof((ne=G.option)===null||ne===void 0?void 0:ne.label)=="string"?(ge=G.option)===null||ge===void 0?void 0:ge.label:""}),He=Se.t("Last item in group {group}, {value}",{group:Ue&&Ue.split(se).slice(0,-1).join("-"),value:typeof((ae=G.option)===null||ae===void 0?void 0:ae.label)=="string"?(fe=G.option)===null||fe===void 0?void 0:fe.label:""});return Te?Ne:ye?He:null}getEmptyStateMessage(){const{emptyStateMessage:G,selectState:ne}=this.props,{filterQuery:ge,minQueryLength:ae}=ne;if(G)return G(ge);if(ae){if(!ge)return Se.t("Type to search\u2026");if(ge.length<ae)return Se.t("Keep typing\u2026")}return Se.t("No items")}shouldInterceptKeyEvent(G){return!G.target||!j(G.target)?!1:!!(J(G.target,"aria-autocomplete")||J(G.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains(G.target))}removeAriaAttrsFromGridNode(){const G=this.listBody.current,ne=G&&G.querySelector(".ReactVirtualized__Grid");ne&&(ne.removeAttribute("aria-label"),ne.removeAttribute("aria-readonly"))}renderEmptyState(){const{unstyled:G=!1,width:ne,isLoading:ge=!1,selectDataQa:ae=void 0,includeWrapper:fe=!0}=this.props;if(ge)return C.a.createElement(C.a.Fragment,null);const Te=this.getEmptyStateMessage();if(Te===null)return C.a.createElement(C.a.Fragment,null);const ye=G||!fe?+ne:+ne-de.d;return C.a.createElement("div",{"data-qa":ae?`${ae}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:ye}},C.a.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},Te))}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle(G){return{padding:G?de.c:void 0,boxSizing:"content-box"}}renderList(){const{maxListHeight:G,width:ne,includePadding:ge,unstyled:ae=!1,useSlackScrollbar:fe,dynamicHeight:Te=!1,forceMaxHeight:ye,includeWrapper:Ue=!0,classPrefix:Ne=void 0}=this.props,He=this.getOptionsList(),ze=G||de.e,Je=He.map(ct=>this.getRowHeight(ct)||0).reduce((ct,Tt)=>ct+Tt,0),Xe=ye||Je>=ze?ze:Je,Me=ae||!Ue?+ne:+ne-de.d,Ke=Object(n.default)("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":fe,[`${Ne}__virtual_list`]:!!Ne}),$e=Te&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:ct=>{let{index:Tt}=ct;return this.getRowHeight(He[Tt])};return this.cellMeasurerCache?C.a.createElement(S.a,{className:Ke,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(ge),height:Xe,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:He?He.length:0,rowHeight:$e,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Me}):C.a.createElement(S.a,{className:Ke,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(ge),height:Xe,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:He?He.length:0,rowHeight:$e,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Me})}renderListBody(){const{enableLoadingState:G=!0,isLoading:ne=!1}=this.props;if(ne&&G)return this.renderLoadingState();const ge=this.getOptionsList();return!ge||ge&&!ge.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:G}=this.props,ne=Se.t("Loading results\u2026");return C.a.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:G}},C.a.createElement(me.a,{type:"spinner",animation:"spin"}),C.a.createElement("div",{className:this.getClassName("c-select_options_list__loading_state_message")},ne))}renderRow(G){let{index:ne,key:ge,style:ae,parent:fe}=G;var Te;const{classPrefix:ye=void 0,selectState:Ue,multiSelectMode:Ne=!1,customOptionCompare:He,unstyled:ze=!1,dynamicHeight:Je=!1}=this.props,{selectId:Xe}=Ue,Me=this.getOptionsList();let Ke;Me[ne].option?Ke=Me[ne].option:Ke=Me[ne];const{isPlaceholder:$e}=Ke,{activeRowIndex:ct}=Ue,{selectedOption:Tt,selectedOptions:Et}=Ue;let Le;typeof ct=="number"&&(Le=this.isOptionActive({activeRowIndex:ct},Me,Ke));const jt=this.isOptionSelected({selectedOptions:Et,selectedOption:Tt},Ke,Ne,He),Dt=Ke.value===H,Ee=Me[ne].type==="heading",te=!!Me[ne].optgroup,Ae=Me[ne].type==="divider",Ve=!!Ke.isDisabled,Ye=!!Ke.nonInteractive,ft=Ee||Ye||Ae,tt=Me.filter(Nt=>Nt.type!=="heading"&&Nt.type!=="divider"&&!Nt.nonInteractive),Rt=Object(t.a)(tt,Nt=>Nt.option===Ke,0),rt=ye?`${ye}__option`:"",we=Object(n.default)("c-select_options_list__option",rt,Object(h.a)(Ke,"overrides.className",!1),{"c-select_options_list__option--active":Le&&Object(h.a)(Ke,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":$e,"c-select_options_list__option--selected":jt&&!Ee&&!Ae,"c-select_options_list__option--disabled":Ve,"c-select_options_list__group_header":Ee,"c-select_options_list__group_option":te,"c-select_options_list__divider":Ae,"c-select_options_list__clear_option":Dt});let xe=Dt?Ke.label:C.a.createElement("hr",{className:this.getClassName("c-select_options__divider")});!Ae&&!Dt&&(xe=this.props.renderOption(Ke,{index:ne,isActive:Le,isGroupHeader:Ee,isClearOption:Dt,isSelected:jt&&!Ee&&!Ae,clearDynamicRowHeight:this.clearDynamicRowHeight}));let st;if(ze||!((Te=Ke.overrides)===null||Te===void 0)&&Te.unstyled)st=xe;else{var ke;st=C.a.createElement("span",{"data-qa":Ke.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(ke=Ke.extras)===null||ke===void 0?void 0:ke.forceHeaderWrap})},xe)}const lt=tt.length,at=Rt===-1?void 0:Rt+1,ht=C.a.createElement("div",he({"aria-hidden":ft?"true":null,"aria-selected":Ne?jt:Le,"aria-label":Ee?null:this.getArialabelForItem(Me[ne]),className:this.getClassName(we,rt),"data-qa":Ae?void 0:this.getDataQaTag(Ke,ne),id:Object(q.a)(Xe,`option_${ne}`),key:ge},ae?{style:ae}:{},{onClick:Ve||Ye?Object(c.a)(()=>this.onOptionSelected(Ke)):Object(c.a)(()=>{this.onOptionClicked(Ke)}),onMouseEnter:Ve||Ye?r.a:Object(c.a)(()=>{this.onMouseEnteredOption(ne)}),onMouseLeave:Ve||Ye?r.a:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":Le?"true":void 0,ref:Le?this.currentRow:null,optgroup:te?Me[ne].optgroup:void 0,"aria-disabled":Ve||null,"aria-setsize":lt,"aria-posinset":at}),st);return!Je||!this.cellMeasurerCache?ht:C.a.createElement(f.c,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:ne,key:ge,parent:fe},ht)}isOptionSelected(G,ne,ge,ae){let{selectedOptions:fe,selectedOption:Te}=G;return ge&&(!fe||fe&&!fe.length)||!ge&&!Te?!1:ge?!ae&&ne?fe&&fe.some(ye=>ye.value===ne.value):fe&&fe.some(ye=>ae({selectedOption:ye,listOption:ne})):Te&&ne&&Te.value===ne.value}isOptionActive(G,ne,ge){let{activeRowIndex:ae}=G;if(!ae&&ae!==0)return!1;const Te=ne[ae];return(Te&&Te.option?Te.option:Te)===ge}render(){const{className:G,ariaLabel:ne,classPrefix:ge=void 0,multiSelectMode:ae=!1,selectDataQa:fe=void 0,selectState:Te,dropdownContainer:ye=void 0,footerBannerContent:Ue}=this.props,{isExpanded:Ne,activeRowIndex:He,selectId:ze,selectType:Je}=Te,Xe=Object(n.default)("c-select_options_list",{[`${ge}_options_list`]:ge}),Me=Je===de.g.BASIC&&Ne&&Object(i.a)(He)?Object(q.a)(ze,`option_${He}`):void 0,Ke=C.a.createElement("div",{className:Xe,ref:this.listBody,"data-qa":fe?`${fe}-options-list`:null,id:Object(q.a)(ze,"listbox"),"aria-activedescendant":Me,"aria-label":ne,"aria-multiselectable":!!ae,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:$e=!0}=this.props;if(!$e)return Ke;const ct=Object(n.default)("c-select_options_list__wrapper",{[`${G}`]:G,[`${ge}_options_list_wrapper`]:ge});return C.a.createElement("div",he({className:this.getClassName(ct),"data-qa":fe?`${fe}-options-list-wrapper`:null},ye?{ref:ye}:{}),Ke,Ue&&C.a.createElement("div",{className:"c-select_options_list__footer_banner"},Ue))}constructor(G){super(G),this.isMouseMoveEnabled=!1,Object(v.a)(this,["getOptionsList","getOptionFromList","handleClear","onKeyPressedDown","onKeyPressedEnter","onKeyPressedTab","onKeyPressedShiftTab","onKeyPressedUp","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=C.a.createRef(),this.list=C.a.createRef(),this.currentRow=C.a.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=Object(oe.a)(ui.formatOptions),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=Object(E.a)(this.enableMouseMove,200),this.debouncedOnScroll=Object(E.a)(this.onScroll.bind(this),200),Oe.label=Se.t("Clear selection");const{optionsRowHeight:ne=de.a,dynamicHeight:ge=!1}=G;ge&&(this.cellMeasurerCache=new f.d({defaultHeight:ne,fixedWidth:!0}))}},"SelectOptionsList");z.displayName="SelectOptionsList";var be=s.b=Object(ce.a)(z)},HUUN:function(K,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("Muja"),r=e("fujP"),d=e("ifKl"),o=e("hbEN"),i=e("Lgge"),h=e("s4P+");function l(){return l=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(E[O]=g[O])}return E},l.apply(this,arguments)}m(l,"_extends");const u=Object(h.b)();function c(E){let v=m(class extends n.Component{componentDidMount(){const{searchOnClick:O,disableSearchOnMount:I,expandOnFocus:C,minQueryLength:f}=this.props,{filterQuery:S}=this.state;if(!O&&!I||C){const D=!f||S&&S.length>=f;S!==void 0&&D&&this.search(S)}}componentDidUpdate(O){const{isInvalid:I,selectedOption:C,selectedOptions:f,isDisabled:S,minQueryLength:D}=this.props,p={};O.isInvalid!==I&&(p.isInvalid=I),O.isDisabled!==S&&(p.isDisabled=S),Object(a.a)(O.selectedOption,C)||(p.selectedOption=C),Object(a.a)(O.selectedOptions,f)||(p.selectedOptions=f),Object(a.a)(O.minQueryLength,D)||(p.minQueryLength=D),Object(r.a)(p)||this.setSelectState(()=>p)}componentWillUnmount(){this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel()}setSelectState(O,I){const C=O();(C.filterQuery!==void 0&&C.filterQuery!==this.state.filterQuery||C.searchOnClick)&&(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.state.minQueryLength||C.filterQuery&&C.filterQuery.length>=this.state.minQueryLength?(this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(C.filterQuery)):this.setState(()=>({isLoading:!1,options:[]}))),this.setState(()=>C,I)}search(O){const{search:I,onSearch:C=d.a,onSearchError:f=d.a,selectId:S,processOptions:D=m(p=>i.a.resolve(p),"processOptions")}=this.props;C(O),this.searchPromise=I(O).then(p=>{D(p,O).then(b=>{this.setSelectState(()=>({options:b})),this.setState(()=>({isLoading:!1}))})}).catch(p=>{this.setState(()=>({isLoading:!1})),u.error(`Error when searching for select id: ${S}, error: ${p}`),f(p)})}render(){const O=this.props.inputRef||this.inputRef;return t.a.createElement(E,l({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:O,isLoading:this.state.isLoading}))}constructor(O){super(O),this.inputRef=t.a.createRef(),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:O.isExpanded,expandOnFocus:O.expandOnFocus,selectId:O.selectId,selectedOptions:O.selectedOptions||[],selectedOption:O.selectedOption||null,isRequired:O.isRequired,isLoading:!1,isDisabled:O.isDisabled,isInvalid:O.isInvalid,searchOnClick:O.searchOnClick,minQueryLength:O.minQueryLength},this.search=Object(o.a)(this.search,O.debounceWaitPeriod)}},"CustomSearchWrapper");return v.displayName="CustomSearchWrapper",v.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,minQueryLength:0,onSearch:d.a,onSearchError:d.a,searchOnClick:!1,disableSearchOnMount:!1,processOptions:g=>i.a.resolve(g),shouldAllowUnselectInMultiSelectMode:!1},v}m(c,"withCustomSearch")},Hm4q:function(K,s,e){"use strict"},HpvR:function(K,s,e){"use strict";e.d(s,"b",function(){return i}),e.d(s,"a",function(){return h});var n=e("ZKjC"),t=e("E3dU"),a=e("hjzp"),r=e("6dQg"),d=e("l1I1"),o=e("CnKg");const i=m(l=>{if(Object(d.a)(l)){const{fileIdOrQuipThreadId:E=null}=Object(o.i)(l)||{};if(E&&Object(r.a)(E)){const v=E,g=Object(a.a)(v);return{fileId:v,channelId:g}}}if(Object(r.a)(l)){const E=l,v=Object(a.a)(E);return{fileId:E,channelId:v}}const u=l;return{fileId:Object(a.b)(u),channelId:u}},"getIds"),h=Object(n.b)(function(l,u){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:E}=i(u);return Object(t.d)(l,E,c)});h.meta={name:"createSelector",key:"createSelectorgetFileChannelById",description:function(l,u){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:E}=i(u);return Object(t.d)(l,E,c)}}},I0SW:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("ZKjC");const t=Object(n.b)((a,r)=>{let{channelId:d,ts:o}=r;return a&&a.deletedMessages&&a.deletedMessages[d]&&!!a.deletedMessages[d][o]});t.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(a,r)=>{let{channelId:d,ts:o}=r;return a&&a.deletedMessages&&a.deletedMessages[d]&&!!a.deletedMessages[d][o]}}},IGJb:function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"g",function(){return i}),e.d(s,"c",function(){return l}),e.d(s,"f",function(){return c}),e.d(s,"e",function(){return v}),e.d(s,"d",function(){return O}),e.d(s,"b",function(){return C});var n=e("9oTK"),t=e.n(n),a=e("qgXD");const r=Object(a.a)(["callsScreenshare","createBorderWindow"]),d=function(){var f=Object(n.coroutine)(function*(S,D){r.isAvailable()&&r(S,D)});return m(function(D,p){return f.apply(this,arguments)},"createBorderWindow")}(),o=Object(a.a)(["callsScreenshare","showBorder"]),i=function(){var f=Object(n.coroutine)(function*(){o.isAvailable()&&o()});return m(function(){return f.apply(this,arguments)},"showBorder")}(),h=Object(a.a)(["callsScreenshare","hideBorder"]),l=function(){var f=Object(n.coroutine)(function*(){h.isAvailable()&&h()});return m(function(){return f.apply(this,arguments)},"hideBorder")}(),u=Object(a.a)(["callsScreenshare","setWindowOrScreenId"]),c=function(){var f=Object(n.coroutine)(function*(S){u.isAvailable()&&u(S)});return m(function(D){return f.apply(this,arguments)},"setWindowOrScreenId")}(),E=Object(a.a)(["callsScreenshare","setWindowBorderWidth"]),v=function(){var f=Object(n.coroutine)(function*(S){E.isAvailable()&&E(S)});return m(function(D){return f.apply(this,arguments)},"setWindowBorderWidth")}(),g=Object(a.a)(["callsScreenshare","setWindowBorderColor"]),O=function(){var f=Object(n.coroutine)(function*(S,D,p,b){g.isAvailable()&&g(S,D,p,b)});return m(function(D,p,b,M){return f.apply(this,arguments)},"setWindowBorderColor")}(),I=Object(a.a)(["callsScreenshare","getWindowPositionAndDimensions"]),C=function(){var f=Object(n.coroutine)(function*(){if(I.isAvailable())return I()});return m(function(){return f.apply(this,arguments)},"getWindowPositionAndDimensions")}()},IHnR:function(K,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return r});var n=e("ZKjC");const t=Object(n.b)((o,i)=>{var h;return!!(!((h=o.externalTeamIds)===null||h===void 0)&&h[i])});t.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(o,i)=>{var h;return!!(!((h=o.externalTeamIds)===null||h===void 0)&&h[i])}};var a;const r=Object(n.b)(o=>!!Object.keys((a=o.externalTeamIds)!==null&&a!==void 0?a:{}).length);var d;r.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:o=>!!Object.keys((d=o.externalTeamIds)!==null&&d!==void 0?d:{}).length}},IIEv:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("AqXs"),d=e("s4P+"),o=e("hwwf"),i=e("uoFi");const h=Object(a.c)("Fetch list records",function(){var l=Object(n.coroutine)(function*(u,c,E){let{listId:v}=E;try{const O=(yield u(Object(r.a)({listId:v,reason:"get-list-records"}))).records.map(I=>{var C,f,S,D,p;return Object(o.o)({id:I.id,fields:I.fields,dateCreated:I.date_created,createdBy:(C=I.created_by)!==null&&C!==void 0?C:"",threadTs:(f=I.thread_ts)!==null&&f!==void 0?f:"",position:(S=I.position)!==null&&S!==void 0?S:"",updatedTimestamp:(D=I.updated_timestamp)!==null&&D!==void 0?D:"",updatedBy:(p=I.updated_by)!==null&&p!==void 0?p:"",viewPositions:I.view_positions,platformRefs:I.platform_refs})});u(Object(i.c)({listId:v,records:O}))}catch(g){Object(d.a)({label:"lists"}).error("error fetching list records",g)}});return function(u,c,E){return l.apply(this,arguments)}}());h.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},IMMN:function(K,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("beVI"),t=e("E97Y"),a=e("y/Pn"),r=e("miM7");const d=m((u,c)=>!Object(t.h)(c)&&Object(a.a)(c)&&!Object(r.a)(c),"canBeDisconnected");var o=e("lihz"),i=e("G0eX"),h=e("MPQZ");function l(u,c){if(c&&!d(u,c))return!1;if(c&&Object(o.a)(u,c))return!0;const E=Object(n.g)(u);return Object(i.F)(E)?!0:Object(h.b)(u,c)}m(l,"canUserDisconnectExternalSharedChannel")},IPMH:function(K,s,e){K.exports=e.p+"gym-4d948fc.jpg"},ITkT:function(K,s,e){"use strict";e.d(s,"a",function(){return D}),e.d(s,"c",function(){return p}),e.d(s,"e",function(){return b}),e.d(s,"b",function(){return M}),e.d(s,"d",function(){return _}),e.d(s,"h",function(){return P}),e.d(s,"i",function(){return y}),e.d(s,"g",function(){return W}),e.d(s,"f",function(){return L});var n=e("Awbm"),t=e("O0Iw"),a=e("G0eX"),r=e("M1/X"),d=e("xwCZ"),o=e("beVI"),i=e("ZOzc"),h=e("E3dU"),l=e("PMNn"),u=e("Cwwo"),c=e("AdD7"),E=e("rZ8V"),v=e("gogJ"),g=e("+VTe"),O=e("F294");function I(R){return R&&{...R,type:Object(O.a)(R==null?void 0:R.type)==="owner"?["org_admin"]:["admin"]}}m(I,"mapToWhoCanStyle");function C(R,A){return Object(g.a)(R,"who_can_manage_guests",[A],I)}m(C,"canUserDoManageGuestsTeamPrefForTeamId");const f={mapToWhoCanStyle:I};var S=e("Iwbv");function D(R){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const B=Object(d.c)(R),F=A??Object(o.g)(R);return F?Object(t.a)(R,F.id)?!0:Object(n.a)(B)?!1:Object(i.a)(R,"invites_only_admins",A==null?void 0:A.id)?Object(a.z)(F)&&Object(i.a)(R,"who_can_manage_guests",F.id)?C(R,F.id):!1:!0:!1}m(D,"canUserInviteMembersToWorkspace");function p(R,A,B){const F=A||Object(d.c)(R),k=B||Object(o.g)(R);return!(!k&&!k||Object(n.a)(F)||!Object(i.a)(R,"invite_requests_enabled",k.id))}m(p,"canUserRequestToInvite");function b(R){const A=Object(d.c)(R),B=Object(o.g)(R);if(!B||Object(S.a)(R))return!1;const k=Object(a.z)(B),V=Object(E.m)(R);return k&&V?!!Object(v.b)(R).filter(X=>p(R,A,X)||D(R,X)).length:!!(p(R,A,B)||D(R))}m(b,"canUserSeeInviteModal");function M(R,A){const B=Object(o.g)(R);if(!B)return!1;const F=Object(h.d)(R,A),k=Object(a.F)(B),V=Object(a.z)(B),X=Object(r.c)(R,A),J=V?!y(R,F):b(R);return k&&J||!k&&(J||X)}m(M,"canUserInviteToChannelByEmail");function _(R,A){const B=Object(d.c)(R),F=A?Object(o.s)(R,A):Object(o.g)(R);return!F||Object(a.F)(F)?!1:p(R,B,F)?!0:Object(a.z)(F)?C(R,F.id):Object(t.a)(R,F.id)}m(_,"canUserSeeAccountTypeOptions");function P(R,A){let{ignoreGuestSettings:B}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const F=Object(d.c)(R),k=A?Object(o.s)(R,A):Object(o.g)(R);return!Object(a.z)(k)||Object(t.a)(R,k.id)||!Object(i.a)(R,"invites_only_admins",k.id)||p(R,F,k)?!1:B?!0:C(R,k.id)}m(P,"shouldDisableFullMemberInviteOption");function y(R,A){const B=Object(l.b)(R,A);return!!(B!=null&&B.every(F=>P(R,F,{ignoreGuestSettings:!0})))}m(y,"shouldDisableFullMemberInviteOptionForChannel");function j(R){let{state:A,team:B,inviteType:F}=R,k=B;if(!B&&(k=Object(o.g)(A),!k))return!1;const V=Object(i.a)(A,"auth_mode"),X=V==="google"||V==="saml";return Object(a.z)(k)&&F===u.a.Member||X&&Object(i.a)(A,"sso_auth_restrictions")===0}m(j,"shouldShowSsoAlert");function U(R){let{state:A,inviteType:B}=R;const F=Object(i.a)(A,"auth_mode"),k=Object(i.a)(A,"sso_auth_restrictions");return F==="google"?B===u.a.Member&&(k===0||k===1)||(B===u.a.MultiChannelGuest||B===u.a.SingleChannelGuest)&&k===0:!1}m(U,"shouldShowGoogleDomainsNotice");function W(R){let{state:A,inviteType:B,team:F}=R;if(!B||!Object(u.f)(B))throw new Error(`Invalid invite type: ${B}`);const k=F||Object(o.g)(A);if(!k)return!1;const V=Object(i.a)(A,"invites_only_admins",k==null?void 0:k.id),X=Object(a.z)(k),J=Object(t.a)(A,k.id);switch(B){case u.a.Member:return J?!1:!!V;case u.a.MultiChannelGuest:case u.a.SingleChannelGuest:return X?!C(A,k.id):!J;default:return!0}}m(W,"isRequestingInvitesForType");function L(R){let{state:A}=R;const B=Object(o.g)(A);return Object(c.b)()?!0:Object(a.z)(B)?!!Object(i.a)(A,"hide_gsuite_invite_option"):!1}m(L,"isGoogleDirectoryDisabled")},ITwW:function(K,s,e){K.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},IXWQ:function(K,s,e){K.exports=e.p+"living_room-preview-1b54428.jpg"},IXzp:function(K,s,e){"use strict";e.d(s,"i",function(){return U}),e.d(s,"a",function(){return W}),e.d(s,"h",function(){return L}),e.d(s,"g",function(){return R}),e.d(s,"b",function(){return A}),e.d(s,"e",function(){return B}),e.d(s,"d",function(){return X}),e.d(s,"f",function(){return ie}),e.d(s,"c",function(){return de}),e.d(s,"j",function(){return pe}),e.d(s,"k",function(){return oe});var n=e("ZOzc"),t=e("ISSR"),a=e("vfvl"),r=e("Yauy"),d=e("gVOt"),o=e("E97Y"),i=e("y/e0"),h=e("G0eX"),l=e("mzZe"),u=e("xwCZ"),c=e("I27i"),E=e("Enx8"),v=e("C3vN"),g=e("+tZp"),O=e("beVI"),I=e("nNoG"),C=e("E3dU"),f=e("rYtS"),S=e("fEaq"),D=e("3REw"),p=e("y/Pn"),b=e("Ufq/"),M=e("sgFo"),_=e("3vtZ");const P="Slack",y=new I.b("calls");function j(re){return!!Object(n.a)(re,"allow_calls")}m(j,"isCallsAllowedByAdmin");function U(re,ve){return Object(_.N)(re)&&Object(M.g)(re)&&Object(_.e)(re,ve)}m(U,"isCallsDeprecatedAndHuddlesAllowed");function W(re,ve,q){const ce=Object(C.m)(re,ve.id);return!(!j(re)&&!U(re,ce)||Object(v.jb)(ve)&&!q||!Object(v.O)(ve)||!Object(S.a)(re,ve.id)||Object(r.T)(ce))}m(W,"canCallMember");function L(re,ve){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const ce=Object(u.g)(re,Object(d.a)(ve)),he=q&&Y(re);return!j(re)&&!U(re,ve)&&!he||Object(a.a)(ve)||Object(o.g)(ve)&&(!ce||!W(re,ce))||!Object(r.wb)(ve)?!1:Object(l.a)(re,ve)}m(L,"isCallButtonVisibleForChannel");function R(re,ve){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const ce=Object(O.g)(re);let he=!Object(h.J)(ce)&&!Object(o.g)(ve);return q&&(he=he&&!Y(re)),Object(c.d)(re)?(he||Object(r.lb)(ve)||Object(t.a)(ve))&&!me(ve):!0}m(R,"isCallButtonDisabledForChannel");function A(re,ve){const q=Object(C.d)(re,ve);return q&&!R(re,q,!1)&&L(re,q)}m(A,"canStartCallInChannel");function B(re,ve,q){const ce=Object(i.a)(ve),he=Object(f.d)(re,ce),Se=Object(u.g)(re,q,{preferNonExistentToNull:!1,fetchIfMissing:!0}),se=Object(v.r)(Se),H=Object(f.b)({callsApp:he,memberPhoneNumber:se,hideVideoApps:!1}),Oe=H.length,$=U(re,ve);let z=Oe;return $&&(z+=1),z>1?y.t("{numCallApps} calling options",{numCallApps:z}):z===1?Oe===0?"":y.t("using {appName}",{appName:H[0].name}):""}m(B,"getTipSubtitleForStartCall");function F(re,ve,q){const ce=Object(E.a)(re,Object(d.a)(ve));return q?y.rt("Huddle with {name}",{name:ce,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):y.rt("Call {name}",{name:ce})}m(F,"getTipForIm");function k(re,ve,q){const ce=Object(r.D)(re,ve).map(Se=>Object(g.a)(re,Se)),he=Object(I.h)(ce,{noEscape:!0}).join("");return q?y.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:he,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):y.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:he})}m(k,"getTipForMpim");function V(re,ve,q){return Object(o.g)(ve)?F(re,ve,q):Object(o.i)(ve)?k(re,ve,q):q?y.t("Huddle in {channelName}",{channelName:Object(r.t)(re,ve),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):y.t("Start a call")}m(V,"getTipForChannel");function X(re,ve){const q=Object(O.g)(re),ce=Object(h.J)(q),he=Object(o.i)(ve),Se=Y(re),se=ce||Se,H=U(re,ve)&&!ie(re),Oe=Object(M.g)(re);return Object(c.d)(re)?se&&Object(t.a)(ve)?H&&Oe?y.t("Unarchive this channel to start a huddle"):y.t("Unarchive this channel to start a call"):se&&Object(r.lb)(ve)?H&&Oe?y.t("Join this channel to start a huddle"):y.t("Join this channel to start a call"):Se||me(ve)?V(re,ve,H):!ce&&he?y.t("To start a group call, check out our paid plans."):!ce&&Object(i.a)(ve)?y.t("To start a call in a channel, check out our paid plans."):V(re,ve,H):H&&Oe?y.t("Go online to start a huddle"):y.t("Go online to start a call")}m(X,"getTipForStartCall");function J(re,ve){const q=Object(O.g)(re),ce=Object(h.J)(q),he=Object(o.i)(ve),Se=Y(re),se=ce||Se;return!Object(c.d)(re)||se&&Object(t.a)(ve)||se&&Object(r.lb)(ve)||Se?!1:!!(!ce&&he||!ce&&Object(i.a)(ve))}m(J,"isFreeTeamAndInChannelOrMpim");function Y(re){const ve=Object(f.e)(re);for(let q=0;q<ve.length;q++)if(ve[q].id!==D.j)return!0;return!1}m(Y,"isThirdPartyCallEnabled");function ie(re){return Object(f.e)(re).length>0}m(ie,"isAnyCallAppEnabled");function de(re){const ve=y.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),q=y.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:re,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),ce=y.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:ve,description:q,confirm:ce,cancel:y.t("Cancel")}}m(de,"getCallConfirmationStrings");function pe(re){if(Object(M.g)(re))return!1;const ve=Object(n.a)(re,"calls_apps");return!!(ve&&ve.video&&ve.video.findIndex(q=>(q==null?void 0:q.id)===D.j)!==-1)}m(pe,"isNativeSlackCallEnabled");function oe(re){return Object(b.a)(re)&&!pe(re)||Object(M.g)(re)}m(oe,"isSlackCallSlashCommandDisabled");function me(re){return Object(p.a)(re)&&!Object(o.g)(re)}m(me,"shouldEnableForSponsoredConnections")},Icpd:function(K,s,e){"use strict";var n=e("fujP"),t=e("lCmp"),a=e("6ysl");s.a=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Object(n.a)(r)?!1:Object(t.a)(r,d=>Object(a.g)(d))}},Iqnp:function(K,s,e){"use strict";e.d(s,"e",function(){return y}),e.d(s,"f",function(){return j}),e.d(s,"c",function(){return W}),e.d(s,"a",function(){return L}),e.d(s,"d",function(){return A}),e.d(s,"b",function(){return B});var n=e("9oTK"),t=e.n(n),a=e("Uqsd"),r=e("PqaZ"),d=e("n0Pp"),o=e("s4P+"),i=e("lhZz"),h=e("Eh7F"),l=e("t890"),u=e("9Gfp"),c=e("sEtg"),E=e("BEaa"),v=e("Dn8e"),g=e("HlBM"),O=e("SQ0V"),I=e("sgFo");const C="AWARENESS-MANAGER",f="AWARENESS-MANAGER-CHIME",S=`[${C}] unknown awareness subtype`,D=3e4,p=250,b=5e3,M=15,_=Object(O.c)("Query for awareness state from other users who are subscribed to the topic",function(){var k=Object(n.coroutine)(function*(V,X,J){const Y=X();if(!Object(d.f)(Y))return;const ie=Object(u.a)(Y),de={channel:J,type:"awareness",subtype:h.b.QUERY,user:ie};try{V(Object(r.h)(de))}catch(pe){Object(o.a)({getState:X}).warn("Failed to send awareness query: ",pe)}});return function(V,X,J){return k.apply(this,arguments)}}());_.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const P=Object(O.c)("Send awareness state to other users who are subscribed to the topic",function(){var k=Object(n.coroutine)(function*(V,X,J){const Y=X();if(!Object(d.f)(Y))return;const ie=Object(u.a)(Y),de=Object(c.c)(Y,J,ie),pe={channel:J,type:"awareness",subtype:h.b.BROADCAST,user:ie,awareness_state:de};try{V(Object(r.h)(pe))}catch(oe){Object(o.a)({getState:X}).warn("Failed to send awareness query: ",oe)}});return function(V,X,J){return k.apply(this,arguments)}}());P.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const y=Object(O.c)("Temporarily subscribe to a topic for updates",(k,V,X)=>{const J=V();if(Object(d.f)(J))try{k(Object(r.h)({channel_id:X,type:"temp_channel_sub"}))}catch(Y){Object(o.a)({getState:V}).warn("Failed to subscribe to awareness topic: ",Y)}});y.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const j=Object(O.c)("Temporarily unsubscribe from topic updates",(k,V,X)=>{const J=V();if(Object(d.f)(J))try{k(Object(r.h)({channel_id:X,type:"temp_channel_unsub"}))}catch(Y){Object(o.a)({getState:V}).warn("Failed to unsubscribe from awareness topic: ",Y)}});j.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const U=Object(O.c)("Alert other users who are subscribed to the topic that a subscriber has left",function(){var k=Object(n.coroutine)(function*(V,X,J){const Y=X();if(!Object(d.f)(Y))return;const ie=Object(u.a)(Y),de={channel:J,type:"awareness",subtype:h.b.CLOSE,user:ie};try{V(Object(r.h)(de))}catch(pe){Object(o.a)({getState:X}).warn("Failed to send awareness query: ",pe)}});return function(V,X,J){return k.apply(this,arguments)}}());U.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class W{maybeSendCurrentAwarenessState(V){const X=Object(i.getStoreInstanceByTeamId)(this.teamId);return X?(X.dispatch(P(V)),!0):!1}maybeSendAwarenessQuery(V){const X=Object(i.getStoreInstanceByTeamId)(this.teamId);return X?(X.dispatch(_(V)),!0):!1}maybeSendAwarenessCloseState(V){const X=Object(i.getStoreInstanceByTeamId)(this.teamId);return X?(X.dispatch(U(V)),!0):!1}constructor({teamId:V}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=V}}m(W,"RtmBroadcaster");class L{onDisconnectDataChannel(){var V;(V=this.audioVideoFacade)===null||V===void 0||V.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(V){this.audioVideoFacade=V,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,Object(o.b)().warn(f,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(V){}maybeSendCurrentAwarenessState(V){var X;if(!this.connected)return Object(o.b)().info(f,`${this.connected} ${V} Can't send yet, not connected`),!1;const J=Object(i.getStoreInstanceByTeamId)(this.teamId);if(!J)return Object(o.b)().warn(f,`${this.connected} ${V} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const Y=J.getState(),ie=Object(u.a)(Y);J.dispatch(Object(l.f)({topicId:V,userId:ie}));const de=Object(I.G)(Y),oe=Object(c.c)(Y,V,ie,de?"self":void 0).map(re=>new g.a.AwarenessPayload({fieldName:re.field_name,fieldValue:re.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!re.field_timestamp_ms&&{fieldTimestampMs:re.field_timestamp_ms}})),me=new g.a.AwarenessBroadcast({channel:V,user:Object(u.a)(J.getState()),awarenessState:oe});return(X=this.audioVideoFacade)===null||X===void 0||X.realtimeSendDataMessage(this.dataChannelTopic,g.a.encode(new g.a({awarenessBroadcast:me})).finish()),!0}maybeSendAwarenessQuery(V){var X;if(!this.connected)return Object(o.b)().info(f,`${this.connected} ${V} Can't send yet, not connected`),!1;Object(o.b)().warn(f,`${this.connected} ${V} Sending awareness query`);const J=Object(i.getStoreInstanceByTeamId)(this.teamId);if(!J)return Object(o.b)().warn(f,`${this.connected} ${V} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const Y=new g.a.AwarenessQuery({channel:V,user:Object(u.a)(J.getState())});return(X=this.audioVideoFacade)===null||X===void 0||X.realtimeSendDataMessage(this.dataChannelTopic,g.a.encode(new g.a({awarenessQuery:Y})).finish()),!0}maybeSendAwarenessCloseState(V){var X;if(!this.connected)return Object(o.b)().info(f,`${this.connected} ${V} Can't send yet, not connected`),!1;Object(o.b)().warn(f,`${this.connected} ${V} Sending awareness query`);const J=Object(i.getStoreInstanceByTeamId)(this.teamId);if(!J)return Object(o.b)().warn(f,`${this.connected} ${V} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const Y=new g.a.AwarenessClose({channel:V,user:Object(u.a)(J.getState())});return(X=this.audioVideoFacade)===null||X===void 0||X.realtimeSendDataMessage(this.dataChannelTopic,g.a.encode(new g.a({awarenessClose:Y})).finish()),!0}constructor({teamId:V,peerId:X,topicId:J,isHuddlesAwarenessTimestampEnabled:Y}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=V,this.peerId=X,this.connected=!1,this.topicId=J,this.isHuddlesAwarenessTimestampEnabled=!!Y}}m(L,"ChimeChannelBroadcaster");class R{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(X=>{Object(o.b)().debug(C,`Running TTL for ${X}`);const J=Object(i.getStoreInstanceByTeamId)(X);J&&J.dispatch(Object(l.l)())}),this.watchedTopics.size===0&&(Object(o.b)().info(C,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const V=Object(E.a)(M,-.25,.25);this.dirtyTopics.forEach(X=>{Object(v.a)(()=>{const J=this.dataChannels.get(X);J&&J.maybeSendCurrentAwarenessState(X)&&this.dirtyTopics.delete(X)},V)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&(Object(o.b)().info(C,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(V=>{const X=this.dataChannels.get(V);X&&X.maybeSendCurrentAwarenessState(V)&&this.dirtyTopics.delete(V)}),this.watchedTopics.size===0&&(Object(o.b)().info(C,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(V=>{if(this.topicToTeamMap.get(V)){const J=this.dataChannels.get(V);J&&J.maybeSendAwarenessQuery(V)&&this.dirtyTopics.delete(V)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(V){if(!this.watchedTopics.has(V)){Object(o.b)().info(C,`Ignoring topic change for unwatched topic ${V}`);return}this.dirtyTopics.add(V),this.dirtyBroadcastTimeoutId||(Object(o.b)().info(C,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),p)),this.perodicBroadcastTimeoutId||(Object(o.b)().info(C,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),D)),this.periodicTTLId||(Object(o.b)().info(C,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),b))}removeTopicId(V){this.dirtyTopics.delete(V),this.watchedTopics.delete(V)}watch(V,X,J){this.watchedTopics.add(X),this.topicToTeamMap.set(X,V),this.dataChannels.set(X,J),this.markTopicChanged(X),this.query()}unwatch(V){this.broadcastChanges(),this.removeTopicId(V)}unwatchAll(){if(this.watchedTopics.size){const V=[...this.watchedTopics].join(" ");Object(o.b)().warn(C,`Clearing unexpected remaining topics: ${V}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}m(R,"AwarenessManager");const A=new R;class B{onConnectDatachannel(V){this.audioVideoFacade=V,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),Object(o.b)().warn(f,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(V){let X;try{X=g.a.decode(V.data)}catch(J){Object(o.b)().debug(f,`Peer Message failed during decode, ignoring peer message.
				| Error: ${J}
				| Data Sender Attendee ID: ${V.senderAttendeeId}
				| Data Sender External Attendee ID: ${V.senderExternalUserId}
				| Topic: ${V.topic}`);return}if(X.awarenessQuery&&X.awarenessQuery.channel)A.markTopicChanged(X.awarenessQuery.channel);else if(X.awarenessBroadcast){const J=Object(i.getStoreInstanceByTeamId)(this.teamId),Y=Object(I.G)(J.getState()),ie=X.awarenessBroadcast.user,de=X.awarenessBroadcast.channel,pe=X.awarenessBroadcast.awarenessState;if(ie&&de&&pe){const oe=pe.map(re=>{var ve,q;return{field_name:(ve=re.fieldName)!==null&&ve!==void 0?ve:"unknown_field",field_value:(q=re.fieldValue)!==null&&q!==void 0?q:"unknown_value",...!!re.fieldTimestampMs&&{field_timestamp_ms:re.fieldTimestampMs}}}),me={user:ie,channel:de,awarenessEntries:oe,...Y&&{uniqueId:V.senderAttendeeId}};J&&J.dispatch(Object(l.g)(me))}}else if(X.awarenessClose){const J=Object(i.getStoreInstanceByTeamId)(this.teamId),Y=Object(I.G)(J.getState()),ie=X.awarenessClose.user,de=X.awarenessClose.channel;ie&&de&&J&&J.dispatch(Object(l.a)({topicId:de,userId:ie,...Y&&{uniqueId:V.senderAttendeeId}}))}}constructor({teamId:V}){this.dataChannelTopic="awareness-sync-channel",this.teamId=V}}m(B,"ChimeChannelListener");const F=m((k,V,X)=>{const J=X(),Y=Object(u.a)(J),ie=k.awareness_state;switch(k.subtype){case"query":Y!==k.user&&A.markTopicChanged(k.channel);break;case"broadcast":if(ie&&Y!==k.user){const de={user:k.user,channel:k.channel,awarenessEntries:ie};V(Object(l.g)(de))}break;case"close":Y!==k.user&&V(Object(l.a)({topicId:k.channel,userId:k.user}));break;default:throw new Error(S)}},"onAwarenessEvent");Object(a.b)("awareness",F)},Iquu:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("oEDn"),d=e("+bQA");const o=new a.b("form_inputs"),i=m(h=>{let{count:l}=h;return t.a.createElement("div",{className:"c-multi_select_helper_text"},t.a.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},t.a.createElement(r.a,{size:"inherit",type:"missing-emoji",inline:!0})),o.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:l}))},"MultiSelectUnknownText");s.a=i},ItXa:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("JoAr"),d=e("Cfcg"),o=e("DS5W"),i=e("JoR1");const h=new a.b("current_status");function l(c){let{className:E,expiration:v,time24:g}=c;if(!v)return null;const O=v*1e3,I=h.t("Until {expirationDate}",{expirationDate:Object(r.a)(O,"{status_expiration}",{do24hrTime:g,shouldCapitalize:!1})});return t.a.createElement("span",{className:E,"data-qa-status-expiration":v},I)}m(l,"CustomStatusExpiration"),l.displayName="CustomStatusExpiration";function u(c,E){let{memberId:v}=E;return{expiration:Object(o.a)(c,v||"")||0,time24:!!Object(i.t)(c,"time24")}}m(u,"mapStateToProps"),s.a=Object(d.a)(u)(l)},IuTd:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("SQ0V"),t=e("tUtw"),a=e("p5o1");const r=Object(n.c)("Started loading history for a channel",(d,o,i)=>{const{channelId:h,loadingOlder:l,request:u}=i||{},c=Object(t.a)(o(),h);c&&c.loading&&c.request&&c.request.cancel(),d(Object(a.a)({objects:[{channelId:h,loading:!0,loadingOlder:l,request:u}]}))});r.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},Iy3M:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("yIs4"),o=e("CD4m"),i=e("sGXp"),h=e("E3dU"),l=e("ISSR"),u=e("Yauy"),c=e("E97Y"),E=e("s4P+"),v=e("dlm8"),g=e("nNoG"),O=e("fZDj"),I=e("woMp"),C=e("9WS/"),f=e("djjd"),S=e("rZ8V"),D=e("fMsH");function p(){return p=Object.assign||function(U){for(var W=1;W<arguments.length;W++){var L=arguments[W];for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(U[R]=L[R])}return U},p.apply(this,arguments)}m(p,"_extends");const b=new g.b("channel_entity"),M="SMALL-CHANNEL-ENTITY";function _(U){let{className:W,channel:L,bestFormerName:R,inlineNameSuffix:A,invert:B=!1,logger:F,displayFormerNames:k=i.e.false,showTeamForLocalChannel:V,showDraftIcon:X=!1,showFilledIcon:J=!1,showTeam:Y,memberCount:ie,onlyBoldIfUnread:de=!1,showTruncatedChannelNameTooltip:pe=!1,"data-qa":oe="small_channel_entity",channelHasNonUniqueName:me=!1,showDisambiguatingTeamName:re=!1}=U;const ve=Object(n.useCallback)(Z=>t.a.createElement(I.a,p({},Z,{className:"c-small_channel_entity__icon",channel:L,size:i.a.small,showDraftIcon:X,showFilledIcon:J})),[L,X,J]);if(Object(c.g)(L)||Object(c.i)(L))return F==null||F.warn(M,"SmallChannelEntity should not display IMs or MPIMs"),null;const q=Object(r.default)(W,"c-small_channel_entity"),ce=!de||Object(u.ub)(L),he=Object(c.q)(L),Se=Object(c.j)(L);let se=Object(l.a)(L)?i.d.dim:void 0;B&&(se=i.d.highlightDark);let H=null;if(Object(d.a)(ie)){const Z=b.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:ie,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});H=t.a.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":Z},"(",ie,")")}const Oe=me&&re,$=t.a.createElement(C.a,{channel:L,bestFormerName:R,inlineNameSuffix:A,displayFormerNames:k,showTeamForLocalChannel:V||Oe,showTeam:Y,bold:!!ce}),z=pe?t.a.createElement(o.c,{withTruncationTooltip:!0},$):$,be=Object(r.default)("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":pe});return t.a.createElement(o.d,{avatar:ve,className:q,"data-qa":oe,size:"small",style:se,text:t.a.createElement(o.c,null,he||Se?t.a.createElement(O.a,{type:he?"unknown":"non-existent",invert:B,size:"small"}):t.a.createElement("span",{className:be},z,A&&t.a.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},A),H))})}m(_,"SmallChannelEntity"),_.displayName="SmallChannelEntity";function P(U){return Object.prototype.hasOwnProperty.call(U,"channel")}m(P,"propsContainsChannel");function y(U,W){let L;if(W.showMemberCounts){var R;const F=Object(v.d)(U,P(W)?Object(u.i)(W.channel):W.channelId);L=F?F==null||(R=F.counts)===null||R===void 0?void 0:R.member_count:null}const A=P(W)?W.channel:Object(h.d)(U,W.channelId);let B;return W.showDisambiguatingTeamName&&Object(S.m)(U)&&(B=Object(f.a)(Object(h.a)(U),A)),{memberCount:L,channel:A,logger:Object(E.a)({state:U,label:M}),channelHasNonUniqueName:B}}m(y,"mapStateToProps");var j=s.a=Object(a.a)(y)(_)},"J/RB":function(K,s,e){"use strict";var n=e("Z0Cl"),t=e("zmn3"),a=e("NZ+B"),r=e("SQ0V"),d=e("cBLH"),o=e("ZYJ2"),i=e("Jhy3"),h=e("Byhf"),l=e("O86Y"),u=e("xcHN"),c=e("Zbwg"),E=e("I0SW"),v=e("9Gfp"),g=e("l/Qw"),O=e("s4P+"),I=e("Pw4T"),C=e("IuTd"),f=e("Lcgj"),S=e("i5Ig");const D=Object(r.c)("Add messages from history",(p,b,M)=>{let{msgs:_,channelId:P,isLimited:y,latest:j,oldest:U,hasMore:W,loading:L,forceUnreadCount:R,deleted:A=[]}=M;const B=b(),F=Object(I.d)({getState:b});Object(v.i)(B,"feature_tinyspeck")&&F.mark("rmsgs_addMessagesFromHistory");const k=Object(n.a)(_,Y=>{const ie=Object(E.a)(B,{channelId:P,ts:Y.ts});return ie&&Object(O.a)({getState:b}).warn(`Filtering out ${Y.ts} in ${P} history response because it was deleted`),!ie}),V=y?_.filter(Y=>Y.is_beyond_free_limit).map(Y=>Y.ts):S.a,X=Object(t.a)(k,"ts"),J=Object(c.a)(P)?P:Object(u.a)(P).channelId;J&&Object(o.c)(Object(l.g)(B),J,X),p(Object(i.i)(k)),p(Object(d.a)({channelId:P,timestamps:X,isLimited:y,blurredMessages:V,latest:j,oldest:U,hasMore:W,loading:L,forceUnreadCount:R})),Object(a.a)(L)&&p(L?Object(C.a)({channelId:P,loadingOlder:!!j}):Object(f.a)({channelId:P})),Object(v.i)(B,"feature_tinyspeck")&&F.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),A.forEach(Y=>p(Object(h.a)({deleted_ts:Y,channel:J}))),k.forEach(Y=>Object(g.c)(b,p,Y,Y))});D.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"},s.a=D},J47P:function(K,s,e){"use strict";e.d(s,"b",function(){return h}),e.d(s,"a",function(){return l});var n=e("n3tL"),t=e("OZf9"),a=e("6FZx"),r=e("s4P+"),d=e("ykb+");const o="_isSlackSubmenuItem",i={...a.d,kbNavActive:n.default.bool,stealKBNav:n.default.func,returnKBNav:n.default.func,preventHighlightChange:n.default.func,allowHighlightChange:n.default.func};function h(u){return!!u[o]}m(h,"isSubmenu");function l(u){if(Object(d.b)()){const c=u.propTypes||{};let E;Object.defineProperty(u,"propTypes",{get:()=>E,set:v=>{const g=u.displayName||u.name||"Component";Object(t.a)(i,(O,I)=>{const C=v[I];C&&C!==O&&C!==O.isRequired&&Object(r.b)().warn(`${g}'s ${I} prop type doesn't match submenu`)}),E={...i,...v}}}),u.propTypes=c}return u[o]=!0,u[a.a]=!0,u}m(l,"wrapSubmenu")},JYsB:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),r=e("ifKl"),d=e("nNoG"),o=e("oEDn"),i=e("m40f"),h=e("+bQA");const l=new d.b("form_inputs"),u={onCtaClick:a.default.func,errorCopy:a.default.string,ctaCopy:a.default.string},c={onCtaClick:r.a,errorCopy:void 0,ctaCopy:void 0},E=m(v=>{let{onCtaClick:g=r.a,errorCopy:O,ctaCopy:I}=v;return t.a.createElement("div",{className:"c-multi_select_helper_text"},t.a.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},t.a.createElement(o.a,{size:"inherit",type:"exclamation-circle",inline:!0})),t.a.createElement("span",null,O||l.t("Selected entries contain errors."),t.a.createElement(i.a,{onClick:g,type:"button",className:"margin_left_25"},I||l.t("Delete all errors"))))},"MultiSelectErrorText");E.displayName="MultiSelectErrorText",E.propTypes=u,E.defaultProps=c,s.a=E},Jc4w:function(K,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t[t.LIST=1]="LIST",t[t.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",t[t.EDIT=3]="EDIT"})(n||(n={}))},JfyJ:function(K,s,e){"use strict"},Jjuf:function(K,s,e){"use strict";e.d(s,"a",function(){return W}),e.d(s,"b",function(){return L});var n=e("Muja"),t=e("SQ0V"),a=e("TU0B"),r=e("3fJ/"),d=e("/aHE"),o=e("6qYK"),i=e("/S0L"),h=e("PCpP"),l=e("/5cg"),u=e("Mtxo"),c=e("Tkkt"),E=e("05YS"),v=e("pQQO"),g=e("sjOx");const O=m((R,A,B)=>R&&Object.values(A).includes(R)?R:A[B],"validateMessageSearchSort"),I=m((R,A,B)=>R&&Object.values(A).includes(R)?R:A[B],"validateFileSearchSort"),C=m((R,A,B)=>R&&Object.values(A).includes(R)?R:A[B],"validateChannelSearchSort"),f=m((R,A,B)=>R&&Object.values(A).includes(R)?R:A[B],"validatePeopleSearchSort"),S=m((R,A,B)=>R&&Object.values(A).includes(R)?R:A[B],"validateResultCountToggle");var D=e("lUvW"),p=e("blur"),b=e("bsvk"),M=e("vkL2"),_=e("3mGd"),P=e("i26o"),y=e("xgMo"),j=e("O86Y"),U=e("bczA");const W=Object(t.c)("Runs search from given encoded search state string",(R,A,B)=>{let{encodedSearchString:F}=B;if(!F)return;const k=A(),V=Object(_.a)(A()),X=Object(y.c)(k),J=g.w.OMNISWITCHER;if(X&&F===V)return;const Y=Object(a.b)(F),{displayQuery:ie,requestQuery:de,tab:pe,page:oe,messageAndFileSearchExcludeBots:me,messageAndFileSearchOnlyMyChannels:re,activeEnterpriseTeamIdFilter:ve,channelSearchFilterType:q,channelSearchOrgFilters:ce,channelSearchHideMemberChannels:he,peopleSearchFilterType:Se,peopleSearchOrgFilters:se,peopleSearchHideDeactivatedUsers:H,messageSearchSort:Oe,fileSearchSort:$,channelSearchSort:z,peopleSearchSort:be,resultCountToggle:Z}=Y;R(Object(v.c)({query:ie,inputId:J}));const G=Object(b.d)(k,de);R(Object(c.h)({queryFilter:G}));const ne=O(Oe,g.h,"relevantMessages"),ge=I($,g.d,"relevant"),ae=C(z,g.b,"relevant"),fe=f(be,g.l,"relevant"),Te=S(Z,g.m,20);ne!==Object(o.c)(k)&&R(Object(i.a)({sort:ne})),ge!==Object(h.a)(k)&&R(Object(l.b)({sort:ge})),ae!==Object(o.b)(k)&&R(Object(d.b)({sort:ae})),fe!==Object(o.e)(k)&&R(Object(d.e)({sort:fe})),Te!==Object(o.f)(k)&&R(Object(d.f)({count:Te})),R(Object(r.K)({tab:pe})),R(Object(r.u)({moduleType:pe,page:oe}));const{displayQuery:ye,requestQuery:Ue,messageAndFileSearchExcludeBots:Ne,messageAndFileSearchOnlyMyChannels:He,activeEnterpriseTeamIdFilter:ze,channelSearchFilterType:Je,channelSearchOrgFilters:Xe,channelSearchHideMemberChannels:Me,peopleSearchFilterType:Ke,peopleSearchOrgFilters:$e,peopleSearchHideDeactivatedUsers:ct,messageSearchSort:Tt,fileSearchSort:Et,channelSearchSort:Le,peopleSearchSort:jt,resultCountToggle:Dt}=Object(a.b)(V||""),Ee=Object(E.B)(k,{module:pe});if(pe===g.z.CHANNELS&&(q&&R(Object(r.j)({type:q})),ce&&R(Object(r.l)({orgFilters:ce}))),pe===g.z.PEOPLE&&(Se&&R(Object(r.w)({type:Se})),se&&R(Object(r.y)({orgFilters:se}))),me!==Ne&&R(Object(d.c)({value:!!me})),re!==He&&R(Object(d.g)({value:!!re})),ve!==ze&&ve&&R(Object(r.g)({selectedEnterpriseTeamId:ve})),Se===g.k.guests){const ft=Object(j.b)(k);ft&&R(Object(r.g)({selectedEnterpriseTeamId:ft}))}he!==Me&&R(Object(d.a)({value:!!he})),H!==ct&&R(Object(d.d)({value:!!H})),ne!==Tt&&R(Object(i.a)({sort:ne})),ge!==Et&&R(Object(l.b)({sort:ge})),ae!==Le&&R(Object(d.b)({sort:ae})),fe!==jt&&R(Object(d.e)({sort:fe})),Te!==Dt&&R(Object(d.f)({count:Te}));const te=me!==Ne||re!==He||ve!==ze||q!==Je||!Object(n.a)(ce,Xe)||he!==Me||Se!==Ke||!Object(n.a)(se,$e)||H!==ct;let Ae=null;de!==Ue||ie!==ye?Ae=R(Object(u.a)({query:de,page:oe,encodedSearchString:F})):Ee!=null&&Ee.items&&(Ee!=null&&Ee.items[oe])?te?(Ae=Object(D.k)(R,A,"search-filters-history-stack"),R(Object(M.b)({value:F}))):ne!==Tt?(Ae=R(Object(p.d)({module:"messages",reason:"search-message-sort-changed-history-stack"})),R(Object(M.b)({value:F}))):ge!==Et?(Ae=R(Object(p.d)({module:"files",reason:"search-files-sort-changed-history-stack"})),R(Object(M.b)({value:F}))):ae!==Le?(Ae=R(Object(p.d)({module:"channels",reason:"search-channels-sort-changed-history-stack"})),R(Object(M.b)({value:F}))):fe!==jt?(Ae=R(Object(p.d)({module:"people",reason:"search-people-sort-changed-history-stack"})),R(Object(M.b)({value:F}))):Te!==Dt?(Object(D.k)(R,A,"result-count-toggle-history-stack"),R(Object(M.b)({value:F}))):R(Object(M.b)({value:F})):Ae=R(Object(u.a)({query:de,module:pe,page:oe,encodedSearchString:F}));const Ye=P.a.fromString(k,de).toTextyString();Ae?Ae.then(()=>{ie!==Ye&&R(Object(v.c)({query:Ye,inputId:J}))}):ie!==Ye&&R(Object(v.c)({query:Ye,inputId:J}))});W.meta={name:"createThunk",key:"createThunkrunSearchFromEncodedSearchState",description:"Runs search from given encoded search state string"};const L=Object(t.c)("Runs search from current URL param",(R,A)=>{const B=A(),F=Object(U.b)(B);F.entityId===g.y&&R(W({encodedSearchString:F.searchQuery}))});L.meta={name:"createThunk",key:"createThunkrunSearchFromURL",description:"Runs search from current URL param"}},K5Ez:function(K,s,e){K.exports=e.p+"slackbot_fancy_1024-9020761.png"},KKcr:function(K,s,e){K.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},KOcJ:function(K,s,e){"use strict";e.d(s,"d",function(){return h}),e.d(s,"e",function(){return l}),e.d(s,"a",function(){return u}),e.d(s,"b",function(){return c}),e.d(s,"c",function(){return E});var n=e("0VPD"),t=e("+tZp"),a=e("K7jq"),r=e("ehcD"),d=e("9x2x"),o=e("nuzi");function i(v){return Object(o.d)(v)?Object(a.a)(v.entity):!1}m(i,"isExternalMember");function h(v,g){if(!Object(o.d)(v))return!1;const O=Object(r.e)(v.entity);return!!(Object(a.a)(v.entity)&&O&&!g.includes(O))}m(h,"isExternalMemberTeamNotConnectedOnChannel");function l(v,g){var O,I;return Object(o.d)(v)?!!(!Object(a.a)(v.entity)&&!Object(r.h)(v.entity,g)&&(!((O=v.entity)===null||O===void 0||(I=O.profile)===null||I===void 0)&&I.email)):!1}m(l,"isNonTeamOrgMember");function u(v,g,O){const I=Object(n.a)(Object(r.a)(v.entity),O||[]);return!(Object(d.a)(g)||I.length)}m(u,"doesOrgMemberNeedWorkspaceInvite");function c(v){let{selectedMembers:g,currentTeamId:O,channel:I,internalTeamIds:C,options:f={forDisplay:!1,shouldDisplayRealNames:!1}}=v;const{forDisplay:S,shouldDisplayRealNames:D}=f,p=new Set,b=g.reduce((M,_)=>{if(Object(o.b)(_,O)&&(M.externalCount+=1,M.userActionableCount+=1,Object(o.e)(_)?(M.externalPrimaryScIdentityTokens.push(_),p.add(_.emailTeam.id),M.userActionableExternalPrimaryScIdentityCount+=1):(M.userActionableExternalCount+=1,M.externalEmails.push(_.entity.value))),Object(o.c)(_,O)&&(Object(o.e)(_)||(M.userActionableInternalCount+=1,M.userActionableCount+=1),M.internalCount+=1,M.internalEmails.push(_.entity.value)),i(_)){M.externalCount+=1;const j=S?Object(t.c)({displayRealNames:D,member:_.entity}):_.value,U=_.entity.team_id;M.externalMembers.push(j),p.add(U),M.externalMemberTokens.push({name:j,teamId:U})}if(l(_,O)&&u(_,I,C)){var P;M.internalCount+=1;var y;M.nonTeamOrgMembers.push(S?Object(t.c)({displayRealNames:D,member:_.entity}):(y=(P=_.entity.profile)===null||P===void 0?void 0:P.email)!==null&&y!==void 0?y:"")}return M},{externalEmails:[],externalPrimaryScIdentityTokens:[],internalEmails:[],externalMembers:[],externalMemberTokens:[],nonTeamOrgMembers:[],userActionableExternalPrimaryScIdentityCount:0,userActionableExternalCount:0,externalCount:0,userActionableInternalCount:0,internalCount:0,userActionableCount:0,externalTeamIds:[]});return b.externalTeamIds=[...p],b}m(c,"getClassifiedTokens");function E(v,g,O,I){let C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{includeAllExternalTokens:!1};const{includeAllExternalTokens:f}=C;return{externalPrimaryScIdentityTokens:O===g||f?v.externalPrimaryScIdentityTokens:[],externalMemberTokens:f?v.externalMemberTokens:[],externalEmails:O===g?v.externalEmails:[],internalEmails:I===g?v.internalEmails:[]}}m(E,"getEffectiveClassifiedTokens")},KPXh:function(K,s,e){"use strict";e.d(s,"a",function(){return X}),e.d(s,"g",function(){return J}),e.d(s,"f",function(){return Y}),e.d(s,"j",function(){return ie}),e.d(s,"e",function(){return de}),e.d(s,"b",function(){return pe}),e.d(s,"i",function(){return oe}),e.d(s,"c",function(){return me}),e.d(s,"d",function(){return re}),e.d(s,"h",function(){return ve}),e.d(s,"k",function(){return q}),e.d(s,"l",function(){return Se});var n=e("NFsq"),t=e("vfQU"),a=e("ZOzc"),r=e("xwCZ"),d=e("E3dU"),o=e("Awbm"),i=e("pu3F"),h=e("9Gfp"),l=e("19Yv"),u=e("PB3L"),c=e("pzLM"),E=e("5c3X"),v=e("WvVy"),g=e("ITkT"),O=e("Yauy"),I=e("pZC0"),C=e("VjAc"),f=e("E97Y"),S=e("kBpe"),D=e("nNoG"),p=e("IXzp"),b=e("RVJP");const M=m(H=>H&&Object(b.d)(H,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var _=e("olrC"),P=e("PMNn"),y=e("rZ8V");const j=new D.b("cmd_handlers"),{UNKNOWN_COMMAND:U,UNSUPPORTED_IN_THREAD:W,UNSUPPORTED_IN_SHORTCUTS_MENU:L,CUSTOM_ERROR:R}=i.db,A=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/me","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/active","/giphy","/mute","/remind"],B=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],F=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],k=["/slackaccessibility","/slackgov"],V=["/leave","/close","/part","/archive","/topic"],X=m(H=>H&&H.alias_of,"getCommandAliasOf"),J=m(H=>H&&H.name,"getCommandName"),Y=m(H=>H&&(H.desc||H.description),"getCommandDesc"),ie=m(H=>H&&H.usage,"getCommandUsage"),de=m(H=>H&&(H.canonical_name||H.name),"getCommandCanonicalName"),pe=m(H=>H&&H.aliases,"getCommandAliases"),oe=m(H=>H&&H.type,"getCommandType"),me=m(H=>H&&H.app,"getCommandApp"),re=m(H=>H==null?void 0:H.appName,"getCommandAppName"),ve=m((H,Oe,$)=>{const z=Object(d.d)(H,$),be=z?Object(P.b)(H,z)||[]:[];return Object(y.m)(H)&&Oe.teams&&be.length&&Oe.appName!=="Slack"&&!Oe.isWorkspaceAgnostic?Oe.teams.filter(G=>be.includes(G)):[]},"getCommandRelatedWorkspaces"),q=m(function(H,Oe){let{channelId:$}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Oe)return!1;const z=de(Oe);return z==="/leave"?Object(u.b)(H,$):z==="/remove"?Object(l.b)(H,$):["/topic","/search","/invite","/invite_people","/status","/dm","/msg"].indexOf(z)>-1?!1:!!Oe.autocomplete},"isAutocompleteCommand"),ce=m(H=>!!(H&&H.isServer),"isServerCommand"),he=m(function(H){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(H){case v.a.InvalidDm:return j.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case v.a.OwnerRequired:return j.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case v.a.InvalidParams:return Oe?j.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):j.t("You don\u2019t have permission to rename.");case v.a.RestrictedUser:return Oe?j.t("Your admins have limited who can rename multi-workspace channels."):j.t("You don\u2019t have permission to rename.");case v.a.OrgSharedSettings:return Oe?j.t("Your admins have limited who can rename multi-workspace channels."):j.t("You don\u2019t have permission to rename.");case v.a.InvalidChannelType:return j.t("This channel can\u2019t be renamed.",{fallbackHash:"796ff139eccb4a046e980e400012eb16b22449d8"});default:return j.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),Se=m(function(H,Oe){let{channelId:$,isThread:z,isShortcutsMenu:be}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!H||!Oe)return{isEnabled:!1,reason:U};const Z=de(Oe),G=oe(Oe),ne=Object(d.d)(H,$);if(!Object(h.i)(H,"feature_tinyspeck")&&Object(n.a)(F,Z))return{isEnabled:!1,reason:U};if(!Object(S.i)()&&Object(n.a)(k,Z))return{isEnabled:!1,reason:U};if(Object(I.a)(ne)&&Object(n.a)(V,Z))return{isEnabled:!1,reason:U};if(z&&!Object(n.a)(A,Z))return{isEnabled:!1,reason:W};if(be&&Object(n.a)(B,Z))return{isEnabled:!1,reason:L};if(G==="custom"||G==="service"){const ae=Object(a.a)(H,"commands_only_regular"),fe=Object(r.c)(H);if(ae&&Object(o.b)(fe))return{isEnabled:!1,reason:U}}if(y.m&&Oe.teams){const ae=Object(P.b)(H,ne)||[];if(!Oe.teams.filter(Te=>ae.includes(Te)).length){const Te=`Command not run. No intersection found between channel teams (${ae}) and command teams (${Oe.teams})`;return{isEnabled:!1,reason:R,logString:Te,feedback:j.t("This command is not available in this channel")}}}if(Z==="/open"||Z==="/feed"){const ae=Object(r.c)(H);if(Object(o.b)(ae))return{isEnabled:!1,reason:U}}else if(Z==="/topic"){const{ok:ae,reason:fe}=Object(c.b)(H,$);if(!ae)return{isEnabled:!1,reason:R,feedback:Object(C.k)(fe)}}else if(Z==="/invite"){const ae=Object(r.c)(H);if(Object(o.c)(ae))return{isEnabled:!1,reason:U};if(!Object(O.db)(ne))return{isEnabled:!1,reason:R,feedback:j.t("You don\u2019t have permission to invite people.")};if(Object(o.b)(ae)&&!Object(f.k)(ne)||Object(_.a)(H,ae,ne))return{isEnabled:!1,reason:R,feedback:j.t("You don\u2019t have permission to invite people.")}}else if(Z==="/invite_people"){if(!Object(g.e)(H))return{isEnabled:!1,reason:R,feedback:j.t("You don\u2019t have permission to invite people.")}}else if(Z==="/rename"){const{ok:ae,reason:fe}=Object(v.d)(H,$);if(!ae)return{isEnabled:!1,reason:R,feedback:he(fe)}}else if(Z==="/archive"){if(!Object(E.b)(H,ne))return{isEnabled:!1,reason:U}}else if(Z==="/call"){if(!Object(p.b)(H,$)||Object(p.k)(H))return{isEnabled:!1,reason:U}}else if(Z==="/slacktrace"){if(!Object(t.qb)())return{isEnabled:!1,reason:R,feedback:j.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(Z==="/feedback"&&M(H))return{isEnabled:!1,reason:U};return{isEnabled:!0}},"isSlashCommandEnabled"),se={getRenameDisabledFeedback:he,TS_ONLY_COMMANDS:F,DESKTOP_APP_ONLY_COMMANDS:k}},KQ0X:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){let{teamId:a,channelId:r}=t;return[a,r].join("-")}m(n,"getPendingChannelSwitchKey")},KZ1R:function(K,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("s4P+"),d=e("Mqk2"),o=e("blur"),i=e("sjOx"),h=e("hT/Z");const l=Object(a.c)("Fetch lists",function(){var u=Object(n.coroutine)(function*(c,E){let{query:v,sort:g,reason:O}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const I=yield v?c(Object(d.i)({query:`type:list ${v}`,includeShares:!0,reason:O||"get-lists",bypassCache:!0})):c(Object(o.c)({module:"files",query:"type:list",sort:g||i.d.lastRead,reason:O||"get-lists"})).then(C=>{let{items:f}=C;return f});c(Object(h.a)({lists:I}))}catch(I){Object(r.a)({label:"lists"}).error("error fetching lists",I)}});return function(c,E){return u.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},Kacs:function(K,s,e){"use strict";var n=e("Z7Ay"),t=e("Kyco"),a=e("DwFS");const r=Object(a.a)("NOOP");r.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"};var d=e("lhZz"),o=e("EXbH");const i=0,h=Object(t.b)({},i,{storeKey:"noop",persistenceEnabled:!1}).on(r,u=>u+1);var l=s.a=h;Object(n.a)("dispatchNoop",()=>{Object(d.dispatchForTeamId)(Object(o.d)(),r())})},KcWJ:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("SQ0V"),t=e("lhZz"),a=e("O86Y"),r=e("xcHN"),d=e("cU/a"),o=e("25cE"),i=e("Sklr");const h=Object(n.c)("Opens the threads flexpane",function(l,u){let{channelId:c,threadTs:E,highlightTs:v,origin:g,originId:O,shouldOpenInTile:I=!1,replaceHistoryState:C=!1,openInPrimaryTile:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object(t.dispatchForClientStore)(Object(i.a)({teamId:Object(a.g)(u())})).then(()=>{const D={threadId:Object(r.c)(c,E)};v&&(D.replyTs=v),l(Object(d.a)({routeName:o.w,flexName:"thread",flexParams:D,flexOrigin:g,flexOriginId:O,shouldOpenInTile:I,replaceHistoryState:C,openInPrimaryTile:f}))})});h.meta={name:"createThunk",key:"createThunkshowThread",description:"Opens the threads flexpane"}},Ki3U:function(K,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("RVJP"),d=e("Lgge"),o=e("O86Y"),i=e("ohbk"),h=e("i9jZ"),l=e("CnKg"),u=e("E3dU"),c=e("5pIt"),E=e("25cE"),v=e("RV0M"),g=e("xY6W"),O=e("7Bj1"),I=e("I0j/"),C=e("37+L"),f=e("Wn1n"),S=e("Z6bF"),D=e("rZ8V"),p=e("6inW"),b=e("Zbwg"),M=e("2VFn"),_=e("f24l"),P=e("uiBO"),y=e("D4ee"),j=e("GoiD"),U=e("ETR2"),W=e("oUrV"),L=e("QMho"),R=e("A+YV"),A=e("PIf0"),B=e("cU/a"),F=e("83nZ"),k=e("HMy/");const V="Qp:F0DELETED",X=Object(a.c)("Opens the channel space for the given channel",function(){var J=Object(n.coroutine)(function*(Y,ie,de,pe){let{channelId:oe,focusSectionId:me,forceNewWindow:re,commentThreadId:ve,shouldOpenActivityHistory:q,shouldOpenCommentStream:ce,fromKeyboardShortcut:he=!1,source:Se,isFromQuipAutocomplete:se,isFromQuipSearchList:H,isFromQuipActivityHistory:Oe,quipViewFormat:$,quipSyntheticViewSort:z,quipSyntheticViewFilter:be,lastReadTs:Z}=de;const G=ie(),ne=Object(D.m)(G),ge=Object(h.a)(G),ae=Object(o.g)(G),fe=Object(f.a)(G),{shouldUseNavigate:Te,isChildWindow:ye,isMainWindow:Ue,windowId:Ne}=pe(v.a),{windowId:He}=pe(A.a);let ze=oe;if(he&&!oe){var Je;ze=ne&&Ne||ge&&Ne!==M.c?(Je=Object(L.a)(G,{container:M.h.Primary,windowId:Ne}))===null||Je===void 0?void 0:Je.id:fe}if(!ze||!Object(b.a)(ze))return;const Xe=Object(k.b)(G,ze);typeof Xe=="number"&&Xe<2&&Y(Object(F.a)({pref:"seen_tractor_channel_canvas",value:2}));const Me=Object(u.d)(G,ze),{fileId:Ke,isLinkedCanvasDeleted:$e}=Object(S.a)(Me),ct=Ke||Object(c.a)(G,ze);if(!ct){if(!$e)return null;if(Object(D.m)(G)){const Dt=V;return Y(Object(I.a)(Object(C.j)(Dt,ze,{fileId:"",source:Se??W.a.CHANNEL_CANVAS_GENERIC_SOURCE,isChannelCanvas:!0})))}return Y(Object(B.a)({routeName:E.o,flexName:"docs",flexParams:{quipDocId:V},shouldOpenInTile:!1}))}const Tt={fileId:ct,forceNewWindow:re,source:Se??W.a.CHANNEL_CANVAS_GENERIC_SOURCE,isFromQuipAutocomplete:se,isFromQuipSearchList:H,isFromQuipActivityHistory:Oe,quipViewFormat:$,quipSyntheticViewSort:z,quipSyntheticViewFilter:be,isChannelCanvas:!0};let Et;if(ct){const Dt={id:ct};me&&(Dt.sectionId=me),Et=Object(l.h)(Dt)}if(!Et)return d.a.reject(new Error("Attempted to open a channel canvas without an entityId"));if(Object(r.d)(ie(),"channel_canvas_in_huddles")==="on"&&Object(p.b)(He)&&Ke)if(re)Y(Object(g.a)());else return Y(Object(U.a)({...Tt,source:W.a.HUDDLE_CHANNEL_CANVAS_OPEN})),Y(Object(R.a)({fileId:Ke}));if(re&&ge){const Dt={[M.h.Primary]:Object(C.j)(Et,ze,Tt,Z)};return q&&(Dt[M.h.Secondary]=Object(C.P)(Et)),ce&&(Dt[M.h.Secondary]=Object(C.Q)(Et)),ve&&(Dt[M.h.Secondary]=Object(C.R)({entityId:Et,commentThreadId:ve})),Y(Object(U.a)(Tt)),Y(Object(O.a)({viewSet:Dt}))}if(ne)return Y(Ue&&ve?Object(I.a)(Object(C.R)({entityId:Et,commentThreadId:ve})):Object(I.a)(Object(C.j)(Et,ze,Tt,Z)));if(ye||Te)return Y(Object(I.a)(Object(C.j)(Et,ze,Tt,Z)));if(he&&Ne&&Ne!==M.c)return Y(Object(_.a)({windowId:Ne,id:"channel_canvas",viewType:P.b.ChannelCanvas,params:{entityId:Et,channelId:ze},shouldNavigateInContext:!0}));let jt=!1;return fe!==ze&&(yield Y(Object(i.a)({id:ze,teamId:ae})),jt=!0),ve?Y(Object(j.a)({fileId:ct,quipCommentThreadId:ve,replaceHistoryState:jt})):(Y(Object(U.a)(Tt)),Y(Object(y.a)({quipDocId:Et,replaceHistoryState:jt,source:Se})))});return function(Y,ie,de,pe){return J.apply(this,arguments)}}());X.meta={name:"createThunk",key:"createThunkopenChannelSpace",description:"Opens the channel space for the given channel"},s.a=X},KiUf:function(K,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Navigate to a route");t.meta={name:"createAction",key:"createActionupdateCurrentRoute",description:"Navigate to a route"};const a=Object(n.a)("Set a value that represents whether the user navigated during a warm boot");a.meta={name:"createAction",key:"createActionsetUserNavigatedDuringWarmBoot",description:"Set a value that represents whether the user navigated during a warm boot"}},KkHf:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),r=e("nNoG"),d=e("7JUD"),o=e("lvWT"),i=e("tYRW"),h=e("AEEY"),l=e("9org"),u=e("zKrX"),c=e("YyjR"),E=e("qDEp");const v=new r.b("generic_dialog"),g=m(O=>{let{title:I,children:C,submitButtonType:f="primary",submitButtonText:S=v.t("Confirm"),submitButtonIsDisabled:D=!1,submitButtonIsLoading:p=!1,showCancelButton:b=!0,showCloseButton:M=!0,showSubmitButton:_=!0,cancelButtonText:P=v.t("Cancel"),onSubmit:y=a.a,onCancel:j=a.a,onClose:U=a.a,"aria-describedby":W,"data-qa":L="dialog",className:R,overlayClassName:A,submitAutoClogProps:B,cancelAutoClogProps:F,shouldReturnFocusAfterClose:k=!0}=O;return t.a.createElement(d.a,{describedby:W,closeModal:U,role:"dialog",className:R,overlayClassName:A,dataQa:L,shouldReturnFocusAfterClose:k,showCloseButton:M},t.a.createElement(o.a,null,t.a.createElement(i.a,{title:I,"data-qa":`${L}_header`})),t.a.createElement(h.a,null,t.a.createElement(l.a,{"data-qa":`${L}_body`},C)),(b||_)&&t.a.createElement(u.a,{"data-qa":`${L}_footer`},t.a.createElement(c.a,null,b&&t.a.createElement(E.f,{type:"outline",onClick:j,"data-qa":`${L}_cancel`,autoClogProps:F},P),_&&t.a.createElement(E.c,{type:f,onClick:y,loading:p,disabled:D,"data-qa":`${L}_go`,autoClogProps:B},S))))},"DialogModalProps");g.displayName="DialogModalProps",s.a=g},KtMe:function(K,s,e){"use strict";e.d(s,"c",function(){return n}),e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});const n="summaryDetailListener",t="channelCanvasAutoOpen",a=10},L1AX:function(K,s,e){"use strict";e.d(s,"b",function(){return d}),e.d(s,"a",function(){return o});var n=e("Oy0v"),t=e("XOse"),a=e("SQ0V"),r=e("5ya7");const d=Object(a.c)("Opens the AddCustomEmojiModal for importing a custom emoji",(i,h,l)=>{let{emojiName:u,emojiUrl:c}=l;var E;i(Object(t.a)({emojiNameSuggestion:u&&((E=Object(n.a)(u))===null||E===void 0?void 0:E.name),emojiUrl:c}))});d.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const o=Object(a.c)("Opens the AddCustomEmojiModal if an emoji can be imported",(i,h,l)=>{const u=h(),{event:c,emojiName:E,emojiUrl:v}=l;v&&Object(r.a)(u,v,E)&&(c==null||c.preventDefault(),c==null||c.stopPropagation(),i(d(l)))});o.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},LAqm:function(K,s,e){K.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},LOcX:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("7JUD"),d=e("WMzb");function o(){return o=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(l[E]=c[E])}return l},o.apply(this,arguments)}m(o,"_extends");function i(l){let{defaultPane:u,panes:c,forceFullRerenderOnPageChange:E=!0,...v}=l;const g=Object(d.a)(),[O,I]=Object(n.useState)({pane:u}),C=Object(n.useCallback)((D,p)=>I({pane:D,props:p}),[]),{render:f,modalProps:S}=c[O.pane];return f||g.error("MULTI_PANE_MODAL",`Unknown pane "${O.pane}"`),t.a.createElement(r.a,o({},v,S,{className:Object(a.default)(v.className,S==null?void 0:S.className,"c-multi_pane_modal")}),E?t.a.createElement(t.a.Fragment,{key:O.pane},f({switchPane:C,...O.props})):f({switchPane:C,...O.props}))}m(i,"MultiPaneModal"),i.displayName="MultiPaneModal";var h=s.a=i},LPwq:function(K,s,e){K.exports=e.p+"home-9e29930.jpg"},LTG1:function(K,s,e){"use strict";var n=e("ZvnG");class t{createPublisher(d){return this.publishers[d]=new n.a,this.publishers[d]}createAllPublisher(){return this.allPublisher=new n.a,this.allPublisher}publish(d,o){const i=this.publishers[d];i&&i.publish(o)}publishAll(d,o){var i;const h={peerId:d,value:o};(i=this.allPublisher)===null||i===void 0||i.publish(h)}subscribe(d,o){(this.publishers[d]||this.createPublisher(d)).subscribe(o)}subscribeAll(d){this.createAllPublisher().subscribe(d)}unsubscribe(d,o){const i=this.publishers[d];i&&i.unsubscribe(o)}constructor(){this.publishers={}}}m(t,"peer_pub_sub_PeerPubSub");var a=s.a=new t},Lcgj:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("SQ0V"),t=e("p5o1");const a=Object(n.c)("Finished loading history for a channel",(r,d,o)=>{const{channelId:i}=o||{};r(Object(t.b)({ids:[i]}))});a.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},Lizi:function(K,s,e){"use strict";e.d(s,"b",function(){return C}),e.d(s,"a",function(){return f});var n=e("j77i"),t=e("bYrq"),a=e("t4eE"),r=e("0VB0"),d=e("7lBi"),o=e("vfQU"),i=e("qcau"),h=e("Cgcc"),l=e("aybt");const u=".p-client_container_placeholder",c=".p-client_container_placeholder__nav",E=260,v=64,g=76;function O(D){let{name:p,hex:b,iaTheming:M,customTheme:_}=D;const P=Object(l.b)({hex:b,name:p}),y=(M==null?void 0:M.mode)||"light",j=(M==null?void 0:M.brightness)||h.a,U=Object(h.k)({mode:y,primary:M==null?void 0:M.primary,highlight1:M==null?void 0:M.highlight1,brightness:j,useCustomHex:_&&(M==null?void 0:M.useCustomHex)});let W;p.includes("Primary")?W=U.primary.shade:W=U.highlight1.shade;const L=h.s.indexOf(W);return{shade:W,value:y==="light"?P.light[L].value:P.dark[L].value}}m(O,"generateCustomHEXChromeColors");function I(D){let{iaTheming:p,customTheme:b}=D;return!p.primary.custom||!l.g.test(p.primary.custom)?null:O({name:"bootPrimary",hex:p.primary.custom.startsWith("#")?p.primary.custom:`#${p.primary.custom}`,iaTheming:p,customTheme:b})}m(I,"getBootPrimary");function C(D){let{teamId:p,showTeamSwitcher:b=!1}=D;const M=Object(n.h)(p,"is_unified_user_client_enabled"),_=Object(n.h)(p,"channelSidebarBackground"),P=parseInt(Object(n.f)("viewLayoutLastSidebarWidth"),10)||E,y=Object(n.h)(p,"teamSwitcherBackground"),j=Object(n.h)(p,"textColor"),U=Object(n.h)(p,"topNavBackground")||_,W=Object(n.h)(p,"topNavTextColor")||j,L=document.querySelector(u),R=Object(n.h)(p,"iaTheming"),A=Object(n.h)(p,"customTheme"),B=Object(n.h)(p,"windowGradient"),F=Object(n.f)("viewLayoutIsWorkspaceSwitcherVisible"),k=F?v:0;if(!L||Object(t.b)())return;const V=L.querySelector(c);if(!_){f();return}if(M){if(V&&j&&_){const ie=document.createElement("div");ie.classList.add("p-ia4_client_container_placeholder--sidebar"),ie.style.width=`${P}px`;const de=document.createElement("div");de.classList.add("p-ia4_client_container_placeholder--tab_rail");const pe=document.createElement("div");if(pe.classList.add("p-ia4_client_container_placeholder--content"),pe.style.left=`${k+g+P}px`,L.appendChild(ie),F&&(L.appendChild(de),ie.classList.add("p-ia4_client_container_placeholder--sidebar_with_workspace_switcher"),pe.classList.add("p-ia4_client_container_placeholder--content_with_workspace_switcher")),L.appendChild(pe),L.classList.add("p-ia4_client_container_placeholder--theme-background"),R){let oe="#ffffffB3";const me="#1212138C";if(R.mode==="light"&&R.sidebarInverted&&(oe=me),R.mode==="dark"){var X,J;oe=me,(J=(X=window.document)===null||X===void 0?void 0:X.querySelector("body"))===null||J===void 0||J.classList.add("sk-client-theme--dark")}if(ie.style.backgroundColor=oe,A&&R.useCustomHex){if(R.primary.custom){const re="bootPrimary",ve=I({iaTheming:R,customTheme:A});ve&&L.style.setProperty(`--dt_color-plt-${re}-${ve.shade}`,ve.value)}if(R.highlight1.custom){const re="bootHighlight1",ve=O({name:"bootHighlight1",hex:R.highlight1.custom.startsWith("#")?R.highlight1.custom:`#${R.highlight1.custom}`,iaTheming:R,customTheme:A});L.style.setProperty(`--dt_color-plt-${re}-${ve.shade}`,ve.value)}}if(B){const re=Object(h.h)({mode:R.mode,primary:R.primary,highlight1:R.highlight1,brightness:R.brightness,useCustomHex:A&&R.useCustomHex}).replace(/primary/g,"bootPrimary").replace(/highlight1/g,"bootHighlight1");L.style.background=re}else{const re="bootPrimary",ve=I({iaTheming:R,customTheme:!!A}),q=Object(h.j)({mode:R.mode,role:"primary",brightness:(R==null?void 0:R.brightness)||h.a});L.style.backgroundColor=A&&R.useCustomHex&&ve?`rgb(var(--dt_color-plt-${re}-${ve.shade}))`:`rgb(var(--dt_color-plt-${R.primary.palette}-${q}))`}}else if(ie.style.backgroundColor=_,U){const oe=U,me=Object(r.k)(U,25);L.style.background=`radial-gradient(
						circle at 50% 50%,
						${oe} 20%,
						transparent 80%
					),
					conic-gradient(
            from 45deg at 50% 50%,
            ${me} 0%,
            ${oe} 25%,
            ${me} 50%,
            ${oe} 75%,
            ${me} 100%
          )`}V.classList.add("p-ia4_client_container_placeholder--top-nav"),Object(i.b)()&&U&&o.qc.isAvailable()&&Object(o.qc)(Object(o.Q)(),{color:U,symbolColor:W})}L.style.opacity="1"}else{if(Object(a.b)()&&b&&(L.classList.add("p-client_container_placeholder--with-team-switcher"),y&&(L.style.borderLeftColor=y)),V&&j&&_){const oe=Object(r.l)(j,_,.1),me=Object(r.r)(j,.1);L.style.borderRightColor=oe,Object(i.b)()&&U&&o.qc.isAvailable()&&Object(o.qc)(Object(o.Q)(),{color:U,symbolColor:W}),U&&(V.style.backgroundColor=U),V.style.color=me,Object(a.b)()&&b&&(L.style.removeProperty("border-left-color"),L.style.boxShadow=`-60px 0px 0px 0px ${_}`,V.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}let ie=_;var Y;const de=(Y=Object(n.h)(p,d.b))!==null&&Y!==void 0?Y:"",pe=parseInt(de,10);isNaN(pe)||(L.style.width=`${de+1}px`,Object(a.b)()&&b&&pe===0&&(L.style.width="60px",ie="none",L.style.borderRight="none")),L.style.backgroundColor=ie,L.style.opacity="1"}}m(C,"renderBootPlaceholder");function f(){const D=document.querySelector(u);D&&D.remove()}m(f,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:f},"removeBootPlaceholder",{get:()=>f,set:D=>{f=D}})},LpvA:function(K,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return r.a});var n=e("q1tI"),t=e("yxNq");let a=m(class extends n.Component{shouldComponentUpdate(o,i){return!Object(t.a)(o,this.props,2)||!Object(t.a)(i,this.state,2)}},"PureComponentDepth2");var r=e("6Bu2")},LqER:function(K,s,e){"use strict";e.d(s,"a",function(){return o}),e.d(s,"b",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("zxER"),d=e("3vtZ"),o;(function(h){h.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",h.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",h.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(o||(o={}));function i(h){const l=Object(r.c)(u=>h?Object(d.o)(u,h):{},a.shallowEqual);return Object(n.useMemo)(()=>({callsChannelId:l.channel_id,callsChannelType:l.channel_type,callsNumParticipants:l.num_participants,callsRoomId:l.room_id}),[l.channel_id,l.channel_type,l.num_participants,l.room_id])}m(i,"useHuddlesClogContext")},LvEQ:function(K,s,e){"use strict";e.d(s,"b",function(){return c}),e.d(s,"d",function(){return E}),e.d(s,"g",function(){return v}),e.d(s,"c",function(){return g}),e.d(s,"f",function(){return O}),e.d(s,"a",function(){return I}),e.d(s,"e",function(){return C}),e.d(s,"h",function(){return f});var n=e("Z0Cl"),t=e("fujP"),a=e("TGBA"),r=e("jF/p"),d=e("yIs4"),o=e("ZKjC"),i=e("G4qV"),h=e("JoR1");const l=60*60*24*14,u=Object(o.b)((S,D)=>S&&S.emojiCollections&&S.emojiCollections.collections&&S.emojiCollections.collections[D]);u.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(S,D)=>S&&S.emojiCollections&&S.emojiCollections.collections&&S.emojiCollections.collections[D]};const c=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.collections);c.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:S=>S&&S.emojiCollections&&S.emojiCollections.collections};const E=Object(i.a)(c,S=>Object(n.a)(S,D=>D.installed)),v=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.hasFetched);v.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:S=>S&&S.emojiCollections&&S.emojiCollections.hasFetched};const g=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.inputBadge);g.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:S=>S&&S.emojiCollections&&S.emojiCollections.inputBadge};const O=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.tabBadge);O.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:S=>S&&S.emojiCollections&&S.emojiCollections.tabBadge};const I=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.emojiClickCount);I.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:S=>S&&S.emojiCollections&&S.emojiCollections.emojiClickCount};const C=Object(o.b)(S=>{const D=c(S);if(Object(t.a)(D))return null;const p=Object(a.a)(D);return Object(r.a)(p,b=>b.date_create)});C.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:S=>{const D=c(S);if(Object(t.a)(D))return null;const p=Object(a.a)(D);return Object(r.a)(p,b=>b.date_create)}};const f=Object(o.b)(S=>{const D=Object(h.t)(S,"emoji_packs_most_recent_available_time");if(!Object(d.a)(D))return!1;const p=D+l;return Date.now()/1e3<p});f.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:S=>{const D=Object(h.t)(S,"emoji_packs_most_recent_available_time");if(!Object(d.a)(D))return!1;const p=D+l;return Date.now()/1e3<p}}},LxFC:function(K,s,e){"use strict";e.d(s,"c",function(){return n}),e.d(s,"d",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"b",function(){return r});const n="output";var t;(function(d){d.Denied="denied",d.Granted="granted",d.NotDetermined="not-determined"})(t||(t={}));var a;(function(d){d.NONE="none",d.Blur="blur",d.Both="both"})(a||(a={}));var r;(function(d){d.Camera="camera",d.Microphone="microphone"})(r||(r={}))},"M1/X":function(K,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"d",function(){return I}),e.d(s,"b",function(){return f}),e.d(s,"c",function(){return S});var n=e("OtLZ"),t=e("E3dU"),a=e("beVI"),r=e("oU7v"),d=e("PMNn"),o=e("E97Y"),i=e("rKeN"),h=e("y3Vx"),l=e("G0eX"),u=e("OOsk");const c={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},E={ok:!1,reason:c.InvalidParams},v={ok:!1,reason:c.FreeTeam},g={ok:!1,reason:c.CannotRequest},O={ok:!1,reason:c.InvalidChannel},I=m((D,p)=>{if(!Object(o.e)(p))return E;const b=Object(i.a)(D),M=Object(l.J)(Object(a.g)(D));if(!b&&!M)return v;const P=Object(h.c)(D,{mustEveryWorkspaceBeAllowed:!0,teamIds:Object(d.b)(D,p)});return!(P!=null&&P.ok)&&Object(n.a)(P==null?void 0:P.reasons,h.a.UserCannotCreateChannel,h.a.AllowedWorkspacePref).length>0?g:Object(r.a)(D,p)?u.a:O},"canUserInviteExternalMembersToChannelWithReason"),C=m((D,p)=>{const M=Object(t.d)(D,p,!1);return M?I(D,M):E},"canUserInviteExternalMembersToChannelWithReasonById"),f=m((D,p)=>I(D,p).ok,"canUserInviteExternalMembersToChannel"),S=m((D,p)=>C(D,p).ok,"canUserInviteExternalMembersToChannelById")},"M2+7":function(K,s,e){"use strict";e.d(s,"a",function(){return k});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("NZ+B"),o=e("LvvF"),i=e("ZobM"),h=e("Kmpi"),l=e("qt2r"),u=e("E3dU"),c=e("xwCZ"),E=e("Yauy"),v=e("C3vN"),g=e("52Wj"),O=e("5YDL"),I=e("Fn/R"),C=e("K7jq"),f=e("ehcD"),S=e("pFNT"),D=e("CD4m"),p=e("MC67"),b=e("nNoG"),M=e("g/kD"),_=e("oEDn"),P=e("zUbs"),y=e("zNRp"),j=e("e7up"),U=e("NPtR"),W=e("0i82"),L=e("sGXp"),R=e("RVJP"),A=e("A4tE");function B(){return B=Object.assign||function(Y){for(var ie=1;ie<arguments.length;ie++){var de=arguments[ie];for(var pe in de)Object.prototype.hasOwnProperty.call(de,pe)&&(Y[pe]=de[pe])}return Y},B.apply(this,arguments)}m(B,"_extends");const F=20,k=16,V=new b.b("members");function X(Y){const{className:ie,id:de,invert:pe=!1,member:oe,teamId:me,showAvatar:re=!0,showDraftIcon:ve=!1,showPresence:q=!0,showBadge:ce=!0,showStatus:he=!0,showTooltip:Se=!0,showUnreadCount:se=!1,showDeactivated:H=!0,isDeactivated:Oe=!1,unreadCount:$,useShortMode:z=!1,forceRealName:be=!1,tokenSize:Z,truncateStatus:G=!1,withTruncationTooltip:ne,"data-sk":ge="small_member_entity","data-qa":ae="small_member_entity",isBold:fe,experimentSidebarPrefsApplyToMenusGroupOn:Te=!1,isUserHidden:ye=!1}=Y,Ue=Object(I.a)(oe),Ne=Object(v.rb)(oe),He=Object(v.V)(oe),ze=Object(C.a)(oe),Je=Object(v.jb)(oe),Xe=Object(v.ib)(oe),Me=Object(h.c)(oe),Ke=Object(h.d)(oe),$e=Me||Ke,ct=pe&&!Oe,Tt=H&&He,Et=Object(g.e)(oe),Le=Object(g.c)(oe);let jt,Dt;ye?(jt=V.t("Name hidden"),Dt=V.t("Name hidden")):be||!Le?(jt=Et,Dt=Le):(jt=Le,Dt=Et);const Ee=t.a.createElement(P.a,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:jt,invert:ct,isAppOrBot:Ue,isWorkflowBot:Ne,isDeleted:Tt,isSelf:Je,isNonExistent:Me,isUnknown:Ke,withTruncationTooltip:ne,isBold:fe}),te=!ye&&!Xe&&t.a.createElement(p.a,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},Dt),Ae=Object(n.useMemo)(()=>!ye&&!He&&!Xe&&t.a.createElement(U.a,{memberId:de||(oe==null?void 0:oe.id),className:"c-member__presence",invert:ct,inline:!1}),[ye,He,Xe,de,ct,oe]),Ve=Object(n.useCallback)(st=>re?ye?t.a.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.a.createElement(i.a,{size:"20",name:"user-hide"})):$e?t.a.createElement(j.a,B({},st,{"data-qa":"member-entity__missing",isNonExistent:Me,size:F})):ve?t.a.createElement(_.a,{type:"pencil",size:"inherit",className:"c-member__draft_icon","aria-hidden":!0,"data-qa":"member-entity__draft"}):t.a.createElement(S.c,B({},st,{"data-qa":"member-entity__avatar",size:L.a.small,userId:de,user:oe,showBadge:ce,tabIndex:-1,isInteractive:!1,tokenSize:Z})):q&&Te?Ae:null,[re,de,Me,$e,oe,Z,ve,ye,Ae,q,ce,Te]),Ye=ze&&t.a.createElement(W.b,B({},Y,{"data-qa":"member-entity__team-icon",id:me,size:k,className:"c-member__team_icon"})),ft=t.a.createElement(M.a,{memberId:de||"",tooltip:Se,animated:z,className:Object(r.default)("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:G}),"data-qa":"member-entity__status"}),tt=se&&!!$&&t.a.createElement(y.b,{className:"c-member__unread_count",count:$,style:ct?"white":"red","data-qa":"member-entity__mention-badge"}),Rt=t.a.createElement("span",{className:"c-member__primary_content"},Ee,q&&!$e&&re&&Ae,!z&&te,he&&ft),rt=(Ye||tt)&&t.a.createElement("span",{className:"c-member__secondary_content"},Ye,tt),we=He&&!pe?L.d.dim:void 0,xe=Object(r.default)(ie,"c-member","c-member--small",{"c-member--with-presence":q,"c-member--deleted":He,"c-base_entity--dim":ye});return t.a.createElement(D.d,{avatar:Ve,className:xe,text:Rt,size:"small",style:we,subtext:rt,"data-qa":ae,"data-sk":ge})}m(X,"SmallMemberEntity"),X.displayName="SmallMemberEntity";function J(Y,ie){let{forceRealName:de,member:pe,id:oe,isDraftContext:me,showStatus:re,onlyBoldIfUnread:ve,useShortMode:q,neverBold:ce}=ie;const he=pe||Object(c.g)(Y,oe);let Se;const se=oe||(he==null?void 0:he.id);se&&(me||ve)&&(Se=Object(u.m)(Y,se));const H=Object(o.b)(Y,se);let Oe=!0;H?Oe=!!q:ve?Oe=!!(Se&&Object(E.ub)(Se)):ce&&(Oe=!1);let $;return me&&($=!!(Se&&Object(E.v)(Y,Se.id))),{id:oe||(he==null?void 0:he.id),member:he??void 0,teamId:Object(f.c)(Y,he),forceRealName:Object(d.a)(de)?de:Object(l.b)(Y),unreadCount:Object(O.a)(Y,he),showDraftIcon:$,showStatus:re&&Object(v.K)(he),isBold:Oe,experimentSidebarPrefsApplyToMenusGroupOn:Object(R.d)(Y,"sidebar_prefs_apply_to_menus")==="on",isUserHidden:H}}m(J,"mapStateToProps"),s.b=Object(a.a)(J)(X)},MC67:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("aBhT"),d=e("BJra");function o(){return o=Object.assign||function(h){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(h[c]=u[c])}return h},o.apply(this,arguments)}m(o,"_extends");function i(h){const{children:l=null,className:u="",multiline:c=!1,inline:E=!1,breakWords:v=!0,withTruncationTooltip:g=!1}=h;if(!l)return null;const O=c?2:1;return E?t.a.createElement("span",o({className:Object(a.default)(u,"c-base_entity__text")},Object(d.a)(h)),l):t.a.createElement("span",o({className:Object(a.default)(u,"c-base_entity__text")},Object(d.a)(h)),t.a.createElement(r.a,{lines:O,breakWords:v,withTooltip:g},l))}m(i,"BaseEntityText"),i.displayName="BaseEntityText",s.a=i},MDjO:function(K,s,e){"use strict";e.d(s,"c",function(){return n}),e.d(s,"d",function(){return t}),e.d(s,"q",function(){return a}),e.d(s,"s",function(){return r}),e.d(s,"r",function(){return d}),e.d(s,"p",function(){return o}),e.d(s,"b",function(){return i}),e.d(s,"k",function(){return h}),e.d(s,"l",function(){return l}),e.d(s,"h",function(){return u}),e.d(s,"i",function(){return c}),e.d(s,"o",function(){return E}),e.d(s,"u",function(){return v}),e.d(s,"g",function(){return g}),e.d(s,"e",function(){return O}),e.d(s,"f",function(){return I}),e.d(s,"t",function(){return C}),e.d(s,"a",function(){return f}),e.d(s,"n",function(){return S}),e.d(s,"m",function(){return D}),e.d(s,"j",function(){return p});const n="012000000000000AAA",t=2e3,a=30,r=60*1e3,d=60*a*1e3,o=250,i=200,h=3,l=1,u=12,c=100;var E;(function(b){b.Fetching="fetching",b.Fetched="fetched",b.Saving="saving",b.Saved="saved",b.Error="error",b.Synced="synced"})(E||(E={}));var v;(function(b){b.default="default",b.collision="collision_detected",b.field_level_error="field_level_error",b.validation_error="validation_error",b.additional_fields_error="additional_fields_error",b.validation_go_to_salesforce_error="validation_go_to_salesforce_error"})(v||(v={}));const g=3,O=6;var I;(function(b){b.LOADING="loading",b.SUCCESS="success",b.ERROR="error",b.REQUEST_LIMIT_EXCEEDED="request_limit_exceeded",b.JOB_RUNNING="job_running"})(I||(I={}));const C={Dashboard:"dashboard",Opportunities:"opportunities",DealLists:"dealLists"},f=200,S="https://trailhead.salesforce.com/content/learn/modules/opportunities-list-view-step-by-step/work-with-opportunity-list-views",D=1,p=10},MPQZ:function(K,s,e){"use strict";e.d(s,"a",function(){return g}),e.d(s,"b",function(){return O});var n=e("NFsq"),t=e("0VPD"),a=e("xwCZ"),r=e("G0eX"),d=e("rKeN"),o=e("/FOo"),i=e("beVI"),h=e("y9ga"),l=e("VOl3"),u=e("Awbm"),c=e("q0lC"),E=e("2vLX"),v=e("O0Iw");function g(I){const C=Object(a.c)(I),f=Object(i.g)(I),S=Object(o.a)(I);if(!(S!=null&&S.value))return!1;if(Object(d.a)(I)){let D=[];switch(S.value){case h.c.ALL_ADMINS_AND_OWNERS:return Object(c.g)(I)||Object(c.e)(I)||Object(l.a)(C)||Object(l.b)(C);case h.c.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return Object(l.a)(C)||Object(l.b)(C)?!0:(D=Object(E.a)(I),!!(Object(n.a)(S.users,C==null?void 0:C.id)||Object(t.a)(S.userGroups,D).length));case h.c.EVERYONE:return!Object(u.b)(C);case h.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(l.a)(C)||Object(l.b)(C)}}if(Object(r.J)(f))switch(S.value){case h.c.TOPLEVEL_OWNERS:return Object(c.g)(I);case h.c.EVERYONE:return!Object(u.b)(C);case h.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(c.g)(I)||Object(c.e)(I)}return!1}m(g,"canUserManageExternalSharedChannels");function O(I,C){const f=Object(a.c)(I),S=Object(i.g)(I),D=Object(o.a)(I);if(!(D!=null&&D.value))return!1;if(Object(d.a)(I)){let p=[];switch(D.value){case h.c.ALL_ADMINS_AND_OWNERS:return Object(v.b)(I,C);case h.c.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return Object(l.a)(f)||Object(l.b)(f)?!0:(p=Object(E.a)(I),!!(Object(n.a)(D.users,f==null?void 0:f.id)||Object(t.a)(D.userGroups,p).length));case h.c.EVERYONE:return!Object(u.b)(f);case h.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(l.a)(f)||Object(l.b)(f)}}if(Object(r.J)(S))switch(D.value){case h.c.TOPLEVEL_OWNERS:return Object(c.g)(I);case h.c.EVERYONE:return!Object(u.b)(f);case h.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(c.g)(I)||Object(c.e)(I)}return!1}m(O,"canUserManageSlackConnectChannel")},MPhn:function(K,s,e){"use strict";e.d(s,"b",function(){return L}),e.d(s,"a",function(){return R});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("Lgge"),d=e("yUYH"),o=e("KOcJ"),i=e("Yauy"),h=e("e55/"),l=e("C3vN"),u=e("ehcD"),c=e("xwCZ"),E=e("y6S6"),v=e("eUIW"),g=e("bjy1"),O=e("DQNL"),I=e("Sl1j"),C=e("AIke"),f=e("Cwwo"),S=e("pu3F"),D=e("FdVR"),p=e("K7jq"),b=e("CaVW"),M=e("UIWO");const _=m((A,B)=>B.map(F=>F.pasted&&!F.entity?{value:F.value,entity:Object(c.g)(A,F.value)}:F),"getMemberInfoForPastedMembers"),P=m(A=>{const B=A.entity||{};return Object(v.a)(A==null?void 0:A.value)||Object(l.db)(B)},"isAMember"),y=m(A=>{const B=A.entity||{};return Object(g.a)(A.value)||Object(O.w)(B)},"isAUserGroup"),j={[S.x.ALREADY_IN_CHANNEL]:!0,[S.x.CANNOT_INVITE_SELF]:!0,[S.x.ALREADY_IN_CHANNEL_UG]:!0},U={},W=m(A=>{let{shouldPreserve:B,teamId:F}=A;U[F]=B},"setShouldPreserveModalsOnNavigation"),L=m(A=>{let{teamId:B}=A;return U[B]},"getShouldPreserveModalsOnNavigation"),R=Object(a.c)("Add users and user groups to channel",function(){var A=Object(n.coroutine)(function*(B,F,k){let{selectedMembers:V,addMemberMode:X,channel:J,keepChannelHistory:Y,teamId:ie,shouldSkipInitialStage:de}=k;const pe={channelId:J.id,force:!0,reason:"submit-invite-channel-invite-modal"};let oe,me;if(X===d.a.AllMembers)pe.inviteAll=!0,oe=[],me=[];else{const he=_(F(),V),Se=Object(D.a)(F(),J),se=Object(h.a)(F(),J),H=Object(M.a)(F())?ie:Object(i.Eb)(F(),J),Oe=Object(b.a)(F(),J);oe=he.reduce(($,z)=>{if(z&&P(z)&&z.entity){const be=z,Z=Object(E.c)(F(),J.id,be.value);if(!Z.isKnown||!Z.isMember){const G=Object(u.e)(be.entity);(Oe||Object(p.a)(be.entity)&&G&&Se.includes(G)||Object(u.h)(be.entity,H)||Object(o.e)(be,ie)&&!Object(o.a)(be,J,se))&&$.push(be.value)}}return $},[]),pe.users=oe.join(","),me=V.reduce(($,z)=>(z&&y(z)&&$.push(z.value),$),[]),pe.subteams=me.join(",")}const re=pe.inviteAll||!!pe.users||!!pe.subteams,ve={addedExistingMembers:re,userInviteResults:oe.map(he=>({ok:!0,invitee:he,inviteeType:f.e.User,accessType:f.a.Member,error:""})),groupInviteResults:me.map(he=>({ok:!0,invitee:he,inviteeType:f.e.UserGroup,accessType:f.a.Member})),newChannelId:void 0};try{if(Y)re&&(yield B(Object(I.B)(pe)));else{W({shouldPreserve:!de,teamId:ie}),pe.propagateInviteResult=!0;const{channel:he}=yield B(Object(C.a)(pe));ve.newChannelId=he.id,W({shouldPreserve:!1,teamId:ie})}}catch(he){var q;W({shouldPreserve:!1,teamId:ie});const Se=he==null||(q=he.data)===null||q===void 0?void 0:q.errors;if(!Se){var ce;if(!j[he==null||(ce=he.data)===null||ce===void 0?void 0:ce.error])throw he}Se==null||Se.forEach(se=>{if(j[se.error])return;const H=ve.userInviteResults.filter($=>$.invitee===se.user);if(H.length)H[0].ok=!1,H[0].error=se.error;else if(V.length===1&&!se.user&&de){var Oe;ve.userInviteResults=[{ok:!1,invitee:(Oe=V[0])===null||Oe===void 0?void 0:Oe.value,inviteeType:f.e.User,error:se.error,accessType:f.a.Member}]}else ve.userInviteResults.push({ok:!1,invitee:se.user,inviteeType:f.e.User,error:se.error,accessType:f.a.Member})})}return r.a.resolve(ve)});return function(B,F,k){return A.apply(this,arguments)}}());R.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},MRve:function(K,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return h});var n=e("Lgge"),t=e("SQ0V"),a=e("OdWA"),r=e("JXEU"),d=e("MQqT"),o=e("Cyb+");const i=Object(t.c)("Fetches and updates user interactions for the given types and subtypes",(l,u,c)=>{const E=u();let v;if(c.useCache){var g;const I=(g=c.cacheFilter)!==null&&g!==void 0?g:o.g;v=c.interactions.filter(C=>!I(E,C.component,C.type))}else v=c.interactions;if(v.length===0)return n.a.resolve();const O={components:v.map(I=>I.component),types:v.map(I=>I.type),reason:c.reason};return l(Object(a.a)(O)).then(I=>{l(Object(d.c)(v)),I.interactions.length&&l(Object(d.b)(I.interactions))})});i.meta={name:"createThunk",key:"createThunkloadUserInteractions",description:"Fetches and updates user interactions for the given types and subtypes"};const h=Object(t.c)("Record that a user has taken an action on a UI component",(l,u,c)=>(l(Object(d.a)(c)),l(Object(r.a)(c))));h.meta={name:"createThunk",key:"createThunkrecordUserInteraction",description:"Record that a user has taken an action on a UI component"}},MUHj:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("SQ0V"),t=e("CMT/");const a=Object(n.c)("Create or open an IM",function(r,d){let{memberId:o,shouldNavigateToChannel:i=!0,shouldOpenInTile:h=!1,reason:l}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=o?[o]:[];return r(Object(t.a)({memberIds:u,shouldNavigateToChannel:i,shouldOpenInTile:h,reason:l}))});a.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},MUi8:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("E3dU"),o=e("beVI"),i=e("Yauy"),h=e("mZIY"),l=e("G0eX");let u=m(class extends n.Component{render(){const{shouldRender:g,team:O,className:I}=this.props;return!g||!O?null:t.a.createElement("div",{className:Object(r.default)("c-channel_team","c-channel_team--xws",I)},t.a.createElement("span",{className:"c-channel_team__name"},Object(l.h)(O)))}},"ChannelTeam");u.displayName="ChannelTeam";const c=m((v,g)=>{let{channel:O,channelId:I,shouldRender:C}=g;const f=O||Object(d.d)(v,I),S=!!(f!=null&&f.context_team_id&&Object(h.b)(v,f.context_team_id));let D;if(Object(i.X)(f))D=Object(o.s)(v,Object(i.Fb)(v,f));else if(C||S){const p=Object(i.Eb)(v,f);D=(p?Object(o.s)(v,p):void 0)||Object(o.g)(v)}return{shouldRender:C||S||!!Object(i.X)(f),team:D??void 0}},"mapStateToProps");var E=s.a=Object(a.a)(c)(u)},MYuU:function(K,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"d",function(){return r}),e.d(s,"b",function(){return o}),e.d(s,"c",function(){return i}),e.d(s,"e",function(){return d});var n=e("nNoG");const t=new n.b("form_inputs");function a(h,l){return`${h}_${l}`}m(a,"getInputBuddyId");function r(){return Math.random().toString(36).substring(2,10)}m(r,"getRandomId");const d=m(h=>{const l=h.filter(u=>u);if(l.length!==0)return l.join(" ")},"makeAriaComboIds"),o=m(h=>t.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:h}),"getMaximumCharacterErrorText"),i=m(h=>t.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:h}),"getMinimumCharacterErrorText")},McKM:function(K,s,e){"use strict";e.d(s,"b",function(){return a}),e.d(s,"a",function(){return r}),e.d(s,"i",function(){return o}),e.d(s,"k",function(){return i}),e.d(s,"c",function(){return h}),e.d(s,"d",function(){return l}),e.d(s,"h",function(){return u}),e.d(s,"g",function(){return c}),e.d(s,"f",function(){return E}),e.d(s,"e",function(){return v}),e.d(s,"j",function(){return g});var n=e("ZKjC");const t=Object(n.b)(p=>p.modernSelling.opportunities);t.meta={name:"createSelector",key:"createSelectorgetOpportunities",description:p=>p.modernSelling.opportunities};const a=Object(n.b)(p=>t(p).currentListView);a.meta={name:"createSelector",key:"createSelectorgetCurrentListView",description:p=>t(p).currentListView};const r=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.adminSuggestedListViews});r.meta={name:"createSelector",key:"createSelectorgetAdminSuggestedListViews",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.adminSuggestedListViews}};const d=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.favoriteListViews});d.meta={name:"createSelector",key:"createSelectorgetFavoriteListViews",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.favoriteListViews}};const o=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.recentlyViewedListViews});o.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedListViews",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.recentlyViewedListViews}};const i=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.userCreatedListViews});i.meta={name:"createSelector",key:"createSelectorgetUserCreatedListViews",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.userCreatedListViews}};const h=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.currentListViewSectionFilter});h.meta={name:"createSelector",key:"createSelectorgetCurrentListViewSectionFilter",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.currentListViewSectionFilter}};const l=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.isFetchingListViewSections});l.meta={name:"createSelector",key:"createSelectorgetIsFetchingListViewSections",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.isFetchingListViewSections}};const u=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.listViewSectionErrors});u.meta={name:"createSelector",key:"createSelectorgetListViewSectionErrors",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.listViewSectionErrors}};const c=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.listViewSearchResults});c.meta={name:"createSelector",key:"createSelectorgetListViewSearchResults",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.listViewSearchResults}};const E=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.listViewActiveSearchResultIds});E.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchResultIds",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.listViewActiveSearchResultIds}};const v=Object(n.b)(p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.listViewActiveSearchQuery});v.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchQuery",description:p=>{var b;return(b=t(p))===null||b===void 0?void 0:b.listViewActiveSearchQuery}};const g=Object(n.b)(p=>t(p).shouldShowOpportunitiesListViewBanner);g.meta={name:"createSelector",key:"createSelectorgetShouldShowOpportunitiesListViewBanner",description:p=>t(p).shouldShowOpportunitiesListViewBanner};const O=Object(n.b)(p=>p.modernSelling.opportunitiesDrilldown);O.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldown",description:p=>p.modernSelling.opportunitiesDrilldown};const I=Object(n.b)(p=>O(p).isFetchingOpportunitiesDrilldown);I.meta={name:"createSelector",key:"createSelectorgetIsFetchingOpportunitiesDrilldown",description:p=>O(p).isFetchingOpportunitiesDrilldown};const C=Object(n.b)(p=>O(p).displayColumns);C.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldownDisplayColumns",description:p=>O(p).displayColumns};const f=Object(n.b)(p=>O(p).groupByColumn);f.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldownGroupByColumn",description:p=>O(p).groupByColumn};const S=Object(n.b)(p=>O(p).groups);S.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldownGroups",description:p=>O(p).groups};const D=Object(n.b)(p=>O(p).groupColumns);D.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldownGroupColumns",description:p=>O(p).groupColumns}},MeLy:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("Fjja"),o=e("QOYf"),i=e("ykb+"),h=e("nNoG"),l=e("qDEp"),u=e("Tevt"),c=e("s4P+"),E=e("qiCS"),v=e("Pw4T"),g=e("d/xU"),O=e("84QN"),I=e("0csk"),C=e("YKpg"),f=e("Fvov");const S=new h.b("error_boundary"),D="REB";let p=m(class extends n.Component{componentDidUpdate(_){this.state.hasError&&_.id!==this.props.id&&this.resetHasError()}componentDidCatch(_,P){let y=null;try{y=`${D}${Object(d.a)(Object(C.a)(_.message)).substr(0,9).toUpperCase()}`}catch{}this.setState(()=>({hasError:!0,errCode:y}),()=>{var j,U;return(U=(j=this.props).onError)===null||U===void 0?void 0:U.call(j,_)}),Object(i.b)()||this.props.logger.error("ERROR-BOUNDARY",_,y,P.componentStack,{subtype:this.props.subtype||"component_error_boundary"})}onClickReloadButton(_){_.preventDefault();let P=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),Object(o.a)()?(P=Object(E.d)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${P} after hitting ErrorBoundary`),Object(f.c)().finally(()=>{window.location.href=P})):(this.props.logger.info("LEGACY",`Reloading at ${P} after hitting ErrorBoundary`),window.location.href=P)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const _=m(P=>{let{text:y,key:j}=P;return t.a.createElement(u.a,{href:`https://${Object(g.l)()}/help/contact`,rel:"noopener noreferrer",key:j},y)},"renderLink");return this.state.errCode==="REBD7A8C1099"?S.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{fallbackHash:"e429542887f26442dba7a085bd05bea15803edd9",fallbackHashNs:"error_boundary"},_):S.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,_)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const _=Object(r.default)("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.a.createElement("div",{className:_},t.a.createElement("div",{className:"p-error_boundary__content"},t.a.createElement("div",{className:"p-error_boundary__message"},t.a.createElement("h1",{className:"p-error_boundary__heading"},t.a.createElement("span",null,S.t("Something went wrong")),t.a.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":S.t("Something went wrong")},"\u{1F422}")),t.a.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.a.createElement(I.a,{errCode:this.state.errCode}),t.a.createElement(l.f,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},S.t("Reload"))))}return this.props.children}constructor(_){super(_),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");p.displayName="ErrorBoundary";var b=s.a=Object(a.a)(M=>({logger:Object(O.a)(M)?Object(c.a)({state:M}):Object(c.b)(),telemeter:Object(O.a)(M)?Object(v.d)({state:M}):Object(v.a)()}))(p)},Mtna:function(K,s,e){"use strict";e.d(s,"d",function(){return l}),e.d(s,"e",function(){return u}),e.d(s,"i",function(){return c}),e.d(s,"j",function(){return E}),e.d(s,"f",function(){return v}),e.d(s,"l",function(){return g}),e.d(s,"m",function(){return O}),e.d(s,"n",function(){return I}),e.d(s,"o",function(){return C}),e.d(s,"p",function(){return f}),e.d(s,"g",function(){return S}),e.d(s,"k",function(){return D}),e.d(s,"b",function(){return p}),e.d(s,"r",function(){return b}),e.d(s,"q",function(){return M}),e.d(s,"a",function(){return W}),e.d(s,"h",function(){return L}),e.d(s,"c",function(){return R});var n=e("nNoG"),t=e("sjOx"),a=e("HP72"),r=e("uiBO"),d=e("2VFn"),o=e("0Xjs");const i=new n.b("search"),h=new n.b("files"),l=m(()=>({[t.k.all]:i.t("Any account type"),[t.k.owners]:i.t("Owners"),[t.k.admins]:i.t("Admins"),[t.k.full]:i.t("Regular members"),[t.k.guests]:i.t("Guests"),[t.k.deactivated]:i.t("Deactivated"),[t.k.profile_only]:i.t("Not on Slack"),[o.z.WORKSPACE_OWNERS]:i.t("Workspace owners",{fallbackHash:"d7cba32a9e0f2ca571f599d0b68cc454d17e068f",fallbackHashNs:"enterprise_dashboard"}),[o.z.WORKSPACE_ADMINS]:i.t("Workspace admins",{fallbackHash:"9ee21acebf5f424136e5710918c6103b722721ea",fallbackHashNs:"workspace_directory"}),[o.z.ORG_OWNERS]:i.t("Org owners",{fallbackHash:"cbde311e30897fd65ef95aae9c46db5f109f38ea",fallbackHashNs:"enterprise_dashboard"}),[o.z.ORG_ADMINS]:i.t("Org admins",{fallbackHash:"f4568dd7fb42f645e75d5271f550c15c6175a9db",fallbackHashNs:"member_directory"})}),"getAccountTypeLabels"),u=m(function(){let{showEnterpriseOptions:A=!1,orgDisplayName:B=""}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const F=l(),k=[{label:F[t.k.all],value:t.k.all},{label:A?F[o.z.WORKSPACE_OWNERS]:F[t.k.owners],value:A?o.z.WORKSPACE_OWNERS:t.k.owners},{label:A?F[o.z.WORKSPACE_ADMINS]:F[t.k.admins],value:A?o.z.WORKSPACE_ADMINS:t.k.admins},{label:F[t.k.full],value:t.k.full},{label:F[t.k.guests],value:t.k.guests},{label:F[t.k.deactivated],value:t.k.deactivated},{label:F[t.k.profile_only],value:t.k.profile_only}];return A&&k.push({label:B,value:"",options:[{label:F[o.z.ORG_OWNERS],value:o.z.ORG_OWNERS},{label:F[o.z.ORG_ADMINS],value:o.z.ORG_ADMINS}]}),k},"getAccountTypeSelectOptions"),c=m(A=>{let{experimentDesktopIa4GroupOn:B}=A;return{[t.a.all]:i.t("Any channel type"),[t.a.public]:B?i.t("Public",{fallbackHash:"6f83170df1431fc241b0c9c611d01a47d3a52493",fallbackHashNs:"enterprise_dashboard"}):i.t("Public channels",{fallbackHash:"6f83170df1431fc241b0c9c611d01a47d3a52493",fallbackHashNs:"enterprise_dashboard"}),[t.a.private]:B?i.t("Private",{fallbackHash:"1afa5af12d0b3a27b8bcf7480de5988b3c6a3360",fallbackHashNs:"search"}):i.t("Private channels"),[t.a.archived]:B?i.t("Archived",{fallbackHash:"1df87d0828b333b73a65933c63cb23251b629aa2",fallbackHashNs:"search"}):i.t("Archived channels"),[t.a.shared]:B?i.t("External",{ns:"member_profile",fallbackHash:"c73934abd64310c4585998113ac6cb5f0980c174",fallbackHashNs:"search"}):i.t("Slack Connect channels",{ns:"member_profile"})}},"getChannelTypeLabels"),E=m(function(){let{shouldDisablePrivateChannelOption:A=!1,experimentDesktopIa4GroupOn:B=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const F=c({experimentDesktopIa4GroupOn:B});return[{label:F[t.a.all],value:t.a.all},{label:F[t.a.public],value:t.a.public},{label:F[t.a.private],value:t.a.private,isDisabled:A},{label:F[t.a.archived],value:t.a.archived},{label:F[t.a.shared],value:t.a.shared}]},"getChannelTypeSelectOptions"),v=m(function(){let{shouldDisableOtherChannelsOption:A=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[{label:i.t("All channels"),value:t.q.all_channels},{label:i.t("My channels",{fallbackHash:"f8d4a704644c1606400d6d4ba80d47a43a66f3b9"}),value:t.q.my_channels},{label:i.t("Other channels",{ns:"slack_connect_hub_next"}),value:t.q.other_channels,isDisabled:A}]},"getAllChannelsSelectOptions"),g=m(A=>{let{isListsEnabled:B}=A;return{[t.e.ALL]:i.t("Any file type"),[t.e.POSTS]:h.t("Posts"),[t.e.SNIPPETS]:h.t("Snippets"),[t.e.EMAILS]:h.t("Emails"),[t.e.IMAGES]:h.t("Images"),[t.e.AUDIO]:h.t("Audio"),[t.e.VIDEOS]:h.t("Videos"),[t.e.PDFS]:h.t("PDFs",{fallbackHash:"8c85c119d1cd8e0acfc82505e49fce77f2339f5f",fallbackHashNs:"includes_billing"}),[t.e.SPREADSHEETS]:h.t("Spreadsheets"),[t.e.PRESENTATIONS]:h.t("Presentations"),[t.e.DOCUMENTS]:h.t("Documents"),[t.e.CANVASES]:h.t("Canvases & Posts"),[t.e.LISTS]:B?h.t("Lists"):"Lists"}},"getFileTypeLabels"),O=m(A=>{let{hasCanvasAccess:B,isListsEnabled:F,fileTypes:k}=A;const V=g({isListsEnabled:F}),X=m(()=>B?{label:V[t.e.CANVASES],value:t.e.CANVASES}:{label:V[t.e.POSTS],value:t.e.POSTS},"getPostsOrCanvasesOption"),J=[];return J.push(X(),{label:V[t.e.DOCUMENTS],value:t.e.DOCUMENTS},{label:V[t.e.EMAILS],value:t.e.EMAILS},{label:V[t.e.IMAGES],value:t.e.IMAGES},{label:V[t.e.PDFS],value:t.e.PDFS},{label:V[t.e.PRESENTATIONS],value:t.e.PRESENTATIONS},{label:V[t.e.SNIPPETS],value:t.e.SNIPPETS},{label:V[t.e.SPREADSHEETS],value:t.e.SPREADSHEETS},{label:V[t.e.AUDIO],value:t.e.AUDIO},{label:V[t.e.VIDEOS],value:t.e.VIDEOS}),F&&J.unshift({label:V[t.e.LISTS],value:t.e.LISTS}),k.length&&k.length>1&&J.push({label:i.t("Clear all",{fallbackHash:"c043160a89ba0acd714977735d49455f662b1c79",fallbackHashNs:"current_status"}),value:a.a}),J},"getFileTypeSelectOptions"),I=m(function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return{[t.g.FROM]:i.t("People filter"),[t.g.IN]:i.t("Channels and direct messages filter",{fallbackHash:"07c59b44128dbdb6c2e5604a9dc5b65e1b865e49",fallbackHashNs:"external_shared_channels"}),[t.g.DATE]:i.t("Date filter"),[t.g.FILE_TYPE]:i.t("File type filter"),[t.g.CHANNEL_TYPE]:i.t("Channel type filter"),[t.g.ACCOUNT_TYPE]:i.t("Account type filter"),[t.g.ORG]:i.t("Organization filter"),[t.g.WORKSPACE]:i.t("Workspace filter"),[t.g.ONLY_MY_CHANNELS]:i.t("Only include channels I\u2019m in",{fallbackHash:"82d4760dc89b7552ab75e38a288da88b6516cfa1"}),[t.g.EXCLUDE_BOTS]:i.t("Exclude apps, bots, and workflows",{fallbackHash:"7cee0df0b06bfc9d156ece6d51adc83630ff203b"}),[t.g.HIDE_MY_CHANNELS]:i.t("Exclude channels I\u2019m in",{fallbackHash:"f094aaf4e10c9283ea67ee6e82f423dbeea56379"}),[t.g.HIDE_DEACTIVATED_USERS]:i.t("Exclude deactivated accounts",{fallbackHash:"f83cfb23c3c690fc9a6638d4a742d1e6f1f2fb91"}),[t.g.HAS_FILE]:i.t("Has file"),[t.g.HAS_LINK]:i.t("Has link"),[t.g.HAS_ACTION]:i.t("Has action"),[t.g.HAS_PIN]:i.t("Has pin"),[t.g.IS_SAVED]:i.t("Is saved"),[t.g.REACTION]:i.t("Reaction filter"),[t.g.WITH]:i.t("With filter"),[t.g.ALL_FILES]:i.t("All files"),[t.g.ALL_CHANNELS]:i.t("All channels"),[t.g.CREATOR]:A?i.t("Created by filter"):""}},"getFilterAriaLabels"),C=m(()=>({[t.g.FROM]:i.t("Search people"),[t.g.IN]:i.t("Search conversations"),[t.g.ORG]:i.t("Search organizations"),[t.g.WORKSPACE]:i.t("Search workspaces"),[t.g.WITH]:i.t("Search people")}),"getFilterInputAriaLabels"),f=m(A=>`${A}-label`,"getTriggerLabelId"),S=m(A=>{let{filter:B,isOpen:F,isActive:k,isToggle:V}=A;const X={};return X["aria-labelledby"]=k&&!V?`${f(B)} ${B}`:void 0,V&&(X["aria-pressed"]=k.toString()),V||(X["aria-expanded"]=F),X},"getAriaPropsForTrigger"),D=m(function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return{messages:[t.g.FROM,t.g.IN,t.g.ONLY_MY_CHANNELS,t.g.EXCLUDE_BOTS],files:[t.g.FROM,t.g.IN,t.g.FILE_TYPE,t.g.DATE],channels:[t.g.ALL_CHANNELS,t.g.CHANNEL_TYPE,t.g.WORKSPACE,t.g.ORG],people:[t.g.ACCOUNT_TYPE,t.g.WORKSPACE,t.g.ORG],canvases:A?[t.g.FROM,t.g.IN,t.g.DATE,t.g.CREATOR]:[t.g.FROM,t.g.IN,t.g.DATE],user_groups:[],triggers:[]}},"getDefaultSearchFilters"),p={messages:[t.g.FROM,t.g.IN,t.g.WITH,t.g.DATE],files:[t.g.FROM,t.g.IN,t.g.DATE,t.g.FILE_TYPE],channels:[t.g.WORKSPACE,t.g.ORG,t.g.CHANNEL_TYPE,t.g.HIDE_MY_CHANNELS],people:[t.g.WORKSPACE,t.g.ORG,t.g.ACCOUNT_TYPE,t.g.HIDE_DEACTIVATED_USERS],canvases:[t.g.FROM,t.g.IN,t.g.DATE],user_groups:[t.g.WORKSPACE,t.g.HIDE_DEACTIVATED_USERS],triggers:[]},b=[r.b.BrowseApps,r.b.BrowseShortcuts,r.b.BrowseCanvases,r.b.BrowseChannels,r.b.BrowseFiles,r.b.BrowseLists,r.b.BrowsePeople,r.b.BrowseUserGroups,r.b.OrgDirectory,r.b.RecentFiles,r.b.FilesCreatedByYou,r.b.FilesSharedWithYou,r.b.ExternalOrganizations,r.b.ExternalOrganization,r.b.ExternalPeople,r.b.SlackConnectChannels,r.b.SlackConnectInvitations,r.b.RecentPlatform,r.b.SlackConnect],M=[d.d.Home,d.d.DMs,d.d.Activity,d.d.SalesHome,d.d.Later,d.d.Files,d.d.FilesPrototype,d.d.Channels,d.d.People,d.d.Platform,d.d.Canvases,d.d.Huddles,d.d.Assistant],_=[t.g.FROM,t.g.IN,t.g.WITH,t.g.DATE,t.g.FILE_TYPE,t.g.ONLY_MY_CHANNELS,t.g.EXCLUDE_BOTS,t.g.REACTION,t.g.HAS_FILE,t.g.HAS_ACTION,t.g.HAS_LINK,t.g.IS_DM,t.g.IS_SAVED,t.g.IS_THREAD,t.g.HAS_PIN],P=[t.g.FROM,t.g.IN,t.g.WITH,t.g.DATE,t.g.FILE_TYPE],y=[t.g.FROM,t.g.IN,t.g.WITH,t.g.DATE],j=[t.g.ALL_CHANNELS,t.g.CHANNEL_TYPE,t.g.WORKSPACE,t.g.ORG],U=[t.g.ACCOUNT_TYPE,t.g.WORKSPACE,t.g.ORG],W={messages:_,files:P,people:U,channels:j,canvases:y},L=m(A=>{let{maybeRenderString:B,experimentDesktopIa4GroupOn:F,isActive:k}=A;return k?B(i.t("Any channel type")):F?i.t("Any channel type",{fallbackHash:"3deb7456519697ecf4eefc455516c969a3681bae",fallbackHashNs:"enterprise_dashboard"}):i.t("Channel type",{fallbackHash:"3dee1eeb68531be3322bdc42a77526b09922b4fb"})},"getChannelTypeFilterLabel"),R=m(A=>{let{maybeRenderString:B,isActive:F}=A;return F?B(i.t("Any account type")):i.t("Account type",{fallbackHash:"30c8a0fc9c1a2d13c8f0991ce4c53c98aa41720c"})},"getAccountTypeFilterLabel")},Mtxo:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("Tkkt"),a=e("Wn1n"),r=e("3fJ/"),d=e("bsvk"),o=e("Vfgr"),i=e("92pD"),h=e("owWc"),l=e("1sW9"),u=e("kzMN"),c=e("tvJC"),E=e("G2FQ");function v(b){let{highlightWords:M,shouldRenderEmojiAsText:_,emojiNames:P,locale:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const j=Object(l.b)(b,{highlightWords:M,shouldRenderEmojiAsText:_,emojiNames:P,locale:y,useChannelTagging:!1});return Object(h.a)(j.contents,(U,W)=>{if(W.attributes&&W.attributes.slackmention){const L=W.attributes.slackmention.id;return Object(u.a)(L)?`${U}@${Object(E.a)(L)}`:Object(c.a)(L)?`${U}${W.attributes.slackmention.label}`:L.charAt(0)==="S"?`${U}<!subteam^${L}|${W.attributes.slackmention.label}>`:`${U}<@${L}>`}return W.insert&&W.insert.slackemoji?U+W.insert.slackemoji.text:U+W.insert},"")}m(v,"convertContentsStringForEncodedMembers");function g(b,M,_){let P=Object(o.a)(_);return P=v(P,{shouldRenderEmojiAsText:!0}),Object(i.a)(b,M,P)}m(g,"convertClientQueryToAPIQuery");var O=e("VXST"),I=e("kZhr"),C=e("RV0M"),f=e("uiBO"),S=e("NaT4");const D=Object(n.c)("Set the query in the request which is being edited",(b,M,_,P)=>{let{query:y,mode:j,module:U,page:W,encodedSearchString:L,preventQueryRewrite:R}=_;const A=M(),B=!!L,{shouldUseNavigate:F}=P(C.a);let k=!1;F?k=Object(S.a)(A,{viewType:f.b.Search}):k=Object(a.a)(A)==="Psearch",b(Object(t.c)({windowId:I.a})),!B&&!k&&b(Object(r.m)({windowId:I.a})),b(Object(r.f)({windowId:I.a})),b(Object(r.d)({windowId:I.a})),b(Object(r.s)({moduleType:"messages",loading:!0})),b(Object(r.s)({moduleType:"files",loading:!0})),b(Object(r.s)({moduleType:"canvases",loading:!0}));const V=Object(d.d)(A,y);return b(Object(t.h)({queryFilter:V})),g(b,M,y).then(X=>(b(Object(t.i)({query:X})),b(Object(O.a)({query:X,fetchSuggestions:!0,mode:j,module:U,page:W,preventQueryRewrite:R}))))});D.meta={name:"createThunk",key:"createThunksetEditableRequestQueryThenRequest",description:"Set the query in the request which is being edited"};var p=s.a=D},Mxtj:function(K,s,e){"use strict";var n=e("6H+D"),t=e("uiBO"),a=e("I3z+"),r=e("OaiI"),d=e("UUKI"),o=e("ByMX"),i=e("G0eX"),h=e("beVI"),l=e("eVCY"),u=e("TdVx"),c=e("EAKl"),E=e("RVJP"),v=e("4Rbt"),g=e("PX9a"),O=e("cqkq"),I=e("nxT7"),C=e("kzto"),f=e("8gWv");const S={[t.b.KeyboardShortcuts]:()=>!0,[t.b.WhatsNew]:()=>!0,[t.b.RecentCanvases]:()=>!1,[t.b.CanvasesSharedWithYou]:()=>!1,[t.b.CanvasesCreatedByYou]:()=>!1,[t.b.BrowseCanvases]:p=>Object(u.a)(p),[t.b.RecentFiles]:()=>!0,[t.b.FilesCreatedByYou]:()=>!0,[t.b.FilesSharedWithYou]:()=>!0,[t.b.BrowseExternalWorkspace]:I.a,[t.b.BrowseChannels]:()=>!0,[t.b.BrowsePeople]:()=>!0,[t.b.ExternalOrganizations]:p=>Object(E.d)(p,"external_connections_browser")==="on",[t.b.ExternalOrganization]:p=>Object(E.d)(p,"external_connections_browser")==="on",[t.b.ExternalPeople]:p=>Object(E.d)(p,"external_connections_browser")==="on",[t.b.SlackConnectChannels]:p=>Object(E.d)(p,"external_connections_browser")==="on",[t.b.SlackConnectInvitations]:p=>Object(E.d)(p,"external_connections_browser")==="on",[t.b.BrowseUserGroups]:p=>!Object(o.b)(p)&&Object(i.J)(Object(h.g)(p)),[t.b.RecentPlatform]:p=>Object(O.e)(p),[t.b.SlackConnect]:p=>Object(n.a)(p),[t.b.BrowseApps]:p=>Object(O.a)(p),[t.b.Channel]:()=>!0,[t.b.AppSpace]:()=>!0,[t.b.Quip]:()=>!0,[t.b.BrowseShortcuts]:p=>Object(O.e)(p),[t.b.BrowseWorkflowsManagedByYou]:p=>Object(O.b)(p),[t.b.BrowseWorkflowTemplates]:p=>Object(O.c)(p),[t.b.OrgDirectory]:()=>!0,[t.b.Page]:()=>!0,[t.b.Threads]:()=>!0,[t.b.Thread]:()=>!0,[t.b.Profile]:()=>!0,[t.b.FileDetails]:()=>!0,[t.b.Help]:()=>!0,[t.b.UserGroup]:()=>!0,[t.b.Feedback]:()=>!0,[t.b.List]:p=>Object(r.isListsEnabled)(p),[t.b.ListRecord]:p=>Object(r.isListsEnabled)(p),[t.b.ComposeList]:()=>!0,[t.b.Compose]:()=>!0,[t.b.QuipCommentThread]:()=>!0,[t.b.QuipCommentStream]:()=>!0,[t.b.QuipActivityHistory]:()=>!0,[t.b.QuipVariablesOverview]:()=>!0,[t.b.Canvas]:()=>!0,[t.b.ChannelCanvas]:()=>!0,[t.b.CanvasBrowser]:p=>Object(u.a)(p),[t.b.PaidBenefits]:()=>!0,[t.b.Setup]:()=>!0,[t.b.SearchEmpty]:()=>!0,[t.b.AboutWorkspace]:()=>!1,[t.b.Unknown]:()=>!0,[t.b.MorePeopleSidebar]:()=>!0,[t.b.MoreCanvasesSidebar]:()=>!0,[t.b.SalesHome]:p=>Object(l.u)(p),[t.b.Items]:p=>Object(r.isListsMyItemsEnabled)(p),[t.b.CRM]:p=>Object(d.a)(p),[t.b.AppPopout]:()=>!0,[t.b.ChannelList]:()=>!0,[t.b.BrowseFiles]:()=>!0,[t.b.BrowseFilesPrototype]:p=>Object(C.a)(p),[t.b.BrowseLists]:p=>Object(r.isListsEnabled)(p),[t.b.DmsList]:()=>!0,[t.b.BrowseList]:()=>!0,[t.b.ActivityList]:()=>!0,[t.b.LaterList]:p=>Object(a.b)(p),[t.b.Search]:()=>!0,[t.b.MoreFilesSidebar]:()=>!0,[t.b.FilesPrototypeSidebar]:p=>Object(C.a)(p),[t.b.MoreChannelsSidebar]:()=>!1,[t.b.MorePlatformSidebar]:()=>!0,[t.b.MoreHuddlesSidebar]:()=>!0,[t.b.MoreExternalConnectionsSidebar]:p=>Object(E.d)(p,"external_connections_browser")==="on",[t.b.HelpBrowser]:()=>!0,[t.b.Huddle]:()=>!0,[t.b.KeyboardShortcutsBrowser]:()=>!0,[t.b.WhatsNewBrowser]:()=>!0,[t.b.FeedbackBrowser]:()=>!0,[t.b.ExternalWorkspaceSidebar]:()=>!1,[t.b.ExternalWorkspacePeopleBrowser]:()=>!1,[t.b.ExternalWorkspaceChannelBrowser]:()=>!1,[t.b.PostEvent]:()=>!1,[t.b.AiSummaryDetails]:p=>Object(c.d)(p),[t.b.AiSummaryList]:p=>Object(c.d)(p),[t.b.DailyDigest]:p=>Object(c.n)(p),[t.b.MoreAiSummarySidebar]:p=>Object(c.b)(p),[t.b.SearchSummary]:p=>Object(c.p)(p),[t.b.AssistantList]:p=>Object(f.a)(p),[t.b.Today]:p=>Object(v.a)(p),[t.b.Record]:p=>Object(g.a)(p),[t.b.RecordChannelCreate]:p=>Object(g.a)(p),[t.b.SalesLogActivity]:p=>Object(l.o)(p),[t.b.AssistantThread]:()=>!0},D=m((p,b)=>S[b](p),"getViewTypeVisibility");s.a=D},MzqU:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});const n="A01126R8Y2X",t="A0112L5RZ5E"},NKMX:function(K,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("cm7I"),d=e("Lgge"),o=e("gpLM"),i=e("HKlo"),h=e("jj3I"),l=e("r9F4"),u=e("Erbp"),c=e("lhZz"),E=e("s4P+"),v=e("+CZ0"),g=e("wVLq"),O=e("oCIk"),I=e("ED8d"),C=e("smhd");const f=Object(a.c)("Start transcription for current huddle",function(){var S=Object(n.coroutine)(function*(D,p){if(Object(l.a)(p())||Object(l.b)(p()))return d.a.resolve();const b=Object(c.getStateForClientStore)(),M=Object(v.a)(b);return M?(D(Object(h.b)()),D(Object(h.e)(!0)),yield Object(u.a)(),D(Object(O.a)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),D(Object(r.a)({reason:"start-event-log",callId:M})).catch(_=>{var P;if(((P=_.data)===null||P===void 0?void 0:P.error)==="permission_denied")return d.a.delay(5e3).then(()=>D(Object(r.a)({reason:"start-event-log/retry",callId:M})));throw _}).catch(_=>{Object(E.a)({getState:p}).error(_),D(Object(h.a)())}).finally(()=>{D(Object(h.e)(!1)),D(Object(o.c)({focusKey:i.c.HUDDLE_CAPTIONS_TAB})),D(Object(h.c)({type:g.a.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:Date.now()}));const{huddleEventsTrace:_}=Object(I.a)().getAllTraceHandlers();_==null||_.update({name:C.a.TRANSCRIPT,type:C.b.START})})):d.a.reject(new Error("No active call ID for huddle"))});return function(D,p){return S.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"},s.a=f},NPtR:function(K,s,e){"use strict";var n=e("D6Rr"),t=e("Aebc");s.a=n.a},NPyv:function(K,s,e){"use strict";e.d(s,"c",function(){return l}),e.d(s,"b",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),r=e("BHdc");function d(){return d=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}return c},d.apply(this,arguments)}m(d,"_extends");const o="_isSlackMenuItemHeader";function i(c){let{for:E,label:v,className:g,onMouseEnter:O=a.a}=c;return t.a.createElement("div",d({},E&&{id:u(E)},{"aria-hidden":"true",className:Object(r.default)("c-menu_item__header",g),onMouseEnter:O}),v)}m(i,"MenuItemHeader"),i.displayName="MenuItemHeader",i[o]=!0;var h=s.a=i;function l(c){return!!(c!=null&&c[o])}m(l,"isMenuItemHeader");function u(c){return`${c}-label`}m(u,"getMenuItemHeaderIdForGroup")},NX5n:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("AFNo"),t=e("RVJP"),a=e("rZ8V");const r=Object(n.c)(d=>Object(t.d)(d,"shortcuts_workspace_picker")==="on"&&Object(a.m)(d));r.meta={name:"createSelector",key:"createSelectorshouldShowShortcutsSpeedbump",description:d=>Object(t.d)(d,"shortcuts_workspace_picker")==="on"&&Object(a.m)(d)}},NYuI:function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},NaT4:function(K,s,e){"use strict";var n=e("AFNo"),t=e("v7mh");const a=Object(n.c)((h,l)=>{let{viewType:u}=l;const c=Object(t.f)(h);return Object.keys(c).map(O=>c[O]).some(O=>Object.keys(O).some(C=>{var f;return((f=O[C])===null||f===void 0?void 0:f.viewType)===u}))});a.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInChildWindow",description:(h,l)=>{let{viewType:u}=l;const c=Object(t.f)(h);return Object.keys(c).map(O=>c[O]).some(O=>Object.keys(O).some(C=>{var f;return((f=O[C])===null||f===void 0?void 0:f.viewType)===u}))}};var r=a,d=e("81ps");const o=Object(n.c)((h,l)=>{let{viewType:u}=l;return r(h,{viewType:u})||Object(d.a)(h,{viewType:u})});o.meta={name:"createSelector",key:"createSelectorisViewTypeVisible",description:(h,l)=>{let{viewType:u}=l;return r(h,{viewType:u})||Object(d.a)(h,{viewType:u})}};var i=s.a=o},Nq3N:function(K,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("3Hq1"),r=e("SQ0V"),d=e("lhZz"),o=e("O86Y"),i=e("1Zcw"),h=e("dKQz"),l=e("oCIk"),u=e("+CZ0"),c=e("kBpe"),E=e("s4P+"),v=e("3REw"),g=e("HoeF"),O=e("SIMs"),I=e("LZPg"),C=e("d3B0"),f=e("sOAz"),S=e("dqxO");const D=Object(r.c)("Enable or disable local microphone",function(){var p=Object(n.coroutine)(function*(b,M,_){const P=Object(d.getStateForClientStore)(),y=M(),j=Object(E.a)({state:y}),U=Object(C.i)(y);if(Object(O.j)(y)||b(Object(g.h)({canShowMutedBanner:!0})),Object(c.i)()||(yield Object(d.dispatchForClientStore)(Object(S.c)({mediaResourceType:v.i.MICROPHONE}))),j.info(i.c,`Set microphone to ${_}`),U&&_){j.warn(i.c,"Microphone could not be set to enabled as access to the device was blocked"),Object(c.i)()?b(Object(f.b)({alert:f.a.NoSystemAudio})):b(Object(f.b)({alert:f.a.NoBrowserAudioPermission}));return}const{teamId:L}=Object(u.p)(P)||{};if(L&&L!==Object(o.g)(y)){Object(d.dispatchForTeamId)(L,D(_));return}Object(a.a)(_)||(Object(d.dispatchForClientStore)(Object(h.g)(_)),_&&Object(u.m)(P)&&b(Object(l.a)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),b(Object(I.ob)({id:"self",isMicrophoneEnabled:_}))});return function(b,M,_){return p.apply(this,arguments)}}());D.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"},s.a=D},NqdB:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("ByMX"),t=e("nfxS");const a=m(r=>!Object(n.b)(r)&&Object(t.a)(r,"emoji_only_admins"),"canUserAddEmoji")},Nyj0:function(K,s,e){"use strict";e.d(s,"a",function(){return S});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ifKl"),d=e("yxNq"),o=e("s4P+"),i=e("PLUl"),h=e("4cU5"),l=e("cqtq"),u=e("iBeP"),c=e("UQYs"),E=e("TxvE"),v=e("6kzs"),g=e("oWj6"),O=e("1ufr");function I(){return I=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var M=arguments[b];for(var _ in M)Object.prototype.hasOwnProperty.call(M,_)&&(p[_]=M[_])}return p},I.apply(this,arguments)}m(I,"_extends");const C=50,f="VIRTUALIZED_LIST";class S extends n.Component{componentDidMount(){this.props.window.document.addEventListener("selectionchange",this.onSelectionChange)}componentDidUpdate(b,M){this.scrollToKeyOnUpdate&&(this.scrollToKeyOnUpdate(),this.scrollToKeyOnUpdate=null)}shouldComponentUpdate(b,M){return!Object(d.a)(b,this.props)||!Object(d.a)(M,this.state)}UNSAFE_componentWillReceiveProps(b){!this.props.useStaticHeightForListItems&&b.width!==this.props.width&&this.layout.heightCache.invalidate(),this.layout.setKeys(b.keys),this.relayout()}componentWillUnmount(){this.scrollStartTimeout&&clearTimeout(this.scrollStartTimeout),this.props.window.document.removeEventListener("selectionchange",this.onSelectionChange)}onContentScroll(b){this.props.onContentScroll(b)}onScroll(b){this.onScrollEnd();const{start:M,end:_}=this.state,{keys:P}=this.props;if(!(M===0&&_===P.length)){const j=this.getScrollTop();if(this.props.metricsTag){const[U,W]=this.prevBounds;let L;j<U?L=Math.abs(U-j):j>W&&(L=Math.abs(j-W)),L&&this.janks.push(L)}this.relayout()}!this.scrollStartTimeout&&!this.isScrolling()&&b.target===this.getScrollerRef()&&(this.scrollStartTimeout=setTimeout(this.onScrollStart,C*2)),this.props.onScroll(b,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}onScrollEnd(){if(this.scrollStartTimeout&&(clearTimeout(this.scrollStartTimeout),this.scrollStartTimeout=null),this.props.metricsTag){const b=this.props.tracer||Object(i.a)(),M=b.createMetricsTrace({label:"virtual-list",samplingOptions:{sampleRate:.01,sampleType:h.g.CALL},tags:{list_type:this.props.metricsTag,overscan_ratio:this.props.overscanRatio}});let _=0,P=0;for(const j of this.janks)_+=j,j>P&&(P=j);const y=this.janks.length;M.count({name:"jank",value:y}),M.store({name:"jank-px:avg",value:y?Math.round(_/y):0}),M.store({name:"jank-px:max",value:P}),b.reportTrace(M),this.janks=[]}this.setState(b=>b.scrolling?{scrolling:!1}:null)}onScrollStart(){this.setState(()=>({scrolling:!0}),this.onScrollEnd),this.scrollStartTimeout=null}onSelectionChange(){if(!this.scrollbar)return;const b=this.props.window.getSelection&&this.props.window.getSelection();b&&b.type==="Range"&&this.contentNode&&this.contentNode.contains(b.anchorNode)?(this.isSelecting=!0,this.selectionStart=this.props.keys[this.state.start],this.selectionEnd=this.props.keys[this.state.end-1]):(this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null),this.props.onSelectionChange(this.isSelecting)}onItemContextMenu(b,M,_){let{hasKeyboardFocus:P}=_;this.props.onItemContextMenu(b,M,{hasKeyboardFocus:P})}getBottom(b){return this.layout.getBottom(b)}getBounds(b,M){this.onSelectionChange();let _=b,P=M;return this.selectionStart&&(_=Math.min(_,this.layout.getTop(this.selectionStart))),this.selectionEnd&&(P=Math.max(P,this.layout.getTop(this.selectionEnd))),this.layout.getBounds(_,P)}getBoundingClientRect(){return this.getScrollerRef().getBoundingClientRect()}getClassName(){return Object(a.default)("c-virtual_list","c-virtual_list--scrollbar",this.props.className)}getContainerHeight(){return this.props.height}getContentHeight(){return this.layout.getTotalHeight()}getContentsClassName(){return Object(a.default)("c-virtual_list__scroll_container",this.props.containerClassName,{"c-virtual_list__scroll_container--scrolling":this.isScrolling()&&!this.isSelecting})}getScrollTop(){return this.scrollbar&&this.scrollbar.scrollTop()||0}getScrollerRef(){var b;return(b=this.scrollbar)===null||b===void 0?void 0:b.scroller}getTop(b){return this.layout.getTop(b)}getVisibleRange(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getScrollTop(),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{keys:_,height:P}=this.props,{start:y,end:j}=this.layout.getBounds(b,b+P);if(M)return{start:y,end:j};const U=this.layout.getTop(_[y])<b-1?y+1:y,W=this.layout.getBottom(_[j-1])>b+P+1?j-1:j,L=Math.min(U,_.length-1),R=Math.max(W,L);return{start:L,end:R}}setContentRef(b){this.contentNode=b}setHeight(b,M){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!b)return Object(o.b)({label:f}).info("Attempted to setHeight on row without key"),!1;const P=this.layout.getHeight(b);return Math.abs(M-P)<.5?!1:(this.layout.setHeight(b,M),_||this.relayout(),!0)}setScrollbarRef(b){this.scrollbar=b}setScrollTop(b){this.scrollbar&&this.scrollbar.scrollTop(Math.ceil(b))}getItemsToRender(){const{keys:b,persistentKeys:M,usePersistentOrder:_}=this.props,{start:P,end:y}=this.state,j=[];if(_){const L={};for(let R=0;R<M.length;R++)L[M[R]]=!0;this.layout instanceof g.a&&this.layout.anchor&&!L[this.layout.anchor]&&(L[this.layout.anchor]=!0);for(let R=0;R<b.length;R++){const A=b[R];A&&(L[A]||R>=P&&R<=y)&&j.push({key:A,index:R})}}else{for(let L=P;L<y;L++){const R=b[L];R&&j.push({key:R,index:L})}M.forEach(L=>{const R=b.indexOf(L);R<0||R>=P&&R<y||j.push({key:L,index:R})}),this.layout instanceof g.a&&this.layout.anchor&&!M.includes(this.layout.anchor)&&j.push({key:this.layout.anchor,index:b.indexOf(this.layout.anchor)})}const U=b[P],W=b[y];return U&&W&&(this.prevBounds=[this.layout.getTop(U),this.layout.getBottom(W)]),j}getTabIndex(){}bracketScrollTop(b){return Math.max(0,Math.min(this.getContentHeight()-this.props.height,b))}isItemAboveView(b){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const _=this.getScrollTop()+M;return this.layout.getBottom(b)<_}isItemBelowView(b){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const _=this.getScrollTop();return this.layout.getTop(b)>_+(this.props.height-M)}isItemInView(b){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const _=this.getScrollTop(),P=this.layout.getTop(b);return P>=_+M&&P<=_+(this.props.height-M)}isScrolledToBottom(){return this.getScrollTop()+this.getContainerHeight()>=this.layout.getTotalHeight()-1}isScrolledToTop(){return Math.floor(this.getScrollTop())<=1}isScrolling(){return this.state.scrolling}relayout(){this.setState((b,M)=>{const _=this.getScrollTop(),P=M.height*M.overscanRatio,y=_-P,j=_+M.height+P,{start:U,end:W}=this.getBounds(y,j),L=this.layout.getTops(),R=this.layout.getTotalHeight();return U===b.start&&W===b.end&&L===b.tops&&R===b.totalHeight?null:{start:U,end:W,tops:L,totalHeight:R}},()=>{const b=this.state.totalHeight&&this.state.totalHeight>this.props.height||!1;b!==this.isOverflowing&&(this.isOverflowing=b,this.props.onOverflow&&this.props.onOverflow(b))})}scrollToKey(b){let{lazy:M,animate:_,offset:P=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(M&&this.isItemInView(b))return;if(!this.scrollbar){this.scrollToKeyOnUpdate=()=>{this.scrollToKey(b,{lazy:M,animate:_,offset:P})};return}const y=this.layout.getOffsetForKey(b);this.scrollToOffset(y+P,{animate:_})}scrollToOffset(b){let{animate:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.scrollbar)return;const _=this.bracketScrollTop(b);if(M){this.scrollbar.scrollWithAnimation(_);return}this.scrollTop=_,this.setScrollTop(_)}renderContents(){const b=this.getContentsClassName(),M=this.getContentHeight(),_=this.renderItems(),{role:P,"aria-label":y,"aria-labelledby":j,"aria-describedby":U}=this.props;return t.a.createElement("div",{"data-qa":"slack_kit_list",ref:this.setContentRef,className:b,role:P,tabIndex:this.getTabIndex(),"aria-label":y,"aria-labelledby":j,"aria-describedby":U,style:{position:"relative",height:M}},_)}renderItem(b,M){const _=this.getTop(b),P=this.layout.getHeight(b),y=this.layout.getHeightValidity(b),{rowRenderer:j,getPropsForItem:U,shouldHorizontallyScroll:W}=this.props,L=U({key:b,index:M})||{};return t.a.createElement(E.a,I({},L,{id:b,itemKey:b,key:b,height:P,top:_,onHeightChange:this.setHeight,onContextMenu:this.onItemContextMenu,validity:y,shouldHorizontallyScroll:W,useStaticHeight:this.props.useStaticHeightForListItems,"aria-setsize":"-1"}),j(M,{key:b,isExpanded:L["aria-expanded"]}))}renderItems(){return this.getItemsToRender().map(M=>{let{key:_,index:P}=M;return this.renderItem(_,P)})}render(){const{width:b,height:M}=this.props;if(!b||!M)return null;const _=this.getClassName(),P=this.renderContents();return t.a.createElement(u.a,{className:_,width:b,height:this.getContainerHeight(),contentHeight:this.getContentHeight(),trackTop:12,onTrackClick:c.a.track.page,onScroll:this.onScroll,onContentScroll:this.onContentScroll,anchor:"bottom",role:"presentation",id:this.props.id,ref:this.setScrollbarRef,fade:this.props.fadeScrollbar,useFixedTrackHeight:this.props.useFixedTrackHeightForScrollbar,alwaysVisible:this.props.scrollbarAlwaysVisible||this.state.hasKeyboardFocus,initialScrollTop:this.props.initialScrollTop},P,this.props.siblingNode)}constructor(b){super(b),this.prevBounds=[-1/0,1/0],this.janks=[],this.onScroll=this.onScroll.bind(this),this.onContentScroll=this.onContentScroll.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.setScrollbarRef=this.setScrollbarRef.bind(this),this.setContentRef=this.setContentRef.bind(this),this.setHeight=this.setHeight.bind(this),this.getScrollTop=this.getScrollTop.bind(this),this.getVisibleRange=this.getVisibleRange.bind(this),this.isItemInView=this.isItemInView.bind(this),this.onScrollStart=this.onScrollStart.bind(this),this.onScrollEnd=Object(l.a)(this.onScrollEnd.bind(this),C,b.window),this.onItemContextMenu=this.onItemContextMenu.bind(this),this.layout=b.layout||new v.a({}),this.scrollbar=null,this.contentNode=null,this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null,this.scrollStartTimeout=null,this.scrollToKeyOnUpdate=null,this.isOverflowing=!1,this.layout.setKeys(b.keys);const{start:M,end:_}=this.getBounds(0,b.height);this.state={start:M,end:_,scrolling:!1}}}m(S,"list_BaseList"),S.displayName="BaseList",S.defaultProps={className:"",containerClassName:"",layout:void 0,role:"list","aria-label":void 0,"aria-labelledby":void 0,"aria-describedby":void 0,persistentKeys:[],usePersistentOrder:!0,fadeScrollbar:!1,onScroll:r.a,onContentScroll:r.a,onSelectionChange:r.a,onItemContextMenu:r.a,getPropsForItem:r.a,shouldHorizontallyScroll:!1,scrollbarAlwaysVisible:!1,id:void 0,useStaticHeightForListItems:!1,useFixedTrackHeightForScrollbar:!1,initialScrollTop:0,overscanRatio:.5,siblingNode:null,metricsTag:null,tracer:null,window};var D=s.b=Object(O.a)(S)},O2rC:function(K,s,e){"use strict";e.d(s,"a",function(){return n});const n={PREF:"notifications_view",PAGE:"page",FLEXPANE:"flexpane"}},O5Ce:function(K,s,e){K.exports=e.p+"slackbot_fancy_36-d921f9d.png"},O5bS:function(K,s,e){"use strict";e.d(s,"a",function(){return n});const n={disconnectedFeedback:"disconnected_feedback",createdGoogleDriveDocument:"created_google_drive_document",enablePopups:"enable_popups",generalPostingRestricted:"general_posting_restricted",genericPostingRestricted:"generic_posting_restricted",fileTypeHasNoHandler:"file_type_has_no_handler",boxFilePickerError:"box_file_picker_error",gdriveShareFileError:"gdrive_share_file_error",onedriveSdkError:"onedrive_sdk_error",tempSlashCmdFeedback:"temp_slash_cmd_feedback",threadsTempSlashCmdFeedback:"threads_temp_slash_cmd_feedback",uncaughtThirdPartyCallError:"uncaught_third_party_call_error",findAnAdminPrompt:"find_an_admin_prompt",unhandledGdriveCreate:"unhandled_gdrive_create",fileCreatedViaBookmark:"file_created_via_bookmark",scheduleSendError:"schedule_send_error"}},O62x:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("mx2s"),t=e("SQ0V"),a=e("lhZz"),r=e("E4z0"),d=e("j77i");const o=Object(t.c)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(i,h,l)=>{Object(d.w)(n.f,l),i(Object(r.a)(l)),Object(a.dispatchForClientStore)(Object(r.a)(l))});o.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"}},O9Jz:function(K,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("uiBO"),d=e("NV6F"),o=e("1/Be"),i=e("2VFn"),h=e("GbR5"),l=e("xcHN"),u=e("SQbT"),c=e("YHGx"),E=e("s4P+"),v=e("i9jZ");const g=Object(a.c)("Opens a view in a new child window",function(){var O=Object(n.coroutine)(function*(I,C,f){let{viewId:S,params:D}=f;if(!Object(v.b)())return;const p=C();let b=!1;if(Object(u.a)(p,S)){let M,_={[i.h.Primary]:{id:S,params:D,viewType:Object(h.a)(S)}};_=I(Object(o.a)({viewSet:_,windowId:i.c}));const P=Object(c.b)(S),y=P;if(S==="thread"&&(D!=null&&D.threadId)){const j=Object(l.a)(D==null?void 0:D.threadId).channelId;b=!0,_={[i.h.Primary]:{id:j||(D==null?void 0:D.entityId),params:void 0,viewType:r.b.Channel},[i.h.Secondary]:{id:S,params:D,viewType:r.b.Thread}},M=i.h.Secondary}S==="channel_canvas"&&(_={[i.h.Primary]:{id:D==null?void 0:D.channelId,params:void 0,viewType:r.b.Channel},[i.h.Secondary]:{id:"channel_canvas",params:D,viewType:r.b.ChannelCanvas}}),I(Object(d.v)({viewSet:_,shouldNavigateInContext:P,shouldShowSearch:y,...M&&{containerOrigin:M},clogParams:{uiComponentName:origin,entryPoint:"cmd_click"},forceSingleColumnMode:b}))}else Object(E.a)({getState:C}).action("CHILD-WINDOWS","skipped opening a Conversation View because the ID is not supported:",S)});return function(I,C,f){return O.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkmaybeOpenInWindow",description:"Opens a view in a new child window"}},O9MH:function(K,s,e){"use strict";e.d(s,"b",function(){return g}),e.d(s,"a",function(){return O});var n=e("kBpe"),t=e("IGJb"),a=e("KciV"),r=e("e9jb"),d=e("s4P+"),o=e("Ufq/");const i=2e3,h=6,l=0/265,u=255/265,c=53/265,E=1,v="SCREEN-SHARE",g=m((I,C)=>{!Object(n.o)()&&Object(n.j)("4.13.1")&&!Object(o.f)(C)&&(Object(t.a)(I,i),Object(t.f)(I),Object(t.e)(h),Object(t.d)(l,u,c,E),Object(t.g)(),(Object(r.a)()?Object(a.c)(v):Object(d.b)({label:v})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),O=m(()=>{!Object(n.o)()&&Object(n.j)("4.13.1")&&(Object(t.c)(),(Object(r.a)()?Object(a.c)(v):Object(d.b)({label:v})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},OB5f:function(K,s,e){"use strict";e.d(s,"a",function(){return I});var n=e("mXhK"),t=e("weKX"),a=e("ZKjC");const r=Object(a.b)(C=>{var f;return C==null||(f=C.sideEffects)===null||f===void 0?void 0:f.sideEffectsMap});r.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:C=>{var f;return C==null||(f=C.sideEffects)===null||f===void 0?void 0:f.sideEffectsMap}};const d=Object(a.b)(C=>{var f;return C==null||(f=C.sideEffects)===null||f===void 0?void 0:f.orgSharedSideEffectsMap});d.meta={name:"createSelector",key:"createSelectorgetOrgSharedSideEffectsMap",description:C=>{var f;return C==null||(f=C.sideEffects)===null||f===void 0?void 0:f.orgSharedSideEffectsMap}};const o=Object(a.b)(C=>{var f;return C==null||(f=C.clientSideEffects)===null||f===void 0?void 0:f.clientSideEffectsMap});o.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:C=>{var f;return C==null||(f=C.clientSideEffects)===null||f===void 0?void 0:f.clientSideEffectsMap}};var i=e("s4P+"),h=e("Lgge"),l=e("UOL+");const u=Object(a.b)(C=>{var f,S;return(f=Object(l.a)(C))===null||f===void 0||(S=f.orgSharedSideEffects)===null||S===void 0?void 0:S.orgSharedSideEffectsMap});u.meta={name:"createSelector",key:"createSelectorgetOrgSharedSideEffectsMap",description:C=>{var f,S;return(f=Object(l.a)(C))===null||f===void 0||(S=f.orgSharedSideEffects)===null||S===void 0?void 0:S.orgSharedSideEffectsMap}};var c=e("+dHK");function E(){return Object(n.b)("Handle client side effects",(C,f,S)=>{var D;if(!((D=S.__test)===null||D===void 0)&&D.disableSideEffects)return f(S);const p=C.getState(),b=o(p);return g({store:C,action:S,sideEffectsMap:b}),f(S)})}m(E,"createClientSideEffectsMiddleware");function v(){return Object(n.b)("Handle side effects",(C,f,S)=>{var D;if(!((D=S.__test)===null||D===void 0)&&D.disableSideEffects)return f(S);const p=C.getState(),b=p.isShared;if(b&&S[c.d])return f(S);if(b){const M=u(p);g({store:C,action:S,sideEffectsMap:M})}else{const M=r(p);if(g({store:C,action:S,sideEffectsMap:M}),!S[c.c]){const _=d(p);g({store:C,sideEffectsMap:_,action:S})}}return f(S)})}m(v,"createSideEffectsMiddleware");function g(C){let{store:f,action:S,sideEffectsMap:D}=C;const p=D&&D[S.type],b=m(M=>(Object(t.c)(S,M),f.dispatch(M)),"wrappedDispatch");p!=null&&p.length&&h.a.resolve().then(()=>{p.forEach(M=>{if(!M)return;const{thunk:_}=M;try{b(_(S))}catch(P){Object(i.a)({getState:f.getState}).error("SIDE-EFFECTS",`Error in side effect for '${S.type}'`,P,{subtype:"side_effect_error"})}})})}m(g,"runSideEffects");var O=s.b=v();const I=E()},OCqp:function(K,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("vJtL"),t=e("azFB"),a=e("s4P+"),r=e("wcin"),d=e.n(r),o;(function(O){O.Background="background",O.UserVisible="user-visible",O.UserBlocking="user-blocking"})(o||(o={}));const i=Object(a.b)({label:"SCHEDULER"}),h="scheduler"in t.a&&Object(n.a)(t.a.scheduler.postTask),l=50;let u=0,c=null;const E=m((O,I)=>{let{label:C,priority:f,delay:S}=I;if(!h)return O();u+=1;const D=performance.now();return t.a.scheduler.postTask(()=>{const p=performance.now(),b=p-D,M=c?p-c:0;c=p,b-S>l&&i.debug(`${C} task (${f}) executed with delay of ${Math.round(b)}ms and a configured delay of ${S}ms - time since last task: ${M}ms - Task queue length: ${u}`);const P=O();return u-=1,P},{priority:f,delay:S})},"runWithPriority"),v=m(()=>{if(h)return u},"getTaskQueueLength"),g=m((O,I,C)=>E(I,{label:O,priority:o.Background,delay:(C==null?void 0:C.delay)||0}),"runWithBackgroundPriority")},OW01:function(K,s,e){"use strict";e.d(s,"c",function(){return i}),e.d(s,"b",function(){return h}),e.d(s,"a",function(){return l});var n=e("Lgge"),t=e("oTSI"),a=e("uAML"),r=e("lhZz"),d=e("VSFm");const o=Object(t.a)(()=>new a.b({fetch:(u,c)=>{const E=c.slice(0,5);return n.a.map(E,v=>Object(r.dispatchForTeamId)(u,Object(d.a)({channelId:v})))},isEnabled:()=>!0,metricsName:"team-connections"})),i=m((u,c)=>{!u||!c||o().maybeRefetch(u,c)},"maybeRefetch"),h=m((u,c)=>o().markObjectsAsStale(u,c),"markObjectsAsStale"),l=m((u,c)=>o().isObjectFresh(u,c),"isObjectFresh")},Oczg:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return r});var n=e("twB+");const t=new n.a;function a(){return t.entries().filter(d=>d.value&&!d.value.isRejected()&&!d.value.isCancelled()).length}m(a,"getActiveCollabClientCount");const r=m(d=>{const o=t.get(d);return o!=null&&o.isFulfilled()?o.value():void 0},"getInitializedClient")},Oeqe:function(K,s,e){"use strict";e.d(s,"b",function(){return i}),e.d(s,"c",function(){return h}),e.d(s,"d",function(){return l}),e.d(s,"a",function(){return c});var n=e("qAkX"),t=e("Yauy"),a=e("wwBm"),r=e("beOr"),d=e("ltDl");function o(v){const{hostname:g,pathname:O,search:I}=v;if(!g||!O)return;const C=g.split("."),f=O.split("/").slice(1);if(!Object(r.a)(g)||f.length<2)return;const S=f[0];switch(S){case"messages":case"archives":case"conversation":case"files":case"search":case"lists":break;default:return}const D=C[0],p=Object(n.a)(I.split("?")),b=p&&Object(a.d)(p);let M;return b&&b.thread_ts&&(M=b.thread_ts),{team:D,type:S,path:f,threadTs:M}}m(o,"parsePermalinkFromUrlObject");function i(v){return h(Object(d.a)(v))}m(i,"getPermalinkIdentifier");function h(v){const g=o(v);if(!g)return;const{path:O}=g;return O?O&&O[1]:!1}m(h,"getPermalinkIdentifierFromUrlObject");function l(v){let{team:g,channelId:O,ts:I,threadTs:C}=v,f=O&&Object(t.c)({team:g,channelId:O,archive:!0});return O&&I&&(f+=`/p${I.replace(".","")}`),O&&I&&C&&C!==I&&(f+=`?thread_ts=${C}&cid=${O}`),f}m(l,"getXWSPermalink");function u(v){let{encodedSearchString:g}=v;return`/search/${g}`}m(u,"getSearchPermalink");function c(v){let{channelId:g,ts:O,threadTs:I}=v,C="/archives";return g&&(C+=`/${g}`),g&&O&&(C+=`/p${O.replace(".","")}`),g&&O&&I&&I!==O&&(C+=`?thread_ts=${I}&cid=${g}`),C}m(c,"getPermalink");var E=c},OmHH:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("b28g");const t=m(function(r,d){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d.filterQuery===void 0?d:{...d,options:Object(n.a)(r,d.filterQuery,o)}},"defaultFilter"),a=m((r,d)=>r.reduce((o,i)=>i(o),d),"applyTransforms")},On6p:function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"d",function(){return l}),e.d(s,"c",function(){return c}),e.d(s,"b",function(){return E});var n=e("vfQU"),t=e("kBpe"),a=e("nNoG");const r=new a.b("prefs"),d=Object(n.fb)()?Object(n.M)():"nightly",o={PROD:"prod",BETA:"beta",DOGFOOD:d},i=[o.PROD,o.BETA],h=[o.PROD,o.BETA,o.DOGFOOD];function l(v){return(v?h:i).map(O=>({value:O,label:u(O)}))}m(l,"getReleaseChannelOptions");function u(v){switch(v){case o.PROD:return r.t("Production");case o.BETA:return r.t("Beta");case o.DOGFOOD:return r.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return r.t("Unknown")}}m(u,"getReleaseChannelDisplayName");function c(){return Object(n.fb)()&&!Object(n.eb)()&&!Object(t.o)()}m(c,"canSeeReleaseChannel");function E(){return c()&&["MSI","SlackSonic","SlackPilot"].every(v=>!navigator.userAgent.includes(v))}m(E,"canModifyReleaseChannel")},OnlX:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(){var t,a;return(a=(t=window.navigator)===null||t===void 0?void 0:t.userAgent)!==null&&a!==void 0?a:"no-ua"}m(n,"getUserAgent")},OqoL:function(K,s,e){"use strict";e.d(s,"a",function(){return L});var n=e("Vfgr"),t=e("Zgaw"),a=e("K1vi"),r=e("O86Y"),d=e("lhZz"),o=e("JoR1"),i=e("JnIm"),h=e("/XFw"),l=e("yrot"),u=e("nNoG"),c=e("1sW9"),E=e("Dpjh"),v=e("bjy1"),g=e("Zbwg"),O=e("kzMN"),I=e("tvJC"),C=e("G2FQ");function f(B,F,k){const V=[];return{text:B.replace(c.a,(J,Y,ie)=>{let de;if(Object(O.a)(Y)?de=`<!${Object(C.a)(Y)}>`:Object(I.a)(Y)?de=F?Object(E.a)(ie):ie:Object(v.a)(Y)?de=`<!subteam^${Y}|${ie}>`:Object(g.a)(Y)?de=k?`<#${Y}|${ie.substr(1)}>`:void 0:de=`<@${Y}>`,!de)return J;const oe=`mention-${V.length+1}-${Date.now()}`;return V.push({mention:de,placeholder:oe}),oe}),mentions:V}}m(f,"replaceFormatMentions");const S=/(^|\n)>(?![\W_](?:<|>|[|/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;function D(B){const F=[];let k=0;return{text:B.replace(S,X=>{k+=1;const J=`quoted-text-placeholder-${Date.now()}-${k}`;return F.push({match:X,placeholder:J}),J}),quotedSections:F}}m(D,"replaceQuotedText");var p=e("ntGM"),b=e("pu3F");const M=/[-[\]{}()*+?.,\\^$|#\s]/g,_=/\n?(6\)|7\))/;var P=m(B=>{let F=0;const k=[];let V=B.replace(Object(p.a)(),(X,J,Y,ie)=>{const de=F;F=ie+X.length;const pe=Y.indexOf("(")!==-1,oe=Y.indexOf(")")!==-1;if((pe||oe)&&k.indexOf(Y)===-1&&k.push(Y),oe&&!pe){const me=B.substring(de,ie);if(me.indexOf("(")!==-1&&me.indexOf(")")===-1)return X}if(X===`
8)`){const me=B.substring(0,ie);if(_.test(me))return X}return b.o[Y]?`${J}:${b.o[Y]}:`:X});if(k.length){const X=k.map(Y=>Y.replace(M,"\\$&")),J=new RegExp(`(\\(.+)(${X.join("|")})(.+\\))`,"g");V=V.replace(J,(Y,ie,de,pe)=>b.o[de]?`${ie}:${b.o[de]}:${pe}`:Y)}return V},"replace_emoticons_with_colons"),y=e("EJqq"),j=e("JvzI"),U=e("pWPO"),W=e("jlKB");const L=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201C|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,R=/(^|\S)( +)(\n|$)/gm;var A=s.b=function(B,F){let{isInternalMessage:k}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!B||!F)return"";const V=!k,X=Object(h.a)(B),J=Object(o.t)(B,"convert_emoticons"),Y=Object(i.a)(B),ie=Object(W.a)(B),de=!0;let pe=F,oe=[];pe=Object(t.a)(pe),pe=Object(a.c)(oe,pe,{replace_pre:!0,replace_code:!0});const me=f(pe,V,de);if(pe=me.text,pe=pe.replace(R,"$1$3"),J&&!ie){const ve=D(pe);pe=ve.text,pe=P(pe),ve.quotedSections.forEach(q=>{pe=pe.replace(q.placeholder,()=>q.match)})}if(V&&(pe=Object(a.b)(pe,"CLEAN",{jumbomoji:X,allow_intra_word_formatting:!0})),me.mentions.forEach(ve=>{pe=pe.replace(ve.placeholder,()=>ve.mention)}),!u.e){const ve=Object(r.g)(B);pe=Object(d.dispatchForTeamId)(ve,Object(y.c)({text:pe,locale:Object(j.a)()}))}const re=Object(l.c)(B);return oe=oe.map(ve=>{const q={...ve},ce=Object(c.b)(q.str,{highlightWords:Y,shouldRenderEmojiAsText:ie,emojiNames:re,locale:Object(u.m)(),useChannelTagging:de});return q.str=Object(U.a)(ce),V&&(q.str=Object(a.b)(q.str,"CLEAN",{jumbomoji:X,allow_intra_word_formatting:!0})),q}),pe=Object(a.d)(oe,pe),Object(n.a)(pe)}},P7By:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("zxER"),d=e("Lgge"),o=e("JoR1");const i=t.a.memo(t.a.forwardRef((h,l)=>{let{getAnimationImport:u,className:c,svgClassName:E,loadingClassName:v,errorClassName:g,loop:O=!1,autoplay:I=!1,renderLoading:C,renderError:f}=h;const S=Object(r.c)(U=>Object(o.t)(U,"a11y_animations")),[D,p]=Object(n.useState)(!0),[b,M]=Object(n.useState)(!1),_=Object(n.useRef)(null),P=Object(n.useRef)(null),y=Object(n.useRef)(null);y.current||(y.current=d.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-lottie-web")]).then(e.t.bind(null,"lPHp",7)),u()]).then(U=>{let[W,L]=U;if(!_.current)throw new Error("Lottie animation missing container");return p(!1),P.current=W.loadAnimation({container:_.current,renderer:"svg",loop:O,autoplay:!!(S&&I),animationData:L,rendererSettings:{className:Object(a.default)("p-lottie__svg",E)}}),d.a.resolve(P.current)}).catch(U=>(M(!0),d.a.reject(U)))),Object(n.useEffect)(()=>()=>{y.current&&y.current.cancel(),P.current&&P.current.destroy()},[y,P]),Object(n.useImperativeHandle)(l,()=>y.current,[y]);const j=Object(n.useMemo)(()=>D&&C?C():b&&f?f():null,[C,f,D,b]);return t.a.createElement("div",{ref:_,className:Object(a.default)("p-lottie",c,D&&v,b&&g)},j)}))},PFo8:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("YUBf"),d=e("QP4N"),o=e("9gkt"),i=e("dNN9"),h=e("AFY6"),l=e("ZE32"),u=e("j/0O"),c=e("vDCl"),v=m(S=>{let{subtitle:D,bodyContent:p,footerContent:b,title:M,titleImage:_,titleVideo:P,titleVideoClassName:y,titleIcon:j,showTitleIconAnimation:U,headerClassName:W,footerActionsClassName:L,theme:R}=S;return t.a.createElement(t.a.Fragment,null,t.a.createElement(o.a,{headerClassName:Object(a.default)(W,{"p-upgrades_modal__header--with_animation":U}),title:M},_,P&&t.a.createElement("div",{className:Object(a.default)(y)},P),j&&t.a.createElement("div",{className:"p-upgrades_modal__icon"},t.a.createElement(u.a,{hasBorder:!0,size:c.a.LARGE,type:j,showAnimation:!!U,theme:R}))),D&&t.a.createElement(h.a,{subtitle:D}),p&&t.a.createElement(r.d,null,t.a.createElement(i.a,null,p)),t.a.createElement(l.a,{className:L},b))},"ModalContent"),g=e("QW4n"),O=e("xLpb");function I(){return I=Object.assign||function(S){for(var D=1;D<arguments.length;D++){var p=arguments[D];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(S[b]=p[b])}return S},I.apply(this,arguments)}m(I,"_extends");const C=m(S=>{const{className:D,maxWidth:p,onRequestClose:b,type:M,"data-qa":_,UNSAFE_parentSelector:P}=S,j={className:Object(a.default)("p-upgrades_modal__container",D),closeModal:b,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:p,dataQa:_,UNSAFE_parentSelector:P};return M===O.a.MULTI_PANE?t.a.createElement(d.b,I({},S,j)):M===O.a.VERTICAL_BANNER||M===O.a.HORIZONTAL_BANNER?t.a.createElement(g.b,I({},S,j)):t.a.createElement(r.a,I({},j),t.a.createElement(v,I({},S)))},"Modal");C.displayName="Modal";var f=s.a=C},PN0B:function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},PPXB:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("MeLy"),t=e("q1tI"),a=e.n(t);function r(){return r=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(l[E]=c[E])}return l},r.apply(this,arguments)}m(r,"_extends");const d=m(()=>null,"renderError");var i=m(l=>a.a.createElement(n.a,r({renderError:d},l)),"QuietErrorBoundary"),h=s.b=n.a},PPXH:function(K,s,e){"use strict";e.d(s,"a",function(){return Ac});var n=e("ANjH"),t=e("GVX8"),a=e("lhZz"),r=e("vfQU"),d=e("7xYR"),o=e("S36j"),i=e("mXhK");const h=Object(i.b)("Broadcast workspaces state to other stores",(Ie,ee,Ce)=>{const je=Ie.getState(),It=ee(Ce),ot=Ie.getState(),Ft=Object(d.getBootedWorkspaces)(ot),vt=je&&Object(d.getBootedWorkspaces)(je),wt=Object(d.getAllWorkspaces)(ot),In=Object(d.getAllWorkspaces)(je),Kn=!In||wt.some((Tn,yn)=>Tn!==In[yn]),es=Object(d.getRecentlyFocusedWorkspaces)(ot),$t=je&&Object(d.getRecentlyFocusedWorkspaces)(je);return(vt!==Ft||Kn||$t!==es)&&l(Ft,es),It});h.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function l(Ie,ee){const Ce=ee[0];Ce&&(Ie==null||Ie.forEach(je=>{Object(a.dispatchForTeamId)(je,Object(o.j)(ee)),Object(a.dispatchForTeamId)(je,Object(o.k)(ee))}),Object(r.ac)(Ce))}m(l,"broadcastFocusedWorkspaces");var u=h,c=e("I3Q6"),E=e("I27i"),v=e("ifKl"),g=e("9Gfp");function O(){let{state:Ie,prevState:ee,workspaces:Ce=[],broadcastSelector:je=v.a,broadcastAction:It=v.a,featureFlag:ot}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ft=je(Ie),vt=je(ee);Ft!==vt&&Ce.forEach(wt=>{const In=Object(a.getStateByTeamId)(wt);ot&&!Object(g.i)(In,ot)||Object(a.dispatchForTeamId)(wt,It(Ft))})}m(O,"maybeBroadcastStateToWorkspaces");var I=O;const C=Object(i.b)("Broadcast connectivity state to other stores",(Ie,ee,Ce)=>{const je=Ie.getState(),It=ee(Ce),ot=Ie.getState(),Ft=Object(d.getBootedWorkspaces)(ot);return I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(E.d)(vt),broadcastAction:vt=>Object(c.a)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(E.f)(vt),broadcastAction:vt=>Object(c.b)(vt)}),It});C.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};var f=C,S=e("n3tL"),D=e("OtLZ"),p=e("0VPD"),b=e("wBxZ"),M=e("Kyco"),_=e("j77i"),P=e("s4P+"),y=e("LqbL");const j={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],needsToAcceptCustomTOS:[],userNotMemberOfAnyWorkspaceInOrg:[],migratingWorkspaces:{},completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{},removedWorkspaces:[]},U="WORKSPACES",W=16,L=Object(M.b)({},j,{storeKey:"workspaces",persistenceEnabled:!0}).on(y.initialize,(Ie,ee)=>A(Ie,ee)).on(y.setDidBootAllWorkspaces,Ie=>({...Ie,didBootAllWorkspaces:!0})).on(y.setWorkspaceOrder,(Ie,ee)=>B(Ie,ee)).on(y.setWorkspaceBooted,(Ie,ee)=>F(Ie,ee)).on(y.setWorkspaceFailedToBoot,(Ie,ee)=>k(Ie,ee)).on(y.setWorkspaceNeeds2FASetup,(Ie,ee)=>V(Ie,ee)).on(y.setWorkspaceNeedsToAcceptCustomTOS,(Ie,ee)=>X(Ie,ee)).on(y.setNavigateToUnbootedWorkspace,(Ie,ee)=>({...Ie,navigateToUnbootedWorkspace:ee})).on(y.setWorkspaceIsMigrating,(Ie,ee)=>J(Ie,ee)).on(y.setWorkspaceMigrationIsComplete,(Ie,ee)=>Y(Ie,ee)).on(y.setWorkspaceIsAccessLimited,(Ie,ee)=>ie(Ie,ee)).on(y.setUserNotMemberOfAnyWorkspaceInOrg,(Ie,ee)=>de(Ie,ee)).on(y.addWorkspace,function(Ie){let{id:ee,meta:Ce}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ee||!Ce)throw new Error("'id' and 'meta' are both required when adding a workspace");if(Ie.allWorkspaces.includes(ee))return Object(P.b)({label:U}).warn(`Cannot add workspace; it is already present: ${ee}`),Ie;const{allWorkspaces:je,workspacesMeta:It}=Ie;return{...Ie,allWorkspaces:[...je,ee],workspacesMeta:{...It,[ee]:Ce}}}).on(y.updateWorkspaceMeta,function(Ie){let{id:ee,meta:Ce}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:je}=Ie;if(!je[ee])throw new Error(`Cannot update workspace meta for ${ee}; no such team`);return{...Ie,workspacesMeta:{...je,[ee]:Ce}}}).on(y.internalSetFocusedWorkspaceType,(Ie,ee)=>({...Ie,focusedWorkspace:ee,recentlyFocusedWorkspaces:pe(Ie.recentlyFocusedWorkspaces,ee)})).on(y.internalRemoveWorkspaceType,(Ie,ee)=>({...Ie,allWorkspaces:Object(D.a)(Ie.allWorkspaces,ee)})).on(y.addRemovedWorkspace,(Ie,ee)=>oe(Ie,ee));L.propTypes={allWorkspaces:S.default.arrayOf(S.default.string),bootedWorkspaces:S.default.arrayOf(S.default.string),failedToBootWorkspaces:S.default.arrayOf(S.default.string),recentlyFocusedWorkspaces:S.default.arrayOf(S.default.string),focusedWorkspace:S.default.string,workspacesMeta:S.default.object};var R=L;function A(Ie){let{focusedWorkspace:ee,allWorkspaces:Ce,workspacesMeta:je}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ie.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!ee)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!Ce)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(Ce.indexOf(ee)<0)throw new Error(`workspaces-store:initialize ${ee} is not one of the valid workspaces: ${Ce}`);return{...Ie,focusedWorkspace:ee,allWorkspaces:Ce,workspacesMeta:je,recentlyFocusedWorkspaces:[ee]}}m(A,"initializeWorkspacesState");function B(Ie,ee){const Ce=Ie.allWorkspaces;if(Object(p.a)(Ce,ee).length!==Ce.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return Object(_.w)("orderedTeamIds",ee),{...Ie,allWorkspaces:ee}}m(B,"updateWorkspaceOrder");function F(Ie,ee){const Ce=Ie.bootedWorkspaces.includes(ee)?Ie.bootedWorkspaces:[...Ie.bootedWorkspaces,ee];return{...Ie,bootedWorkspaces:Ce}}m(F,"updateWorkspaceBooted");function k(Ie,ee){if(!ee)return Ie;const Ce=Ie.failedToBootWorkspaces.includes(ee)?Ie.failedToBootWorkspaces:[...Ie.failedToBootWorkspaces,ee];return{...Ie,failedToBootWorkspaces:Ce}}m(k,"updateWorkspaceFailedToBoot");function V(Ie,ee){if(!ee)return Ie;const Ce=Ie.needs2FASetup.includes(ee)?Ie.needs2FASetup:[...Ie.needs2FASetup,ee];return{...Ie,needs2FASetup:Ce}}m(V,"updateWorkspaceNeeds2FASetup");function X(Ie,ee){if(!ee)return Ie;const Ce=Ie.needsToAcceptCustomTOS.find(je=>{let{teamId:It}=je;return ee.teamId===It})?Ie.needsToAcceptCustomTOS:[...Ie.needsToAcceptCustomTOS,ee];return{...Ie,needsToAcceptCustomTOS:Ce}}m(X,"updateWorkspaceNeedsToAcceptCustomTOS");function J(Ie,ee){let{teamId:Ce,migrationId:je,canViewMigrationStatus:It}=ee;if(!Ce)return Ie;const{migratingWorkspaces:ot}=Ie;return{...Ie,migratingWorkspaces:{...ot,[Ce]:{migrationId:je,canViewMigrationStatus:It}}}}m(J,"updateWorkspaceIsMigrating");function Y(Ie,ee){if(!ee)return Ie;const Ce=Ie.completedMigrationWorkspaces.includes(ee)?Ie.completedMigrationWorkspaces:[...Ie.completedMigrationWorkspaces,ee];return{...Ie,completedMigrationWorkspaces:Ce}}m(Y,"updateWorkspaceMigrationIsComplete");function ie(Ie,ee){if(!ee)return Ie;const Ce=Ie.accessLimitedWorkspaces.includes(ee)?Ie.accessLimitedWorkspaces:[...Ie.accessLimitedWorkspaces,ee];return{...Ie,accessLimitedWorkspaces:Ce}}m(ie,"updateWorkspaceIsAccessLimited");function de(Ie,ee){if(!ee)return Ie;const Ce=Ie.userNotMemberOfAnyWorkspaceInOrg.includes(ee)?Ie.userNotMemberOfAnyWorkspaceInOrg:[...Ie.userNotMemberOfAnyWorkspaceInOrg,ee];return{...Ie,userNotMemberOfAnyWorkspaceInOrg:Ce}}m(de,"updateUserNotMemberOfAnyWorkspaceInOrg");function pe(Ie,ee){const Ce=[ee,...Ie.filter(je=>je!==ee)];return Ce.length>W?Object(b.a)(Ce,W):Ce}m(pe,"updateRecentlyFocusedWorkspaces");function oe(Ie,ee){if(!ee)return Ie;const Ce=Ie.removedWorkspaces.includes(ee)?Ie.removedWorkspaces:[...Ie.removedWorkspaces,ee];return{...Ie,removedWorkspaces:Ce}}m(oe,"updateRemovedWorkspaces");var me=e("OB5f"),re=e("dedX"),ve=e("EbWb"),q=e("qiJD"),ce=e("tstp");const he={shouldLogAppBootMetrics:!0,shouldLogTeamSwitchMetrics:!1,shouldLogTTVMetrics:!0,shouldLogTTUMetrics:!0},Se=Object(M.b)({},he,{storeKey:"telemetry",persistenceEnabled:!0}).on(ce.a,(Ie,ee)=>({...Ie,shouldLogAppBootMetrics:ee})).on(ce.d,(Ie,ee)=>({...Ie,shouldLogTeamSwitchMetrics:ee})).on(ce.c,(Ie,ee)=>({...Ie,shouldLogTTVMetrics:ee})).on(ce.b,(Ie,ee)=>({...Ie,shouldLogTTUMetrics:ee}));Se.propTypes={shouldLogAppBootMetrics:S.default.bool,shouldLogTeamSwitchMetrics:S.default.bool,shouldLogTTVMetrics:S.default.bool,shouldLogTTUMetrics:S.default.bool};var se=Se,H=e("FFTZ"),Oe=e("fpvb"),$=e("4GGS"),z=e("KknS"),be=e("lkvs"),Z=e("mSUo"),G=e("WUSA"),ne=e("2um6");const ge=Object(i.b)("Broadcast accessibility state to other stores",(Ie,ee,Ce)=>{const je=Ie.getState(),It=ee(Ce),ot=Ie.getState(),Ft=Object(d.getBootedWorkspaces)(ot);return I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.j)(vt),broadcastAction:vt=>Object(G.j)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.m)(vt),broadcastAction:vt=>Object(G.k)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.k)(vt),broadcastAction:vt=>Object(G.l)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.b)(vt),broadcastAction:vt=>Object(G.b)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.g)(vt),broadcastAction:vt=>Object(G.g)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.f)(vt),broadcastAction:vt=>Object(G.f)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.h)(vt),broadcastAction:vt=>Object(G.h)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.d)(vt),broadcastAction:vt=>Object(G.d)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.e)(vt),broadcastAction:vt=>Object(G.e)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.c)(vt),broadcastAction:vt=>Object(G.c)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(ne.i)(vt),broadcastAction:vt=>Object(G.i)(vt)}),It});ge.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};var ae=ge,fe=e("COQp"),Te=e("WVqY");const ye=Object(i.b)("Broadcast accessibility persistent state to other stores",(Ie,ee,Ce)=>{const je=Ie.getState(),It=ee(Ce),ot=Ie.getState(),Ft=Object(d.getBootedWorkspaces)(ot);return I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(Te.a)(vt),broadcastAction:vt=>Object(fe.a)(vt)}),It});ye.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};var Ue=ye,Ne=e("VHTg"),He=e("v5z3");const ze=100,Je="client-ia-history",Xe=[...Object.values(He.m)||[]];var Me=e("aVEU");const Ke=m(()=>{try{const Ie=localStorage.getItem(Je);return Ie?JSON.parse(Ie):[]}catch(Ie){return Object(P.b)().error("Failed to read IA history from storage",Ie),[]}},"readStackFromStorage"),$e=m(Ie=>{try{localStorage.setItem(Je,JSON.stringify(Ie))}catch(ee){Object(P.b)().error("Failed to write IA history to storage",ee)}},"writeStackToStorage");var Tt=Object(M.b)({},{stack:Ke()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(Me.b,(Ie,ee)=>{if(!ee||Xe.includes(ee==null?void 0:ee.primaryView))return Ie;const Ce=1e3,je=[ee].concat(Ie.stack).slice(0,Ce);return window.setTimeout(()=>$e(je),0),{stack:je}}).on(Me.d,(Ie,ee)=>{const Ce=Ie.stack.indexOf(ee);if(Ce===-1)return Ie;const je=Ie.stack.slice();return je.splice(Ce,1),window.setTimeout(()=>$e(je),0),{stack:je}}).on(Me.c,Ie=>{if(!Ie.stack)return Ie;const ee=Ie.stack.slice(0,1);return window.setTimeout(()=>$e(ee),0),{stack:ee}}).on(Me.a,()=>{const Ie=[];return $e(Ie),{stack:Ie}}),Et=e("yVcz"),Le=e("AFNo"),jt=e("2VFn"),Dt=e("vSKv"),Ee=e("Z7Ay");const te={[jt.c]:{index:0,previousIndex:null,stack:[]}},Ae={persistenceEnabled:!1,storeKey:"mainWindowHistory"};var Ye=Object(Le.b)({},te,Ae).on(Et.b,(Ie,ee)=>{let{windowId:Ce,entry:je}=ee;return{...Ie,[Ce]:Object(Dt.c)({windowState:Ie[Ce],entry:je})}}).on(Et.c,()=>te).on(Et.f,(Ie,ee)=>{let{windowId:Ce,index:je,previousIndex:It}=ee;return{...Ie,[Ce]:Object(Dt.e)({windowState:Ie[Ce],index:je,previousIndex:It})}}).on(Et.a,(Ie,ee)=>{let{windowId:Ce,index:je}=ee;return{...Ie,[Ce]:Object(Dt.b)({windowState:Ie[Ce],index:je})}}).on(Et.e,(Ie,ee)=>{let{windowId:Ce,entry:je}=ee;return{...Ie,[Ce]:Object(Dt.d)({windowState:Ie[Ce],entry:je})}});Object(Ee.a)("mainWindowHistory",{getState:()=>Object(a.getStateForClientStore)().mainWindowHistory[jt.c]});var ft=e("bNCI"),tt=e("Fk5v");const Rt=!0,rt=Object(M.b)({},Rt,{storeKey:"isClient",persistenceEnabled:!1});rt.meta={name:"createReducer",key:"createReducerisClientReducer"},rt.propTypes=S.default.bool;var we=rt,xe=e("Kacs"),st=e("m8R6"),ke=e("dKQz"),lt=e("1Zcw"),at=e("Pw4T"),ht=e("RBHu");const Nt={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1};var zt=Object(M.b)({},Nt,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(ke.C,(Ie,ee)=>Ie.isHuddlesEnabled?Ie:{...Ie,isHuddlesEnabled:ee}).on(ke.a,(Ie,ee)=>({...Ie,mostRecentHuddle:ee})).on(ke.ab,(Ie,ee)=>{const{mostRecentHuddle:Ce}=Ie;if(!Ce||ee.teamId&&ee.teamId!==Ce.teamId||ee.channelId&&ee.channelId!==Ce.channelId)return Ie;const je={...Ie,mostRecentHuddle:{...Ce,...ee,metrics:{...Ce.metrics,...ee.metrics}}},It=je.mostRecentHuddle;return It&&Object(P.b)().info(lt.c,`updateActiveHuddleReference huddleState ${It.huddleState}, substate ${It.huddleSubState}, optimisticState ${It.optimisticHuddleState}`),je}).on(ke.Z,(Ie,ee)=>{const{mostRecentHuddle:Ce}=Ie;return!Ce||ee===Ce.channelId?Ie:{...Ie,mostRecentHuddle:{...Ce,channelId:ee}}}).on(ke.cb,(Ie,ee)=>({...Ie,activeInvite:ee})).on(ke.c,(Ie,ee)=>{var Ce;return((Ce=Ie.activeInvite)===null||Ce===void 0?void 0:Ce.channelId)!==ee?Ie:Object(st.a)(Ie,["activeInvite"])}).on(ke.b,Ie=>Object(st.a)(Ie,["activeInvite"])).on(ke.i,(Ie,ee)=>Ie.forceMiniPanelVisible===ee?Ie:{...Ie,forceMiniPanelVisible:ee}).on(ke.db,(Ie,ee)=>{let{channelId:Ce,joinCredentials:je,expiry:It,fromInvite:ot}=ee;var Ft;if(!Ce||!je)return Ie;const vt=Ie.channelToJoinCredentials;vt[Ce]={credentials:je,expiry:It,fromInvite:ot};const wt=(Ft=Ie.activeInvite)===null||Ft===void 0?void 0:Ft.teamId;return wt&&Object(at.d)({state:Object(a.getStateByTeamId)(wt)}).count(ht.k),{...Ie,channelToJoinCredentials:vt}}).on(ke.d,(Ie,ee)=>{let{channelId:Ce}=ee;if(!Ce)return Ie;if(Ie.channelToJoinCredentials[Ce]){var je;const It=(je=Ie.activeInvite)===null||je===void 0?void 0:je.teamId;It&&Object(at.d)({state:Object(a.getStateByTeamId)(It)}).count(ht.j)}return{...Ie,channelToJoinCredentials:Object(st.a)(Ie.channelToJoinCredentials,[Ce])}}).on(ke.bb,(Ie,ee)=>Ie.showDiscoveryBanner===ee?Ie:{...Ie,showDiscoveryBanner:ee}).on(ke.D,(Ie,ee)=>Ie.isLoungeMusicPlaying===ee?Ie:{...Ie,isLoungeMusicPlaying:!!ee}).on(ke.G,(Ie,ee)=>Ie.lastStartTs===ee?Ie:{...Ie,lastStartTs:ee}).on(ke.F,(Ie,ee)=>Ie.lastEndTs===ee?Ie:{...Ie,lastEndTs:ee}).on(ke.E,(Ie,ee)=>Ie.lastDurationTs===ee?Ie:{...Ie,lastDurationTs:ee}).on(ke.J,(Ie,ee)=>Ie.screenshareActivePanel===ee?Ie:{...Ie,screenshareActivePanel:ee}).on(ke.o,Ie=>({...Ie,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1})).on(ke.K,(Ie,ee)=>{let{song:Ce}=ee;return Ie.songPlaying===(Ce==null?void 0:Ce.key)?Ie:{...Ie,songPlaying:Ce==null?void 0:Ce.key}}).on(ke.v,(Ie,ee)=>Ie.canRenderActiveInviteCardInSidebar===ee?Ie:{...Ie,canRenderActiveInviteCardInSidebar:ee}).on(ke.A,(Ie,ee)=>Ie.isHuddleWindowFocused===ee?Ie:{...Ie,isHuddleWindowFocused:ee}).on(ke.B,(Ie,ee)=>Ie.isHuddleWindowOpen===ee?Ie:{...Ie,isHuddleWindowOpen:ee}).on(ke.y,(Ie,ee)=>Ie.isAudioOnlyModeEnabled===ee?Ie:{...Ie,isAudioOnlyModeEnabled:ee}).on(ke.u,(Ie,ee)=>Ie.wasCameraEnabledWhenAudioOnlyModeWasActivated===ee?Ie:{...Ie,wasCameraEnabledWhenAudioOnlyModeWasActivated:ee}).on(ke.z,(Ie,ee)=>Ie.isHuddleMiniPlayerHidden===ee?Ie:{...Ie,isHuddleMiniPlayerHidden:!!ee}).on(ke.x,(Ie,ee)=>Ie.wasJoinedFromPrejoin===ee?Ie:{...Ie,wasJoinedFromPrejoin:!!ee}),Yt=e("S249");const sn={navigateListenersRunOnClientMount:0};var Mt=Object(M.b)({},sn,{storeKey:"navigate",persistenceEnabled:!1}).on(Yt.a,Ie=>({...Ie,navigateListenersRunOnClientMount:Ie.navigateListenersRunOnClientMount+1})),yt=e("DwFS");const tn=Object(yt.a)("sets the client side effect map on the store");tn.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const an={clientSideEffectsMap:{}};var ut=Object(M.b)({},an,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(tn,(Ie,ee)=>({...Ie,clientSideEffectsMap:ee})),Ot=e("WvYH"),Wt=e("zm5I");const Ht=Object(i.b)("Broadcast client theme state to other stores",(Ie,ee,Ce)=>{const je=Ie.getState(),It=ee(Ce),ot=Ie.getState(),Ft=Object(d.getBootedWorkspaces)(ot);return I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(Wt.a)(vt),broadcastAction:vt=>Object(Ot.a)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(Wt.b)(vt),broadcastAction:vt=>Object(Ot.b)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(Wt.c)(vt),broadcastAction:vt=>Object(Ot.c)(vt)}),It});Ht.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};var Zt=Ht,gn=e("ED1u"),Pn=e("y8m0"),Mn=e("X8Vd"),pt=e("Xfjg"),_t=e("CJqd"),xt=e("m2C9");const en=Object(i.b)("Broadcast client theme state to other stores",(Ie,ee,Ce)=>{const je=Ie.getState(),It=ee(Ce),ot=Ie.getState(),Ft=Object(d.getBootedWorkspaces)(ot);return I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>{var wt,In;return`${vt==null||(wt=vt.workspaceLayout)===null||wt===void 0?void 0:wt.sidebarWidthIntent}-${vt==null||(In=vt.workspaceLayout)===null||In===void 0?void 0:In.sidebarWidthMode}`},broadcastAction:vt=>{const wt=vt.split("-");return Object(pt.a)({sidebarWidthIntent:Number(wt[0]),sidebarWidthMode:wt[1]})}}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(Pn.c)(vt),broadcastAction:vt=>Object(Mn.a)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(Pn.d)(vt),broadcastAction:vt=>Object(gn.c)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(Pn.h)(vt),broadcastAction:vt=>Object(xt.a)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>{var wt,In;return`${vt==null||(wt=vt.workspaceLayout)===null||wt===void 0?void 0:wt.inspectorWidthIntent}-${vt==null||(In=vt.workspaceLayout)===null||In===void 0?void 0:In.inspectorWidthMode}`},broadcastAction:vt=>{const wt=vt.split("-");return Object(_t.a)({inspectorWidthIntent:Number(wt[0]),inspectorWidthMode:wt[1]})}}),It});en.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspaceLayoutMiddleware",description:"Broadcast client theme state to other stores"};var Cn=en,pn=e("hheC"),fn=e("E4z0"),Ln=e("O62x"),_n=e("DiyJ"),Un=e("YLXe"),Dn=e("Q1m+"),nt=e("np25"),St=e("nevH");const Ut=Object(i.b)("Broadcast view layout state across all teams",(Ie,ee,Ce)=>{const je=Ie.getState(),It=ee(Ce),ot=Ie.getState(),Ft=Object(d.getBootedWorkspaces)(ot);return I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>{var wt,In;return`${vt==null||(wt=vt.viewLayout)===null||wt===void 0?void 0:wt.sidebarWidthIntent}-${vt==null||(In=vt.viewLayout)===null||In===void 0?void 0:In.sidebarWidthMode}`},broadcastAction:vt=>{const wt=vt.split("-");return Object(Un.a)({sidebarWidthIntent:Number(wt[0]),sidebarWidthMode:wt[1]})}}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>{var wt,In;return`${vt==null||(wt=vt.viewLayout)===null||wt===void 0?void 0:wt.sidebarWideWidthIntent}-${vt==null||(In=vt.viewLayout)===null||In===void 0?void 0:In.sidebarWideWidthMode}`},broadcastAction:vt=>{const wt=vt.split("-");return Object(Dn.a)({sidebarWideWidthIntent:Number(wt[0]),sidebarWideWidthMode:wt[1]})}}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>{var wt,In;return`${vt==null||(wt=vt.viewLayout)===null||wt===void 0?void 0:wt.sidebarExtraWideWidthIntent}-${vt==null||(In=vt.viewLayout)===null||In===void 0?void 0:In.sidebarExtraWideWidthMode}`},broadcastAction:vt=>{const wt=vt.split("-");return Object(nt.a)({sidebarExtraWideWidthIntent:Number(wt[0]),sidebarExtraWideWidthMode:wt[1]})}}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(pn.b)(vt),broadcastAction:vt=>Object(Ln.a)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(pn.d)(vt),broadcastAction:vt=>Object(fn.c)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>Object(pn.c)(vt),broadcastAction:vt=>Object(_n.a)(vt)}),I({state:ot,prevState:je,workspaces:Ft,broadcastSelector:vt=>{var wt,In;return`${vt==null||(wt=vt.viewLayout)===null||wt===void 0?void 0:wt.secondaryWidthIntent}-${vt==null||(In=vt.viewLayout)===null||In===void 0?void 0:In.secondaryWidthMode}`},broadcastAction:vt=>{const wt=vt.split("-");return Object(St.a)({secondaryWidthIntent:Number(wt[0]),secondaryWidthMode:wt[1]})}}),It});Ut.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};var Gt=Ut,On=e("kBpe"),Xt=e("Lgge"),qt=e("AWyR"),Qt=e("LZPg"),$n=e("lfKG"),os=e("l/cy"),Ps=e("M3pb"),Ws=e("gKtV"),Is=e("gHj1"),vs=e("Cudo"),Ts=e("Ufq/"),zn=e("sgFo"),rs=e("dqxO"),Fs=e("gENi"),Es=e("yM+I"),cs=e("myfR"),ls=e("RVJP");function Os(Ie){switch(Object(ls.d)(Ie,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}m(Os,"getAllowedTurnTransportTypes");var Cs=e("ED8d"),Ls=e("smhd"),$s=e("A+lB"),ns=e("LxFC"),Jn=e("3REw"),Ds=e("JoR1"),is=e("t890"),Ss=e("sEtg"),Xn=e("QIbu"),Us=e("Iqnp"),Fn=e("+CZ0"),Ms=e("BEQu"),x=e("8TXW"),ue=e("owWc"),We=e("xnu4"),At=e("oTSI"),bn=e("LDAF"),vn=e("yIs4"),bt=e("qAkX"),T=e("azFB"),N=e("GNR7"),Q=e("GlHf"),w=e("3vtZ"),Pe=e("rZ8V"),Be=e("r9F4"),_e=e("E3dU"),Ze=e("Yauy"),qe=e("1I7x"),De=e("v7mh"),le=e("d3B0"),Re=e("yQbL"),Fe=e("SIMs"),Ge=e("p0i/"),et=e("kS3P"),Qe=e("dkXW"),it=e("G0eX");function Lt(Ie){return Ie?Object(it.F)(Ie)?"free":Object(it.z)(Ie)?"enterprise":"pro":"unknown"}m(Lt,"getTeamTier");var Pt=e("beVI"),rn=e("ykb+"),nn=e("Yzsk");const Sn=navigator.hardwareConcurrency,jn=navigator.platform,hn=Object(On.e)(),un=Object(rn.c)(),An=Object(rn.f)(),mn=m(Ie=>Object(ue.a)(Ie,(ee,Ce,je)=>{if(je===jt.c)return ee;const It=je.split(/-|_/).slice(0,-1).join("-"),ot=Object(We.a)(`windows-${It}-count`);return ee[ot]?ee[ot]+=1:ee[ot]=1,ee},{}),"countWindowsByType"),Nn=m(Ie=>{if(!Ie)return"";let ee=Ie;const Ce=/Default -/g;ee=Ie.replace(Ce,"");const je=/ *?\([^)]*?\) *?/g;return ee=ee.replace(je,""),ee=ee.trim(),ee},"scrubDeviceLabelForReporting"),xn=Object(At.a)((Ie,ee)=>{let{teamState:Ce,clientState:je}=Ie;var It,ot,Ft,vt,wt,In,Kn;const es=Object(Fn.a)(je),$t=Object(Fn.b)(je),Tn=Object(Ts.b)(Ce),yn=Object(zn.D)(Ce),Yn=Object(zn.t)(Ce),Qn=Object(zn.P)(Ce),wn=Object(zn.k)(Ce),as=Object(ls.d)(Ce,"huddles_disable_audio_red"),_s=x.s.sdkVersion,ma=Object(w.Q)(Ce),Ks=Object(zn.s)(Ce),Gn=Object(Fn.v)(je),ha=Object(Fn.e)(je),pa=Object(Pt.g)(Ce),oa=!!Object(Pe.m)(Ce),Qs=Lt(pa);var ts;const qs=(ts=(It=Object(d.getBootedWorkspaces)(je))===null||It===void 0?void 0:It.length)!==null&&ts!==void 0?ts:0,js=Object(Qe.b)(),fa=(js==null||(ot=js.deviceIdPriorities)===null||ot===void 0||(Ft=ot.camera)===null||Ft===void 0?void 0:Ft.length)||0,Hs=(js==null||(vt=js.deviceIdPriorities)===null||vt===void 0||(wt=vt.microphone)===null||wt===void 0?void 0:wt.length)||0,Ca=(js==null||(In=js.deviceIdPriorities)===null||In===void 0||(Kn=In.output)===null||Kn===void 0?void 0:Kn.length)||0,va=Object(_e.j)(Ce),Sa={xwsChannelCount:(va==null?void 0:va.length)||0,visibleChannelCount:0,visibleImChannelCount:0,visibleMpimChannelCount:0,visibleSidebarItemCount:0};va.forEach(ra=>{Object(Ze.wb)(ra)&&(Sa.visibleChannelCount+=1),Object(Ze.yb)(Ce,ra)&&(Sa.visibleImChannelCount+=1),Object(Ze.zb)(Ce,ra)&&(Sa.visibleMpimChannelCount+=1)});const{visibleChannelCount:Wo,visibleImChannelCount:Fo,visibleMpimChannelCount:xo}=Sa,Ko=Wo+Fo+xo,Ho=Object(zn.U)(Ce),Vo=Object(zn.M)(Ce),Ma=Object(Fn.p)(je);let mo={};if(Ma!=null&&Ma.metrics){const{roomsJoinTime:ra,voiceFocusInitializedTime:Ga,sdkInitializedTime:za,credentialsToVoiceFocusInitializedTime:Ya,audioConnectedTime:ho,firstPresenceTime:fo}=Ma.metrics;mo={roomsJoinTime:ra,voiceFocusInitializedTime:Ga,sdkInitializedTime:za,credentialsToVoiceFocusInitializedTime:Ya,audioConnectedTime:ho,firstPresenceTime:fo}}return{teamId:ha,huddleId:es,huddleChannelId:$t,workspaceCount:qs,chimeSdkVersion:_s,isIA4Prod:oa,teamTier:Qs,isPreWarmed:Ks,isPrejoin:Gn,isTranscriptAllowed:ma,isChimeSdkExpEnabled:Tn,isHuddlesLaterEnabled:yn,isMediaAccessRefreshEnabled:Qn,isAudioInitFixEnabled:wn,disableAudioRedundancyGroup:as,isRtmSchedulerEnabled:Yn,osPlatform:jn,osVersion:hn,visibleSidebarItemCount:Ko,devicePriorityListCameraCount:fa,devicePriorityListMicrophoneCount:Hs,devicePriorityListSpeakerCount:Ca,updatedAudioLevelMonitorEnabled:Ho,prejoinNoAudioFixEnabled:Vo,envIsJsPath:un,envIsQa:An,...mo}},(Ie,ee)=>ee);var Wn=m(Ie=>{let{state:ee,appMetrics:Ce}=Ie;var je,It,ot,Ft,vt,wt,In,Kn;const es=Object(a.getClientStoreInstance)().getState(),$t=Object(Fn.q)(es),Tn=Object(Fn.a)(es),yn=`${$t}${Tn??""}`,Yn=xn({teamState:ee,clientState:es},yn),{huddleId:Qn,huddleChannelId:wn,workspaceCount:as,isIA4Prod:_s,isRtmSchedulerEnabled:ma}=Yn,Ks={};if(_s){const ps=Object(De.a)(ee),Bs=ps?Object(De.h)(ee,{tab:ps}):{},{primary:ya,secondary:Qa,sidebar:$a}=Bs||{};Object.assign(Ks,{viewPrimary:ya==null?void 0:ya.viewType,viewSecondary:Qa==null?void 0:Qa.viewType,viewSidebar:$a==null?void 0:$a.viewType,viewTab:ps})}const Gn=Object(le.i)(ee),ha=Object(le.g)(ee),pa=Object(le.e)(ee),oa=Object(le.d)(ee),Qs={microphoneIsBlocked:Gn,microphoneIsAvailable:ha,cameraIsBlocked:pa,cameraIsAvailable:oa},ts={},qs=Object(Q.b)(ee),js={};if(qs){const ps=Object.keys(qs);Object.assign(js,{windowsTotalOpen:ps.length,windowsOpenTypes:ps.length?ps.join(" "):"",windowsTypeWithFocus:Object(bn.a)(qs,Bs=>!!Bs.isFocused),...mn(qs)})}const fa=Object(Fn.j)(es),Hs=Object(Ge.k)(ee),Ca=Hs?Object(Ge.e)(ee):void 0;Object.assign(ts,{isAudioOnlyModeEnabled:fa,isTroubleshootingPanelOpen:Hs,troubleshootingPanelTab:Ca});const va=Object(N.h)(ee),Sa=(je=Object(le.c)(ee,ns.b.Camera))===null||je===void 0?void 0:je.label,Wo=(It=Object(le.c)(ee,ns.b.Microphone))===null||It===void 0?void 0:It.label,Fo=(ot=Object(le.c)(ee,ns.c))===null||ot===void 0?void 0:ot.label,{isScreenshareEnabled:xo,isHostDrawEnabled:Ko,isHostDrawRendererActive:Ho,isCameraEnabled:Vo,isMicrophoneEnabled:Ma,isConnected:mo}=Object(Qt.V)(ee),ra=!!xo,Ga=!!Vo,za=Object(Qt.m)(ee,{id:"self"}),Ya=Object(Qt.r)(ee),ho=Ya==="self",fo=va.filter(ps=>ps.isCameraEnabled).length,ni=Object(qe.b)(wn),ks=Object(Qe.b)(),jc=Ga&&(ks==null||(Ft=ks.video)===null||Ft===void 0?void 0:Ft.effect)===et.a.Blur,si=!!(!(ks==null||(vt=ks.audio)===null||vt===void 0)&&vt.enableNoiseSuppression),Pc=si&&ho,Rc=Ga&&(ks==null||(wt=ks.video)===null||wt===void 0?void 0:wt.effect)===et.a.Background&&(ks==null||(In=ks.video)===null||In===void 0?void 0:In.effectBgKey)!==void 0,ai=!!Ya,Lc=!!fo,ko=Object(Qt.k)(ee).length,oi=!!ko,ri=ko+(ra?1:0),Uc=ri===2,Nc=oi||ra,Bc=Object(Ge.i)(ee),Wc=Object(Be.e)(ee),Fc=Object(Be.f)(ee),xc=ai?(Kn=va.find(ps=>ps.id===Ya))===null||Kn===void 0?void 0:Kn.userId:void 0,Kc=T.a.document.visibilityState==="visible",Hc={isBackgroundBlurActive:jc,isNoiseSuppressionEnabled:si,isNoiseSuppressionActive:Pc,isCustomVideoBackgroundActive:Rc,isClosedCaptionsEnabled:Wc,isSideBySideCaptionsEnabled:Fc},Vc=ma?Object(nn.a)():void 0,kc=ma?Object(nn.b)():void 0,Gc={callId:Tn,isMicrophoneEnabled:Ma,isActiveSpeaker:ho,isSomeoneSpeaking:ai,isSomeoneSharingScreen:Nc,isVideoEnabledForSomeone:Bc,isSharingScreen:ra,isHostDrawEnabled:Ko,isHostDrawActive:Ho,isSelfVideoEnabled:Ga,isPeerVideoEnabled:Lc,isHuddleWindowVisible:ni,selectedCamera:Nn(Sa),selectedMicrophone:Nn(Wo),selectedSpeakers:Nn(Fo),activeSpeakerUserId:xc,isPeerSharingScreen:oi,isDualScreenshareActive:Uc,cpuCount:Sn,remotePeerCount:va.length,remotePeersWithVideoCount:fo,peersScreensharingCount:ko,activeScreenshareCount:ri,workspaceCount:as,huddleStartTimestamp:$t,isDisconnected:mo===!1,isMainWindowVisible:Kc,rtmTaskQueueLength:kc,rtmProcessingDelay:Vc};let ii={};if(Ce){const{cpu:ps,memory:Bs,gpu:ya,thermalState:Qa,speedLimit:$a}=Ce,Qo=Object(vn.a)(ps)?Math.round(ps*Sn):void 0,$o=Object(vn.a)(ya)?Math.round(ya*Sn):void 0,{useHwAcceleration:Yc}=Object(r.J)("settings")||{};ii={cpuUseRelative:ps?Math.round(ps):void 0,cpuUse:Qo,gpuUse:$o,cpuWithGpu:Qo&&$o?Qo+$o:void 0,memoryUse:(Bs==null?void 0:Bs.workingSetSize)||void 0,isHardwareAccelerationEnabled:Yc,osThermalState:Qa,osSpeedLimit:$a}}let ci={};if(ni){var Go,zo,Yo;const ps=Object(Fe.q)(ee,{huddleId:Qn}),Bs=Object(Fe.g)(ee,{huddleId:Qn,surface:ps});ci={huddleWindowSurface:ps,huddleWindowFocusedContentType:(za==null||(Go=za.item)===null||Go===void 0?void 0:Go.type)||Xn.a.None,huddleWindowIsFullscreen:Object(Fe.v)(ee),huddleWindowBackground:Object(bt.a)((zo=Object(Fe.b)(ee,{huddleId:Qn}))===null||zo===void 0||(Yo=zo.url)===null||Yo===void 0?void 0:Yo.split("/")),huddleWindowIsSelfDrawingEnabled:Object(Fe.C)(ee),huddleWindowWindowHeight:Bs==null?void 0:Bs.height,huddleWindowWindowWidth:Bs==null?void 0:Bs.width}}const li=Object(Re.a)(),zc={batteryIsUsing:li.isUsingBatteryPower(),batteryPercentRemaining:li.getLevel()};return{...Gc,...Hc,...ii,...ci,...Ks,...Qs,...zc,...ts,...js,...Yn}},"getHuddleStateSnapshot"),Bn=e("QjW8"),hs=e("l0nk"),ln=e("sOAz"),kn=e("SQ0V"),Rs=e("6rGi");const As=Object(kn.c)("Resolve a pending huddle",(Ie,ee,Ce)=>Object(Rs.a)().resolvePendingJoin(Ce));As.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};var ws=As,Vs=e("oCIk"),Gs=e("IaLB"),Zs=e("4YJR");const xs=Object(kn.c)("update client huddle membership timers join",(Ie,ee)=>{const Ce=ee(),je=Object(P.a)({state:Ce}),It=Object(a.getStateForClientStore)(),ot=Object(Fn.c)(It),Ft=Object(ls.d)(Ce,"onbrd_1483")==="on",vt=Object(Gs.ob)(Ce,{tip:He.f.Huddles});if(!ot){je.warn(lt.c,"no active huddle found, cannot update state to together or alone");return}const wt=Object(N.j)(Ce);if(wt===0){Object(Rs.a)().setAloneInHuddle();return}wt>0&&((vt||Ft)&&Ie(Object(Zs.q)(!0)),Object(Rs.a)().setOthersInHuddle(),Ie(Object(Vs.a)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});xs.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var ds=e("9oTK"),us=e("q1tI"),Hn=e.n(us),Za=e("wSSu"),Ja=e.n(Za),Xa=e("vJtL"),vo=e("SZMM"),Eo=e("Enx8"),qa=e("WSQ4"),ia=e("nNoG"),_a=e("O86Y"),Da=e("Kq+c"),Js=e("KciV"),Jo=e("jMXC"),Oo=e("ueJG"),Ea=e("zxER"),Aa=e("Cfcg"),zs=e("BHdc"),go=e("xwCZ"),ja=e("+tZp"),po=e("1VgO");let eo=m(class extends us.PureComponent{static getDerivedStateFromProps(ee,Ce){return ee.mediaStream!==Ce.currentMediaStream?ee.mediaStream&&Ce.currentMediaStream&&ee.mediaStream.id===Ce.currentMediaStream.id?{currentMediaStream:ee.mediaStream,isFlipped:ee.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:ee.mediaStream?Ce.currentMediaStream:void 0,currentMediaStream:ee.mediaStream,isFlipped:ee.isFlipped,wasFlipped:Ce.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const ee=this.videoRef.current,Ce=this.prevVideoRef.current;ee&&(ee.removeEventListener("canplay",this.onCanPlay),ee.removeEventListener("pause",this.onPause),ee.removeEventListener("resize",this.onResize)),Ce&&(Ce.removeEventListener("canplay",this.onCanPlay),Ce.removeEventListener("pause",this.onPause),Ce.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:ee}=this.state,Ce=ee&&ee.getVideoTracks()[0];this.isDataStopped&&Ce&&Ce.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(ee){this.state.currentMediaStream&&ee.target.srcObject instanceof MediaStream&&ee.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:ee,prevMediaStream:Ce}=this.state,je=this.videoRef.current,It=this.prevVideoRef.current;je&&(je.muted=!0,je.srcObject!==ee&&(je.addEventListener("canplay",this.onCanPlay),je.addEventListener("pause",this.onPause),je.addEventListener("resize",this.onResize),je.srcObject=ee||null)),It&&(It.muted=!0,It.srcObject!==Ce&&(It.removeEventListener("canplay",this.onCanPlay),It.removeEventListener("pause",this.onPause),It.removeEventListener("resize",this.onResize),It.srcObject=Ce||null))}onResize(){const ee=this.videoRef.current;ee&&(this.props.isSharingScreen?ee.style.objectFit="contain":ee.style.objectFit=ee.videoWidth>ee.videoHeight?"cover":"contain")}render(){const{className:ee,isFlipped:Ce,refToForward:je}=this.props,{currentMediaStream:It,prevMediaStream:ot,isCurrentMediaStreamReady:Ft,wasFlipped:vt}=this.state;return Hn.a.createElement(Hn.a.Fragment,null,!Ft&&ot&&Hn.a.createElement("video",{key:ot&&ot.id,className:Object(zs.default)("p-calls_video",ee,{flipped:vt}),ref:this.prevVideoRef,autoPlay:!0}),Hn.a.createElement("video",{className:Object(zs.default)("p-calls_video",ee,{flipped:Ce,hidden:!Ft}),ref:Object(po.b)(this.videoRef,je),autoPlay:!0,key:It&&It.id}))}constructor(ee){super(ee),this.prevVideoRef=Hn.a.createRef(),this.videoRef=Hn.a.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");eo.displayName="CallsOriginalVideoElement";function Pa(){return Pa=Object.assign||function(Ie){for(var ee=1;ee<arguments.length;ee++){var Ce=arguments[ee];for(var je in Ce)Object.prototype.hasOwnProperty.call(Ce,je)&&(Ie[je]=Ce[je])}return Ie},Pa.apply(this,arguments)}m(Pa,"_extends");const bo=m((Ie,ee)=>{const Ce=Object(Qt.J)(Ie,ee.id);return{mediaStream:Ce.mediaStream,isFlipped:Object(Qt.Y)(Ce)&&!Ce.isScreenshareEnabled,isSharingScreen:Ce.isScreenshareEnabled}},"mapStateToProps"),Ra=Object(Aa.a)(bo)(eo);var Ns=Hn.a.forwardRef((Ie,ee)=>Hn.a.createElement(Ra,Pa({},Ie,{refToForward:ee}))),Io=e("pFNT"),ca=e("i9y5"),La=e("S4vl"),To=e("+KE1"),Co=e("rGCG"),So=e("74PA"),to=e("ktUG"),Ua=e("wMt+");function no(Ie,ee){const Ce=Math.min(ee.width,ee.height*Ie),je=Math.min(ee.height,ee.width/Ie);return{top:ee.top+(ee.height-je)/2,left:ee.left+(ee.width-Ce)/2,width:Ce,height:je}}m(no,"getLargestRectForAspectRatioCenteredWithinRect");let Ia=m(class extends us.PureComponent{detectDifference(ee,Ce){return Math.abs(ee-Ce)>1}componentDidMount(){Object(Js.c)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),Object(So.a)(to.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),this.context.window.addEventListener("resize",this.onResize),Object(Ua.a)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(ee){let{isVideoReady:Ce}=ee;!Ce&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),this.context.window.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!Object(Ua.a)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const ee=this.videoRef.current;!ee||ee.videoHeight===0||this.setState(()=>({videoRect:no(ee.videoWidth/ee.videoHeight,ee.getBoundingClientRect())}))}render(){const ee=Hn.a.Children.only(this.props.children),Ce=Hn.a.cloneElement(ee,{ref:Object(po.a)(this.videoRef,ee)});return Hn.a.createElement(Hn.a.Fragment,null,Ce,this.state.videoRect&&Hn.a.createElement(To.a,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&Hn.a.createElement(Co.a,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(ee){super(ee),this.videoRef=Hn.a.createRef(),this.drawTargetRef=Hn.a.createRef(),this.drawRenderRef=Hn.a.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");Ia.displayName="GuestDraw",Ia.contextType=qa.a;const Xo=m((Ie,ee)=>{const Ce=Object(Qt.e)(Ie);if(!Ce)throw Error("Guest draw should not be mounted without an active peer");const je=Object(Qt.J)(Ie,Ce);return{isDrawEnabled:!!je.isScreenshareEnabled&&!!je.isDrawEnabled,isScreenShareEnabled:!!je.isScreenshareEnabled}},"guest_draw_mapStateToProps");var Na=Object(Aa.a)(Xo)(Ia);const so={isVideoReady:!1};let ao=m(class extends us.PureComponent{onVideoReady(ee){this.setState(Ce=>({...Ce,isVideoReady:ee}))}renderVideo(){const{id:ee,renderVideo:Ce,tileId:je}=this.props;if(Ce)return Ce(this.isVideoEnabledAndReady());if(!ee){Object(La.b)("Cannot render video without a peer id");return}return Hn.a.createElement(Na,{isVideoReady:this.state.isVideoReady},Hn.a.createElement(Ns,{id:ee,tileId:je,onVideoReady:this.onVideoReady,className:Object(zs.default)({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:ee,prefCompliantUserName:Ce,member:je}=this.props;return Hn.a.createElement("div",{className:Object(zs.default)({hidden:this.state.isVideoReady})},Hn.a.createElement("div",{className:"p-active_speaker__member_image_wrapper"},Hn.a.createElement(Io.c,{className:Object(zs.default)({"p-active_speaker__member_image--spinning":ee}),size:180,userId:je&&je.id,isInteractive:!1,tabIndex:-1}),ee&&Hn.a.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},Hn.a.createElement(ca.a,{color:"white"}))),Hn.a.createElement("div",{className:"p-active_speaker__member_name"},Ce))}isVideoEnabledAndReady(){const{isVideoEnabled:ee,isVideoEnabledAndReady:Ce}=this.props;return Ce?Ce(ee):!!(ee&&this.state.isVideoReady)}render(){const{isVideoEnabled:ee}=this.props,Ce=Object(zs.default)("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return Hn.a.createElement("div",{"data-qa":"active-speaker",className:Ce},ee&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(ee){super(ee),this.state=so,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");ao.displayName="ActiveSpeaker";function Mo(Ie,ee){const Ce=Object(go.g)(Ie,ee),je=Object(ja.a)(Ie,Ce);return{member:Ce,prefCompliantUserName:je}}m(Mo,"mapCommonMemberState");const yo=m((Ie,ee)=>{const Ce=Object(Qt.J)(Ie,ee.id),je=Ce.isCameraEnabled,It=Ce.isScreenshareEnabled,ot=Object(Qt.Y)(Ce)?Object(g.a)(Ie):Ce.userId;return{tileId:ee.tileId,isVideoEnabled:je||It,isSpinning:Ce.isConnected===!1,...Mo(Ie,ot)}},"active_speaker_mapStateToProps");var _o=Object(Aa.a)(yo)(ao),oo=e("mf6s");function Ba(){return Ba=Object.assign||function(Ie){for(var ee=1;ee<arguments.length;ee++){var Ce=arguments[ee];for(var je in Ce)Object.prototype.hasOwnProperty.call(Ce,je)&&(Ie[je]=Ce[je])}return Ie},Ba.apply(this,arguments)}m(Ba,"with_free_willy_guest_draw_extends");const gt=m(Ie=>m(class extends us.PureComponent{addEventListeners(Ce,je,It){Ce.current&&(Ce.current.addEventListener("canplay",je),It&&Ce.current.addEventListener("resize",je))}removeEventListeners(Ce,je,It){Ce.current&&(Ce.current.removeEventListener("canplay",je),It&&Ce.current.removeEventListener("resize",je))}render(){return Hn.a.createElement(Ie,Ba({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");gt.displayName="withFreeWillyGuestDraw";var dt=gt;function mt(){return mt=Object.assign||function(Ie){for(var ee=1;ee<arguments.length;ee++){var Ce=arguments[ee];for(var je in Ce)Object.prototype.hasOwnProperty.call(Ce,je)&&(Ie[je]=Ce[je])}return Ie},mt.apply(this,arguments)}m(mt,"with_free_willy_active_speaker_extends");const Ct=dt(Na),Bt=m(Ie=>m(class extends us.PureComponent{isVideoEnabledAndReady(Ce){return Ce}renderVideo(Ce){const{id:je,tileId:It}=this.props;if(!je){Object(La.b)("Cannot render video without a peer id");return}return Hn.a.createElement(Ct,{isVideoReady:Ce},Hn.a.createElement(oo.a,{id:je,tileId:It,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return Hn.a.createElement(Ie,mt({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(Ce){super(Ce),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");Bt.displayName="withFreeWillyActiveSpeaker";var kt=Bt,Vt=e("/MKj"),cn=e("qDEp"),En=e("Nq3N"),Rn=e("nHGf");const ss=new ia.b("huddles"),ms=m(()=>{const Ie=Object(Vt.useDispatch)(),ee=Object(Ea.c)(je=>!!Object(Qt.W)(je,"isMicrophoneEnabled")),Ce=Object(us.useCallback)(()=>{Ie(Object(En.a)(!ee))},[ee,Ie]);return Hn.a.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},Hn.a.createElement(cn.f,{className:Object(zs.default)("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":ee}),onClick:Ce,type:"outline",role:"switch",size:"large","aria-label":ss.t("Microphone"),"aria-checked":ee,disabled:!self},Hn.a.createElement(Rn.a,{peerId:"self",isMicrophoneEnabled:ee,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");ms.displayName="HuddleScreenViewerMicButton";var Xs=ms;const fs=kt(_o),ta=new ia.b("huddles");function na(Ie){const{peerId:ee,isError:Ce}=Ie,je=Object(Ea.c)(Qt.u),It=Object(Ea.c)(In=>ee?Object(Qt.J)(In,ee):null);let ot;if(je){var Ft,vt;ot=It!=null&&It.isScreenshareEnabled?It==null||(Ft=It.tileIds)===null||Ft===void 0||(vt=Ft.screenshare)===null||vt===void 0?void 0:vt.tileId:null}const wt=Hn.a.createElement("span",{className:"p-huddle_screen_viewer__error"},ta.t("The screen share has ended."));return Hn.a.createElement("div",{className:"p-huddle_screen_viewer__container"},ee&&!Ce&&Hn.a.createElement(fs,{id:ee,tileId:ot}),Ce?wt:Hn.a.createElement(Xs,null))}m(na,"HuddleScreenViewer"),na.displayName="HuddleScreenViewer";var Oa=e("Z242");const qn={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},Wa=qn,ys=new ia.b("huddles"),Ta=m(Ie=>{var ee;const Ce=Ie==null||(ee=Ie.document)===null||ee===void 0?void 0:ee.querySelectorAll(".p-huddle_screen_viewer__container"),je=Ce?Ce.length:0,It=Object(Js.c)("SCREENSHARE-VIEWER-APP");je>1?It.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):It.info(`${je} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),sa=m(()=>{const{container:Ie,childWindow:ee}=qn;Ie&&(Ja.a.unmountComponentAtNode(Ie),qn.containerTileId=void 0,qn.container=void 0),ee&&(ee.removeEventListener("beforeunload",sa),ee.close(),qn.childWindow=void 0,qn.childWindowToken=void 0)},"closeScreenShareWindow"),Do=Object(kn.c)("Launch the window that renders screen share media",function(){var Ie=Object(ds.coroutine)(function*(ee,Ce,je){var It,ot,Ft;const vt=Ce(),wt=Object(P.a)({state:vt}),In=je!=null&&je.screenSharePeerId?je.screenSharePeerId:Object(Qt.A)(vt);let Kn=!1;const{container:es,containerTileId:$t}=qn;In||(wt.warn(lt.c,"lastRemoteScreensharePeerId is not found"),Kn=!0);const Tn=Object(Qt.J)(vt,In||""),yn=Tn.userId?Object(Eo.a)(vt,Tn.userId):"";let Yn=ys.t("Screen share");yn&&(Yn=ys.t("{memberName} screen share",{memberName:Object(ia.k)(yn)}));const Qn={...Jo.a,backgroundColor:"black",title:Yn,type:"huddle-call-screen-share"},wn=Object(a.getStateForClientStore)();Object(Fn.c)(wn)||(wt.warn(lt.c,"no active huddle found"),Kn=!0);const _s=(Tn==null||(It=Tn.tileIds)===null||It===void 0||(ot=It.screenshare)===null||ot===void 0?void 0:ot.tileId)||0;Object(a.dispatchForClientStore)(Object(cs.e)({tileId:_s}))||(wt.warn(lt.c,"video tile does not have stream"),Kn=!0);const Ks=!qn.childWindow||qn.childWindow.closed;if(Ks&&Object(On.i)()){const{window:Qs,windowToken:ts}=yield Object(vo.g)("",Qn);qn.childWindow=Qs,qn.childWindowToken=ts}else Ks&&(qn.childWindow=window.open("",Yn,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!qn.childWindow){wt.warn(lt.c,"No child window available. Exiting screen share window launch");return}const Gn=Object(_a.g)(vt);qn.childWindow.document&&(qn.childWindow.document.body.style.background="black");const ha={window:qn.childWindow,windowToken:qn.childWindowToken};if(Ks&&(qn.childWindow.addEventListener("beforeunload",sa),window.addEventListener("beforeunload",sa)),!(es&&$t===_s)||Ks){qn.containerTileId=_s;const Qs=Object(a.getStoreInstanceByTeamId)(Gn);qn.container=yield Object(Da.a)(qn.childWindow,Hn.a.createElement(Oa.a,{store:Qs},Hn.a.createElement(qa.a.Provider,{value:ha},Hn.a.createElement(Oo.b,{shouldStopHuddle:!0},Hn.a.createElement(na,{peerId:In,isError:Kn})))),{useContainer:!0})}const oa=(Ft=qn.childWindow)===null||Ft===void 0?void 0:Ft.browserWindowId;oa?Object(r.y)(oa):Object(Xa.a)(qn.childWindow.focus)&&qn.childWindow.focus(),Ta(qn.childWindow)});return function(ee,Ce,je){return Ie.apply(this,arguments)}}());Do.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var qo=e("0dq7"),mi=e("LvvF");const er=Object(kn.c)("alerts if a user joins the huddle and the current user has hidden that user",(Ie,ee,Ce)=>{let{userId:je}=Ce;const It=ee();Object(mi.b)(It,je)&&Ie(Object(vs.b)(vs.a.HiddenUserJoinedHuddle))});er.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var tr=e("gpLM"),nr=e("HKlo"),sr=e("c7sk"),ro=e("LTG1"),hi=e("rf28"),fi=e("x5lL"),Fa=e("EQgQ"),Ao=e("2XU3"),ar=e("oJqn");const or=Object(kn.c)("Send call analytics to the server",(Ie,ee,Ce)=>{const je=ee().activeCall;let It;if(Ce&&Ce.callId?It=Ce.callId:je&&je.id&&(It=je.id),!It){Object(La.b)("There should be an active call in progress in order to send analytics.");return}const ot=vi(new ar.a.calls.analytics.Report(Ce.stats),ee()),Ft=ar.a.calls.analytics.Report.encode(ot).finish(),vt=String.fromCharCode(...Ft);return Ie(Object(Ao.apiCall)({method:"screenhero.rooms.postAnalytics",args:{room:It,analytics:btoa(vt)},reason:"calls-analytics"}))});or.meta={name:"createThunk",key:"createThunksendAnalytics",description:"Send call analytics to the server"};function vi(Ie,ee){const Ce=Ie;return Ce.recv=Ie.recv.map(je=>{if(je.peerId){const It=Object(Qt.E)(ee,je.peerId);if(It){const ot=je;ot.userId=It.userId}}if(je.peerIdString){const It=Object(Qt.E)(ee,je.peerIdString);if(It){const ot=je;ot.userId=It.userId}}return je}),Ce.recv=Ce.recv.filter(je=>!!je.userId),Ie}m(vi,"mapPeerIdsToUserIds");var Ei=e("6l10"),rr=e("KGIc"),Oi=e("2mvv");const gi=Object(P.b)({label:"SEND-MEETING-EVENTS-LOGGER"}),ir="screenhero.rooms.proxyMeetingEvents",cr=Object(kn.c)("Send meeting events to the server",function(){var Ie=Object(ds.coroutine)(function*(ee,Ce,je){let It;try{It=JSON.stringify(je.events)}catch(wt){gi.error(wt.message);return}const{metrics:ot,teamId:Ft}=pi();if(je.isUnloading){const wt={app:je.app,meeting_id:je.meetingId,media_region:je.mediaRegion,attendee_id:je.attendeeId,call_id:je.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:It,preferred_media_region:yield Is.a.getInstance().getNearestChimeMediaRegion(Ft),audio_connected_time:(ot==null?void 0:ot.audioConnectedTime)||0,first_presence_time:(ot==null?void 0:ot.firstPresenceTime)||0,rooms_join_time:(ot==null?void 0:ot.roomsJoinTime)||0,sdk_initialized_time:(ot==null?void 0:ot.sdkInitializedTime)||0,chime_attendee_presence_time:je.attendeePresenceDuration?je.attendeePresenceDuration:(ot==null?void 0:ot.attendeePresenceDuration)||0,chime_meeting_start_time:je.meetingStartDuration?je.meetingStartDuration:(ot==null?void 0:ot.meetingStartDuration)||0,chime_signaling_open_time:je.signalingOpenDuration?je.signalingOpenDuration:(ot==null?void 0:ot.signalingOpenDuration)||0,chime_ice_gathering_time:je.iceGatheringDuration?je.iceGatheringDuration:(ot==null?void 0:ot.iceGatheringDuration)||0,voice_focus_init_time:(ot==null?void 0:ot.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(ot==null?void 0:ot.credentialsToVoiceFocusInitializedTime)||0};return Object(Ei.a)({apiUrl:"/api/",method:ir,token:Object(Oi.b)(Ce()),versionTs:Object(rr.f)(),versionUid:Object(rr.h)(),args:wt})?Xt.a.resolve():Xt.a.reject(new Error("sendMeetingEvents: beacon failed"))}const vt=je.isEnding?{app:je.app,meeting_id:je.meetingId,media_region:je.mediaRegion,attendee_id:je.attendeeId,events:It,call_id:je.callId,preferred_media_region:yield Is.a.getInstance().getNearestChimeMediaRegion(Ft),audio_connected_time:(ot==null?void 0:ot.audioConnectedTime)||0,first_presence_time:(ot==null?void 0:ot.firstPresenceTime)||0,rooms_join_time:(ot==null?void 0:ot.roomsJoinTime)||0,sdk_initialized_time:(ot==null?void 0:ot.sdkInitializedTime)||0,chime_attendee_presence_time:je.attendeePresenceDuration?je.attendeePresenceDuration:(ot==null?void 0:ot.attendeePresenceDuration)||0,chime_meeting_start_time:je.meetingStartDuration?je.meetingStartDuration:(ot==null?void 0:ot.meetingStartDuration)||0,chime_signaling_open_time:je.signalingOpenDuration?je.signalingOpenDuration:(ot==null?void 0:ot.signalingOpenDuration)||0,chime_ice_gathering_time:je.iceGatheringDuration?je.iceGatheringDuration:(ot==null?void 0:ot.iceGatheringDuration)||0,voice_focus_init_time:(ot==null?void 0:ot.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(ot==null?void 0:ot.credentialsToVoiceFocusInitializedTime)||0}:{app:je.app,meeting_id:je.meetingId,media_region:je.mediaRegion,attendee_id:je.attendeeId,events:It,call_id:je.callId};return ee(Object(Ao.apiCall)({method:ir,args:vt,reason:"calls-chime-events"}))});return function(ee,Ce,je){return Ie.apply(this,arguments)}}());cr.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function pi(){const Ie=Object(a.getStateForClientStore)(),{metrics:ee,teamId:Ce}=Object(Fn.p)(Ie)||{};return{metrics:ee,teamId:Ce}}m(pi,"getCallMetricsAndTeamId");var lr=e("fujP");const bi=Object(P.b)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),dr=Object(kn.c)("Handle Chime meeting events",(Ie,ee,Ce)=>{let{events:je,callId:It,meetingId:ot,mediaRegion:Ft,attendeeId:vt,isUnloading:wt,isEnding:In}=Ce;const Kn=Ii(je);!Object(lr.a)(Kn)&&!wt&&!In&&Object(a.dispatchForClientStore)(Object(ke.ab)({metrics:Kn})),Ie(cr({events:je,app:"huddles",callId:It,meetingId:ot,mediaRegion:Ft,attendeeId:vt,isUnloading:wt,isEnding:In,attendeePresenceDuration:Kn.attendeePresenceDuration,signalingOpenDuration:Kn.signalingOpenDuration,iceGatheringDuration:Kn.iceGatheringDuration,meetingStartDuration:Kn.meetingStartDuration}))});dr.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function Ii(Ie){const ee={};return Ie.forEach(Ce=>{let{message:je}=Ce;try{const wt=JSON.parse(je);switch(wt.name){case"attendeePresenceReceived":var It;ee.attendeePresenceDuration=(It=wt.attributes)===null||It===void 0?void 0:It.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var ot,Ft,vt;ee.signalingOpenDuration=(ot=wt.attributes)===null||ot===void 0?void 0:ot.signalingOpenDurationMs,ee.iceGatheringDuration=(Ft=wt.attributes)===null||Ft===void 0?void 0:Ft.iceGatheringDurationMs,ee.meetingStartDuration=(vt=wt.attributes)===null||vt===void 0?void 0:vt.meetingStartDurationMs;break;default:break}}catch(wt){bi.error("Invalid JSON in meeting event",wt)}}),ee}m(Ii,"parseMeetingEventMetrics");var Ti=dr,aa=e("jj3I");const ur=Object(kn.c)("Process AWS transcript event",(Ie,ee,Ce)=>{var je;if(Object(x.I)(Ce))return;const It=Ce.results[0];if(!(It!=null&&It.resultId)||!Object(Be.a)(ee()))return;const ot=(je=It.alternatives[0])===null||je===void 0?void 0:je.items;if(!(ot!=null&&ot.length)){Ie(Object(aa.g)({resultId:It.resultId,transcriptions:[]}));return}const Ft=[];ot.forEach(vt=>{var wt;const In=Ft[Ft.length-1],Kn=Object(sr.a)((wt=vt.attendee)===null||wt===void 0?void 0:wt.externalUserId);Kn&&(vt.type===x.r.PUNCTUATION?In&&(In.content=`${In.content}${vt.content}`,In.endTimeMs=vt.endTimeMs):Ft.push({memberId:Kn,timestampMs:vt.startTimeMs,endTimeMs:vt.endTimeMs||Date.now(),content:vt.content}))}),Ie(Object(aa.g)({resultId:It.resultId,transcriptions:Ft}))});ur.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};var Ci=ur,ga=e("wVLq"),Si=e("O9MH");const mr=Object(kn.c)("Maybe disable the screen share",function(){var Ie=Object(ds.coroutine)(function*(ee,Ce){const je=Object(Js.c)("CALLS-REDUX");Ce().peers.self.isScreenshareEnabled&&(je.info("Attempted to turn off screen sharing"),ee(Object(Qt.ob)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),Object(Si.a)()});return function(ee,Ce){return Ie.apply(this,arguments)}}());mr.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var hr=e("PfQc"),la=e("+N8b");let Mi=m(class{onPeerMuted(ee,Ce){this.dispatch(Object(Qt.ob)({id:ee,isMicrophoneEnabled:!Ce}))}onPeerJoined(ee,Ce){if(this.maybeRecordFirstPresenceTime(),Ce&&ee){this.dispatch(Object(Qt.c)({id:ee,userId:Ce,isMicrophoneEnabled:!0})),this.dispatch(xs());const je=Object(Qt.V)(this.store.getState());Object(a.dispatchForClientStore)(Object(ke.j)({isDrawEnabled:je.isDrawEnabled||!1})),this.dispatch(Object(aa.c)({type:ga.a.JOIN,memberId:Ce,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(Ce),this.dispatch(er({userId:Ce}))}}onPeerLeft(ee){var Ce;const je=(Ce=Object(Qt.P)(this.store.getState(),ee))===null||Ce===void 0?void 0:Ce.userId;je&&(this.callLogger.info(`Peer left the huddle. userId=${je} peerId=${ee}`),this.dispatch(Object(aa.c)({type:ga.a.LEAVE,memberId:je,timestampMs:Date.now()}))),this.dispatch(Object(Qt.fb)(ee)),this.dispatch(xs())}onSelfJoined(){const ee=this.recordTiming(ht.s);this.maybeRecordFirstPresenceTime(),this.dispatch(ws(ee))}onSelfLeft(){this.dispatch(Object(vs.i)(ln.a.HiddenUserJoinedHuddle))}onNewActiveSpeaker(ee){this.dispatch(Object(Qt.hb)(ee))}onPeerReacji(ee,Ce,je,It){var ot;this.dispatch(Object(Qt.a)({peerId:ee,emoji:Ce,isEmoji:je,reactionType:It}));const Ft=(ot=Object(Qt.P)(this.store.getState(),ee))===null||ot===void 0?void 0:ot.userId;Ft&&this.dispatch(Object(aa.c)({type:ga.a.SEND_REACTION,memberId:Ft,timestampMs:Date.now(),emoji:Ce}))}onPeerMuteRequest(ee,Ce){Ce===this.selfAttendeeId&&(this.dispatch(Object(En.a)(!1)),this.dispatch(Object(ln.b)({alert:ln.a.PeerMuteRequest,peerId:ee})),this.callLogger.info(`Peer muted self microphone : peerId:${ee}`))}onError(ee,Ce){let je;Ce===x.p[x.p.AudioJoinedFromAnotherDevice]?je=qo.c.AudioJoinedFromAnotherDevice:Ce===x.p[x.p.MeetingEnded]&&(je=qo.c.ChimeMeetingEnded),this.dispatch(Object(hs.a)({terminalState:je||ee})),this.callLogger.info(`tearDown executed: terminalState: ${ee}, statusCodeName: ${Ce} tearDownState: ${je}`)}onClogError(ee){}onMeetingSessionInitialized(){this.recordTiming(ht.y);const ee=Object(at.d)({state:this.store.getState()}),Ce=ee.measure(ht.d,ht.e);ee.count(ht.e,Ce),Object(a.dispatchForClientStore)(Object(ke.ab)({metrics:{sdkInitializedTime:Ce}}))}onSelfPermissionUpdated(ee,Ce){this.callLogger.info(`Received permission update from type:${Ce}, isDenied: ${ee}`);let je;Object(On.i)()?je=Ce===ns.b.Microphone?ln.a.NoSystemAudio:ln.a.NoSystemVideo:je=Ce===ns.b.Microphone?ln.a.NoBrowserAudioPermission:ln.a.NoBrowserVideoPermission,ee?this.dispatch(Object(ln.b)({alert:je})):this.dispatch(Object(ln.c)(je))}onSelfVideoTileUpdate(ee){if(!ee.tileId)return;const Ce=Object(Qt.V)(this.getState());if(!ee.isContent&&!Ce.isCameraEnabled)return;if(!Object(Qt.u)(this.getState()))this.dispatch(Object(aa.c)({type:ga.a.SCREENSHARE_START,memberId:Object(g.a)(this.getState()),timestampMs:Date.now()})),this.dispatch(Object(Qt.ob)({id:"self",tileId:ee.tileId,isScreenshareEnabled:!!ee.isContent}));else if(ee.isContent){var It,ot;this.dispatch(Object(aa.c)({type:ga.a.SCREENSHARE_START,memberId:Object(g.a)(this.getState()),timestampMs:Date.now()}));const Ft=Object(Qt.q)(this.getState());((It=Ce.tileIds)===null||It===void 0||(ot=It.screenshare)===null||ot===void 0?void 0:ot.tileId)!==ee.tileId&&Ft!==Xn.a.Screenshare&&this.dispatch(Object(hr.a)({peerId:"self",contentViewType:Xn.a.None,contentViewConfig:{}})),this.dispatch(Object(Qt.ob)({id:"self",tileId:ee.tileId,isScreenshareEnabled:!!ee.isContent}))}else this.dispatch(Object(Qt.ob)({id:"self",tileId:ee.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(ee,Ce){if(!Ce.tileId)return;const je=Ce.boundExternalUserId&&Object(sr.a)(Ce.boundExternalUserId);Ce.isContent&&je&&(this.callLogger.info(`Peer screenshare started: userId=${je}`),this.dispatch(Object(aa.c)({type:ga.a.SCREENSHARE_START,memberId:je,timestampMs:Date.now()}))),this.dispatch(Object(Qt.qb)({id:ee,tileId:Ce.tileId,isContent:Ce.isContent,isPaused:Ce.paused}))}onVideoTileRemoved(ee){var Ce,je;const It=this.store.getState(),ot=Object(Qt.F)(It,ee);ot&&(this.callLogger.info(`Peer screenshare stopped: userId=${ot}`),this.dispatch(Object(aa.c)({type:ga.a.SCREENSHARE_STOP,memberId:ot,timestampMs:Date.now()}))),this.dispatch(Object(Qt.pb)({tileId:ee})),sa();const Ft=Object(Qt.V)(It);((Ce=Ft.tileIds)===null||Ce===void 0||(je=Ce.screenshare)===null||je===void 0?void 0:je.tileId)===ee&&Ft.contentViewType===Xn.a.Screenshare&&this.dispatch(Object(hr.a)({peerId:"self",contentViewType:Xn.a.None,contentViewConfig:{}}))}onVideoTileWillPause(ee){this.dispatch(Object(Qt.rb)({tileId:ee}))}onVideoTileWillUnpause(ee){this.dispatch(Object(Qt.sb)({tileId:ee}))}onDeviceAccessApproved(ee){switch(ee){case Jn.i.MICROPHONE:{Object(On.i)()?(this.dispatch(Object(ln.c)(ln.a.NoSystemAudio)),this.dispatch(Object(rs.k)())):(this.dispatch(Object(ln.c)(ln.a.NoBrowserAudioPermission)),this.dispatch(Object(rs.j)()));break}case Jn.i.CAMERA:{Object(On.i)()?(this.dispatch(Object(ln.c)(ln.a.NoSystemVideo)),this.dispatch(Object(rs.g)())):(this.dispatch(Object(ln.c)(ln.a.NoBrowserVideoPermission)),this.dispatch(Object(rs.f)()));break}default:}}onCheckSystemMediaAccess(ee){switch(ee){case Jn.i.MICROPHONE:{this.dispatch(Object(rs.i)()),this.dispatch(Object(ln.b)({alert:ln.a.NoSystemAudio}));break}case Jn.i.CAMERA:{this.dispatch(Object(rs.e)()),this.dispatch(Object(ln.b)({alert:ln.a.NoSystemVideo}));break}case Jn.i.SCREEN:{this.dispatch(Object(rs.n)()),this.dispatch(Object(ln.b)({alert:ln.a.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(ee){switch(this.callLogger.error(`Self ${ee} device access denied`),ee){case Jn.i.MICROPHONE:{this.dispatch(Object(rs.h)()),this.dispatch(Object(ln.b)({alert:ln.a.NoBrowserAudioPermission}));break}case Jn.i.CAMERA:{this.dispatch(Object(rs.d)()),this.dispatch(Object(ln.b)({alert:ln.a.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(ee){switch(ee){case Jn.i.MICROPHONE:{this.dispatch(Object(ln.b)({alert:ln.a.NoUserAudioStream}));break}case Jn.i.CAMERA:{const Ce=Object(le.f)(this.getState());if(Object(a.dispatchForClientStore)(Object(ke.X)({setVideoEnabled:!1})),!Object(On.i)()&&Ce)break;this.dispatch(Object(ln.b)({alert:ln.a.NoUserVideoStream}));break}default:}}onClearNoMediaInput(ee){switch(ee){case Jn.i.MICROPHONE:{this.dispatch(Object(ln.c)(ln.a.NoUserAudioStream));break}case Jn.i.CAMERA:{this.dispatch(Object(ln.c)(ln.a.NoUserVideoStream));break}default:}}onSetNoAudioOutput(ee){switch(ee){case Jn.k.AUDIO_ELEMENT_ERROR:{this.dispatch(Object(ln.b)({alert:ln.a.NoAudioOutputAudioElementError}));break}case Jn.k.AUDIO_LEVEL_ERROR:{this.dispatch(Object(ln.b)({alert:ln.a.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(ee){switch(ee){case Jn.k.AUDIO_ELEMENT_ERROR:{this.dispatch(Object(ln.c)(ln.a.NoAudioOutputAudioElementError));break}case Jn.k.AUDIO_LEVEL_ERROR:{this.dispatch(Object(ln.c)(ln.a.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch(Object(Qt.ob)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch(Object(Qt.ob)({id:"self",isConnected:!1})),la.a.publish({type:Bn.c.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(ee,Ce){this.dispatch(Object(Qt.ob)({id:"self",...ee===Bn.a.UPLINK?{uplinkQuality:Ce}:{downlinkQuality:Ce}})),Ce===Bn.b.BAD||Ce===Bn.b.WORST?(this.callLogger.warn(`Self ${ee} connection quality changed to: ${Ce}`),this.dispatch(Object(ln.b)({alert:ln.a.SlowNetwork}))):(this.callLogger.info(`Self ${ee} connection quality changed to: ${Ce}`),this.dispatch(Object(ln.c)(ln.a.SlowNetwork)))}onPeerConnected(ee){this.dispatch(Object(Qt.lb)({id:ee,isConnected:!0}))}onPeerDisconnected(ee){this.callLogger.info(`peer disconnected from chime media server ${ee}`),this.dispatch(Object(Qt.lb)({id:ee,isConnected:!1})),la.a.publish({type:Bn.c.NetworkDisconnect,update:{peerId:ee}})}onPeerConnectionQualityChanged(ee,Ce,je){}onSelfMediaStreamChanged(ee){}onNewPeerMediaStream(ee,Ce){}onScreenThumbnails(ee){}onUpdatedSelfAudioLevel(ee){ro.a.publish("self",ee/Fa.a),hi.a.publish(ee/Fa.a);const Ce=this.store.getState();Object(zn.H)(Ce)&&ro.a.publishAll("self",ee/Fa.a)}onUpdatedPeerAudioLevels(ee){const Ce=this.store.getState();Object.entries(ee).forEach(It=>{let[ot,Ft]=It;ro.a.publish(ot,Ft/Fa.a)}),Object(zn.H)(Ce)&&Object.entries(ee).forEach(It=>{let[ot,Ft]=It;ro.a.publishAll(ot,Ft/Fa.a)})}onPeerCameraActive(ee,Ce){const je=ee==="self";this.callLogger.info(`${je?"Self":`Peer (${ee})`} camera turned ${Ce?"on":"off"}`),this.dispatch(Object(Qt.ob)({id:ee,isCameraEnabled:Ce}))}onPeerScreenShareActive(ee,Ce){const je=ee==="self";this.callLogger.info(`${je?"Self":`Peer (${ee})`} screenshare ${Ce?"started":"stopped"}`)}onPeerDrawMessage(ee,Ce){Es.a.publish({id:ee,...Ce})}onPeerDrawEnabled(ee,Ce){this.dispatch(Object(Qt.ob)({id:ee,isDrawEnabled:Ce}))}onMediaStats(ee,Ce){this.dispatch(or({stats:ee,callId:Ce}))}onAppMetrics(ee){let{appMetrics:Ce,clientMetricReport:je,screenshareRtcStats:It}=ee;const ot=Wn({state:this.getState(),appMetrics:Ce});la.a.publish({type:Bn.c.AppMetrics,update:{huddleStateSnapshot:ot,clientMetricReport:je,screenshareRtcStats:It}})}onDevicesUpdated(ee){this.dispatch(Object(rs.a)(ee))}onOutputDeviceChanged(ee){this.callLogger.info(`Self audio output device changed: device: ${ee.id}`),this.dispatch(Object(rs.o)(ee))}onDeviceTypeBlocked(ee){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(mr()),this.dispatch(Object(tr.c)({focusKey:nr.c.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch(Object(tr.c)({focusKey:nr.c.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){la.a.publish({type:Bn.c.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){la.a.publish({type:Bn.c.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){la.a.publish({type:Bn.c.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){la.a.publish({type:Bn.c.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(ht.v)}onStart(){this.recordTiming(ht.t)}onAudioVideoDidStart(){this.recordTiming(ht.u),Object(a.dispatchForClientStore)(Object(ke.G)(Date.now()))}onAudioVideoDidStop(){const ee=Object(a.getClientStoreInstance)(),Ce=Object(Fn.q)(ee==null?void 0:ee.getState()),je=Date.now(),It=je-Ce;Object(a.dispatchForClientStore)(Object(ke.F)(je)),Object(a.dispatchForClientStore)(Object(ke.E)(It))}onInit(){this.recordTiming(ht.x)}onVoiceFocusLoaded(){const ee=Object(at.d)({state:this.store.getState()}),Ce=ee.measure(ht.C,ht.B);ee.count(ht.B,Ce),this.recordTiming(ht.A)}onVoiceFocusStartLoading(){Object(at.d)({state:this.store.getState()}).mark(ht.C)}recordTiming(ee){const Ce=Object(at.d)({state:this.store.getState()}),je=Ce.measure(ht.o,ee);return Ce.count(ee,je),je}onMeetingEvents(ee,Ce,je,It,ot,Ft,vt){this.dispatch(Ti({events:ot,callId:It,meetingId:ee,mediaRegion:Ce,attendeeId:je,isUnloading:Ft,isEnding:vt}))}onMaybeVoiceFocusInitialized(ee){const je=Object(at.d)({state:this.store.getState()}).measure(ht.d,ht.f);Object(a.dispatchForClientStore)(Object(ke.ab)({metrics:{voiceFocusInitializedTime:ee,credentialsToVoiceFocusInitializedTime:je}}))}onScreenShareError(ee){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${ee}`),ee){case Jn.m.NOT_FOUND_ERROR:{this.dispatch(Object(ln.b)({alert:ln.a.SSNotFoundError}));break}case Jn.m.NOT_READABLE_ERROR:{this.dispatch(Object(ln.b)({alert:ln.a.SSNotReadableError}));break}case Jn.m.ERROR:{this.dispatch(Object(ln.b)({alert:ln.a.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch(Object(ln.b)({alert:ln.a.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(ee){this.dispatch(Ci(ee))}setSelfAttendeeId(ee){this.selfAttendeeId=ee}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(ht.w),Object(a.dispatchForClientStore)(Object(ke.ab)({metrics:{firstPresenceTime:this.firstPresenceTimeMs}})))}onAudioInputTrackMuted(){this.dispatch(Object(ln.b)({alert:ln.a.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch(Object(ln.c)(ln.a.AudioInputTrackMuted))}onJukeboxRequest(ee){if(!Object(zn.H)(this.getState()))return;const je=this.isDj(),ot=Object(Fe.S)(this.getState())[ee];!je||!ot||(Object(a.dispatchForClientStore)(Object(ke.M)({song:ot})),Object(a.dispatchForClientStore)(Object(ke.K)({song:ot})),Object(a.dispatchForClientStore)(Object(ke.p)(ot)))}onJukeboxStopRequest(){!Object(zn.H)(this.getState())||!this.isDj()||(Object(a.dispatchForClientStore)(Object(ke.Q)()),Object(a.dispatchForClientStore)(Object(ke.K)({song:void 0})))}isDj(){var ee;const Ce=Object(g.a)(this.getState()),je=Object(a.getClientStoreInstance)(),It=(ee=Object(Fn.p)(je==null?void 0:je.getState()))===null||ee===void 0?void 0:ee.callId,ot=Object(Ss.g)(this.getState(),{callId:It}),Ft=Object(Ss.g)(this.getState(),{callId:It,userId:Ce});return!ot||!!Ft}maybeRemoveUserAsPending(ee){const Ce=Object(a.getClientStoreInstance)(),je=Object(Fn.a)(Ce==null?void 0:Ce.getState());je&&this.dispatch(Object(fi.B)({callId:je,userId:ee}))}onContentShareDetailsUpdate(ee,Ce,je){this.dispatch(Object(Qt.ob)({id:ee,isDrawEnabled:Ce,contentShareSource:je}))}constructor(ee){this.firstPresenceTimeMs=0,this.callLogger=Object(Js.a)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=ee.dispatch,this.getState=ee.getState,this.store=ee}},"HuddleActionDispatcher");var fr=e("uslK"),vr=e("cthg"),Er=e("g6/Y");let Kt,jo,da;const yi="HUDDLE-SDK",_i="HUDDLE-CLIENT-MIDDLEWARE",Di=Jn.o.FastSwitching,Ys=Object(P.b)({label:_i}),Or=m(Ie=>{Ie.id==="self"&&(Kt==null||Kt.sendDrawMessage(Ie))},"onPeerDrawPublish");function Po(Ie,ee,Ce,je){const It=Object(Fn.a)(Ie),ot=Object(Fn.e)(Ie),Ft=ot?Object(a.getStoreInstanceByTeamId)(ot):void 0,vt=Ft?Ft.getState():void 0,wt=vt?Object(g.a)(vt):void 0;It&&wt&&(Ft==null||Ft.dispatch(ee({user:wt,channel:It,fieldValue:Ce,experimentHuddlesMultiDeviceGroupOn:je})))}m(Po,"maybeDispatchAwarenessUpdate");function xa(Ie,ee,Ce){const je=Object(Fn.a)(Ie),It=Object(Fn.e)(Ie),ot=It?Object(a.getStoreInstanceByTeamId)(It):void 0,Ft=ot?ot.getState():void 0,vt=Ft?Object(g.a)(Ft):void 0;je&&vt&&(ot==null||ot.dispatch(ee({user:vt,channel:je,experimentHuddlesMultiDeviceGroupOn:Ce})))}m(xa,"maybeDispatchAwarenessRemove");const gr=Object(i.b)("dispatches actions to huddles SDK",(Ie,ee,Ce)=>{const je=Ie.getState(),It=m(()=>{const $t=Object(Fn.e)(je),Tn=Object(a.getStoreInstanceByTeamId)($t);if(!Tn)return{};const yn=Tn==null?void 0:Tn.getState();if(!yn)return{};const Yn=Object(Qt.V)(yn)||{};return{huddlesVideoActive:Object(Qt.u)(yn),self:Yn}},"getIsHuddlesVideoActive");switch(Ce.type){case ke.U.getType():{var ot;const $t=Ce.payload;jo=$t==null||(ot=$t.audioOutputRef)===null||ot===void 0?void 0:ot.current,Is.a.getInstance().init();break}case ke.P.getType():{const{huddlesVideoActive:$t,self:Tn}=It();Kt&&Kt.hasSession()&&($t?Kt.selfVideoEnabled(!0,!!(Tn!=null&&Tn.isScreenshareEnabled)):Kt.selfVideoEnabled(!0,!1));break}case ke.T.getType():{const{huddlesVideoActive:$t,self:Tn}=It();Kt&&Kt.hasSession()&&($t?Kt.selfVideoEnabled(!1,!!(Tn!=null&&Tn.isScreenshareEnabled)):Kt.selfVideoEnabled(!1,!1));break}case ke.e.getType():{Ys.info("BOOT","user agent:",navigator.userAgent);const $t=Ce.payload;let Tn=$t.isStartMuted;if(!jo){Ys.error("Missing audio output element");return}const{server:yn,roomId:Yn}=$t.callResult,Qn=yn.attendee.AttendeeId,wn=$t.waitForHuddleStart,as=$t.isPrejoin;Object(a.dispatchForClientStore)(Object(ke.x)(as));const _s=as?Object(Fn.p)(je):Object(Fn.c)(je),{teamId:ma}=_s||{},Ks=Object(d.getFocusedWorkspace)(je),Gn=Object(a.getStoreInstanceByTeamId)(ma||Ks);let ha;Gn&&(ha=Object(zn.H)(Gn.getState()),Ys.info("client-huddles-middleware: Dispatching resetPeersStore"),Gn.dispatch(Object(Qt.gb)({huddlesVideoActive:!0})),Tn=Tn||Object(Ds.t)(Gn.getState(),"huddles_mute_by_default")),Gn&&Tn&&(Ys.info("Start huddle as muted as specified in user prefs"),Gn.dispatch(Object(Qt.ob)({id:"self",isMicrophoneEnabled:!1}))),da&&da.stop(!0),Object(Ps.b)(Ks),da=new Ws.a,da.start(Yn);const pa=Object(qt.a)();pa.then(Hs=>{Hs&&(Ys.info("Log reporter stopped"),da==null||da.stop(!0,!1),da=void 0)});const oa=new Mi(Gn),{ttiTrace:Qs}=Object(Cs.a)().getAllTraceHandlers();Kt=new $n.a(oa,jo,yi,Di),Object(os.c)({name:os.a.HuddlesSdk,ref:Kt});const ts={serverConfig:Object(qt.a)(),userGrantedPermissionToJoin:Xt.a.resolve(!0),useChimeSdkExp:Object(qt.a)(),useVoiceFocus:Object(qt.a)(),shouldPreventVoiceFocusAutoDisable:Object(qt.a)(),audioContextLatencyHint:Object(qt.a)(),useSimulcast:Xt.a.resolve(!1),usePriorityDownlinkPolicy:Object(qt.a)(),singleAppShareEnabled:Xt.a.resolve(!0),useGetMediaAccessCheckForWindows:Xt.a.resolve(!1),isPrejoin:Xt.a.resolve(as),backgroundVideoFilteringSetting:Object(qt.a)(),huddlesVideoEnabled:Xt.a.resolve(!0),huddlesJukeboxEnabled:Xt.a.resolve(ha),screenshareAutoKeyframesDisabled:Object(qt.a)(),enableExperimentalConnectionHealthPolicyConfig:Object(qt.a)(),backgroundBlur2Enabled:Object(qt.a)(),voiceFocusMaxModelsEnabled:Object(qt.a)(),micMeterPolicy:Object(qt.a)(),useUpdatedAudioLevelMonitor:Object(qt.a)(),applyPrejoinNoAudioFix:Object(qt.a)(),applyAudioInitFix:Object(qt.a)(),disableAudioRedundancy:Object(qt.a)(),useDeviceManagerV2:Object(qt.a)()};ts.serverConfig.resolve({...yn,transportProtocols:Os(Gn.getState())});const qs=Object($s.a)(yn.attendee.ExternalUserId);ts.useChimeSdkExp.resolve(Gn?Object(Ts.b)(Gn.getState()):!1),ts.usePriorityDownlinkPolicy.resolve(!Object(On.m)()&&Gn?Object(zn.N)(Gn.getState()):!1),ts.useVoiceFocus.resolve(Gn?Object(Ts.c)(Gn.getState()):!1),ts.shouldPreventVoiceFocusAutoDisable.resolve(Gn?Object(zn.ab)(Gn.getState()):!1),ts.audioContextLatencyHint.resolve(Gn?Object(zn.c)(Gn.getState()):void 0),ts.backgroundVideoFilteringSetting.resolve(Gn?ns.a.Both:ns.a.NONE),ts.screenshareAutoKeyframesDisabled.resolve(Gn?Object(zn.R)(Gn.getState()):!1),ts.enableExperimentalConnectionHealthPolicyConfig.resolve(Gn?Object(zn.z)(Gn.getState()):!1),ts.voiceFocusMaxModelsEnabled.resolve(Gn?Object(zn.V)(Gn.getState()):!1),ts.micMeterPolicy.resolve(Gn?Object(zn.b)(Gn.getState()):void 0),ts.useUpdatedAudioLevelMonitor.resolve(Gn?Object(zn.U)(Gn.getState()):!1),ts.applyPrejoinNoAudioFix.resolve(Gn?Object(zn.M)(Gn.getState()):!1),ts.applyAudioInitFix.resolve(Gn?Object(zn.k)(Gn.getState()):!1),ts.disableAudioRedundancy.resolve(Gn?Object(zn.l)(Gn.getState()):!1),ts.useDeviceManagerV2.resolve(Gn?Object(zn.x)(Gn.getState()):!1);const js=[],fa=ma||Ks;if(qs&&fa){const Hs=new Us.a({teamId:fa,peerId:Qn,topicId:qs,isHuddlesAwarenessTimestampEnabled:Object(zn.v)(Gn.getState())});js.push(Hs);const Ca=new Us.b({teamId:fa});js.push(Ca),Us.d.watch(fa,qs,Hs),Object(os.c)({name:os.a.ChimeChannelListener,ref:Ca}),Object(os.c)({name:os.a.ChimeChannelBroadcaster,ref:Hs})}Kt.initialize(ts,[Jn.i.MICROPHONE],!!Tn,wn,pa,js).then(()=>{const Hs=Kt==null?void 0:Kt.getMeetingMediaRegion();Qs==null||Qs.setMediaRegionTag(Hs),la.a.publish({type:Bn.c.SelectedMediaRegion,update:{mediaRegionSelected:Hs}}),Kt&&!as&&(Kt==null||Kt.maybeBindAudioOutputElement(),Kt==null||Kt.setIncludeSelfAndNoneActiveSpeaker(!0,!0))}),oa.setSelfAttendeeId(Qn),Es.a.subscribe(Or),Ys.info("User started huddle");break}case ke.f.getType():{const $t=Ce.payload;if(Kt){const{waitForHuddleEnd:Tn}=$t;Kt.shutdown(()=>{Tn.resolve()});const yn=Object(d.getFocusedWorkspace)(je),Yn=Object(a.getStoreInstanceByTeamId)(yn);Yn==null||Yn.dispatch(Object(vs.i)(vs.a.SpeakingWhenMuted));const Qn=Object(zn.G)(Yn==null?void 0:Yn.getState()),wn=Object(Fn.a)(je);wn&&(xa(je,is.e,Qn),xa(je,is.d,Qn),Us.d.unwatch(wn)),Es.a.unsubscribe(Or),Ys.info("User left huddle")}Kt=void 0,Us.d.unwatchAll(),Object(os.b)();break}case ke.g.getType():{const $t=Ce.payload;if(Kt&&Kt.hasSession()&&(Kt.selfMicrophoneEnabled($t),$t)){const Tn=Object(d.getFocusedWorkspace)(je),yn=Object(a.getStoreInstanceByTeamId)(Tn);yn==null||yn.dispatch(Object(vs.i)(vs.a.SpeakingWhenMuted))}break}case ke.r.getType():{const $t=Ce.payload;Kt&&Kt.hasSession()&&Kt.sendReacji($t.emoji,$t.reactionType);break}case ke.s.getType():{const $t=Ce.payload;if(Kt&&Kt.hasSession()){const Tn=Object(Fn.e)(je),yn=Object(a.getStoreInstanceByTeamId)(Tn);if(!yn)return;const Yn=Object(zn.G)(yn.getState()),Qn=Object(Fn.a)(je),wn=Object(g.a)(yn.getState());if(Qn){var Ft;if(((Ft=Object(Ss.d)(yn.getState(),Qn,wn,Yn?"self":void 0))===null||Ft===void 0?void 0:Ft.field_value)===$t)xa(je,is.e,Yn),Object(Fn.j)(je)&&$t!=="speaker"&&(yn==null||yn.dispatch(Object(Er.a)({emoji:"speaker",reactionType:Xn.d.Sticker})));else{Po(je,is.k,$t,Yn);const{huddleEventsTrace:_s}=Object(Cs.a)().getAllTraceHandlers();_s==null||_s.update({name:Ls.a.REACTION,type:Ls.b.ONCE,tags:{reactionType:Xn.d.Sticker}})}}}break}case ke.q.getType():{const $t=Ce.payload;Kt&&Kt.hasSession()&&Kt.sendMuteRequest($t);break}case ke.t.getType():{const $t=Ce.payload;Kt&&Kt.hasSession()&&Kt.setAGC($t);break}case ke.H.getType():{const $t=Ce.payload;Kt&&Kt.hasSession()&&Kt.setNewPreferredDevice($t==null?void 0:$t.id,$t==null?void 0:$t.type);break}case ke.I.getType():{const $t=Ce.payload;Kt&&Kt.hasSession()&&Kt.setNoiseSuppression($t);break}case ke.L.getType():{const $t=Ce.payload;Kt&&Kt.hasSession()&&Kt.setVideoBackgroundEffect($t);break}case ke.N.getType():{const{huddlesVideoActive:$t,self:Tn}=It(),yn=Ce.payload,Yn=!!(Tn!=null&&Tn.isCameraEnabled);if(Kt&&Kt.hasSession()){var vt,wt;const Qn=Object(Fn.e)(je),wn=Object(a.getStoreInstanceByTeamId)(Qn);$t?Kt.selfVideoEnabled(Yn,!0,yn==null?void 0:yn.mediaSourceId,yn):Kt.selfVideoEnabled(!1,!0,yn==null?void 0:yn.mediaSourceId,yn);let as=(yn==null||(vt=yn.mediaSourceId)===null||vt===void 0?void 0:vt.startsWith("screen:"))||!1;!(yn==null||(wt=yn.mediaSourceId)===null||wt===void 0)&&wt.startsWith("window:")&&Object(fr.d)()&&(as=!0),Kt.selfDrawEnabled(Object(Fs.a)()&&as);const _s=Object(fr.b)((yn==null?void 0:yn.mediaSourceId)||"");Kt.sendContentShareDetails(_s),wn==null||wn.dispatch(Object(Qt.ob)({id:"self",isDrawEnabled:as,isCameraEnabled:Yn,contentShareSource:_s}))}break}case ke.R.getType():{const{huddlesVideoActive:$t,self:Tn}=It(),yn=$t?Tn.isCameraEnabled:!1;if(Kt&&Kt.hasSession()){const Yn=Object(Fn.e)(je),Qn=Object(a.getStoreInstanceByTeamId)(Yn);Kt.selfVideoEnabled(!!yn,!1),Qn==null||Qn.dispatch(Object(Qt.ob)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case rs.b.getType():return Kt&&Kt.hasSession()?Kt.getScreenThumbnails():Xt.a.resolve(null);case ke.V.getType():{const $t=Ce.payload;if(Kt&&Kt.hasSession()){var In;const Tn=Object(Fn.e)(je),yn=Object(a.getStoreInstanceByTeamId)(Tn);if(!yn)return;const Yn=Object(zn.G)(yn.getState()),Qn=Object(Fn.a)(je),wn=Object(g.a)(yn.getState());if(!Qn)return;const as=(In=Object(Ss.d)(yn.getState(),Qn,wn,Yn?"self":void 0))===null||In===void 0?void 0:In.field_value;return($t||as==="speaker")&&Object(a.dispatchForClientStore)(Object(Er.a)({emoji:"speaker",reactionType:Xn.d.Sticker})),Kt.toggleAllIncomingVideo($t)}return Xt.a.resolve(null)}case ke.p.getType():{const $t=Ce.payload;if(Kt&&Kt.hasSession()){const Tn=Object(Fn.e)(je);if(!Object(a.getStoreInstanceByTeamId)(Tn))return;Object(Fn.a)(je)&&Po(je,is.h,$t.key)}break}case ke.m.getType():{const $t=Ce.payload;Kt&&Kt.hasSession()&&Kt.sendJukeboxRequest($t.key);break}case ke.n.getType():{Kt&&Kt.hasSession()&&Kt.sendJukeboxStopRequest();break}case ke.M.getType():{const $t=Ce.payload;if(Kt&&Kt.hasSession()){const Tn=Object(Fn.e)(je),yn=Object(a.getStoreInstanceByTeamId)(Tn);if(!Object(zn.H)(yn.getState()))return;Kt.startContentShareJukebox({song:$t.song})}break}case ke.Q.getType():{if(Kt&&Kt.hasSession()){const $t=Object(Fn.e)(je),Tn=Object(a.getStoreInstanceByTeamId)($t);if(!Tn||!Object(zn.H)(Tn.getState()))return;Kt.selfStopJukebox(),xa(je,is.b)}break}case rs.c.getType():{if(Kt&&Kt.hasSession()){const $t=Ce.payload.mediaResourceType;return Kt.maybeCheckSystemMediaAccess($t)}return Xt.a.resolve(null)}case cs.a.getType():{if(Kt&&Kt.hasSession()){const{payload:{tileId:$t,videoRef:Tn,shouldAttachStream:yn}}=Ce;Kt.bindVideo($t,Tn.current,yn)}break}case cs.c.getType():{if(Kt&&Kt.hasSession()){const{payload:{tileId:$t,videoRef:Tn,shouldDetachStream:yn}}=Ce;Kt.unbindVideo($t,Tn.current,yn)}break}case cs.b.getType():{if(Kt&&Kt.hasSession()){const{payload:{tileId:$t}}=Ce;Kt.pauseVideo($t)}break}case cs.d.getType():{if(Kt&&Kt.hasSession()){const{payload:{tileId:$t}}=Ce;Kt.unpauseVideo($t)}break}case ke.X.getType():{const $t=Ce.payload;if(Kt&&Kt.hasSession()){const Tn=Object(Fn.e)(je),yn=Object(a.getStoreInstanceByTeamId)(Tn),Yn=yn==null?void 0:yn.getState();if(!yn){Ys.info("client-huddles-middleware","no team store found when user toggles video");return}if(!Yn){Ys.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:Qn}=It(),wn=Object(Qt.V)(Yn);let as;($t==null?void 0:$t.setVideoEnabled)!==void 0?as=$t.setVideoEnabled:as=!(wn!=null&&wn.isCameraEnabled),as?(Ys.info("client-huddles-middleware","user toggling ON video"),Kt.setCameraQuality(...Object(Ms.e)()),Qn?Kt.maybeEnableSelfCamera({isScreenshareEnabled:wn.isScreenshareEnabled}):Kt.maybeEnableSelfCamera()):(Ys.info("client-huddles-middleware","user toggling OFF video"),Qn?Kt.selfVideoEnabled(!1,!!(wn!=null&&wn.isScreenshareEnabled)):Kt.selfVideoEnabled(!1,!1),yn.dispatch(Object(Qt.ob)({id:"self",isCameraEnabled:!1})))}break}case cs.e.getType():{if(Kt&&Kt.hasSession()){const{payload:{tileId:$t}}=Ce;return(Kt==null?void 0:Kt.videoTileHasStream($t))||!1}return Xt.a.resolve(!1)}case Qt.bb.getType():{const{huddlesVideoActive:$t,self:Tn}=It();Kt&&Ce.payload.isContent&&($t?Kt.selfVideoEnabled(!!(Tn!=null&&Tn.isCameraEnabled),!1):Kt.selfVideoEnabled(!1,!1));break}case ke.h.getType():{Kt!=null&&Kt.hasSession()&&(Kt==null||Kt.initVideoPermission());break}case ke.O.getType():{if(Kt!=null&&Kt.hasSession()){const{videoElement:$t,deviceId:Tn}=Ce.payload;Kt.stopVideoPreviewForVideoInput($t),Kt.setCameraQuality(...Object(Ms.e)()),Kt.requestPreviewStreamForDeviceId(Tn,ns.b.Camera,$t)}break}case ke.S.getType():{if(Kt!=null&&Kt.hasSession()){const $t=Ce.payload;Kt.stopVideoPreviewForVideoInput($t)}break}case ke.j.getType():{const{self:$t}=It();if(Kt&&Kt.hasSession()){const Tn=($t==null?void 0:$t.contentShareSource)||vr.a.Unknown;if(Tn!==vr.a.Unknown){const yn=($t==null?void 0:$t.isDrawEnabled)||!1;Kt.selfDrawEnabled(Object(Fs.a)()&&yn),Kt.sendContentShareDetails(Tn);const Yn=Object(a.getStoreInstanceByTeamId)(Ce.payload.teamId);Yn==null||Yn.dispatch(Object(Qt.ob)({id:"self",isDrawEnabled:yn}))}}break}case ke.k.getType():{const $t=Ce.payload.isHostDrawEnabled,Tn=Object(a.getStoreInstanceByTeamId)(Ce.payload.teamId);Tn==null||Tn.dispatch(Object(Qt.ob)({id:"self",isHostDrawEnabled:$t}));break}case ke.l.getType():{Kt==null||Kt.handleClientOffline();break}case ke.Y.getType():{const $t=Ce.payload,{isStartMuted:Tn}=$t,{teamId:yn}=Object(Fn.c)(je)||{},Yn=Object(d.getFocusedWorkspace)(je),Qn=Object(a.getStoreInstanceByTeamId)(yn||Yn),{ttiTrace:wn}=Object(Cs.a)().getAllTraceHandlers();if(wn==null||wn.setMediaRegionTag(Kt==null?void 0:Kt.getMeetingMediaRegion()),Qn&&Tn&&Kt)return Kt.completePrejoin($t).then(()=>{Qn.dispatch(Object(Qt.ob)({id:"self",isMicrophoneEnabled:!1}))});if(Kt)return Kt.completePrejoin({});break}case ke.w.getType():{const $t=Ce.payload.contentViewType,Tn=Ce.payload.contentViewConfig;if(Kt&&Kt.hasSession()&&Object(Fn.a)(je)){var Kn;const Yn=Object(Fn.e)(je),Qn=Object(a.getStoreInstanceByTeamId)(Yn);if(!Qn)return;const wn=Object(zn.G)(Qn.getState());if($t!==Xn.a.Screenshare)xa(je,is.d,wn);else if(!(Tn==null||(Kn=Tn.item)===null||Kn===void 0)&&Kn.id){let as;if(Tn.item.id==="self")as=Object(g.a)(Qn.getState());else{var es;as=(es=Object(Qt.P)(Qn.getState(),Tn.item.id))===null||es===void 0?void 0:es.userId}Po(je,is.j,as,wn)}}break}default:return ee(Ce)}return null});gr.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};var Ai=gr;Object.defineProperty({huddlesSdk:Kt},"huddlesSdk",{get:()=>Kt,set:Ie=>{Kt=Ie}});var ji=e("Pyy/"),pr=e("mLC8"),br=e("VYSP"),Ir=e("ZKjC"),io=e("G5NC");const Tr=Object(Ir.b)(Ie=>{const ee={};let Ce;if(Object(io.a)())Ce=Object(d.getAllWorkspaces)(Ie)||[];else{const je=Object(_a.g)(Ie);Ce=je?[je]:[]}return Ce.forEach(je=>{var It;const ot=(It=Object(a.getStoreInstanceByTeamId)(je))===null||It===void 0?void 0:It.getState();if(!ot)return;const Ft=Object(ls.a)(ot,"auto_traces_override_");Object.entries(Ft).forEach(vt=>{let[wt,In]=vt;const Kn=/^auto_traces_override_(.+)/.exec(wt);if(Kn){const[,es]=Kn,$t=In==null?void 0:In.group;if(!$t)return;ee[es]||(ee[es]=[]),ee[es].push($t)}})}),ee});Tr.meta={name:"createSelector",key:"createSelectorgetAutoTraceOverrides",description:Ie=>{const ee={};let Ce;if(Object(io.a)())Ce=Object(d.getAllWorkspaces)(Ie)||[];else{const je=Object(_a.g)(Ie);Ce=je?[je]:[]}return Ce.forEach(je=>{var It;const ot=(It=Object(a.getStoreInstanceByTeamId)(je))===null||It===void 0?void 0:It.getState();if(!ot)return;const Ft=Object(ls.a)(ot,"auto_traces_override_");Object.entries(Ft).forEach(vt=>{let[wt,In]=vt;const Kn=/^auto_traces_override_(.+)/.exec(wt);if(Kn){const[,es]=Kn,$t=In==null?void 0:In.group;if(!$t)return;ee[es]||(ee[es]=[]),ee[es].push($t)}})}),ee}};var Pi=Tr,gs=e("4d+W");const Cr=Object(kn.c)("setAutoTracerMetaTagProviderAndOverrides side effect handler",(Ie,ee,Ce)=>{if(!pr.d.isEnabled())return;const je=m(Ft=>Ft?Object(br.b)(Ft):{},"metatagProvider"),It=ee(),ot=Pi(It);pr.d.addMetaTagProviderAndOverrides({metatagProvider:je,overrides:ot})});Cr.meta={name:"createThunk",key:"createThunksetAutoTracerMetaTagProviderAndOverrides",description:"setAutoTracerMetaTagProviderAndOverrides side effect handler"};const Ri=Object(gs.a)([y.setDidBootAllWorkspaces],Cr);var Li=e("WCk1");const Sr=Object(Ir.b)(Ie=>Ie&&Ie.persistedApiCalls);Sr.meta={name:"createSelector",key:"createSelectorgetPersistedApiCalls",description:Ie=>Ie&&Ie.persistedApiCalls};var Ui=e("yTTx"),Ni=e("Ba7O");const Ro="OFFLINE",Lo=Object(Li.a)("Replay persisted API calls",function(Ie,ee){let Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Sr(ee());const je=ee();if(!Object(Ni.a)(je)||Object(lr.a)(Ce))return;const It=Object(P.a)({state:je});It.info(Ro,"replayPersistedApiCalls called after workspace booted");const ot=Object.keys(Ce).sort().map(Ft=>Ce[Ft]);Xt.a.each(ot,Ft=>Ie(Object(Ao.apiCall)(Ft)).catch(vt=>{It.error(Ro,`Error replaying ${Ft.method} (${Ft.persistKey})`,vt)}).finally(()=>{It.info(Ro,`Clearing persisted payload for ${Ft.method} (${Ft.persistKey})`),Ie(Object(Ui.a)(Ft.persistKey))}))});Lo.meta={name:"createFetcher",key:"createFetcherreplayPersistedApiCalls",description:"Replay persisted API calls"},Lo.propTypes=S.default.object;const Mr=Object(kn.c)("triggerReplayPersistedApiCalls",(Ie,ee,Ce)=>{const je=Ce.payload;Object(a.dispatchForTeamId)(je,Lo())});Mr.meta={name:"createThunk",key:"createThunktriggerReplayPersistedApiCalls",description:"triggerReplayPersistedApiCalls"};const Bi=Object(gs.a)([y.setWorkspaceBooted],Mr);var Uo=e("opHY"),Wi=e("Plsj");const Fi="DESKTOP-SIDE-EFFECT",yr=Object(kn.c)("logUpdateFromDesktop",(Ie,ee,Ce)=>{Object(P.b)().info(Fi,"Update from desktop for keys ",Object.keys(Ce.payload))});yr.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const xi=Object(gs.a)([Uo.n],yr),_r=Object(kn.c)("maybeHandleWindowFocusEvent",(Ie,ee,Ce)=>{Object(io.a)()&&Ce.payload&&Ce.payload.windows&&Ie(Object(Wi.a)({isFocused:document.hasFocus()}))});_r.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const Ki=Object(gs.a)([Uo.n],_r);var co=e("g8rC"),Hi=e("aNqa");const Dr=Object(kn.c)("maybeDisableDebugger side effect handler",()=>{if(Object(rn.g)()||Object(rn.b)()||Object(rn.f)())return;const Ie=Object(a.getStateForClientStore)();if(Object(Hi.a)(Ie,"feature_tinyspeck")&&!Object(co.a)(Ie,"disable_tinyspeck_slackdebug_enforcement","treatment")){Object(Ee.g)();return}Object(Ee.e)()||Object(Ee.f)()});Dr.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const Vi=Object(gs.a)([y.setDidBootAllWorkspaces],Dr);var Ka=e("ZbzB"),ki=e("GYPw");Object(At.a)(()=>{if(Object(Ka.a)())try{window.matchMedia(ki.e).onchange=Ie=>{const ee=Object(a.getClientStoreInstance)();ee&&ee.dispatch(Object(G.k)(Ie.matches))}}catch(Ie){Object(P.b)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",Ie)}})();const Ar=Object(kn.c)("maybeUpdateShouldUseHighContrastColors",(Ie,ee,Ce)=>{if(!Object(Ka.a)()&&Object(Ka.b)()){var je,It;const ot=Ce==null||(je=Ce.payload)===null||je===void 0||(It=je.settings)===null||It===void 0?void 0:It.shouldUseHighContrastColors;ot!==void 0&&Ie(Object(G.k)(ot))}});Ar.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const Gi=Object(gs.a)([Uo.n],Ar);function zi(){return!!(navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller)}m(zi,"isServiceWorkerActive");function Yi(Ie){if(zi()){var ee,Ce;navigator==null||(ee=navigator.serviceWorker)===null||ee===void 0||(Ce=ee.controller)===null||Ce===void 0||Ce.postMessage({type:"self_profiling",enabled:Ie})}}m(Yi,"notifyWorker");const jr=Object(kn.c)("setExperimentSelfProfiling side effect handler",(Ie,ee,Ce)=>{const je=ee(),It=Object(co.a)(je,"self_profiling","enabled"),ot=Object(co.a)(je,"self_profiling","disabled");if(!It&&!ot)return;Yi(!ot&&It)});jr.meta={name:"createThunk",key:"createThunksetExperimentSelfProfiling",description:"setExperimentSelfProfiling side effect handler"};const Qi=Object(gs.a)([y.setDidBootAllWorkspaces],jr);var $i=e("ycWl"),lo=e("fUOF"),Zn=e("ML5/"),wi=e("shU/");function Zi(Ie,ee){const Ce=Object.values(Object(a.getStoreInstanceMap)());for(const je of Ce){const It=je.getState(),ot=Object(ls.c)(It,Ie);ot&&ot.log_exposures&&ee===ot.group&&Object(wi.a)(Ie,ot,It)}}m(Zi,"logExposuresForSession");function Pr(Ie,ee){if(Object(Zn.c)(Ie),ee)try{ee()}catch(Ce){Object(P.b)().error(`caught error from cleanupCallback: ${Ce}`)}}m(Pr,"rollbackToggle");function Ha(Ie,ee){const Ce=Object(Zn.b)(Ie),je=Rr(Ie,Ce);if(Ce===null&&je!==Zn.a.NoGroup){Object(Zn.d)(Ie,je);return}je===Zn.a.NoGroup?Ce===Zn.a.Treatment||Ce===Zn.a.On?(Pr(Ie,ee),Object($i.a)({reason:`Rolling back ${Ie} toggle`,reasonKey:`rollback_${Ie}_toggle`})):(Ce===Zn.a.Control||Ce===Zn.a.Off)&&Pr(Ie,ee):je!==Ce?Object(Zn.d)(Ie,je):je===Ce&&Zi(Ie,Ce)}m(Ha,"setToggleGroupForNextSession");function Rr(Ie,ee){const Ce=Object(lo.a)(Ie,Zn.a.Treatment,!1),je=Object(lo.a)(Ie,Zn.a.Control,!1),It=Object(lo.a)(Ie,Zn.a.On,!1),ot=Object(lo.a)(Ie,Zn.a.Off,!1);return Ce&&je?ee===Zn.a.Treatment?Zn.a.Treatment:ee===Zn.a.Control?Zn.a.Control:Math.random()<.5?Zn.a.Treatment:Zn.a.Control:It&&ot?ee===Zn.a.On?Zn.a.On:ee===Zn.a.Off?Zn.a.Off:Math.random()<.5?Zn.a.On:Zn.a.Off:Ce?Zn.a.Treatment:je?Zn.a.Control:It?Zn.a.On:ot?Zn.a.Off:Zn.a.NoGroup}m(Rr,"getCurrentToggleGroup");const Zc={getCurrentToggleGroup:Rr};Object(Ee.a)("setToggleGroupForNextSession",Ie=>Ha(Ie));var Ji=e("hhWw"),Xi=e("PKSC"),Lr=e("SjsT"),qi=e("ATdw");const ec=m(()=>{try{Lr.a.deleteDatabase()}catch(Ie){Lr.a.getLogger().error(`caught error from deleteDatabase: ${Ie}`)}},"objectStoreCallback"),Ur=Object(kn.c)("setToggleGroupsForNextSession",(Ie,ee,Ce)=>{Ha(Ji.a,ec),Ha(Xi.a),Ha(qi.a),Ha(Ea.a)});Ur.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const tc=Object(gs.a)([y.setDidBootAllWorkspaces],Ur);var Nr=e("Aqb/"),nc=e("1Np4");const Br=Object(kn.c)("recordExperimentGroupsAsTrace side effect handler",(Ie,ee,Ce)=>{const je=Object(a.getStateForClientStore)(),It=Object(d.getBootedWorkspaces)(je)||[];try{const ot=Nr.a.ALWAYS;It.forEach(Ft=>{const vt=Object(a.getStateByTeamId)(Ft),wt=Object(br.a)(vt),In=JSON.stringify(wt),Kn=Object(nc.a)({state:vt}),es=Kn.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:In}},samplingOptions:{sampleType:ot}});es.close(),Kn.reportSpans([es])})}catch(ot){Object(P.b)().warn("BOOT-TEAM","could not report experiment groups in trace",ot)}});Br.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const sc=Object(gs.a)([y.setDidBootAllWorkspaces],Br);var Va=e("PWAB"),ac=e("53Bt"),oc=e("hHne"),rc=e("bYrq");const Wr=Object(kn.c)("restorePersistedTiles",(Ie,ee,Ce)=>{if(Object(rc.a)())return;const je=Ce.payload;if(!Object(Pe.m)(Object(a.getStateByTeamId)(je)))try{const It=Object(_.h)(je,Va.a.TILES)||!1;if(It){const ot=Object(_.h)(je,Va.a.LAYOUT)||[],Ft=Object(_.h)(je,Va.a.ACTIVE_TILE)||null,vt=Object(_.h)(je,Va.a.MINIMIZED_LAYOUT)||[],wt=Object(_.h)(je,Va.a.HISTORY)||{},In={tiles:It,layout:ot,activeTile:Ft,minimizedLayout:vt},Kn=wt;Object(a.dispatchForTeamId)(je,Object(ac.a)({tilesState:In})),Object(a.dispatchForTeamId)(je,Object(oc.a)({tileHistoryState:Kn})),je===Object(d.getFocusedWorkspace)(ee())&&window.history.replaceState({tileState:In,tileHistoryState:Kn},"")}}catch{}});Wr.meta={name:"createThunk",key:"createThunkrestorePersistedTiles",description:"restorePersistedTiles"};const ic=Object(gs.a)([y.setWorkspaceBooted],Wr);var cc=e("mwr9");const Fr=Object(kn.c)("maybeToggleGlobalMuteShortcutHandler",(Ie,ee,Ce)=>Object(cc.a)(Ce.payload));Fr.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const lc=Object(gs.a)([ke.W],Fr);var dc=e("rH7J"),uc=e("Jc4w");const xr=Object(kn.c)("Transition the up_to_browse_kb_shortcut user pref to the new client pref",(Ie,ee)=>{var Ce;const je=ee(),It=Object(d.getFocusedWorkspace)(je),ot=Object(a.getStoreInstanceByTeamId)(It),Ft=ot==null||(Ce=ot.getState)===null||Ce===void 0?void 0:Ce.call(ot);if(!Ft||Object(ne.b)(je)!==void 0)return;const wt=Object(Ds.t)(Ft,"up_to_browse_kb_shortcut"),{LIST:In,EDIT:Kn}=uc.a,es=wt?In:Kn;Ie(Object(dc.a)(es))});xr.meta={name:"createThunk",key:"createThunkmaybeTransitionUpToBrowsePreference",description:"Transition the up_to_browse_kb_shortcut user pref to the new client pref"};const mc=Object(gs.a)([y.setWorkspaceBooted],xr);var hc=e("Bw5p"),Kr=e("On6p"),ka;(function(Ie){Ie.DOGFOOD="dogfood",Ie.BETA="beta",Ie.PROD="prod"})(ka||(ka={}));var Hr;(function(Ie){Ie.BETA="beta",Ie.PROD="prod"})(Hr||(Hr={}));const Jc=m(Ie=>Ie!==ka.PROD,"isPreRelease");var ua;(function(Ie){Ie.NIGHTLY="nightly",Ie.ALPHA="alpha",Ie.ETA="eta",Ie.PILOT="pilot",Ie.BETA="beta",Ie.PROD="prod"})(ua||(ua={}));var Vr;(function(Ie){Ie.BETA="beta",Ie.PROD="prod"})(Vr||(Vr={}));const Xc=[ua.ALPHA,ua.ETA,ua.BETA,ua.PILOT,ua.PROD],qc=m(Ie=>Ie!==ua.PROD,"release_channels_4_31_0_isPreRelease"),kr=Object(kn.c)("maybeSetReleaseChannelOverrideHandler",(Ie,ee,Ce)=>{!Object(On.i)()||!Object(r.fb)()||vc(ee)});kr.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const fc=Object(gs.a)([y.setDidBootAllWorkspaces],kr),Gr="nightly-promotion-state";function vc(Ie){const ee=Object(r.J)("environment","releaseChannel"),Ce=Object(r.J)("settings","releaseChannelOverride");let je=Ce;if(!je&&(ee==="beta"||ee==="alpha")&&(je=ee),je==="eta"&&(je=ka.BETA),Object(io.a)()&&Object(On.j)("4.31.150")){const It=Ie();if(Object(co.a)(It,"ssb_dogfood_automatic_promotion","on")&&Object(d.hasBootedSlackOwnedTeam)(It)&&je!==Kr.a)try{window.localStorage.getItem(Gr)!=="2"&&(je=Kr.a,window.localStorage.setItem(Gr,"1"))}catch{}je==="alpha"&&(je=ka.BETA)}je!==Ce&&(Object(r.ec)({name:"releaseChannelOverride",value:je}),r.U.cache&&r.U.cache.clear())}m(vc,"maybeSetReleaseChannelOverride");const Ec=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],No=Object(kn.c)("Sync workspaces state with desktop",(Ie,ee)=>{if(!Object(On.i)())return;const Ce=ee(),je=Object(d.getBootedWorkspaces)(Ce),It=Object(d.getAllWorkspaces)(Ce);var ot;const Ft=(ot=Object(d.getWorkspacesMeta)(Ce))!==null&&ot!==void 0?ot:{},vt=je==null?void 0:je.reduce((wt,In)=>{const Kn=Object(a.getStateByTeamId)(In),$t={...Object(Pt.s)(Kn,In,!1),...Ft==null?void 0:Ft[In]};return wt[In]={...Object(hc.a)($t,Ec),order:It.indexOf(In)},wt},{});Object(r.Hc)(vt)});No.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktop",description:"Sync workspaces state with desktop"};const zr=Object(kn.c)("Sync workspaces state with desktop when a new team has booted",(Ie,ee)=>{if(!Object(On.i)())return;const Ce=ee();Object(d.didBootAllWorkspaces)(Ce)&&Ie(No())});zr.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktopOnAdditionalTeamBoot",description:"Sync workspaces state with desktop when a new team has booted"};const Oc=Object(gs.a)([y.setDidBootAllWorkspaces,y.setWorkspaceOrder],No),gc=Object(gs.a)([y.setWorkspaceBooted],zr);var pc=e("v9TI");const Yr=Object(kn.c)("Side effect to remove window restoration data from localStorage once all teams have booted",()=>{const Ie=Object(P.b)({label:"WIN-RESTORE"});Object(_.w)(pc.c,""),Ie.info("Cleared window-restoration key in localStorage because all teams have booted.")});Yr.meta={name:"createThunk",key:"createThunkmaybeClearWindowRestorationData",description:"Side effect to remove window restoration data from localStorage once all teams have booted"};const bc=Object(gs.a)([y.setDidBootAllWorkspaces],Yr);var Qr=e("q+YH");const $r=Object(kn.c)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(Ie,ee)=>{var Ce;const je=ee(),It=Object(d.getFocusedWorkspace)(je),ot=Object(a.getStoreInstanceByTeamId)(It),Ft=ot==null||(Ce=ot.getState)===null||Ce===void 0?void 0:Ce.call(ot);if(!Ft||!Object(Ka.d)(Ft))return;if(Object(ne.d)(je)===""){const In=Object(Ds.t)(Ft,"a11y_play_sound_for_incoming_dm_choice"),Kn=In??"";Ie(Object(Qr.a)(Kn))}if(Object(ne.e)(je)===""){const In=Object(Ds.t)(Ft,"a11y_play_sound_for_sent_dm_choice"),Kn=In??"";Ie(Object(Qr.b)(Kn))}});$r.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const Ic=Object(gs.a)([y.setDidBootAllWorkspaces],$r);var wr=e("wlwd");const Zr=Object(kn.c)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(Ie,ee)=>{var Ce;const je=ee(),It=Object(d.getFocusedWorkspace)(je),ot=Object(a.getStoreInstanceByTeamId)(It),Ft=ot==null||(Ce=ot.getState)===null||Ce===void 0?void 0:Ce.call(ot);if(!Ft||!Object(Ka.c)(Ft)||Object(ne.c)(je)!==void 0)return;const wt=Object(Ds.t)(Ft,"a11y_read_out_incoming_dm");if(wt!==void 0){Ie(Object(wr.a)(wt));return}Ie(Object(wr.a)(!0))});Zr.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const Tc=Object(gs.a)([y.setDidBootAllWorkspaces],Zr);var Cc=e("PLUl");const Jr=Object(kn.c)("recordWssRailVisibility side effect handler",(Ie,ee)=>{const Ce=Object(Cc.a)(),je=ee(),It=Object(pn.d)(je)?1:0,ot=Ce.createMetricsTrace({samplingOptions:{sampleType:Nr.a.SESSION}});ot.store({name:"wss_rail:visible",value:It}),Ce.reportTrace(ot)});Jr.meta={name:"createThunk",key:"createThunkrecordWssRailVisibility",description:"recordWssRailVisibility side effect handler"};const Sc=Object(gs.a)([y.setDidBootAllWorkspaces],Jr),Mc=[Vi,xi,Ki,Bi,Ri,Gi,Qi,tc,Oc,gc,sc,ic,lc,fc,mc,bc,Ic,Tc,Sc];var Xr=e("5NQM");const qr=50,ei="recents";let uo;function Bo(Ie){uo&&Object(Xr.b)(uo),uo=Object(Xr.c)(()=>{uo=void 0,Object(_.w)(ei,Ie)})}m(Bo,"persistRecents");function yc(){var Ie;return(Ie=Object(_.f)(ei))!==null&&Ie!==void 0?Ie:[]}m(yc,"loadRecents");const _c=yc();var Dc=Object(Le.b)({},_c,{persistenceEnabled:!1,storeKey:"recents"}).on(Et.b,(Ie,ee)=>{let{entry:Ce}=ee;const je=[Ce,...Ie].slice(0,qr);return Bo(je),je}).on(Et.e,(Ie,ee)=>{let{entry:Ce}=ee;const je=[Ce,...Ie.slice(1)].slice(0,qr);return Bo(je),je}).on(Et.d,Ie=>{const ee=Ie.slice(0,1);return Bo(ee),ee});function ti(){let{extraMiddlewares:Ie=[],customEnhancers:ee=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ce=Object(H.a)({teamOrEnterpriseId:"client",middlewares:[...Ie,Oe.a,t.a,$.a,u,f,Zt,Cn,Gt,ae,Ue,me.a,Ai],customEnhancers:ee}),je=Object(z.a)({workspaces:R,window:ve.a,telemetry:se,connectivity:re.a,accessibility:be.a,accessibilityPersistent:Z.a,desktop:q.a,clientTheme:Ne.a,iaHistory:Tt,mainWindowHistory:Ye,isClient:we,workspaceLayout:ft.a,viewLayout:tt.a,noop:xe.a,navigate:Mt,clientHuddles:zt,clientSideEffects:ut,recents:Dc});return Object(n.e)(je,Ce)}m(ti,"createClientStore");function Ac(){const Ie=Object(a.getClientStoreInstance)();if(Ie)return Object(P.b)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),Ie;const ee=ti();Object(a.setClientStoreInstance)(ee);const{clientSideEffectsMap:Ce,sideEffectsMap:je,orgSharedSideEffectsMap:It}=Object(ji.a)(Mc);if(Object.keys(je).length||Object.keys(It).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return ee.dispatch(tn(Ce)),ee}m(Ac,"configureClientStore");const tl={createClientStore:ti}},PWgi:function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},PX9a:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("ZKjC"),t=e("RVJP");const a=Object(n.b)(r=>Object(t.d)(r,"record_channels")==="on");a.meta={name:"createSelector",key:"createSelectorisRecordChannelsEnabled",description:r=>Object(t.d)(r,"record_channels")==="on"}},PZKh:function(K,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t});const n="slack-client-theme",t="slack-client-theme-os-sync"},PZLk:function(K,s,e){"use strict";var n=e("4+kD"),t=e.n(n),a=e("q1tI"),r=e.n(a),d=e("BHdc"),o=e("F0b/"),i=e("nNoG"),h=e("Tevt"),l=e("dVMU"),u=e("lRFD"),c=e.n(u),E=e("2B42"),v=e.n(E),g=e("Sw/c"),O=e.n(g),I=e("0cEW");const C=new i.b("refreshed_header"),f={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},S={elementName:"header_signin",onClick:{enableClogAction:!0}},D={elementName:"header_create_account",onClick:{enableClogAction:!0}},p={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},b=c.a&&v.a?`${c.a}, ${v.a} 2x`:void 0,M=m(_=>{let{showSignInLink:P=!1,showCreateAccountLink:y=!1,showCreateWorkspaceLink:j=!1,showHorchataBackground:U=!1,confirmedEmailPill:W,hideLogo:L=!1,isSSBBrowserSignin:R=!1,showSfLogo:A=!1,isWarningBannerDisplayed:B=!1,govSlackTheme:F=!1,isLandingPage:k=!1,clientTheme:V,joinerRedesignTreatment:X=!1}=_;return r.a.createElement("header",{className:Object(d.default)("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!W,"p-refreshed_page__header--is_horchata_landing_bg":U,"p-refreshed_page__header--no_logo":!!L,"p-refreshed_page__header--sf_slack_logo":A,"p-refreshed_page__header--display_warning_banner":B,"p-refreshed_page__header--gov_slack":F,"p-refreshed_page__header--landing":k,"p-refreshed_page__full_background":X})},r.a.createElement("div",{className:"left-col"}),r.a.createElement("div",{className:"center-col"},A&&L&&r.a.createElement("img",{srcSet:b??void 0,src:c.a,alt:""}),!L&&r.a.createElement(h.a,{href:Object(o.a)(),autoClogProps:f,target:"_self"},r.a.createElement("img",{alt:"Slack",src:F||V===I.c.Dark?O.a:t.a,height:"26",title:"Slack"})),W),r.a.createElement("div",{className:"right-col"},P&&r.a.createElement("div",{className:"p-refreshed_page__header_sidelink"},C.t("Already have an account?"),r.a.createElement("br",null),r.a.createElement(h.a,{href:"/signin",className:"bold",autoClogProps:S,target:"_self"},C.t("Sign in instead"))),y&&r.a.createElement("div",{className:"p-refreshed_page__header_sidelink"},C.t("Don\u2019t have an account yet?"),r.a.createElement("br",null),r.a.createElement(h.a,{href:`/signup${window.location.search}`,className:"bold",autoClogProps:D,target:"_self"},C.t("Create an account"))),j&&r.a.createElement("div",{className:"p-refreshed_page__header_sidelink"},C.t("New to Slack?",{fallbackHash:"2f63cb0ff8e7e3d18574aa36be246a7723cef6fc"}),r.a.createElement("br",null),r.a.createElement(h.a,{href:`${R?"/ssb":""}/get-started${window.location.search}#${l.a.CreateNew}`,className:"bold",autoClogProps:p,target:"_self"},C.t("Create an account")))))},"RefreshedHeader");s.a=M},PaS2:function(K,s,e){K.exports=e.p+"template_screenshot_feedback-431915f.png"},Pewd:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("gZuW");function d(o){let{className:i,errors:h}=o;var l;return h&&h.length>0?t.a.createElement(t.a.Fragment,null,h.map(u=>Object(n.isValidElement)(u.message)?t.a.cloneElement(u.message,{key:u.id,id:u.id,className:Object(a.default)(i,"c-field_input__helpers")}):(l=!!u.message&&t.a.createElement(r.a,{className:Object(a.default)(i,"c-field_input__helpers"),key:u.id,id:u.id},u.message))!==null&&l!==void 0?l:null)):null}m(d,"FieldErrors")},PfQc:function(K,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("LrWZ"),t=e("SQ0V"),a=e("lhZz"),r=e("dKQz"),d=e("+CZ0"),o=e("LZPg"),i=e("QIbu"),h=e("HoeF"),l=e("SIMs"),u=e("XM5t"),c=e("gPPH"),E=e("3vtZ"),v=e("ktUG"),g=e("5IZy"),O=e("RB1+"),I=e("qMw6");const C=m((D,p,b,M)=>{const _=Object(a.getStateForClientStore)(),P=Object(d.a)(_),y=Object(E.l)(p,{huddleId:P}),j=Object(E.k)(_),U=Object(E.j)(_),W=Object(l.q)(p,{huddleId:P});let L,R,A=null,B=null,F=null;if(b===i.a.None)L=u.a.FOCUS_CLOSE,R=Object(l.r)(p,{key:u.a.FOCUS_OPEN});else{var k;switch(L=u.a.FOCUS_OPEN,R=Object(c.a)(),F=(M==null||(k=M.item)===null||k===void 0?void 0:k.id)||null,b){case i.a.Screenshare:A="focus_screenshare",B="screenshare";break;default:A="focus_file",B="file"}D(Object(h.m)({key:u.a.FOCUS_OPEN,value:R}))}Object(g.a)({state:p}).track(v.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:W?W.toString():null,ui_properties:{element_name:L},action:v.UiAction.IMPRESSION},calls:U},...y,...j,interaction_id:R,canvas_dimension_marker:A,type:B,item_file_id:F})},"clogCanvasEvent"),f=Object(t.c)("Sets a user content view which represents what the user is focused on in the canvas",(D,p,b)=>{if(!b||Object(n.a)(b.contentViewType))return;const M=p(),_=b.contentViewType,P=!1;if(_===i.a.Screenshare){const j=Object(o.q)(M),U=S(M);j===i.a.None&&!U&&D(Object(h.x)({isThreadOpen:!1})),D(Object(h.H)({userId:""}))}D(Object(h.n)({isFullscreen:P})),D(Object(h.s)({isNotesOpen:_===i.a.QuipFile}));const y=b.contentViewType===i.a.None||!b.contentViewConfig?{}:b.contentViewConfig;D(Object(o.jb)({id:b.peerId,contentViewType:_,contentViewConfig:y})),Object(a.dispatchForClientStore)(Object(r.w)({contentViewType:_,contentViewConfig:y})),C(D,M,_,y)});f.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function S(D){const p=Object(a.getStateForClientStore)(),b=Object(d.a)(p),M=Object(d.b)(p),_=Object(l.V)(D,{huddleId:b});if(!(_!=null&&_.ts)||!M)return!1;const P=Object(O.a)({viewContext:I.a.HUDDLE_THREADS,channelId:M,threadTs:_.ts});return(P==null?void 0:P.hasFocus())||!1}m(S,"doesThreadInputHaveFocus")},"Pq/0":function(K,s,e){"use strict";var n=e("0XZN");e.d(s,"a",function(){return n.a})},PsQx:function(K,s,e){"use strict";e.d(s,"a",function(){return n});let n=m(class{start(a){this.stop(),this.timer=setInterval(a,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(a){this.intervalMs=a,this.timer=null}},"IntervalScheduler")},Pv5J:function(K,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("s4P+"),t=e("5IZy"),a=e("ktUG"),r;(function(v){v.IDLE="IDLE",v.WAITING_TO_MEASURE="WAITING_TO_MEASURE",v.MEASURING="MEASURING"})(r||(r={}));const d=Object(n.b)({label:"ANOMALY-DETECTOR"});class o{static setObserver(g){o.observer=g}static setTracer(){}static setChimeMeetingId(g,O){o.chimeMeetingId=g,o.chimeExternalMeetingId=O}static setMicMute(g){o.isMuted!==g&&(o.isMuted=g,!g&&o.muteStartTimeMs&&(o.muteTimeMs+=Date.now()-o.muteStartTimeMs,o.muteStartTimeMs=0),g&&o.state===r.MEASURING&&(o.muteStartTimeMs=Date.now()))}static setMicDevice(g,O,I){o.deviceId===g&&o.isNoiseSuppressionEnabled===O||(o.deviceId&&o.state!==r.IDLE&&d.info(`Abandoning audio send anomaly detection for device: ${o.deviceId}/${o.deviceLabel}/${o.isNoiseSuppressionEnabled} due to device switch`),o.deviceId=g,o.deviceLabel=I,o.isNoiseSuppressionEnabled=O,o.setState(r.WAITING_TO_MEASURE))}static run(g){if(!g)return;const O=g.filter(f=>f.audioStats);if(O.length===0)return;O.length>1&&d.warn("Too many input audio tracks: ",O.length),o.monitorPps(O[0]);const I=O[0].audioStats;if(!(!I||I.audioLevel===void 0||I.audioLevel===null||I.totalAudioEnergy===void 0||I.totalAudioEnergy===null||I.totalSamplesDuration===void 0||I.totalSamplesDuration===null))switch(I.audioLevel>0&&o.clearNoMediaInput(),o.state){case r.WAITING_TO_MEASURE:o.setState(r.MEASURING),o.measuringStartTimeMs=Date.now(),o.isMuted&&(o.muteStartTimeMs=Date.now()),o.muteTimeMs=0,o.startingAudioEnergy=I.totalAudioEnergy,o.startingSamplesDuration=I.totalSamplesDuration;break;case r.MEASURING:{if(I.totalAudioEnergy>o.startingAudioEnergy){d.info(`Detected audio input from device: ${o.deviceId}/${o.deviceLabel}/${o.isNoiseSuppressionEnabled} over ${I.totalSamplesDuration-o.startingSamplesDuration} seconds, energy increase: ${I.totalAudioEnergy-o.startingAudioEnergy}`),o.setState(r.IDLE);break}const f=o.muteStartTimeMs?Date.now()-o.muteStartTimeMs:0;if(Date.now()-o.measuringStartTimeMs-o.muteTimeMs-f>=o.NO_AUDIO_THRESHOLD_MS){var C;d.warn(`No audio input from device: ${o.deviceId}/${o.deviceLabel}/${o.isNoiseSuppressionEnabled} over ${I.totalSamplesDuration-o.startingSamplesDuration} seconds`),Object(t.a)().track(a.EventId.CALLS_NO_AUDIO_INPUT,{chime_meeting_id:o.chimeMeetingId,chime_external_meeting_id:o.chimeExternalMeetingId,device_id:o.deviceId,device_label:o.deviceLabel,is_noise_suppresion_enabled:o.isNoiseSuppressionEnabled}),(C=o.observer)===null||C===void 0||C.onSetNoOrLowInputAudioLevel(),o.setState(r.IDLE);break}break}default:case r.IDLE:break}}static cleanup(){d.info("Cleaning up AudioSendAnomalyDetector"),o.state=r.IDLE,o.isMuted=!1,o.muteStartTimeMs=0,o.muteTimeMs=0,o.deviceId=void 0,o.deviceLabel=void 0,o.isNoiseSuppressionEnabled=!1,o.measuringStartTimeMs=0,o.startingAudioEnergy=0,o.startingSamplesDuration=0,o.observer=void 0,o.resetTracer()}static clearNoMediaInput(){var g;(g=o.observer)===null||g===void 0||g.onClearNoOrLowInputAudioLevel()}static monitorPps(g){if(o.MONITOR_PPS_ENABLED===!1&&o.isNoiseSuppressionEnabled===!1||!g.packetsSent)return;const O=Date.now(),I=g.packetsSent;if(o.lastReportTime!==0){const C=O-o.lastReportTime,f=(I-o.lastPacketsSent)/(C/1e3);f<o.EXPECTED_PPS*o.PPS_LOWER_BOUND_THRESHOLD&&d.warn(`AUDIO_SEND_LOW_PPS - ${f}`),f>o.EXPECTED_PPS*o.PPS_HIGHER_BOUND_THRESHOLD&&d.warn(`AUDIO_SEND_HIGH_PPS - ${f}`)}o.lastReportTime=O,o.lastPacketsSent=I}static setState(g){o.state=g,d.info(`AudioSendAnomalyDetector state change: ${o.state}`)}static resetTracer(){}}m(o,"audio_send_anomaly_detector_AudioSendAnomalyDetector"),o.state=r.IDLE,o.isMuted=!1,o.muteStartTimeMs=0,o.muteTimeMs=0,o.isNoiseSuppressionEnabled=!1,o.measuringStartTimeMs=0,o.startingAudioEnergy=0,o.startingSamplesDuration=0,o.NO_AUDIO_THRESHOLD_MS=6e3,o.MONITOR_PPS_ENABLED=!1,o.EXPECTED_PPS=50,o.PPS_LOWER_BOUND_THRESHOLD=.9,o.PPS_HIGHER_BOUND_THRESHOLD=1.1,o.lastReportTime=0,o.lastPacketsSent=0;var i=e("Yk1L"),h=e("M3pb"),l=e("LZPg");const u=Object(n.b)({label:"ANOMALY-DETECTOR"});class c{static setObserver(g){c.observer=g}static run(g){const O=Object(h.a)();if(!g||g.length===0||!O){c.clearNoAudioOutput();return}const I=Object(l.T)(O.getState());if(Object.keys(I).length!==1){c.clearNoAudioOutput();return}const C=Object.keys(I);if(!I[C[0]].isMicrophoneEnabled){c.clearNoAudioOutput();return}if(g.forEach(D=>{!D.audioStats||D.audioStats.audioLevel===void 0||D.audioStats.audioLevel===null||(c.accumulatedAudioLevels.length>=c.ACCUMULATED_AUDIO_LEVELS_BUFFER_SIZE&&c.accumulatedAudioLevels.shift(),c.accumulatedAudioLevels.push(D.audioStats.audioLevel))}),c.accumulatedAudioLevels.length<c.MIN_AUDIO_LEVEL_BUFFER_SIZE){c.clearNoAudioOutput();return}const f=Object(i.a)(c.accumulatedAudioLevels);if(f<=c.RECV_LOW_AUDIO_LEVEL_THRESHOLD){if(c.shouldReport){var S;(S=c.observer)===null||S===void 0||S.onSetNoOrLowOutputAudioLevel(),u.warn(`RECV_LOW_AUDIO_LEVEL - Avg(last ${c.accumulatedAudioLevels.length} values): ${f}`),c.shouldReport=!1,c.logTimerHandle=setTimeout(()=>{c.shouldReport=!0},c.SKIP_LOG_MS)}}else c.clearNoAudioOutput()}static cleanup(){c.logTimerHandle&&(clearTimeout(c.logTimerHandle),c.logTimerHandle=null)}static clearNoAudioOutput(){var g;(g=c.observer)===null||g===void 0||g.onClearNoOrLowOutputAudioLevel()}}m(c,"audio_receive_anomaly_detector_AudioReceiveAnomalyDetector"),c.ACCUMULATED_AUDIO_LEVELS_BUFFER_SIZE=5,c.MIN_AUDIO_LEVEL_BUFFER_SIZE=3,c.SKIP_LOG_MS=6e4,c.RECV_LOW_AUDIO_LEVEL_THRESHOLD=0,c.accumulatedAudioLevels=[],c.shouldReport=!0;class E{static setObserver(g){o.setObserver(g),c.setObserver(g)}static run(g){o.run(g.send),c.run(g.recv)}static cleanup(){o.cleanup(),c.cleanup()}static setChimeMeetingId(g,O){o.setChimeMeetingId(g,O)}static setMicMute(g){o.setMicMute(g)}static setTracer(){o.setTracer()}static setMicDevice(g,O,I){o.setMicDevice(g,O,I)}}m(E,"anomaly_detector_AnomalyDetector")},"Pyy/":function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("vLZU");function t(a){const i={sideEffectsMap:{},orgSharedSideEffectsMap:{},clientSideEffectsMap:{}};return!a||!a.length?i:a.reduce((h,l)=>{const{actions:u,scope:c}=l;let E;switch(c){case n.m.orgShared:E=h.orgSharedSideEffectsMap;break;case n.m.client:E=h.clientSideEffectsMap;break;default:case n.m.workspace:E=h.sideEffectsMap;break}return u.forEach(v=>{var g;const O=v==null||(g=v.getType)===null||g===void 0?void 0:g.call(v);O&&(E[O]=E[O]||[],E[O].push(l))}),h},i)}m(t,"generateSideEffectsMaps")},Q0mH:function(K,s,e){"use strict"},"Q1m+":function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),d=e("j77i");const o=Object(t.c)("Set the user-specified wide sidebar width and mode",(i,h,l)=>{let{sidebarWideWidthIntent:u,sidebarWideWidthMode:c}=l;Object(d.w)(n.g,u),Object(d.w)(n.h,c),i(Object(a.g)({sidebarWideWidthIntent:u,sidebarWideWidthMode:c})),Object(r.dispatchForClientStore)(Object(a.g)({sidebarWideWidthIntent:u,sidebarWideWidthMode:c}))});o.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},Q755:function(K,s,e){"use strict"},Q7We:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("cBLH"),a=e("Jhy3"),r=e("UIhb"),d=e("dqLn"),o=e("xcHN");const i=Object(n.c)("Remove a message and its timestamp",function(h,l){let{channelId:u,ts:c,threadTs:E,broadcastDelete:v=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!u||!c))if(v)h(Object(a.e)({channelId:u,ts:c}));else{h(Object(t.d)({channelId:u,timestamp:c}));const g=!1,O=Object(r.b)(l(),u,c,g),I=O&&O.thread_ts||E;if(I){const C=Object(o.c)(u,I)||"";h(Object(t.d)({channelId:C,timestamp:c}))}h(Object(a.h)({message:{channel:u,ts:c}})),h(Object(d.a)({channelId:u,item:O}))}});i.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"},s.a=i},QLhP:function(K,s,e){"use strict";e.d(s,"b",function(){return g}),e.d(s,"a",function(){return O}),e.d(s,"e",function(){return I}),e.d(s,"f",function(){return C}),e.d(s,"d",function(){return f}),e.d(s,"c",function(){return D});var n=e("n3tL"),t=e("Kmpi"),a=e("ZKjC"),r=e("Nnn3"),d=e("kGAF"),o=e("O86Y"),i=e("4Ky9"),h=e("xwCZ"),l=e("XJcz"),u=e("G+Dn"),c=e("ivr1"),E=e("Fn/R");function v(p){return!!(p&&Object(t.b)(p)&&!Object(E.a)(p))}m(v,"isMemberHuman");const g=Object(a.b)(function(p,b){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var _;const P=Object(o.g)(p);if(!b)return!1;const y=(_=Object(c.a)(p))===null||_===void 0?void 0:_[b];return!y&&Object(d.a)(b)&&M&&l.a.indexOf(b)<0?Object(u.a)().fetchObjectWithId(P,b):(Object(u.c)(P,b),y||!1)});g.meta={name:"createSelector",key:"createSelectorgetBotById",description:function(p,b){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var _;const P=Object(o.g)(p);if(!b)return!1;const y=(_=Object(c.a)(p))===null||_===void 0?void 0:_[b];return!y&&Object(d.a)(b)&&M&&l.a.indexOf(b)<0?Object(u.a)().fetchObjectWithId(P,b):(Object(u.c)(P,b),y||!1)}};const O=Object(a.b)((p,b)=>{if(!b)return;const M=Object(c.a)(p);let _;return M&&(_=Object.values(M).find(P=>P.app_id===b)),_});O.meta={name:"createSelector",key:"createSelectorgetBotByAppId",description:(p,b)=>{if(!b)return;const M=Object(c.a)(p);let _;return M&&(_=Object.values(M).find(P=>P.app_id===b)),_}};const I=Object(a.b)((p,b)=>{const M=Object(h.g)(p,b);return v(M)});I.meta={name:"createSelector",key:"createSelectorgetMemberIsHuman",description:(p,b)=>{const M=Object(h.g)(p,b);return v(M)}};const C=Object(a.b)(function(p){let{userId:b,botId:M,botProfile:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P,y;b&&(P=Object(h.g)(p,b)),M&&(y=g(p,M)||void 0);const j=P?v(P):!1;let U;!Object(t.b)(y)&&Object(t.b)(P)&&(U=Object(r.a)(p,P),U&&U!==M&&(y=g(p,U)||void 0));let W;if(!Object(t.b)(y)&&_&&(W=_.id,W&&W!==U&&W!==M&&(y=g(p,W)||void 0),Object(t.b)(y)||(y=_)),!Object(t.b)(P)&&Object(t.b)(y)&&y.app_id){const L=Object(i.a)(p,y.app_id);if(Object(t.b)(L)){const R=L.app_user_id;R&&R!==b&&(P=Object(h.g)(p,R))}}return{bot:y,member:P,memberIsHuman:j}});C.meta={name:"createSelector",key:"createSelectormaybeGetBotAndMemberByIds",description:function(p){let{userId:b,botId:M,botProfile:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P,y;b&&(P=Object(h.g)(p,b)),M&&(y=g(p,M)||void 0);const j=P?v(P):!1;let U;!Object(t.b)(y)&&Object(t.b)(P)&&(U=Object(r.a)(p,P),U&&U!==M&&(y=g(p,U)||void 0));let W;if(!Object(t.b)(y)&&_&&(W=_.id,W&&W!==U&&W!==M&&(y=g(p,W)||void 0),Object(t.b)(y)||(y=_)),!Object(t.b)(P)&&Object(t.b)(y)&&y.app_id){const L=Object(i.a)(p,y.app_id);if(Object(t.b)(L)){const R=L.app_user_id;R&&R!==b&&(P=Object(h.g)(p,R))}}return{bot:y,member:P,memberIsHuman:j}}},C.propTypes=n.default.oneOfType([n.default.shape({userId:n.default.string,botId:n.default.string.isRequired,botProfile:n.default.object}),n.default.shape({userId:n.default.string.isRequired,botId:n.default.string,botProfile:n.default.object})]);const f=Object(a.b)((p,b)=>{const M=g(p,b);if(M&&M.name)return M.name});f.meta={name:"createSelector",key:"createSelectorgetBotNameById",description:(p,b)=>{const M=g(p,b);if(M&&M.name)return M.name}};const S=Object(a.b)(p=>Object(c.a)(p));S.meta={name:"createSelector",key:"createSelectorgetAllBots",description:p=>Object(c.a)(p)};const D=Object(a.b)((p,b)=>{if(!p||!b)return null;const M=Object(h.g)(p,b.user),_=b.bot_id||Object(r.a)(p,M);if(!_)return null;if(b.bot_profile)return b.bot_profile.id!==_?{...b.bot_profile,id:_}:b.bot_profile;const P=g(p,_);return P||null});D.meta={name:"createSelector",key:"createSelectorgetBotByMsg",description:(p,b)=>{if(!p||!b)return null;const M=Object(h.g)(p,b.user),_=b.bot_id||Object(r.a)(p,M);if(!_)return null;if(b.bot_profile)return b.bot_profile.id!==_?{...b.bot_profile,id:_}:b.bot_profile;const P=g(p,_);return P||null}}},QMho:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("AFNo"),t=e("2VFn"),a=e("rZ8V"),r=e("i9jZ"),d=e("v7mh");const o=Object(n.c)((i,h)=>{let{container:l,windowId:u}=h;const c=Object(a.m)(i),E=Object(r.a)(i);let v;if(u===t.c&&c){const g=Object(d.a)(i);v=Object(d.g)(i,{tab:g,container:l})}return u!==t.c&&E&&(v=Object(d.d)(i,{container:l,windowId:u})),v});o.meta={name:"createSelector",key:"createSelectorgetCurrentWindowViewByContainer",description:(i,h)=>{let{container:l,windowId:u}=h;const c=Object(a.m)(i),E=Object(r.a)(i);let v;if(u===t.c&&c){const g=Object(d.a)(i);v=Object(d.g)(i,{tab:g,container:l})}return u!==t.c&&E&&(v=Object(d.d)(i,{container:l,windowId:u})),v}}},QP4N:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("LOcX"),t=e("q1tI"),a=e.n(t),r=e("nFQW"),d=e("nNoG");const o=new d.b("generic_dialog");function i(u){let{onClick:c}=u;return a.a.createElement(r.a,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:c,"aria-label":o.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"member_actions"})})}m(i,"ModalBackButton"),i.displayName="ModalBackButton";var h=a.a.memo(i),l=s.b=n.a},QW4n:function(K,s,e){"use strict";e.d(s,"a",function(){return f});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("YUBf"),d=e("JvzI"),o=e("xLpb"),i=e("GiOu"),h=e("9gkt"),l=e("AFY6"),u=e("dNN9"),c=e("ZE32"),v=m(p=>{let{banner:b,bodyContent:M,footerContent:_,showProBadge:P=!0,subtitle:y,title:j}=p;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-upgrades_modal_with_banner_horizontal__left_panel"},t.a.createElement(h.a,{headerClassName:"p-upgrades_modal_with_banner_horizontal__header",titleClassName:"padding_top_0",title:j},P&&t.a.createElement(i.b,{className:"p-upgrades_modal_with_banner_horizontal__pro_badge"})),t.a.createElement(r.d,null,y&&t.a.createElement(l.a,{className:"p-upgrades_modal_with_banner_horizontal__subtitle",subtitle:y}),t.a.createElement(u.a,{className:"p-upgrades_modal_with_banner_horizontal__body"},M)),t.a.createElement(c.a,{className:"p-upgrades_modal_with_banner_horizontal__footer"},_)),b)},"ModalContentHorizontalBanner");const g=m(p=>{let{banner:b,bodyContent:M,footerContent:_,showProBadge:P=!0,subtitle:y,title:j}=p;const U=t.a.createElement(t.a.Fragment,null,j,P&&t.a.createElement(i.b,{className:"p-upgrades_modal_with_banner_vertical__pro_badge"}));return t.a.createElement(t.a.Fragment,null,t.a.createElement(h.a,{titleClassName:"p-upgrades_modal_with_banner_vertical__title",title:U},b),t.a.createElement(r.d,null,y&&t.a.createElement(l.a,{className:"p-upgrades_modal_with_banner_vertical__subtitle",subtitle:y}),t.a.createElement(u.a,{className:"p-upgrades_modal_with_banner_vertical__body"},M)),t.a.createElement(c.a,null,_))},"ModalContentVerticalBanner");g.displayName="ModalContentVerticalBanner";var O=g,I=e("pyW3");function C(){return C=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var M=arguments[b];for(var _ in M)Object.prototype.hasOwnProperty.call(M,_)&&(p[_]=M[_])}return p},C.apply(this,arguments)}m(C,"_extends");var f;(function(p){p.LIGHT="light",p.DARK="dark",p.GOLD="gold",p.GRAY="gray"})(f||(f={}));const S=m(p=>{let{bannerBackgroundColor:b,bodyContent:M,centered:_,className:P,closeButtonTheme:y=f.DARK,closeModal:j,dataQa:U,footerContent:W,imgSrc:L,maxWidth:R,shouldCloseOnOverlayClick:A,showProBadge:B=!0,subtitle:F,title:k,type:V,videoFilename:X,videoPosterExtension:J="png",videoClassName:Y,lottieAnimation:ie,...de}=p;const pe=Object(d.a)(),oe=`${X}${pe==="en-US"?"":`.${pe}`}`,me=`p-upgrades_modal_with_banner__banner--${V}`,re=m(()=>L?t.a.createElement("img",{className:me,alt:"",src:L}):X?t.a.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:Object(a.default)(me,Y),poster:`${oe}.${J}`},t.a.createElement("source",{type:"video/mp4",src:`${oe}.mp4`}),t.a.createElement("source",{type:"video/webm",src:`${oe}.webm`})):ie?t.a.createElement("div",{className:"p-upgrades_modal__lottie_container"},ie):null,"getModalBanner");re.displayName="getModalBanner";const ve=t.a.createElement("div",{style:{backgroundColor:b},className:`p-upgrades_modal_with_banner__banner_container--${V}`},re());return t.a.createElement(r.a,C({className:Object(a.default)("p-upgrades_modal_with_banner",`p-upgrades_modal_with_banner__base_modal--${V}`,`p-upgrades_modal_with_banner--close_button_${y}`,"p-upgrades_modal_with_banner--close_button",P),centered:_,closeModal:j,dataQa:U,maxWidth:R,shouldCloseOnOverlayClick:A},de),V===o.a.VERTICAL_BANNER?t.a.createElement(O,{banner:ve,bodyContent:M,footerContent:W,showProBadge:B,subtitle:F,title:k}):t.a.createElement(v,{banner:ve,bodyContent:M,footerContent:W,showProBadge:B,subtitle:F,title:k}))},"ModalContentWithBanner");S.displayName="ModalContentWithBanner";var D=s.b=S},QWPf:function(K,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("CpTu"),t=e("uXhx"),a=e("lE2N"),r=e("BeL+"),d=e("GxtX"),o=e("uKXT"),i=e("ZP0B"),h=e("J/RB"),l=e("Lgge"),u=e("SQ0V"),c=e("xcHN"),E=e("ZAxE");const v=Object(u.c)("gets thread replies from the API",(g,O,I)=>{const{channelId:C,threadTs:f,oldest:S,limit:D}=I;let p=I.latest;S===p&&p===I.threadTs&&(p=null);const b=Object(c.c)(C,f);return S&&p?l.a.all([g(Object(E.e)({channelId:C,threadTs:f,latest:p,limit:D})),g(Object(E.e)({channelId:C,threadTs:f,oldest:S,limit:D}))]).then(M=>{let[_,P]=M;const y=Object(n.a)(_.msgs,{ts:f})||Object(n.a)(P.msgs,{ts:f}),j=Object(t.a)(_.msgs,{ts:f}),U=Object(t.a)(P.msgs,{ts:f}),W=_.deleted,L=P.deleted,R=Object(a.a)(j.concat(U),"ts"),A=Object(r.a)(Object(d.a)(W,L));!_.hasMore&&y&&R.unshift(y);const B=R.map(F=>F.ts);return g(Object(h.a)({msgs:R,channelId:b,hasMore:{hasMoreStart:_.hasMore,hasMoreEnd:P.hasMore},oldest:Object(o.a)([S,Object(o.a)(B)]),latest:Object(i.a)([p,Object(i.a)(B)]),deleted:A})),{msgs:R}}):g(Object(E.e)({channelId:C,threadTs:f,oldest:S,latest:p,limit:D})).then(function(){let{msgs:M,deleted:_,hasMore:P}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const y=p&&!P||S===f||p===f||!S&&!p&&!P;let j=M;y||(j=Object(t.a)(M,{ts:f}));let U=P;!S&&!p&&(U={hasMoreStart:P,hasMoreEnd:!1}),g(Object(h.a)({msgs:j,channelId:b,hasMore:U,oldest:S,latest:p,deleted:_}));const W=Object(n.a)(M,{ts:f});return W&&S===f&&g(Object(h.a)({msgs:[W],channelId:b,hasMore:!1,latest:f})),{msgs:j}})});v.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},QaYX:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("Yauy"),t=e("Enx8"),a=e("9Gfp"),r=e("4qCO");function d(o){let{state:i,mpim:h,matchData:l}=o;const u=Object(a.a)(i);let c=[];if(Object(n.C)(h)&&(c=Object(n.C)(h).filter(I=>u!==I)),!l)return c;const E=!1,v=!1,g=[];l.forEach(I=>{I.map(f=>({name:Object(t.a)(i,f.id,E,v),...f})).sort((f,S)=>f.score<S.score?1:f.score>S.score?-1:Object(r.a)(f.name,S.name)).filter(f=>isFinite(f.score)).forEach(f=>{c.includes(f.id)&&(g.push(f.id),c.splice(c.indexOf(f.id),1))})});const O=c.map(I=>({id:I,name:Object(t.a)(i,I,E,v)})).sort((I,C)=>Object(r.a)(I.name,C.name)).map(I=>I.id);return[...g,...O]}m(d,"getMemberDisplayOrderForSearcherMPIM")},QjW8:function(K,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return r}),e.d(s,"d",function(){return i}),e.d(s,"c",function(){return h});var n;(function(l){l.UDP="udp",l.TCP="tcp"})(n||(n={}));var t;(function(l){l.RELAY="relay",l.DIRECT="direct"})(t||(t={}));var a;(function(l){l.UPLINK="uplink",l.DOWNLINK="downlink"})(a||(a={}));var r;(function(l){l.GOOD="good",l.FAIR="fair",l.BAD="bad",l.WORST="worst"})(r||(r={}));var d;(function(l){l.GOOD="good",l.FAIR="fair",l.BAD="bad",l.WORST="worst"})(d||(d={}));var o;(function(l){l[l.UPSTREAM=0]="UPSTREAM",l[l.DOWNSTREAM=1]="DOWNSTREAM"})(o||(o={}));var i;(function(l){l[l.AUDIO=0]="AUDIO",l[l.VIDEO=1]="VIDEO"})(i||(i={}));var h;(function(l){l.RtmMetrics="rtm-metrics",l.RenderTiming="render-timing",l.BluetoothDevices="bluetooth-devices",l.MemoryLeaks="memory-leaks",l.SelectedMediaRegion="selected-media-region",l.PreferredMediaRegion="preferred-media-region",l.VoiceFocusWarning="voice-focus-warning",l.VoiceFocusConfig="voice-focus-config",l.NetworkDisconnect="network-disconnect",l.CallId="call-id",l.ScreenshareContentType="screenshare-content-type",l.AppMetrics="app-metrics",l.NoAudio="no-audio",l.CameraResolution="max-camera-resolution",l.SetIsDebugApp="set-is-debug-app"})(h||(h={}))},QpNZ:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("zxER"),d=e("E97Y"),o=e("ZobM"),i=e("zMr6");function h(){return h=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}return c},h.apply(this,arguments)}m(h,"_extends");const l=m(c=>{let{className:E,filled:v,bold:g,channel:O,disableArchived:I,overrideHiddenIcon:C}=c;const f=Object(r.c)(D=>C||Object(i.b)(D,O,{filled:v||Object(d.k)(O),bold:g,disableArchived:I})),S=Object(a.default)(E,{"c-inline_channel_icon c-inline_channel_icon--space":!0});return t.a.createElement("span",{className:S,"data-inline-channel-type-icon":f.name},t.a.createElement(o.a,h({inline:!0},f)))},"InlineChannelIcon");l.displayName="InlineChannelIcon";var u=s.a=t.a.memo(l)},QufA:function(K,s,e){K.exports=e.p+"ava_0002-24-f65dddc.png"},Qyw2:function(K,s,e){"use strict";var n=e("n3tL"),t=e("SQ0V"),a=e("beVI"),r=e("G0eX"),d=e("qiCS"),o=e("Afhv"),i=e("kBpe"),h=e("SZMM"),l=e("Wn1n"),u=e("AdD7"),c=e("mGaQ"),E=e("RV0M"),v=e("2VFn");const g=Object(t.c)("Open a URL in an SSB window (if it exists) or a browser tab as a fallback",function(O,I){let{file:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3?arguments[3]:void 0;var S;if(!C||!C.permalink)return;const{shouldUseNavigate:D,getSiblingView:p}=f(E.a),b=I(),M=Object(a.f)(b),_=Object(r.n)(M),P=D?(S=p(b,{container:v.h.Primary}))===null||S===void 0?void 0:S.id:Object(l.a)(b);let y=_?Object(d.d)(C.permalink,"origin_team",_):C.permalink;y=P?Object(d.d)(y,"origin_channel",P):y,Object(u.b)()&&!Object(c.b)(b)&&(y=Object(h.f)(y));const j=/\/E[A-Z0-9]{8,}\//gi;j.test(y)&&(y=y.replace(j,`/${_}/`)),Object(i.j)("3.4.0")?Object(h.i)(y,{allowNavigation:!0,height:600,width:800,disposition:"desktop-window"}):Object(o.a)(y)});g.meta={name:"createThunk",key:"createThunkopenFileInNewWindow",description:"Open a URL in an SSB window (if it exists) or a browser tab as a fallback"},g.propTypes={file:n.default.object},s.a=g},R4JA:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("vLZU"),t=e("UOL+"),a=e("hLt0");const r=m((d,o)=>Object(a.c)(Object(n.B)({reducer:a.b})?Object(t.a)(d):d,o),"getIsMemberDisconnectedById")},"RB1+":function(K,s,e){"use strict";e.d(s,"d",function(){return i}),e.d(s,"a",function(){return h}),e.d(s,"b",function(){return l}),e.d(s,"c",function(){return u});var n=e("lCmp"),t=e("BlE4"),a=e("s4P+"),r=e("MO4o"),d=e("5U8P");const o={};function i(c){let{channelId:E,functions:v,getInputInstance:g,threadTs:O,viewContext:I}=c;if(!g)throw new Error('Missing required "getInputInstance" param');const C=`${I}-${E}-${O}`;return o[C]&&Object(a.a)().warn(`Registering duplicate input (key: "${C}")`),o[C]={clear:()=>{var f,S;(f=g())===null||f===void 0||(S=f.clear)===null||S===void 0||S.call(f)},clearHistory:()=>{var f,S;(f=g())===null||f===void 0||(S=f.clearHistory)===null||S===void 0||S.call(f)},focus:()=>{var f,S;(f=g())===null||f===void 0||(S=f.focus)===null||S===void 0||S.call(f)},getContents:()=>{var f,S;return(f=g())===null||f===void 0||(S=f.getContents)===null||S===void 0?void 0:S.call(f)},getDisplayValue:()=>{var f,S;return(f=g())===null||f===void 0||(S=f.displayValue)===null||S===void 0?void 0:S.call(f)},getLength:()=>{var f,S;return(f=g())===null||f===void 0||(S=f.getLength)===null||S===void 0?void 0:S.call(f)},getSelection:()=>{var f,S;return(f=g())===null||f===void 0||(S=f.getSelection)===null||S===void 0?void 0:S.call(f)},getText:()=>{var f,S;return(f=g())===null||f===void 0||(S=f.value)===null||S===void 0?void 0:S.call(f)},hasFocus:()=>{var f,S;return(f=g())===null||f===void 0||(S=f.hasFocus)===null||S===void 0?void 0:S.call(f)},insertContentsAtCursor:function(){for(var f=arguments.length,S=new Array(f),D=0;D<f;D++)S[D]=arguments[D];var p,b;(p=g())===null||p===void 0||(b=p.insertContentsAtCursor)===null||b===void 0||b.call(p,...S)},isEmpty:()=>{var f,S;return!!(!((f=g())===null||f===void 0||(S=f.isEmpty)===null||S===void 0)&&S.call(f))},isEnabled:()=>{var f,S;return!!(!((f=g())===null||f===void 0||(S=f.isEnabled)===null||S===void 0)&&S.call(f))},prependContents:f=>{var S,D;(S=g())===null||S===void 0||(D=S.prependContents)===null||D===void 0||D.call(S,f)},setContents:function(){for(var f=arguments.length,S=new Array(f),D=0;D<f;D++)S[D]=arguments[D];var p,b;(p=g())===null||p===void 0||(b=p.setContents)===null||b===void 0||b.call(p,...S)},setCursor:function(){for(var f=arguments.length,S=new Array(f),D=0;D<f;D++)S[D]=arguments[D];var p,b;(p=g())===null||p===void 0||(b=p.setCursor)===null||b===void 0||b.call(p,...S)},setCursorAtEnd:()=>{var f,S;(f=g())===null||f===void 0||(S=f.setCursorAtEnd)===null||S===void 0||S.call(f)},setText:function(){for(var f=arguments.length,S=new Array(f),D=0;D<f;D++)S[D]=arguments[D];var p,b;(p=g())===null||p===void 0||(b=p.value)===null||b===void 0||b.call(p,...S)},...v},()=>{delete o[C]}}m(i,"registerInputAuto");function h(c){let{viewContext:E,channelId:v,threadTs:g}=c;return o[`${E}-${v}-${g||void 0}`]}m(h,"getInputProxy");function l(c){if(!c||!Object(r.a)(c))return null;let E,v,g;return Object(d.a)(c,I=>I.getAttribute("data-message-input")?(E=I.getAttribute("data-channel-id"),v=I.getAttribute("data-thread-ts"),g=I.getAttribute("data-view-context"),!0):!1)?h({viewContext:g,channelId:E,threadTs:v}):null}m(l,"getProxyForElement");function u(){let{channelId:c,threadTs:E}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const v=`${c}-${E}`,g=Object.keys(o);return Object(n.a)(g,O=>Object(t.a)(O,v))}m(u,"isInputRegistered")},RBHu:function(K,s,e){"use strict";e.d(s,"o",function(){return a}),e.d(s,"n",function(){return r}),e.d(s,"m",function(){return d}),e.d(s,"r",function(){return o}),e.d(s,"z",function(){return i}),e.d(s,"s",function(){return h}),e.d(s,"w",function(){return l}),e.d(s,"v",function(){return u}),e.d(s,"u",function(){return c}),e.d(s,"t",function(){return E}),e.d(s,"y",function(){return v}),e.d(s,"D",function(){return g}),e.d(s,"x",function(){return O}),e.d(s,"A",function(){return I}),e.d(s,"C",function(){return C}),e.d(s,"B",function(){return f}),e.d(s,"l",function(){return S}),e.d(s,"k",function(){return p}),e.d(s,"j",function(){return b}),e.d(s,"d",function(){return M}),e.d(s,"e",function(){return _}),e.d(s,"f",function(){return P}),e.d(s,"q",function(){return y}),e.d(s,"a",function(){return j}),e.d(s,"b",function(){return U}),e.d(s,"p",function(){return W}),e.d(s,"h",function(){return L}),e.d(s,"F",function(){return R}),e.d(s,"H",function(){return A}),e.d(s,"G",function(){return B}),e.d(s,"E",function(){return J}),e.d(s,"c",function(){return Y}),e.d(s,"i",function(){return ie}),e.d(s,"I",function(){return de}),e.d(s,"g",function(){return pe});var n=e("nNoG");const t=new n.b("huddles"),a="huddle_start_mark",r="huddle_rooms_join_start_mark",d="huddle_rooms_join_end_mark",o="huddle_render_player_tti",i="huddle_time_rooms_join",h="huddle_time_audio_session_started",l="huddle_time_first_presence_received",u="huddle_time_chime_session_started_connecting",c="huddle_time_chime_session_started",E="huddle_time_audio_video_observer_start",v="huddle_time_meeting_session_initialized",g="huddle_time_you_joined_sound",O="huddle_time_free_willy_sdk_init",I="huddle_time_voice_focus_loaded",C="huddle_time_voice_focus_start_loading",f="huddle_time_voice_focus_loading_time",S="huddle_quick_join",D="huddle_quick_join_failure",p="huddle_quick_join_credentials_received",b="huddle_quick_join_credentials_cleared",M="huddle_chime_credentials_received_mark",_="huddle_chime_sdk_bootstrap_time",P="huddle_chime_voice_focus_init_time",y=150,j="connect_to_media_service",U="fetch_credentials",W="huddles:time_to_interactive",L="huddles_metrics",R="reconnect_count",A="reconnect_count:success",B="reconnect_count:failure",F="start_attempt",k="huddles:start_attempt",V="start_huddle",X="huddles:no_audio_input",J="no_audio_input",Y="A01",ie="prog_disc_huddles_explainer_tip_text",de=m(oe=>{let{experimentHuddlesLoungeMusicPlayerGroupOn:me}=oe;return[{label:me?t.t("Right when I join"):"",value:1,key:"when_joining"},{label:me?t.t("After 30 seconds"):"",value:30,key:"after_30_secs"},{label:me?t.t("After 1 minute"):"",value:60,key:"after_1_min"}]},"getMusicTimeoutPickerOptions"),pe=50},RBep:function(K,s,e){K.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},RIOX:function(K,s,e){K.exports=e.p+"home-preview-8baaf03.jpg"},RMmo:function(K,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("jtkq"),t=e.n(n),a=e("vJtL"),r=e("HiDb"),d=e("s4P+");const o=t.a.prototype.stopCallback;t.a.prototype.stopCallback=()=>!1;const i=m(E=>o(E,E.target),"filterInput"),h=m((E,v)=>function(){for(var g=arguments.length,O=new Array(g),I=0;I<g;I++)O[I]=arguments[I];const C=O[0];v(C)||E(...O)},"makeFilteredHandler"),l=m((E,v)=>{const g=v[0];return g?l(h(E,g),v.slice(1)):E},"applyFilters"),u=m(E=>[E.ignoreInputs&&i,E.filter].filter(a.a),"getFiltersForCommand");let c=m(class{bindAll(v){v.forEach(g=>{const O=u(g);g.handler=l(g.handler,O),this.mousetrap.bind(g.keys,g.handler,g.action)})}reset(){this.mousetrap.destroy()}unbindAll(v){this.mousetrap.unbind(Object(r.a)(v,"keys"))}trigger(v,g){this.mousetrap.trigger(v,g)}constructor(v){var g,O,I,C;let f=v;f&&!(f instanceof HTMLElement||f instanceof Document||(f==null||(g=f.constructor)===null||g===void 0?void 0:g.name)==="HTMLDocument"||(f==null||(O=f.constructor)===null||O===void 0?void 0:O.name)==="HTMLDivElement"||(f==null||(I=f.constructor)===null||I===void 0?void 0:I.name)==="HTMLElement"||(f==null||(C=f.constructor)===null||C===void 0?void 0:C.name)==="HTMLInputElement")&&(Object(d.b)().error("Invalid element passed to KeyCommands"),f=void 0),t.a.addKeycodes({188:"comma"}),this.mousetrap=new t.a(f)}},"KeyCommands")},RTHw:function(K,s,e){"use strict";e.d(s,"c",function(){return l}),e.d(s,"a",function(){return u}),e.d(s,"d",function(){return c}),e.d(s,"b",function(){return E});var n=e("NFsq"),t=e("xwCZ"),a=e("ZOzc"),r=e("beVI"),d=e("rKeN"),o=e("fNsR"),i=e("G0eX"),h=e("q0lC");const l=m(v=>Object(d.a)(v)?Object(o.a)(v,{prefName:"who_can_manage_public_channels"}):!1,"canUserManagePublicChannelsInOrgDash"),u=m(v=>Object(d.a)(v)?Object(o.a)(v,{prefName:"who_can_manage_private_channels"}):!1,"canUserManagePrivateChannelsInOrgDash"),c=m(v=>{const g=Object(r.g)(v);return Object(i.H)(g)?Object(h.f)(v):!1},"canUserManagePublicChannelsInTeamSite"),E=m(v=>{const g=Object(r.g)(v);if(!Object(i.H)(g)||Object(i.G)(g)&&!Object(a.a)(v,"has_compliance_export"))return!1;const O=Object(a.a)(v,"who_can_manage_private_channels_at_workspace_level");if(!O)return!1;const I=Object(t.c)(v);if(Object(n.a)(O.user,I.id))return Object(h.f)(v);const C=O.type;switch(C&&C.length!==0?C[0]:null){case"NO_ONE":return!1;case"WORKSPACE_PRIMARY_OWNER":return Object(h.h)(v);case"WORKSPACE_OWNERS":return Object(h.g)(v);default:return!1}},"canUserManagePrivateChannelsInTeamSite")},RU1E:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Set a value that represents whether we are currently in the boot phase");t.meta={name:"createAction",key:"createActionsetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"};const a=Object(n.a)("Set a value that represents whether we are currently performing a warm boot");a.meta={name:"createAction",key:"createActionsetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"}},RW41:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("O86Y"),t=e("IHnR"),a=e("G0eX");function r(d,o){if(!d||!o)return!1;const i=Object(a.n)(o);if(Object(n.i)(d)===i||Object(n.g)(d)===i)return!1;const h=Object(n.d)(d);return h&&h===o.enterprise_id?!1:Object(t.b)(d,o.id)}m(r,"isTeamExternal")},RXuJ:function(K,s,e){K.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},RaLP:function(K,s,e){K.exports=e.p+"emoji_missing-39b2f0a.png"},RfUG:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("i5Ig"),r=e("QYtq");function d(){return d=Object.assign||function(i){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])}return i},d.apply(this,arguments)}m(d,"_extends");const o=m(i=>{const{renderMenu:h,onPopoverOpen:l,onPopoverClose:u,isDisabled:c=!1,closeOnSelect:E=!0,onTriggerClose:v,onMenuItemSelected:g,onMenuKeyDown:O,...I}=i,C=m(()=>{l&&l()},"onOpenProp"),f=m(D=>{const{onClose:p,...b}=D,M=m((j,U)=>{p&&p(j),u&&u(j)},"onCloseProp"),y=h({...D,onTriggerClose:m(j=>{p&&p(j),v&&v(j)},"onTriggerClose"),onMenuItemSelected:m((j,U)=>{E&&(p&&p(U),u&&u(U)),g&&g(j,U)},"onMenuItemSelected"),onMenuKeyDown:O});return y?t.a.createElement(r.a,d({shouldFade:!1,onClose:M,onOpen:C},b),y):!1},"renderPopover");if(f.displayName="renderPopover",c)return typeof i.children=="function"?i.children(a.b):i.children;const S=i.isContextMenu?a.b:{"aria-haspopup":"menu"};return t.a.createElement(r.b,d({},I,{triggerProps:S,renderPopover:f}),i.children)},"MenuTrigger");o.displayName="MenuTrigger",s.a=o},RkbV:function(K,s,e){"use strict";var n=e("n3tL"),t=e("OZf9"),a=e("pHS2"),r=e("SQ0V"),d=e("cBLH"),o=e("ZYJ2"),i=e("cQw7"),h=e("Jhy3"),l=e("O86Y"),u=e("+l5E"),c=e("d/FZ"),E=e("aVws"),v=e("lhZz"),g=e("G5NC"),O=e("E97Y"),I=e("3TsL"),C=e("9Gfp"),f=e("E3dU"),S=e("u4cD"),D=e("FUEd"),p=e("g3FH"),b=e("Wn1n"),M=e("hiGJ"),_=e("ZKjC"),P=e("UOL+");const y=Object(_.b)((J,Y)=>{var ie,de,pe;return((ie=Object(P.a)(J))===null||ie===void 0||(de=ie.messageActivity)===null||de===void 0||(pe=de.recentActivity)===null||pe===void 0?void 0:pe[Y])||[]});y.meta={name:"createSelector",key:"createSelectorselectMessageActivityForType",description:(J,Y)=>{var ie,de,pe;return((ie=Object(P.a)(J))===null||ie===void 0||(de=ie.messageActivity)===null||de===void 0||(pe=de.recentActivity)===null||pe===void 0?void 0:pe[Y])||[]}};var j;(function(J){J.DM="dm"})(j||(j={}));var U=e("7xYR");function W(){if(!Object(g.a)()||!U.getFocusedWorkspace)return!1;const J=Object(v.getStateForClientStore)(),Y=Object(U.getFocusedWorkspace)(J);return Object(b.a)(Object(v.getStateByTeamId)(Y))}m(W,"getFocusedWorkspacePrimaryView");const L=Object(r.c)("process dm messages for Megaphone client event",(J,Y,ie)=>{const de=Y();if(!Object(O.g)(Object(f.d)(de,Object(u.y)(ie))))return;const oe=5,me=1,re=60*3,ve=Date.now()/1e3,q=j.DM,ce=y(de,q);ce.push(ie);const he=Object(C.a)(de),Se=W();let se,H=0,Oe=0,$=[];ce.forEach(z=>{const be=Object(u.y)(z);if(Se!==be)return;const Z=+Object(I.a)(z);if(ve-Z>re)return;const G=Object(u.O)(z);he===G?H+=1:(Oe+=1,se=G),$.push(z)}),H+Oe>=oe&&H>=me&&Oe>=me&&Object(D.c)(de,se)===p.a&&(J(Object(S.a)({type:"messaging_activity"})),$=[]),J(Object(M.a)({type:q,messages:$}))});L.meta={name:"createThunk",key:"createThunkprocessDmMegaphoneClientEvent",description:"process dm messages for Megaphone client event"};var R=L;const A=Object(r.c)("Process received/sent messages",(J,Y,ie)=>{if(!Object(g.a)()||!U.isFocusedWorkspaceInTeamOrEnterprise)return;const de=Object(l.h)(Y());if(!de)return;const pe=Object(E.a)(de),oe=Object(v.getStateForClientStore)();if(!Object(U.isFocusedWorkspaceInTeamOrEnterprise)(oe,de))return;const me=W();me&&ie.forEach(re=>{const ve=re,q=Object(u.y)(ve);!q||me!==q||Object(c.a)(ve)||Object(v.dispatchForTeamId)(pe,R(ve))})});A.meta={name:"createThunk",key:"createThunkprocessIncomingMessages",description:"Process received/sent messages"};var B=A,F=e("HYaO"),k=e("xcHN");const V=Object(r.c)("Appends raw / unprocessed messages to the messages and history stores",(J,Y,ie)=>{const de=J(Object(i.a)({imsgs:ie}));J(Object(h.a)(de));const pe=Object(l.h)(Y());if(pe)return J(B(de)),Object(t.a)(Object(a.a)(ie,"channel"),(oe,me)=>{var re;if(!oe.length)return;const ve={channelId:me,timestamps:oe.map(q=>q==null?void 0:q.ts),oldest:(re=oe[0])===null||re===void 0?void 0:re.ts,hasMore:!1,append:!0};J(Object(d.a)(ve)),Object(o.c)(pe,me,ve.timestamps)}),Object(t.a)(Object(a.a)(ie.filter(F.a),oe=>Object(k.c)(oe.channel,oe.thread_ts)),(oe,me)=>{var re;oe.length&&J(Object(d.a)({channelId:me,timestamps:oe.map(ve=>ve==null?void 0:ve.ts),oldest:(re=oe[0])===null||re===void 0?void 0:re.ts,hasMore:!1,append:!0}))}),de});V.meta={name:"createThunk",key:"createThunkappendMessages",description:"Appends raw / unprocessed messages to the messages and history stores"},V.propTypes=n.default.arrayOf(n.default.shape({ts:n.default.string.isRequired,channel:n.default.string.isRequired}));var X=s.a=V},RnUY:function(K,s,e){K.exports=e.p+"template_screenshot_team_priorities-ec738db.png"},RqXZ:function(K,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("MwVV"),r=e.n(a),d=e("WSQ4"),o=e("V2uK");function i(){return i=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}return c},i.apply(this,arguments)}m(i,"_extends");const h=Object(o.c)(o.a.REACT_VIRTUALIZED,c=>r()(c));function l(c){let{refToForward:E,...v}=c;const{window:g}=Object(n.useContext)(d.a),O=h(g).List;return t.a.createElement(O,i({ref:E},v))}m(l,"PortableReactVirtualizedList"),l.displayName="PortableReactVirtualizedList";const u=t.a.forwardRef((c,E)=>t.a.createElement(l,i({refToForward:E},c)))},Rt42:function(K,s,e){K.exports=e.p+"slackbot_neutral_360-7309dbd.png"},RwMM:function(K,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return r});var n=e("Tb1M"),t=e("w/U0");const a=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let r=m(class bs{normalizeAndScore(o){const i=Object(n.a)(o);return i===this.normalizedQuery?0:this.score(i)}score(o){if(!o||this.queryNoSeparators.length>o.replace(a,"").length||!bs.containsAllLetters(o,this.queryNode)||!this.queryNode)return 1/0;const h=bs.lettersToGraph(o,this.options);if(!h)return 1/0;const l=bs.searchWordBoundariesOnly(h,this.queryNode,this.options);if(!l)return 1/0;const u=bs.countResult(l);return u>this.fuzzyLimit?1/0:u}static scoreOnce(o,i,h){const l=Object(n.a)(i),u=Object(n.a)(o);return new bs(l,h).score(u)}static lettersToGraph(o,i){const h=o.split(""),l=h.shift();return bs.lettersToGraphWorker(l,null,h,[],0,i)}static lettersToGraphWorker(o,i,h,l,u){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!o)return null;const E=Object(t.a)(o),v=bs.makeLetterNode(o,i,l,u,E);if(bs.shouldAddJump(i,v,c)){const O=c.fuzzyJumpLimit||5;l.length<O&&l.push(v)}const g=bs.lettersToGraphWorker(h.shift(),v,h,l,u+1,c);return g&&(v.next=g),v}static shouldAddJump(o,i){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i.ignored?!1:!!(!o||o.ignored&&!i.ignored||h.fuzzyCJK&&(o.isCJK!==i.isCJK||i.isCJK))}static makeLetterNode(o,i,h,l,u){return{letter:o,ignored:o.match(a),next:null,prev:i,jumps:h,visited:!1,index:l,isCJK:u}}static queryToLinkedList(o){if(!o)return null;let i=o.split("");return i.length>1024&&(i=i.slice(0,1024)),bs.queryToLinkedListWorker(i,0)}static queryToLinkedListWorker(o,i){if(i>=o.length)return null;const h=o[i],l=!!(h.match(a)&&(i!==0||o.length>1));return{letter:h,isSeparator:l,isSpace:h===" ",next:bs.queryToLinkedListWorker(o,i+1),index:i}}static searchWordBoundariesOnly(o,i){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=bs.searchWordBoundariesOnlyWorker(o,i,0,h);return l||(l=o.jumps.reduce((u,c)=>u||c===o?u:bs.searchWordBoundariesOnlyWorker(c,i,1,h),null)),l}static searchWordBoundariesOnlyWorker(o,i,h){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!o||!i)return null;let u;if(!o.visited&&(o.letter===i.letter||o.ignored&&i.isSeparator)&&(u={node:o,count:h}),!u)return null;if(!i.next)return u;o.visited=!0;let c=bs.searchWordBoundariesOnlyWorker(o.next,i.next,0,l),E=i.next;for(;E.isSeparator&&E.next;)E=E.next;return c||(c=o.jumps.reduce((v,g)=>v||g.visited||g===o||(l.searchForwardOnly||l.substringsOnly)&&g.index<o.index||l.substringsOnly&&g.index>o.index+2?v:bs.searchWordBoundariesOnlyWorker(g,E,1,l),null)),o.visited=!1,c?(u.next=c,u):null}static countResult(o){return o?o.count+bs.countResult(o.next):0}static containsAllLetters(o,i){let h=i;for(;h;){if(!(h.isSeparator||o.includes(h.letter)))return!1;h=h.next}return!0}constructor(o,i={}){this.normalizedQuery=Object(n.a)(o),this.queryNode=bs.queryToLinkedList(this.normalizedQuery),this.options=i;var h;this.fuzzyLimit=(h=this.options.fuzzyLimit)!==null&&h!==void 0?h:1/0,this.queryNoSeparators=this.normalizedQuery.replace(a,"")}},"FuzzyMatcher")},S4nM:function(K,s,e){"use strict";e.d(s,"k",function(){return E}),e.d(s,"f",function(){return C}),e.d(s,"j",function(){return P}),e.d(s,"i",function(){return j}),e.d(s,"b",function(){return L}),e.d(s,"g",function(){return B}),e.d(s,"c",function(){return V}),e.d(s,"e",function(){return Y}),e.d(s,"a",function(){return ie}),e.d(s,"h",function(){return oe}),e.d(s,"d",function(){return me});var n=e("AFNo"),t=e("DwFS"),a=e("3REw"),r=e("S4vl"),d=e("kBpe"),o=e("RgZo"),i=e("beVI"),h=e("G0eX"),l=e("RVJP"),u=e("x+oO"),c=e("LZPg");const E=Object(t.a)("Update part or all of the call");E.meta={name:"createAction",key:"createActionupdate",description:"Update part or all of the call"};const v=Object(t.a)("Update the active call token");v.meta={name:"createAction",key:"createActionsetServerToken",description:"Update the active call token"};const g=Object(t.a)("Update the elapsed call time");g.meta={name:"createAction",key:"createActiontickCallTime",description:"Update the elapsed call time"};const O=Object(t.a)("update state to notify active call window is closed");O.meta={name:"createAction",key:"createActioncallWindowClosed",description:"update state to notify active call window is closed"};const I=Object(t.a)("Show slow network alert");I.meta={name:"createAction",key:"createActionshowSlowNetworkAlert",description:"Show slow network alert"};const C=Object(t.a)("Hide slow network alert");C.meta={name:"createAction",key:"createActionhideSlowNetworkAlert",description:"Hide slow network alert"};const f=Object(t.a)("Set no media input from microphone or camera");f.meta={name:"createAction",key:"createActionsetNoMediaInput",description:"Set no media input from microphone or camera"};const S=Object(t.a)("Clear no media input from microphone or camera");S.meta={name:"createAction",key:"createActionclearNoMediaInput",description:"Clear no media input from microphone or camera"};const D=Object(t.a)("Set no audio output");D.meta={name:"createAction",key:"createActionsetNoAudioOutput",description:"Set no audio output"};const p=Object(t.a)("Clear no audio output");p.meta={name:"createAction",key:"createActionclearNoAudioOutput",description:"Clear no audio output"};const b=Object(t.a)("Set no or low input audio level");b.meta={name:"createAction",key:"createActionsetNoOrLowInputAudioLevel",description:"Set no or low input audio level"};const M=Object(t.a)("Clear no or low input audio level");M.meta={name:"createAction",key:"createActionclearNoOrLowInputAudioLevel",description:"Clear no or low input audio level"};const _=Object(t.a)("Start session timeout check");_.meta={name:"createAction",key:"createActionstartSessionTimeoutCheck",description:"Start session timeout check"};const P=Object(t.a)("Stop session timeout check");P.meta={name:"createAction",key:"createActionstopSessionTimeoutCheck",description:"Stop session timeout check"};const y=Object(t.a)("Maybe start peer joining timeout check");y.meta={name:"createAction",key:"createActionmaybeStartPeerJoinTimeoutCheck",description:"Maybe start peer joining timeout check"};const j=Object(t.a)("Stop peer joining timeout check");j.meta={name:"createAction",key:"createActionstopPeerJoinTimeoutCheck",description:"Stop peer joining timeout check"};const U=Object(t.a)("Store gleaned contextual information from the url");U.meta={name:"createAction",key:"createActionsetInitialContext",description:"Store gleaned contextual information from the url"};const W=Object(t.a)("Set call view mode");W.meta={name:"createAction",key:"createActionsetCallViewMode",description:"Set call view mode"};const L=Object(t.a)("Ends call");L.meta={name:"createAction",key:"createActionendCall",description:"Ends call"};var A=Object(n.b)({},{hasJoined:!1,hasSelfConnected:!1,hasRemotePeerConnected:!1,hasVideoBeenEnabled:!1,hasScreenshareBeenEnabled:!1,elapsedDisplayTime:Object(o.a)(0),viewMode:a.b.SPEAKER},{storeKey:"activeCall",persistenceEnabled:!1}).on(U,(q,ce)=>{let{viewId:he,inviterUserId:Se}=ce,se,H,Oe;return Object(a.t)(he)?se=he:Object(a.v)(he)?H=he:Object(a.x)(he)&&(Oe=he),{...q,id:se,conversationId:H,incomingInviterUserId:Se,incomingInviteResponse:Object(d.i)()?void 0:a.f.Accept,virtualRoomId:Oe}}).on(E,(q,ce)=>{let{terminalState:he}=ce;return q.terminalState&&(he=q.terminalState),{...q,...ce,terminalState:he}}).on(O,(q,ce)=>{let{isCallWindowClosed:he}=ce;return{...q,isCallWindowClosed:he}}).on(W,(q,ce)=>{let{callViewMode:he}=ce;return{...q,viewMode:he}}).on(g,q=>q.callStartedTimestamp?{...q,elapsedDisplayTime:Object(o.a)(Date.now()-q.callStartedTimestamp*1e3)}:q).on(v,(q,ce)=>{let{token:he,tokenExpiry:Se}=ce;return q.server?{...q,server:{...q.server,token:he,tokenExpiry:Se}}:(Object(r.b)("Cannot set server token without a server"),q)}).on(c.ob,(q,ce)=>({...q,hasVideoBeenEnabled:q.hasVideoBeenEnabled||!!ce.isCameraEnabled,hasScreenshareBeenEnabled:q.hasScreenshareBeenEnabled||!!(Object(c.ab)(ce)&&ce.isScreenshareEnabled),hasSelfConnected:q.hasSelfConnected||!!(Object(c.ab)(ce)&&ce.isConnected)})).on(c.qb,(q,ce)=>({...q,hasVideoBeenEnabled:q.hasVideoBeenEnabled||!ce.isContent,hasScreenshareBeenEnabled:q.hasScreenshareBeenEnabled||ce.isContent})).on(c.lb,(q,ce)=>({...q,hasRemotePeerConnected:q.hasRemotePeerConnected||!!ce.isConnected})).on(c.mb,(q,ce)=>({...q,hasScreenshareBeenEnabled:q.hasScreenshareBeenEnabled||!!ce.isScreenshareEnabled}));const B=m(q=>!!q.activeCall.incomingInviterUserId&&!q.activeCall.incomingInviteResponse,"isIncomingInvitePending"),F=m(q=>!!q.activeCall.incomingInviterUserId,"wasInvitedToCall"),k=m(q=>!!q.activeCall.conversationId&&Object(a.w)(q.activeCall.conversationId),"wasCreatedFromDm"),V=m(q=>{var ce;return q==null||(ce=q.activeCall)===null||ce===void 0?void 0:ce.id},"getActiveCallId"),X=m(q=>q.activeCall.server,"getActiveCallServer"),J=m(q=>q.activeCall.conversationId,"getActiveConversationId"),Y=m(q=>q.activeCall&&q.activeCall.dynamicSurvey,"getDynamicSurveyRates"),ie=m(q=>q.activeCall.hasSelfConnected&&q.activeCall.hasRemotePeerConnected,"didSelfAndPeerConnect"),de=m(q=>q.activeCall.terminalState,"getActiveCallTerminalState"),pe=m(q=>{if(!(!q.activeCall||!q.activeCall.server))return q.activeCall.server.hostname?a.h.ORCA:a.h.FREE_WILLY},"getCallMediaBackendType"),oe=m(q=>q.activeCall.isShroudVisible,"isShroudVisibleInCallWindow"),me=m(q=>{var ce;return(ce=q.activeCall)===null||ce===void 0?void 0:ce.viewMode},"getCallViewMode"),re=m(q=>{var ce,he;return q==null||(ce=q.activeCall)===null||ce===void 0||(he=ce.sharedInConversations)===null||he===void 0?void 0:he[0]},"getCallSharedInConversation"),ve=m(q=>{const ce=Object(i.g)(q),he=J(q)||re(q);return!!he&&Object(l.d)(q,"sponsored_connections_translations")==="on"&&Object(h.F)(ce)&&Object(u.b)(q,he)},"isSponsoredConnectionsChannel")},SNS2:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ZobM");function d(i){let{className:h="",size:l,"data-qa":u}=i;return t.a.createElement("span",{className:Object(a.default)(h,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":l===16}),style:{width:`${l}px`,height:`${l}px`},"data-qa":u},t.a.createElement("span",{className:"c-hidden_user_avatar--icon"},t.a.createElement(r.a,{size:l<=24?"16":"24",name:"user-hide"})))}m(d,"HiddenUserAvatar"),d.displayName="HiddenUserAvatar";var o=s.a=t.a.memo(d)},SRu2:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("OqoL");const t=m((a,r)=>{const d={...r,type:"message",is_ephemeral:!0,text:Object(n.b)(a,r.text,{isInternalMessage:!0})};return d.username?d.subtype="bot_message":d.user="USLACKBOT",d},"buildBotMessage")},SS7u:function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},Se5r:function(K,s,e){K.exports=e.p+"ava_0022-192-0cc433a.png"},"Sf+H":function(K,s,e){"use strict";var n=e("yIs4"),t=e("ifKl"),a=e("q1tI"),r=e.n(a),d=e("BHdc"),o=e("WIr4"),i=e("Gs4e"),h=e("95ku"),l=e("oEDn"),u=e("i9y5"),c=e("2K8U"),E=e("MYuU"),v=e("eH51"),g=e("1ufr"),O=e("azFB"),I=e("nNoG");function C(){return C=Object.assign||function(P){for(var y=1;y<arguments.length;y++){var j=arguments[y];for(var U in j)Object.prototype.hasOwnProperty.call(j,U)&&(P[U]=j[U])}return P},C.apply(this,arguments)}m(C,"_extends");const f=new I.b("select"),S=1e4,D={ArrowLeft:!0,ArrowRight:!0},p={Backspace:!0,Delete:!0};let b=m(class extends a.Component{componentDidMount(){const{inputRef:y,focusOnMount:j,expandOnFocus:U}=this.props,W=y&&y.current;j&&(!this.state.hasFocus&&W&&W.focus(),U&&this.showOptionsList())}componentDidUpdate(y,j){const{inputRef:U,selectState:W,focusOnMount:L}=this.props,{selectedOption:R}=W,{selectState:A}=y,{selectedOption:B}=A,F=U&&U.current,{hasFocus:k,focusedViaMouse:V}=this.state;R&&k&&!V&&(R!==B||!j.hasFocus)&&setTimeout(()=>{F==null||F.select()},50),L&&y.focusOnMount!==L&&(this.state.hasFocus||F==null||F.focus())}componentWillUnmount(){this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(y){const{inputRef:j,selectState:U,onClick:W,expandOnClick:L,searchOnClick:R}=this.props,{isDisabled:A,isExpanded:B,selectedOption:F}=U;if(A)return;const k=j&&j.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),k==null||k.focus()),(L||F)&&!B&&this.showOptionsList({searchOnClick:R}),W&&W(y)}onBlur(y){y.persist();const{onBlur:j}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{j&&j(y)})}onFocus(y){y.persist();const{onFocus:j}=this.props;this.setState(()=>({hasFocus:!0}),()=>{j&&j(y)})}onInputChanged(y){const{selectState:j,setSelectState:U,expandOnClick:W}=this.props,{isExpanded:L,selectedOption:R}=j;if(this.backspaceOrDeletePressed&&y.length===0&&R){U(()=>({filterQuery:y,selectedOption:null,displayQuery:y}));return}L?!W&&!y&&U(()=>({isExpanded:!1})):this.showOptionsList(),U(()=>({filterQuery:y,displayQuery:y}))}onKeyPressedEnter(y){this.props.selectState.isExpanded?y.preventDefault():(this.showOptionsList(),y.stopPropagation())}onKeyPressedEscape(y){const{selectState:j,setSelectState:U,resultsInPopover:W,onEsc:L,onOptionsListClose:R}=this.props;j.isExpanded&&W&&(y.stopPropagation(),L&&L(),R&&R(),U(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:y,onOptionsListClose:j,selectState:U}=this.props;j&&j();const{activeRowIndex:W,initialActiveOption:L}=U;typeof W!="number"&&!L&&y(()=>({isExpanded:!1}))}onUpOrDownPressed(y){y.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),y.stopPropagation())}onWrapperKeyDown(y){const{key:j}=y;if(D[j]){this.onUpOrDownPressed(y);return}if(j==="Enter"){this.onKeyPressedEnter(y);return}if(j==="Escape"){this.onKeyPressedEscape(y);return}j==="Tab"&&this.onKeyPressedTab()}onInputKeyDown(y){const{key:j}=y,U=p[j],W=D[j],L=U||W||Object(v.a)(y);this.setState(()=>({cursorVisible:L})),this.backspaceOrDeletePressed=U}maybeRenderIconOrLoading(){const{showDropdownIcon:y,isLoading:j,size:U,expandOnClick:W}=this.props;if(j)return r.a.createElement(u.a,{className:"c-select_input__spinner",color:"blue",size:U===c.f.LARGE?"large":"medium"});if(!y||!W)return null;const L=U===c.f.SMALL?"chevron-down":"chevron-medium-down";return r.a.createElement(l.a,{inline:!0,type:L})}showOptionsList(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:j}=y;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:j}))}updateOptionsListPosition(){const{selectState:y}=this.props,{isExpanded:j}=y;if(!j&&this.measurePopoverEvent){var U;(U=this.props.window)===null||U===void 0||U.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:y,renderSelectedOption:j,classPrefix:U,selectDataQa:W,hideSelectedOptionOnDropdownOpen:L}=this.props,{isExpanded:R,selectedOption:A}=y;if(this.state.cursorVisible||!A||R&&(L||y.filterQuery))return null;const B=Object(d.default)("c-select_input__content",{[`${U}__select_input_content`]:U});return r.a.createElement("div",{className:B,"data-qa":W?`${W}-input-content`:null},r.a.createElement("span",{className:"c-select_input__content_text"},j&&j(A)))}renderTextInput(){const{selectDataQa:y,inputRef:j,classPrefix:U,ariaLabelledBy:W,ariaDescribedBy:L,icon:R,maxCharacterLimit:A,size:B,selectState:F,autoClogProps:k}=this.props,{activeRowIndex:V,filterQuery:X,isDisabled:J,isExpanded:Y,isInvalid:ie,isRequired:de,selectedOption:pe,selectId:oe=""}=F;let me;X||!Y&&pe?me=null:me=this.props.placeholderText||f.t("Please select an option");const re=Y&&Object(n.a)(V)?Object(E.a)(oe,`option_${V}`):null,ve=!this.state.cursorVisible&&pe&&!Y,q=Object(d.default)("c-select_input",{"c-select_input--offscreen":ve,"c-select_input--invalid":ie,[`${U}__select_input`]:U}),ce=Object(E.e)([L,Object(E.a)(oe,"initial-focus")]),Se=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible?X||pe&&pe.label:X,se={spellCheck:!1,className:q,id:oe,name:oe,"aria-activedescendant":re,"aria-autocomplete":"list","aria-expanded":Y,"aria-owns":Object(E.a)(oe,"listbox"),"aria-required":de,"aria-label":this.props["aria-label"],"aria-labelledby":W,"aria-describedby":ce,isInvalid:ie,autoComplete:"off",isDisabled:J,onChange:this.onInputChanged,placeholder:me,value:Se||"","data-qa":y?`${y}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onInputKeyDown,role:"combobox",autoClogProps:k};return R||A?r.a.createElement(h.a,C({},se,{icon:R,size:B,maxCharacterLimit:A,showError:!1,type:"text",inputRef:j,isInvalid:ie})):r.a.createElement(i.b,C({},se,{ref:j}))}render(){const{icon:y,size:j,selectDataQa:U,width:W,classPrefix:L,showDropdownIcon:R,selectState:A}=this.props,{isInvalid:B}=A,F=Object(d.default)("c-select_input__wrapper",{[`c-select_input--${j}`]:j,"c-select_input--with_icon_right":R,"c-select_input--with_icon_left":!!y,"c-select_input--invalid":B,[`${L}__select_input_wrapper`]:L}),k=Object(d.default)("c-select_input__input_container",{[`${L}__select_input_container`]:L});return r.a.createElement("div",{role:"presentation",className:F,style:{width:W},onClick:this.onClick,onKeyDown:this.onWrapperKeyDown,"data-qa":U?`${U}-wrapper`:null},r.a.createElement("div",{className:k},this.renderTextInput(),this.renderInputContent()),r.a.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(y){super(y),Object(o.a)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onWrapperKeyDown","onInputKeyDown","onInputChanged","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=r.a.createRef(),this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},y.measurePopoverEventName&&(this.measurePopoverEvent=new Event(y.measurePopoverEventName))}},"SelectInput");b.displayName="SelectInput",b.defaultProps={autoClogProps:void 0,inputRef:null,onClick:t.a,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,measurePopoverEventName:null,classPrefix:void 0,onFocus:t.a,onBlur:t.a,onEsc:t.a,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:t.a,expandOnClick:!0,searchOnClick:!1,window:O.a,expandOnFocus:!0,hideSelectedOptionOnDropdownOpen:!0};const M={SelectInput:b};var _=s.a=Object(g.a)(b)},Sf7p:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("G0eX"),d=e("fenk");const o=new a.b("find_team"),i=m(l=>{let{inviteDetails:u,externalWorkspaceBrandAssets:c,children:E}=l;var v;const g=Object(r.h)(u==null?void 0:u.inviting_team),O=c==null||(v=c.image_1_2)===null||v===void 0?void 0:v.source_url;return!u||!Object(d.h)(u)?E:t.a.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__container"},O&&t.a.createElement("img",{className:"p-external_workspace_invite_branding_wrapper__image",src:O,alt:o.t("{externalWorkspaceDisplayName} image",{externalWorkspaceDisplayName:g})}),t.a.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__contents"},E))},"ExternalWorkspaceInviteBrandingWrapper");i.displayName="ExternalWorkspaceInviteBrandingWrapper";var h=s.a=i},SgHf:function(K,s,e){"use strict";var n=e("6Tgc"),t=e("2xcd");e.d(s,"b",function(){return t.a});var a=e("JYsB");e.d(s,"a",function(){return a.a});var r=e("Iquu");e.d(s,"c",function(){return r.a}),s.d=n.a},"Sw/c":function(K,s,e){K.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},TGfC:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});const n=":";function t(r){let{serviceId:d,homeWorkspaceId:o}=r;return[o,d].join(n)}m(t,"getFetchId");function a(r){const[d,o]=r.split(n);return{serviceId:o,homeWorkspaceId:d}}m(a,"splitFetchId")},TMWO:function(K,s,e){"use strict";e.d(s,"b",function(){return O});var n=e("ZKjC"),t=e("QOYf"),a=e("G5NC"),r=e("Z44y"),d=e("GKly"),o=e("e9jb"),i=e("4MOp"),h=e("BeUZ"),u=m(()=>Object(t.a)(),"isDarkModeFeatureEnabled"),c=e("kBpe"),E=e("mYQK"),v=e.n(E);const g=m(()=>{var S;const D=Object(c.i)()||((S=window.matchMedia)===null||S===void 0?void 0:S.call(window,"(prefers-color-scheme)").media)!=="not all",p=Object(c.p)()&&Object(h.a)(Object(h.b)(v.a.osversion),Object(h.b)("10.14"))>=0,b=Object(c.y)(),M=p||b,_=Object(c.i)()||Object(a.a)()||Object(r.a)()||Object(d.a)()||Object(o.a)()||Object(i.a)();return Object(t.a)()&&D&&M&&_},"computeSystemSyncIsSupportedOnBoot"),O=g(),I=Object(n.b)(S=>!!O&&!!u(S));I.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:S=>!!O&&!!u(S)};var C=s.a=I;const f={computeSystemSyncIsSupportedOnBoot:g}},TUw0:function(K,s,e){"use strict";e.d(s,"a",function(){return j});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("Kmpi"),o=e("E3dU"),i=e("xwCZ"),h=e("Yauy"),l=e("C3vN"),u=e("52Wj"),c=e("+tZp"),E=e("Fn/R"),v=e("NV6F"),g=e("pFNT"),O=e("gv7z"),I=e("iXLD"),C=e("1EwG"),f=e("MC67"),S=e("XVAJ"),D=e("oEDn"),p=e("zUbs"),b=e("NPtR"),M=e("LvvF"),_=e("sGXp"),P=e("A4tE");function y(){return y=Object.assign||function(L){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(L[B]=A[B])}return L},y.apply(this,arguments)}m(y,"_extends");const j={right:"right",bottom:"bottom"};function U(L){const{className:R,id:A,invert:B=!1,member:F,memberPrimaryName:k,memberSecondaryName:V,secondaryContent:X,secondaryContentPosition:J=j.bottom,subtext:Y,showSubtext:ie=!0,showAvatar:de=!0,showDraftIcon:pe=!1,showPresence:oe=!0,showStatus:me=!0,showTooltip:re=!0,showAppOrBotBadge:ve=!0,isDeactivated:q=!1,useShortMode:ce,showHoverCard:he=!1,forwardedRef:Se,"data-sk":se="medium_member_entity","data-qa":H="medium_member_entity",isUserHidden:Oe=!1,noStatusText:$=!1}=L,z=Object(E.a)(F),be=Object(l.rb)(F),Z=Object(l.V)(F),G=Object(l.jb)(F),ne=Object(l.ib)(F),ge=Object(d.c)(F),ae=Object(d.d)(F),fe=t.a.createElement(p.a,{"data-qa":"member-entity__primary-name",name:k,invert:B&&!q,isAppOrBot:z,isWorkflowBot:be,showAppOrBotBadge:ve,isDeleted:Z,isSelf:G,isNonExistent:ge,isUnknown:ae,isUserHidden:Oe}),Te=Object(v.C)({memberId:A,children:fe}),ye=!Oe&&t.a.createElement(f.a,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},V),Ue=F&&t.a.createElement(C.a,{className:"c-member__title","data-qa":"member-entity__title"},Object(l.F)(F)),Ne=!Z&&!ne&&t.a.createElement(b.a,{memberId:A,className:"c-member__presence",invert:B&&!q,"data-qa":"member-entity__presence",inline:!1}),He=t.a.createElement(S.b,{memberId:A,tooltip:re,animated:ce,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:$}),ze=J===j.bottom&&X?t.a.createElement(I.a,{"data-qa":"member-entity__metadata"},X):null,Je=t.a.createElement("span",{className:"c-member__primary_content"},he?Te:fe,oe&&Ne,!ce&&ye,me&&He),Xe=Z||q?_.d.dim:void 0,Me=Object(r.default)(R,"c-member","c-member--medium",{"c-member--with-presence":oe}),Ke=Object(n.useCallback)($e=>de&&(pe?t.a.createElement(D.a,{type:"pencil",size:"inherit",className:"c-member__draft_icon","aria-hidden":!0,"data-qa":"member-entity__draft-icon"}):t.a.createElement(g.c,y({},$e,{size:_.a.medium,userId:A,"data-qa":"member-entity__avatar",isInteractive:!1}))),[de,pe,A]);return t.a.createElement(O.a,{avatar:Ke,className:Me,size:"medium",style:Xe,text:Je,subtext:ie&&(Y||Ue),metadata:!Z&&ze,"data-qa":H,"data-sk":se,forwardedRef:Se})}m(U,"MediumMemberEntity"),U.displayName="MediumMemberEntity";function W(L,R){let{id:A,isDraftContext:B,member:F,showStatus:k}=R;const V=F||Object(i.g)(L,A);let X=!1;if(B&&A){const Y=Object(o.m)(L,A);X=!!(Y&&Object(h.v)(L,Y.id))}const J=A||(V==null?void 0:V.id);return{id:J,member:V??void 0,memberPrimaryName:Object(c.a)(L,V,!1,!1),memberSecondaryName:Object(u.g)(L,V),showDraftIcon:X,showStatus:k&&Object(l.K)(V),isUserHidden:!!J&&Object(M.b)(L,J)}}m(W,"mapStateToProps"),s.b=Object(a.a)(W)(U)},TiPP:function(K,s,e){"use strict";e.d(s,"a",function(){return ie}),e.d(s,"b",function(){return oe});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("JvzI"),d=e("d/xU"),o=e("BHdc"),i=e("Cfcg"),h=e("Tevt"),l=e("Trx9"),u=e("zm5I"),c=e("aBhT"),E=e("bdgK"),v=e("oEDn");let g=m(class extends n.PureComponent{render(){const{text:ve,className:q,href:ce,tabIndex:he,autoClogProps:Se}=this.props,se=Object(o.default)("p-arrow_cta",q);return t.a.createElement("span",{className:se},ce?t.a.createElement(h.a,{href:ce,tabIndex:he,autoClogProps:Se},t.a.createElement("strong",null,ve)):t.a.createElement("strong",null,ve),t.a.createElement(v.a,{type:"arrow-large-right",inline:!0,className:"p-arrow_cta__icon"}))}},"ArrowCTA");g.displayName="ArrowCTA",g.defaultProps={tabIndex:0};var O=g;const I=new a.b("paid_onboarding"),C=436,f=202,S=140,D=22;let p=m(class extends n.PureComponent{componentDidMount(){this.setupObserver(),this.setUpMedia()}componentWillUnmount(){var ve;(ve=this.observer)===null||ve===void 0||ve.disconnect()}setupObserver(){var ve,q;if(!E.a||!(!((ve=this.cardContainerRef)===null||ve===void 0)&&ve.current)||!(!((q=this.titleRef)===null||q===void 0)&&q.current))return;const ce=m(he=>{var Se,se,H,Oe;const $=he[0],z=he[1],be=($==null?void 0:$.target.className)==="p-paid_benefits_card__container"?$==null||(Se=$.contentRect)===null||Se===void 0?void 0:Se.width:z==null||(se=z.contentRect)===null||se===void 0?void 0:se.width,Z=($==null?void 0:$.target.className)==="p-paid_benefits_card__container"?z==null||(H=z.contentRect)===null||H===void 0?void 0:H.height:$==null||(Oe=$.contentRect)===null||Oe===void 0?void 0:Oe.height;if(be>=C&&this.state.hideAssets?this.setState(()=>({hideAssets:!1})):be<C&&!this.state.hideAssets&&this.setState(()=>({hideAssets:!0})),be>=C&&Z){const G=Math.floor((f-Z)/D);G!==this.state.subtitleLines&&(G<1?this.setSubtitleLines(1):this.setSubtitleLines(G))}else if(be<C&&Z){const G=Math.floor((S-Z)/D);G!==this.state.subtitleLines&&(G<1?this.setSubtitleLines(1):this.setSubtitleLines(G))}},"observerCallback");this.observer=new E.a(ce),this.observer.observe(this.cardContainerRef.current),this.observer.observe(this.titleRef.current)}setSubtitleLines(ve){this.setState(()=>({subtitleLines:ve}))}setUpMedia(){const ve=this.videoRef.current;ve&&(ve.muted=!0)}renderVideo(){const{videoSrc:ve,videoExtension:q,videoPoster:ce}=this.props;return t.a.createElement("video",{playsInline:!0,autoPlay:!0,loop:!0,className:"p-paid_benefits_card__video",poster:`${ce||ve}.${q||"jpg"}`,ref:this.videoRef},t.a.createElement("source",{type:"video/mp4",src:`${ve}.mp4`}),t.a.createElement("source",{type:"video/webm",src:`${ve}.webm`}))}renderImage(){const{imageSrc:ve,srcSet:q,imageWidth:ce,imageHeight:he,name:Se}=this.props,se=`p-paid_benefits_card__img--${Se}`;return t.a.createElement("img",{alt:"",srcSet:q,src:ve,width:ce,height:he,className:`p-paid_benefits_card__img ${se}`})}render(){const{ctaURL:ve,name:q,imageSrc:ce,videoSrc:he,background:Se,shouldDisplayReverse:se,heading:H,title:Oe,subtitle:$,icon:z,isDarkMode:be}=this.props,Z=Object(o.default)("p-paid_benefits_card__link",{"p-paid_benefits_card__reverse_link":se,"p-paid_benefits_card__link--dark":be}),G=Object(o.default)("p-paid_benefits_card__sub_container","p-paid_benefits_card__img_container",{"p-paid_benefits_card__reverse_img_container":se,"p-paid_benefits_card__img_container--hide":this.state.hideAssets}),ne=Object(o.default)("p-paid_benefits_card__sub_container","p-paid_benefits_card__content_container"),ge=Object(o.default)("p-paid_benefits_card__icon",{"p-paid_benefits_card__icon--hide":!this.state.hideAssets});return t.a.createElement(l.a,{clogImpression:!0,elementName:`paid_benefits_card_${q}`,clogImpressionDuration:!0},t.a.createElement("div",{className:"p-paid_benefits_card__container",ref:this.cardContainerRef},t.a.createElement(h.a,{className:Z,"data-qa":"paid_benefits_card_learn_more_link",href:ve,autoClogProps:{elementName:`${q}_learn_more`,onClick:{enableClogAction:!0}}},t.a.createElement("div",{className:G,style:{background:Se}},he&&this.renderVideo(),ce&&this.renderImage()),t.a.createElement("div",{className:ne},t.a.createElement(z,{className:ge,fillColor:Se}),t.a.createElement("div",{className:"p-paid_benefits_card__heading"},H),t.a.createElement("div",{className:"p-paid_benefits_card__title",ref:this.titleRef},Oe),t.a.createElement(c.a,{breakWords:!1,lines:this.state.subtitleLines},t.a.createElement("div",{className:"p-paid_benefits_card__subtitle"},$)),t.a.createElement(O,{text:I.t("Learn more",{fallbackHash:"378cbbf54cbb2e3f3bd201f02c1b946ec3601eba"}),className:"p-paid_benefits_card__learn_more_link"})))))}constructor(ve){super(ve),this.cardContainerRef=t.a.createRef(),this.titleRef=t.a.createRef(),this.videoRef=t.a.createRef(),this.state={subtitleLines:7,hideAssets:!1}}},"PaidBenefitsCard");p.displayName="PaidBenefitsCard";const b=m(re=>({isDarkMode:Object(u.a)(re)==="dark"}),"mapStateToProps");var M=Object(i.a)(b)(p),P=t.a.memo(re=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:re.className},t.a.createElement("path",{d:"M42.0001 9.07203H35.7721C35.8299 8.11471 35.7119 7.1549 35.4241 6.24003C35.0169 4.94799 34.2695 3.78935 33.2602 2.88567C32.251 1.982 31.0171 1.3666 29.6881 1.10403C28.5771 0.876143 27.4294 0.898319 26.328 1.16895C25.2267 1.43959 24.1993 1.9519 23.3205 2.66875C22.4417 3.3856 21.7334 4.28902 21.2469 5.31352C20.7605 6.33802 20.5081 7.45792 20.5081 8.59203C20.5081 8.74803 20.5081 8.91603 20.5081 9.07203H14.2921C12.9405 9.0752 11.6451 9.61354 10.6894 10.5693C9.73363 11.525 9.1953 12.8204 9.19213 14.172V19.728C8.14061 19.6445 7.08318 19.7795 6.08639 20.1246C5.08959 20.4696 4.17499 21.0173 3.40015 21.733C2.6253 22.4487 2.00698 23.3171 1.58408 24.2834C1.16119 25.2498 0.942871 26.2932 0.942871 27.348C0.942871 28.4029 1.16119 29.4463 1.58408 30.4126C2.00698 31.379 2.6253 32.2473 3.40015 32.9631C4.17499 33.6788 5.08959 34.2264 6.08639 34.5715C7.08318 34.9165 8.14061 35.0516 9.19213 34.968V41.88C9.1953 43.2317 9.73363 44.527 10.6894 45.4828C11.6451 46.4385 12.9405 46.9769 14.2921 46.98H42.0001C43.3518 46.9769 44.6471 46.4385 45.6029 45.4828C46.5586 44.527 47.097 43.2317 47.1001 41.88V14.172C47.097 12.8204 46.5586 11.525 45.6029 10.5693C44.6471 9.61354 43.3518 9.0752 42.0001 9.07203ZM44.1001 41.88C44.097 42.436 43.8747 42.9683 43.4816 43.3615C43.0884 43.7546 42.5561 43.9769 42.0001 43.98H14.2921C13.7361 43.9769 13.2038 43.7546 12.8107 43.3615C12.4175 42.9683 12.1953 42.436 12.1921 41.88V33.096C12.1857 32.8592 12.1237 32.6273 12.0111 32.4188C11.8985 32.2104 11.7386 32.0313 11.5441 31.896C11.2922 31.7263 10.9959 31.6345 10.6921 31.632C10.5121 31.6357 10.3339 31.6682 10.1641 31.728C9.38335 32.0204 8.53827 32.0971 7.71761 31.9502C6.89694 31.8033 6.13095 31.4382 5.50003 30.8932C4.86912 30.3482 4.39655 29.6435 4.13193 28.8529C3.86731 28.0623 3.8204 27.215 3.99613 26.4C4.13505 25.7469 4.4132 25.1314 4.81161 24.5955C5.21001 24.0596 5.7193 23.6159 6.30474 23.2947C6.89017 22.9735 7.538 22.7824 8.20402 22.7343C8.87005 22.6862 9.53861 22.7823 10.1641 23.016C10.3921 23.0988 10.6366 23.1255 10.8771 23.0939C11.1175 23.0623 11.3469 22.9734 11.5457 22.8345C11.7446 22.6957 11.9071 22.511 12.0196 22.2962C12.1321 22.0813 12.1913 21.8426 12.1921 21.6V14.172C12.1921 13.6151 12.4134 13.0809 12.8072 12.6871C13.201 12.2933 13.7352 12.072 14.2921 12.072H22.3321C22.5708 12.0739 22.8064 12.0183 23.0191 11.91C23.2318 11.8017 23.4153 11.6438 23.5542 11.4497C23.693 11.2555 23.7831 11.0308 23.8169 10.7945C23.8506 10.5582 23.8271 10.3173 23.7481 10.092C23.5915 9.60734 23.5106 9.1014 23.5081 8.59203C23.5068 7.91707 23.6527 7.24994 23.9355 6.63709C24.2183 6.02424 24.6313 5.48041 25.1458 5.04347C25.6602 4.60653 26.2637 4.28698 26.9143 4.10707C27.5648 3.92716 28.2468 3.89122 28.9126 4.00176C29.5785 4.11229 30.2122 4.36664 30.7698 4.74709C31.3273 5.12754 31.7952 5.62494 32.1408 6.20467C32.4865 6.78439 32.7017 7.4325 32.7713 8.10386C32.841 8.77522 32.7634 9.4537 32.5441 10.092C32.4652 10.3173 32.4416 10.5582 32.4754 10.7945C32.5091 11.0308 32.5992 11.2555 32.7381 11.4497C32.8769 11.6438 33.0604 11.8017 33.2731 11.91C33.4858 12.0183 33.7214 12.0739 33.9601 12.072H42.0001C42.5571 12.072 43.0912 12.2933 43.4851 12.6871C43.8789 13.0809 44.1001 13.6151 44.1001 14.172V41.88Z",fill:re.fillColor}),t.a.createElement("path",{d:"M35.9999 25.812H29.9999V20.4C29.9999 20.0022 29.8418 19.6207 29.5605 19.3394C29.2792 19.0581 28.8977 18.9 28.4999 18.9C28.102 18.9 27.7205 19.0581 27.4392 19.3394C27.1579 19.6207 26.9999 20.0022 26.9999 20.4V25.812H21.5999C21.2267 25.8455 20.8796 26.0174 20.6269 26.2939C20.3741 26.5703 20.2339 26.9314 20.2339 27.306C20.2339 27.6806 20.3741 28.0417 20.6269 28.3182C20.8796 28.5947 21.2267 28.7666 21.5999 28.8H27.0119V34.8C27.0453 35.1731 27.2172 35.5202 27.4937 35.773C27.7702 36.0258 28.1312 36.166 28.5059 36.166C28.8805 36.166 29.2415 36.0258 29.518 35.773C29.7945 35.5202 29.9664 35.1731 29.9999 34.8V28.8H35.9999C36.3977 28.8 36.7792 28.642 37.0605 28.3607C37.3418 28.0794 37.4999 27.6978 37.4999 27.3C37.4999 26.9022 37.3418 26.5207 37.0605 26.2394C36.7792 25.9581 36.3977 25.8 35.9999 25.8V25.812Z",fill:re.fillColor}))),j=t.a.memo(re=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:re.className},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.186 4c.923 0 1.671.748 1.671 1.671v3.343H16.2a1.671 1.671 0 0 1 0 3.343h-3.343V15.7a1.671 1.671 0 1 1-3.342 0v-3.343H6.17a1.671 1.671 0 1 1 0-3.343h3.344V5.671c0-.923.748-1.671 1.671-1.671zm11.7 1.114a1.671 1.671 0 0 0 0 3.343h12.257a5.014 5.014 0 0 1 5.014 5.014V25.73H29.571a3.343 3.343 0 0 0-3.342 3.342v10.586H13.972a5.014 5.014 0 0 1-5.015-5.014V22.386a1.671 1.671 0 0 0-3.342 0v12.257A8.357 8.357 0 0 0 13.972 43h12.782a6.128 6.128 0 0 0 4.333-1.795l10.618-10.618a6.129 6.129 0 0 0 1.795-4.334V13.471a8.357 8.357 0 0 0-8.357-8.357H22.886zm6.685 32.88 8.922-8.923h-8.922v8.922z",fill:"#C03765"}))),W=t.a.memo(re=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:re.className},t.a.createElement("path",{d:"M16.3802 47.1C15.9184 47.0979 15.4643 46.9814 15.0584 46.7609C14.6526 46.5405 14.3077 46.2229 14.0545 45.8366C13.8013 45.4504 13.6478 45.0074 13.6076 44.5473C13.5674 44.0872 13.6419 43.6243 13.8242 43.2L20.1362 28.8H13.2002C12.5133 28.8042 11.8364 28.6345 11.2328 28.3065C10.6291 27.9785 10.1184 27.503 9.74819 26.9243C9.37797 26.3456 9.16034 25.6826 9.11558 24.9971C9.07082 24.3116 9.2004 23.6259 9.49222 23.004L18.6242 3.27598C18.9491 2.56403 19.4708 1.95983 20.1278 1.5346C20.7848 1.10937 21.5497 0.880851 22.3322 0.875977H31.9322C32.4036 0.876886 32.8671 0.996961 33.2797 1.22504C33.6922 1.45312 34.0404 1.7818 34.2918 2.18053C34.5433 2.57926 34.6898 3.03509 34.7179 3.50564C34.7459 3.9762 34.6545 4.44621 34.4522 4.87198L28.0802 18.192H36.0002C36.8049 18.1892 37.5925 18.4243 38.2638 18.868C38.9352 19.3116 39.4604 19.9438 39.7733 20.6852C40.0863 21.4265 40.173 22.2439 40.0227 23.0344C39.8723 23.8249 39.4915 24.5533 38.9282 25.128L18.3842 46.248C18.1242 46.5168 17.8128 46.7307 17.4686 46.8771C17.1244 47.0234 16.7543 47.0992 16.3802 47.1ZM22.4042 25.824C22.6542 25.8253 22.8759 25.8525 23.0954 25.972C23.3149 26.0916 23.5014 26.2637 23.6381 26.4729C23.7748 26.6821 23.8576 26.922 23.8789 27.1711C23.9002 27.4201 23.8594 27.6705 23.7602 27.9L17.0282 43.332L36.7442 23.04C36.9004 22.8873 37.0059 22.6904 37.0467 22.4758C37.0875 22.2612 37.0615 22.0393 36.9722 21.84C36.8901 21.6413 36.75 21.472 36.5702 21.3543C36.3903 21.2365 36.1791 21.1758 35.9642 21.18H25.7042C25.4509 21.1798 25.2016 21.116 24.9794 20.9944C24.7571 20.8728 24.569 20.6973 24.4322 20.484C24.3013 20.267 24.2253 20.0214 24.2107 19.7684C24.196 19.5154 24.2432 19.2626 24.3482 19.032L31.5482 3.88798H22.3322C22.1244 3.88807 21.921 3.94813 21.7465 4.06094C21.5719 4.17376 21.4337 4.33453 21.3482 4.52398L12.2402 24.288C12.1642 24.4511 12.1302 24.6306 12.1412 24.8103C12.1522 24.9899 12.2079 25.1639 12.3033 25.3165C12.3987 25.4692 12.5307 25.5955 12.6873 25.6841C12.844 25.7727 13.0203 25.8208 13.2002 25.824H22.4042Z",fill:re.fillColor}))),R=t.a.memo(re=>t.a.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:re.className},t.a.createElement("g",{clipPath:"url(#clip0)"},t.a.createElement("path",{d:"M39.6958 7.56802C37.8926 5.49468 35.6653 3.83255 33.1645 2.69394C30.6637 1.55533 27.9476 0.966766 25.1998 0.96802C24.3531 0.970215 23.5074 1.02633 22.6678 1.13602C19.4055 1.55428 16.3052 2.8036 13.6644 4.7642C11.0236 6.7248 8.93066 9.33093 7.58635 12.3327C6.24205 15.3345 5.69141 18.6313 5.98725 21.9071C6.28308 25.1828 7.41546 28.3276 9.27582 31.04L3.51582 38.444C2.84978 39.2971 2.43702 40.3203 2.32465 41.3968C2.21229 42.4732 2.40484 43.5596 2.88034 44.5319C3.35583 45.5041 4.09511 46.3231 5.01379 46.8953C5.93246 47.4676 6.99351 47.77 8.07582 47.768C8.95003 47.7691 9.81297 47.5709 10.599 47.1882C11.385 46.8056 12.0734 46.2488 12.6118 45.56L18.3598 38.24C21.4954 39.4291 24.8858 39.7846 28.1998 39.272C31.6122 38.7535 34.8217 37.3247 37.4906 35.1361C40.1594 32.9474 42.1889 30.0797 43.3655 26.8349C44.5421 23.5901 44.8222 20.0881 44.1764 16.6975C43.5306 13.3069 41.9828 10.1531 39.6958 7.56802ZM41.3518 22.424C40.8889 25.9022 39.3156 29.1381 36.866 31.6505C34.4163 34.1628 31.2212 35.8173 27.7558 36.368C26.9179 36.4962 26.0715 36.5604 25.2238 36.56C22.8604 36.5648 20.525 36.0486 18.3838 35.048C18.203 34.9647 18.0069 34.9197 17.8078 34.916C17.6164 34.9159 17.4274 34.959 17.2549 35.0421C17.0825 35.1253 16.931 35.2462 16.8118 35.396L10.2598 43.796C9.99082 44.1101 9.65524 44.3602 9.27746 44.5284C8.89968 44.6965 8.48919 44.7784 8.07582 44.768C7.55687 44.7676 7.04846 44.6214 6.60846 44.3463C6.16846 44.0711 5.81454 43.678 5.58697 43.2116C5.3594 42.7452 5.26732 42.2243 5.32121 41.7081C5.37511 41.192 5.57281 40.7013 5.89182 40.292L12.4558 31.892C12.631 31.6652 12.726 31.3866 12.726 31.1C12.726 30.8134 12.631 30.5349 12.4558 30.308C10.8025 28.1963 9.69728 25.7084 9.23848 23.0661C8.77969 20.4237 8.98162 17.7088 9.82629 15.1634C10.671 12.618 12.1321 10.321 14.0796 8.47713C16.0271 6.63324 18.4005 5.2997 20.9882 4.59532C23.576 3.89093 26.2978 3.83757 28.9112 4.43999C31.5245 5.04241 33.9483 6.2819 35.9666 8.04804C37.9849 9.81418 39.535 12.0521 40.4787 14.5625C41.4225 17.0729 41.7307 19.7777 41.3758 22.436L41.3518 22.424Z",fill:re.fillColor}),t.a.createElement("path",{d:"M25.2 9.13989C22.4134 9.14529 19.7304 10.1964 17.6816 12.0852C15.6328 13.974 14.3675 16.5629 14.136 19.3399H12.336C12.2353 19.3384 12.1364 19.3672 12.0522 19.4225C11.968 19.4777 11.9022 19.557 11.8635 19.65C11.8247 19.743 11.8147 19.8455 11.8348 19.9442C11.8549 20.0429 11.9041 20.1334 11.976 20.2039L15.168 23.4079C15.2644 23.5017 15.3936 23.5542 15.528 23.5542C15.6625 23.5542 15.7917 23.5017 15.888 23.4079L19.092 20.2039C19.164 20.1334 19.2132 20.0429 19.2333 19.9442C19.2533 19.8455 19.2433 19.743 19.2046 19.65C19.1658 19.557 19.1001 19.4777 19.0159 19.4225C18.9316 19.3672 18.8328 19.3384 18.732 19.3399H17.088C17.3057 17.4537 18.18 15.7042 19.5579 14.3979C20.9357 13.0915 22.7292 12.3115 24.6243 12.1945C26.5194 12.0775 28.3953 12.631 29.9233 13.7579C31.4514 14.8849 32.5343 16.5135 32.9823 18.3586C33.4303 20.2037 33.215 22.1476 32.3739 23.8499C31.5328 25.5521 30.1197 26.9042 28.382 27.6693C26.6443 28.4345 24.6928 28.5639 22.8693 28.0349C21.0458 27.5059 19.4665 26.3522 18.408 24.7759C18.1862 24.4473 17.8432 24.22 17.4542 24.1435C17.0652 24.0671 16.6618 24.1477 16.332 24.3679C16.0027 24.592 15.7751 24.937 15.6987 25.328C15.6223 25.719 15.7033 26.1243 15.924 26.4559C16.9937 28.0452 18.456 29.3311 20.1692 30.1885C21.8823 31.046 23.788 31.446 25.7014 31.3497C27.6147 31.2534 29.4706 30.6641 31.089 29.6389C32.7074 28.6138 34.0333 27.1876 34.9379 25.4989C35.8425 23.8102 36.2952 21.9163 36.2519 20.001C36.2087 18.0857 35.671 16.2142 34.6911 14.568C33.7112 12.9218 32.3224 11.5569 30.6594 10.6058C28.9964 9.65475 27.1158 9.14977 25.2 9.13989Z",fill:re.fillColor})),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0"},t.a.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(0 0.36792)"}))))),B=t.a.memo(re=>t.a.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:re.className},t.a.createElement("path",{d:"M38.4 4.96392H25.116L26.256 3.76392C26.5107 3.47743 26.646 3.10432 26.6342 2.72118C26.6224 2.33804 26.4644 1.97395 26.1926 1.70367C25.9207 1.43339 25.5558 1.27743 25.1726 1.26781C24.7894 1.25818 24.417 1.39563 24.132 1.65192L20.532 5.25192C20.3923 5.39126 20.2815 5.55679 20.2059 5.73902C20.1302 5.92126 20.0913 6.11662 20.0913 6.31392C20.0913 6.51122 20.1302 6.70659 20.2059 6.88882C20.2815 7.07106 20.3923 7.23659 20.532 7.37592L24.132 10.9759C24.2718 11.1169 24.4381 11.2288 24.6215 11.305C24.8048 11.3812 25.0014 11.4203 25.2 11.4199C25.3969 11.4214 25.5921 11.3828 25.7736 11.3065C25.9552 11.2301 26.1193 11.1177 26.256 10.9759C26.3953 10.8376 26.5059 10.6731 26.5813 10.4919C26.6568 10.3106 26.6957 10.1162 26.6957 9.91992C26.6957 9.7236 26.6568 9.52922 26.5813 9.34799C26.5059 9.16675 26.3953 9.00223 26.256 8.86392L25.308 7.91592H38.4C38.956 7.91907 39.4883 8.14133 39.8814 8.53448C40.2746 8.92762 40.4968 9.45994 40.5 10.0159V38.7679C40.4968 39.3239 40.2746 39.8562 39.8814 40.2494C39.4883 40.6425 38.956 40.8648 38.4 40.8679H32.4C32.0022 40.8679 31.6206 41.026 31.3393 41.3073C31.058 41.5886 30.9 41.9701 30.9 42.3679C30.9 42.7657 31.058 43.1473 31.3393 43.4286C31.6206 43.7099 32.0022 43.8679 32.4 43.8679H38.4C39.7516 43.8648 41.047 43.3264 42.0027 42.3707C42.9585 41.4149 43.4968 40.1196 43.5 38.7679V10.0639C43.4968 8.71229 42.9585 7.41693 42.0027 6.46118C41.047 5.50543 39.7516 4.96709 38.4 4.96392Z",fill:re.fillColor}),t.a.createElement("path",{d:"M23.832 37.7119C23.547 37.4556 23.1746 37.3181 22.7914 37.3278C22.4082 37.3374 22.0432 37.4933 21.7714 37.7636C21.4996 38.0339 21.3416 38.398 21.3298 38.7811C21.318 39.1643 21.4533 39.5374 21.708 39.8239L22.752 40.8679H9.6C9.04402 40.8647 8.5117 40.6425 8.11856 40.2493C7.72541 39.8562 7.50315 39.3239 7.5 38.7679V10.0639C7.50315 9.50788 7.72541 8.97557 8.11856 8.58242C8.5117 8.18928 9.04402 7.96702 9.6 7.96387H15.6C15.9978 7.96387 16.3794 7.80583 16.6607 7.52453C16.942 7.24322 17.1 6.86169 17.1 6.46387C17.1 6.06604 16.942 5.68451 16.6607 5.40321C16.3794 5.1219 15.9978 4.96387 15.6 4.96387H9.6C8.24837 4.96704 6.95301 5.50537 5.99726 6.46112C5.04151 7.41687 4.50317 8.71224 4.5 10.0639V38.7679C4.50317 40.1195 5.04151 41.4149 5.99726 42.3706C6.95301 43.3264 8.24837 43.8647 9.6 43.8679H22.8L21.756 44.9119C21.5488 45.1209 21.4076 45.3862 21.3501 45.6749C21.2926 45.9635 21.3212 46.2627 21.4325 46.5352C21.5438 46.8077 21.7328 47.0414 21.976 47.2072C22.2191 47.3731 22.5057 47.4637 22.8 47.4679C22.9969 47.4693 23.1921 47.4307 23.3736 47.3544C23.5552 47.2781 23.7193 47.1656 23.856 47.0239L27.456 43.4239C27.5957 43.2845 27.7065 43.119 27.7821 42.9368C27.8578 42.7545 27.8967 42.5592 27.8967 42.3619C27.8967 42.1646 27.8578 41.9692 27.7821 41.787C27.7065 41.6047 27.5957 41.4392 27.456 41.2999L23.832 37.7119Z",fill:re.fillColor}),t.a.createElement("path",{d:"M22.2841 14.396C21.9099 14.3471 21.5312 14.4446 21.2271 14.6682C20.923 14.8918 20.717 15.2242 20.6521 15.596L20.2561 18.368H16.7281C16.3462 18.368 15.9799 18.5197 15.7099 18.7898C15.4398 19.0598 15.2881 19.4261 15.2881 19.808C15.2881 20.1899 15.4398 20.5562 15.7099 20.8262C15.9799 21.0963 16.3462 21.248 16.7281 21.248H19.8361L19.0801 26.36H15.6001C15.4008 26.3417 15.1998 26.3652 15.0101 26.429C14.8203 26.4928 14.646 26.5954 14.4981 26.7303C14.3503 26.8653 14.2322 27.0296 14.1513 27.2127C14.0705 27.3958 14.0288 27.5938 14.0288 27.794C14.0288 27.9942 14.0705 28.1921 14.1513 28.3753C14.2322 28.5584 14.3503 28.7227 14.4981 28.8576C14.646 28.9926 14.8203 29.0952 15.0101 29.159C15.1998 29.2227 15.4008 29.2462 15.6001 29.228H18.6241L18.1561 32.768C18.1041 33.1427 18.2004 33.523 18.4245 33.8278C18.6487 34.1326 18.9829 34.3379 19.3561 34.4H19.5721C19.9118 34.3991 20.2401 34.2782 20.4993 34.0586C20.7584 33.839 20.9315 33.5349 20.9881 33.2L21.6001 29.228H25.3921L24.8401 32.768C24.7881 33.1427 24.8844 33.523 25.1085 33.8278C25.3327 34.1326 25.6669 34.3379 26.0401 34.4H26.2561C26.5958 34.3991 26.9241 34.2782 27.1833 34.0586C27.4424 33.839 27.6155 33.5349 27.6721 33.2L28.2481 29.3H31.2601C31.6178 29.2672 31.9503 29.102 32.1925 28.8367C32.4346 28.5714 32.5688 28.2252 32.5688 27.866C32.5688 27.5068 32.4346 27.1606 32.1925 26.8953C31.9503 26.63 31.6178 26.4647 31.2601 26.432H28.6801L29.4241 21.32H32.4001C32.7916 21.32 33.167 21.1645 33.4438 20.8877C33.7206 20.6109 33.8761 20.2355 33.8761 19.844C33.8761 19.4525 33.7206 19.0771 33.4438 18.8003C33.167 18.5235 32.7916 18.368 32.4001 18.368H29.8801L30.2281 16.028C30.2802 15.6532 30.1839 15.273 29.9597 14.9682C29.7356 14.6634 29.4013 14.4581 29.0281 14.396C28.6548 14.3442 28.276 14.4408 27.9731 14.6652C27.6702 14.8896 27.4674 15.2237 27.4081 15.596L26.9401 18.368H23.1601L23.4961 16.028C23.5511 15.651 23.4544 15.2675 23.2273 14.9616C23.0001 14.6557 22.661 14.4523 22.2841 14.396ZM26.5201 21.248L25.7761 26.36H21.9841L22.8001 21.248H26.5201Z",fill:re.fillColor}))),k=t.a.memo(re=>t.a.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:re.className},t.a.createElement("g",{clipPath:"url(#clip0)"},t.a.createElement("path",{d:"M26.6159 29.9C26.6149 29.3387 26.4692 28.7872 26.1928 28.2987C25.9165 27.8102 25.5188 27.4012 25.0383 27.1112C24.5577 26.8212 24.0105 26.66 23.4495 26.6432C22.8885 26.6265 22.3326 26.7546 21.8356 27.0154C21.3386 27.2761 20.9172 27.6606 20.6121 28.1317C20.3071 28.6028 20.1286 29.1446 20.0941 29.7048C20.0595 30.265 20.17 30.8247 20.4149 31.3297C20.6597 31.8348 21.0307 32.2681 21.4919 32.588L20.9279 35.432C20.8469 35.7919 20.8479 36.1654 20.9308 36.5249C21.0138 36.8844 21.1765 37.2206 21.4069 37.5087C21.6374 37.7968 21.9297 38.0294 22.2622 38.1892C22.5948 38.349 22.959 38.432 23.3279 38.432C23.6968 38.432 24.061 38.349 24.3935 38.1892C24.726 38.0294 25.0184 37.7968 25.2488 37.5087C25.4793 37.2206 25.642 36.8844 25.7249 36.5249C25.8079 36.1654 25.8089 35.7919 25.7279 35.432L25.1999 32.588C25.6362 32.2883 25.993 31.887 26.2397 31.4188C26.4864 30.9505 26.6155 30.4292 26.6159 29.9Z",fill:re.fillColor}),t.a.createElement("path",{d:"M35.0158 17.6359V12.9439C35.0659 11.3799 34.8012 9.82179 34.2373 8.36211C33.6734 6.90243 32.8219 5.57099 31.7332 4.4469C30.6446 3.32281 29.3412 2.42902 27.9003 1.81862C26.4594 1.20822 24.9106 0.893677 23.3458 0.893677C21.781 0.893677 20.2321 1.20822 18.7913 1.81862C17.3504 2.42902 16.0469 3.32281 14.9583 4.4469C13.8697 5.57099 13.0181 6.90243 12.4543 8.36211C11.8904 9.82179 11.6256 11.3799 11.6758 12.9439V17.6359C10.5194 17.8685 9.47908 18.4938 8.73111 19.4058C7.98313 20.3178 7.57354 21.4604 7.57178 22.6399V42.3679C7.57178 43.7205 8.1091 45.0177 9.06553 45.9742C10.022 46.9306 11.3192 47.4679 12.6718 47.4679H34.0318C35.3834 47.4648 36.6788 46.9264 37.6345 45.9707C38.5903 45.0149 39.1286 43.7196 39.1318 42.3679V22.6399C39.1272 21.4594 38.7151 20.3166 37.9651 19.4048C37.2151 18.493 36.1733 17.8682 35.0158 17.6359ZM23.3518 4.26794C25.6507 4.27112 27.8544 5.1866 29.4789 6.81332C31.1034 8.44004 32.0158 10.645 32.0158 12.9439V17.5399H29.9278V12.9199C29.9278 11.1695 29.2324 9.49078 27.9947 8.25304C26.7569 7.0153 25.0782 6.31994 23.3278 6.31994C21.5774 6.31994 19.8986 7.0153 18.6609 8.25304C17.4231 9.49078 16.7278 11.1695 16.7278 12.9199V17.5399H14.6758V12.9439C14.6758 10.6429 15.5899 8.43615 17.2169 6.80908C18.844 5.18202 21.0508 4.26794 23.3518 4.26794ZM26.9518 17.5399H19.7518V12.9199C19.7518 11.9652 20.1311 11.0495 20.8062 10.3744C21.4813 9.69923 22.397 9.31994 23.3518 9.31994C24.3066 9.31994 25.2222 9.69923 25.8974 10.3744C26.5725 11.0495 26.9518 11.9652 26.9518 12.9199V17.5399ZM36.1318 42.3679C36.1286 42.9239 35.9064 43.4562 35.5132 43.8494C35.1201 44.2425 34.5878 44.4648 34.0318 44.4679H12.6718C12.1148 44.4679 11.5807 44.2467 11.1869 43.8529C10.793 43.459 10.5718 42.9249 10.5718 42.3679V22.6399C10.5718 22.083 10.793 21.5488 11.1869 21.155C11.5807 20.7612 12.1148 20.5399 12.6718 20.5399H34.0318C34.5887 20.5399 35.1229 20.7612 35.5167 21.155C35.9105 21.5488 36.1318 22.083 36.1318 22.6399V42.3679Z",fill:re.fillColor})),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0"},t.a.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(0 0.36792)"}))))),X=t.a.memo(re=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:re.className},t.a.createElement("path",{d:"M13.2 42.9842C11.856 42.9842 10.608 42.6562 9.45602 42.0002C8.32002 41.3602 7.39202 40.4882 6.67203 39.3842C5.95202 38.2802 5.52802 37.0802 5.40002 35.7842V24.3842C5.40002 20.6882 6.20802 17.3442 7.82402 14.3522C9.45603 11.3442 11.688 8.98417 14.52 7.27217C17.368 5.54418 20.528 4.68018 24 4.68018C27.424 4.68018 30.552 5.55218 33.384 7.29618C36.232 9.04017 38.48 11.4162 40.128 14.4242C41.776 17.4322 42.6 20.7522 42.6 24.3842V35.5922C42.52 36.9362 42.12 38.1762 41.4 39.3122C40.696 40.4482 39.76 41.3442 38.592 42.0002C37.44 42.6562 36.184 42.9842 34.824 42.9842H33.312C32.512 42.9842 31.768 42.7842 31.08 42.3842C30.392 41.9842 29.848 41.4402 29.448 40.7522C29.048 40.0802 28.848 39.3362 28.848 38.5202V28.9682C28.848 28.1682 29.048 27.4322 29.448 26.7602C29.848 26.0722 30.384 25.5282 31.056 25.1282C31.744 24.7282 32.496 24.5282 33.312 24.5282C34.848 24.5282 35.976 24.6082 36.696 24.7682C37.432 24.9122 38.2 25.2482 39 25.7762V24.3842C39 21.4242 38.336 18.7122 37.008 16.2482C35.68 13.7842 33.872 11.8402 31.584 10.4162C29.296 8.99218 26.768 8.28018 24 8.28018C21.136 8.28018 18.56 8.97618 16.272 10.3682C14 11.7442 12.216 13.6562 10.92 16.1042C9.64002 18.5522 9.00003 21.3122 9.00003 24.3842V25.7762C9.83203 25.2482 10.608 24.9122 11.328 24.7682C12.064 24.6082 13.192 24.5282 14.712 24.5282C15.512 24.5282 16.256 24.7282 16.944 25.1282C17.632 25.5282 18.176 26.0722 18.576 26.7602C18.976 27.4322 19.176 28.1762 19.176 28.9922V38.5442C19.176 39.3442 18.976 40.0802 18.576 40.7522C18.176 41.4402 17.632 41.9842 16.944 42.3842C16.256 42.7842 15.512 42.9842 14.712 42.9842H13.2ZM14.712 39.3842C14.936 39.3842 15.136 39.3042 15.312 39.1442C15.488 38.9682 15.576 38.7682 15.576 38.5442V28.9922C15.576 28.7522 15.488 28.5522 15.312 28.3922C15.136 28.2162 14.936 28.1282 14.712 28.1282H13.2C12.448 28.1282 11.744 28.3202 11.088 28.7042C10.448 29.0722 9.93603 29.5762 9.55203 30.2162C9.18403 30.8562 9.00003 31.5522 9.00003 32.3042V35.1842C9.00003 35.9522 9.18403 36.6562 9.55203 37.2962C9.93603 37.9362 10.448 38.4482 11.088 38.8322C11.744 39.2002 12.448 39.3842 13.2 39.3842H14.712ZM34.824 39.3842C35.576 39.3842 36.272 39.2002 36.912 38.8322C37.552 38.4482 38.056 37.9362 38.424 37.2962C38.808 36.6562 39 35.9522 39 35.1842V32.3282C39 31.5602 38.808 30.8562 38.424 30.2162C38.056 29.5762 37.552 29.0722 36.912 28.7042C36.272 28.3202 35.568 28.1282 34.8 28.1282H33.312C33.088 28.1282 32.888 28.2162 32.712 28.3922C32.536 28.5522 32.448 28.7442 32.448 28.9682V38.5202C32.448 38.7602 32.536 38.9682 32.712 39.1442C32.888 39.3042 33.088 39.3842 33.312 39.3842H34.824Z",fill:re.fillColor})));function J(){return J=Object.assign||function(re){for(var ve=1;ve<arguments.length;ve++){var q=arguments[ve];for(var ce in q)Object.prototype.hasOwnProperty.call(q,ce)&&(re[ce]=q[ce])}return re},J.apply(this,arguments)}m(J,"_extends");const Y=new a.b("paid_onboarding"),ie="Ppaid-benefits",de=m(()=>{const re=Object(r.a)(),ve=`/img/plan_benefits/benefit_cards/messages${re==="en-US"?"":`.${re}`}`,q="/img/plan_benefits/benefit_cards/security";return[{ctaURL:`https://${Object(d.l)()}/features/canvas`,name:"canvas",background:"#EEBA34",heading:Y.t("SLACK CANVAS"),videoPoster:`/marketing/img/canvas/img-documentation${re==="en-US"?"":`.${re}`}`,videoSrc:`/marketing/img/canvas/video-documentation${re==="en-US"?"":`.${re}`}`,title:Y.t("Stay on the same page"),subtitle:Y.t("Unlock unlimited canvases to create product briefs, onboarding docs, and more right in Slack."),icon:j},{ctaURL:`https://${Object(d.l)()}/help/articles/115002422943`,name:"unlimited_messages",background:"#06AF72",heading:Y.t("UNLIMITED MESSAGES"),imageSrc:`${ve}@2x.png`,srcSet:`${ve}.png 1x, ${ve}@2x.png 2x`,title:Y.t("Find the information you need, when you need it"),subtitle:Y.t("An unlimited archive lets you see and search all of your team's public messages and files."),icon:R},{ctaURL:`https://${Object(d.l)()}/digital-hq#huddles`,name:"huddles",videoSrc:`/marketing/img/digital-hq/videos/slack-huddles/slack-huddles${re==="en-US"?"":`.${re}`}`,videoExtension:"gif",background:"#FDD37F",heading:Y.t("HUDDLES"),title:Y.t("Solve problems aloud as a group, in real time"),subtitle:Y.t("When it\u2019s easier to talk things out together, try an audio-first huddle with more people \u2060\u2014 you can share your screen, annotate and enable live captions."),icon:X},{ctaURL:`https://${Object(d.l)()}/resources/using-slack/setting-up-a-shared-channel`,name:"slack_connect",videoSrc:`/marketing/img/pricing/paid-vs-free/Streamline-communication${re==="en-US"?"":`.${re}`}`,background:"#67D3F4",heading:Y.t("SLACK CONNECT"),title:Y.t("Work with external organizations more easily"),subtitle:Y.t("Slack Connect makes collaborating with external people and clients as fast and simple as working with in-house teams.",{fallbackHash:"b91e463b63ac14b759b0cd5bbdafe44f7e523b87"}),icon:B},{ctaURL:`https://${Object(d.l)()}/help/articles/202035138`,name:"apps",videoSrc:`/marketing/img/pricing/paid-vs-free/Build-trust${re==="en-US"?"":`.${re}`}`,background:"#E52167",heading:Y.t("UNLIMITED APPS"),title:Y.t("Connect all your apps and daily tools",{fallbackHash:"5c386e99165e9022af4559fe386b03e5c16514bb"}),subtitle:Y.t("Schedule meetings, file tickets, track tasks, and more, by bringing the tools your team already uses into Slack.",{fallbackHash:"72deae79ecaa84ca80aae685718521cad7db421e"}),icon:P},{ctaURL:`https://${Object(d.l)()}/features/workflow-automation`,name:"workflows",videoSrc:`/marketing/img/pricing/paid-vs-free/Slack-WFB-TravelRequest${re==="en-US"?"":`.${re}`}`,background:"#06AF72",heading:Y.t("WORKFLOWS"),title:Y.t("Automate routine tasks \u2014 no technical skills required"),subtitle:Y.t("With Workflow Builder, free up your team\u2019s time with automated workflows to triage requests, share statuses, and more."),icon:W},{ctaURL:`https://${Object(d.l)()}/trust/security`,name:"security",imageSrc:`${q}@2x.png`,srcSet:`${q}.png 1x, ${q}@2x.png 2x`,background:"#3ECCF3",heading:Y.t("ADVANCED SECURITY"),title:Y.t("Enterprise-grade security and administration"),subtitle:Y.t("Advanced controls, plus Slack\u2019s default encryption, help you keep data secure \u2014 even in the most regulated industries."),icon:k}]},"usePaidBenefitsCardData"),pe=m(re=>re.filter(ve=>ve.isVisible!==!1).map((ve,q)=>t.a.createElement("div",{key:ve.name},t.a.createElement(M,J({},ve,{shouldDisplayReverse:q%2!==0})))),"renderPaidBenefitsCards");pe.displayName="renderPaidBenefitsCards";const oe=m(()=>pe(de()),"useRenderPaidBenefitsCards"),me={renderPaidBenefitsCards:pe,usePaidBenefitsCardData:de}},TpDV:function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},TsI9:function(K,s,e){K.exports=e.p+"ava_0022-24-21468d4.png"},Tsh7:function(K,s,e){"use strict";e.d(s,"a",function(){return D}),e.d(s,"b",function(){return p}),e.d(s,"e",function(){return y});var n=e("q1tI"),t=e.n(n),a=e("wSSu"),r=e.n(a),d=e("vJtL"),o=e("i5Ig"),i=e("2SCj"),h=e("68qM"),l=e("QYtq"),u=e("x5Wd"),c=e("WSQ4"),E=e("lYQS"),v=e("khnw"),g=e("0cEW"),O=e("DDZn"),I=e("1VgO"),C=e("Z29U"),f=e("eLtP");e.d(s,"c",function(){return C.a});function S(){return S=Object.assign||function(R){for(var A=1;A<arguments.length;A++){var B=arguments[A];for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(R[F]=B[F])}return R},S.apply(this,arguments)}m(S,"_extends");const D=300,p=60,b=3,M=3;let _=m(class{track(A){this.instance&&A!==this.instance&&this.instance.hide(),this.instance=A}stopTracking(A){A===this.instance&&(this.instance=void 0)}hideActive(){this.instance&&(this.instance.hide(),this.instance=void 0)}},"TooltipManager");const P=new _;function y(){P.hideActive()}m(y,"hideVisibleTooltip");function j(R){const A=m(B=>((B==null?void 0:B.offsetWidth)||0)<((B==null?void 0:B.scrollWidth)||0)||((B==null?void 0:B.offsetHeight)||0)<((B==null?void 0:B.scrollHeight)||0),"retIsTruncated");if(R!=null&&R.querySelector){const B=R.querySelector(".c-truncate");if(B)return A(B)}return A(R)}m(j,"isElementTruncated");function U(R,A){return R.width.toFixed(2)===(A==null?void 0:A.width.toFixed(2))&&R.height.toFixed(2)===(A==null?void 0:A.height.toFixed(2))&&R.left.toFixed(2)===(A==null?void 0:A.left.toFixed(2))&&R.right.toFixed(2)===(A==null?void 0:A.right.toFixed(2))&&R.top.toFixed(2)===(A==null?void 0:A.top.toFixed(2))&&R.bottom.toFixed(2)===(A==null?void 0:A.bottom.toFixed(2))}m(U,"areBoundsEqual");const W=t.a.forwardRef((R,A)=>{let{children:B,position:F=g.b.Top,delay:k=150,shouldFade:V=!0,tip:X,tipClassName:J,tipArrowOffset:Y,"data-qa":ie,status:de=C.a.Info,offsetX:pe=0,offsetY:oe=0,zIndex:me="menu",shouldForceVisible:re=!1,shouldOnlyShowWhenTruncated:ve=!1,onShow:q,onHide:ce,onClick:he,maxWidth:Se,hideFromScreenReader:se=!1,automaticallyPositionTip:H=!0,tipAnchorRef:Oe,...$}=R;const z=t.a.Children.only(B),{window:be}=Object(n.useContext)(c.a),Z=Object(n.useRef)(),G=Object(n.useRef)(null),ne=Object(n.useRef)(),ge=Object(n.useRef)(!1),[ae,fe]=Object(n.useState)(!1),[Te,ye]=Object(n.useState)(!1),[Ue,Ne]=Object(n.useState)(!1),[He,ze]=Object(n.useState)(),Je=Object(n.useContext)(u.a),Xe=j(ne.current),Me=Xe||!ve,Ke=re||ae||Te,$e=!!He&&Me,ct=Object(n.useMemo)(()=>Object(I.b)(G,A),[A]),Tt=Object(n.useCallback)((ht,Nt)=>H?{top:ht,left:Nt}:void 0,[H]),Et=Object(n.useMemo)(()=>`sk-tooltip-${Object(E.a)()}`,[]),Le=Object(n.useCallback)(()=>{Ne(!0)},[]),[jt,Dt]=Object(i.a)(Le),Ee=Object(n.useMemo)(()=>({id:Et,hide:()=>{Dt(),ge.current&&Ne(!1),ce==null||ce()}}),[Et,Dt,ce]),te=Object(n.useCallback)(()=>{Dt(),P.stopTracking(Ee)},[Ee,Dt]),Ae=Object(n.useCallback)(()=>{re||Je?Ne(!0):jt(k),q==null||q({isTruncated:Xe}),P.track(Ee)},[re,Je,q,Xe,Ee,jt,k]),Ve=Object(n.useCallback)(()=>{te(),Ue&&(Ne(!1),ce==null||ce())},[te,Ue,ce]),Ye=Object(n.useCallback)(ht=>{z.props.onKeyDown&&z.props.onKeyDown(ht),ht.which===v.f&&Ue&&Je&&(ht.nativeEvent.stopImmediatePropagation(),ht.stopPropagation(),Ne(!1))},[Ne,Ue,Je,z.props]),ft=Object(n.useCallback)(ht=>{z.props.onMouseEnter&&z.props.onMouseEnter(ht),fe(!0),Ue||(ht.persist(),Z.current=ht)},[z.props,Ue]),tt=Object(n.useCallback)(ht=>{z.props.onFocus&&(ht.persist(),z.props.onFocus(ht)),Je&&ye(!0)},[z.props,Je]),Rt=Object(n.useCallback)(ht=>{z.props.onMouseLeave&&(ht.persist(),z.props.onMouseLeave(ht)),fe(!1),Z.current=void 0},[z.props]),rt=Object(n.useCallback)(ht=>{z.props.onBlur&&(ht.persist(),z.props.onBlur(ht)),ye(!1)},[z.props]);Object(n.useEffect)(m(function(){ne.current||(ne.current=Object(a.findDOMNode)(G.current))},"syncChildDOMNodeRef")),Object(n.useEffect)(()=>(ge.current=!0,()=>{ge.current=!1}),[]),Object(h.a)(m(function(){let Nt=ne.current;if(Oe!=null&&Oe.current&&(Nt=Object(a.findDOMNode)(Oe.current)),Ke&&Nt){const Jt=He,zt=Nt.getClientRects();let Yt=zt[0];if(Z.current){const yt=Z.current,tn=Array.from(zt).find(an=>yt.clientY>=an.top&&yt.clientY<=an.bottom&&yt.clientX>=an.left&&yt.clientX<=an.right);tn&&(Yt=tn)}if(!Yt)return;const sn=be.scrollX||be.pageXOffset,dn=be.scrollY||be.pageYOffset,Mt={height:Yt.height,width:Yt.width,left:Yt.left+sn,right:Yt.right+sn,top:Yt.top+dn,bottom:Yt.bottom+dn};U(Mt,Jt)||ze(Mt)}},"maybeCalculateContentBounds"),[Ke,Oe]),Object(h.a)(m(function(){$e&&Ke?Ae():Ve()},"showOrHideTooltip"),[$e,Ke]);const we=z.props["aria-label"],xe=Object(n.useMemo)(()=>we===X||se?o.b:{"aria-describedby":Ue?Et:void 0},[we,se,Ue,X,Et]),st=Object(n.useMemo)(()=>t.a.cloneElement(z,{...$,...z.props,...xe,onClick:he||z.props.onClick,onFocus:tt,onBlur:rt,onKeyDown:Ye,onMouseEnter:ft,onMouseLeave:Rt,"data-sk":"tooltip_parent"}),[xe,z,rt,he,tt,Ye,ft,Rt,$]),ke=Object(n.useMemo)(()=>{if(Y)return Y;if(He)return He.width/2},[He,Y]),lt=Object(n.useMemo)(()=>({position:F,arrowOffset:ke,status:de,className:J,"data-qa":ie,id:Et,maxWidth:Se}),[ie,Se,F,de,J,ke,Et]),at=Object(n.useMemo)(()=>Ue?t.a.createElement(l.a,{isOpen:Ue,position:F,targetBounds:He,overlayClassName:"c-popover c-popover--no-pointer",offsetX:pe,offsetY:oe,allowanceX:b,allowanceY:M,key:"tooltip-popover",zIndex:me,shouldFocusAfterRender:!1,shouldFade:V,ariaHideApp:!1,ariaHidden:!0,tryOppositePosition:!0},ht=>{let{position:Nt,top:Jt,left:zt,targetBounds:Yt}=ht;const sn=Object(d.a)(X)?X({hasKeyboardFocus:Je}):X;return t.a.createElement(C.b,S({},lt,{position:Nt,tipBounds:Tt(Jt,zt),targetBounds:Yt}),sn)}):null,[Ue,He,F,pe,oe,me,V,X,Je,lt,Tt]);return t.a.createElement(t.a.Fragment,null,t.a.createElement(O.a,{ref:ct},st),at)});W.displayName="Tooltip",s.d=W,Object.defineProperty({isElementTruncated:j,areBoundsEqual:U},"isElementTruncated",{get:()=>j,set:R=>{j=R}})},Tv5Z:function(K,s,e){K.exports=e.p+"slackbot_frowny_360-1cb4740.png"},TwEf:function(K,s,e){"use strict";var n=e("n3tL"),t=e("WCk1"),a=e("2XU3"),r=e("/Glb"),d=e("Z7Ay"),o=e("Lgge"),i=e("Ba7O");let h=!1;const l=Object(t.a)("Sends a message",function(c,E){let{message:v,traceId:g,parentSpanId:O}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I={...v},C=E();return v.blocks&&typeof v.blocks=="object"&&(I.blocks=JSON.stringify(v.blocks)),v.unfurl&&typeof v.unfurl=="object"&&(I.unfurl=JSON.stringify(v.unfurl)),h?new o.a((f,S)=>{setTimeout(()=>{S(new Error({data:{error:"testing"},message:"testing"}))},2e3)}):Object(i.a)(C)?c(Object(r.apiCallPersisted)({method:"chat.postMessage",args:I,reason:"webapp_message_send_offline",EXPEDITED:!0,traceId:g,parentSpanId:O})):c(Object(a.apiCall)({method:"chat.postMessage",args:I,reason:"webapp_message_send",EXPEDITED:!0,traceId:g,parentSpanId:O}))});l.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"},l.propTypes={message:n.default.shape({channel:n.default.string.isRequired,client_msg_id:n.default.string}).isRequired,traceId:n.default.string,parentSpanId:n.default.string},s.a=l;const u=m(c=>{h=!!c},"setForceMessageFailure");Object(d.a)("setForceMessageFailure",u)},TxvE:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("gSGL"),d=e("ifKl"),o=e("3zPy"),i=e.n(o),h=e("AArn"),l=e("YjxU"),u=e("WIr4"),c=e("yxNq"),E=e("i7LB"),v=e("VymY");function g(b){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return b instanceof M.self.HTMLElement}m(g,"isHtmlElement");var O=e("1ufr");function I(){return I=Object.assign||function(b){for(var M=1;M<arguments.length;M++){var _=arguments[M];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(b[P]=_[P])}return b},I.apply(this,arguments)}m(I,"_extends");const C=i()("enter"),f=i()("tab");let S=m(class extends n.Component{componentDidMount(){const{useStaticHeight:M,supportRovingTabIndex:_,isInitialActiveItem:P,hasKeyboardFocus:y}=this.props;this.node&&!M&&(this.mutationObserver.observe(this.node,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.node.addEventListener("load",this.updateHeight,!0)),M||this.updateHeight(),this.maybeFocusNode(),y&&_&&!P&&this.removeChildrenFromTabFlow()}shouldComponentUpdate(M){const{children:_,validity:P,height:y,top:j,zIndex:U,...W}=this.props,{children:L,validity:R,height:A,top:B,zIndex:F,...k}=M;return j!==B||U!==F||y!==A||_&&L&&(!Object(c.a)(L.props,_.props)||L.key!==_.key)||!R?!0:!Object(c.a)(W,k)}componentDidUpdate(){const{useStaticHeight:M,isInitialActiveItem:_,supportRovingTabIndex:P,hasKeyboardFocus:y}=this.props;M||this.updateHeight(),this.maybeFocusNode(),y&&P&&(_||this.removeChildrenFromTabFlow(),_&&this.restoreChildrenIntoTabFlow())}componentWillUnmount(){const{useStaticHeight:M}=this.props;M||(this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.node&&this.node.removeEventListener("load",this.updateHeight,!0))}onClick(M){M.persist(),M.id=this.props.itemKey,this.props.onClick(M)}onFocusEnter(M){const{relatedEvent:_,target:P,currentTarget:y}=M,{itemKey:j,onTabWithin:U,onFocusEnter:W,hasKeyboardFocus:L}=this.props;if(_&&_.type==="mousedown"||P&&(P instanceof HTMLMediaElement||P.dataset.mediaFocusContainer))return;(_&&_.keyCode)===f&&y!==P&&U({id:j,hasKeyboardFocus:L,...M}),W({id:j,hasKeyboardFocus:L,...M})}onFocusLeave(M){const{itemKey:_,onFocusLeave:P,hasKeyboardFocus:y}=this.props;P({id:_,hasKeyboardFocus:y,...M})}onFocusWithin(M){const{relatedEvent:_}=M,{itemKey:P,onTabWithin:y,onFocusWithin:j,hasKeyboardFocus:U}=this.props;if(_&&_.type==="mousedown")return;(_&&_.keyCode)===f&&y({id:P,hasKeyboardFocus:U,...M}),j({id:P,hasKeyboardFocus:U,...M})}onKeyDown(M){const{target:_,currentTarget:P,keyCode:y}=M,{itemKey:j,onKeyDown:U,onClick:W}=this.props;_===P&&(U({id:j,...M,preventDefault:M.preventDefault,stopPropagation:M.stopPropagation}),y===C&&W({id:j,...M,preventDefault:M.preventDefault,stopPropagation:M.stopPropagation}))}onContextMenu(M){const{itemKey:_,onContextMenu:P,hasKeyboardFocus:y}=this.props;M!=null&&M.altKey||P(M,_,{hasKeyboardFocus:y})}onMouseDown(M){const{itemKey:_,onMouseDown:P}=this.props;P(M,_)}setRef(M){this.node=M}maybeFocusNode(){this.props.hasFocus&&this.node&&this.node.focus()}updateHeight(){if(!this.node)return;const{height:M}=this.node.getBoundingClientRect();(Math.abs(M-this.props.height)>.5||!this.props.validity)&&this.props.onHeightChange(this.props.itemKey,M)}removeChildrenFromTabFlow(){const M=this.node;if(!M)return;Object(v.a)(M).forEach(P=>{const y=P.getAttribute("tabindex");P.setAttribute("tabindex","-1"),P.dataset.removeTabIndex="true",Object(r.a)(y)&&(P.dataset.tabIndexToRestore=y)})}restoreChildrenIntoTabFlow(){const M=this.node;M&&M.querySelectorAll("[data-remove-tab-index]").forEach(_=>{if(!g(_,this.props.window))return;const P=_.dataset.tabIndexToRestore;Object(r.a)(P)?_.setAttribute("tabindex",P):_.removeAttribute("tabindex"),delete _.dataset.removeTabIndex,delete _.dataset.tabIndexToRestore})}render(){if(!this.props.children)return null;const{id:M,children:_,onFocusEnter:P,onFocusWithin:y,onFocusLeave:j,onHeightChange:U,onMouseDown:W,onClick:L,onKeyDown:R,onContextMenu:A,onTabWithin:B,className:F,top:k,zIndex:V,role:X,height:J,validity:Y,hasFocus:ie,hasFocusWithin:de,hideFocusRing:pe,shouldHorizontallyScroll:oe,tabIndex:me,itemKey:re,useStaticHeight:ve,hasKeyboardFocus:q,dataQA:ce,contextMenuVisible:he,isInitialActiveItem:Se,supportRovingTabIndex:se,window:H,windowId:Oe,windowToken:$,...z}=this.props,be=Object(a.default)(F,"c-virtual_list__item",{"c-virtual_list__item--focus":ie&&q&&!pe,"c-virtual_list__item--focus-within":de,"c-virtual_list__item--auto_width":oe,"c-virtual_list__item--contextmenu-visible":he});return t.a.createElement(l.a,{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},t.a.createElement("div",I({},Object(E.a)(z),{onMouseDown:this.onMouseDown,onClick:this.onClick,onKeyDown:this.onKeyDown,onContextMenu:this.onContextMenu,className:be,tabIndex:me,role:X,style:ve?{top:k,height:J,zIndex:V}:{top:k,zIndex:V},ref:this.setRef,id:M,"data-qa":ce||"virtual-list-item","data-item-key":re}),_))}constructor(M){super(M),this.setRef=this.setRef.bind(this),Object(u.a)(this,["onFocusEnter","onFocusWithin","onFocusLeave","onMouseDown","onClick","onKeyDown","onContextMenu"]),M.useStaticHeight||(this.updateHeight=this.updateHeight.bind(this),this.mutationObserver=new MutationObserver(this.updateHeight)),this.node=null}},"ListItem");S.displayName="ListItem",S.defaultProps={children:null,onFocusEnter:d.a,onFocusWithin:d.a,onFocusLeave:d.a,onHeightChange:d.a,onMouseDown:d.a,onClick:d.a,onKeyDown:d.a,onContextMenu:d.a,onTabWithin:d.a,className:"",top:void 0,zIndex:void 0,role:"listitem",height:0,validity:!0,hasFocus:!1,hasFocusWithin:!1,shouldHorizontallyScroll:!1,tabIndex:-1,useStaticHeight:!1,dataQA:null,contextMenuVisible:!1,isInitialActiveItem:!1,hideFocusRing:!1,supportRovingTabIndex:!0};const D=m(function(M){const _=Object(n.useContext)(h.a);return t.a.createElement(S,I({},M,{hasKeyboardFocus:_}))},"WithKeyboardFocusListItem");D.displayName="WithKeyboardFocusListItem";var p=s.a=t.a.memo(Object(O.a)(D))},U1tW:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("ktUG"),d=e("Trx9"),o=e("WAPM"),i=e("zEKE"),h=e("vDCl"),l=e("w3c/");const u=new a.b("trials_highlight_paid_features"),c=m(v=>{let{text:g}=v;return t.a.createElement(o.a,{articleId:4402059015315,ariaLabel:u.t("Learn more about Huddles")},g)},"AlertBannerHelpLink"),E=m(()=>t.a.createElement(d.a,{eventId:r.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:r.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.a.createElement("div",{className:"p-huddle_invite_modal_banner"},t.a.createElement(i.a,{theme:h.b.NONE,"data-qa":"huddle_invite_modal_free_banner"},u.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":c,fallbackHash:"302b7b76d1085ff1532e888a72d2b35f253d5e82"})))),"HuddleInviteModalFreeBanner");s.a=E},UHsu:function(K,s,e){"use strict";var n=e("lBK/"),t=e("J47P");e.d(s,"b",function(){return t.b}),s.a=n.a},UWeq:function(K,s,e){K.exports=e.p+"living_room-a4fba85.jpg"},UbkG:function(K,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"b",function(){return d}),e.d(s,"c",function(){return o}),e.d(s,"d",function(){return i});var n=e("ZKjC"),t=e("i5Ig"),a=e("2VFn");const r=Object(n.b)((h,l)=>{const u=l===a.c?"main":l;return h.quipActivityHistory[u]||t.b});r.meta={name:"createSelector",key:"createSelectorgetActivityHistory",description:(h,l)=>{const u=l===a.c?"main":l;return h.quipActivityHistory[u]||t.b}};const d=Object(n.b)((h,l,u)=>{var c,E;if(!u)return;const v=l===a.c?"main":l;return(c=h.quipActivityHistory[v])===null||c===void 0||(E=c.versions)===null||E===void 0?void 0:E.find(g=>u===g.versionId)});d.meta={name:"createSelector",key:"createSelectorgetActivityHistoryVersionById",description:(h,l,u)=>{var c,E;if(!u)return;const v=l===a.c?"main":l;return(c=h.quipActivityHistory[v])===null||c===void 0||(E=c.versions)===null||E===void 0?void 0:E.find(g=>u===g.versionId)}};const o=Object(n.b)((h,l)=>{const u=l===a.c?"main":l,c=h.quipActivityHistory[u];if(!c)return;const{versions:E}=c;return E!=null&&E.length?E[0]:void 0});o.meta={name:"createSelector",key:"createSelectorgetLatestActivityHistoryVersion",description:(h,l)=>{const u=l===a.c?"main":l,c=h.quipActivityHistory[u];if(!c)return;const{versions:E}=c;return E!=null&&E.length?E[0]:void 0}};const i=Object(n.b)((h,l)=>{var u;const c=l===a.c?"main":l;return(u=h.quipActivityHistory[c])===null||u===void 0?void 0:u.selectedVersionId});i.meta={name:"createSelector",key:"createSelectorgetSelectedActivityHistoryVersionId",description:(h,l)=>{var u;const c=l===a.c?"main":l;return(u=h.quipActivityHistory[c])===null||u===void 0?void 0:u.selectedVersionId}}},"Ufq/":function(K,s,e){"use strict";e.d(s,"b",function(){return d}),e.d(s,"c",function(){return i}),e.d(s,"e",function(){return c}),e.d(s,"a",function(){return E}),e.d(s,"g",function(){return v}),e.d(s,"h",function(){return g}),e.d(s,"d",function(){return O}),e.d(s,"f",function(){return C}),e.d(s,"j",function(){return f}),e.d(s,"i",function(){return S}),e.d(s,"k",function(){return D});var n=e("RVJP"),t=e("ZOzc"),a=e("azFB"),r;function d(p){return Object(n.d)(p,"calls_chime_sdk_exp")==="enabled"}m(d,"isCallsChimeSdkExpEnabled");const o=(a.a===null||a.a===void 0||(r=a.a.navigator)===null||r===void 0?void 0:r.userAgent)==="slack_cli_tool/1.0",i=m(p=>!o,"isCallsChimeVoiceFocusEnabled");function h(p){return Object(n.d)(p,"calls_chime_simulcast")==="enabled"}m(h,"isCallsChimeSimulcastEnabled");function l(p){return Object(n.d)(p,"calls_chime_priority_downlink_policy")==="enabled"}m(l,"isCallsChimePriorityDownlinkPolicyEnabled");function u(p){return Object(n.d)(p,"calls_get_media_access_check_windows")==="enabled"}m(u,"isGetMediaAccessForWindowsCheckEnabled");const c=m(p=>Object(n.d)(p,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),E=m(p=>Object(n.d)(p,"calls_call_command_admin_disable")==="enabled","isCallCommandAdminDisableExperimentEnabled"),v=m(p=>Object(n.d)(p,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),g=m(p=>Object(n.d)(p,"calls_dynamic_survey")==="treatment","isDynamicSurveyEnabled"),O=m(p=>Object(n.d)(p,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),I=m(p=>Object(n.d)(p,"desktop_calls_grid")==="enabled","isCallViewModeEnabled"),C=m(p=>Object(n.d)(p,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled"),f=m(p=>Object(t.a)(p,"allow_huddles")&&Object(t.a)(p,"allow_huddles_video")&&Object(n.d)(p,"calls_deprecation")!=="on"&&Object(n.d)(p,"huddles_calls_migration_v2")==="on","isHuddleCallsMigrationFeatureFlagEnabled"),S=m(p=>{const b=Object(n.d)(p,"huddles_calls_migration_v2")==="on"&&Object(n.d)(p,"huddles_calls_migration_v3")==="on";return Object(t.a)(p,"allow_huddles")&&Object(t.a)(p,"allow_huddles_video")&&Object(n.d)(p,"calls_deprecation")!=="on"&&b},"isHuddleCallsMigrationBothFeatureFlagsEnabled"),D=m(p=>{const b=Object(n.d)(p,"huddles_calls_migration_v2")==="on"&&Object(n.d)(p,"huddles_calls_migration_v3")==="on"&&Object(n.d)(p,"huddles_calls_migration_v4")==="on";return Object(t.a)(p,"allow_huddles")&&Object(t.a)(p,"allow_huddles_video")&&Object(n.d)(p,"calls_deprecation")!=="on"&&b},"isHuddleCallsMigrationPhase3FeatureFlagsEnabled")},UjK0:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),r=e("BHdc"),d=e("Tsh7"),o=e("s9Q6"),i=e("+fxZ"),h=e("Trx9"),l=e("GiOu"),u=e("ktUG");function c(){return c=Object.assign||function(g){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(g[C]=I[C])}return g},c.apply(this,arguments)}m(c,"_extends");const E=m(g=>{let{ariaLabel:O,tooltipText:I,children:C,onClick:f,isFreemium:S,promoType:D,promoSubtype:p,showProBadge:b,tooltipClassName:M,uiComponentVariant:_,variant:P,toolTipZIndex:y,toolTipPosition:j,...U}=g;const{tooltipTitle:W,tooltipBody:L}=Object(i.b)({isFreemium:S,tooltipText:I,promoType:D,promoSubtype:p,variant:P}),R=Object(a.c)(F=>Object(o.b)(F,D,p)),A=L?`${W} - ${L}`:W;if(R)return C;const B=t.a.createElement(h.a,{clogImpression:!0,eventId:u.EventId.UPGRDEXP_TRIAL,uiComponentName:u.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:_},t.a.createElement("div",{className:"p-trial_feature_tooltip"},t.a.createElement("span",{className:"p-trial_feature_tooltip__title"},b&&t.a.createElement(l.b,{badgeTheme:l.a.White,className:"p-trial_feature_tooltip__pro_badge"}),t.a.createElement("div",{className:"p-trial_feature_tooltip__title_text"},W)),t.a.createElement("div",{className:"p-trial_feature_tooltip__body"},L)));return t.a.createElement(d.d,c({tipClassName:Object(r.default)("p-trial_feature_tooltip__container",M),tip:B,onClick:f,zIndex:y,position:j,"aria-label":O?`${O}: ${A}`:`${A}`},U),C)},"TrialFeatureTooltip");E.displayName="TrialFeatureTooltip";var v=s.a=E},UnJt:function(K,s,e){"use strict";e.d(s,"c",function(){return O}),e.d(s,"b",function(){return I}),e.d(s,"h",function(){return D}),e.d(s,"f",function(){return p}),e.d(s,"g",function(){return b}),e.d(s,"d",function(){return _}),e.d(s,"e",function(){return P}),e.d(s,"a",function(){return y});var n=e("w2lx"),t=e("Fsnq"),a=e("s4P+"),r=e("kBpe"),d=e("9Gfp"),o=e("O86Y"),i=e("Aqb/"),h=e("1Np4");const l="notification:sent",u="notification:received",c="notification:opened",E="notification:quick_reply",v="notification:read_in_app",g=100;function O(j){try{return JSON.stringify(j)}catch(U){return Object(a.b)().warn("encodeNotificationTracePassthrough json stringify error",U),""}}m(O,"encodeNotificationTracePassthrough");function I(j){try{const{traceId:U,parentSpanId:W}=JSON.parse(j);return{traceId:U,parentSpanId:W}}catch(U){return Object(a.b)().warn("decodeNotificationTracePassthrough json parse error",U),{traceId:"",parentSpanId:""}}}m(I,"decodeNotificationTracePassthrough");function C(j){let{tracer:U,name:W,parentSpanId:L,traceId:R}=j;return U.createSpan({name:W,samplingOptions:{sampleType:i.a.ALWAYS},options:{parentSpanId:L,traceId:R}})}m(C,"createSpan");function f(j){let{tracer:U,name:W,parentSpanId:L,traceId:R}=j;const A=C({tracer:U,name:W,parentSpanId:L,traceId:R});return A.close(),A}m(f,"createAndCloseSpan");function S(j,U){let{tracer:W,message:L}=U;const R=f({tracer:W,name:l}),A=Object(r.i)()?"desktop":"browser",B=Object(d.a)(j),F=Object(o.g)(j),k=Object(n.a)(L==null?void 0:L.ts,".",""),V=L==null?void 0:L.channel,X=`${B}-${V}-${k}`;return R.addTags({platform:A,encoded_user_id:B,encoded_team_id:F,encoded_channel_id:V,message_ts:k,notification_id:X}),R}m(S,"createAndCloseNotificationSentSpan");function D(j,U){let{message:W}=U;if(!W||!(W!=null&&W.ts)||!(W!=null&&W.channel))return;const L=Object(h.a)({state:j});let R,A;const B=[];if((W==null?void 0:W.type)==="desktop_notification"&&(W!=null&&W.trace_ctx))R=W.trace_ctx["x-b3-traceid"],A=W.trace_ctx["x-b3-spanid"];else{const k=S(j,{tracer:L,message:W});B.push(k),A=k.getId(),R=k.getTraceId()}const F=f({name:u,tracer:L,traceId:R,parentSpanId:A});return B.push(F),L.reportSpans(B),{traceId:R,parentSpanId:A}}m(D,"traceNotificationSentAndReceived");function p(j,U){let{notificationTracePassthroughData:W}=U;if(!W)return;const{traceId:L,parentSpanId:R}=W,A=Object(h.a)({state:j}),B=f({tracer:A,traceId:L,parentSpanId:R,name:c});A.reportSpans([B])}m(p,"traceNotificationOpened");function b(j,U){let{notificationTracePassthroughData:W,clientMsgId:L}=U;if(!W||!L)return;const{traceId:R,parentSpanId:A}=W,B=Object(h.a)({state:j}),F=f({tracer:B,traceId:R,parentSpanId:A,name:E});F.addTags({reply_message_client_message_id:L}),B.reportSpans([F])}m(b,"traceNotificationQuickReply");let M={};function _(j){return!!M[j]}m(_,"messageHasPendingNotificationTrace");function P(j,U){let{timestamp:W,notificationTracePassthroughData:L}=U;if(!L)return;Object(t.a)(M)>g&&(Object(a.a)({state:j}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),M={});const{traceId:R,parentSpanId:A}=L,B=Object(h.a)({state:j}),F=C({tracer:B,traceId:R,parentSpanId:A,name:v});M[W]=F}m(P,"openNotificationReadSpan");function y(j,U){let{timestamp:W}=U;if(!W)return;const L=M[W];if(!L)return;const R=Object(h.a)({state:j});L.close(),R.reportSpans([L]),delete M[W]}m(y,"closeAndReportNotificationReadSpan")},UnpP:function(K,s,e){"use strict";e.d(s,"a",function(){return L});var n=e("RaLP"),t=e.n(n),a=e("q1tI"),r=e.n(a),d=e("zxER"),o=e("Cfcg"),i=e("BHdc"),h=e("JoR1"),l=e("EJqq"),u=e("O86Y"),c=e("yrot"),E=e("whaK"),v=e("jlKB"),g=e("nNoG"),O=e("RJAC"),I=e("Y31Q"),C=e("Bkx2"),f=e("HJKc"),S=e("iomZ"),D=e("nWdO"),p=e("oEDn"),b=e("s4P+");function M(){return M=Object.assign||function(V){for(var X=1;X<arguments.length;X++){var J=arguments[X];for(var Y in J)Object.prototype.hasOwnProperty.call(J,Y)&&(V[Y]=J[Y])}return V},M.apply(this,arguments)}m(M,"_extends");function _(V){return class extends a.PureComponent{componentDidCatch(X,J){this.setState(()=>({hasError:!0})),Object(b.b)().error({label:"Error rendering emoji component",error:X,message:J})}render(){return this.state.hasError?r.a.createElement("span",{"data-qa":"missing_emoji",className:"c-emoji c-emoji__medium c-emoji--inline"},r.a.createElement("img",{src:t.a})):r.a.createElement(V,M({},this.props))}constructor(X){super(X),this.state={hasError:!1}}}}m(_,"withEmojiErrorBoundary"),_.displayName="withEmojiErrorBoundary";var P=_,y=e("L1AX"),j=e("9BZl"),U=e("Oy0v");function W(){return W=Object.assign||function(V){for(var X=1;X<arguments.length;X++){var J=arguments[X];for(var Y in J)Object.prototype.hasOwnProperty.call(J,Y)&&(V[Y]=J[Y])}return V},W.apply(this,arguments)}m(W,"emoji_extends");const L={SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},R=m(V=>{const X=Object(d.c)(J=>{if(!V.isStandard)return V.url;var Y;const ie=(Y=V.sourceTeamId)!==null&&Y!==void 0?Y:Object(u.g)(J);return V.isStandard?Object(c.j)(J,{text:V.text||"",teamId:ie,emojiMode:Object(E.a)(J,{forceDisplay:!!V.forceDisplay}),emojiSize:L.XLARGE}):V.url});return r.a.createElement(A,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:L.LARGER,text:V.text,displayText:V.displayText,url:X||"",sourceTeamId:V.sourceTeamId,ariaLabel:V.ariaLabel,alt:V.alt,unicode:V.unicode,emojiNameFromText:V.emojiNameFromText,dispatch:V.dispatch,stopAnimations:V.stopAnimations,fallbackUrl:V.fallbackUrl,isStandard:V.isStandard})},"EmojiTooltipEmoji");R.displayName="EmojiTooltipEmoji";let A=m(class extends a.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return r.a.createElement(p.a,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:X}=this.state,{isImportAllowed:J,isStandard:Y}=this.props;return J&&!Y&&!X}renderEmojiElement(){const{text:X,displayText:J,url:Y,emojiSize:ie,isEmojiInlineWithText:de,className:pe,shouldFallbackOnLoadError:oe,fallbackUrl:me,ariaLabel:re,alt:ve}=this.props,{isLoadError:q}=this.state,ce=Object(i.default)("c-emoji",`c-emoji__${ie}`,pe,{"c-emoji--inline":de}),he=re??(J&&Object(I.a)(J)),Se={"data-stringify-type":"emoji","data-stringify-emoji":X},se=this.isImportable()?this.handleEmojiImport:void 0;return de?r.a.createElement("span",{className:ce,"data-qa":(q||!Y)&&oe?"emoji-fallback":"emoji"},r.a.createElement("img",W({src:(q||!Y)&&oe?me:Y,onError:this.onLoadError,onContextMenu:se,"aria-label":he,alt:J},Se))):r.a.createElement("img",W({src:(q||!Y)&&oe?me:Y,onError:this.onLoadError,"aria-label":he,alt:ve??J,className:ce,onContextMenu:se,"data-qa":(q||!Y)&&oe?"emoji-fallback":"emoji"},Se))}renderUnicodeAsEmoji(X){if(X&&Object(f.a)(X)){const{emojiSize:J}=this.props,Y=Object(S.a)({codePointLikeString:X});return r.a.createElement("span",{className:Object(i.default)("c-emoji__unicode",{"c-emoji__unicode--large":J===L.LARGE})},Y)}}renderTooltip(){const{renderAsText:X,displayText:J,text:Y,isStandard:ie,url:de,unicode:pe,sourceTeamId:oe,ariaLabel:me,alt:re,emojiNameFromText:ve,stopAnimations:q,fallbackUrl:ce,forceDisplay:he}=this.props;if(X)return J;const Se=ie?void 0:de;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"c-emoji__emoji-tooltip"},r.a.createElement(R,{text:Y,displayText:J,url:Se,sourceTeamId:oe,ariaLabel:me,alt:re,unicode:pe,emojiNameFromText:ve,dispatch:this.props.dispatch,stopAnimations:q,fallbackUrl:ce,isStandard:ie,forceDisplay:he})),J,this.isImportable()&&r.a.createElement(j.a,{emojiName:J,emojiUrl:de}))}render(){const{displayText:X,url:J,renderAsText:Y,showTooltip:ie,iconInTextMode:de,renderEmojiFallback:pe,unicode:oe,emojiNameFromText:me}=this.props;if(!J&&!X&&!oe)return null;if((Y||!J)&&!pe&&!oe)return de?this.renderIconFallback():X;if(oe&&!me){var re;return(re=this.renderUnicodeAsEmoji(oe))!==null&&re!==void 0?re:X}return ie?r.a.createElement(D.c,{tip:this.renderTooltip,delay:D.a,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(X){super(X),this.handleEmojiImport=J=>{if(J!=null&&J.altKey)return;const{url:Y,dispatch:ie,displayText:de}=this.props;ie(Object(y.a)({emojiName:de,emojiUrl:Y,event:J}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");A.displayName="Emoji",A.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:L.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0};const B=m((V,X)=>{const{stopAnimations:J,forceDisplay:Y,emojiSize:ie=L.MEDIUM,url:de,unicode:pe}=X;let{text:oe}=X,me=Object(c.i)(V,pe??"");me&&me.charAt(me.length-1)!==":"&&me.charAt(0)!==":"&&(me=`:${me}:`),oe=me||oe||"";let re=de;const ve=Object(u.g)(V)||"",q=!Object(h.t)(V,"a11y_animations"),ce=J||q,he=Object(g.m)({teamOrEnterpriseId:ve,recalc:!1}),Se=Object(l.i)({state:V,locale:he,name:oe}),se=!Y&&Object(v.a)(V),H=Object(U.a)(oe),Oe=Object(C.b)(V,H);if(!se&&!re){const be=Object(E.a)(V,{forceDisplay:!!Y});var $;const Z=($=X.sourceTeamId)!==null&&$!==void 0?$:ve;re=Object(c.j)(V,{text:oe,parsedEmoji:H,teamId:Z,emojiMode:be,emojiSize:ie===L.LARGER?L.XLARGE:ie})||void 0}if(ce&&!Oe){var z;re=(z=Object(O.a)(V,{url:re,stopAnimations:ce,isEmoji:!0}))!==null&&z!==void 0?z:void 0}return{text:oe,url:re,renderAsText:se,emojiSize:ie,displayText:Se||"",stopAnimations:ce,fallbackUrl:t.a,isStandard:Oe,emojiNameFromText:me}},"mapStateToProps"),F={mapStateToProps:B};var k=s.b=P(Object(o.a)(B)(A))},Uqsd:function(K,s,e){"use strict";e.d(s,"c",function(){return te}),e.d(s,"a",function(){return Ae}),e.d(s,"b",function(){return Ve}),e.d(s,"d",function(){return ft}),e.d(s,"e",function(){return Ot}),e.d(s,"g",function(){return Wt}),e.d(s,"f",function(){return Ht}),e.d(s,"h",function(){return gn});var n=e("9oTK"),t=e("Lgge"),a=e("ifKl"),r=e("ZP0B"),d=e("s4P+"),o=e("SQ0V"),i=e("lhZz"),h=e("O86Y"),l=e("9Gfp"),u=e("uBea"),c=e("4p6e"),E=e("Z7Ay"),v=e("uAML"),g=e("G5NC"),O=e("GlHf"),I=e("3KJg"),C=e("+HFy"),f=e("aVws"),S=e("UIWO"),D=e("gSGL"),p=e("E3dU"),b=e("jlq+"),M=e("Sl1j"),_=e("Zbwg"),P=e("+l5E"),y=e("E97Y"),j=e("Yauy");function U(pt,_t,xt){return!pt.text||!(P.d.test(pt.text)||P.a.test(pt.text)||P.b.test(pt.text)||P.c.test(pt.text))||!Object(p.z)(xt(),pt.channel)?t.a.resolve():_t(Object(b.a)({channelId:pt.channel})).catch(a.a)}m(U,"maybeEnsureMemberCount");let W=function(){var pt=Object(n.coroutine)(function*(_t,xt){const en=xt(),Cn=m(function(){for(var _n=arguments.length,Un=new Array(_n),Dn=0;Dn<_n;Dn++)Un[Dn]=arguments[Dn];return Object(i.dispatchForTeamId)(Object(h.g)(en),...Un)},"dispatch"),pn=_t.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${_t.type} and subtype: ${_t.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${_t.type}`,Ln=Object(D.a)(_t.channel)&&Object(_.a)(_t.channel)&&!Object(p.z)(en,_t.channel)?Cn(Object(M.f)({ids:[_t.channel],reason:pn,callSource:M.a.EnsureModelObsArePresent})):t.a.resolve();yield t.a.all([Ln,U(_t,Cn,xt)]).catch(a.a)});return m(function(xt,en){return pt.apply(this,arguments)},"ensureModelObsInMessageArePresent")}();function L(pt,_t){return R.apply(this,arguments)}m(L,"ensureModelObsInMessageAreOpen");function R(){return R=Object(n.coroutine)(function*(pt,_t){if(pt.subtype)return;const xt=!1,en=Object(p.d)(_t(),pt.channel,xt);en&&Object(y.h)(en)&&(Object(j.jb)(en)||(yield Object(i.dispatchForTeamId)(Object(h.g)(_t()),Object(M.r)({channel:en.id,reason:"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))))}),R.apply(this,arguments)}m(R,"_ensureModelObsInMessageAreOpen");function A(pt,_t){return B.apply(this,arguments)}m(A,"preprocessRtmMessage");function B(){return B=Object(n.coroutine)(function*(pt,_t){if(pt.type==="message")try{yield W(pt,_t),yield L(pt,_t)}catch{}}),B.apply(this,arguments)}m(B,"_preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:U,ensureModelObsInMessageAreOpen:L},"ensureModelObsInMessageArePresent",{get:()=>W,set:pt=>{W=pt}});var k=e("oTSI"),V=e("9mJw"),X=e("Yk1L"),J=e("DKof"),Y=e("Pw4T"),ie=e("PLUl"),de=e("aNqa"),pe=e("rIJ2");const oe=7;let me;const re=[],ve=[];let q,ce;Object(E.b)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:re.concat(q),backgroundTeams:ve.concat(ce)}}));const he=Object(k.a)(()=>Object(pe.a)(1)||Object(de.a)(Object(i.getStateForClientStore)(),"feature_tinyspeck"));function Se(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!Object(g.a)()||!he())return;const _t=Math.floor(Date.now()/1e3);if(me!==_t){let xt=0;if(me){const en=_t-me;en>60?(q=void 0,ce=void 0,re.length=0,ve.length=0):en>1&&(xt=_t-me)}if(me=_t,q!==void 0){re.push(q),ve.push(ce);for(let Cn=0;Cn<xt;Cn++)re.push(0),ve.push(0);const en=15*60;if(re.length>=en){const Cn=Object(Y.a)(),pn=Object(V.a)(Object(X.a)(re),1),fn=Object(r.a)(re)||0,Ln=Object(J.a)(re);Object(d.b)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${Ln} total, ${fn} per second at peak, ${pn} per second average`);const Un={is_count:!0,allow_zero:!0};Cn.store(`rtm_nq_at${oe}_avg`,pn,Un),Cn.store(`rtm_nq_at${oe}_max`,fn,Un),Cn.store(`rtm_nq_at${oe}_total`,Ln,Un),re.length=0,ve.length=0}}q=0,ce=0}q=(q||0)+pt}m(Se,"maybeMeasureEnqueueVelocity");let se=0,H=0,Oe=Date.now(),$=Date.now();const z=5*60*1e3;function be(pt){const _t=Date.now();se=Math.max(se,pt.length),Oe+z<_t&&(Object(Y.a)().count("rtm_queue_length_max",se),se=0,Oe=_t)}m(be,"maybeMeasureMaxQueueLength");function Z(pt){const xt=pt[0]._enqueuedAt,en=Date.now(),Cn=xt&&en-xt;if(H=Cn?Math.max(H,Cn):H,$+z<en){const pn=Object(ie.a)(),fn=pn.createMetricsTrace({label:"rtm_queue"});fn.store({name:"rtm_queue_delay_max",value:H}),pn.reportTrace(fn),H=0,$=en}}m(Z,"maybeMeasureMaxQueueDelay");var G=e("2Qyd"),ne=e("+N8b"),ge=e("QjW8"),ae=e("Yzsk");const fe="RTM",Te=100;let ye={};const Ue=m(function(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return ye[`${pt}${_t?`_${_t}`:""}`]||1},"getCurrentMaxBatchSize"),Ne=m(function(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;ye[`${pt}${_t?`_${_t}`:""}`]=xt},"setCurrentMaxBatchSize");let He=!1;const ze=new Set(["accounts_changed","benchmark","bot_changed","channel_changed","channel_marked","client_logs_request","commands_changed","desktop_notification","draft_create","email_domain_changed","file_change","file_created","file_public","file_shared","file_unshared","group_marked","im_marked","manual_presence_change","mpim_marked","team_rename","user_change","user_invalidated","user_typing"]),Je=16;let Xe={},Me={},Ke={},$e={};function ct(pt){var _t;return(_t=Me[pt])!==null&&_t!==void 0?_t:Xe[pt]}m(ct,"getHandler");function Tt(pt){return pt.__isShared}m(Tt,"isSharedHandler");function Et(pt){return pt.enterpriseId!==void 0}m(Et,"isRoutedOrgHandler");function Le(pt){return pt.teamOrEnterpriseId!==void 0}m(Le,"isRoutedTeamHandler");function jt(pt){return Et(pt)?pt.enterpriseId:pt.teamOrEnterpriseId}m(jt,"getTeamOrEnterpriseId");function Dt(pt){let{messages:_t,teamOrEnterpriseId:xt}=pt;if(_t.msgs.length===0)return;const en=ct(_t.rtmEventType);if(!en)return;const Cn={handler:en,messages:_t};if(Object(G.c)(xt)||Object(S.d)(xt))return{...Cn,teamOrEnterpriseId:xt};const fn=C.a.get(xt).getRouting(_t.rtmFilters);return fn.teamIds.length===0?void 0:fn.enterpriseId&&Tt(en)?{...Cn,handler:en,enterpriseId:fn.enterpriseId,teamIds:fn.teamIds}:{...Cn,teamIds:fn.teamIds}}m(Dt,"getRoutedHandler");function Ee(pt,_t){if(Ke[pt]){const en=Object(u.a)()||Object(c.a)()?`addRtmErrorHandler: duplicate call to add a handler for ${pt}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${pt}`;throw new Error(en)}Ke[pt]=_t}m(Ee,"addRtmErrorHandler");function te(pt,_t){Ye({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:pt});const xt=Object.assign(_t,{__isShared:!0});Me[pt]=xt}m(te,"addSharedRtmHandler");function Ae(pt,_t){Ye({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:pt}),Xe[pt]=_t}m(Ae,"addBatchRtmHandler");function Ve(pt,_t){Ae(pt,(xt,en,Cn)=>{for(const pn of xt)_t(pn,en,Cn)})}m(Ve,"addRtmHandler");function Ye(pt){let{functionName:_t,handlersName:xt,rtmEventType:en}=pt;if(!Xe[en]&&!Me[en])return;const pn=Object(u.a)()||Object(c.a)()?`${_t}: duplicate call to add a handler for ${en}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${xt}', {});\` to work around it.`:`${_t}: a handler is already registered for ${en}`;throw new Error(pn)}m(Ye,"throwIfHandlerRegistered");function ft(pt){return!!Xe[pt]}m(ft,"doesHandlerExist");function tt(){return Xe}m(tt,"debugGetHandlers");function Rt(){return $e}m(Rt,"debugGetPendingMessages");function rt(pt){const{rtmEventType:_t,rtmEventSubtype:xt,msgs:en,fromEvtLog:Cn}=pt.messages,pn=jt(pt),fn=Object(d.a)({label:fe,teamOrEnterpriseId:pn}),Ln=performance.now();try{if(v.b.pauseRefetchIndefinitely(),Et(pt))pt.handler(en,pt.enterpriseId);else{const Un=pt.handler;if(Tt(Un))Un(en,pt.teamOrEnterpriseId);else{const Dn=Object(i.getStoreInstanceByTeamId)(pt.teamOrEnterpriseId);Un(en,Dn.dispatch,Dn.getState)}}}catch(Un){throw fn.error(`Error processing ${_t}: ${Un.message}`),Un}finally{v.b.unpauseRefetchImmediately()}const _n=performance.now()-Ln;try{Object(I.c)({teamOrEnterpriseId:pn,rtmEventType:_t,duration:_n,msgs:en,fromEvtLog:Cn}),ne.a.publish({type:ge.c.RtmMetrics,update:_n})}catch{}if(_n>Je){let Un=`Processed ${en.length} ${_t}`;xt&&(Un+=`:${xt}`),Un+=" event(s)";const Dn=[];en.forEach(nt=>{var St;const Ut=(St=nt)===null||St===void 0?void 0:St.channel;Ut&&Dn.push(Ut)}),Dn.length&&(Un+=` in channel(s) ${Dn.join(",")}`),Un+=` over ${_n.toFixed(2)}ms`,fn.info(Un)}}m(rt,"dispatchMessages");const we=50,xe=100,st=.75,ke=1.1;function lt(pt){return pt>we}m(lt,"shouldDefer");function at(pt){return ht.apply(this,arguments)}m(at,"preprocessRtmMessagesWithTimeout");function ht(){return ht=Object(n.coroutine)(function*(pt){let{msgs:_t,getState:xt}=pt;const en={},Cn=3e4,pn=t.a.delay(Cn,en),fn=t.a.map(_t,_n=>A(_n,xt).catch(a.a),{concurrency:1});(yield t.a.race([fn,pn]))===en&&Object(d.a)({getState:xt}).warn("Preprocessing messages took too long; continue to process queue")}),ht.apply(this,arguments)}m(ht,"_preprocessRtmMessagesWithTimeout");function Nt(pt){return Jt.apply(this,arguments)}m(Nt,"routeMessages");function Jt(){return Jt=Object(n.coroutine)(function*(pt){let{messages:_t,teamOrEnterpriseId:xt,elapsed:en}=pt;const Cn=Dt({messages:_t,teamOrEnterpriseId:xt});if(!Cn||Zt(xt))return en;if(Et(Cn)||Le(Cn))return zt({routedHandler:Cn,elapsed:en});const pn=yield t.a.all(Cn.teamIds.map(Ln=>{const _n={...Cn,teamOrEnterpriseId:Ln};return zt({routedHandler:_n,elapsed:en})}));var fn;return(fn=Object(r.a)(pn))!==null&&fn!==void 0?fn:en}),Jt.apply(this,arguments)}m(Jt,"_routeMessages");function zt(pt){return Yt.apply(this,arguments)}m(zt,"dispatchMessagesWithPreprocessing");function Yt(){return Yt=Object(n.coroutine)(function*(pt){let{routedHandler:_t,elapsed:xt}=pt;const en=performance.now(),Cn=Et(_t)?_t.teamIds:[_t.teamOrEnterpriseId];yield t.a.all(Cn.map(Ln=>{const _n=Object(i.getStoreInstanceByTeamId)(Ln);return at({msgs:_t.messages.msgs,getState:_n.getState})}));const pn=performance.now();rt(_t);let fn=xt;return pn-en>we&&(fn=0),fn+=performance.now()-pn,fn}),Yt.apply(this,arguments)}m(Yt,"_dispatchMessagesWithPreprocessing");function sn(pt){return dn.apply(this,arguments)}m(sn,"handleNextMessageFromQueue");function dn(){return dn=Object(n.coroutine)(function*(pt){let{queue:_t,teamOrEnterpriseId:xt,elapsed:en=0}=pt;for(var Cn;_t&&_t.length>0&&!(!((Cn=_t[0])===null||Cn===void 0)&&Cn.type);)_t.shift();if(!_t||!_t.length)return t.a.resolve();const pn=Object(d.a)({teamOrEnterpriseId:xt,label:fe});try{be(_t),Z(_t)}catch{}const fn=_t[0].type,Ln=_t[0].subtype,_n=C.a.getFilters(_t[0]),Un=Object(G.b)(_t[0]);let Dn=Ue(fn,Ln);const nt=[_t[0]],St=[];for(let qt=1;qt<_t.length&&nt.length<Dn&&St.length<Dn;qt++)if(_t[qt].type===fn&&_t[qt].subtype===Ln&&C.a.isEqualFilters(_n,C.a.getFilters(_t[qt])))nt.push(_t[qt]);else if(ze.has(_t[qt].type))St.push(_t[qt]);else break;const Ut=nt.length;Ut>1&&pn.debug(fe,`Batch processing ${Ut} of type ${fn}, skipping ${St.length} interleaved events ${St.map(qt=>qt.type).join(",")}`);let Gt=en;try{Gt=yield Nt({messages:{rtmEventType:fn,rtmEventSubtype:Ln,rtmFilters:_n,msgs:nt,fromEvtLog:Un},teamOrEnterpriseId:xt,elapsed:Gt})}catch(qt){pn.error(`Error while processing ${Ut} ${fn} event(s)`,qt)}finally{Ut!==nt.length&&(pn.error(`Message batch size for type (${fn}) changed during handling`),pn.warn(`Original batch size: ${Ut} Post-handler batch size: ${nt.length}`));const qt=Ut+St.length;_t.splice(0,qt,...St)}const On=lt(Gt),Xt=document.visibilityState==="visible";return Dn=Ue(fn,Ln),Xt&&(On?Dn>1&&Gt>xe&&(Ne(fn,Ln,Math.max(1,Math.floor(Dn*st))),pn.debug(fe,`Maximum batch size decreased to ${Ue(fn,Ln)}`)):Dn<Te&&nt.length===Dn&&(Ne(fn,Ln,Math.min(Te,Math.ceil(Dn*ke))),pn.debug(fe,`Maximum batch size increased to ${Ue(fn,Ln)}`))),_t.length?Xt&&On?t.a.delay(we).then(()=>{ut(xt)}):sn({queue:_t,teamOrEnterpriseId:xt,elapsed:Gt}):t.a.resolve()}),dn.apply(this,arguments)}m(dn,"_handleNextMessageFromQueue");let Mt=0,yt,tn=100;function an(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Object(d.b)();if(yt)return;const _t=Date.now()-Mt;if(_t<tn){const xt=Math.min(tn-_t,tn),en=Object(g.a)()&&!Object(O.m)(Object(i.getStateForClientStore)());en&&pt.info(fe,`Setting a timeout of ${xt} ms to process more rtm events`),yt=window.setTimeout(()=>{yt=void 0,en&&pt.info(fe,`Waited ${xt} ms, processing more rtm events now`),on()},xt);return}on()}m(an,"maybeDrainQueues");function on(){Mt=Date.now();const pt=m(()=>{const _t=Object.keys($e);for(const xt of _t)ut(xt)},"drainQueuesFn");He?Object(ae.e)(pt):pt()}m(on,"drainQueues");function ut(pt){!$e[pt]||!$e[pt].length||sn({queue:$e[pt],teamOrEnterpriseId:pt})}m(ut,"drainQueue");function Ot(pt,_t){let xt=0;const en=_t.filter(fn=>fn!=null&&fn.type?(Object(G.b)(fn)||(xt+=1),!0):(Object(d.a)({teamOrEnterpriseId:pt,label:fe}).warn("Received attempt to enqueue an invalid message; dropping it",fn),!1));try{Se(xt)}catch{}$e[pt]=$e[pt]||[];const Cn=$e[pt].length,pn=Date.now();for(const fn of en)fn._enqueuedAt=pn;$e[pt].push(...en),!Cn&&$e[pt].length>0&&an()}m(Ot,"enqueueMessages");const Wt=Object(o.c)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(pt,_t,xt)=>{const en=Object(h.g)(_t()),Cn=Dt({messages:{rtmEventType:xt.type,rtmEventSubtype:xt.subtype,msgs:[xt],fromEvtLog:Object(G.b)(xt)},teamOrEnterpriseId:en});Cn&&rt(Cn)});Wt.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const Ht=Object(o.c)("Calls the relevant handler for the given message",(pt,_t,xt)=>{if(!Ke[xt]){if(xt&&xt.includes&&xt.includes("started_with_org_token")){var en;Object(d.a)({getState:_t}).error(new Error(`Unexpected start error: ${xt}`),JSON.stringify({error:xt,pathname:window==null||(en=window.location)===null||en===void 0?void 0:en.pathname}),{subtype:"gs_start_error"})}else Object(d.a)({getState:_t}).error(new Error(`Unexpected start error: ${xt}`),JSON.stringify({error:xt}),{subtype:"gs_start_error"});return}Ke[xt](xt,pt,_t)});Ht.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function Zt(pt){const _t=Object(i.getStateByTeamId)(Object(f.a)(pt));return Object(l.l)(_t)&&!Object(l.n)(_t)}m(Zt,"shouldIgnoreRtmStream");const gn=m(pt=>{He=pt},"setIsActiveHuddle"),Pn=Object(o.c)("Fake an RTM event for testing only",(pt,_t,xt)=>{const en=Object(h.g)(_t()),Cn=Dt({messages:{rtmEventType:xt[0].type,rtmEventSubtype:xt[0].subtype,msgs:xt,fromEvtLog:Object(G.b)(xt[0])},teamOrEnterpriseId:en});Cn&&rt(Cn)});Pn.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const Mn={handleNextMessageFromQueue:sn,shouldIgnoreRtmStream:Zt,errorHandlers:Ke,handlers:Xe,sharedHandlers:Me,currentMaxBatchSize:ye,drainQueues:on,drainQueue:ut,maybeDrainQueues:an,queueDrainTimeout:yt,lastQueueDrainTimestamp:Mt,pendingMessages:$e};Object.defineProperty(Mn,"handleNextMessageFromQueue",{get:()=>sn,set:pt=>{sn=pt}}),Object.defineProperty(Mn,"errorHandlers",{get:()=>Ke,set:pt=>{Ke=pt}}),Object.defineProperty(Mn,"handlers",{get:()=>Xe,set:pt=>{Xe=pt}}),Object.defineProperty(Mn,"sharedHandlers",{get:()=>Me,set:pt=>{Me=pt}}),Object.defineProperty(Mn,"currentMaxBatchSize",{get:()=>ye,set:pt=>{ye=pt}}),Object.defineProperty(Mn,"drainQueues",{get:()=>on,set:pt=>{on=pt}}),Object.defineProperty(Mn,"drainQueue",{get:()=>ut,set:pt=>{ut=pt}}),Object.defineProperty(Mn,"maybeDrainQueues",{get:()=>an,set:pt=>{an=pt}}),Object.defineProperty(Mn,"queueDrainTimeout",{get:()=>yt,set:pt=>{yt=pt}}),Object.defineProperty(Mn,"lastQueueDrainTimestamp",{get:()=>Mt,set:pt=>{Mt=pt}}),Object.defineProperty(Mn,"pendingMessages",{get:()=>$e,set:pt=>{$e=pt}}),Object(E.a)("rtm",{handlers:Xe,errorHandlers:Ke,interceptHandler:(pt,_t)=>{const xt=Xe[pt];Xe[pt]=function(){for(var en=arguments.length,Cn=new Array(en),pn=0;pn<en;pn++)Cn[pn]=arguments[pn];_t(xt,...Cn)}},getPendingMessages:()=>$e,globalQueue:{drainQueues:on,drainQueue:ut,maybeDrainQueues:an,getCurrentMaxBatchSize:()=>ye,setCurrentMaxBatchSize:pt=>{ye=pt},setQueueDrainInterval:pt=>{tn=pt}}})},Uy34:function(K,s,e){K.exports=e.p+"ava_0002-192-0ddd598.png"},"V/As":function(K,s,e){"use strict";e.d(s,"a",function(){return h}),e.d(s,"b",function(){return u});var n=e("gV2L"),t=e.n(n),a=e("1Lli"),r=e("bPB8"),d=e("zmn3"),o=e("7EGn"),i=e("DR7d");const h=t.a;function l(c){return!c||!c.icons?[]:Object(a.a)(Object(r.a)(Object(d.a)(c.icons,(E,v)=>{let g=v.replace("image_","");return g=g.replace("image",""),parseInt(g,10)})),[],"desc")}m(l,"getAvailableIconSizes");function u(c,E){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"icons.image_";const O=Object(i.a)(E,l(c)),I="icons.image",C=Object(o.a)(c,`${g}${O}`),f=Object(o.a)(c,`${I}${O}`,v);return C??f}m(u,"getAppIcon")},V0AD:function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"b",function(){return o});var n=e("q1tI"),t=e.n(n),a=e("zxER"),r=e("2um6");const d=Object(n.createContext)({useARIAApplicationForListViews:!1}),o=m(i=>{const h=Object(a.c)(r.k),l=Object(n.useMemo)(()=>({useARIAApplicationForListViews:h}),[h]);return t.a.createElement(d.Provider,{value:l},i.children)},"A11yPrefsProvider");o.displayName="A11yPrefsProvider"},VFO2:function(K,s,e){K.exports=e.p+"template_card_bugs-545dad5.png"},VHTg:function(K,s,e){"use strict";var n=e("lCmp"),t=e("s4P+"),a=e("G5NC"),r=e("TMWO"),d=e("vfQU"),o=e("Kyco"),i=e("lhZz"),h=e("PZKh"),l=e("WvYH"),u=e("zm5I"),c=e("apAF"),E=e("7xYR");let v="light",g=!1,O="light";try{r.b&&Object(a.a)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(C=>{const f=C.matches?"dark":"light";O=f,g&&(v=O);const S=Object(i.getClientStoreInstance)();if(S){const D=S.getState(),p=Object(E.getBootedWorkspaces)(D),b=Object(n.a)(p.map(M=>Object(r.a)(Object(i.getStateByTeamId)(M))));S.dispatch(Object(l.c)(f)),b&&Object(u.b)(D)&&S.dispatch(Object(c.a)(f))}})}catch(C){Object(t.b)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",C)}try{const C=window.localStorage.getItem(h.b),f=window.localStorage.getItem(h.a);v=C||"light",r.b&&(f?g=f==="true":g=!C,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(O="dark"),g&&(v=O)),Object(d.fb)()&&(Object(d.ec)({name:"userTheme",value:v}),Object(d.ec)({name:"systemThemeSyncEnabled",value:g}))}catch(C){Object(t.b)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",C)}const I=Object(o.b)({},{clientTheme:v,systemSync:g,systemTheme:O},{storeKey:"clientTheme",persistenceEnabled:!1}).on(l.a,function(C){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...C,clientTheme:f}}).on(l.b,function(C){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...C,systemSync:f}}).on(l.c,function(C){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...C,systemTheme:f}});s.a=I},VKu5:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("AFNo"),t=e("GNR7"),a=e("O86Y"),r=e("sekU");const d=Object(n.c)((o,i)=>{const h=Object(t.B)(o);if(h)return h;const l=Object(t.a)(o,i);if(!l)return null;const u=Object(a.g)(o);return l.name===void 0?(Object(r.b)().fetchObjectWithId(u,l.id),null):(Object(r.a)().maybeRefetch(u,l.id),l.name)});d.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(o,i)=>{const h=Object(t.B)(o);if(h)return h;const l=Object(t.a)(o,i);if(!l)return null;const u=Object(a.g)(o);return l.name===void 0?(Object(r.b)().fetchObjectWithId(u,l.id),null):(Object(r.a)().maybeRefetch(u,l.id),l.name)}}},VSFm:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("SQ0V"),t=e("Lgge"),a=e("do0Y"),r=e("Zbwg"),d=e("s4P+"),o=e("mb4i");const i=Object(n.c)("Fetch teams connected to a shared channel and upsert into frontend store.",(h,l,u)=>{let{channelId:c,reason:E="fetchAndUpsertSharedChannelTeamConnections"}=u;return Object(r.a)(c)?h(Object(o.a)({reason:E,channel:c})).then(v=>{const{channel:g,connections:O=[],pending_connections:I=[],previous_connections:C=[]}=v;return h(Object(a.a)({id:g.id,conversationHostId:g.conversation_host_id,isChannelSponsored:g.is_sponsored,connections:O,pendingConnections:I,previousConnections:C})),v}).catch(v=>{throw v}):(Object(d.a)({getState:l}).warn(`fetchAndUpsertSharedChannelTeamConnections called with incorrect channelId type: ${c}`),t.a.resolve())});i.meta={name:"createThunk",key:"createThunkfetchAndUpsertSharedChannelTeamConnections",description:"Fetch teams connected to a shared channel and upsert into frontend store."}},VSuV:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),r=e("xwCZ"),d=e("Enx8"),o=e("C3vN"),i=e("nNoG"),h=e("hooW");const l=new i.b("channel_token"),u=m(c=>{let{userId:E,isFirst:v,isSelf:g}=c;var O;const I=(O=Object(a.c)(f=>Object(r.g)(f,E)))!==null&&O!==void 0?O:void 0;let C=Object(a.c)(f=>Object(d.a)(f,E));return Object(o.pb)(I)?t.a.createElement(h.a,{type:"unknown",subtler:!0}):Object(o.fb)(I)?t.a.createElement(h.a,{type:"non-existent",subtler:!0}):(g&&(C=v?l.t("You"):l.t("you")),t.a.createElement(t.a.Fragment,null,C))},"TooltipMemberName");u.displayName="TooltipMemberName",s.a=t.a.memo(u)},VXST:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("Lgge"),a=e("Tkkt"),r=e("blur"),d=e("05YS"),o=e("s4P+"),i=e("ASxg"),h=e("TBTs"),l=e("TU0B"),u=e("vkL2"),c=e("ohbk"),E=e("3fJ/"),v=e("rZ8V"),g=e("kZhr"),O=e("I0j/"),I=e("37+L");const C=Object(n.c)("Set a request from the editable request",(f,S,D)=>{let{query:p,fetchSuggestions:b=!0,module:M,mode:_,page:P,preventQueryRewrite:y=!1}=D;f(Object(a.m)({windowId:g.a}));const j=S(),U=p||Object(d.A)(j)||"",W=Object(o.a)({getState:S}),L=Object(d.D)(j);let R;if(M){W.info(i.a,`Retrying previous search for ${M} module`);const B=Object(h.m)(j,M)||{};R=f(Object(r.d)({page:P??B.page,module:M,reason:"search-retry-module"}))}else W.info(i.a,"Starting new search"),f(Object(a.c)({windowId:g.a})),R=f(Object(r.b)({query:U,reason:"search-new-query",fetchSuggestions:b,preventQueryRewrite:y}));const A=Object(l.a)(j);return A?(f(Object(u.b)({value:A})),Object(v.m)(j)?f(Object(O.a)(Object(I.Z)(A))):f(Object(c.a)({id:"Psearch",routeParams:{searchQuery:A}})),f(Object(E.L)({view:M||"all",position:0})),U&&f(Object(r.q)({query:U,type:_||"unknown"})),L&&f(Object(a.d)({windowId:g.a})),R):t.a.reject(new Error("Error getting route param from search state"))});C.meta={name:"createThunk",key:"createThunksetRequestFromEditableRequest",description:"Set a request from the editable request"},s.a=C},VYSP:function(K,s,e){"use strict";e.d(s,"a",function(){return V}),e.d(s,"b",function(){return ie});var n=e("65zA"),t=e("PLUl"),a=e("5MVR"),r=e("tHoN"),d=e("s4P+"),o=e("lhZz"),i=e("j77i"),h=e("O86Y"),l=e("xwCZ"),u=e("JvzI"),c=e("RVJP"),E=e("E3dU"),v=e("gCYc"),g=e("7xYR"),O=e("4Vim"),I=e("Oczg"),C=e("hoMV"),f=e("8kWR"),S=e("SjsT"),D=e("DuRM"),p=e("XO6L"),b=e("3vtZ"),M=e("rZ8V"),_=e("GlHf"),P=e("hhWw"),y=e("Z7Ay");function j(){var de,pe;return{hardware_concurrency:(de=window.navigator)===null||de===void 0?void 0:de.hardwareConcurrency,device_memory:(pe=window.navigator)===null||pe===void 0?void 0:pe.deviceMemory}}m(j,"getDeviceStats");function U(){const de=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),pe=Object(r.b)(),oe=Object(r.a)(),me=pe&&oe?(pe/oe).toPrecision(4):null;return{total_client_redux_size:de,js_heap_used:pe,js_heap_total:oe,js_heap_used_percentage:me}}m(U,"getPerfMemoryStats");function W(){const de=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!de)return{};try{return JSON.parse(de)}catch(pe){return Object(d.b)().warn("Error parsing appStats in localStorage:",de,pe),{}}}m(W,"getDesktopAppStats");function L(){return{...Object(p.a)(),num_started_sockets:Object(C.d)(),frontend_build_type:Object(n.a)(),object_store_redux_group:Object(f.b)(P.a)}}m(L,"getClientStateTags");function R(de,pe){const oe=pe.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),me=Object.values(Object(E.b)(de)).length,re=Object.values(Object(E.i)(de)).length,ve=Object.values(Object(E.o)(de)).length,q=Object.values(Object(E.r)(de)).length;return oe.close(),{num_channels_in_redux:me,num_all_channels_user_is_in:re,num_dms_user_is_in:ve,num_group_dms_user_is_in:q}}m(R,"getChannelInfoTags");function A(de,pe){const oe=pe.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),me=Object.keys(Object(v.l)(de)||{}).length,re=Object(a.a)(Object(v.f)(de));return oe.close(),{num_drafts:me,drafts_store_size:re}}m(A,"getDraftsInfoTags");function B(de){return{user_locale:Object(u.a)({teamOrEnterpriseId:Object(h.h)(de)})}}m(B,"getLocaleTags");function F(de){return{active_collab_instance_count:Object(I.b)(),open_quip_embed_instance_count:Object(O.a)(de).length,canvas_child_window_count:Object(D.a)()}}m(F,"getCanvasTags");const k=m(de=>{const pe=["spaceship_beyond_iframes","selector_memo"],oe={};return pe.forEach(re=>{const ve=Object(c.d)(de,re,!1);ve&&(oe[re]=ve)}),["redux_key_tracker"].forEach(re=>{const ve=Object(f.b)(re);ve!==f.a.NoGroup&&(oe[re]=ve)}),oe.ia4=Object(M.m)(de)?"on":"off",oe},"getExperimentTagsForTraces"),V=m((de,pe)=>{const oe=pe??["desktop_flannel_emoji"],me={},re=Object(c.b)(de),ve=Date.now()/1e3,q=60*60*24*7*4;for(const[ce,he]of Object.entries(re)){const{trigger:Se,schedule_ts:se}=he;(oe.includes(ce)||Se&&se&&Se!=="finished"&&Se!=="force_debug"&&se>ve-q)&&(me[ce]=he.group)}return me},"getExperimentTags");function X(de){return{num_members_in_redux:Object(l.a)(de).length}}m(X,"getMembersTags");function J(de){const pe=Object(i.f)("lastColdBootTs"),oe=Object(_.c)(de);return{last_cold_boot_ts:pe,boot_type:oe}}m(J,"getConfigTags");function Y(){return{is_in_active_huddle:Object(b.y)()}}m(Y,"getHuddleTags");function ie(de){const pe=Object(o.getStateForClientStore)();if(!pe)return{};const oe=de??Object(g.getFocusedWorkspace)(pe),me=Object(o.getStateByTeamId)(oe),re=Object(t.a)(),ve=re.createTrace({traceName:"add_tags:performance_tracing_metatags"}),q=Object(p.b)(oe),ce=L(),he=R(me,ve),Se=A(me,ve),se=j(),H=U(),Oe=W(),$=B(me),z=X(me),be=J(me),Z=S.a.getTraceTags(),G=k(me),ne=F(me),ge=Y(),ae={...q,...ce,...he,...Se,...se,...H,...Oe,...$,...z,...be,...Z,...G,...ne,...ge};return re.reportTrace(ve),ae}m(ie,"getPerformanceTracingMetatags"),Object(y.b)("performanceTracingMetatags",ie)},VfSx:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return t&&t.installed}m(n,"isEmojiCollectionInstalled")},VjAc:function(K,s,e){"use strict";e.d(s,"b",function(){return o}),e.d(s,"a",function(){return i}),e.d(s,"j",function(){return h}),e.d(s,"h",function(){return l}),e.d(s,"i",function(){return c}),e.d(s,"f",function(){return E}),e.d(s,"g",function(){return v}),e.d(s,"k",function(){return g}),e.d(s,"e",function(){return C}),e.d(s,"c",function(){return f}),e.d(s,"d",function(){return S});var n=e("gSGL"),t=e("nNoG"),a=e("ykb+"),r=e("s4P+");const d=new t.b("channels"),o=250,i=250;function h(p){return Object(n.a)(p)?p.length>o:(Object(a.b)()&&Object(r.b)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}m(h,"channelTopicExceedsLimit");const l="too_long",u="restricted_action",c="user_is_restricted",E="method_not_supported_for_channel_type",v="method_not_supported_for_dm";function g(p){switch(p){case l:return d.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:o});case u:case c:return d.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case E:return d.t("It\u2019s not possible to set a topic here, unfortunately.");case v:return d.t("Regrettably, direct messages do not have topics.");default:return d.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}m(g,"getChannelTopicError");const O="too_long",I="restricted_action",C="user_is_restricted",f="method_not_supported_for_channel_type",S="method_not_supported_for_dm";function D(p){switch(p){case O:return d.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:i,fallbackHash:"087b894e92ec32b794a3cd30bd37323df4175897"});case I:case C:return d.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case f:return d.t("It\u2019s not possible to set a purpose here, unfortunately.",{fallbackHash:"12ce622a898e7e78ccd1f2fe5fce11cb2c1cf1da"});case S:return d.t("Regrettably, direct messages do not have purposes.",{fallbackHash:"40ea8381b1de99e2bdf1a5860a8c436049338689"});default:return d.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}m(D,"getChannelPurposeError")},VkPA:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ifKl"),d=e("WIr4"),o=e("ktUG"),i=e("VymY"),h=e("lYQS"),l=e("Kcy5"),u=e("MLXQ"),c=e("LrWZ"),E=e("qDEp"),v=e("oEDn"),g=e("ZobM"),O=e("U28S"),I=e("j4mf");function C(ge){return/\.(jpe?g|png|gif|bmp)$/i.test(ge)}m(C,"hasImageExtention");var f=C,S=e("n3y5");function D(){return D=Object.assign||function(ge){for(var ae=1;ae<arguments.length;ae++){var fe=arguments[ae];for(var Te in fe)Object.prototype.hasOwnProperty.call(fe,Te)&&(ge[Te]=fe[Te])}return ge},D.apply(this,arguments)}m(D,"_extends");const p=m(ge=>{let{icon:ae,svgIcon:fe,customIcon:Te,className:ye}=ge;return t.a.createElement("div",{className:ye,"data-qa":"tabs_item_render_icon"},!Te&&ae&&!fe&&t.a.createElement(v.a,{type:ae,size:"inherit",inline:!0}),!Te&&fe&&!ae&&t.a.createElement(g.a,D({},fe)),Te&&Te)},"TabsItemIcon");p.displayName="TabsItemIcon";const b=m(ge=>ge>=1e4?Object(O.a)(ge,{precision:4,decimal_places:0,lowercase:!0}):Object(I.a)(ge),"formatNumber"),M=m(ge=>{let{shouldFormatCount:ae,titleCount:fe,maxTitleCount:Te}=ge;return ae&&fe?b(fe):Te&&fe&&fe>Te?`${Te}+`:fe},"formatCount");var P=Object(n.forwardRef)((ge,ae)=>{let{label:fe,onClick:Te,title:ye,isSelected:Ue,isFocused:Ne,focusOnMount:He,fullWidth:ze,titleCount:Je,maxTitleCount:Xe,icon:Me,svgIcon:Ke,customIcon:$e,formatCount:ct,isLoading:Tt,isCountLoading:Et,isDisabled:Le,iconPosition:jt="right",className:Dt="",...Ee}=ge;const te=Object(u.a)(ae),Ae=Object(a.default)(Dt,"c-tabs__tab","js-tab",{"c-tabs__tab--active":Ue,"c-tabs__tab--full_width":ze}),Ve=fe||ye,Ye=typeof Ve=="string"&&f(Ve)?t.a.createElement(S.a,{classes:"c-tabs__tab_image",image:Ve,ariaHidden:!0}):Ve,ft=Ee.id,tt=Object(n.useCallback)(xe=>{Te&&Te(ft,xe)},[ft,Te]),Rt=M({shouldFormatCount:ct,titleCount:Je,maxTitleCount:Xe}),rt=Object(c.a)(Ne)?Ue:Ne,we=Object(l.a)(rt);return Object(n.useEffect)(()=>{if(!rt)return;const xe=Object(c.a)(we);if(xe&&He||!xe&&!we){var st;(st=te.current)===null||st===void 0||st.focus()}},[rt,we,He,te]),t.a.createElement(E.d,D({},Ee,{onClick:tt,role:"tab",className:Ae,"aria-selected":Ue,tabIndex:rt?0:-1,disabled:Le,ref:te}),Tt?t.a.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.a.createElement(t.a.Fragment,null,(!!Me||!!Ke||!!$e)&&jt==="left"&&t.a.createElement(p,{icon:Me,svgIcon:Ke,customIcon:$e,className:"c-tabs__tab_icon--left"}),t.a.createElement("span",{className:"c-tabs__tab_content"},Ye),Number.isFinite(Je)&&t.a.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},Rt),Et&&t.a.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!Me||!!Ke||!!$e)&&jt==="right"&&t.a.createElement(p,{icon:Me,svgIcon:Ke,customIcon:$e,className:"c-tabs__tab_icon--right"})))}),y=e("c+dP"),j=e("Tsh7");const U={name:"ellipsis-horizontal",variation:"filled"};var L=Object(n.forwardRef)((ge,ae)=>{let{renderMenu:fe,position:Te,label:ye,id:Ue,isSelected:Ne,isFocused:He}=ge;return t.a.createElement(y.e,{renderMenu:fe,position:Te||"bottom-left"},t.a.createElement(j.d,{tip:ye,position:"top",offsetY:6},t.a.createElement(P,{id:Ue,"aria-label":ye,isSelected:Ne,isFocused:He,className:"c-tabs__tab_overflow",svgIcon:U,ref:ae})))});function R(){return R=Object.assign||function(ge){for(var ae=1;ae<arguments.length;ae++){var fe=arguments[ae];for(var Te in fe)Object.prototype.hasOwnProperty.call(fe,Te)&&(ge[Te]=fe[Te])}return ge},R.apply(this,arguments)}m(R,"tabs_content_extends");var B=Object(n.forwardRef)((ge,ae)=>{let{content:fe,fullHeight:Te,className:ye,...Ue}=ge;const Ne=Object(a.default)(ye,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":Te});return t.a.createElement("div",R({role:"tabpanel",className:Ne,"data-qa":"tabs_content_container",ref:ae},Ue),fe)}),F=e("0cEW"),k=e("s4P+"),V=e("ykb+"),X=e("muVS"),J=e("tcEy"),Y=e("tv4y"),ie=e("DKof");const de=53,pe=27;function oe(ge){const ae=ge.ownerDocument.defaultView;if(!ae)return ge.offsetWidth;const fe=ae.getComputedStyle(ge),Te=parseFloat(fe.getPropertyValue("margin-left"))+parseFloat(fe.getPropertyValue("margin-right"));return ge.offsetWidth+Te}m(oe,"getWidth");function me(ge){const ae=ge.ownerDocument.defaultView;if(!ae)return ge.offsetHeight;const fe=ae.getComputedStyle(ge),Te=parseFloat(fe.getPropertyValue("margin-top"))+parseFloat(fe.getPropertyValue("margin-bottom"));return ge.offsetHeight+Te}m(me,"getHeight");const re=m((ge,ae)=>{let{outerElement:fe,innerElement:Te,threshold:ye,totalTabsLength:Ue,childElements:Ne,containerSize:He,isHorizontal:ze}=ge;if(!fe||!Te||!Ne||Ue===0)return;const Je=He-ye,Xe=ze?oe:me,Me=Array.from(Ne).map(Et=>Xe(Et));if(Object(ie.a)(Me)<Je&&Me.length===Ue){ae(Ue);return}let $e=ze?de:pe,ct=Je,Tt=1;Me.forEach(Et=>{$e+=Et,$e<Je&&Et<=ct&&(Tt+=1),ct-=Et}),ae(Tt)},"recalculateVisibleTabs");var ve=e("nNoG"),q=e("gSGL"),he=m(ge=>Object(q.a)(ge),"isReactNodeAString");function Se(){return Se=Object.assign||function(ge){for(var ae=1;ae<arguments.length;ae++){var fe=arguments[ae];for(var Te in fe)Object.prototype.hasOwnProperty.call(fe,Te)&&(ge[Te]=fe[Te])}return ge},Se.apply(this,arguments)}m(Se,"tabs_extends");const se=new ve.b("slack-kit"),H=85,Oe=52,$=["ArrowLeft"],z=["ArrowRight"],be=$.concat("ArrowUp"),Z=z.concat("ArrowDown");let G=m(class extends n.PureComponent{setVisibleTabs(ae){this.setState(()=>({numOfVisibleTabsShown:ae}))}onResize(){var ae,fe,Te,ye,Ue,Ne,He,ze,Je,Xe;const Me=this.props.orientation===F.a.Horizontal,Ke=Me?(ae=this.tabsContainerRef)===null||ae===void 0||(fe=ae.current)===null||fe===void 0?void 0:fe.clientWidth:(Te=this.tabsContainerRef)===null||Te===void 0||(ye=Te.current)===null||ye===void 0?void 0:ye.clientHeight;if(!Ke)return;const $e=Me?H:Oe,ct={outerElement:(Ue=this.tabsContainerRef)===null||Ue===void 0||(Ne=Ue.current)===null||Ne===void 0?void 0:Ne.getBoundingClientRect(),innerElement:(He=this.lastVisibleTabRef)===null||He===void 0||(ze=He.current)===null||ze===void 0?void 0:ze.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,childElements:(Je=this.tabsContainerRef)===null||Je===void 0||(Xe=Je.current)===null||Xe===void 0?void 0:Xe.children};re({...ct,threshold:$e,containerSize:Ke,isHorizontal:Me},this.setVisibleTabs),this.setState(()=>({isResizeCalculationCompleted:!0}))}componentDidMount(){this._isMounted=!0;const{maxSize:ae}=this.props;if(ae&&!this.resizeListener){var fe;this.resizeListener=Object(J.a)(this.onResize),this.resizeListener.observe((fe=this.tabsContainerRef)===null||fe===void 0?void 0:fe.current)}}componentDidUpdate(ae,fe){var Te;const{defaultTabId:ye,tabs:Ue,manualTabActivation:Ne}=this.props;var He;((He=(Te=ae.tabs)===null||Te===void 0?void 0:Te.length)!==null&&He!==void 0?He:0)!==Ue.length&&this.updateSelectedTab(),ye!==ae.defaultTabId&&ye&&this.selectTab(ye,void 0);const ze=fe.numOfVisibleTabsShown!==this.state.numOfVisibleTabsShown,Je=fe.selectedTabId!==this.state.selectedTabId&&!Ne;(ze||Je)&&this.updateFocusedTabIndex(),this.focusWhenVisible&&(this.focusWhenVisible=!1,this.focus())}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var ae;(ae=this.resizeListener)===null||ae===void 0||ae.disconnect(),this.resizeListener=null}}onFocus(ae){const{focusedTabIndex:fe}=this.state,Te=this.getTabIndexById(ae.target.id);Te!==fe&&this.focusTab(Te)}onKeyDown(ae){const fe=ae.key;if(ae.shiftKey||ae.metaKey||ae.ctrlKey||ae.altKey)return;const ye=this.props.orientation==="vertical",Ue=ye?Z:z,Ne=ye?be:$;if(!["Home","End"].concat(Ue,Ne).includes(fe))return;const ze=Ue.includes(fe),Je=Ne.includes(fe);ae.preventDefault(),ze&&this.onNextArrow(ae),Je&&this.onPreviousArrow(ae),fe==="Home"&&this.onHome(ae),fe==="End"&&this.onEnd(ae)}isSelectedTabVisible(){return this.getVisibleTabIds().includes(this.state.selectedTabId)}getHiddenTabs(){const{tabs:ae}=this.props,{numOfVisibleTabsShown:fe}=this.state;return ae.slice(fe,ae.length)}getVisibleTabs(){var ae,fe;const{tabs:Te,maxSize:ye}=this.props;if(!!!ye)return Te;const Ne=((ae=this)===null||ae===void 0||(fe=ae.state)===null||fe===void 0?void 0:fe.numOfVisibleTabsShown)||Te.length;return Te.length===Ne?Te:Te.slice(0,Ne).concat({id:this.overflowTabId})}getVisibleTabIds(){return this.getVisibleTabs().map(ae=>{let{id:fe}=ae;return fe})}getTabById(ae){var fe;return(fe=this.props.tabs)===null||fe===void 0?void 0:fe.find(Te=>Te.id===ae)}getTabIndexById(ae){return this.getVisibleTabIds().indexOf(ae)}onHome(ae){if(this.state.focusedTabIndex===0)return;const{onTabWillChange:fe,manualTabActivation:Te,onTabChange:ye}=this.props,Ue=this.getVisibleTabIds(),Ne=0;if(this.focusTab(Ne),Te)return;const He=Ue[Ne];He!==this.overflowTabId&&(fe==null?void 0:fe(He))!==!1&&this.setState(()=>({selectedTabId:He}),()=>{ye==null||ye(He,ae)})}onEnd(ae){const fe=this.getVisibleTabIds(),Te=fe.length-1;if(this.state.focusedTabIndex===Te)return;const{onTabWillChange:ye,manualTabActivation:Ue,onTabChange:Ne}=this.props;if(this.focusTab(Te),Ue)return;const He=fe[Te];He!==this.overflowTabId&&(ye==null?void 0:ye(He))!==!1&&this.setState(()=>({selectedTabId:He}),()=>Ne==null?void 0:Ne(He,ae))}onNextArrow(ae){const{onTabWillChange:fe,manualTabActivation:Te,onTabChange:ye}=this.props,Ue=this.getVisibleTabIds(),Ne=this.getTabIndexById(ae.target.id),He=Ne>=Ue.length-1?0:Ne+1;if(this.focusTab(He),Te)return;const ze=Ue[He];ze!==this.overflowTabId&&(fe==null?void 0:fe(ze))!==!1&&this.setState(()=>({selectedTabId:ze}),()=>ye==null?void 0:ye(ze,ae))}onPreviousArrow(ae){const{onTabWillChange:fe,manualTabActivation:Te,onTabChange:ye}=this.props,Ue=this.getVisibleTabIds(),Ne=this.getTabIndexById(ae.target.id),He=Ne===0?Ue.length-1:Ne-1;if(this.focusTab(He),Te)return;const ze=Ue[He];ze!==this.overflowTabId&&(fe==null?void 0:fe(ze))!==!1&&this.setState(()=>({selectedTabId:ze}),()=>ye==null?void 0:ye(ze,ae))}getNextTabId(){const{defaultTabId:ae,tabs:fe,currentTabId:Te}=this.props,ye=ae?this.getTabIndexById(ae):void 0,Ue=Te?this.getTabIndexById(Te):void 0;return Te&&Ue?Te:ae&&ye?ae:fe[0].id}updateSelectedTab(){if(!this._isMounted||!this.props.tabs.length)return;const ae=this.getNextTabId();ae!==this.state.selectedTabId&&this.setState(()=>({selectedTabId:ae}))}focus(){if(this.isHidden)return this.focusWhenVisible=!0,!1;this.focusWhenVisible=!1;const{current:ae}=this.focusedTabRef;if(ae)return ae.focus(),!0;const fe=this.props.currentTabId||this.state.selectedTabId,Te=this.getTabIndexById(fe)||0;return this.focusTab(Te),!0}focusTab(ae){this.setState(()=>({focusedTabIndex:ae}))}selectTab(ae,fe){const{onTabWillChange:Te,onTabChange:ye}=this.props,Ue=this.getTabById(ae);if(!Ue)return null;if((Te==null?void 0:Te(ae))!==!1){if(Ue.isExternalLink){var Ne;return(Ne=Ue.onClick)===null||Ne===void 0?void 0:Ne.call(Ue,ae,fe)}return this.setState(()=>({selectedTabId:ae}),()=>{ye==null||ye(ae,fe);const He=this.panelRef&&this.panelRef.current,ze=Object(i.d)(He);ze==null||ze.focus()}),null}}updateFocusedTabIndex(){const ae=this.isSelectedTabVisible()?this.state.selectedTabId:this.overflowTabId;this.setState(()=>({focusedTabIndex:this.getVisibleTabIds().indexOf(ae)}))}onTabClick(ae,fe){var Te;const ye=this.getTabById(ae);ye&&(ye.isExternalLink||this.selectTab(ye.id,fe),ye==null||(Te=ye.onClick)===null||Te===void 0||Te.call(ye,ye.id,fe))}get isHidden(){return!!this.props.maxSize&&!this.state.isResizeCalculationCompleted}renderOverflowTabLabel(ae){const fe=se.t("More\u2026",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"});if(this.isSelectedTabVisible())return fe;const Te=this.getTabById(ae);if(!Te)return fe;const ye=Te["aria-label"]||Te.label||Te.title;return!ye||!he(ye)?fe:se.t("More: {selectedTabLabel}",{selectedTabLabel:ye,fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"})}renderTabsItem(ae,fe){const{tabs:Te,fullWidthMenu:ye,orientation:Ue,iconPosition:Ne,focusOnMount:He}=this.props,ze=this.state.focusedTabIndex===fe,Je=ze?this.focusedTabRef:void 0,Xe=ae.autoClogProps?{...this.autoClogProps,...ae.autoClogProps,elementType:o.ElementType.TAB}:this.autoClogProps,Me=fe===Te.length-1?this.lastVisibleTabRef:void 0,Ke=Me?Object(X.a)(Je,Me):Je,$e=this.props.currentTabId||this.state.selectedTabId,ct=$e===ae.id;return ae.id===this.overflowTabId?t.a.createElement(L,{renderMenu:this.renderOverflowMenu,position:"bottom-left",label:this.renderOverflowTabLabel($e),isSelected:!this.isSelectedTabVisible(),isFocused:ze,ref:Ke,id:ae.id,key:ae.id}):t.a.createElement(P,{key:ae.id,id:ae.id,icon:ae.icon,svgIcon:ae.svgIcon,customIcon:ae.customIcon,label:ae.label||ae.title,onClick:this.onTabClick,autoClogProps:Xe,isSelected:ct,isFocused:ze,focusOnMount:He,isDisabled:ae.isDisabled,fullWidth:ye||Ue==="vertical",titleCount:ae.titleCount,maxTitleCount:ae.maxTitleCount,"aria-label":ae["aria-label"],"aria-describedby":ae["aria-describedby"],"data-qa":ae["data-qa"]||"tabs_item","aria-haspopup":ae["aria-haspopup"],ref:Ke,formatCount:this.props.formatCount,isLoading:ae.isLoading,isCountLoading:ae.isCountLoading,iconPosition:Ne,className:ae.className})}renderTabsItems(){return this.getVisibleTabs().map((fe,Te)=>{typeof fe.label!="string"&&!t.a.isValidElement(fe.label)&&typeof fe.title!="string"&&!t.a.isValidElement(fe.title)&&!fe["aria-label"]&&(Object(V.b)()||Object(V.c)())&&Object(k.b)().error("Tabs requires either a label of type string, or an aria-label.");const ye=this.renderTabsItem(fe,Te);return fe.renderWrapper?t.a.createElement(t.a.Fragment,{key:fe.id},fe.renderWrapper(ye)):ye})}renderOverflowMenu(ae){var fe;const{selectedTabId:Te}=this.state,ye=(fe=this.getHiddenTabs())===null||fe===void 0?void 0:fe.map(Ue=>({label:Ue.label||Ue.title,id:Ue.id,click:Ne=>this.onTabClick(Ue.id,Ne),key:Ue.id,type:Y.b.radio,checked:Ue.id===Te,icon:Ue.svgIcon?t.a.createElement(g.a,Se({},Ue.svgIcon,{variation:void 0,size:"18"})):null,className:"c-tabs__tab_overflow_menu_item"}));return t.a.createElement(y.a,Se({width:"200px"},ae,{template:ye}))}renderTabPanelLabel(ae){const fe=this.getTabById(ae);if(!fe)return;const Te=fe["aria-label"]||fe.label||fe.title;if(he(Te))return Te}render(){var ae;const{fullHeight:fe,fullWidthMenu:Te,className:ye,orientation:Ue,tabMenuClassnames:Ne,tabPanelClassnames:He,ariaLabel:ze,currentTabId:Je,maxSize:Xe}=this.props,Me=Je||this.state.selectedTabId;var Ke;const $e=(Ke=(ae=this.getTabById(Me))===null||ae===void 0?void 0:ae.content)!==null&&Ke!==void 0?Ke:"",ct=Object(a.default)(ye,{"c-tabs__tab_container--full_height":fe,"c-tabs__tab_container--vertical":Ue==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!Xe}),Tt=Object(a.default)(Ne,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":Te,"c-tabs__tab_menu--vertical":Ue==="vertical","c-tabs__tab_menu--hidden":this.isHidden}),Et=Object(a.default)(He,{"c-tabs__tab_panel--vertical":Ue==="vertical"});return t.a.createElement("div",{className:ct,"data-qa":"tabs_full_height_class"},t.a.createElement("div",{role:"tablist",className:Tt,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,"aria-orientation":Ue,"aria-label":ze,ref:this.tabsContainerRef},this.renderTabsItems()),$e&&t.a.createElement(B,{content:$e,fullHeight:fe,ref:this.panelRef,className:Et,"aria-label":this.renderTabPanelLabel(Me)}))}constructor(ae){var fe;super(ae),Object(d.a)(this,["onKeyDown","onFocus","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.focusedTabRef=t.a.createRef(),this.panelRef=t.a.createRef(),this.tabsContainerRef=t.a.createRef(),this.lastVisibleTabRef=t.a.createRef(),this.resizeListener=null,this._isMounted=!1,this.focusWhenVisible=!1,ae.autoClogProps&&(this.autoClogProps={...ae.autoClogProps,elementType:o.ElementType.TAB});const Te=ae.currentTabId||ae.defaultTabId||((fe=ae.tabs[0])===null||fe===void 0?void 0:fe.id),ye=this.getTabIndexById(Te);this.state={selectedTabId:Te,focusedTabIndex:ye!==-1?ye:0,numOfVisibleTabsShown:this.getVisibleTabs().length,isResizeCalculationCompleted:!1},this.overflowTabId=`sk-overflow-tab-${Object(h.a)()}`}},"Tabs");G.displayName="Tabs",G.defaultProps={onTabChange:r.a,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1};var ne=s.a=G},Vnbe:function(K,s,e){"use strict";e.d(s,"a",function(){return u}),e.d(s,"e",function(){return O}),e.d(s,"c",function(){return I}),e.d(s,"d",function(){return C}),e.d(s,"b",function(){return f});var n=e("9oTK"),t=e.n(n),a=e("nNoG"),r=e("1Zcw"),d=e("jUSB"),o=e("pJ2S"),i=e("JoR1"),h=e("35RN");const l=new a.b("huddles"),u="LOUNGE_MUSIC_PLAYER",c=[o.f,o.i,o.r,o.s,o.w,o.B,o.A,o.C],E=[o.A,o.w,o.C];var v;(function(S){S.WaitingRoom="waiting",S.Subway="subway",S.Whistle="whistle",S.Jazz="jazz",S.Focus="focus",S.DiscoParty="disco",S.Zen="zen",S.Nature="nature"})(v||(v={}));const g=v.Jazz,O=m(S=>S?!!Object.values(v).includes(S):!1,"isValidSongKey"),I=m(S=>Object(i.t)(S,h.a)||g,"getSongKeyFromUserPref"),C=m(()=>({[v.WaitingRoom]:{key:v.WaitingRoom,urlName:"waitingRoom",url:o.B,displayName:l.t("Waiting Room")},[v.Subway]:{key:v.Subway,urlName:"subwayMusic",url:o.w,displayName:l.t("Subway Music")},[v.Whistle]:{key:v.Whistle,urlName:"whistleTune",url:o.C,displayName:l.t("Whistle Tune")},[v.Jazz]:{key:v.Jazz,urlName:"waitingMuzak",url:o.A,displayName:l.t("Smooth Jazz")},[v.Focus]:{key:v.Focus,urlName:"focusBeats",url:o.i,displayName:l.t("Focus Beats")},[v.DiscoParty]:{key:v.DiscoParty,urlName:"discoParty",url:o.f,displayName:l.t("Happy Bass")},[v.Zen]:{key:v.Zen,urlName:"momentOfZen",url:o.r,displayName:l.t("Sound Bath")},[v.Nature]:{key:v.Nature,urlName:"natureMeditation",url:o.s,displayName:l.t("Nature Meditation")}}),"getSongsMetadata");let f=m(class wa{static getInstance(D){let{experimentHuddlesLoungeMusicPlayerGroupOn:p}=D;return wa.instance||(wa.instance=new wa({experimentHuddlesLoungeMusicPlayerGroupOn:p})),wa.instance}constructor({experimentHuddlesLoungeMusicPlayerGroupOn:D}){this.getCurrentTrackDisplayName=()=>{const b=this.getPlaylist()[this.activeTrackIndex],M=C(),_=Object.values(M).find(P=>P.url===b);return _==null?void 0:_.displayName};var p=this;this.playMusic=Object(n.coroutine)(function*(){let{songKey:b,registerOnEndedCallback:M,audioOutputDeviceId:_,logger:P,fromFirstTrack:y,loopSong:j}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};const U=p.getPlaylist();y&&(p.activeTrackIndex=0),M&&U.forEach(A=>{Object(d.a)(A,{ended:p.playNextTrack})});let W=U[p.activeTrackIndex];const L=Object(d.b)(W);if(b){var R;L&&Object(d.e)(W);const B=(R=C()[b])===null||R===void 0?void 0:R.url,F=B?U.findIndex(k=>k===B):-1;F>-1&&(W=B,p.activeTrackIndex=F)}if(_&&L)try{yield L.setSinkId(_),P==null||P.info(r.c,`setSinkId success for lounge music on deviceID: ${_}`)}catch{P==null||P.info(r.c,`setSinkId failed for lounge music on deviceID: ${_}`)}Object(d.c)(W,{loop:!!j})}),this.stopMusic=b=>{let{clearOnEndedCallback:M,logger:_,logContext:P}=b;const y=this.getPlaylist();M&&y.forEach(j=>{Object(d.d)(j,"ended",this.playNextTrack)}),Object(d.e)(y[this.activeTrackIndex],{logFailure:!1}),_.info(r.c,`stopped lounge music [${P}]`)},this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<this.getPlaylist().length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{const b=this.getPlaylist();Object(d.e)(b[this.activeTrackIndex]),this.incrementActiveTrackIndex(),Object(d.c)(b[this.activeTrackIndex],{loop:!1})},this.getPlaylist=()=>this.experimentHuddlesLoungeMusicPlayerGroupOn?c:E,this.activeTrackIndex=0,this.experimentHuddlesLoungeMusicPlayerGroupOn=D}},"HuddleLoungeMusicManager")},Vu8N:function(K,s,e){"use strict";e.d(s,"a",function(){return E}),e.d(s,"c",function(){return M}),e.d(s,"b",function(){return _});var n=e("9Gfp"),t=e("nePV"),a=e("RVJP"),r=e("NjAx"),d=e("Yauy"),o=e("E97Y"),i=e("ISSR"),h=e("g05w"),l=e("XXd4"),u=e("O0Iw"),c=e("q0lC");const E={ChannelNotFound:Symbol("channel_not_found"),ChannelTypeNotSupported:Symbol("channel_type_not_supported"),CantArchiveGeneral:Symbol("cant_archive_general"),NotInChannel:Symbol("not_in_channel"),AlreadyArchived:Symbol("already_archived"),AwayExternallyShared:Symbol("away_ext_shared"),UserHasNoPermissions:Symbol("user_has_no_permissions"),DefaultOrgWideChannel:Symbol("default_org_wide_channel"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},v={ok:!1,reason:E.ChannelNotFound},g={ok:!1,reason:E.ChannelTypeNotSupported},O={ok:!1,reason:E.CantArchiveGeneral},I={ok:!1,reason:E.NotInChannel},C={ok:!1,reason:E.AlreadyArchived},f={ok:!1,reason:E.AwayExternallyShared},S={ok:!1,reason:E.UserHasNoPermissions},D={ok:!1,reason:E.DefaultOrgWideChannel},p={ok:!1,reason:E.WhoCanManagePref},b={ok:!0},M=m((P,y)=>{if(!Object(o.e)(y))return v;if(Object(o.g)(y)||Object(o.i)(y))return g;if(Object(o.o)(y))return O;if(Object(i.a)(y))return C;if(Object(l.a)(P,y))return f;if(!Object(u.b)(P,y)&&!Object(d.db)(y))return I;const U=Object(d.i)(y),W=Object(r.p)(P,{channelId:U});return Object(a.d)(P,"light_read_channel_archive_pref_migration")==="on"?Object(h.a)(y)&&!Object(t.a)(P)&&!Object(r.K)(P,{channelId:U})?p:W?b:S:W?b:Object(n.m)(P)&&Object(h.a)(y)&&Object(d.kb)(y)&&!Object(c.a)(P)?D:b},"canUserSeeArchiveChannelOptionWithReasons"),_=m((P,y)=>M(P,y).ok,"canUserSeeArchiveChannelOption")},Vw6i:function(K,s,e){K.exports=e.p+"slackbot_fancy_72-9db8807.png"},VxqI:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("s4P+"),t=e("uVZW");const a=Object(n.b)(),r=m(d=>{let{spaceName:o,notificationName:i}=d;i&&a.error(t.d,`${i} is not a recognized notification name for space ${o}.`)},"maybeLogUnrecognizedNotification")},W7ht:function(K,s,e){"use strict";e.d(s,"a",function(){return D}),e.d(s,"b",function(){return p});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("zxER"),d=e("Fbvv"),o=e("GNR7"),i=e("r6c4"),h=e("VKu5"),l=e("9Gfp"),u=e("pFNT"),c=e("qZ3p"),E=e("3vtZ"),v=e("+tZp"),g=e("4qCO"),O=e("nNoG"),I=e("E3dU");const C=new O.b("huddles"),f=5,S=8,D=m(b=>{let{channelId:M}=b;const _=Object(r.d)(U=>Object(o.f)(U,M)),P=_.length,y=P>f,j=y?_.slice(0,f):_;return P===0?null:t.a.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},j.map((U,W)=>{const L=W===j.length-1;return t.a.createElement("div",{key:U,className:"p-huddle_channel_tooltip__avatar_container",style:{width:L?"auto":u.a.medium-S}},t.a.createElement(u.c,{className:"p-huddle_channel_tooltip__avatar",userId:U,size:u.a.medium,renderCustomBadge:d.a,isInteractive:!1,additionalOverlay:y&&L?P-j.length+1:void 0}))}))},"HuddleTooltipAvatarStack");D.displayName="HuddleTooltipAvatarStack";function p(b){let{channelId:M}=b;const _=Object(r.c)(V=>Object(I.d)(V,M)),P=Object(r.c)(V=>Object(E.e)(V,_)||Object(i.b)(V)),y=Object(r.c)(l.a),j=Object(r.c)(V=>Object(o.g)(V,M),a.shallowEqual),U=Object(r.c)(E.v),W=j.length,R=W>f?j.slice(0,f):j,A=Object(r.c)(V=>R.map(X=>({id:X.id,name:X.id===y?C.t("you",{fallbackHash:"8af56de68279cb6f5ed022f31af18b9fcdcc2e92",fallbackHashNs:"a11y"}):Object(v.a)(V,X)})).sort((X,J)=>X.id===y?1:J.id===y?-1:Object(g.a)(X.name,J.name)).map(X=>{let{name:J}=X;return J}),a.shallowEqual),B=Object(r.c)(V=>Object(h.a)(V,M));if(!P)return null;let F=t.a.createElement(t.a.Fragment,null);A.length===1?j[0].id===y?F=C.rt("Just you in the huddle",{fallbackHash:"12a689a8d10b55bce68de5314954ddafb4917f7d"}):F=C.rt("{name} is in the huddle",{name:A[0],fallbackHash:"3ad19838f1b04066bbb33d61d86ec6a23de98a79"}):F=C.rt("{memberCount} people in the huddle",{memberCount:W,fallbackHash:"4890b1ead2959bfef66e9d6b2c5f663450205117"});let k;return k=B?t.a.createElement(c.a,{text:B}):null,j.length>=U&&(k=C.t("Only {maxParticipants} people can join a huddle",{maxParticipants:U})),t.a.createElement("div",{className:"p-huddle_channel_tooltip"},t.a.createElement(D,{channelId:M}),t.a.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},k),t.a.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},F))}m(p,"HuddleChannelTooltip")},WA8N:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("O86Y"),t=e("ayM7");let a=m(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(i){const h=this.queryCache.has(i);return this.clearIfStale(),h}containsPrefixOf(i){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(i)}add(i){return this.clearIfStale(),this.queryCache.add(i)}addAsPrefix(i){return this.clearPrefixIfStale(),this.prefixQueryCache.add(i)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.a,this.prefixQueryCache=new t.a,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const r={};function d(o){const i=Object(n.g)(o),l=Object(n.d)(o)||i||"";return r[l]||(r[l]=new a),r[l]}m(d,"getWorkflowTriggersAutocompleteQueryCache")},WAPM:function(K,s,e){"use strict";var n=e("GkJf");s.a=n.a},WBOM:function(K,s,e){"use strict";e.d(s,"a",function(){return f}),e.d(s,"b",function(){return D}),e.d(s,"e",function(){return b}),e.d(s,"f",function(){return M}),e.d(s,"d",function(){return _}),e.d(s,"c",function(){return P});var n=e("bPB8"),t=e("E3dU"),a=e("beVI"),r=e("wwBm"),d=e("d26c"),o=e("ltDl"),i=e("6dQg"),h=e("eUIW"),l=e("fde3"),u=e("sOnb"),c=e("Zbwg"),E=e("3203"),v=e("3REw"),g=e("JfJV"),O=e("25cE"),I=e("a7YP"),C=e("sR4G"),f;(function(y){y.MESSAGE="message",y.FILE="file",y.MEMBER="member",y.ROOM="room",y.FREE_WILLY="free-willy",y.QUIP="quip",y.SEARCH="search",y.SLACKHELP="slackhelp",y.SHORTCUT_LINK_TRIGGER="shortcuts",y.HUDDLE="huddle",y.LIST="list",y.CHANNEL_CANVAS="canvas",y.ORG_CHART="org_chart",y.WIDGETS="widgets"})(f||(f={}));function S(y,j){if(!j)return null;const U=!1;return Object(t.d)(y,j,U)||Object(t.m)(y,j.replace(/^@/,""))||Object(t.e)(y,j)}m(S,"findChannelByIdentifier");function D(y){switch(y){case"archives":case"messages":case"conversation":return f.MESSAGE;case"file":case"files":return f.FILE;case"team":return f.MEMBER;case"calls":return f.ROOM;case"free-willy":return f.FREE_WILLY;case"docs":return f.QUIP;case"search":return f.SEARCH;case"slackhelp":return f.SLACKHELP;case"shortcuts":return f.SHORTCUT_LINK_TRIGGER;case"huddle":return f.HUDDLE;case"lists":return f.LIST;case"canvas":return f.CHANNEL_CANVAS;case"org_chart":return f.ORG_CHART;case"widgets":return f.WIDGETS;default:return null}}m(D,"getPermalinkType");function p(y,j,U,W){const L=Object(n.a)(j.split("/")),R=D(L[0]);switch(R){case f.MESSAGE:{var A;const Y=L[1],ie=S(y,Y),de=ie&&ie.id||Y;if(!de)return null;const pe=Object(r.d)(U),oe=Object(E.a)(L[2]),me=Object(E.a)((A=pe.thread_ts)===null||A===void 0?void 0:A.toString());return{type:R,channelId:de,ts:oe,threadTs:me}}case f.HUDDLE:{if(!L[1])return null;let Y=null;if(Object(c.a)(L[1])?Y=L[1]:Object(c.a)(L[2])&&(Y=L[2]),Y){const ie=S(y,Y),de=ie&&ie.id||Y;return de?{type:R,channelId:de}:null}return Object(v.x)(L[1])?{type:R,roomId:L[1]}:null}case f.FILE:{const Y=L[2];return Object(i.a)(Y)?{type:R,fileId:Y}:null}case f.MEMBER:{const Y=L[1];return Object(h.a)(Y)?{type:R,memberId:Y}:null}case f.ROOM:{const Y=L[1];if(Y&&Object(v.x)(Y))return{type:R,roomId:Y};const ie=L.length>2?L[2]:null;return ie&&Object(v.t)(ie)?{type:R,callId:ie,channelId:L[1]}:ie&&Object(v.x)(ie)?{type:R,roomId:ie,teamId:L[1]}:null}case f.FREE_WILLY:{const Y=L[2];return Y&&Object(v.t)(Y)?{type:R,callId:Y,channelId:L[1]}:Y&&Object(v.x)(Y)?{type:R,roomId:Y,teamId:L[1]}:null}case f.QUIP:{const Y=L[1],ie=L[2];if(ie&&Object(i.a)(ie)&&W!=="app"){var B,F;const de=Object(r.d)(U),pe=Object(E.a)((B=de.focus_thread_ts)===null||B===void 0?void 0:B.toString())||"";return{type:R,fileId:ie,teamId:Y,focusThreadTs:pe,focusSectionId:((F=de.focus_section_id)===null||F===void 0?void 0:F.toString())||""}}return null}case f.LIST:{const Y=L[2];if(Y&&Object(i.a)(Y)){var k,V,X;const ie=Object(r.d)(U),de=Object(E.a)((k=ie.focus_thread_ts)===null||k===void 0?void 0:k.toString())||"";return{type:R,fileId:Y,recordId:((V=ie.record_id)===null||V===void 0?void 0:V.toString())||"",viewId:((X=ie.view_id)===null||X===void 0?void 0:X.toString())||"",focusThreadTs:de}}return null}case f.SEARCH:{const Y=L[1];return{type:R,encodedSearchString:Y}}case f.SLACKHELP:{if(L.length>=2){if(Object(l.a)(L[2]))return{type:R,articleId:L[2]};if(L[1]==="whats_new")return{type:R,articleId:"whats_new"}}return{type:R}}case f.SHORTCUT_LINK_TRIGGER:return Object(u.a)(L[1])&&Object(I.B)(y)?{type:R,triggerId:L[1]}:null;case f.CHANNEL_CANVAS:{var J;const Y=L[1],ie=S(y,Y),de=ie&&ie.id||Y;if(!de)return null;const pe={type:R,channelId:de},me=(J=Object(r.d)(U).focus_section_id)===null||J===void 0?void 0:J.toString();return me&&(pe.focusSectionId=me),pe}case f.ORG_CHART:{const Y=L[1];return Object(h.a)(Y)?{type:R,memberId:Y}:null}case f.WIDGETS:return{type:R,widgetId:L[1]};default:return null}}m(p,"getPermalinkParams");function b(y,j){if(!j)return null;const U=Object(o.a)(j);return M(y,U)}m(b,"parsePermalink");function M(y,j){const{hostname:U,pathname:W,search:L}=j;if(!U||!W||!Object(d.a)(U))return null;let R;U!=="slack.com"&&(R=U.split(".")[0]);const A=p(y,W,L,R);return A?{subdomain:R,...A}:null}m(M,"parsePermalinkFromParsedUrl");function _(y,j){const U={channel:null,team:null};if(!y||!j)return U;const W=b(y,j);if(!W)return U;const{subdomain:L,channelId:R}=W,A=Object(t.d)(y,R),B=Object(a.r)(y,L);return{channel:A,team:B}}m(_,"getTeamAndChannelFromPermalink");function P(y,j){const U=Object(C.a)(y,j.subdomain);if(U)switch(j.type){case f.FILE:if(j.channelId&&j.fileId)return Object(g.k)(O.i,{teamId:U,entityId:j.channelId,fileId:j.fileId});break;case f.MEMBER:if(j.channelId&&j.memberId)return j.ts?Object(g.k)(O.z,{teamId:U,entityId:j.channelId,memberId:j.memberId,timestamp:j.ts}):Object(g.k)(O.z,{teamId:U,entityId:j.channelId,memberId:j.memberId});break;case f.MESSAGE:if(j.channelId)return j.ts&&j.threadTs?Object(g.k)(O.w,{teamId:U,entityId:j.channelId,threadId:`${j.channelId}-${j.threadTs}`,replyTs:j.threadTs}):j.ts?Object(g.k)(O.b,{teamId:U,entityId:j.channelId,timestamp:j.ts}):Object(g.k)(O.b,{teamId:U,entityId:j.channelId});break;default:}}m(P,"getSonicUrlForPermalink")},WCSk:function(K,s,e){"use strict";e.d(s,"c",function(){return d}),e.d(s,"b",function(){return o}),e.d(s,"a",function(){return i}),e.d(s,"e",function(){return h}),e.d(s,"d",function(){return l}),e.d(s,"f",function(){return c}),e.d(s,"g",function(){return g});var n=e("OZf9"),t=e("NFsq"),a=e("LxFC"),r=e("mSpc");const d="default",o="communications",i=[a.b.Microphone,a.b.Camera,a.c];function h(O,I){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i;Object(n.a)(I,(f,S)=>{if(!Object(t.a)(C,S))return;if(!f.length){O.warn(`No ${S} devices available`);return}const D=new r.a(["id","label"]);f.forEach(p=>{D.add([p.id,p.label].map(String))}),O.info(`${S} devices:
${D.report()}`)})}m(h,"logDevices");function l(){return{camera:[],microphone:[],output:[]}}m(l,"createEmptyDevices");const u={audioinput:a.b.Microphone,videoinput:a.b.Camera,audiooutput:a.c};function c(O){const I=u[O.kind],C={id:O.deviceId,label:O.label||void 0,groupId:O.groupId||void 0};return E(I)?{...C,type:I}:{...C,type:I}}m(c,"makeDevice");function E(O){return O!==a.c}m(E,"isInputDeviceType");function v(O){return E(O.type)}m(v,"isInputDevice");function g(O){return O.replace(/ *?\([^)]*?\) *?/g,"")}m(g,"removeDeviceIdFromDeviceLabel")},WD3d:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("nNoG"),t=e("bJNA"),a=e("2m2s");const r=new n.b("slack_docs"),d=m(function(o){let{experimentCanvasInsertWorkflowMenuGroupOn:i,experimentCanvasSmartCardsGroupOn:h,experimentProductivityPacksV2GroupTreatment:l,experimentCanvasShortcutCommandGroupOn:u,experimentListsXcanvasGroupOn:c,experimentWidgetsGroupOn:E}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(o){case t.a.USER:return l?r.t("User"):"";case t.a.FILE:return r.t("File");case t.a.IMAGE:return r.t("Image");case t.a.CHECK_LIST:return r.t("Check list");case t.a.CHECK_LIST_TOGGLE:return r.t("Check list");case t.a.BULLET_LIST:return r.t("Bulleted list");case t.a.ORDERED_LIST:return r.t("Ordered list");case t.a.VIDEO_CLIP:return r.t("Record video clip");case t.a.AUDIO_CLIP:return r.t("Record audio clip");case t.a.DIVIDER:return r.t("Divider");case t.a.PINS:return r.t("Pins");case t.a.SMART_SUMMARY:return h?r.t("AI Channel Summary"):"";case t.a.BLOCKQUOTE:return r.t("Blockquote");case t.a.CODE_BLOCK:return r.t("Code block");case t.a.PARAGRAPH:return r.t("Paragraph");case t.a.H1:return r.t("Big heading");case t.a.H2:return r.t("Medium heading");case t.a.H3:return r.t("Small heading");case t.a.CANVAS:return r.t("Canvas");case t.a.WORKFLOW:return i?r.t("Workflow"):"";case a.a.CODE:return u?r.t("Code"):"";case t.a.TABLE:return r.t("Table");case t.a.LIST:return c?r.t("List"):"List";case t.a.WIDGET:return E?r.t("Widget"):"Widget";default:return o}},"getQuipButtonLabel")},WJHF:function(K,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("CpTu"),t=e("uXhx"),a=e("lE2N"),r=e("BeL+"),d=e("GxtX"),o=e("uKXT"),i=e("ZP0B"),h=e("J/RB"),l=e("Lgge"),u=e("SQ0V"),c=e("xcHN"),E=e("ZAxE");const v=Object(u.c)("gets thread replies from the API",(g,O,I)=>{const{channelId:C,threadTs:f,oldest:S,limit:D}=I;let p=I.latest;S===p&&p===I.threadTs&&(p=null);const b=Object(c.c)(C,f);return S&&p?l.a.all([g(Object(E.e)({channelId:C,threadTs:f,latest:p,limit:D})),g(Object(E.e)({channelId:C,threadTs:f,oldest:S,limit:D}))]).then(M=>{let[_,P]=M;const y=Object(n.a)(_.msgs,{ts:f})||Object(n.a)(P.msgs,{ts:f}),j=Object(t.a)(_.msgs,{ts:f}),U=Object(t.a)(P.msgs,{ts:f}),W=_.deleted,L=P.deleted,R=Object(a.a)(j.concat(U),"ts"),A=Object(r.a)(Object(d.a)(W,L));!_.hasMore&&y&&R.unshift(y);const B=R.map(F=>F.ts);return g(Object(h.a)({msgs:R,channelId:b,hasMore:{hasMoreStart:_.hasMore,hasMoreEnd:P.hasMore},oldest:Object(o.a)([S,Object(o.a)(B)]),latest:Object(i.a)([p,Object(i.a)(B)]),deleted:A})),{msgs:R}}):g(Object(E.e)({channelId:C,threadTs:f,oldest:S,latest:p,limit:D})).then(function(){let{msgs:M,deleted:_,hasMore:P}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const y=p&&!P||S===f||p===f||!S&&!p&&!P;let j=M;y||(j=Object(t.a)(M,{ts:f}));let U=P;!S&&!p&&(U={hasMoreStart:P,hasMoreEnd:!1}),g(Object(h.a)({msgs:j,channelId:b,hasMore:U,oldest:S,latest:p,deleted:_}));const W=Object(n.a)(M,{ts:f});return W&&S===f&&g(Object(h.a)({msgs:[W],channelId:b,hasMore:!1,latest:f})),{msgs:j}})});v.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},WTVm:function(K,s,e){"use strict";e.d(s,"a",function(){return Ms});var n=e("Olm7"),t=e("lCmp"),a=e("c8Bs"),r=e("DKof"),d=e("3Hq1"),o=e("X6iR"),i=e("hoZp"),h=e("BlE4"),l=e("wQ1d"),u=e("ISSR"),c=e("vfvl"),E=e("Yauy"),v=e("E97Y"),g=e("C3vN"),O=e("K7jq"),I=e("Fn/R"),C=e("OL4R"),f=e("mgFs");const S=Object(C.a)(f.b);function D(x){return S[x]}m(D,"getFeatureNameFromId");var p=e("s4P+"),b=e("XhtD"),M=e("ifKl");class _{writeNumericalFeature(ue,We){!ue||!isFinite(ue)||(this.writeIdAndType(We,f.a.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,ue),this.offset+=4)}writeBinaryFeature(ue,We){ue&&this.writeIdAndType(We,f.a.BINARY)}writeTextFeature(ue,We){if(!ue)return;this.writeIdAndType(We,f.a.TEXT);const At=unescape(encodeURIComponent(ue));this.ensureCapacity(2+At.length),this.view.setUint16(this.offset,At.length),this.offset+=2,Object(b.a)(At.length).forEach(bn=>{this.view.setUint8(this.offset,At.charCodeAt(bn)),this.offset+=1})}writeNullFeature(){Object(M.a)()}writeIdAndType(ue,We){this.ensureCapacity(2),this.view.setUint16(this.offset,ue<<3|We),this.offset+=2}ensureCapacity(ue){this.offset+ue>this.buffer.byteLength&&this.resize(this.offset+ue)}resize(ue){if(this.buffer.byteLength>=ue)return;const We=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(We).set(new Uint8Array(this.buffer)),this.buffer=We,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}m(_,"feature_vector_serializer_BinaryFeatureVectorSerializer");var P=e("Tb1M");const y={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};function j(x,ue){return Me.fromSuggestion(x,ue)}m(j,"featureVectorForSuggestion");function U(){return Object(p.b)({label:"SORTER-RANKING"})}m(U,"getLogger");function W(x){return Number.isInteger(x)}m(W,"isIntegerWithType");const L=60*60,R=24*L;var A,B,F,k,V,X,J,Y,ie,de,pe,oe,me,re,ve,q,ce,he,Se,se,H,Oe,$,z,be,Z,G,ne,ge,ae,fe,Te,ye,Ue,Ne,He,ze,Je;const Xe={FRECENCY:x=>Le({id:f.b.FRECENCY,value:Dt(x)}),TYPE_NAVIGATION_CHANNEL:(x,ue)=>{let{itemIsChannel:We}=ue;return Le({id:f.b.TYPE_NAVIGATION_CHANNEL,value:We})},TYPE_NAVIGATION_FILE:x=>Le({id:f.b.TYPE_NAVIGATION_FILE,value:x.suggestionType===l.b.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:x=>Le({id:f.b.TYPE_NAVIGATION_LINK,value:x.suggestionType===l.b.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:x=>Le({id:f.b.TYPE_NAVIGATION_MODAL,value:x.suggestionType===l.b.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:x=>Le({id:f.b.TYPE_NAVIGATION_MPIM,value:!!Object(v.i)(x.item)}),TYPE_NAVIGATION_USER:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.TYPE_NAVIGATION_USER,value:We})},TYPE_QUERY:x=>Le({id:f.b.TYPE_QUERY,value:x.suggestionType===l.b.QUERY}),TYPE_QUERY_HISTORY:x=>Le({id:f.b.TYPE_QUERY_HISTORY,value:x.suggestionType===l.b.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_IN,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_FROM,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_TO,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_BEFORE,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_DURING,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_ON,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_AFTER,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_HAS,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_IS,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:x=>Le({id:f.b.ACTIVE_TOKEN_FILTER_WITH,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:x=>Le({id:f.b.ACTIVE_TOKEN_MEMBER,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.MEMBER}),ACTIVE_TOKEN_STRING:x=>Le({id:f.b.ACTIVE_TOKEN_STRING,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.STRING}),ACTIVE_TOKEN_PHRASE:x=>Le({id:f.b.ACTIVE_TOKEN_PHRASE,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.PHRASE}),STRING_EXACT_MATCH:x=>jt({id:f.b.STRING_EXACT_MATCH,suggestion:x,extractionFunction:lt}),STRING_EXACT_PREFIX_MATCH:x=>jt({id:f.b.STRING_EXACT_PREFIX_MATCH,suggestion:x,extractionFunction:at}),STRING_NORMAL_MATCH:x=>jt({id:f.b.STRING_NORMAL_MATCH,suggestion:x,extractionFunction:ht}),STRING_NORMAL_PREFIX_MATCH:x=>jt({id:f.b.STRING_NORMAL_PREFIX_MATCH,suggestion:x,extractionFunction:Nt}),STRING_SAME_NUMBER_WORDS:x=>jt({id:f.b.STRING_SAME_NUMBER_WORDS,suggestion:x,extractionFunction:Jt}),EXCESS_STRING_LENGTH:x=>jt({id:f.b.EXCESS_STRING_LENGTH,suggestion:x,extractionFunction:zt}),ID:x=>Le({id:f.b.ID,value:x.logId||x.id}),FILE_SUGGESTION_SCORE:x=>Le({id:f.b.FILE_SUGGESTION_SCORE,value:te(x)}),ACTIVE_TOKEN_QUERY_SUGGESTION:x=>Le({id:f.b.ACTIVE_TOKEN_QUERY_SUGGESTION,value:x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.API}),QUERY_SUGGESTION_SCORE_V2:x=>Le({id:f.b.QUERY_SUGGESTION_SCORE_V2,value:Ee(x)}),TYPE_NAVIGATION_TEAM:x=>Le({id:f.b.TYPE_NAVIGATION_TEAM,value:x&&x.suggestionType===l.b.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:x=>Le({id:f.b.TYPE_NAVIGATION_VIEW,value:x&&x.suggestionType===l.b.VIEW_NAVIGATION}),TYPE_USER_QUERY:x=>Le({id:f.b.TYPE_USER_QUERY,value:x&&x.suggestionType===l.b.QUERY_USER}),NAV_EXACT_MATCH:x=>jt({id:f.b.NAV_EXACT_MATCH,suggestion:x,extractionFunction:lt,text:Ye(x)}),NAV_EXACT_PREFIX_MATCH:x=>jt({id:f.b.NAV_EXACT_PREFIX_MATCH,suggestion:x,extractionFunction:at,text:Ye(x)}),NAV_NORMAL_MATCH:x=>jt({id:f.b.NAV_NORMAL_MATCH,suggestion:x,extractionFunction:ht,text:Ye(x)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(x,ue)=>{let{itemIsChannel:We}=ue;var At,bn;return jt({id:f.b.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:x,extractionFunction:vn=>{let{text:bt,query:T}=vn;return bt?Object(t.a)(bt.split(",").map(N=>lt({text:N,query:T}))):!1},text:We?(At=x.item)===null||At===void 0||(bn=At.previous_names)===null||bn===void 0?void 0:bn.join(","):null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(x,ue)=>{let{itemIsChannel:We}=ue;var At,bn;return jt({id:f.b.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:x,extractionFunction:vn=>{let{text:bt,query:T}=vn;return bt?Object(t.a)(bt.split(",").map(N=>at({text:N,query:T}))):!1},text:We?x==null||(At=x.item)===null||At===void 0||(bn=At.previous_names)===null||bn===void 0?void 0:bn.join(","):null})},CHANNEL_IS_ARCHIVED:(x,ue)=>{let{itemIsChannel:We}=ue;return Le({id:f.b.CHANNEL_IS_ARCHIVED,value:We&&Object(u.a)(x.item)})},CHANNEL_IS_MEMBER:(x,ue)=>{let{itemIsChannel:We}=ue;return Le({id:f.b.CHANNEL_IS_MEMBER,value:We&&Object(E.db)(x.item)})},CHANNEL_IS_STARRED:(x,ue)=>{let{itemIsChannel:We}=ue;return Le({id:f.b.CHANNEL_IS_STARRED,value:We&&x.isStarred})},MPIM_IS_STARRED:x=>Le({id:f.b.MPIM_IS_STARRED,value:Object(v.i)(x.item)&&x.isStarred}),CHANNEL_IS_UNREAD:(x,ue)=>{let{itemIsChannel:We}=ue;return Le({id:f.b.CHANNEL_IS_UNREAD,value:We&&Object(E.ub)(x.item)})},MPIM_IS_UNREAD:x=>Le({id:f.b.MPIM_IS_UNREAD,value:Object(v.i)(x.item)&&Object(E.ub)(x.item)}),CHANNEL_IS_OTHER_TEAM:(x,ue)=>{let{itemIsChannel:We}=ue;return Le({id:f.b.CHANNEL_IS_OTHER_TEAM,value:We&&Object(E.X)(x.item)})},USER_IS_ACTIVE:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_IS_ACTIVE,value:We&&Object(g.N)(x.item)})},USER_IS_EXTERNAL:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_IS_EXTERNAL,value:We&&Object(O.a)(x.item)})},USER_IS_BOT:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_IS_BOT,value:We&&Object(I.a)(x.item)})},USER_SAME_TEAM:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_SAME_TEAM,value:We&&!!x.sameTeam})},USER_IS_CURRENT_USER:(x,ue)=>{let{isCurrentUser:We}=ue;return Le({id:f.b.USER_IS_CURRENT_USER,value:We})},USER_DM_IS_STARRED:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_DM_IS_STARRED,value:We&&x.im&&x.imIsStarred})},USER_DM_IS_UNREAD:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_DM_IS_UNREAD,value:We&&x.im&&Object(E.ub)(x.im)})},CHANNEL_PRIORITY:(x,ue)=>{let{itemIsChannel:We}=ue;return Le({id:f.b.CHANNEL_PRIORITY,value:We&&(x==null?void 0:x.priority)})},CHANNEL_READ_AGE_DECAY_7D:(x,ue)=>{let{itemIsChannel:We,now:At}=ue;return Le({id:f.b.CHANNEL_READ_AGE_DECAY_7D,value:We&&yt(At,parseFloat((A=x.lastReadTs)!==null&&A!==void 0?A:""),7*R)||0})},CHANNEL_READ_AGE_DECAY_2H:(x,ue)=>{let{itemIsChannel:We,now:At}=ue;return Le({id:f.b.CHANNEL_READ_AGE_DECAY_2H,value:We&&yt(At,parseFloat((B=x.lastReadTs)!==null&&B!==void 0?B:""),2*L)||0})},MPIM_READ_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_READ_AGE_DECAY_2H,value:Object(v.i)(x.item)&&yt(We,parseFloat((F=x.lastReadTs)!==null&&F!==void 0?F:""),2*L)||0})},MPIM_READ_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_READ_AGE_DECAY_7D,value:Object(v.i)(x.item)&&yt(We,parseFloat((k=x.lastReadTs)!==null&&k!==void 0?k:""),7*R)||0})},USER_DM_READ_AGE_DECAY_7D:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_READ_AGE_DECAY_7D,value:We&&x.im&&yt(At,parseFloat((V=x.lastReadTs)!==null&&V!==void 0?V:""),7*R)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_READ_AGE_DECAY_7D_V2,value:We&&x.im&&yt(At,parseFloat((X=x.lastReadImTs)!==null&&X!==void 0?X:""),7*R)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_READ_AGE_DECAY_7D_V3,value:We&&yt(At,parseFloat((J=ke(x))!==null&&J!==void 0?J:""),7*R)||0})},USER_DM_READ_AGE_DECAY_2H:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_READ_AGE_DECAY_2H,value:We&&x.im&&yt(At,parseFloat((Y=x.lastReadTs)!==null&&Y!==void 0?Y:""),2*L)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_READ_AGE_DECAY_2H_V2,value:We&&x.im&&yt(At,parseFloat((ie=x.lastReadImTs)!==null&&ie!==void 0?ie:""),2*L)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_READ_AGE_DECAY_2H_V3,value:We&&yt(At,parseFloat((de=ke(x))!==null&&de!==void 0?de:""),2*L)||0})},USER_DM_NULL:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_DM_NULL,value:We&&!x.im})},USER_DM_EMPTY:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_DM_EMPTY,value:We&&x.im&&!parseFloat((pe=x.latestTs)!==null&&pe!==void 0?pe:"")})},USER_DM_EMPTY_V2:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_DM_EMPTY_V2,value:We&&x.im&&!parseFloat((oe=x.latestImTs)!==null&&oe!==void 0?oe:"")})},USER_HAS_DMED:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_HAS_DMED,value:We&&!!parseFloat((me=ke(x))!==null&&me!==void 0?me:"")})},USER_DM_NOT_OPEN:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_DM_NOT_OPEN,value:We&&x.im&&!Object(E.jb)(x.im)})},USER_DM_OPEN:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_DM_OPEN,value:We&&x.im&&Object(E.jb)(x.im)})},USER_DM_LATEST_OLDER_30D:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_LATEST_OLDER_30D,value:We&&an(At,parseFloat((re=x.latestTs)!==null&&re!==void 0?re:""),30*R)})},USER_DM_LATEST_OLDER_30D_V2:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_LATEST_OLDER_30D_V2,value:We&&an(At,parseFloat((ve=x.latestImTs)!==null&&ve!==void 0?ve:""),30*R)})},USER_DM_LATEST_OLDER_90D:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_LATEST_OLDER_90D,value:We&&an(At,parseFloat((q=x.latestTs)!==null&&q!==void 0?q:""),90*R)})},USER_DM_LATEST_OLDER_90D_V2:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_LATEST_OLDER_90D_V2,value:We&&an(At,parseFloat((ce=x.latestImTs)!==null&&ce!==void 0?ce:""),90*R)})},USER_DM_READ_OLDER_7D:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_READ_OLDER_7D,value:We&&an(At,parseFloat((he=ke(x))!==null&&he!==void 0?he:""),7*R)})},USER_DM_READ_OLDER_30D:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_READ_OLDER_30D,value:We&&an(At,parseFloat((Se=ke(x))!==null&&Se!==void 0?Se:""),30*R)})},USER_DM_READ_OLDER_90D:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_READ_OLDER_90D,value:We&&an(At,parseFloat((se=ke(x))!==null&&se!==void 0?se:""),90*R)})},USER_MPIM_READ_AGE_DECAY_7D:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_MPIM_READ_AGE_DECAY_7D,value:We&&x.mpimFeatures&&yt(At,x.mpimFeatures.lastReadTs,7*R)||0})},USER_MPIM_READ_AGE_DECAY_2H:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_MPIM_READ_AGE_DECAY_2H,value:We&&x.mpimFeatures&&yt(At,x.mpimFeatures.lastReadTs,2*L)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:We&&x.mpimFeatures&&yt(At,x.mpimFeatures.latestMsgTs,7*R)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:We&&x.mpimFeatures&&yt(At,x.mpimFeatures.latestMsgTs,2*L)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(x,ue)=>{let{itemIsMember:We}=ue;var At;return Le({id:f.b.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:We&&((At=x.mpimFeatures)===null||At===void 0?void 0:At.itemCount)&&Math.log1p(x.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(x,ue)=>{let{itemIsMember:We}=ue;var At;return Le({id:f.b.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:We&&((At=x.mpimFeatures)===null||At===void 0?void 0:At.hitCount)&&Math.log1p(x.mpimFeatures.hitCount)||0})},QUERY_LENGTH:x=>jt({id:f.b.QUERY_LENGTH,suggestion:x,extractionFunction:dn}),NAV_QUERY_LENGTH:x=>jt({id:f.b.NAV_QUERY_LENGTH,suggestion:x,extractionFunction:dn,text:Ye(x)}),SUGGESTION_TEXT_LENGTH:x=>jt({id:f.b.SUGGESTION_TEXT_LENGTH,suggestion:x,extractionFunction:Mt}),NAV_TEXT_LENGTH:x=>jt({id:f.b.NAV_TEXT_LENGTH,suggestion:x,extractionFunction:Mt,text:Ye(x)}),RAW_FRECENCY:x=>Le({id:f.b.RAW_FRECENCY,value:x.rawFrecencyScore}),MPIM_PRIORITY:x=>Le({id:f.b.MPIM_PRIORITY,value:Object(v.i)(x.item)&&(x==null?void 0:x.priority)}),QUERY_RATIO_LENGTH_STRING:x=>jt({id:f.b.QUERY_RATIO_LENGTH_STRING,suggestion:x,extractionFunction:Yt}),NAV_QUERY_RATIO_LENGTH_STRING:x=>jt({id:f.b.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:x,extractionFunction:Yt,text:Ye(x)}),USER_QUERY_RATIO_LENGTH_STRING:x=>jt({id:f.b.USER_QUERY_RATIO_LENGTH_STRING,suggestion:x,extractionFunction:Yt,text:ft(x,l.b.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:x=>jt({id:f.b.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:x,extractionFunction:Yt,text:ft(x,l.b.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:x=>jt({id:f.b.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:x,extractionFunction:Yt,text:ft(x,l.b.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:x=>Le({id:f.b.MPIM_WITH_DEACTIVATED_USER,value:Object(v.i)(x.item)&&x.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:x=>jt({id:f.b.NAV_NORMAL_PREFIX_MATCH,suggestion:x,extractionFunction:Nt,text:Ye(x)}),FRECENCY_BONUS:x=>Le({id:f.b.FRECENCY_BONUS,value:Object(r.a)(Object.values(x.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(x,ue)=>{let{itemIsMember:We}=ue;return jt({id:f.b.USER_FIRST_NAME_EXACT_MATCH,suggestion:x,extractionFunction:lt,text:We&&Object(g.t)(x.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(x,ue)=>{let{itemIsMember:We}=ue;return jt({id:f.b.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:x,extractionFunction:at,text:We&&Object(g.t)(x.item)})},USER_FIRST_NAME_NORMAL_MATCH:(x,ue)=>{let{itemIsMember:We}=ue;return jt({id:f.b.USER_FIRST_NAME_NORMAL_MATCH,suggestion:x,extractionFunction:ht,text:We&&Object(g.t)(x.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(x,ue)=>{let{itemIsMember:We}=ue;return jt({id:f.b.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:x,extractionFunction:Nt,text:We&&Object(g.t)(x.item)})},USER_LAST_NAME_EXACT_MATCH:(x,ue)=>{let{itemIsMember:We}=ue;return jt({id:f.b.USER_LAST_NAME_EXACT_MATCH,suggestion:x,extractionFunction:lt,text:We&&Object(g.u)(x.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(x,ue)=>{let{itemIsMember:We}=ue;return jt({id:f.b.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:x,extractionFunction:at,text:We&&Object(g.u)(x.item)})},USER_LAST_NAME_NORMAL_MATCH:(x,ue)=>{let{itemIsMember:We}=ue;return jt({id:f.b.USER_LAST_NAME_NORMAL_MATCH,suggestion:x,extractionFunction:ht,text:We&&Object(g.u)(x.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(x,ue)=>{let{itemIsMember:We}=ue;return jt({id:f.b.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:x,extractionFunction:Nt,text:We&&Object(g.u)(x.item)})},USER_EMAIL_MATCH:x=>{var ue,We;return Le({id:f.b.USER_EMAIL_MATCH,value:((ue=x.scoreDetails)===null||ue===void 0?void 0:ue.email)!==void 0?((We=x.scoreDetails)===null||We===void 0?void 0:We.email)>=0:!1})},USER_EMAIL_ONLY_MATCH:x=>{var ue,We;return Le({id:f.b.USER_EMAIL_ONLY_MATCH,value:((ue=x.scoreDetails)===null||ue===void 0?void 0:ue.email)!==void 0&&((We=x.scoreDetails)===null||We===void 0?void 0:We.email)>=0&&Object.keys((H=x.scoreDetails)!==null&&H!==void 0?H:{}).length===1})},USER_PRIORITY:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_PRIORITY,value:We&&x.im&&(x==null?void 0:x.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:x=>Le({id:f.b.ONLY_MATCHES_PREVIOUS_NAME,value:x.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:x=>Le({id:f.b.FRECENCY_WEIGHT_HIT_VISITS,value:x.weightHitVisits}),FRECENCY_HIT_VISITS_4H:x=>Le({id:f.b.FRECENCY_HIT_VISITS_4H,value:x.hitVisits4h}),FRECENCY_HIT_VISITS_1D:x=>Le({id:f.b.FRECENCY_HIT_VISITS_1D,value:x.hitVisits1d}),FRECENCY_HIT_VISITS_3D:x=>Le({id:f.b.FRECENCY_HIT_VISITS_3D,value:x.hitVisits3d}),FRECENCY_HIT_VISITS_1W:x=>Le({id:f.b.FRECENCY_HIT_VISITS_1W,value:x.hitVisits1w}),FRECENCY_HIT_VISITS_1M:x=>Le({id:f.b.FRECENCY_HIT_VISITS_1M,value:x.hitVisits1m}),FRECENCY_HIT_VISITS_90D:x=>Le({id:f.b.FRECENCY_HIT_VISITS_90D,value:x.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:x=>Le({id:f.b.FRECENCY_ITEM_VISITS_4H,value:x.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:x=>Le({id:f.b.FRECENCY_ITEM_VISITS_1D,value:x.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:x=>Le({id:f.b.FRECENCY_ITEM_VISITS_3D,value:x.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:x=>Le({id:f.b.FRECENCY_ITEM_VISITS_1W,value:x.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:x=>Le({id:f.b.FRECENCY_ITEM_VISITS_1M,value:x.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:x=>Le({id:f.b.FRECENCY_ITEM_VISITS_90D,value:x.itemVisits90d}),FRECENCY_HIT_COUNT:x=>Le({id:f.b.FRECENCY_HIT_COUNT,value:x.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:x=>Le({id:f.b.FRECENCY_WEIGHT_ITEM_VISITS,value:x.weightItemVisits}),FRECENCY_ITEM_COUNT:x=>Le({id:f.b.FRECENCY_ITEM_COUNT,value:x.itemCount}),NAV_NORMAL_MATCH_USER:x=>jt({id:f.b.NAV_NORMAL_MATCH_USER,suggestion:x,extractionFunction:ue=>{let{text:We,normalizedQuery:At}=ue;return ht({text:We,normalizedQuery:At})&&!Nt({text:Object(g.t)(x.item),normalizedQuery:At})},text:ft(x,l.b.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:x=>jt({id:f.b.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:x,extractionFunction:ue=>{let{text:We,normalizedQuery:At}=ue;return Nt({text:We,normalizedQuery:At})&&!Nt({text:Object(g.t)(x.item),normalizedQuery:At})},text:ft(x,l.b.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:x=>jt({id:f.b.NAV_NORMAL_MATCH_NO_USER,suggestion:x,extractionFunction:ht,text:tt(x)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:x=>jt({id:f.b.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:x,extractionFunction:Nt,text:tt(x)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(x,ue)=>{let{itemIsChannel:We,now:At}=ue;return Le({id:f.b.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:We&&yt(At,parseFloat((Oe=x.latestTs)!==null&&Oe!==void 0?Oe:""),7*R)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(x,ue)=>{let{itemIsChannel:We,now:At}=ue;return Le({id:f.b.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:We&&yt(At,parseFloat(($=x.latestTs)!==null&&$!==void 0?$:""),2*L)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_LATEST_MSG_AGE_DECAY_2H,value:Object(v.i)(x.item)&&yt(We,parseFloat((z=x.latestTs)!==null&&z!==void 0?z:""),2*L)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:Object(v.i)(x.item)&&yt(We,x.maxLatestMsgTsOfAllMembers,2*L)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:Object(v.i)(x.item)&&yt(We,x.maxLatestMsgTsOfAllMembers,7*R)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:Object(v.i)(x.item)&&yt(We,x.avgLatestMsgTsOfAllMembers,2*L)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:Object(v.i)(x.item)&&yt(We,x.avgLatestMsgTsOfAllMembers,7*R)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:Object(v.i)(x.item)&&yt(We,x.maxLastReadTsOfAllMembers,2*L)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:Object(v.i)(x.item)&&yt(We,x.maxLastReadTsOfAllMembers,7*R)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:Object(v.i)(x.item)&&yt(We,x.avgLastReadTsOfAllMembers,2*L)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:Object(v.i)(x.item)&&yt(We,x.avgLastReadTsOfAllMembers,7*R)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:x=>Le({id:f.b.MPIM_USERS_PCT_NON_EMPTY_DMS,value:Object(v.i)(x.item)&&x.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:x=>Le({id:f.b.MPIM_USERS_PCT_NON_NULL_DMS,value:Object(v.i)(x.item)&&x.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:x=>Le({id:f.b.MPIM_USERS_ALL_INTERNAL,value:Object(v.i)(x.item)&&x.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.MPIM_LATEST_MSG_AGE_DECAY_7D,value:Object(v.i)(x.item)&&yt(We,parseFloat((be=x.latestTs)!==null&&be!==void 0?be:""),7*R)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:We&&x.im&&yt(At,parseFloat((Z=x.latestTs)!==null&&Z!==void 0?Z:""),7*R)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:We&&x.im&&yt(At,parseFloat((G=x.latestImTs)!==null&&G!==void 0?G:""),7*R)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:We&&x.im&&yt(At,parseFloat((ne=x.latestTs)!==null&&ne!==void 0?ne:""),2*L)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(x,ue)=>{let{itemIsMember:We,now:At}=ue;return Le({id:f.b.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:We&&x.im&&yt(At,parseFloat((ge=x.latestImTs)!==null&&ge!==void 0?ge:""),2*L)||0})},FRECENCY_LOG_HIT_COUNT:x=>Le({id:f.b.FRECENCY_LOG_HIT_COUNT,value:Math.log1p((ae=x.hitCount)!==null&&ae!==void 0?ae:0)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:x=>Le({id:f.b.FRECENCY_LOG_HIT_COUNT_SCALED,value:x.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:x=>Le({id:f.b.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p((fe=x.itemCount)!==null&&fe!==void 0?fe:0)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:x=>Le({id:f.b.FRECENCY_LOG_ITEM_COUNT_SCALED,value:x.logItemCountScaled}),QUERY_FRECENCY_RAW:x=>Le({id:f.b.QUERY_FRECENCY_RAW,value:(x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER)&&x.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:x=>Le({id:f.b.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER)&&x.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:x=>Le({id:f.b.QUERY_FRECENCY_HIT_COUNT,value:(x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER)&&x.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:x=>Le({id:f.b.QUERY_LOG_HIT_COUNT,value:(x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER)&&on(x.scoringContext.frecencyHitCount)||x.suggestionType===l.b.QUERY_HISTORY&&on((Te=x.count)!==null&&Te!==void 0?Te:0)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:x=>Le({id:f.b.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER)&&x.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:x=>Le({id:f.b.QUERY_FRECENCY_ITEM_COUNT,value:(x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER)&&x.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:x=>Le({id:f.b.QUERY_FUZZY_SCORE,value:(x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER)&&x.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:x=>{var ue;return Le({id:f.b.QUERY_FRECENCY_BONUS,value:(x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER)&&Object(r.a)(Object.values(((ue=x.scoringContext)===null||ue===void 0?void 0:ue.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:x=>Le({id:f.b.QUERY_HISTORY_LOG_INDEX,value:x.suggestionType===l.b.QUERY_HISTORY&&on(x.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.QUERY_HISTORY_AGE_DECAY_30D,value:x.suggestionType===l.b.QUERY_HISTORY&&yt(We,x.lastUpdateTs,30*R)||0})},FUZZY_SCORE:x=>Le({id:f.b.FUZZY_SCORE,value:x.score}),FUZZY_SCORE_SCALED_EXP:x=>Le({id:f.b.FUZZY_SCORE_SCALED_EXP,value:W(x.score)&&.5**Math.min(x.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:x=>Le({id:f.b.FUZZY_SCORE_SCALED_FLIPPED,value:W(x.score)&&10-Math.min(x.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:x=>Le({id:f.b.FUZZY_SCORE_SCALED_SUBTRACT,value:W(x.score)&&Math.min(x.score,10)-1}),FUZZY_SCORE_50:x=>Le({id:f.b.FUZZY_SCORE_50,value:x.bonusPointMap&&x.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:x=>Le({id:f.b.FUZZY_SCORE_25,value:x.bonusPointMap&&x.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:x=>Le({id:f.b.FUZZY_SCORE_ALL,value:x.bonusPointMap&&x.bonusPointMap.fuzzyScoreBonus&&x.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:x=>Le({id:f.b.FILTER_USER_IS_ACTIVE,value:x.lastSuggestionToken&&x.lastTokenMemberOrNull&&Object(g.N)(x.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:x=>Le({id:f.b.FILTER_USER_IS_CURRENT_USER,value:x.lastSuggestionToken&&x.lastTokenMemberOrNull&&Object(g.jb)(x.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:x=>Le({id:f.b.FILTER_USER_DM_IS_STARRED,value:x.lastTokenIm&&x.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:x=>Le({id:f.b.FILTER_USER_DM_IS_UNREAD,value:x.lastTokenIm&&Object(E.ub)(x.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILTER_USER_DM_READ_AGE_DECAY_7D,value:x.lastTokenIm&&yt(We,x.lastTokenImLastRead,7*R)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILTER_USER_DM_READ_AGE_DECAY_2H,value:x.lastTokenIm&&yt(We,x.lastTokenImLastRead,2*L)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:x.lastTokenIm&&yt(We,parseFloat((ye=x.lastTokenImLatest)!==null&&ye!==void 0?ye:""),7*R)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:x.lastTokenIm&&yt(We,parseFloat((Ue=x.lastTokenImLatest)!==null&&Ue!==void 0?Ue:""),2*L)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:x=>jt({id:f.b.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:x,extractionFunction:ht,text:we(x)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:x=>jt({id:f.b.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:x,extractionFunction:Nt,text:we(x)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:x=>jt({id:f.b.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:x,extractionFunction:ht,text:xe(x)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:x=>jt({id:f.b.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:x,extractionFunction:Nt,text:xe(x)}),FILTER_USER_PRIORITY:x=>Le({id:f.b.FILTER_USER_PRIORITY,value:x.lastTokenIm&&(x==null?void 0:x.priority)}),HERE_KEYWORD:x=>Le({id:f.b.HERE_KEYWORD,value:x.name==="here"}),HERE_KEYWORD_EXACT_MATCH:x=>Le({id:f.b.HERE_KEYWORD_EXACT_MATCH,value:x.name==="here"&&x.query==="here"}),IS_BROADCAST_KEYWORD:x=>Le({id:f.b.IS_BROADCAST_KEYWORD,value:!!(x.type&&x.type==="broadcastKeyword")}),BROADCAST_KEYWORD_NORMAL_MATCH:x=>Le({id:f.b.BROADCAST_KEYWORD_NORMAL_MATCH,value:!!(x.type&&x.type==="broadcastKeyword"&&ht({text:(Ne=x.name)!==null&&Ne!==void 0?Ne:"",normalizedQuery:x.normalizedQuery}))}),EMOJI_EXACT_MATCH:x=>Le({id:f.b.EMOJI_EXACT_MATCH,value:x.bonusPointMap&&x.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:x=>jt({id:f.b.QUERY_TOKEN_NORMAL_MATCH,suggestion:x,extractionFunction:ht,text:st(x)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:x=>jt({id:f.b.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:x,extractionFunction:Nt,text:st(x)}),FILTER_CHANNEL_IS_ARCHIVED:x=>Le({id:f.b.FILTER_CHANNEL_IS_ARCHIVED,value:Object(u.a)(x.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:x=>Le({id:f.b.FILTER_CHANNEL_IS_MEMBER,value:Object(E.db)(x.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:x=>Le({id:f.b.FILTER_CHANNEL_IS_STARRED,value:x.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:x=>Le({id:f.b.FILTER_CHANNEL_IS_UNREAD,value:Object(E.ub)(x.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:yt(We,x.lastTokenChannelLastRead,7*R)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:yt(We,x.lastTokenChannelLastRead,2*L)})},FILTER_CHANNEL_PRIORITY:x=>Le({id:f.b.FILTER_CHANNEL_PRIORITY,value:x==null?void 0:x.priority}),CHANNEL_IS_FROZEN:(x,ue)=>{let{itemIsChannel:We}=ue;return Le({id:f.b.CHANNEL_IS_FROZEN,value:We&&Object(c.a)(x.item)})},USER_DM_IS_FROZEN:(x,ue)=>{let{itemIsMember:We}=ue;return Le({id:f.b.USER_DM_IS_FROZEN,value:We&&x.im&&Object(c.a)(x.im)})},CHANNEL_HAS_DRAFT:x=>Le({id:f.b.CHANNEL_HAS_DRAFT,value:x.hasDraft}),USER_DM_HAS_DRAFT:x=>Le({id:f.b.USER_DM_HAS_DRAFT,value:x.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:x=>Le({id:f.b.EMOJI_QUERY_LENGTH_RATIO,value:x.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:x=>Le({id:f.b.EMOJI_TOTAL_COMBO_BREAKS,value:x.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:x=>Le({id:f.b.EMOJI_COMBO_BREAK_0,value:x.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:x=>Le({id:f.b.EMOJI_COMBO_BREAK_1,value:x.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:x=>Le({id:f.b.EMOJI_COMBO_BREAK_2,value:x.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:x=>Le({id:f.b.EMOJI_COMBO_BREAK_3,value:x.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:x=>Le({id:f.b.TYPE_APP_ACTION,value:x.suggestionType===l.b.APP_ACTION}),OS_APP_ACTION:(x,ue)=>{let{source:We}=ue;return Le({id:f.b.OS_APP_ACTION,value:(We==null?void 0:We.startsWith("omniswitcher"))&&x.suggestionType===l.b.APP_ACTION})},TYPE_APP:x=>Le({id:f.b.TYPE_APP,value:x.suggestionType===l.b.APP}),TYPE_SLASH_COMMAND:x=>Le({id:f.b.TYPE_SLASH_COMMAND,value:x.suggestionType===l.b.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:x=>Le({id:f.b.TYPE_GLOBAL_ACTION,value:x.suggestionType===l.b.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:x=>Le({id:f.b.IS_INVITE_WORKSPACE,value:x.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:x=>Le({id:f.b.TYPE_CHANNEL_ACTION,value:x.suggestionType===l.b.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:x=>Le({id:f.b.TYPE_WORKFLOW_TRIGGER,value:x.suggestionType===l.b.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:x=>Le({id:f.b.TYPE_NAVIGATION_MESSAGE,value:x.suggestionType===l.b.MESSAGE_NAVIGATION}),TYPE_EMOJI:x=>Le({id:f.b.TYPE_EMOJI,value:x.suggestionType===l.b.EMOJI}),HAS_CHANNEL_ASSOCIATION:x=>Le({id:f.b.HAS_CHANNEL_ASSOCIATION,value:x.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:x=>Le({id:f.b.MEMBER_OF_CURRENT_CHANNEL,value:x.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:x=>jt({id:f.b.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:x,extractionFunction:sn,text:ft(x,l.b.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FRECENCY_HIT_VISIT_DECAY_2H,value:yt(We,x.latestHitVisit,2*L)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FRECENCY_HIT_VISIT_DECAY_7D,value:yt(We,x.latestHitVisit,7*R)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FRECENCY_ITEM_VISIT_DECAY_2H,value:yt(We,x.latestItemVisit,2*L)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FRECENCY_ITEM_VISIT_DECAY_7D,value:yt(We,x.latestItemVisit,7*R)||0})},MPIM_MEMBERS:x=>Le({id:f.b.MPIM_MEMBERS,value:x.item.members.length}),MPIM_MEMBER_NAME_MATCHES:x=>Le({id:f.b.MPIM_MEMBER_NAME_MATCHES,value:x.scoreDetailsByMember&&Object.values(x.scoreDetailsByMember).filter(ue=>((He=ue.score_details.real_name)!==null&&He!==void 0?He:-1/0)>=0||((ze=ue.score_details.display_name)!==null&&ze!==void 0?ze:-1/0)>=0).length}),MPIM_MEMBER_ALL_MATCHES:x=>Le({id:f.b.MPIM_MEMBER_ALL_MATCHES,value:x.scoreDetailsByMember&&Object.keys(x.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:x=>Le({id:f.b.MPIM_MATCHER_SCORE,value:x.score}),MPIM_MATCHER_SCORE_0:x=>Le({id:f.b.MPIM_MATCHER_SCORE_0,value:x.score===0}),MPIM_MATCHER_SCORE_1:x=>Le({id:f.b.MPIM_MATCHER_SCORE_1,value:x.score===1}),MPIM_MATCHER_SCORE_2:x=>Le({id:f.b.MPIM_MATCHER_SCORE_2,value:x.score===2}),MPIM_MATCHER_SCORE_3:x=>Le({id:f.b.MPIM_MATCHER_SCORE_3,value:x.score===3}),EMOJI_TEAM_CTR_90DD:x=>{var ue;return Le({id:f.b.EMOJI_TEAM_CTR_90DD,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},EMOJI_USER_CTR_30DD:x=>{var ue;return Le({id:f.b.EMOJI_USER_CTR_30DD,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:x=>{var ue;return Le({id:f.b.MPIM_TEAM_CTR_90DD,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},MPIM_USER_CTR_30DD:x=>{var ue;return Le({id:f.b.MPIM_USER_CTR_30DD,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:x=>{var ue;return Le({id:f.b.CHANNEL_TEAM_CTR_90DD,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:x=>{var ue;return Le({id:f.b.CHANNEL_USER_CTR_30DD,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:x=>Le({id:f.b.USER_ENTITY_TYPE_CTR_30DD,value:x.entityTypeCtr}),NUM_RESULTS:x=>Le({id:f.b.NUM_RESULTS,value:x.numResults}),QUERY_IS_SELF:x=>{var ue;return Le({id:f.b.QUERY_IS_SELF,value:((ue=x.scoreDetails)===null||ue===void 0?void 0:ue.self_score)===0})},CURRENT_USER_TEXTY:(x,ue)=>{let{isCurrentUser:We,source:At}=ue;return Le({id:f.b.CURRENT_USER_TEXTY,value:At==="texty-autocomplete"&&We})},FILE_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_AGE_DECAY_7D,value:x.item&&yt(We,x.item.created,7*R)})},FILE_AGE_DECAY_28D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_AGE_DECAY_28D,value:x.item&&yt(We,x.item.created,28*R)})},FILE_AGE_DECAY_90D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_AGE_DECAY_90D,value:x.item&&yt(We,x.item.created,90*R)})},FILE_FROM_CURRENT_USER:x=>Le({id:f.b.FILE_FROM_CURRENT_USER,value:x.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:x=>jt({id:f.b.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:x,extractionFunction:ht,text:ft(x,l.b.CHANNEL_NAVIGATION),multiplier:on(x.numResults)}),FILE_LOG_PUBLIC_SHARES:x=>{var ue,We;return Le({id:f.b.FILE_LOG_PUBLIC_SHARES,value:((ue=x.item)===null||ue===void 0||(We=ue.shares)===null||We===void 0?void 0:We.public)&&on(Object.keys(x.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:x=>{var ue,We;return Le({id:f.b.FILE_LOG_PRIVATE_SHARES,value:((ue=x.item)===null||ue===void 0||(We=ue.shares)===null||We===void 0?void 0:We.private)&&on(Object.keys(x.item.shares.private).length)})},FILE_LOG_ACTIONS:x=>{var ue;return Le({id:f.b.FILE_LOG_ACTIONS,value:((ue=x.item)===null||ue===void 0?void 0:ue.actions)&&on(x.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_LATEST_ACTION_AGE_DECAY_2H,value:yt(We,x.latestActionTs,2*L)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_LATEST_ACTION_AGE_DECAY_7D,value:yt(We,x.latestActionTs,7*R)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_LATEST_ACTION_AGE_DECAY_90D,value:yt(We,x.latestActionTs,90*R)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_LATEST_SHARE_AGE_DECAY_2H,value:yt(We,x.latestShareTs,2*L)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_LATEST_SHARE_AGE_DECAY_7D,value:yt(We,x.latestShareTs,7*R)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_LATEST_SHARE_AGE_DECAY_90D,value:yt(We,x.latestShareTs,90*R)})},FILE_CHANNEL_CTR:x=>Le({id:f.b.FILE_CHANNEL_CTR,value:x.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:x=>Le({id:f.b.FILE_SUGGESTIONS_SEARCHER,value:x.fileSuggestionsFromSearcher}),FILE_USER_CTR:x=>Le({id:f.b.FILE_USER_CTR,value:x.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:x=>jt({id:f.b.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:x,extractionFunction:ut,text:ft(x,l.b.FILE_NAVIGATION)}),FILE_IS_CANVAS:x=>Le({id:f.b.FILE_IS_CANVAS,value:Rt(x,"quip")}),FILE_HAS_DMS_WITH_CREATOR:x=>Le({id:f.b.FILE_HAS_DMS_WITH_CREATOR,value:x.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:x=>Le({id:f.b.FILE_HAS_DMS_WITH_CREATOR_V2,value:x.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:an(We,parseFloat((Je=x.lastReadTs)!==null&&Je!==void 0?Je:"")/1e3,90*R)})},APP_NAME_PREFIX_MATCH:x=>{var ue;return jt({id:f.b.APP_NAME_PREFIX_MATCH,suggestion:x,extractionFunction:Nt,text:(ue=x.item)===null||ue===void 0?void 0:ue.appName})},BEST_NAME_MATCH_LOG_RESULTS:x=>Le({id:f.b.BEST_NAME_MATCH_LOG_RESULTS,value:x.bestNameIsExactMatch&&on(x.numResults)}),SLASH_COMMAND_USER_CTR:x=>{var ue;return Le({id:f.b.SLASH_COMMAND_USER_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:x=>{var ue;return Le({id:f.b.WORKFLOW_TRIGGER_USER_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:x=>{var ue;return Le({id:f.b.GLOBAL_ACTION_USER_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:x=>{var ue;return Le({id:f.b.CHANNEL_ACTION_USER_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},APP_ACTION_USER_CTR:x=>{var ue;return Le({id:f.b.APP_ACTION_USER_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:x=>{var ue;return Le({id:f.b.SLASH_COMMAND_TEAM_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:x=>{var ue;return Le({id:f.b.WORKFLOW_TRIGGER_TEAM_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:x=>{var ue;return Le({id:f.b.GLOBAL_ACTION_TEAM_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:x=>{var ue;return Le({id:f.b.CHANNEL_ACTION_TEAM_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},APP_ACTION_TEAM_CTR:x=>{var ue;return Le({id:f.b.APP_ACTION_TEAM_CTR,value:(ue=x.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:x=>Le({id:f.b.SHORTCUT_ENTITY_TYPE_CTR,value:x.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:x=>Le({id:f.b.EXACT_MATCH_LOG_RESULTS,value:(x.isExactMatch?1:0)*on(x.numResults)}),HISTORY_AGE_DECAY_2H:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.HISTORY_AGE_DECAY_2H,value:yt(We,x.historyTs,2*L)})},HISTORY_AGE_DECAY_7D:(x,ue)=>{let{now:We}=ue;return Le({id:f.b.HISTORY_AGE_DECAY_7D,value:yt(We,x.historyTs,7*R)})},HISTORY_POSITION:x=>Le({id:f.b.HISTORY_POSITION,value:x.historyPosition})};class Me{serialize(){const ue=new _;this.featureList.forEach(At=>Et({feature:At,serializer:ue}));const We=ue.serialize();return`${this.featuresVersion}:${We}`}valueForFeature(ue){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ue==null)return U().error(`Invalid feature id: ${ue}`),null;const At=this.featureList.find(bn=>bn.id===ue);if(!Object(d.a)(At))return We?Tt(At)||"":ct(At)||0}static fromSuggestion(ue,We){const At=Date.now()/1e3,bn=!!Object(g.db)(ue.item),vn=!!(Object(v.l)(ue.item)||Object(v.k)(ue.item)),bt=bn&&Object(g.jb)(ue.item),T={itemIsChannel:vn,itemIsMember:bn,now:At,isCurrentUser:bt,source:We};return new this(Ke(ue,We).map(N=>Xe[N]&&Xe[N](ue,T)||null))}constructor(ue){this.featureList=ue,this.featuresVersion="v8"}}m(Me,"sorter_ranking_SuggestionFeatureVector");function Ke(x,ue){return ue==="slash-command-menu"?[...y.globalFeatures]:x.suggestionType===l.b.USER_NAVIGATION?[...y.globalFeatures,...y.userFeatures]:x.suggestionType===l.b.CHANNEL_NAVIGATION?[...y.globalFeatures,...y.channelFeatures]:x.suggestionType===l.b.MPIM_NAVIGATION?[...y.globalFeatures,...y.mpimFeatures]:x.suggestionType===l.b.VIEW_NAVIGATION?[...y.globalFeatures,...y.viewFeatures]:x.suggestionType===l.b.FILE_NAVIGATION?[...y.globalFeatures,...y.fileFeatures,...y.queryFeatures]:x.suggestionType===l.b.LINK_NAVIGATION?[...y.globalFeatures,...y.linkFeatures]:x.suggestionType===l.b.MODAL_NAVIGATION?[...y.globalFeatures,...y.modalFeatures]:x.suggestionType===l.b.TEAM_NAVIGATION?[...y.globalFeatures,...y.teamFeatures]:x.type==="emoji"?[...y.globalFeatures,...y.emojiFeatures]:x.type==="broadcastKeyword"?[...y.globalFeatures,...y.broadcastKeywordFeatures]:x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER?[...y.globalFeatures,...y.queryFeatures]:x.suggestionType===l.b.APP_ACTION?[...y.globalFeatures,...y.shortcutFeatures,...y.appActionFeatures]:x.suggestionType===l.b.SLASH_COMMAND?[...y.globalFeatures,...y.shortcutFeatures,...y.slashCommandFeatures]:x.suggestionType===l.b.GLOBAL_ACTION?[...y.globalFeatures,...y.shortcutFeatures,...y.globalActionFeatures]:x.suggestionType===l.b.CHANNEL_ACTION?[...y.globalFeatures,...y.shortcutFeatures,...y.channelActionFeatures]:x.suggestionType===l.b.WORKFLOW_TRIGGER?[...y.globalFeatures,...y.shortcutFeatures,...y.workflowTriggerFeatures]:x.suggestionType===l.b.APP?[...y.globalFeatures,...y.appFeatures]:x.suggestionType===l.b.MESSAGE_NAVIGATION?[...y.globalFeatures,...y.messageFeatures]:x.suggestionType===l.b.QUERY_HISTORY?[...y.globalFeatures,...y.queryFeatures]:y.globalFeatures}m(Ke,"getFeaturesForExtraction");class $e{constructor({id:ue,value:We}){ue==null&&U().error(`Invalid feature id: ${ue}`);const At=D(ue);At||U().error(`Missing feature name for id: ${ue}`),this.id=ue,this.name=At,this.valueOrNull=We}}m($e,"sorter_ranking_Feature");function ct(x){return typeof x.valueOrNull=="number"&&isFinite(x.valueOrNull)?x.valueOrNull:typeof x.valueOrNull=="boolean"&&x.valueOrNull?1:0}m(ct,"getNumericValueForFeature");function Tt(x){return x.valueOrNull===null||x.valueOrNull===void 0?"":x.valueOrNull.toString()}m(Tt,"getStringValueForFeature");function Et(x){let{feature:ue,serializer:We}=x;ue.valueOrNull===null&&We.writeNullFeature(),typeof ue.valueOrNull=="number"&&We.writeNumericalFeature(ue.valueOrNull,ue.id),typeof ue.valueOrNull=="boolean"&&We.writeBinaryFeature(ue.valueOrNull,ue.id),typeof ue.valueOrNull=="string"&&We.writeTextFeature(ue.valueOrNull,ue.id)}m(Et,"serializeFeature");function Le(x){let{id:ue,value:We}=x;const At=Object(d.a)(We)?null:We;return new $e({id:ue,value:At})}m(Le,"makeFeature");function jt(x){let{id:ue,suggestion:We,extractionFunction:At,text:bn=Ve(We),multiplier:vn=1}=x;if(!bn)return Le({id:ue,value:null});const bt=At({text:bn,query:We.query||"",normalizedQuery:We.normalizedQuery||""}),T=bt===!0?1:bt===!1?0:bt;return Le({id:ue,value:(T??0)*vn})}m(jt,"makeTextFeature");function Dt(x){let ue=null;return(x.suggestionType===l.b.QUERY||x.suggestionType===l.b.QUERY_USER||x.suggestionType===l.b.CHANNEL_NAVIGATION||x.suggestionType===l.b.MPIM_NAVIGATION||x.suggestionType===l.b.USER_NAVIGATION||x.suggestionType===l.b.TEAM_NAVIGATION||x.suggestionType===l.b.VIEW_NAVIGATION||x.suggestionType===l.b.FILE_NAVIGATION)&&(ue=x.frecencyScore),ue}m(Dt,"getFrecencyScoreForSuggestion");function Ee(x){let ue=null;return x.suggestionType===l.b.QUERY&&x.lastSuggestionToken&&x.lastSuggestionToken.type===l.a.API&&(ue=x.lastSuggestionToken.querySuggestionScore),ue}m(Ee,"getQuerySuggestionScoreV2");function te(x){let ue=null;return x.suggestionType===l.b.FILE_NAVIGATION&&(ue=x.rawScore),ue}m(te,"getFileSuggestionScore");function Ae(x){return x&&x.lastSuggestionToken?x.lastSuggestionToken.toString():""}m(Ae,"getLastSuggestionTokenString");function Ve(x){return rt(x)?Ae(x):x.suggestionType===l.b.FILE_NAVIGATION?x.name:null}m(Ve,"getTextOrNullFromQuerySuggestion");function Ye(x){return x.isNavigational||x.isAction||x.isApp?x.name:null}m(Ye,"getTextOrNullFromNavigationalSuggestion");function ft(x,ue){return x.suggestionType===ue?x.name:null}m(ft,"getTextOrNullFromSuggestionWithType");function tt(x){return x.suggestionType===l.b.USER_NAVIGATION||Object(d.a)(x.name)?null:x.name}m(tt,"getTextOrNullFromSuggestionNotUser");function Rt(x,ue){return x.suggestionType!==l.b.FILE_NAVIGATION?!1:x.fileType===ue}m(Rt,"isFileTypeMatch");function rt(x){return x.lastSuggestionToken?x.lastSuggestionToken.type===l.a.STRING||x.lastSuggestionToken.type===l.a.PHRASE||x.lastSuggestionToken.type===l.a.API:!1}m(rt,"isActiveTokenStringLike");function we(x){return x.lastTokenMemberOrNull&&x.lastTokenMemberOrNull.profile&&x.lastTokenMemberOrNull.profile.first_name}m(we,"getLastTokenUserFirstName");function xe(x){return x.lastTokenMemberOrNull&&x.lastTokenMemberOrNull.profile&&x.lastTokenMemberOrNull.profile.last_name}m(xe,"getLastTokenUserLastName");function st(x){return x.lastTokenMemberName||x.lastTokenChannelName||null}m(st,"lastTokenName");function ke(x){return x?x.im&&x.lastReadImTs?x.lastReadImTs:x.remoteImMetadata&&x.lastReadRemoteImMetadataTs?(x.lastReadRemoteImMetadataTs/1e6).toString():null:null}m(ke,"lastReadFromLocalClientElseCachedRemote");function lt(x){let{text:ue,query:We}=x;return ue===We}m(lt,"isExactMatch");function at(x){let{text:ue,query:We}=x;return!!(We&&ue&&Object(o.a)(ue,We))}m(at,"isPrefixMatch");function ht(x){let{text:ue,normalizedQuery:We}=x;return Object(P.a)(ue).replace(/^[@#]/g,"")===We}m(ht,"isNormalizedExactMatch");function Nt(x){let{text:ue,normalizedQuery:We}=x;const At=Object(P.a)(ue).replace(/^[@#]/g,"");return!!(At&&We&&Object(o.a)(At,We))}m(Nt,"isNormalizedPrefixMatch");function Jt(x){let{text:ue,query:We}=x;return Object(i.a)(ue).length+(Object(h.a)(ue," ")?1:0)===Object(i.a)(We).length}m(Jt,"stringSameNumberWordsValueFromSuggestion");function zt(x){let{text:ue,query:We}=x;return Math.max(0,ue.length-We.length)}m(zt,"excessStringLengthValueFromSuggestion");function Yt(x){let{text:ue,query:We}=x;return ue.length>0?We.length/ue.length:0}m(Yt,"queryRatioLengthValueFromSuggestion");function sn(x){let{text:ue,normalizedQuery:We}=x;return ht({text:ue,normalizedQuery:We})&&We.length>1?2**-We.length:null}m(sn,"queryLengthDecayNormalMatch");function dn(x){let{normalizedQuery:ue}=x;return ue.length}m(dn,"queryLength");function Mt(x){let{text:ue}=x;return ue.length}m(Mt,"suggestionTextLength");function yt(x,ue,We){if(ue){var At;return Math.min(1,Math.exp(Math.log(.5)/We*((At=tn(x,ue))!==null&&At!==void 0?At:0)))}return 0}m(yt,"expAgeDecay");function tn(x,ue){return ue?Math.max(0,x-ue):null}m(tn,"age");function an(x,ue,We){if(!ue)return!0;const At=tn(x,ue);return!At||At>We}m(an,"ageLatestOlderOrMissing");function on(x){return x>0?Math.log1p(x):0}m(on,"log1pSafe");function ut(x){let{text:ue,normalizedQuery:We}=x;const At=Object(P.a)(ue).replace(/^[@#]/g,"");return At&&We&&At.includes(We)}m(ut,"stringContainsQueryNormalized");class Ot{score(ue){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},At=0;const bn=ue.featureList.length;for(let vn=0;vn<bn;vn++)At+=this._weightForFeature(ue.featureList[vn],We.source||null)*(ct(ue.featureList[vn])||0);return At}explain(ue){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const At=We.source||null,bn=ue.featureList.map(T=>({id:T.id,name:T.name,value:T.valueOrNull,weight:this._weightForFeature(T,At),globalWeight:this._globalWeightForFeature(T),score:this._weightForFeature(T,At)*ct(T)})),vn=bn.filter(T=>T.score).sort((T,N)=>N.score-T.score),bt=bn.filter(T=>T.value&&!T.score&&T.name!=="ID");return{score:this.score(ue,We),features:[...vn,...bt],remoteModel:this.isRemote}}_globalWeightForFeature(ue){return this.weights[ue.name]||0}_weightForFeature(ue){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,At=0;ue.name==="USER_IS_EXTERNAL"&&(At=-1);const bn=this.weights[ue.name]||0,bt=We&&(We==="composer_page__destination"||We.startsWith("share"))?"WRITE":"READ",T=this.weights[`${bt}_${ue.name}`]||0;return bn+T+At}constructor(ue,We=!1){this.isRemote=We,this.weights=ue}}m(Ot,"linear_model_LinearModel");var Wt=new Ot({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),Ht=new Ot({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),Zt=new Ot({FRECENCY:1}),gn=new Ot({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),Pn=new Ot({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),Mn=new Ot({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),pt=new Ot({FRECENCY_LOG_ITEM_COUNT:1}),xt={testing:Wt,testing_2:Ht,frecency:Zt,autocompleteFallback:Mn,shortcuts1:gn,shortcuts3:Pn,emojiFrequentlyUsed:pt},en=e("Pw4T"),Cn=e("E3dU"),pn=e("QYqd"),fn=e("52Wj"),Ln=e("ehcD"),_n=e("Kmpi");function Un(x){var ue;const We=(ue=x.actions)===null||ue===void 0?void 0:ue[0];if(!We)return 0;const At=parseFloat(We.ts);return isNaN(At)?0:At}m(Un,"getLatestActionTs");var Dn=e("xwCZ"),nt=e("9Gfp"),St=e("Ir4d"),Ut=e("Fjja"),Gt=e("DeaP"),On=e("nNoG"),Xt=e("t9sm"),qt=e("lhZz"),Qt=e("K7TJ"),$n=e("Lgge"),os=e("rTjz");class Ps extends os.a{fetchData(){return $n.a.resolve()}onCacheData(ue){super.onCacheData(ue);const We=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*We)}getStaleWhileRevalidate(ue){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?ue:this.cachedData}constructor(){super(()=>this.fetchData(),1008e5,!1),this.refreshTimer=null}}m(Ps,"autocomplete_cache_AutocompleteCache");class Ws extends Ps{fetchData(){return Object(qt.dispatchForTeamId)(this.teamId,Object(Xt.c)({reason:"AutocompleteModelCache"})).catch(ue=>({model:null,omniswitcherModel:null,exception:ue})).then(ue=>{const We={model:null,omniswitcherModel:null};if(ue.model){const At=Object(Qt.a)(Object.entries(ue.model).map(bn=>{let[vn,bt]=bn;return[vn.toUpperCase(),bt]}));We.model=new Ot(At,!0)}else return null;if(ue.omniswitcher_model){const At=Object(Qt.a)(Object.entries(ue.omniswitcher_model).map(bn=>{let[vn,bt]=bn;return[vn.toUpperCase(),bt]}));We.omniswitcherModel=new Ot(At,!0)}else We.omniswitcherModel=We.model;return We})}constructor(ue){super(),this.teamId=ue}}m(Ws,"autocomplete_model_cache_AutocompleteModelCache");let Is=null;function vs(x){return Is||(Is=new Ws(x)),Is}m(vs,"getAutocompleteModelCache");var Ts=e("bJfW");const zn=.014,rs=.094,Fs=.148,Es=.132,cs=.179;class ls extends Ps{fetchData(){return Object(Ts.c)(this.teamId)?Object(qt.dispatchForTeamId)(this.teamId,Object(Xt.b)()).catch(ue=>({exception:ue})).then(ue=>new Os({topEmojis:ue.top_emojis,topMpims:ue.top_mpims,topChannels:ue.top_channels,topUsers:ue.top_users,emojiFeatures:ue.emoji_features,mpimFeatures:ue.mpim_features,channelFeatures:ue.channel_features,userFeatures:ue.user_features,mpimCtr:ue.mpim_ctr,channelCtr:ue.channel_ctr,userCtr:ue.user_ctr,emojiCtr:ue.emoji_ctr,otherCtr:ue.other_ctr,defaultFeatureNames:ue.default_features,topAppActions:ue.top_app_actions,topGlobalActions:ue.top_global_actions,topSlashCommands:ue.top_slash_commands,topWorkflowTriggers:ue.top_workflow_triggers,topChannelActions:ue.top_channel_actions,appActionCtr:ue.app_action_ctr,globalActionCtr:ue.global_action_ctr,slashCommandCtr:ue.slash_command_ctr,workflowTriggerCtr:ue.workflow_trigger_ctr,channelActionCtr:ue.channel_action_ctr,usersHasDmed:ue.users_has_dmed})):$n.a.resolve(new Os)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new Os)}constructor(ue){super(),this.teamId=ue}}m(ls,"autocomplete_features_cache_AutocompleteFeaturesCache");class Os{getFeatures(ue,We){const At=this.topEntities[We],bn=this.featureNames[We]||this.featureNames.default,vn=this.defaultEntityFeatures[We],bt=At&&At[ue];if(bt&&bn){const T={};for(let Q=0;Q<bn.length;Q++)T[bn[Q]]=bt[Q];const N={team_ctr_90dd:vn.team_ctr_90dd,user_ctr_30dd:vn.user_ctr_30dd};for(const Q of Object.keys(vn))N[Q]=T[Q]||vn[Q];return N}return vn}getEntityCtr(ue){return this.entityCtr[ue]||this.otherEntityCtr}getUserDmChannelMetadata(ue){return this.usersHasDmed?this.usersHasDmed[ue]:null}constructor({topEmojis:ue,topMpims:We,topChannels:At,topUsers:bn,emojiFeatures:vn,mpimFeatures:bt,channelFeatures:T,userFeatures:N,mpimCtr:Q,channelCtr:w,userCtr:Pe,emojiCtr:Be,otherCtr:_e,defaultFeatureNames:Ze,topAppActions:qe,topGlobalActions:De,topSlashCommands:le,topWorkflowTriggers:Re,topChannelActions:Fe,appActionCtr:Ge,globalActionCtr:et,slashCommandCtr:Qe,workflowTriggerCtr:it,channelActionCtr:Lt,usersHasDmed:Pt}={}){this.topEntities={emoji:ue,mpim:We,channel:At,member:bn,appAction:qe,globalAction:De,slashCommand:le,workflowTrigger:Re,channelAction:Fe},this.featureNames={emoji:vn,mpim:bt,channel:T,member:N,default:Ze},this.otherEntityCtr=_e??cs,this.entityCtr={mpim:Q??zn,channel:w??Fs,member:Pe??Es,emoji:Be??rs,appAction:Ge??this.otherEntityCtr,globalAction:et??this.otherEntityCtr,slashCommand:Qe??this.otherEntityCtr,workflowTrigger:it??this.otherEntityCtr,channelAction:Lt??this.otherEntityCtr},this.defaultEntityFeatures={};for(const rn of Object.keys(this.entityCtr))this.defaultEntityFeatures[rn]={team_ctr_90dd:this.getEntityCtr(rn),user_ctr_30dd:this.getEntityCtr(rn)};this.usersHasDmed=Pt}}m(Os,"AutocompleteFeatures");const Cs={};function Ls(x){let{teamId:ue,enterpriseId:We}=x;const At=We||ue||"_default";return Cs[At]||(Cs[At]=new ls(ue)),Cs[At]}m(Ls,"getAutocompleteFeaturesCache");var $s=e("4CqU"),ns=e("RVJP"),Jn=e("a/vO"),Ds=e("G5NC"),is=e("t4eE"),Ss=e("Zbwg"),Xn=e("h2ws");const Us=new On.b("search"),Fn="autocompleteFallback";let Ms=m(class{sort(ue,We){var At;const bn=Object(en.d)({state:ue});bn.mark("sorter-sort-mark");const vn=this.prepSuggestions(ue,We);this.extractFeatures(ue,vn);const bt=this.scoreItems(ue,vn),T=((At=this.options)===null||At===void 0?void 0:At.dryRun)===!0?bt:this.sortByScore(bt);bn.measureAndClear("sorter-sort-mark","sorter-sort");const N=2,Q=this.boostExactMatches(T,N);return this.forceMatches(Q)}boostExactMatches(ue,We){const At=ue.slice(0,We),bn=[],vn=[];for(let bt=We;bt<ue.length;bt++){const T=ue[bt];T.isExactMatch||T.bestNameIsExactMatch?bn.push(T):vn.push(T)}return[...At,...bn,...vn]}forceMatches(ue){var We,At;return!((We=this.options)===null||We===void 0)&&We.selfFirst&&!(!((At=ue[0])===null||At===void 0)&&At.isSelf)?[...Object(n.a)(ue,vn=>vn.isSelf),...ue]:ue}getModels(ue,We){const At={model:xt[ue],omniswitcherModel:xt[ue]};if(We){const vn=vs(We).getStaleWhileRevalidate(At);return vn===null||vn.model===null||vn.model===void 0?At:vn}return At}getHistoryChannels(ue){if(Object(ns.d)(ue,"sq_sorter_history")!=="treatment")return{};if(!Object(Ds.a)())return{};var We;const At=[...(We=Object(Jn.a)(Object(qt.getStateForClientStore)()))!==null&&We!==void 0?We:[]];if(!At)return{};for(let vn=0;vn<At.length;vn++)At[vn].position=vn+1;const bn={};return At.filter(vn=>!Object(is.b)()&&vn.teamId!==this.teamId||!vn.primaryView?!1:Object(Ss.a)(vn.primaryView)).forEach(vn=>{if(vn.primaryView&&!(vn.primaryView in bn)){var bt;bn[vn.primaryView]={ts:vn.ts/1e3,position:(bt=vn==null?void 0:vn.position)!==null&&bt!==void 0?bt:-1}}}),bn}prepSuggestions(ue,We){var At,bn,vn;const bt=Object(P.a)(Object(St.a)(this.query));if(!((At=this.options)===null||At===void 0)&&At.currentChannel&&bt.length<=1&&!Object(v.i)((bn=this.options)===null||bn===void 0?void 0:bn.currentChannel)&&!Object(v.g)((vn=this.options)===null||vn===void 0?void 0:vn.currentChannel)){const qe=We.filter(De=>De.type==="member"||Object(g.db)(De.item)).map(De=>(De.item||De).id);Object(qt.dispatchForTeamId)(this.teamId,Object($s.a)({channelId:this.options.currentChannel.id,userIds:qe}))}let T=null;if(Object(ns.d)(ue,"snd_autocomplete_features_cache")==="treatment"&&this.teamId){var N;T=Ls({teamId:this.teamId,enterpriseId:(N=this.enterpriseId)!==null&&N!==void 0?N:void 0}).getStaleWhileRevalidate()}const Q=We.length,w=Object(nt.a)(ue),Pe=Object(Dn.c)(ue),Be=Object(Ln.e)(Pe),_e=this.getHistoryChannels(ue),Ze={};return We.forEach(qe=>{const De=qe.item;(qe.type==="mpim"||Object(v.i)(qe.item))&&(Object(E.C)(De)||[]).forEach(Re=>{if(Re!==w){const Fe=Ze[Re]||{itemCount:0,hitCount:0},Ge=Object(E.z)(ue,De),et=Ge?parseFloat(Ge):void 0,Qe=Object(pn.b)(ue,De.id),it=Qe?parseFloat(Qe):void 0;et&&(Fe.lastReadTs?Fe.lastReadTs=Math.max(Fe.lastReadTs,et):Fe.lastReadTs=et),it&&(Fe.latestMsgTs?Fe.latestMsgTs=Math.max(Fe.latestMsgTs,it):Fe.latestMsgTs=it),Fe.hitCount+=(qe==null?void 0:qe.hitCount)||0,Fe.itemCount+=(qe==null?void 0:qe.itemCount)||0,Ze[Re]=Fe}})}),We.map(qe=>{const De=qe.item||qe,le={...qe,query:this.query,normalizedQuery:bt,id:De.id,suggestionType:l.b.UNKNOWN,numResults:Q};if(qe.type==="member"||Object(g.db)(qe.item)){var Re,Fe,Ge;const mn=De.id&&Object(Cn.m)(ue,De.id),Nn=De.id&&T&&T.getUserDmChannelMetadata(De.id);le.remoteImMetadata=Nn,le.im=mn,le.latestImTs=mn&&Object(pn.b)(ue,mn.id),le.imHasDraft=mn&&Object(E.v)(ue,mn.id),le.imIsStarred=mn&&Object(E.qb)(ue,mn),le.name=Object(fn.b)(qe.item),le.lastReadImTs=Object(E.z)(ue,mn),le.lastReadRemoteImMetadataTs=Nn==null?void 0:Nn.last_read_abs,Object(Ln.e)(qe.item)===Be&&(le.sameTeam=!0);let xn;if(!((Re=this.options)===null||Re===void 0)&&Re.currentChannel&&(xn=this.options.currentChannel),xn)if(Object(v.i)(xn)){var et,Qe;le.isMemberOfCurrentChannel=(Qe=xn==null||(et=xn.members)===null||et===void 0?void 0:et.includes(qe.item.id))!==null&&Qe!==void 0?Qe:!1}else Object(v.g)(xn)||(le.isMemberOfCurrentChannel=Object(Xn.a)(ue,De,xn));le.priority=Object(E.M)(ue,mn),le.suggestionType=l.b.USER_NAVIGATION,le.isNavigational=!0,le.historyTs=mn&&((Fe=_e[mn.id])===null||Fe===void 0?void 0:Fe.ts),le.historyPosition=mn&&((Ge=_e[mn.id])===null||Ge===void 0?void 0:Ge.position);const Vn=Ze[De.id];Vn&&(le.mpimFeatures=Vn)}else le.name=De.name||De.string;if(qe.type==="channel"||Object(v.e)(qe.item)){var it,Lt;le.suggestionType=l.b.CHANNEL_NAVIGATION,le.isNavigational=!0,le.isChannelMember=Object(v.l)(De)&&!Object(u.a)(De)&&Object(E.db)(De),le.hasDraft=Object(E.v)(ue,De.id),le.offlineFeatures=T&&T.getFeatures(qe.item.id,"channel"),le.historyTs=(it=_e[De.id])===null||it===void 0?void 0:it.ts,le.historyPosition=(Lt=_e[De.id])===null||Lt===void 0?void 0:Lt.position,le.latestTs=Object(pn.b)(ue,De.id),le.lastReadTs=Object(E.z)(ue,De),le.priority=Object(E.M)(ue,De),le.isStarred=Object(E.qb)(ue,De)}if(qe.type==="mpim"||Object(v.i)(qe.item)){var Pt,rn;le.suggestionType=l.b.MPIM_NAVIGATION,le.isNavigational=!0;const Nn=(Object(E.C)(De)||[]).map(ln=>Object(Dn.g)(ue,ln));le.isMpimWithDeactivatedMember=Object(t.a)(Nn,ln=>Object(g.V)(ln)||Object(g.mb)(ln)),le.isMpimWithOnlyInternalMembers=Object(a.a)(Nn,ln=>!Object(O.a)(ln)),le.hasDraft=Object(E.v)(ue,De.id),le.name=Object(E.Bb)(ue,qe.item),le.offlineFeatures=T&&T.getFeatures(qe.item.id,"mpim"),le.historyTs=(Pt=_e[De.id])===null||Pt===void 0?void 0:Pt.ts,le.historyPosition=(rn=_e[De.id])===null||rn===void 0?void 0:rn.position,le.priority=Object(E.M)(ue,De),le.maxLastReadTsOfAllMembers=null,le.maxLatestMsgTsOfAllMembers=null;let xn=0,Vn=0,Wn=0,Bn=0,hs=0;Nn.forEach(ln=>{if(ln.id!==w){const As=ln.id?Object(Cn.m)(ue,ln.id):void 0,ws=As&&Object(E.z)(ue,As),Vs=ln.id&&T&&T.getUserDmChannelMetadata(ln.id),Gs=Vs&&Vs.last_read_abs/1e6,Zs=As||Vs,xs=ws?parseFloat(ws):Gs;if(Zs){if(hs+=1,xs){Wn+=1;var kn;le.maxLastReadTsOfAllMembers=Math.max((kn=le.maxLastReadTsOfAllMembers)!==null&&kn!==void 0?kn:-1/0,xs),xn+=xs}const ds=Object(pn.b)(ue,As==null?void 0:As.id),us=As&&ds?parseFloat(ds):void 0;if(us){Bn+=1;var Rs;le.maxLatestMsgTsOfAllMembers=Math.max((Rs=le.maxLatestMsgTsOfAllMembers)!==null&&Rs!==void 0?Rs:-1/0,us),Vn+=us}}}}),le.avgLastReadTsOfAllMembers=xn===0?null:xn/Wn,le.avgLatestMsgTsOfAllMembers=Vn===0?null:Vn/Bn,le.pctNonEmptyDmsForAllMembers=Wn/(Nn.length-1)*100,le.pctNonNullDmsForAllMembers=hs/(Nn.length-1)*100}if(qe.type==="team"&&(le.suggestionType=l.b.TEAM_NAVIGATION,le.isNavigational=!0),qe.type==="view"&&(le.suggestionType=l.b.VIEW_NAVIGATION,le.isNavigational=!0),qe.type==="appAction"&&(le.suggestionType=l.b.APP_ACTION,le.isAction=!0,le.offlineFeatures=T&&T.getFeatures(qe.item.id,"appAction")),qe.type==="app"&&(le.suggestionType=l.b.APP,le.isApp=!0),qe.type==="emoji"&&(le.name=le.emojiBestNameMatch,le.suggestionType=l.b.EMOJI,le.isNavigational=!0,le.offlineFeatures=T&&T.getFeatures(qe.item.id,"emoji")),qe.type==="slashCommand"){var nn;le.suggestionType=l.b.SLASH_COMMAND,le.isApp=!0,le.name=(nn=le.name)===null||nn===void 0?void 0:nn.substring(1),le.firstWordOfRawQuery&&(le.query=le.firstWordOfRawQuery,le.normalizedQuery=le.firstWordOfRawQuery),le.offlineFeatures=T&&T.getFeatures(qe.item.id,"slashCommand")}if(qe.type==="globalAction"&&(le.suggestionType=l.b.GLOBAL_ACTION,le.isApp=!0,le.offlineFeatures=T&&T.getFeatures(qe.item.id,"globalAction")),qe.type==="quipShortcutCommand"&&(le.suggestionType=l.b.QUIP_SHORTCUT),qe.type==="channelAction"&&(le.suggestionType=l.b.CHANNEL_ACTION,le.isApp=!0,le.offlineFeatures=T&&T.getFeatures(qe.item.id,"channelAction")),qe.type==="workflowTrigger"&&(le.suggestionType=l.b.WORKFLOW_TRIGGER,le.isApp=!0,le.offlineFeatures=T&&T.getFeatures(qe.item.id,"workflowTrigger")),qe.type==="file"){le.suggestionType=l.b.FILE_NAVIGATION,le.isNavigational=!0,le.fileSuggestionsFromSearcher=!0;const mn=le.item;le.id=mn.id,le.fileId=mn.id,le.logId=mn.id,le.fileType=mn.highlight_type||mn.filetype,le.name=mn.title,le.fileTypeDescription=mn.is_external?Object(Gt.a)(mn,ue):mn.pretty_type,le.fileTypeDescription==="Arugula"&&(le.fileTypeDescription=Us.t("Post")),le.fromCurrentUser=mn.user===w;const Nn=mn.user&&Object(Cn.m)(ue,mn.user),xn=mn.user&&T&&T.getUserDmChannelMetadata(mn.user);if(le.hasNonNullDmsWithCreator=Nn!==null,le.hasNonNullLocalOrRemoteDmsWithCreator=Nn!==null||xn!==null,le.lastReadTs=mn.last_read,mn.shares){const Wn=mn.shares.public&&Math.max(...Object.values(mn.shares.public).flatMap(hs=>hs.map(ln=>ln.ts?parseFloat(ln.ts):-1/0))),Bn=mn.shares.private&&Math.max(...Object.values(mn.shares.private).flatMap(hs=>hs.map(ln=>ln.ts?parseFloat(ln.ts):-1/0)));Wn&&Bn?le.latestShareTs=Wn>Bn?Wn:Bn:le.latestShareTs=Wn||Bn}const Vn=Un(mn);if(Vn&&(le.latestActionTs=Vn),T){const Wn=mn.channels&&Array.isArray(mn.channels)&&mn.channels.length&&Math.max(...mn.channels.map(hs=>T.getFeatures(hs,"channel").user_ctr_30dd)),Bn=mn.groups&&Array.isArray(mn.groups)&&mn.groups.length&&Math.max(...mn.groups.map(hs=>T.getFeatures(hs,"mpim").user_ctr_30dd));Wn>0&&Bn>0?le.fileChannelCtr=Math.max(Wn,Bn):Wn>0?le.fileChannelCtr=Wn:Bn>0&&(le.fileChannelCtr=Bn),mn.user?le.fileUserCtr=T.getFeatures(mn.user,"member").user_ctr_30dd:le.fileUserCtr=T.getEntityCtr("member")}}if(qe.type==="link"&&(le.suggestionType=l.b.LINK_NAVIGATION,le.isNavigational=!0,le.name=qe.item.title||qe.item.url),qe.type==="modal"&&(le.suggestionType=l.b.MODAL_NAVIGATION,le.name=qe.item.name),qe.type==="queryHistory"&&(le.suggestionType=l.b.QUERY_HISTORY,le.is_type_query_history=!0,le.id=Object(Ut.a)(qe.id||qe.name||qe.string),le.logId=le.id,le.exact_string=qe.string),qe.type==="query"||qe.type==="queryUser"||qe.type==="queryHistory"){var Sn,jn,hn;le.is_type_query_completion=!0,le.lastSuggestionToken=!le.suggestionTokenList||le.suggestionTokenList.length<1?null:le.suggestionTokenList[le.suggestionTokenList.length-1],le.frecencyScore=le.lastSuggestionToken&&le.lastSuggestionToken._frecencyScore,le.scoringContext=((Sn=le.lastSuggestionToken)===null||Sn===void 0?void 0:Sn._scoringContext)||{},le.lastTokenMemberOrNull=null,le.lastTokenChannelOrNull=null;const mn=le.lastSuggestionToken&&(le.lastSuggestionToken.type===l.a.FILTER_FROM||le.lastSuggestionToken.type===l.a.FILTER_TO||le.lastSuggestionToken.type===l.a.FILTER_WITH),Nn=le.lastSuggestionToken&&le.lastSuggestionToken.type===l.a.FILTER_IN;if(!((jn=le.lastSuggestionToken)===null||jn===void 0)&&jn._id&&(le.lastTokenMemberOrNull=mn&&Object(Dn.g)(ue,le.lastSuggestionToken._id),le.lastTokenChannelOrNull=Nn&&(Object(Cn.d)(ue,le.lastSuggestionToken._id)||Object(Cn.m)(ue,le.lastSuggestionToken._id)),le.priority=le.lastTokenChannelOrNull?Object(E.M)(ue,le.lastTokenChannelOrNull):void 0),le.lastSuggestionToken&&le.lastSuggestionToken._name&&(le.lastTokenMemberOrNull||(le.lastTokenMemberOrNull=mn&&Object(Dn.h)(ue,le.lastSuggestionToken._name)),le.lastTokenChannelOrNull||(le.lastTokenChannelOrNull=Nn&&Object(Cn.e)(ue,le.lastSuggestionToken._name))),Object(_n.e)(le.lastTokenMemberOrNull)&&(le.lastTokenMemberOrNull=null),le.lastTokenMemberName=Object(fn.b)(le.lastTokenMemberOrNull)||void 0,Object(_n.e)(le.lastTokenChannelOrNull))le.lastTokenChannelOrNull=null;else{const Vn=Object(E.z)(ue,le.lastTokenChannelOrNull);le.lastTokenChannelLastRead=Vn?parseFloat(Vn):void 0,le.lastTokenChannelIsStarred=Object(E.qb)(ue,le.lastTokenChannelOrNull)}le.lastTokenChannelName=Object(E.t)(ue,le.lastTokenChannelOrNull)||null,le.lastTokenIm=le.lastTokenMemberOrNull&&le.lastTokenMemberOrNull.id?Object(Cn.m)(ue,le.lastTokenMemberOrNull.id):void 0,le.lastTokenImLatest=Object(pn.b)(ue,(hn=le.lastTokenIm)===null||hn===void 0?void 0:hn.id);const xn=Object(E.z)(ue,le.lastTokenIm);xn&&(le.lastTokenImLastRead=xn?parseFloat(xn):void 0),le.lastTokenIm&&(le.priority=Object(E.M)(ue,le.lastTokenIm)),le.lastTokenImIsStarred=Object(E.qb)(ue,le.lastTokenIm)}if(qe.type==="query"&&(le.suggestionType=l.b.QUERY),qe.type==="queryUser"&&(le.suggestionType=l.b.QUERY_USER),qe.type==="queryHistory"&&(le.suggestionType=l.b.QUERY_HISTORY),qe.type==="query"||qe.type==="queryUser"||qe.type==="queryHistory"){var un;le.normalizedQuery=Object(P.a)(Object(St.a)(le.query)),le.logId=((un=le.lastSuggestionToken)===null||un===void 0?void 0:un.logId)||"";var An;le.name=((An=le.suggestionTokenList)!==null&&An!==void 0?An:[]).map(mn=>mn.toString()).join(" ")}return qe.type==="quickMessage"&&(le.isNavigational=!0,le.suggestionType=l.b.MESSAGE_NAVIGATION),le.entityTypeCtr=T?T.getEntityCtr(qe.type):void 0,le})}extractFeatures(ue,We){We.forEach(At=>{var bn;const vn=j(At,(bn=this.options)===null||bn===void 0?void 0:bn.source);this.featureVectors[At.id]=vn})}selectModelForScoring(){return this.model}scoreItems(ue,We){var At;const bn={source:(At=this.options)===null||At===void 0?void 0:At.source},vn=this.selectModelForScoring();return We.map(bt=>{var T;const N=this.featureVectors[bt.id],Q=vn.score(N,bn);let w;return!((T=this.options)===null||T===void 0)&&T.explain&&(w=vn.explain(N,bn)),{...bt,modelScore:Q,featureVectorRaw:N,explain:w}})}sortByScore(ue){var We,At;return ue.sort((bn,vn)=>((We=vn==null?void 0:vn.modelScore)!==null&&We!==void 0?We:0)-((At=bn==null?void 0:bn.modelScore)!==null&&At!==void 0?At:0))}constructor({query:ue,options:We={},teamId:At=null,enterpriseId:bn=null}){this.query=ue,this.options=We;let vn=We.model;vn===void 0&&(vn=Fn);const bt=this.getModels(vn,At||bn);this.model=bt.model,this.omniswitcherModel=bt.omniswitcherModel,this.teamId=At,this.enterpriseId=bn,this.featureVectors={}}},"Sorter")},WXkz:function(K,s,e){"use strict";e.d(s,"l",function(){return f}),e.d(s,"q",function(){return S}),e.d(s,"r",function(){return D}),e.d(s,"c",function(){return p}),e.d(s,"t",function(){return b}),e.d(s,"s",function(){return M}),e.d(s,"v",function(){return _}),e.d(s,"e",function(){return P}),e.d(s,"f",function(){return y}),e.d(s,"w",function(){return j}),e.d(s,"D",function(){return U}),e.d(s,"E",function(){return W}),e.d(s,"o",function(){return L}),e.d(s,"p",function(){return R}),e.d(s,"m",function(){return F}),e.d(s,"a",function(){return V}),e.d(s,"n",function(){return X}),e.d(s,"F",function(){return J}),e.d(s,"g",function(){return Y}),e.d(s,"b",function(){return ie}),e.d(s,"y",function(){return pe}),e.d(s,"j",function(){return oe}),e.d(s,"i",function(){return re}),e.d(s,"B",function(){return ce}),e.d(s,"C",function(){return he}),e.d(s,"A",function(){return Se}),e.d(s,"h",function(){return se}),e.d(s,"k",function(){return H}),e.d(s,"d",function(){return Oe}),e.d(s,"z",function(){return $}),e.d(s,"u",function(){return z}),e.d(s,"x",function(){return be});var n=e("ZKjC"),t=e("O86Y"),a=e("robD"),r=e("6CnZ"),d=e("dmdh"),o=e("gded"),i=e("JoR1"),h=e("P9LH"),l=e("fGfo"),u=e("OaiI"),c=e("xcHN"),E=e("hwwf"),v=e("UOL+"),g=e("G4qV"),O=e("rdha"),I=e("i5Ig");const C=m(Z=>Object(v.a)(Z).lists,"getListsState"),f=Object(n.b)((Z,G)=>Object(u.isListsStoreRefactorEnabled)(Z)?Object(d.e)(Z,G):C(Z).listsById[G]);f.meta={name:"createSelector",key:"createSelectorgetList",description:(Z,G)=>Object(u.isListsStoreRefactorEnabled)(Z)?Object(d.e)(Z,G):C(Z).listsById[G]};const S=Object(n.b)((Z,G)=>{var ne;return G&&((ne=C(Z).listsById[G])===null||ne===void 0?void 0:ne.records)||I.b});S.meta={name:"createSelector",key:"createSelectorgetListRecords",description:(Z,G)=>{var ne;return G&&((ne=C(Z).listsById[G])===null||ne===void 0?void 0:ne.records)||I.b}};const D=Object(g.a)(f,Z=>Z==null?void 0:Z.title),p=Object(n.b)(Z=>C(Z).clock);p.meta={name:"createSelector",key:"createSelectorgetClock",description:Z=>C(Z).clock};const b=Object(n.b)(Z=>C(Z).listsById);b.meta={name:"createSelector",key:"createSelectorgetListsLegacy",description:Z=>C(Z).listsById};const M=Object(n.b)(Z=>Object(d.c)(Z));M.meta={name:"createSelector",key:"createSelectorgetLists",description:Z=>Object(d.c)(Z)};const _=Object(n.b)((Z,G,ne)=>{var ge,ae;return(ge=C(Z).listsById[G])===null||ge===void 0||(ae=ge.records)===null||ae===void 0?void 0:ae[ne]});_.meta={name:"createSelector",key:"createSelectorgetRecord",description:(Z,G,ne)=>{var ge,ae;return(ge=C(Z).listsById[G])===null||ge===void 0||(ae=ge.records)===null||ae===void 0?void 0:ae[ne]}};const P=Object(n.b)((Z,G,ne)=>{const ge=f(Z,G),ae=Object(l.g)(ge);return ae==null?void 0:ae.find(fe=>fe.key===ne)});P.meta={name:"createSelector",key:"createSelectorgetColumnByKey",description:(Z,G,ne)=>{const ge=f(Z,G),ae=Object(l.g)(ge);return ae==null?void 0:ae.find(fe=>fe.key===ne)}};const y=Object(n.b)((Z,G,ne)=>{var ge;return(ge=P(Z,G,ne))===null||ge===void 0?void 0:ge.id});y.meta={name:"createSelector",key:"createSelectorgetColumnIdByColumnKey",description:(Z,G,ne)=>{var ge;return(ge=P(Z,G,ne))===null||ge===void 0?void 0:ge.id}};const j=Object(n.b)((Z,G,ne)=>{var ge;const ae=(ge=C(Z).listsById[G])===null||ge===void 0?void 0:ge.records;if(ae)return Object.values(ae).find(fe=>fe.threadTs===ne)});j.meta={name:"createSelector",key:"createSelectorgetRecordByThreadTs",description:(Z,G,ne)=>{var ge;const ae=(ge=C(Z).listsById[G])===null||ge===void 0?void 0:ge.records;if(ae)return Object.values(ae).find(fe=>fe.threadTs===ne)}};const U=Object(n.b)((Z,G)=>C(Z).templatesById[G]);U.meta={name:"createSelector",key:"createSelectorgetTemplate",description:(Z,G)=>C(Z).templatesById[G]};const W=Object(n.b)(Z=>C(Z).templatesById);W.meta={name:"createSelector",key:"createSelectorgetTemplates",description:Z=>C(Z).templatesById};const L=Object(n.b)(Z=>{const G=[],ne=Object(u.isListsStoreRefactorEnabled)(Z);let ge;ne?ge=M(Z):ge=Object.values(b(Z));for(const fe of ge){var ae;const Te={id:fe.id,title:(ae=fe.title)!==null&&ae!==void 0?ae:""};G.push(Te)}return G});L.meta={name:"createSelector",key:"createSelectorgetListMentions",description:Z=>{const G=[],ne=Object(u.isListsStoreRefactorEnabled)(Z);let ge;ne?ge=M(Z):ge=Object.values(b(Z));for(const fe of ge){var ae;const Te={id:fe.id,title:(ae=fe.title)!==null&&ae!==void 0?ae:""};G.push(Te)}return G}};const R=Object(n.b)((Z,G)=>{const ne=Object(u.isListsStoreRefactorEnabled)(Z);let ge;ne?ge=M(Z):ge=Object.values(b(Z));const ae=Object(E.w)(G);if(!ae)return[];const{listTitle:fe}=ae,Te=Object(E.i)(ge,fe);if(!Te)return[];const ye=Object(d.e)(Z,Te.id),Ue=A(Te),Ne=[],He=S(Z,Te.id);for(const Xe of Object.values(He??{})){var ze,Je;const Me={id:Xe.id,name:(ze=Xe.fields[Ue])!==null&&ze!==void 0?ze:"",listId:ye.id,listTitle:(Je=ye.title)!==null&&Je!==void 0?Je:""};Ne.push(Me)}return Ne});R.meta={name:"createSelector",key:"createSelectorgetListRecordMentions",description:(Z,G)=>{const ne=Object(u.isListsStoreRefactorEnabled)(Z);let ge;ne?ge=M(Z):ge=Object.values(b(Z));const ae=Object(E.w)(G);if(!ae)return[];const{listTitle:fe}=ae,Te=Object(E.i)(ge,fe);if(!Te)return[];const ye=Object(d.e)(Z,Te.id),Ue=A(Te),Ne=[],He=S(Z,Te.id);for(const Xe of Object.values(He??{})){var ze,Je;const Me={id:Xe.id,name:(ze=Xe.fields[Ue])!==null&&ze!==void 0?ze:"",listId:ye.id,listTitle:(Je=ye.title)!==null&&Je!==void 0?Je:""};Ne.push(Me)}return Ne}};function A(Z){let G;const ne=Object(l.g)(Z);for(const ge of ne??[])if(ge.type==="text"&&(G||(G=ge),ge.key.toUpperCase()==="NAME"))return ge.key;return G?G.key:"name"}m(A,"findColumnKeyForMention");const B=Object(n.b)(Z=>Object(u.isListsEnabled)(Z)?!!Object(i.t)(Z,"seen_onboarding_lists"):!0);B.meta={name:"createSelector",key:"createSelectorhasSeenOnboardingLists",description:Z=>Object(u.isListsEnabled)(Z)?!!Object(i.t)(Z,"seen_onboarding_lists"):!0};const F=Object(n.b)((Z,G)=>{var ne;const ge=f(Z,G);return(ne=Object(l.g)(ge))===null||ne===void 0?void 0:ne.find(ae=>(ae==null?void 0:ae.key)==="name")});F.meta={name:"createSelector",key:"createSelectorgetListDefaultColumn",description:(Z,G)=>{var ne;const ge=f(Z,G);return(ne=Object(l.g)(ge))===null||ne===void 0?void 0:ne.find(ae=>(ae==null?void 0:ae.key)==="name")}};const k=Object(n.b)((Z,G,ne,ge)=>{var ae;if(!G||!ne||!ge)return!1;const fe=Object(c.c)(ne,G),Te=Object(r.j)(Z,fe,G);return Te?ge<(Te==null?void 0:Te.timestamps[(Te==null||(ae=Te.timestamps)===null||ae===void 0?void 0:ae.length)-1]):!1});k.meta={name:"createSelector",key:"createSelectorhasListRecordThreadUnreads",description:(Z,G,ne,ge)=>{var ae;if(!G||!ne||!ge)return!1;const fe=Object(c.c)(ne,G),Te=Object(r.j)(Z,fe,G);return Te?ge<(Te==null?void 0:Te.timestamps[(Te==null||(ae=Te.timestamps)===null||ae===void 0?void 0:ae.length)-1]):!1}};const V=Object(n.b)((Z,G)=>C(Z).listBannerMessagesbyId[G]);V.meta={name:"createSelector",key:"createSelectorgetBannerMessageForList",description:(Z,G)=>C(Z).listBannerMessagesbyId[G]};const X=Object(n.b)((Z,G)=>{const ne=Object(d.e)(Z,G);return!ne||!ne.access||!Object(h.Wb)(ne)});X.meta={name:"createSelector",key:"createSelectorgetListIsViewOnly",description:(Z,G)=>{const ne=Object(d.e)(Z,G);return!ne||!ne.access||!Object(h.Wb)(ne)}};const J=Object(n.b)(Z=>Object(t.d)(Z)==="E12KS1G65");J.meta={name:"createSelector",key:"createSelectorshouldShowFeedbackLink",description:Z=>Object(t.d)(Z)==="E12KS1G65"};const Y=Object(n.b)((Z,G)=>C(Z).historyById[G]);Y.meta={name:"createSelector",key:"createSelectorgetEditHistory",description:(Z,G)=>C(Z).historyById[G]};const ie=Object(n.b)((Z,G)=>{const ne=f(Z,G),ge=S(Z,G);if(!ne||!ge)return null;let ae="";for(const fe of Object.values(ge)){fe.position&&ae<fe.position&&(ae=fe.position);for(const Te of Object.values(fe.viewPositions))ae<Te&&(ae=Te)}return ae||null});ie.meta={name:"createSelector",key:"createSelectorgetBiggestRecordPosition",description:(Z,G)=>{const ne=f(Z,G),ge=S(Z,G);if(!ne||!ge)return null;let ae="";for(const fe of Object.values(ge)){fe.position&&ae<fe.position&&(ae=fe.position);for(const Te of Object.values(fe.viewPositions))ae<Te&&(ae=Te)}return ae||null}};const de=Object(n.b)((Z,G,ne)=>{const ge=Object(o.a)({listId:G,viewId:ne});return C(Z).localFiltersById[ge]});de.meta={name:"createSelector",key:"createSelectorgetLocalFiltersByViewId",description:(Z,G,ne)=>{const ge=Object(o.a)({listId:G,viewId:ne});return C(Z).localFiltersById[ge]}};const pe=Object(O.d)((Z,G,ne)=>{const ge=f(Z,G),ae=Object(l.h)(ge,ne);return ae==null?void 0:ae.filters}),oe=Object(g.a)(de,pe,(Z,G)=>Z===void 0?!1:Z.length!==(G==null?void 0:G.length)?!0:!Object(a.c)(Z,G,"columnId")),me=Object(g.a)(de,pe,(Z,G)=>{if(!Z)return new Set;const ne=new Map(G==null?void 0:G.map(ae=>[ae.key,ae])),ge=Z.filter(ae=>Object(a.b)(ae,ne)).map(ae=>ae.key);return new Set(ge)}),re=Object(g.a)(de,pe,(Z,G)=>Z!==void 0?Z:G||[]),ve=Object(n.b)((Z,G,ne)=>{const ge=Object(o.a)({listId:G,viewId:ne});return C(Z).localSortsById[ge]});ve.meta={name:"createSelector",key:"createSelectorgetLocalSortsByViewId",description:(Z,G,ne)=>{const ge=Object(o.a)({listId:G,viewId:ne});return C(Z).localSortsById[ge]}};const q=Object(O.d)((Z,G,ne)=>{const ge=f(Z,G),ae=Object(l.h)(ge,ne);return ae==null?void 0:ae.sorts}),ce=Object(g.a)(ve,q,(Z,G)=>Z!==void 0?Z:G||[]),he=Object(g.a)(ve,q,(Z,G)=>Z===void 0?!1:Z.length!==(G==null?void 0:G.length)?!0:!Object(a.c)(Z,G,"columnId")),Se=Object(n.b)(Z=>C(Z).showListRefinements);Se.meta={name:"createSelector",key:"createSelectorgetShouldShowListRefinements",description:Z=>C(Z).showListRefinements};const se=Object(n.b)(Z=>{var G;return(G=C(Z))===null||G===void 0?void 0:G.filterPillKey});se.meta={name:"createSelector",key:"createSelectorgetFilterPillKey",description:Z=>{var G;return(G=C(Z))===null||G===void 0?void 0:G.filterPillKey}};const H=Object(n.b)(Z=>{var G;return(G=C(Z))===null||G===void 0?void 0:G.groupByPillAutoOpen});H.meta={name:"createSelector",key:"createSelectorgetGroupByPillAutoOpen",description:Z=>{var G;return(G=C(Z))===null||G===void 0?void 0:G.groupByPillAutoOpen}};const Oe=Object(n.b)((Z,G,ne)=>{const ge=Object(o.a)({listId:G,viewId:ne});return C(Z).localCollapsedGridsById[ge]});Oe.meta={name:"createSelector",key:"createSelectorgetCollapsedGridsByViewId",description:(Z,G,ne)=>{const ge=Object(o.a)({listId:G,viewId:ne});return C(Z).localCollapsedGridsById[ge]}};const $=Object(n.b)((Z,G)=>Object(l.n)(f(Z,G)));$.meta={name:"createSelector",key:"createSelectorgetShouldHideRecordThread",description:(Z,G)=>Object(l.n)(f(Z,G))};const z=Object(n.b)(Z=>C(Z).myItemMap);z.meta={name:"createSelector",key:"createSelectorgetMyItemMap",description:Z=>C(Z).myItemMap};const be=Object(n.b)((Z,G)=>{var ne;return(ne=C(Z).refinePillAutoOpenByViewId)===null||ne===void 0?void 0:ne[G]});be.meta={name:"createSelector",key:"createSelectorgetRefinePillAutoOpenByViewId",description:(Z,G)=>{var ne;return(ne=C(Z).refinePillAutoOpenByViewId)===null||ne===void 0?void 0:ne[G]}}},"Ws5+":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ifKl"),d=e("gz6s"),o=e("u3oV"),i=e("X6iR"),h=m(O=>Object(o.a)(O,(I,C)=>Object(i.a)(C,"aria-")),"get_aria_props"),l=e("ktUG"),u=e("FRd1"),c=e("1VgO");function E(){return E=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&(O[f]=C[f])}return O},E.apply(this,arguments)}m(E,"_extends");const v=t.a.forwardRef((O,I)=>{let{className:C,isRequired:f=!1,"aria-disabled":S,indeterminate:D=!1,checked:p,hasKeyboardFocus:b,unstyled:M,autoClogProps:_,onChange:P,focusOnMount:y,...j}=O;const U=Object(n.useRef)(null),[W,L]=Object(n.useState)(!1);Object(n.useEffect)(()=>{if(D&&p==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");U.current&&(U.current.indeterminate=D)},[p,D]),Object(n.useEffect)(()=>{if(y){var V;(V=U.current)===null||V===void 0||V.focus()}},[y]);const R=Object(n.useCallback)(V=>{p===void 0&&_&&(V.persist(),L(V.target.checked)),P==null||P(V)},[_,p,P]),A=M?Object(a.default)("c-input_unstyled_checkbox",C,{"c-input_unstyled_checkbox--focus-visible":b,"c-input_unstyled_checkbox--checked":p}):Object(a.default)("c-input_checkbox",C,{"c-input_checkbox--focus-visible":b,"c-input_checkbox--disabled":S}),B=t.a.createElement("input",E({},j,h(j),{"aria-disabled":S,"aria-checked":D?"mixed":void 0,checked:p,type:"checkbox",required:f,className:A,ref:Object(c.b)(U,I),onChange:S?r.a:R})),F=p!==void 0?p:W,k=Object(n.useMemo)(()=>({onChange:{action:F?l.UiAction.UNCHECK:l.UiAction.CHECK}}),[F]);return _?t.a.createElement(u.a,{autoClogProps:_,actionProps:k,elementType:l.ElementType.CHECKBOX},B):B});v.displayName="Checkbox";var g=s.a=Object(d.a)(v)},WvVy:function(K,s,e){"use strict";e.d(s,"a",function(){return O}),e.d(s,"d",function(){return _}),e.d(s,"b",function(){return P}),e.d(s,"c",function(){return y});var n=e("E3dU"),t=e("NjAx"),a=e("rKeN"),r=e("ptp8"),d=e("9Gfp"),o=e("RTHw"),i=e("g05w"),h=e("E97Y"),l=e("ByMX"),u=e("O0Iw"),c=e("lihz"),E=e("nePV"),v=e("RVJP"),g=e("OOsk");const O={InvalidChannelType:Symbol("invalid_channel_type"),InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},I={ok:!1,reason:O.InvalidParams},C={ok:!1,reason:O.InvalidDm},f={ok:!1,reason:O.InvalidChannelType},S={ok:!1,reason:O.RestrictedUser},D={ok:!1,reason:O.OrgSharedSettings},p={ok:!1,reason:O.OwnerRequired},b={ok:!1,reason:O.UserHasNoPermissions},M=m((j,U)=>{const W=Object(v.d)(j,"roles_account_types")==="on";if(!Object(h.e)(U))return I;if(Object(h.g)(U)||Object(h.i)(U))return C;if(Object(h.n)(U))return f;const L=Object(d.h)(j),R=Object(r.a)(j),A=Object(r.b)(j);if(!L)return R&&(Object(h.k)(U)&&Object(o.a)(j)||Object(h.l)(U)&&Object(o.c)(j))||A&&(Object(h.k)(U)&&Object(o.b)(j)||Object(h.l)(U)&&Object(o.d)(j))?g.a:b;const B=Object(E.a)(j)||Object(t.K)(j);return Object(i.a)(U)&&!B?D:Object(c.a)(j,U)||Object(t.R)(j,{channelId:U.id})?g.a:W&&Object(a.a)(j)?b:Object(l.b)(j)||Object(l.c)(j)?S:Object(u.b)(j,U)?g.a:p},"canUserRenameChannelWithReason"),_=m((j,U)=>{const L=Object(n.d)(j,U,!1);return L?M(j,L):I},"canUserRenameChannelWithReasonById"),P=m((j,U)=>M(j,U).ok,"canUserRenameChannel"),y=m((j,U)=>_(j,U).ok,"canUserRenameChannelById")},WvYH:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return r});var n=e("DwFS");const t=Object(n.a)("Set the current theme field in redux (do not use this)");t.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const a=Object(n.a)("Set the OS system sync field in redux (do not use this)");a.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const r=Object(n.a)("Set the OS system theme field in redux (do not use this)");r.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"}},"X/Mv":function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("bJNA"),t=e("2m2s");const a=m(r=>{switch(r){case n.a.USER:return{name:"user"};case n.a.FILE:return{name:"attachment"};case n.a.IMAGE:return{name:"image"};case n.a.CHECK_LIST:return{name:"checkbox"};case n.a.CHECK_LIST_TOGGLE:return{name:"checkbox"};case n.a.BULLET_LIST:return{name:"bulleted-list"};case n.a.ORDERED_LIST:return{name:"numbered-list"};case n.a.VIDEO_CLIP:return{name:"video"};case n.a.AUDIO_CLIP:return{name:"microphone"};case n.a.DIVIDER:return{name:"divider"};case n.a.TABLE:return{name:"spreadsheet"};case n.a.PINS:return{name:"pin"};case n.a.SMART_SUMMARY:return{name:"magic-wand"};case n.a.BLOCKQUOTE:return{name:"quote"};case n.a.CODE_BLOCK:return{name:"code-block"};case t.a.CODE:return{name:"code"};case n.a.PARAGRAPH:return{name:"paragraph"};case n.a.H1:return{name:"heading-1"};case n.a.H2:return{name:"heading-2"};case n.a.H3:return{name:"heading-3"};case n.a.CANVAS:return{name:"canvas"};case n.a.WORKFLOW:return{name:"play"};case n.a.LIST:return{name:"lists"};case n.a.WIDGET:return{name:"blocks"};default:return{name:"help"}}},"getQuipButtonIcon")},X1Aw:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("o1Pf"),a=e("Lgge"),r=e("jj3I"),d=e("r9F4"),o=e("lhZz"),i=e("+CZ0"),h=e("ED8d"),l=e("smhd");const u=Object(n.c)("Stop transcription for current huddle",(c,E)=>{if(!Object(d.a)(E())||Object(d.b)(E()))return a.a.resolve();const v=Object(o.getStateForClientStore)(),g=Object(i.a)(v);return g?(c(Object(r.a)()),c(Object(r.e)(!0)),c(Object(t.a)({reason:"stop-event-log",callId:g})).finally(()=>{c(Object(r.e)(!1));const{huddleEventsTrace:O}=Object(h.a)().getAllTraceHandlers();O==null||O.update({name:l.a.TRANSCRIPT,type:l.b.STOP})})):a.a.reject(new Error("No active call ID for huddle"))});u.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"},s.a=u},X8Vd:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("7lBi"),t=e("SQ0V"),a=e("ED1u"),r=e("j77i");const d=Object(t.c)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(o,i,h)=>{Object(r.w)(n.x,h),o(Object(a.b)(h))});d.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"}},"XDa+":function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("2VFn"),t=e("nNoG");const a=new t.b("view");function r(d){let{tab:o,experimentDesktopIa4GroupOn:i,experimentDesktopIa4NewTeamsV3GroupTreatment:h}=d;if(!i)return"";let l;switch(o){case n.d.Home:l=a.t("Home");break;case n.d.DMs:l=a.t("DMs");break;case n.d.Activity:l=a.t("Activity");break;case n.d.Later:l=a.t("Later");break;case n.d.SalesHome:l=a.t("Sales");break;case n.d.Search:l=a.t("Search");break;case n.d.Canvases:l=a.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case n.d.Files:l=a.t("Files",{ns:"search"});break;case n.d.FilesPrototype:l=a.t("Content",{ns:"search"});break;case n.d.Channels:l=a.t("Channels",{ns:"search"});break;case n.d.People:l=a.t("People",{ns:"search"});break;case n.d.Platform:l=a.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case n.d.ExternalConnections:case n.d.ExternalConnectionsTemp:l=h?a.t("External",{fallbackHash:"ffe740c3e742622ea4e92503c4f06ce40984d073"}):a.t("External connections",{fallbackHash:"1414032968e6344d2d3cd0ba2b96dca7cd6df78f"});break;case n.d.Huddles:l=a.t("Huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33x`",fallbackHashNs:"search"});break;case n.d.Assistant:l=a.t("Assistant");break;case n.d.Browse:l=a.t("More");break;case n.d.Items:l=a.t("Items");break;case n.d.CRM:l=a.t("Sales");break;case n.d.Lists:l=a.t("Lists");break;case n.d.ExternalWorkspace:l=a.t("Events");break;default:l="";break}return l}m(r,"getTabLabel")},XM5t:function(K,s,e){"use strict";e.d(s,"a",function(){return u}),e.d(s,"b",function(){return c}),e.d(s,"c",function(){return E});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("zxER"),d=e("DneB"),o=e("SIMs"),i=e("f9ip"),h=e("+CZ0"),l=e("3vtZ"),u;(function(v){v.CANVAS_OPEN="canvas_open",v.CANVAS_JOIN="canvas_join",v.CANVAS_LEAVE="canvas_leave",v.CANVAS_TOOLBAR="canvas_toolbar",v.EMOJI_PICKER_OPEN="emoji_picker_open",v.EMOJI_SENT="emoji_sent",v.LINK_OPEN="link_open",v.FOCUS_OPEN="focus_open",v.FOCUS_CLOSE="focus_close",v.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",v.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",v.MINI_PLAYER_VIEW_START="mini_player_view_start",v.MINI_PLAYER_VIEW_END="mini_player_view_end",v.SCREENSHARE_START="screenshare_start",v.SCREENSHARE_END="screenshare_end",v.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",v.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",v.THREAD_WINDOW_VIEW_START="thread_window_view_start",v.THREAD_WINDOW_VIEW_END="thread_window_view_end",v.THREAD_OPEN="thread_open",v.THREAD_CLOSE="thread_close",v.SELF_VIDEO="self_video",v.WINDOW_COMPACT_VIEW_START="window_compact_view_start",v.WINDOW_COMPACT_VIEW_END="window_compact_view_end",v.WINDOW_FULL_VIEW_START="window_full_view_start",v.WINDOW_FULL_VIEW_END="window_full_view_end",v.WINDOW_RESIZE_BUTTON="window_resize_button",v.BACKGROUND_CHANGED="background_changed",v.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",v.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",v.CAPTIONS_START="huddles_captions_start",v.CAPTIONS_STOP="huddles_captions_stop",v.INVITATION_SENT="invitation_sent",v.MUSIC_PLAYER_STARTED="huddles_music_player_start_music",v.MUSIC_PLAYER_SONG_SELECTED="huddles_music_player_song_selected",v.MUSIC_PLAYER_STOP="huddles_music_player_stop_music",v.NOTES_OPEN="notes_open",v.NOTES_CLOSE="notes_close"})(u||(u={}));var c;(function(v){v.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",v.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",v.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",v.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",v.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",v.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",v.CANVAS_WINDOW="canvas_window",v.LEAVE_CALL="leave_call",v.CLOSE_MODAL="close_modal",v.EMOJI_PICKER="emoji_picker",v.JUKEBOX_MENU="jukebox_menu",v.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",v.REACTION_BUBBLE="reaction_bubble",v.CHANGE_BACKGROUND_DIALOG="change_background_dialog",v.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education",v.HUDDLE_MINI_PLAYER_MUSIC_PLAYER="huddle_music_player",v.HUDDLE_WINDOW_MUSIC_PLAYER="huddle_window_music_player"})(c||(c={}));function E(){const v=Object(d.b)(h.a),g=Object(r.c)(D=>Object(l.l)(D,{huddleId:v}),a.shallowEqual),O=Object(d.b)(l.k,a.shallowEqual),I=Object(d.b)(l.j,a.shallowEqual),C=Object(r.c)(D=>Object(o.q)(D,{huddleId:v})),f=Object(r.c)(i.c);return Object(n.useMemo)(()=>({canvasThreadChannelId:g.canvas_thread_channel_id,canvasThreadId:g.canvas_thread_id,canvasHuddleSessionId:O.canvas_huddle_session_id,callsRoomId:I.room_id,callsChannelId:I.channel_id,uiPage:C?C.toString():null,fileId:f}),[g.canvas_thread_channel_id,g.canvas_thread_id,O.canvas_huddle_session_id,I.room_id,I.channel_id,C,f])}m(E,"useHuddleClogContext")},XOse:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),r=e("3l96"),d=e("beVI"),o=e("5IZy"),i=e("ktUG"),h=e("7pFd"),l=e("O86Y"),u=e("bJfW"),c=e("9Gfp"),E=e("G0eX");const v=Object(a.c)("Opens the apps browser modal",function(g,O){let{initialTab:I,emojiNameSuggestion:C,elementName:f,emojiUrl:S}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const D=O(),p=Object(l.h)(D);let b;p&&Object(u.b)(p)?b=Object(d.m)(D):Object(c.m)(D)&&(b=Object(E.l)(Object(d.g)(D))),Object(o.a)({getState:O}).track(i.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:f}}}}),g(Object(r.a)({element:t.a.createElement(h.b,{showEmojiPacks:!S,orgName:b,initialTab:I,emojiNameSuggestion:C,emojiUrl:S}),isStackable:!0}))});v.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"},s.a=v},XVAJ:function(K,s,e){"use strict";var n=e("g/kD"),t=e("ItXa");e.d(s,"a",function(){return t.a}),s.b=n.a},XcMG:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("BHdc"),d=e("/qcS"),o=e("vJdC"),i=e("9Sxv");function h(u){let{channelSection:c,className:E,spacing:v="medium"}=u;const O=Object(a.useDispatch)()(Object(o.a)({channelSection:c})),I=O&&O.split(" "),C=I&&I[0],f=I&&(I.length>1?` ${I.slice(1).join(" ")}`:null),S=m(()=>c.emoji?t.a.createElement(d.b,{className:Object(r.default)({margin_right_0:v==="none",margin_right_25:v==="small",margin_right_50:v==="medium"}),shouldFallbackOnLoadError:!0,text:c.emoji,stopAnimations:!0,emojiSize:d.a.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):t.a.createElement(i.a,{type:c.type,spacing:v}),"getIcon");return S.displayName="getIcon",t.a.createElement("span",{className:Object(r.default)("p-inline_channel_section",E)},t.a.createElement("span",{className:"p-inline_channel_section__lockup"},S(),C),f)}m(h,"InlineChannelSection"),h.displayName="InlineChannelSection";var l=s.a=h},XcRx:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("xwCZ"),t=e("Awbm"),a=e("K7jq");function r(d,o){if(!o)return"member";const i=Object(n.g)(d,o);let h="member";return Object(a.a)(i)?h="external":Object(t.b)(i)&&!Object(t.c)(i)?h="ra":Object(t.c)(i)&&(h="ura"),h}m(r,"getMemberType")},Xfjg:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("7lBi"),t=e("SQ0V"),a=e("ED1u"),r=e("j77i");const d=Object(t.c)("Set the user-specified sidebar width and mode",(o,i,h)=>{let{sidebarWidthIntent:l,sidebarWidthMode:u}=h;Object(r.w)(n.y,l),Object(r.w)(n.z,u),o(Object(a.e)({sidebarWidthIntent:l,sidebarWidthMode:u}))});d.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},"Y3/F":function(K,s,e){"use strict";e.d(s,"c",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"d",function(){return r}),e.d(s,"b",function(){return d}),e.d(s,"f",function(){return o}),e.d(s,"e",function(){return i});var n=e("RVJP");const t=m(h=>{var l;return(l=Object(n.d)(h,"help_shareables_tm")==="on")!==null&&l!==void 0?l:!1},"isHelpShareablesTmExperimentOn"),a=m(h=>{var l;return(l=Object(n.d)(h,"help_articles_in_search")==="treatment")!==null&&l!==void 0?l:!1},"isHelpArticlesInSearchExperimentTreatment"),r=m(h=>{var l;return(l=Object(n.d)(h,"help_smarticles")==="on")!==null&&l!==void 0?l:!1},"isHelpSmarticlesExperimentOn"),d=m(h=>{var l;return(l=Object(n.d)(h,"help_navigation")==="on")!==null&&l!==void 0?l:!1},"isHelpNavigationExperimentOn"),o=m(h=>{var l;return(l=Object(n.d)(h,"help_tour")==="treatment")!==null&&l!==void 0?l:!1},"isHelpTourExperimentTreatment"),i=m(h=>{var l;return(l=Object(n.d)(h,"help_tips")==="on")!==null&&l!==void 0?l:!1},"isHelpTipsExperimentOn")},Y31Q:function(K,s,e){"use strict";e.d(s,"b",function(){return o});var n=e("nNoG"),t=e("Oy0v"),a=e("5KsB");const r=/_|-/g,d=new n.b("emoji"),o=m(function(i,h){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!i||!h)return null;const{name:u,skinTone:c}=Object(t.a)(i)||{};if(!u)return l?d.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:i,size:h}):`${h} ${i} emojis`;const E=u.replace(r," "),v=l?d.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:E,size:h}):`${h} ${E} emojis`;if(!c)return v;const g=Object(a.a)(c);return g===""?v:l?d.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}} with {skinToneDescription}",{emojiName:E,size:h,skinToneDescription:g}):`${h} ${E} emojis with ${g}`},"makePhraseForEmojiGroup");s.a=function(i){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!i)return i;const{name:l,skinTone:u}=Object(t.a)(i)||{};if(!l)return i;const c=l.replace(r," "),E=d.t("{emojiPhrase} emoji",{emojiPhrase:c});if(!u)return E===""?c:E;const v=Object(a.a)(u);return v===""?E===""?c:E:h?d.t("React with {emojiPhrase} emoji {skinToneDescription}",{emojiPhrase:c,skinToneDescription:v}):d.t("{emojiPhrase} emoji with {skinToneDescription}",{emojiPhrase:c,skinToneDescription:v})}},YKhI:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("oTSI"),t=e("Lgge"),a=e("uAML"),r=e("lhZz"),d=e("yuD6"),o=e("ZzdX");const i=Object(n.a)(()=>new a.b({fetch:(h,l)=>t.a.map(l,u=>(Object(r.dispatchForTeamId)(h,Object(d.b)({channelId:u})),Object(r.dispatchForTeamId)(h,Object(o.a)({channelId:u})))),isEnabled:()=>!0,metricsName:"pins"}))},YKpg:function(K,s,e){"use strict";e.d(s,"a",function(){return l});const n=/\bA[A-Z0-9]{8,}\b/g,t=/\bB[A-Z0-9]{8,}\b/g,a=/\b(C|G|D)[A-Z0-9]{8,}\b/g,r=/\bF[A-Z0-9]{8,}\b/g,d=/\b(U|W)[A-Z0-9]{8,}\b/g,o=/\b[\d]{10}\.[\d]{6}\b/g,i=/\bS[A-Z0-9]{8,}\b/g,h=/\bT[A-Z0-9]{8,}\b/g;function l(u){return String(u).replace(n,"[APP_ID]").replace(t,"[BOT_ID]").replace(a,"[CHANNEL_ID]").replace(r,"[FILE_ID]").replace(d,"[MEMBER_ID]").replace(o,"[MESSAGE_TS]").replace(i,"[USER_GROUP_ID]").replace(h,"[TEAM_ID]")}m(l,"normalizeError")},YLXe:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),d=e("j77i");const o=Object(t.c)("Set the user-specified sidebar width and mode",(i,h,l)=>{let{sidebarWidthIntent:u,sidebarWidthMode:c}=l;Object(d.w)(n.i,u),Object(d.w)(n.j,c),i(Object(a.e)({sidebarWidthIntent:u,sidebarWidthMode:c})),Object(r.dispatchForClientStore)(Object(a.e)({sidebarWidthIntent:u,sidebarWidthMode:c}))});o.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},YQ8e:function(K,s,e){K.exports=e.p+"slackbot_neutral_20-00a116e.png"},YWu2:function(K,s,e){K.exports=e.p+"slackbot_neutral_24-9a05991.png"},YjxU:function(K,s,e){"use strict";var n=e("n3tL"),t=e("q1tI"),a=e.n(t),r=e("ifKl"),d=e("1ufr"),o=e("2VFn"),i=e("VymY"),h=e("khnw"),l=e("kBpe");const u='<div aria-hidden="true" style="position:absolute" tabindex="1"></div>',c='<div aria-hidden="true" style="position:absolute" tabindex="0"></div>',E={},v={},g=m((P,y)=>{const j=P.createElement("div");j.innerHTML=u+c;const U=j.firstChild,W=j.lastChild,L=P.body;L.insertBefore(U,L.firstChild),L.appendChild(W),v[y].firstHiddenTabStop=U,v[y].lastHiddenTabStop=W},"createHiddenTabStops"),O=m((P,y)=>{const{firstHiddenTabStop:j,lastHiddenTabStop:U}=v[y];j&&P.body.removeChild(j),U&&P.body.removeChild(U)},"removeHiddenTabStops"),I=m(P=>{const y=Object(i.d)(P.getElementById("client-ui"));y&&y.focus()},"focusFirstInClient"),C=m(P=>{const y=Object(i.e)(P.getElementById("client-ui"));y&&y.focus()},"focusLastInClient"),f=m((P,y)=>{let{keyCode:j,type:U,shiftKey:W,ctrlKey:L,metaKey:R}=y;const A=v[P];j===h.q&&(L||Object(l.p)()&&R||(clearTimeout(A.keydownTimeoutId),A.relatedEvent={type:U,keyCode:j,shiftKey:W},A.keydownTimeoutId=setTimeout(()=>{A.relatedEvent=null},15)))},"onDocumentKeyDown"),S=m((P,y)=>{let{type:j}=y;const U=v[P];clearTimeout(U.mousedownTimeoutId),U.relatedEvent={type:j},U.mousedownTimeoutId=setTimeout(()=>{U.relatedEvent=null},15)},"onDocumentMouseDown"),D=m((P,y)=>{let{currentTarget:j,target:U,relatedTarget:W}=y;const L=v[P],R=L.relatedEvent,A=R&&R.type==="keydown"?R:null,B=L.firstHiddenTabStop,F=L.lastHiddenTabStop,k=U===B,V=U===F;if(U!==j){if(k&&A){if(A.shiftKey){U.blur();return}if(!W){I(j);return}}if(V&&A){A.shiftKey?C(j):U.blur();return}if(!W&&!A&&(k||V)){if(L.relatedEvent={type:"keydown",shiftKey:!1,keyCode:9},k){I(j),L.relatedEvent=null;return}V&&(C(j),L.relatedEvent=null)}}},"onDocumentFocus"),p=m((P,y)=>{let{currentTarget:j,relatedTarget:U}=y;const W=v[P];W.blurTimeoutId&&(clearTimeout(W.blurTimeoutId),W.blurTimeoutId=null);const{shiftKey:L,type:R,keyCode:A}=W.relatedEvent||{};!U&&R==="keydown"&&(W.blurTimeoutId=setTimeout(()=>{if(j.activeElement!==j.body)return;W.relatedEvent={type:R,shiftKey:L,keyCode:A},(L?C:I)(j),W.relatedEvent=null},150))},"onDocumentBlur"),b=m((P,y)=>y.bind(null,P),"withWindowId"),M=m(P=>({firstHiddenTabStop:null,lastHiddenTabStop:null,onDocumentBlur:b(P,p),onDocumentFocus:b(P,D),onDocumentKeyDown:b(P,f),onDocumentMouseDown:b(P,S),relatedEvent:null,blurTimeoutId:null,keydownTimeoutId:null,mousedownTimeoutId:null}),"initRefs");let _=m(class extends t.PureComponent{componentDidMount(){const y=a.a.Children.only(this.props.children);typeof y.type=="function"&&this.checkChildIsValid(y);const{window:j,windowId:U}=this.props,W=j.document;if(!E[U]){E[U]=0,v[U]=M(U);const L=v[U];Object(l.i)()?W.addEventListener("blur",L.onDocumentBlur,!0):(g(W,U),W.addEventListener("focus",L.onDocumentFocus,!0)),W.addEventListener("keydown",L.onDocumentKeyDown,!0),W.addEventListener("mousedown",L.onDocumentMouseDown,!0)}E[U]+=1}componentWillUnmount(){const{window:y,windowId:j}=this.props,U=y.document;if(E[j]-=1,E[j]===0){const W=v[j];Object(l.i)()?U.removeEventListener("blur",W.onDocumentBlur,!0):(O(U,j),U.removeEventListener("focus",W.onDocumentFocus,!0)),U.removeEventListener("keydown",W.onDocumentKeyDown,!0),U.removeEventListener("mousedown",W.onDocumentMouseDown,!0),clearTimeout(W.blurTimeoutId),clearTimeout(W.keydownTimeoutId),clearTimeout(W.mousedownTimeoutId),delete E[j],delete v[j]}}onBlur(y){const{currentTarget:j,target:U,relatedTarget:W}=y,L={relatedTarget:W,currentTarget:j,target:U};j.contains(W)||this.props.onFocusLeave(L)}onFocus(y){const{currentTarget:j,target:U,relatedTarget:W}=y,{relatedEvent:L}=v[this.props.windowId];if(!j.contains(U))return;(j.contains(W)?this.props.onFocusWithin:this.props.onFocusEnter)({relatedTarget:W,currentTarget:j,target:U,relatedEvent:L})}checkChildIsValid(y){const{onFocus:j,onBlur:U}=y.props;if(!(j&&U))throw new Error("FocusManager requires a single child with onFocus and onBlur props.")}render(){const y=this.props.children;return a.a.cloneElement(y,{onFocus:this.onFocus,onBlur:this.onBlur},y.props.children)}constructor(y){super(y),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}},"FocusManager");_.displayName="FocusManager",_.propTypes={children:n.default.node,onFocusEnter:n.default.func,onFocusWithin:n.default.func,onFocusLeave:n.default.func,window:n.default.object,windowId:n.default.oneOfType([n.default.string,n.default.symbol])},_.defaultProps={children:null,onFocusEnter:r.a,onFocusWithin:r.a,onFocusLeave:r.a,window,windowId:o.c},s.a=Object(d.a)(_)},YsXF:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),r=e("hbEN"),d=e("WIr4"),o=e("1ufr"),i=e("HP72"),h=e("QYtq"),l=e("2K8U"),u=e("FRd1"),c=e("ktUG");function E(){return E=Object.assign||function(D){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var M in b)Object.prototype.hasOwnProperty.call(b,M)&&(D[M]=b[M])}return D},E.apply(this,arguments)}m(E,"_extends");const v={onClose:{action:c.UiAction.CLOSE},onOpen:{action:c.UiAction.OPEN}},g=50,O=50,I=12,C=4,f=32;let S=m(class extends n.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}isMouseEvent(p){return(p==null?void 0:p.type)==="click"}didClickInput(p){const{inputRef:b}=this.props;if(!(b!=null&&b.current)||!this.isMouseEvent(p))return;const M=p.clientX,_=p.clientY,P=b.current.getBoundingClientRect();return M>P.left&&M<P.right&&_>P.top&&_<P.bottom}onClose(p){var b;const{selectState:M,inputRef:_,onOptionsListClose:P,setSelectState:y}=this.props;if(M.isExpanded){if(p instanceof KeyboardEvent){var j;(j=this.optionsListRef.current)===null||j===void 0||j.close(p)}_==null||(b=_.current)===null||b===void 0||b.focus(),P==null||P(this.didClickInput(p)),y(()=>({isExpanded:!1,activeRowIndex:null,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:p,inputContainerRef:b=null}=this.props,M=b||p;return M&&M.current?M.current.getBoundingClientRect():null}getPopoverPosition(p){let{top:b,bottom:M}=p;var _;const P=b,y=(((_=this.props.window)===null||_===void 0?void 0:_.innerHeight)||0)-M,{selectState:j,maxListHeight:U=l.e}=this.props,{options:W}=j;let L=0;const R=m(B=>B.map(F=>this.getRowHeight(F)).reduce((F,k)=>F+k,0),"calculateRowHeight");if(W){const B=[];W.forEach(F=>{if(F.options){B.push(F.label),F.options.forEach(k=>B.push(k));return}B.push(F)}),L=R(B)}const A=Math.min(L,U);return y<A&&y<P?"top-left":"bottom-left"}getRowHeight(p){const{optionsRowHeight:b=l.a}=this.props;return p.type&&p.type==="divider"?l.b:b}maybeInstallListener(){var p,b;if(this.listenerInstalled)return;(p=this.props.window)===null||p===void 0||p.addEventListener("resize",this.onResize),(b=this.props.window)===null||b===void 0||b.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:M=null}=this.props;if(M){var _;(_=this.props.window)===null||_===void 0||_.addEventListener(M,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:p=null}=this.props;if(this.listenerInstalled){var b,M;if(this.onResize.cancel(),this.onScroll.cancel(),(b=this.props.window)===null||b===void 0||b.removeEventListener("resize",this.onResize),(M=this.props.window)===null||M===void 0||M.removeEventListener("scroll",this.onScroll),p){var _;(_=this.props.window)===null||_===void 0||_.removeEventListener(p,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var p,b;const{popoverProps:M={},selectState:_,minOptionsListWidth:P=null,onOpen:y=a.a,onScrollablePage:j=!1,autoClogProps:U=void 0,maxListHeight:W=l.e,shouldAllowUnselectInSingleSelectMode:L,shouldAllowUnselectInMultiSelectMode:R,stayExpandedAfterSelection:A}=this.props,{selectId:B}=_,F=this.state.optionsListBounds||{width:0,bottom:0,left:0},k=this.getPopoverPosition({top:F.top,bottom:F.bottom}),V=k==="top-left",X=((p=this.props.window)===null||p===void 0?void 0:p.innerWidth)||0;let J=F.width;P&&F.width<P&&(J=P);const Y=F.left-I+J;let ie=0;P&&Y>X&&(ie=P-F.width);const pe=(V?F.top:(((b=this.props.window)===null||b===void 0?void 0:b.innerHeight)||0)-F.bottom)-f,oe=Math.min(pe,W),me={...this.props,autoClogProps:U,width:J+I*2,maxListHeight:oe,shouldAllowUnselectInSingleSelectMode:L,shouldAllowUnselectInMultiSelectMode:R,stayExpandedAfterSelection:A},{pageYOffset:re}=this.props.window||{},ve={top:F.top+re+C,bottom:F.bottom+re-C,left:F.left-(I+ie),width:J};let q;if(j){var ce;q={height:(ce=this.props.window)===null||ce===void 0?void 0:ce.document.body.scrollHeight}}return t.a.createElement(u.a,E({elementType:c.ElementType.DROPDOWN,actionProps:v},U?{autoClogProps:U}:{}),t.a.createElement(h.a,E({position:k,allowanceX:-I,ref:this.popover},M,{onClose:this.onClose,isOpen:!!_.isExpanded,key:`${B}-popover`,shouldFocusAfterRender:!1,targetBounds:ve,ariaHideApp:!1,onOpen:y},typeof q<"u"?{overlayStyle:q}:{},{shouldPropagateOnClose:!0}),t.a.createElement(i.b,E({},me,{ref:this.optionsListRef}))))}constructor(p){super(p),this.popover=t.a.createRef(),this.optionsListRef=t.a.createRef(),this.state={optionsListBounds:null},Object(d.a)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=Object(r.a)(this.measureOptionsListAndSetState,g,{maxWait:g}),this.onScroll=Object(r.a)(this.measureOptionsListAndSetState,O,{maxWait:O}),this.listenerInstalled=null}},"SelectPopoverOptionsList");S.displayName="SelectPopoverOptionsList",S.defaultProps={includePadding:!0,window},s.a=Object(o.a)(S)},Yzsk:function(K,s,e){"use strict";e.d(s,"d",function(){return p}),e.d(s,"c",function(){return b}),e.d(s,"e",function(){return M}),e.d(s,"b",function(){return _}),e.d(s,"a",function(){return P});var n=e("8QLk"),t=e("hbEN"),a=e("yIs4"),r=e("vJtL"),d=e("oTSI"),o=e("OCqp"),i=e("s4P+");const h=1e3,l=500,u=3*1e3,c=250,E=1,v=5,g=100,O=20,I=5e3,C=5,f=Object(i.a)({label:"HUDDLE-RTM-SCHEDULER"});let S=m(class{reportMetrics(U){const{cpuCompetitionScore:W}=U;if(!W)return;const L=g-W;if(L<O)this.decreaseDelay();else{const R=Object(n.a)(Math.floor(L/O),E,v);this.increaseDelayWithMultiplier(R)}}constructor(){var U=this;this.currentDelay=h,this.taskQueueLength=0,this.resetSchedulerState=()=>{this.currentDelay=h,this.currentQueueDrainFn=void 0,this.taskQueueLength=0},this.increaseDelayWithMultiplier=function(){const L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)*c,R=U.currentDelay+L;U.setNextDelay(R)},this.decreaseDelay=()=>{if(this.currentDelay===l)return;const W=this.currentDelay-c;this.setNextDelay(W)},this.setNextDelay=Object(t.a)(W=>{if(!Object(a.a)(W))return;const L=this.currentDelay;this.currentDelay=Object(n.a)(W,l,u),L!==this.currentDelay&&f.debug(`Updated current RTM processing delay to ${this.currentDelay}`)},I,{leading:!0,maxWait:I}),this.scheduleQueueDrain=W=>{if(!Object(r.a)(W))return;if(this.taskQueueLength>C){f.info("too many RTM tasks enqueued, executing queue drain immediately"),W(),this.taskQueueLength=0;return}f.debug(`scheduling RTM queue drain with delay of ${this.currentDelay}`);const L=Date.now();return this.taskQueueLength+=1,this.currentQueueDrainFn=W,Object(o.a)("huddle-rtm",W,{delay:this.currentDelay}).then(()=>{f.debug(`successfully executed rtm queue drain after ${Date.now()-L}ms`)}).catch(R=>{Object(r.a)(this.currentQueueDrainFn)?this.currentQueueDrainFn():(f.error("queue drain function not defined. Attempting queue drain function in scope"),Object(r.a)(W)&&W()),f.warn(`an error occurred while processing rtm queue drain: ${R.toString()}`)}).finally(()=>{this.taskQueueLength-=1})},this.onHuddleEnd=()=>{var W,L;(L=(W=this).currentQueueDrainFn)===null||L===void 0||L.call(W),f.info("Huddle ended. Drained queue and returned scheduling control to base RTM processor"),this.resetSchedulerState()},this.getCurrentDelay=()=>this.currentDelay,this.getTaskQueueLength=()=>this.taskQueueLength,f.info(`Initialized Huddle RTM scheduler with initial delay of ${this.currentDelay}`)}},"HuddleRtmScheduler");const D=Object(d.a)(()=>new S),p=m((j,U)=>{(U||D()).reportMetrics(j)},"reportMetricsToRtmScheduler"),b=m(j=>{(j||D()).onHuddleEnd()},"reportHuddleEndToRtmScheduler"),M=m((j,U)=>{(U||D()).scheduleQueueDrain(j)},"scheduleHuddleRtmQueueDrain"),_=m(j=>(j||D()).getTaskQueueLength(),"getCurrentRtmTaskQueueLength"),P=m(j=>(j||D()).getCurrentDelay(),"getCurrentRtmSchedulerDelay"),y=D},Z01D:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("SQ0V"),t=e("WXkz"),a=e("OaiI"),r=e("q1tI"),d=e.n(r);const o=Object(n.c)("Temporary store refactor thunk to get lists",(i,h)=>{const l=h();if(Object(a.isListsStoreRefactorEnabled)(l))return Object(t.s)(l);const c=Object(t.t)(l);return Object(r.useMemo)(()=>Object.values(c),[c])});o.meta={name:"createThunk",key:"createThunktempGetLists",description:"Temporary store refactor thunk to get lists"}},Z242:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("UXvI");const d=m(o=>{let{store:i,children:h}=o;const l=Object(n.useRef)({...i,subscribe:u=>i.subscribeImmediate(Object(r.a)(u,16))});return t.a.createElement(a.Provider,{store:l.current}," ",h," ")},"BackgroundableProvider");d.displayName="BackgroundableProvider",s.a=d},Z3RE:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),r=e("nNoG"),d=e("G4FP"),o=e("ZIxB"),i=e("E97Y"),h=e("y6S6"),l=e("x5lL"),u=e("Zbwg"),c=e("eUIW");const E=new r.b("huddles");var v;(function(P){P.CHANNEL="channel",P.MEMBER="member"})(v||(v={}));function g(P){let{id:y,entity:j,channel:U,huddleId:W}=P,L;Object(u.a)(y)?L=v.CHANNEL:Object(c.a)(y)&&(L=v.MEMBER);const R=Object(a.c)(J=>U&&Object(h.c)(J,U.id,y)),A=R&&R.isKnown&&(R==null?void 0:R.isMember),B=U&&Object(i.h)(U),F=Object(a.c)(J=>Object(l.o)(J,W,y)),k=!!F&&F==="joining_soon";let V=null;if(F?V=k?E.t("Joining soon"):E.t("Invited"):U&&B&&!A?V=E.t("Not in conversation"):U&&!B&&!A&&(V=E.t("Not in channel")),!L)return null;let X;return L===v.CHANNEL?X=t.a.createElement(d.a,{channelId:y,channel:j}):L===v.MEMBER&&(X=t.a.createElement(o.a,{id:y,member:j,showPresence:!0,secondaryContent:V})),t.a.createElement("div",{className:"display_flex"},X)}m(g,"HuddleInviteMultiSelectRenderOption"),g.displayName="HuddleInviteMultiSelectRenderOption";var O=Object(n.memo)(g),I=e("tZQI"),C=e("1HOW"),f=e("DneB"),S=e("+CZ0"),D=e("i5Ig");function p(){return p=Object.assign||function(P){for(var y=1;y<arguments.length;y++){var j=arguments[y];for(var U in j)Object.prototype.hasOwnProperty.call(j,U)&&(P[U]=j[U])}return P},p.apply(this,arguments)}m(p,"_extends");const b=new r.b("huddles"),M=m(P=>{let{isFreeTeam:y,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:j,channel:U,otherMembersInHuddle:W,onSelectedMembersChange:L,onSelectedChannelChange:R,selectedMemberIds:A=D.a,selectedChannel:B}=P;const F=Object(f.b)(S.a),k=Object(n.useMemo)(()=>R&&!U&&!y&&!(A!=null&&A.length),[U,y,R,A]),V=Object(n.useMemo)(()=>B!=null&&B.id&&B.isCurrentSuggestedChannel?!0:!(B!=null&&B.id),[B]),X=Object(n.useMemo)(()=>({entities:{...k&&{channels:{canPost:!0,includeArchived:!1}},...V&&{members:{includeSelf:!1,includeSlackbot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:U},allowEmptyQuery:!0,filter:me=>!W.includes(me.id)}),[k,V,U,W]),J=Object(n.useCallback)(me=>{R&&Object(u.a)(me.value)?R(me.value):L([me.value])},[R,L]),Y=Object(n.useCallback)(me=>{const re=[];let ve;me.forEach(q=>{Object(u.a)(q.value)?(!ve||q.value!==(B==null?void 0:B.id))&&(ve=q.value):re.push(q.value)}),R==null||R(ve),L(re)},[R,L,B]),ie=Object(n.useCallback)(me=>{let{value:re,entity:ve}=me;return t.a.createElement(O,{channel:U,id:re,entity:ve,huddleId:F})},[U,F]),de=Object(n.useCallback)(me=>{let{value:re}=me;return Object(u.a)(re)?t.a.createElement(d.a,{channelId:re}):t.a.createElement(o.a,{id:re,showAvatar:!0})},[]),pe=Object(n.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:X,renderOption:ie,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:y,focusOnMount:!0}),[X,ie,y]),oe=Object(n.useMemo)(()=>{const me=A.map(re=>({value:re}));return B!=null&&B.id&&me.push({value:B.id}),me},[B,A]);return y&&j?t.a.createElement(C.e,p({},pe,{onOptionSelected:J,placeholderText:b.t("Find someone to invite\u2026"),renderSelectedOption:de,selectedOption:oe[0]})):t.a.createElement(I.e,p({},pe,{onSelectedItemsChange:Y,selectedOptions:oe,placeholderText:b.t("Search by name")}))},"HuddleInviteModalSelect");M.displayName="HuddleInviteModalSelect";var _=s.a=M},ZE32:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("YUBf");const d=m(o=>{let{children:i,className:h}=o;return t.a.createElement(r.g,{className:"p-upgrades_modal__footer"},t.a.createElement(r.h,{className:Object(a.default)("p-upgrades_modal__footer_actions",h)},i))},"ModalFooter");s.a=d},ZElP:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("8aX7");function r(d){let{slackId:o,displayName:i}=d;return!o&&!i?null:o?t.a.createElement(a.a,{isBold:!1,id:o}):t.a.createElement("span",null,i)}m(r,"HuddleMsgTextUser"),r.displayName="HuddleMsgTextUser",s.a=r},ZIxB:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("4HNC"),d=e("sGXp"),o=e("M2+7");function i(){return i=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(l[E]=c[E])}return l},i.apply(this,arguments)}m(i,"_extends");let h=m(class extends n.Component{render(){const{className:u,id:c,isActive:E=!1,isDeactivated:v=!1,isDisabled:g=!1,isDraftContext:O,showAvatar:I,showBadge:C,showPresence:f,showStatus:S,showTooltip:D,withTruncationTooltip:p,showUnreadCount:b,useShortMode:M,secondaryContent:_,onlyBoldIfUnread:P=!1,forceRealName:y}=this.props;let j;return E?g||v?j=d.d.highlightDim:j=d.d.highlightDark:(g||v)&&(j=d.d.dim),t.a.createElement(r.a,{className:Object(a.default)(u,"c-small_member_list_entity"),primaryContent:t.a.createElement(o.b,i({id:c,invert:j===d.d.highlightDark,isDeactivated:v,truncateStatus:!!_,showAvatar:I,showPresence:f,showBadge:C,useShortMode:M,showStatus:S,showTooltip:D,withTruncationTooltip:p,showUnreadCount:b,isDraftContext:O,onlyBoldIfUnread:P,forceRealName:y},this.props)),secondaryContent:_,size:"small",style:j})}},"SmallMemberListEntity");h.displayName="SmallMemberListEntity",s.a=h},ZMRP:function(K,s,e){"use strict";e.d(s,"a",function(){return M});var n=e("q1tI"),t=e.n(n),a=e("3Hq1"),r=e("qAkX"),d=e("ifKl"),o=e("kBpe"),i=e("khnw"),h=e("WIr4"),l=e("RMmo"),u=e("YjxU"),c=e("zrD9"),E=e("MO4o");const v=["radio","searchbox","slider","spinbutton","switch","textbox","combobox","listbox","option"],g=["button","submit","reset"];function O(P){if(!P)return!1;const y=P.nodeName;if((y==="BUTTON"||y==="INPUT"&&g.includes(P.getAttribute("type")||""))&&P.matches('[role="toolbar"] button, [role="toolbar"] input'))return!0;const W=P.getAttribute("role");return W?v.includes(W):!1}m(O,"isInlineAriaWidget");var I=e("V0AD"),C=e("Nyj0"),f=e("TxvE"),S=e("tOKv"),D=e("1ufr");function p(){return p=Object.assign||function(P){for(var y=1;y<arguments.length;y++){var j=arguments[y];for(var U in j)Object.prototype.hasOwnProperty.call(j,U)&&(P[U]=j[U])}return P},p.apply(this,arguments)}m(p,"_extends");const b=21;class M extends C.a{componentDidMount(){super.componentDidMount(),this.determineInitialActiveItem(),this.props.disableKeyboardShortcuts||this.bindKeyboardShortcuts()}componentWillUnmount(){super.componentWillUnmount(),this.unbindKeyboardShortcuts()}componentDidUpdate(y,j){super.componentDidUpdate(y,j);const{activeItem:U,onActiveItemChange:W,disableKeyboardShortcuts:L}=this.props,{activeItem:R,hasKeyboardFocus:A,itemWithVisibleContextMenu:B}=this.state;L&&!y.disableKeyboardShortcuts&&this.unbindKeyboardShortcuts(),!L&&y.disableKeyboardShortcuts&&this.bindKeyboardShortcuts();const F=j.activeItem&&R&&R!==j.activeItem;!this.isScrolling()&&!A&&this.determineInitialActiveItem(j.initialActiveItem),U&&U!==y.activeItem&&(this.setActiveItem(U,!0),this.isItemInView(U)||this.scrollToKey(U)),F&&W(R),this.isScrolling()||this.updateFocusIfPreviouslyFocusedItemWasRemoved(y),!B&&j.itemWithVisibleContextMenu&&this.restoreFocusWhenContextMenuCloses&&(this.focus(),this.restoreFocusWhenContextMenuCloses=!1),this.focusOnNextUpdate&&(this.focus(),this.focusOnNextUpdate=!1)}bindKeyboardShortcuts(){if(this.keyCommands)return;const y=[{keys:["pageup"],handler:this.onKeyDownPageUp},{keys:["pagedown"],handler:this.onKeyDownPageDown},{keys:["home"],handler:this.onKeyDownHome,action:"keydown"},{keys:["end"],handler:this.onKeyDownEnd,action:"keydown"},{keys:["home"],handler:this.onKeyUpHome,action:"keyup"},{keys:["end"],handler:this.onKeyUpEnd,action:"keyup"},{keys:["up","down"],handler:this.onArrowKeyDown}],j=this.props.keyCommands?y.concat(this.props.keyCommands):y;var U;const W=(U=j==null?void 0:j.map(L=>{const R=L.filter;return{...L,filter:this.shouldIgnoreKeyboardShortcut.bind(this,R)}}))!==null&&U!==void 0?U:[];this.keyCommands=new l.a(this.props.window.document),this.keyCommands.bindAll(W)}unbindKeyboardShortcuts(){this.keyCommands&&(this.keyCommands.reset(),this.keyCommands=null)}determineInitialActiveItem(y){const{keys:j,initialActiveItem:U,keysToExcludeFromRovingTabIndex:W}=this.props,{initialActiveItem:L}=this.state;if(W&&W.length>0&&L&&W.includes(L)){y&&this.isItemInView(y)&&!W.includes(y)?this.setState(()=>({initialActiveItem:y})):this.setInitialActiveItemToFirstItemInView();return}const B=L!==null&&j.indexOf(L)!==-1,F=!(Object(a.a)(U)||U===null||j.indexOf(U)===-1||W.includes(U));if(!F&&!B){this.setInitialActiveItemToFirstItemInView();return}if(F&&B&&U===L){if(this.isItemInView(L))return;this.setInitialActiveItemToFirstItemInView();return}F&&!B&&this.setState(()=>({initialActiveItem:U}))}updateFocusIfPreviouslyFocusedItemWasRemoved(y){let{keys:j}=y;const{initialActiveItem:U,hasKeyboardFocus:W}=this.state,{keys:L,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:R}=this.props;if(this.props.activeItem||!W||!U)return;const A=j.indexOf(U);if(!(A!==-1&&!L.includes(U))||R&&!R())return;const F=L[A]||Object(r.a)(L);F&&this.focusOnKey(F)}getPageHeight(){const{pageHeight:y,height:j}=this.props;return y||j-b}getKeysForFocusableItems(){const{keys:y,isFocusableItem:j}=this.props;return y.filter((U,W)=>j({index:W,key:U}))}getListItemTabIndex(y){const{hasKeyboardFocus:j,initialActiveItem:U}=this.state,{keysToExcludeFromRovingTabIndex:W,preventTabKeyNavigationIntoList:L}=this.props;return W!=null&&W.includes(y)||!j&&L?-1:U===y?0:-1}onKeyDownPageUp(y){if(y.preventDefault(),this.props.onPageUp(y)===!1)return;const j=this.getScrollTop()-this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(j);return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}this.scrollToAndFocusFirstItemInView(j)}onKeyDownPageDown(y){if(y.preventDefault(),this.props.onPageDown(y)===!1)return;const j=this.getScrollTop()+this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(j);return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const U=this.getNextLastFocusableItemInView(j);this.setActiveItem(U??null,!0),this.scrollToOffset(j)}onKeyDownHome(y){if(this.isHomeKeyPressed||(this.isHomeKeyPressed=!0,y.preventDefault(),this.props.onHome(y)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(0,{absolute:!0});return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}const U=this.getKeysForFocusableItems()[0];this.setActiveItem(U,!0),this.scrollToKey(U)}onKeyDownEnd(y){if(this.isEndKeyPressed||(this.isEndKeyPressed=!0,y.preventDefault(),this.props.onEnd(y)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(1/0,{absolute:!0});return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const j=this.getKeysForFocusableItems(),U=j[j.length-1];this.setActiveItem(U,!0),this.scrollToKey(U)}onArrowKeyDown(y){if(y.defaultPrevented)return;if(this.state.hasKeyboardFocus){y.preventDefault(),this.focusNextItem(y.keyCode);return}const j=this.getScrollTop(),U=40;if(y.key==="ArrowUp"){this.scrollToOffset(j-U);return}this.scrollToOffset(j+U)}onKeyUpHome(){this.isHomeKeyPressed=!1}onKeyUpEnd(){this.isEndKeyPressed=!1}onItemFocusEnter(y){const{id:j,relatedEvent:U,currentTarget:W,target:L,hasKeyboardFocus:R}=y,{keys:A,isFocusableItem:B,onItemFocusEnter:F}=this.props,k=R;if(!this.haveActiveItem()&&L===W){this.setActiveItem(j),F(y);return}const X=!this.haveActiveItem()&&!U&&W.contains(L),J=B({index:A.indexOf(j),key:j})?j:this.state.initialActiveItem;X&&this.setState(()=>({hasKeyboardFocus:k,activeItem:null,initialActiveItem:J})),F(y)}onItemFocusWithin(y){const{id:j,currentTarget:U,target:W}=y,{onItemFocusWithin:L}=this.props;if(W===U){this.setActiveItem(j),L(y);return}const{keys:R,isFocusableItem:A}=this.props,B=A({index:R.indexOf(j),key:j})?j:this.state.initialActiveItem;this.setState(()=>({activeItem:null,initialActiveItem:B})),L(y)}onItemTabWithin(y){this.props.onItemTabWithin(y)}onFocusEnter(y){const{relatedEvent:j,target:U}=y;if(j&&j.type==="mousedown"||U&&(U instanceof HTMLMediaElement||U.dataset.mediaFocusContainer))return;const W=!j,R=j&&j.type==="keydown"||W;if(!R){this.props.onFocusEnter(y);return}this.props.onFocusEnter({isKeyboardFocus:R,...y})}onFocusLeave(y){const{onFocusLeave:j}=this.props,U=this.state.activeItem,W=this.haveActiveItem()?{activeItem:null,hasKeyboardFocus:!1,initialActiveItem:U,isInitialFocusInRange:!1}:{activeItem:null,hasKeyboardFocus:!1,isInitialFocusInRange:!1},L={activeItem:U,...y};this.setState(()=>W,()=>{j(L)})}onFocusedElementRemoved(){this.state.hasKeyboardFocus&&this.focus()}onItemContextMenu(y,j,U){let{hasKeyboardFocus:W}=U;const{onItemContextMenu:L}=this.props;if(L&&L(y,j,{hasKeyboardFocus:W}),!y.defaultPrevented)return;const R=this.getTargetBoundsForContextMenu(y);this.restoreFocusWhenContextMenuCloses=this.state.hasKeyboardFocus,this.setState(()=>({itemWithVisibleContextMenu:j,contextMenuTargetBounds:R}))}onItemMouseDown(y,j){this.setState(()=>({hasKeyboardFocus:!1,activeItem:null,initialActiveItem:j}))}focus(){const y=this.state.initialActiveItem;if(y&&this.isItemInView(y)){this.setActiveItem(y,!0);return}this.scrollToAndFocusFirstItemInView()||(this.focusOnNextUpdate=!0)}focusOnKey(y){let{offset:j=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{keys:U}=this.props;return y&&U.indexOf(y)!==-1?(this.setActiveItem(y,!0),this.isItemInView(y)||this.scrollToKey(y,{offset:j}),!0):!1}scrollToAndFocusFirstItemInView(y){const j=this.getNextFirstFocusableItemInView(y);return j?(this.setActiveItem(j,!0),this.scrollToKey(j),!0):!1}blur(){var y;const j=this.props.window.document.activeElement;!((y=this.getScrollerRef())===null||y===void 0)&&y.contains(j)&&j.blur()}getActiveItem(){return this.state.activeItem}getTargetBoundsForContextMenu(y){if(!this.state.hasKeyboardFocus)return Object(S.b)({left:y.pageX,top:y.pageY});const{left:j,top:U,width:W,height:L}=y.currentTarget.getBoundingClientRect();return Object(S.b)({left:j+W/2,top:U+L/2})}closeContextMenu(){this.setState(()=>({itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}))}shouldIgnoreKeyboardShortcut(y,j){var U;const{ignoreKeyCommandsOnInputs:W,useGlobalKeyboardShortcuts:L}=this.props,R=j.target,A=(U=this.getScrollerRef())===null||U===void 0?void 0:U.contains(R);return L&&!A&&R!==this.props.window.document.body||!L&&!A?!0:R.matches(".c-virtual_list__item")?!1:!!(W&&(Object(E.a)(R)||O(R))||y&&y(j))}setActiveItem(y){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.setState(()=>({hasKeyboardFocus:!0,activeItem:y,initialActiveItem:y,isInitialFocusInRange:j}))}haveActiveItem(){return this.state.activeItem!==null}getUniqueItemId(y){const{id:j}=this.props;return j?`${j}_${y}`:y}focusFirstItemInView(){const y=this.getFocusableItemsInView()[0];this.state.activeItem!==y&&this.setActiveItem(y,!0)}focusLastItemInView(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const j=this.getFocusableItemsInView(void 0,y),U=j[j.length-1];this.state.activeItem!==U&&this.setActiveItem(U,!0)}focusNextItem(y){const j=this.getNextActiveItem(y,this.state.activeItem);j&&(this.setActiveItem(j,!1),this.isItemInView(j,this.layout.anchorOffset)||this.scrollToKey(j))}getFocusableItemsInView(y,j){const{keys:U,isFocusableItem:W}=this.props,{start:L,end:R}=this.getVisibleRange(y,j);return(L===R?U.slice(L,L+1):U.slice(L,R)).filter(B=>W({index:U.indexOf(B),key:B}))}getNextFirstFocusableItemInView(y){const j=this.state.activeItem,U=this.getFocusableItemsInView(y)[0];return U&&U===j||!U&&j?this.getNextActiveItem(i.r,j):U}getNextLastFocusableItemInView(y){const j=this.state.activeItem,U=this.getFocusableItemsInView(y),W=U[U.length-1];return W&&W===j||!W&&j?this.getNextActiveItem(i.c,j):W}getInitialActiveItem(){return this.state.initialActiveItem}getNextActiveItem(y,j){const U=this.state.initialActiveItem;if(!this.haveActiveItem())return U&&!this.isItemInView(U)?this.getNextFirstFocusableItemInView():U||this.getNextFirstFocusableItemInView();const W=j,L=this.props.keys.indexOf(W),R=y===i.r?L-1:L+1,A=this.props.keys[R];return A&&!this.props.isFocusableItem({index:R,key:A})?this.getNextActiveItem(y,A):A}getTabIndex(){return!this.shouldUseARIAApplicationRole()&&Object(o.x)()?-1:void 0}setInitialActiveItemToFirstItemInView(){const{keysToExcludeFromRovingTabIndex:y}=this.props,j=this.getFocusableItemsInView().find(U=>!y.includes(U));j&&this.setState(()=>({initialActiveItem:j}))}shouldUseARIAApplicationRole(){const{useARIAApplicationForListViews:y}=this.context;return!Object(o.x)()||!this.props.useApplicationRole?!1:!!y}renderContextMenu(){const{itemWithVisibleContextMenu:y,contextMenuTargetBounds:j}=this.state;if(!y||!j)return null;const U={targetBounds:j,onCloseRequested:this.closeContextMenu};return this.props.renderContextMenuForItem(y,U)}renderItem(y,j){const{activeItem:U,initialActiveItem:W,hasKeyboardFocus:L}=this.state,R=this.getTop(y),A=this.layout.getHeight(y),B=U===y,F=U===null&&L&&W===y,k=this.isItemInView(y),V=this.layout.getHeightValidity(y),X=L&&!this.isScrolling()?this.getNextFirstFocusableItemInView():void 0,{rowRenderer:J,getPropsForItem:Y,onItemClick:ie,onItemKeyDown:de,onItemFocusLeave:pe,shouldHorizontallyScroll:oe,useStaticHeightForListItems:me,width:re,keysToExcludeFromRovingTabIndex:ve}=this.props,q=this.getUniqueItemId(y),ce=B&&this.state.isInitialFocusInRange,he=this.state.itemWithVisibleContextMenu===y,Se=!ve.includes(y),se=W===y,H=Y({key:y,index:j,isInitialFocusInRange:ce,hasFocus:B,activeItem:U,initialActiveItem:W,firstItemInView:X})||{};return t.a.createElement(f.a,p({tabIndex:this.getListItemTabIndex(y)},H,{supportRovingTabIndex:Se,id:q,itemKey:y,key:y,height:A,validity:V,top:R,hasFocus:B,hasFocusWithin:F,contextMenuVisible:he,onFocusEnter:this.onItemFocusEnter,onFocusWithin:this.onItemFocusWithin,onFocusLeave:pe,onTabWithin:this.onItemTabWithin,onHeightChange:this.setHeight,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,onClick:ie,onKeyDown:de,shouldHorizontallyScroll:oe,useStaticHeight:me,isInitialActiveItem:se,"aria-setsize":"-1"}),J(j,{key:y,hasFocus:B,hasFocusWithin:F,itemId:q,listWidth:re,isInView:k,isExpanded:H["aria-expanded"],hasContextMenu:he}))}render(){const y=this.shouldUseARIAApplicationRole()?"application":"presentation";return t.a.createElement(t.a.Fragment,null,t.a.createElement(u.a,{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},t.a.createElement(c.a,{onFocus:d.a,onBlur:d.a,onFocusedElementRemoved:this.onFocusedElementRemoved},t.a.createElement("div",{role:y,id:this.props.id},super.render()))),this.renderContextMenu())}constructor(y){super(y),Object(h.a)(this,["onFocusEnter","onFocusLeave","onFocusedElementRemoved","onItemMouseDown","onItemFocusEnter","onItemFocusWithin","onItemTabWithin","onItemContextMenu","closeContextMenu","focus","onKeyDownPageUp","onKeyDownPageDown","onKeyDownHome","onKeyDownEnd","onKeyUpHome","onKeyUpEnd","onArrowKeyDown"]),this.state={...this.state,initialActiveItem:null,activeItem:null,hasKeyboardFocus:!1,isInitialFocusInRange:!1,itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}}}m(M,"keyboard_navigable_list_BaseKeyboardNavigableList"),M.displayName="BaseKeyboardNavigableList",M.contextType=I.a,M.defaultProps={...C.a.defaultProps,activeItem:void 0,initialActiveItem:void 0,isFocusableItem:()=>!0,onFocusEnter:d.a,onFocusLeave:d.a,onPageUp:d.a,onPageDown:d.a,onHome:d.a,onEnd:d.a,onItemClick:d.a,onItemKeyDown:d.a,onItemTabWithin:d.a,onItemFocusEnter:d.a,onItemFocusWithin:d.a,onItemFocusLeave:d.a,onItemContextMenu:d.a,onActiveItemChange:d.a,keyCommands:void 0,pageHeight:void 0,ignoreKeyCommandsOnInputs:!0,getPropsForItem:d.a,preventTabKeyNavigationIntoList:!1,renderContextMenuForItem:d.a,disableKeyboardShortcuts:!1,useGlobalKeyboardShortcuts:!1,keysToExcludeFromRovingTabIndex:[],useApplicationRole:!0,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:()=>!0};var _=s.b=Object(D.a)(M)},ZYJ2:function(K,s,e){"use strict";e.d(s,"f",function(){return re}),e.d(s,"c",function(){return ve}),e.d(s,"d",function(){return q}),e.d(s,"a",function(){return he}),e.d(s,"e",function(){return H}),e.d(s,"b",function(){return Oe});var n=e("oTSI"),t=e("ifKl"),a=e("lhZz"),r=e("uAML");function d($,z){return`${$}:${z}`}m(d,"serialize");function o($){const[z,be]=$.split(":");return{channelId:z,ts:be}}m(o,"deserialize");var i=e("Z7Ay"),h=e("aVws"),l=e("OZf9"),u=e("lCmp"),c=e("c8Bs"),E=e("F294"),v=e("qAkX"),g=e("n3tL"),O=e("Lgge"),I=e("SQ0V"),C=e("s4P+"),f=e("+l5E"),S=e("JQ3U"),D=e("rebY"),p=e("ccuj"),b=e("HYaO"),M=e("xcHN"),_=e("UIhb"),P=e("Zbwg"),y=e("ZAxE"),j=e("uXhx"),U=e("J/RB");const W="HISTORY-CFM";function L($,z){return m(function be(){let{channelId:Z,oldest:G,latest:ne,cursor:ge="",msgsInRange:ae=[],deletedInRange:fe=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Te={channelId:Z,oldest:G,latest:ne,cursor:ge,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return $(Object(y.b)(Te)).then(function(){let{msgs:ye=[],deleted:Ue=[],isLimited:Ne,hasMore:He,responseMetadata:ze={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae.push(...ye),fe.push(...Ue),He&&!Ne&&ze.next_cursor?be({channelId:Z,oldest:G,latest:ne,cursor:ze.next_cursor,msgsInRange:ae,deletedInRange:fe}):($(Object(U.a)({msgs:ae,channelId:Z,isLimited:Ne,latest:ne,oldest:G,deletedInRange:fe})),O.a.resolve())})},"fetchHistoryRangeHelper")(z)}m(L,"fetchHistoryRange");function R($,z){return m(function be(){let{channelId:Z,threadTs:G,oldest:ne,latest:ge,cursor:ae="",msgsInRange:fe=[],deletedInRange:Te=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ye={channelId:Z,threadTs:G,oldest:ne,latest:ge,cursor:ae,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return $(Object(y.e)(ye)).then(function(){let{msgs:Ue=[],deleted:Ne=[],hasMore:He,responseMetadata:ze={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(fe.push(...ae?Object(j.a)(Ue,{ts:G}):Ue),Te.push(...Ne),He&&ze.next_cursor)return be({channelId:Z,threadTs:G,oldest:ne,latest:ge,cursor:ze.next_cursor,msgsInRange:fe,deletedInRange:Te});const Xe=ne===G||ge===G?fe:Object(j.a)(fe,{ts:G});return $(Object(U.a)({msgs:Xe,channelId:Object(M.c)(Z,G),latest:ge,oldest:ne,deletedInRange:Te})),O.a.resolve()})},"fetchRepliesRangeHelper")(z)}m(R,"fetchRepliesRange");const A=Object(I.c)("Fetches a range of messages",($,z,be)=>{let{channelId:Z,oldest:G,latest:ne}=be;return Object(C.a)({getState:z,label:W}).info(`Re-fetching ${Z} ${G} - ${ne}`),Object(P.a)(Z)?L($,{channelId:Z,oldest:G,latest:ne}):R($,{...Object(M.a)(Z),oldest:G,latest:ne})});A.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var B=e("6CnZ");function F($){const z={};return $.forEach(be=>{const{channelId:Z,ts:G}=o(be);z[Z]=z[Z]||[],z[Z].push(G)}),z}m(F,"groupTimestampsByChannel");function k($){let z,be;return Object(l.a)($,(Z,G)=>{z===void 0&&(z=G),be===void 0&&(be=G),G<z&&(z=G),G>be&&(be=G)}),{minTs:z,maxTs:be}}m(k,"getMinAndMaxTs");function V(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object(u.a)(z,(be,Z)=>$[Z])}m(V,"hasIntersection");function X($,z){return Object(c.a)(z,(be,Z)=>$[Z])}m(X,"isSuperset");function J($){let{ranges:z={},tsMaps:be=[]}=$;const Z={...z};let G=be[0];return be.forEach(ne=>{G!==ne&&(V(G,ne)?X(G,ne)?delete Z[ne.rangeId]:X(ne,G)?(delete Z[G.rangeId],G=ne):Object(l.a)(ne,(ge,ae)=>delete G[ae]):G=ne)}),Object.values(Z)}m(J,"dedupe");function Y($,z){let be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const Z=Object(C.a)({state:$,label:W}),G={},ne=[];return be.sort().forEach(ge=>{const fe=Object(_.b)($,z,ge,!1);if(!fe){Z.warn(`No message for ${ge} in ${z}`);return}if(Object(f.bb)(fe)||Object(D.a)(fe))return;const Te=[];(!Object(b.a)(fe)||Object(f.vb)(fe)||Object(S.j)(fe))&&Te.push(z),(Object(f.vb)(fe)||Object(b.a)(fe))&&Te.push(Object(M.c)(z,Object(p.a)(fe))),Te.forEach(ye=>{if(!ye)return;const Ue=Object(B.j)($,ye,ge);if(!Ue||Ue===B.a)return;const{start:Ne,end:He,timestamps:ze}=Ue,Je=`${Ne}-${He}`;if(!G[Je]){const Me={};Object.defineProperty(Me,"rangeId",{enumerable:!1,value:Je}),G[Je]={id:ye,firstTs:Object(E.a)(ze),lastTs:Object(v.a)(ze),start:Ne,end:He,tsMap:Me},ne.push(Me)}const Xe=G[Je];Xe.tsMap[ge]=!0})}),{ranges:G,tsMaps:ne}}m(Y,"segment");function ie($,z){let be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(J(Y($,z,be))||[{}]).map(G=>{let{id:ne,firstTs:ge,lastTs:ae,start:fe,end:Te,tsMap:ye}=G;const{minTs:Ue,maxTs:Ne}=k(ye);return{id:ne,oldest:Ue===ge?fe:Ue,latest:Ne===ae?Te:Ne}})}m(ie,"rangify");const de=Object(I.c)("Fetches chunks of channel history for the given message IDs",($,z,be)=>{let{ids:Z}=be;const G=F(Z),ne={};return Object(l.a)(G,(ge,ae)=>{const fe=ie(z(),ae,ge);ne[ae]=O.a.map(fe,Te=>{let{oldest:ye,latest:Ue,id:Ne}=Te;return $(A({channelId:Ne,oldest:ye,latest:Ue}))})}),O.a.all(Object.values(ne))});de.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"},de.propTypes={ids:g.default.arrayOf(g.default.string)};var pe=de,oe=e("RVJP");const me=Object(n.a)(()=>new r.b({fetch:($,z)=>Object(a.dispatchForTeamId)($,pe({ids:z})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:$=>Object(oe.d)($,"channel_eventlog_fe_skip_message_events")!=="on"})),re=m(($,z,be)=>me().maybeRefetch(Object(h.b)($,"channelHistory"),d(z,be)),"maybeRefetch"),ve=m(($,z,be)=>me().markObjectsAsFresh(Object(h.b)($,"channelHistory"),be.map(Z=>d(z,Z))),"markObjectsAsFresh"),q=m(($,z,be)=>me().markObjectsAsStale(Object(h.b)($,"channelHistory"),be.map(Z=>d(z,Z))),"markObjectsAsStale"),ce=m(($,z,be)=>me().isObjectFresh(Object(h.b)($,"channelHistory"),d(z,be)),"isObjectFresh"),he=m($=>me().getFreshObjects(Object(h.b)($,"channelHistory")).map(o),"getFreshObjects");Object(i.b)("conditionalFetchManagerChannelHistory",me);const Se="reachedEnd",se=Object(n.a)(()=>new r.b({fetch:t.a,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),H=m($=>se().markObjectsAsFresh(Object(h.b)($,"channelHistory"),[Se]),"markReachedEndAsFresh"),Oe=m($=>se().isObjectFresh(Object(h.b)($,"channelHistory"),[Se]),"isReachedEndFresh")},ZbzB:function(K,s,e){"use strict";e.d(s,"a",function(){return i}),e.d(s,"b",function(){return h}),e.d(s,"f",function(){return l}),e.d(s,"e",function(){return u}),e.d(s,"d",function(){return c}),e.d(s,"c",function(){return E});var n=e("QOYf"),t=e("kBpe"),a=e("W29z"),r=e("RVJP"),d=e("JoR1"),o;const i=m(()=>{var v,g;return(o=(v=window.matchMedia)===null||v===void 0||(g=v.call(window,"not all and (prefers-contrast), (prefers-contrast)"))===null||g===void 0?void 0:g.matches)!==null&&o!==void 0?o:!1},"browserSupportsHighContrastColors"),h=m(()=>Object(n.a)()&&(Object(t.p)()||Object(t.y)())&&Object(t.j)("4.20.0"),"desktopSupportsHighContrastColors"),l=m((v,g)=>Object(r.d)(v,"a11y_message_replay")==="on"&&Object(a.h)(v,g)&&Object(a.d)(v,g),"shouldTriggerMessageReplay"),u=m(v=>Object(r.d)(v,"a11y_underline_button_link")==="on"&&!!Object(d.t)(v,"underline_links"),"shouldShowUnderlineButtonLink"),c=m(v=>Object(r.d)(v,"aria_message_sounds_and_announcements_expansion")==="on","isExpandingMessageSounds"),E=m(v=>Object(r.d)(v,"aria_message_announcements_expansion")==="on","isExpandingMessageAnnouncements")},Zgaw:function(K,s,e){"use strict";s.a=n=>n?n.replace(/\u00A0/g," ").replace(/\u000D/g,`
`).replace(/\u000A/g,`
`):""},ZrLl:function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"b",function(){return o});var n=e("rZ8V"),t=e("i5Ig"),a=e("PMNn"),r=e("E3dU");const d=m(i=>(i==null?void 0:i.name)||"","getActionName"),o=m((i,h,l)=>{const u=!l;let c=t.a;if(l){const E=Object(r.d)(i,l);c=E&&Object(a.b)(i,E)||t.a}return Object(n.m)(i)&&h.teams&&(c.length||u)&&!h.isWorkspaceAgnostic?u?h.teams:h.teams.filter(v=>c.includes(v)):t.a},"getActionRelatedWorkspaces")},ZvnG:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("4TP3");class t{get subscriberCount(){return this.subscribers.length}subscribe(r){this.subscribers.push(r)}unsubscribe(r){Object(n.a)(this.subscribers,r)}publish(r){this.subscribers.forEach(d=>{d(r)})}constructor(){this.subscribers=[]}}m(t,"PubSub")},ZzdX:function(K,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("s4P+"),t=e("9cNQ"),a=e("3zNH"),r=e("SQ0V"),d=e("O86Y"),o=e("xQ1x"),i=e("cQw7"),h=e("Jhy3"),l=e("8z+9"),u=e("yuD6"),c=e("+nBv"),E=e("YKhI"),v=e("C0ks");const g=Object(r.c)("Fetch pinned items list for channel",(O,I,C)=>{const f=C.channelId;return O(Object(u.d)({loadingState:l.b.LOADING,channelId:f})),O(Object(t.b)({reason:"fetchPinsList",...C})).then(function(){let{items:S}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const D=S.filter(M=>M.type.includes(l.a.FILE)).map(M=>{if(M.type===l.a.FILE_COMMENT){const{comment:_,file:P,...y}=M,j=Object(o.a)(_,P);return{...y,file:j}}return M}),p=S.filter(M=>M.type===l.a.MESSAGE);if(D.length){const M=D.filter(P=>P.type!==l.a.FILE_COMMENT),_=D.filter(P=>P.type===l.a.FILE_COMMENT);O(Object(a.a)({files:M.map(P=>P.file)})),O(Object(a.a)({files:_.map(P=>P.file)}))}if(p.length){const M=p.map(P=>{let{message:y}=P;return y}),_=O(Object(i.a)({imsgs:M,channelId:f}));O(Object(h.a)(_))}O(Object(c.a)({channelId:f,count:S.length})),O(Object(u.a)({items:S.map(v.a),channelId:f})),O(Object(u.d)({loadingState:l.b.LOADED,channelId:f}));const b=Object(d.g)(I());Object(E.a)().markObjectsAsFresh(b,[f])}).catch(S=>{throw O(Object(u.d)({loadingState:l.b.NOT_LOADED,channelId:f})),Object(n.a)({getState:I}).error(`Error in fetchPinsList: ${JSON.stringify(S)}`),S})});g.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},a1Y7:function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},a83l:function(K,s,e){"use strict";e.d(s,"q",function(){return r}),e.d(s,"x",function(){return o}),e.d(s,"f",function(){return i}),e.d(s,"i",function(){return h}),e.d(s,"d",function(){return u}),e.d(s,"e",function(){return c}),e.d(s,"m",function(){return v}),e.d(s,"l",function(){return g}),e.d(s,"y",function(){return O}),e.d(s,"w",function(){return I}),e.d(s,"n",function(){return C}),e.d(s,"j",function(){return f}),e.d(s,"k",function(){return S}),e.d(s,"g",function(){return D}),e.d(s,"a",function(){return p}),e.d(s,"b",function(){return b}),e.d(s,"r",function(){return M}),e.d(s,"s",function(){return _}),e.d(s,"t",function(){return P}),e.d(s,"o",function(){return y}),e.d(s,"I",function(){return j}),e.d(s,"C",function(){return U}),e.d(s,"D",function(){return W}),e.d(s,"F",function(){return L}),e.d(s,"E",function(){return R}),e.d(s,"p",function(){return A}),e.d(s,"A",function(){return B}),e.d(s,"B",function(){return F}),e.d(s,"G",function(){return k}),e.d(s,"H",function(){return V}),e.d(s,"h",function(){return X}),e.d(s,"u",function(){return J}),e.d(s,"z",function(){return Y}),e.d(s,"v",function(){return ie}),e.d(s,"c",function(){return de});var n=e("8/D0"),t=e("Op30"),a=e("VThA");const r="|",d=12,o=10,i=8,h=10,l=120,u=86,c=4,E=20+l,v=12+l,g=61,O=42,I=1,C="https://slack.enterprise.slack.com/docs/T024BE7LD/F04Q9F69RHS",f=86,S=6,D=44,p=150,b=64,M="300",_=4,P="bottom-left",y=125,j={allowEmptyQuery:!0,entities:{channels:!1,members:{includeSlackbot:!1,includeBots:!1,includeSelf:!0},userGroups:!1},sort:{frecency:!0,selfFirst:!0}},U={allowEmptyQuery:!0,entities:{channels:{includeArchived:!1,includeFromAnotherTeam:!0,includePrivate:!0},userGroups:!1},sort:{frecency:!0}},W=m(function(pe){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(oe)switch(pe.type){case n.a.Checkbox:case n.a.Completed:return[t.a.IsEmpty,t.a.IsNotEmpty];case n.a.Rating:case n.a.Select:return[t.a.Contains,t.a.DoesNotContain,t.a.IsEmpty,t.a.IsNotEmpty];case n.a.Number:case n.a.Date:return me?[t.a.Equal,t.a.NotEqual,t.a.IsEmpty,t.a.IsNotEmpty]:[t.a.Equal,t.a.NotEqual,t.a.IsEmpty,t.a.IsNotEmpty,t.a.GreaterThan,t.a.GreaterThanOrEqual,t.a.LessThan,t.a.LessThanOrEqual];case n.a.User:return[t.a.Contains,t.a.DoesNotContain,t.a.IsEmpty,t.a.IsNotEmpty,t.a.IsMe,t.a.IsNotMe];default:return[t.a.Equal,t.a.NotEqual,t.a.IsEmpty,t.a.IsNotEmpty]}switch(pe.type){case n.a.Text:case n.a.Email:case n.a.Phone:case n.a.Checkbox:case n.a.Completed:return[t.a.IsEmpty,t.a.IsNotEmpty];case n.a.Number:case n.a.Currency:case n.a.Date:case n.a.DueDate:case n.a.CreatedTime:case n.a.LastEditedTime:case n.a.Rating:return[t.a.Equal,t.a.GreaterThan,t.a.GreaterThanOrEqual,t.a.LessThan,t.a.LessThanOrEqual,t.a.NotEqual];case n.a.User:case n.a.Assignee:case n.a.CreatedBy:case n.a.LastEditedBy:return[t.a.Equal,t.a.NotEqual,t.a.IsEmpty,t.a.IsNotEmpty,t.a.IsMe,t.a.IsNotMe];case n.a.Select:case n.a.Channel:default:return[t.a.Equal,t.a.NotEqual,t.a.IsEmpty,t.a.IsNotEmpty]}},"getOperatorsFromColumn"),L=new Set([a.a.List]),R=new Set([n.a.Select,n.a.Rating,n.a.User,n.a.Channel,n.a.Checkbox]);var A;(function(pe){pe.DESKTOP="desktop",pe.WINDOW="window",pe.HUDDLES="huddles",pe.UNFURL="unfurl"})(A||(A={}));const B=new Set([n.a.Email,n.a.Phone,n.a.Attachment,n.a.Assignee]),F=new Set([n.a.Email,n.a.Phone]),k={completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,useWysiwyg:!1,maxLines:1,isSingleLine:!0,shouldCompleteOnTab:!1},V={completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,useWysiwyg:!0,maxLines:10,shouldCompleteOnTab:!1},X=new Set([n.a.Text,n.a.Email,n.a.Phone,n.a.Number,n.a.Currency,n.a.Select,n.a.Rating,n.a.Checkbox,n.a.Date,n.a.CreatedTime,n.a.LastEditedTime,n.a.User,n.a.Channel,n.a.CreatedBy,n.a.LastEditedBy]),J=new Set([n.a.Number,n.a.Select,n.a.Checkbox,n.a.Rating,n.a.Date,n.a.User,n.a.DueDate,n.a.Completed]),Y=new Set([n.a.Text,n.a.Email,n.a.Date,n.a.Select,n.a.Checkbox,n.a.Completed,n.a.Number,n.a.Rating,n.a.CreatedTime,n.a.LastEditedTime,n.a.Channel,n.a.User,n.a.Assignee,n.a.CreatedBy,n.a.LastEditedBy,n.a.DueDate,n.a.Vote]),ie=new Set([n.a.Text,n.a.Select,n.a.Number,n.a.Date,n.a.Vote,n.a.Rating,n.a.Checkbox]),de=new Set([...ie,n.a.User,n.a.Channel,n.a.CreatedTime,n.a.LastEditedTime])},aBhT:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("4man");const d=t.a.forwardRef((i,h)=>{let{children:l,lines:u,breakWords:c=!0,withTooltip:E,shouldForceTooltipVisible:v,customTooltipText:g,tooltipClassName:O}=i;const I={"--lines":u},C=t.a.createElement("span",{className:Object(a.default)("c-truncate",{"c-truncate--break_words":c}),style:I,ref:h},l);return E?t.a.createElement(r.a,{tip:g||l,zIndex:"above_fs",shouldForceVisible:v,tipClassName:O},C):C});d.displayName="Truncate";var o=s.a=d},aNqa:function(K,s,e){"use strict";var n=e("ZKjC"),t=e("9Gfp"),a=e("lhZz"),r=e("7xYR");const d=Object(n.b)((o,i)=>(Object(r.getAllWorkspaces)(o)||[]).some(l=>{const u=Object(a.getStoreInstanceByTeamId)(l);if(!u)return!1;const c=u.getState();return c?Object(t.i)(c,i):!1}));d.meta={name:"createSelector",key:"createSelectorisFeatureFlagEnabledForAnyTeam",description:(o,i)=>(Object(r.getAllWorkspaces)(o)||[]).some(l=>{const u=Object(a.getStoreInstanceByTeamId)(l);if(!u)return!1;const c=u.getState();return c?Object(t.i)(c,i):!1})},s.a=d},apAF:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("s4P+"),t=e("vfQU"),a=e("SQ0V"),r=e("PZKh"),d=e("WvYH");const o=Object(a.c)("Set the current theme for the device",function(i,h){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(r.b,l)}catch{Object(n.b)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}i(Object(d.a)(l)),Object(t.ec)({name:"userTheme",value:l})});o.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},aqbC:function(K,s,e){"use strict";e.d(s,"a",function(){return I});var n=e("6CnZ"),t=e("ZAxE"),a=e("UIhb"),r=e("y6S6"),d=e("9Gfp"),o=e("xwCZ"),i=e("C3vN"),h=e("Fn/R"),l=e("+l5E"),u=e("gukb"),c=e("ssje"),E=e("mVl8"),v=e("FUEd"),g=e("2Ci3");const O=23;function I(C,f,S){let D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max(Object(t.c)(),S),p=arguments.length>4?arguments[4]:void 0;if(!Object(n.b)(C,f))return[];const b=Object(n.h)(C,f);if(!b||!b.timestamps)return[];const M=Object(a.a)(C,f),_=b.timestamps.slice(-D),P=Object(d.a)(C);let y=[],j=[],U=!1;const W=[],L=[],R=[],A=[],B=[],F=[];let k=!1;for(let X=_.length-1;X>=0;X--){const J=M[_[X]],Y=Object(l.A)(J);if(!Y)continue;if(p&&Y===P){k=!0;continue}if(!(p?W.includes(Y)||R.includes(Y)||B.includes(Y):y.includes(Y))&&!Object(c.a)(J)&&Object(u.a)(J,P)){const de=Object(r.c)(C,f,Y),pe=Object(o.g)(C,Y);if(U||(U=!(de!=null&&de.isKnown)||Object(i.pb)(pe)),!U&&(de!=null&&de.isKnown)&&(de!=null&&de.isMember)&&!Object(h.a)(pe)&&!Object(i.V)(pe)){if(p){if(Object(v.c)(C,Y)==="active"?Object(g.e)(C,Y)?(R.push(Y),A.push(pe)):(W.push(Y),L.push(pe)):(B.push(Y),F.push(pe)),L.length===S||R.length+F.length===O-S)break}else if(y.push(Y),j.push(pe),j.length===S)break}}}if(U)return[];if(p&&(L.length===S?(j=L,y=W):(j=L.concat(A.slice(0,S-L.length)),y=W.concat(R.slice(0,S-B.length)),j.length<S&&(j=j.concat(F.slice(0,S-L.length)),y=y.concat(B.slice(0,S-B.length))))),j.length>=S)return j;const V=Object(E.a)(C,f);if(!V.length)return[];for(let X=0;X<V.length;X++){const J=V[X];if(J&&!y.includes(J)&&(p&&J===P?k=!0:(y.push(J),j.push(Object(o.g)(C,J)))),j.length===S)break}return j.length===0&&k&&(y.push(P),j.push(Object(o.g)(C,P))),j}m(I,"getLastNRelevantMembersInChannel")},arBb:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});const n=20,t={PREF:"saved_view",PAGE:"page",FLEXPANE:"flexpane"}},asny:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("v5L4");const a=Object(n.c)("Search SalesForce objects by query",(r,d,o)=>r(Object(t.a)({...o,reason:"sales-home"})).then(i=>{let{records:h}=i;return h?h.map(l=>({id:l.id,key:l.id,label:l.name,value:l.id,type:l.type,extras:l.additional_fields})):[]}).catch(()=>[]));a.meta={name:"createThunk",key:"createThunksearchObjects",description:"Search SalesForce objects by query"},s.a=a},aykK:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("E3dU"),t=e("g0EK"),a=e("6etV"),r=e("O0Iw");function d(o,i){const h=Object(n.B)(o,i)&&Object(n.d)(o,i)||void 0;return Object(r.e)(o,h)?!0:Object(t.a)(o,i)&&!Object(a.a)(o,h==null?void 0:h.id,{allowToAdmins:!0})}m(d,"canUserAtChannelInChannelById")},b28g:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("RwMM");const t=m(function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;if(!i)return o;const{label:h,options:l}=i,u=new n.b(r,{fuzzyLimit:3,...d});if(!l)isFinite(u.normalizeAndScore(h))&&o.push(i);else{const c=[];l.forEach(E=>{const{label:v}=E;isFinite(u.normalizeAndScore(v))&&c.push(E)}),c.length&&o.push({label:i.label,options:c})}return o},"findMatches");function a(r,d){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d?r.reduce((i,h)=>t(d,o,i,h),[]):r}m(a,"defaultFilter")},"b8K+":function(K,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"c",function(){return t}),e.d(s,"a",function(){return a});const n=20,t={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},a={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},bJNA:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("8NKP"),t;(function(r){r.UNKNOWN="unknown",r.TITLE="title",r.FILE="file",r.IMAGE="image",r.VIDEO_CLIP="video-clip",r.AUDIO_CLIP="audio-clip",r.DIVIDER="divider",r.TABLE="table",r.SHORTCUT="shortcut",r.MENU_SEPARATOR="menu-separator",r.PINS="pins",r.BOOKMARKS="bookmarks",r.USER_UNFURL="user-unfurl",r.CANVAS_UNFURL="canvas-unfurl",r.MESSAGE_UNFURL="message-unfurl",r.PUBLIC_LINK_UNFURL="public-link-unfurl",r.SHORTCUT_UNFURL="shortcut-unfurl",r.UNFURL="unfurl",r.CANVAS="canvas",r.GENERIC="generic",r.WORKFLOW="workflow",r.FILE_UPLOAD_BLOCKED_MESSAGE_BANNER="file-upload-blocked-message-banner",r.SMART_SUMMARY="smart-summary",r.USER="user",r.LIST="list",r.WIDGET="widget"})(t||(t={}));const a={...n.a,...t}},bNCI:function(K,s,e){"use strict";var n=e("NZ+B"),t=e("7lBi"),a=e("Kyco"),r=e("ED1u"),d=e("j77i");const o={persistenceEnabled:!1,storeKey:"workspaceLayout"},i={inspectorWidthIntent:null,inspectorWidthMode:t.e.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isTeamSidebarVisible:!0,sidebarWidthIntent:null,sidebarWidthMode:t.e.AUTO,userPrefersResponsiveSidebar:!0};try{i.sidebarWidthIntent=Object(d.f)(t.y)||null,i.inspectorWidthIntent=Object(d.f)(t.l)||null,i.sidebarWidthMode=Object(d.f)(t.z)||"auto",i.inspectorWidthMode=Object(d.f)(t.m)||"auto";const l=Object(d.f)(t.x);i.isSidebarVisible=Object(n.a)(l)?l:!0;const u=Object(d.f)(t.A);i.isTeamSidebarVisible=Object(n.a)(u)?u:!0;const c=Object(d.f)(t.E);i.userPrefersResponsiveSidebar=Object(n.a)(c)?c:!0}catch{}const h=Object(a.b)({},i,o).on(r.e,(l,u)=>{let{sidebarWidthIntent:c,sidebarWidthMode:E}=u;return{...l,sidebarWidthIntent:c,sidebarWidthMode:E}}).on(r.a,(l,u)=>{let{inspectorWidthIntent:c,inspectorWidthMode:E}=u;return{...l,inspectorWidthIntent:c,inspectorWidthMode:E}}).on(r.b,(l,u)=>({...l,isSidebarVisible:u})).on(r.c,(l,u)=>({...l,isSidebarVisibleWhenFloating:u})).on(r.d,(l,u)=>({...l,isTeamSidebarVisible:u})).on(r.f,(l,u)=>({...l,userPrefersResponsiveSidebar:u}));s.a=h},bTOH:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"c",function(){return t}),e.d(s,"b",function(){return a});const n={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},t="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",a={EMAIL:new RegExp(`^${t}$`,"i"),CONTAINS_EMAIL:new RegExp(`${t}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},bbt7:function(K,s,e){"use strict";e.d(s,"a",function(){return U}),e.d(s,"c",function(){return L}),e.d(s,"b",function(){return R});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ifKl"),d=e("mmwi"),o=e.n(d),i=e("Bi0V"),h=e.n(i),l=e("nWdO"),u=e("nNoG"),c=e("n3y5"),E=e("Efzj"),v=e("6R8Z"),g=e("NV6F"),O=e("SNS2"),I=e("D6Rr"),C=e("/qcS");const f={small:"small",medium:"medium",large:"large"},S={small:22,medium:26,large:32};var D=e("F0YV"),p=e("oEDn"),b=e("i9jZ"),M=e("37+L"),_;(function(A){A.BaseHeart="mask__base-heart",A.SmallHeart="mask__small-heart",A.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",A.BaseSingleChannelGuest="mask__base-single-channel-guest",A.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",A.SmallSingleChannelGuest="mask__small-single-channel-guest",A.BaseGuestDnd="mask__base-guest-dnd",A.BaseGuest="mask__base-guest",A.SmallGuestDnd="mask__small-guest-dnd",A.SmallGuest="mask__small-guest",A.BaseMemberDnd="mask__base-member-dnd",A.BaseMember="mask__base-member",A.SmallMemberDnd="mask__small-member-dnd",A.SmallMember="mask__small-member"})(_||(_={}));function P(A){let{size:B="base",userType:F="member",isDnd:k=!1}=A;return t.a.createElement("svg",{className:"sr-only"},F==="slackbot"&&(B==="base"?t.a.createElement("clipPath",{id:_.BaseHeart,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.a.createElement("clipPath",{id:_.SmallHeart,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),F==="ura"&&(B==="base"?k?t.a.createElement("clipPath",{id:_.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.a.createElement("clipPath",{id:_.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):k?t.a.createElement("clipPath",{id:_.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.a.createElement("clipPath",{id:_.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(F==="ra"||F==="external")&&(B==="base"?k?t.a.createElement("clipPath",{id:_.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.a.createElement("clipPath",{id:_.BaseGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):k?t.a.createElement("clipPath",{id:_.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.a.createElement("clipPath",{id:_.SmallGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),F==="member"&&(B==="base"?k?t.a.createElement("clipPath",{id:_.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.a.createElement("clipPath",{id:_.BaseMember,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):k?t.a.createElement("clipPath",{id:_.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.a.createElement("clipPath",{id:_.SmallMember,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}m(P,"AvatarMasks");function y(){return y=Object.assign||function(A){for(var B=1;B<arguments.length;B++){var F=arguments[B];for(var k in F)Object.prototype.hasOwnProperty.call(F,k)&&(A[k]=F[k])}return A},y.apply(this,arguments)}m(y,"_extends");const j=new u.b("avatar"),U={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},W=t.a.memo(A=>{let{botEmoji:B,canRenderEmoji:F}=A;return B?F?t.a.createElement(C.b,{className:"c-avatar__emoji",text:B,emojiSize:C.a.LARGE,stopAnimations:!0,forceDisplay:!0}):t.a.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:h.a,srcSet:`${o.a} 2x`,alt:""}):null});function L(A){let{isExternal:B,teamId:F,team:k,showTooltip:V,badgeIconType:X,badgeIconClassName:J,allowTeamInitials:Y=!0}=A;if(X){const ie=J?{[J]:!!J}:{};return()=>t.a.createElement(p.a,{className:Object(a.default)("c-avatar__icon c-avatar__nonteam_icon",{...ie}),type:X})}return B&&F?()=>t.a.createElement(D.b,{className:"c-avatar__icon c-avatar__team_icon",id:F,team:k,size:16,showTooltip:V,allowTeamInitials:Y,ariaHidden:!0}):()=>null}m(L,"getCustomBadgeIconRenderer"),L.displayName="getCustomBadgeIconRenderer";const R=m(A=>{let{size:B,userId:F,isAdHocMember:k,botId:V,botProfile:X=void 0,imageUrl:J,imageUrl2x:Y,additionalOverlay:ie,onClick:de=void 0,className:pe,teamId:oe,isExternal:me=!1,isRestricted:re=!1,isUltraRestricted:ve=!1,isInToken:q=!1,isDeleted:ce=!1,tokenSize:he=void 0,memberOrBotName:Se=void 0,showTooltip:se=!1,showCard:H=!1,showBadge:Oe=!0,showPresence:$=!1,badgeIconType:z=void 0,badgeIconClassName:be=void 0,isInteractive:Z=!0,clogLinkClick:G=r.a,tabIndex:ne=0,ariaHidden:ge=void 0,team:ae=void 0,botEmoji:fe=void 0,canRenderEmoji:Te=void 0,renderCustomBadge:ye=void 0,autoClogProps:Ue=void 0,openProfile:Ne=r.a,showMemberProfileInWindow:He=r.a,propagateClickEvent:ze=!1,fromQuipDoc:Je=!1,allowTeamInitials:Xe=!0,disableLink:Me=!1,isUserHidden:Ke=!1,onLoad:$e=r.a,onError:ct=r.a,shouldUseNavigate:Tt=!1,navigate:Et,resetIA:Le,userType:jt,isDnd:Dt,isSlackbot:Ee,"data-qa":te,"data-stringify-ignore":Ae}=A;const Ve=Object(n.useCallback)(Ot=>(Ot.preventDefault(),Z?(ze||Ot.stopPropagation(),Ot.persist(),G(),Je||(Object(b.d)(Ot)?He(F):Tt&&Et&&F?Et(Object(M.O)(F)):Ne({memberId:F,serviceId:V,botProfile:X})),de?de(Ot):null):null),[F,V,X,G,Je,de,Z,Et,Ne,ze,Tt,He]),Ye=m(()=>F?`/team/${F}`:V&&!Me?`/services/${V}`:"","getHrefAttr"),ft=m(()=>Y?`${Y} 2x`:"","getSrcSetAttribute"),tt=m(()=>{if(ie){const Ot=ie>9?"9+":`+${ie}`;return t.a.createElement("div",{className:"c-avatar__additional_overlay"},Ot)}return null},"renderAdditionalOverlay");tt.displayName="renderAdditionalOverlay";const Rt=m(Ot=>{let{tooltipText:Wt,className:Ht}=Ot,Zt=t.a.createElement("span",{className:"c-avatar__badge_inner"});se&&(Zt=t.a.createElement(l.c,{tip:Wt},Zt));const gn=Object(a.default)("c-avatar__badge",Ht);return t.a.createElement("span",{className:gn},Zt)},"renderBadgeElement");Rt.displayName="renderBadgeElement";const rt=m(()=>{const Ot=he?S[he]:B;if(ye!==void 0&&Ot>=32){const Wt=ye();if(Wt)return Wt}if(ye===void 0&&Ot>=32){const Wt=L({isExternal:me,teamId:oe,team:ae,showTooltip:se,badgeIconType:z,badgeIconClassName:be,allowTeamInitials:Xe})();if(Wt)return Wt}return $?t.a.createElement(I.a,{memberId:F,inline:!1,className:"c-avatar__presence",inheritIconSize:!0}):ve&&Ot>=32?Rt({tooltipText:m(()=>j.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,Ht=>{let{text:Zt}=Ht;return t.a.createElement("span",{className:"c-avatar__tooltip_detail"},Zt)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):re&&Ot>=32?Rt({tooltipText:m(()=>j.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,Ht=>{let{text:Zt}=Ht;return t.a.createElement("span",{className:"c-avatar__tooltip_detail"},Zt)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");rt.displayName="renderBadgeOrPresence";const we=m(()=>{let Ot=J||Y;return he?(he==="large"&&Y&&(Ot=Y),t.a.createElement(c.a,{image:Ot,classes:"c-base_icon--token",srcSet:ft(),size:S[he],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:$e,onError:ct,resetIA:Le})):null},"renderTokenAvatar");we.displayName="renderTokenAvatar";const xe=m(()=>J||Y?he||q?we():t.a.createElement(c.a,{image:J||Y,size:B,srcSet:ft(),ariaHidden:!0,widthOnly:!0,onLoad:$e,onError:ct,resetIA:Le}):null,"renderImageTag");xe.displayName="renderImageTag";const st=m(Ot=>{let{fallback:Wt=null}=Ot,Ht=Wt;return(J||Y)&&(Ht=xe()),Ht},"renderImageOrFallback"),ke=fe?t.a.createElement(W,{botEmoji:fe,canRenderEmoji:Te}):null,lt=B>26?"base":"small",at=jt==="member",ht=jt==="ra"||jt==="external",Nt=jt==="ura",Jt=t.a.useMemo(()=>$?Ee&&lt==="base"?_.BaseHeart:Ee&&lt==="small"?_.SmallHeart:at&&lt==="base"&&Dt?_.BaseMemberDnd:at&&lt==="base"?_.BaseMember:at&&lt==="small"&&Dt?_.SmallMemberDnd:at&&lt==="small"?_.SmallMember:ht&&lt==="base"&&Dt?_.BaseGuestDnd:ht&&lt==="base"?_.BaseGuest:ht&&lt==="small"&&Dt?_.SmallGuestDnd:ht&&lt==="small"?_.SmallGuest:Nt&&lt==="base"&&Dt?_.BaseSingleChannelGuestDnd:Nt&&lt==="base"?_.BaseSingleChannelGuest:Nt&&lt==="small"&&Dt?_.SmallSingleChannelGuestDnd:Nt&&lt==="small"?_.SmallSingleChannelGuest:"":"",[$,Dt,lt,ht,at,Nt,Ee]),zt=Object(a.default)(pe,"c-avatar",{"c-avatar--no_image":!(J||Y||ke),"c-avatar--interactive":Z&&!k&&!Me,"c-avatar--ad_hoc_member":k,"c-avatar--deleted_member":ce,"c-avatar--resetIA":Le}),Yt=he?S[he]:B,sn={height:`${Yt}px`,width:`${Yt}px`};let dn;V&&(dn=Z&&Ye());const Mt=Se&&(Z||dn)?j.t("View {name}\u2019s Profile",{name:Se}):void 0,yt=st({fallback:ke}),tn={...sn,"--avatar-image-size":`${Yt}px`},an=Ee?"slackbot":jt,on=$||Oe;let ut=t.a.createElement(t.a.Fragment,null,$&&jt&&t.a.createElement(P,{isDnd:Dt,userType:an,size:lt}),Ke?t.a.createElement(O.a,{className:pe,size:Yt}):yt,on&&rt(),tt());return dn?ut=t.a.createElement(E.a,{href:dn,target:"_blank",rel:"noopener noreferrer",style:sn,className:zt,onClick:Ve,tabIndex:ne,"aria-hidden":ge,"aria-label":Mt,autoClogProps:Ue,"data-qa":te,"data-stringify-ignore":Ae},ut):Z&&!Me?ut=t.a.createElement(v.a,{style:sn,className:zt,"data-qa":te,"data-stringify-ignore":Ae,"aria-hidden":ge,"aria-label":Mt,tabIndex:ne,onClick:Ve,autoClogProps:Ue},ut):ut=t.a.createElement("span",y({style:tn,className:zt},Jt?{"data-mask":Jt}:{},{"data-qa":te,"data-stringify-ignore":Ae,"aria-hidden":ge}),ut),Z&&H&&B>=U.medium?Object(g.C)({memberId:F,serviceId:V,botProfile:X,children:ut}):ut},"BaseAvatar");R.displayName="BaseAvatar"},bcZH:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("tfcd"),t=e("uNaj"),a=e("v7mh"),r=e("2VFn");function d(o,i){var h;const l=Object(t.a)();if(Object(n.a)(l==null||(h=l.params)===null||h===void 0?void 0:h.entityId))return!0;if(i){var u;const c=Object(a.d)(o,{windowId:i,container:r.h.Primary});return!!(!(c==null||(u=c.params)===null||u===void 0)&&u.versionId)}return!1}m(d,"isViewingQuipActivityHistory")},bdv9:function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},beWg:function(K,s,e){"use strict";e.d(s,"a",function(){return n});const n={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal",workflowBuilderFreemiumTrialOfferModal:"unlimited_workflows_trial_offer_modal"}},boyP:function(K,s,e){"use strict"},"c+dP":function(K,s,e){"use strict";var n=e("7JHn");e.d(s,"g",function(){return n.b});var t=e("RfUG");e.d(s,"e",function(){return t.a});var a=e("x5cI");e.d(s,"b",function(){return a.a});var r=e("GFD/");e.d(s,"d",function(){return r.a});var d=e("NPyv");e.d(s,"c",function(){return d.a});var o=e("/K2e");e.d(s,"a",function(){return o.a});var i=e("6FZx");s.f=n.a},c7sk:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){const a=(t||"").split("-");return a&&(a.length===3||a.length===4)?a[2]:null}m(n,"getUserIdFromExternalId")},cRDo:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("q1tI"),t=e.n(n);const a=m(function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i=Object(n.useRef)(),h=Object(n.useCallback)(()=>{const l=i.current;l&&(window.clearTimeout(l),i.current=void 0)},[]);return Object(n.useEffect)(()=>(h(),i.current=window.setTimeout(r,d),h),[r,h,d].concat(o)),h},"useTimeout")},cRTT:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("q1tI"),t=e.n(n),a=e("Muja"),r=e("n3tL");function d(){return d=Object.assign||function(i){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])}return i},d.apply(this,arguments)}m(d,"_extends");function o(i){const h={showConfirmDialog:r.default.func,setSelectState:r.default.func.isRequired,selectedOptions:r.default.array,selectedOption:r.default.object},l={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0};let u=m(class extends n.Component{setSelectState(E,v){const g=E();g.selectedOptions&&!Object(a.a)(g.selectedOptions,this.selectedOptions)||g.selectedOption&&!Object(a.a)(g.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({isExpanded:!1})),this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(E,v),this.selectedOptions=g.selectedOptions||this.selectedOptions,this.selectedOption=g.selectedOption||this.selectedOption}})):(this.props.setSelectState(E,v),this.selectedOptions=g.selectedOptions||this.selectedOptions,this.selectedOption=g.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:E}=this.props,v=E?this.setSelectState:this.props.setSelectState;return t.a.createElement(i,d({},this.props,{setSelectState:v}))}constructor(E){super(E),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=E.selectedOptions,this.selectedOption=E.selectedOption}},"ConfirmSelectWrapper");return u.displayName="ConfirmSelectWrapper",u.propTypes=h,u.defaultProps=l,u}m(o,"withConfirm")},ciPa:function(K,s,e){"use strict";var n=e("ZKjC"),t=e("JoR1");const a=Object(n.b)(r=>Object(t.t)(r,"messages_theme")==="dense"?"dense":"light");a.meta={name:"createSelector",key:"createSelectorgetUserMessagesTheme",description:r=>Object(t.t)(r,"messages_theme")==="dense"?"dense":"light"},s.a=a},coh6:function(K,s,e){"use strict";e.d(s,"a",function(){return nt}),e.d(s,"l",function(){return Ut}),e.d(s,"o",function(){return Gt}),e.d(s,"t",function(){return On}),e.d(s,"u",function(){return Xt}),e.d(s,"z",function(){return qt}),e.d(s,"A",function(){return Qt}),e.d(s,"h",function(){return $n}),e.d(s,"i",function(){return os}),e.d(s,"x",function(){return Ps}),e.d(s,"g",function(){return Ws}),e.d(s,"q",function(){return Is}),e.d(s,"C",function(){return vs}),e.d(s,"r",function(){return Ts}),e.d(s,"k",function(){return zn}),e.d(s,"D",function(){return rs}),e.d(s,"j",function(){return Fs}),e.d(s,"y",function(){return Es}),e.d(s,"v",function(){return cs}),e.d(s,"p",function(){return ls}),e.d(s,"n",function(){return Os}),e.d(s,"m",function(){return Cs}),e.d(s,"f",function(){return Ls}),e.d(s,"B",function(){return $s}),e.d(s,"w",function(){return Ds}),e.d(s,"F",function(){return is}),e.d(s,"G",function(){return Ss}),e.d(s,"c",function(){return Us}),e.d(s,"d",function(){return Fn}),e.d(s,"s",function(){return Ms}),e.d(s,"b",function(){return ue}),e.d(s,"e",function(){return At}),e.d(s,"E",function(){return vn}),e.d(s,"H",function(){return bt});var n=e("Lgge"),t=e("3Hq1"),a=e("ifKl"),r=e("NFsq"),d=e("TGBA"),o=e("lCmp"),i=e("fujP"),h=e("/1FC"),l=e("xWuZ"),u=e("wBxZ"),c=e("TSHB"),E=e("1+fu"),v=e("SQ0V"),g=e("i5Ig"),O=e("Sl1j"),I=e("Zp3w"),C=e("Mqk2"),f=e("7T78"),S=e("CPJ1"),D=e("kpmE"),p=e("o+v5"),b=e("E3dU"),M=e("x3ts"),_=e("g4Nj"),P=e("dmdh"),y=e("y23z"),j=e("WXkz"),U=e("xwCZ"),W=e("ByMX"),L=e("9wgI"),R=e("od0p"),A=e("GhjL"),B=e("beVI"),F=e("O86Y"),k=e("I27i"),V=e("fTzy"),X=e("YxGS"),J=e("2vQQ"),Y=e("nNoG"),ie=e("kBpe"),de=e("ITkT"),pe=e("G0eX"),oe=e("1lov"),me=e("TdVx");const re=new Y.b("modals");function ve(T){return[{id:"downloads",name:re.t("Downloads"),icon:"download",isEnabled:()=>Object(ie.i)()},{id:"invite_to_workspace",name:re.t("Invite people to {workspaceName}",{workspaceName:Object(pe.h)(Object(B.g)(T))}),icon:"add-user",isEnabled:()=>Object(de.e)(T)},{id:"create_a_channel",name:re.t("Create a Channel"),icon:"plus",isEnabled:()=>Object(oe.c)(T)},{id:"create_a_canvas",name:re.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>Object(me.a)(T)}]}m(ve,"getAllModals");function q(T){return ve(T).filter(N=>N.isEnabled())}m(q,"getAllEnabledModals");var ce=e("8pYz"),he=e("yrot"),Se=e("uAML"),se=e("bqbz"),H=e("6H+D"),Oe=e("iJ8e"),$=e("Y3/F"),z=e("ie1g"),be=e("ISSR"),Z=e("Yauy"),G=e("e55/"),ne=e("E97Y"),ge=e("y/Pn"),ae=e("isHU"),fe=e("C3vN"),Te=e("Awbm"),ye=e("V+O/"),Ue=e("Fn/R"),Ne=e("K7jq"),He=e("ehcD"),ze=e("RW41"),Je=e("9ToC"),Xe=e("DQNL"),Me=e("mzZe"),Ke=e("rKeN"),$e=e("Pw4T"),ct=e("mLC8"),Tt=e("gPPH"),Et=e("ktUG"),Le=e("Z7Ay"),jt=e("lhZz"),Dt=e("JoR1"),Ee=e("RVJP"),te=e("Ir4d"),Ae=e("Bwf8"),Ve=e("+eea"),Ye=e("RwMM"),ft=e("wWBL"),tt=e("WTVm"),Rt=e("w/U0"),rt=e("26vS"),we=e("NV6F"),xe=e("KPXh"),st=e("n7UZ"),ke=e("G5NC"),lt=e("DvAh"),at=e("jvEW"),ht=e("FdVR"),Nt=e("ptQX"),Jt=e("6DCH"),zt=e("P9LH"),Yt=e("WA8N"),sn=e("rZ8V"),dn=e("PMNn"),Mt=e("uiBO");const yt=new Y.b("ia4"),tn={get[Mt.b.BrowseCanvases](){return yt.t("All canvases",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[Mt.b.BrowseChannels](){return yt.t("All channels",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[Mt.b.BrowsePeople](){return yt.t("All people",{fallbackHash:"7aeeec03f7c076af275e9b7c0e187a40bd193acc",fallbackHashNs:"enterprise_dashboard"})},get[Mt.b.BrowseFiles](){return yt.t("All files",{fallbackHash:"f7857dcc71d3ce6a9095d1fbca5acb8cc9319005",fallbackHashNs:"search"})},get[Mt.b.RecentFiles](){return yt.t("Recently Viewed Files",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Mt.b.FilesSharedWithYou](){return yt.t("Files shared with you",{fallbackHash:"72f2b0dfa1e68a34813db5999ff8098f60ef699d",fallbackHashNs:"search"})},get[Mt.b.FilesCreatedByYou](){return yt.t("Files created by you",{fallbackHash:"8c292710d9aa5d3b598cf24b70f804cb0341e24e",fallbackHashNs:"search"})},get[Mt.b.RecentCanvases](){return yt.t("Recently Viewed Canvases",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Mt.b.CanvasesSharedWithYou](){return yt.t("Canvases shared with you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Mt.b.CanvasesCreatedByYou](){return yt.t("Canvases created by you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},[Mt.b.DmsList]:void 0,[Mt.b.LaterList]:void 0,[Mt.b.Channel]:void 0,[Mt.b.AppSpace]:void 0,[Mt.b.Quip]:void 0,[Mt.b.BrowseApps]:void 0,get[Mt.b.ExternalOrganizations](){return yt.t("External organizations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Mt.b.ExternalOrganization](){return yt.t("External organization",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Mt.b.ExternalPeople](){return yt.t("External people",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Mt.b.SlackConnectChannels](){return yt.t("Slack Connect channels",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Mt.b.SlackConnectInvitations](){return yt.t("Slack Connect invitations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},[Mt.b.BrowseExternalWorkspace]:void 0,[Mt.b.PostEvent]:void 0,[Mt.b.BrowseShortcuts]:void 0,[Mt.b.BrowseWorkflowsManagedByYou]:void 0,[Mt.b.BrowseWorkflowTemplates]:void 0,[Mt.b.BrowseUserGroups]:void 0,[Mt.b.OrgDirectory]:void 0,get[Mt.b.RecentPlatform](){return yt.t("Recently used workflows",{fallbackHash:"f97d1ab1f281e78d5e61024eee5be84679fd60ac",fallbackHashNs:"search"})},[Mt.b.SlackConnect]:void 0,[Mt.b.Page]:void 0,[Mt.b.Threads]:void 0,[Mt.b.Thread]:void 0,[Mt.b.Profile]:void 0,[Mt.b.FileDetails]:void 0,[Mt.b.Help]:void 0,[Mt.b.UserGroup]:void 0,[Mt.b.KeyboardShortcuts]:void 0,[Mt.b.WhatsNew]:void 0,[Mt.b.Feedback]:void 0,[Mt.b.List]:void 0,[Mt.b.ListRecord]:void 0,[Mt.b.ComposeList]:void 0,[Mt.b.Compose]:void 0,[Mt.b.QuipCommentThread]:void 0,[Mt.b.QuipCommentStream]:void 0,[Mt.b.QuipActivityHistory]:void 0,[Mt.b.QuipVariablesOverview]:void 0,[Mt.b.Canvas]:void 0,[Mt.b.ChannelCanvas]:void 0,[Mt.b.CanvasBrowser]:void 0,[Mt.b.PaidBenefits]:void 0,[Mt.b.Setup]:void 0,[Mt.b.SearchEmpty]:void 0,[Mt.b.AboutWorkspace]:void 0,[Mt.b.Unknown]:void 0,[Mt.b.MorePeopleSidebar]:void 0,[Mt.b.MoreCanvasesSidebar]:void 0,[Mt.b.SalesHome]:void 0,[Mt.b.Items]:void 0,[Mt.b.CRM]:void 0,[Mt.b.AppPopout]:void 0,[Mt.b.MorePlatformSidebar]:void 0,[Mt.b.Search]:void 0,[Mt.b.ChannelList]:void 0,[Mt.b.BrowseLists]:void 0,[Mt.b.BrowseList]:void 0,[Mt.b.ActivityList]:void 0,[Mt.b.MoreFilesSidebar]:void 0,[Mt.b.FilesPrototypeSidebar]:void 0,[Mt.b.MoreChannelsSidebar]:void 0,[Mt.b.MoreHuddlesSidebar]:void 0,[Mt.b.MoreExternalConnectionsSidebar]:void 0,[Mt.b.HelpBrowser]:void 0,[Mt.b.Huddle]:void 0,[Mt.b.KeyboardShortcutsBrowser]:void 0,[Mt.b.WhatsNewBrowser]:void 0,[Mt.b.FeedbackBrowser]:void 0,[Mt.b.ExternalWorkspaceSidebar]:void 0,[Mt.b.ExternalWorkspacePeopleBrowser]:void 0,[Mt.b.ExternalWorkspaceChannelBrowser]:void 0,[Mt.b.AiSummaryDetails]:void 0,[Mt.b.AiSummaryList]:void 0,[Mt.b.DailyDigest]:void 0,[Mt.b.MoreAiSummarySidebar]:void 0,[Mt.b.SearchSummary]:void 0,[Mt.b.AssistantList]:void 0,[Mt.b.BrowseFilesPrototype]:void 0,[Mt.b.Today]:void 0,[Mt.b.Record]:void 0,[Mt.b.RecordChannelCreate]:void 0,[Mt.b.SalesLogActivity]:void 0,[Mt.b.AssistantThread]:void 0};var on=m(T=>T in tn?tn[T]:"","getDisplayNameForViewType"),ut=e("Mxtj"),Ot=e("XDa+"),Wt=e("5eUS"),Ht=e("Mtna"),Zt=e("Jmua"),gn=e("046c"),Pn=e("7ibc"),Mn=e("9Gfp"),pt=e("cqkq"),_t=e("UmHn"),xt=e("ELVW"),en=e("NX5n"),Cn=e("eVCY"),pn=e("7K0/"),fn=e("McKM"),Ln=e("qHL7"),_n=e("ErGN"),Un=e("Iwbv"),Dn=e("JN2d");const nt={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,shouldAllowedInternalTeamsMatchAny:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0},members:{includeSelf:!1,includeSlackbot:!0,includeBots:!0,includeWorkflows:!1,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[Oe.l]:!0,[Oe.m]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:ft.a},fuzzyLimit:3,fuzzyJumpLimit:20,fuzzyCJK:!0,returnMetadata:!1};function St(T){let{query:N,options:Q}=T;var w,Pe,Be;const _e=(Be=Q==null?void 0:Q.entities)!==null&&Be!==void 0?Be:{},Ze=_e==null?void 0:_e.members;let qe=!1;return Ze&&Ze!==!0&&(qe=!!(Ze!=null&&Ze.matchEmailField)),{source:Q==null||(w=Q.sort)===null||w===void 0?void 0:w.source,tiered:Q==null?void 0:Q.tiered,is_searcher_sessions:!1,entities:Object.keys(_e).filter(De=>!!_e[De]).sort().toString(),query_length:N.length,is_member_email_search:(Q==null||(Pe=Q.sort)===null||Pe===void 0?void 0:Pe.source)==="use-team-and-people-search"&&qe}}m(St,"getTraceTags");function Ut(T,N){var Q,w;const{excludeElmChannels:Pe,includePublic:Be,includePrivate:_e,includeFromAnotherTeam:Ze,allowedInternalTeams:qe,shouldAllowedInternalTeamsMatchAny:De,includeRecordChannels:le}=(w=(Q=N.entities)===null||Q===void 0?void 0:Q.channels)!==null&&w!==void 0?w:{};let Re=[];return Be&&(Re=[...Re,...Object(b.u)(T,{includeFromAnotherTeam:!!Ze})]),_e&&(Re=[...Re,...Object(b.t)(T,{includeFromAnotherTeam:!!Ze})]),le&&(Re=[...Re,...Object(b.v)(T)]),Pe&&(Re=Re.filter(Fe=>!Object(st.a)(T,Fe))),qe&&(Re=Re.filter(Fe=>{if(Object(Zt.a)(Fe))return!!De;const Ge=Object(G.a)(T,Fe),et=De?Ge==null?void 0:Ge.some(Qe=>qe.includes(Qe)):Ge==null?void 0:Ge.every(Qe=>qe.includes(Qe));return(Ge==null?void 0:Ge.length)&&et})),Re}m(Ut,"getLocalChannels");function Gt(T,N){var Q;const w=Object(F.g)(T),Pe=N==null||(Q=N.entities)===null||Q===void 0?void 0:Q.teams;var Be;const _e=Object.values((Be=Dn.b===null||Dn.b===void 0?void 0:Object(Dn.b)())!==null&&Be!==void 0?Be:{}).filter(Re=>Re.id!==w);if(Pe!=null&&Pe.onlyNavigable)return _e;var Ze;const qe=(Ze=Object(B.c)(T))!==null&&Ze!==void 0?Ze:{},De=_e.map(Re=>Re.id),le=Object.values(qe).filter(Re=>!De.includes(Re.id));return[..._e,...le].filter(vs(T,Pe))}m(Gt,"getLocalTeams");const On=Object(v.c)("Get channels from flannel by query",(T,N,Q)=>{let{query:w,options:Pe}=Q;var Be,_e,Ze,qe;const{includeFromAnotherTeam:De,includeExternallyShared:le,includeOnlyExternallyShared:Re,onlyExternallyShared:Fe,onlyFromTeamId:Ge,onlyFromExternalWorkspaceId:et,allowedInternalTeams:Qe,shouldAllowedInternalTeamsMatchAny:it,includeRecordChannels:Lt}=(qe=(Be=Pe.entities)===null||Be===void 0?void 0:Be.channels)!==null&&qe!==void 0?qe:{},Pt=((_e=Pe.entities)===null||_e===void 0||(Ze=_e.channels)===null||Ze===void 0?void 0:Ze.remoteLimit)||Pe.limit,rn=N(),nn=[],Sn=" AND ",jn={query:w,count:Pt||nt.limit||24,fuzz:Object(Ee.d)(rn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:Object(Ee.d)(rn,"searcher_flannel_cjk")==="cjk"};return De&&nn.push("xws"),!Object(t.a)(le)&&!le&&nn.push("NOT shared"),!Object(t.a)(Re)&&!Re&&nn.push("NOT external"),!Object(t.a)(Fe)&&Fe&&nn.push("shared"),nn.length&&(jn.filter=nn.join(Sn)),Ge&&(jn.external_team=Ge),et&&(jn.external_team=et),Qe&&(jn.allowed_internal_teams=Qe),it&&(jn.should_allowed_internal_teams_match_any=it),Lt&&(jn.include_record_channels=!0),T(Object(O.i)({query:jn})).timeout(2e3).catch(a.a)});On.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const Xt=Object(v.c)("Get emoji from flannel by query",(T,N,Q)=>{let{query:w,options:Pe}=Q;var Be,_e;const Ze=((Be=Pe.entities)===null||Be===void 0||(_e=Be.emoji)===null||_e===void 0?void 0:_e.remoteLimit)||Pe.limit;return T(Object(I.b)({query:{query:w,count:Ze}})).timeout(2e3).catch(a.a)});Xt.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const qt=Object(v.c)("Get user groups from the search.team endpoint by query",(T,N,Q)=>{let{query:w,options:Pe}=Q;var Be,_e,Ze,qe,De,le;const Re=((Be=Pe.entities)===null||Be===void 0||(_e=Be.userGroups)===null||_e===void 0?void 0:_e.remoteLimit)||Pe.limit;return T(Object(D.c)({query:{query:w,count:Re,org_wide:(Ze=Pe.entities)===null||Ze===void 0||(qe=Ze.userGroups)===null||qe===void 0?void 0:qe.includeFromAnotherTeam,channel:(De=Pe.entities)===null||De===void 0||(le=De.userGroups)===null||le===void 0?void 0:le.channel}})).timeout(2e3).catch(a.a)});qt.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const Qt=Object(v.c)("Get remote triggers with query",(T,N,Q)=>{let{query:w}=Q;return T(Object(Jt.a)({query:w}))});Qt.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const $n=Object(v.c)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(T,N,Q)=>{let{queries:w,options:Pe}=Q;var Be,_e,Ze,qe,De,le;const Re=((Be=Pe.entities)===null||Be===void 0||(_e=Be.userGroups)===null||_e===void 0?void 0:_e.remoteLimit)||Pe.limit;return T(Object(D.a)({query:{queries:w,count:Re,org_wide:(Ze=Pe.entities)===null||Ze===void 0||(qe=Ze.userGroups)===null||qe===void 0?void 0:qe.includeFromAnotherTeam,channel:(De=Pe.entities)===null||De===void 0||(le=De.userGroups)===null||le===void 0?void 0:le.channel}})).timeout(2e3).catch(a.a)});$n.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function os(T,N){const{includeArchived:Q,includeRequired:w,onlyIfMember:Pe,canPost:Be,includeExternallyShared:_e,includeOnlyExternallyShared:Ze,onlyExternallyShared:qe,onlyFromTeamId:De,onlyFromExternalWorkspaceId:le}=N??{};return Re=>{let Fe=!0;if(Q||(Fe=Fe&&!Object(be.a)(Re)),!Object(t.a)(w)&&!w&&(Fe=Fe&&!Object(ne.o)(Re)),qe&&(Fe=Fe&&Object(ge.a)(Re)),(!_e||!Ze)&&(Fe=Fe&&!Object(ge.a)(Re)),Pe&&(Fe=Fe&&Object(Z.db)(Re)),Be&&(Fe=Fe&&Object(Me.b)(T,Re.id)),De){var Ge;Fe=Fe&&(((Ge=Object(ht.a)(T,Re))===null||Ge===void 0?void 0:Ge.includes(De))||!1)}return le&&(Fe=Fe&&Object(Z.Eb)(T,Re)===le),Fe}}m(os,"getChannelFilterFunction");const Ps=Object(v.c)("Get members from flannel by query",(T,N,Q)=>{let{query:w,options:Pe}=Q;var Be,_e,Ze;const{includeDeleted:qe,matchEmailField:De,onlyExternal:le,includeExternal:Re,includeAllExternal:Fe,includeBots:Ge,onlyFromExternalTeamId:et,onlyFromExternalWorkspaceId:Qe}=(Ze=Pe.entities.members)!==null&&Ze!==void 0?Ze:{},it=((Be=Pe.entities)===null||Be===void 0||(_e=Be.members)===null||_e===void 0?void 0:_e.remoteLimit)||Pe.limit,Lt=N(),Pt=[],rn=Object(pe.z)(Object(B.g)(Lt)),nn=rn?["NOT org"]:["NOT team"],Sn=rn?["org"]:["team"],jn=!qe,hn=" AND ",un={query:w,count:it||nt.limit||24,fuzz:Object(Ee.d)(Lt,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||Pe.fuzzyLimit===0?0:1,uax29_tokenizer:Object(Ee.d)(Lt,"searcher_flannel_cjk")==="cjk"};return jn&&Pt.push("NOT deactivated"),(le||et)&&Pt.push(...nn),(et||Qe)&&(un.external_team=et||Qe),Ge||Pt.push("NOT bots"),Re||Pt.push(...Sn),Re&&Fe&&(un.include_all_external=!0),De&&(un.search_email=!0),Pt.length&&(un.filter=Pt.join(hn)),T(Object(S.e)({query:un})).timeout(2e3).catch(a.a)});Ps.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const Ws=Object(v.c)("Get members from flannel by query",(T,N,Q)=>{let{queries:w,options:Pe}=Q;var Be,_e,Ze,qe;const{includeDeleted:De,matchEmailField:le}=(qe=(Be=Pe.entities)===null||Be===void 0?void 0:Be.members)!==null&&qe!==void 0?qe:{},Re=((_e=Pe.entities)===null||_e===void 0||(Ze=_e.members)===null||Ze===void 0?void 0:Ze.remoteLimit)||Pe.limit||24,Fe=N(),Ge=[],et=!De,Qe=" AND ",it={queries:w,count:Re,fuzz:Object(Ee.d)(Fe,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:Object(Ee.d)(Fe,"searcher_flannel_cjk")==="cjk"};return et&&Ge.push("NOT deactivated"),le&&(it.match_email=!0),Ge.length&&(it.filter=Ge.join(Qe)),T(Object(S.b)({query:it})).timeout(2e3).catch(a.a)});Ws.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function Is(T,N){const{includeSelf:Q,includeSlackbot:w,includeBots:Pe,includeWorkflows:Be,includeDeleted:_e,includeExternal:Ze,includeGuests:qe,includeProfileOnlyUsers:De,onlyLocalTeam:le,onlyExternal:Re,onlyExternalFromTeams:Fe,onlyFromExternalTeamId:Ge}=N??{};return et=>{let Qe=!0;if(Re&&(Qe=Qe&&Object(Ne.a)(et)&&!Object(Ue.a)(et)),Q||(Qe=Qe&&!Object(fe.jb)(et)),w||(Qe=Qe&&!Object(ye.b)(et)),Fe)return Object(r.a)(Fe,Object(He.e)(et));if(Ge)return Q&&Object(fe.jb)(et)?!0:Object(Ne.a)(et)&&Object(He.e)(et)===Ge;if(Pe||(Qe=Qe&&!Object(Ue.a)(et)&&!Object(ye.b)(et)),Be||(Qe=Qe&&!Object(fe.rb)(et)),_e||(Qe=Qe&&!Object(fe.V)(et)),Ze||(Qe=Qe&&!Object(Ne.a)(et)),qe||(Qe=Qe&&!Object(Te.a)(et)),De||(Qe=Qe&&!Object(fe.ib)(et)),De&&Object(fe.ib)(et)&&(Qe=Qe&&!Object(fe.V)(et)),le){const it=Object(F.g)(T);Object(fe.ib)(et)&&De||(Qe=Qe&&Object(He.h)(et,it))}return Qe}}m(Is,"getMemberFilterFunction");function vs(T,N){var Q;const{includeCurrentTeam:w,includeExternal:Pe,onlyExternal:Be,onlyCurrentOrg:_e,onlyAvailableToCurrentOrg:Ze,onlyMemberOnCurrentOrg:qe}=N??{},De=Object(F.i)(T),le=Object(Mn.a)(T),Re=Object(U.g)(T,le),Fe=(Re==null||(Q=Re.enterprise_user)===null||Q===void 0?void 0:Q.teams)||[];return Ge=>!(!w&&Ge.id===Object(F.g)(T)||Be&&!Object(ze.a)(T,Ge)||!Pe&&!Be&&!Ze&&Object(ze.a)(T,Ge)||_e===!0&&Ge.id!==De&&Object(pe.k)(Ge)!==De||Ze===!0&&Ge.id!==De&&Object(pe.k)(Ge)!==De&&!Object(ze.a)(T,Ge)||qe===!0&&!Fe.includes(Ge.id))}m(vs,"getTeamFilterFunction");function Ts(T,N){const{onlyVisibleMpims:Q,onlyExternallyShared:w,includeExternallyShared:Pe,onlyFromTeamId:Be}=N??{};return _e=>{let Ze=!0;if(Q&&(Ze=Ze&&Object(Z.zb)(T,_e)),w&&(Ze=Ze&&Object(ge.a)(_e)),Pe===!1&&(Ze=Ze&&!Object(ge.a)(_e)),Be){var qe;Ze=Ze&&(((qe=Object(ht.a)(T,_e))===null||qe===void 0?void 0:qe.includes(Be))||!1)}return Ze}}m(Ts,"getMpimFilterFunction");function zn(T,N){const{onlyExternallyShared:Q,includeExternallyShared:w,onlyFromTeamId:Pe,onlyVisibleIms:Be}=N??{};return _e=>{let Ze=!0;if(Be&&(Ze=Ze&&Object(Z.yb)(T,_e)),Q&&(Ze=Ze&&Object(ge.a)(_e)),w||(Ze=Ze&&!Object(ge.a)(_e)),Pe){var qe;Ze=Ze&&(((qe=Object(ht.a)(T,_e))===null||qe===void 0?void 0:qe.includes(Pe))||!1)}return Ze}}m(zn,"getImFilterFunction");function rs(T,N){const{includeDeleted:Q,includeFromAnotherTeam:w,onlyFromExternalWorkspaceId:Pe}=N??{};return Be=>{let _e=!0;return w||(_e=_e&&!Object(A.l)(T,Be.id)),Q||(_e=_e&&Object(Xe.x)(Be)),Pe&&(_e=_e&&Object(Xe.k)(Be)===Pe),_e}}m(rs,"getUserGroupFilterFunction");function Fs(T,N){const{onlyCanvases:Q=!1,onlyLists:w=!1,onlyChannelCanvases:Pe=!1,onlyTemplateCanvases:Be=!1,includeChannelCanvases:_e=!1,excludeTemplateCanvases:Ze=!1}=N??{},qe=Object(Pn.o)(T),De=Object(F.i)(T),le=Object(B.s)(T,De),Re=le&&!Object(pe.J)(le);return Fe=>{let Ge=!0;return Q&&(Ge=Ge&&(Object(zt.u)(Fe)&&!Re||qe&&_e&&Object(zt.h)(Fe)),Object(zt.wb)(Fe,T)&&Ze)?!1:(qe&&(Pe||Re)&&(Ge=Ge&&!Object(zt.u)(Fe)&&Object(zt.h)(Fe)),Be&&(Ge=Ge&&Object(zt.wb)(Fe,T)),w&&(Ge=Ge&&Object(zt.o)(Fe,T)),Ge)}}m(Fs,"getFileFilterFunction");const Es=Object(v.c)("Get teams via API by query",(T,N,Q)=>{let{query:w,options:Pe}=Q;var Be,_e;const{onlyExternal:Ze,includeExternal:qe,remoteLimit:De}=(_e=(Be=Pe.entities)===null||Be===void 0?void 0:Be.teams)!==null&&_e!==void 0?_e:{},le=N();if(Object(W.a)(le))return n.a.resolve();if(Ze||qe)return T(Object(f.a)(w)).timeout(2e3).catch(a.a);const Re=De||Pe.limit||24;return T(Object(p.d)({query:w,count:Re})).timeout(2e3).catch(a.a)});Es.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const cs=Object(v.c)("Get files via API by query",(T,N,Q)=>{let{query:w,options:Pe}=Q;var Be,_e;const{onlyCanvases:Ze,onlyChannelCanvases:qe,onlyTemplateCanvases:De,excludeTemplateCanvases:le,bypassCache:Re}=(_e=(Be=Pe.entities)===null||Be===void 0?void 0:Be.files)!==null&&_e!==void 0?_e:{};let Fe=w;return De?Fe=`type:canvas_template ${w}`:(Ze||qe)&&(Fe=`${le?"type:quip -type:canvas_template":"type:quip"} ${w}`),T(Object(C.f)({query:Fe,includeShares:!0,bypassCache:Re})).timeout(2e3).catch(a.a)});cs.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function ls(T){const N=Object(sn.m)(T),Q=Object(J.b)(),w={},Pe=[];N&&(Ht.q.forEach(_e=>{const Ze=Object(Ot.a)({tab:_e,experimentDesktopIa4GroupOn:N});Object(Wt.a)(T,_e)&&Ze&&!(Ze in w)&&(Pe.push({id:_e,name:Ze,is_view:!0,is_tab_view:!0}),w[Ze]=Ze)}),Ht.r.forEach(_e=>{const Ze=on(_e);Object(ut.a)(T,_e)&&Ze&&!(Ze in w)&&(Pe.push({id:_e,name:Ze,is_view:!0,is_mva_view:!0}),w[Ze]=Ze)})),Q.forEach(_e=>{var Ze;if(!(!((Ze=_e.isExcludedFromSearch)===null||Ze===void 0)&&Ze.call(_e,T))&&!(_e.id==="Pslack-connect"&&!Object(H.a)(T))&&!(_e.id==="Pactivity"&&N)&&!(_e.id===_t.a.Apps&&!N&&!Object(xt.a)(T))&&!(_e.id===_t.a.Shortcuts&&!Object(pt.e)(T))&&!(_e.id===_t.a.BrowseWorkflowTemplates&&!Object(pt.c)(T))&&!(_e.id===_t.a.BrowseWorkflowsManagedByYou&&!Object(pt.b)(T))&&(!_e.isEnabled||_e.isEnabled(T)||_e.id==="Punreads"&&Object(Dt.t)(T,"enable_unread_view"))){const De=Object(ce.b)(_e.id)(T);De&&!(De in w)&&(Pe.push({..._e,name:De,is_view:!0,is_page_view:!0}),w[De]=De)}});const Be=Object(X.c)("Vall_threads");return Be&&(!N||Object(Dt.t)(T,"enable_threads_view"))&&!Object(Un.a)(T)&&Pe.push(Be),Pe}m(ls,"getLocalViews");function Os(T){return q(T)}m(Os,"getLocalModals");function Cs(T){return Object(Je.c)(T)?[{id:T,score:0,item:{id:T,value:T,isEmail:!0}}]:[]}m(Cs,"getLocalEmails");function Ls(T,N){const Q=!N;let w=g.a;if(N){const Pe=Object(b.d)(T,N);w=Pe&&Object(dn.b)(T,Pe)||g.a}return Object(M.b)(T).flatMap(Pe=>{if(Object(sn.m)(T)&&Pe.teams&&(w.length||Q)&&!Pe.isWorkspaceAgnostic){const Be=Q?Pe.teams:Pe.teams.filter(_e=>w.includes(_e));if(Be.length>1)return Be.map(_e=>{const Ze=Object(B.s)(T,_e),qe=Object(pe.h)(Ze);return{...Pe,name:`${Pe.name} ${qe}`,applicableTeamId:_e}})}return[Pe]})}m(Ls,"getAppActionsWithEntriesPerApplicableTeam");function $s(T,N,Q){const w=Object(b.d)(T,N),Pe=w?Object(dn.b)(T,w)||[]:[];return Object(we.j)(T,N,Q,!0).flatMap(Be=>{if(Object(sn.m)(T)&&Be.teams&&Pe.length&&Be.appName!=="Slack"&&!Be.isWorkspaceAgnostic){const _e=Be.teams.filter(Ze=>Pe.includes(Ze));if(_e.length>1)return _e.map(Ze=>({...Be,id:Object(xe.e)(Be),isSlashCommand:!0,applicableTeamId:Ze}))}return[{...Be,id:Object(xe.e)(Be),isSlashCommand:!0}]})}m($s,"getSlashCommandsListWithEntriesPerApplicableTeam");function ns(T,N){let Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";vn(N);const w={},{members:Pe,channels:Be,teams:_e,userGroups:Ze,appActions:qe,views:De,broadcastKeywords:le,emoji:Re,files:Fe,links:Ge,lists:et,channelSections:Qe,emails:it,modals:Lt,shortcuts:Pt,workflowTriggers:rn,helpArticles:nn,salesListViews:Sn}=N.entities;if(Be&&(Be.includePublic||Be.includePrivate)&&(w.channels=Ut(T,N)),Be&&Be.includeMpims&&(w.mpims=Object(b.r)(T)),Be&&Be.includeIms&&(w.ims=Object(b.o)(T)),Pe&&(w.members=Pe.onlyFromExternalWorkspaceId?g.a:Object(U.a)(T).filter(An=>Object(Nt.a)(T,An.id))),_e&&(w.teams=Gt(T,N)),Ze&&(w.userGroups=Object(A.c)(T)),qe&&(w.appActions=Object(en.a)(T)?Object(M.b)(T):Ls(T,qe.channel)),Fe&&(w.files=Object(P.a)(T)),Ge&&(w.links=Object(y.a)(T)),et&&(w.lists=Object(j.o)(T)),De&&(w.views=ls(T)),Lt&&(w.modals=Os(T)),le){var jn;if(le.includeAll)w.broadcastKeywords=Object(R.a)();else if(!(le==null||(jn=le.currentChannel)===null||jn===void 0)&&jn.id){var hn;w.broadcastKeywords=Object(L.a)(T,le==null||(hn=le.currentChannel)===null||hn===void 0?void 0:hn.id)}else w.broadcastKeywords=[]}if(Re&&(w.emoji=Object(he.e)(T)),Qe&&(w.channelSections=Object(d.a)(Object(se.b)(T))),(Pt!=null&&Pt.slashCommands||Pt!=null&&Pt.fakeGlobalActions)&&!(Pt!=null&&Pt.isAnnounceOnly)&&(w.slashCommands=Object(we.j)(T,Pt.channel,Pt.threadTs,!0).map(An=>({...An,id:Object(xe.e)(An),isSlashCommand:!0}))),Pt!=null&&Pt.slackGlobalActions&&(w.slackGlobalActions=Object(we.h)(T,Pt.channel,Pt.threadTs)),Pt!=null&&Pt.quipShortcutCommands&&(w.quipShortcutCommands=Object(_n.c)(T)),Pt!=null&&Pt.channelActions&&(w.channelActions=Object(rt.b)(T,Pt.channel)),Pt!=null&&Pt.fakeGlobalActions&&(w.fakeGlobalActions=Object(we.g)(T,Pt.channel,Pt.threadTs,w.slashCommands)),Pt!=null&&Pt.callActions&&(w.callActions=Object(we.f)(T,Pt.channel,Pt.threadTs,Pt.isAnnounceOnly)),rn){const An=Object(we.e)(T);rn.includeAutomated?w.workflowTriggers=An:w.workflowTriggers=An.filter(mn=>mn.type===gn.a.Shortcut)}it&&(w.emails=Cs(Q));const un=Object($.a)(T);return nn&&un&&(w.helpArticles=Object(z.c)(T,"searcher/fetch_all_articles")),Sn&&(w.salesListViews=Object.values(Object(fn.g)(T))),bt(),w}m(ns,"fetchLocal");const Jn=Object(v.c)("Search for local entities within Slack based on options",(T,N,Q)=>{let{query:w,options:Pe,autoTraceId:Be,parentSpanId:_e}=Q;var Ze;const qe=N(),De=(Ze=ct.d.get({label:ct.a.Searcher,id:Be}))===null||Ze===void 0?void 0:Ze.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:_e}}),le=[],Re=[],{channels:Fe,files:Ge,members:et,teams:Qe,userGroups:it,appActions:Lt,emoji:Pt,helpArticles:rn,workflowTriggers:nn,salesListViews:Sn}=Pe.entities;if(et){const hn=T(Ps({query:w,options:Pe}));et.runaway?Re.push(hn):le.push(hn)}if(Fe){const hn=T(On({query:w,options:Pe}));Fe.runaway?Re.push(hn):le.push(hn)}if(Pt){const hn=T(Xt({query:w,options:Pe}));Pt.runaway?Re.push(hn):le.push(hn)}if(Ge&&(Object(Rt.a)(w)||w.length>3)){const hn=Object(lt.a)(N());if(!hn.contains(w)&&!hn.isRequestInFlight()){hn.add(w),hn.setRequestInFlight();const un=T(cs({query:w,options:Pe}));Ge.runaway?Re.push(un):le.push(un)}}if(it){const hn=T(qt({query:w,options:Pe}));it.runaway?Re.push(hn):le.push(hn)}if(Qe&&(Object(Ke.a)(qe)||Qe.onlyExternal||Qe.includeExternal)&&!Qe.onlyLocal){const hn=T(Es({query:w,options:Pe}));Qe.runaway?Re.push(hn):le.push(hn)}if(nn){const hn=Object(Yt.a)(qe);if(!hn.contains(w)&&!hn.isRequestInFlight()){hn.add(w),hn.setRequestInFlight();const un=T(Qt({query:w}));un&&(nn.runaway?Re.push(un):le.push(un))}}if(Object(ae.a)(qe)&&Lt){const hn=T(Object(_.a)()).timeout(2e3).catch(a.a);Lt.runaway?Re.push(hn):le.push(hn)}const jn=Object($.a)(qe);return rn&&jn&&Object(z.c)(qe,"searcher/fetch_all_articles"),Object(pn.a)(w)&&Sn&&le.push(T(Object(Ln.a)({query:w}))),n.a.all(le).then(hn=>{const un=N(),An=ns(un,Pe,w);if(An.remoteIds=Ds(hn),et&&et.onlyFromExternalWorkspaceId){var mn,Nn;An.members=(Nn=(mn=hn.find(Vn=>!!Vn.members))===null||mn===void 0?void 0:mn.members)!==null&&Nn!==void 0?Nn:g.a}const xn=Object(o.a)(Object(d.a)(An),"length");return Re.length&&!xn?n.a.all(Re).then(()=>ns(N(),Pe)):(De==null||De.close(),An)})});Jn.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function Ds(T){const N={};return T.forEach(Q=>{Q&&(Q.appActions&&(N.appActions=new Set(Q.appActions.map(w=>w.id))),Q.channels&&(N.channels=new Set(Q.channels.map(w=>w.id))),Q.emoji&&(N.emoji=new Set(Q.emoji.map(w=>w.name))),Q.files&&(N.files=new Set(Q.files.map(w=>w.id))),Q.members&&(N.members=new Set(Q.members.map(w=>w.id))),Q.userGroups&&(N.userGroups=new Set(Q.userGroups.map(w=>w.id))),Q.teams&&(N.teams=new Set(Q.teams.map(w=>w.id))))}),N}m(Ds,"getRemoteIds");const is=Object(v.c)("Search for entities within Slack by query",(T,N,Q)=>{let{query:w="",options:Pe=nt}=Q;var Be;if(!w.length&&!Pe.allowEmptyQuery)return n.a.resolve([]);const _e=N(),Ze=Object($e.d)({state:_e}),qe=Object(Tt.a)(),De=Object(Ee.d)(_e,"search_query_format_options")==="treatment";Ze.mark(`modern-searcher-search-mark-${qe}`);const le=Object(te.a)(w,{shouldTrimEmoji:!1},De);var Re;ct.d.start({label:ct.a.Searcher,id:qe,options:{teamId:(Re=Object(F.g)(_e))!==null&&Re!==void 0?Re:null,tags:St({query:le,options:Pe})}});const Fe=(Be=ct.d.get({label:ct.a.Searcher,id:qe}))===null||Be===void 0?void 0:Be.createChildSpan({name:"searcher:search"}),Ge=At(_e,Pe,nt,w);if(Object(i.a)(Ge))return n.a.resolve([]);if(Object(V.a)(_e)!==k.a.ONLINE||!(Pe!=null&&Pe.allowEmptyQueryRemoteSearch)&&!le.length&&Object(ke.a)()&&Object(Ee.d)(_e,"searcher_local_empty_string")==="treatment")return n.a.resolve(Ss(_e,{query:le,options:Ge,autoTraceId:qe,parentSpanId:Fe==null?void 0:Fe.getId()}));const et=n.a.delay(0).then(()=>T(Jn({query:le,options:Ge,autoTraceId:qe,parentSpanId:Fe==null?void 0:Fe.getId()}))).then(Qe=>{const it=N();return x(it,{query:le,data:Qe,options:Ge,autoTraceId:qe,parentSpanId:Fe==null?void 0:Fe.getId()})});if(Ge.tiered){const Qe=Ss(_e,{query:le,options:Ge,autoTraceId:qe,parentSpanId:Fe==null?void 0:Fe.getId()});return Qe.promise=et.finally(()=>{Fe==null||Fe.close(),ct.d.stop({label:ct.a.Searcher,id:qe})}),n.a.resolve(Qe).finally(()=>{Ze.measureAndClear(`modern-searcher-search-mark-${qe}`,"modern-searcher-search-tiered")})}return et.finally(()=>{Ze.measureAndClear(`modern-searcher-search-mark-${qe}`,"modern-searcher-search"),Fe==null||Fe.close(),ct.d.stop({label:ct.a.Searcher,id:qe})})});is.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function Ss(T,N){let{query:Q="",options:w,autoTraceId:Pe,parentSpanId:Be}=N;var _e;let Ze=Pe;if(!Ze){Ze=Object(Tt.a)();var qe;ct.d.start({label:ct.a.Searcher,id:Ze,options:{teamId:(qe=Object(F.g)(T))!==null&&qe!==void 0?qe:null,tags:St({query:Q,options:w})}})}const De=(_e=ct.d.get({label:ct.a.Searcher,id:Ze}))===null||_e===void 0?void 0:_e.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Be}});if(!Q.length&&!w.allowEmptyQuery)return[];const le=At(T,w,nt,Q),Re=Object(Ee.d)(T,"search_query_format_options")==="treatment";if(Object(i.a)(le))return[];const Fe=Object(te.a)(Q,{shouldTrimEmoji:!1},Re),Ge=ns(T,le),et=x(T,{query:Fe,data:Ge,options:le,autoTraceId:Ze,parentSpanId:De==null?void 0:De.getId()});return De==null||De.close(),et}m(Ss,"searchLocal");const Xn=15,Us=m(T=>{let{clogger:N,data:Q}=T;const{source:w,query:Pe,results:Be,selectedItemId:_e,displayedItemIds:Ze,openMethod:qe}=Q,De=Ze?Ze.length:Be.length,le=Ze&&_e?Ze.indexOf(_e):Be.findIndex(nn=>nn.item.id===_e);if(le<0)return;const Re=Be.find(nn=>nn.item.id===_e);if(!Re)return;const Fe=Re.type||"other",Ge=Object(te.a)(Pe),et=Re.source||"local";let Qe;Re.type==="mpim"?Qe=Re.scoreDetailsByMember:Re.type==="member"&&_e?Qe={[_e]:{is_exact_match:Re.isExactMatch,exact_match_details:Re.exactMatchDetails,score_details:Re.scoreDetails}}:Re.type==="emoji"&&_e&&(Qe={[_e]:{is_exact_match:Re.isExactMatch}});let it=[];Be.some(nn=>nn.featureVector)&&(Ze?it=Ze.map(nn=>{const Sn=Be.find(jn=>jn.item.id===nn);return Sn&&Sn.featureVector.serialize()||""}):it=Be.map(nn=>{var Sn,jn;return nn==null||(Sn=nn.featureVector)===null||Sn===void 0||(jn=Sn.serialize)===null||jn===void 0?void 0:jn.call(Sn)}));let Pt;Object(h.a)(Pe)?Pt=Pe.reduce((nn,Sn)=>nn+Ms(Object(te.a)(Sn)),0):Pt=Ms(Ge);const rn={source:w,query_length:Ge.length?Ge.length:0,query_terms_length:Pt,results_length:De,selected_position:le,selected_type:Fe,selected_source:et,selected_match_details:Qe,feature_vector_list:it.slice(0,Xn),open_method:qe};N.track(Et.EventId.SEARCHER_ACCEPT,rn)},"clogSearcherAccept"),Fn=m(T=>{let{clogger:N,data:Q}=T;const{source:w,query:Pe,results:Be,displayedItemIds:_e}=Q,Ze=_e!==void 0?_e.length:Be.length,qe=Object(te.a)(Pe);let De;Object(h.a)(Pe)?De=Pe.reduce((Re,Fe)=>Re+Ms(Object(te.a)(Fe)),0):De=Ms(qe);const le={source:w,query_length:qe.length?qe.length:0,query_terms_length:De,results_length:Ze};N.track(Et.EventId.SEARCHER_REJECT,le)},"clogSearcherReject");function Ms(T){return T?T.split(Ye.a).filter(N=>N.length).length:0}m(Ms,"getQueryTermsLength");function x(T,N){let{query:Q,data:w,options:Pe,autoTraceId:Be,parentSpanId:_e}=N;var Ze,qe,De,le,Re;const Fe=(Ze=ct.d.get({label:ct.a.Searcher,id:Be}))===null||Ze===void 0?void 0:Ze.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:_e}});vn(Pe);const Ge=Object(Ee.d)(T,"searcher_avoid_exact_member_match")==="treatment",et=Object(Ee.d)(T,"nerf_email_fuzzy_match")==="treatment",Qe={},it=new Ae.a({query:Q,options:{...Pe,sort:{...Pe.sort,avoidExactMatchForMembers:Ge},fuzzyEmailSearchForwardOnly:et}}),Lt=Object($e.d)({state:T});Lt.mark("modern-searcher-matching-mark");const Pt=(qe=ct.d.get({label:ct.a.Searcher,id:Be}))===null||qe===void 0?void 0:qe.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});w.channels&&(Qe.channels=it.filterChannels(T,w.channels,os(T,Pe.entities.channels))),w.members&&(Qe.members=it.filterMembers(T,w.members,Is(T,Pe.entities.members))),w.emails&&w.members&&!(!(Qe==null||(De=Qe.members)===null||De===void 0)&&De.length)&&(Qe.emails=w.emails),w.mpims&&(Qe.mpims=it.filterMpims(T,w.mpims,Ts(T,Pe.entities.channels))),w.ims&&(Qe.ims=it.filterIms(T,w.ims,zn(T,Pe.entities.channels))),w.userGroups&&(Qe.userGroups=it.filterUserGroups(T,w.userGroups,rs(T,Pe.entities.userGroups))),w.teams&&(Qe.teams=it.filterTeams(T,w.teams,vs(T,Pe.entities.teams))),w.views&&(Qe.views=it.filterViews(T,w.views)),w.modals&&(Qe.modals=it.filterModals(T,w.modals)),w.appActions&&(Qe.appActions=it.filterAppActions(T,w.appActions)),w.slashCommands&&(Qe.slashCommands=it.filterShortcuts(T,w.slashCommands,!0)),w.slackGlobalActions&&(Qe.slackGlobalActions=it.filterShortcuts(T,w.slackGlobalActions)),w.quipShortcutCommands&&(Qe.quipShortcutCommands=it.filterShortcuts(T,w.quipShortcutCommands)),w.channelActions&&(Qe.channelActions=it.filterShortcuts(T,w.channelActions)),w.fakeGlobalActions&&(Qe.fakeGlobalActions=it.filterShortcuts(T,w.fakeGlobalActions)),w.callActions&&(Qe.callActions=it.filterShortcuts(T,w.callActions)),w.workflowTriggers&&(Qe.workflowTriggers=it.filterWorkflowTriggers(T,w.workflowTriggers)),w.appActions&&(!(Pe==null||(le=Pe.entities)===null||le===void 0||(Re=le.shortcuts)===null||Re===void 0)&&Re.apps)&&(Qe.apps=it.filterApps(T,w.appActions,w.fakeGlobalActions,w.slashCommands)),w.broadcastKeywords&&(Qe.broadcastKeywords=it.filterBroadcastKeywords(T,w.broadcastKeywords)),w.emoji&&(Qe.emoji=it.filterEmoji(T,w.emoji)),w.channelSections&&(Qe.channelSections=it.filterChannelSections(T,w.channelSections,Vn=>{var Wn,Bn;return!!(!((Wn=Pe.entities.channelSections)===null||Wn===void 0||(Bn=Wn.includeTypes)===null||Bn===void 0)&&Bn[Vn.type])})),w.files&&(Qe.files=it.filterFiles(T,w.files,Fs(T,Pe.entities.files))),w.links&&(Qe.links=it.filterLinks(T,w.links)),w.lists&&(Qe.lists=it.filterLists(T,w.lists));const rn=Object($.a)(T);w.helpArticles&&rn&&(Qe.helpArticles=it.filterHelpArticles(T,w.helpArticles));const nn=Object(Cn.u)(T);w.salesListViews&&nn&&(Qe.salesListViews=it.filterSalesListViews(T,w.salesListViews)),Lt.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),Pt==null||Pt.close();const Sn=ue(Qe,w.remoteIds||{}),jn=500,hn=3;var un;const An=Math.min(((un=Pe==null?void 0:Pe.limit)!==null&&un!==void 0?un:1)*hn,jn);let mn=Object(l.a)(Object.values(Sn));if(Pe.sort&&!Pe.sort.bypassSorting){var Nn;let Vn=!1;mn.length<An&&(Vn=!0);const Wn=new Ve.a({query:Q,options:{modelOnly:Vn,...Pe.sort}}),Bn=(Nn=ct.d.get({label:ct.a.Searcher,id:Be}))===null||Nn===void 0?void 0:Nn.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});mn=Wn.sort(T,Sn),Bn==null||Bn.close()}if(Pe.sort&&Pe.sort.frecency&&!Pe.sort.bypassSorting){var xn;const Vn=(xn=ct.d.get({label:ct.a.Searcher,id:Be}))===null||xn===void 0?void 0:xn.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});mn=new tt.a({query:Q,options:{...Pe.sort},teamId:Object(F.g)(T),enterpriseId:Object(Ke.a)(T)&&Object(F.d)(T)?Object(F.d)(T):void 0}).sort(T,mn.slice(0,An)),Vn==null||Vn.close()}return Pe.limit&&(mn=Object(u.a)(mn,Pe.limit)),Pe.returnMetadata||(mn=mn.map(Vn=>Vn.item)),bt(),mn||[]}m(x,"processFetchedEntities");function ue(T,N){return Object(c.a)(T,(Q,w)=>{const Pe=We(w),Be=N[w];return Q.map(_e=>{const Ze=Be&&Be.has(_e.item.id)?"remote":"local";return{..._e,type:Pe,source:Ze}})})}m(ue,"addResultMetadata");function We(T){switch(T){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"links":return"link";case"slashCommands":return"slashCommand";case"quipShortcutCommands":return"quipShortcutCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";case"salesListViews":return"salesListViews";default:return"other"}}m(We,"getTypeFromGroup");function At(T,N,Q,w){const{files:Pe,members:Be,channels:_e,userGroups:Ze,broadcastKeywords:qe,emoji:De}=N.entities,{members:le,channels:Re,userGroups:Fe}=Q.entities,Ge=Object(at.h)(T);let et={},Qe="";w!=null&&w.length&&(Qe=Array.isArray(w)?"@":w.charAt(0)),(Qe==="@"||Qe==="\uFF20")&&(Be||Ze||qe||Pe)?(Be&&(et.members=bn(Be,le)),Ze&&(et.userGroups=bn(Ze,Fe)),qe&&(et.broadcastKeywords=bn(qe,{})),Pe&&Ge&&(et.files=bn(Pe,{}))):(Qe==="#"||Qe==="\uFF03")&&_e?et.channels=bn(_e,Re):Qe===":"&&De?et.emoji=bn(De,{}):et=Object.keys(N.entities).reduce((Vn,Wn)=>{const Bn=N.entities[Wn];return Bn&&(Vn[Wn]=bn(Bn,Q.entities[Wn])),Vn},{});var it;const Lt=bn((it=N==null?void 0:N.sort)!==null&&it!==void 0?it:{},Q.sort);var Pt;const rn=(Pt=N.limit)!==null&&Pt!==void 0?Pt:Q.limit;var nn;const Sn=(nn=N.fuzzyLimit)!==null&&nn!==void 0?nn:Q.fuzzyLimit;var jn;const hn=(jn=N.fuzzyJumpLimit)!==null&&jn!==void 0?jn:Q.fuzzyJumpLimit,un=N.fuzzyCJK||Q.fuzzyCJK,An=N.tiered,mn=N.filter,Nn=N.allowEmptyQuery,xn=N.returnMetadata||Q.returnMetadata;return Lt&&(Lt.model=Lt.model||Object(ft.b)()),{entities:et,sort:Lt,limit:rn,tiered:An,filter:mn,allowEmptyQuery:Nn,fuzzyLimit:Sn,fuzzyJumpLimit:hn,fuzzyCJK:un,returnMetadata:xn}}m(At,"getAllOptions");function bn(T,N){if(!N||T===!1)return T;const Q=T===!0?{}:T,w=N===!0?{}:N;return Object(E.a)(Q,w)}m(bn,"mergeOptions");function vn(T){const{members:N,channels:Q,teams:w,userGroups:Pe,appActions:Be,files:_e}=T.entities;(N||Q||w||Pe||Be||_e)&&Se.b.pauseRefetchIndefinitely()}m(vn,"pauseConditionalFetching");function bt(){Se.b.unpauseRefetchImmediately()}m(bt,"unpauseConditionalFetching"),Object(Le.a)("searcher",{search:(T,N)=>Object(jt.dispatchForTeamId)(T,is({options:N})),searchLocal:(T,N)=>{const Q=Object(jt.getStateByTeamId)(T);return Ss(Q,{options:N})}})},cqtq:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t,a,r){let d,o;const i=(r??window).cancelAnimationFrame,h=(r??window).requestAnimationFrame;return function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];i(o),d=(r??window).performance.now();const E=m(v=>{v>d+a?t(...u):o=h(E)},"callback");return o=h(E),o}}m(n,"debounceRAF")},ctdj:function(K,s,e){K.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},cthg:function(K,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t});var n;(function(a){a.Screen="screen",a.Window="window",a.Other="other",a.None="none"})(n||(n={}));var t;(function(a){a.DesktopScreen="desktop:screen",a.DesktopWindow="desktop:window",a.DesktopUnknown="desktop:unknown",a.BrowserContent="browser:content",a.MobileScreen="mobile:screen",a.Unknown="unknown"})(t||(t={}))},"d/FZ":function(K,s,e){"use strict";var n=e("+l5E"),t=e("ssje"),a=e("JQ3U");const r=m(d=>!!(Object(n.fb)(d)||Object(n.bb)(d)||Object(a.a)(d)||Object(t.a)(d)),"isNonHumanMessage");s.a=r},d3B0:function(K,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"c",function(){return o}),e.d(s,"f",function(){return h}),e.d(s,"g",function(){return l}),e.d(s,"d",function(){return u}),e.d(s,"b",function(){return c}),e.d(s,"h",function(){return O}),e.d(s,"i",function(){return D}),e.d(s,"e",function(){return p});var n=e("F294"),t=e("G4qV"),a=e("AFNo");const r=Object(a.c)(b=>b.device.devices);r.meta={name:"createSelector",key:"createSelectorgetDevices",description:b=>b.device.devices};const d=Object(a.c)(b=>b.device.sinkDevice);d.meta={name:"createSelector",key:"createSelectorgetSinkDevice",description:b=>b.device.sinkDevice};const o=Object(a.c)((b,M)=>Object(n.a)(b.device.devices[M]));o.meta={name:"createSelector",key:"createSelectorgetPreferredDevice",description:(b,M)=>Object(n.a)(b.device.devices[M])};const i=Object(a.c)(b=>b.device.isMicrophoneBlockedByBrowser);i.meta={name:"createSelector",key:"createSelectorisMicrophoneBlockedByBrowser",description:b=>b.device.isMicrophoneBlockedByBrowser};const h=Object(a.c)(b=>b.device.isCameraBlockedByBrowser);h.meta={name:"createSelector",key:"createSelectorisCameraBlockedByBrowser",description:b=>b.device.isCameraBlockedByBrowser};const l=Object(t.a)(r,i,(b,M)=>v(b)&&!M),u=Object(t.a)(r,h,(b,M)=>g(b)&&!M),c=Object(t.a)(r,h,(b,M)=>{var _,P;if(!(!g(b)||M))return b==null||(_=b.camera)===null||_===void 0||(P=_[0])===null||P===void 0?void 0:P.id}),E=Object(a.c)(b=>b.device.previewStreams);E.meta={name:"createSelector",key:"createSelectorgetPreviewStreams",description:b=>b.device.previewStreams};function v(b){return b.microphone.length>0}m(v,"isMicrophoneAvailableInDevices");function g(b){return b.camera.length>0}m(g,"isCameraAvailableInDevices");function O(b){return b.microphone.some(M=>M.label!==void 0)}m(O,"isMicrophoneAvailableForCapturingInDevices");function I(b){return b.camera.some(M=>M.label!==void 0)}m(I,"isCameraAvailableForCapturingInDevices");function C(b){return b.output.some(M=>M.label!==void 0)}m(C,"isOutputAvailableForDisplay");const f=Object(a.c)(b=>b.device.isMicrophoneBlockedBySystem);f.meta={name:"createSelector",key:"createSelectorisMicrophoneBlockedBySystem",description:b=>b.device.isMicrophoneBlockedBySystem};const S=Object(a.c)(b=>b.device.isCameraBlockedBySystem);S.meta={name:"createSelector",key:"createSelectorisCameraBlockedBySystem",description:b=>b.device.isCameraBlockedBySystem};const D=Object(t.a)(i,f,(b,M)=>b||M),p=Object(t.a)(h,S,(b,M)=>b||M)},dDdQ:function(K,s,e){"use strict";e.d(s,"a",function(){return _}),e.d(s,"b",function(){return P});var n=e("SQ0V"),t=e("TBTs"),a=e("sypA"),r=e("xgMo"),d=e("s4P+"),o=e("ASxg"),i=e("6KE7"),h=e("7LcW"),l=e("Tkkt"),u=e("3fJ/"),c=e("k2tO"),E=e("C3NW"),v=e("pQQO"),g=e("sjOx"),O=e("kZhr"),I=e("vkL2");const C=Object(n.c)("Clear query session data on session expiration",y=>{y(Object(u.E)({querySessionTimeoutId:null})),y(Object(E.a)()),y(Object(l.g)({windowId:O.a})),y(Object(v.c)({query:"",inputId:g.w.OMNISWITCHER})),y(Object(u.m)({windowId:O.a}))});C.meta={name:"createThunk",key:"createThunkclearQuerySessionData",description:"Clear query session data on session expiration"};const f=Object(n.c)("Clear search session data on session expiration",y=>{y(Object(u.I)({sessionTimeoutId:null})),y(Object(c.a)()),y(Object(l.g)({windowId:O.a})),y(Object(v.c)({query:"",inputId:g.w.OMNISWITCHER})),y(Object(u.m)({windowId:O.a})),y(Object(I.a)({windowId:O.a}))});f.meta={name:"createThunk",key:"createThunkclearSearchSessionData",description:"Clear search session data on session expiration"};var S=e("zqr2"),D=e("qQXB"),p=e("HKlo"),b=e("gpLM"),M=e("rZ8V");const _=Object(n.c)("Clear session timeouts on search mount",(y,j)=>{const U=j(),W=Object(M.m)(U);Object(t.z)(U)?(Object(d.a)({getState:j}).info(o.a,"Navigated to search page and session is already active: Clearing timer"),y(Object(a.a)())):Object(r.b)(U)||(Object(d.a)({getState:j}).info(o.a,"Navigated to search page without active session: Starting new session"),y(Object(i.b)())),Object(t.i)(U)||(y(Object(u.r)({lastOpenMethod:"history"})),y(Object(D.n)({method:"history"}))),y(Object(b.c)({focusKey:W?p.c.Search:p.c.PAGE_CONTENT_SEARCH_PAGE,forceFocus:!0}))});_.meta={name:"createThunk",key:"createThunkclearSessionTimeoutsOnSearchMount",description:"Clear session timeouts on search mount"};const P=Object(n.c)("Start session timeouts on search unmount",(y,j)=>{const U=j(),W=g.w.OMNISWITCHER;if(!Object(h.a)(U,W))return;Object(d.a)({getState:j}).info(o.a,"Navigated from search page with active query: Starting timeout to clear session");const L=setTimeout(()=>{const A=j();Object(t.v)(A)===L&&y(C())},S.a);y(Object(u.E)({querySessionTimeoutId:L}));const R=setTimeout(()=>{const A=j();Object(t.z)(A)===R&&y(f())},S.b);y(Object(u.I)({sessionTimeoutId:R})),y(Object(D.h)()),y(Object(u.r)({lastOpenMethod:null}))});P.meta={name:"createThunk",key:"createThunkstartSessionTimeoutsOnSearchUnmount",description:"Start session timeouts on search unmount"}},dHXs:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("ifKl"),d=e("nNoG"),o=e("ktUG"),i=e("d/Q8"),h=e("Trx9"),l=e("qDEp"),u=e("Tevt"),c=e("rAyg");function E(){return E=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var f=arguments[C];for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&(I[S]=f[S])}return I},E.apply(this,arguments)}m(E,"_extends");const v=new d.b("trials"),g=m(I=>{let{children:C,reason:f,context:S,promoType:D,promoSubtype:p,onClick:b,onRequestComplete:M=r.a,useLink:_,refToForward:P,...y}=I;const j=Object(a.useDispatch)(),[U,W]=Object(n.useState)(!1),[L,R]=Object(n.useState)(!1),A=m(()=>{W(!0),R(!1)},"handleError"),B=Object(n.useCallback)(()=>{L||(R(!0),W(!1),j(Object(i.a)({reason:f,campaignType:D,campaignSubType:p,context:S})).then(V=>{let{trial_expiration_date:X}=V;M({trialExpirationDate:X}),X||A()}).catch(A))},[j,f,D,p,S,M,L]),F=Object(n.useCallback)(()=>{B(),b==null||b()},[b,B]),k=_?t.a.createElement(u.a,E({ref:P},y,{onClick:F}),C):t.a.createElement(l.c,E({ref:P},y,{onClick:F,loading:L}),C);return t.a.createElement(h.a,{eventId:o.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0},k,U&&t.a.createElement(c.a,{icon:"exclamation-circle",shouldAutoFade:!1,iconClassName:"align_self_start"},v.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");g.displayName="TrialStartCTABase";const O=t.a.forwardRef((I,C)=>t.a.createElement(g,E({},I,{refToForward:C})));s.a=O},dKQz:function(K,s,e){"use strict";e.d(s,"C",function(){return t}),e.d(s,"U",function(){return a}),e.d(s,"P",function(){return r}),e.d(s,"T",function(){return d}),e.d(s,"e",function(){return o}),e.d(s,"f",function(){return i}),e.d(s,"g",function(){return h}),e.d(s,"r",function(){return l}),e.d(s,"s",function(){return u}),e.d(s,"q",function(){return c}),e.d(s,"a",function(){return E}),e.d(s,"ab",function(){return v}),e.d(s,"Z",function(){return g}),e.d(s,"cb",function(){return O}),e.d(s,"c",function(){return I}),e.d(s,"b",function(){return C}),e.d(s,"N",function(){return f}),e.d(s,"R",function(){return S}),e.d(s,"j",function(){return D}),e.d(s,"k",function(){return p}),e.d(s,"H",function(){return b}),e.d(s,"t",function(){return M}),e.d(s,"I",function(){return _}),e.d(s,"L",function(){return P}),e.d(s,"W",function(){return y}),e.d(s,"i",function(){return j}),e.d(s,"db",function(){return U}),e.d(s,"d",function(){return W}),e.d(s,"Y",function(){return R}),e.d(s,"bb",function(){return A}),e.d(s,"X",function(){return B}),e.d(s,"D",function(){return k}),e.d(s,"w",function(){return V}),e.d(s,"G",function(){return X}),e.d(s,"F",function(){return J}),e.d(s,"E",function(){return Y}),e.d(s,"O",function(){return de}),e.d(s,"S",function(){return pe}),e.d(s,"J",function(){return oe}),e.d(s,"o",function(){return me}),e.d(s,"M",function(){return re}),e.d(s,"Q",function(){return ve}),e.d(s,"K",function(){return q}),e.d(s,"p",function(){return ce}),e.d(s,"m",function(){return he}),e.d(s,"n",function(){return Se}),e.d(s,"v",function(){return se}),e.d(s,"A",function(){return H}),e.d(s,"V",function(){return Oe}),e.d(s,"l",function(){return $}),e.d(s,"y",function(){return z}),e.d(s,"u",function(){return be}),e.d(s,"B",function(){return Z}),e.d(s,"z",function(){return G}),e.d(s,"h",function(){return ne}),e.d(s,"x",function(){return Je});var n=e("DwFS");const t=Object(n.a)("Set flag to indicate if Huddles is enabled.");t.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const a=Object(n.a)("Stores audio reference that will be passed to SDK");a.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const r=Object(n.a)("Start video shariing");r.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const d=Object(n.a)("Stop video shariing");d.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const o=Object(n.a)("Connect to Huddle media server");o.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const i=Object(n.a)("Leave the huddle and stop media transmission");i.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const h=Object(n.a)("Enable or disable local microphone");h.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const l=Object(n.a)("Send an emoji reaction");l.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const u=Object(n.a)("Send a sticky emoji reaction");u.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const c=Object(n.a)("Send a mute request");c.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const E=Object(n.a)("Insert new active huddle reference with teamId channelId, etc.");E.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const v=Object(n.a)("Upsert existing active huddle reference");v.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const g=Object(n.a)("Upsert existing active huddle channel");g.meta={name:"createAction",key:"createActionupdateActiveHuddleChannel",description:"Upsert existing active huddle channel"};const O=Object(n.a)("Set active huddle invite");O.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const I=Object(n.a)("Clear invite for given channel ID");I.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const C=Object(n.a)("Clear all invites regardless of channel ID");C.meta={name:"createAction",key:"createActionclearAllInvites",description:"Clear all invites regardless of channel ID"};const f=Object(n.a)("Start screen share for current user with given mediaSourceId");f.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const S=Object(n.a)("Stop screen share for current user");S.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const D=Object(n.a)("Notify peers of changes to isDrawEnabled");D.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const p=Object(n.a)("Enabled annotations for screen share host");p.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const b=Object(n.a)("Notify middleware that a new preferred device was selected");b.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const M=Object(n.a)("Notify middleware that automatic gain control setting has changed");M.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const _=Object(n.a)("Notify middleware that noise suppression setting has changed");_.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const P=Object(n.a)("Notify middleware that video background setting has changed");P.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const y=Object(n.a)("Toggle global keyboard shortcut support for muting / unmuting a huddle");y.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const j=Object(n.a)("Internal store update for mini-panel visibility");j.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const U=Object(n.a)("Upsert join credentials for a channel");U.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const W=Object(n.a)("Clear the join credentials for a specific channel");W.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const L=Object(n.a)("Store and/or remote push Chime meeting events");L.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const R=Object(n.a)("Transition from the prejoin state to started");R.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const A=Object(n.a)("Action to update the store to either show or hide discovery banner");A.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const B=Object(n.a)("Toggle Video");B.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const F=Object(n.a)("Reporting CPU and memory usage stats");F.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const k=Object(n.a)("Set true to specify that lounge music is playing, false otherwise.");k.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const V=Object(n.a)("Set current focused view type");V.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const X=Object(n.a)("Set last huddle start time");X.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const J=Object(n.a)("Set last huddle end time");J.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const Y=Object(n.a)("Set last huddle duration time");Y.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const ie=Object(n.a)("Toggle video background filter");ie.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const de=Object(n.a)("Starts the video preview on the video element using the specified device");de.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const pe=Object(n.a)("Stops the video preview on the video element");pe.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const oe=Object(n.a)("Identifies which screenshare is being viewed in the mini-player");oe.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const me=Object(n.a)("Resets the store");me.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const re=Object(n.a)("Start the canvas jukebox using content share");re.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const ve=Object(n.a)("Stop the canvas jukebox");ve.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const q=Object(n.a)("Set selected song");q.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const ce=Object(n.a)("Send jukebox active song");ce.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const he=Object(n.a)("Request a jukebox song");he.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const Se=Object(n.a)("Request the jukebox stops");Se.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const se=Object(n.a)("Sets whether the active invite card in the sidebar can be rendered");se.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const H=Object(n.a)("Sets whether the huddle window of an active huddle is in focus or not.");H.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const Oe=Object(n.a)("Sets whether the huddle window of an active huddle is open or not.");Oe.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const $=Object(n.a)("Reports to the SDK when the client is offline");$.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const z=Object(n.a)("Sets whether audio only mode is active or not.");z.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const be=Object(n.a)("Sets whether the camera was enabled when audio only mode was activated.");be.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const Z=Object(n.a)("Sets whether the huddle window of an active huddle is open or not.");Z.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const G=Object(n.a)("True if huddle mini player is hidden, false if shown.");G.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const ne=Object(n.a)("Asks for video permission and enumerates devices");ne.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const ge=Object(n.a)("Execute readiness check for audio input");ge.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const ae=Object(n.a)("Execute readiness check for audio output");ae.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const fe=Object(n.a)("Execute readiness check for video input");fe.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const Te=Object(n.a)("Execute readiness check for a particular camera resolution");Te.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const ye=Object(n.a)("Execute readiness check for audio connectivity");ye.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const Ue=Object(n.a)("Execute readiness check for video connectivity");Ue.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const Ne=Object(n.a)("Execute readiness check for content share connectivity");Ne.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const He=Object(n.a)("Execute readiness check for network UDP connectivity");He.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const ze=Object(n.a)("Execute readiness check for network TCP connectivity");ze.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"};const Je=Object(n.a)("Sets that the Huddle was joined via prejoin");Je.meta={name:"createAction",key:"createActionsetHuddleWasJoinedFromPrejoin",description:"Sets that the Huddle was joined via prejoin"}},dNN9:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("YUBf");const d=m(o=>{let{children:i,className:h}=o;return t.a.createElement(r.e,{className:Object(a.default)("p-upgrades_modal__content_section",h)},i)},"ModalBody");s.a=d},dUj5:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Add a placeholder to the store");t.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const a=Object(n.a)("Remove a placeholder from the store by client_msg_id");a.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},dVMU:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("ktUG"),t;(function(i){i.Start="/",i.Find="/find",i.Create="/create",i.CreateNew="/createnew",i.Confirm="/confirm",i.Check="/check",i.FindAgain="/find_again",i.Email="/email",i.Error="/error",i.ConfirmationCode="/confirmemail",i.DomainClaimed="/domain",i.Landing="/landing",i.ConfirmTrust="/confirmtrust",i.IgnoreInvite="/ignoreinvite",i.SignIn="/signin",i.Workspaces="/workspaces",i.SharedInviteLoggedOut="/sharedinvite",i.SharedInviteLanding="/sharedinvitelanding",i.SelectWorkspaces="/select",i.AppleSignIn="/apple",i.AddName="/addname"})(t||(t={}));var a;(function(i){i.SharedChannelInviteAlreadyAccepted="invite_used",i.SharedChannelInviteInvlidLink="invalid_link",i.DirectMessageInviteInactive="inactive_invite",i.Generic="generic"})(a||(a={}));const r={[t.Start]:n.UiStep.START_WITH_A_WORKSPACE,[t.Create]:n.UiStep.CREATE_NEW_WORKSPACE,[t.CreateNew]:n.UiStep.CREATE_NEW_WORKSPACE,[t.Find]:n.UiStep.FIND_YOUR_WORKSPACE,[t.Check]:n.UiStep.CHECK_YOUR_EMAIL,[t.FindAgain]:n.UiStep.FIND_YOUR_WORKSPACE,[t.Email]:n.UiStep.ENTER_EMAIL,[t.Confirm]:n.UiStep.ENTER_EMAIL,[t.Error]:n.UiStep.GET_STARTED_ERROR,[t.ConfirmationCode]:n.UiStep.GET_STARTED_CONFIRM_CODE,[t.DomainClaimed]:n.UiStep.GET_STARTED_DOMAIN_CLAIMED,[t.Landing]:n.UiStep.GET_STARTED_CREATOR_LANDING,[t.SignIn]:n.UiStep.GET_STARTED_SIGN_IN,[t.Workspaces]:n.UiStep.GET_STARTED_WORKSPACES,[t.SharedInviteLoggedOut]:n.UiStep.SHARED_INVITE_LOGGED_OUT,[t.SharedInviteLanding]:n.UiStep.SHARED_INVITE_LANDING,[t.SelectWorkspaces]:n.UiStep.GET_STARTED_SELECT_WORKSPACES,[t.AppleSignIn]:n.UiStep.GET_STARTED_APPLE_SIGN_IN,[t.ConfirmTrust]:n.UiStep.GET_STARTED_CONFIRM_TRUST,[t.IgnoreInvite]:n.UiStep.GET_STARTED_IGNORE_INVITE,[t.AddName]:n.UiStep.GET_STARTED_ADD_NAME};var d;(function(i){i.Invited="invited",i.Joined="joined",i.Whitelisted="whitelisted"})(d||(d={}));var o;(function(i){i.Email="email",i.GoogleIdToken="google_id_token",i.Apple="apple_id_token"})(o||(o={}))},dbKp:function(K,s,e){K.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},dedX:function(K,s,e){"use strict";var n=e("n3tL"),t=e("Kyco"),a=e("I3Q6");const r={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},d=Object(t.b)({},r,{storeKey:"connectivity",persistenceEnabled:!1}).on(a.b,(o,i)=>({...o,serviceOnline:!!i})).on(a.c,o=>o===r?{...o,lastSocketActivity:Date.now()}:(o.lastSocketActivity=Date.now(),o)).on(a.a,(o,i)=>({...o,clientOnline:!!i,lastClientConnection:Date.now()})).on(a.d,o=>({...o,lastSocketConnection:Date.now()}));d.propTypes={serviceOnline:n.default.bool.isRequired,lastSocketActivity:n.default.number.isRequired,clientOnline:n.default.bool.isRequired,lastClientConnection:n.default.number.isRequired,lastSocketConnection:n.default.number},s.a=d},djjd:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("Yauy"),t=e("E97Y");const a=m((r,d)=>{if(Object(t.h)(d)||!r)return!1;const o=Object(n.K)(d),i=o?r.get(o):null;return i?(i==null?void 0:i.length)>1:!1},"doesChannelHaveNonUniqueName")},dkXW:function(K,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"b",function(){return I}),e.d(s,"d",function(){return S}),e.d(s,"c",function(){return p});var n=e("9oTK"),t=e("TSHB"),a=e("6LPd"),r=e("XhtD"),d=e("1myf"),o=e("3Hq1");function i(){return"0.1"}m(i,"getDevicePrefsVersion");var h=e("WCSk"),l=e("KciV");const u="devicePrefs";function c(b){return Object(t.a)(b,M=>M[0])}m(c,"getPreferredDevices");function E(){return{camera:[],microphone:[h.c,h.b],output:[h.c,h.b]}}m(E,"createDefaultDevicePriority");function v(){return{camera:[],microphone:[],output:[]}}m(v,"createDefaultDeviceExtendedPriority");function g(){return{enableAGC:!0,enableNoiseSuppression:!0}}m(g,"createDefaultAudioPrefs");function O(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}m(O,"createDefaultVideoPrefs");function I(){const b=localStorage.getItem(u),M={version:i(),deviceIdPriorities:E(),deviceIdPrioritiesExtended:v(),video:O(),audio:g()};if(!b)return M;try{const _=JSON.parse(b);return _.version!==i()?M:{...M,..._}}catch(_){return Object(l.c)("DEVICES").error("Could not read device preferences from localStorage: ",_.message),M}}m(I,"readDevicePrefs");function C(b){return f.apply(this,arguments)}m(C,"updateDeviceIdPrioritiesExtended");function f(){return f=Object(n.coroutine)(function*(b){const M={},_=yield navigator.mediaDevices.enumerateDevices();for(const P of Object.keys(b)){const y=[],j=P;for(let U=0;U<b[j].length;U++){const W=b[j][U],L=_.find(R=>R.deviceId===W);L&&y.push({id:L.deviceId,groupId:L.groupId,label:L.label,labelWithoutId:Object(h.g)(L.label)})}M[P]=y}return M}),f.apply(this,arguments)}m(f,"_updateDeviceIdPrioritiesExtended");function S(b){return D.apply(this,arguments)}m(S,"writeDevicePrefs");function D(){return D=Object(n.coroutine)(function*(b){try{const M=yield C(b.deviceIdPriorities),_={...b,deviceIdPrioritiesExtended:M};localStorage.setItem(u,JSON.stringify(_))}catch(M){Object(l.c)("DEVICES").error("Could not write device preferences to localStorage: ",M.message)}}),D.apply(this,arguments)}m(D,"_writeDevicePrefs");function p(b,M){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const P=Object(a.a)(M,Object(r.a)(M.length)),y=Object(a.a)(_.map(j=>j.labelWithoutId),Object(r.a)(_.length));return Object(d.a)(b,j=>{const U=Object(h.g)(j.label);return Object(o.a)(P[j.deviceId])?Object(o.a)(y[U])?1/0:y[U]:P[j.deviceId]})}m(p,"sortDevicesByPriorityWithFallback")},dl0f:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("3bXy"),d=e("CTEJ");const o=new a.b("user_group_token"),{Unknown:i,Nonexistent:h}=r.a,{Small:l,Medium:u}=r.b,c=m(g=>{let{invert:O=!1,size:I=l,type:C=i,subtler:f=!1}=g;const S=C===i?o.t("Loading..."):o.t("Private user group info");if(I===u){const D="\xA0\xA0\xB7\xA0\xA0";return t.a.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.a.createElement("div",null,t.a.createElement(d.a,{tooltip:S,isNonExistent:C===h,size:"small",invert:O})," ",t.a.createElement(d.a,{tooltip:S,isNonExistent:C===h,size:"small",invert:O})),t.a.createElement("div",null,t.a.createElement(d.a,{tooltip:S,isNonExistent:C===h,size:"small",invert:O}),D,t.a.createElement(d.a,{tooltip:S,isNonExistent:C===h,size:"large",invert:O})))}return t.a.createElement(d.a,{tooltip:S,isNonExistent:C===h,size:"random",subtler:f,invert:O})},"MissingUserGroup");c.displayName="MissingUserGroup";var E=c,v=s.a=E},do0Y:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Overwrites our store of the teams in a given externally shared channel");t.meta={name:"createAction",key:"createActionupdateExtSharedChannelTeams",description:"Overwrites our store of the teams in a given externally shared channel"};const a=Object(n.a)("Updates whether or not disconnect is in progress for the given team");a.meta={name:"createAction",key:"createActionupdateIsDisconnectInProgressForTeam",description:"Updates whether or not disconnect is in progress for the given team"}},dqLn:function(K,s,e){"use strict";var n=e("n3tL"),t=e("DwFS");const a=Object(t.a)("(noop) Remove a pinned item via side-effect");a.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"},a.propTypes=n.default.shape({item:n.default.object.isRequired,channelId:n.default.string.isRequired}).isRequired,s.a=a},dqxO:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"o",function(){return a}),e.d(s,"l",function(){return i}),e.d(s,"b",function(){return h}),e.d(s,"d",function(){return l}),e.d(s,"h",function(){return u}),e.d(s,"j",function(){return c}),e.d(s,"f",function(){return E}),e.d(s,"m",function(){return v}),e.d(s,"i",function(){return g}),e.d(s,"k",function(){return O}),e.d(s,"e",function(){return I}),e.d(s,"g",function(){return C}),e.d(s,"n",function(){return f}),e.d(s,"c",function(){return S});var n=e("DwFS");const t=Object(n.a)("Add an array of devices to the device store");t.meta={name:"createAction",key:"createActionclobberDevices",description:"Add an array of devices to the device store"};const a=Object(n.a)("Set the sink device for media elements");a.meta={name:"createAction",key:"createActionsetSinkDevice",description:"Set the sink device for media elements"};const r=Object(n.a)("Notify middleware of a new preferred device");r.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware of a new preferred device"};const d=Object(n.a)("");d.meta={name:"createAction",key:"createActionrequestPreviewStreamForDeviceId",description:""};const o=Object(n.a)("Stop preview streams");o.meta={name:"createAction",key:"createActionstopPreviewStreams",description:"Stop preview streams"};const i=Object(n.a)("");i.meta={name:"createAction",key:"createActionsetPreviewStreams",description:""};const h=Object(n.a)("Get screen thumbnails");h.meta={name:"createAction",key:"createActiongetScreenThumbnails",description:"Get screen thumbnails"};const l=Object(n.a)("The browser has blocked getUserMedia for cameras");l.meta={name:"createAction",key:"createActionsetCameraIsBlockedByBrowser",description:"The browser has blocked getUserMedia for cameras"};const u=Object(n.a)("The browser has blocked getUserMedia for microphones");u.meta={name:"createAction",key:"createActionsetMicrophoneIsBlockedByBrowser",description:"The browser has blocked getUserMedia for microphones"};const c=Object(n.a)("The browser has granted getUserMedia access for microphones");c.meta={name:"createAction",key:"createActionsetMicrophoneIsGrantedByBrowser",description:"The browser has granted getUserMedia access for microphones"};const E=Object(n.a)("The browser has granted getUserMedia access for cameras");E.meta={name:"createAction",key:"createActionsetCameraIsGrantedByBrowser",description:"The browser has granted getUserMedia access for cameras"};const v=Object(n.a)("The browser has blocked getUserMedia for screen recording");v.meta={name:"createAction",key:"createActionsetScreenRecordingIsBlockedByBrowser",description:"The browser has blocked getUserMedia for screen recording"};const g=Object(n.a)("The system has blocked getUserMedia access for microphones");g.meta={name:"createAction",key:"createActionsetMicrophoneIsBlockedBySystem",description:"The system has blocked getUserMedia access for microphones"};const O=Object(n.a)("The system has granted getUserMedia access for microphones");O.meta={name:"createAction",key:"createActionsetMicrophoneIsGrantedBySystem",description:"The system has granted getUserMedia access for microphones"};const I=Object(n.a)("The system has blocked getUserMedia access for cameras");I.meta={name:"createAction",key:"createActionsetCameraIsBlockedBySystem",description:"The system has blocked getUserMedia access for cameras"};const C=Object(n.a)("The system has granted getUserMedia access for cameras");C.meta={name:"createAction",key:"createActionsetCameraIsGrantedBySystem",description:"The system has granted getUserMedia access for cameras"};const f=Object(n.a)("The system has blocked screen recording");f.meta={name:"createAction",key:"createActionsetScreenshareRecordingIsBlockedBySystem",description:"The system has blocked screen recording"};const S=Object(n.a)("Check for system media access");S.meta={name:"createAction",key:"createActionmaybeCheckSystemMediaAccess",description:"Check for system media access"};const D=Object(n.a)("Notify middleware that automatic gain control setting has changed");D.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const p=Object(n.a)("Notify middleware that noise suppression setting has changed");p.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"}},e33t:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("SQ0V"),t=e("Q7We"),a=e("8Xig"),r=e("rRi9");const d=Object(n.c)("Remove ephemeral messages by type, channel, and/or thread",(o,i,h)=>{const l=i();Object(a.a)(l,h).forEach(c=>{o(Object(t.a)({channelId:c.channel,ts:c.ts||""})),o(Object(r.b)({ephemeralType:h.ephemeralType,channelId:c.channel,ts:c.ts}))})});d.meta={name:"createThunk",key:"createThunkremoveEphemeralMsgsByType",description:"Remove ephemeral messages by type, channel, and/or thread"}},e4zL:function(K,s,e){"use strict";e.d(s,"g",function(){return t}),e.d(s,"f",function(){return a}),e.d(s,"c",function(){return r}),e.d(s,"h",function(){return d}),e.d(s,"a",function(){return o}),e.d(s,"d",function(){return i}),e.d(s,"e",function(){return h}),e.d(s,"b",function(){return l});var n=e("DwFS");const t=Object(n.a)("Mark emoji collections as fetch (or not fetched");t.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const a=Object(n.a)("Set and replace emoji collections");a.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const r=Object(n.a)("Signals that an emoji collection has been installed");r.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const d=Object(n.a)("Signals that an emoji collection has been uninstalled");d.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const o=Object(n.a)("Signals that badges should be added post-install");o.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const i=Object(n.a)("Signals that the message input badge should be removed");i.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const h=Object(n.a)("Signals that the message tab badge should be removed from the emoji picker");h.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const l=Object(n.a)("Increments emoji click count");l.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},e7up:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("3bXy");const d=m(i=>{let{className:h,isNonExistent:l=!1,size:u,subtler:c=!1,invert:E=!1}=i;const{Unknown:v,Nonexistent:g}=r.a,O=l?g:v,I=Object(n.useMemo)(()=>({height:u,width:u}),[u]);return t.a.createElement("span",{className:Object(a.default)(h,"c-missing_icon",`c-missing_icon--${O}`,{"c-missing_icon--unknown_inverted":O===v&&E,"c-missing_icon--non_existent_inverted":O===g&&E,"c-missing_icon--subtler":c}),style:I})},"MissingIcon");d.displayName="MissingIcon";var o=s.a=d},eEvQ:function(K,s,e){"use strict";e.d(s,"b",function(){return h});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("kQBZ"),d=e("LlQb"),o=e("j5Pp"),i=e("kov+");const h=m(u=>{var c;return u?{...u,isSandbox:((c=u.third_party_oauth2_provider)===null||c===void 0?void 0:c.provider_key)===i.m.Sandbox,isConnected:u.status===d.e.Connected,isSynced:u.status===d.e.Synced,isDisconnected:u.status===d.e.Disconnected,isDeleted:u.status===d.e.Deleted,isProblem:u.status===d.e.Problem}:null},"extendDatasourceInfo"),l=Object(a.c)("Fetches datasource info",function(){var u=Object(n.coroutine)(function*(c,E,v){let{datasourceId:g}=v;const{datasource:O}=yield c(Object(r.uc)({datasourceId:g,reason:"modern-selling"}));return c(Object(o.l)(O||null)),h(O)});return function(c,E,v){return u.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkfetchDatasourceInfo",description:"Fetches datasource info"},s.a=l},eH51:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){var a;return!t||t.metaKey||t.ctrlKey?!1:((a=t.key)===null||a===void 0?void 0:a.length)===1}m(n,"isPrintableKeyEvent")},eWGC:function(K,s,e){"use strict";e.d(s,"b",function(){return u});var n=e("s4P+"),t=e("SQ0V"),a=e("0Wfr"),r=e("VUud"),d=e("Lgge"),o=e("uVZW");const i=Object(t.c)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(c,E,v)=>{const{notificationName:g,...O}=v,I=Object(n.b)();var C;const f=(C=v.reason)!==null&&C!==void 0?C:"record-notification-event";if(!g)return I.error(o.d,"notificationName is required when dispatching recordNotificationEvent."),d.a.resolve();const S={notification:g,...O,reason:f};return c(Object(r.a)(S))});i.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const h=6e4,l=!1,u=Object(a.a)(i,h,l);s.a=i},eb8l:function(K,s,e){K.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},edAB:function(K,s,e){"use strict";e.r(s),e.d(s,"test",function(){return Ba});var n=e("9oTK"),t=e("Omjo"),a=e("4p6e"),r=e("duHP"),d=e("2nP+"),o=e("fkOA"),i=e("25cE"),h=e("Lizi"),l=e("vjDR"),u=e("MXQz"),c=e("lhZz"),E=e("kBpe"),v=e("7xYR"),g=e("Sklr"),O=e("Lgge"),I=e("JJ34"),C=e("mEzS"),f=e("xcHN"),S=e("qMw6"),D=e("bczA"),p=e("2VFn");function b(gt,dt,mt){return!!gt&&(!gt.viewContext||gt.viewContext===S.a.MESSAGE_PANE)&&dt===gt.channelId&&mt!==gt.channelId}m(b,"willEditChannelBecomeInvisible");function M(gt,dt,mt,Ct,Bt){return!!gt&&gt.viewContext===S.a.THREAD&&dt===i.w&&mt===Object(f.c)(gt.channelId,gt.threadTs)&&(Ct!==i.w||Bt!==Object(f.c)(gt.channelId,gt.threadTs))}m(M,"willEditThreadBecomeInvisible");var _=m(gt=>{let{params:dt={},prevTeamId:mt,nextTeamId:Ct,routeName:Bt}=gt;if(mt!==Ct)return O.a.resolve();const kt=Object(c.getStoreInstanceByTeamId)(mt),Vt=kt.getState(),cn=Object(D.a)(Vt),En=Object(D.b)(Vt),Rn=Object(I.b)(Vt,{ignoreViewContext:!0,windowId:String(p.c)});return b(Rn,En.entityId,dt.entityId)||M(Rn,cn,En.threadId,Bt,dt.threadId)?kt.dispatch(Object(C.a)({cancelUnsavedEdits:!1,scroll:!0})):O.a.resolve()},"route_listeners_attempt_to_stop_editing_in_channel"),P=e("E3dU"),y=e("Fqb6"),j=e("ohbk"),U=e("q1tI"),W=e.n(U),L=e("n3tL"),R=e("SQ0V"),A=e("oY18"),B=e("beVI"),F=e("G0eX"),k=e("rAyg"),V=e("nNoG");function X(){return X=Object.assign||function(gt){for(var dt=1;dt<arguments.length;dt++){var mt=arguments[dt];for(var Ct in mt)Object.prototype.hasOwnProperty.call(mt,Ct)&&(gt[Ct]=mt[Ct])}return gt},X.apply(this,arguments)}m(X,"_extends");const J=new V.b("unavailable_channel"),Y={teamName:L.default.string.isRequired};let ie=m(class extends U.PureComponent{render(){const{teamName:dt,...mt}=this.props,Ct=J.t("{teamName} is making some changes to their workspace, so content and conversations shared with them are temporarily unavailable.",{teamName:dt});return W.a.createElement(k.a,X({fadeDelay:1e4,type:"error"},mt),W.a.createElement("span",null,Ct))}},"UnavailableMemberToast");ie.displayName="UnavailableMemberToast",ie.propTypes=Y;var de=ie;const pe=Object(R.c)("Show unavailable member toast",function(gt,dt){let{teamId:mt}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ct=dt(),Bt=Object(B.s)(Ct,mt),kt=Object(F.h)(Bt);return gt(Object(A.a)({element:W.a.createElement(de,{type:"error",teamName:kt})}))});pe.meta={name:"createThunk",key:"createThunkshowUnavailableMemberToast",description:"Show unavailable member toast"},pe.propTypes={teamId:L.default.string.isRequired};var oe=pe,me=e("xwCZ"),re=e("C3vN"),ve=e("ehcD"),q=e("Sl1j"),ce=e("Yauy"),he=e("eUIW"),Se=m(gt=>{let{nextTeamId:dt,params:mt={}}=gt;const Ct=Object(c.getStoreInstanceByTeamId)(dt);if(!Ct)return O.a.resolve(!0);const Bt=Ct.getState();if(!mt.entityId||!Object(he.a)(mt.entityId))return O.a.resolve();const kt=mt.entityId,Vt=Object(me.g)(Bt,kt),cn=Object(re.ob)(Bt,Vt),En=Object(P.m)(Bt,kt);return En&&Object(ce.jb)(En)?(Ct.dispatch(Object(j.a)({id:En.id})),O.a.resolve(!1)):cn?(Ct.dispatch(oe({teamId:Object(ve.c)(Bt,Vt)})),O.a.resolve(!1)):Ct.dispatch(Object(q.r)({memberIds:[kt],reason:"sonic/route-listeners/open-conversation-with-member"})).then(function(){let{channel:Rn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{channel:void 0};return Rn&&(Ct.dispatch(Object(y.a)({channel:Rn})),Ct.dispatch(Object(j.a)({id:Rn.id}))),O.a.resolve(!1)})},"open_conversation_with_member"),se=e("E97Y"),H=e("Zbwg"),Oe=m(gt=>{let{nextTeamId:dt,params:mt={}}=gt;if(!dt)return O.a.resolve();const Ct=Object(c.getStoreInstanceByTeamId)(dt),Bt=Ct.getState(),kt=mt.entityId;if(!kt||!Object(H.a)(kt))return O.a.resolve();const Vt=Object(P.d)(Bt,kt);return!Object(se.i)(Vt)&&!Object(se.g)(Vt)||Object(ce.jb)(Vt)?O.a.resolve():Ct.dispatch(Object(q.r)({channel:kt,reason:"sonic/route-listeners/open-conversation-with-ids",memberIds:[]})).then(function(){let{channel:cn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{channel:void 0};cn&&Ct.dispatch(Object(y.a)({channel:cn}))})},"open_conversation_with_ids"),$=e("XZo2"),z=e("JfJV");function be(gt,dt){return Z.apply(this,arguments)}m(be,"ensureChannel");function Z(){return Z=Object(n.coroutine)(function*(gt,dt){const mt=gt.getState(),Ct=Object(P.d)(mt,dt,!1);return Object(se.f)(Ct)?Ct:gt.dispatch(Object(q.f)({ids:[dt],reason:"sonic/route-listeners/ensure-channel",callSource:q.a.EnsureChannel})).then(Bt=>{if(!Bt)return;const{channels:kt,resolved:Vt}=Bt;if(!(!Vt||!Vt.includes(dt)))return kt[0]})}),Z.apply(this,arguments)}m(Z,"_ensureChannel");var G=function(){var gt=Object(n.coroutine)(function*(dt){let{prevTeamId:mt,nextTeamId:Ct,routeName:Bt,params:kt={}}=dt;const Vt=Object(c.getStoreInstanceByTeamId)(Ct);if(!Object(H.a)(kt.entityId))return O.a.resolve(void 0);const cn=kt.entityId;return be(Vt,cn).then(En=>{if(En&&!Object(ce.X)(En))return O.a.resolve(void 0);if(mt!==Ct){const Rn=Object($.r)(Vt.getState(),{mainView:!0});return Rn===cn?O.a.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):(Object(z.h)(Bt,{...kt,entityId:Rn},{shouldReplaceState:!0}),O.a.resolve(!1))}return En?O.a.reject(new Error("tried to switch to a channel from another team")):O.a.resolve(!1)})});return function(dt){return gt.apply(this,arguments)}}(),ne=e("m8R6"),ge=e("GV2D");const ae="clear_timestamp";var fe=m(gt=>{let{prevTeamId:dt,nextTeamId:mt,routeName:Ct,reason:Bt,params:kt={}}=gt;const Vt=Object(c.getStoreInstanceByTeamId)(mt),cn=Vt.getState();if(Bt===ae||Ct===i.e)return;const En=Object(H.a)(kt.entityId)&&kt.entityId,Rn=kt.timestamp,ss=Object(D.b)(cn),ms=Object(H.a)(ss.entityId)&&ss.entityId;mt===dt&&ms===En&&!Rn||En===void 0||(Vt.dispatch(Object(ge.a)({channelId:En,startTs:Rn,isWorkspaceSwitch:mt!==dt})),Rn&&Object(z.h)(Ct,Object(ne.a)(kt,"timestamp"),{reason:ae,shouldReplaceState:!0}))},"sync_message_pane"),Te=e("2XL1"),ye=m(gt=>{let{prevTeamId:dt,nextTeamId:mt,params:Ct={}}=gt;const Bt=Object(c.getStoreInstanceByTeamId)(mt),kt=Bt.getState(),Vt=Object(H.a)(Ct.entityId)&&Ct.entityId,cn=Object(D.b)(kt),En=Object(H.a)(cn.entityId)&&cn.entityId;!Object($.v)(kt)||mt===dt&&En===Vt||Bt.dispatch(Object(Te.h)(!1))},"close_app_space"),Ue=e("4hjS"),Ne=e("JoR1"),He=e("T1zM"),ze=e("b8K+"),Je=m(gt=>{let{prevTeamId:dt,nextTeamId:mt,params:Ct={}}=gt;if(dt!==mt)return;const Bt=Object(c.getStoreInstanceByTeamId)(mt),kt=Bt.getState(),Vt=Ct.entityId,cn=Object(Ue.l)(kt),En=Object(Ne.t)(kt,ze.a.PREF);En===ze.a.FLEXPANE&&Vt==="activity-page"?Bt.dispatch(Object(He.f)({pref:ze.a.PREF,value:ze.a.PAGE})):En===ze.a.PAGE&&cn==="activity"&&Bt.dispatch(Object(He.f)({pref:ze.a.PREF,value:ze.a.FLEXPANE}))},"sync_activity_page_view"),Xe=e("arBb"),Me=m(gt=>{let{prevTeamId:dt,nextTeamId:mt,params:Ct={}}=gt;if(dt!==mt)return;const Bt=Object(c.getStoreInstanceByTeamId)(mt),kt=Bt.getState(),Vt=Ct.entityId,cn=Object(Ue.l)(kt),En=Object(Ne.t)(kt,Xe.b.PREF);En===Xe.b.FLEXPANE&&Vt==="saved-page"?Bt.dispatch(Object(He.f)({pref:Xe.b.PREF,value:Xe.b.PAGE})):En===Xe.b.PAGE&&(cn==="starred_items"||cn==="saved")&&Bt.dispatch(Object(He.f)({pref:Xe.b.PREF,value:Xe.b.FLEXPANE}))},"sync_saved_page_view"),Ke=e("O2rC"),$e=m(gt=>{let{prevTeamId:dt,nextTeamId:mt,params:Ct}=gt;if(dt!==mt)return;const Bt=Object(c.getStoreInstanceByTeamId)(mt),kt=Bt.getState(),Vt=Ct.entityId,cn=Object(Ue.l)(kt),En=Object(Ne.t)(kt,Ke.a.PREF);En===Ke.a.FLEXPANE&&Vt==="notifications-page"?Bt.dispatch(Object(He.f)({pref:Ke.a.PREF,value:Ke.a.PAGE})):En===Ke.a.PAGE&&cn==="notifications"&&Bt.dispatch(Object(He.f)({pref:Ke.a.PREF,value:Ke.a.FLEXPANE}))},"sync_notifications_page_view"),ct=e("Q+NC"),Tt=e("PiXb"),Et=e("HPAj");const Le="clear_thread_timestamp";var jt=m(gt=>{let{nextTeamId:dt,routeName:mt,reason:Ct,params:Bt={}}=gt;const kt=Object(c.getStoreInstanceByTeamId)(dt),Vt=kt.getState(),cn=p.c;if(Ct===Le)return;const Rn=Object(D.b)(Vt).threadId;Bt.replyTs?Object(Et.a)(Vt)?kt.dispatch(Object(Tt.g)({windowId:cn,threadKey:Bt.threadId,ts:Bt.replyTs})):kt.dispatch(Object(ct.d)(Bt.replyTs)):Bt.threadId!==Rn&&(Object(Et.a)(Vt)?kt.dispatch(Object(Tt.d)({windowId:cn,threadKey:Bt.threadId})):kt.dispatch(Object(ct.c)())),Bt.replyTs&&Object(z.h)(mt,Object(ne.a)(Bt,"replyTs"),{reason:Le,shouldReplaceState:!0})},"sync_thread_flexpane");const Dt={CLEAR_THREAD_TS_REASON:Le};var Ee=e("S36j"),te=m(gt=>{let{prevTeamId:dt,nextTeamId:mt,params:Ct={}}=gt;if(dt!==mt)return;const Bt=Object(c.getStoreInstanceByTeamId)(mt),kt=Bt.getState(),Vt=Object(D.a)(kt),En=Object(D.b)(kt).entityId,Rn=Ct.entityId;if(En!==Rn){const ss=Object(Ue.b)(kt);ss&&["channel_page","group_page","im_page"].includes(ss)&&Bt.dispatch(Object(Ee.c)({flexOrigin:void 0}));const ms=Object(Ue.e)(kt);if(Object(H.a)(Rn)&&ms&&(Vt===i.b||Vt===i.f)){Bt.dispatch(Object(Ee.d)({flexRestore:void 0}));const Xs=ms.routeName,fs={...Ct,...ms.params};Object(z.h)(Xs,fs,{reason:"flex-restore",shouldReplaceState:!0});return}Rn!=="browse-channels"&&Vt===i.f&&Object(z.h)(i.b,Ct,{reason:"close-inspector",shouldReplaceState:!0})}},"sync_flexpane"),Ae=e("t4eE"),Ve=e("Afhv"),Ye=m(gt=>{let{prevTeamId:dt,nextTeamId:mt,routeName:Ct,params:Bt}=gt;if(Object(Ae.b)()||dt===mt)return!0;const kt=Object(z.k)(Ct,{...Bt,teamId:mt});if(!mt)return!0;const Vt=Object(c.getStateForClientStore)(),cn=Object(v.getWorkspacesMeta)(Vt),En=cn&&cn[mt]&&cn[mt].subdomain,Rn=Object(Ae.a)(En)||`_team_${mt}`;return Object(Ve.a)(kt,Rn),!1},"maybe_open_other_team_in_browser"),ft=e("H9Gx"),tt=e("gE2U"),Rt=m(gt=>{let{prevTeamId:dt,nextTeamId:mt}=gt;if(!Object(Ae.b)()||dt===mt||!mt)return!0;if(Object(tt.a)(mt,dt))return!1;const Ct=Object(c.getStateForClientStore)();return Object(v.isWorkspaceExpired)(Ct,mt)||Object(v.isWorkspacePendingAuth)(Ct,mt)?(Object(ft.a)(mt),!1):!0},"maybe_finish_signin"),rt=m(gt=>{let{routeName:dt,params:mt={}}=gt;const{entityId:Ct}=mt;return Ct&&Object(i.C)(Ct)?(Object(z.h)(dt,{...mt,entityId:i.a[Ct]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity"),we=e("0zWI"),xe=e("tstp"),st=m(gt=>{let{prevTeamId:dt,nextTeamId:mt}=gt;return dt!==mt?Object(c.dispatchForClientStore)(Object(xe.d)(!0)):Object(c.dispatchForClientStore)(Object(xe.d)(!1))},"set_should_log_team_switch_metrics"),ke=e("j77i"),lt=m(gt=>{let{nextTeamId:dt,routeName:mt,params:Ct}=gt;const Bt={routeName:mt,params:Ct};return dt&&Object(ke.x)(dt,"lastRoute",Bt),!0},"save_route_to_local_config"),at=e("2Pfg"),ht=e("qLhO"),Nt=e("KiUf");function Jt(gt){let{prevTeamId:dt}=gt;const mt=Object(c.getStoreInstanceByTeamId)(dt);return Object(ht.b)(mt.getState())&&(mt.dispatch(Object(Nt.a)(!0)),at.a.delete("setNavigatedDuringWarmBoot")),O.a.resolve()}m(Jt,"setNavigatedDuringWarmBoot");var zt=e("r6fw"),Yt=e("Kn+X"),sn=e("EzPs"),dn=e("gCYc"),Mt=e("fPvm");function yt(gt){let{params:dt,prevRouteInfo:mt,prevTeamId:Ct}=gt;const Bt=mt==null?void 0:mt.params;if(!Bt||Bt.entityId!=="composer"||!Bt.draftId||Bt.draftId===(dt==null?void 0:dt.draftId))return!0;const{dispatch:kt,getState:Vt}=Object(c.getStoreInstanceByTeamId)(Ct),cn=Vt(),En=Object(zt.a)(Bt.draftId);if(!En)return!0;const Rn=Object(dn.k)(cn,En);return Object(Yt.x)(Rn,{trimWhitespace:!0})||Object(sn.a)(cn,Rn)||kt(Object(Mt.a)({ids:[En],reason:"draftsListenerBefore"})),!0}m(yt,"draftsListenerBefore");var tn=e("lCmp"),an=e("fujP"),on=e("m5fH"),ut=e("OZf9"),Ot=e("UthN");const Wt=Object(R.c)("Delete composer drafts without text, destination, or files",function(gt,dt){let{ignoredDraftIds:mt=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ct=dt(),Bt=Object(dn.l)(Ct);if(Object(an.a)(Bt))return;const kt=[];Object(ut.a)(Bt,(Vt,cn)=>{var En;Object(Ot.a)(Ct,Vt)&&(!(mt==null||(En=mt.includes)===null||En===void 0)&&En.call(mt,cn)||kt.push(cn))}),!Object(an.a)(kt)&&gt(Object(Mt.a)({ids:kt,reason:"deleteEmptyDrafts"}))});Wt.meta={name:"createThunk",key:"createThunkdeleteEmptyDrafts",description:"Delete composer drafts without text, destination, or files"};var Ht=Wt,Zt=e("Z9Pi"),gn=e("59uo");function Pn(gt){let{prevTeamId:dt,nextTeamId:mt,params:Ct={}}=gt;const{dispatch:Bt,getState:kt}=Object(c.getStoreInstanceByTeamId)(mt);let Vt=kt();const cn=Object(Ue.l)(Vt),En=Object(dn.n)(Vt),{entityId:Rn,threadId:ss}=Ct,{threadTs:ms}=Object(Zt.a)(ss);if(mt===dt){const fs=Object(zt.a)(Ct.draftId);let ta=fs?[fs]:[];ta=[...ta,...Object(gn.d)(Vt)],Bt(Ht({ignoredDraftIds:ta})),Vt=kt()}!Object(Ne.t)(Vt,"has_drafted_message")&&(Object(tn.a)(Object(dn.l)(Vt),fs=>!Object(Ot.a)(Vt,fs))||Object(tn.a)(Object(dn.c)(Vt),fs=>!Object(Ot.a)(Vt,fs)))&&Bt(Object(He.f)({pref:"has_drafted_message",value:!0}));const Xs=En!=null&&En.length?En.filter(fs=>{const{channelId:ta,threadTs:na}=Object(Zt.a)(fs);return Object(gn.d)(Vt).includes(fs)?!1:na?cn!=="thread"||!ms||ms!==na:Rn!==ta}):[];return Object(an.a)(Xs)||Bt(Object(on.e)({draftIds:Xs})),!0}m(Pn,"draftsListenerAfter");var Mn=e("l1I1"),pt=e("sjEp"),_t=e("u+Mq"),xt=e("KtMe"),en=e("n2bd"),Cn=e("qqLp"),pn=e("PJXs"),fn=e("tBN+"),Ln=e("pFY2"),_n=e("hjzp"),Un=e("HKYg"),Dn=e("CnKg"),nt=e("WUSA"),St=e("gPPH"),Ut=e("s4P+"),Gt=e("Z6bF");const On=new V.b("client");function Xt(gt){let{entityId:dt,routeName:mt}=gt;return!!(dt==="browse-files"&&mt===i.i||dt==="browse-people"&&mt===i.s||dt==="browse-user-groups"&&mt===i.x||dt==="slack-connect"&&mt===i.s||Object(Mn.a)(dt)&&(mt===i.w||mt===i.e||mt===i.o)||Object(H.a)(dt)&&mt===i.w||Object(H.a)(dt)&&mt===i.s||Object(H.a)(dt)&&mt===i.x||Object(H.a)(dt)&&mt===i.i||Object(H.a)(dt)&&mt===i.o||[i.k,i.l,i.A,i.u,i.h].includes(mt))}m(Xt,"isSupportedRoute");function qt(gt){let{nextEntityId:dt,routeName:mt,threadId:Ct,state:Bt}=gt;if(Object(H.a)(dt)&&mt===i.w&&Ct){if(Object(ce.Y)(Bt,dt))return!0;const{channelId:kt}=Object(f.a)(Ct);if(kt===dt)return!0;const Vt=Object(P.d)(Bt,dt),{fileId:cn}=Object(Gt.a)(Vt),En=cn?Object(_n.a)(cn):null;return En?kt===En:!1}return!0}m(qt,"isRouteValidDetailViewForEntityId");function Qt(gt){return $n.apply(this,arguments)}m(Qt,"summaryDetailListener");function $n(){return $n=Object(n.coroutine)(function*(gt){let{params:dt,prevRouteInfo:mt,reason:Ct,routeName:Bt,uuid:kt}=gt;const{entityId:Vt}=dt,cn=dt.teamId||dt.teamOrEnterpriseId,{entityId:En}=(mt==null?void 0:mt.params)||{},{dispatch:Rn,getState:ss}=Object(c.getStoreInstanceByTeamId)(cn),ms=ss();if(!Object(pt.a)(ms))return;if(Ct===xt.c){Object(Ut.a)({getState:ss}).info("SUMMARY_DETAIL",`[${kt}]`,"Returning early"),Bt===i.b&&Rn(Object(nt.a)({message:On.t("Secondary view has closed"),uuid:Object(St.a)()}));return}if(Ct===xt.a||Ct===ae||Ct===Le||!cn||!Vt)return;if(Object(Mn.a)(En)&&Object(Mn.a)(Vt)){const ys=Object(Dn.i)(En),Ta=Object(Dn.i)(Vt),sa=Ta.versionId,Do=ys.fileIdOrQuipThreadId===Ta.fileIdOrQuipThreadId;if(sa&&Do)return}let fs;Object(gn.j)(ms)||(fs=Object(pn.b)(ms,{entityId:Vt}));const ta=qt({nextEntityId:Vt,routeName:Bt,threadId:dt.threadId,state:ms});if(En===Vt&&ta){if(Xt({entityId:Vt,routeName:Bt})){let ys=dt;if(Bt===i.o&&dt.quipDocId&&Object(Mn.a)(dt.quipDocId)){const{fileIdOrQuipThreadId:Ta}=Object(Dn.i)(dt.quipDocId),sa=Object(Dn.h)({id:Ta});ys={...dt,quipDocId:sa,channelCanvasId:dt.channelCanvasId?sa:void 0}}Rn(Object(Cn.a)({entityId:Vt,item:{params:ys,routeName:Bt,origin:Object(Un.a)()?"channel_canvas":void 0}})),Object(Ut.a)({getState:ss}).info("SUMMARY_DETAIL",`[${kt}]`,"Set detail view for",Vt)}else if(fs&&Ct!=="open-primary-with-thread"){Rn(Object(en.a)({entityId:Vt})),Object(Ut.a)({getState:ss}).info("SUMMARY_DETAIL",`[${kt}]`,"Removing detail view for",Vt);const ys=Object(Ln.b)(ms,{...dt,entityId:Vt,teamId:cn});if(ys&&!Object(Ln.a)(mt,ys)&&(Object(z.h)(ys.routeName,ys.params,{reason:xt.a,shouldReplaceState:!0}),fs.origin==="channel_canvas")){var na;Rn(Object(_t.b)({params:{entityId:(na=ys.params)===null||na===void 0?void 0:na.quipDocId},uiState:{reason:_t.a.ChannelSpaceOriginRoute}}))}}return}const Oa={...dt,entityId:Vt,teamId:cn};if(fs&&Ct!=="open-primary-with-thread"){Object(Ut.a)({getState:ss}).info("SUMMARY_DETAIL",`[${kt}]`,"Opening detail view for",Vt);const ys=yield Rn(Object(fn.a)({entityId:Vt,nextRouteParams:dt}));ys!=null&&ys.expired&&(Object(Ut.a)({getState:ss}).info("SUMMARY_DETAIL",`[${kt}]`,"Detail view expired for",Vt),Object(z.h)(i.b,Oa,{reason:xt.c,shouldReplaceState:!0}));return}if(Bt.includes("FLEX")&&En!==Vt&&Ct==="open-primary-with-thread"){var qn;if(Vt===(dt==null?void 0:dt.entityId)&&(!(dt==null||(qn=dt.threadId)===null||qn===void 0)&&qn.includes(Vt))){Object(z.h)(Bt,Oa,{shouldReplaceState:!0,reason:"summaryDetailListener:openThread"});return}}const Wa=Object(Ln.b)(ms,Oa);if(Wa&&!Object(Ln.a)(mt,Wa)){Object(z.h)(Wa.routeName,Wa.params,{reason:xt.a,shouldReplaceState:!0});return}Bt!==i.b&&Object(z.h)(i.b,Oa,{reason:xt.c,shouldReplaceState:!0})}),$n.apply(this,arguments)}m($n,"_summaryDetailListener");const os={isRouteValidDetailViewForEntityId:qt};var Ps=e("1BWb");function Ws(gt){let{params:dt,routeName:mt,reason:Ct}=gt;const Bt=dt.teamId||dt.teamOrEnterpriseId,{dispatch:kt}=Object(c.getStoreInstanceByTeamId)(Bt);kt(Object(Ps.a)({routeName:mt,routeParams:dt,autoOpen:Ct===xt.c||Ct===xt.a}))}m(Ws,"channelCanvasListener");var Is=e("4KfL"),vs=e("tfcd"),Ts=e("BcBz"),zn=e("pyq8"),rs=e("oUrV");const Fs=["comment_thread","activity_history","files","rimeto_profile","thread",i.p,i.w,i.i,i.s,i.z],Es=Object(R.c)("Post activity history routing side effects",(gt,dt,mt)=>{let{params:Ct,prevRouteInfo:Bt,routeName:kt}=mt;var Vt;const cn=Ct==null?void 0:Ct.entityId,En=Bt==null||(Vt=Bt.params)===null||Vt===void 0?void 0:Vt.entityId,Rn=p.c;if(kt===i.b&&cn&&Object(vs.a)(cn)){const{fileIdOrQuipThreadId:Xs}=Object(Dn.i)(cn);Fs.includes(Bt==null?void 0:Bt.routeName)&&gt(Object(zn.a)({fileId:Xs,windowId:Rn,source:rs.a.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let ss=cn,ms=En;Object(Mn.a)(En)&&Object(Mn.a)(cn)&&(ss=Object(Dn.i)(En).fileIdOrQuipThreadId,ms=Object(Dn.i)(cn).fileIdOrQuipThreadId),ss!==ms&&gt(Object(Ts.b)({windowId:Rn}))});Es.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function cs(gt){let{params:dt,prevRouteInfo:mt,routeName:Ct,reason:Bt}=gt;const kt=dt.teamId||dt.teamOrEnterpriseId,{dispatch:Vt,getState:cn}=Object(c.getStoreInstanceByTeamId)(kt);Object(Is.a)(cn())&&Vt(Es({routeName:Ct,params:dt,prevRouteInfo:mt,reason:Bt}))}m(cs,"quipActivityHistoryListener");var ls=e("+kJ4"),Os=e("MPhn"),Cs=e("stxl"),Ls=e("hwUI"),$s=e("hTnU"),ns=e("rZ8V"),Jn=e("O67Y");function Ds(gt){let{nextTeamId:dt,prevTeamId:mt}=gt;const{dispatch:Ct,getState:Bt}=Object(c.getStoreInstanceByTeamId)(mt),kt=Bt();return Object(Cs.b)(kt)?new O.a((cn,En)=>{Ct(Object($s.a)({openModalProps:{isStackable:!0},onConfirmClose:()=>{Ct(Object(Ls.b)(!1)),Ct(Object(ls.a)({closeAll:!0})),cn()},onCancelClose:()=>{En()}}))}):(mt&&!Object(Os.b)({teamId:mt})&&(Object(ns.m)(kt)&&dt===mt?Ct(Object(ls.a)({closeNamed:Jn.a})):Ct(Object(ls.a)({closeAll:!0}))),!0)}m(Ds,"modalListenerBefore");var is=e("O3Fi");function Ss(gt){const dt=Object(is.a)();return dt!=null&&dt.onClose&&(dt==null||dt.onClose()),!0}m(Ss,"pinsPopoverListenerAfter");var Xn=e("spq4"),Us=e("ED1u"),Fn=e("y8m0"),Ms=m(gt=>{let{prevTeamId:dt,nextTeamId:mt}=gt;if(dt!==mt)return;const Bt=Object(c.getStoreInstanceByTeamId)(mt).getState();Object(Xn.a)()&&Object(Fn.d)(Bt)&&Object(c.dispatchForClientStore)(Object(Us.c)(!1))},"dismiss_floating_sidebar"),x=e("BeL+"),ue=m(gt=>{let{prevTeamId:dt,nextTeamId:mt}=gt;if(dt===mt||!mt)return;const Ct=Object(ke.f)("recentlyUsedTeamIds")||dt&&[dt]||[];Ct.unshift(mt),Object(ke.w)("recentlyUsedTeamIds",Object(x.a)(Ct)),Object(ke.x)(mt,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams"),We=e("sjOx"),At=e("3mGd"),bn=e("Jjuf"),vn=e("dDdQ"),bt=m(gt=>{let{prevTeamId:dt,nextTeamId:mt,params:Ct={}}=gt;const{dispatch:Bt,getState:kt}=Object(c.getStoreInstanceByTeamId)(mt),Vt=kt();if(dt!==mt)return;const cn=Object(D.b)(Vt),En=cn.entityId,Rn=Ct.entityId;En===We.y&&Rn===We.y&&Ct.searchQuery&&cn.searchQuery!==Ct.searchQuery&&Object(At.a)(Vt)!==Ct.searchQuery&&Bt(Object(bn.a)({encodedSearchString:Ct.searchQuery})),En!==Rn&&Rn===We.y&&(Ct.searchQuery&&Bt(Object(bn.a)({encodedSearchString:Ct.searchQuery})),Bt(Object(vn.a)())),En!==Rn&&En===We.y&&Bt(Object(vn.b)())},"search_page_listener"),T=e("uPu8");function N(gt){let{nextTeamId:dt,prevTeamId:mt}=gt;const{dispatch:Ct}=Object(c.getStoreInstanceByTeamId)(dt);mt!==dt&&Ct(Object(T.c)({teamId:dt}))}m(N,"permissionsListener");var Q=e("53Bt"),w=e("hHne"),Pe=e("HMe0");function Be(gt){let{nextTeamId:dt,reason:mt}=gt;if(mt===ae)return;const Ct=Object(c.getStoreInstanceByTeamId)(dt),Bt=Ct.getState();if(Object(ns.m)(Bt))return;if(mt===z.a){var kt;if(!((kt=window.history.state)===null||kt===void 0)&&kt.tileState){const Rn=window.history.state.tileHistoryState;Rn&&Ct.dispatch(Object(w.a)({tileHistoryState:Rn})),Ct.dispatch(Object(Q.a)({tilesState:window.history.state.tileState}))}return}const Vt=Bt==null?void 0:Bt.tiles,cn=Object(Pe.c)(Bt),En={...window.history.state,tileState:Vt,tileHistoryState:cn};window.history.replaceState(En,document.title,location.href)}m(Be,"syncTiles");var _e=e("KAVK"),Ze=e("v7mh"),qe=e("yVcz"),De=e("YiLv");function le(gt){let{nextTeamId:dt,uuid:mt,shouldReplaceState:Ct,reason:Bt}=gt;var kt;if(!dt||!mt)return;if(Bt!==z.a)if(Ct)Object(c.dispatchForClientStore)(Object(qe.e)({windowId:p.c,entry:{id:mt,ts:Date.now(),teamId:dt,isIA4:!1}}));else{const Rn=Object(De.b)(Object(c.getStateForClientStore)());Rn>0&&Object(c.dispatchForClientStore)(Object(qe.a)({windowId:p.c,index:Rn})),Object(c.dispatchForClientStore)(Object(qe.b)({windowId:p.c,entry:{id:mt,ts:Date.now(),teamId:dt,isIA4:!1}}))}const Vt=Object(c.getStoreInstanceByTeamId)(dt),cn=Vt.getState();if(!Object(ns.m)(cn)||!((kt=window.history.state)===null||kt===void 0)&&kt.isIA4)return;const En=Object(Ze.i)(cn);Vt.dispatch(Object(_e.a)({windowId:p.c,entry:En}))}m(le,"updateIA4History");var Re=e("iMEJ"),Fe=e("LAdm");function Ge(gt){let{prevTeamId:dt,nextTeamId:mt}=gt;if(!mt||dt===mt)return;const Ct=Object(c.getStoreInstanceByTeamId)(mt),Bt=Ct.getState();if(!Object(ns.m)(Bt))return;const kt=Object(Ze.a)(Bt),Vt=Object(Ze.h)(Bt,{tab:kt});Ct.dispatch(Object(Fe.a)({prevViewSet:void 0,prevTab:void 0,nextViewSet:Vt,nextTab:kt,navigateParams:{},triggerType:Re.a.TEAM_SWITCH}))}m(Ge,"maybeRunTeamSwitchNavigateListeners");var et=e("Pf08"),Qe=e("FFIf"),it=e("v5z3"),Lt=e("0Xjs");function Pt(gt){let{nextTeamId:dt,prevRouteInfo:mt,params:Ct}=gt;var Bt;const kt=Object(c.getStoreInstanceByTeamId)(dt),Vt=kt.getState(),cn=Object(Qe.i)(Vt),En=Object(P.d)(Vt,Ct.entityId),Rn=(mt==null||(Bt=mt.params)===null||Bt===void 0?void 0:Bt.entityId)||"";(Rn===Lt.q.CHANNELS||Rn===it.b)&&(Ct!=null&&Ct.entityId)&&En&&!Object(ce.db)(En)&&kt.dispatch(Object(et.G)({channelId:Ct.entityId,prevRoute:Rn})),cn&&(mt==null?void 0:mt.routeName)==="ROUTE_ENTITY"&&Object(H.a)(Rn)&&kt.dispatch(Object(et.G)({channelId:null,prevRoute:null}))}m(Pt,"setPreviewingFromChannelBrowserOrLaunchpad");var rn=e("i6Ao"),nn=e("toaU"),Sn=e("JvzI"),jn=e("Z7Ay");function hn(gt){let{nextTeamId:dt,routeName:mt,params:Ct}=gt;dt&&(Object(c.dispatchForClientStore)(Object(g.a)({teamId:dt,routeName:mt,params:Ct,fromNavigation:!0})),Object(c.getStoreInstanceByTeamId)(dt)&&Object(c.dispatchForTeamId)(dt,Object(Nt.b)({routeName:mt,params:Ct})))}m(hn,"syncRouteStoreWithUrl");function un(gt){return An.apply(this,arguments)}m(un,"navigateToLastSavedRoute");function An(){return An=Object(n.coroutine)(function*(gt){let{prevTeamId:dt,nextTeamId:mt,navigationTimestamp:Ct}=gt;const Bt=Object(c.getStateForClientStore)();if(!mt||Object(v.hasWorkspaceFailedToBoot)(Bt,mt)||Object(v.doesWorkspaceNeed2FASetup)(Bt,mt)||Object(v.isWorkspaceExpired)(Bt,mt)||Object(v.isWorkspacePendingAuth)(Bt,mt))return!0;const kt=Object(c.getStoreInstanceByTeamId)(mt),Vt=kt&&kt.getState(),cn=Object(D.b)(Vt),En=Object(D.a)(Vt)||i.b;if(Object(E.i)()&&En===nn.a)return!0;const Rn=!dt;return yield Object(z.h)(En,{...cn,teamId:mt},{reason:"navigateToLastSavedRoute",shouldReplaceState:Rn,navigationTimestamp:Ct}),!1}),An.apply(this,arguments)}m(An,"_navigateToLastSavedRoute");function mn(gt){let{prevTeamId:dt,nextTeamId:mt}=gt;if(!dt||!mt||dt===mt)return null;const Ct=xn(mt);return Object(Sn.c)(Ct,mt)}m(mn,"ensureCorrectLocaleForTeam");function Nn(gt){let{prevTeamId:dt,nextTeamId:mt}=gt;if(!dt||!mt||dt===mt)return null;const Ct=xn(mt);return Object(Sn.d)(Ct)}m(Nn,"ensureCorrectLocaleForExternalLibs");function xn(gt){const dt=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/);return dt?dt[1]:Object(ke.h)(gt,"user_locale")}m(xn,"getLocaleForTeam");const Vn=Object(u.a)(Wn);function Wn(){at.a.set("maybeOpenOtherTeamInBrowser",Object(z.c)(Ye)),at.a.set("modalListenerBefore",Object(z.c)(Ds)),at.a.set("maybeFinishSignin",Object(z.c)(Rt)),at.a.set("maybeRedirectEntity",Object(z.c)(rt)),at.a.set("startTeamSwitchTiming",Object(z.c)(we.a)),at.a.set("navigateToLastSavedRoute",Object(z.c)(un,[nn.a])),at.a.set("attemptToStopEditingInChannel",Object(z.c)(_,[])),at.a.set("openConversationWithMember",Object(z.c)(Se,[])),at.a.set("openConversationWithIds",Object(z.c)(Oe,[])),at.a.set("ensureChannel",Object(z.c)(G,[])),at.a.set("draftsListenerBefore",Object(z.c)(yt)),at.a.set("ensureCorrectLocaleForExternalLibs",Object(z.b)(Nn)),at.a.set("searchPageListener",Object(z.b)(bt)),at.a.set("syncTiles",Object(z.b)(Be)),at.a.set("updateIA4History",Object(z.b)(le)),at.a.set("maybeRunTeamSwitchNavigateListeners",Object(z.b)(Ge)),at.a.set("syncMessagePane",Object(z.b)(fe,[])),at.a.set("closeAppSpace",Object(z.b)(ye,[])),at.a.set("syncActivityPageView",Object(z.b)(Je,[])),at.a.set("syncSavedPageView",Object(z.b)(Me,[])),at.a.set("syncNotificationsPageView",Object(z.b)($e,[])),at.a.set("syncThreadFlexpane",Object(z.b)(jt,[i.w])),at.a.set("syncFlexpane",Object(z.b)(te,[])),at.a.set("setNavigatedDuringWarmBoot",Object(z.b)(Jt)),at.a.set("draftsListenerAfter",Object(z.b)(Pn)),at.a.set("pinsPopoverListenerAfter",Object(z.c)(Ss)),at.a.set("syncRouteStoreWithUrl",Object(z.b)(hn)),at.a.set("ensureCorrectLocaleForTeam",Object(z.b)(mn)),at.a.set("setShouldLogTeamSwitchMetrics",Object(z.b)(st)),at.a.set("setLocalConfigForTeamWithKey",Object(z.b)(lt)),at.a.set("dismissFloatingSidebar",Object(z.b)(Ms)),at.a.set("updateRecentlyUsedTeams",Object(z.b)(ue)),at.a.set("maybeFetchClientPermissions",Object(z.b)(N)),at.a.set("maybeIncrementHistoryLength",Object(z.b)(rn.d)),at.a.set("setPreviewingFromChannelBrowserOrLaunchpad",Object(z.b)(Pt)),at.a.set("summaryDetailListener",Object(z.b)(Qt)),at.a.set("channelCanvasListener",Object(z.b)(Ws)),at.a.set("quipActivityHistoryListener",Object(z.b)(cs))}m(Wn,"registerRouteListenersInner"),Object(jn.a)("router.listeners",()=>[...at.a.entries()]);const Bn={syncRouteStoreWithUrl:hn,navigateToLastSavedRoute:un,ensureCorrectLocaleForTeam:mn,ensureCorrectLocaleForExternalLibs:Nn,getLocaleForTeam:xn};Object.defineProperty(Bn,"syncRouteStoreWithUrl",{get:()=>hn,set:gt=>{hn=gt}}),Object.defineProperty(Bn,"navigateToLastSavedRoute",{get:()=>un,set:gt=>{un=gt}}),Object.defineProperty(Bn,"ensureCorrectLocaleForTeam",{get:()=>mn,set:gt=>{mn=gt}}),Object.defineProperty(Bn,"ensureCorrectLocaleForExternalLibs",{get:()=>Nn,set:gt=>{Nn=gt}}),Object.defineProperty(Bn,"getLocaleForTeam",{get:()=>xn,set:gt=>{xn=gt}});var hs=e("4Lve"),ln=e("heB0"),kn=e("UIWO"),Rs=e("Aqb/"),As=e("PLUl"),ws=e("hhWw"),Vs=e("k+ri");const Gs="cse-api",Zs="cse-boot-api";function xs(gt){return ds.apply(this,arguments)}m(xs,"fetchBootData");function ds(){return ds=Object(n.coroutine)(function*(gt){const{teamId:dt,userId:mt,isBootingWarm:Ct}=gt,Bt=yield Ct,kt=Bt?"deferred-data":"initial-data";let Vt=null;if(Object(ws.b)()&&Bt&&(Vt=yield Object(Vs.a)({teamId:dt,userId:mt})),dt&&Object(kn.d)(dt))return Object(ln.d)({...gt,reason:kt,minChannelUpdated:Vt});const cn=ln.c.bind(null,{...gt,reason:kt,minChannelUpdated:Vt});return us(cn,{teamId:dt,userId:mt,reason:kt})}),ds.apply(this,arguments)}m(ds,"_fetchBootData");function us(gt){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const mt=Object(As.a)(),Ct=mt.createTrace({traceName:Gs,tags:dt,samplingOptions:{sampleType:Rs.a.ALWAYS}});if(!(Ct!=null&&Ct.traceFn))return Object(Ut.b)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.boot data fetch."),gt();const Bt=m((Vt,cn)=>{if(Object(an.a)(cn)){const En={state:Rs.b.SUCCESS,message:"client_boot_empty"};Vt==null||Vt.addTags(En),Vt==null||Vt.close(),mt.reportTrace(Ct)}else mt.clearTrace(Ct)},"onResolve"),kt=m((Vt,cn)=>{var En;const Rn={state:Rs.b.ERROR};cn!=null&&cn.status&&(Rn.status=cn.status),cn!=null&&cn.message&&(Rn.message=cn.message),!(cn==null||(En=cn.data)===null||En===void 0)&&En.error&&(Rn.reason=cn.data.error),Vt==null||Vt.addTags(Rn),Vt==null||Vt.close(),mt.reportTrace(Ct)},"onError");return Ct.traceFn({name:Zs,onError:kt,onResolve:Bt},gt)}m(us,"maybeTraceClientBootDataFetch"),Object.defineProperty({CSE_API_TRACE_LABEL:Gs,CLIENT_BOOT_SPAN_LABEL:Zs},"fetchBootData",{get:()=>xs,set:gt=>{xs=gt}});var Za=e("a8yR"),Ja=e("2vQQ"),Xa=e("tYiI"),vo=e("5TXe"),Eo=e("/q5d");function qa(gt){return ia.apply(this,arguments)}m(qa,"maybeFetchMessagesData");function ia(){return ia=Object(n.coroutine)(function*(gt){const{bootQueue:dt,token:mt,teamId:Ct}=gt;if(!mt)return Object(Ut.a)({teamOrEnterpriseId:Ct,label:"BOOT"}).error(new Error("Token missing; Unable to fetch messages data.")),null;if(!Ct)return Object(Ut.a)({teamOrEnterpriseId:Ct,label:"BOOT"}).error(new Error("teamId missing; Unable to fetch messages data.")),null;const Bt=yield Object(Eo.b)({contextualInfo:gt});return _a({bootQueue:dt,token:mt,teamId:Ct,routeInfo:Bt})}),ia.apply(this,arguments)}m(ia,"_maybeFetchMessagesData");function _a(gt){return Da.apply(this,arguments)}m(_a,"fetchMessagesDataForRoute");function Da(){return Da=Object(n.coroutine)(function*(gt){let{bootQueue:dt,token:mt,teamId:Ct,routeInfo:Bt}=gt;var kt;const Vt=Bt==null||(kt=Bt.params)===null||kt===void 0?void 0:kt.entityId;return Vt&&!Object(Za.a)(Vt)&&!Object(Ja.k)(Vt)&&!Object(Xa.a)(Vt)&&!Object(Mn.a)(Vt)?(Object(t.b)("BOOT",`Booting into channel: ${Vt}`),Js({bootQueue:dt,token:mt,teamId:Ct,id:Vt})):!Object(Za.a)(Vt)&&!Object(Ja.k)(Vt)&&!Object(Xa.a)(Vt)&&!Object(Mn.a)(Vt)?(Object(t.b)("BOOT","Couldn't determine boot channel. Falling back to default channel"),Js({bootQueue:dt,token:mt,teamId:Ct})):null}),Da.apply(this,arguments)}m(Da,"_fetchMessagesDataForRoute");function Js(gt){let{bootQueue:dt,token:mt,teamId:Ct,id:Bt}=gt;const kt={token:mt,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,include_stories:!0,no_members:!0,include_mutation_timestamps:!0,count:28};Bt&&(kt.channel=Bt),kt.include_free_team_extra_messages=!0;const Vt=new vo.b({method:"conversations.view",args:kt,teamId:Ct});return dt.q(Vt).catch(cn=>(Object(Ut.a)({teamOrEnterpriseId:Ct,label:"BOOT"}).error(new Error(`unable to fetch messages data ${cn}`)),null))}m(Js,"fetchMessagesData"),Object.defineProperty({fetchMessagesData:Js},"fetchMessagesData",{get:()=>Js,set:gt=>{Js=gt}});var Oo=e("oTSI");const Ea=Object(Oo.a)(go,gt=>gt.enterpriseId);function Aa(gt){return zs.apply(this,arguments)}m(Aa,"maybeFetchEnterpriseData");function zs(){return zs=Object(n.coroutine)(function*(gt){return gt.enterpriseId?Ea(gt):{}}),zs.apply(this,arguments)}m(zs,"_maybeFetchEnterpriseData");function go(gt){return ja.apply(this,arguments)}m(go,"fetchAllEnterpriseData");function ja(){return ja=Object(n.coroutine)(function*(gt){const{teamId:dt,enterpriseId:mt}=gt;var Ct;let Bt=(Ct=Object(ke.h)(dt??"","enterprise_api_token"))!==null&&Ct!==void 0?Ct:"";if(dt&&Object(kn.d)(dt)&&!Bt){var kt;Bt=(kt=Object(ke.h)(dt,"token"))!==null&&kt!==void 0?kt:""}const[Vt,cn]=yield O.a.all([Object(ln.e)(gt),Object(ln.f)({...gt,token:Bt})]),En={enterprise_id:mt,page_needs_enterprise:!0,enterprise_api_token:Bt};return{enterpriseData:Vt==null?void 0:Vt.enterprise,enterprisePrefsData:cn,enterpriseBootData:En}}),ja.apply(this,arguments)}m(ja,"_fetchAllEnterpriseData");const po={resetMemoizedFetchEnterpriseDataCache:()=>{Ea.cache.clear()}};var eo=e("qvC3"),Pa=e("KLFD");function bo(gt){return Ra.apply(this,arguments)}m(bo,"setupOtherTeamsToBoot");function Ra(){return Ra=Object(n.coroutine)(function*(gt){let{contextualInfo:dt}=gt;return{contextualInfo:dt,otherTeamsToBoot:Object(Pa.b)()}}),Ra.apply(this,arguments)}m(Ra,"_setupOtherTeamsToBoot");var Ns=e("Xm7Q"),Io=e("6y7U"),ca=e("LqbL");function La(gt,dt){var mt,Ct,Bt,kt,Vt;const cn=Object(c.getClientStoreInstance)();if(cn.dispatch(Object(ca.setWorkspaceFailedToBoot)(gt)),!(dt==null||(mt=dt.data)===null||mt===void 0)&&mt.active_migration){var En,Rn;cn.dispatch(Object(ca.setWorkspaceIsMigrating)({teamId:gt,migrationId:dt==null||(En=dt.data)===null||En===void 0?void 0:En.migration_id,canViewMigrationStatus:dt==null||(Rn=dt.data)===null||Rn===void 0?void 0:Rn.can_view_migration_status})),Object(t.c)("BOOT",`(${gt}) Workspace boot failed due to active migration`)}if((dt==null||(Ct=dt.data)===null||Ct===void 0?void 0:Ct.error)==="accesslimited"&&cn.dispatch(Object(ca.setWorkspaceIsAccessLimited)(gt)),(dt==null||(Bt=dt.data)===null||Bt===void 0?void 0:Bt.error)==="two_factor_setup_required"&&cn.dispatch(Object(ca.setWorkspaceNeeds2FASetup)(gt)),(dt==null||(kt=dt.data)===null||kt===void 0?void 0:kt.error)==="user_in_no_workspaces"&&cn.dispatch(Object(ca.setUserNotMemberOfAnyWorkspaceInOrg)(gt)),(dt==null||(Vt=dt.data)===null||Vt===void 0?void 0:Vt.error)==="user_needs_to_accept_custom_tos"){var ss;cn.dispatch(Object(ca.setWorkspaceNeedsToAcceptCustomTOS)({teamId:gt,url:dt==null||(ss=dt.data)===null||ss===void 0?void 0:ss.url}))}}m(La,"markTeamBootFailed");var To=e("9j5s");function Co(gt,dt){if(!gt)throw new Error("Missing team id, cannot thin boot team.");La(gt,dt),Object(To.a)(gt)}m(Co,"thinBootTeam");const So={[Ns.a.API]:to,[Ns.a.BOOT_APP]:Ua,[Ns.a.BOOT_TEAM]:no,[Ns.a.DEFAULT]:Ia};function to(gt,dt,mt){var Ct;const Bt=mt==null?void 0:mt.teamId;if(window.isReloading){Object(t.b)("BOOT",`(${Bt}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}Ns.c[Ns.a.API](gt,dt,{...mt,shouldDisplayErrorView:!1,shouldBeaconError:(gt==null||(Ct=gt.data)===null||Ct===void 0?void 0:Ct.error)!=="user_needs_to_accept_custom_tos"}),Co(Bt,gt),dt!=null&&dt.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-client-render-client")]).then(e.bind(null,"sj3v")).then(kt=>{let{renderClient:Vt}=kt;Object(h.a)(),Vt()})}m(to,"handleApiError");function Ua(gt,dt,mt){Object(h.a)(),Ns.c[Ns.a.BOOT_APP](gt,dt,mt)}m(Ua,"handleBootAppError");function no(gt,dt,mt){if(mt){const{teamId:Ct}=mt;Object(Io.a)(Ct)}Object(h.a)(),Ns.c[Ns.a.BOOT_TEAM](gt,dt,mt)}m(no,"handleBootTeamError");function Ia(gt,dt,mt){Object(h.a)(),Ns.c[Ns.a.DEFAULT](gt,dt,mt)}m(Ia,"handleDefaultError");const Xo={handleApiError:to,handleBootAppError:Ua,handleBootTeamError:no,handleDefaultError:Ia};var Na=e("Fvov"),so=e("vfQU");const ao=function(){var gt=Object(n.coroutine)(function*(){so.G.isAvailable()&&Object(so.G)().includes("DisableServiceWorker")&&(yield Object(Na.d)())});return m(function(){return gt.apply(this,arguments)},"disableServiceWorkerForClientConfig")}(),Mo=function(){var gt=Object(n.coroutine)(function*(){Object(E.c)()===E.a.SAFARI&&(yield Object(Na.d)())});return m(function(){return gt.apply(this,arguments)},"disableServiceWorkerForSafari")}(),yo=function(){var gt=Object(n.coroutine)(function*(){yield Mo(),yield ao()});return m(function(){return gt.apply(this,arguments)},"maybeDisableServiceWorker")}();var _o=e("mard");yo(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();function oo(gt){return gt.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:Object(Ae.b)()}),gt.registerErrorHandlers(So),gt.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(null,"cEwB")),apis:()=>e.e("gantry-v2-async-client-boot-apis").then(e.bind(null,"CTVb")),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(null,"AMiY")),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(null,"tnTT"))}),gt.registerInitialApiCalls({experimentData:ln.g,featureFlagData:ln.h,clientBootData:xs,viewData:qa,allEnterpriseData:Aa}),Object(eo.b)(gt),gt.hooks.beforeDynamicImportsStart.tap("Render Placeholder",function(){var dt=Object(n.coroutine)(function*(mt){let{contextualInfo:Ct}=mt;return Object(h.b)({teamId:Ct.teamOrEnterpriseBootId,showTeamSwitcher:Object(hs.a)().length>1}),{contextualInfo:Ct}});return function(mt){return dt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Set routes",function(){var dt=Object(n.coroutine)(function*(mt){let{contextualInfo:Ct}=mt;return Object(i.D)(),{contextualInfo:Ct}});return function(mt){return dt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Set up client store",function(){var dt=Object(n.coroutine)(function*(mt){let{contextualInfo:Ct}=mt;return Object(l.a)(Ct.teamId),{contextualInfo:Ct}});return function(mt){return dt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Register route listeners",function(){var dt=Object(n.coroutine)(function*(mt){let{contextualInfo:Ct}=mt;return Vn(),{contextualInfo:Ct}});return function(mt){return dt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",function(){var dt=Object(n.coroutine)(function*(mt){let{contextualInfo:Ct}=mt;const{teamId:Bt}=Ct;return Bt?(Bt!==Object(ke.f)("lastActiveTeamId")&&Object(ke.w)("lastActiveTeamId",Bt),{contextualInfo:Ct}):{contextualInfo:Ct}});return function(mt){return dt.apply(this,arguments)}}()),gt.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",function(){var dt=Object(n.coroutine)(function*(mt){let{contextualInfo:Ct}=mt;return window.isReloading?(Object(t.b)("BOOT",`(${Ct.teamId}) Ongoing reload detected; Cancelling boot.`),Object(_o.a)()):{contextualInfo:Ct}});return function(mt){return dt.apply(this,arguments)}}()),gt.hooks.beforeInitializeTeam.tap("Set tokens",function(){var dt=Object(n.coroutine)(function*(mt){let{contextualInfo:Ct}=mt;return Object(d.a)({contextualInfo:Ct})});return function(mt){return dt.apply(this,arguments)}}()),gt.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",function(){var dt=Object(n.coroutine)(function*(mt){let{contextualInfo:Ct}=mt;return Object(ws.b)()&&Object(Vs.a)({teamId:Ct.teamId,userId:Ct.userId}),{contextualInfo:Ct}});return function(mt){return dt.apply(this,arguments)}}()),gt.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",bo),gt.run()}if(m(oo,"boot"),!Object(a.a)()){const gt=Object(r.a)(o.a.CLIENT_V2);oo(gt)}const Ba={boot:oo}},eh0M:function(K,s,e){K.exports=e.p+"slackbot_neutral_512-dcb310c.png"},f9ip:function(K,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"c",function(){return u}),e.d(s,"e",function(){return c}),e.d(s,"d",function(){return E}),e.d(s,"h",function(){return v}),e.d(s,"i",function(){return g}),e.d(s,"b",function(){return O}),e.d(s,"f",function(){return I}),e.d(s,"g",function(){return C});var n=e("G4qV"),t=e("P9LH"),a=e("dmdh"),r=e("QIbu"),d=e("LZPg");const o=m((f,S)=>{var D;return S?(D=Object(a.e)(f,S))===null||D===void 0?void 0:D.localUpdated:null},"getFileLocalUpdated"),i=m(f=>Object(d.o)(f),"getFileId"),h=m(f=>Object(n.a)([S=>Object(d.q)(S),S=>{const D=i(S);return o(S,D)},S=>{const D=i(S);return D?Object(a.e)(S,D):null}],(S,D,p)=>p!=null&&p.id&&(S===r.a.CanvasFile||S===r.a.QuipFile)?f(p):null),"selectFromUpdatedFile"),l=h(f=>f),u=h(f=>f==null?void 0:f.id),c=h(f=>f?Object(t.n)(f):!1),E=h(f=>f?Object(t.xb)(f):!1),v=h(f=>f?Object(t.K)(f):null),g=h(f=>f==null?void 0:f.user),O=h(f=>!!f),I=h(f=>f?Object(t.o)(f):!1),C=h(f=>f?Object(t.u)(f):!1)},fDBt:function(K,s,e){"use strict";e.d(s,"a",function(){return t});let n=m(class{get(r){return r in this.heights?this.heights[r]:this.DEFAULT_HEIGHT}set(r,d){this.heights[r]=d}getValidity(r){return r in this.heights}constructor({DEFAULT_HEIGHT:r=50,heights:d}={}){this.heights=d||{},this.DEFAULT_HEIGHT=r}},"HeightCache"),t=m(class extends n{getValidity(r){return!!this.validity[r]}set(r,d){super.set(r,d),this.validity[r]=!0}invalidate(r){if(!r){this.validity={};return}delete this.validity[r]}constructor(r){super(r),this.validity={}}},"ValidityHeightCache")},fEGR:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("LrWZ"),r=e("yIs4"),d=e("oTSI"),o=e("UXvI"),i=e("ifKl"),h=e("WIr4"),l=e("BHdc"),u=e("kBpe"),c=e("Lgge"),E=e("MYuU"),v=e("i9y5"),g=e("2K8U"),O=e("tZRe"),I=e("oEDn"),C=e("yxNq"),f=e("FRd1"),S=e("ktUG"),D=e("9C2q"),p=e("1ufr");function b(){return b=Object.assign||function(R){for(var A=1;A<arguments.length;A++){var B=arguments[A];for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(R[F]=B[F])}return R},b.apply(this,arguments)}m(b,"_extends");const M={onChange:{action:S.UiAction.ENTER_TEXT}},_={onClick:{action:S.UiAction.CLICK}},P=new Array(95).fill("").map((R,A)=>String.fromCharCode(A+32)),y=m(R=>t.a.createElement("span",b({className:"c-multi_select_input__space"},R),"\xA0"),"makeSpace"),j=1e3,U={leading:!0,trailing:!1};let W=m(class extends n.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(A){var B;const F=A.selectState,{selectState:k,onTokenSelect:V,onSelectedItemsChange:X,setSelectState:J,hasKeyboardFocus:Y,isTokenEditable:ie}=this.props,{selectedOptions:de,isExpanded:pe,isDisabled:oe}=k,me=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&A.focusOnMount!==this.props.focusOnMount&&this.focus(),((B=k.filterQuery)===null||B===void 0?void 0:B.length)&&k.filterQuery!==F.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(F),this.haveSelectedTokens()&&!Object(C.a)(F.selectedTokenIndexes,me)&&de&&(me==null||me.forEach(he=>{V&&V(de[he])}),pe&&J(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),F.isDisabled&&!oe&&this.moveCursorAndScrollToFilterQuery(),!Object(C.a)(F.selectedOptions,de,3)){if(X&&typeof de<"u"){if(ie){var q;const{isCurrentlyEditingToken:he}=this.state;if((((q=F.selectedOptions)===null||q===void 0?void 0:q.length)||0)<de.length){if(he){const Se=de.pop();Se&&de.splice(this.state.editTokenIndex,0,Se),this.setTokenState(!1,0)}}else he&&de.length===0&&this.setTokenState(!1,0)}X(de)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),Y&&!A.hasKeyboardFocus&&Object(a.a)(k.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer),this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel()}onBlur(A){const{selectState:B,setSelectState:F,hideFilterQueryOnBlur:k,onBlur:V,onOptionsListClosedBlur:X}=this.props,{selectedOptions:J,filterQuery:Y,isExpanded:ie}=B,de=k&&Y&&!ie;this.setState(()=>({focused:!1})),this.deselectAllTokens(),de&&F(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,V&&V(A,J),!ie&&X&&X()}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(A,B){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:A,editTokenIndex:B}))}onFilterQueryChanged(){const{setSelectState:A,selectState:B,onFilterQueryChange:F}=this.props,k=this.filterQueryRef.current,V=k==null?void 0:k.textContent,X=B.filterQuery!==V;if(this.backspaceWasPressed&&!X){this.backspaceWasPressed=!1;return}const J=V?V.length>0:!1;this.saveCaretPosInFilterQuery(),A(()=>({filterQuery:V,isExpanded:J})),F&&F(V)}onFocus(A){this.setState(()=>({focused:!0}));const{expandOnFocus:B,onInputFocused:F,setSelectState:k,onFocus:V}=this.props;B&&k(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),F&&F(A),this.mouseDownOnToken=!1,V&&V(A)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){const A=this.props.window.getSelection(),B=A==null?void 0:A.getRangeAt(0),F=this.getTokensAsArray(),{selectState:k}=this.props,{filterQuery:V}=k,X=F.reduce((me,re,ve)=>A!=null&&A.containsNode(re)?[...me,ve]:me,[]),J=X.length>0;if(!V&&!J&&!(A!=null&&A.isCollapsed)){this.ignoreSelectionChange=!0,A==null||A.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!J){var Y;this.ignoreSelectionChange=!0,B==null||B.setStartBefore((Y=this.filterQueryRef.current)===null||Y===void 0?void 0:Y.firstChild);return}const ie=X[0],de=X[X.length-1],pe=F[ie],oe=F[de];if(!V&&J){this.ignoreSelectionChange=!0,B==null||B.setStartBefore(pe),this.ignoreSelectionChange=!0,B==null||B.setEndAfter(oe),this.setSelectedTokenIndexes(X);return}this.isEntireFilterQuerySelected()&&J&&(this.ignoreSelectionChange=!0,B==null||B.setStartBefore(pe),this.setSelectedTokenIndexes(X))}onSelectionChange(){if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const A=this.props.window.getSelection();let B=null;if(A){const{type:F}=A;B=F}B==="Caret"&&this.onCaretSelectionChange(),B==="Range"&&this.onRangeSelectionChange()}onKeyDown(A){if(this.state.composing)return;const{key:B,ctrlKey:F,metaKey:k,altKey:V,shiftKey:X}=A,{selectState:J,onKeyDown:Y}=this.props,ie=Object(u.p)()?k:F,de=B==="Delete"&&(Object(u.p)()&&V||Object(u.x)()&&ie);(B==="Backspace"||de)&&this.onBackspace(A),!de&&B==="Delete"&&this.onDelete(A),B==="Escape"&&this.onEscape(A),(B==="Home"||k&&!X&&B==="ArrowLeft"||k&&!X&&B==="ArrowUp")&&this.onHome(A),(B==="End"||k&&!X&&B==="ArrowRight"||k&&!X&&B==="ArrowDown")&&this.onEnd(A),!k&&B==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(A)),!k&&B==="ArrowRight"&&this.onRightArrow(A),B==="Tab"&&this.onTab(A),(B==="ArrowUp"||B==="ArrowDown")&&A.preventDefault(),B==="Enter"&&A.preventDefault(),!ie&&P.includes(B)&&this.onCharacterKey(),Y&&Y(A,{hasActiveRowIndex:Object(r.a)(J.activeRowIndex)})}onHome(A){A.preventDefault();const{selectState:B}=this.props,{selectedOptions:F}=B;F!=null&&F.length?this.setSelectedTokenIndexes([0],{initiator:A.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(A){A.preventDefault();const{selectState:B}=this.props,{selectedTokenIndexes:F}=B;F!=null&&F.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(A){const{selectState:B,onKeyUp:F}=this.props,k=this.getSelectedTokenIndexes(),V=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(k!=null&&k.length)&&(this.selectTextInNode(V[k[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),F&&F(A,{hasActiveRowIndex:Object(r.a)(B.activeRowIndex)})}onInputContainerMouseDown(A){A.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(A){if(!A||!A.clipboardData)return;const{onFilterQueryPaste:B}=this.props;B&&B(A)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:A}=this.props,{selectState:B}=this.props,{filterQuery:F,selectedOptions:k}=B,V=this.getSelectedTokenIndexes(),X=k==null?void 0:k.filter((ie,de)=>(V==null?void 0:V.indexOf(de))===-1),J=this.getSelectedFilterQueryText(),Y=F==null?void 0:F.replace(J,"");A(()=>({selectedOptions:X,selectedTokenIndexes:[],filterQuery:Y})),this.moveCursorToFilterQuery()}onBackspace(A){const{setSelectState:B}=this.props,{selectState:F,isTokenEditable:k}=this.props,{filterQuery:V}=F;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!V)){A.preventDefault(),B(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(k&&(V==null?void 0:V.length)===1){A.preventDefault(),B(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){A.preventDefault(),B(()=>({filterQuery:"",isExpanded:!1}));return}const J=this.getTokensAsArray().length,Y=this.getSelectedTokenIndexes(),ie=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,ie&&J===0){A.preventDefault();return}if(!ie&&!this.haveSelectedTokens()&&V)return;if(A.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([J-1],{initiator:A.type});return}Y==null||Y.forEach(me=>{this.removeToken(me,"backspaceKey")});const de=Y&&Y[0],pe=de===0;let oe=null;de&&(oe=pe?[0]:[de-1]),oe!=null&&oe.length&&this.setSelectedTokenIndexes(oe,{initiator:A.type})}onDelete(A){const{setSelectState:B}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){A.preventDefault(),B(()=>({filterQuery:"",isExpanded:!1}));return}const k=this.getTokensAsArray().length,V=this.getSelectedTokenIndexes();if(k===0||!this.haveSelectedTokens()||(A.preventDefault(),V==null||V.forEach(ie=>{this.removeToken(ie,"deleteKey")}),!(V!=null&&V.length)))return;const J=V[V.length-1]===k-1,Y=(V==null?void 0:V.length)===k;(J||Y)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(A){const{selectState:B,setSelectState:F,onOptionsListClose:k}=this.props;B.isExpanded&&(A.stopPropagation(),k&&k(),F(()=>({isExpanded:!1})))}onLeftArrow(A){const F=this.getTokensAsArray().length,k=this.getSelectedTokenIndexes(),V=(k==null?void 0:k.length)&&k[0],X=this.props.window.getSelection();let J=null,Y=null;if(X){const{type:re,anchorOffset:ve}=X;J=re,Y=ve}const ie=J==="Caret",de=J==="Range";if(A.shiftKey&&de&&this.isRangeSelectionOfFilterQueryComplete(Y)){A.preventDefault();return}const pe=ie&&this.isCaretAtStartOfFilterQuery();if(F===0&&pe){A.preventDefault();return}if(F===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&pe){A.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:A.type});return}if(!this.haveSelectedTokens()&&pe){this.setSelectedTokenIndexes([F-1],{initiator:A.type});return}if(de&&this.haveSelectedTokens()&&V===0){A.preventDefault();return}this.haveSelectedTokens()&&typeof V=="number"&&this.setSelectedTokenIndexes([V-1],{initiator:A.type})}onRightArrow(A){const B=this.props.window.getSelection(),F=(B==null?void 0:B.type)==="Range",V=this.getTokensAsArray().length,X=this.getSelectedTokenIndexes(),J=(X==null?void 0:X.length)&&X[0];if(typeof J!="number")return;if(!(F&&this.haveSelectedTokens()&&J<V-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){A.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof J=="number"&&this.setSelectedTokenIndexes([J+1],{initiator:A.type})}onTab(A){const{shiftKey:B}=A,{expandOnFocus:F,selectState:k,onOptionsListClose:V,setSelectState:X,disableCloseOnTab:J}=this.props;J||(V&&V(),(B||F&&k.activeRowIndex===null)&&X(()=>({isExpanded:!1})))}onTokenMouseDown(A,B){const{focused:F,isCurrentlyEditingToken:k}=this.state,{selectState:V,isTokenEditable:X}=this.props;if(V.isDisabled)return;if(A.preventDefault(),this.mouseDownOnToken=!0,A.stopPropagation(),X&&!k){this.onTokenEdit(B);return}F||this.focus();const J=this.getTokensAsArray();this.selectTextInNode(J[B]);const Y=this.getSelectedTokenIndexes();B!==(Y==null?void 0:Y[0])&&this.setSelectedTokenIndexes([B])}onTokenEdit(A){const{selectState:B,setSelectState:F,processOptions:k}=this.props,{selectedOptions:V}=B;this.setTokenState(!0,A);let X="";V&&V[A]&&(typeof V[A].label=="string"&&V[A].label!==V[A].value?X=V[A].label:X=V[A].value),this.removeToken(A,"editToken"),this.updateFilterQueryValue(X),k&&k([],X).then(J=>{F(()=>({isExpanded:!0,options:J,filterQuery:X}))})}onTokenRemoveMouseDown(A,B){const{focused:F,isCurrentlyEditingToken:k,editTokenIndex:V}=this.state;A.preventDefault(),this.mouseDownOnToken=!0,A.stopPropagation(),F||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&k&&B<V&&this.setTokenState(!0,V-1),this.removeToken(B,"iconClick")}onFilterQueryMouseDown(A){var B;this.state.focused&&(!((B=this.filterQueryRef.current)===null||B===void 0)&&B.textContent)&&A.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(A){const{onFilterQueryChange:B}=this.props;this.updateQueryTimer=setTimeout(()=>{B&&B(A),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(A){var B;const{setSelectState:F}=this.props;A.preventDefault(),F(()=>({selectedTokenIndexes:[],isExpanded:!1}));const k=(B=this.filterQueryRef)===null||B===void 0?void 0:B.current;k!=null&&k.textContent&&this.selectTextInNode(k)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:A}=this.props,{filterQuery:B,selectedOptions:F}=A,k=this.getSelectedTokenIndexes(),V=F==null?void 0:F.filter((Y,ie)=>(k==null?void 0:k.indexOf(ie))===-1),X=this.getSelectedFilterQueryText(),J=B==null?void 0:B.replace(X,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:V,filterQuery:J,isExpanded:!1}}onNodeAdded(A){const{nodeName:B}=A;(B==="B"||B==="I")&&(this.removeMutationObserver(),this.runForceRenderSelectContainer())}onNodeRemoved(A){const{setSelectState:B}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.runForceRenderSelectContainer(!0),B(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}A===this.filterQueryRef.current&&(this.removeMutationObserver(),this.runForceRenderSelectContainer(!0))}onMutation(A){A.forEach(B=>{B.addedNodes.forEach(this.onNodeAdded),B.removedNodes.forEach(this.onNodeRemoved)})}getAriaPlaceholderText(){const{selectState:A,placeholderText:B}=this.props,{filterQuery:F,selectedOptions:k}=A;if(!F&&!(k&&k.length>0))return B}getAriaActiveDescendant(){const{selectState:A}=this.props,{selectId:B,activeRowIndex:F}=A;return Object(r.a)(F)?Object(E.a)(B,`option_${F}`):void 0}getInputHeight(){const{inputRef:A}=this.props,B=A==null?void 0:A.current;return B?B.offsetHeight:null}getTokensAsArray(){var A,B;const F=(A=this.props.inputRef)===null||A===void 0||(B=A.current)===null||B===void 0?void 0:B.querySelectorAll(".c-token");return Array.prototype.slice.call(F)}getSelectedFilterQueryText(){const{selectState:A}=this.props,{filterQuery:B}=A;if((B==null?void 0:B.length)===0)return"";const F=this.props.window.getSelection(),k=F==null?void 0:F.toString();if(!(F==null?void 0:F.containsNode(this.filterQueryRef.current,!0)))return"";const X=k==null?void 0:k.split(`
`);return X!=null&&X.length?X[X.length-1].trim():""}setSelectedTokenIndexes(A){let{initiator:B}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:F}=this.props;F(()=>({selectedTokenIndexes:A}))}getSelectedTokenIndexes(){const{selectState:A}=this.props,{selectedTokenIndexes:B}=A;return B||[]}allTokensAreSelected(){const A=this.getSelectedTokenIndexes(),B=this.getTokensAsArray();return A!=null&&A.length?A.length>0&&A.length===B.length:!1}attachMutationObserver(){var A;if(this.mutationObserver=new MutationObserver(this.onMutation),!((A=this.props.inputRef)===null||A===void 0)&&A.current){var B;this.mutationObserver.observe((B=this.props.inputRef)===null||B===void 0?void 0:B.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:A}=this.props,{filterQuery:B}=A;if(this.caretPosInFilterQuery===-1||!B)return 0;const F=B==null?void 0:B.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>F?F:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var A;(A=this.mutationObserver)===null||A===void 0||A.disconnect(),this.mutationObserver=null}focus(){var A;const B=(A=this.props.inputRef)===null||A===void 0?void 0:A.current;B==null||B.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}runForceRenderSelectContainer(A){const{isLoading:B,throttleForceRenderSelectContainer:F}=this.props;F?(A&&this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel(),B||this.forceRenderSelectContainerThrottled()):this.forceRenderSelectContainer()}haveSelectedTokens(){var A;return!!(!((A=this.getSelectedTokenIndexes())===null||A===void 0)&&A.length)}isCaretAtStartOfFilterQuery(){if(this.isCaretOutSideFilterQuery())return!1;const{selectState:A}=this.props,{filterQuery:B}=A;if(!B)return!0;const F=this.props.window.getSelection();let k=null;if(F){const{anchorOffset:V}=F;k=V}return k===0}isCaretOutSideFilterQuery(){var A;const B=this.props.window.getSelection();let F=null;if(B){const{anchorNode:k}=B;F=k}return!(!((A=this.filterQueryRef.current)===null||A===void 0)&&A.contains(F))}isRangeSelectionOfFilterQueryComplete(A){const B=this.getSelectedFilterQueryText();if(!B)return!1;const{selectState:F}=this.props,k=F.filterQuery;return!k||!A?!1:B.substr(0,A)===(k==null?void 0:k.substr(0,A))}isEntireFilterQuerySelected(){const{selectState:A}=this.props,B=this.getSelectedFilterQueryText();return!!B&&B===A.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var B,F,k;const V=document.createRange(),X=this.props.window.getSelection();X==null||X.removeAllRanges();const J=(B=this.filterQueryRef)===null||B===void 0?void 0:B.current,Y=(J==null?void 0:J.firstChild)||J,ie=A?0:(k=J==null||(F=J.textContent)===null||F===void 0?void 0:F.trim())===null||k===void 0?void 0:k.length;Y!==null&&typeof ie=="number"&&V.setStart(Y,ie),V.collapse(!0),X==null||X.addRange(V)}possiblyRepositionOptionsList(A){if(!this.measurePopoverEvent)return;const{selectState:B}=this.props,F=B.isExpanded&&!A.isExpanded,k=this.getInputHeight(),V=this.inputHeight!==k;(F||V)&&this.props.window.dispatchEvent(this.measurePopoverEvent)}removeToken(A,B){const{selectState:F,setSelectState:k,isTokenEditable:V}=this.props,{selectedOptions:X,pendingQueries:J,filterQuery:Y}=F,ie=J?J.length:0,de=X&&X[A]&&X[A].queryId,oe=de&&ie?J==null?void 0:J.filter(me=>{let{queryId:re}=me;return re!==de}):J;k(()=>({selectedOptions:X==null?void 0:X.filter((me,re)=>re!==A),selectedTokenIndexes:[],removalInitiator:B,removedItemIndex:A,pendingQueries:oe})),V&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(Y)}saveCaretPosInFilterQuery(){const A=this.props.window.getSelection();this.caretPosInFilterQuery=A==null?void 0:A.anchorOffset}scrollFilterQueryIntoView(){const A=this.filterQueryRef.current;A&&A!=null&&A.scrollIntoView&&(A==null||A.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const A=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const B=this.getTokensAsArray();if(!(A!=null&&A.length))return;const F=A[A.length-1],k=B[F];k&&k.scrollIntoView&&k.scrollIntoView({block:"nearest"})}selectAllTokens(){if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const A=this.getTokensAsArray();if(A.length===0)return;const B=A[0],F=A[A.length-1],k=this.props.window.getSelection(),V=document.createRange();k==null||k.removeAllRanges(),V.setStartBefore(B),V.setEndAfter(F),k==null||k.addRange(V)}selectTextInNode(A){if(!A)return;const B=this.props.window.getSelection(),F=document.createRange();this.ignoreSelectionChange=!0,B==null||B.removeAllRanges();const k=Object(u.p)()?A:A.querySelector(".c-token__content");F.selectNode(k),this.ignoreSelectionChange=!0,B==null||B.addRange(F)}updateCaretPosInFilterQuery(){var A;const B=(A=this.filterQueryRef)===null||A===void 0?void 0:A.current;if(!B)return;const F=document.createRange(),k=this.props.window.getSelection();k==null||k.removeAllRanges();const V=this.determineCaretPosInFilterQuery();typeof V=="number"&&F.setStart((B==null?void 0:B.firstChild)||B,V),F.collapse(!0),k==null||k.addRange(F)}renderFilterQuery(){const{selectState:A,isTokenEditable:B,size:F}=this.props,{filterQuery:k,isDisabled:V}=A,{isCurrentlyEditingToken:X,editTokenIndex:J}=this.state,Y=V?void 0:this.onFilterQueryMouseDown,ie=Object(l.default)({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${F}_filter_query--edit`]:B&&X});return t.a.createElement("span",{className:ie,ref:this.filterQueryRef,onMouseDown:Y,key:J},k)}renderInput(){const{selectState:A,selectDataQa:B,inputRef:F,ariaLabelledBy:k,ariaLabel:V,autoClogProps:X,iconType:J,isTokenEditable:Y}=this.props,{selectId:ie,isDisabled:de,isExpanded:pe,isInvalid:oe}=A,me=de?void 0:0,re=de?void 0:this.getAriaActiveDescendant(),ve=!de,q=ve,ce=de?void 0:this.onFocus,he=de?void 0:this.onBlur,Se=de?void 0:this.onChange,se=de?void 0:this.onPaste,H=de?void 0:this.onKeyDown,Oe=de?void 0:this.onKeyUp,$=de?void 0:this.onSelectionChange,z=de?void 0:this.onCut,be=de?void 0:this.onCompositionStart,Z=de?void 0:this.onCompositionEnd,G=Object(l.default)({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!J}),ne=t.a.createElement("div",{role:"combobox","aria-disabled":de,"aria-autocomplete":"list","aria-expanded":pe,"aria-controls":Object(E.a)(ie,"listbox"),"aria-activedescendant":re,"aria-labelledby":k,"aria-label":V,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":oe,id:ie,className:G,tabIndex:me,contentEditable:ve,suppressContentEditableWarning:q,"data-qa":B?`${B}-input`:void 0,ref:F,onFocus:ce,onBlur:he,onInput:Se,onCompositionStart:be,onCompositionEnd:Z,onPaste:se,onKeyDown:H,onKeyUp:Oe,onSelect:$,onCut:z,"aria-multiline":!1},y(),Y&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.a.createElement(t.a.Fragment,null,this.renderTokens(),this.renderFilterQuery()),y({contentEditable:!1}));return X?t.a.createElement(f.a,{autoClogProps:X,actionProps:M,elementType:S.ElementType.INPUT},ne):ne}renderLoadingIndicator(){const{isLoading:A,size:B}=this.props;return A?t.a.createElement(v.a,{className:"c-multi_select_input__spinner",color:"blue",size:B===g.f.LARGE?g.f.LARGE:g.f.MEDIUM}):null}renderPlaceholder(){const{selectState:A,placeholderText:B,iconType:F}=this.props,{filterQuery:k,selectedOptions:V,isDisabled:X}=A;if(this.state.composing||k||V&&V.length>0)return null;const J=X?void 0:this.onPlaceholderMouseDown,Y=Object(l.default)({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!F});return t.a.createElement("div",{"aria-hidden":"true",className:Y,onMouseDown:J},B)}renderToken(A,B){let{icon:F,value:k,label:V,hoverText:X,isLoading:J,isError:Y,isMemberError:ie,isTeamError:de,isUnknown:pe,emailTeam:oe}=A;const{forceRealName:me,size:re,selectState:ve,customizeTokenProps:q,disableIdParsing:ce}=this.props,he=this.getSelectedTokenIndexes(),Se=(he==null?void 0:he.indexOf(B))!==-1,{isDisabled:se,restrictedSelectedTokenIndexes:H}=ve,Oe=!!H&&(H==null?void 0:H.indexOf(B))!==-1,$=se?void 0:Z=>this.onTokenMouseDown(Z,B),z=se?void 0:()=>this.renderTokenRemoveIcon(B),be=re;return t.a.createElement(t.a.Fragment,null,t.a.createElement(O.b,b({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},$?{onMouseDown:$}:{},{isDisabled:se,entityId:k,label:V,hoverText:X,isLoading:J,isError:Y,isMemberError:ie,isTeamError:de,isUnknown:pe},re?{size:be}:{},{isSelected:Se},z?{renderIcon:z}:{},{forceRealName:me,icon:F,tabIndex:-1,contentEditable:!1},q,{disableIdParsing:ce},oe?{emailTeam:oe}:{},{isRestricted:Oe})),"\xA0")}renderTokenRemoveIcon(A){return t.a.createElement(f.a,{actionProps:_,elementType:S.ElementType.BUTTON},t.a.createElement(I.a,{type:"times-medium",className:"c-multi_select_input__remove_token",id:"multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:Object(d.a)(B=>{this.onTokenRemoveMouseDown(B,A)})}))}renderTokens(){const{selectedOptions:A}=this.props.selectState;return A==null?void 0:A.map((B,F)=>t.a.createElement(t.a.Fragment,{key:B.key||B.value},this.renderToken(B,F)))}renderEditableTokens(){const{isCurrentlyEditingToken:A,editTokenIndex:B}=this.state,F=this.renderTokens()||[],k=this.renderFilterQuery();return A?F.splice(B,0,k):F==null||F.push(k),F}renderIcon(){const{iconType:A}=this.props;return A?t.a.createElement(I.a,{type:A,inline:!0}):null}render(){const{maxHeight:A,width:B,selectState:F,classPrefix:k,size:V}=this.props,{isDisabled:X,isInvalid:J,selectedOptions:Y}=F,ie=Y==null?void 0:Y.length,de=Object(l.default)("c-multi_select_input",{"c-multi_select_input--disabled":X,"c-multi_select_input--focused":this.state.focused&&!X,"c-multi_select_input--large":V===g.f.LARGE,"c-multi_select_input--invalid":J,"c-multi_select_input--initial":!ie,[`${k}__multi_select_input`]:k}),pe=X?void 0:this.onInputContainerMouseDown;return t.a.createElement("div",{className:de,style:{width:B,maxHeight:A},onMouseDown:pe,key:this.state.selectContainerKey},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(A){super(A),Object(h.a)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var B;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(B=A.ignoreSelectAllTokensAfterMount)!==null&&B!==void 0?B:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,A.measurePopoverEventName&&(this.measurePopoverEvent=new Event(A.measurePopoverEventName));var F;this.forceRenderSelectContainerThrottled=Object(o.a)(this.forceRenderSelectContainer,(F=A.forceRenderSelectContainerThrottleRate)!==null&&F!==void 0?F:j,U),this.filterQueryRef=t.a.createRef()}},"MultiSelectInput");W.displayName="MultiSelectInput",W.defaultProps={inputRef:t.a.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:i.a,onKeyUp:i.a,size:g.f.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:i.a,onFilterQueryChange:i.a,onFilterQueryPaste:i.a,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:i.a,onInputFocused:i.a,forceRealName:void 0,onOptionsListClose:i.a,processOptions:R=>c.a.resolve(R),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:i.a,onBlur:i.a,onOptionsListClosedBlur:i.a,ignoreSelectAllTokensAfterMount:!1,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:j};var L=s.a=Object(p.a)(Object(D.a)(W))},fEaq:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("R4JA"),t=e("xwCZ"),a=e("K7jq"),r=e("C3vN"),d=e("ptQX");const o=m((i,h)=>{const l=Object(t.g)(i,h);return Object(r.qb)(l)?!1:Object(a.a)(l)?!!(Object(d.b)(i,h)&&Object(d.a)(i,h)&&!Object(n.a)(i,h)):!0},"isMemberConnectedById")},fGfo:function(K,s,e){"use strict";e.d(s,"m",function(){return v}),e.d(s,"a",function(){return g}),e.d(s,"b",function(){return O}),e.d(s,"l",function(){return f}),e.d(s,"k",function(){return S}),e.d(s,"n",function(){return D}),e.d(s,"j",function(){return p}),e.d(s,"d",function(){return _}),e.d(s,"i",function(){return P}),e.d(s,"g",function(){return y}),e.d(s,"h",function(){return j}),e.d(s,"e",function(){return U}),e.d(s,"f",function(){return L}),e.d(s,"c",function(){return R});var n=e("8/D0"),t=e("Op30"),a=e("sAkM"),r=e("nNoG"),d=e("BHH9"),o=e("uHvJ"),i=e.n(o),h=e("kk2d"),l=e.n(h),u=e("pjW8");const c=new r.b("lists"),E=m(A=>A.replace(/^F/,"C"),"getChannelIdForListFileId"),v=m(A=>A==null||Array.isArray(A)&&A.length===0,"isFieldEmpty"),g=m(A=>{var B;return((B=a.p.get(A))===null||B===void 0?void 0:B.icon)||"text-snippet"},"getColumnTypeIcon"),O=m(function(A,B,F){let k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(B.type===n.a.Select||B.type===n.a.Channel||B.type===n.a.User||B.type===n.a.CreatedBy||B.type===n.a.LastEditedBy){let ie=!1;if(B.type===n.a.Select){var X;ie=((X=B.options)===null||X===void 0?void 0:X.format)===a.n.MultiSelect}else if(B.type===n.a.User||B.type===n.a.Channel){var J;ie=((J=B.options)===null||J===void 0?void 0:J.format)===a.e.MultiEntity}if(A===t.a.Equal){const de=F?c.t("has any of"):"has any of";return ie?de:c.t("is any of")}if(A===t.a.NotEqual){const de=F?c.t("has none of"):"has none of";return ie?de:c.t("is none of")}}if(k)switch(A){case t.a.IsEmpty:return B.type===n.a.Checkbox?c.t("is not checked"):B.type===n.a.Completed?c.t("Not completed"):c.t("is empty");case t.a.IsNotEmpty:return B.type===n.a.Checkbox?c.t("is checked"):B.type===n.a.Completed?c.t("Completed"):c.t("is not empty");case t.a.Equal:return c.t("equal to");case t.a.NotEqual:return c.t("not equal to");case t.a.GreaterThan:return c.t("greater than");case t.a.LessThan:return c.t("lesser than");case t.a.GreaterThanOrEqual:return c.t("greater than or equal to");case t.a.LessThanOrEqual:return c.t("less than or equal to");case t.a.Contains:return c.t("is any of");case t.a.DoesNotContain:return c.t("is none of");case t.a.IsMe:return c.t("is me");case t.a.IsNotMe:return c.t("is not me");default:break}let Y;switch(A){case t.a.Equal:Y="=";break;case t.a.NotEqual:Y="!=";break;case t.a.GreaterThan:Y=">";break;case t.a.LessThan:Y="<";break;case t.a.GreaterThanOrEqual:Y=">=";break;case t.a.LessThanOrEqual:Y="<=";break;case t.a.Contains:Y=F?c.t("contains"):"contains";break;case t.a.DoesNotContain:Y=F?c.t("does not contain"):"does not contain";break;case t.a.IsEmpty:Y=c.t("is empty");break;case t.a.IsNotEmpty:Y=c.t("is not empty");break;case t.a.IsMe:Y=F?c.t("is me"):"is me";break;case t.a.IsNotMe:Y=F?c.t("is not me"):"is not me";break;default:Y=""}return Y},"getFilterOperatorLabel"),I=m(A=>{var B,F,k;if(((B=A.creationSource)===null||B===void 0?void 0:B.type)===a.i.TEMPLATE){var V;return((V=A.creationSource)===null||V===void 0?void 0:V.referenceId)||null}if(((F=A.list_metadata)===null||F===void 0||(k=F.creation_source)===null||k===void 0?void 0:k.type)===a.i.TEMPLATE){var X,J;return((X=A.list_metadata)===null||X===void 0||(J=X.creation_source)===null||J===void 0?void 0:J.reference_id)||null}return null},"getTemplateId"),C=m(A=>{var B,F;if(((B=A.list_metadata)===null||B===void 0||(F=B.creation_source)===null||F===void 0?void 0:F.type)===a.i.TEMPLATE){var k,V;return((k=A.list_metadata)===null||k===void 0||(V=k.creation_source)===null||V===void 0?void 0:V.reference_id)||null}return null},"getBrowserListTemplateId"),f=m(A=>A?I(A)===a.j.CRM_LEADS:!1,"isCrmList"),S=m(A=>A?C(A)===a.j.CRM_LEADS:!1,"isCrmBrowserList"),D=m(A=>f(A),"shouldHideRecordThread"),p=m((A,B)=>{if(!A||!B)return{whole_list:[],columns:[]};const F=c.t("Share a form"),k=c.t("Anyone can contribute - even without List access"),V=I(A);if(!V)return{whole_list:[],columns:[]};switch(V){case a.j.FEEDBACK:return{whole_list:[{id:d.a.FEEDBACK_FORM_FOR_LIST,title:F,description:k,icon:i.a}],columns:[]};case a.j.BUGS:return{whole_list:[{id:d.a.BUG_FORM_FOR_LIST,title:F,description:k,icon:i.a}],columns:[]};case a.j.HELP:return{whole_list:[{id:d.a.HELP_FORM_FOR_LIST,title:F,description:k,icon:i.a}],columns:[]};case a.j.PROJECT_TRACKER:return{whole_list:[],columns:[{columnKey:"status",suggestions:[{id:d.a.LISTS_COLUMN_CHANGED,title:c.t("Status Alert"),description:c.t("Message a channel when Status changes to Blocked"),icon:l.a,filter:{key:"status",value:"blocked"}}]}]};default:return{whole_list:[],columns:[]}}},"getSuggestedAutomations"),b=m((A,B)=>{const F=p(A,B);let k=[];return F.columns.forEach(V=>{let{suggestions:X}=V;k=k.concat(X)}),F.whole_list.concat(k)},"getAllSuggestedAutomations"),M=m((A,B)=>{const F=p(A,B);return!!F.whole_list.length||!!Object.keys(F.columns).length},"hasSuggestedAutomations"),_=m(A=>{var B;if(A)return((B=A.list_metadata)===null||B===void 0?void 0:B.icon)||A.icon},"getListIcon"),P=m(A=>{var B;if(A){if(!((B=A.list_metadata)===null||B===void 0)&&B.views){var F;return(F=A.list_metadata)===null||F===void 0?void 0:F.views.map(V=>Object(u.a)(V))}if(A.views)return A.views}},"getListViews"),y=m(A=>{var B;if(A){if(!((B=A.list_metadata)===null||B===void 0)&&B.schema){var F;return(F=A.list_metadata)===null||F===void 0?void 0:F.schema.map(V=>Object(u.a)(V))}if(A.schema)return A.schema}},"getListSchema"),j=m((A,B)=>{if(!A||!B)return;const F=P(A);if(F)return F.find(k=>k.id===B)},"getListViewById"),U=m(A=>A?A.is_public||A.isPublic:!1,"getListIsPublic"),W=m(A=>A?A.last_editor||A.lastEditor:!1,"getListLastEditor"),L=m(A=>A?A.last_read||A.lastReadTs:!1,"getListLastRead"),R=m(A=>{var B;return((B=A.list_metadata)===null||B===void 0?void 0:B.description)||A.description},"getListDescription")},fMsH:function(K,s,e){"use strict"},fNsR:function(K,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("fujP"),t=e("NFsq"),a=e("VOl3"),r=e("C3vN"),d=e("ByMX"),o=e("xwCZ"),i=e("q0lC"),h=e("zCzZ");const l=m((u,c)=>{let{prefName:E}=c;if(Object(n.a)(E))return!1;const v=Object(o.c)(u);if(Object(r.fb)(v)||Object(d.b)(u))return!1;const{type:g,user:O}=Object(h.g)(u,E)||{};if(Object(t.a)(O,v.id))return!0;switch(g==null?void 0:g[0]){case"PRIMARY_OWNER":return Object(a.c)(v);case"ORG_OWNERS":return Object(a.b)(v);case"ORG_ADMINS_AND_OWNERS":return Object(a.a)(v);default:return Object(i.h)(u)}},"checkChannelMgmtPrefCascade")},fPvf:function(K,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("q1tI"),t=e.n(n),a=e("zxER"),r=e("nNoG"),d=e("ktUG"),o=e("s9Q6"),i=e("AKIH"),h=e("Trx9"),l=e("zEKE"),u=e("w3c/");const c=new r.b("trials_highlight_paid_features"),E=m(g=>{let{trialEndTs:O}=g;return t.a.createElement(h.a,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.a.createElement("div",{className:"p-huddle_invite_modal_banner"},t.a.createElement(l.a,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},c.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:Object(i.a)(O),fallbackHash:"5848c5eb4b061ac0a4abef27be6bc8b2c736d087"}))))},"HuddleInviteModalTrialBanner"),v=m(()=>{const g=Object(a.c)(o.g);return t.a.createElement(E,{trialEndTs:g})},"ConnectedHuddleInviteModalTrialBanner");v.displayName="ConnectedHuddleInviteModalTrialBanner",s.b=v},fZDj:function(K,s,e){"use strict";var n=e("hfkV");s.a=n.a},fenk:function(K,s,e){"use strict";e.d(s,"e",function(){return r}),e.d(s,"g",function(){return d}),e.d(s,"f",function(){return o}),e.d(s,"h",function(){return i});var n=e("vvx0");e.d(s,"b",function(){return n.a});var t=e("7Dzo");e.d(s,"d",function(){return t.a});var a=e("kQBZ");e.d(s,"a",function(){return a.j}),e.d(s,"c",function(){return a.z});const r={Generic:"generic",InternalInviteNotMember:"internal_not_member",InternalInviteNotMemberCanRequest:"internal_not_member_can_request",InternalInviteNoAccess:"internal_no_access",InternalInviteWasPreviouslyConnected:"internal_was_previously_connected",InternalInviteWasPreviouslyConnectedButNotMember:"internal_was_previously_connected_but_not_member",InvalidRecipientTeam:"invalid_recipient_team"};function d(h){return!!h&&!!h.channel}m(d,"isSharedChannelInvite");function o(h){return!!h&&!d(h)&&!i(h)}m(o,"isDirectMessageInvite");function i(h){return!!h&&!!h.shared_workspace}m(i,"isSharedWorkspaceInvite")},fi3B:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ifKl"),d=e("BJra"),o=e("aBhT"),i=e("sGXp");function h(){return h=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(v[I]=O[I])}return v},h.apply(this,arguments)}m(h,"_extends");const l=m(v=>{let{children:g,truncate:O=!1,truncateWidth:I,withTruncationTooltip:C=!1}=v;const f=Object(n.useMemo)(()=>({maxWidth:I||void 0}),[I]);if(!O)return t.a.createElement("span",null,g);let S;return I?S=t.a.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:f},g):S=t.a.createElement("span",null,t.a.createElement(o.a,{lines:1,withTooltip:C},g)),S},"MaybeTruncate");l.displayName="MaybeTruncate";const u={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let c=m(class extends n.Component{render(){const{className:g,avatar:O=r.a,primaryContent:I,secondaryContent:C,style:f=i.d.normal,truncate:S=!1,truncateWidth:D,withTruncationTooltip:p=!1}=this.props,b=O(u),M=!!b;return t.a.createElement("span",h({className:Object(a.default)(g,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":M,"c-base_inline_entity--truncate_block":S&&!D,"c-base_inline_entity--truncate_inline":S&&D,"c-base_inline_entity--dim":f===i.d.dim,"c-base_inline_entity--highlight-dark":f===i.d.highlightDark,"c-base_inline_entity--highlight-dim":f===i.d.highlightDim,"c-base_inline_entity--highlight-light":f===i.d.highlightLight})},Object(d.a)(this.props)),t.a.createElement(l,{truncate:S,truncateWidth:D,withTruncationTooltip:p},b,t.a.createElement("span",{className:"c-base_inline_entity__primary_content"},I),C&&t.a.createElement("span",{className:"c-base_inline_entity__secondary_content"},C)))}},"BaseInlineEntity");c.displayName="BaseInlineEntity";var E=s.a=c},fpvb:function(K,s,e){"use strict";var n=e("3Hq1"),t=e("M1Wn"),a=e("Pw5n"),r=e("mXhK"),d=e("h95D");const o=Object(r.b)("Logs helpful messages to the console if you do something incorrect",(i,h,l)=>{if(Object(n.a)(l)||Object(t.a)(l))return d.c&&Object(a.d)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(l.isThunkCreator||l.isActionCreator){if(d.c){const u=l.isThunkCreator?"thunk":"action",c=l.meta?l.meta.name:`${u}Creator`;Object(a.d)(`
	It looks like you dispatched a ${u} creator instead of the ${u} itself!
	This is a common mistake, and the solution is to call dispatch(${c}(payload)) instead of just dispatch(${c}), note the extra parens at the end.
				`)}return null}return Object(d.b)(l),h(l)});o.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"},s.a=o},"g/kD":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),r=e("BHdc"),d=e("gWIG"),o=e("Tsh7"),i=e("/qcS"),h=e("wY8X"),l=e("Bz4R"),u=e("xwCZ"),c=e("C3vN"),E=e("i5Ig"),v=e("yz5U"),g=e("Q755");function O(){return O=Object.assign||function(b){for(var M=1;M<arguments.length;M++){var _=arguments[M];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(b[P]=_[P])}return b},O.apply(this,arguments)}m(O,"_extends");const I={noLinking:!1},C=m(b=>{let{stopAnimations:M=!1,noText:_=!1,className:P,memberId:y="",noLinking:j,showEmojiTooltip:U=!1,insertTextSpacing:W=!1,displayInMemberProfile:L=!1,emoji:R}=b;const A=Object(a.c)(k=>Object(l.a)(k,y)),B=Object(a.c)(k=>Object(c.jb)(Object(u.g)(k,y)));let F=E.b;return j===!1&&(F=I),L?t.a.createElement("span",{className:P},t.a.createElement(h.a,{memberId:y,emoji:R,stopAnimations:M,showTooltips:U,emojiSize:i.a.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),A&&t.a.createElement(v.a,O({memberId:y,className:Object(r.default)("margin_left_50","padding_right_50",{margin_right_100:B}),emojiSize:i.a.SMALL,stopAnimations:M,text:_?"":A},F))):t.a.createElement("span",{className:P},t.a.createElement(h.a,{memberId:y,showTooltips:U,emojiSize:i.a.SMALL,emoji:R,stopAnimations:M}),A&&t.a.createElement(v.a,O({memberId:y,className:W?"margin_left_50":"margin_left_25",emojiSize:i.a.SMALL,stopAnimations:M,text:_?"":A},F)))},"CustomStatusTooltipContent");C.displayName="CustomStatusTooltipContent";var f=t.a.memo(C),S=e("ItXa");const D=m(b=>{let{animated:M=!1,tooltip:_=!0,tipPosition:P,noText:y=!1,className:j,memberId:U="",noLinking:W,showEmojiTooltip:L=!1,insertTextSpacing:R=!1,displayInMemberProfile:A=!1}=b;const B=Object(a.c)(k=>Object(d.a)(k,U)),F=Object(n.useCallback)(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(f,{className:"c-custom_status__tooltip",noText:y,memberId:U,noLinking:W,showEmojiTooltip:L,insertTextSpacing:R,displayInMemberProfile:A,emoji:B}),t.a.createElement(S.a,{className:"c-custom_status__expiration",memberId:U})),[U,y,W,L,R,A,B]);return B?_?t.a.createElement(o.d,{tip:F,position:P,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.a.createElement("span",{className:Object(r.default)("c-custom_status",j),"data-qa":"custom_status"},t.a.createElement(h.a,{memberId:U,showTooltips:!1,emojiSize:i.a.SMALL,emoji:B,stopAnimations:!M}))):t.a.createElement(f,{className:Object(r.default)(j,"c-custom_status","c-custom_status--inline",{display_flex:A}),stopAnimations:!M,noText:y,memberId:U,noLinking:W,showEmojiTooltip:L,insertTextSpacing:R,displayInMemberProfile:A,emoji:B}):null},"CustomStatus");D.displayName="CustomStatus";var p=s.a=t.a.memo(D)},g0EK:function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("xwCZ"),t=e("9Gfp"),a=e("VOl3"),r=e("clOX");const d=m((o,i)=>{const h=Object(n.c)(o);return Object(t.m)(o)&&Object(a.a)(h)?!0:Object(r.b)(o,"who_can_at_channel",i)},"canNonAdminsAtChannelOrGroupBySettings")},"g3a/":function(K,s,e){"use strict";e.d(s,"a",function(){return d});var n=e("q1tI"),t=e.n(n),a=e("rAyg"),r=e("G7vT");const d=m(o=>{let{children:i,duration:h,icon:l,svgIconProps:u,toastClasses:c,position:E,offsetX:v,offsetY:g,showCloseButton:O,onCloseComplete:I,shouldSkipToastDismissal:C,closeButtonClasses:f,svgIconClassName:S}=o;return t.a.createElement(a.a,{fadeDelay:h,icon:l,svgIconClassName:S,svgIconProps:u,toastClasses:c,offsetX:v,offsetY:g,position:E,showCloseButton:O,onCloseComplete:I,shouldSkipToastDismissal:C,closeButtonClasses:f},t.a.createElement(r.a,{assertive:!0},i))},"Toast");d.displayName="Toast",d.defaultProps={duration:6e3}},g5Dv:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("jF6j");const d=m(o=>{let{children:i,heading:h,subHeading:l,titleImage:u,headingClassName:c,subHeadingClassName:E,dataQa:v,showFullWidthContent:g,className:O,isSharedWorkspaceInvite:I}=o;return t.a.createElement("div",{className:Object(a.default)("p-refreshed_page",{"p-refreshed_page--workspace":I,full_width:g},O),"data-qa":v},u&&u,h&&t.a.createElement("h1",{className:Object(a.default)("p-refreshed_page__heading",c,{margin_bottom_200:!l,full_width:g,"p-refreshed_page__heading--workspace":I})},h),l&&t.a.createElement("div",{className:Object(a.default)("p-refreshed_page__sub_heading",E,{full_width:g})},l),i)},"RefreshedPageContent");d.displayName="RefreshedPageContent",s.a=d},"g6/Y":function(K,s,e){"use strict";e.d(s,"a",function(){return E});var n=e("SQ0V"),t=e("lhZz"),a=e("dKQz"),r=e("HoeF"),d=e("wVLq"),o=e("jj3I"),i=e("QIbu"),h=e("LZPg"),l=e("ED8d"),u=e("smhd"),c=e("9Gfp");const E=Object(n.c)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(v,g,O)=>{let{emoji:I,reactionType:C=i.d.Standard}=O;if(C===i.d.Sticker)v(Object(r.L)({emoji:I})),Object(t.dispatchForClientStore)(Object(a.s)(I));else{Object(t.dispatchForClientStore)(Object(a.r)({emoji:I,reactionType:C})),v(Object(h.a)({peerId:"self",emoji:I,isEmoji:!0,reactionType:C}));const{huddleEventsTrace:S}=Object(l.a)().getAllTraceHandlers();S==null||S.update({name:u.a.REACTION,type:u.b.ONCE,tags:{reactionType:C}})}const f=Object(c.a)(g());f&&v(Object(o.c)({type:d.a.SEND_REACTION,memberId:f,timestampMs:Date.now(),emoji:I}))});E.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},g9pr:function(K,s,e){K.exports=e.p+"remote_work-f8cd791.jpg"},gE2U:function(K,s,e){"use strict";e.d(s,"a",function(){return Ee});var n=e("lhZz"),t=e("q1tI"),a=e.n(t),r=e("7JUD"),d=e("lvWT"),o=e("tYRW"),i=e("AEEY"),h=e("zKrX"),l=e("YyjR"),u=e("DWmQ"),c=e("9org"),E=e("npde"),v=e("3RMI"),g=e("Lgge"),O=e("jWAO"),I=e("PZLk"),C=e("niVp"),f=e("Sf7p");const S=m(te=>{let{children:Ae,showHorchataBackground:Ve,showSignInLink:Ye,showCreateAccountLink:ft,showCreateWorkspaceLink:tt,hideRegionPicker:Rt,clientTheme:rt,hideFooter:we=!1,confirmedEmailPill:xe,hideHeader:st=!1,isSSBBrowserSignin:ke=!1,showSfLogo:lt=!1,isWarningBannerDisplayed:at=!1,govSlackTheme:ht=!1,isLandingPage:Nt=!1,joinerRedesignTreatment:Jt=!1,inviteDetails:zt,externalWorkspaceBrandAssets:Yt}=te;return a.a.createElement(f.a,{inviteDetails:zt,externalWorkspaceBrandAssets:Yt},a.a.createElement(a.a.Fragment,null,!st&&a.a.createElement(I.a,{showSignInLink:Ye,showCreateAccountLink:ft,showCreateWorkspaceLink:tt,showHorchataBackground:Ve,confirmedEmailPill:xe,isSSBBrowserSignin:ke,showSfLogo:lt,hideLogo:lt,isWarningBannerDisplayed:at,govSlackTheme:ht,isLandingPage:Nt,clientTheme:rt,joinerRedesignTreatment:Jt}),ht?a.a.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},Ae):Ae,!we&&a.a.createElement(C.a,{hideRegionPicker:Rt,govSlackTheme:ht,joinerRedesignTreatment:Jt})))},"RefreshedPageLayout");S.displayName="RefreshedPageLayout";var D=S,p=e("g5Dv"),b=e("qDEp"),M=e("nNoG");const _=new M.b("sign_in");function P(te){const{isSSB:Ae,isSSBSignIn:Ve,hasPromoOffer:Ye,shouldRedirect:ft,redirectURL:tt,loggedInTeams:Rt,entryPoint:rt=""}=te;return a.a.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!Ye&&!Ae&&a.a.createElement("p",{className:"small_bottom_margin"},_.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:Rt})),a.a.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},Rt.map((we,xe)=>a.a.createElement(b.b,{key:we.id,"data-qa":`signedin_workspace_link_${xe+1}`,className:"team-signin-link small_margin","data-team-id":we.id,autoClogProps:{elementName:"team_domain",elementValue:we.id.toString(),entryPoint:rt,onClick:{enableClogAction:!0}},href:Ve?`${we.url}ssb/signin_redirect`:`${we.url}${ft?`?redir=${tt}`:""}`,"aria-label":_.t("Go to {teamName} on Slack",{teamName:we.name}),type:"outline"},we.name))))}m(P,"SignedInWorkspaces");var y=e("ktUG"),j=e("Trx9"),U=e("Tevt"),W=e("oEDn"),L=e("d/xU"),R;(function(te){te.INVALID_CODE="invalid_pin",te.RATE_LIMITED="ratelimited",te.SMS_RATE_LIMITED="two_factor_sms_rate_limited",te.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",te.INTERNAL_ERROR="internal_error"})(R||(R={}));var A;(function(te){te.SMS="sms",te.APP="app",te.EMAIL="email",te.EMERGENCY="emergency"})(A||(A={}));var B;(function(te){te.REQUEST_CODE="request_primary",te.REQUEST_BACKUP="request_backup",te.SUBMIT_PRIMARY="submit_primary",te.SUBMIT_BACKUP="submit_backup",te.SUBMIT_EMERGENCY="submit_emergency"})(B||(B={}));const F=new M.b("sign_in"),k={elementName:"help_button",onClick:{enableClogAction:!0}},V=m(te=>{const Ae=te.action===B.REQUEST_BACKUP||te.action===B.SUBMIT_BACKUP;return Ae&&te.twoFactorBackupType===A.APP||!Ae&&te.twoFactorType===A.APP},"currentMethodIsApp"),X=m(te=>V(te)?F.t("Problems with your authentication app?"):F.t("Problems with your code?"),"renderProblemsString"),J=m(te=>V(te)?a.a.createElement("div",{className:"subtle_silver small medium_top_margin"},a.a.createElement("p",{className:"no_bottom_margin"},F.t("Check your authentication app for your code.")),a.a.createElement("p",null,F.rt("<a>Having trouble finding your code?</a>",null,Ae=>{let{tag:Ve,text:Ye}=Ae;return Ve==="a"?a.a.createElement(U.a,{href:`https://${Object(L.l)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Ye):null})),a.a.createElement("p",null,F.rt("If your app is unavailable, use a <a>backup code</a>.",null,Ae=>{let{tag:Ve,text:Ye}=Ae;return Ve==="a"?a.a.createElement(U.a,{href:`https://${Object(L.l)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},Ye):null}))):a.a.createElement("p",{className:"align_left subtle_silver small"},F.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,Ae=>{let{tag:Ve,text:Ye}=Ae;return Ve==="a"?a.a.createElement(U.a,{href:`https://${Object(L.l)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Ye):null})),"renderProblems");J.displayName="renderProblems";const Y=m(te=>{const[Ae,Ve]=Object(t.useState)(!1);return a.a.createElement("div",{className:"p-enter-code__help_button"},a.a.createElement(U.a,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>Ve(!Ae),autoClogProps:k},a.a.createElement(W.a,{type:"question-circle"})," ",X(te)),Ae&&a.a.createElement("div",{className:"send_code_block"},te.children,a.a.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},a.a.createElement("hr",{className:"medium_bottom_margin"}),J(te))))},"GetHelpButton");Y.displayName="GetHelpButton";var ie=e("GzZI"),de=e("BHdc"),pe=e("khnw"),oe=e("U3SE"),me=e("A6se");function re(){return re=Object.assign||function(te){for(var Ae=1;Ae<arguments.length;Ae++){var Ve=arguments[Ae];for(var Ye in Ve)Object.prototype.hasOwnProperty.call(Ve,Ye)&&(te[Ye]=Ve[Ye])}return te},re.apply(this,arguments)}m(re,"_extends");let ve=m(class extends t.Component{render(){const{ariaDescribedBy:Ae}=this.props;return a.a.createElement("div",{className:Object(de.default)("two_factor_input_item",{focused:this.props.hasFocus})},a.a.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":Ae}))}constructor(...Ae){super(...Ae),this.onKeyDown=Ve=>{switch(Ve.keyCode){case pe.a:{Ve.currentTarget.value||this.props.moveLeft();return}case pe.k:return Ve.preventDefault(),this.props.moveLeft();case pe.o:return Ve.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=Ve=>{!Object(me.a)(Ve.which)&&Ve.charCode&&!Object(oe.a)(Ve)&&Ve.preventDefault()},this.onChange=Ve=>{const Ye=Ve.target.value;(/^[0-9]$/.test(Ye)||Ye==="")&&this.props.onChange(Ye)},this.onPaste=Ve=>{Ve.preventDefault();const Ye=window.clipboardData||Ve.clipboardData,ft=Ye.getData("text")||Ye.getData("text/plain"),tt=/\D/g,Rt=ft.replace(tt,"");this.props.onPaste(Rt)}}},"TwoFactorDigitInput");ve.displayName="TwoFactorDigitInput";var q=a.a.forwardRef((te,Ae)=>a.a.createElement(ve,re({},te,{refToForward:Ae})));const ce=new M.b("team_creation");let he=m(class extends t.Component{focusInput(Ae){const Ve=this.inputRefs[Ae];Ve!=null&&Ve.current&&Ve.current.focus()}moveLeft(Ae){Ae<=0||this.focusInput(Ae-1)}moveRight(Ae){Ae>=this.state.values.length-1||this.focusInput(Ae+1)}isComplete(Ae){return!Ae.some(Ve=>!Ve)}clear(){this.setState(Ae=>({values:Ae.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(Ae,Ve){const Ye=this.state.values.slice();Ye[Ae]=Ve,this.setState(()=>({values:Ye}),()=>{Ve&&!this.isComplete(this.state.values)&&this.moveRight(Ae)})}componentDidUpdate(Ae,Ve){var Ye;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((Ye=this.inputRefs[this.state.focusedInputIndex])===null||Ye===void 0?void 0:Ye.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==Ae.codeLength&&this.onCodeLengthChange(Ve),!this.isComplete(Ve.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&Ve.values.join("")!==this.state.values.join("")){const ft=this.state.values.join("");this.props.onFillCode(ft)}else Ve.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(Ae,Ve){return this.state.values.slice(Ae,Ve).map((Ye,ft)=>{const tt=ft+Ae;return a.a.createElement(q,{autocomplete:tt===0?"one-time-password":"off",key:tt,ref:this.inputRefs[tt],moveLeft:()=>this.moveLeft(tt),moveRight:()=>this.moveRight(tt),onChange:Rt=>this.onChange(tt,Rt),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:tt}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===tt,value:this.state.values[tt],ariaLabel:ce.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:tt+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return a.a.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},a.a.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(Ae){super(Ae),this.onPaste=Ve=>{const Ye=this.state.focusedInputIndex;if(Ye===-1)return;const ft=this.state.values.length-Ye,tt=Ve.substring(0,ft).split(""),Rt=this.state.values.slice();tt.forEach((rt,we)=>{const xe=we+Ye;Rt[xe]=rt}),this.setState(()=>({values:Rt}),()=>{this.focusInput(Math.min(this.state.values.length-1,Ye+tt.length))})},this.onCodeLengthChange=Ve=>{const Ye=Object(ie.a)(this.props.codeLength,()=>"");Ve.values.forEach((ft,tt)=>{tt<Ye.length&&(Ye[tt]=ft)}),this.setState(()=>({values:Ye})),this.inputRefs=Ye.map(()=>a.a.createRef())},this.state={values:Object(ie.a)(Ae.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>a.a.createRef())}},"TwoFactorCodeInput");he.displayName="TwoFactorCodeInput",he.defaultProps={isNumbersOnly:!0};const Se=new M.b("sign_in");function se(te){let Ae=null;return te.error===R.SMS_RATE_LIMITED?Ae=Se.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):te.error===R.INVALID_CODE?Ae=Se.rt("Your two-factor authentication code was incorrect. Please try again."):te.error===R.RATE_LIMITED?Ae=Se.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):te.error===R.TOO_MANY_ATTEMPTS?Ae=Se.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):Ae=Se.rt("An unknown error occurred."),a.a.createElement(O.d,{className:"p-enter-code-error__alert",type:O.c.boxed,icon:"lock-o",level:O.b.error,align:O.a.left},a.a.createElement("span",null,Ae))}m(se,"EnterCodeError");var H=e("zxER"),Oe=e("zm5I"),$=e("geaL");function z(){return z=Object.assign||function(te){for(var Ae=1;Ae<arguments.length;Ae++){var Ve=arguments[Ae];for(var Ye in Ve)Object.prototype.hasOwnProperty.call(Ve,Ye)&&(te[Ye]=Ve[Ye])}return te},z.apply(this,arguments)}m(z,"enter_code_root_extends");const be=new M.b("sign_in"),Z=5*60*1e3,G={elementName:"resend_button",onClick:{enableClogAction:!0}},ne={elementName:"backup_button",onClick:{enableClogAction:!0}},ge={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},ae="two_factor_form",fe="enter-code",Te=6;var ye;(function(te){te.Request="request_primary",te.RequestBackup="request_backup",te.SubmitPrimary="submit_primary",te.SubmitBackup="submit_backup",te.SubmitEmergency="submit_emergency",te.None="none"})(ye||(ye={}));function Ue(te){const[Ae,Ve]=Object(t.useState)(te.twoFactorType),[Ye,ft]=Object(t.useState)("");var tt;const[Rt,rt]=Object(t.useState)((tt=te.action)!==null&&tt!==void 0?tt:ye.None),[we,xe]=Object(t.useState)(!1),[st,ke]=Object(t.useState)(Te),[lt,at]=Object(t.useState)(!1),ht=a.a.useRef(null),Nt=a.a.createRef(),Jt=te.submitOverride,{trackClogAuthRef:zt,clogAuthLoginClick:Yt,trackClog:sn}=Object($.c)(),dn=zt({eventId:y.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:fe});Object(t.useEffect)(()=>{if(we){var pt,_t;if((pt=sn.current)===null||pt===void 0||(_t=pt.track)===null||_t===void 0||_t.call(pt,{elementName:ae,elementValue:Rt}),Yt({eventId:y.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:ae,uiPage:fe,elementValue:Rt})(),Jt&&Nt.current)xe(!1),at(!0),Jt(Ye,Rt,te.magicLogin).then(()=>{var en;(en=ht.current)===null||en===void 0||en.clear(),at(!1)});else{var xt;(xt=Nt.current)===null||xt===void 0||xt.submit()}}},[Rt,we,Nt,sn,Ye,Jt,te.magicLogin,Yt]),Object(t.useEffect)(()=>{(te.error===R.RATE_LIMITED||te.error===R.TOO_MANY_ATTEMPTS)&&at(!0),te.error===R.RATE_LIMITED&&setTimeout(()=>{at(!1)},Z)},[te.error]);const Mt=Ae===A.EMERGENCY,yt=Rt===ye.RequestBackup||Rt===ye.SubmitBackup,tn=!Mt&&(yt&&te.twoFactorBackupType===A.SMS||!yt&&te.twoFactorType===A.SMS||te.twoFactorType===A.EMAIL),an=te.twoFactorType===A.EMAIL,on=te.twoFactorType===A.SMS?be.rt("Send Code to Primary Phone"):be.rt("Use Authentication App"),ut=te.twoFactorBackupType===A.SMS?be.rt("Send Code to Backup Phone"):be.rt("Use Backup Authentication App"),Ot=m(()=>a.a.createElement(b.a,{type:"outline",onClick:()=>{rt(yt?ye.RequestBackup:ye.Request),xe(!0)},autoClogProps:G},yt?be.rt("Resend Code to Backup Phone"):be.rt("Resend Code")),"ResendButton"),Wt=m(()=>a.a.createElement(b.a,{type:"outline",onClick:()=>{rt(yt?ye.Request:ye.RequestBackup),xe(!0)},autoClogProps:ne},yt?on:ut),"BackupButton");Wt.displayName="BackupButton";const Ht=m(()=>{let pt;return Mt?pt=yt?ut:on:pt=be.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),a.a.createElement(b.a,{type:"outline",onClick:()=>{Mt?(Ve(te.twoFactorType),ke(Te)):(Ve(A.EMERGENCY),ke(te.emergencyCodeLength))},autoClogProps:ge},pt)},"EmergencyButton");Ht.displayName="EmergencyButton";const Zt=m(()=>te.twoFactorType===A.EMAIL?te.isClientApp?be.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):be.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):be.rt("Enter your authentication code"),"GetHeader"),gn=m(()=>{if(Mt)return be.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(yt)return te.twoFactorBackupType===A.APP?be.rt("Check your authentication app for your code."):be.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:te.teamName});switch(te.twoFactorType){case A.APP:return be.rt("Check your authentication app for your code.");case A.EMAIL:return be.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:te.teamName,emailAddress:te.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return be.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:te.teamName})}},"GetSubheader"),Pn=m(pt=>{let _t;Mt?_t=ye.SubmitEmergency:_t=yt?ye.SubmitBackup:ye.SubmitPrimary,ft(pt),rt(_t),xe(!0)},"onFillCode"),Mn=Object(H.c)(Oe.a);return a.a.createElement(j.a,{eventId:y.EventId.TWO_FACTOR_AUTH,uiPage:fe,trackClogRef:dn},a.a.createElement(D,{clientTheme:Mn},a.a.createElement(p.a,{heading:Zt(),subHeading:gn(),subHeadingClassName:"p-enter_code_app__view_sub_header"},te.codeResent&&a.a.createElement(O.d,{className:"p-enter-code-error__alert",type:O.c.boxed,icon:"paper-plane",level:O.b.info,align:O.a.left},an?be.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:te.teamName,emailAddress:te.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):be.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:te.teamName})),te.error&&a.a.createElement(se,{error:te.error}),a.a.createElement("form",{ref:Nt,className:"p-enter_code",method:"POST"},a.a.createElement("div",{className:"p-enter_code__input_container"},a.a.createElement("fieldset",{className:"p-enter_code__input_fieldset"},a.a.createElement("legend",{className:"offscreen"},be.rt("{codeLength}-digit confirmation code",{codeLength:st,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),a.a.createElement(he,{ref:ht,onFillCode:Pn,onChange:()=>{},hideDash:!0,error:te.error,disabled:lt,codeLength:st}),a.a.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:te.magicLogin}),te.redir.length>0&&a.a.createElement("input",{type:"hidden",name:"redir",value:te.redir}),a.a.createElement("input",{type:"hidden",name:"remember",value:te.remember?"1":"0"}),a.a.createElement("input",{type:"hidden",name:"has_remember",value:te.hasRemember}),a.a.createElement("input",{type:"hidden",name:"2fa_code",value:Ye}),a.a.createElement("input",{type:"hidden",name:"2fa_action",value:Rt})))),a.a.createElement(Y,z({},te),a.a.createElement("div",{className:"p-enter-code__button"},tn&&a.a.createElement(Ot,null),te.twoFactorBackupType&&!Mt&&a.a.createElement(Wt,null),!an&&a.a.createElement(Ht,null))),te.loggedInTeams.length>0&&a.a.createElement("div",{className:"p-enter-code__logged_in_teams"},a.a.createElement(P,z({},te))))))}m(Ue,"EnterCodeRoot");var Ne=e("j77i"),He=e("CTtb"),ze=e("toaU"),Je=e("68qM");function Xe(){return Xe=Object.assign||function(te){for(var Ae=1;Ae<arguments.length;Ae++){var Ve=arguments[Ae];for(var Ye in Ve)Object.prototype.hasOwnProperty.call(Ve,Ye)&&(te[Ye]=Ve[Ye])}return te},Xe.apply(this,arguments)}m(Xe,"enter_2fa_code_modal_extends");const Me=new M.b("2fa_modal"),Ke={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},$e={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function ct(te,Ae){const Ve=Object(Ne.i)();if(te!==void 0){const ft=Ve[te].two_factor_magic_login;ft!==void 0&&ft.token&&(ft.token=Ae),Object(Ne.w)("pendingAuthTeams",Ve)}}m(ct,"updateLocalConfig2fa");function Tt(te){const Ae=Object(Ne.i)();if(te!==void 0){const Ve=Ae[te];Ve.two_factor_magic_login=void 0,Object(Ne.w)("pendingAuthTeams",Ae)}}m(Tt,"clearLocalConfig2faMagicLogin");function Et(te){let{magicLogin:Ae,teamId:Ve,type:Ye,backupType:ft,emergencyLength:tt,emailAddress:Rt,teamName:rt,currentTeamId:we,isOpen:xe,closeModal:st}=te;const[ke,lt]=Object(t.useState)(Ae),[at,ht]=Object(t.useState)(null),[Nt,Jt]=Object(t.useState)(!1),zt=we?Object(n.getStoreInstanceByTeamId)(we):void 0,Yt=Object(t.useCallback)((dn,Mt,yt)=>{const tn={magic_token:yt,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:dn,two_factor_is_backup:Mt===B.REQUEST_BACKUP||Mt===B.SUBMIT_BACKUP};return Mt===B.REQUEST_CODE||Mt===B.REQUEST_BACKUP?(tn.two_factor_pin="",Jt(!0)):Jt(!1),new g.a(an=>{Object(v.a)("auth.loginMagic",tn,(on,ut)=>{if(on&&ut.refreshed_magic_login){var Ot;lt(ut.refreshed_magic_login),ct(Ve,ut.refreshed_magic_login),!((Ot=ut.reason)===null||Ot===void 0)&&Ot.match(/^missing_/)||ht(ut.reason),an(on)}else on&&ut.team?Object(He.a)({currentTeamStore:zt,newWorkspaceId:Ve,navigateToRouteProps:{routeName:ze.a},shouldAutoSignIn:!0}).then(()=>{st(),an(on)}):(Tt(Ve),Object(He.a)({currentTeamStore:zt,newWorkspaceId:Ve,navigateToRouteProps:{routeName:ze.a}}).then(()=>{st(),an(on)}))})})},[Ve,zt,st]);Object(Je.a)(()=>{Yt("",B.SUBMIT_PRIMARY,ke??"")},[]);const sn=Me.t("Finish signing into {teamName}",{teamName:rt,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return a.a.createElement(r.a,{isOpen:xe,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:st,"data-qa":Ke.enter2faCodeModal},a.a.createElement(d.a,null,a.a.createElement(o.a,{title:sn})),a.a.createElement(i.a,null,a.a.createElement(c.a,null,a.a.createElement("div",{id:"enter-code-app-root"},a.a.createElement(Ue,Xe({},$e,{teamName:rt,error:at,action:null,magicLogin:ke||"",twoFactorType:Ye,twoFactorBackupType:ft,emailAddress:Rt,codeResent:Nt,redir:"",emergencyCodeLength:tt,isClientApp:!0,submitOverride:Yt}))))),a.a.createElement(h.a,null,a.a.createElement(l.a,null,a.a.createElement(u.a,{type:"outline","data-qa":Ke.cancelButton},Me.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"admin"})))))}m(Et,"TwoFAModal"),Et.displayName="TwoFAModal";const Le=Object(E.a)(Et);var jt=e("s4P+"),Dt=e("7xYR");function Ee(te,Ae){const Ve=Object(n.getStateForClientStore)();if(!Object(Dt.isWorkspacePendingTwoFactor)(Ve,te))return!1;const Ye=Object(Dt.getWorkspacesMeta)(Ve),ft=Ye==null?void 0:Ye[te],{two_factor_magic_login:tt,name:Rt}=ft,{token:rt,user_2fa_type:we,user_2fa_backup_type:xe,user_emergency_code_length:st,email:ke}=tt;let lt;return Ae?lt=Object(n.getStoreInstanceByTeamId)(Ae):lt=Object(n.getStoreInstanceByTeamId)(Object(Dt.getFocusedWorkspace)(Ve)),lt?(lt.dispatch(Le({magicLogin:rt,teamId:te,type:we,backupType:xe,emergencyLength:st,teamName:Rt,currentTeamId:Ae,emailAddress:ke})),!0):(Object(jt.b)().error("TWO_FACTOR_SSB",`${te} is pending 2fa, but no store for ${Ae}, falling back to openSignIn()`),!1)}m(Ee,"maybeRenderTwoFactorModal")},gENi:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("kBpe");function t(){return!Object(n.o)()&&Object(n.i)()}m(t,"isDrawSupported")},gHj1:function(K,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("9oTK"),t=e("VHGx"),a=e("Xo6s");function r(g){return d.apply(this,arguments)}m(r,"fetchNearestChimeMediaRegion");function d(){return d=Object(n.coroutine)(function*(g){const O=new t.b({url:g?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const I=yield new a.a().q(O);return JSON.parse(I).region}catch{return""}}),d.apply(this,arguments)}m(d,"_fetchNearestChimeMediaRegion");var o=e("Lgge"),i=e("PsQx"),h=e("zIak"),l=e("AdD7"),u=e("mGaQ"),c=e("s4P+");let E=m(class ba{writeRegions(O,I){const C=I?ba.GOV_REGION_STORAGE_KEY:ba.REGION_STORAGE_KEY,f={regions:O,timestamp:Date.now(),version:ba.VERSION};try{localStorage.setItem(C,JSON.stringify(f))}catch(S){Object(c.b)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",S.message)}}readRegions(O){const I=O?ba.GOV_REGION_STORAGE_KEY:ba.REGION_STORAGE_KEY,C=localStorage.getItem(I);if(!C)return null;let f=null;try{f=JSON.parse(C)}catch(S){return Object(c.b)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",S.message),null}return f.version!==ba.VERSION||this.ttl&&Date.now()-f.timestamp>this.ttl?null:f}constructor(O){this.ttl=O}},"ChimeRegionStorage");E.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",E.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",E.VERSION=1;let v=m(class ea{static getInstance(){return ea.instance||(ea.instance=new ea),ea.instance}getNearestChimeMediaRegion(O){var I=this;return Object(n.coroutine)(function*(){return(O?Object(u.a)(O):!1)?I.getNearestChimeGovMediaRegion():I.getNearestChimeCommercialMediaRegion()})()}getNearestChimeCommercialMediaRegion(){var O=this;return Object(n.coroutine)(function*(){if(!O.commercialRegions){const I=O.storage.readRegions(!1);I&&(O.commercialRegions=I.regions)}return O.commercialRegions?O.commercialRegions:O.remoteGetNearestChimeMediaRegion(!1)})()}getNearestChimeGovMediaRegion(){var O=this;return Object(n.coroutine)(function*(){if(!O.govRegions){const I=O.storage.readRegions(!0);I&&(O.govRegions=I.regions)}return O.govRegions?O.govRegions:O.remoteGetNearestChimeMediaRegion(!0)})()}remoteGetNearestChimeMediaRegion(O){var I=this;return Object(n.coroutine)(function*(){const C=yield o.a.resolve(r(O));return O?I.govRegions=C:I.commercialRegions=C,I.storage.writeRegions(C,O),C})()}init(){if(this.initialized)return 0;this.initialized=!0;const O=Object(l.b)();let I=ea.INITIAL_LOAD_DELAY;const C=this.storage.readRegions(O);C&&(O?this.govRegions=C.regions:this.commercialRegions=C.regions,I=Math.max(ea.INITIAL_LOAD_DELAY,ea.REFRESH_INTERVAL-(Date.now()-C.timestamp)));var f=this;const S=setTimeout(Object(n.coroutine)(function*(){yield f.remoteGetNearestChimeMediaRegion(O);const D=new i.a(ea.REFRESH_INTERVAL);D.start(Object(n.coroutine)(function*(){yield f.remoteGetNearestChimeMediaRegion(O)})),Object(h.a)(()=>{D.stop()})}),I);return Object(h.a)(()=>{clearTimeout(S)}),I}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new E(ea.REFRESH_INTERVAL)}},"ChimeRegionProvider");v.REFRESH_INTERVAL=3*24*60*60*1e3,v.INITIAL_LOAD_DELAY=5*1e3},gKtV:function(K,s,e){"use strict";e.d(s,"a",function(){return I});var n=e("DN8O"),t=e("Lgge"),a=e("SQ0V"),r=e("xwCZ"),d=e("beVI"),o=e("2XU3"),i=e("KGIc"),h=e("6l10"),l=e("2mvv"),u=e("S4vl");const c="screenhero.rooms.proxyLogs",E=Object(a.c)("Send call logs to the server",(C,f,S)=>{let{logs:D,useSendBeacon:p=!1,callId:b}=S;const M=f();let _;if(b?_=b:M.activeCall&&M.activeCall.id&&(_=M.activeCall.id),!_)return Object(u.b)(!1,"There should be an active call in progress in order to send logs."),t.a.reject(new Error("SendLogs: no call"));const P=Object(r.c)(M),y=Object(d.g)(M);if(!y)return t.a.reject(new Error("SendLogs: no current team"));const j={data:{room_id:_,user_id:P.id,team_id:y.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:D}},U={data:JSON.stringify(j.data)};return p?Object(h.a)({apiUrl:"/api/",method:c,token:Object(l.b)(M),versionTs:Object(i.f)(),versionUid:Object(i.h)(),args:U})?t.a.resolve():t.a.reject(new Error("SendLogs: beacon failed")):C(Object(o.apiCall)({method:c,reason:"calls-logging",args:U}))});E.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};var v=e("M3pb");const g=60*1e3,O=5e3;class I{start(f){Object(u.b)(!this.intervalHandle,"Log reporter already started."),this.callId=f,this.intervalHandle=window.setInterval(()=>this.report(!1),g),this.buffer.subscribeToSizeUpdates(S=>{S>O&&this.report()}),window.addEventListener("beforeunload",this.unloadHandler)}stop(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.intervalHandle&&window.clearInterval(this.intervalHandle),this.intervalHandle=void 0,this.buffer.unsubscribe(),window.removeEventListener("beforeunload",this.unloadHandler),f&&this.report(S),this.callId=void 0}joinLogs(f){return f.map(S=>S.join(" ")).join(`
`)}report(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isPostPending&&!f)return;const{dispatch:S}=Object(v.a)(),D=this.buffer.flush();D.length&&(this.isPostPending=!0,S(E({logs:this.joinLogs(D),useSendBeacon:f,callId:this.callId})).catch(()=>{this.buffer.replace(D.concat(this.buffer.flush()))}).finally(()=>{this.isPostPending=!1}))}constructor(f=n.a){this.buffer=f,this.isPostPending=!1,this.unloadHandler=()=>{window.Cypress||this.report(!0)}}}m(I,"log_reporter_LogReporter")},"gOA+":function(K,s,e){"use strict";e.d(s,"a",function(){return g}),e.d(s,"b",function(){return I});var n=e("oTSI"),t=e("uAML"),a=e("Lgge"),r=e("lhZz"),d=e("pu3F"),o=e("9mnW"),i=e("O86Y"),h=e("3KdQ"),l=e("SQ0V"),u=e("0Wfr"),c=e("BEaa"),E=e("s4P+");const v=1e4,g=Object(n.a)(()=>new t.b({fetch:(f,S)=>a.a.all(S.map(D=>Object(r.dispatchForTeamId)(f,C({channelId:D,count:d.K})))),isEnabled:()=>!0,metricsName:"member-list"})),O=Object(l.c)("marks objects as stale via CFM for Membership List",function(f,S){let{teamId:D,channelId:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};g().markObjectsAsStale(D,[p])});O.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const I=Object(u.a)(O,Object(c.a)(v,0,.5)),C=Object(l.c)("Fetches top members for the channel",function(f,S){let{channelId:D,count:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object(o.b)(f,S,D,p).then(b=>{const M=Object(i.g)(S());if(!M){Object(E.b)().info("MOS","No teamId found");return}return g().markObjectsAsFresh(M,[D]),f(Object(h.a)({channelId:D,memberList:b}))})});C.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},gZuW:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("oEDn");function d(){return d=Object.assign||function(h){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(h[c]=u[c])}return h},d.apply(this,arguments)}m(d,"_extends");let o=m(class extends n.PureComponent{render(){const{children:l,className:u,id:c,...E}=this.props,v=Object(a.default)("c-inline_alert",u);return t.a.createElement("div",d({},E,{className:v,id:c,"data-qa-error":!0}),t.a.createElement(r.a,{type:"info-circle",className:"c-inline_alert__icon",size:"inherit",inline:!0}),t.a.createElement("span",{className:"c-inline_alert__text"},l))}},"InlineAlert");o.displayName="InlineAlert",o.defaultProps={className:"",id:""};var i=s.a=o},gded:function(K,s,e){"use strict";e.d(s,"a",function(){return n});const n=m(t=>{let{listId:a,viewId:r}=t;return`${a}-${r}`},"getSortsFiltersGridsId")},geaL:function(K,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"b",function(){return o}),e.d(s,"c",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("ktUG");const r=m(h=>({action:a.UiAction.IMPRESSION,uiPage:window.location.href,...h}),"getAuthImpressionTrackParams"),d=m(h=>({action:a.UiAction.CLICK,uiPage:window.location.href,...h}),"getAuthClickTrackParams"),o=m(h=>({uiPage:window.location.href,...h}),"getAuthTrackParams");function i(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const l=Object(n.useRef)(null),u=Object(n.useCallback)(v=>g=>{if(l.current={track:g},h){var O;l==null||(O=l.current)===null||O===void 0||O.track(r(v))}},[l,h]),c=Object(n.useCallback)(v=>()=>{var g;l==null||(g=l.current)===null||g===void 0||g.track(d(v))},[l]),E=Object(n.useCallback)(v=>()=>{var g;l==null||(g=l.current)===null||g===void 0||g.track(o(v))},[l]);return{trackClog:l,trackClogAuthRef:u,clogAuthLoginClick:c,clogAuthLoginAction:E}}m(i,"useAuthClogger")},gogJ:function(K,s,e){"use strict";e.d(s,"b",function(){return C}),e.d(s,"a",function(){return p}),e.d(s,"c",function(){return b});var n=e("1myf"),t=e("S1sa"),a=e("G4qV"),r=e("ZKjC"),d=e("nNoG"),o=e("bJfW"),i=e("G0eX"),h=e("mZIY"),l=e("ehcD"),u=e("xwCZ"),c=e("beVI"),E=e("O86Y"),v=e("rHDT"),g=e("UIp0"),O=e("o2hH");const I=new d.b("create_channel_modal"),C=Object(r.b)(M=>{const _=Object(u.c)(M),P=Object(l.a)(_),y=Object(c.g)(M);if(!y)return[];const j=Object(E.a)(M)||[],U=[y.id,...P,...j],W=[...new Set(U)].filter(L=>!Object(o.b)(L)).map(L=>Object(c.s)(M,L)).filter(L=>!!L&&!Object(i.U)(L));return Object(n.a)(W,L=>Object(i.h)(L))});C.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaces",description:M=>{const _=Object(u.c)(M),P=Object(l.a)(_),y=Object(c.g)(M);if(!y)return[];const j=Object(E.a)(M)||[],U=[y.id,...P,...j],W=[...new Set(U)].filter(L=>!Object(o.b)(L)).map(L=>Object(c.s)(M,L)).filter(L=>!!L&&!Object(i.U)(L));return Object(n.a)(W,L=>Object(i.h)(L))}};const f=m((M,_,P)=>_[M]==="admin"||P==="admin"?I.t("Admins only"):_[M]==="owner"||P==="owner"?I.t("Owners only"):"","mapPrefToDisplayReason"),S=m((M,_)=>{const P=_==null?void 0:_.map(y=>y.id);return M.map(y=>{var j,U;return{label:Object(i.h)(y),value:y,optgroup:y.enterprise_name,key:y.id,isDisabled:!!(P!==void 0&&P.includes(y.id)),displayReason:(U=(j=_==null?void 0:_.find(W=>W.id===y.id))===null||j===void 0?void 0:j.displayReason)!==null&&U!==void 0?U:""}})},"mapWorkspacesToSelectOptionItems"),D=m((M,_)=>{let{ineligibleWorkspaces:P,excludeExternalWorkspaces:y}=_;const[j,U]=Object(t.a)(M,L=>Object(h.a)(L)),W={value:void 0,label:"",type:"divider"};return[...S(U,P),...!y&&j.length>0?[W,...S(j,P)]:[]]},"mapInvitableWorkspacesToSelectOptions"),p=Object(r.b)(M=>{const _=Object(g.c)(M),P=Object(O.b)(M),y=C(M),j=Object(E.a)(M),U=Object(v.a)(M,"who_can_create_channels",j),W=Object(v.a)(M,"who_can_create_groups",j),L=y.filter(R=>!_.includes(R.id)&&!P.includes(R.id)).map(R=>({id:R.id,displayReason:f(R.id,U,W)}));return D(y,{ineligibleWorkspaces:L})});p.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaceSelectOptions",description:M=>{const _=Object(g.c)(M),P=Object(O.b)(M),y=C(M),j=Object(E.a)(M),U=Object(v.a)(M,"who_can_create_channels",j),W=Object(v.a)(M,"who_can_create_groups",j),L=y.filter(R=>!_.includes(R.id)&&!P.includes(R.id)).map(R=>({id:R.id,displayReason:f(R.id,U,W)}));return D(y,{ineligibleWorkspaces:L})}};const b=Object(a.a)(C,M=>M.length>1)},gsmS:function(K,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("9oTK"),t=e.n(n),a=e("s4P+"),r=e("oTSI"),d=e("Lgge"),o=e("uAML"),i=e("lhZz"),h=e("MvPG"),l=e("8j9e");const u="HERMES_TRIGGERS_CFM";function c(g,O){return E.apply(this,arguments)}m(c,"fetchAndUpsertTriggersById");function E(){return E=Object(n.coroutine)(function*(g,O){return d.a.map(O,function(){var I=Object(n.coroutine)(function*(C){try{const{trigger:f,ok:S}=yield Object(i.dispatchForTeamId)(g,Object(h.b)({triggerId:C,includeWorkflowDetails:!0,reason:"fetch-stale-triggers-with-cfm"}));if(!S){Object(a.a)({teamId:g}).error(u,`unable to fetch ${C}, workflows.triggers.info responded with not ok`);return}Object(i.dispatchForTeamId)(g,Object(l.l)({triggers:[f]}))}catch{}});return function(C){return I.apply(this,arguments)}}())}),E.apply(this,arguments)}m(E,"_fetchAndUpsertTriggersById");const v=Object(r.a)(()=>new o.b({fetch:c,isEnabled:()=>!0}))},gv7z:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ifKl"),d=e("BJra"),o=e("sGXp");function i(){return i=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(E[O]=g[O])}return E},i.apply(this,arguments)}m(i,"_extends");const h=m((E,v,g,O)=>!(E!==o.c.medium||!g||O||v),"shouldVerticallyCenter"),l={className:"c-base_entity__avatar"},u=m(E=>{const{size:v,style:g=o.d.normal,text:O=null,className:I="",subtext:C=null,avatar:f=r.a,metadata:S=null,forwardedRef:D=null}=E,p=f(l),b=!!p;return t.a.createElement("div",i({className:Object(a.default)(I,"c-base_entity",`c-base_entity--${v}`,{"c-base_entity--has-avatar":b,"c-base_entity--dim":g===o.d.dim,"c-base_entity--vertically-center":h(v,C,b,S)})},Object(d.a)(E),{ref:D}),p,t.a.createElement("div",{className:"c-base_entity__text-contents"},O,C,S))},"BaseEntity");u.displayName="BaseEntity";var c=s.a=u},h2ws:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("Yauy"),t=e("C3vN"),a=e("y6S6");function r(d,o,i){if(Object(t.jb)(o))return Object(n.db)(i);const h=Object(a.b)(d,i.id,o.id);return!!(h.isKnown&&h.isMember)}m(r,"isUserKnownToBeMemberOfChannel")},hAJ3:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("Lgge"),t=e("SQ0V"),a=e("FZZA"),r=e("AaY3"),d=e("0dq7"),o=e("CMT/");const i=Object(t.c)("Creates a new huddle in mpim where all huddle participants are channel members",(h,l,u)=>{let{channelId:c,memberIds:E}=u;return h(Object(o.a)({memberIds:E})).then(v=>{h(Object(a.a)(c)),h(Object(r.a)({channelId:v.id,entryPoint:d.e.CREATE_NEW_MPIM}))}).catch(v=>n.a.reject(v))});i.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},hD2y:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("clOX");const t=m((a,r)=>Object(n.b)(a,"who_can_at_everyone",r),"canNonAdminsAtMentionEveryoneBySettings")},hHnA:function(K,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"d",function(){return r}),e.d(s,"n",function(){return d}),e.d(s,"p",function(){return o}),e.d(s,"c",function(){return i}),e.d(s,"e",function(){return h}),e.d(s,"i",function(){return l}),e.d(s,"q",function(){return u}),e.d(s,"h",function(){return c}),e.d(s,"g",function(){return E}),e.d(s,"m",function(){return v}),e.d(s,"f",function(){return g}),e.d(s,"j",function(){return O}),e.d(s,"k",function(){return I}),e.d(s,"l",function(){return C}),e.d(s,"o",function(){return f});var n=e("DwFS");const t=Object(n.a)("Set current list view");t.meta={name:"createAction",key:"createActionsetCurrentListView",description:"Set current list view"};const a=Object(n.a)("Set admin suggested list views");a.meta={name:"createAction",key:"createActionsetAdminSuggestedListViews",description:"Set admin suggested list views"};const r=Object(n.a)("Set favorite list views");r.meta={name:"createAction",key:"createActionsetFavoriteListViews",description:"Set favorite list views"};const d=Object(n.a)("Set recently viewed list views");d.meta={name:"createAction",key:"createActionsetRecentlyViewedListViews",description:"Set recently viewed list views"};const o=Object(n.a)("Set user created list views");o.meta={name:"createAction",key:"createActionsetUserCreatedListViews",description:"Set user created list views"};const i=Object(n.a)("Set list view selection filter");i.meta={name:"createAction",key:"createActionsetCurrentListViewSectionFilter",description:"Set list view selection filter"};const h=Object(n.a)("Set flag to indicate list view sections are being fetched");h.meta={name:"createAction",key:"createActionsetIsFetchingListViewSections",description:"Set flag to indicate list view sections are being fetched"};const l=Object(n.a)("Set list view error on a specific section");l.meta={name:"createAction",key:"createActionsetListViewSectionError",description:"Set list view error on a specific section"};const u=Object(n.a)("Upsert list views based on search results");u.meta={name:"createAction",key:"createActionupsertListViewSearchResults",description:"Upsert list views based on search results"};const c=Object(n.a)("Set currently active full search list view ids for the list selection page");c.meta={name:"createAction",key:"createActionsetListViewActiveSearchResultIds",description:"Set currently active full search list view ids for the list selection page"};const E=Object(n.a)("Set currently active full search query for the list selection page");E.meta={name:"createAction",key:"createActionsetListViewActiveSearchQuery",description:"Set currently active full search query for the list selection page"};const v=Object(n.a)("Set sales leader report drilldown group info");v.meta={name:"createAction",key:"createActionsetOpportunitiesDrilldownGroups",description:"Set sales leader report drilldown group info"};const g=Object(n.a)("Set flag to indicate sales leader opportunities drilldown info is being fetched");g.meta={name:"createAction",key:"createActionsetIsFetchingOpportunitiesDrilldown",description:"Set flag to indicate sales leader opportunities drilldown info is being fetched"};const O=Object(n.a)("Set sales leader report drilldown display columns");O.meta={name:"createAction",key:"createActionsetOpportunitiesDrilldownDisplayColumns",description:"Set sales leader report drilldown display columns"};const I=Object(n.a)("Set sales leader report drilldown group by column");I.meta={name:"createAction",key:"createActionsetOpportunitiesDrilldownGroupByColumn",description:"Set sales leader report drilldown group by column"};const C=Object(n.a)("Set sales leader report drilldown group columns");C.meta={name:"createAction",key:"createActionsetOpportunitiesDrilldownGroupColumns",description:"Set sales leader report drilldown group columns"};const f=Object(n.a)("Set should show opportunities list view refresh banner indicating user went to Salesforce");f.meta={name:"createAction",key:"createActionsetShouldShowOpportunitiesListViewBanner",description:"Set should show opportunities list view refresh banner indicating user went to Salesforce"}},hHne:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("O86Y"),a=e("PWAB"),r=e("AO5M"),d=e("j77i");const o=Object(n.c)("Entirely replaces tile state",(i,h,l)=>{let{tileHistoryState:u}=l;if(!u)return;const c=Object(t.g)(h());Object(d.x)(c,a.a.HISTORY,u),i(Object(r.d)({tileHistoryState:u}))});o.meta={name:"createThunk",key:"createThunkreplaceTileHistoryState",description:"Entirely replaces tile state"},s.a=o},"hT/Z":function(K,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("uoFi"),d=e("cBJ3"),o=e("dmdh"),i=e("OaiI"),h=e("mNat");const l=Object(a.c)("Fetch list",function(){var u=Object(n.coroutine)(function*(c,E,v){let{lists:g}=v;const O=g.map(I=>Object(h.g)(I));Object(i.isListsStoreRefactorEnabled)(E())||c(Object(r.b)({lists:O})),Object(i.isListsStoreRefactorEnabled)(E())&&g.forEach(I=>{const C=Object(o.e)(E(),I.id);c(Object(d.a)({...C,...I}))})});return function(c,E,v){return u.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkupsertLocalListFiles",description:"Fetch list"}},hXnR:function(K,s,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),r=e("/MKj"),d=e("BeL+"),o=e("pFNT"),i=e("qDEp"),h=e("jWAO"),l=e("8aX7"),u=e("nWdO"),c=e("zxER"),E=e("WMzb"),v=e("i5Ig"),g=e("yxNq"),O=e("YUBf"),I=e("pu3F"),C=e("9Gfp"),f=e("sgFo"),S=e("3vtZ"),D=e("CMT/"),p=e("nNoG"),b=e("y6S6"),M=e("CDqL"),_=e("E97Y"),P=e("to1N"),y=e("0dq7"),j=e("Trx9"),U=e("ktUG"),W=e("s9Q6"),L=e("beVI"),R=e("G0eX"),A=e("GNR7"),B=e("WAPM"),F=e("fPvf"),k=e("DneB"),V=e("E3dU"),X=e("+CZ0"),J=e("Ccc1"),Y=e("+tZp"),ie=e("xwCZ"),de=e("hooW"),pe=e("9068");function oe(te){let{memberId:Ae}=te;const Ve=Object(c.c)(ft=>Object(ie.g)(ft,Ae)),Ye=Object(c.c)(ft=>Object(Y.a)(ft,Ve,!1,!1));return Object(pe.c)(Ve)?a.a.createElement(de.a,{type:"unknown"}):Object(pe.b)(Ve)?a.a.createElement(de.a,{type:"non-existent"}):a.a.createElement("span",null,Ye)}m(oe,"DeprecatedHuddleName"),oe.displayName="DeprecatedHuddleName";const me=new p.b("huddles");function re(te){let{unknownMemberIds:Ae}=te;const Ve=Object(k.b)(X.b),Ye=Object(c.c)(Rt=>Object(V.d)(Rt,Ve)),ft=Object(t.useMemo)(()=>Ve?Ae:[],[Ve,Ae]);let tt;if(ft.length===1)tt=me.rt("{name1} is not a member of {channel}.",{name1:a.a.createElement(oe,{memberId:ft[0]}),channel:a.a.createElement(J.a,{channel:Ye})});else if(ft.length===2)tt=me.rt("{name1} and {name2} are not a member of {channel}.",{name1:a.a.createElement(oe,{memberId:ft[0]}),name2:a.a.createElement(oe,{memberId:ft[1]}),channel:a.a.createElement(J.a,{channel:Ye})});else if(ft.length===3)tt=me.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:a.a.createElement(oe,{memberId:ft[0]}),name2:a.a.createElement(oe,{memberId:ft[1]}),name3:a.a.createElement(oe,{memberId:ft[2]}),channel:a.a.createElement(J.a,{channel:Ye})});else if(ft.length>3){const[Rt,rt,we,...xe]=ft,st=xe.map(ke=>a.a.createElement(oe,{key:ke,memberId:ke}));tt=me.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:a.a.createElement(oe,{memberId:Rt}),name2:a.a.createElement(oe,{memberId:rt}),name3:a.a.createElement(oe,{memberId:we}),channel:a.a.createElement(J.a,{channel:Ye}),numOthers:ft.length-3},ke=>{let{text:lt}=ke;return a.a.createElement(u.c,{tip:Object(p.h)(st,{noEscape:!0})},a.a.createElement("span",null,lt))})}return a.a.createElement("small",null,tt)}m(re,"HuddleInviteNotAMember"),re.displayName="HuddleInviteNotAMember";var ve=re,q=e("+kJ4"),ce=e("TUw0"),he=e("Sl1j"),Se=e("B4ch"),se=e("FN5i");const H=new p.b("huddles");function Oe(te){let{members:Ae}=te;const Ve=Object(r.useDispatch)(),[Ye,ft]=Object(t.useState)(null),[tt,Rt]=Object(t.useState)([]),rt=Object(k.b)(X.b)||"",we=Object(c.c)(at=>Object(V.d)(at,rt)),xe=Object(t.useCallback)(()=>Ve(Object(q.a)()),[Ve]),st=Object(t.useCallback)(()=>Ve(Object(q.a)({closeAll:!0})),[Ve]),ke=Object(t.useCallback)(at=>{ft(at),Ve(Object(he.B)({channelId:rt,users:at})).then(()=>{tt.push(at),Rt(tt),ft(null)}).catch(()=>{ft(null)})},[rt,Ve,tt]),lt=Object(t.useMemo)(()=>({addedToChannel:H.t("Added to channel"),notInChannel:H.t("Not in channel"),added:H.t("Added"),inviteToChannel:H.t("Invite to channel")}),[]);return a.a.createElement(O.a,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:xe,contentLabel:H.rt("These people are not a member of {channelName}",{channelName:a.a.createElement(J.a,{className:"bold",channel:we})}),shouldReturnFocusAfterClose:!0},a.a.createElement(O.i,null,a.a.createElement(O.l,{title:H.rt("These people are not a member of {channelName}",{channelName:a.a.createElement(J.a,{channel:we})}),subtitle:H.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:a.a.createElement(J.a,{className:"bold",channel:we})})})),a.a.createElement(O.d,null,a.a.createElement(O.e,null,Ae.map(at=>{const ht=tt.includes(at);return a.a.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:at},a.a.createElement(ce.b,{id:at,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:a.a.createElement("small",{className:"sk_dark_gray"},ht?lt.addedToChannel:lt.notInChannel)}),a.a.createElement(i.c,{type:"outline",size:"small",disabled:ht,loading:Ye===at,onClick:()=>ke(at)},ht?lt.added:lt.inviteToChannel))}),a.a.createElement(h.d,{className:"margin_top_50",level:h.b.info,type:h.c.custom},H.t("If you don\u2019t add them, they won\u2019t be able to see messages in the huddle.")))),a.a.createElement(O.g,null,a.a.createElement(O.h,null,a.a.createElement(O.c,{onClick:xe,type:"outline"},H.t("Cancel")),a.a.createElement(i.f,{onClick:st,type:"primary"},H.t("Done")))))}m(Oe,"HuddleInviteAddToChannel"),Oe.displayName="HuddleInviteAddToChannel";var $=Object(Se.a)(Oe,{isStackable:!0}),z=e("U1tW"),be=e("trVL"),Z=e("Z3RE"),G=e("p6pj"),ne=e("6SBE"),ge=e("oSkh"),ae=e("rIOq"),fe=e("G4FP"),Te=e("VkPA"),ye=e("ZMRP"),Ue=e("ISSR"),Ne=e("Fn/R"),He=e("Zbwg"),ze=e("azkI");const Je=new p.b("huddles");var Xe;(function(te){te.CHANNEL="channel",te.PEOPLE="people"})(Xe||(Xe={}));const Me=m(te=>{let{isFreeTeam:Ae,onSuggestedChannelSelected:Ve,onSuggestedUserSelected:Ye,selectedChannelId:ft,selectedMemberIds:tt}=te;const Rt=Object(c.c)(C.a),rt=Object(c.c)(ze.f,g.b),we=Object(c.c)(ze.g,g.b),xe=Object(c.c)(tn=>{if(!rt)return[];if(tt.length)return[];const an=[];return rt.forEach(on=>{if(on.id===ft)return;const ut=Object(V.d)(tn,on.id);Object(Ue.a)(ut)||an.push(on)}),an},g.b),st=Object(t.useMemo)(()=>xe.map(tn=>tn.id),[xe]),ke=Object(c.c)(tn=>{if(!we)return[];if(ft)return[];const an=[];return we.forEach(on=>{if(on.id===Rt||tt.includes(on.id))return;const ut=Object(ie.g)(tn,on.id);Object(Ne.a)(ut)||an.push(on)}),an},g.b),lt=Object(t.useMemo)(()=>ke.map(tn=>tn.id),[ke]),at=Object(t.useMemo)(()=>{const on=lt.length*60,ut=32,Ot=st.length*ut;return Math.min(Math.max(on,Ot),240)},[st,lt]),ht=Object(t.useCallback)(tn=>{if(!tn.id)return;Object(He.a)(tn.id)?Ve(tn.id):Ye(tn.id)},[Ve,Ye]),Nt=Object(t.useCallback)(tn=>{const an=xe[tn];if(an)return a.a.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},a.a.createElement(fe.a,{channelId:an.id}))},[xe]),Jt=Object(t.useCallback)(()=>a.a.createElement(ge.a,{disableHeight:!0},tn=>{let{width:an}=tn;return a.a.createElement(ye.b,{"aria-label":Je.t("Channel"),keys:st,rowRenderer:Nt,onItemClick:ht,width:an,height:at})}),[ht,Nt,st,at]),zt=Object(t.useCallback)(tn=>{const an=ke[tn];if(an)return a.a.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},a.a.createElement(ae.a,{id:an.id}))},[ke]),Yt=Object(t.useCallback)(()=>a.a.createElement(ge.a,{disableHeight:!0},tn=>{let{width:an}=tn;return a.a.createElement(ye.b,{"aria-label":Je.t("People"),keys:lt,rowRenderer:zt,onItemClick:ht,width:an,height:at})}),[ht,zt,lt,at]),[sn,dn]=Object(t.useState)(Xe.PEOPLE),Mt=Object(t.useCallback)(tn=>{dn(tn)},[]);Object(t.useEffect)(()=>{sn===Xe.PEOPLE&&ft?dn(Xe.CHANNEL):sn===Xe.CHANNEL&&tt.length&&dn(Xe.PEOPLE)},[sn,ft,tt]);const yt=Object(t.useMemo)(()=>{const tn=[];return lt.length&&tn.push({title:Je.t("People"),id:Xe.PEOPLE,content:Yt()}),st.length&&tn.push({title:Je.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:Xe.CHANNEL,content:Jt()}),tn},[st,lt,Jt,Yt]);return Ae?null:a.a.createElement("div",{className:"p-huddle_start_suggestion_tabs"},a.a.createElement(Te.a,{fullHeight:!0,tabs:yt,currentTabId:sn,onTabChange:Mt,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");Me.displayName="HuddleStartSuggestionTabs";var Ke=a.a.memo(Me),$e=e("jNCy"),ct=e("mVl8");function Tt(){return Tt=Object.assign||function(te){for(var Ae=1;Ae<arguments.length;Ae++){var Ve=arguments[Ae];for(var Ye in Ve)Object.prototype.hasOwnProperty.call(Ve,Ye)&&(te[Ye]=Ve[Ye])}return te},Tt.apply(this,arguments)}m(Tt,"_extends");var Et;(function(te){te.COMPOSER="composer",te.PUBLIC_CHANNEL="public_channel",te.PRIVATE_CHANNEL="private_channel"})(Et||(Et={}));function Le(te){let{channel:Ae}=te;return Ae?Ae&&Object(_.k)(Ae)?Et.PRIVATE_CHANNEL:Et.PUBLIC_CHANNEL:Et.COMPOSER}m(Le,"getModalContext");const jt=new p.b("huddles");function Dt(te){let{closeModal:Ae,callId:Ve,channel:Ye,channelSuggestion:ft,memberSuggestionId:tt,selectedMemberIds:Rt=v.a}=te;const rt=Object(r.useDispatch)(),we=Object(E.a)(),xe=Le({channel:Ye}),st=xe===Et.PRIVATE_CHANNEL,ke=xe===Et.COMPOSER,[lt,at]=Object(t.useState)(Rt),[ht,Nt]=Object(t.useState)(),[Jt,zt]=Object(t.useState)(!1),[Yt,sn]=Object(t.useState)(!1),dn=Object(c.c)(C.a),Mt=Object(c.c)(L.g),yt=Object(R.F)(Mt),tn=Object(c.c)(W.i),an=Object(c.c)(Xt=>Object(ct.a)(Xt,(Ye==null?void 0:Ye.id)||"")),on=Object(c.c)(f.B),ut=Object(c.c)(f.A),Ot=Object(c.c)(Xt=>Object(A.g)(Xt,Ye==null?void 0:Ye.id).filter(qt=>qt.id!==dn).map(qt=>qt.id),g.a),Wt=Object(c.c)(S.H),Ht=Object(c.d)(Xt=>st?lt.filter(qt=>{const Qt=Ye&&Object(b.c)(Xt,Ye.id,qt);return Qt&&Qt.isKnown&&!(Qt!=null&&Qt.isMember)}):[]);Object(t.useEffect)(()=>{ft&&Nt({id:ft.id,isCurrentSuggestedChannel:!0})},[ft]),Object(t.useEffect)(()=>{tt&&at([tt])},[tt]);const Zt=Object(t.useCallback)(Xt=>at(Xt),[]),gn=Object(t.useCallback)(Xt=>{if(Xt===(ht==null?void 0:ht.id)&&(ht!=null&&ht.isCurrentSuggestedChannel)){Nt({id:Xt,isCurrentSuggestedChannel:!0});return}Nt({id:Xt,isCurrentSuggestedChannel:!1})},[ht==null?void 0:ht.id,ht==null?void 0:ht.isCurrentSuggestedChannel]),Pn=Object(t.useCallback)(Xt=>{at(lt.concat(Xt))},[lt]),Mn=Object(t.useCallback)(()=>{Nt({id:Ye==null?void 0:Ye.id,isCurrentSuggestedChannel:!0})},[Ye==null?void 0:Ye.id]),pt=Object(t.useCallback)(()=>{ht!=null&&ht.id&&(rt(Object(P.a)({channelId:ht.id,entryPoint:y.e.COMPOSER_HUDDLE_START})),Ae())},[ht,rt,Ae]),_t=Object(t.useCallback)(Object(n.coroutine)(function*(){zt(!0),yield rt(Object(D.a)({memberIds:lt})).then(Xt=>{rt(Object(P.a)({channelId:Xt.id,entryPoint:y.e.COMPOSER_HUDDLE_START})),Ae(),zt(!1),sn(!1)}).catch(Xt=>{we.error(Xt),zt(!1);const{message:qt}=Xt;(qt==null?void 0:qt.indexOf(I.U.INVALID_USER_COMBINATION))!==-1&&sn(!0)})}),[lt,rt,we,Ae]),xt=Object(t.useCallback)(Object(n.coroutine)(function*(){if(!Ye)return;zt(!0);let Xt=lt;(ht==null?void 0:ht.id)===Ye.id&&(ht!=null&&ht.isCurrentSuggestedChannel)&&(Xt=Object(d.a)([...lt,...an])),yield rt(Object(M.a)({channelId:Ye.id,userIds:Xt})).then(()=>{zt(!1),Ht&&Ht.length>0&&st?rt($({members:Ht})):Ae()}).catch(qt=>{we.error(qt),zt(!1)})}),[Ye,an,Ae,rt,st,we,ht==null?void 0:ht.id,ht==null?void 0:ht.isCurrentSuggestedChannel,lt,Ht]),en=Object(t.useMemo)(()=>xe===Et.COMPOSER?ht!=null&&ht.id?pt:_t:xt,[xt,_t,xe,ht,pt]),Cn={[Et.COMPOSER]:{eventId:U.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:U.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[Et.PUBLIC_CHANNEL]:{eventId:U.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[Et.PRIVATE_CHANNEL]:{eventId:U.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},pn=m(()=>yt&&!on?a.a.createElement(z.a,null):tn?a.a.createElement(F.b,null):null,"maybeRenderBanner");pn.displayName="maybeRenderBanner";const fn=Cn[xe],Ln=Object(t.useMemo)(()=>ke?jt.t("Start a Huddle"):lt.length>1?jt.t("Send Invites"):jt.t("Send Invite"),[ke,lt]);if(!Wt)return null;const _n=jt.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),Un=m(Xt=>a.a.createElement(B.a,{articleId:4402059015315,ariaLabel:jt.t("Learn more about Huddles"),forceOpenInBrowser:!0},Xt),"renderLearnMoreLink");let Dn,nt,St,Ut;const Gt=m(Xt=>{const qt=Xt.map(Qt=>a.a.createElement(l.a,{key:Qt,isBold:!1,id:Qt}));return qt&&Object(p.h)(qt)},"listifiedOverflowMembers");if(Gt.displayName="listifiedOverflowMembers",yt&&on)nt=jt.t("Invite someone to your huddle"),Dn=st?jt.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:a.a.createElement(J.a,{channel:Ye}),"<a>":Xt=>{let{text:qt}=Xt;return Un(qt)},fallbackHash:"5f76fe5a7665b492c0690fcc19a8a5aaf6574868"}):jt.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":Xt=>{let{text:qt}=Xt;return Un(qt)},fallbackHash:"9bc849cac2c555397077a41bb3a7e60b48f17618"});else if(ke?(nt=jt.t("Start a Huddle"),St=jt.t("Find a person or channel to huddle with")):(nt=jt.t("Invite people to your huddle"),St=st?_n:jt.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),Ye!=null&&Ye.id&&Ot.length){const Xt=jt.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:Ot.length-1,firstParticipant:a.a.createElement(l.a,{isBold:!0,id:Ot[0]}),secondParticipant:a.a.createElement(l.a,{isBold:!0,id:Ot[1]}),"<a>":qt=>{let{text:Qt}=qt;return a.a.createElement(u.c,{zIndex:"above_fs",tip:Gt(Ot.slice(2))},a.a.createElement("span",null,Qt))}});Ut=a.a.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},a.a.createElement($e.a,{channelId:Ye.id,className:"p-huddle_invite_channel_or_start__avatar_stack",avatarSize:o.a.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3}),a.a.createElement("div",null,Xt))}const On="huddle-invite-description";return a.a.createElement(O.a,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Ae,contentLabel:nt,describedby:On,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},a.a.createElement(O.i,null,a.a.createElement(O.l,{title:nt,subtitle:St})),a.a.createElement(O.d,null,a.a.createElement(O.e,null,Ut,Dn&&a.a.createElement("p",{id:On},Dn),a.a.createElement(Z.a,{isFreeTeam:yt,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:on,channel:Ye,otherMembersInHuddle:Ot,onSelectedMembersChange:Zt,onSelectedChannelChange:gn,selectedMemberIds:lt,selectedChannel:ht}),st&&Ht&&Ht.length>0&&a.a.createElement(ve,{unknownMemberIds:Ht}),Yt&&a.a.createElement(h.d,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},jt.t("All external people must already be in at least one channel together to send this invitation.",{fallbackHash:"9557ff89ebba020fc327f9ef7901a6504e6174dd"}))),Ve&&a.a.createElement(ne.a,{activeHuddleCallId:Ve,channel:Ye,isFreeTeam:yt,onSuggestedUserSelected:Pn,otherMembersInHuddle:Ot,selectedMemberIds:lt,onChannelSelected:ut?Mn:void 0,channelSuggestionOptionSelected:ut&&(ht==null?void 0:ht.isCurrentSuggestedChannel)}),!Ve&&a.a.createElement(Ke,{isFreeTeam:yt,onSuggestedChannelSelected:gn,onSuggestedUserSelected:Pn,selectedChannelId:ht==null?void 0:ht.id,selectedMemberIds:lt}),pn()),a.a.createElement(O.g,null,a.a.createElement(O.h,{className:"p-huddle_invite_channel_or_start_footer_actions"},a.a.createElement(G.a,{channelId:Ye==null?void 0:Ye.id}),a.a.createElement(O.c,{type:"outline",className:"p-huddle_invite_channel_or_start_footer_actions_close"},jt.t("Cancel")),a.a.createElement(j.a,Tt({},fn,{clogImpression:!0}),a.a.createElement(i.c,{"data-qa":"send_invite_button",loading:Jt,onClick:en,type:"primary",disabled:!lt.length&&!(ht!=null&&ht.id)},Ln)))),on&&yt&&a.a.createElement(be.a,{selectedMemberIds:lt}))}m(Dt,"HuddleInviteChannelOrStart"),Dt.displayName="HuddleInviteChannelOrStart";var Ee=s.a=Dt},hcyO:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Record that a message was deleted");t.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},hfkV:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("nNoG"),d=e("Tsh7"),o=e("CTEJ"),i=e("oEDn"),h=e("3bXy");const l=new r.b("channel_token"),u=m(E=>{let{type:v=h.a.Unknown,subtler:g=!1,size:O=h.b.Small,width:I="random",invert:C=!1,showHash:f=!0,omitNonExistentTooltip:S=!1}=E;const D=Object(a.default)("c-missing_channel",{"c-missing_channel--unknown":v===h.a.Unknown,"c-missing_channel--nonexistent":v===h.a.Nonexistent,"c-missing_channel--subtler":g,"c-missing_channel--medium":O===h.b.Medium,"c-missing_channel--unknown_inverted":v===h.a.Unknown&&C,"c-missing_channel--non_existent_inverted":v===h.a.Nonexistent&&C}),p=Object(a.default)("c-missing_channel--medium_hash",{"c-missing_channel--subtler":g});let b;if(v===h.a.Unknown)b=l.t("Loading...");else if(v===h.a.Nonexistent)b=l.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"});else return null;if(v===h.a.Nonexistent){const M=t.a.createElement("span",{className:"c-missing_channel--private"},t.a.createElement(i.a,{type:"lock-small"}),t.a.createElement("span",null,l.t("private channel")));return S?M:t.a.createElement(d.d,{tip:b},M)}return O===h.b.Medium?t.a.createElement("div",null,t.a.createElement("div",{className:"c-missing_channel--medium-top"},f&&t.a.createElement(i.a,{type:"hash-medium",className:p,size:"inherit"}),t.a.createElement(o.a,{tooltip:b,isNonExistent:!1,size:I,className:D})),t.a.createElement(o.a,{tooltip:b,isNonExistent:!1,size:I,className:D})):t.a.createElement(o.a,{tooltip:b,isNonExistent:!1,size:I,className:D})},"MissingChannel");u.displayName="MissingChannel";var c=s.a=t.a.memo(u)},hiGJ:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Updates latest message activity for a specified type");t.meta={name:"createAction",key:"createActionupdateMessageActivity",description:"Updates latest message activity for a specified type"}},hooW:function(K,s,e){"use strict";var n=e("i2F6");s.a=n.a},"i/F/":function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("Yauy"),t=e("miM7"),a=e("gVOt");function r(d){let{channels:o,selfId:i}=d;const h={};return o.some((l,u)=>{const c=l==null?void 0:l.id;return Object(t.a)(l)?(h.general=c,!0):(Object(n.pb)(l)&&(h.slackbot=c),i&&Object(a.a)(l)===i&&(h.self=c),u||(h.first=c),!1)}),h.general||h.slackbot||h.self||h.first}m(r,"getAnyChannelForRouting")},i2F6:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),r=e("CTEJ"),d=e("3bXy");const o=new a.b("member_token"),{Unknown:i,Nonexistent:h}=d.a,l=m(u=>{let{type:c=i,subtler:E=!1,className:v,"data-qa":g}=u;const O=c===i?o.t("Loading\u2026"):o.t("Private user info");return t.a.createElement(r.a,{className:v??"",isNonExistent:c===h,subtler:E,tooltip:O,"data-qa":g})},"MissingMember");l.displayName="MissingMember",s.a=t.a.memo(l)},"i3z+":function(K,s,e){"use strict";e.d(s,"b",function(){return J}),e.d(s,"a",function(){return pe}),e.d(s,"f",function(){return oe}),e.d(s,"g",function(){return me}),e.d(s,"d",function(){return re}),e.d(s,"e",function(){return ve}),e.d(s,"c",function(){return q});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("Fsnq"),d=e("fujP"),o=e("vFlG"),i=e("HI9p"),h=e("m8R6"),l=e("ktUG"),u=e("9Gfp"),c=e("YANR"),E=e("3V+Q"),v=e("eBYm"),g=e("jWAO"),O=e("oEDn"),I=e("Ws5+"),C=e("WAPM"),f=e("ZOzc"),S=e("Ufq/");const D=m($=>!Object(S.e)($),"is_org_calls_apps_settings_enabled_isOrgCallsAppsSettingsEnabled");var p=e("zCzZ"),b=e("5IZy");const M=m($=>{let{callsApps:z,allowCalls:be,clogger:Z,action:G,stepVariant:ne}=$;const ge={allow_calls:be};z&&z.video&&z.video.length>0&&(ge.video_call_app_ids=z.video.map(ae=>ae.id)),z&&z.audio&&z.audio.length>0&&(ge.audio_call_app_ids=z.audio.map(ae=>ae.id)),z&&z.profile_field_options&&z.profile_field_options.length>0&&(ge.profile_field_option_ids=z.profile_field_options.map(ae=>ae.id)),Z.track(l.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...ge,contexts:{ui_context:{step:l.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:G,entry_point:"calls-workspace-admin",step_variant:ne}}})},"clogCallsApps"),_=m($=>{let{clogger:z}=$;z.track(l.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:l.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:l.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:l.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var P=e("SQ0V");const y=Object(P.c)("Clog a standardized click event when a workspace setting is saved",($,z,be)=>{let{eventId:Z,uiStep:G,stepVariant:ne}=be;Object(b.a)({getState:z}).track(Z,{contexts:{ui_context:{ui_step:G,step_variant:ne,ui_properties:{element_type:l.ElementType.BUTTON,element_name:"submit_button"},action:l.UiAction.CLICK,is_primary_cta:!0}}})});y.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};var j=y,U=e("beVI"),W=e("G0eX"),L=e("/0Xg"),R=e("YUBf"),A=e("nNoG"),B=e("4w5y"),F=e("sgFo"),k=e("3REw");const V=new A.b("calls_admin"),X="only_available_for_paid_teams";var J;(function($){$.Video="video",$.Audio="audio",$.ProfileFieldOptions="profile_field_options"})(J||(J={}));const Y=m($=>{let{type:z,app:be,isChecked:Z,onChangeCallApp:G,isLocked:ne}=$;const ge=Object(n.useCallback)(()=>G(z,be.id),[G,z,be]),ae=`${z}_${be.id}`;return t.a.createElement(E.b,{text:be.name,type:"inline",cursor:"pointer"},t.a.createElement(I.a,{id:ae,name:be.name,checked:Z,onChange:ge,disabled:ne,"data-qa":ae}))},"AppCheckbox");Y.displayName="AppCheckbox";const ie=m($=>{let{appsState:z,isLocked:be,type:Z}=$;return!be||!z?!1:Z===J.Video&&Object(r.a)(z.video)>0&&Object(r.a)(z.audio)===0||(Z===J.Audio&&Object(r.a)(z.audio)>0&&Object(r.a)(z.video))===0},"disableTypeCheckbox"),de=m($=>{let{appsState:z,isLocked:be,appId:Z,type:G}=$;if(!be||!z)return!1;const ne=z.video?Object.keys(z.video):[],ge=z.audio?Object.keys(z.audio):[],ae=ne.length+ge.length;if(Z&&ae===1){let fe,Te;return ne.length===1?(fe=ne[0],Te=J.Video):ge.length===1&&(fe=ge[0],Te=J.Audio),Z===fe&&G===Te}return!1},"disableAppCheckbox"),pe=m($=>{let{type:z,sectionTitle:be,appsState:Z,installedCallApps:G,onChangeCallType:ne,onChangeCallApp:ge,isLocked:ae,dataQa:fe}=$;if(!G||!Z||!G[z])return null;const Te=`enable_${z}_calls`;return t.a.createElement("div",{className:`p-calls_workspace_settings__${z}_container`,"data-qa":fe},t.a.createElement(E.b,{text:be,type:"inline",cursor:"pointer"},t.a.createElement(I.a,{checked:!Object(d.a)(Z[z]),id:Te,name:Te,onChange:ne,disabled:ie({appsState:Z,isLocked:ae,type:z})})),t.a.createElement("p",{className:"p-calls_workspace_settings__options_title"},V.t("Calling options:")),t.a.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...G[z]].map(ye=>t.a.createElement(Y,{app:ye,isChecked:Object(o.a)(Z[z],ye.id),key:`${z}_${ye.id}`,onChangeCallApp:ge,type:z,isLocked:de({appsState:Z,isLocked:ae,appId:ye.id,type:z})}))))},"CallSection");pe.displayName="CallSection";const oe=m($=>{let{installedCallApps:z,appsState:be,appId:Z,type:G,setAppsState:ne}=$;if(!z||!be)return;const ge={...be[G]};if(Object(o.a)(ge,Z))delete ge[Z],ne({...be,[G]:ge});else{const ae=Object(i.a)(z[G],fe=>fe.id===Z);ae>-1&&(ge[Z]=ae,ne({...be,[G]:ge}))}},"toggleCallApp"),me=m($=>{let{installedCallApps:z,appsState:be,type:Z,setAppsState:G}=$;if(!(!be||!z))if(!Object(d.a)(be[Z]))G({...be,[Z]:{}});else{var ne;const ge={};(ne=z[Z])===null||ne===void 0||ne.forEach((ae,fe)=>{ge[ae.id]=fe}),G({...be,[Z]:ge})}},"toggleCallType"),re=m(($,z)=>{const be={video:{},audio:{},profile_field_options:{}};return!z||!$||[J.Video,J.Audio,J.ProfileFieldOptions].forEach(Z=>{z[Z]&&[...z[Z]].forEach(ne=>{const ge=Object(i.a)($[Z],ae=>ae.id===ne.id);ge>-1&&(be[Z][ne.id]=ge)})}),be},"reduceTeamPrefApps"),ve=m(function(){let{installedCallApps:$,appsState:z}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const be={video:[],audio:[]};return!$||!z||[J.Video,J.Audio].forEach(Z=>{if($[Z]){const G=[...$[Z]],ne=z[Z];G.forEach(ge=>{if(Object(o.a)(ne,ge.id)){var ae;(ae=be[Z])===null||ae===void 0||ae.push(Object(h.a)(ge,"preselected"))}})}}),be},"setCallsAppsPayloadToSave"),q=m(($,z)=>{if(!z||!$||!$.video)return;const be=$.video.findIndex(Z=>Z.id===k.j);be>=0&&$.video.splice(be,1)},"maybeFilterNativeCallsApp"),ce=m($=>{let{isOpen:z,closeModal:be,errorMessage:Z,buttonLabel:G}=$;return t.a.createElement(R.a,{centered:!0,isOpen:z,closeModal:be},t.a.createElement(R.d,{className:"p-calls_workspace_settings__error_modal"},t.a.createElement(R.e,null,t.a.createElement("p",null,Z))),t.a.createElement(R.g,null,t.a.createElement(R.h,null,t.a.createElement(R.c,{type:"outline",onClick:be},G))))},"ErrorModal");ce.displayName="ErrorModal";const he=m($=>{let{installedCallApps:z,teamPrefCallsApps:be,setMultipleTeamPrefsByApi:Z,clogWorkspaceSettingSubmit:G,isLocked:ne,isCallsSelectorDisabled:ge,clogger:ae,isOrgCallsAppsSettingsEnabled:fe,team:Te,isCallsLocationLockedByOrgAdmin:ye,callsLocationLocked:Ue,experimentCallsAdminDeprecationGroupOn:Ne}=$;const[He,ze]=Object(n.useState)(!1),[Je,Xe]=Object(n.useState)(""),Me=V.t("Save"),Ke=V.t("Saved"),$e=V.t("Sorry! Something went wrong. Please try again."),ct=Ne?V.t("Allow third-party calls in Slack"):V.t("Allow video calls in Slack"),Tt=V.t("Allow phone number calls in Slack (only in direct messages)"),Et=V.t("Ok",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"app_view"}),Le=V.t("Sorry, call selection is currently managed by your organization admin."),jt=Ne?V.rt("First install a <a>calling app from our app directory</a> then come back here to enable it as a default calling app.",{},Yt=>{let{text:sn}=Yt;return t.a.createElement(C.a,{articleId:208492868},sn)}):"",Dt=Object(n.useCallback)(()=>{_({clogger:ae}),Object(W.W)(Te,Object(L.v)({entryPoint:"calls-admin-workspace-settings"}))},[ae,Te]),Ee=V.rt("Sorry, this feature is only available to <a>paid teams</a>.",{fallbackHash:"48faa2ac6ac6d273cd7dacbe15a5b6f7e1822087"},Yt=>{let{text:sn}=Yt;return t.a.createElement("a",{href:"#",onClick:Dt,"data-qa":"paid_plan_page_link"},sn)}),te=be?re(z,be):{video:{},audio:{},profile_field_options:{}},[Ae,Ve]=Object(n.useState)(te),[Ye,ft]=Object(n.useState)(!1),[tt,Rt]=Object(n.useState)(!1),rt=Ue&&Ue.length>0?B.a.US:B.a.GLOBAL,[we,xe]=Object(n.useState)(rt);Object(n.useEffect)(()=>{const Yt=re(z,be);Ve(Yt)},[Ve,z,be]);const st=Object(n.useCallback)(Yt=>{Rt(!1),me({installedCallApps:z,appsState:Ae,type:Yt,setAppsState:Ve})},[z,Ae,Ve]),ke=Object(n.useCallback)(()=>st(J.Video),[st]),lt=Object(n.useCallback)(()=>st(J.Audio),[st]),at=Object(n.useCallback)(()=>ze(!1),[ze]),ht=Object(n.useCallback)((Yt,sn)=>{Rt(!1),oe({installedCallApps:z,appsState:Ae,appId:sn,type:Yt,setAppsState:Ve})},[z,Ae,Ve]),Nt=Object(n.useCallback)(Yt=>{xe(Yt),Rt(!1)},[xe]),Jt=m(()=>{ft(!0),G({eventId:l.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const Yt=!Object(d.a)(Ae.video)||!Object(d.a)(Ae.audio),sn=ve({installedCallApps:z,appsState:Ae}),dn={calls_apps:sn};Object(W.z)(Te)||(dn.allow_calls=Yt),ye||(dn.calls_locations=we===B.a.US?[we]:[]),Z({prefs:dn}).then(()=>{Rt(!0),M({callsApps:sn,allowCalls:Yt,clogger:ae,action:l.UiAction.SAVE})}).catch(Mt=>{var yt;ze(!0),(Mt==null||(yt=Mt.data)===null||yt===void 0?void 0:yt.error)===X?(Xe(Ee),M({callsApps:sn,allowCalls:Yt,clogger:ae,action:l.UiAction.ERROR,stepVariant:X})):(Xe($e),M({callsApps:sn,allowCalls:Yt,clogger:ae,action:l.UiAction.ERROR}))}).finally(()=>ft(!1))},"onSubmit"),zt=z&&(z.video&&z.video.length>0||z.audio&&z.audio.length>0);return t.a.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},ge&&fe?t.a.createElement(g.d,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.a.createElement("span",null,Le)):t.a.createElement(t.a.Fragment,null,Ne&&!zt&&t.a.createElement(g.d,{type:"boxed",level:"info",icon:"info",align:"left"},t.a.createElement("span",null,jt)),t.a.createElement("div",{className:"p-calls_workspace_settings__call_options"},z&&z.video&&z.video.length>0&&t.a.createElement(pe,{type:J.Video,sectionTitle:ct,appsState:Ae,installedCallApps:z,onChangeCallType:ke,onChangeCallApp:ht,isLocked:ne}),z&&z.audio&&z.audio.length>0&&t.a.createElement(pe,{type:J.Audio,sectionTitle:Tt,appsState:Ae,installedCallApps:z,onChangeCallType:lt,onChangeCallApp:ht,isLocked:ne})),t.a.createElement(B.b,{appsState:Ae,isLockedByOrgAdmin:ye,selectedCallLocation:we,setSelectedCallLocation:Nt}),t.a.createElement(ce,{closeModal:at,isOpen:He,errorMessage:Je,buttonLabel:Et}),(!Ne||zt)&&t.a.createElement(v.a,{onClick:Jt,loading:Ye,"data-qa":"call_save_button"},tt&&t.a.createElement(O.a,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),tt?Ke:Me)))},"CallsWorkspaceSettings");he.displayName="CallsWorkspaceSettings";const Se=m($=>{const z=Object(F.f)($),be=Object(u.e)($,"calls_apps");q(be,z);const Z=Object(f.a)($,"calls_apps"),G=Object(p.g)($,"calls_locations");return{installedCallApps:be,teamPrefCallsApps:Z,clogger:Object(b.a)({state:$}),isOrgCallsAppsSettingsEnabled:D($),team:Object(U.g)($),isCallsLocationLockedByOrgAdmin:!!G&&G.length>0,callsLocationLocked:Object(f.a)($,"calls_locations"),experimentCallsAdminDeprecationGroupOn:z}},"mapStateToProps"),se={setMultipleTeamPrefsByApi:c.b,clogWorkspaceSettingSubmit:j},H={toggleCallApp:oe,toggleCallType:me,AppCheckbox:Y,reduceTeamPrefApps:re,setCallsAppsPayloadToSave:ve,disableTypeCheckbox:ie,disableAppCheckbox:de};var Oe=Object(a.a)(Se,se)(he)},i6es:function(K,s,e){K.exports=e.p+"slackbot_frowny_20-96acbec.png"},iBeP:function(K,s,e){"use strict";var n=e("Cfcg"),t=e("kBpe"),a=e("4tnk"),r=e("UQYs");let d=m(h=>{var l;if(!Object(t.i)()||!Object(t.p)())return{};const u=Object(a.e)(h);return(u==null||(l=u.darwin)===null||l===void 0?void 0:l.showScrollBars)!=="Always"?{}:{alwaysVisible:!0}},"mapStateToProps");Object.defineProperty({mapStateToProps:d},"mapStateToProps",{get:()=>d,set:h=>{d=h}});const i=Object(n.a)(d,null,null,{forwardRef:!0})(r.b);s.a=i},iLLt:function(K,s,e){K.exports=e.p+"slackbot_fancy_48-8220eaf.png"},iXLD:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("BJra");function d(){return d=Object.assign||function(i){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])}return i},d.apply(this,arguments)}m(d,"_extends");function o(i){const{children:h,className:l}=i;return h?t.a.createElement("span",d({className:Object(a.default)(l,"c-base_entity__metadata")},Object(r.a)(i)),h):null}m(o,"BaseEntityMetadata"),o.displayName="BaseEntityMetadata",s.a=o},"iaW+":function(K,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("q1tI"),r=e.n(a),d=e("SQ0V"),o=e("stkM"),i=e("3l96"),h=e("5Yu9");const l=Object(d.c)("Display loading modal and fetch data for trial entry point modal",function(){var u=Object(n.coroutine)(function*(c,E,v){return c(Object(i.a)({element:r.a.createElement(h.a,{className:"p-trial_entry_point_modal__loading_modal"})})),c(Object(o.a)(v))});return function(c,E,v){return u.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"},s.a=l},iomZ:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("HJKc");const t=m(a=>{let{codePointLikeString:r}=a;if(!Object(n.a)(r))return;const d=16;return r.split("-").map(o=>String.fromCodePoint(parseInt(o,d))).join("")},"getUnicodeFromCodePointLikeString")},itAW:function(K,s,e){"use strict";e.d(s,"g",function(){return W}),e.d(s,"i",function(){return L}),e.d(s,"e",function(){return R}),e.d(s,"o",function(){return A}),e.d(s,"r",function(){return B}),e.d(s,"f",function(){return V}),e.d(s,"j",function(){return X}),e.d(s,"k",function(){return J}),e.d(s,"l",function(){return Y}),e.d(s,"q",function(){return de}),e.d(s,"m",function(){return pe}),e.d(s,"p",function(){return oe}),e.d(s,"d",function(){return me}),e.d(s,"c",function(){return re}),e.d(s,"a",function(){return ve}),e.d(s,"h",function(){return q}),e.d(s,"n",function(){return ce}),e.d(s,"b",function(){return se});var n=e("Z0Cl"),t=e("TGBA"),a=e("Z7Ay"),r=e("ZKjC"),d=e("rdha"),o=e("G4qV"),i=e("O86Y"),h=e("srzd"),l=e("WBOM"),u=e("9068"),c=e("9oTK"),E=e("Lgge"),v=e("oTSI"),g=e("Kmpi"),O=e("lhZz"),I=e("MvPG"),C=e("8j9e"),f=e("gsmS");const S=Object(v.a)(()=>new g.a({fetch:D,metricsName:"hermesTriggers",upsertKnown:p,upsertNonExistent:p}));function D(H){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return E.a.map(Oe,function(){var $=Object(c.coroutine)(function*(z){try{return(yield Object(O.dispatchForTeamId)(H,Object(I.b)({triggerId:z,includeWorkflowDetails:!0,reason:"hermes_triggers_ufm"}))).trigger}catch(be){return{id:z,error:be.name}}});return function(z){return $.apply(this,arguments)}}())}m(D,"fetchTriggersForTeamId");function p(H,Oe){const $=Oe.map(z=>z.id);Object(f.a)().markObjectsAsFresh(H,$),Object(O.dispatchForTeamId)(H,Object(C.l)({triggers:Oe}))}m(p,"upsertTriggersForTeamId");var b=e("i5Ig"),M=e("JoR1"),_=e("1Odg"),P=e("/Hvu"),y=e("CWPp");const j=Object(r.b)(H=>{var Oe;return H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.triggersById});j.meta={name:"createSelector",key:"createSelectorgetTriggersById",description:H=>{var Oe;return H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.triggersById}};const U=Object(r.b)(H=>{var Oe;return H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.recentlyRunTriggerIds});U.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggerIds",description:H=>{var Oe;return H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.recentlyRunTriggerIds}};const W=Object(r.b)((H,Oe,$)=>{let{triggerId:z}=Oe;var be,Z;const G=H==null||(be=H.hermesTriggers)===null||be===void 0||(Z=be.triggersById)===null||Z===void 0?void 0:Z[z],ne=Object(i.g)(H);return ne?G?(Object(f.a)().maybeRefetch(ne,z),G):$?S().fetchObjectWithId(ne,z):Object(u.e)(z):Object(u.e)(z)});W.meta={name:"createSelector",key:"createSelectorgetTriggerById",description:(H,Oe,$)=>{let{triggerId:z}=Oe;var be,Z;const G=H==null||(be=H.hermesTriggers)===null||be===void 0||(Z=be.triggersById)===null||Z===void 0?void 0:Z[z],ne=Object(i.g)(H);return ne?G?(Object(f.a)().maybeRefetch(ne,z),G):$?S().fetchObjectWithId(ne,z):Object(u.e)(z):Object(u.e)(z)}};const L=Object(d.f)((H,Oe)=>{let{triggerIds:$}=Oe;const z=Object(i.g)(H);return z?$.length?$.map(be=>{var Z,G;const ne=H==null||(Z=H.hermesTriggers)===null||Z===void 0||(G=Z.triggersById)===null||G===void 0?void 0:G[be];return ne?(Object(f.a)().maybeRefetch(z,be),ne):S().fetchObjectWithId(z,be)}):b.a:$.map(be=>Object(u.e)(be))}),R=Object(r.b)(H=>Object(M.t)(H,"seen_workflows_gallery_onboarding_banner_view_count")||0);R.meta={name:"createSelector",key:"createSelectorgetShortcutsGalleryEducationalBannerViewCount",description:H=>Object(M.t)(H,"seen_workflows_gallery_onboarding_banner_view_count")||0};const A=Object(r.b)(H=>Object(M.t)(H,"seen_workflows_gallery_onboarding_banner_dismissed")||!1);A.meta={name:"createSelector",key:"createSelectorisShortcutsGalleryEducationalBannerDismissed",description:H=>Object(M.t)(H,"seen_workflows_gallery_onboarding_banner_dismissed")||!1};const B=Object(r.b)(H=>Object(M.t)(H,"seen_workflows_templates_gallery_onboarding_banner_dismissed")||!1);B.meta={name:"createSelector",key:"createSelectorisWorkflowTemplatesGalleryEducationalBannerDismissed",description:H=>Object(M.t)(H,"seen_workflows_templates_gallery_onboarding_banner_dismissed")||!1};const F=Object(r.b)(H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.gallerySearchInput)||""});F.meta={name:"createSelector",key:"createSelectorgetShortcutsGallerySearchInput",description:H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.gallerySearchInput)||""}};const k=Object(r.b)(H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.gallerySearchResults)||[]});k.meta={name:"createSelector",key:"createSelectorgetShortcutsGallerySearchResults",description:H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.gallerySearchResults)||[]}};const V=Object(r.b)((H,Oe)=>{const $=j(H)||{},z=new RegExp(Oe,"i"),be=Object.keys($).map(G=>$[G]||{});return Object(n.a)(be,G=>G&&((G==null?void 0:G.name)||"").match(z))||[]});V.meta={name:"createSelector",key:"createSelectorgetShortcutsGallerySearchResultsCached",description:(H,Oe)=>{const $=j(H)||{},z=new RegExp(Oe,"i"),be=Object.keys($).map(G=>$[G]||{});return Object(n.a)(be,G=>G&&((G==null?void 0:G.name)||"").match(z))||[]}};const X=Object(r.b)(H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.workflowPickerSearchInput)||""});X.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchInput",description:H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.workflowPickerSearchInput)||""}};const J=Object(r.b)(H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.workflowPickerSearchResults)||[]});J.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResults",description:H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.workflowPickerSearchResults)||[]}};const Y=Object(r.b)((H,Oe)=>{const $=j(H)||{},z=new RegExp(Oe,"i"),be=Object.keys($).map(G=>$[G]||{});return Object(n.a)(be,G=>G&&((G==null?void 0:G.name)||"").match(z))||[]});Y.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResultsCached",description:(H,Oe)=>{const $=j(H)||{},z=new RegExp(Oe,"i"),be=Object.keys($).map(G=>$[G]||{});return Object(n.a)(be,G=>G&&((G==null?void 0:G.name)||"").match(z))||[]}};const ie=Object(r.b)(H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.openTourId)||null});ie.meta={name:"createSelector",key:"createSelectorgetGuidedTourCoachmark",description:H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.openTourId)||null}};const de=Object(r.b)(H=>{var Oe;const $=(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.openTourId)||"";return $==="platform-coachmark-tour"||$==="announce-only-platform-coachmark-tour"});de.meta={name:"createSelector",key:"createSelectorisWorkflowCoachmarkOpen",description:H=>{var Oe;const $=(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.openTourId)||"";return $==="platform-coachmark-tour"||$==="announce-only-platform-coachmark-tour"}};const pe=Object(r.b)(H=>{var Oe;return((H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.openTourId)||"")==="announce-only-platform-coachmark-tour"});pe.meta={name:"createSelector",key:"createSelectorisAnnounceOnlyWorkflowCoachmarkOpen",description:H=>{var Oe;return((H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.openTourId)||"")==="announce-only-platform-coachmark-tour"}};const oe=Object(r.b)(H=>{var Oe;return((H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.openTourId)||"")==="slash-commands-coachmark-tour"});oe.meta={name:"createSelector",key:"createSelectorisSlashCommandsCoachmarkOpen",description:H=>{var Oe;return((H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.openTourId)||"")==="slash-commands-coachmark-tour"}};const me=Object(r.b)(H=>{var Oe;return(Oe=U(H))===null||Oe===void 0?void 0:Oe.map($=>W(H,{triggerId:$}))});me.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggers",description:H=>{var Oe;return(Oe=U(H))===null||Oe===void 0?void 0:Oe.map($=>W(H,{triggerId:$}))}};const re=Object(r.b)(H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.recentlyRunTriggerTimestamps)||{}});re.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggerTimestamps",description:H=>{var Oe;return(H==null||(Oe=H.hermesTriggers)===null||Oe===void 0?void 0:Oe.recentlyRunTriggerTimestamps)||{}}};const ve=Object(o.a)(H=>j(H),H=>{if(!H)return b.a;const Oe=Object(t.a)(H);return Object(n.a)(Oe,z=>!(!Object(y.a)(z)||z.workflow_details&&!z.workflow_details.is_published))}),q=Object(r.b)((H,Oe)=>{let{appId:$}=Oe;const z=j(H)||{};return Object.values(z).find(Z=>{var G;return(Z==null||(G=Z.workflow)===null||G===void 0?void 0:G.app_id)===$})});q.meta={name:"createSelector",key:"createSelectorgetTriggerFromSlackAppId",description:(H,Oe)=>{let{appId:$}=Oe;const z=j(H)||{};return Object.values(z).find(Z=>{var G;return(Z==null||(G=Z.workflow)===null||G===void 0?void 0:G.app_id)===$})}};const ce=Object(r.b)((H,Oe)=>{const $=Object(l.e)(H,Oe);return $?($==null?void 0:$.type)===l.a.SHORTCUT_LINK_TRIGGER:!1});ce.meta={name:"createSelector",key:"createSelectorisHermesLinkTriggerFormat",description:(H,Oe)=>{const $=Object(l.e)(H,Oe);return $?($==null?void 0:$.type)===l.a.SHORTCUT_LINK_TRIGGER:!1}};const he=Object(r.b)((H,Oe)=>{let{triggerId:$}=Oe;const z=W(H,{triggerId:$},!1);return z==null?void 0:z.shortcut_url});he.meta={name:"createSelector",key:"createSelectorgetShortcutUrl",description:(H,Oe)=>{let{triggerId:$}=Oe;const z=W(H,{triggerId:$},!1);return z==null?void 0:z.shortcut_url}};const Se=Object(r.b)((H,Oe)=>{let{triggerId:$}=Oe;var z;return!!(!(H==null||(z=H.hermesTriggers)===null||z===void 0)&&z.triggersMarkedStaleInSession[$])});Se.meta={name:"createSelector",key:"createSelectorhasTriggerBeenMarkedStaleInSession",description:(H,Oe)=>{let{triggerId:$}=Oe;var z;return!!(!(H==null||(z=H.hermesTriggers)===null||z===void 0)&&z.triggersMarkedStaleInSession[$])}};const se=Object(r.b)((H,Oe)=>{let{block:$}=Oe;var z;const be=$.functionTriggerId,Z=Object(_.b)($);if(!Se(H,{triggerId:be}))return Z;const ne=W(H,{triggerId:be},!0),ge=ne==null||(z=ne.workflow)===null||z===void 0?void 0:z.workflow_id,ae=ge?Object(h.a)(H,ge):void 0;return Object(u.c)(ne)||!ae||Object(u.c)(ae)?Z:Object(P.b)({passedShortcutInfo:Z,trigger:ne,workflow:ae})});se.meta={name:"createSelector",key:"createSelectorgetFreshShortcutInfoForShareShortcutBlock",description:(H,Oe)=>{let{block:$}=Oe;var z;const be=$.functionTriggerId,Z=Object(_.b)($);if(!Se(H,{triggerId:be}))return Z;const ne=W(H,{triggerId:be},!0),ge=ne==null||(z=ne.workflow)===null||z===void 0?void 0:z.workflow_id,ae=ge?Object(h.a)(H,ge):void 0;return Object(u.c)(ne)||!ae||Object(u.c)(ae)?Z:Object(P.b)({passedShortcutInfo:Z,trigger:ne,workflow:ae})}},Object(a.a)("hermesTriggers",function(H,Oe){let{triggerId:$}=Oe,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return W(H,{triggerId:$},z)})},ivl2:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("xwCZ"),t=e("C3vN"),a=e("IYwZ");function r(d,o){if(!o)return!1;const i=Object(n.g)(d,o);return!Object(t.bb)(i)&&!!o&&!!Object(a.b)(d,o)}m(r,"isDnd")},"j/0O":function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("oEDn"),o=t.a.memo(c=>{let{animationDelay:E,size:v="large"}=c;const g=48,O=g-(v==="large"?48:36),I=g*2,C="#1D9BD1",f="#F2C744",S="#007A5A",D="#E01E5A",p={animationDelay:`${E||0}s`},b=m((y,j)=>t.a.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:j,className:y,style:p}),"renderDrop"),M=m((y,j)=>t.a.createElement("circle",{r:"4",fill:j,className:y,style:p}),"renderCircle"),_=m((y,j)=>t.a.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:j,className:y,style:p}),"renderStar"),P=m((y,j)=>t.a.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:j,className:y,style:p}),"renderSprinkle");return t.a.createElement("svg",{className:Object(a.default)("position_absolute",`p-upgrades_icon_celebration_animation--${v}`),style:{top:`-${g/2+O/2}px`,left:`-${g/2+O/2}px`},width:I,height:I,viewBox:`0 0 ${I} ${I}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},b("p-upgrades_icon_celebration_animation__drop_top_right",C),M("p-upgrades_icon_celebration_animation__circle_top_right",f),M("p-upgrades_icon_celebration_animation__circle_right",S),_("p-upgrades_icon_celebration_animation__star_bottom_right",f),M("p-upgrades_icon_celebration_animation__circle_bottom_right",f),P("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",D),b("p-upgrades_icon_celebration_animation__drop_left",f),M("p-upgrades_icon_celebration_animation__circle_top_left",C),_("p-upgrades_icon_celebration_animation__star_top_left",S),P("p-upgrades_icon_celebration_animation__sprinkle_top_left",D))}),i=e("vDCl");function h(){return h=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}return c},h.apply(this,arguments)}m(h,"_extends");const l=m(c=>{let{className:E,animationProps:v,hasBorder:g,type:O,size:I=i.a.MEDIUM,theme:C=i.b.PURPLE,showAnimation:f}=c;const S=Object(a.default)(`p-upgrades_icon--${I}`,`p-upgrades_icon--${C}`,E),D=t.a.createElement(r.a,{className:S,size:"inherit",type:O});if(!g)return D;const p=Object(a.default)("p-upgrades_icon_container",`p-upgrades_icon_container--${I}`,`p-upgrades_icon_container--${C}`,{"p-upgrades_icon_container--with_animation":f});return t.a.createElement("div",{className:p},D,f&&t.a.createElement(o,h({size:I},v)))},"UpgradesIcon");l.displayName="UpgradesIcon";var u=s.a=l},j5Pp:function(K,s,e){"use strict";e.d(s,"k",function(){return t}),e.d(s,"r",function(){return a}),e.d(s,"u",function(){return r}),e.d(s,"j",function(){return d}),e.d(s,"C",function(){return o}),e.d(s,"s",function(){return i}),e.d(s,"t",function(){return h}),e.d(s,"a",function(){return l}),e.d(s,"b",function(){return u}),e.d(s,"D",function(){return c}),e.d(s,"E",function(){return E}),e.d(s,"d",function(){return v}),e.d(s,"c",function(){return g}),e.d(s,"p",function(){return O}),e.d(s,"n",function(){return I}),e.d(s,"q",function(){return C}),e.d(s,"o",function(){return f}),e.d(s,"m",function(){return S}),e.d(s,"l",function(){return D}),e.d(s,"v",function(){return p}),e.d(s,"z",function(){return b}),e.d(s,"f",function(){return M}),e.d(s,"h",function(){return _}),e.d(s,"g",function(){return P}),e.d(s,"i",function(){return y}),e.d(s,"B",function(){return j}),e.d(s,"y",function(){return U}),e.d(s,"e",function(){return W}),e.d(s,"w",function(){return L}),e.d(s,"A",function(){return R}),e.d(s,"x",function(){return A});var n=e("DwFS");const t=Object(n.a)("Set SFDC app id");t.meta={name:"createAction",key:"createActionsetAppId",description:"Set SFDC app id"};const a=Object(n.a)("Set has external SFDC auth token");a.meta={name:"createAction",key:"createActionsetHasExternalAuthToken",description:"Set has external SFDC auth token"};const r=Object(n.a)("Set SFDC provider key");r.meta={name:"createAction",key:"createActionsetProviderKey",description:"Set SFDC provider key"};const d=Object(n.a)("Set admin-created workflow view, and optional id and payload for edit");d.meta={name:"createAction",key:"createActionsetAdminWorkflowView",description:"Set admin-created workflow view, and optional id and payload for edit"};const o=Object(n.a)("Set end-user-created workflow view, and optional id and payload for edit");o.meta={name:"createAction",key:"createActionsetUserWorkflowView",description:"Set end-user-created workflow view, and optional id and payload for edit"};const i=Object(n.a)("Set is loading existing ACN workflow");i.meta={name:"createAction",key:"createActionsetIsLoadingAdminWorkflowView",description:"Set is loading existing ACN workflow"};const h=Object(n.a)("Set is loading existing ECN workflow");h.meta={name:"createAction",key:"createActionsetIsLoadingUserWorkflowView",description:"Set is loading existing ECN workflow"};const l=Object(n.a)("Clear state of all admin-created workflow forms");l.meta={name:"createAction",key:"createActionclearAdminWorkflowForms",description:"Clear state of all admin-created workflow forms"};const u=Object(n.a)("Clear state of all end-user-created workflow forms");u.meta={name:"createAction",key:"createActionclearUserWorkflowForms",description:"Clear state of all end-user-created workflow forms"};const c=Object(n.a)("Set a specific workflow form's state");c.meta={name:"createAction",key:"createActionsetWorkflowForm",description:"Set a specific workflow form's state"};const E=Object(n.a)("Update a specific workflow form's state");E.meta={name:"createAction",key:"createActionupdateWorkflowForm",description:"Update a specific workflow form's state"};const v=Object(n.a)("Delete Sales Notification workflow function success");v.meta={name:"createAction",key:"createActiondeleteSalesNotificationWorkflowFunctionSuccess",description:"Delete Sales Notification workflow function success"};const g=Object(n.a)("Delete Sales Notification workflow function failure");g.meta={name:"createAction",key:"createActiondeleteSalesNotificationWorkflowFunctionFailure",description:"Delete Sales Notification workflow function failure"};const O=Object(n.a)("Set list of external datasources");O.meta={name:"createAction",key:"createActionsetDatasourcesList",description:"Set list of external datasources"};const I=Object(n.a)('Set status to "fetching" when started fetching external datasource list.');I.meta={name:"createAction",key:"createActionsetDatasourceListFetching",description:'Set status to "fetching" when started fetching external datasource list.'};const C=Object(n.a)("Set a status of the UI for external datasources ");C.meta={name:"createAction",key:"createActionsetDatasourcesStatus",description:"Set a status of the UI for external datasources "};const f=Object(n.a)("Set list of successfully fetched external datasource list.");f.meta={name:"createAction",key:"createActionsetDatasourceListSuccess",description:"Set list of successfully fetched external datasource list."};const S=Object(n.a)("Set an error when failed to fetch external datasource list.");S.meta={name:"createAction",key:"createActionsetDatasourceListError",description:"Set an error when failed to fetch external datasource list."};const D=Object(n.a)("Set info for given datasource id");D.meta={name:"createAction",key:"createActionsetDatasourceInfo",description:"Set info for given datasource id"};const p=Object(n.a)("Set current tab id for the Sales home page");p.meta={name:"createAction",key:"createActionsetSalesHomeCurrentTab",description:"Set current tab id for the Sales home page"};const b=Object(n.a)("Set flag to show onboarding opportunity coachmark");b.meta={name:"createAction",key:"createActionsetShouldShowOnboardingOpptyCoachmark",description:"Set flag to show onboarding opportunity coachmark"};const M=Object(n.a)("Set activity logging form data in progress");M.meta={name:"createAction",key:"createActionsetActivityLogFormData",description:"Set activity logging form data in progress"};const _=Object(n.a)('Set status to "fetching" when started fetching a list of available Salesforce orgs.');_.meta={name:"createAction",key:"createActionsetAdminOrgListFetching",description:'Set status to "fetching" when started fetching a list of available Salesforce orgs.'};const P=Object(n.a)("Set an error when failed to fetch a list of available Salesforce orgs.");P.meta={name:"createAction",key:"createActionsetAdminOrgListError",description:"Set an error when failed to fetch a list of available Salesforce orgs."};const y=Object(n.a)("Set a list of fetched available Salesforce orgs in the redux state.");y.meta={name:"createAction",key:"createActionsetAdminOrgListSuccess",description:"Set a list of fetched available Salesforce orgs in the redux state."};const j=Object(n.a)("Set list of user salesforce org auths");j.meta={name:"createAction",key:"createActionsetUserOrgAuthList",description:"Set list of user salesforce org auths"};const U=Object(n.a)("Set selected salesforce org");U.meta={name:"createAction",key:"createActionsetSelectedSalesforceOrg",description:"Set selected salesforce org"};const W=Object(n.a)("Reset selected salesforce org");W.meta={name:"createAction",key:"createActionresetSelectedSalesforceOrg",description:"Reset selected salesforce org"};const L=Object(n.a)("Set selected salesforce org notifications pref");L.meta={name:"createAction",key:"createActionsetSelectedOrgNotificationsPref",description:"Set selected salesforce org notifications pref"};const R=Object(n.a)("Set insight reports to display in sales home");R.meta={name:"createAction",key:"createActionsetUserInsights",description:"Set insight reports to display in sales home"};const A=Object(n.a)("Set selected salesforce org object mappings");A.meta={name:"createAction",key:"createActionsetSelectedOrgObjectMappings",description:"Set selected salesforce org object mappings"}},jF6j:function(K,s,e){"use strict"},jMXC:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("vFlG");const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function a(r){return!!Object(n.a)(r,"activeCall")}m(a,"isCallWindowContextState")},jNCy:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("BHdc"),d=e("ifKl"),o=e("MYuU"),i=e("zxER"),h=e("O86Y"),l=e("DneB"),u=e("lhZz"),c=e("3vtZ"),E=e("pFNT"),v=e("nWdO"),g=e("+CZ0"),O=e("r6c4"),I=e("GNR7"),C=e("ZobM"),f=e("W7ht");function S(){return S=Object.assign||function(y){for(var j=1;j<arguments.length;j++){var U=arguments[j];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(y[W]=U[W])}return y},S.apply(this,arguments)}m(S,"_extends");function D(y){let{id:j}=y;return t.a.createElement("svg",{className:"sr-only"},t.a.createElement("clipPath",{id:j,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M0.03,1 h0.742 a0.258,0.2,0,0,0,0.258,-0.2 V0.2 a0.258,0.2,0,0,0,-0.258,-0.2 H0.03 a0.385,0.299,0,0,1,0.098,0.2 v0.6 A0.385,0.299,0,0,1,0.03,1"})))}m(D,"HuddlesMask"),D.displayName="HuddlesMask";const p=2;function b(y){let{channelId:j,withTooltip:U,className:W,excludeIcon:L,excludeMemberOverflowCount:R,maxMembers:A=p,avatarSize:B=E.a.verySmall}=y;const F=Object(n.useMemo)(()=>`huddles-mask-${Object(o.d)()}`,[]),k=Object(n.useMemo)(()=>({"--huddles-mask":`url(#${F})`,"--huddles-avatar-size":`${B}px`}),[F,B]),V=Object(i.c)(ce=>Object(c.N)(ce)||Object(O.b)(ce)),X=Object(l.b)(g.b),J=Object(l.b)(g.s),ie=X===j&&Object(c.L)(J),de=Object(i.d)(ce=>Object(I.f)(ce,j)),pe=de.length,oe=pe>A,me=oe?pe-2:0,re=oe?de.slice(0,A):de;if(!V||!pe)return null;const ve=t.a.createElement("div",{className:Object(r.default)("p-huddle_avatar_stack",W),"data-qa":"huddle_avatar_stack__avatars_container",style:k},t.a.createElement(D,{id:F}),!L&&t.a.createElement("div",{className:"p-huddle_avatar_stack__icon_container"},t.a.createElement(C.a,{name:"headphones",size:"18"})),re.map((ce,he)=>t.a.createElement(E.c,{key:ce,"data-qa":"huddle_avatar_stack__member",className:Object(r.default)("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--first":he===0}),userId:ce,size:B,renderCustomBadge:d.a,isInteractive:!1})),!R&&oe&&t.a.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${me}`)),q=U?t.a.createElement(v.c,{tip:t.a.createElement(f.b,{channelId:j})},ve):ve;return ie?null:q}m(b,"HuddleAvatarStack"),b.displayName="HuddleAvatarStack";const M=t.a.memo(b);function _(y){const{channelId:j}=y,U=Object(i.c)(A=>Object(I.e)(A,j)),W=Object(l.b)(g.e),L=Object(l.b)(g.b),R=Object(i.c)(h.g);if(!U)return null;if(L===j){const A=Object(u.getStoreInstanceByTeamId)(W||R);return t.a.createElement(a.Provider,{store:A},t.a.createElement(M,S({},y)))}return t.a.createElement(M,S({},y))}m(_,"XWSHuddleAvatarStack"),_.displayName="XWSHuddleAvatarStack";var P=s.a=t.a.memo(_)},jSYs:function(K,s,e){"use strict";e.d(s,"a",function(){return t});const n=["ZoomAudioDevice (Virtual)"];function t(a){return a.filter(r=>n.indexOf(r.label)===-1)}m(t,"filterVirtualAudioDevices")},jUSB:function(K,s,e){"use strict";e.d(s,"c",function(){return i}),e.d(s,"e",function(){return l}),e.d(s,"b",function(){return u}),e.d(s,"a",function(){return c}),e.d(s,"d",function(){return E});var n=e("Lgge"),t=e("s4P+");const a={},r={},d={};function o(v){return`${v}-repeat`}m(o,"createRepeatKey");function i(v){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!v)return null;const O=u(v)||c(v);O.loop=!!g.loop,O.currentTime=0;var I;return O.volume=(I=g.volume)!==null&&I!==void 0?I:1,(O.play()||n.a.resolve()).catch(f=>{Object(t.b)().warn(`Failed to play sound: ${v} with reason: ${f}`)})}m(i,"play");function h(v){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!v)return null;const O=o(v),I=m(()=>{r[O]-=1,r[O]>0&&(g.pause?d[O]=setTimeout(()=>{i(O)},g.pause):i(O))},"ended");r[O]=g.repeat;const C=u(O)||c(v,{ended:I,customCacheKey:O});return C.currentTime=0,(C.play()||n.a.resolve()).catch(S=>{Object(t.b)().warn(`Failed to play repeated sound: ${v} with reason: ${S}`)})}m(h,"playRepeat");function l(v){let{logFailure:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const O=u(v),I=o(v),C=u(I);if(!O&&!C){g&&Object(t.b)().warn(`Tried to stop sound, but no sound was playing matching url: ${v}. Available cached element urls are ${Object.keys(a).join(", ")}`);return}C&&(C.pause(),clearTimeout(d[I]),r[I]=0),O&&O.pause()}m(l,"stop");function u(v){return a[v]}m(u,"getAudioElement");function c(v){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const O=new Audio(v);g.ended&&O.addEventListener("ended",g.ended);const I=g.customCacheKey||v;return a[I]=O,O}m(c,"createAudioElement");function E(v,g,O){if(!v||!g||!O)return;const I=u(v);I&&I.removeEventListener(g,O)}m(E,"removeAudioElementListener")},jWAO:function(K,s,e){"use strict";e.d(s,"c",function(){return d}),e.d(s,"b",function(){return o}),e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("oEDn"),d;(function(c){c.default="default",c.boxed="boxed",c.inlineBoxed="inline_boxed",c.nestedBox="nested_box",c.inline="inline",c.custom="custom"})(d||(d={}));var o;(function(c){c.default="default",c.info="info",c.success="success",c.warning="warning",c.error="error"})(o||(o={}));var i;(function(c){c.left="left",c.center="center",c.right="right"})(i||(i={}));const h=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),l=m(c=>{let{align:E=i.left,className:v,heading:g,icon:O,customIcon:I,id:C,level:f=o.default,type:S=d.boxed,children:D,"data-qa":p}=c;const b=Object(a.default)("c-alert",`c-alert--${S}`,`c-alert--level_${f}`,`c-alert--align_${E}`,{"c-alert--multiline":!!g},v),M=h.get(f)||"slack-pillow",_=(I||M)&&S!==d.inline&&S!==d.custom,P=S===d.nestedBox?"inherit":void 0,y=S!==d.custom&&g;return t.a.createElement("div",{className:b,id:C,"data-qa":p,"data-qa-alert":!0,"data-qa-alert-level":f,"data-qa-alert-type":S,"data-qa-alert-align":E},_&&(I||t.a.createElement(r.a,{type:O||M,className:"c-alert__icon",size:P,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":O||M})),t.a.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},y&&t.a.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},g),D))},"Alert");l.displayName="Alert",l.displayName="Alert";var u=s.d=l},jgRE:function(K,s,e){K.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},jj3I:function(K,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"e",function(){return r}),e.d(s,"c",function(){return d}),e.d(s,"g",function(){return o}),e.d(s,"f",function(){return i}),e.d(s,"d",function(){return h});var n=e("DwFS");const t=Object(n.a)("Enable huddle event log");t.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const a=Object(n.a)("Disable huddle event log");a.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const r=Object(n.a)("Set loading state for huddle event log");r.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const d=Object(n.a)("Add non-transcription event");d.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const o=Object(n.a)("Update with latest transcription events");o.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const i=Object(n.a)("Set enabled state for huddle captions side-by-side view");i.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const h=Object(n.a)("Set enabled state for huddle closed captions view");h.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},jlKB:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("JoR1");function t(a){return Object(n.t)(a,"emoji_mode")==="as_text"}m(t,"shouldRenderEmojiAsText")},k2tO:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("SQ0V"),t=e("3fJ/"),a=e("C3NW"),r=e("eBdR"),d=e("kZhr"),o=e("s4P+"),i=e("ASxg");const h=Object(n.c)("Sets a new ID for the search and query sessions",(l,u)=>{const c=Object(o.a)({getState:u});l(Object(a.a)()),l(Object(r.b)({windowId:d.a})),l(Object(r.c)({windowId:d.a})),l(Object(t.c)({windowId:d.a})),l(Object(t.e)({windowId:d.a})),c.info(i.a,"Ending search session")});h.meta={name:"createThunk",key:"createThunkendSearchSession",description:"Sets a new ID for the search and query sessions"}},k400:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return t&&t.name}m(n,"getEmojiCollectionName")},kS3P:function(K,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.Blur="blur",t.Background="bg"})(n||(n={}))},kk2d:function(K,s,e){K.exports=e.p+"daily_checkin_sq-f4c7ef4.png"},"kov+":function(K,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"q",function(){return a}),e.d(s,"o",function(){return r}),e.d(s,"i",function(){return d}),e.d(s,"g",function(){return o}),e.d(s,"m",function(){return i}),e.d(s,"l",function(){return h}),e.d(s,"c",function(){return l}),e.d(s,"n",function(){return u}),e.d(s,"j",function(){return c}),e.d(s,"h",function(){return E}),e.d(s,"f",function(){return v}),e.d(s,"k",function(){return g}),e.d(s,"p",function(){return O}),e.d(s,"d",function(){return I}),e.d(s,"e",function(){return C}),e.d(s,"a",function(){return f});const n={adminAmountChanged:"adminAmountChanged",adminCloseDateChanged:"adminCloseDateChanged",adminDealWon:"adminDealWon",adminForecastReminder:"adminForecastReminder",adminNewOpportunityAlert:"adminNewOpportunityAlert",adminStageChanged:"adminStageChanged",adminSelectNotificationType:"adminSelectNotificationType"},a={...n,...{userAmountChanged:"userAmountChanged",userCloseDateChanged:"userCloseDateChanged",userDealWon:"userDealWon",userForecastReminder:"userForecastReminder",userNewOpportunityAlert:"userNewOpportunityAlert",userStageChanged:"userStageChanged",userSelectNotificationType:"userSelectNotificationType"}},r={daily:"daily",weekdays:"weekdays",weekly:"weekly",monthly:"monthly",once:"once",hourly:"hourly",yearly:"yearly"},d={Opportunity:"opportunity",Account:"account"},o={AccountId:"account_id",Amount:"amount",CloseDate:"close_date",Name:"name",NextSteps:"next_steps",OwnerId:"owner_id",Stage:"stage"},i={Production:"salesforce",Sandbox:"salesforce_sandbox"},h={BooleanSchemaField:"BooleanSchemaField",CurrencySchemaField:"CurrencySchemaField",DateSchemaField:"DateSchemaField",DateTimeSchemaField:"DateTimeSchemaField",DoubleSchemaField:"DoubleSchemaField",EmailSchemaField:"EmailSchemaField",LongSchemaField:"LongSchemaField",ReferenceSchemaField:"ReferenceSchemaField",SelectSchemaField:"SelectSchemaField",StringSchemaField:"StringSchemaField",URLSchemaField:"URLSchemaField"},l={Any:"any",Increase:"increase",Decrease:"decrease"},u={Channel:"channel",SalesHome:"sales_home"};var c;(function(D){D.AccountsOwnedByMe="account_owner",D.AccountOwnedByReportChain="account_report_chain",D.All="all",D.MatchCriteria="criteria",D.OwnedByDirectReports="direct_reports",D.OwnedByMe="owner",D.OwnedByReportChain="report_chain",D.SpecificAccount="account",D.SpecificOpportunity="opportunity"})(c||(c={}));var E;(function(D){D.Any="any",D.AccountOwnedByMe="account_owner",D.AccountOwnedByReportChain="account_report_chain",D.OpportunityOwnedByAnyoneInReportChain="report_chain",D.OpportunityOwnedByDirectReports="direct_reports",D.OpportunityOwnedByMe="owner"})(E||(E={}));var v;(function(D){D.Any="any",D.General="general",D.DirectOwner="direct_owner",D.ManagerOrLeader="manager_or_leader"})(v||(v={}));var g;(function(D){D.Owner="owner",D.AccountOwner="account_owner",D.ManagerChain="manager_chain",D.AccountManagerChain="account_manager_chain",D.User="user"})(g||(g={}));var O;(function(D){D.AdminReminder="admin-reminder",D.AdminOpportunityChanged="admin-opportunity-changed",D.UserReminder="user-reminder",D.UserOpportunityChanged="user-opportunity-changed"})(O||(O={}));var I;(function(D){D.TO_ANOTHER="to_another",D.TO_FUTURE="to_future",D.TO_EARLIER="to_earlier"})(I||(I={}));var C;(function(D){D.DAYS="DaysTimePeriod",D.MONTHS="MonthsTimePeriod",D.FISCAL_QUARTER="FiscalQuarterTimePeriod",D.FISCAL_YEAR="FiscalYearTimePeriod"})(C||(C={}));const f={[a.adminAmountChanged]:a.adminAmountChanged,[a.adminCloseDateChanged]:a.adminCloseDateChanged,[a.adminDealWon]:a.adminDealWon,[a.adminNewOpportunityAlert]:a.adminNewOpportunityAlert,[a.adminStageChanged]:a.adminStageChanged},S={[a.userAmountChanged]:a.userAmountChanged,[a.userCloseDateChanged]:a.userCloseDateChanged,[a.userDealWon]:a.userDealWon,[a.userNewOpportunityAlert]:a.userNewOpportunityAlert,[a.userStageChanged]:a.userStageChanged}},kp40:function(K,s,e){K.exports=e.p+"template_card_triage_slack-a181d8f.png"},ksuf:function(K,s,e){K.exports=e.p+"tokyo_sight-285d851.jpg"},kzMN:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("pu3F");function t(a){return n.L.indexOf(a)!==-1}m(t,"mentionIdIsKeyword")},kzto:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("RVJP"),t=e("rZ8V");const a="files_explorer_prototype";function r(d){return Object(t.m)(d)&&Object(n.d)(d,a)==="on"}m(r,"isFilesExplorerPrototypeEnabled")},"l/Qw":function(K,s,e){"use strict";e.d(s,"a",function(){return be}),e.d(s,"c",function(){return fe});var n=e("7EGn"),t=e("NFsq"),a=e("Bw5p"),r=e("m8R6"),d=e("n3tL"),o=e("xcHN"),i=e("9Gfp"),h=e("O86Y"),l=e("cBLH"),u=e("E3dU"),c=e("Jhy3"),E=e("3mmX"),v=e("zADO"),g=e("SQ0V"),O=e("s4P+"),I=e("Pw4T"),C=e("1Np4"),f=e("rIJ2"),S=e("ifKl"),D=e("ROZo");const p=Object(D.a)("TS.channels.read_only.stashAndFetchChannelPostingUpdates",S.a);var b=e("gPPH"),M=e("UnJt"),_=e("Q7We"),P=e("Cbpi"),y=e("Lgge"),j=e("TwEf"),U=e("lhZz"),W=e("Aqb/");const L={},R="cse-message-send",A="cse-message-send";let B=m(class{_send(){const{message:He,trace:ze,parentSpanId:Je}=this._activeRequest||{};Object(O.a)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${He.client_msg_id}`);const Xe=m(()=>{var Me;return(Me=this._store)===null||Me===void 0?void 0:Me.dispatch(Object(j.a)({message:He,traceId:ze==null?void 0:ze.getTraceId(),parentSpanId:Je}))},"postMessageP");return this._maybeTraceMessageSend(Xe).then(this._activeRequest?this._activeRequest.resolve:S.a).catch(this._activeRequest?this._activeRequest.reject:S.a).finally(()=>this.resolve(He))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:He}=this._activeRequest||{};return He==null||He.addTags({count:this._queue.length}),He==null||He.close(),this._send(),Object(O.a)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(He){var ze;if(!this.shouldTraceMessageSend())return He();const Je=(ze=this._tracer)===null||ze===void 0?void 0:ze.createTrace({traceName:R,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:W.a.ALWAYS}}),Xe=m(()=>{var Ke;Je&&((Ke=this._tracer)===null||Ke===void 0||Ke.clearTrace(Je))},"onResolve"),Me=m((Ke,$e)=>{var ct;const Tt={state:W.b.ERROR};$e.status&&(Tt.status=$e.status),$e.message&&(Tt.message=$e.message),$e.data&&$e.data.error&&(Tt.reason=$e.data.error),Ke==null||Ke.addTags(Tt),Ke==null||Ke.close(),Je&&((ct=this._tracer)===null||ct===void 0||ct.reportTrace(Je))},"onError");return Je==null?void 0:Je.traceFn({name:A,onError:Me,onResolve:Xe},He)}enqueue(He){let{trace:ze,parentSpanId:Je}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new y.a((Xe,Me)=>{const Ke=ze==null?void 0:ze.startSpan("message_send_attempt:enqueue",{parentSpanId:Je});this._queue.push({message:He,messageEnqueueSpan:Ke,trace:ze,parentSpanId:Je,resolve:Xe,reject:Me}),Object(O.a)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${He.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(He){return!He||!this._activeRequest||!this._activeRequest.message||He.client_msg_id!==this._activeRequest.message.client_msg_id?!1:(Object(O.a)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${He.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){var He;const ze=(He=this._store)===null||He===void 0?void 0:He.getState();return Object(i.i)(ze,"feature_desktop_symptom_events")&&this._tracer}constructor(He){if(!He)throw new Error("MessageQueue requires a teamId.");if(this._teamId=He,this._activeRequest=null,this._queue=[],this._store=Object(U.getStoreInstanceByTeamId)(He),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${He} found.`);const ze=this._store.getState();this._tracer=Object(i.i)(ze,"feature_desktop_symptom_events")?Object(C.a)({state:ze}):void 0}},"MessageQueue");function F(Ne){return L[Ne]||(L[Ne]=new B(Ne)),L[Ne]}m(F,"getInstance");const k={MESSAGE_SEND_TRACE_LABEL:R,MESSAGE_SEND_SPAN_LABEL:A};var V=e("sxEY"),X=e("n0Pp"),J=e("dUj5"),Y=e("7UGH"),ie=e("yzO5"),de=e("0IxZ"),pe=e("RVJP"),oe=e("rZ8V");const me=6,re=7,ve=8,q="restricted_action_read_only_channel",ce="restricted_action_thread_only_channel",he="restricted_action_non_threadable_channel",Se="ekm_access_denied",se="slack_connect_file_link_sharing_blocked",H="content_rule_violation",Oe="dlp_user_warning",$="message_limit_exceeded",z="slack_connect_canvas_contain_file_sharing_blocked";var be;(function(Ne){Ne.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",Ne.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",Ne.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(be||(be={}));const Z={[q]:me,[ce]:re,[he]:ve};function G(Ne,He){Ne(Object(c.a)([He]));const ze={channelId:He.channel,timestamps:[He.ts],oldest:He.ts,hasMore:!1,append:!0};if(Ne(Object(l.a)(ze)),He.thread_ts){const Je=Object(o.c)(He.channel,He.thread_ts);Ne(Object(l.a)({...ze,channelId:Je}))}}m(G,"addMsgToEnd");const ne={};function ge(Ne,He,ze){ne[Ne]||(ne[Ne]={}),ne[Ne][He]=ze}m(ge,"addResolutionTimer");function ae(Ne,He){!ne[Ne]||!ne[Ne][He]||(clearTimeout(ne[Ne][He]),delete ne[Ne][He])}m(ae,"cancelResolutionTimer");function fe(Ne,He,ze,Je){const Xe=Object(h.g)(Ne())||"",Me=Object(Y.a)(Ne(),Je.client_msg_id);if(Me){Object(O.a)({getState:Ne}).action("MESSAGE",`Resolved a message with clientMsgId ${Je.client_msg_id} in ${ze.channel} with ts ${Je.ts}`),He(Object(J.b)(Me.clientMsgId)),ae(Xe,Me.clientMsgId),He(Object(_.a)({channelId:Me.channelId,ts:Me.ts}));const Ke=!1;Object(u.d)(Ne(),ze.channel,Ke)&&He(Object(V.a)({channelId:ze.channel,msgTs:ze.ts,resent:!1}))}F(Xe).resolve(Je)}m(fe,"resolveMessage");const Te="cse-message-send:send",ye=Object(g.c)("Send a message",(Ne,He,ze)=>{let{messageSendTrace:Je,notificationTracePassthroughData:Xe,skipDLPUserWarning:Me,...Ke}=ze;const $e=Object(C.a)({getState:He});let ct,Tt;Je&&(ct=Je.startSpan("message_send_attempt:send"),Tt=Je.startSpan("message_send_attempt:placeholder",{parentSpanId:ct==null?void 0:ct.getId()}));const Et=$e.createMetricsTrace({label:"cse-message-send"});Et.count({name:Te,label:"pending"}),$e.reportTrace(Et);const Le=Object(f.a)(1),{channel:jt,reply_broadcast:Dt,thread_ts:Ee,client_msg_id:te,xArgs:Ae}=Ke,Ve=Object(O.a)({getState:He}),Ye=Object(h.g)(He())||"",ft=Ee?{_hidden_reply:!0,_was_reply_broadcast:Dt}:null,tt=te||Object(b.a)();Xe&&Object(M.g)(He(),{notificationTracePassthroughData:Xe,clientMsgId:tt});const Rt=Object(pe.d)(He(),"fe_message_rendering_perf_m1")==="on",rt=Object(oe.G)(He()),we=Ke.blocks,xe={...Ke,...ft,user:Object(i.a)(He()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:tt,blocksProcessed:Object(de.a)({blocks:we,experimentFeMessageRenderingPerfM1GroupOn:Rt,experimentIa4ThemingGroupOn:rt})};Ve.action("MESSAGE",`Sent a message to ${jt} via HTTP, clientMsgId: ${tt}`);const st={...Ke,...Ae,include_channel_perm_error:!0,client_msg_id:tt,skip_dlp_user_warning:Me};Le&&ge(Ye,tt,window.setTimeout(()=>{if(Object(Y.a)(He(),xe.client_msg_id)){const lt=He();Object(X.h)(lt)&&Object(I.d)({state:lt}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const ke=F(Object(h.g)(He())||"").enqueue(st,{trace:Je,parentSpanId:ct==null?void 0:ct.getId()});return G(Ne,xe),Ne(Object(J.a)({clientMsgId:xe.client_msg_id,channelId:xe.channel,ts:xe.ts})),Ee||Ne(Object(E.a)({ts:null})),Tt==null||Tt.close(),ke.tap(()=>{const lt=He();(!Object(X.h)(lt)||Object(v.b)(lt,jt)||Object(v.b)(lt,Object(i.a)(lt)))&&(Ne(Object(P.a)({channelId:jt,threadTs:Ee})),Dt&&Ne(Object(P.a)({channelId:jt}))),Et.count({name:Te,label:"success"}),$e.reportTrace(Et),Je&&(Je.addTags({success:!0}),ct==null||ct.close(),$e.reportTrace(Je))}).catch(lt=>{const at=Object(n.a)(lt,"data.error");Et.count({name:Te,label:"failure"}).setTag("error",at||(lt==null?void 0:lt.message)),$e.reportTrace(Et);const ht=at===Se,Nt=at===se,Jt=at===H,zt=at===Oe,Yt=at===$,sn=Object.values(be).includes(at)?at:void 0,dn=at===z;if(!at&&!Object(Y.a)(He(),xe.client_msg_id)){Ve.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}const Mt=Z[at];let yt=!0;const tn=!0,an=[me,re,ve,q,ce,he];Object(t.a)(an,at)&&(p(jt,Mt,"send-message/sendMessage.catch"),yt=!1),ht&&(yt=!1),(Nt||dn)&&(yt=!1),Jt&&(yt=!1),Yt&&(yt=!1,Ne(Object(ie.a)())),sn&&(yt=!1);const on="Message failed to send",ut=Object(a.a)(lt,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);ut.client_msg_id=tt,ut.channel=jt,ut.thread_ts=Ee;const Ot=lt&&lt.status===429?"message_send_ratelimit":"message_send_fail";Ve.error(ut instanceof Error?ut:new Error(on),`${on}: ${at} | ${JSON.stringify(ut)}`,{subtype:Ot});const Wt=at?Object(r.a)(ut,["response"]):lt;Ve.error("MESSAGE",on,at,Wt);const Ht={...xe,showResend:yt,showCancel:tn,isEKMError:ht,isBlockFilesError:Nt,isNativeDLPError:Jt,isDLPUserWarningError:zt,canvasSharingError:sn,isBlockCanvasWithFilesShareError:dn};Object(Y.a)(He(),xe.client_msg_id)?Ne(Object(c.a)([Ht])):G(Ne,Ht),!yt&&Le&&ae(Ye,xe.client_msg_id),Je&&(yt?(Je.addTags({success:!1}),ct==null||ct.close(),$e.reportTrace(Je)):$e.clearTrace(Je))})});ye.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"},ye.propTypes={params:d.default.shape({channel:d.default.string.isRequired,reply_broadcast:d.default.bool,blocks:d.default.object.isRequired,thread_ts:d.default.string,ts:d.default.string.isRequired,type:d.default.string.isRequired})};var Ue=s.b=ye},"l/cy":function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"c",function(){return h}),e.d(s,"b",function(){return l});var n=e("Kdix"),t=e("KciV"),a=e("QjW8"),r=e("+N8b"),d;(function(u){u.HuddlesSdk="huddles-sdk",u.ChimeChannelListener="chime-channel-listener",u.ChimeChannelBroadcaster="chime-channel-broadcaster",u.VoiceFocusDevice="voice-focus-device",u.VideoTransformDevice="video-transform-device",u.VideoFrameProcessor="video-frame-processor"})(d||(d={}));const o=new Map([[d.HuddlesSdk,n.a.create({name:d.HuddlesSdk})],[d.ChimeChannelListener,n.a.create({name:d.ChimeChannelListener})],[d.ChimeChannelBroadcaster,n.a.create({name:d.ChimeChannelBroadcaster})],[d.VoiceFocusDevice,n.a.create({name:d.VoiceFocusDevice})],[d.VideoTransformDevice,n.a.create({name:d.VideoTransformDevice})],[d.VideoFrameProcessor,n.a.create({name:d.VideoFrameProcessor})]]),i=Object(t.a)("HUDDLE-LEAK-MONITOR"),h=m(u=>{let{name:c,ref:E}=u;const v=o.get(c);if(!v)return;const g=v.getMetrics();if(g){const{numberOfObjects:O,numberOfExpiredObjects:I}=g,C=O-I;I>3&&(i.warn(`Detected ${I} memory leak(s) for ${c}${C?` (with another ${C} instances in memory)`:""}`),r.a.publish({type:a.c.MemoryLeaks,update:{name:c,leakCount:I}}))}v.watch(E)},"monitorObjectForMemoryLeaks"),l=m(()=>{for(const[,u]of o)u.expectGCAll()},"detectMemoryLeaks")},l0nk:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("6rGi");const a=Object(n.c)("Handle huddle error",(r,d,o)=>Object(t.a)().enterTerminalState(new Error(o.terminalState)));a.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"},s.a=a},lA92:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("SQ0V"),t=e("ctiz"),a=e("jUSB");const r=Object(n.c)("Stop the huddle invite sound",(d,o)=>{Object(a.e)(Object(t.l)(o()),{logFailure:!1})});r.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},"lBK/":function(K,s,e){"use strict";var n=e("BHdc"),t=e("q1tI"),a=e.n(t),r=e("UXvI"),d=e("ifKl"),o=e("x5cI"),i=e("nBRq"),h=e("WSQ4"),l=e("J47P");function u(){return u=Object.assign||function(D){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var M in b)Object.prototype.hasOwnProperty.call(b,M)&&(D[M]=b[M])}return D},u.apply(this,arguments)}m(u,"_extends");const c=1,E=10,v=10,g=2,O=12,I=50;let C=m(class extends t.PureComponent{componentDidMount(){this.state.isOpen&&this.context.window.document.addEventListener("mousemove",this.onMouseMove)}static getDerivedStateFromProps(p,b){return p.isOpen!==b.passedIsOpen?{isOpen:p.isOpen,passedIsOpen:p.isOpen}:null}componentDidUpdate(p){p.isOpen!==this.props.isOpen&&(this.state.isOpen?(this.forceUpdate(),this.context.window.document.addEventListener("mousemove",this.onMouseMove)):this.context.window.document.removeEventListener("mousemove",this.onMouseMove)),this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){this.context.window.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(p){const b={x:p.clientX,y:p.clientY},M=this.mouseProgressingTowardsSubmenu(b);M!==this.state.mouseProgressingTowardsSubmenu&&(M?this.props.preventHighlightChange():this.state.highlightChangePrevented||this.props.allowHighlightChange()),this.setState(()=>({mouseCoordinates:b,mouseProgressingTowardsSubmenu:M}))}onSubmenuItemSelected(p,b){this.props.menuCallback(this.props.menuCallbackId,b)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const p=this.getContentBounds(),b=this.getTriggerBounds(),M={...this.props.submenuStyle};if((p==null?void 0:p.width)===void 0||(b==null?void 0:b.left)===void 0)return M;const _=b.right+p.width>this.context.window.innerWidth,P=b.left>p.width,y=this.props.forceLeft||_&&P;_&&!P?M.left=this.context.window.innerWidth-p.width-E:y?M.left=b.left-p.width+g:M.left=b.right-g;const U=b.top-O,W=U+p.height>this.context.window.innerHeight-v;return M.top=W?this.context.window.innerHeight-v-p.height:U,M}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(p){this.submenuContainer=p}setTriggerRef(p){this.trigger=p}allowHighlightChange(){this.setState(p=>({...p,highlightChangePrevented:!1}))}closeSubmenu(){this.props.returnKBNav(),this.setState(()=>({isOpen:!1}),()=>{this.context.window.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(p){const{mouseCoordinates:b}=this.state,M=this.getContentBounds();if(M){const{left:_,right:P,top:y,bottom:j}=M;if(p.x>=_&&p.x<=P&&p.y>=y&&p.y<=j)return!0;if(b){const W=Math.abs(P-b.x)>Math.abs(_-b.x),L={x:W?_:P,y:y-c},R={x:W?_:P,y:j+c},A={x:W?b.x-c:b.x+c,y:b.y};return Object(i.a)(p,A,L,R)}}return!1}preventHighlightChange(){this.setState(p=>({...p,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const p=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),b=this.getSubmenuContainerStyle(),M=Object(n.default)("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return a.a.createElement("div",{role:"presentation",className:M,ref:this.setSubmenuRef,style:b,"data-qa":"submenu_container"},p)}render(){const{menuCallback:p,menuCallbackId:b,...M}=this.props;return a.a.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},a.a.createElement(o.a,u({},M,{withSubmenu:!0})),this.renderSubmenu())}constructor(p){super(p),this.state={isOpen:!1,passedIsOpen:!1,mouseCoordinates:void 0,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},this.closeSubmenu=this.closeSubmenu.bind(this),this.setSubmenuRef=this.setSubmenuRef.bind(this),this.setTriggerRef=this.setTriggerRef.bind(this),this.onMouseMove=Object(r.a)(this.onMouseMove.bind(this),I),this.onSubmenuItemSelected=this.onSubmenuItemSelected.bind(this),this.preventHighlightChange=this.preventHighlightChange.bind(this),this.allowHighlightChange=this.allowHighlightChange.bind(this)}},"Submenu");C.displayName="Submenu",C.defaultProps={isOpen:!1,menuCallback:d.a,menuCallbackId:null,kbNavActive:!1,returnKBNav:d.a,preventHighlightChange:d.a,allowHighlightChange:d.a,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1,showFullCarat:!1,icon:null},C.contextType=h.a;const f={Submenu:C,SUBMENU_OVERLAP:g,MENU_VERTICAL_MARGIN:O,ALLOWANCE_X:E,ALLOWANCE_Y:v};var S=s.a=Object(l.a)(C)},lRFD:function(K,s,e){K.exports=e.p+"slack-salesforce-211570d.png"},lUvW:function(K,s,e){"use strict";e.d(s,"k",function(){return f}),e.d(s,"f",function(){return S}),e.d(s,"n",function(){return D}),e.d(s,"c",function(){return p}),e.d(s,"g",function(){return b}),e.d(s,"e",function(){return M}),e.d(s,"a",function(){return _}),e.d(s,"d",function(){return P}),e.d(s,"j",function(){return y}),e.d(s,"l",function(){return j}),e.d(s,"b",function(){return U}),e.d(s,"m",function(){return W}),e.d(s,"o",function(){return L}),e.d(s,"q",function(){return R}),e.d(s,"p",function(){return A}),e.d(s,"r",function(){return B}),e.d(s,"h",function(){return F}),e.d(s,"i",function(){return V});var n=e("SQ0V"),t=e("blur"),a=e("Tkkt"),r=e("05YS"),d=e("6KE7"),o=e("sjOx"),i=e("/S0L"),h=e("/5cg"),l=e("qQXB"),u=e("TBTs"),c=e("3fJ/"),E=e("/aHE"),v=e("nOXG"),g=e("O86Y"),O=e("vws0"),I=e("kZhr"),C=e("0Xjs");function f(J,Y,ie){let de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const pe=Object(r.y)(Y()),oe=pe?pe.query:"";return J(Object(a.c)({windowId:I.a})),de&&J(Object(d.a)()),J(Object(t.b)({query:oe,reason:ie,fetchSuggestions:Object(v.a)()}))}m(f,"refetchAllSearchResults");const S=Object(n.c)("Message/file search: exclude bots checkbox changed",(J,Y,ie)=>{let{value:de}=ie;J(Object(E.c)({value:de})),f(J,Y,"search-exclude-bots-changed"),J(Object(O.a)())});S.meta={name:"createThunk",key:"createThunkmessageAndFileSearchExcludeBotsChanged",description:"Message/file search: exclude bots checkbox changed"};const D=Object(n.c)("Message/file search: only my channels checkbox changed",(J,Y,ie)=>{let{value:de}=ie;J(Object(E.g)({value:de})),de&&J(Object(E.a)({value:!1})),f(J,Y,"search-only-my-channels-changed"),J(Object(O.a)())});D.meta={name:"createThunk",key:"createThunksearchOnlyMyChannelsChanged",description:"Message/file search: only my channels checkbox changed"};const p=Object(n.c)("Channel search: hide member channels flag changed",(J,Y,ie)=>{let{value:de,refetch:pe=!0}=ie;J(Object(E.a)({value:de})),de&&J(Object(E.g)({value:!1})),pe&&f(J,Y,"search-hide-member-channels-changed"),J(Object(O.a)())});p.meta={name:"createThunk",key:"createThunkchannelSearchHideMemberChannelsChanged",description:"Channel search: hide member channels flag changed"};const b=Object(n.c)("Message search: sort changed",(J,Y,ie)=>{let{sort:de,shouldUpdateUrl:pe=!0,shouldClogSearchSort:oe=!0}=ie;oe&&J(Object(l.s)({sortValue:de,entity:"messages"})),J(Object(i.a)({sort:de})),J(Object(t.d)({module:"messages",reason:"search-messages-sort-changed"})),pe&&J(Object(O.a)())});b.meta={name:"createThunk",key:"createThunkmessageSearchSortChanged",description:"Message search: sort changed"};const M=Object(n.c)("File search: sort changed",(J,Y,ie)=>{let{sort:de,shouldUpdateUrl:pe=!0,shouldClogSearchSort:oe=!0}=ie;oe&&J(Object(l.s)({sortValue:de,entity:"files"})),J(Object(h.b)({sort:de})),J(Object(t.d)({module:"files",reason:"search-files-sort-changed"})),pe&&J(Object(O.a)())});M.meta={name:"createThunk",key:"createThunkfileSearchSortChanged",description:"File search: sort changed"};const _=Object(n.c)("Canvas search: sort changed",(J,Y,ie)=>{let{sort:de,shouldUpdateUrl:pe=!0,shouldClogSearchSort:oe=!0}=ie;oe&&J(Object(l.s)({sortValue:de,entity:"files"})),J(Object(h.b)({sort:de})),J(Object(t.d)({module:"canvases",reason:"search-canvases-sort-changed"})),pe&&J(Object(O.a)())});_.meta={name:"createThunk",key:"createThunkcanvasSearchSortChanged",description:"Canvas search: sort changed"};const P=Object(n.c)("Channel search: sort changed",(J,Y,ie)=>{let{sort:de,shouldUpdateUrl:pe=!0,shouldClogSearchSort:oe=!0}=ie;oe&&J(Object(l.s)({sortValue:de,entity:"channels"})),J(Object(E.b)({sort:de})),J(Object(t.d)({module:"channels",reason:"search-channels-sort-changed"})),pe&&J(Object(O.a)())});P.meta={name:"createThunk",key:"createThunkchannelSearchSortChanged",description:"Channel search: sort changed"};const y=Object(n.c)("People search: sort changed",(J,Y,ie)=>{let{sort:de,shouldUpdateUrl:pe=!0,shouldClogSearchSort:oe=!0}=ie;oe&&J(Object(l.s)({sortValue:de,entity:"people"})),J(Object(E.e)({sort:de})),J(Object(t.d)({module:"people",reason:"search-people-sort-changed"})),pe&&J(Object(O.a)())});y.meta={name:"createThunk",key:"createThunkpeopleSearchSortChanged",description:"People search: sort changed"};const j=Object(n.c)("result count toggle changed",(J,Y,ie)=>{let{count:de}=ie;J(Object(E.f)({count:de})),f(J,Y,"result-count-toggle-changed",!1),J(Object(c.f)({windowId:I.a})),J(Object(c.d)({windowId:I.a})),J(Object(O.a)())});j.meta={name:"createThunk",key:"createThunkresultCountToggleChanged",description:"result count toggle changed"};const U=Object(n.c)("Channel search: filter type changed",(J,Y,ie)=>{let{type:de}=ie;J(Object(c.j)({type:de})),f(J,Y,"search-channels-filter-type-changed"),J(Object(O.a)())});U.meta={name:"createThunk",key:"createThunkchannelSearchFilterTypeChanged",description:"Channel search: filter type changed"};const W=Object(n.c)("All of search: search by selected enterprise team id",(J,Y,ie)=>{let{value:de,refetch:pe=!0}=ie;J(Object(c.g)({selectedEnterpriseTeamId:de})),pe&&f(J,Y,"search-only-by-enterprise-team-id"),J(Object(O.a)())});W.meta={name:"createThunk",key:"createThunksearchOnlyByEnterpriseTeamId",description:"All of search: search by selected enterprise team id"};const L=Object(n.c)("Channel search: bulk update an external org filter",(J,Y,ie)=>{let{teamIds:de}=ie;const pe=Y(),oe=Object(u.d)(pe);J(Object(c.k)({teamIds:Array.from(new Set([...oe,...de]))})),J(Object(c.l)({orgFilters:de})),f(J,Y,"search-channels-org-filter-bulk-changed"),J(Object(O.a)())});L.meta={name:"createThunk",key:"createThunksetChannelSearchOrgFilter",description:"Channel search: bulk update an external org filter"};const R=Object(n.c)("Channel search: update an external org filter",(J,Y,ie)=>{let{teamId:de,value:pe}=ie;const oe=Y();let me=[...Object(u.e)(oe)];const re=Object(u.d)(oe);pe?me.push(de):me=me.filter(ve=>ve!==de),J(Object(c.k)({teamIds:Array.from(new Set([...re,de]))})),J(Object(c.l)({orgFilters:me})),f(J,Y,"search-channels-org-filter-changed"),J(Object(O.a)())});R.meta={name:"createThunk",key:"createThunktoggleChannelSearchOrgFilter",description:"Channel search: update an external org filter"};const A=Object(n.c)("People search: bulk update an external org filter",(J,Y,ie)=>{let{teamIds:de}=ie;const pe=Y(),oe=Object(u.r)(pe);J(Object(c.x)({teamIds:Array.from(new Set([...oe,...de]))})),J(Object(c.y)({orgFilters:de})),f(J,Y,"search-people-org-filter-changed"),J(Object(O.a)())});A.meta={name:"createThunk",key:"createThunksetPeopleSearchOrgFilter",description:"People search: bulk update an external org filter"};const B=Object(n.c)("People search: update an external org filter",(J,Y,ie)=>{let{teamId:de,value:pe}=ie;const oe=Y();let me=[...Object(u.s)(oe)];const re=Object(u.r)(oe);pe?me.push(de):me=me.filter(ve=>ve!==de),J(Object(c.x)({teamIds:Array.from(new Set([...re,de]))})),J(Object(c.y)({orgFilters:me})),f(J,Y,"search-people-org-filter-changed"),J(Object(O.a)())});B.meta={name:"createThunk",key:"createThunktogglePeopleSearchOrgFilter",description:"People search: update an external org filter"};const F=Object(n.c)("People search: filter type changed",(J,Y,ie)=>{let{type:de,refetch:pe=!0}=ie;const oe=Y(),me=Object(g.b)(oe),re=Object(u.x)(oe);J(Object(c.w)({type:de})),de===o.k.guests&&me?J(Object(c.g)({selectedEnterpriseTeamId:me})):de===C.z.ORG_OWNERS||de===C.z.ORG_ADMINS?J(Object(c.g)({selectedEnterpriseTeamId:""})):(de===C.z.WORKSPACE_OWNERS||de===C.z.WORKSPACE_ADMINS)&&!re&&me&&J(Object(c.g)({selectedEnterpriseTeamId:me})),pe&&f(J,Y,"search-people-filter-type-changed"),J(Object(O.a)())});F.meta={name:"createThunk",key:"createThunkpeopleSearchFilterTypeChanged",description:"People search: filter type changed"};const k=Object(n.c)("People search: custom filter changed",(J,Y,ie)=>{let{id:de,value:pe,checked:oe}=ie;J(Object(c.v)({id:de,value:pe,checked:oe})),f(J,Y,"search-people-custom-filter-changed")});k.meta={name:"createThunk",key:"createThunkpeopleSearchCustomFilterChanged",description:"People search: custom filter changed"};const V=Object(n.c)("People search: hide deactivated users pref changed",(J,Y,ie)=>{let{value:de,refetch:pe=!0}=ie;J(Object(E.d)({value:de})),pe&&f(J,Y,"search-people-hide-deactivated-users-changed"),J(Object(O.a)())});V.meta={name:"createThunk",key:"createThunkpeopleSearchHideDeactivatedUsersChanged",description:"People search: hide deactivated users pref changed"};const X=Object(n.c)("People search: timezone filter changed",(J,Y,ie)=>{let{label:de,value:pe,checked:oe}=ie;J(Object(c.C)({label:de,value:pe,checked:oe})),f(J,Y,"search-people-timezone-filter-changed")});X.meta={name:"createThunk",key:"createThunkpeopleSearchTimezoneFilterChanged",description:"People search: timezone filter changed"}},lfKG:function(K,s,e){"use strict";e.d(s,"a",function(){return vn});var n=e("9oTK"),t=e("NZ+B"),a=e("8TXW"),r=e("Lgge"),d=e("AWyR"),o=e("KGIc"),i=e("KciV"),h=e("1WOA"),l=e("Pv5J"),u=e("A+lB"),c=e("3REw"),E=e("BeL+"),v=e("CpTu"),g=e("GxtX"),O=e("owWc"),I=e("OZf9"),C=e("fujP"),f=e("8pZh"),S=e("Olm7"),D=e("lCmp"),p=e("OCqp"),b=e("kBpe"),M=e("ED8d"),_=e("smhd"),P=e("jSYs"),y=e("l/cy"),j=e("vfQU"),U=e("74PA"),W=e("ktUG"),L=e("EQgQ");let R=m(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),Object(L.b)(this.data)/L.a}constructor(T){this.analyserNode=T,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var A=e("rf28");const B=100;class F{stop(){this.intervalHandle&&(clearInterval(this.intervalHandle),delete this.intervalHandle),this.previewAudioAnalyser=void 0}setPreviewAudioAnalyser(T){this.previewAudioAnalyser=T}setIsMuted(T){}constructor(){this.intervalHandle=window.setInterval(()=>{this.previewAudioAnalyser&&A.a.publish(this.previewAudioAnalyser.getLevel())},B)}}m(F,"free_willy_audio_level_monitor_FreeWillyAudioLevelMonitor");const k=300,V=100;class X{monitorAudioLevel(){if(!this.isRunning)return;let T=!0;this.runOnlyDuringMute&&(T=this.isMuted),A.a.subscriberCount===0&&(T=!1),this.previewAudioAnalyser&&T&&A.a.publish(this.previewAudioAnalyser.getLevel()),setTimeout(this.monitorAudioLevel,this.audioLevelIntervalDelay)}stop(){this.previewAudioAnalyser=void 0,this.isRunning=!1}setPreviewAudioAnalyser(T){this.previewAudioAnalyser=T}setIsMuted(T){this.isMuted=T}constructor(T){this.isRunning=!0,this.isMuted=!1,this.runOnlyDuringMute=T.runOnlyDuringMute,this.monitorAudioLevel=this.monitorAudioLevel.bind(this),this.audioLevelIntervalDelay=this.runOnlyDuringMute?k:V,this.monitorAudioLevel()}}m(X,"audio_level_monitor_AudioLevelMonitor");function J(bt,T){let{skipIntermediatePendingRuns:N=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=!1,w=[];const Pe=function(){var Be=Object(n.coroutine)(function*(){for(var _e=arguments.length,Ze=new Array(_e),qe=0;qe<_e;qe++)Ze[qe]=arguments[qe];if(Q){N&&(w=[]);const Re=Object(d.a)();return w.push({args:Ze,deferred:Re}),Re}Q=!0;const De=yield T.call(bt,...Ze);Q=!1;const le=w.shift();return le&&Pe(...le.args).then(le.deferred.resolve).catch(le.deferred.reject),De});return m(function(){return Be.apply(this,arguments)},"run")}();return Pe}m(J,"serialGuard");var Y=e("B1Qj"),ie=e("s4P+");let de=m(class{voiceFocusInsufficientResources(){var T=this;return Object(n.coroutine)(function*(){T.logger.warn("Voice Focus insufficient resources"),T.InsufficientResourcesHandler()})()}constructor(T){this.logger=Object(ie.b)({label:"VOICE FOCUS OBSERVER"}),this.InsufficientResourcesHandler=T}},"VoiceFocusObserver");var pe=e("q5W5"),oe=e("LxFC");let me=m(class{getAccessStatusForDeviceType(T){var N=this;return Object(n.coroutine)(function*(){let Q=[];switch(T){case c.i.MICROPHONE:Q=yield N.audioVideoFacade.listAudioInputDevices();break;case c.i.CAMERA:Q=yield N.audioVideoFacade.listVideoInputDevices();break;case c.i.SCREEN:return{isAvailable:!0,status:oe.d.Granted};default:return N.logger.warn(`BrowserMediaAccessChecker: Unhandled MediaResourceTypeEnum provided: ${T}`),{isAvailable:!1,status:oe.d.NotDetermined}}const w=Q.map(Be=>({id:Be.deviceId,groupId:Be.groupId,label:Be.label})),Pe=Object(pe.b)(w);switch(Pe){case pe.a.Available:return N.logger.info(`BrowserMediaAccessChecker: Device media type: ${T} is available`),N.observer.onDeviceAccessApproved(T),{isAvailable:!0,status:oe.d.Granted};case pe.a.HiddenByBrowser:return N.logger.info(`BrowserMediaAccessChecker: Device media type: ${T} not available, permission not granted`),N.observer.onBrowserMediaDeviceAccessDenied(T),{isAvailable:!0,status:oe.d.Denied};case pe.a.NoDevices:return N.logger.warn(`BrowserMediaAccessChecker: Device media type: ${T} not available, detected no devices`),N.observer.onSetNoMediaInput(T),{isAvailable:!0,status:oe.d.NotDetermined};default:return N.logger.warn(`BrowserMediaAccessChecker: Unhandled DeviceAvailability provided: ${Pe}`),{isAvailable:!1,status:oe.d.NotDetermined}}})()}constructor(T,N,Q){this.logger=T,this.audioVideoFacade=N,this.observer=Q}},"BrowserMediaAccessChecker");class re{initialize(){var T,N,Q,w,Pe,Be,_e,Ze,qe,De,le,Re;if(!(!((T=this.defaultDeviceController)===null||T===void 0||(N=T.activeDevices)===null||N===void 0||(Q=N.audio)===null||Q===void 0||(w=Q.stream)===null||w===void 0)&&w.getAudioTracks))return;const Fe=this.defaultDeviceController;if(!(!((Pe=this.defaultDeviceController)===null||Pe===void 0||(Be=Pe.activeDevices)===null||Be===void 0||(_e=Be.audio)===null||_e===void 0||(Ze=_e.stream)===null||Ze===void 0)&&Ze.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const Ge=Fe.activeDevices.audio.stream.getAudioTracks();if(Ge.length===1)this.audioInputTrack=Ge[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}(qe=this.audioInputTrack)===null||qe===void 0||qe.addEventListener("mute",this.onMute),(De=this.audioInputTrack)===null||De===void 0||De.addEventListener("unmute",this.onUnmute),(le=this.audioInputTrack)===null||le===void 0||le.addEventListener("ended",this.onEnded),!((Re=this.audioInputTrack)===null||Re===void 0)&&Re.muted?this.onMute():this.onUnmute()}tearDown(){var T,N,Q;(T=this.audioInputTrack)===null||T===void 0||T.removeEventListener("mute",this.onMute),(N=this.audioInputTrack)===null||N===void 0||N.removeEventListener("unmute",this.onUnmute),(Q=this.audioInputTrack)===null||Q===void 0||Q.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor(T,N,Q){this.defaultDeviceController=T,this.observer=N,this.logger=Q,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}m(re,"AudioInputTrackHandler");var ve;(function(bt){bt.Blur="BLUR",bt.Image="IMAGE",bt.None="NONE"})(ve||(ve={}));class q{constructor({backgroundEffect:T}){this.filterCPUUtilizationHigh=N=>{const{cpuUtilization:Q,filterMillis:w,periodMillis:Pe}=N;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${Q} - spent ${w}ms of last ${Pe}ms processing video background`)},this.filterFrameDurationHigh=N=>{const{framesDropped:Q,avgFilterDurationMillis:w,framerate:Pe,periodMillis:Be}=N;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${Pe}, frames dropped: ${Q}, spent ${w}ms of last ${Be}ms processing video background`)},this.callLogger=Object(i.a)(`VIDEO-BACKGROUND-${T}`)}}m(q,"video_background_observer_VideoBackgroundObserver");var ce=q,he=e("+N8b"),Se=e("QjW8"),se=e("dkXW"),H=e("kS3P"),Oe=e("WCSk"),$;(function(bt){bt.START_PREVIEW="start-preview",bt.STOP_PREVIEW="stop-preview",bt.ENABLE="enable",bt.DISABLE="disable"})($||($={}));const z=1e4,be=30,Z=5e3,G=5e3,ne="medium",ge=!0,ae=50;let fe=m(class{shutdown(){var T=this;return Object(n.coroutine)(function*(){var N;if(T.isShuttingDown=!0,T.voiceFocusDevice){var Q;T.voiceFocusObserver&&T.voiceFocusDevice.removeObserver(T.voiceFocusObserver),yield T.voiceFocusDevice.stop(),yield(Q=T.voiceFocusManager)===null||Q===void 0?void 0:Q.tearDown(),T.voiceFocusDevice=void 0}T.audioVideoFacade.removeDeviceChangeObserver(T),T.audioVideoFacade.stopLocalVideoTile(),yield T.audioVideoFacade.stopVideoInput(),yield T.audioVideoFacade.stopAudioInput(),T.audioVideoFacade.unbindAudioElement(),T.removeAudioElementErrorHandler(),yield T.clearVideoTransformDeviceRefs(),T.audioInputDeviceRefreshTimer&&(clearTimeout(T.audioInputDeviceRefreshTimer),T.audioInputDeviceRefreshTimer=null),T.videoInputDeviceRefreshTimer&&(clearTimeout(T.videoInputDeviceRefreshTimer),T.videoInputDeviceRefreshTimer=null),T.cameraMetricsTimeout&&(clearTimeout(T.cameraMetricsTimeout),T.cameraMetricsTimeout=null),Object(a.z)().closeAudioContext(),(N=T.audioLevelMonitor)===null||N===void 0||N.stop(),delete T.audioLevelMonitor})()}init(){var T=this;return Object(n.coroutine)(function*(){const[N,Q,w]=yield r.a.all([T.audioVideoFacade.listAudioInputDevices(),T.audioVideoFacade.listAudioOutputDevices(),T.audioVideoFacade.listVideoInputDevices()]);T.audioInputDevices=N,T.audioOutputDevices=Q,T.videoInputDevices=w,yield T.determineInitialMicrophonePermissionState(),T.enumerateDevices(),T.logDevices(),T.waitForInit.resolve()})()}determineInitialMicrophonePermissionState(){var T=this;return Object(n.coroutine)(function*(){if(Object(b.i)()){yield T.determineInitialMicrophonePermissionStateForDesktop();return}yield T.determineInitialMicrophonePermissionStateForBrowser()})()}determineInitialMicrophonePermissionStateForBrowser(){var T=this;return Object(n.coroutine)(function*(){var N;const Q=yield(N=T.browserMediaAccessChecker)===null||N===void 0?void 0:N.getAccessStatusForDeviceType(c.i.MICROPHONE);(Q==null?void 0:Q.status)===oe.d.Denied&&(T.observer.onBrowserMediaDeviceAccessDenied(c.i.MICROPHONE),T.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),T.isStartMutedBarrierActive=!0)})()}determineInitialMicrophonePermissionStateForDesktop(){var T=this;return Object(n.coroutine)(function*(){const N=yield T.maybeCheckSystemMediaAccess(c.i.MICROPHONE);Object(b.o)()||Object(b.x)()&&!T.options.useGetMediaAccessCheckForWindows||N&&(N==null?void 0:N.status)!==oe.d.Granted&&Object(b.i)()&&(T.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),T.isStartMutedBarrierActive=!0)})()}initNullMicrophone(){var T=this;return Object(n.coroutine)(function*(){try{yield T.audioVideoFacade.stopAudioInput()}catch(N){T.callLogger.info(`chooseAudioInputDevice failed: error: ${N.name}, message: ${N.message}`)}})()}setAGC(T){var N=this;return Object(n.coroutine)(function*(){N.prefs.audio&&N.prefs.audio.enableAGC!==T&&(N.callLogger.info(`AGC setting changed: ${T}`),N.prefs.audio.enableAGC=T,Object(se.d)(N.prefs),yield N.updateMicrophone())})()}setPreferredDevice(T,N){var Q=this;return Object(n.coroutine)(function*(){const w=Q.prefs.deviceIdPriorities[N],Pe=Object(E.a)([T,...w]);switch(N!==oe.c&&Q.maybeRemoveIphoneFromPriorities({selectedDeviceId:T,selectedDeviceType:N,newPrioritiesForSelectedType:Pe}),Q.prefs.deviceIdPriorities={...Q.prefs.deviceIdPriorities,[N]:Pe},Object(se.d)(Q.prefs),Q.enumerateDevices({id:T,type:N}),N){case oe.b.Microphone:yield Q.updateMicrophone();break;case oe.c:yield Q.updateSpeaker();break;case oe.b.Camera:Q.isCameraEnabled&&(yield Q.updateCamera());break;default:break}})()}setPreferredCameraDeviceForPreview(T){var N=this;return Object(n.coroutine)(function*(){const Q=oe.b.Camera,w=N.prefs.deviceIdPriorities[Q];N.prefs.deviceIdPriorities={...N.prefs.deviceIdPriorities,[Q]:Object(E.a)([T,...w])},Object(se.d)(N.prefs),N.enumerateDevices({id:T,type:Q}),yield N.updateCamera()})()}setVideoBackgroundEffect(T){let{effect:N,effectBgKey:Q}=T;var w=this;return Object(n.coroutine)(function*(){w.prefs.video&&(w.callLogger.info(`Video background effect changed: ${N}`),w.prefs.video.effect=N,w.prefs.video.effectBgKey=Q,Object(se.d)(w.prefs),w.isCameraEnabled&&(yield w.updateCamera()))})()}setNoiseSuppression(T){var N=this;return Object(n.coroutine)(function*(){N.prefs.audio&&N.prefs.audio.enableNoiseSuppression!==T&&(N.callLogger.info(`Noise suppression setting changed: ${T}`),N.prefs.audio.enableNoiseSuppression=T,Object(se.d)(N.prefs),yield N.updateMicrophone())})()}setStartMutedBarrier(T){var N=this;return Object(n.coroutine)(function*(){N.isStartMutedBarrierActive=T})()}setMicrophone(T){var N=this;return Object(n.coroutine)(function*(){var Q,w;if(l.a.setMicMute(!T),(Q=N.audioLevelMonitor)===null||Q===void 0||Q.setIsMuted(!T),N.voiceFocusManager&&(yield N.voiceFocusManager.setMute(T)),!T){var Pe;N.audioVideoFacade.realtimeMuteLocalAudio(),(Pe=N.huddleEventsTrace)===null||Pe===void 0||Pe.update({name:_.a.MICROPHONE,type:_.b.STOP});return}N.isStartMutedBarrierActive&&(N.callLogger.info("Releasing start muted barrier"),N.isStartMutedBarrierActive=!1),N.audioVideoFacade.realtimeUnmuteLocalAudio(),(w=N.huddleEventsTrace)===null||w===void 0||w.update({name:_.a.MICROPHONE,type:_.b.START})})()}requestPreviewStreamForDeviceId(T,N,Q){N===oe.b.Camera&&this.handleCameraChanges({type:$.START_PREVIEW,deviceId:T,videoElement:Q})}stopVideoPreviewForVideoInput(T){this.handleCameraChanges({type:$.STOP_PREVIEW,videoElement:T||this.cameraPreviewVideoElement})}setCamera(T){T!==this.isCameraEnabled&&(this.isCameraEnabled=T,this.isCameraEnabled?(this.handleCameraChanges({type:$.ENABLE}),this.maybeCheckSystemMediaAccess(c.i.CAMERA),this.maybeAutoSetPreferredDevice()):this.handleCameraChanges({type:$.DISABLE}))}setCameraQuality(T,N,Q,w){this.audioVideoFacade.chooseVideoInputQuality(T,N,Q),this.audioVideoFacade.setVideoMaxBandwidthKbps(w)}audioVideoDidStart(){var T=this;return Object(n.coroutine)(function*(){T.updateAudioVideo()})()}updateAudioVideo(){var T=this;return Object(n.coroutine)(function*(){yield T.waitForInit,T.waitForAudioVideoSessionStarted.resolve(),T.applyAudioInitFix?yield T.initMediaWithAuthority():(T.updateMicrophone(),T.updateSpeaker(),T.isCameraEnabled&&T.updateCamera()),setTimeout(()=>{T.checkForEmptyAudioDevice()},5e3)})()}initDeviceTwice(T,N){var Q=this;return Object(n.coroutine)(function*(){const w=N==="microphone",Pe=m(()=>{w&&Q.checkForEmptyAudioDevice()},"checkForNoAudio"),Be=Date.now();yield T(),Q.callLogger.info(`initialized ${N} for the first time in ${Date.now()-Be} ms`),Pe();const _e=Date.now();yield Object(p.a)(`huddle-${N}-init`,T),Pe(),Q.callLogger.info(`initialized ${N} for the  second time in ${Date.now()-_e} ms`)})()}localVideoTileDidUpdate(T){(!T.boundVideoStream||!T.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${T.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!T.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}maybeBindAudioOutputElement(){var T=this;return Object(n.coroutine)(function*(){if(!T.isAudioOutputElementBound&&T.audioOutputElement){try{yield T.audioVideoFacade.bindAudioElement(T.audioOutputElement)}catch(N){T.callLogger.info(`bindAudioElement failed: error: ${N.name}, message: ${N.message}`);return}T.isAudioOutputElementBound=!0}})()}maybeCheckSystemMediaAccess(T){var N=this;return Object(n.coroutine)(function*(){if(!Object(b.i)())return N.browserMediaAccessChecker?N.browserMediaAccessChecker.getAccessStatusForDeviceType(T):(N.callLogger.warn("DeviceManager::getMediaAccessStatus browserMediaAccessChecker was not available"),{isAvailable:!1,status:oe.d.NotDetermined});if(N.hasCheckedSystemPermissions[T])return N.hasCheckedSystemPermissions[T];if(Object(b.p)()&&Object(b.j)("4.8.0"))try{const Q=yield Object(j.S)(T);if(N.hasCheckedSystemPermissions[T]=Q,N.callLogger.info(`DeviceManager::getMediaAccessStatus ${T} electron API available: ${Q.isAvailable} and status: ${Q.status}`),!Q.isAvailable)return{isAvailable:!1,status:oe.d.NotDetermined};if(Q.status===oe.d.Granted)return N.observer.onDeviceAccessApproved(T),Q;let w;return Q.status===oe.d.NotDetermined&&(w=T==="screen"?null:yield Object(j.b)(T),N.callLogger.info(`DeviceManager::askForMediaAccess ${T} electron API available: ${!!(w!=null&&w.isAvailable)} and isConsentGranted: ${w==null?void 0:w.isGranted}`),T!=="screen"&&(w!=null&&w.isGranted))?(N.observer.onDeviceAccessApproved(T),{status:oe.d.Granted,isAvailable:!0}):((Q.status===oe.d.Denied||w&&!w.isGranted)&&N.observer.onCheckSystemMediaAccess(T),Q)}catch(Q){N.callLogger.info(`DeviceManager::Error retrieving system access for ${T}: ${Q}`)}else if(N.options.useGetMediaAccessCheckForWindows&&Object(b.x)()&&Object(b.j)("4.9.0"))try{const Q=yield Object(j.S)(T);return N.hasCheckedSystemPermissions[T]=Q,N.callLogger.info(`DeviceManager::getMediaAccessStatus::Windows ${T} electron API available: ${Q.isAvailable} and status: ${Q.status}`),Q.isAvailable?Q.status===oe.d.Granted?(N.observer.onDeviceAccessApproved(T),Q):(Q.status===oe.d.Denied&&N.observer.onCheckSystemMediaAccess(T),Q):{isAvailable:!1,status:oe.d.NotDetermined}}catch(Q){N.callLogger.info(`Windows::DeviceManager::Error::Windows retrieving system access for ${T}: ${Q}`)}return{isAvailable:!1,status:oe.d.NotDetermined}})()}audioInputsChanged(T){this.callLogger.info("DeviceManager::audioInputsChanged"),this.audioInputDevices=T,this.enumerateDevices(),this.updateMicrophone(),this.logDevices([oe.b.Microphone]),this.lastAudioInputDevicesUpdateTime=Date.now(),this.observer.onClearNoMediaInput(c.i.MICROPHONE)}audioInputMuteStateChanged(T,N){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${T}, ${N?"muted":"unmuted"}`)}audioInputStreamEnded(T){if(!T)return;this.callLogger.info("DeviceManager::audioInputStreamEnded");const N=this.audioInputDevices;this.audioInputDeviceRefreshTimer&&clearTimeout(this.audioInputDeviceRefreshTimer),this.lastAudioInputStreamEndTime=Date.now();var Q=this;this.audioInputDeviceRefreshTimer=setTimeout(Object(n.coroutine)(function*(){const w=yield Q.audioVideoFacade.listAudioInputDevices();Q.deviceInfoArrayComparator(w,N)&&(Q.callLogger.warn("Call audio stream ended unexpectedly"),Q.observer.onSetNoMediaInput(c.i.MICROPHONE),Object(U.a)(W.EventId.CALLS_AUDIO_STREAM_ENDED_UNEXPECTEDLY,{audioInputDevicesUpdated:Q.lastAudioInputDevicesUpdateTime&&Q.lastAudioInputDevicesUpdateTime>Q.lastAudioInputStreamEndTime})),Q.audioInputDeviceRefreshTimer=null}),Z)}audioOutputsChanged(T){this.callLogger.info("DeviceManager::audioOutputsChanged"),this.audioOutputDevices=T,this.enumerateDevices(),this.updateSpeaker(),this.logDevices([oe.c]),this.observer.onClearNoAudioOutput(c.k.AUDIO_ELEMENT_ERROR)}videoInputsChanged(T){const N=this.getPreferredDevice(oe.b.Camera),Q=Object(v.a)(T,w=>w.deviceId===(N==null?void 0:N.id));this.callLogger.info("DeviceManager::videoInputsChanged"),this.videoInputDevices=T,this.enumerateDevices(),this.logDevices([oe.b.Camera]),this.lastVideoInputDevicesUpdateTime=Date.now(),!Q&&this.isCameraEnabled?(this.callLogger.info("DeviceManager::triggering camera stop due to active camera no longer being available"),this.observer.onSetNoMediaInput(c.i.CAMERA)):this.observer.onClearNoMediaInput(c.i.CAMERA)}videoInputStreamEnded(T){var N=this;return Object(n.coroutine)(function*(){if(!T)return;N.callLogger.info("DeviceManager::videoInputStreamEnded"),N.observer.onSetNoMediaInput(c.i.CAMERA);const Q=N.videoInputDevices;N.videoInputDeviceRefreshTimer&&clearTimeout(N.videoInputDeviceRefreshTimer),N.lastVideoInputStreamEndTime=Date.now(),N.videoInputDeviceRefreshTimer=setTimeout(Object(n.coroutine)(function*(){const w=yield N.audioVideoFacade.listVideoInputDevices();N.deviceInfoArrayComparator(w,Q)&&(N.callLogger.warn("Call video stream ended unexpectedly"),Object(U.a)(W.EventId.CALLS_VIDEO_STREAM_ENDED_UNEXPECTEDLY,{videoInputDevicesUpdated:N.lastVideoInputDevicesUpdateTime&&N.lastVideoInputDevicesUpdateTime>N.lastVideoInputStreamEndTime})),N.videoInputDeviceRefreshTimer=null}),G)})()}logDevices(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oe.a;Object(Oe.e)(this.callLogger,this.devices,T)}getPreferredDevice(T){return Object(se.a)(this.devices)[T]}enumerateDevices(T){const N=Object(g.a)(Object(se.c)(this.audioInputDevices?Object(P.a)(this.audioInputDevices):[],this.prefs.deviceIdPriorities[oe.b.Microphone],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[oe.b.Microphone]||[]),Object(se.c)(this.audioOutputDevices?Object(P.a)(this.audioOutputDevices):[],this.prefs.deviceIdPriorities[oe.c],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[oe.c]||[]),Object(se.c)(this.videoInputDevices?this.videoInputDevices:[],this.prefs.deviceIdPriorities[oe.b.Camera],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[oe.b.Camera]||[])),Q=Object(O.a)(N,(w,Pe)=>{const Be=Object(Oe.f)(Pe),_e=T&&T.id===Be.id&&T.type===Be.type,Ze=this.shouldDeprioritizeDevice({device:Be,isPreferredDevice:_e||this.getPreferredCameraId()===Be.id});return{...w,[Be.type]:_e&&!Ze?[Be,...w[Be.type]]:[...w[Be.type],Be]}},Object(Oe.d)());this.devices=Q,this.observer.onDevicesUpdated(Q)}handleCameraChanges(T){var N=this;return Object(n.coroutine)(function*(){switch(T.type){case $.START_PREVIEW:yield N.runCameraActivityStartPreview(T);break;case $.STOP_PREVIEW:yield N.runCameraActivityStopPreview(T);break;case $.ENABLE:yield N.runCameraActivityEnable();break;case $.DISABLE:yield N.runCameraActivityDisable();break;default:break}})()}getDeviceIdAndLabelForDefaultDevice(T,N,Q){if(T!==Oe.c&&T!==Oe.b||Q===oe.b.Camera)return{deviceId:T,deviceLabel:N};const w=Q===oe.c?this.audioOutputDevices:this.audioInputDevices;let Pe=null;if(Object(I.a)(w,Ze=>{if(!(!Ze||Ze.deviceId!==T))return Pe=Ze.groupId,!1}),!Pe)return{deviceId:T,deviceLabel:N};let Be=T,_e=N;return Object(I.a)(w,Ze=>{if(!(!Ze||Ze.groupId!==Pe||Ze.deviceId===Oe.c||Ze.deviceId===Oe.b))return Be=Ze.deviceId,_e=Ze.label,!1}),{deviceId:Be,deviceLabel:_e}}updateMicrophone(){var T=this;return Object(n.coroutine)(function*(){yield T.waitForAudioVideoSessionStarted;const N=T.getPreferredDevice(oe.b.Microphone);if(!N){T.callLogger.info("No audio input device found");return}const{deviceId:Q,deviceLabel:w}=T.getDeviceIdAndLabelForDefaultDevice(N.id,N.label,oe.b.Microphone);T.callLogger.info(`Selected audio input device: ${N.label||N.id}, deviceId: ${Q}, deviceLabel: ${w}`),T.detectBluetoothDevices();const Be={autoGainControl:T.prefs.audio?T.prefs.audio.enableAGC:!0,deviceId:Q},_e=T.shouldNoiseSuppressionBeDisabled(w);let Ze=!0;if(T.voiceFocusManager&&T.voiceFocusManager.isAvailable()&&(T.prefs.audio&&T.prefs.audio.enableNoiseSuppression)&&!_e&&!T.voiceFocusCPUThrottled){if(T.voiceFocusDevice||(T.voiceFocusDevice=yield T.voiceFocusManager.getTransformDevice()),T.voiceFocusDevice){const De=yield T.voiceFocusDevice.chooseNewInnerDevice(Be);De!==T.voiceFocusDevice&&(T.voiceFocusObserver=new de(T.handleVoiceFocusInsufficientResourcesEvent),T.voiceFocusDevice.addObserver(T.voiceFocusObserver)),T.voiceFocusDevice=De}T.voiceFocusDevice||(Ze=!1)}else Ze=!1;T.voiceFocusDevice&&Object(y.c)({name:y.a.VoiceFocusDevice,ref:T.voiceFocusDevice}),T.callLogger.info("Noise suppression:",Ze?"enabled":"disabled");try{if(T.isStartMutedBarrierActive){var qe;T.callLogger.info("Start muted barrier active"),T.audioVideoFacade.realtimeMuteLocalAudio(),l.a.setMicMute(!0),(qe=T.audioLevelMonitor)===null||qe===void 0||qe.setIsMuted(!0)}if(Ze)if(T.voiceFocusDevice)yield T.initAudioInput(T.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(Be.noiseSuppression=!0),yield T.initAudioInput(Be)}catch(De){T.callLogger.error(`chooseAudioInputDevice failed: error: ${De.name}, message: ${De.message}`),De instanceof a.q?T.observer.onSelfPermissionUpdated(!0,oe.b.Microphone):T.observer.onSelfPermissionUpdated(!1,oe.b.Microphone);return}T.initAudioAnalyserForPreview(),T.setupAudioInputTrackHandler(),l.a.setMicDevice(Q,Ze,w),!(yield T.isMediaPermissionDeniedOnWindows(c.i.MICROPHONE))&&T.observer.onSelfPermissionUpdated(!1,oe.b.Microphone)})()}updateSpeaker(){var T=this;return Object(n.coroutine)(function*(){yield T.waitForAudioVideoSessionStarted;const N=T.getPreferredDevice(oe.c);if(!N){T.callLogger.info("No audio output device found");return}const{deviceId:Q,deviceLabel:w}=T.getDeviceIdAndLabelForDefaultDevice(N.id,N.label,oe.c);T.detectBluetoothDevices(),T.callLogger.info(`Selected audio output device id: ${N.label||N.id}, deviceId: ${Q}, deviceLabel: ${w}`),yield T.audioVideoFacade.chooseAudioOutput(Q),T.observer.onOutputDeviceChanged({id:N.id,type:oe.c})})()}updateCamera(){var T=this;return Object(n.coroutine)(function*(){yield T.waitForAudioVideoSessionStarted;const N=T.getPreferredDevice(oe.b.Camera);if(!N){T.callLogger.info("No video input device found");return}T.callLogger.info(`Selected video input device id: ${N.label||N.id}`);try{yield T.setCameraVideoInputDevice(N)}catch(Q){T.callLogger.info(`chooseVideoInputDevice failed: error: ${Q.name}, message: ${Q.message}`),Q instanceof a.q?T.observer.onSelfPermissionUpdated(!0,oe.b.Camera):T.observer.onSelfPermissionUpdated(!1,oe.b.Camera);return}(yield T.isMediaPermissionDeniedOnWindows(c.i.CAMERA))||T.observer.onSelfPermissionUpdated(!1,oe.b.Camera)})()}setCameraVideoInputDevice(T){var N=this;return Object(n.coroutine)(function*(){if(yield N.clearVideoTransformDeviceRefs(),N.options.backgroundVideoFilteringSetting===oe.a.NONE){yield N.initVideoInput(T.id);return}switch(N.prefs.video.effect){case H.a.Blur:{yield N.setCameraVideoInputDeviceWithBackgroundBlurFilter(T);break}case H.a.Background:{N.options.backgroundVideoFilteringSetting!==oe.a.Both?yield N.initVideoInput(T.id):yield N.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:T,selectedBackgroundImageKey:N.prefs.video.effectBgKey});break}default:{yield N.initVideoInput(T.id);break}}})()}setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(T){let{videoDevice:N,selectedBackgroundImageKey:Q}=T;var w=this;return Object(n.coroutine)(function*(){const Pe=N.label||N.id;if(Q===void 0){w.callLogger.info(`No background image key provided id: ${Pe}`),yield w.initVideoInput(N.id);return}const Be=Object(a.G)(),_e=Object(a.y)(),Ze=[];if(!(yield a.t.isSupported(w.chimeLogger))&&ge)return w.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",N);if(!(yield _e.isSupported())&&!ge)return w.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",N);const De=Y.b.find(et=>et.key===Q);if(De===void 0)return w.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",N);w.callLogger.info(`Enabling video input device with background image filter id: ${Pe}`);const Re=yield(yield fetch(De.url)).blob();if(w.isShuttingDown)return;const Fe={...w.defaultVideoProcessorOptions,imageBlob:Re};if(ge){if(w.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:ne},backgroundReplacement:{isEnabled:!0,backgroundImageURL:De.url,defaultColor:void 0}},w.videoFxProcessor=yield a.t.create(w.chimeLogger,w.videoFxConfig,ae),!w.videoFxProcessor)return w.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",N);w.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${Pe}`),Ze.push(w.videoFxProcessor)}else{const et=yield _e.create(void 0,Fe);if(et)w.setupVideoBackgroundFrameProcessor({processor:et,backgroundEffect:ve.Image}),Ze.push(et);else return w.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",N)}w.callLogger.info(`Enabling video input device with background image replacement id: ${Pe}`);const Ge=new Be(w.chimeLogger,N.id,Ze);w.setVideoTransformDeviceRefs({transformDevice:Ge,processors:Ze}),yield w.initVideoInput(Ge),yield w.cleanupTransformDevicesAndCameraIfShuttingdown()})()}handleErrorApplyVideoEffects(T,N){var Q=this;return Object(n.coroutine)(function*(){const w=N.label||N.id;Q.callLogger.info(`${T}: ${w}`),yield Q.initVideoInput(N.id)})()}setCameraVideoInputDeviceWithBackgroundBlurFilter(T){var N=this;return Object(n.coroutine)(function*(){const Q=Object(a.G)(),w=Object(a.x)(),Pe=T.label||T.id;N.callLogger.info(`Enabling video input device with background blur filter id: ${Pe}`);const Be=[];if(ge){if(!(yield a.t.isSupported(N.chimeLogger)))return N.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",T);if(N.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:ne},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},N.videoFxProcessor=yield a.t.create(N.chimeLogger,N.videoFxConfig,ae),!N.videoFxProcessor)return N.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",T);N.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${Pe}`),Be.push(N.videoFxProcessor)}else{if(!(yield w.isSupported()))return N.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",T);const Ze={...N.defaultVideoProcessorOptions,blurStrength:15},qe=yield w.create(void 0,Ze);if(!qe)return N.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",T);N.setupVideoBackgroundFrameProcessor({processor:qe,backgroundEffect:ve.Blur}),Be.push(qe)}N.callLogger.info(`Enabling video input device with background blur filter id: ${Pe}`);const _e=new Q(N.chimeLogger,T.id,Be);N.setVideoTransformDeviceRefs({transformDevice:_e,processors:Be}),yield N.initVideoInput(_e),yield N.cleanupTransformDevicesAndCameraIfShuttingdown()})()}cleanupTransformDevicesAndCameraIfShuttingdown(){var T=this;return Object(n.coroutine)(function*(){T.isShuttingDown&&(T.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),yield T.audioVideoFacade.stopVideoInput(),yield T.clearVideoTransformDeviceRefs())})()}initVideoInputDevices(){var T=this;return Object(n.coroutine)(function*(){const N=yield T.audioVideoFacade.listVideoInputDevices(),Q=N.length>0;return Q||T.observer.onSelfPermissionUpdated(!0,oe.b.Camera),T.videoInputDevices=N,T.prefs=Object(se.b)(),T.enumerateDevices(),Q})()}shouldNoiseSuppressionBeDisabled(T){const N=Object(b.o)();return N&&this.callLogger.info("Noise suppression disabled on Linux: ",T||"no device label"),N}runCameraActivityStartPreview(T){var N=this;return Object(n.coroutine)(function*(){const Q=T.deviceId,w=T.videoElement;!Q||!w||(N.cameraPreviewVideoElement=w,yield N.setPreferredCameraDeviceForPreview(Q),yield N.startCameraPreview())})()}runCameraActivityStopPreview(T){var N=this;return Object(n.coroutine)(function*(){const Q=T.videoElement;Q&&(Q!==N.cameraPreviewVideoElement&&N.callLogger.warn("Mismatch in preview video element"),N.audioVideoFacade.hasStartedLocalVideoTile()?N.detachStreamFromCameraPreview():N.stopCameraPreview(),delete N.cameraPreviewVideoElement)})()}runCameraActivityEnable(){var T=this;return Object(n.coroutine)(function*(){var N;!T.audioVideoFacade.hasStartedLocalVideoTile()&&T.cameraPreviewVideoElement&&T.stopCameraPreview(),yield T.updateCamera(),T.audioVideoFacade.hasStartedLocalVideoTile()||(T.waitForCameraReady=Object(d.a)(),T.audioVideoFacade.startLocalVideoTile(),yield T.waitForCameraReady.catch(()=>{T.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),T.runCameraActivityDisable()})),T.attachStreamToCameraPreview(),(N=T.huddleEventsTrace)===null||N===void 0||N.update({name:_.a.VIDEO,type:_.b.START})})()}runCameraActivityDisable(){var T=this;return Object(n.coroutine)(function*(){var N;T.detachStreamFromCameraPreview(),yield T.audioVideoFacade.stopVideoInput(),T.audioVideoFacade.stopLocalVideoTile(),(N=T.huddleEventsTrace)===null||N===void 0||N.update({name:_.a.VIDEO,type:_.b.STOP}),T.cameraPreviewVideoElement&&(yield T.updateCamera(),yield T.startCameraPreview())})()}startCameraPreview(){var T=this;return Object(n.coroutine)(function*(){T.cameraPreviewVideoElement&&(T.waitForCameraReady=Object(d.a)(),T.audioVideoFacade.startVideoPreviewForVideoInput(T.cameraPreviewVideoElement),T.cameraPreviewVideoElement.addEventListener("canplay",N=>{T.waitForCameraReady.resolve()}),yield T.waitForCameraReady)})()}stopCameraPreview(){var T=this;return Object(n.coroutine)(function*(){T.cameraPreviewVideoElement&&(T.audioVideoFacade.stopVideoPreviewForVideoInput(T.cameraPreviewVideoElement),yield T.audioVideoFacade.stopVideoInput())})()}attachStreamToCameraPreview(){var T;if(!this.cameraPreviewVideoElement)return;const N=(T=this.audioVideoFacade.getLocalVideoTile())===null||T===void 0?void 0:T.state();N&&N.boundVideoStream&&a.m.connectVideoStreamToVideoElement(N.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&a.m.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(T){var N,Q,w,Pe;const Be=((N=T.target)===null||N===void 0||(Q=N.error)===null||Q===void 0?void 0:Q.code)||"unavailable",_e=((w=T.target)===null||w===void 0||(Pe=w.error)===null||Pe===void 0?void 0:Pe.message)||T.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${Be}, message: ${_e}`),this.observer.onSetNoAudioOutput(c.k.AUDIO_ELEMENT_ERROR)}deviceInfoArrayComparator(T,N){return Object(C.a)(Object(f.a)(T,N,(Q,w)=>Q.deviceId===w.deviceId&&Q.groupId===w.groupId&&Q.kind===w.kind))}isMediaPermissionDeniedOnWindows(T){var N=this;return Object(n.coroutine)(function*(){if(N.options.useGetMediaAccessCheckForWindows&&Object(b.x)()&&Object(b.j)("4.9.0")){const Q=yield N.maybeCheckSystemMediaAccess(T);if(Q&&Q.status==="denied")return!0}return!1})()}initAudioAnalyserForPreview(){const T=Object(a.z)().getAudioContext();if(!T){this.callLogger.warn("Unable to get AudioContext");return}T.resume();const N=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(N){var Q;const w=new R(N);(Q=this.audioLevelMonitor)===null||Q===void 0||Q.setPreviewAudioAnalyser(w)}}setupAudioInputTrackHandler(){this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new re(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize()}constructor(T,N,Q,w,Pe=!1,Be,_e,Ze,qe){this.audioVideoFacade=T,this.audioOutputElement=N,this.observer=Q,this.options=w,this.isStartMutedBarrierActive=Pe,this.chimeLogger=Be,this.defaultDeviceController=_e,this.voiceFocusManager=Ze,this.applyAudioInitFix=qe,this.callLogger=Object(i.a)("DEVICES"),this.devices=Object(Oe.d)(),this.waitForCameraReady=Object(d.a)(),this.waitForInit=Object(d.a)(),this.waitForAudioVideoSessionStarted=Object(d.a)(),this.lastAudioInputDevicesUpdateTime=0,this.lastVideoInputDevicesUpdateTime=0,this.lastAudioInputStreamEndTime=0,this.lastVideoInputStreamEndTime=0,this.isAudioOutputElementBound=!1,this.voiceFocusCPUThrottled=!1,this.hasCheckedSystemPermissions={[c.i.MICROPHONE]:!1,[c.i.CAMERA]:!1,[c.i.SCREEN]:!1},this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:ne},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.continuityCameraDeviceIds={[oe.b.Camera]:null,[oe.b.Microphone]:null},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.maybeRemoveIphoneFromPriorities=Qe=>{let{selectedDeviceId:it,selectedDeviceType:Lt,newPrioritiesForSelectedType:Pt}=Qe;const rn=this.continuityCameraDeviceIds[Lt];rn&&(it!==rn?(Object(S.a)(Pt,nn=>nn===rn),this.callLogger.warn(`Iphone ${Lt} no longer selected. Removing from priority device list.`)):this.callLogger.warn(`Iphone ${Lt} manually selected by user.`))},this.checkForEmptyAudioDevice=()=>{var Qe,it,Lt;((Qe=this.defaultDeviceController)===null||Qe===void 0||(it=Qe.activeDevices)===null||it===void 0||(Lt=it.audio)===null||Lt===void 0?void 0:Lt.constraints)===null&&this.callLogger.warn("active microphone appears to be null/empty. no-audio bug may be occuring")};var De=this;this.initMediaWithAuthority=Object(n.coroutine)(function*(){const Qe=Date.now();yield De.initDeviceTwice(De.updateMicrophone,"microphone"),yield De.initDeviceTwice(De.updateSpeaker,"speaker"),De.isCameraEnabled&&(yield De.initDeviceTwice(De.updateCamera,"camera")),De.callLogger.info("All devices initialized in",Date.now()-Qe,"ms")}),this.maybeAutoSetPreferredDevice=()=>{this.getPreferredCameraId()?this.callLogger.info("Preferred camera is already set. No need to auto-set one."):(this.callLogger.warn("No preferred camera currently set. If current camera still in use in 10s, we will automatically set it as the preferred camera"),setTimeout(()=>{var it;const Lt=(it=this.getPreferredDevice(oe.b.Camera))===null||it===void 0?void 0:it.id,Pt=this.getPreferredCameraId();!this.isCameraEnabled||!Lt||Pt||(this.callLogger.info(`Setting preferred camera to ${Lt}`),this.setPreferredDevice(Lt,oe.b.Camera))},1e4))},this.getPreferredCameraId=()=>this.prefs.deviceIdPriorities.camera[0],this.detectBluetoothDevices=()=>{var Qe,it;const Lt=(Qe=this.devices[oe.b.Microphone])===null||Qe===void 0?void 0:Qe[0],Pt=(it=this.devices[oe.c])===null||it===void 0?void 0:it[0];if(!Lt||!Pt)return;const rn=["bluetooth","hands-free","airpods","wireless"],nn=m(un=>Object(D.a)(rn,An=>un==null?void 0:un.toLowerCase().includes(An)),"checkDeviceLabel"),Sn=nn(Lt.label),jn=nn(Pt.label),hn=Lt.groupId===Pt.groupId;he.a.publish({type:Se.c.BluetoothDevices,update:{isMicrophoneBluetooth:Sn,isSpeakerBluetooth:jn,isMicrophoneAndSpeakerOnSameDevice:hn}})},this.shouldDeprioritizeDevice=Qe=>{let{device:it,isPreferredDevice:Lt}=Qe;if(Lt)return!1;let Pt=!1;if(it.type!==oe.c){const rn=it.label;Object(b.p)()&&rn&&(Pt=!!/iphone/.test(rn.toLowerCase()))}return Pt&&(this.continuityCameraDeviceIds[it.type]=it.id),Pt};var le=this;this.handleVoiceFocusInsufficientResourcesEvent=Object(n.coroutine)(function*(){le.voiceFocusManager&&(he.a.publish({type:Se.c.VoiceFocusWarning}),le.voiceFocusManager.shouldDisable()&&(le.callLogger.warn("Voice Focus - disabling due to CPU throttle"),le.voiceFocusCPUThrottled=!0,le.voiceFocusDevice&&(yield le.voiceFocusDevice.stop()),yield le.voiceFocusManager.tearDown(),le.voiceFocusDevice=void 0,yield le.updateMicrophone()))}),this.setVideoTransformDeviceRefs=Qe=>{let{transformDevice:it,processors:Lt}=Qe;this.currentVideoTransformDevice=it,this.currentVideoFrameProcessors=Lt,Object(y.c)({name:y.a.VideoTransformDevice,ref:it})},this.setupVideoBackgroundFrameProcessor=Qe=>{let{processor:it,backgroundEffect:Lt}=Qe;var Pt;this.clearVideoBackgroundFrameProcessor(),!ge&&(this.currentVideoFrameProcessor=it,this.currentVideoFrameProcessorObserver=new ce({backgroundEffect:Lt}),(Pt=this.currentVideoFrameProcessor)===null||Pt===void 0||Pt.addObserver(this.currentVideoFrameProcessorObserver),Object(y.c)({name:y.a.VideoFrameProcessor,ref:it}))},this.clearVideoBackgroundFrameProcessor=()=>{ge||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)};var Re=this;this.clearVideoTransformDeviceRefs=Object(n.coroutine)(function*(){Re.clearVideoBackgroundFrameProcessor(),Re.currentVideoFrameProcessors&&(Re.currentVideoFrameProcessors.forEach(Qe=>{Qe.destroy()}),Re.currentVideoFrameProcessors.length=0,Re.currentVideoFrameProcessors=void 0),Re.currentVideoTransformDevice&&(yield Re.currentVideoTransformDevice.stop(),Re.currentVideoTransformDevice=void 0)});var Fe=this;this.initAudioInput=function(){var Qe=Object(n.coroutine)(function*(it){var Lt;if(!it)return;Fe.callLogger.info("[NO-AUDIO-DEBUG] Starting audio input"),yield Fe.audioVideoFacade.startAudioInput(it);let Pt="";if(!((Lt=it)===null||Lt===void 0)&&Lt.device){var rn,nn,Sn,jn,hn;Pt+=`${!((rn=it)===null||rn===void 0)&&rn.failed?"failed":"succeeded"}`,Pt+=` - audio context state: ${(nn=it.node)===null||nn===void 0||(Sn=nn.context)===null||Sn===void 0?void 0:Sn.state}`,Pt+=` - deviceId: ${(jn=it)===null||jn===void 0||(hn=jn.device)===null||hn===void 0?void 0:hn.deviceId}`}else{var un;Pt+=` ${(un=it)===null||un===void 0?void 0:un.deviceId}`}Fe.callLogger.info(`[NO-AUDIO-DEBUG] Started audio input for device: ${Pt}`)});return function(it){return Qe.apply(this,arguments)}}();var Ge=this;this.initVideoInput=function(){var Qe=Object(n.coroutine)(function*(it){it&&(yield Ge.audioVideoFacade.startVideoInput(it),Ge.recordCameraResolution())});return function(it){return Qe.apply(this,arguments)}}(),this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var Qe,it,Lt,Pt,rn;if(this.isShuttingDown||!((Qe=this.audioVideoFacade)===null||Qe===void 0?void 0:Qe.hasStartedLocalVideoTile()))return;const Sn=this.audioVideoFacade.getLocalVideoTile(),jn=(it=Sn==null?void 0:Sn.state())===null||it===void 0?void 0:it.boundVideoStream,hn=jn==null?void 0:jn.getVideoTracks()[0];if(hn instanceof CanvasCaptureMediaStreamTrack){he.a.publish({type:Se.c.CameraResolution,update:{isCanvasStream:!0}});return}const un=hn==null?void 0:hn.getSettings(),An=hn==null?void 0:hn.getCapabilities(),mn=un==null?void 0:un.width,Nn=un==null?void 0:un.height,xn=un==null?void 0:un.frameRate,Vn=An==null||(Lt=An.width)===null||Lt===void 0?void 0:Lt.max,Wn=An==null||(Pt=An.height)===null||Pt===void 0?void 0:Pt.max,Bn=An==null||(rn=An.frameRate)===null||rn===void 0?void 0:rn.max;Vn&&Wn&&he.a.publish({type:Se.c.CameraResolution,update:{cameraWidth:mn,cameraHeight:Nn,cameraFrameRate:xn,cameraMaxWidth:Vn,cameraMaxHeight:Wn,cameraMaxFrameRate:Bn,isCanvasStream:!1}})}catch{}},5e3)},this.updateMicrophone=J(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=J(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=J(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=J(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=Object(se.b)(),this.addAudioElementErrorHandler(),this.options.useUpdatedAudioLevelMonitor&&this.callLogger.info("New updated audio level monitor being used"),this.audioLevelMonitor=this.options.useUpdatedAudioLevelMonitor?new X({runOnlyDuringMute:!0}):new F,Object(b.i)()||(this.browserMediaAccessChecker=new me(this.callLogger,this.audioVideoFacade,this.observer)),this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:be,reportingPeriodMillis:z,logger:this.chimeLogger};const{huddleEventsTrace:et}=Object(M.a)().getAllTraceHandlers();this.huddleEventsTrace=et}},"DeviceManager");var Te;(function(bt){bt.START_PREVIEW="start-preview",bt.STOP_PREVIEW="stop-preview",bt.ENABLE="enable",bt.DISABLE="disable"})(Te||(Te={}));const ye=1e4,Ue=30,Ne=5e3,He=5e3,ze="medium",Je=!0,Xe=50;let Me=m(class{shutdown(){var T=this;return Object(n.coroutine)(function*(){var N;if(T.isShuttingDown=!0,T.voiceFocusDevice){var Q;T.voiceFocusObserver&&T.voiceFocusDevice.removeObserver(T.voiceFocusObserver),yield T.voiceFocusDevice.stop(),yield(Q=T.voiceFocusManager)===null||Q===void 0?void 0:Q.tearDown(),T.voiceFocusDevice=void 0}T.audioVideoFacade.removeDeviceChangeObserver(T),T.audioVideoFacade.stopLocalVideoTile(),yield T.audioVideoFacade.stopVideoInput(),yield T.audioVideoFacade.stopAudioInput(),T.audioVideoFacade.unbindAudioElement(),T.removeAudioElementErrorHandler(),yield T.clearVideoTransformDeviceRefs(),T.audioInputDeviceRefreshTimer&&(clearTimeout(T.audioInputDeviceRefreshTimer),T.audioInputDeviceRefreshTimer=null),T.videoInputDeviceRefreshTimer&&(clearTimeout(T.videoInputDeviceRefreshTimer),T.videoInputDeviceRefreshTimer=null),T.cameraMetricsTimeout&&(clearTimeout(T.cameraMetricsTimeout),T.cameraMetricsTimeout=null),Object(a.z)().closeAudioContext(),(N=T.audioLevelMonitor)===null||N===void 0||N.stop(),delete T.audioLevelMonitor})()}init(){var T=this;return Object(n.coroutine)(function*(){const[N,Q,w]=yield r.a.all([T.audioVideoFacade.listAudioInputDevices(),T.audioVideoFacade.listAudioOutputDevices(),T.audioVideoFacade.listVideoInputDevices()]);T.audioInputDevices=N,T.audioOutputDevices=Q,T.videoInputDevices=w,yield T.determineInitialMicrophonePermissionState(),T.enumerateDevices(),T.logDevices(),T.waitForInit.resolve()})()}determineInitialMicrophonePermissionState(){var T=this;return Object(n.coroutine)(function*(){if(Object(b.i)()){yield T.determineInitialMicrophonePermissionStateForDesktop();return}yield T.determineInitialMicrophonePermissionStateForBrowser()})()}determineInitialMicrophonePermissionStateForBrowser(){var T=this;return Object(n.coroutine)(function*(){var N;const Q=yield(N=T.browserMediaAccessChecker)===null||N===void 0?void 0:N.getAccessStatusForDeviceType(c.i.MICROPHONE);(Q==null?void 0:Q.status)===oe.d.Denied&&(T.observer.onBrowserMediaDeviceAccessDenied(c.i.MICROPHONE),T.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),T.isStartMutedBarrierActive=!0)})()}determineInitialMicrophonePermissionStateForDesktop(){var T=this;return Object(n.coroutine)(function*(){const N=yield T.maybeCheckSystemMediaAccess(c.i.MICROPHONE);Object(b.o)()||Object(b.x)()&&!T.options.useGetMediaAccessCheckForWindows||N&&(N==null?void 0:N.status)!==oe.d.Granted&&Object(b.i)()&&(T.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),T.isStartMutedBarrierActive=!0)})()}initNullMicrophone(){var T=this;return Object(n.coroutine)(function*(){try{yield T.audioVideoFacade.stopAudioInput()}catch(N){T.callLogger.info(`chooseAudioInputDevice failed: error: ${N.name}, message: ${N.message}`)}})()}setAGC(T){var N=this;return Object(n.coroutine)(function*(){N.prefs.audio&&N.prefs.audio.enableAGC!==T&&(N.callLogger.info(`AGC setting changed: ${T}`),N.prefs.audio.enableAGC=T,Object(se.d)(N.prefs),yield N.updateMicrophone())})()}setPreferredDevice(T,N){var Q=this;return Object(n.coroutine)(function*(){const w=Q.prefs.deviceIdPriorities[N],Pe=Object(E.a)([T,...w]);switch(N!==oe.c&&Q.maybeRemoveIphoneFromPriorities({selectedDeviceId:T,selectedDeviceType:N,newPrioritiesForSelectedType:Pe}),Q.prefs.deviceIdPriorities={...Q.prefs.deviceIdPriorities,[N]:Pe},Object(se.d)(Q.prefs),Q.enumerateDevices({id:T,type:N}),N){case oe.b.Microphone:yield Q.updateMicrophone();break;case oe.c:yield Q.updateSpeaker();break;case oe.b.Camera:Q.isCameraEnabled&&(yield Q.updateCamera());break;default:break}})()}setPreferredCameraDeviceForPreview(T){var N=this;return Object(n.coroutine)(function*(){const Q=oe.b.Camera,w=N.prefs.deviceIdPriorities[Q];N.prefs.deviceIdPriorities={...N.prefs.deviceIdPriorities,[Q]:Object(E.a)([T,...w])},Object(se.d)(N.prefs),N.enumerateDevices({id:T,type:Q}),yield N.updateCamera()})()}setVideoBackgroundEffect(T){let{effect:N,effectBgKey:Q}=T;var w=this;return Object(n.coroutine)(function*(){w.prefs.video&&(w.callLogger.info(`Video background effect changed: ${N}`),w.prefs.video.effect=N,w.prefs.video.effectBgKey=Q,Object(se.d)(w.prefs),w.isCameraEnabled&&(yield w.updateCamera()))})()}setNoiseSuppression(T){var N=this;return Object(n.coroutine)(function*(){N.prefs.audio&&N.prefs.audio.enableNoiseSuppression!==T&&(N.callLogger.info(`Noise suppression setting changed: ${T}`),N.prefs.audio.enableNoiseSuppression=T,Object(se.d)(N.prefs),yield N.updateMicrophone())})()}setStartMutedBarrier(T){var N=this;return Object(n.coroutine)(function*(){N.isStartMutedBarrierActive=T})()}setMicrophone(T){var N=this;return Object(n.coroutine)(function*(){var Q,w;if(l.a.setMicMute(!T),(Q=N.audioLevelMonitor)===null||Q===void 0||Q.setIsMuted(!T),N.voiceFocusManager&&(yield N.voiceFocusManager.setMute(T)),!T){var Pe;N.audioVideoFacade.realtimeMuteLocalAudio(),(Pe=N.huddleEventsTrace)===null||Pe===void 0||Pe.update({name:_.a.MICROPHONE,type:_.b.STOP});return}N.isStartMutedBarrierActive&&(N.callLogger.info("Releasing start muted barrier"),N.isStartMutedBarrierActive=!1),N.audioVideoFacade.realtimeUnmuteLocalAudio(),(w=N.huddleEventsTrace)===null||w===void 0||w.update({name:_.a.MICROPHONE,type:_.b.START})})()}requestPreviewStreamForDeviceId(T,N,Q){N===oe.b.Camera&&this.handleCameraChanges({type:Te.START_PREVIEW,deviceId:T,videoElement:Q})}stopVideoPreviewForVideoInput(T){this.handleCameraChanges({type:Te.STOP_PREVIEW,videoElement:T||this.cameraPreviewVideoElement})}setCamera(T){T!==this.isCameraEnabled&&(this.isCameraEnabled=T,this.isCameraEnabled?(this.handleCameraChanges({type:Te.ENABLE}),this.maybeCheckSystemMediaAccess(c.i.CAMERA),this.maybeAutoSetPreferredDevice()):this.handleCameraChanges({type:Te.DISABLE}))}setCameraQuality(T,N,Q,w){this.audioVideoFacade.chooseVideoInputQuality(T,N,Q),this.audioVideoFacade.setVideoMaxBandwidthKbps(w)}audioVideoDidStart(){var T=this;return Object(n.coroutine)(function*(){T.updateAudioVideo()})()}updateAudioVideo(){var T=this;return Object(n.coroutine)(function*(){yield T.waitForInit,T.waitForAudioVideoSessionStarted.resolve(),T.applyAudioInitFix?yield T.initMediaWithAuthority():(T.updateMicrophone(),T.updateSpeaker(),T.isCameraEnabled&&T.updateCamera()),setTimeout(()=>{T.checkForEmptyAudioDevice()},5e3)})()}initDeviceTwice(T,N){var Q=this;return Object(n.coroutine)(function*(){const w=N==="microphone",Pe=m(()=>{w&&Q.checkForEmptyAudioDevice()},"checkForNoAudio"),Be=Date.now();yield T(),Q.callLogger.info(`initialized ${N} for the first time in ${Date.now()-Be} ms`),Pe();const _e=Date.now();yield Object(p.a)(`huddle-${N}-init`,T),Pe(),Q.callLogger.info(`initialized ${N} for the  second time in ${Date.now()-_e} ms`)})()}localVideoTileDidUpdate(T){(!T.boundVideoStream||!T.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${T.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!T.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}maybeBindAudioOutputElement(){var T=this;return Object(n.coroutine)(function*(){if(!T.isAudioOutputElementBound&&T.audioOutputElement){try{yield T.audioVideoFacade.bindAudioElement(T.audioOutputElement)}catch(N){T.callLogger.info(`bindAudioElement failed: error: ${N.name}, message: ${N.message}`);return}T.isAudioOutputElementBound=!0}})()}maybeCheckSystemMediaAccess(T){var N=this;return Object(n.coroutine)(function*(){if(!Object(b.i)())return N.browserMediaAccessChecker?N.browserMediaAccessChecker.getAccessStatusForDeviceType(T):(N.callLogger.warn("DeviceManager::getMediaAccessStatus browserMediaAccessChecker was not available"),{isAvailable:!1,status:oe.d.NotDetermined});if(N.hasCheckedSystemPermissions[T])return N.hasCheckedSystemPermissions[T];if(Object(b.p)()&&Object(b.j)("4.8.0"))try{const Q=yield Object(j.S)(T);if(N.hasCheckedSystemPermissions[T]=Q,N.callLogger.info(`DeviceManager::getMediaAccessStatus ${T} electron API available: ${Q.isAvailable} and status: ${Q.status}`),!Q.isAvailable)return{isAvailable:!1,status:oe.d.NotDetermined};if(Q.status===oe.d.Granted)return N.observer.onDeviceAccessApproved(T),Q;let w;return Q.status===oe.d.NotDetermined&&(w=T==="screen"?null:yield Object(j.b)(T),N.callLogger.info(`DeviceManager::askForMediaAccess ${T} electron API available: ${!!(w!=null&&w.isAvailable)} and isConsentGranted: ${w==null?void 0:w.isGranted}`),T!=="screen"&&(w!=null&&w.isGranted))?(N.observer.onDeviceAccessApproved(T),{status:oe.d.Granted,isAvailable:!0}):((Q.status===oe.d.Denied||w&&!w.isGranted)&&N.observer.onCheckSystemMediaAccess(T),Q)}catch(Q){N.callLogger.info(`DeviceManager::Error retrieving system access for ${T}: ${Q}`)}else if(N.options.useGetMediaAccessCheckForWindows&&Object(b.x)()&&Object(b.j)("4.9.0"))try{const Q=yield Object(j.S)(T);return N.hasCheckedSystemPermissions[T]=Q,N.callLogger.info(`DeviceManager::getMediaAccessStatus::Windows ${T} electron API available: ${Q.isAvailable} and status: ${Q.status}`),Q.isAvailable?Q.status===oe.d.Granted?(N.observer.onDeviceAccessApproved(T),Q):(Q.status===oe.d.Denied&&N.observer.onCheckSystemMediaAccess(T),Q):{isAvailable:!1,status:oe.d.NotDetermined}}catch(Q){N.callLogger.info(`Windows::DeviceManager::Error::Windows retrieving system access for ${T}: ${Q}`)}return{isAvailable:!1,status:oe.d.NotDetermined}})()}audioInputsChanged(T){this.callLogger.info("DeviceManager::audioInputsChanged"),this.audioInputDevices=T,this.enumerateDevices(),this.updateMicrophone(),this.logDevices([oe.b.Microphone]),this.lastAudioInputDevicesUpdateTime=Date.now(),this.observer.onClearNoMediaInput(c.i.MICROPHONE)}audioInputMuteStateChanged(T,N){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${T}, ${N?"muted":"unmuted"}`)}audioInputStreamEnded(T){if(!T)return;this.callLogger.info("DeviceManager::audioInputStreamEnded");const N=this.audioInputDevices;this.audioInputDeviceRefreshTimer&&clearTimeout(this.audioInputDeviceRefreshTimer),this.lastAudioInputStreamEndTime=Date.now();var Q=this;this.audioInputDeviceRefreshTimer=setTimeout(Object(n.coroutine)(function*(){const w=yield Q.audioVideoFacade.listAudioInputDevices();Q.deviceInfoArrayComparator(w,N)&&(Q.callLogger.warn("Call audio stream ended unexpectedly"),Q.observer.onSetNoMediaInput(c.i.MICROPHONE),Object(U.a)(W.EventId.CALLS_AUDIO_STREAM_ENDED_UNEXPECTEDLY,{audioInputDevicesUpdated:Q.lastAudioInputDevicesUpdateTime&&Q.lastAudioInputDevicesUpdateTime>Q.lastAudioInputStreamEndTime})),Q.audioInputDeviceRefreshTimer=null}),Ne)}audioOutputsChanged(T){this.callLogger.info("DeviceManager::audioOutputsChanged"),this.audioOutputDevices=T,this.enumerateDevices(),this.updateSpeaker(),this.logDevices([oe.c]),this.observer.onClearNoAudioOutput(c.k.AUDIO_ELEMENT_ERROR)}videoInputsChanged(T){const N=this.getPreferredDevice(oe.b.Camera),Q=Object(v.a)(T,w=>w.deviceId===(N==null?void 0:N.id));this.callLogger.info("DeviceManager::videoInputsChanged"),this.videoInputDevices=T,this.enumerateDevices(),this.logDevices([oe.b.Camera]),this.lastVideoInputDevicesUpdateTime=Date.now(),!Q&&this.isCameraEnabled?(this.callLogger.info("DeviceManager::triggering camera stop due to active camera no longer being available"),this.observer.onSetNoMediaInput(c.i.CAMERA)):this.observer.onClearNoMediaInput(c.i.CAMERA)}videoInputStreamEnded(T){var N=this;return Object(n.coroutine)(function*(){if(!T)return;N.callLogger.info("DeviceManager::videoInputStreamEnded"),N.observer.onSetNoMediaInput(c.i.CAMERA);const Q=N.videoInputDevices;N.videoInputDeviceRefreshTimer&&clearTimeout(N.videoInputDeviceRefreshTimer),N.lastVideoInputStreamEndTime=Date.now(),N.videoInputDeviceRefreshTimer=setTimeout(Object(n.coroutine)(function*(){const w=yield N.audioVideoFacade.listVideoInputDevices();N.deviceInfoArrayComparator(w,Q)&&(N.callLogger.warn("Call video stream ended unexpectedly"),Object(U.a)(W.EventId.CALLS_VIDEO_STREAM_ENDED_UNEXPECTEDLY,{videoInputDevicesUpdated:N.lastVideoInputDevicesUpdateTime&&N.lastVideoInputDevicesUpdateTime>N.lastVideoInputStreamEndTime})),N.videoInputDeviceRefreshTimer=null}),He)})()}logDevices(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oe.a;Object(Oe.e)(this.callLogger,this.devices,T)}getPreferredDevice(T){return Object(se.a)(this.devices)[T]}enumerateDevices(T){const N=Object(g.a)(Object(se.c)(this.audioInputDevices?Object(P.a)(this.audioInputDevices):[],this.prefs.deviceIdPriorities[oe.b.Microphone],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[oe.b.Microphone]||[]),Object(se.c)(this.audioOutputDevices?Object(P.a)(this.audioOutputDevices):[],this.prefs.deviceIdPriorities[oe.c],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[oe.c]||[]),Object(se.c)(this.videoInputDevices?this.videoInputDevices:[],this.prefs.deviceIdPriorities[oe.b.Camera],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[oe.b.Camera]||[])),Q=Object(O.a)(N,(w,Pe)=>{const Be=Object(Oe.f)(Pe),_e=T&&T.id===Be.id&&T.type===Be.type,Ze=this.shouldDeprioritizeDevice({device:Be,isPreferredDevice:_e||this.getPreferredCameraId()===Be.id});return{...w,[Be.type]:_e&&!Ze?[Be,...w[Be.type]]:[...w[Be.type],Be]}},Object(Oe.d)());this.devices=Q,this.observer.onDevicesUpdated(Q)}handleCameraChanges(T){var N=this;return Object(n.coroutine)(function*(){switch(T.type){case Te.START_PREVIEW:yield N.runCameraActivityStartPreview(T);break;case Te.STOP_PREVIEW:yield N.runCameraActivityStopPreview(T);break;case Te.ENABLE:yield N.runCameraActivityEnable();break;case Te.DISABLE:yield N.runCameraActivityDisable();break;default:break}})()}getDeviceIdAndLabelForDefaultDevice(T,N,Q){if(T!==Oe.c&&T!==Oe.b||Q===oe.b.Camera)return{deviceId:T,deviceLabel:N};const w=Q===oe.c?this.audioOutputDevices:this.audioInputDevices;let Pe=null;if(Object(I.a)(w,Ze=>{if(!(!Ze||Ze.deviceId!==T))return Pe=Ze.groupId,!1}),!Pe)return{deviceId:T,deviceLabel:N};let Be=T,_e=N;return Object(I.a)(w,Ze=>{if(!(!Ze||Ze.groupId!==Pe||Ze.deviceId===Oe.c||Ze.deviceId===Oe.b))return Be=Ze.deviceId,_e=Ze.label,!1}),{deviceId:Be,deviceLabel:_e}}updateMicrophone(){var T=this;return Object(n.coroutine)(function*(){yield T.waitForAudioVideoSessionStarted;const N=T.getPreferredDevice(oe.b.Microphone);if(!N){T.callLogger.info("No audio input device found");return}const{deviceId:Q,deviceLabel:w}=T.getDeviceIdAndLabelForDefaultDevice(N.id,N.label,oe.b.Microphone);T.callLogger.info(`Selected audio input device: ${N.label||N.id}, deviceId: ${Q}, deviceLabel: ${w}`),T.detectBluetoothDevices();const Be={autoGainControl:T.prefs.audio?T.prefs.audio.enableAGC:!0,deviceId:Q},_e=T.shouldNoiseSuppressionBeDisabled(w);let Ze=!0;if(T.voiceFocusManager&&T.voiceFocusManager.isAvailable()&&(T.prefs.audio&&T.prefs.audio.enableNoiseSuppression)&&!_e&&!T.voiceFocusCPUThrottled){if(T.voiceFocusDevice||(T.voiceFocusDevice=yield T.voiceFocusManager.getTransformDevice()),T.voiceFocusDevice){const De=yield T.voiceFocusDevice.chooseNewInnerDevice(Be);De!==T.voiceFocusDevice&&(T.voiceFocusObserver=new de(T.handleVoiceFocusInsufficientResourcesEvent),T.voiceFocusDevice.addObserver(T.voiceFocusObserver)),T.voiceFocusDevice=De}T.voiceFocusDevice||(Ze=!1)}else Ze=!1;T.voiceFocusDevice&&Object(y.c)({name:y.a.VoiceFocusDevice,ref:T.voiceFocusDevice}),T.callLogger.info("Noise suppression:",Ze?"enabled":"disabled");try{if(T.isStartMutedBarrierActive){var qe;T.callLogger.info("Start muted barrier active"),T.audioVideoFacade.realtimeMuteLocalAudio(),l.a.setMicMute(!0),(qe=T.audioLevelMonitor)===null||qe===void 0||qe.setIsMuted(!0)}if(Ze)if(T.voiceFocusDevice)yield T.initAudioInput(T.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(Be.noiseSuppression=!0),yield T.initAudioInput(Be)}catch(De){T.callLogger.error(`chooseAudioInputDevice failed: error: ${De.name}, message: ${De.message}`),De instanceof a.q?T.observer.onSelfPermissionUpdated(!0,oe.b.Microphone):T.observer.onSelfPermissionUpdated(!1,oe.b.Microphone);return}T.initAudioAnalyserForPreview(),T.setupAudioInputTrackHandler(),l.a.setMicDevice(Q,Ze,w),!(yield T.isMediaPermissionDeniedOnWindows(c.i.MICROPHONE))&&T.observer.onSelfPermissionUpdated(!1,oe.b.Microphone)})()}updateSpeaker(){var T=this;return Object(n.coroutine)(function*(){yield T.waitForAudioVideoSessionStarted;const N=T.getPreferredDevice(oe.c);if(!N){T.callLogger.info("No audio output device found");return}const{deviceId:Q,deviceLabel:w}=T.getDeviceIdAndLabelForDefaultDevice(N.id,N.label,oe.c);T.detectBluetoothDevices(),T.callLogger.info(`Selected audio output device id: ${N.label||N.id}, deviceId: ${Q}, deviceLabel: ${w}`),yield T.audioVideoFacade.chooseAudioOutput(Q),T.observer.onOutputDeviceChanged({id:N.id,type:oe.c})})()}updateCamera(){var T=this;return Object(n.coroutine)(function*(){yield T.waitForAudioVideoSessionStarted;const N=T.getPreferredDevice(oe.b.Camera);if(!N){T.callLogger.info("No video input device found");return}T.callLogger.info(`Selected video input device id: ${N.label||N.id}`);try{yield T.setCameraVideoInputDevice(N)}catch(Q){T.callLogger.info(`chooseVideoInputDevice failed: error: ${Q.name}, message: ${Q.message}`),Q instanceof a.q?T.observer.onSelfPermissionUpdated(!0,oe.b.Camera):T.observer.onSelfPermissionUpdated(!1,oe.b.Camera);return}(yield T.isMediaPermissionDeniedOnWindows(c.i.CAMERA))||T.observer.onSelfPermissionUpdated(!1,oe.b.Camera)})()}setCameraVideoInputDevice(T){var N=this;return Object(n.coroutine)(function*(){if(yield N.clearVideoTransformDeviceRefs(),N.options.backgroundVideoFilteringSetting===oe.a.NONE){yield N.initVideoInput(T.id);return}switch(N.prefs.video.effect){case H.a.Blur:{yield N.setCameraVideoInputDeviceWithBackgroundBlurFilter(T);break}case H.a.Background:{N.options.backgroundVideoFilteringSetting!==oe.a.Both?yield N.initVideoInput(T.id):yield N.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:T,selectedBackgroundImageKey:N.prefs.video.effectBgKey});break}default:{yield N.initVideoInput(T.id);break}}})()}setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(T){let{videoDevice:N,selectedBackgroundImageKey:Q}=T;var w=this;return Object(n.coroutine)(function*(){const Pe=N.label||N.id;if(Q===void 0){w.callLogger.info(`No background image key provided id: ${Pe}`),yield w.initVideoInput(N.id);return}const Be=Object(a.G)(),_e=Object(a.y)(),Ze=[];if(!(yield a.t.isSupported(w.chimeLogger))&&Je)return w.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",N);if(!(yield _e.isSupported())&&!Je)return w.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",N);const De=Y.b.find(et=>et.key===Q);if(De===void 0)return w.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",N);w.callLogger.info(`Enabling video input device with background image filter id: ${Pe}`);const Re=yield(yield fetch(De.url)).blob();if(w.isShuttingDown)return;const Fe={...w.defaultVideoProcessorOptions,imageBlob:Re};if(Je){if(w.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:ze},backgroundReplacement:{isEnabled:!0,backgroundImageURL:De.url,defaultColor:void 0}},w.videoFxProcessor=yield a.t.create(w.chimeLogger,w.videoFxConfig,Xe),!w.videoFxProcessor)return w.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",N);w.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${Pe}`),Ze.push(w.videoFxProcessor)}else{const et=yield _e.create(void 0,Fe);if(et)w.setupVideoBackgroundFrameProcessor({processor:et,backgroundEffect:ve.Image}),Ze.push(et);else return w.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",N)}w.callLogger.info(`Enabling video input device with background image replacement id: ${Pe}`);const Ge=new Be(w.chimeLogger,N.id,Ze);w.setVideoTransformDeviceRefs({transformDevice:Ge,processors:Ze}),yield w.initVideoInput(Ge),yield w.cleanupTransformDevicesAndCameraIfShuttingdown()})()}handleErrorApplyVideoEffects(T,N){var Q=this;return Object(n.coroutine)(function*(){const w=N.label||N.id;Q.callLogger.info(`${T}: ${w}`),yield Q.initVideoInput(N.id)})()}setCameraVideoInputDeviceWithBackgroundBlurFilter(T){var N=this;return Object(n.coroutine)(function*(){const Q=Object(a.G)(),w=Object(a.x)(),Pe=T.label||T.id;N.callLogger.info(`Enabling video input device with background blur filter id: ${Pe}`);const Be=[];if(Je){if(!(yield a.t.isSupported(N.chimeLogger)))return N.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",T);if(N.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:ze},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},N.videoFxProcessor=yield a.t.create(N.chimeLogger,N.videoFxConfig,Xe),!N.videoFxProcessor)return N.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",T);N.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${Pe}`),Be.push(N.videoFxProcessor)}else{if(!(yield w.isSupported()))return N.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",T);const Ze={...N.defaultVideoProcessorOptions,blurStrength:15},qe=yield w.create(void 0,Ze);if(!qe)return N.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",T);N.setupVideoBackgroundFrameProcessor({processor:qe,backgroundEffect:ve.Blur}),Be.push(qe)}N.callLogger.info(`Enabling video input device with background blur filter id: ${Pe}`);const _e=new Q(N.chimeLogger,T.id,Be);N.setVideoTransformDeviceRefs({transformDevice:_e,processors:Be}),yield N.initVideoInput(_e),yield N.cleanupTransformDevicesAndCameraIfShuttingdown()})()}cleanupTransformDevicesAndCameraIfShuttingdown(){var T=this;return Object(n.coroutine)(function*(){T.isShuttingDown&&(T.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),yield T.audioVideoFacade.stopVideoInput(),yield T.clearVideoTransformDeviceRefs())})()}initVideoInputDevices(){var T=this;return Object(n.coroutine)(function*(){const N=yield T.audioVideoFacade.listVideoInputDevices(),Q=N.length>0;return Q||T.observer.onSelfPermissionUpdated(!0,oe.b.Camera),T.videoInputDevices=N,T.prefs=Object(se.b)(),T.enumerateDevices(),Q})()}shouldNoiseSuppressionBeDisabled(T){const N=Object(b.o)();return N&&this.callLogger.info("Noise suppression disabled on Linux: ",T||"no device label"),N}runCameraActivityStartPreview(T){var N=this;return Object(n.coroutine)(function*(){const Q=T.deviceId,w=T.videoElement;!Q||!w||(N.cameraPreviewVideoElement=w,yield N.setPreferredCameraDeviceForPreview(Q),yield N.startCameraPreview())})()}runCameraActivityStopPreview(T){var N=this;return Object(n.coroutine)(function*(){const Q=T.videoElement;Q&&(Q!==N.cameraPreviewVideoElement&&N.callLogger.warn("Mismatch in preview video element"),N.audioVideoFacade.hasStartedLocalVideoTile()?N.detachStreamFromCameraPreview():N.stopCameraPreview(),delete N.cameraPreviewVideoElement)})()}runCameraActivityEnable(){var T=this;return Object(n.coroutine)(function*(){var N;!T.audioVideoFacade.hasStartedLocalVideoTile()&&T.cameraPreviewVideoElement&&T.stopCameraPreview(),yield T.updateCamera(),T.audioVideoFacade.hasStartedLocalVideoTile()||(T.waitForCameraReady=Object(d.a)(),T.audioVideoFacade.startLocalVideoTile(),yield T.waitForCameraReady.catch(()=>{T.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),T.runCameraActivityDisable()})),T.attachStreamToCameraPreview(),(N=T.huddleEventsTrace)===null||N===void 0||N.update({name:_.a.VIDEO,type:_.b.START})})()}runCameraActivityDisable(){var T=this;return Object(n.coroutine)(function*(){var N;T.detachStreamFromCameraPreview(),yield T.audioVideoFacade.stopVideoInput(),T.audioVideoFacade.stopLocalVideoTile(),(N=T.huddleEventsTrace)===null||N===void 0||N.update({name:_.a.VIDEO,type:_.b.STOP}),T.cameraPreviewVideoElement&&(yield T.updateCamera(),yield T.startCameraPreview())})()}startCameraPreview(){var T=this;return Object(n.coroutine)(function*(){T.cameraPreviewVideoElement&&(T.waitForCameraReady=Object(d.a)(),T.audioVideoFacade.startVideoPreviewForVideoInput(T.cameraPreviewVideoElement),T.cameraPreviewVideoElement.addEventListener("canplay",N=>{T.waitForCameraReady.resolve()}),yield T.waitForCameraReady)})()}stopCameraPreview(){var T=this;return Object(n.coroutine)(function*(){T.cameraPreviewVideoElement&&(T.audioVideoFacade.stopVideoPreviewForVideoInput(T.cameraPreviewVideoElement),yield T.audioVideoFacade.stopVideoInput())})()}attachStreamToCameraPreview(){var T;if(!this.cameraPreviewVideoElement)return;const N=(T=this.audioVideoFacade.getLocalVideoTile())===null||T===void 0?void 0:T.state();N&&N.boundVideoStream&&a.m.connectVideoStreamToVideoElement(N.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&a.m.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(T){var N,Q,w,Pe;const Be=((N=T.target)===null||N===void 0||(Q=N.error)===null||Q===void 0?void 0:Q.code)||"unavailable",_e=((w=T.target)===null||w===void 0||(Pe=w.error)===null||Pe===void 0?void 0:Pe.message)||T.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${Be}, message: ${_e}`),this.observer.onSetNoAudioOutput(c.k.AUDIO_ELEMENT_ERROR)}deviceInfoArrayComparator(T,N){return Object(C.a)(Object(f.a)(T,N,(Q,w)=>Q.deviceId===w.deviceId&&Q.groupId===w.groupId&&Q.kind===w.kind))}isMediaPermissionDeniedOnWindows(T){var N=this;return Object(n.coroutine)(function*(){if(N.options.useGetMediaAccessCheckForWindows&&Object(b.x)()&&Object(b.j)("4.9.0")){const Q=yield N.maybeCheckSystemMediaAccess(T);if(Q&&Q.status==="denied")return!0}return!1})()}initAudioAnalyserForPreview(){const T=Object(a.z)().getAudioContext();if(!T){this.callLogger.warn("Unable to get AudioContext");return}T.resume();const N=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(N){var Q;const w=new R(N);(Q=this.audioLevelMonitor)===null||Q===void 0||Q.setPreviewAudioAnalyser(w)}}setupAudioInputTrackHandler(){this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new re(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize()}constructor(T,N,Q,w,Pe=!1,Be,_e,Ze,qe){this.audioVideoFacade=T,this.audioOutputElement=N,this.observer=Q,this.options=w,this.isStartMutedBarrierActive=Pe,this.chimeLogger=Be,this.defaultDeviceController=_e,this.voiceFocusManager=Ze,this.applyAudioInitFix=qe,this.callLogger=Object(i.a)("DEVICES"),this.devices=Object(Oe.d)(),this.waitForCameraReady=Object(d.a)(),this.waitForInit=Object(d.a)(),this.waitForAudioVideoSessionStarted=Object(d.a)(),this.lastAudioInputDevicesUpdateTime=0,this.lastVideoInputDevicesUpdateTime=0,this.lastAudioInputStreamEndTime=0,this.lastVideoInputStreamEndTime=0,this.isAudioOutputElementBound=!1,this.voiceFocusCPUThrottled=!1,this.hasCheckedSystemPermissions={[c.i.MICROPHONE]:!1,[c.i.CAMERA]:!1,[c.i.SCREEN]:!1},this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:ze},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.continuityCameraDeviceIds={[oe.b.Camera]:null,[oe.b.Microphone]:null},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.maybeRemoveIphoneFromPriorities=Qe=>{let{selectedDeviceId:it,selectedDeviceType:Lt,newPrioritiesForSelectedType:Pt}=Qe;const rn=this.continuityCameraDeviceIds[Lt];rn&&(it!==rn?(Object(S.a)(Pt,nn=>nn===rn),this.callLogger.warn(`Iphone ${Lt} no longer selected. Removing from priority device list.`)):this.callLogger.warn(`Iphone ${Lt} manually selected by user.`))},this.checkForEmptyAudioDevice=()=>{var Qe,it,Lt;((Qe=this.defaultDeviceController)===null||Qe===void 0||(it=Qe.activeDevices)===null||it===void 0||(Lt=it.audio)===null||Lt===void 0?void 0:Lt.constraints)===null&&this.callLogger.warn("active microphone appears to be null/empty. no-audio bug may be occuring")};var De=this;this.initMediaWithAuthority=Object(n.coroutine)(function*(){const Qe=Date.now();yield De.initDeviceTwice(De.updateMicrophone,"microphone"),yield De.initDeviceTwice(De.updateSpeaker,"speaker"),De.isCameraEnabled&&(yield De.initDeviceTwice(De.updateCamera,"camera")),De.callLogger.info("All devices initialized in",Date.now()-Qe,"ms")}),this.maybeAutoSetPreferredDevice=()=>{this.getPreferredCameraId()?this.callLogger.info("Preferred camera is already set. No need to auto-set one."):(this.callLogger.warn("No preferred camera currently set. If current camera still in use in 10s, we will automatically set it as the preferred camera"),setTimeout(()=>{var it;const Lt=(it=this.getPreferredDevice(oe.b.Camera))===null||it===void 0?void 0:it.id,Pt=this.getPreferredCameraId();!this.isCameraEnabled||!Lt||Pt||(this.callLogger.info(`Setting preferred camera to ${Lt}`),this.setPreferredDevice(Lt,oe.b.Camera))},1e4))},this.getPreferredCameraId=()=>this.prefs.deviceIdPriorities.camera[0],this.detectBluetoothDevices=()=>{var Qe,it;const Lt=(Qe=this.devices[oe.b.Microphone])===null||Qe===void 0?void 0:Qe[0],Pt=(it=this.devices[oe.c])===null||it===void 0?void 0:it[0];if(!Lt||!Pt)return;const rn=["bluetooth","hands-free","airpods","wireless"],nn=m(un=>Object(D.a)(rn,An=>un==null?void 0:un.toLowerCase().includes(An)),"checkDeviceLabel"),Sn=nn(Lt.label),jn=nn(Pt.label),hn=Lt.groupId===Pt.groupId;he.a.publish({type:Se.c.BluetoothDevices,update:{isMicrophoneBluetooth:Sn,isSpeakerBluetooth:jn,isMicrophoneAndSpeakerOnSameDevice:hn}})},this.shouldDeprioritizeDevice=Qe=>{let{device:it,isPreferredDevice:Lt}=Qe;if(Lt)return!1;let Pt=!1;if(it.type!==oe.c){const rn=it.label;Object(b.p)()&&rn&&(Pt=!!/iphone/.test(rn.toLowerCase()))}return Pt&&(this.continuityCameraDeviceIds[it.type]=it.id),Pt};var le=this;this.handleVoiceFocusInsufficientResourcesEvent=Object(n.coroutine)(function*(){le.voiceFocusManager&&(he.a.publish({type:Se.c.VoiceFocusWarning}),le.voiceFocusManager.shouldDisable()&&(le.callLogger.warn("Voice Focus - disabling due to CPU throttle"),le.voiceFocusCPUThrottled=!0,le.voiceFocusDevice&&(yield le.voiceFocusDevice.stop()),yield le.voiceFocusManager.tearDown(),le.voiceFocusDevice=void 0,yield le.updateMicrophone()))}),this.setVideoTransformDeviceRefs=Qe=>{let{transformDevice:it,processors:Lt}=Qe;this.currentVideoTransformDevice=it,this.currentVideoFrameProcessors=Lt,Object(y.c)({name:y.a.VideoTransformDevice,ref:it})},this.setupVideoBackgroundFrameProcessor=Qe=>{let{processor:it,backgroundEffect:Lt}=Qe;var Pt;this.clearVideoBackgroundFrameProcessor(),!Je&&(this.currentVideoFrameProcessor=it,this.currentVideoFrameProcessorObserver=new ce({backgroundEffect:Lt}),(Pt=this.currentVideoFrameProcessor)===null||Pt===void 0||Pt.addObserver(this.currentVideoFrameProcessorObserver),Object(y.c)({name:y.a.VideoFrameProcessor,ref:it}))},this.clearVideoBackgroundFrameProcessor=()=>{Je||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)};var Re=this;this.clearVideoTransformDeviceRefs=Object(n.coroutine)(function*(){Re.clearVideoBackgroundFrameProcessor(),Re.currentVideoFrameProcessors&&(Re.currentVideoFrameProcessors.forEach(Qe=>{Qe.destroy()}),Re.currentVideoFrameProcessors.length=0,Re.currentVideoFrameProcessors=void 0),Re.currentVideoTransformDevice&&(yield Re.currentVideoTransformDevice.stop(),Re.currentVideoTransformDevice=void 0)});var Fe=this;this.initAudioInput=function(){var Qe=Object(n.coroutine)(function*(it){var Lt;if(!it)return;Fe.callLogger.info("[NO-AUDIO-DEBUG] Starting audio input"),yield Fe.audioVideoFacade.startAudioInput(it);let Pt="";if(!((Lt=it)===null||Lt===void 0)&&Lt.device){var rn,nn,Sn,jn,hn;Pt+=`${!((rn=it)===null||rn===void 0)&&rn.failed?"failed":"succeeded"}`,Pt+=` - audio context state: ${(nn=it.node)===null||nn===void 0||(Sn=nn.context)===null||Sn===void 0?void 0:Sn.state}`,Pt+=` - deviceId: ${(jn=it)===null||jn===void 0||(hn=jn.device)===null||hn===void 0?void 0:hn.deviceId}`}else{var un;Pt+=` ${(un=it)===null||un===void 0?void 0:un.deviceId}`}Fe.callLogger.info(`[NO-AUDIO-DEBUG] Started audio input for device: ${Pt}`)});return function(it){return Qe.apply(this,arguments)}}();var Ge=this;this.initVideoInput=function(){var Qe=Object(n.coroutine)(function*(it){it&&(yield Ge.audioVideoFacade.startVideoInput(it),Ge.recordCameraResolution())});return function(it){return Qe.apply(this,arguments)}}(),this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var Qe,it,Lt,Pt,rn;if(this.isShuttingDown||!((Qe=this.audioVideoFacade)===null||Qe===void 0?void 0:Qe.hasStartedLocalVideoTile()))return;const Sn=this.audioVideoFacade.getLocalVideoTile(),jn=(it=Sn==null?void 0:Sn.state())===null||it===void 0?void 0:it.boundVideoStream,hn=jn==null?void 0:jn.getVideoTracks()[0];if(hn instanceof CanvasCaptureMediaStreamTrack){he.a.publish({type:Se.c.CameraResolution,update:{isCanvasStream:!0}});return}const un=hn==null?void 0:hn.getSettings(),An=hn==null?void 0:hn.getCapabilities(),mn=un==null?void 0:un.width,Nn=un==null?void 0:un.height,xn=un==null?void 0:un.frameRate,Vn=An==null||(Lt=An.width)===null||Lt===void 0?void 0:Lt.max,Wn=An==null||(Pt=An.height)===null||Pt===void 0?void 0:Pt.max,Bn=An==null||(rn=An.frameRate)===null||rn===void 0?void 0:rn.max;Vn&&Wn&&he.a.publish({type:Se.c.CameraResolution,update:{cameraWidth:mn,cameraHeight:Nn,cameraFrameRate:xn,cameraMaxWidth:Vn,cameraMaxHeight:Wn,cameraMaxFrameRate:Bn,isCanvasStream:!1}})}catch{}},5e3)},this.callLogger.info("Using device manager v2"),this.updateMicrophone=J(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=J(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=J(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=J(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=Object(se.b)(),this.addAudioElementErrorHandler(),this.options.useUpdatedAudioLevelMonitor&&this.callLogger.info("New updated audio level monitor being used"),this.audioLevelMonitor=this.options.useUpdatedAudioLevelMonitor?new X({runOnlyDuringMute:!0}):new F,Object(b.i)()||(this.browserMediaAccessChecker=new me(this.callLogger,this.audioVideoFacade,this.observer)),this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:Ue,reportingPeriodMillis:ye,logger:this.chimeLogger};const{huddleEventsTrace:et}=Object(M.a)().getAllTraceHandlers();this.huddleEventsTrace=et}},"DeviceManager");var Ke=e("DNzI"),$e=e("PsQx"),ct=e("zIak");let Tt=m(class{constructor(T,N,Q){this.sequenceNumber=T,this.message=N,this.timestampMs=Q}},"MeetingEvent"),Et=m(class wo{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler(T){var N=this;this.intervalScheduler.start(Object(n.coroutine)(function*(){if(N.getEventCaptureSize()===0)return;const Q=N.eventCapture.slice(0,T);try{N.postEvents(Q),N.eventCapture=N.eventCapture.slice(Q.length)}catch(w){N.log.error(w.message)}}))}stop(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,T,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent(T,N){const{meetingHistory:Q,...w}=N;try{const Pe=JSON.stringify({name:T,attributes:w});this.eventCapture.push(new Tt(this.sequenceNumber,Pe,Date.now())),this.sequenceNumber+=1}catch(Pe){this.log.error(Pe.message)}}postEvents(T){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var w;T.length===0&&!N&&!Q||(w=this.observer)===null||w===void 0||w.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,T,N,Q)}constructor(T,N,Q,w,Pe,Be=wo.DEFAULT_BATCH_SIZE,_e=wo.DEFAULT_INTERVAL_MS){this.observer=T,this.meetingId=N,this.mediaRegion=Q,this.attendeeId=w,this.callId=Pe,this.batchSize=Be,this.intervalMs=_e,this.eventCapture=[],this.sequenceNumber=0,this.log=Object(i.c)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new $e.a(this.intervalMs),this.startEventPublishScheduler(this.batchSize);var Ze=this;Object(ct.a)(Object(n.coroutine)(function*(){Ze.stop(!0)}))}},"MeetingEventLogger");Et.DEFAULT_BATCH_SIZE=100,Et.DEFAULT_INTERVAL_MS=65*60*1e3;var Le=e("m8R6"),jt=e("xt0X"),Dt=e("oJqn"),Ee=e("S4vl"),te=e("Z0Cl"),Ae=e("jF/p"),Ve=e("7EGn");const Ye=1e4,ft=3e4;class tt{observe(T){this.connections.push(T),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving(T){Object(S.a)(this.connections,T),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){var T=this;this.connections.forEach(function(){var N=Object(n.coroutine)(function*(Q){const w=Q.getPeerConnection();if(!w)return;const Pe=Rt(yield w.getStats());we(Q,Pe);const Be={...lt(Pe),send:Pe.sendTracks.map(_e=>at(_e,Pe)),recv:Pe.recvTracks.map(_e=>({...ht(_e,Pe),peerId:Q.getPeerIdFromRemoteStreamId(Pe.trackIdToStreamId[_e.id])}))};T.observer.onStats(Be)});return function(Q){return N.apply(this,arguments)}}())}constructor(T,N=Ye){this.observer=T,this.collectionIntervalMs=N,this.connections=[]}}m(tt,"stats_manager_StatsManager");function Rt(bt){const T=Array.from(bt.entries()),N=Object(O.a)(T,(Q,w)=>{let[Pe,Be]=w;return sn(Be)?Be.remoteSource===!0?Q.recvTracks.push(Be):Q.sendTracks.push(Be):Yt(Be)||zt(Be)?Be.trackId&&(Q.rtpStats[Be.trackId]=Be):dn(Be)?Q.transports[Be.id]=Be:Mt(Be)?Q.candidates[Be.id]=Be:yt(Be)?Q.candidatePairs[Be.id]=Be:tn(Be)?Q.codecs[Be.id]=Be:an(Be)?Be.trackIds&&Be.trackIds.forEach(_e=>{Q.trackIdToStreamId[_e]=Be.streamIdentifier}):on(Be)&&Be.trackIdentifier&&(Q.mediaSources[Be.trackIdentifier]=Be),Q},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return N.recvTracks=N.recvTracks.filter(Q=>N.trackIdToStreamId[Q.id]!==void 0),N}m(Rt,"groupStatsByType");function rt(bt){const T=Object(te.a)(bt.candidatePairs,_e=>!!_e.nominated),N=Object(Ae.a)(T,_e=>_e.priority);if(!N)return;const Q=Object(v.a)(bt.candidates,(_e,Ze)=>Ze===N.localCandidateId);if(!Q)return;let w=Q.candidateType==="relay"?Q.relayProtocol:Q.protocol;Q.candidateType==="prflx"&&(w+=" (unreliable)");const Pe="unknown";return{candidateType:Q.candidateType||Pe,networkType:Q.networkType||Pe,transportType:w||Pe}}m(rt,"getConnectionNetworkInfo");function we(bt,T){const N=rt(T);N&&bt.maybeLogNetworkInfo(N)}m(we,"reportConnectionNetworkInfo");const xe={nominal:1,fair:2,serious:3,critical:4};function st(){return ke.apply(this,arguments)}m(st,"makeAppMetricsStats");function ke(){return ke=Object(n.coroutine)(function*(){var bt;if(!Object(b.i)())return;let T,N,Q;if(j.C.isAvailable()){var w;const qe=yield Object(j.C)();if(!qe)return;T=qe.processMetrics,N=xe[qe.thermalState],Q=(w=qe.speedLimit)===null||w===void 0?void 0:w.limit}else T=yield Object(j.B)();if(!T)return;let Pe=null;const Be=T.reduce((qe,De)=>{var le,Re,Fe;return De.type==="GPU"&&(Pe=De),{cpu:qe.cpu+((De==null||(le=De.cpu)===null||le===void 0?void 0:le.percentCPUUsage)||0),memory:{workingSetSize:qe.memory.workingSetSize+Object(jt.b)((De==null||(Re=De.memory)===null||Re===void 0?void 0:Re.workingSetSize)||0),peakWorkingSetSize:qe.memory.peakWorkingSetSize+Object(jt.b)((De==null||(Fe=De.memory)===null||Fe===void 0?void 0:Fe.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),_e=Pe==null||(bt=Pe.cpu)===null||bt===void 0?void 0:bt.percentCPUUsage,Ze=_e?Be.cpu-Pe.cpu.percentCPUUsage:Be.cpu;return{...Be,cpuWithoutGpu:Ze,gpu:_e,thermalState:N,speedLimit:Q}}),ke.apply(this,arguments)}m(ke,"_makeAppMetricsStats");function lt(bt){const[T,...N]=Object.values(bt.transports);Object(Ee.b)(!N.length,"Can there be more than one transport stat in a report?");const Q=T&&T.selectedCandidatePairId,w=bt.candidatePairs[Q];if(!Q||!w)return;const Pe=bt.candidates[w.remoteCandidateId]||{};return{availableOutgoingBitrate:w.availableOutgoingBitrate||0,availableIncomingBitrate:w.availableIncomingBitrate||0,totalBytesSent:w.bytesSent,totalBytesReceived:w.bytesReceived,currentRoundTripTime:w.currentRoundTripTime,totalRoundTripTime:w.totalRoundTripTime,protocol:Pe.protocol==="udp"?Dt.a.calls.analytics.Protocol.UDP:Dt.a.calls.analytics.Protocol.TCP,pathType:Pe.candidateType==="host"?Dt.a.calls.analytics.PathType.DIRECT:Dt.a.calls.analytics.PathType.RELAY,clientTime:Date.now()}}m(lt,"makeConnectionStats");function at(bt,T){const N=T.rtpStats[bt.id]||{},Q={codec:Nt(N,T),bytesSent:N.bytesSent,packetsSent:N.packetsSent};if(bt.kind==="audio"){const w=bt.trackIdentifier?T.mediaSources[bt.trackIdentifier]:null;return w?{...Q,audioStats:{audioLevel:w.audioLevel,totalAudioEnergy:w.totalAudioEnergy,totalSamplesDuration:w.totalSamplesDuration,echoReturnLoss:w.echoReturnLoss,echoReturnLossEnhancement:w.echoReturnLossEnhancement}}:{...Q,audioStats:{audioLevel:bt.audioLevel,echoReturnLoss:bt.echoReturnLoss,echoReturnLossEnhancement:bt.echoReturnLossEnhancement}}}return{...Q,videoStats:{frameHeight:bt.frameHeight,frameWidth:bt.frameWidth,framesSent:bt.framesSent,hugeFramesSent:bt.hugeFramesSent,framesPerSecond:N.framesPerSecond,framesEncoded:N.framesEncoded}}}m(at,"makeOutboundMediaStats");function ht(bt,T){const N=T.rtpStats[bt.id]||{},Q={codec:Nt(N,T),bytesReceived:N.bytesReceived,packetsReceived:N.packetsReceived,packetsLost:N.packetsLost,fractionLost:N.fractionLost,jitter:N.jitter};return bt.kind==="audio"?{...Q,audioStats:{audioLevel:bt.audioLevel,jitterBufferDelay:bt.jitterBufferDelay,concealedSamples:bt.concealedSamples,concealmentEvents:bt.concealmentEvents}}:{...Q,videoStats:{firCount:N.firCount,nackCount:N.nackCount,pliCount:N.pliCount,sliCount:N.sliCount,frameHeight:bt.frameHeight,frameWidth:bt.frameWidth,framesPerSecond:bt.framesPerSecond,framesCorrupted:bt.framesCorrupted,framesDecoded:bt.framesDecoded,framesDropped:bt.framesDropped,framesReceived:bt.framesReceived}}}m(ht,"makeInboundMediaStats");function Nt(bt,T){const N=bt.codecId,Q=Object(Ve.a)(T.codecs,N),w=Object(Ve.a)(Q,"mimeType");return Jt(w)}m(Nt,"getCodecForRtpStat");function Jt(bt){switch(bt){case"video/VP8":return Dt.a.calls.analytics.Codec.VP8;case"video/VP9":return Dt.a.calls.analytics.Codec.VP9;case"video/H264":return Dt.a.calls.analytics.Codec.H264;case"audio/opus":return Dt.a.calls.analytics.Codec.OPUS;default:return Dt.a.calls.analytics.Codec.UNKNOWN}}m(Jt,"parseCodec");function zt(bt){return bt.type==="inbound-rtp"}m(zt,"isRecvRtpStat");function Yt(bt){return bt.type==="outbound-rtp"}m(Yt,"isSendRtpStat");function sn(bt){return bt.type==="track"}m(sn,"isTrackStat");function dn(bt){return bt.type==="transport"}m(dn,"isTransportStat");function Mt(bt){return bt.type==="local-candidate"||bt.type==="remote-candidate"}m(Mt,"isIceCandidateStat");function yt(bt){return bt.type==="candidate-pair"}m(yt,"isIceCandidatePairStat");function tn(bt){return bt.type==="codec"}m(tn,"isCodecStat");function an(bt){return bt.type==="stream"}m(an,"isStreamStat");function on(bt){return bt.type==="media-source"}m(on,"isMediaSourceStat");const ut="connectionstatechange",Ot="icecandidate",Wt="icecandidateerror",Ht="iceconnectionstatechange",Zt="negotiationneeded";let gn=m(class{get isActive(){return!Object(C.a)(this.listeners)}constructor(T){this.listeners={},this.clearScreenshareListeners=()=>{this.pc&&(Object.entries(this.listeners).forEach(N=>{let[Q,w]=N;this.pc.removeEventListener(Q,w)}),this.pc=void 0,this.listeners={},this.callLogger.info("Content share peer connection references cleaned up"))},this.registerScreensharePeerConnectionEventListeners=N=>{if(this.pc)return;const Q=Date.now();this.pc=N;const w={[ut]:Pe=>{this.callLogger.info(`Screenshare connection state is now ${N.connectionState}`),N.connectionState==="failed"&&this.callLogger.error("Screenshare connection failed"),N.connectionState==="connected"&&this.callLogger.info(`Screenshare connection established in no less than ${Date.now()-Q}ms`)},[Ot]:Pe=>{if(Pe.candidate){const{sdpMLineIndex:Be,sdpMid:_e}=Pe.candidate;this.callLogger.info(`Received screenshare ICE candidate with m-line index: ${Be}, MID: ${_e}`)}else this.callLogger.info("All screenshare ICE candidates have been gathered")},[Wt]:Pe=>{this.callLogger.error(`Screenshare ICE Candidate Error occurred. Error Code: ${Pe.errorCode}, Error Text: ${Pe.errorText}, URL: ${Pe.url}`)},[Ht]:()=>{this.callLogger.info(`Screenshare ICE Connection state is: ${N.iceConnectionState}`),(N.iceConnectionState==="failed"||N.iceConnectionState==="disconnected")&&this.callLogger.error("Screenshare ICE Connection failed or disconnected")},[Zt]:()=>{const{connectionState:Pe,signalingState:Be,iceGatheringState:_e,iceConnectionState:Ze}=N;this.callLogger.info(`Screenshare connection negotiation needed. Current connection details: ConnectionState: ${Pe}, SignalingState: ${Be}, IceGatheringState: ${_e}, IceConnectionState: ${Ze}`)}};Object.entries(w).forEach(Pe=>{let[Be,_e]=Pe;this.pc.addEventListener(Be,_e)}),this.listeners=w},this.callLogger=T}},"ScreensharePeerConnectionManager");const Pn=gn;var Mn=gn;const pt=5e3;let _t=m(class{constructor(T,N){this.audioVideoFacade=T,this.observer=N,this.callLogger=Object(i.a)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1;var Q=this;this.onMetricsDidReceive=function(){var Be=Object(n.coroutine)(function*(_e){if(!_e)return;const Ze=yield Q.collectScreenshareStats();Q.reportAppMetrics({clientMetricReport:_e,screenshareRtcStats:Ze})});return function(_e){return Be.apply(this,arguments)}}(),this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const Be=setInterval(()=>{if(!this.isDisconnected){clearInterval(Be);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},pt)},this.cleanup=()=>{var Be;!((Be=this.screensharePeerConnectionManager)===null||Be===void 0)&&Be.isActive&&this.screensharePeerConnectionManager.clearScreenshareListeners(),this.screensharePeerConnectionManager=void 0};var w=this;this.collectScreenshareStats=Object(n.coroutine)(function*(){let Be;try{var _e,Ze;const le=(_e=w.audioVideoFacade.contentShareController.contentAudioVideo)===null||_e===void 0?void 0:_e.rtcPeerConnection;if(!le){var qe;!((qe=w.screensharePeerConnectionManager)===null||qe===void 0)&&qe.isActive&&w.screensharePeerConnectionManager.clearScreenshareListeners();return}if(!(!((Ze=w.screensharePeerConnectionManager)===null||Ze===void 0)&&Ze.isActive)){var De;(De=w.screensharePeerConnectionManager)===null||De===void 0||De.registerScreensharePeerConnectionEventListeners(le)}Be=yield le.getStats()}catch{w.callLogger.error("An error occurred attempting to read content share stats.")}return Be});var Pe=this;this.reportAppMetrics=Object(n.coroutine)(function*(){let{clientMetricReport:Be,screenshareRtcStats:_e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Be&&!Pe.isDisconnected)return;Pe.isDisconnected&&Be&&(Pe.isDisconnected=!1);const Ze=yield Pe.collectAppMetrics();Pe.observer.onAppMetrics({appMetrics:Ze,clientMetricReport:Be,screenshareRtcStats:_e})}),this.collectAppMetrics=Object(n.coroutine)(function*(){const Be=yield st();if(!Be)return;let _e=Be;return Be&&(_e=Object(Le.a)({...Be,cpu:Be.cpuWithoutGpu},"cpuWithoutGpu")),_e}),l.a.setObserver(this.observer),this.screensharePeerConnectionManager=new Mn(this.callLogger)}},"HuddlesStatsManager"),xt=m(class{start(){var T;this.isSignallingOnly=!1,(T=this.videoStreamsManager)===null||T===void 0||T.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}stop(){var T=this;return Object(n.coroutine)(function*(){T.isSignallingOnly?(T.waitForStart.resolve(),T.waitForStop.resolve(!0)):yield T.waitForStart,T.isStopRequested=!0,T.audioVideoFacade.stop()})()}audioVideoDidStartConnecting(T){if(!T)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var N,Q,w;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(N=this.statsManager)===null||N===void 0||(Q=N.reportDisconnect)===null||Q===void 0||Q.call(N),(w=this.huddleReconnectTracer)===null||w===void 0||w.traceReconnectAttempt(),this.isReconnecting=!0}}audioVideoDidStart(){if(this.callLogger.info("Chime audio video session started"),this.isReconnecting){var T;this.callLogger.info("Successfully re-connected to Huddle"),(T=this.huddleReconnectTracer)===null||T===void 0||T.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(N=>N.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop(T){var N,Q,w,Pe;const Be=a.p[T.statusCode()],_e=`Chime session stopped. StatusCode: ${Be}`;if(this.callLogger.info(_e),this.isReconnecting&&T.isFailure()){var Ze;this.callLogger.info("Failed to re-connect to Huddle"),(Ze=this.huddleReconnectTracer)===null||Ze===void 0||Ze.traceReconnectAttemptOutcome({isSuccess:!1})}this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(N=this.videoStreamsManager)===null||N===void 0||N.removeObserver(this),(Q=this.meetingEventLogger)===null||Q===void 0||Q.stop(),delete this.meetingEventLogger,(Pe=(w=this.statsManager).cleanup)===null||Pe===void 0||Pe.call(w),delete this.statsManager,this.dataChannelSubscribers.forEach(qe=>qe.onDisconnectDataChannel()),!this.isStopRequested&&T.isTerminal()&&(this.observer.onClogError(_e),this.observer.onError(c.n.CallEnded,Be)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate(T){if(!T.boundVideoStream||!T.boundAttendeeId){T.tileId&&this.observer.onVideoTileRemoved(T.tileId);return}const N=new a.l(T.boundAttendeeId).base();this.selfAttendeeId===N?(this.deviceManager.localVideoTileDidUpdate(T),this.observer.onSelfVideoTileUpdate(T)):this.observer.onPeerVideoTileUpdate(N,T)}videoTileWasRemoved(T){this.consoleLog.info(`Video tile removed: tileId=${T}`),this.observer.onVideoTileRemoved(T)}videoAvailabilityDidChange(T){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${T.remoteVideoAvailable}, CanStartLocalVideo=${T.canStartLocalVideo}`)}metricsDidReceive(T){var N=this;return Object(n.coroutine)(function*(){var Q;(Q=N.statsManager)===null||Q===void 0||Q.onMetricsDidReceive(T)})()}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){this.callLogger.warn("SDK suggested stop video, maybe poor connection")}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange(T){var N;(N=this.videoStreamsManager)===null||N===void 0||N.remoteVideoSourcesDidChange(T)}tileWillBePausedByDownlinkPolicy(T){this.observer.onVideoTileWillPause(T)}tileWillBeUnpausedByDownlinkPolicy(T){this.observer.onVideoTileWillUnpause(T)}constructor(T,N,Q,w,Pe,Be,_e,Ze,qe,De,le=[]){this.selfAttendeeId=T,this.meetingId=N,this.mediaRegion=Q,this.callId=w,this.audioVideoFacade=Pe,this.observer=Be,this.deviceManager=_e,this.videoStreamsManager=Ze,this.dataChannelSubscribers=le,this.callLogger=Object(i.c)("FREE-WILLY-AV"),this.consoleLog=Object(i.b)("FREE-WILLY-AV"),this.waitForStart=Object(d.a)(),this.waitForStop=Object(d.a)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,qe&&(this.waitForStart=qe),De&&(this.waitForStop=De),this.statsManager=new _t(Pe,Be),this.meetingEventLogger=new Et(Be,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=Object(M.a)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var en=e("3Hq1"),Cn=e("WcgR"),pn=e("sgFo"),fn=e("+lUI"),Ln=e("c7sk"),_n=e("HlBM"),Un=e("Atq3"),Dn=e("QIbu");function nt(){switch(Object(j.Z)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}m(nt,"getScaleFactorForCurrentZoomLevel");function St(bt,T){const[N,Q]=bt;return[N*T,Q*T]}m(St,"getScaledCoordinates");function Ut(bt,T){var N;const w=Object(b.i)()&&!Object(b.j)("4.18.0")?1/nt():1,Pe=((N=bt.itemId)===null||N===void 0?void 0:N.toString())||null,Be=bt.itemId==="self"?T:Pe;switch(bt.type){case c.c.New:case c.c.Edit:{const[_e,Ze]=St(bt.segment.a,w),[qe,De]=St(bt.segment.b,w),[le,Re]=St(bt.segment.c,w),[Fe,Ge]=St(bt.segment.d,w);return{itemId:Be,type:bt.type===c.c.New?_n.a.Draw.Type.NEW:_n.a.Draw.Type.EDIT,segment:{a:{x:_e,y:Ze},b:{x:qe,y:De},c:{x:le,y:Re},d:{x:Fe,y:Ge}}}}case c.c.End:return{itemId:Be,type:_n.a.Draw.Type.END};case c.c.ChangeHue:return{itemId:Be,type:_n.a.Draw.Type.CHANGE_HUE,hue:bt.hue};case c.c.Position:return{itemId:Be,type:_n.a.Draw.Type.POSITION,x:bt.x,y:bt.y};default:return Object(Un.a)(bt)}}m(Ut,"convertDrawMessageToPeerMessage");function Gt(bt,T){const N=bt.itemId===T?"self":bt.itemId;switch(bt.type){case _n.a.Draw.Type.NEW:case _n.a.Draw.Type.EDIT:{const w=Object(b.i)()&&!Object(b.j)("4.18.0")?nt():1;return{itemId:N,type:bt.type===_n.a.Draw.Type.NEW?c.c.New:c.c.Edit,segment:{a:[(bt.segment.a.x||0)*w,(bt.segment.a.y||0)*w],b:[(bt.segment.b.x||0)*w,(bt.segment.b.y||0)*w],c:[(bt.segment.c.x||0)*w,(bt.segment.c.y||0)*w],d:[(bt.segment.d.x||0)*w,(bt.segment.d.y||0)*w]}}}case _n.a.Draw.Type.END:return{itemId:N,type:c.c.End};case _n.a.Draw.Type.CHANGE_HUE:return{itemId:N,type:c.c.ChangeHue,hue:bt.hue};case _n.a.Draw.Type.POSITION:return{itemId:N,type:c.c.Position,x:bt.x,y:bt.y};default:Object(Ee.b)("Unhandled draw message case");return}}m(Gt,"convertPeerMessageToDrawMessage");function On(bt){let T=Dn.d.Standard;return bt.type&&bt.type===_n.a.Reacji.Type.Effect&&(T=Dn.d.Effect),T}m(On,"convertFromPeerReactionType");function Xt(bt){let T=_n.a.Reacji.Type.Standard;return bt===Dn.d.Effect&&(T=_n.a.Reacji.Type.Effect),T}m(Xt,"convertToPeerReactionType");var qt=e("wMt+");let Qt=m(class Zo{updatePresence(T,N){N?this.attendeesStates.set(T,this.initializeState()):this.attendeesStates.delete(T)}calculateScore(T,N,Q){const w=this.attendeesStates.get(T);if(!w||(Q!==null&&(w.muted=Q),w.muted))return 0;const Pe=Date.now();if(N){w.noiseFloor=this.updateNoiseFloor(w,N);const Be={timestamp:Pe,volume:N};w.volumeSamples.push(Be)}return this.pruneVolumeSamples(w),this.getScore(w,Pe)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor(T,N){let Q=T.noiseFloor;return N>Q?Q=(1-this.params.slowAttackFactor)*Q+this.params.slowAttackFactor*N:Q=(1-this.params.fastDecayFactor)*Q+this.params.fastDecayFactor*N,Math.min(Q,this.params.noiseFloorMax)}pruneVolumeSamples(T){const N=Date.now()-this.params.analysisWindowMs,Q=T.volumeSamples;for(;Q.length&&Q[0].timestamp<N;)Q.shift()}getScore(T,N){return T.volumeSamples.reduce((Q,w)=>{const Pe=Math.max(1,Math.ceil((N-w.timestamp)/1e3));return Q+Math.max(0,w.volume-T.noiseFloor)/Pe},0)}constructor(T=c.o.DampedSwitching){this.windowedActiveSpeakerPolicyMode=T,this.attendeesStates=new Map,this.windowedActiveSpeakerPolicyMode===c.o.FastSwitching?this.params=Zo.FAST_SWITCHING_PARAMS:this.params=Zo.DAMPED_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");Qt.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},Qt.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let $n=m(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee(T){new a.l(T).hasModality(a.l.MODALITY_CONTENT)||this.disconnectedAttendees.has(T)||(this.disconnectedAttendees.set(T,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee(T){this.disconnectedAttendees.delete(T),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee(T){return this.disconnectedAttendees.has(T)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const T=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);T&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max(T-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const T=[],N=Date.now();this.disconnectedAttendees.forEach((Q,w)=>{N>Q&&(this.observer.onStalePeer(w),T.push(w))}),T.forEach(Q=>{this.disconnectedAttendees.delete(Q)}),this.maybeStartTimer()}constructor(T,N){this.timeoutMs=T,this.observer=N,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var os=e("cZF4"),Ps=e("4TP3"),Ws=e("mkut"),Is=e("qMRW");let vs=m(class{addSelf(T){this.selfId=T,this.addPeer(T)}removeSelf(T){Object(Ee.b)(T===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer(T)}addPeer(T){this.ids=Object(os.a)(this.ids,[T]),Object(I.a)(this.cachedPeerStates[T],(Q,w)=>{this.peerStateForwarder[w]&&!Object(en.a)(Q)&&this.peerStateForwarder[w](T,Q)}),delete this.cachedPeerStates[T];const N=[];Object(I.a)(this.cachedCallState,(Q,w)=>{this.callStateForwarder[w]&&!Object(en.a)(Q)&&this.callStateForwarder[w].getPeerIdFn(Q)===T&&(this.callStateForwarder[w].forwardFn(Q),this.callStateForwarder[w].isCached||N.push(w))}),this.cachedCallState=Object(Le.a)(this.cachedCallState,N)}removePeer(T){Object(Ps.a)(this.ids,T),Object(I.a)(Object(Ws.a)(this.cachedCallState),N=>{if(this.callStateForwarder[N]){const Q=this.callStateForwarder[N].removeFn(this.cachedCallState[N],T);if(!Q){delete this.cachedCallState[N];return}this.cachedCallState[N]=Q}})}getPeers(){return this.ids}hasPeer(T){return this.ids.includes(T)}hasAttendee(T){return this.hasPeer(T)||T===this.selfId}updateCallState(T){const N=T;Object(I.a)(T,(Q,w)=>{this.callStateForwarder[w]&&(N[w]=this.callStateForwarder[w].updateFn(this.cachedCallState[w],Q))}),Object(I.a)(this.callStateForwarder,(Q,w)=>{this.forwardOrCacheCallState([N],w,Q)})}updatePeerStates(T){Object(I.a)(this.peerStateForwarder,(N,Q)=>{this.forwardOrCachePeerState(T,Q,N)})}setIncludeSelfAndNoneActiveSpeaker(T,N){T===this.includeSelf&&N===this.includeNone||(this.includeSelf=T,this.includeNone=N,Object(I.a)(this.cachedCallState,(Q,w)=>{this.callStateForwarder[w]&&!Object(en.a)(Q)&&this.callStateForwarder[w].forwardFn(Q)}))}forwardOrCachePeerState(T,N,Q){T.filter(Pe=>!Object(en.a)(Pe.state[N])).map(Pe=>({id:Pe.peerId,value:Pe.state[N]})).forEach(Pe=>{let{id:Be,value:_e}=Pe;this.ids.includes(Be)?Q(Be,_e):this.cachedPeerStates[Be]={...this.cachedPeerStates[Be],[N]:_e}})}forwardOrCacheCallState(T,N,Q){T.filter(Pe=>!Object(en.a)(Pe[N])).map(Pe=>({value:Pe[N]})).forEach(Pe=>{let{value:Be}=Pe;const _e=Q.getPeerIdFn(Be);let Ze=!1;_e&&(this.ids.includes(_e)||_e===this.NO_ACTIVE_SPEAKER)?Q.forwardFn(Be):Ze=!0,(Ze||Q.isCached)&&(this.cachedCallState={...this.cachedCallState,[N]:Be})})}getAttendeeId(T){return new a.l(T).base()}constructor(T){this.observer=T,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(N,Q)=>{const w=N||[],Pe=Q&&Q.length?Q[0]:this.NO_ACTIVE_SPEAKER;return Object(Is.a)(w,[Pe,this.NO_ACTIVE_SPEAKER]),w.unshift(Pe),w},removeFn:(N,Q)=>{if(N)return Object(Ps.a)(N,Q),N},getPeerIdFn:N=>{const Q=N.filter(w=>w===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(w));if(Q.length)return Q[0]},forwardFn:N=>{const Q=N.filter(w=>w===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(w));!Q.length||Q[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===Q[0]?"self":Q[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(N,Q)=>{this.observer.onPeerDrawEnabled(N,Q)}}}},"PeerCache");var Ts=e("uslK");let zn=m(class{destroy(){var T,N,Q;(T=this.peerCache)===null||T===void 0||T.getPeers().forEach(w=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(w)),delete this.peerCache,(N=this.staleAttendeeChecker)===null||N===void 0||N.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),(Q=this.audioVideoFacade.transcriptionController)===null||Q===void 0||Q.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled(T){this.sendPeerMessageOverDataChannel(new _n.a({capabilities:{isDrawEnabled:T},fromPeerIdString:this.selfAttendeeId}))}sendReacji(T,N){let Q;N?Q={emoji:T,type:Xt(N)}:Q={emoji:T},this.sendPeerMessageOverDataChannel(new _n.a({reacji:Q,fromPeerIdString:this.selfAttendeeId}))}sendBackground(T){this.sendPeerMessageOverDataChannel(new _n.a({background:{url:T},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest(T){this.sendPeerMessageOverDataChannel(new _n.a({muteRequest:{peerId:T},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest(T){this.sendPeerMessageOverDataChannel(new _n.a({jukeboxRequest:{songKey:T},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new _n.a({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage(T){this.sendPeerMessageOverDataChannel(new _n.a({draw:Ut(T,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails(T){this.sendPeerMessageOverDataChannel(new _n.a({contentShareDetails:{sourceType:T,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}onStalePeer(T){this.callLogger.info(`Removing stale peer: ${T}`),this.attendeeLeft(T),this.observer.onPeerDisconnected(T),this.observer.onPeerLeft(T)}setIncludeSelfAndNoneActiveSpeaker(T,N){var Q;(Q=this.peerCache)===null||Q===void 0||Q.setIncludeSelfAndNoneActiveSpeaker(T,N)}attendeeJoined(T){if(T===this.selfAttendeeId){var N;(N=this.peerCache)===null||N===void 0||N.addSelf(T)}else{var Q;(Q=this.peerCache)===null||Q===void 0||Q.addPeer(T)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator(T,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${T} volume indicator`)}attendeeLeft(T){if(T===this.selfAttendeeId){var N;(N=this.peerCache)===null||N===void 0||N.removeSelf(T)}else{var Q;(Q=this.peerCache)===null||Q===void 0||Q.removePeer(T)}this.audioVideoFacade.removeVideoTilesByAttendeeId(T),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(T),this.consoleLog.info(`Unsubscribed from attendee=${T} volume indicator`)}sendPeerMessageOverDataChannel(T){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,_n.a.encode(T).finish()):this.logFailureToSendPeerMessage(T)}isAttendeeOfTypeContent(T){return new a.l(T).hasModality(a.l.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback(T,N,Q,w){var Pe;if(this.consoleLog.info(`Attendee presence: attendeeId=${T}, isSelf=${this.selfAttendeeId===new a.l(T).base()}, present=${N}, externalUserId=${Q}, dropped=${w}`),(Pe=this.windowedActiveSpeakerPolicy)===null||Pe===void 0||Pe.updatePresence(T,N),this.isAttendeeOfTypeContent(T)){N||this.audioVideoFacade.removeVideoTilesByAttendeeId(T);return}if(!Q){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${T}`),this.observer.onClogError("MissingExternalUserId");return}let Be=null;if(N){var _e;w===!1&&!(!((_e=this.peerCache)===null||_e===void 0)&&_e.hasAttendee(T))?Be="joined":Be="reconnected"}else w===!0?Be="disconnected":Be="left";if(Be===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===T)switch(Be){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${Be}`);return}else{const le=Object(Ln.a)(Q);if(!le){this.callLogger.error(`No externalUserId for ${T}`);return}switch(Be){case"joined":{var Ze;(Ze=this.staleAttendeeChecker)===null||Ze===void 0||Ze.deleteDisconnectedAttendee(T),this.observer.onPeerJoined(T,le),this.observer.onPeerConnected(T),this.updatePeerVideoTile(T);break}case"left":this.observer.onPeerDisconnected(T),this.observer.onPeerLeft(T);break;case"disconnected":var qe;(qe=this.staleAttendeeChecker)===null||qe===void 0||qe.addDisconnectedAttendee(T),this.observer.onPeerDisconnected(T);break;case"reconnected":{var De;(De=this.staleAttendeeChecker)===null||De===void 0||De.deleteDisconnectedAttendee(T),this.observer.onPeerConnected(T),this.updatePeerVideoTile(T);break}default:this.callLogger.error(`unknown peer event ${Be}`);return}}Be==="joined"&&this.attendeeJoined(T),Be==="left"&&this.attendeeLeft(T)}realtimeFatalErrorCallback(T){this.callLogger.error(`Chime session fatal error: name=${T.name}, message=${T.message}`),this.observer.onClogError(`FatalError: ${T.name} - ${T.message}`)}realtimeLocalSignalStrengthChangeCallback(T){this.consoleLog.debug(`Local attendee signalStrength=${T}`)}realtimeMuteAndUnmuteLocalAudioCallback(T){this.callLogger.debug(`Local attendee mute=${T}`),this.observer.onPeerMuted("self",T)}realtimeSetCanUnmuteLocalAudioCallback(T){this.consoleLog.debug(`Local attendee can unmute = ${T}`)}realtimeVolumeIndicatorCallback(T,N,Q,w,Pe){if(this.consoleLog.debug(`Attendee volume indicator: attendeeId=${T}, volume=${N}, muted=${Q}, signalStrength=${w}, externalUserId=${Pe}`),this.selfAttendeeId!==T){Q?this.observer.onPeerMuted(T,!0):Q!==null&&Q===!1&&this.observer.onPeerMuted(T,!1);const Be={[T]:Q?0:N||0};this.shouldUpdatePeerVolume?this.observer.onUpdatedPeerAudioLevels(Be):this.shouldUpdateVolumeAsBackgroundTask&&Object(p.a)("update-peer-mic-level",()=>{this.observer.onUpdatedPeerAudioLevels(Be)})}else this.shouldUpdateSelfVolume?this.observer.onUpdatedSelfAudioLevel(N||0):this.shouldUpdateVolumeAsBackgroundTask&&Object(p.a)("update-self-mic-level",()=>{this.observer.onUpdatedSelfAudioLevel(N||0)});w!==null&&(this.selfAttendeeId===T?this.observer.onSelfConnectionQualityChanged("uplink",Object(c.q)(w)):this.observer.onPeerConnectionQualityChanged(T,"uplink",Object(c.q)(w)))}activeSpeakerDetectorCallback(T){var N;(N=this.peerCache)===null||N===void 0||N.updateCallState({activeSpeakerList:T})}realtimeReceiveDataMessageCallback(T){if(this.selfAttendeeId===T.senderAttendeeId){if(!T.throttled)return;this.callLogger.info(`Data message throttled: size=${T.data.length} bytes`);return}let N;try{N=_n.a.decode(T.data)}catch(Q){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${Q}
				| Data Sender Attendee ID: ${T.senderAttendeeId}
				| Data Sender External Attendee ID: ${T.senderExternalUserId}
				| Topic: ${T.topic}`);return}this.handlePeerMessageFromDataMessage(N,T.senderAttendeeId)}handlePeerMessageFromDataMessage(T,N){const Q=typeof T.fromPeerIdString=="string"?T.fromPeerIdString:void 0;if(T.jukeboxRequest){var w;if(!Object(qt.a)(Q,"fromPeerIdString is required in the jukebox request message")||!Object(qt.a)(T.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((w=this.peerCache)===null||w===void 0)&&w.hasPeer(Q))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${Q}`);return}T.jukeboxRequest.songKey&&!T.jukeboxRequest.stop&&this.observer.onJukeboxRequest(T.jukeboxRequest.songKey),T.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if(T.reacji){var Pe;if(!Object(qt.a)(Q,"fromPeerIdString is required in the reacji message")||!Object(qt.a)(T.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((Pe=this.peerCache)===null||Pe===void 0)&&Pe.hasPeer(Q)){const De=On(T.reacji);this.observer.onPeerReacji(Q,T.reacji.emoji,!0,De)}else this.callLogger.info(`Dropping reacji from unknown peer: ${Q}`)}else if(T.draw){var Be;const De=Gt(T.draw,this.selfAttendeeId);if(!Object(qt.a)(Q,"fromPeerIdString is required in the draw message")||!Object(qt.a)(De,"Draw message must be correctly formed"))return;!((Be=this.peerCache)===null||Be===void 0)&&Be.hasPeer(Q)?this.observer.onPeerDrawMessage(Q,De):this.callLogger.info(`Dropping draw message from unknown peer: ${Q}`)}else if(T.capabilities){if(!Object(qt.a)(Q,"fromPeerIdString is required in the capabilities message"))return;if(!Object(en.a)(T.capabilities.isDrawEnabled)){var _e;(_e=this.peerCache)===null||_e===void 0||_e.updatePeerStates([{peerId:Q,state:{isDrawEnabled:T.capabilities.isDrawEnabled}}])}}else if(T.muteRequest){var Ze;if(!Object(qt.a)(Q,"fromPeerIdString is required in the muteRequest message")||!Object(qt.a)(T.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!((Ze=this.peerCache)===null||Ze===void 0)&&Ze.hasPeer(Q)){if(T.muteRequest.peerId===this.selfAttendeeId){var qe;const De=this.attendeeMuteRequests[N],le=De==null?void 0:De.lastRequestTime,Re=Date.now();if(De?(De.lastRequestTime=Re,De.count+=1):this.attendeeMuteRequests[N]={lastRequestTime:Re,count:1},le&&Re-le<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${N} peer: ${Q}`);return}if(((qe=this.attendeeMuteRequests[N])===null||qe===void 0?void 0:qe.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${N} peer: ${Q}`);return}}this.observer.onPeerMuteRequest(Q,T.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${Q}`)}else if(T.contentShareDetails){if(!Object(qt.a)(Q,"fromPeerIdString is required in the contentShareDetails message")||!Object(qt.a)(T.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!Object(qt.a)(T.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${T.contentShareDetails.itemId}, type: ${T.contentShareDetails.sourceType}`);const De=Object(Ts.c)(T.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate(Q,De,T.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback(T){this.observer.onTranscriptionEvent(T)}updatePeerVideoTile(T){this.audioVideoFacade.getAllVideoTiles().filter(w=>{const Pe=w.state();return!Pe||!Pe.boundAttendeeId?!1:new a.l(Pe.boundAttendeeId).base()===new a.l(T).base()}).forEach(w=>{const Pe=(w==null?void 0:w.state())||null;Pe&&this.observer.onPeerVideoTileUpdate(T,Pe)})}constructor(T,N,Q,w=c.o.DampedSwitching,Pe){var Be;this.selfAttendeeId=T,this.audioVideoFacade=N,this.observer=Q,this.windowedActiveSpeakerPolicyMode=w,this.micMeterPolicy=Pe,this.callLogger=Object(i.a)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=Object(i.b)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var _e,Ze,qe;return(_e=this.audioVideoFacade.audioVideoController)===null||_e===void 0||(Ze=_e.meetingSessionContext)===null||Ze===void 0||(qe=Ze.signalingClient)===null||qe===void 0?void 0:qe.ready()},this.logFailureToSendPeerMessage=_e=>{const Ze=_e.draw?"draw":"reacji",qe=m(()=>this.callLogger.error(`Failed to send ${Ze} peer message. Data channel is not ready to use.`),"logError");return Object(fn.a)(Ze,qe)},this.shouldUpdatePeerVolume=!this.micMeterPolicy||this.micMeterPolicy===pn.a.PeersOnly||this.micMeterPolicy===pn.a.AllOn,this.shouldUpdateSelfVolume=!this.micMeterPolicy||this.micMeterPolicy===pn.a.SelfOnly||this.micMeterPolicy===pn.a.AllOn,this.shouldUpdateVolumeAsBackgroundTask=this.micMeterPolicy===pn.a.Background,Object(Cn.a)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new Qt(this.windowedActiveSpeakerPolicyMode),this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(Be=this.audioVideoFacade.transcriptionController)===null||Be===void 0||Be.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new vs(this.observer),this.staleAttendeeChecker=new $n(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var rs=e("vFlG"),Fs=e("yIs4");const Es=15,cs=2560,ls=1e3,Os="text";let Cs=m(class{stopMusic(T){let{cleanObserver:N}=T;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),N&&this.audioVideoFacade.removeContentShareObserver(this))}stop(){var T=this;return Object(n.coroutine)(function*(){T.isScreenshareEnabled&&(T.isStopRequested=yield T.stopContentShare()),T.huddlesJukeboxEnabled&&T.stopMusic({cleanObserver:!0}),T.isStopRequested||(T.observer.onScreenShareStopped(),T.audioVideoFacade.removeContentShareObserver(T))})()}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}setSongStream(T){var N=this;return Object(n.coroutine)(function*(){N.huddlesJukeboxEnabled&&(N.waitForStart=Object(d.a)(),yield N.audioVideoFacade.startContentShare(T),N.isMusicEnabled=!0)})()}setScreenshare(T,N,Q){var w=this;return Object(n.coroutine)(function*(){if(T===w.isScreenshareEnabled)return;const{huddleEventsTrace:Pe}=Object(M.a)().getAllTraceHandlers();if(T){let Be=N;if(N){const Ze=N.split(":");Ze.length===3&&Ze[2]!=="0"&&(Ze[2]="0",Be=Ze.join(":"),w.log.warn(`Munging screen share media source id, before: ${N}, after: ${Be}`))}let _e;try{w.waitForStart=Object(d.a)();const Ze=m(qe=>{throw w.log.error(`getUserMedia error during huddle screenshare attempt: ${qe.name} ${qe.message}`),qe},"logGetUserMediaError");if(Object(j.fb)()&&w.log.info(`Starting screen share with zoomLevel = ${Object(j.Z)()}`),Object(j.fb)()&&Q){const{screenHeight:qe,screenWidth:De,selectedDisplayId:le}=Q;if(_e={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:Be,maxFrameRate:Es}}},De&&qe){const Ge=_e.video.mandatory,et=De/qe,Qe=cs;Ge.maxWidth=De<Qe?De:Qe,Ge.maxHeight=qe<Qe?qe:Qe;const it=navigator.mediaDevices.getSupportedConstraints();Object(rs.a)(it,"aspectRatio")&&!!it.aspectRatio&&Object(Fs.a)(et)&&(Ge.minAspectRatio=et,Ge.maxAspectRatio=et),w.log.info(`Starting screen share with resolution constraints: ${Ge.maxWidth} x ${Ge.maxHeight} | resolution provided: ${De} x ${qe}`)}else w.log.info("Starting application window share without proposed resolution");const Fe=yield navigator.mediaDevices.getUserMedia(_e).catch(Ze);(Fe==null?void 0:Fe.getVideoTracks().length)>0?(w.log.debug(`Applying content hint to content share stream. Content Hint ${Os}`),Fe.getVideoTracks()[0].contentHint=Os):w.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const Ge=Fe.getVideoTracks()[0].getSettings(),et=Object(Ts.a)(Ge==null?void 0:Ge.deviceId);he.a.publish({type:Se.c.ScreenshareContentType,update:{screenshareContentType:et}}),w.log.info(`Created video track with resolution: ${Ge.width} x ${Ge.height} framerate: ${Ge.frameRate} aspect ratio: ${Ge.aspectRatio}`),le&&w.log.info(`Sharing from selected display: ${le}`)},500),yield w.audioVideoFacade.startContentShare(Fe),setTimeout(()=>w.applyContentShareConstraints(Fe),ls),Pe==null||Pe.update({name:_.a.SCREENSHARE,type:_.b.START})}else{w.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const qe=yield w.audioVideoFacade.startContentShareFromScreenCapture(Be).catch(Ze);if(Pe==null||Pe.update({name:_.a.SCREENSHARE,type:_.b.START}),setTimeout(()=>w.applyContentShareConstraints(qe),ls),(qe==null?void 0:qe.getVideoTracks().length)>0){w.log.debug(`Applying content hint to content share stream. Content Hint ${Os}`),qe.getVideoTracks()[0].contentHint=Os;const De=qe.getVideoTracks()[0].getSettings(),le=Object(Ts.a)(De==null?void 0:De.deviceId);he.a.publish({type:Se.c.ScreenshareContentType,update:{screenshareContentType:le}})}else w.log.warn("No video tracks where available when starting unconstrained content share")}}catch(Ze){const qe=m(()=>{delete w.waitForStart,w.isScreenshareEnabled=!1,w.observer.onScreenShareStopped()},"exitScreenshare");if(Ze.name==="NotAllowedError"){qe(),Ze.message==="Permission denied by system"&&w.observer.onCheckSystemMediaAccess(c.i.SCREEN);return}if(Ze.name==="OverconstrainedError"){qe(),_e&&w.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify(_e)}`);return}if(["TypeError","AbortError","Error"].includes(Ze.name)){qe(),w.observer.onScreenShareError(c.m.ERROR);return}if(Ze.name==="NotReadableError"){qe(),w.observer.onScreenShareError(c.m.NOT_READABLE_ERROR);return}throw Ze.name==="NotFoundError"&&(qe(),w.observer.onScreenShareError(c.m.NOT_FOUND_ERROR)),w.log.error(`Encountered an uncaught error attempting to start screen share: ${Ze.name} ${Ze.message}`),w.waitForStart.resolve(!1),qe(),Ze}w.lastEnableTimeMs=Date.now(),w.isScreenshareEnabled=T}else w.isScreenshareEnabled&&(yield w.stopContentShare())})()}applyContentShareConstraints(T){var N=this;return Object(n.coroutine)(function*(){if(!N.isExperimentalSDK)return;const Q=T.getVideoTracks()[0];if(!Q){N.log.info("Constraints not re-applied no video track available");return}Q.getSettings()||N.log.info("Constraints not re-applied no video track settings available");const Pe={width:{ideal:cs},height:{ideal:cs},frameRate:{ideal:Es}};yield Q.applyConstraints(Pe),N.log.info("Constraints re-applied to content share (resolution overwrite applied)")})()}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}stopContentShare(){var T=this;return Object(n.coroutine)(function*(){let N=!1;if(T.waitForStart.isPending()?Date.now()-T.lastEnableTimeMs>1e4?(N=!0,T.log.info(`Stop screen share, force: ${Date.now()-T.lastEnableTimeMs} ms since start`)):(T.log.info("Stop screen share, waiting for content share start to resolve"),N=yield T.waitForStart,T.log.info(`Stop screen share, wait for content share start resolve finished: ${N}`)):(N=T.waitForStart.value(),T.log.info(`Stop screen share, promise resolved: ${N}`)),N){T.audioVideoFacade.stopContentShare(),T.isScreenshareEnabled=!1;const{huddleEventsTrace:Q}=Object(M.a)().getAllTraceHandlers();Q==null||Q.update({name:_.a.SCREENSHARE,type:_.b.STOP}),he.a.publish({type:Se.c.ScreenshareContentType,update:void 0})}else T.log.warn("Screen share disable ignored as screen share was not started successfully");return N})()}constructor(T,N,Q,w){this.audioVideoFacade=T,this.observer=N,this.huddlesJukeboxEnabled=Q,this.isExperimentalSDK=w,this.log=Object(i.c)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=J(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),Ls=m(class{addObserver(T){var N,Q;(N=this.videoDownlinkPolicy)===null||N===void 0||(Q=N.addObserver)===null||Q===void 0||Q.call(N,T)}removeObserver(T){var N,Q;(N=this.videoDownlinkPolicy)===null||N===void 0||(Q=N.removeObserver)===null||Q===void 0||Q.call(N,T)}remoteVideoSourcesDidChange(T){this.videoSources=T,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const T=[];this.videoSources.forEach(N=>{var Q;const w=(Q=N.attendee)===null||Q===void 0?void 0:Q.attendeeId;w===this.selfAttendeeId||!w||(w.includes("#content")||!this.isAudioOnlyMode)&&T.push(N)}),this.sendChimeVideoPreferences(T)}constructor({selfAttendeeId:T,videoDownlinkPolicy:N}){this.logger=new Ke.a("Huddles Video Streams Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=Q=>{this.isAudioOnlyMode=Q,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=Q=>{var w;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify(Q)}`)}catch{}(w=this.videoDownlinkPolicy)===null||w===void 0||w.chooseRemoteVideoSources(Q)},this.videoDownlinkPolicy=N,this.selfAttendeeId=T}},"HuddlesVideoStreamsManager");const $s=Ls;var ns=e("20qZ"),Jn=e("oTSI"),Ds=e("LTG1");let is=m(class{initialize(T,N){this.gainNode=N,this.audioContext=T}onAudioLevelUpdated(T){isNaN(T.value)||T.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const T=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime(T,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var T;this.gainNode&&this.audioContext&&((T=this.gainNode)===null||T===void 0||T.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor(T){this.defaultVolume=T,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),Ds.a.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const Ss="HUDDLE-JUKEBOX";let Xn=m(class{startLocalJukebox(T){let{song:N,volume:Q}=T;var w=this;return Object(n.coroutine)(function*(){var Pe;const Be=w.getSongUrl({song:N});if(Be===w.localAudioUrl)return;w.callLogger.info(`Starting local jukebox song key: ${N.key}.`),w.audioContext||(w.audioContext=new AudioContext),w.cleanup(),w.localAudioUrl=Be;const Ze=yield(yield window.fetch(Be)).arrayBuffer(),qe=yield w.audioContext.decodeAudioData(Ze);w.audioBufferSourceNode=w.audioContext.createBufferSource(),w.audioBufferSourceNode.buffer=qe,w.localAudio=new Audio,w.localAudio.volume=Q,w.localMediaStreamAudioDestinationNode=w.audioContext.createMediaStreamDestination(),w.gainNode=w.audioContext.createGain(),(Pe=w.jukeboxDucker)===null||Pe===void 0||Pe.initialize(w.audioContext,w.gainNode),w.gainNode.gain.value=w.defaultVolume,w.audioBufferSourceNode.connect(w.gainNode),w.gainNode.connect(w.localMediaStreamAudioDestinationNode),w.localAudio.srcObject=w.localMediaStreamAudioDestinationNode.stream,w.audioBufferSourceNode.loop=!0,w.audioBufferSourceNode.start(),w.localAudio.play()})()}startContentShareJukebox(T){let{song:N}=T;var Q=this;return Object(n.coroutine)(function*(){var w,Pe;Q.audioContext||(Q.audioContext=new AudioContext),Q.audioDestination||(Q.audioDestination=Q.audioContext.createMediaStreamDestination()),Q.callLogger.info(`Starting jukebox song key: ${N.key}`),Q.cleanup();const Be=Q.getSongUrl({song:N}),Ze=yield(yield window.fetch(Be)).arrayBuffer(),qe=yield Q.audioContext.decodeAudioData(Ze);return Q.audioBufferSourceNode=Q.audioContext.createBufferSource(),Q.audioBufferSourceNode.buffer=qe,Q.localAudio=new Audio,Q.localMediaStreamAudioDestinationNode=Q.audioContext.createMediaStreamDestination(),Q.gainNode=Q.audioContext.createGain(),(w=Q.jukeboxDucker)===null||w===void 0||w.initialize(Q.audioContext,Q.gainNode),Q.gainNode.gain.value=Q.defaultVolume,Q.audioBufferSourceNode.connect(Q.gainNode),Q.gainNode.connect(Q.audioDestination),Q.gainNode.connect(Q.localMediaStreamAudioDestinationNode),Q.localAudio.srcObject=Q.localMediaStreamAudioDestinationNode.stream,Q.audioBufferSourceNode.loop=!0,Q.audioBufferSourceNode.start(),Q.localAudio.play(),(Pe=Q.audioDestination)===null||Pe===void 0?void 0:Pe.stream})()}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var T,N,Q,w;(T=this.audioBufferSourceNode)===null||T===void 0||T.stop(),this.audioBufferSourceNode=void 0,(N=this.localAudio)===null||N===void 0||N.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,(Q=this.gainNode)===null||Q===void 0||Q.disconnect(),this.gainNode=void 0,(w=this.audioDestination)===null||w===void 0||w.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var T;return(T=this.localAudio)===null||T===void 0?void 0:T.volume}getSongUrl(T){let{song:N}=T;return N.url}constructor(){this.defaultVolume=.3,this.callLogger=Object(i.a)(Ss),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new is(this.defaultVolume)}},"JukeboxManager");var Fn=Object(Jn.a)(()=>new Xn);const Ms={connectionWaitTimeMs:5*1e3,connectionUnhealthyThreshold:10,sendingAudioFailureSamplesToConsider:2,sendingAudioFailureInitialWaitTimeMs:3*1e3},x={connectionWaitTimeMs:10*1e3,connectionUnhealthyThreshold:25,sendingAudioFailureSamplesToConsider:5,sendingAudioFailureInitialWaitTimeMs:10*1e3};var We=m(class{constructor({enableExperimentalConfig:T}){this.enableExperimentalConfig=!1,this.getConfiguration=()=>this.enableExperimentalConfig?x:Ms,this.enableExperimentalConfig=!!T}},"ConnectionHealthPolicyManager"),At=e("yQbL"),bn=e("68hO");class vn{initialize(T){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[c.i.MICROPHONE,c.i.CAMERA],Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=arguments.length>3?arguments[3]:void 0,Pe=arguments.length>4?arguments[4]:void 0,Be=arguments.length>5?arguments[5]:void 0;var _e=this;return Object(n.coroutine)(function*(){var Ze,qe,De,le,Re,Fe,Ge,et,Qe,it;Pe&&(_e.waitForStop=Pe),Be&&(_e.dataChannelSubscribers=Be),_e.observer.onInit(),_e.options=T;const[Lt,Pt,rn,nn]=yield r.a.all([_e.options.serverConfig,_e.options.useChimeSdkExp,_e.options.useSimulcast,_e.options.useGetMediaAccessCheckForWindows]),Sn=yield _e.options.backgroundVideoFilteringSetting;yield Object(a.J)(Pt),_e.chimeLogger=new Ke.a(_e.loggerName),_e.callLogger=Object(i.a)(_e.loggerName),(Ze=_e.callLogger)===null||Ze===void 0||Ze.info(`user agent: ${navigator.userAgent}`);const jn=Object(o.f)();(qe=_e.callLogger)===null||qe===void 0||qe.info(`Version TS: ${jn}`);const hn=(document==null||(De=document.documentElement)===null||De===void 0||(le=De.dataset)===null||le===void 0?void 0:le.versionHash)||"unknown";(Re=_e.callLogger)===null||Re===void 0||Re.info(`Version Hash: ${hn}`),(Fe=_e.callLogger)===null||Fe===void 0||Fe.info(`Chime SDK Version: ${a.s.sdkVersion}${Pt?" (Experimental)":""}`),_e.meeting=Lt.meeting,_e.attendee=Lt.attendee,_e.selfAttendeeId=_e.attendee.AttendeeId;const un=Object(u.a)(Lt.attendee.ExternalUserId);if(_e.transportProtocols=Lt.transportProtocols,_e.isPrejoin=yield r.a.resolve(_e.options.isPrejoin),_e.meetingSessionConfiguration=new a.o(_e.meeting,_e.attendee),rn&&_e.meetingSessionConfiguration){var An;(An=_e.callLogger)===null||An===void 0||An.info("Simulcast enabled"),_e.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if((yield _e.options.usePriorityDownlinkPolicy)&&(_e.videoDownlinkPolicy=new a.a(_e.selfAttendeeId),_e.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=_e.videoDownlinkPolicy,_e.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,_e.videoStreamsManager=new Ls({selfAttendeeId:_e.selfAttendeeId,videoDownlinkPolicy:_e.videoDownlinkPolicy})),_e.meetingSessionConfiguration.urls&&(_e.meetingSessionConfiguration.urls.urlRewriter=_e.urlRewriter.bind(_e)),_e.meetingSessionConfiguration&&_e.meetingSessionConfiguration.connectionHealthPolicyConfiguration){const ds=new We({enableExperimentalConfig:yield _e.options.enableExperimentalConnectionHealthPolicyConfig});Object.assign(_e.meetingSessionConfiguration.connectionHealthPolicyConfiguration,ds.getConfiguration())}_e.options.screenshareAutoKeyframesDisabled&&(yield _e.options.screenshareAutoKeyframesDisabled)&&Object(t.a)((Ge=_e.meetingSessionConfiguration)===null||Ge===void 0?void 0:Ge.disablePeriodicKeyframeRequestOnContentSender)&&(_e.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0);let mn=0;if(yield _e.options.useVoiceFocus){const ds=yield _e.options.voiceFocusMaxModelsEnabled;if(ds){var Nn;(Nn=_e.callLogger)===null||Nn===void 0||Nn.info("Voice Focus max models experiment enabled")}const us=Date.now();_e.voiceFocusManager=new ns.a(_e.chimeLogger,ds),yield _e.voiceFocusManager.init({configOnly:!1,shouldPreventAutoDisable:yield _e.options.shouldPreventVoiceFocusAutoDisable}),mn=Date.now()-us}else{var xn;(xn=_e.callLogger)===null||xn===void 0||xn.info("Voice Focus experiment not enabled")}_e.observer.onMaybeVoiceFocusInitialized(mn);const Vn={audio:N.includes(c.i.MICROPHONE),video:N.includes(c.i.CAMERA)};a.b.disable();let Wn;const Bn=yield _e.options.huddlesVideoEnabled,hs=Bn?!0:!!(!((et=_e.voiceFocusManager)===null||et===void 0)&&et.isAvailable());(Qe=_e.callLogger)===null||Qe===void 0||Qe.info(`Huddles Video (pro-max) experiment enabled: ${!!Bn}`);const ln=yield _e.options.audioContextLatencyHint,kn=(yield _e.options.disableAudioRedundancy)||!1;if(Pt){const ds=Object(a.F)(),us=Object(a.B)();if(ln&&us.setDefaultLatencyHint(ln),_e.defaultDeviceController=new us(_e.chimeLogger,{enableWebAudio:hs}),_e.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Vn)),_e.sessionExp=new ds(_e.meetingSessionConfiguration,_e.chimeLogger,_e.defaultDeviceController),Wn=_e.sessionExp.audioVideo,kn){const Hn=Object(a.w)();Wn.setAudioProfile(new Hn(null,!1))}}else{const ds=Object(a.E)(),us=Object(a.A)();if(ln&&us.setDefaultLatencyHint(ln),_e.defaultDeviceController=new us(_e.chimeLogger,{enableWebAudio:hs}),_e.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Vn)),_e.session=new ds(_e.meetingSessionConfiguration,_e.chimeLogger,_e.defaultDeviceController),Wn=_e.session.audioVideo,kn){const Hn=Object(a.v)();Wn.setAudioProfile(new Hn(null,!1))}}const Rs=(yield _e.options.useUpdatedAudioLevelMonitor)||!1;_e.applyPrejoinNoAudioFix=(yield _e.options.applyPrejoinNoAudioFix)||!1,_e.applyAudioInitFix=(yield _e.options.applyAudioInitFix)||!1;const As={useGetMediaAccessCheckForWindows:nn,backgroundVideoFilteringSetting:Sn,useUpdatedAudioLevelMonitor:Rs},Vs=(yield _e.options.useDeviceManagerV2)?Me:fe;_e.deviceManager=new Vs(Wn,_e.audioOutputElement,_e.observer,As,Q,_e.chimeLogger,_e.defaultDeviceController,_e.voiceFocusManager,_e.applyAudioInitFix),(it=_e.dataChannelSubscribers)===null||it===void 0||it.forEach(ds=>ds.onInitializeDataChannelSubscriber()),_e.audioVideoObserver=new xt(_e.selfAttendeeId,_e.meeting.MeetingId,_e.meeting.MediaRegion,un,Wn,_e.observer,_e.deviceManager,_e.videoStreamsManager,w,_e.waitForStop,_e.dataChannelSubscribers);const Gs=yield _e.options.huddlesJukeboxEnabled;if(Gs){var Zs;(Zs=_e.callLogger)===null||Zs===void 0||Zs.info("Huddles Jukebox experiment enabled (prototype)")}_e.contentShareManager=new Cs(Wn,_e.observer,!!Gs,Pt);const xs=yield _e.options.micMeterPolicy;_e.audioVideoFacadeSubscriber=new zn(_e.selfAttendeeId,Wn,_e.observer,_e.windowedActiveSpeakerPolicyMode,xs),l.a.setTracer(),Object(At.a)().initialize(),_e.connect(),_e.screenManager=new h.a(_e.options.singleAppShareEnabled),l.a.setChimeMeetingId(_e.meeting.MeetingId,_e.meeting.ExternalMeetingId),_e.observer.onMeetingSessionInitialized(),_e.waitForInit.resolve()})()}shutdown(T){var N=this;return Object(n.coroutine)(function*(){var Q,w,Pe,Be;if(yield N.waitForInit,N.cleanupDataChannelSubscribers(),(Q=N.contentShareManager)===null||Q===void 0||Q.stop(),(w=N.audioVideoObserver)===null||w===void 0||w.stop(),yield(Pe=N.deviceManager)===null||Pe===void 0?void 0:Pe.shutdown(),bn.a.doesInstanceExist()){var _e;(_e=bn.a.getInstance())===null||_e===void 0||_e.release()}(Be=N.audioVideoFacadeSubscriber)===null||Be===void 0||Be.destroy(),yield N.waitForStop,delete N.session,delete N.sessionExp,delete N.meetingSessionConfiguration,yield N.cleanupDefaultDeviceControllerRefs(),delete N.chimeLogger,delete N.callLogger,delete N.deviceManager,delete N.audioVideoFacadeSubscriber,delete N.audioVideoObserver,delete N.contentShareManager,delete N.screenManager,delete N.voiceFocusManager,delete N.videoStreamsManager,delete N.videoDownlinkPolicy,T&&T()})()}selfMicrophoneEnabled(T){var N;(N=this.deviceManager)===null||N===void 0||N.setMicrophone(T)}selfVideoEnabled(T,N,Q,w){var Pe,Be;(Pe=this.deviceManager)===null||Pe===void 0||Pe.setCamera(T),(Be=this.contentShareManager)===null||Be===void 0||Be.setScreenshare(N,Q,w)}startContentShareJukebox(T){let{song:N}=T;var Q=this;return Object(n.coroutine)(function*(){var w;const Pe=yield Fn().startContentShareJukebox({song:N});Pe&&((w=Q.contentShareManager)===null||w===void 0||w.setSongStream(Pe))})()}selfStopJukebox(){var T=this;return Object(n.coroutine)(function*(){var N;Fn().stopJukebox(),(N=T.contentShareManager)===null||N===void 0||N.stopMusic({cleanObserver:!1})})()}setCameraQuality(T,N,Q,w){var Pe;(Pe=this.deviceManager)===null||Pe===void 0||Pe.setCameraQuality(T,N,Q,w)}setAGC(T){var N;(N=this.deviceManager)===null||N===void 0||N.setAGC(T)}setNewPreferredDevice(T,N){var Q;(Q=this.deviceManager)===null||Q===void 0||Q.setPreferredDevice(T,N)}setNoiseSuppression(T){var N;(N=this.deviceManager)===null||N===void 0||N.setNoiseSuppression(T)}setVideoBackgroundEffect(T){var N;(N=this.deviceManager)===null||N===void 0||N.setVideoBackgroundEffect(T)}requestPreviewStreamForDeviceId(T,N,Q){var w;(w=this.deviceManager)===null||w===void 0||w.requestPreviewStreamForDeviceId(T,N,Q)}stopVideoPreviewForVideoInput(T){var N;(N=this.deviceManager)===null||N===void 0||N.stopVideoPreviewForVideoInput(T)}getScreenThumbnails(T){var N;return(N=this.screenManager)===null||N===void 0?void 0:N.getScreenThumbnails(T==null?void 0:T.thumbnailDimensions,T==null?void 0:T.isRefetch)}selfDrawEnabled(T){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.selfDrawEnabled(T)}sendReacji(T,N){var Q;(Q=this.audioVideoFacadeSubscriber)===null||Q===void 0||Q.sendReacji(T,N)}sendBackground(T){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendBackground(T)}sendMuteRequest(T){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendMuteRequest(T)}sendJukeboxRequest(T){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendJukeboxRequest(T)}sendJukeboxStopRequest(){var T;(T=this.audioVideoFacadeSubscriber)===null||T===void 0||T.sendJukeboxStopRequest()}sendDrawMessage(T){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendDrawMessage(T)}sendContentShareDetails(T){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendContentShareDetails(T)}maybeBindAudioOutputElement(){var T;(T=this.deviceManager)===null||T===void 0||T.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess(T){var N;return(N=this.deviceManager)===null||N===void 0?void 0:N.maybeCheckSystemMediaAccess(T)}setIncludeSelfAndNoneActiveSpeaker(T,N){var Q;(Q=this.audioVideoFacadeSubscriber)===null||Q===void 0||Q.setIncludeSelfAndNoneActiveSpeaker(T,N)}bindVideo(T,N,Q){var w;const Pe=this.session||this.sessionExp;if(!Pe)return;const Be=(w=Pe.audioVideo.getVideoTile(T))===null||w===void 0?void 0:w.state();Q?Be!=null&&Be.boundVideoStream&&a.m.connectVideoStreamToVideoElement(Be.boundVideoStream,N,!1):(this.videoDownlinkPolicy&&(Be!=null&&Be.paused)&&Pe.audioVideo.unpauseVideoTile(T),Pe.audioVideo.bindVideoElement(T,N))}unbindVideo(T,N,Q){const w=this.session||this.sessionExp;w&&(Q?a.m.disconnectVideoStreamFromVideoElement(N,!0):w.audioVideo.getVideoTile(T)&&w.audioVideo.unbindVideoElement(T))}pauseVideo(T){const N=this.session||this.sessionExp;if(!N)return;const Q=N.audioVideo.getVideoTile(T),w=Q==null?void 0:Q.state();!(w!=null&&w.isContent)&&(w!=null&&w.active)&&(Q==null||Q.pause())}unpauseVideo(T){const N=this.session||this.sessionExp;if(!N)return;const Q=N.audioVideo.getVideoTile(T),w=Q==null?void 0:Q.state();w!=null&&w.paused&&(Q==null||Q.unpause())}videoTileHasStream(T){const N=this.session||this.sessionExp;if(!N)return!1;const Q=N.audioVideo.getVideoTile(T);if(!Q)return!1;const w=Q.state();return w?!!w.boundVideoStream:!1}getMeetingMediaRegion(){var T;return(T=this.meeting)===null||T===void 0?void 0:T.MediaRegion}completePrejoin(T){var N=this;return Object(n.coroutine)(function*(){const{isStartMuted:Q}=T;if(N.isPrejoin){var w,Pe;return Q&&((w=N.deviceManager)===null||w===void 0||w.setStartMutedBarrier(Q)),(Pe=N.audioVideoObserver)===null||Pe===void 0||Pe.start(),N.maybeBindAudioOutputElement(),N.setIncludeSelfAndNoneActiveSpeaker(!0,!0),N.isPrejoin=!1,!0}return!1})()}urlRewriter(T){if(!T)return T;if(this.transportProtocols){const Pe=this.transportProtocols;if(T.includes("?transport=udp")&&!Pe.includes("udp")){var N;return(N=this.callLogger)===null||N===void 0||N.info("Dropping UDP transport"),""}if(T.includes("?transport=tcp")){if(T.includes("turns:")){if(!Pe.includes("tls")){var Q;return(Q=this.callLogger)===null||Q===void 0||Q.info("Dropping TLS transport"),""}}else if(!Pe.includes("tcp")){var w;return(w=this.callLogger)===null||w===void 0||w.info("Dropping TCP transport"),""}}}return T.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var T,N=this;const Q=function(){var w=Object(n.coroutine)(function*(){try{var Pe;N.videoDevicePermissionStatus="IN_PROGRESS";const _e=yield navigator.mediaDevices.getUserMedia({video:!0});return(Pe=N.callLogger)===null||Pe===void 0||Pe.info("Video device permissions granted"),N.videoDevicePermissionStatus="GRANTED",_e}catch(_e){var Be;throw N.videoDevicePermissionStatus="DENIED",N.observer.onSetNoMediaInput(c.i.CAMERA),(Be=N.callLogger)===null||Be===void 0||Be.info("Video device permissions denied"),_e}});return m(function(){return w.apply(this,arguments)},"callback")}();(T=this.defaultDeviceController)===null||T===void 0||T.setDeviceLabelTrigger(Q)}maybeEnableSelfCamera(){let{isScreenshareEnabled:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var N=this;return Object(n.coroutine)(function*(){if((yield N.initVideoPermission())&&(N.videoDevicePermissionStatus==="INITIAL"||N.videoDevicePermissionStatus==="GRANTED")){var w;N.selfVideoEnabled(!0,!!T),N.observer.onPeerCameraActive("self",!0),(w=N.callLogger)===null||w===void 0||w.info("maybeEnableSelfCamera:: enabling camera function executed")}})()}initVideoPermission(){var T=this;return Object(n.coroutine)(function*(){var N;return T.setupVideoDeviceLabelTrigger(),yield(N=T.deviceManager)===null||N===void 0?void 0:N.initVideoInputDevices()})()}getSelfAttendeeId(){return this.selfAttendeeId}connect(){var T=this;return Object(n.coroutine)(function*(){var N;if((yield(N=T.options)===null||N===void 0?void 0:N.userGrantedPermissionToJoin)===!0)if(T.isPrejoin){var Q,w,Pe,Be,_e;if((Q=T.callLogger)===null||Q===void 0||Q.info("[NO-AUDIO-DEBUG] Pre-join connection initiated. Initializing device manager"),yield(w=T.deviceManager)===null||w===void 0?void 0:w.init(),T.applyPrejoinNoAudioFix){var Ze,qe;(Ze=T.callLogger)===null||Ze===void 0||Ze.info("[NO-AUDIO-DEBUG] Pre-join device manager initialized."),(qe=T.callLogger)===null||qe===void 0||qe.info("[NO-AUDIO-DEBUG] Prejoin audio fix applied. Skipping initNullMicrophone")}else{var De,le,Re;(De=T.callLogger)===null||De===void 0||De.info("[NO-AUDIO-DEBUG] Pre-join device manager initialized. Now initializing null microphone"),yield(le=T.deviceManager)===null||le===void 0?void 0:le.initNullMicrophone(),(Re=T.callLogger)===null||Re===void 0||Re.info("[NO-AUDIO-DEBUG] Pre-join null microphone initialized.")}(Pe=T.callLogger)===null||Pe===void 0||Pe.info("[NO-AUDIO-DEBUG] Now starting session with signaling only."),(Be=T.audioVideoObserver)===null||Be===void 0||Be.startWithSignalingOnly(),(_e=T.callLogger)===null||_e===void 0||_e.info("[NO-AUDIO-DEBUG] Pre-join session started with signaling only.")}else{var Fe,Ge;(Fe=T.audioVideoObserver)===null||Fe===void 0||Fe.start(),(Ge=T.deviceManager)===null||Ge===void 0||Ge.init()}})()}constructor(T,N,Q="FREE-WILLY-SDK",w=c.o.DampedSwitching){this.observer=T,this.audioOutputElement=N,this.loggerName=Q,this.windowedActiveSpeakerPolicyMode=w,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=Object(d.a)(),this.waitForStop=Object(d.a)(),this.applyPrejoinNoAudioFix=!1,this.applyAudioInitFix=!1,this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(Be=>Be.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)};var Pe=this;this.cleanupDefaultDeviceControllerRefs=Object(n.coroutine)(function*(){var Be;if(!Pe.defaultDeviceController)return;yield Pe.defaultDeviceController.destroy();const _e=(Be=Pe.defaultDeviceController)===null||Be===void 0?void 0:Be.eventController;if(_e){var Ze;const qe=(Ze=_e.configuration)===null||Ze===void 0?void 0:Ze.urls;qe&&(qe.urlRewriter=void 0)}Pe.defaultDeviceController.deviceLabelTrigger=void 0,delete Pe.defaultDeviceController}),this.handleClientOffline=()=>{var Be;(Be=this.audioVideoObserver)===null||Be===void 0||Be.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=Be=>{var _e;(_e=this.videoStreamsManager)===null||_e===void 0||_e.toggleAllIncomingVideo(Be)},this.videoDevicePermissionStatus="INITIAL"}}m(vn,"free_willy_sdk_FreeWillySdk")},lihz:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("xwCZ"),t=e("Yauy");const a=m((r,d)=>{const o=Object(n.c)(r);return d?o.id===Object(t.g)(d):!1},"isCurrentUserChannelCreator")},lkvs:function(K,s,e){"use strict";var n=e("vfQU"),t=e("ZbzB"),a=e("Kyco"),r=e("Jc4w"),d=e("GYPw"),o=e("WUSA"),i=e("j77i");let h=!1;Object(t.a)()?h=window.matchMedia(d.e).matches:Object(t.b)()&&(h=Object(n.J)("settings","shouldUseHighContrastColors"));let l=!1;try{l=!!Object(i.f)(d.j)}catch{}let u;try{u=Object(i.f)(d.a)}catch{}let c;try{c=Object(i.f)(d.g)||1}catch{}let E;try{E=Object(i.f)(d.f)||1}catch{}let v;try{v=Object(i.f)(d.h)||"0"}catch{}let g;try{var O;g=(O=Object(i.f)(d.c))!==null&&O!==void 0?O:""}catch{g=""}let I;try{var C;I=(C=Object(i.f)(d.d))!==null&&C!==void 0?C:""}catch{I=""}let f;try{f=Object(i.f)(d.b)}catch{f=void 0}let S;try{var D;S=(D=Object(i.f)(d.i))!==null&&D!==void 0?D:!0}catch{S=!0}const p={screenReaderEnabled:!1,shouldUseHighContrastColors:h,useARIAApplicationForListViews:l,composerUpArrowShortcutBehavior:u,messageTextLineSpacing:c,messageSpacing:E,messageTextWordSpacing:v,conversationIncomingMessageSound:g,conversationSentMessageSound:I,conversationIncomingMessageAnnouncement:f,peeksEnabledOnMouseEnter:S},b=Object(a.b)({},p,{storeKey:"accessibility",persistenceEnabled:!1}).on(o.a,(M,_)=>_!=null&&_.message?{...M,announcerAPIAnnouncement:_}:M).on(o.j,(M,_)=>typeof _!="boolean"||_===M.screenReaderEnabled?M:{...M,screenReaderEnabled:_}).on(o.k,function(M){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof _!="boolean"||_===M.shouldUseHighContrastColors?M:{...M,shouldUseHighContrastColors:_}}).on(o.l,function(M){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...M,useARIAApplicationForListViews:_}}).on(o.b,function(M){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.a.LIST;return{...M,composerUpArrowShortcutBehavior:_}}).on(o.g,function(M){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...M,messageTextLineSpacing:_}}).on(o.f,function(M){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...M,messageSpacing:_}}).on(o.h,function(M){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{...M,messageTextWordSpacing:_}}).on(o.d,(M,_)=>({...M,conversationIncomingMessageSound:_})).on(o.e,(M,_)=>({...M,conversationSentMessageSound:_})).on(o.c,(M,_)=>({...M,conversationIncomingMessageAnnouncement:_})).on(o.i,(M,_)=>({...M,peeksEnabledOnMouseEnter:_}));s.a=b},lmdu:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("ZKjC"),t=e("UOL+"),a=e("i5Ig"),r;const d=Object(n.b)(u=>{var c;return(r=(c=Object(t.a)(u))===null||c===void 0?void 0:c.messagesMeta)!==null&&r!==void 0?r:u==null?void 0:u.messagesMeta});var o;d.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:u=>{var c;return(o=(c=Object(t.a)(u))===null||c===void 0?void 0:c.messagesMeta)!==null&&o!==void 0?o:u==null?void 0:u.messagesMeta}};var i;const h=Object(n.b)((u,c)=>{let{channelId:E,ts:v}=c;var g,O;return(i=(g=d(u))===null||g===void 0||(O=g[E])===null||O===void 0?void 0:O[v])!==null&&i!==void 0?i:a.b});var l;h.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(u,c)=>{let{channelId:E,ts:v}=c;var g,O;return(l=(g=d(u))===null||g===void 0||(O=g[E])===null||O===void 0?void 0:O[v])!==null&&l!==void 0?l:a.b}}},lrwl:function(K,s,e){"use strict";var n=e("Cfcg"),t=e("C3vN"),a=e("+tZp"),r=e("Fn/R"),d=e("ehcD"),o=e("9I4P"),i=e("QLhP"),h=e("beVI"),l=e("O86Y"),u=e("yrot"),c=e("LvvF"),E=e("tg2r"),v=e("6JJY"),g=e("BfA7"),O=e("I0j/"),I=e("ivl2"),C=e("ny0b"),f=e("MzqU"),S=e("ykb+"),D=e("pu3F"),p=e("bbt7"),b=e("XcRx");let M=m((j,U)=>{const{user:W,userId:L,botId:R,botProfile:A,size:B,icons:F,emoji:k,team:V,slackbotFeels:X,isUnknown:J,showPresence:Y}=U;let ie=null,de=null,pe,oe,me,re,ve=k,q,ce,he,Se;const{member:se,bot:H,memberIsHuman:Oe}=Object(i.f)(j,{userId:L,botId:R,botProfile:A});if(W||L||J){const ae=W||se;if(ae&&!ae.isUnknown&&!ae.is_unknown){var $;R||(q=H==null?void 0:H.id);const fe=Object(C.a)({size:B,teamOrEnterpriseId:Object(r.a)(ae)?Object(d.d)(ae):Object(d.e)(ae),memberId:ae.id,avatarHash:ae==null||($=ae.profile)===null||$===void 0?void 0:$.avatar_hash,slackbotFeels:X});ie=fe.imageUrl,de=fe.imageUrl2x,oe=U.isExternal||ae.isExternal,pe=oe?Object(d.c)(j,ae):void 0,me=ae.is_restricted,re=ae.is_ultra_restricted,ce=Object(a.a)(j,ae),he=ae.id,Se=Object(t.V)(ae)}}else{let ae=F||A&&A.icons;H&&(ae=ae||H.icons,ce=Object(o.a)(H));const fe=Object(S.b)()?f.a:f.b;if(H&&H.app_id===fe&&(ae=H.icons||ae),!ve&&ae&&(ve=ae.emoji),!ve){const Te=Object(C.a)({size:B,botImages:ae,isBot:!0});ie=Te.imageUrl,de=Te.imageUrl2x}pe=(V==null?void 0:V.id)||Object(o.d)(j,{bot:H,botProfile:A}),oe=pe?pe!==Object(l.i)(j):!1}let z=ve&&pe&&Object(u.q)(j,{text:ve,teamId:pe});if(!z&&ve&&pe===Object(l.i)(j)){const ae=Object(h.g)(j),fe=ae&&ae.id;fe&&fe!==pe&&(z=Object(u.q)(j,{text:ve,teamId:fe}))}const be=Y?Object(b.a)(j,L):void 0,Z=Y?Object(I.a)(j,L):!1;var G;const ne=(G=L??he)!==null&&G!==void 0?G:"",ge=ne?Object(c.b)(j,ne):!1;return{userId:L||he,imageUrl:ie||void 0,imageUrl2x:de||void 0,botEmoji:ve,canRenderEmoji:!!z,teamId:pe,isRestricted:me,isUltraRestricted:re,isDeleted:Se,memberOrBotName:ce,botId:q||R,disableLink:!Oe&&(!H||Object(t.rb)(H)),isExternal:oe,isUserHidden:ge,userType:be,isDnd:Z,isSlackbot:L===D.Y}},"mapStateToProps"),_=m(j=>({openProfile:U=>j(Object(E.a)(U)),showMemberProfileInWindow:U=>j(Object(v.a)(U)),navigate:U=>j(Object(O.a)(U))}),"mapDispatchToProps");const P={mapStateToProps:M,mapDispatchToProps:_};Object.defineProperty(P,"mapStateToProps",{get:()=>M,set:j=>{M=j}}),Object.defineProperty(P,"mapDispatchToProps",{get:()=>_,set:j=>{_=j}});const y=Object(g.a)(Object(n.a)(M,_)(p.b));y.displayName="ConnectedAvatar",s.a=y},m1zK:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),r=e("DneB"),d=e("ifKl"),o=e("i5Ig"),i=e("B4ch"),h=e("E3dU"),l=e("+CZ0"),u=e("3vtZ"),c=e("E97Y"),E=e("hXnR"),v=e("9oTK"),g=e("cZF4"),O=e("yxNq"),I=e("/MKj"),C=e("qDEp"),f=e("WMzb"),S=e("y6S6"),D=e("CDqL"),p=e("nWdO"),b=e("8aX7"),M=e("YUBf"),_=e("GNR7"),P=e("9Gfp"),y=e("sgFo"),j=e("nNoG"),U=e("Yauy"),W=e("jWAO"),L=e("+tZp"),R=e("xwCZ"),A=e("Tevt"),B=e("ZElP");const F=new j.b("huddles");function k(Z){let{members:G,createNewMpim:ne}=Z;var ge,ae,fe;const Te=Object(a.d)(Ne=>G.map(He=>Object(L.a)(Ne,Object(R.g)(Ne,He.slackId))));if(!G)return null;const ye=Te&&Te.slice(3),Ue=F.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:G.length,name1:t.a.createElement(B.a,{slackId:(ge=G[0])===null||ge===void 0?void 0:ge.slackId}),name2:t.a.createElement(B.a,{slackId:(ae=G[1])===null||ae===void 0?void 0:ae.slackId}),name3:t.a.createElement(B.a,{slackId:(fe=G[2])===null||fe===void 0?void 0:fe.slackId}),numOthers:t.a.createElement(p.c,{zIndex:"above_fs",position:"top",tip:Object(j.h)(ye)},t.a.createElement("span",null,G.length-3))},Ne=>{let{text:He,tag:ze}=Ne;return ze==="a"?t.a.createElement(A.a,{onClick:ne},He):null});return t.a.createElement(W.d,{level:W.b.info,type:W.c.custom},Ue)}m(k,"HuddleInviteMpimAlert"),k.displayName="HuddleInviteMpimAlert";var V=k,X=e("s9Q6"),J=e("beVI"),Y=e("G0eX"),ie=e("hAJ3"),de=e("Trx9"),pe=e("ktUG"),oe=e("WAPM"),me=e("fPvf"),re=e("U1tW"),ve=e("trVL"),q=e("Z3RE"),ce=e("p6pj"),he=e("6SBE"),Se=e("FN5i");const se=new j.b("huddles"),H={elementName:"learn_more",onClick:{enableClogAction:!0}};function Oe(Z){let{closeModal:G,callId:ne,channelId:ge,selectedMemberIds:ae=o.a}=Z;const fe=Object(I.useDispatch)(),Te=Object(f.a)(),ye=Object(a.c)(P.a),Ue=Object(a.c)(u.H),Ne=Object(a.c)(xe=>Object(h.d)(xe,ge)),He=Object(a.c)(y.B),ze=Object(a.c)(xe=>Object(_.g)(xe,ge).filter(st=>st.id!==ye).map(st=>st.id),O.a),[Je,Xe]=Object(n.useState)(ae),[Me,Ke]=Object(n.useState)(!1),$e=Object(a.d)(xe=>!ge||!(Je!=null&&Je.length)?[]:Je.filter(ke=>{const lt=Object(S.c)(xe,ge,ke);return lt&&lt.isKnown&&!(lt!=null&&lt.isMember)?ke:!1})),ct=Object(a.c)(J.g),Tt=Object(Y.F)(ct),Et=Object(a.c)(X.i),Le=Object(n.useCallback)(xe=>{Xe(xe)},[]),jt=Object(n.useCallback)(xe=>{Xe(Je.concat(xe))},[Je]),Dt=Object(n.useMemo)(()=>{const xe=Object(U.x)(Ne);return Array.isArray(xe)?xe:[]},[Ne]),Ee=Dt.filter(xe=>xe!==ye),te=Object(n.useCallback)(Object(v.coroutine)(function*(){if(!ge)return;let xe=Je.concat(ze);return Dt&&(xe=Object(g.a)(xe,Dt)),fe(Object(ie.a)({channelId:ge,memberIds:xe})).then(()=>{G()}).catch(st=>{Te.error(st),Ke(!1)})}),[ge,Je,ze,Dt,fe,G,Te]),Ae=Object(n.useCallback)(Object(v.coroutine)(function*(){if(!ge)return;Ke(!0);const xe=Je.concat(ze);return fe(Object(D.a)({channelId:ge,userIds:xe})).then(()=>{G()}).catch(st=>{Te.error(st),Ke(!1)})}),[ge,G,fe,Te,ze,Je]),Ve=m(()=>Tt&&!He?t.a.createElement(re.a,null):Et?t.a.createElement(me.b,null):null,"maybeRenderBanner");Ve.displayName="maybeRenderBanner";let Ye,ft,tt,Rt;const rt=m(xe=>{const st=xe.map(ke=>t.a.createElement(b.a,{key:ke,isBold:!1,id:ke}));return st&&Object(j.h)(st)},"listifiedOverflowMembers");rt.displayName="listifiedOverflowMembers",Tt&&He?(Ye=se.t("Invite someone else to your huddle"),tt=se.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(Ee==null?void 0:Ee.length)-1,firstParticipant:t.a.createElement(b.a,{isBold:!1,id:Ee[0]}),secondParticipant:t.a.createElement(b.a,{isBold:!1,id:Ee[1]}),"<a>":xe=>{let{text:st}=xe;return t.a.createElement(p.c,{zIndex:"above_fs",tip:rt(Ee==null?void 0:Ee.slice(1))},t.a.createElement("span",null,st))},"<b>":xe=>{let{text:st}=xe;return t.a.createElement("b",null,st)}}),Rt=se.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":xe=>{let{text:st}=xe;return t.a.createElement(oe.a,{articleId:4402059015315,ariaLabel:se.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:H},st)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(Ye=se.t("Invite people to your huddle"),ft=se.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const we=Object(n.useMemo)(()=>Je.length>1?se.t("Send Invites"):se.t("Send Invite"),[Je]);return!Ue||!ge?null:t.a.createElement(M.a,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:G,contentLabel:Ye,shouldReturnFocusAfterClose:!0},t.a.createElement(M.i,null,t.a.createElement(M.l,{title:Ye,subtitle:ft})),t.a.createElement(M.d,null,t.a.createElement(M.e,null,(tt||Rt)&&t.a.createElement("p",null,tt,Rt),t.a.createElement(q.a,{isFreeTeam:Tt,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:He,channel:Ne,otherMembersInHuddle:ze,onSelectedMembersChange:Le,selectedMemberIds:Je}),($e==null?void 0:$e.length)>0&&t.a.createElement(V,{members:$e.map(xe=>({slackId:xe})),createNewMpim:te})),t.a.createElement(he.a,{activeHuddleCallId:ne,channel:Ne,isFreeTeam:Tt,onSuggestedUserSelected:jt,otherMembersInHuddle:ze,selectedMemberIds:Je}),Ve()),t.a.createElement(M.g,null,t.a.createElement(ce.a,{channelId:ge}),t.a.createElement(M.h,null,t.a.createElement(M.c,{type:"outline"},se.t("Cancel")),t.a.createElement(de.a,{clogImpression:!0,eventId:pe.EventId.HUDDLES_MPIM_INVITE},t.a.createElement(C.c,{loading:Me,onClick:Ae,type:"primary",disabled:!Je.length},we)))),He&&Tt&&t.a.createElement(ve.a,{selectedMemberIds:Je}))}m(Oe,"HuddleInviteMpim"),Oe.displayName="HuddleInviteMpim";var $=Oe;function z(Z){let{closeModal:G=d.a,selectedMemberIds:ne=o.a}=Z;const ge=Object(a.c)(u.H),ae=Object(r.b)(l.a),fe=Object(r.b)(l.b),Te=Object(a.c)(ye=>Object(h.d)(ye,fe));return ge?Object(c.h)(Te)?t.a.createElement($,{callId:ae,channelId:fe,closeModal:G,selectedMemberIds:ne}):t.a.createElement(E.a,{callId:ae,channel:Te,closeModal:G,selectedMemberIds:ne}):null}m(z,"HuddleInviteOrStartModal"),z.displayName="HuddleInviteOrStartModal";var be=s.a=Object(i.a)(z,{isStackable:!0})},m2C9:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("7lBi"),t=e("SQ0V"),a=e("u43d"),r=e("ED1u"),d=e("j77i");const o=Object(t.c)("Sets whether or not the user prefers a responsive sidebar",(i,h,l)=>{Object(a.a)(h())&&Object(d.w)(n.E,l),i(Object(r.f)(l))});o.meta={name:"createThunk",key:"createThunksetUserPrefersResponsiveSidebar",description:"Sets whether or not the user prefers a responsive sidebar"}},mHzN:function(K,s,e){K.exports=e.p+"slackbot_frowny_512-955a74f.png"},mNat:function(K,s,e){"use strict";e.d(s,"k",function(){return Oe}),e.d(s,"m",function(){return Ne}),e.d(s,"a",function(){return ze}),e.d(s,"b",function(){return Ke}),e.d(s,"o",function(){return ct}),e.d(s,"e",function(){return Tt}),e.d(s,"c",function(){return Et}),e.d(s,"d",function(){return Le}),e.d(s,"f",function(){return jt}),e.d(s,"p",function(){return Dt}),e.d(s,"j",function(){return Ee}),e.d(s,"n",function(){return te}),e.d(s,"l",function(){return Ae}),e.d(s,"g",function(){return Ve}),e.d(s,"h",function(){return Ye}),e.d(s,"i",function(){return ft}),e.d(s,"q",function(){return tt}),e.d(s,"r",function(){return Rt});var n=e("a83l"),t=e("8/D0"),a=e("Op30"),r=e("UIhb"),d=e("P9LH"),o=e("+l5E"),i=e("rebY"),h=e("sAkM"),l=e("Ar8P"),u=e("417x"),c=e("DcSV"),E=e("u7F4"),v=e("/0zS"),g=e("1Lli"),O=e("lCmp"),I=e("ZP0B"),C=e("Z0Cl"),f=e("wd/R"),S=e.n(f),D=e("Pq/0"),p=e("fGfo");function b(rt,we){var xe;const st=Object(p.g)(rt);if(!rt||!we||!st||!Object(p.l)(rt))return null;const ke=(xe=st.find(at=>at.type===t.a.User&&at.key===D.a.Owner))===null||xe===void 0?void 0:xe.key;if(!ke)return null;const lt=new Set;return Object.values(we).forEach(at=>{const ht=at.fields[ke];ht&&lt.add(ht)}),Array.from(lt)}m(b,"getRecordOwnerIds");var M=e("vkwO"),_=e.n(M),P=e("VFO2"),y=e.n(P),j=e("5Vg5"),U=e.n(j),W=e("GapZ"),L=e.n(W),R=e("CFdI"),A=e.n(R),B=e("7/Cr"),F=e.n(B),k=e("7Ehu"),V=e.n(k),X=e("kp40"),J=e.n(X),Y=e("pUqw"),ie=e.n(Y),de=e("COk/"),pe=e.n(de),oe=e("PaS2"),me=e.n(oe),re=e("42/h"),ve=e.n(re),q=e("sr/F"),ce=e.n(q),he=e("RnUY"),Se=e.n(he),se=e("4SNR"),H=e.n(se);const Oe=m(rt=>{let{record:we,colKey:xe}=rt;var st,ke,lt,at,ht;return!(we==null||(st=we.fallback)===null||st===void 0)&&st[xe]?we.fallback[xe]:!(we==null||(ke=we.fields)===null||ke===void 0||(lt=ke.fallback)===null||lt===void 0)&&lt[xe]?we==null||(at=we.fields)===null||at===void 0||(ht=at.fallback)===null||ht===void 0?void 0:ht[xe]:we[xe]?Object(l.a)(we[xe])?we[xe][0].elements[0].elements[0].text:we[xe].toString():""},"getStringValue"),$=m(rt=>{const we=S()(rt).startOf("isoWeek"),xe=S()(rt).endOf("isoWeek"),st=[];let ke=we;for(;ke<=xe;)st.push(ke),ke=ke.clone().add(1,"days");return st},"getWeekdays"),z=m(rt=>{const we="YYYY-MM-DD";let xe;switch(rt){case"today":xe=S()().format(we);break;case"yesterday":xe=S()().subtract(1,"days").format(we);break;case"tomorrow":xe=S()().add(1,"days").format(we);break;case"this_week":xe=$(S()()).map(ke=>ke.format(we));break;case"next_week":xe=$(S()().add(1,"weeks")).map(ke=>ke.format(we));break;case"last_week":xe=$(S()().subtract(1,"weeks")).map(ke=>ke.format(we));break;default:xe=S()(rt,we).format(we)}return Array.isArray(xe)?xe.map(ke=>S()(ke,we)):S()(xe,we)},"convertDynamicDateToStatic"),be=m((rt,we,xe)=>{switch(rt){case a.a.NotEqual:return!(we!=null&&we.isSame(xe));case a.a.GreaterThan:return we==null?void 0:we.isBefore(xe);case a.a.GreaterThanOrEqual:return we==null?void 0:we.isSameOrBefore(xe);case a.a.LessThan:return we==null?void 0:we.isAfter(xe);case a.a.LessThanOrEqual:return we==null?void 0:we.isSameOrAfter(xe);case a.a.Equal:default:return we==null?void 0:we.isSame(xe)}},"dateOperatorFilterValueCheck"),Z=m((rt,we,xe)=>{const st=we==null?void 0:we.clone().startOf("day"),ke=xe==null?void 0:xe.clone().startOf("day");switch(rt){case a.a.NotEqual:return!(st!=null&&st.isSame(ke));case a.a.GreaterThan:return st==null?void 0:st.isBefore(ke);case a.a.GreaterThanOrEqual:return st==null?void 0:st.isSameOrBefore(ke);case a.a.LessThan:return st==null?void 0:st.isAfter(ke);case a.a.LessThanOrEqual:return st==null?void 0:st.isSameOrAfter(ke);case a.a.Equal:default:return st==null?void 0:st.isSame(ke)}},"multiDateOperatorFilterValueCheck"),G=m((rt,we,xe)=>{if(!we.values[0])return rt;const st=we.values[0]?S()(we.values[0].toString()):void 0;return rt.filter(ke=>{const lt=ke[we.key]?S()(ke[we.key]):void 0;return st&&lt&&be(xe,st,lt)})},"dateFilter"),ne=m((rt,we,xe)=>we.values[0]?rt.filter(st=>{const ke=st[we.key],lt=ke?S()(ke).startOf("day"):void 0;return we.values.some(at=>{if(!at)return!1;const ht=z(at.toString());return Array.isArray(ht)?xe===a.a.NotEqual?!ht.some(Nt=>Nt&&lt?Nt.clone().startOf("day").isSame(lt):!1):ht.some(Nt=>Nt&&lt?Z(xe,Nt,lt):!1):ht&&lt?Z(xe,ht,lt):!1})}):rt,"multiDateFilter"),ge=m((rt,we,xe)=>{const st=we.values[0]?S()(we.values[0].toString()):void 0;return rt.filter(ke=>{const lt=ke[we.key]?S.a.unix(ke[we.key]):void 0;return st&&lt&&be(xe,st,lt)})},"dateTimestampFilter"),ae=m((rt,we,xe)=>{const st=we.values[0]||"";return rt.filter(ke=>{const lt=ke[we.key]||"";switch(xe){case a.a.DoesNotContain:return!lt.toLowerCase().includes(st.toString().toLowerCase());case a.a.Contains:default:return lt.toLowerCase().includes(st.toString().toLowerCase())}})},"textFilter"),fe=m((rt,we,xe)=>{const st=we.values[0]||"";return rt.filter(ke=>{const lt=Oe({record:ke,colKey:we.key});switch(xe){case a.a.DoesNotContain:return!lt.toLowerCase().includes(st.toString().toLowerCase());case a.a.Contains:default:return lt.toLowerCase().includes(st.toString().toLowerCase())}})},"richTextFilter"),Te=m((rt,we,xe)=>{if(!we.values.length)return rt;var st;const ke=Number((st=we.values[0])!==null&&st!==void 0?st:"");return rt.filter(lt=>{var at;const ht=Number((at=lt[we.key])!==null&&at!==void 0?at:"");if(!(ke&&!ht))switch(xe){case a.a.NotEqual:return ht!==ke;case a.a.GreaterThan:return ht>ke;case a.a.GreaterThanOrEqual:return ht>=ke;case a.a.LessThan:return ht<ke;case a.a.LessThanOrEqual:return ht<=ke;case a.a.Equal:default:return ht===ke}})},"numberFilter"),ye=m((rt,we,xe)=>{const st=new Set(we.values);return st.size?rt.filter(ke=>{var lt;const at=String((lt=ke[we.key])!==null&&lt!==void 0?lt:"");switch(xe){case a.a.Contains:return st.has(at);case a.a.DoesNotContain:return!st.has(at);case a.a.IsEmpty:return at===null;case a.a.IsNotEmpty:return at!==null;default:return!0}}):rt},"multiRatingFilter"),Ue=m((rt,we,xe,st)=>{const ke=new Set(we.values);return ke.size?rt.filter(lt=>{const at=lt[we.key],ht=(at??"").split(n.q).filter(Boolean);let Nt=!1;for(const Jt of ht){if(ke.has(Jt)){Nt=!0;break}if(!st)break}return xe===a.a.Equal?Nt:xe===a.a.NotEqual?!Nt:xe===a.a.Contains?Nt:xe===a.a.DoesNotContain?!Nt:!0}):rt},"multiOptionFilter");function Ne(rt){return rt===0?!1:!rt||Array.isArray(rt)&&rt.length===0}m(Ne,"isEmptyValue");const He=m((rt,we,xe,st,ke)=>{let lt=rt;return we.forEach(at=>{const ht=xe.find(Yt=>Yt.key===at.key);if(!ht)return;const Nt=at.operator;if(Nt===a.a.IsEmpty){lt=lt.filter(Yt=>Ne(Yt[at.key]));return}if(Nt===a.a.IsNotEmpty){lt=lt.filter(Yt=>!Ne(Yt[at.key]));return}switch(ht.type){case t.a.Text:lt=fe(lt,at,Nt);break;case t.a.Email:case t.a.Phone:lt=ae(lt,at,Nt);break;case t.a.Number:case t.a.Currency:lt=Te(lt,at,Nt);break;case t.a.Rating:lt=ye(lt,at,Nt);break;case t.a.Date:case t.a.DueDate:lt=ke?ne(lt,at,Nt):G(lt,at,Nt);break;case t.a.CreatedTime:case t.a.LastEditedTime:lt=ge(lt,at,Nt);break;case t.a.Checkbox:case t.a.Completed:return;case t.a.Select:var Jt;lt=Ue(lt,at,Nt,((Jt=ht.options)===null||Jt===void 0?void 0:Jt.format)===h.n.MultiSelect);break;case t.a.Channel:case t.a.User:case t.a.Assignee:case t.a.CreatedBy:case t.a.LastEditedBy:switch(Nt){case a.a.IsMe:lt=lt.filter(Yt=>{var sn;return(sn=Yt[at.key])===null||sn===void 0?void 0:sn.includes(st)});break;case a.a.IsNotMe:lt=lt.filter(Yt=>{var sn;return!(!((sn=Yt[at.key])===null||sn===void 0)&&sn.includes(st))});break;default:var zt;lt=Ue(lt,at,Nt,((zt=ht.options)===null||zt===void 0?void 0:zt.format)===h.e.MultiEntity)}break;default:lt=ae(lt,at,Nt);break}}),lt},"applyFiltersToRecords"),ze=new Map([[t.a.Text,""],[t.a.Email,""],[t.a.Date,""],[t.a.Checkbox,!1],[t.a.Completed,!1],[t.a.Number,0],[t.a.Rating,0],[t.a.CreatedTime,0],[t.a.LastEditedTime,0],[t.a.Channel,""],[t.a.User,""],[t.a.CreatedBy,""],[t.a.LastEditedBy,""]]),Je=m((rt,we,xe,st)=>{const ke=we.map(Nt=>Nt.ascending?"asc":"desc"),lt=new Map;for(const Nt of xe)if(Nt.type===t.a.Select){var at;const Jt=((at=Nt.options)===null||at===void 0?void 0:at.choices)||[];for(let zt=0;zt<Jt.length;zt++){const Yt=Jt[zt],sn=`${Nt.key}:${Yt.value}`;lt.set(sn,zt)}}const ht=we.map(Nt=>Jt=>{const zt=xe.find(on=>on.key===Nt.key);if(!zt)return"";var Yt;let sn=(Yt=Jt[Nt.key])!==null&&Yt!==void 0?Yt:ze.get(zt.type||t.a.Text);if(zt.type===t.a.Select){var dn,Mt;const on=(((dn=zt.options)===null||dn===void 0?void 0:dn.choices)||[]).length;var yt;let ut=((yt=Jt[Nt.key])!==null&&yt!==void 0?yt:"").split(n.q).filter(Boolean);if(on===0||ut.length===0)return-1;((Mt=zt.options)===null||Mt===void 0?void 0:Mt.format)!==h.n.MultiSelect&&(ut=ut.slice(0,1));let Ot=on;for(const Wt of ut){const Ht=`${zt.key}:${Wt}`;var tn;const Zt=(tn=lt.get(Ht))!==null&&tn!==void 0?tn:on;Ot=Math.min(Ot,Zt)}sn=Ot<on?Ot:-1}if((zt==null?void 0:zt.type)===t.a.User&&st[Jt[Nt.key]]&&(sn=st[Jt[Nt.key]].toLowerCase()),(zt==null?void 0:zt.type)===t.a.Text&&(sn=Oe({record:Jt,colKey:Nt.key})),zt.type===t.a.Vote){var an;sn=((an=Jt[Nt.key])!==null&&an!==void 0?an:"").split(n.q).filter(Boolean).length}return sn});return Object(g.a)(rt,ht,ke)},"applySortToRecords"),Xe=new Set([t.a.Text,t.a.Email,t.a.Phone,t.a.Number,t.a.Rating,t.a.Select]),Me=m((rt,we,xe)=>{const st=we.filter(Nt=>Xe.has(Nt.type)),ke=new Map;for(const Nt of st)if(Nt.type===t.a.Select){var lt,at;const Jt=(at=(lt=Nt.options)===null||lt===void 0?void 0:lt.choices)!==null&&at!==void 0?at:[];for(const{value:zt,label:Yt}of Jt){const sn=`${Nt.key}:${zt}`;ke.set(sn,Yt)}}const ht=xe.toLowerCase();return rt.filter(Nt=>Object(O.a)(st,Jt=>{const zt=Oe({record:Nt,colKey:Jt.key});if(Jt.type===t.a.Select){var Yt;let dn=zt.split(n.q).filter(Boolean);((Yt=Jt.options)===null||Yt===void 0?void 0:Yt.format)===h.n.MultiSelect||(dn=dn.slice(0,1));for(const yt of dn){const tn=`${Jt.key}:${yt}`;var sn;if(((sn=ke.get(tn))!==null&&sn!==void 0?sn:zt).toLowerCase().includes(ht))return!0}}return zt.toLowerCase().includes(ht)}))},"applySearchStringToRecords"),Ke=m(rt=>{let{records:we,schema:xe,filterObj:st,sortObj:ke,searchString:lt,experimentChromeGroupOn:at=!1}=rt,ht=we;if(st){const{filters:Nt,currentUserId:Jt}=st;ht=He(ht,Nt,xe,Jt,at)}if(ke){const{sorts:Nt,userNames:Jt}=ke;ht=Je(ht,Nt,xe,Jt)}return lt&&(ht=Me(ht,xe,lt)),ht},"applyModifiersToRecords");function $e(rt,we,xe){const st=Object(r.b)(rt,we,xe);return st&&!Object(i.a)(st)&&!Object(o.bb)(st)&&!Object(o.pb)(st)}m($e,"isValidMarkedMessageForListThread");function ct(rt,we,xe){return Object(I.a)(Object(C.a)(xe,st=>$e(rt,we,st)))}m(ct,"maxRealTsForListThread");function Tt(rt,we,xe,st,ke){let lt=(xe==null?void 0:xe.position)||0;if(rt&&we){var at,ht,Nt,Jt,zt;const Ht=Number((zt=(at=st[rt.id])===null||at===void 0?void 0:at.position)!==null&&zt!==void 0?zt:0);var Yt;const Zt=Number((Yt=(ht=st[we.id])===null||ht===void 0?void 0:ht.position)!==null&&Yt!==void 0?Yt:0);var sn;const gn=Number((sn=(Nt=st[rt.id])===null||Nt===void 0?void 0:Nt.viewPositions[ke])!==null&&sn!==void 0?sn:Ht);var dn;const Pn=Number((dn=(Jt=st[we.id])===null||Jt===void 0?void 0:Jt.viewPositions[ke])!==null&&dn!==void 0?dn:Zt);lt=(gn+Pn)/2}else if(rt){var Mt,yt,tn;const Ht=Number((tn=(Mt=st[rt.id])===null||Mt===void 0?void 0:Mt.position)!==null&&tn!==void 0?tn:0);var an;lt=Number((an=(yt=st[rt.id])===null||yt===void 0?void 0:yt.viewPositions[ke])!==null&&an!==void 0?an:Ht)+1}else if(we){var on,ut,Ot;const Ht=Number((Ot=(on=st[we.id])===null||on===void 0?void 0:on.position)!==null&&Ot!==void 0?Ot:0);var Wt;lt=Number((Wt=(ut=st[we.id])===null||ut===void 0?void 0:ut.viewPositions[ke])!==null&&Wt!==void 0?Wt:Ht)-1}return lt}m(Tt,"calculateRecordPositionForView");function Et(rt,we,xe,st){let ke=null,lt=null;if(rt&&we){var at,ht,Nt,Jt;if(!((at=xe[rt.id])===null||at===void 0)&&at.viewPositions&&(!((ht=xe[rt.id])===null||ht===void 0)&&ht.viewPositions[st])){var zt;ke=(zt=xe[rt.id])===null||zt===void 0?void 0:zt.viewPositions[st]}else{var Yt,sn;ke=!((Yt=xe[rt.id])===null||Yt===void 0)&&Yt.position?`${(sn=xe[rt.id])===null||sn===void 0?void 0:sn.position}`:null}if(!((Nt=xe[we.id])===null||Nt===void 0)&&Nt.viewPositions&&(!((Jt=xe[we.id])===null||Jt===void 0)&&Jt.viewPositions[st])){var dn;lt=(dn=xe[we.id])===null||dn===void 0?void 0:dn.viewPositions[st]}else{var Mt,yt;lt=!((Mt=xe[we.id])===null||Mt===void 0)&&Mt.position?`${(yt=xe[we.id])===null||yt===void 0?void 0:yt.position}`:null}}else if(rt){var tn,an;if(!((tn=xe[rt.id])===null||tn===void 0)&&tn.viewPositions&&(!((an=xe[rt.id])===null||an===void 0)&&an.viewPositions[st])){var on;ke=(on=xe[rt.id])===null||on===void 0?void 0:on.viewPositions[st]}else{var ut,Ot;ke=!((ut=xe[rt.id])===null||ut===void 0)&&ut.position?`${(Ot=xe[rt.id])===null||Ot===void 0?void 0:Ot.position}`:null}}else if(we){var Wt,Ht;if(!((Wt=xe[we.id])===null||Wt===void 0)&&Wt.viewPositions&&(!((Ht=xe[we.id])===null||Ht===void 0)&&Ht.viewPositions[st])){var Zt;lt=(Zt=xe[we.id])===null||Zt===void 0?void 0:Zt.viewPositions[st]}else{var gn,Pn;lt=!((gn=xe[we.id])===null||gn===void 0)&&gn.position?`${(Pn=xe[we.id])===null||Pn===void 0?void 0:Pn.position}`:null}}return Object(E.a)(ke,lt)}m(Et,"calculateFractionalRecordPosition");function Le(rt,we){let xe=null,st=null;return rt&&we?(xe=rt.position,st=we.position):rt?xe=rt.position:we&&(st=we.position),Object(E.a)(xe,st)}m(Le,"calculateFractionalViewPosition");const jt=m(rt=>{var we;const xe=Object(v.a)({input:rt});return xe&&xe[0]&&xe[0].offset===0&&((we=xe[0].url)===null||we===void 0?void 0:we.length)===(rt==null?void 0:rt.length)?[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"link",url:xe[0].url||""}]}]}]:[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"text",text:rt||""}]}]}]},"convertStringToBlocks"),Dt=m(rt=>{if(rt instanceof HTMLElement){if(rt instanceof HTMLInputElement&&["checkbox","radio"].includes(rt.type))return!0;if(["input","textarea","select"].includes(rt.tagName.toLowerCase())||rt.isContentEditable)return!1}return!0},"shouldHandleUndoFrom"),Ee=m((rt,we)=>{const xe=[];var st;const ke=(st=Object(d.C)(rt))!==null&&st!==void 0?st:[],lt=Object(d.Y)(rt).length||Object(d.Ab)(rt);return we.forEach((at,ht)=>{const Nt=ke.some(Mt=>(Mt==null?void 0:Mt.user_id)===(at==null?void 0:at.id));var Jt;const zt=(Jt=at==null?void 0:at.is_profile_only_user)!==null&&Jt!==void 0?Jt:!1;var Yt;const sn=(Yt=at==null?void 0:at.is_self)!==null&&Yt!==void 0?Yt:!1;!zt&&!sn&&!Nt&&!lt&&xe.push(ht)}),xe},"getRestrictedSelectedTokenIndexes"),te=m(rt=>["created_time","created_by","last_edited_time","last_edited_by"].includes(rt.type),"isMetaColumn"),Ae=m(rt=>{switch(rt){case h.j.BLANK:return{card:_.a};case h.j.TEAM_PRIORITIES:return{card:V.a,screenshot:Se.a};case h.j.PROJECT_TRACKER:return{card:F.a,screenshot:ce.a};case h.j.TRIAGE_SLACK:return{card:J.a,screenshot:H.a};case h.j.CROWDSOURCE_IDEAS:return{card:U.a,screenshot:pe.a};case h.j.FEEDBACK:return{card:L.a,screenshot:me.a};case h.j.BUGS:return{card:y.a,screenshot:ie.a};case h.j.HELP:return{card:A.a,screenshot:ve.a};default:return{card:F.a,screenshot:ce.a}}},"getTemplateImage"),Ve=m(rt=>{var we,xe,st,ke,lt;const at=Object(u.a)(rt,100);return{id:at.id,title:at.title||"",icon:((we=at.listMetadata)===null||we===void 0?void 0:we.icon)||"",description:((xe=at.listMetadata)===null||xe===void 0?void 0:xe.description)||"",schema:((st=at.listMetadata)===null||st===void 0?void 0:st.schema)||[],views:((ke=at.listMetadata)===null||ke===void 0?void 0:ke.views)||[],isPublic:!!at.isPublic,updated:at.updated,creationSource:(lt=at.listMetadata)===null||lt===void 0?void 0:lt.creationSource,lastReadTs:at.lastRead}},"createListFromFileApi"),Ye=m((rt,we)=>{if(!rt)return"";const xe=Oe({record:rt,colKey:"name"});if(!xe)return"";let st=Object(c.e)(xe==null?void 0:xe.toLowerCase().split(/[ :/-]/).filter(Boolean).join("-"));return st=st.split("-").filter(Boolean).join("-"),we&&!st.startsWith(we)&&(st=`${we}${st}`),st.slice(0,Object(c.d)())},"generateChannelNameFromRecordName"),ft=m((rt,we,xe,st)=>{const ke=((st==null?void 0:st.editors)||[]).filter(ht=>ht!==rt),lt=(b(we,xe)||[]).filter(ht=>ht!==rt),at=new Set([...ke,...lt]);return Array.from(at)},"getListRecordChannelInitialInvitedMemberIds"),tt=m(()=>new Date<new Date("2023-11-15"),"shouldShowListsNewCallout"),Rt=m((rt,we)=>{var xe,st;return rt?we&&(we.type===t.a.MultiSelect||we.type===t.a.Select&&(we==null||(xe=we.options)===null||xe===void 0?void 0:xe.format)===h.n.MultiSelect||(we.type===t.a.User||we.type===t.a.Channel)&&(we==null||(st=we.options)===null||st===void 0?void 0:st.format)===h.e.MultiEntity)?new Set(rt.split(n.q).filter(Boolean)):new Set([rt]):new Set},"splitMultiValueField")},mSUo:function(K,s,e){"use strict";var n=e("Kyco"),t=e("vLZU"),a=e("COQp");const r={hasKeyboardFocus:!1},d=Object(n.b)({},r,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0,scope:t.k.orgShared}).on(a.a,function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o.hasKeyboardFocus===i?o:{...o,hasKeyboardFocus:i}});s.a=d},mSpc:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("OKwM");class t{add(r){this.rows.push(r),this.adjustPadding(r)}report(){const r=this.padding.map(o=>"-".repeat(o));return(this.columnNames?[r,this.columnNames,r]:[]).concat(this.rows).reduce((o,i)=>o+i.reduce((h,l,u)=>h+Object(n.a)(l,this.padding[u])+(u!==i.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(r){this.padding=r.map((d,o)=>Math.max(d.length,this.padding[o]||0))}constructor(r,d="|"){this.columnNames=r,this.separator=d,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}m(t,"StringTable")},mVl8:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("ZKjC"),t=e("O86Y"),a=e("gOA+");const r=Object(n.b)((d,o)=>{const i=Object(t.g)(d);return i&&Object(a.a)().maybeRefetch(i,o),d&&d.membershipOrdered&&d.membershipOrdered[o]?d.membershipOrdered[o]:[]});r.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(d,o)=>{const i=Object(t.g)(d);return i&&Object(a.a)().maybeRefetch(i,o),d&&d.membershipOrdered&&d.membershipOrdered[o]?d.membershipOrdered[o]:[]}}},"mY+K":function(K,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("9oTK"),t=e.n(n),a=e("oTSI"),r=e("Lgge"),d=e("uAML"),o=e("lhZz"),i=e("GAXn"),h=e("9068"),l=e("F56K");const u=Object(a.a)(()=>new d.b({fetch:c,isEnabled:()=>!0}));function c(v,g){return r.a.map(g,function(){var O=Object(n.coroutine)(function*(I){try{return(yield Object(o.dispatchForTeamId)(v,Object(i.a)({workflowId:I,reason:"hermes_workflows_store"}))).workflow}catch{return Object(h.e)(I)}});return function(I){return O.apply(this,arguments)}}()).then(O=>Object(o.dispatchForTeamId)(v,Object(l.b)({workflows:O})))}m(c,"fetchAndUpsertWorkflowsForTeamId");const E={fetchAndUpsertWorkflowsForTeamId:c}},mf6s:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("LZPg"),d=e("BHdc"),o=e("G5NC"),i=e("1VgO"),h=e("lhZz"),l=e("myfR"),u=e("S4nM"),c=e("e9jb"),E=e("RVJP");function v(){return v=Object.assign||function(M){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var y in P)Object.prototype.hasOwnProperty.call(P,y)&&(M[y]=P[y])}return M},v.apply(this,arguments)}m(v,"_extends");let g=m(class extends n.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var _;const P=this.videoRef.current,{shouldAttachStream:y,tileId:j,peerId:U}=this.props;!j||!P||(this.props.unbindVideo({tileId:j,videoRef:this.videoRef,shouldDetachStream:!!y,peerId:U}),P.removeEventListener("resize",this.onResize),(_=this.interactionObserver)===null||_===void 0||_.disconnect())}setUpMedia(){const _=this.videoRef.current,{shouldAttachStream:P,tileId:y,peerId:j}=this.props;!y||!_||(this.props.bindVideo({tileId:y,videoRef:this.videoRef,shouldAttachStream:!!P,peerId:j}),_.addEventListener("resize",this.onResize))}setupInteractionObserver(){var _;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((_=this.interactionObserver)===null||_===void 0||_.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var P;(P=this.interactionObserver)===null||P===void 0||P.observe(this.videoRef.current)}}interactionObserverCallback(_){const P=_[0];if(!P)return;const y=this.videoRef.current,{shouldAttachStream:j,tileId:U,peerId:W}=this.props;!U||!y||(P.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:U,videoRef:this.videoRef,shouldAttachStream:!!j,peerId:W}):this.props.unbindVideo({tileId:U,videoRef:this.videoRef,shouldDetachStream:!!j,peerId:W}))}onResize(){const _=this.videoRef.current;_&&(this.props.isSharingScreen?_.style.objectFit="contain":_.style.objectFit=_.videoWidth>_.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:_,peerId:P,tileId:y,isActivePeerSharingScreen:j,isShroudVisible:U}=this.props;!_||!y||(P!=="self"&&j&&!U?this.props.pauseVideo({tileId:y}):this.props.unpauseVideo({tileId:y}))}render(){const{refToForward:_,shouldFlip:P,peerId:y,className:j,width:U,height:W,onLoadedData:L}=this.props;return t.a.createElement("video",v({className:Object(d.default)("p-calls_video",j,{flipped:P}),ref:Object(i.b)(this.videoRef,_),key:y,"data-qa":"free-willy-video-element",style:{width:U,height:W}},L?{onLoadedData:L}:{}))}constructor(_){super(_),this.videoRef=Object(n.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=_.onResize?_.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");g.displayName="VideoElement";const O=m((M,_)=>{var P;const y=Object(E.d)(M,"calls_pause_video_on_screenshare")==="treatment",j=Object(r.u)(M),U=_.peer?Object(r.X)(_.peer):!1;let W;if(j)W=_.tileId;else{var L,R,A,B,F,k;W=U?(L=_.peer)===null||L===void 0||(R=L.tileIds)===null||R===void 0||(A=R.screenshare)===null||A===void 0?void 0:A.tileId:(B=_.peer)===null||B===void 0||(F=B.tileIds)===null||F===void 0||(k=F.camera)===null||k===void 0?void 0:k.tileId}return{tileId:W,peerId:(P=_.peer)===null||P===void 0?void 0:P.id,isSharingScreen:U,isShroudVisible:y&&Object(c.a)()?Object(u.h)(M):!1,isActivePeerSharingScreen:Object(r.v)(M),experimentCallsPauseVideoOnScreenshareGroupTreatment:y}},"mapStateToProps"),I=m(M=>({bindVideo:_=>Object(o.a)()?Object(h.dispatchForClientStore)(Object(l.a)(_)):M(Object(l.a)(_)),unbindVideo:_=>Object(o.a)()?Object(h.dispatchForClientStore)(Object(l.c)(_)):M(Object(l.c)(_)),pauseVideo:_=>Object(o.a)()?Object(h.dispatchForClientStore)(Object(l.b)(_)):M(Object(l.b)(_)),unpauseVideo:_=>Object(o.a)()?Object(h.dispatchForClientStore)(Object(l.d)(_)):M(Object(l.d)(_))}),"mapDispatchToProps"),C=Object(a.a)(O,I)(g);var f=t.a.forwardRef((M,_)=>t.a.createElement(C,v({refToForward:_},M)));function S(){return S=Object.assign||function(M){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var y in P)Object.prototype.hasOwnProperty.call(P,y)&&(M[y]=P[y])}return M},S.apply(this,arguments)}m(S,"peer_video_element_extends");const D=m((M,_)=>{const P=Object(r.u)(M),y=Object(r.J)(M,_.id);let j;const U=_.tileId;if(!P)j=Object(r.Y)(y)&&!y.isScreenshareEnabled;else{var W,L;const R=((W=y.tileIds)===null||W===void 0||(L=W.screenshare)===null||L===void 0?void 0:L.tileId)===U;j=Object(r.Y)(y)&&!R}return{peer:y,tileId:U,shouldFlip:j}},"peer_video_element_mapStateToProps"),p=Object(a.a)(D)(f);var b=s.a=t.a.forwardRef((M,_)=>t.a.createElement(p,S({},M,{refToForward:_})))},mmwi:function(K,s,e){K.exports=e.p+"ava_0002-72-c702398.png"},mnG8:function(K,s,e){K.exports=e.p+"slackbot_neutral_1024-b58a548.png"},mwr9:function(K,s,e){"use strict";e.d(s,"c",function(){return ye}),e.d(s,"b",function(){return Ue}),e.d(s,"d",function(){return Ne}),e.d(s,"a",function(){return ze});var n=e("9oTK"),t=e("SQ0V"),a=e("lhZz"),r=e("LZPg"),d=e("sNDC"),o=e("4tnk"),i=e("ti9H"),h=e("vfQU"),l=e("1Zcw"),u=e("oBB2"),c=e("Nq3N"),E=e("Wn1n"),v=e("q1tI"),g=e.n(v),O=e("DneB"),I=e("Kmpi"),C=e("7JUD"),f=e("lvWT"),S=e("tYRW"),D=e("AEEY"),p=e("9org"),b=e("zKrX"),M=e("YyjR"),_=e("iUFw"),P=e("eBYm"),y=e("oEDn"),j=e("Trx9"),U=e("zxER"),W=e("B4ch"),L=e("+CZ0"),R=e("E3dU"),A=e("Yauy"),B=e("Enx8"),F=e("E97Y"),k=e("ktUG"),V=e("nNoG"),X=e("2kWh"),J=e("LqER");function Y(){return Y=Object.assign||function(Je){for(var Xe=1;Xe<arguments.length;Xe++){var Me=arguments[Xe];for(var Ke in Me)Object.prototype.hasOwnProperty.call(Me,Ke)&&(Je[Ke]=Me[Ke])}return Je},Y.apply(this,arguments)}m(Y,"_extends");const ie=new V.b("huddles"),de={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:k.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},pe={elementName:"huddles_invite_confirmation_dialog_ok",eventId:k.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function oe(Je){let{closeModal:Xe,...Me}=Je;const{channelId:Ke,senderUserId:$e}=Me,ct=Object(J.b)(Ke),{handleDecline:Tt,handleJoin:Et,isLoading:Le,inviteText:jt}=Object(X.c)(Me),Dt=Object(U.c)(tt=>Object(B.a)(tt,$e));let Ee=ie.t("Huddle with {dmPersons}",{dmPersons:Dt,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const te=Object(U.c)(tt=>Object(R.d)(tt,Ke)),Ae=Object(U.c)(tt=>Object(I.b)(te)?Object(A.t)(tt,te,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);Ae&&(Ee=Object(F.h)(te)?ie.t("Huddle with {dmPersons}",{dmPersons:Ae,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):ie.t("Huddle in {channelName}",{channelName:Ae,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const Ve=Object(O.b)(L.b)===Ke;Object(v.useEffect)(()=>{Ve&&!Le&&(Xe==null||Xe())},[Ve,Le,Xe]);const Ye=Object(v.useCallback)(()=>{Tt(),Xe==null||Xe()},[Xe,Tt]),ft="huddle-invite-join-modal";return g.a.createElement(j.a,Y({uiComponentName:k.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},ct),g.a.createElement(C.a,{labelledby:ft,dataQa:ft,closeModal:Xe,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},g.a.createElement(f.a,null,g.a.createElement(S.a,{title:Ee,id:ft})),g.a.createElement(D.a,null,g.a.createElement(p.a,null,jt)),g.a.createElement(b.a,null,g.a.createElement(M.a,null,g.a.createElement(_.d,{type:"outline",onClick:Ye,"data-qa":"huddle_invite_join_cancel",autoClogProps:de},ie.t("Not Now")),g.a.createElement(P.a,{type:"primary",loading:Le,onClick:Et,"data-qa":"huddle_invite_join_go",autoClogProps:pe,autoFocus:!0},g.a.createElement(y.a,{type:"headphones"}),g.a.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},ie.t("Join")))))))}m(oe,"HuddleInviteJoinModal"),oe.displayName="HuddleInviteJoinModal";const me={HuddleInviteJoinModal:oe};var re=Object(W.a)(oe),ve=e("m1zK"),q=e("Lgge"),ce=e("s4P+"),he=e("Zbwg"),Se=e("l1I1"),se=e("HpvR"),H=e("3vtZ"),Oe=e("5IZy"),$=e("kBpe"),z=e("to1N"),be=e("0dq7"),Z=e("qZdH"),G=e("v7mh"),ne=e("2VFn"),ge=e("rZ8V"),ae=e("RV0M"),fe=e("uiBO");const Te=m((Je,Xe,Me)=>{Object(Oe.a)({state:Je}).track(Xe,{contexts:{calls:Object(H.p)(Je,Me),ui_context:{action:k.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),ye=Object(t.c)("Start huddle in highlighted channel or current primary view",function(){var Je=Object(n.coroutine)(function*(Xe,Me,Ke){let{highlightedChannelId:$e}=Ke;const ct=Object(a.getStateForClientStore)(),Tt=Me(),Et=Object(ge.m)(Tt),Le=Et,jt=Object(G.a)(Tt),Dt=Object(E.a)(Tt),Ee=Le?Object(G.g)(Tt,{tab:jt,container:ne.h.Primary}):null,te=Le?Ee==null?void 0:Ee.id:Dt,Ae=$e||te,{channelId:Ve,teamId:Ye}=Object(L.c)(ct)||{};if(Ve&&Ye&&(!$e||$e===Ve)){Object(a.dispatchForTeamId)(Ye,Object(u.a)()),Te(Tt,k.EventId.HUDDLES_LEAVE,Ve);return}const ft=Object(L.f)(ct);if(ft&&!$e){const{channelId:Rt,senderUserId:rt,callId:we,teamId:xe}=ft;Object(a.dispatchForTeamId)(xe,re({channelId:Rt,senderUserId:rt,callId:we}));return}if(!Ae||!Object(he.a)(Ae)&&!Object(Se.a)(Ae)){Et&&Xe(Object(ve.a)());return}const tt=Object(se.a)(Tt,Ae);tt&&Object(H.e)(Tt,tt)&&(Te(Tt,k.EventId.HUDDLES_JOIN,tt.id),Xe(Object(z.a)({channelId:tt.id,forceFocus:!0,entryPoint:be.e.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});return function(Xe,Me,Ke){return Je.apply(this,arguments)}}());ye.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const Ue=Object(t.c)("Start huddle in the current view",function(){var Je=Object(n.coroutine)(function*(Xe,Me,Ke,$e){var ct,Tt;const Et=Me(),{shouldUseNavigate:Le,isChildWindow:jt,getViewSet:Dt}=$e(ae.a),Ee=Dt(Et);(!Le||!jt||(Ee==null||(ct=Ee[ne.h.Primary])===null||ct===void 0?void 0:ct.viewType)!==fe.b.Channel)&&Xe(ye({highlightedChannelId:void 0}));const te=Ee==null||(Tt=Ee[ne.h.Primary])===null||Tt===void 0?void 0:Tt.id;Xe(ye({highlightedChannelId:te}))});return function(Xe,Me,Ke,$e){return Je.apply(this,arguments)}}());Ue.meta={name:"createThunk",key:"createThunktoggleHuddleInCurrentView",description:"Start huddle in the current view"};const Ne=Object(t.c)("Toggle microphone from current value to opposite value",(Je,Xe)=>{const Me=Object(a.getStateForClientStore)(),{teamId:Ke,channelId:$e}=Object(L.c)(Me)||{};if(!Ke)return;const ct=Object(a.getStateByTeamId)(Ke),Tt=Object(r.V)(ct),Et=Tt==null?void 0:Tt.isMicrophoneEnabled;Object(a.dispatchForTeamId)(Ke,Object(c.a)(!Et)),Je(Et?Object(d.b)():Object(d.c)()),Object(ce.a)({state:ct}).info(l.c,`Keyboard shortcut invoked -- toggling mic to ${Et?k.EventId.HUDDLES_MUTE:k.EventId.HUDDLES_UNMUTE}`),$e&&Te(ct,Et?k.EventId.HUDDLES_MUTE:k.EventId.HUDDLES_UNMUTE,$e)});Ne.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let He=!1;const ze=m(Je=>{var Xe;return Object($.j)("4.13.0")?(Je&&!He&&(Object(h.Sb)(i.a.TOGGLE_MUTE,Object(n.coroutine)(function*(){const Me=Object(a.getStateForClientStore)(),{teamId:Ke}=Object(L.c)(Me)||{};Ke&&(Object(a.dispatchForTeamId)(Ke,Ne()),Object(o.k)(Object(a.getStateForClientStore)())||Object(a.dispatchForClientStore)(Object(Z.b)()))})),He=!0),(Xe=Object(h.Nc)(i.a.TOGGLE_MUTE,Je))===null||Xe===void 0?void 0:Xe.then(()=>Je)):q.a.resolve(!1)},"maybeToggleGlobalMuteShortcut")},mx2s:function(K,s,e){"use strict";e.d(s,"i",function(){return n}),e.d(s,"j",function(){return t}),e.d(s,"g",function(){return a}),e.d(s,"h",function(){return r}),e.d(s,"d",function(){return d}),e.d(s,"e",function(){return o}),e.d(s,"b",function(){return i}),e.d(s,"c",function(){return h}),e.d(s,"f",function(){return l}),e.d(s,"l",function(){return u}),e.d(s,"a",function(){return c}),e.d(s,"k",function(){return E});const n="viewLayoutSidebarWidthIntent",t="viewLayoutSidebarWidthMode",a="viewLayoutSidebarWideWidthIntent",r="viewLayoutSidebarWideWidthMode",d="viewLayoutSidebarExtraWideWidthIntent",o="viewLayoutSidebarExtraWideWidthMode",i="viewLayoutSecondaryWidthIntent",h="viewLayoutSecondaryWidthMode",l="viewLayoutIsSidebarVisible",u="viewLayoutIsWorkspaceSwitcherVisible",c="viewLayoutLastSidebarWidth",E="workspaceSwitcherNewCallout"},myfR:function(K,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"c",function(){return u}),e.d(s,"b",function(){return c}),e.d(s,"d",function(){return E}),e.d(s,"e",function(){return v});var n=e("DwFS");const t=Object(n.a)("connect to free willy media server");t.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const a=Object(n.a)("Set flag to indicate if experimental Chime SDK should be used");a.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const r=Object(n.a)("Set flag to indicate if voice focus should be used in a Chime call");r.meta={name:"createAction",key:"createActionsetUseVoiceFocus",description:"Set flag to indicate if voice focus should be used in a Chime call"};const d=Object(n.a)("Set flag to indicate if simulcast should be used in a Chime call");d.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const o=Object(n.a)("Set flag to indicate if priority based downlink policy should be used in a Chime call");o.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const i=Object(n.a)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");i.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const h=Object(n.a)("Set flag to determine if a call is a readiness test call");h.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const l=Object(n.a)("Binds video tile to a video element");l.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const u=Object(n.a)("Unbinds video tile from a video element");u.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const c=Object(n.a)("Pauses video tile");c.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const E=Object(n.a)("Unpauses video tile");E.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const v=Object(n.a)("Returns if there in a stream associated with the tileId");v.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},n3Lk:function(K,s,e){"use strict";e.d(s,"a",function(){return c}),e.d(s,"c",function(){return E}),e.d(s,"b",function(){return v});var n=e("s4P+"),t=e("SQ0V"),a=e("lhZz"),r=e("T1zM"),d=e("1Zcw"),o=e("dKQz"),i=e("0dq7"),h=e("ovHh"),l=e("rTTn"),u=e("+CZ0");const c=Object(t.c)("Close the mini survey after a postive response",(g,O,I)=>{let{channelId:C}=I;Object(a.dispatchForClientStore)(Object(o.ab)({channelId:C,optimisticHuddleState:null,huddleState:i.a.NOT_STARTED}))});c.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a postive response"};const E=Object(t.c)("Set the date for when the user last saw the huddle survey",(g,O,I)=>{let{timeSeen:C}=I;g(Object(r.f)({pref:"huddle_survey_last_seen",value:C}))});E.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const v=Object(t.c)("Record the result of the mini survey we first display the user after a huddle ends.",(g,O,I)=>{let{result:C}=I;const f=Object(a.getStateForClientStore)(),S=Object(u.a)(f),D=Object(u.b)(f),p=l.a.HuddleSurvey;let b=i.a.NOT_STARTED;switch(C){case"bad":S&&g(Object(l.b)({callId:S}));break;case"good":b=i.a.SURVEY_GOOD,g(Object(h.a)({isOk:!0,callId:S,type:p}));break;case"dismiss":g(Object(h.a)({isOk:!1,callId:S,notOkResponses:["dismiss"]}));break;default:}Object(a.dispatchForClientStore)(Object(o.ab)({channelId:D,optimisticHuddleState:null,huddleState:b})),Object(n.a)({getState:O}).info(d.c,`Marking huddle as ${b} in component: huddle-survey`)});v.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},n3y5:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("oTSI"),d=e("ifKl"),o=e("oEDn");const i=Object(r.a)(g=>({height:`${g}px`,width:`${g}px`}));function h(g){let{icon:O,classes:I=null,size:C=20,ariaHidden:f=void 0,ariaRole:S="img",ariaLabel:D=void 0}=g;const p=Object(a.default)("c-base_font_icon",I);return t.a.createElement("div",{className:p,style:i(C),"aria-hidden":f,role:S,"aria-label":D},t.a.createElement(o.a,{type:O}))}m(h,"BaseFontIcon"),h.displayName="BaseFontIcon";var l=h;const u=Object(r.a)(g=>({height:`${g}px`,width:`${g}px`})),c=Object(r.a)(g=>({width:`${g}px`}));function E(g){let{image:O=void 0,size:I=20,srcSet:C="",classes:f=void 0,icon:S=void 0,ariaHidden:D=!1,ariaRole:p="img",ariaLabel:b=void 0,widthOnly:M=!1,onLoad:_=d.a,onError:P=d.a,resetIA:y,"data-qa":j}=g;if(O&&S)throw Error("Cannot pass in both image and icon!");if(!D&&!b)throw Error("If ariaHidden is false, we must have an ariaLabel for a11y!");const U=Object(a.default)("c-base_icon",f,{"c-base_icon--unknown":!O&&!S,"c-base_icon--image":O,"c-base_icon--resetIA":y});if(S)return t.a.createElement(l,{icon:S,classes:U,size:I,ariaHidden:D,ariaRole:p,ariaLabel:b});const W=t.a.createElement("img",{src:O,srcSet:C,className:U,style:M?c(I):u(I),"aria-hidden":D,role:p,"aria-label":b,alt:"",onLoad:_,onError:P,"data-qa":j});return M?t.a.createElement("span",{className:Object(a.default)("c-base_icon__width_only_container",{"c-base_icon--resetIA":y}),style:u(I)},W):W}m(E,"BaseIcon"),E.displayName="BaseIcon";var v=s.a=E},n9FT:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),r=e("O9MH"),d=e("LZPg");const o=Object(a.c)("Maybe show share screen borders",function(){var h=Object(n.coroutine)(function*(l,u){const c=u(),E=Object(d.s)(c),v=E==null?void 0:E.mediaSourceId;v&&Object(r.b)(v,c)});return function(l,u){return h.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkmaybeShowScreenBorders",description:"Maybe show share screen borders"};const i=Object(a.c)("Hide share screen borders",(h,l)=>{Object(r.a)()});i.meta={name:"createThunk",key:"createThunkhideScreenBorders",description:"Hide share screen borders"}},nBRq:function(K,s,e){"use strict";e.d(s,"a",function(){return r});function n(o,i,h,l){let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const c=[l.x-i.x,l.y-i.y],E=[h.x-i.x,h.y-i.y],v=[o.x-i.x,o.y-i.y],g=c[0]*c[0]+c[1]*c[1],O=c[0]*E[0]+c[1]*E[1],I=c[0]*v[0]+c[1]*v[1],C=E[0]*E[0]+E[1]*E[1],f=E[0]*v[0]+E[1]*v[1],S=1/(g*C-O*O),D=(C*I-O*f)*S,p=(g*f-O*I)*S;return D>=-u&&p>=-u&&D+p<1+u}m(n,"isPointInTriangle");function t(o,i,h){const l=(h.x-i.x)**2+(h.y-i.y)**2,u=((o.x-i.x)*(h.x-i.x)+(o.y-i.y)*(h.y-i.y))/l;return u<0?(o.x-i.x)**2+(o.y-i.y)**2:u<=1?(i.x-o.x)**2+(i.y-o.y)**2-u**2*l:(o.x-h.x)**2+(o.y-h.y)**2}m(t,"distanceSquarePointToSegment");function a(o,i,h,l){let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const c=Math.min(i.x,Math.min(h.x,l.x))-u,E=Math.max(i.x,Math.max(h.x,l.x))+u,v=Math.min(i.y,Math.min(h.y,l.y))-u,g=Math.max(i.y,Math.max(h.y,l.y))+u;return o.x>c&&o.x<E&&o.y>v&&o.y<g}m(a,"pointInTriangleBoundingBox");function r(o,i,h,l){let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!a(o,i,h,l,u))return!1;const c=u**2;return n(o,i,h,l,0)||t(o,i,h)<=c||t(o,h,l)<=c||t(o,l,i)<=c}m(r,"accurateIsPointInTriangle");var d={accurateIsPointInTriangle:r,isPointInTriangle:n}},nHGf:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),r=e("LTG1"),d=e("rEBs"),o=e("s0AW");function i(h){let{peerId:l,isMicrophoneEnabled:u,className:c,allowMuteIconAnimation:E=!1}=h;const[v,g]=Object(n.useState)(0);return Object(n.useEffect)(()=>{if(!u)return a.a;const O=m(I=>{const C=Object(d.b)(I);g(C)},"onLevelUpdated");return r.a.subscribe(l,O),()=>{r.a.unsubscribe(l,O)}},[l,u]),t.a.createElement(o.a,{type:u?"unmuted":"muted",volumeLevel:v,className:c||"",allowMuteAnimation:E})}m(i,"HuddleMicVolumeIndicator")},nHh1:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});var n;(function(a){a.Picklist="Picklist",a.Reference="Reference",a.SlackUser="SlackUser",a.String="String"})(n||(n={}));var t;(function(a){a.Opportunity="Opportunity",a.Account="Account",a.Case="Case",a.Lead="Lead"})(t||(t={}))},nePV:function(K,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("GxtX"),t=e("BeL+"),a=e("0VPD"),r=e("rKeN"),d=e("9Gfp"),o=e("ZOzc"),i=e("2vLX"),h=e("ByMX"),l=e("q0lC"),u=e("VktL"),c=e("zCzZ"),E=e("O86Y");const v=m(I=>{if(Object(h.b)(I))return!1;const C=Object(E.d)(I);if(Object(l.d)(I,C)||Object(l.b)(I,C))return!0;const f=Object(E.g)(I),S=Object(n.a)(f,Object(E.f)(I));return Object(t.a)(S).some(p=>!!(Object(l.h)(I,p)||Object(l.f)(I,p)))},"isCurrentUserAnyAdminOrOwner");function g(I){const C=Object(c.g)(I,"who_can_manage_shared_channels");if(!C)return!0;if(!Object(r.a)(I)||Object(h.b)(I))return!1;const f=Object(o.a)(I,"can_user_manage_shared_channels");if(typeof f=="boolean")return!!f;const S=Object(d.a)(I);if(Object(u.a)(C,"user")&&C.user.includes(S))return!0;if(Object(u.a)(C,"subteam")){const p=Object(i.a)(I);if(Object(a.a)(C.subteam,p).length>0)return!0}const D=C==null?void 0:C.type;return D!=null&&D.includes("regular")?!0:D!=null&&D.includes("admin")?v(I):D!=null&&D.includes("owner")?Object(l.b)(I):!1}m(g,"canUserManageOrgSharedChannels");const O={isCurrentUserAnyAdminOrOwner:v}},nevH:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),d=e("j77i");const o=Object(t.c)("Set the user-specified secondary width and mode",(i,h,l)=>{let{secondaryWidthIntent:u,secondaryWidthMode:c}=l;Object(d.w)(n.b,u),Object(d.w)(n.c,c),i(Object(a.d)({secondaryWidthIntent:u,secondaryWidthMode:c})),Object(r.dispatchForClientStore)(Object(a.d)({secondaryWidthIntent:u,secondaryWidthMode:c}))});o.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},nfxS:function(K,s,e){"use strict";e.d(s,"b",function(){return r}),e.d(s,"a",function(){return d});var n=e("+VTe"),t=e("QAer");const a=m(h=>h?t.a.ADMIN:t.a.RA,"mapOnlyAdminToWhoCanStyle"),{getWorkspaceIdsOnWhichUserCanDoCustomTeamPref:r,canUserDoCustomTeamPrefInSomeWorkspace:d,canUserDoCustomTeamPrefForChannel:o,canUserDoCustomTeamPrefForChannelById:i}=Object(n.b)(a)},niVp:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("3mLu"),d=e("QOYf"),o=e("nNoG"),i=e("nzWX"),h=e("oEDn"),l=e("qDEp"),u=e("QYtq"),c=e("qNPi"),E=e("5MVR"),v=e("qiCS"),g=e("jF6j");function O(){return O=Object.assign||function(S){for(var D=1;D<arguments.length;D++){var p=arguments[D];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(S[b]=p[b])}return S},O.apply(this,arguments)}m(O,"_extends");const I=new o.b("find_team");function C(S,D){if(Object(d.a)())return Object(v.d)(location.href,"locale",D);const p=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return S==="en-us"?p:`/intl/${S}${p}`}m(C,"getUrlForLocale");let f=m(class extends n.Component{render(){const{hideRegionPicker:D,showLogo:p,govSlackTheme:b,joinerRedesignTreatment:M}=this.props,_=Object(a.default)("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":b}),P=Object(a.default)("full_width",{"p-refreshed_page__full_width_footer":M}),y=t.a.createElement("footer",{className:"p-refreshed_page__footer"},t.a.createElement(l.e,{href:Object(r.a)("/legal"),className:_,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},I.rt("Privacy & Terms")),t.a.createElement(l.e,{href:Object(r.a)("/help/requests/new"),className:_,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},I.rt("Contact Us")),!D&&t.a.createElement(u.b,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:j=>t.a.createElement(u.a,O({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:I.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0},j),t.a.createElement("div",{className:"p-refreshed_page__footer_locales"},t.a.createElement("div",{className:"bold margin_bottom_50"},I.rt("Change region")),t.a.createElement("div",{className:"margin_bottom_100"},I.rt("Selecting a different region will change the language and content of Slack.com.")),t.a.createElement("div",{className:"display_flex"},[{title:I.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:I.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:I.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(U=>{let{title:W,locales:L}=U;return t.a.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:W},t.a.createElement("div",{className:"bold margin_bottom_50"},W),L.map(R=>{let{locale:A,geocode:B,name:F}=R;return t.a.createElement(l.e,{key:A,href:C(B,A),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:A,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:A,geocode:B})},F)}))}))))},t.a.createElement("div",null,t.a.createElement(l.e,{onClick:this.onClickChangeRegion,href:"#",className:_,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.a.createElement(h.a,{type:"globe",size:"inherit",className:"margin_right_25"}),I.rt("Change region"),t.a.createElement(h.a,{type:"chevron-medium-down",size:"inherit"})))));return t.a.createElement("div",{className:P},t.a.createElement("div",{className:Object(a.default)("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":b})},t.a.createElement(t.a.Fragment,null,p&&t.a.createElement(c.a,{width:80,height:20,className:"p-app_slack_logo"}),y)))}constructor(D){super(D),this.onClickChangeRegion=p=>{p.preventDefault()},this.onClickLocale=p=>{let{locale:b,geocode:M}=p;return()=>{const _=Object(E.b)(Object(i.h)("c")||"")||{};_.geocode=M;const P=Object(E.c)(_,{space:""});Object(i.d)("i18n_locale",b,365*10,"slack.com"),P&&Object(i.d)("c",P,365*10,"slack.com")}},this.popoverTriggerRef=t.a.createRef(),this.state={}}},"RefreshedFooter");f.displayName="RefreshedFooter",s.a=f},np25:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),d=e("j77i");const o=Object(t.c)("Set the user-specified extra wide sidebar width and mode",(i,h,l)=>{let{sidebarExtraWideWidthIntent:u,sidebarExtraWideWidthMode:c}=l;Object(d.w)(n.d,u),Object(d.w)(n.e,c),i(Object(a.f)({sidebarExtraWideWidthIntent:u,sidebarExtraWideWidthMode:c})),Object(r.dispatchForClientStore)(Object(a.f)({sidebarExtraWideWidthIntent:u,sidebarExtraWideWidthMode:c}))});o.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},ntGM:function(K,s,e){"use strict";var n=e("pu3F");let t;s.a=()=>{if(t)return t;const a=Object.keys(n.o).map(r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"));return t=new RegExp(`(^|\\s)(${a.join("|")})(?=$|[\\s|\\?\\.,!])`,"g"),t}},nuzi:function(K,s,e){"use strict";e.d(s,"d",function(){return o}),e.d(s,"f",function(){return i}),e.d(s,"a",function(){return h}),e.d(s,"c",function(){return l}),e.d(s,"b",function(){return u}),e.d(s,"e",function(){return c});var n=e("/92K"),t=e("C3vN"),a=e("DQNL"),r=e("eUIW"),d=e("bjy1");const o=m(E=>{var v;return"entity"in E&&(Object(r.a)((v=E.entity)===null||v===void 0?void 0:v.id)||Object(t.db)(E.entity))||Object(r.a)(E==null?void 0:E.value)},"isMemberInviteeOption"),i=m(E=>{var v;return"entity"in E&&(Object(d.a)((v=E.entity)===null||v===void 0?void 0:v.id)||Object(a.w)(E.entity))||Object(d.a)(E==null?void 0:E.value)},"isUserGroupInviteeOption"),h=m(E=>{var v;return"entity"in E&&!!(!((v=E.entity)===null||v===void 0)&&v.isEmail)},"isEmailInviteeOption"),l=m((E,v)=>{var g;return h(E)?v&&(E==null||(g=E.emailTeam)===null||g===void 0?void 0:g.id)===v?!0:(E==null?void 0:E.classification)===n.a.Internal:!1},"isInternalEmailInviteeOption"),u=m((E,v)=>{var g;return!h(E)||v&&(E==null||(g=E.emailTeam)===null||g===void 0?void 0:g.id)===v?!1:(E==null?void 0:E.classification)===n.a.External},"isExternalEmailInviteeOption"),c=m(E=>h(E)?"emailTeam"in E:!1,"isPrimaryScEmailInviteeOption")},nvPh:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("x91h"),r=e("DQKV");const d=/\ue000([^\ue001]*)\ue001/g;function o(i){let{text:h="",inputIsEscaped:l=!1,showTooltips:u=!0,stopAnimations:c=!1}=i;const E=[];let v=0;const g=l?Object(a.a)(h):h;if(g.replace(d,(O,I,C)=>{if(C>v){const f=g.slice(v,C);E.push(t.a.createElement(r.a,{key:`${C}-${f}`,text:f,showTooltips:u,inputIsEscaped:l,stopAnimations:c}))}E.push(t.a.createElement("span",{className:"c-mrkdwn__highlight",key:`${C}-${I}`},t.a.createElement(r.a,{text:I,showTooltips:u,inputIsEscaped:l,stopAnimations:c}))),v=C+O.length}),!E.length)return t.a.createElement(t.a.Fragment,null,t.a.createElement(r.a,{text:h,showTooltips:u,inputIsEscaped:l,stopAnimations:c}));if(v<h.length){const O=g.substr(v);E.push(t.a.createElement(r.a,{key:`last-${O}`,text:O,showTooltips:u,inputIsEscaped:l,stopAnimations:c}))}return t.a.createElement(t.a.Fragment,null,E)}m(o,"FormatTextWithHighlightMarkers"),o.displayName="FormatTextWithHighlightMarkers",s.a=t.a.memo(o)},ny0b:function(K,s,e){"use strict";e.d(s,"a",function(){return Cn});var n=e("a1Y7"),t=e.n(n),a=e("qBBt"),r=e.n(a),d=e("PN0B"),o=e.n(d),i=e("3cIe"),h=e.n(i),l=e("TpDV"),u=e.n(l),c=e("qCl6"),E=e.n(c),v=e("PWgi"),g=e.n(v),O=e("SS7u"),I=e.n(O),C=e("bdv9"),f=e.n(C),S=e("NYuI"),D=e.n(S),p=e("mnG8"),b=e.n(p),M=e("eh0M"),_=e.n(M),P=e("Rt42"),y=e.n(P),j=e("ctdj"),U=e.n(j),W=e("LAqm"),L=e.n(W),R=e("59s5"),A=e.n(R),B=e("jgRE"),F=e.n(B),k=e("HEqF"),V=e.n(k),X=e("YWu2"),J=e.n(X),Y=e("YQ8e"),ie=e.n(Y),de=e("RBep"),pe=e.n(de),oe=e("mHzN"),me=e.n(oe),re=e("Tv5Z"),ve=e.n(re),q=e("G/rR"),ce=e.n(q),he=e("eb8l"),Se=e.n(he),se=e("RXuJ"),H=e.n(se),Oe=e("pVEH"),$=e.n(Oe),z=e("3i7m"),be=e.n(z),Z=e("4Fy9"),G=e.n(Z),ne=e("i6es"),ge=e.n(ne),ae=e("K5Ez"),fe=e.n(ae),Te=e("KKcr"),ye=e.n(Te),Ue=e("G0Vk"),Ne=e.n(Ue),He=e("tM7h"),ze=e.n(He),Je=e("Vw6i"),Xe=e.n(Je),Me=e("iLLt"),Ke=e.n(Me),$e=e("O5Ce"),ct=e.n($e),Tt=e("GCXW"),Et=e.n(Tt),Le=e("zKNY"),jt=e.n(Le),Dt=e("dbKp"),Ee=e.n(Dt),te=e("Uy34"),Ae=e.n(te),Ve=e("Se5r"),Ye=e.n(Ve),ft=e("mmwi"),tt=e.n(ft),Rt=e("4ZsU"),rt=e.n(Rt),we=e("Bi0V"),xe=e.n(we),st=e("6XI5"),ke=e.n(st),lt=e("vlVB"),at=e.n(lt),ht=e("qrpL"),Nt=e.n(ht),Jt=e("QufA"),zt=e.n(Jt),Yt=e("TsI9"),sn=e.n(Yt),dn=e("1Lli"),Mt=e("zmn3"),yt=e("mkut"),tn=e("TSHB"),an=e("OZf9"),on=e("pu3F"),ut=e("ql+L"),Ot=e("DR7d");function Wt(pn){return Object(dn.a)(Object(Mt.a)(Object(yt.a)(pn),fn=>parseInt(fn,10)),null,"desc")}m(Wt,"makeOrderedIconSizes");function Ht(pn){return Object(tn.a)(pn,fn=>Wt(fn))}m(Ht,"makeOrderedNamedIconSizes");const Zt={24:sn.a,32:Nt.a,36:ke.a,72:rt.a,192:Ye.a},gn={24:zt.a,32:at.a,36:xe.a,72:tt.a,192:Ae.a},Pn={fancy:{20:Ee.a,24:jt.a,32:Et.a,36:ct.a,48:Ke.a,72:Xe.a,192:ze.a,360:Ne.a,512:ye.a,1024:fe.a},frowny:{20:ge.a,24:G.a,32:be.a,36:$.a,48:H.a,72:Se.a,192:ce.a,360:ve.a,512:me.a,1024:pe.a},neutral:{20:ie.a,24:J.a,32:V.a,36:F.a,48:A.a,72:L.a,192:U.a,360:y.a,512:_.a,1024:b.a},sad_surprise:{20:D.a,24:f.a,32:I.a,36:g.a,48:E.a,72:u.a,192:h.a,360:o.a,512:r.a,1024:t.a}},Mn=24,pt=Wt(gn),_t=Ht(Pn),xt="image_";function en(pn){const fn=[];return Object(an.a)(pn,(Ln,_n)=>{if(_n.indexOf(xt)!==0)return;const Un=_n.slice(xt.length);fn.unshift(parseInt(Un,10))}),fn}m(en,"getSizeOptionsFromProfile");function Cn(pn){let{size:fn,teamOrEnterpriseId:Ln,memberId:_n,avatarHash:Un,emoji:Dn,isBot:nt=!1,botImages:St=!1,slackbotFeels:Ut=null,isUserHidden:Gt=!1}=pn,On,Xt,qt=!1;if(!fn||!nt&&!Gt&&(!Ln||!_n||!Un)&&!Dn)return{};if(Dn)return{emoji:Dn,isDefault:!1};if(Gt){const Qt=Object(Ot.a)(fn,pt),$n=Object(Ot.a)(fn*2,pt);On=Zt[Qt||Mn],Xt=Zt[$n||Mn],qt=!0}else if(_n===on.Y&&Ut&&Pn[Ut]){const Qt=Object(Ot.a)(fn,_t[Ut]),$n=Object(Ot.a)(fn*2,_t[Ut]);On=Pn[Ut][Qt||Mn],Xt=Pn[Ut][$n||Mn]}else if(!nt||Ln&&_n&&Un){const Qt=Object(Ot.a)(fn),$n=Object(Ot.a)(fn*2),os=Object(ut.a)(Ln);On=`${os}${Ln}-${_n}-${Un}-${Qt}`,Xt=`${os}${Ln}-${_n}-${Un}-${$n}`}else if(St){const Qt=en(St),$n=Object(Ot.a)(fn,Qt),os=Object(Ot.a)(fn*2,Qt);On=St[xt+$n],Xt=St[xt+os]}if(nt&&!On&&!Xt&&!Dn){const Qt=Object(Ot.a)(fn,pt),$n=Object(Ot.a)(fn*2,pt);On=gn[Qt||Mn],Xt=gn[$n||Mn],qt=!0}return{imageUrl:On,imageUrl2x:Xt,emoji:Dn,isDefault:qt}}m(Cn,"getMemberProfileImage")},oBB2:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("6rGi"),a=e("lhZz"),r=e("oCIk"),d=e("X1Aw"),o=e("sgFo"),i=e("dKQz"),h=e("Cudo");const l=Object(n.c)("Stop the active huddle",(u,c)=>{const E=c(),v=Object(o.H)(E);return Object(a.dispatchForClientStore)(Object(i.S)({})),u(Object(d.a)()),u(Object(r.a)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),v&&Object(a.dispatchForClientStore)(Object(i.Q)()),u(Object(h.i)(h.a.HiddenUserJoinedHuddle)),Object(t.a)().stop()});l.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"},s.a=l},oCIk:function(K,s,e){"use strict";e.d(s,"a",function(){return u});var n=e("SQ0V"),t=e("s4P+"),a=e("Vnbe"),r=e("dKQz"),d=e("lhZz"),o=e("sgFo"),i=e("+CZ0"),h=e("HoeF"),l=e("SIMs");const u=Object(n.c)("Stops huddle lounge music from playing",(c,E,v)=>{let{clearOnEndedCallback:g,logContext:O,isStoppedByUser:I}=v;const C=E(),f=Object(t.a)({state:C}),S=Object(o.r)(C),D=Object(o.C)(C),p=Object(l.B)(C),b=Object(d.getStateForClientStore)(),M=Object(i.a)(b);a.b.getInstance({experimentHuddlesLoungeMusicPlayerGroupOn:S}).stopMusic({clearOnEndedCallback:g,logger:f,logContext:O}),Object(d.dispatchForClientStore)(Object(r.D)(!1)),I&&M&&c(Object(h.j)({huddleId:M,hasUserStoppedLoungeMusic:I})),D&&I&&p&&c(Object(h.M)({stopMusic:!0}))});u.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},oNuo:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("pu3F"),t=e("6kKm"),a=e("nNoG");const r=new a.b("broadcast_keywords");function d(i){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;switch(i&&i.ms_name){case"channel":case"group":return r.t("Notify everyone in this channel.");case"everyone":return r.t("Notify everyone in your workspace.");case"here":return r.t("Notify every online member in this channel.",{fallbackHash:"1588b5d37a69c79ca40cb3117d6ddfaafac40bea"});case"sf:dealteam":return h?l?r.t("Notify the Deal Team for {recordName}.",{recordName:h}):`Notify the Deal Team for ${h}.`:"";default:return""}}m(d,"getBroadcastKeywordDescription");function o(i){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u;return i==="BKhere"?u=n.g.BKhere:i==="BKchannel"||i==="BKgroup"?u=n.g.BKchannel:i==="BKeveryone"?u=n.g.BKeveryone:i==="BKsf:dealteam"&&(u=n.g["BKsf:dealteam"]),u?{id:i,name:Object(t.a)(u,l),description:d(u,h,l),...u}:null}m(o,"getBroadcastKeywordById")},oSkh:function(K,s,e){"use strict";var n=e("c7k8");s.a=n.b},oU7v:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("E97Y"),t=e("ISSR"),a=e("miM7");const r=m((d,o)=>!Object(n.h)(o)&&!Object(t.a)(o)&&!Object(a.a)(o),"canBeExternallyShared")},oWj6:function(K,s,e){"use strict";e.d(s,"a",function(){return t});var n=e("6kzs");let t=m(class extends n.a{getOffsetForKey(r){if(!r)return this.totalHeight;const d=this.getTop(r);return d===void 0?0:d-this.anchorOffset}setHeight(r,d,o){if(this.anchor!==!1)return super.setHeight(r,d),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(o,this.STICKY_EPSILON_SETHEIGHT))return super.setHeight(r,d),this.bracketScrollTop(1/0);let i=o;if(this.getBottom(r)<=o+this.anchorOffset){const l=d-this.getHeight(r);i+=l}return super.setHeight(r,d),this.bracketScrollTop(i)}setKeys(r,d){if(this.anchor!==!1)return super.setKeys(r),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(d))return super.setKeys(r),this.bracketScrollTop(1/0);const o=d+this.anchorOffset,i=this.findAnchor(this.keys,r,o);if(!i)return super.setKeys(r),this.bracketScrollTop(d);const h=this.getTop(i)-o;super.setKeys(r);const l=this.getTop(i)-o,u=h-l;return this.bracketScrollTop(d-u)}setContainerHeight(r,d){return this.anchor!==!1?(this.containerHeight=r,this.layout(),this.bracketScrollTop(this.getOffsetForKey(this.anchor))):this.shouldStickToBottom(d)?(this.containerHeight=r,this.layout(),this.bracketScrollTop(1/0)):(this.containerHeight=r,this.layout(),d)}setBottomMargin(r){this.bottomMargin=r}setStickToBottom(r){this.stickToBottom=r}setAnchor(r,d){this.anchor=r,typeof d!="number"?this.anchorOffset=this.ANCHOR_OFFSET:this.anchorOffset=d}findAnchor(r,d,o){for(let i=0;i<r.length;i++){const h=r[i];if(this.getBottom(h)>o){for(let l=0;l<d.length;l++)if(d[l]===h)return h}}return null}bracketScrollTop(r){return Math.max(0,Math.min(this.totalHeight-this.containerHeight+this.bottomMargin,r))}shouldStickToBottom(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.STICKY_EPSILON;return this.stickToBottom?r>=this.totalHeight-this.containerHeight-d+this.bottomMargin:!1}constructor({keys:r,heightCache:d,gutter:o,containerHeight:i=0,stickToBottom:h=!1,bottomMargin:l=0,ANCHOR_OFFSET:u=0,STICKY_EPSILON:c=2,STICKY_EPSILON_SETHEIGHT:E=2}={}){super({keys:r,heightCache:d,gutter:o}),this.containerHeight=i,this.stickToBottom=h,this.bottomMargin=l,this.STICKY_EPSILON=c,this.STICKY_EPSILON_SETHEIGHT=E,this.ANCHOR_OFFSET=u,this.anchorOffset=u,this.anchor=!1}},"AnchorLayout")},od0p:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("bPB8"),t=e("pu3F"),a=e("oNuo");function r(){return Object(n.a)(Object.entries(t.g).filter(d=>{let[o,i]=d;return i.is_enabled_by_default}).map(d=>{let[o,i]=d;return Object(a.a)(o)}))}m(r,"getAllBroadcastKeywords")},onsa:function(K,s,e){K.exports=e.p+"gym-preview-cfff9c8.jpg"},opHY:function(K,s,e){"use strict";e.d(s,"c",function(){return t}),e.d(s,"n",function(){return a}),e.d(s,"o",function(){return r}),e.d(s,"l",function(){return d}),e.d(s,"e",function(){return o}),e.d(s,"g",function(){return i}),e.d(s,"a",function(){return h}),e.d(s,"b",function(){return l}),e.d(s,"f",function(){return u}),e.d(s,"h",function(){return c}),e.d(s,"d",function(){return E}),e.d(s,"k",function(){return v}),e.d(s,"m",function(){return g}),e.d(s,"i",function(){return O}),e.d(s,"j",function(){return I});var n=e("DwFS");const t=Object(n.a)("Sets the highlight property of a download");t.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const a=Object(n.a)("An update of the desktop state from the desktop app");a.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const r=Object(n.a)("An update of the window frame state");r.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const d=Object(n.a)("Starts a download on the desktop app");d.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const o=Object(n.a)("Pauses a download on the desktop app");o.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const i=Object(n.a)("Resumes a download on the desktop app");i.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const h=Object(n.a)("Cancels a download on the desktop app");h.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const l=Object(n.a)("Clears all stopped downloads for the active team");l.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const u=Object(n.a)("Removes a download on the desktop app");u.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const c=Object(n.a)("Retries a download on the desktop app");c.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const E=Object(n.a)("Opens a file downloaded by the desktop app");E.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const v=Object(n.a)("Shows the folder that contains the downloaded file");v.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const g=Object(n.a)("Toggles the performance monitor");g.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const O=Object(n.a)("Sets the currently active team in the SSB");O.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const I=Object(n.a)("Update canvas system text settings in the SSB");I.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},otRl:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("RB1+"),t=e("qMw6");function a(r){let{inputText:d,inputDelta:o,channelId:i,threadTs:h}=r;const l=Object(n.a)({viewContext:t.a.THREAD,channelId:i,threadTs:h});l&&(o?l.setContents({contents:o.ops}):l.setText(d));const u=Object(n.a)({viewContext:t.a.THREADS_VIEW,channelId:i,threadTs:h});u&&(o?u.setContents({contents:o.ops}):u.setText(d))}m(a,"populateThreadInputs")},ovHh:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("Lgge"),t=e("SQ0V"),a=e("6l10"),r=e("2mvv"),d=e("KGIc"),o=e("S4vl");function i(l){return l.isOk}m(i,"isOkResult");const h=Object(t.c)("Send survey results",(l,u,c)=>{var E,v;const g=u();var O;const I=(O=c.callId)!==null&&O!==void 0?O:g.activeCall.id;if(!I)return Object(o.b)(!1,"There should have been a call in order to send survey results."),n.a.reject(new Error("SendSurveyResult: No call"));var C;const f=(C=c.type)!==null&&C!==void 0?C:"vo-survey",S=i(c)?void 0:{response_requested:!1,comments:c.comments,is_video:(E=g.activeCall)===null||E===void 0?void 0:E.hasVideoBeenEnabled,is_ss:(v=g.activeCall)===null||v===void 0?void 0:v.hasScreenshareBeenEnabled},D={room:I,event_type:f,event_value:i(c)?"ok":c.notOkResponses.join(","),event_metadata:JSON.stringify(S)};return Object(a.a)({apiUrl:"/api/",method:"screenhero.rooms.userEvent",token:Object(r.b)(g),versionTs:Object(d.f)(),versionUid:Object(d.h)(),args:D})?n.a.resolve():n.a.reject(new Error("SendSurveyResult: beacon failed"))});h.meta={name:"createThunk",key:"createThunksendSurveyResult",description:"Send survey results"}},"p0i/":function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"e",function(){return o}),e.d(s,"k",function(){return i}),e.d(s,"j",function(){return h}),e.d(s,"g",function(){return u}),e.d(s,"c",function(){return c}),e.d(s,"h",function(){return E}),e.d(s,"b",function(){return v}),e.d(s,"f",function(){return g}),e.d(s,"d",function(){return O}),e.d(s,"i",function(){return I});var n=e("ZKjC"),t=e("i5Ig"),a=e("uZL6"),r=e("LZPg");const d=3,o=Object(n.b)(C=>C.huddleTroubleshooting.view.activeTab);o.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelActiveTab",description:C=>C.huddleTroubleshooting.view.activeTab};const i=Object(n.b)(C=>C.huddleTroubleshooting.view.shouldDisplayPanel);i.meta={name:"createSelector",key:"createSelectorshouldDisplayTroubleshootingPanel",description:C=>C.huddleTroubleshooting.view.shouldDisplayPanel};const h=Object(n.b)(C=>C.huddleTroubleshooting.view.alertCount>=d);h.meta={name:"createSelector",key:"createSelectorshouldDisplaySupportLink",description:C=>C.huddleTroubleshooting.view.alertCount>=d};const l=Object(n.b)(C=>C.huddleTroubleshooting.metrics.stable);l.meta={name:"createSelector",key:"createSelectorgetStableMetrics",description:C=>C.huddleTroubleshooting.metrics.stable};const u=Object(n.b)(C=>C.huddleTroubleshooting.metrics.unstable);u.meta={name:"createSelector",key:"createSelectorgetUnstableMetrics",description:C=>C.huddleTroubleshooting.metrics.unstable};const c=Object(n.b)(C=>C.huddleTroubleshooting.warnings.stable);c.meta={name:"createSelector",key:"createSelectorgetStableWarnings",description:C=>C.huddleTroubleshooting.warnings.stable};const E=Object(n.b)(C=>C.huddleTroubleshooting.warnings.unstable);E.meta={name:"createSelector",key:"createSelectorgetUnstableWarnings",description:C=>C.huddleTroubleshooting.warnings.unstable};const v=Object(n.b)(C=>C.huddleTroubleshooting.alerts.stable);v.meta={name:"createSelector",key:"createSelectorgetStableAlerts",description:C=>C.huddleTroubleshooting.alerts.stable};const g=Object(n.b)(C=>C.huddleTroubleshooting.alerts.unstable);g.meta={name:"createSelector",key:"createSelectorgetUnstableAlerts",description:C=>C.huddleTroubleshooting.alerts.unstable};const O=Object(a.a)(C=>v(C)||t.b,C=>g(C)||t.b,C=>c(C)||t.b,(C,f,S)=>{const{isMicrophoneBlocked:D,isCameraBlocked:p,isDisconnected:b,isMicrophoneNotSendingAudio:M}=C,{isAudioQualityPoor:_,isCpuCompetitionPoor:P,isNetworkQualityPoor:y}=f,{isCameraProbablyIphone:j,isSpeakerBluetooth:U}=S,W=!!(_&&y),L=!!(_&&P);return{shouldSurfaceGeneralWarning:!!(W||L||p||D||M||b),shouldSurfaceNetworkWarning:W,shouldSurfaceSystemWarning:L,shouldSurfaceDevicesWarning:!!(U||p||D||M||j)}}),I=Object(a.a)(r.V,r.y,(C,f)=>{const{isCameraEnabled:S}=C;return!!(S||f)})},p5o1:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("w2SD");const{addObjects:t,removeObjects:a}=n.a},p6pj:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("nNoG"),d=e("qDEp"),o=e("/Nz6");const i=new r.b("huddles"),h=m(u=>{let{channelId:c}=u;const E=Object(a.useDispatch)(),v=Object(n.useCallback)(()=>{E(Object(o.a)({channelId:c}))},[E,c]);return c?t.a.createElement(d.f,{onClick:v,type:"outline",className:"p-huddle_invite_link_button__copy_link"},i.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");h.displayName="HuddleInviteLinkButton";var l=s.a=h},p9fx:function(K,s,e){"use strict";e.d(s,"a",function(){return n});const n=m(t=>t&&t.name,"getEmojiName")},pFNT:function(K,s,e){"use strict";var n=e("lrwl"),t=e("bbt7");e.d(s,"a",function(){return t.a}),e.d(s,"b",function(){return t.b}),e.d(s,"d",function(){return t.c}),s.c=n.a},pOIg:function(K,s,e){"use strict";e.d(s,"l",function(){return r}),e.d(s,"b",function(){return d}),e.d(s,"g",function(){return o}),e.d(s,"f",function(){return i}),e.d(s,"d",function(){return h}),e.d(s,"e",function(){return l}),e.d(s,"j",function(){return u}),e.d(s,"i",function(){return c}),e.d(s,"a",function(){return E}),e.d(s,"k",function(){return v}),e.d(s,"h",function(){return g}),e.d(s,"c",function(){return O});var n=e("n3tL"),t=e("DwFS");const a=n.default.shape({threadKey:n.default.string,sortTs:n.default.string,hasUnreads:n.default.bool}),r=Object(t.a)("Set the thread root keys");r.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"},r.propTypes={threads:n.default.arrayOf(a).isRequired,hasMore:n.default.bool,cursorTs:n.default.string,maxTs:n.default.string,refreshId:n.default.string,totalUnreadReplies:n.default.number};const d=Object(t.a)("Append more thread root keys");d.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"},d.propTypes={threads:n.default.arrayOf(a).isRequired,hasMore:n.default.bool,cursorTs:n.default.string};const o=Object(t.a)("Insert a thread at the beginning");o.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"},o.propTypes={thread:a};const i=Object(t.a)("Increments totalUnreadReplies");i.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"},i.propTypes=null;const h=Object(t.a)("Sets totalNewThreads to 0");h.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"},h.propTypes=null;const l=Object(t.a)("Increments allThreadsRefreshCounter");l.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"},l.propTypes=null;const u=Object(t.a)("Set the thread key that should be focused");u.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"},u.propTypes=n.default.string;const c=Object(t.a)("Set the thread timestamp that should be focused");c.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"},c.propTypes=n.default.string;const E=Object(t.a)("Add a thread key to an array of threads that were manually marked unread");E.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"},E.propTypes={threadKey:n.default.string,markOrigin:n.default.string};const v=Object(t.a)("set object of threads that have been manually marked as unread");v.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"},v.propTypes=n.default.objectOf(n.default.string);const g=Object(t.a)("Remove a thread key from an array of threads that were manually marked unread");g.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"},g.propTypes=n.default.string;const O=Object(t.a)("Sets manuallyMarkedUnread to empty");O.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"},O.propTypes=null},pUqw:function(K,s,e){K.exports=e.p+"template_screenshot_bugs-9c0d722.png"},pVEH:function(K,s,e){K.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},pyW3:function(K,s,e){"use strict"},pyq8:function(K,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("FcR8"),r=e("BcBz"),d=e("UbkG"),o=e("RV0M"),i=e("2VFn"),h=e("CnKg"),l=e("gXfi"),u=e("v7mh"),c=e("uNaj"),E=e("rZ8V"),v=e("QKJg"),g=e("SQ0V"),O=e("/Rv1");const I=Object(g.c)("Open a document on a specific version",function(){var C=Object(n.coroutine)(function*(f,S,D,p){const{fileId:b,windowId:M,version:_,source:P,isFromCloseActivityHistory:y,replaceHistoryState:j}=D,U=S(),{versionId:W,sequence:L}={..._};if(!b)return;const{isChildWindow:R,isMainWindow:A,shouldUseNavigate:B,closeView:F,getViewSet:k}=p(o.a),V=Object(u.a)(U),X=Object(d.c)(U,M),{versionId:J,sequence:Y}={...X},ie=y?void 0:W||J,de=y?void 0:L||Y;if(y||f(Object(r.c)({windowId:M,versionId:W||J})),R&&B||Object(E.m)(U))if(j){const pe=A?k(U):Object(u.e)(U,{windowId:M});if(pe){const oe=pe[i.h.Primary];if(oe){const me={...pe,[i.h.Primary]:{...pe[i.h.Primary],params:{...oe.params,versionId:ie,sequence:de}}};f(A?Object(l.a)({windowId:i.c,tab:V,viewSet:me}):Object(l.a)({windowId:M.toString(),viewSet:me}))}}}else{const pe={id:Object(h.h)({id:b}),versionId:ie,sequence:de,preserveExistingSecondaryView:!y};f(A?Object(v.g)({windowId:i.c,tab:V,container:i.h.Primary,params:pe}):Object(v.g)({windowId:M.toString(),container:i.h.Primary,params:pe})),y&&F(i.h.Secondary)}else{const pe=Object(c.a)();f(Object(a.a)({fileId:b,source:P,versionId:ie,sequence:de,isFromQuipActivityHistory:!0,replaceHistoryState:j,openedFromId:pe.params.canvasOpenedFromId})),y&&f(Object(O.a)({shouldReplaceState:!0}))}y&&f(Object(r.b)({windowId:M}))});return function(f,S,D,p){return C.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"},s.a=I},pzLM:function(K,s,e){"use strict";e.d(s,"b",function(){return C}),e.d(s,"a",function(){return f});var n=e("E3dU"),t=e("RVJP"),a=e("Yauy"),r=e("VjAc"),d=e("E97Y"),o=e("ISSR"),i=e("ByMX"),h=e("y/Pn"),l=e("mzZe"),u=e("O0Iw"),c=e("CaVW"),E=e("NjAx");const v={ok:!0},g={ok:!1,reason:r.f},O={ok:!1,reason:r.g},I={ok:!1,reason:r.i},C=m((S,D)=>{const p=Object(n.B)(S,D)&&Object(n.d)(S,D);return p?Object(d.h)(p)&&Object(h.a)(p)?O:Object(o.a)(p)?I:Object(t.d)(S,"channel_owner_role_expanded_permissions")==="on"&&Object(E.V)(S,{channelId:D})?v:!Object(a.db)(p)||!Object(l.a)(S,p)||Object(i.b)(S)||Object(i.c)(S)||Object(c.a)(S,p)&&!Object(u.b)(S,p)?I:v:g},"canUserSetTopicForChannelWithReasonById"),f=m((S,D)=>C(S,D).ok,"canUserSetTopicForChannelById")},"q+YH":function(K,s,e){"use strict";e.d(s,"a",function(){return o}),e.d(s,"b",function(){return i});var n=e("SQ0V"),t=e("u43d"),a=e("GYPw"),r=e("WUSA"),d=e("j77i");const o=Object(n.c)("Set the pref for the sound that plays when a message arrives to the focused conversation",(h,l,u)=>{if(Object(t.a)(l()))try{Object(d.w)(a.c,u)}catch{}h(Object(r.d)(u))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const i=Object(n.c)("Set the pref for the sound that plays when a message is sent to the focused conversation",(h,l,u)=>{if(Object(t.a)(l()))try{Object(d.w)(a.d,u)}catch{}h(Object(r.e)(u))});i.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},q5W5:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("kBpe"),t;(function(r){r[r.Available=0]="Available",r[r.HiddenByBrowser=1]="HiddenByBrowser",r[r.NoDevices=2]="NoDevices"})(t||(t={}));function a(r){return Object(n.i)()?t.Available:r.length===0?t.NoDevices:Object(n.m)()?r.every(o=>o.label==="")?t.HiddenByBrowser:t.Available:r.length===1&&r[0].id===""?t.HiddenByBrowser:t.Available}m(a,"getDeviceAvailability")},q6Tz:function(K,s,e){"use strict";e.d(s,"b",function(){return j}),e.d(s,"e",function(){return U}),e.d(s,"a",function(){return L}),e.d(s,"d",function(){return R}),e.d(s,"c",function(){return F});var n=e("fujP"),t=e("Lgge"),a=e("s4P+"),r=e("Zbwg"),d=e("SQ0V"),o=e("0Wfr"),i=e("417x"),l=m((V,X)=>Object.keys(X).reduce((J,Y)=>({...J,[V[Y]||Y]:X[Y]}),{}),"renameKeys"),u=e("uVZW"),c=e("i5Ig"),E=m(V=>{const X=l(u.a,Object(i.a)(V)||{});return Object(n.a)(X)?c.b:X},"prepare_data"),v=e("qCwA"),g=e("BEaa"),O=e("v7mh"),I=e("u4cD"),C=e("c41J"),f=e("Wn1n"),S=e("rZ8V"),D=e("vfQU"),p=e("wnwW"),b=e("RV0M"),M=e("2VFn"),_=e("uiBO");const P=Object(a.b)(),y=60*60*1e3,j=Object(d.c)("Load megaphone notification data",(V,X,J)=>V(Object(C.a)({reason:"load-megaphone-notification-data",...J})).then(function(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(n.a)(Y))return;const{ok:ie,error:de,response_metadata:pe,notifications:oe}=Y;if(ie===!1||de){P.warn(u.d,"Error while fetching notification data",{error:de,messages:pe==null?void 0:pe.messages});return}const me=oe||{},re=Object.keys(me),ve=Object.values(u.g);re.forEach(q=>{if(!ve.includes(q))return;const ce=J.channelId;if(me[q]===null)V(Object(I.f)({spaceName:q,channelId:ce})),q===u.g.LAUNCH_MODAL&&V(Object(p.a)());else{const{name:he,data:Se={}}=me[q];if(q===u.g.CHANNEL_CONTEXT_BAR&&he===u.h.SLACK_CONNECT_CHANNEL_CONTEXT_BANNER){V(Object(I.f)({spaceName:q,channelId:ce,notificationName:he,notificationData:{...E(Se),channelId:ce}}));return}if(q===u.g.EVENTS_VIEW&&he===u.h.EXTERNAL_WORKSPACES_ONBOARDING_MODAL){V(Object(I.f)({spaceName:q,channelId:Se.external_workspace_id,notificationName:he,notificationData:E(Se)}));return}V(Object(I.f)({spaceName:q,channelId:ce,notificationName:he,notificationData:E(Se)})),q===u.g.LAUNCH_MODAL&&V(Object(p.a)())}q===u.g.SIDEBAR_FOOTER&&V(Object(v.a)())})}));j.meta={name:"createThunk",key:"createThunkloadMegaphoneNotificationData",description:"Load megaphone notification data"};const U=Object(o.a)(j,y),W=m(()=>[[u.g.CLIENT_FOOTER,u.g.MESSAGE_PANE,u.g.SIDEBAR_FOOTER,u.g.LAUNCH_MODAL,u.g.SIDEBAR_MENU,u.g.IN_PRODUCT_COACHMARK,u.g.QUICK_REACTIONS,u.g.MESSAGE_ACTIONS_LABELS,u.g.PROGRESSIVE_DISCLOSURE,u.g.WELCOME_SPACE,u.g.SINGLE_MESSAGE_VIEW,u.g.MESSAGE_INPUT,u.g.EVENTS_VIEW,u.g.ACTIVITY_TAB_SIDEBAR,u.g.TAB_RAIL_HOME_TAB],[u.g.WORKSPACE_MENU_PRIMARY_PLAN_INFO,u.g.WORKSPACE_MENU_SECONDARY_PLAN_INFO,u.g.WORKSPACE_MENU_UPSELL,u.g.EMOJI_DRAWER,u.g.INVITE_MODAL_HEADING,u.g.CREATE_CHANNEL_MAKE_SHARED_CTA,u.g.GUESTS_MODAL_DROPDOWN,u.g.MAIN_MENU,u.g.PROFILE_MENU,u.g.SIDEBAR_MENU_HEADER,u.g.LATER_PAGE_HEADER,u.g.LATER_PAGE_SIDEBAR_LINK,u.g.CHANNEL_CONTEXT_MENU,u.g.SHORTCUTS_MENU_ITEM,u.g.ANNOUNCE_ONLY_SHORTCUTS_MENU_ITEM,u.g.HUDDLE_BUTTON_MENU,u.g.WORKFLOW_BUILDER_HEADER,u.g.APP_HEADER,u.g.SHORTCUTS_MENU_CREATE_A_CANVAS,u.g.AUTOMATIONS_SIDEBAR_MENU_ITEM,u.g.CANVAS_TEMPLATE,u.g.USER_MENU_COACHMARKS,u.g.MORE_PEEK_MENU]],"getBootMegaphoneSpacesGroups"),L=Object(d.c)("Initial load for specific Megaphone Spaces that need to load on boot",(V,X,J,Y)=>{var ie;const de=X(),pe=Object(S.m)(de)?4:3,oe=Object(D.eb)(),{getSiblingView:me,shouldUseNavigate:re}=Y(b.a),ve=re?(ie=me(de,{container:M.h.Primary}))===null||ie===void 0?void 0:ie.id:Object(f.a)(de),q=J.spaces||W(),ce=Object(O.g)(de,{tab:Object(O.a)(de),container:M.h.Primary}),he=(ce==null?void 0:ce.viewType)===_.b.AboutWorkspace,Se=q.map(se=>{const H={event:{type:u.e.REQUEST_SPACES,spaces:se,iaVersion:pe,isAppStoreBuild:oe},reason:J.megaphoneReason};return Object(r.a)(ve)&&(H.event.channel=ve),he&&(H.event.externalWorkspaceId=ce.id),V(j(H))});return t.a.all(Se)});L.meta={name:"createThunk",key:"createThunkchunkedLoadMegaphoneNotificationBootData",description:"Initial load for specific Megaphone Spaces that need to load on boot"};const R=Object(o.a)(L,y),A=20*1e3;let B;const F=Object(d.c)("Load megaphone notification data after a random delay",(V,X,J)=>{if(B)return;const Y=Object(g.a)(A,-1,0);B=setTimeout(()=>{V(L(J)),B=null},Y)});F.meta={name:"createThunk",key:"createThunkrandomDelayedLoadMegaphoneNotificationData",description:"Load megaphone notification data after a random delay"};const k={LOAD_BANNER_MAX_DELAY_MS:A,getBootMegaphoneSpacesGroups:W}},qBBt:function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},qCl6:function(K,s,e){K.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},qCwA:function(K,s,e){"use strict";e.d(s,"a",function(){return g});var n=e("Lgge"),t=e("SQ0V"),a=e("Wn1n"),r=e("ohbk"),d=e("mHfD"),o=e("E3dU"),i=e("bhDs"),h=e("pu3F"),l=e("TiPP"),u=e("RV0M"),c=e("I0j/"),E=e("37+L"),v=e("2VFn");const g=Object(t.c)("Redirect to general or Slackbot if benefits page is primary view but not enabled",(O,I,C,f)=>{var S;const D=I(),{getSiblingView:p,shouldUseNavigate:b}=f(u.a),M=b?(S=p(D,{container:v.h.Primary}))===null||S===void 0?void 0:S.id:Object(a.a)(D);if((M==="paid-benefits"||M===l.a)&&!Object(i.c)(D)){const _=O(Object(d.a)());let P=_&&_.id;if(P||(P=Object(o.n)(D,h.Y)),P)return O(b?Object(c.a)(Object(E.i)(P)):Object(r.a)({id:P,replaceHistoryState:!0}))}return n.a.resolve()});g.meta={name:"createThunk",key:"createThunkmaybeRedirectFromBenefitsPage",description:"Redirect to general or Slackbot if benefits page is primary view but not enabled"}},qHL7:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("GUXX"),a=e("kov+"),r=e("hHnA"),d=e("asny"),o=e("MDjO");const i=Object(n.c)("Search opportunity list views by query",(h,l,u)=>{let{query:c,isFullSearch:E=!1}=u;const v=l(),g=Object(t.l)(v,a.i.Opportunity),O=E?o.i:o.h;return h(Object(d.a)({limit:O,listviewScope:g,query:c,sobjects:[{sobjectApiName:"ListView"}]})).then(I=>{const C=[];return h(Object(r.q)(I)),E&&(I.forEach(f=>{let{id:S}=f;C.push(S)}),h(Object(r.h)(C))),I})});i.meta={name:"createThunk",key:"createThunksearchListViews",description:"Search opportunity list views by query"},s.a=i},qNPi:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("0cEW");const r=m(d=>{let{width:o=20,height:i=20,className:h="",theme:l}=d;const u=l===a.c.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.a.createElement("div",{role:"banner"},t.a.createElement("img",{className:h,src:u,alt:"Slack",width:o,height:i}))},"SlackLogo");r.displayName="SlackLogo",s.a=r},qZ3p:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("DQKV"),r=e("/qcS");const d=m(o=>{let{text:i,emojiSize:h=r.a.SMALL}=o;return t.a.createElement(t.a.Fragment,null,t.a.createElement(a.a,{text:i,emojiSize:h}))},"FormattedHuddleTopic");d.displayName="FormattedHuddleTopic",s.a=d},qZdH:function(K,s,e){"use strict";e.d(s,"b",function(){return d}),e.d(s,"a",function(){return o});var n=e("+CZ0"),t=e("dKQz"),a=e("SQ0V");let r;const d=Object(a.c)("Temporarily show mini-panel",function(i,h){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(r),i(Object(t.i)(!0)),r=setTimeout(()=>i(Object(t.i)(!1)),l)});d.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const o=Object(a.c)("Temporarily pause mini-panel visibility transition",(i,h)=>{const l=h();Object(n.B)(l)&&clearTimeout(r)});o.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},qcau:function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"b",function(){return o}),e.d(s,"d",function(){return i}),e.d(s,"e",function(){return h}),e.d(s,"c",function(){return l}),e.d(s,"f",function(){return E}),e.d(s,"g",function(){return v});var n=e("oTSI"),t=e("kBpe"),a=e("vfQU");const r="sunroof_init",d="fullscreen-ui",o=Object(n.a)(()=>!1),i=Object(n.a)(()=>Object(t.l)("25.1.1")),h=Object(n.a)(()=>{if(!Object(t.i)())return!1;const{titleBarStyle:g}=Object(a.J)("environment")||{},{debugFeatures:O}=Object(a.J)("settings")||{};return g==="custom-extension"||(O==null?void 0:O.includes("window-chrome"))}),l=Object(n.a)(()=>Object(t.k)()&&Object(t.j)("4.33.90")),u=m(()=>{if(!l())return!1;const{useHwAcceleration:g,windowVibrancy:O}=Object(a.J)("settings")||{};return g&&O},"shouldEnableWindowSunroof"),c=Object(n.a)(()=>!Object(t.j)("4.35.97")),E=m(()=>u()?Object(t.p)()?{transparent:c(),vibrancy:d,backgroundColor:null}:{}:{},"maybeGetSunroofWindowOptions");function v(g){const{windowVibrancy:O}=Object(a.J)("settings")||{};if(typeof O>"u")return;if(O&&(!g.experimentDesktopIa4SunroofEnabled||!u())){Object(a.ec)({name:"windowVibrancy",value:!1});try{localStorage.removeItem(r)}catch{}return}const I=!!localStorage.getItem(r);if(g.experimentDesktopIa4SunroofEnabled&&!I&&!O&&l()){Object(a.ec)({name:"windowVibrancy",value:!0});try{localStorage.setItem(r,"1")}catch{}}}m(v,"maybeToggleSunroof")},qiJD:function(K,s,e){"use strict";var n=e("Kyco"),t=e("TSHB"),a=e("Bw5p"),r=e("7EGn"),d=e("ifKl"),o=e("vfQU"),i=e("opHY");const h=m((E,v)=>Object(t.a)(E,(g,O)=>Object(t.a)(g,(I,C)=>v(O,C,I))),"mapDownloads"),l=m(E=>({...{app:{},environment:{},settings:{},...Object(a.a)(E,["app","settings","environment"]),windows:Object(t.a)((E==null?void 0:E.windows)||{},g=>({frame:Object(a.a)(g.frame,["isFullScreen","isFocused","isVisible","hasVibrancy"])})),downloads:h((E==null?void 0:E.downloads)||{},(g,O,I)=>({...I,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:Object(r.a)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),u=Object(o.fb)()?l(Object(r.a)(window,"desktop.redux.getState",d.a)()):null,c=Object(n.b)({},u,{storeKey:"desktop",persistenceEnabled:!1}).on(i.n,(E,v)=>{const g=v.downloads?h(v.downloads,(O,I,C)=>({...C,highlight:Object(r.a)(E.downloads,[O,I,"highlight"],!1)})):E.downloads;return{...E,...v,downloads:g}}).on(i.o,(E,v)=>{let{windowId:g,property:O,value:I}=v;var C,f,S;return{...E,windows:{...E.windows,[g]:{...((C=E.windows)===null||C===void 0?void 0:C[g])||{},frame:{...((f=E.windows)===null||f===void 0||(S=f[g])===null||S===void 0?void 0:S.frame)||{},[O]:I}}}}}).on(i.c,(E,v)=>{let{fileId:g,teamId:O,highlight:I}=v;return Object(r.a)(E.downloads,[O,g])?{...E,downloads:{...E.downloads,[O]:{...E.downloads[O],[g]:{...E.downloads[O][g],highlight:I}}}}:E}).on(i.m,E=>({...E,debug:{...E.debug,isPerformanceMonitorEnabled:!E.debug.isPerformanceMonitorEnabled}})).on(i.i,(E,v)=>v?{...E,activeTeamId:v}:E);s.a=c},qlBN:function(K,s,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),r=e("SQ0V"),d=e("/0Xg"),o=e("3l96"),i=e("s9Q6"),h=e("beWg"),l=e("nNoG"),u=e("/cL/"),c=e("54tk"),E=e("P7By");const v=new l.b("huddles"),g=30,O=m(p=>{let{startTrialContext:b=h.a.huddlesTrialEntryPointModal,uiComponentVariant:M,onSpeedbumpContinue:_,promoType:P,promoSubtype:y,isEligibleForTrial:j}=p;const U=m(k=>{let{text:V}=k;return a.a.createElement(u.a,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},V)},"renderPlansPageLink"),W=v.t("Try huddles with more people"),L=j?v.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:g,"<plansPageLink>":U}):v.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":U}),R=v.t("With more people, you can:"),A=Object(t.useCallback)(()=>[v.t("Host a team brainstorm from anywhere"),v.t("Get the group\u2019s feedback with a live screenshare"),v.t("Touch base on the go, without all the typing")],[]),B=Object(t.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(null,"xyFF",3)),[]),F=Object(t.useMemo)(()=>a.a.createElement(E.a,{getAnimationImport:B,autoplay:!0,loop:!0}),[B]);return a.a.createElement(c.a,{modalTitle:W,modalSubtitle:L,modalLottieAnimation:F,modalBannerBackgroundColor:"#fdd37f",modalChecklistHeading:R,modalChecklistItems:A(),promoType:P,promoSubtype:y,startTrialContext:b,uiComponentVariant:M,onSpeedbumpContinue:_,isEligibleForTrial:j})},"HuddleTrialEntryPointModal");O.displayName="HuddleTrialEntryPointModal";var I=O,C=e("iaW+");function f(){return f=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var M=arguments[b];for(var _ in M)Object.prototype.hasOwnProperty.call(M,_)&&(p[_]=M[_])}return p},f.apply(this,arguments)}m(f,"_extends");const S=Object(r.c)("Open huddles trial entry point modal",function(){var p=Object(n.coroutine)(function*(b,M,_){const P=d.o.PaidFeatureTrial,y=d.n.Vhq;yield b(Object(C.a)({campaignType:P,campaignSubType:y,reason:"huddle_trial_entry_point_modal"}));const j=Object(i.c)(M(),P,y);return b(Object(o.a)({element:a.a.createElement(I,f({},_,{promoType:P,promoSubtype:y,isEligibleForTrial:j}))}))});return function(b,M,_){return p.apply(this,arguments)}}());S.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};var D=s.a=S},qrpL:function(K,s,e){K.exports=e.p+"ava_0022-32-7779579.png"},qvC3:function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"b",function(){return i});var n=e("9oTK"),t=e.n(n),a=e("Aqb/"),r=e("xvpf");function d(u){return o.apply(this,arguments)}m(d,"collectInitialPageLoadMetrics");function o(){return o=Object(n.coroutine)(function*(u){let{contextualInfo:c}=u;const{getTraceMeta:E,isBootingWarm:v,appName:g}=c,{getTracer:O,tags:I}=E(),C=(yield v)?r.b.WARM:r.b.COLD,f=O().createTrace({traceName:r.a.BOOT_INITIAL_LOAD,tags:{boot_type:C,app_name:g,...I},autoCreateRootSpan:!1,samplingOptions:{sampleType:a.a.ALWAYS}});f.startSpan(r.a.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),f.startSpan(r.a.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),f.startSpan(r.a.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),O().reportTrace(f)}),o.apply(this,arguments)}m(o,"_collectInitialPageLoadMetrics");function i(u){u.hooks.beforeDynamicImportsStart.addCallIntercept(c=>h(c)),u.hooks.renderApp.addCallIntercept(c=>l(c))}m(i,"setupBootMetricsTracing");function h(u){return c=>{const{getTracer:E,setTrace:v,rootTrace:g}=c.contextualInfo.getTraceMeta(),I=E().createTrace({traceName:r.a.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:g.getRootSpanId(),traceId:g.getTraceId()});return I.startSpan(r.a.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),v(I),u(c)}}m(h,"startTimeToRenderTrace");function l(u){return function(){var c=Object(n.coroutine)(function*(E){const{isBootingWarm:v,getTraceMeta:g,isForegroundTeam:O}=E.contextualInfo,{getTracer:I,getTrace:C,setTrace:f,rootTrace:S}=g(),D=I(),p=C(),b=(yield v)?r.b.WARM:r.b.COLD;return p.addTags({boot_type:b,is_foreground_team:O}),D.reportTrace(p),f(S),u(E)});return function(E){return c.apply(this,arguments)}}()}m(l,"endTimeToRenderTrace")},r6c4:function(K,s,e){"use strict";e.d(s,"b",function(){return u}),e.d(s,"a",function(){return c});var n=e("oTSI"),t=e("RVJP"),a=e("beVI"),r=e("y/Pn"),d=e("E97Y"),o=e("G0eX"),i=e("x+oO"),h=e("E3dU");const l=Object(n.a)((E,v)=>Object(o.F)(E)&&(v==null?void 0:v.some(g=>Object(r.a)(g)&&!Object(d.h)(g)))),u=m(E=>{const v=Object(a.g)(E),g=Object(h.b)(E);return l(v,g)},"isHuddlesEnabledForSponsoredTeam"),c=m((E,v)=>{const g=Object(a.g)(E);return!!v&&Object(t.d)(E,"sponsored_connections_translations")==="on"&&Object(o.F)(g)&&Object(i.b)(E,v)},"isHuddlesEnabledForSponsoredChannel")},r9F4:function(K,s,e){"use strict";e.d(s,"a",function(){return o}),e.d(s,"b",function(){return i}),e.d(s,"f",function(){return h}),e.d(s,"e",function(){return l}),e.d(s,"d",function(){return c}),e.d(s,"c",function(){return E});var n=e("G4qV"),t=e("ZKjC"),a=e("7zTl"),r=e("wVLq");const d=Object(t.b)(v=>v.huddleEvents);d.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:v=>v.huddleEvents};const o=Object(t.b)(v=>d(v).enabled);o.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:v=>d(v).enabled};const i=Object(t.b)(v=>d(v).isLoading);i.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:v=>d(v).isLoading};const h=Object(t.b)(v=>v.huddleEvents.isSideBySideEnabled);h.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:v=>v.huddleEvents.isSideBySideEnabled};const l=Object(t.b)(v=>v.huddleEvents.isClosedCaptionsEnabled);l.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:v=>v.huddleEvents.isClosedCaptionsEnabled};const u=Object(t.b)(v=>v.huddleEvents.isClosedCaptionsEnabled);u.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:v=>v.huddleEvents.isClosedCaptionsEnabled};const c=Object(n.a)(v=>d(v).events,v=>{const g=[];let O,I=[];const C=m(()=>{O&&g.push({...O,content:I.join(" ")})},"maybeCommit");return v.forEach(f=>{O&&f.type===r.a.TRANSCRIBE&&O.memberId===f.memberId&&f.timestampMs-O.endTimeMs<a.b?(I.push(f.content),O.endTimeMs=f.endTimeMs):(C(),f.type===r.a.TRANSCRIBE?(O={type:r.a.TRANSCRIBE,resultId:"",memberId:f.memberId,content:"",timestampMs:f.timestampMs,endTimeMs:f.endTimeMs},I=[f.content]):(O=null,I=[],g.push(f)))}),C(),g}),E=Object(n.a)(v=>c(v),v=>v.filter(g=>g.type===r.a.TRANSCRIBE||g.type===r.a.START_TRANSCRIPTION).slice(-5))},r9Lk:function(K,s,e){K.exports=e.p+"office-preview-de46de4.jpg"},rCwz:function(K,s,e){"use strict";e.d(s,"b",function(){return r}),e.d(s,"a",function(){return d});var n=e("e9jb"),t=e("KciV"),a=e("s4P+");function r(o){let{direction:i,type:h,payload:l}=o;const u=Object(n.a)()?"slack":"call",c="INTER-WINDOW-MESSAGE";(Object(n.a)()?Object(t.c)(c):Object(a.b)({label:c})).info(`${i==="send"?"Sending":"Received"} ${h} ${i==="send"?"to":"from"} the ${u} window${l?`, with payload: ${JSON.stringify(l)}`:""}`)}m(r,"logInterWindowMessage");function d(o){function i(h,l,u){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;o(l,u,c),h.sendData({type:l,payload:u})}return m(i,"sendMessage"),i}m(d,"createInterWindowMessageSender")},rEBs:function(K,s,e){"use strict";e.d(s,"b",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("Cfcg"),d=e("zm5I"),o=e("rf28"),i=e("EQgQ");const h=15,l={numActiveBubbles:0,numInactiveBubbles:h};function u(g){return Math.min(1,Math.max(0,i.a*g))}m(u,"getClampedAudioLevel");let c=m(class extends n.PureComponent{componentDidMount(){o.a.subscribe(this.onLevelUpdated)}componentWillUnmount(){o.a.unsubscribe(this.onLevelUpdated)}onLevelUpdated(O){const I=Math.floor(h*u(O));this.setState(()=>({numActiveBubbles:I,numInactiveBubbles:h-I}))}renderBubbles(){const{numActiveBubbles:O,numInactiveBubbles:I}=this.state,{bubbleClassname:C}=this.props,f=Object(a.default)("p-audio_levels__bubble","p-audio_levels__bubble--active",C,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),S=Object(a.default)("p-audio_levels__bubble","p-audio_levels__bubble--inactive",C,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),D=Array.from({length:O},(b,M)=>t.a.createElement("span",{key:`active${M}`,className:f})),p=Array.from({length:I},(b,M)=>t.a.createElement("span",{key:M,className:S}));return D.concat(p)}render(){return t.a.createElement("div",{className:"p-audio_levels","data-qa":"audio-levels-bubbles"},this.renderBubbles())}constructor(O){super(O),this.state=l,this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");c.displayName="AudioMeter";const E=m(g=>({clientTheme:Object(d.a)(g)}),"mapStateToProps");var v=s.a=Object(r.a)(E)(c)},rGCG:function(K,s,e){"use strict";e.d(s,"a",function(){return Dt});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("Muja"),d=e("yM+I"),o=e("3REw"),i=e("1VgO"),h=e("WSQ4");function l(){return l=Object.assign||function(Ee){for(var te=1;te<arguments.length;te++){var Ae=arguments[te];for(var Ve in Ae)Object.prototype.hasOwnProperty.call(Ae,Ve)&&(Ee[Ve]=Ae[Ve])}return Ee},l.apply(this,arguments)}m(l,"_extends");let u=m(class extends n.PureComponent{componentDidMount(){this.context.window.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){this.isDragging&&this.onMouseUp(),this.context.window.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(te){te.button===0&&(this.isDragging=!0,this.context.window.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(te))}onMouseMove(te){te.button===0&&this.isDragging&&this.props.onDragMove(te)}onMouseUp(te){if(te&&te.button!==0)return;const Ae=this.isDragging;this.isDragging=!1,Ae&&(this.context.window.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(te))}render(){const{children:te,refToForward:Ae,onDragStart:Ve,onDragMove:Ye,onDragEnd:ft,...tt}=this.props,Rt=t.a.Children.only(this.props.children);return t.a.cloneElement(Rt,{...tt,onMouseDown:we=>this.onMouseDown(we),ref:Object(i.a)(Ae,Rt)})}constructor(te){super(te),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");u.displayName="BaseDragTarget",u.contextType=h.a;const c=t.a.forwardRef((Ee,te)=>t.a.createElement(u,l({},Ee,{refToForward:te})));var E=e("LZPg"),v=e("SQ0V"),g=e("KciV");const O=Object(g.c)("USER-ACTIONS"),I=Object(v.c)("Logs user interaction with call window",(Ee,te,Ae)=>{O.info(Ae)});I.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var C=e("wMt+"),f=e("uXea");function S(Ee){p=V(re(Ee))}m(S,"startCurve");function D(Ee){const te=re(Ee),Ae=X(p,te);return Ae.update_status==L.SUCCESS?Ae:X(p,te)}m(D,"addToCurve");let p;const b=2,M=9,_=9,P=50,y=80,j=1,U=!0,W=!0,L={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},R=m(()=>({segments:[],vdmap:[]}),"initCurve"),A=m((Ee,te)=>({c0:{x:Ee,y:te},c1:{x:Ee,y:te},c2:{x:Ee,y:te},c3:{x:Ee,y:te}}),"initCurveSegment"),B=m(Ee=>Ee.segments[Ee.segments.length-1],"getLastSegment"),F=m(Ee=>Ee.c3,"getLastPoint"),k=m(function(Ee){return{c0:{x:Ee.c0.x,y:Ee.c0.y},c1:{x:Ee.c1.x,y:Ee.c1.y},c2:{x:Ee.c2.x,y:Ee.c2.y},c3:{x:Ee.c3.x,y:Ee.c3.y},constrain_to:Ee.constrain_to==null?void 0:{x:Ee.constrain_to.x,y:Ee.constrain_to.y},error:Ee.error||0,update_status:Ee.update_status}},"copySegment"),V=m(function(Ee){let{x:te,y:Ae}=Ee;const Ve=R();return Ve.segments.push(A(te,Ae)),Ve},"createCurve"),X=m(function(Ee,te){const Ae=B(Ee),Ve=F(Ae);if($(te,F(Ae))<j)return Ae;if(L.SUCCESS!=Ae.update_status&&Ae.update_status!==void 0){let Ye;L.FAIL_CORNER==Ae.update_status?Ye=A(Ve.x,Ve.y):L.FAIL_MAXED==Ae.update_status&&(Ye=A(Ve.x,Ve.y),Ye.constrain_to=G(ie(Ae))),Ee.vdmap=[],Ee.segments.push(Ye)}return J(Ee,te)},"addToCurveImpl"),J=m(function(Ee,te){const Ae=B(Ee),{x:Ve,y:Ye}=te;let ft=F(Ae);const tt=k(Ae);if(de(Ae,te))return Ae.update_status=L.FAIL_CORNER,Ae;Ae.c3={x:Ve,y:Ye},Ae.c2={x:Ae.c2.x+Ve-ft.x,y:Ae.c2.y+Ye-ft.y};const Rt=Z(ft,te),rt=oe(Rt),we=ce(ft,rt),xe=ce(te,rt),st=me(Se(rt,2)),ke=be(st),lt=se(st,ke),at=he(xe,we),ht=be(at),Nt=se(at,ht);let Jt=we;for(let dn=0;dn<ht;dn++){let Mt=Jt,yt=rt;for(let tn=0;tn<ke;tn++){const{x:an,y:on}=re(Mt);Ee.vdmap[an]||(Ee.vdmap[an]=[]),Ee.vdmap[an][on]==null?Ee.vdmap[an][on]=re(yt):Ee.vdmap[an][on]=ve(Ee.vdmap[an][on])<ve(re(yt))?Ee.vdmap[an][on]:re(yt),yt=ce(yt,lt),Mt=ce(Mt,lt)}Jt=ce(Jt,Nt)}const zt=he(te,{x:M,y:M}),Yt=ce(te,{x:M,y:M});for(let dn=zt.x;dn<Yt.x;dn++)for(let Mt=zt.y;Mt<Yt.y;Mt++){Ee.vdmap[dn]||(Ee.vdmap[dn]=[]);const yt=he({x:dn,y:Mt},te);Ee.vdmap[dn][Mt]==null?Ee.vdmap[dn][Mt]=yt:Ee.vdmap[dn][Mt]=ve(Ee.vdmap[dn][Mt])<ve(yt)?Ee.vdmap[dn][Mt]:yt}let sn=0;for(;;){let dn={x:0,y:0},Mt={x:0,y:0};for(let an=0;an<_;an++){const on=an/_,ut=re(ne(Ae,on)),Ot=Y(Ee,ut),Wt=q(Ot),Ht=Ot.x,Zt=Ot.y;let gn=1;W&&(on<.1||on>.9)&&(gn=10),dn.x+=on*Math.pow(1-on,2)*Wt*Ht*gn,dn.y+=on*Math.pow(1-on,2)*Wt*Zt*gn,Mt.x+=Math.pow(on,2)*(1-on)*Wt*Ht*gn,Mt.y+=Math.pow(on,2)*(1-on)*Wt*Zt*gn}if(W){const an=he(pe(Ae),Ae.c2),on=he(pe(Ae),Ae.c1);dn=he(dn,Se(on,.03)),Mt=he(Mt,Se(an,.03))}Ae.constrain_to&&(dn=Se(Ae.constrain_to,Oe(Ae.constrain_to,dn)));const yt=1;Ae.c1.x-=yt*dn.x*6/_,Ae.c1.y-=yt*dn.y*6/_,Ae.c2.x-=yt*Mt.x*6/_,Ae.c2.y-=yt*Mt.y*6/_;let tn=0;for(let an=0;an<_;an++){const on=an/_,ut=ne(Ae,on),Ot=Y(Ee,re(ut));tn+=Math.pow(Ot.x,2)+Math.pow(Ot.y,2)}if(tn=tn/_,sn++,Ae.error=tn,Ae.steps=sn,tn<b||sn>P)break}return sn>P?(Ae.c0=tt.c0,Ae.c1=tt.c1,Ae.c2=tt.c2,Ae.c3=tt.c3,Ae.error=tt.error,Ae.constrain_to=tt.constrain_to,Ae.update_status=L.FAIL_MAXED,Ae):(Ae.update_status=L.SUCCESS,Ae)},"updateDistanceField"),Y=m(function(Ee,te){let{x:Ae,y:Ve}=te;if(Ee.vdmap[Ae]){const Ye=Ee.vdmap[Ae][Ve],ft=Ee.vdmap[Ae][Ve+1];let tt=Ye!=null?{x:Ye.x,y:Ye.y}:{x:M,y:M};return ft&&ft.x!=null&&Math.abs(tt.x)>Math.abs(ft.x)&&(tt.x=ft.x),ft&&ft.y!=null&&Math.abs(tt.y)>Math.abs(ft.y)&&(tt.y=ft.y),tt}else return{x:M,y:M}},"getDistanceFromPolyline"),ie=m(function(Ee){const te=Ee.c3,Ae=Ee.c2;return{x:3*(Ae.x-te.x),y:3*(Ae.y-te.y)}},"getCurveEndTangent"),de=m(function(Ee,te){if(H(Ee.c0,Ee.c3))return!1;let Ae;U?Ae=G(he(ne(Ee,.95),Ee.c3)):Ae=G(ie(Ee));const Ve=G({x:te.x-Ee.c3.x,y:te.y-Ee.c3.y}),Ye=Oe(Ae,Ve);if(z(Math.acos(Ye))<y)return!0},"checkCorner"),pe=m(Ee=>ce(se(he(Ee.c3,Ee.c0),2),Ee.c0),"getSegmentMidpoint"),oe=m(Ee=>({x:Ee.x*M,y:Ee.y*M}),"getScaledVectorDifference"),me=m(Ee=>({x:-Ee.x,y:-Ee.y}),"negateVec"),re=m(Ee=>({x:Math.round(Ee.x),y:Math.round(Ee.y)}),"roundVec"),ve=m(Ee=>Math.pow(Ee.x,2)+Math.pow(Ee.y,2),"sumOfSquaresVec"),q=m(Ee=>Math.sqrt(ve(Ee)),"magnitudeVec"),ce=m((Ee,te)=>({x:Ee.x+te.x,y:Ee.y+te.y}),"addVec"),he=m((Ee,te)=>ce(Ee,me(te)),"subVec"),Se=m((Ee,te)=>({x:Ee.x*te,y:Ee.y*te}),"multVec"),se=m((Ee,te)=>Se(Ee,1/te),"divVec"),H=m((Ee,te)=>Ee.x==te.x&&Ee.y==te.y,"equalVec"),Oe=m((Ee,te)=>Ee.x*te.x+Ee.y*te.y,"dotProduct"),$=m(function(Ee){let{x:te,y:Ae}=Ee,Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(te-Ve.x,2)+Math.pow(Ae-Ve.y,2))},"getMagnitude"),z=m(Ee=>Ee*180/Math.PI,"radiansToDegrees"),be=m(Ee=>Math.max(Math.abs(Ee.x),Math.abs(Ee.y)),"getDDASteps"),Z=m((Ee,te)=>{const Ae=te.x-Ee.x,Ye=te.y-Ee.y,ft=-Ae;return G({x:Ye,y:ft})},"getPerpindicularUnitVector"),G=m(function(Ee){let{x:te,y:Ae}=Ee;const Ve=$({x:te,y:Ae});return{x:te/Ve,y:Ae/Ve}},"getUnitVector"),ne=m(function(Ee,te){const Ae=ge(te,Ee.c0.x,Ee.c1.x,Ee.c2.x,Ee.c3.x),Ve=ge(te,Ee.c0.y,Ee.c1.y,Ee.c2.y,Ee.c3.y);return{x:Ae,y:Ve}},"getPointAlongCurve"),ge=m(function(Ee,te,Ae,Ve,Ye){return te*Math.pow(1-Ee,3)+Ae*3*Ee*Math.pow(1-Ee,2)+Ve*3*Math.pow(Ee,2)*(1-Ee)+Ye*Math.pow(Ee,3)},"singleComponentBezier");function ae(Ee,te){return{a:Ee,b:te}}m(ae,"makeLineSegment");function fe(Ee,te){let[Ae,Ve]=Ee,[Ye,ft]=te;return Math.sqrt((Ae-Ye)**2+(Ve-ft)**2)}m(fe,"magnitude");class Te{add(te){return this.current?fe(this.current.a,te)>.05?(this.current=ae(this.current.b,te),{type:o.c.New,segment:this.current}):(this.current=ae(this.current.a,te),{type:o.c.Edit,segment:this.current}):(this.current=ae(te,te),{type:o.c.New,segment:this.current})}}m(Te,"line_transformer_ProgressiveEqualLengthMultilineTransformer");class ye{setTargetRect(te){this.targetRect=te}add(te){if(!Object(C.a)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:Ae,left:Ve,width:Ye,height:ft}=this.targetRect,[tt,Rt]=[te[0]-Ve,te[1]-Ae];if(!this.current){S({x:tt,y:Rt});const lt=[tt/Ye,Rt/ft];return this.current={a:lt,b:lt,c:lt,d:lt},{type:o.c.New,segment:this.current}}const rt=this.current,{c0:we,c1:xe,c2:st,c3:ke}=D({x:tt,y:Rt});return this.current={a:[we.x/Ye,we.y/ft],b:[xe.x/Ye,xe.y/ft],c:[st.x/Ye,st.y/ft],d:[ke.x/Ye,ke.y/ft]},this.current.a[0]!==rt.a[0]||this.current.a[1]!==rt.a[1]?{type:o.c.New,segment:this.current}:{type:o.c.Edit,segment:this.current}}}m(ye,"line_transformer_ProgressiveCurveTransformer");var Ue=e("UXvI"),Ne=e("cRDo");const He=2e3,ze=50,Je=m(Ee=>{const{onDragStart:te,onDragMove:Ae,onDragEnd:Ve,onCursorMoveStart:Ye,onCursorMove:ft,onCursorMoveEnd:tt,children:Rt}=Ee,[rt,we]=Object(n.useState)(!1),[xe,st]=Object(n.useState)(!1),[ke,lt]=Object(n.useState)(0),[at,ht]=Object(n.useState)(0),Nt=Object(n.useCallback)(yt=>{yt.button===0&&(we(!0),te(yt))},[te]),Jt=Object(n.useCallback)(()=>{st(!1),tt()},[st,tt]);Object(Ne.a)(()=>{Jt()},He,[ke,at]);const zt=Object(n.useCallback)(yt=>{if(yt.button===0){if(rt){Ae(yt);return}xe||(Ye(yt),st(!0)),ft(yt),lt(yt.movementX),ht(yt.movementY)}},[xe,rt,ft,Ye,Ae]),Yt=Object(Ue.a)(zt,ze,{leading:!0}),sn=Object(n.useCallback)(yt=>{yt.persist(),Yt(yt)},[Yt]),dn=Object(n.useCallback)(yt=>{if(yt&&yt.button!==0)return;const tn=rt;we(!1),tn&&Ve(yt)},[rt,Ve]),Mt=Object(n.useCallback)(yt=>{const tn=rt;we(!1),tn?Ve(yt):xe&&tt()},[rt,Ve,xe,tt]);return t.a.createElement("div",{onMouseDown:Nt,onMouseMove:sn,onMouseUp:dn,onMouseLeave:Mt,"aria-hidden":"true"},Rt)},"HuddlesCursorTarget");Je.displayName="HuddlesCursorTarget";var Xe=t.a.memo(Je),Me=e("74PA"),Ke=e("ktUG"),$e=e("uxre");function ct(){return ct=Object.assign||function(Ee){for(var te=1;te<arguments.length;te++){var Ae=arguments[te];for(var Ve in Ae)Object.prototype.hasOwnProperty.call(Ae,Ve)&&(Ee[Ve]=Ae[Ve])}return Ee},ct.apply(this,arguments)}m(ct,"target_extends");let Tt=m(class extends t.a.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(te,Ae){return!Object(r.a)(this.props,te)||!Object(r.a)(this.state,Ae)}componentDidUpdate(te){Object(r.a)(te.targetRect,this.props.targetRect)||this.onResize()}onResize(){var te;if(!(!((te=this.props.refToForward)===null||te===void 0)&&te.current))return;const Ae=Object(f.a)(this.props.targetRect);this.props.refToForward.current.style.height=Ae.height,this.props.refToForward.current.style.width=Ae.width,this.props.refToForward.current.style.top=Ae.top,this.props.refToForward.current.style.left=Ae.left,this.props.refToForward.current.style.position=Ae.position}getCursorCoordinates(te){return this.props.useHuddlesDragTarget?[te.nativeEvent.offsetX,te.nativeEvent.offsetY]:[te.pageX,te.pageY]}onDragStart(te){this.multilineTransformer=new ye,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),d.a.publish({id:"self",type:o.c.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),d.a.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(te)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(te){Object(C.a)(this.multilineTransformer,"Need transformer to draw")&&d.a.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(te)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(te){d.a.publish({id:"self",type:o.c.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&Object(Me.a)(Ke.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:Ke.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){d.a.publish({id:"self",type:o.c.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(te){const Ae=this.getCursorCoordinates(te),Ve=Ae[0]/this.props.targetRect.width,Ye=Ae[1]/this.props.targetRect.height;d.a.publish({id:"self",type:o.c.Position,x:Ve,y:Ye,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){d.a.publish({id:"self",type:o.c.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.a.createElement(Xe,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.a.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...Object(f.a)(this.props.targetRect)}})):t.a.createElement(c,{onDragStart:te=>this.onDragStart(te),onDragMove:te=>this.onDragMove(te),onDragEnd:te=>this.onDragEnd(te)},t.a.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...Object(f.a)(this.props.targetRect)}}))}constructor(te){super(te),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");Tt.displayName="BaseDrawTarget";const Et=m((Ee,te)=>({hue:Object(E.V)(Ee).drawHue}),"mapStateToProps"),Le=m(Ee=>({logDrawingAction:te=>Ee(I(te))}),"mapDispatchToProps"),jt=Object(a.a)(Et,Le)(Tt),Dt=t.a.forwardRef((Ee,te)=>t.a.createElement(jt,ct({refToForward:te},Ee)))},rH7J:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("SQ0V"),t=e("u43d"),a=e("GYPw"),r=e("WUSA"),d=e("j77i");const o=Object(n.c)("Set the behavior of the up arrow shortcut when focus is in the MessageInput",(i,h,l)=>{if(Object(t.a)(h()))try{Object(d.w)(a.a,l)}catch{}i(Object(r.b)(l))});o.meta={name:"createThunk",key:"createThunksetComposerUpArrowShortcutBehavior",description:"Set the behavior of the up arrow shortcut when focus is in the MessageInput"}},rIOq:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("xwCZ"),o=e("5YDL"),i=e("4HNC"),h=e("zNRp"),l=e("TUw0"),u=e("sGXp");function c(){return c=Object.assign||function(g){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(g[C]=I[C])}return g},c.apply(this,arguments)}m(c,"_extends");let E=m(class extends n.Component{render(){const{className:O,isActive:I=!1,isDeactivated:C=!1,isDisabled:f=!1,secondaryContent:S,secondaryContentPosition:D=l.a.right,showUnreadCount:p=!1,showStatus:b,showPresence:M,useShortMode:_=!1,showHoverCard:P,forwardedRef:y,unreadCount:j,ariaLabel:U}=this.props,W=p&&j&&t.a.createElement(h.b,{className:"c-member__unread_count",count:j,style:h.a.red}),L=S&&t.a.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},S),R=(D===l.a.right&&L||W)&&t.a.createElement("span",{className:"c-member__secondary_content"},D===l.a.right&&L,W),A=Object(r.default)(O,"c-medium_member_list_entity");let B;return I?f||C?B=u.d.highlightDim:B=u.d.highlightLight:(f||C)&&(B=u.d.dim),t.a.createElement(i.a,{"data-qa":"medium_member_list_entity",className:A,style:B,primaryContent:t.a.createElement(l.b,c({},this.props,{secondaryContent:D===l.a.right?null:S,showStatus:b,showPresence:M,showHoverCard:P,useShortMode:_,forwardedRef:y})),secondaryContent:R,size:"medium",ariaLabel:U})}},"MediumMemberListEntity");E.displayName="MediumMemberListEntity";function v(g,O){let{id:I}=O;const C=Object(d.g)(g,I);return{member:C??void 0,unreadCount:Object(o.a)(g,C)}}m(v,"mapStateToProps"),s.a=Object(a.a)(v,null,null,{forwardRef:!0})(E)},rRi9:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Add ephemeral message reference to store");t.meta={name:"createAction",key:"createActionaddToEphemeralMessageMap",description:"Add ephemeral message reference to store"};const a=Object(n.a)("Remove ephemeral message reference");a.meta={name:"createAction",key:"createActionremoveFromEphemeralMessageMap",description:"Remove ephemeral message reference"}},rTTn:function(K,s,e){"use strict";e.d(s,"a",function(){return I});var n=e("q1tI"),t=e.n(n),a=e("owWc"),r=e("/MKj"),d=e("qDEp"),o=e("Ws5+"),i=e("ovHh"),h=e("YUBf"),l=e("3V+Q"),u=e("Eoji"),c=e("nNoG"),E=e("Tevt"),v=e("B4ch"),g=e("d/xU");const O=new c.b("huddles");var I;(function(D){D.HuddleSurvey="huddle-survey"})(I||(I={}));function C(D){return Object(a.a)(D,(p,b,M)=>(b&&p.push(M),p),[])}m(C,"collectResponses");const f=m(D=>{let{closeModal:p,callId:b}=D;const[M,_]=Object(n.useState)({}),[P,y]=Object(n.useState)(""),[j,U]=Object(n.useState)(!1),W=`https://${Object(g.l)()}`,L=Object(r.useDispatch)(),R=[{value:"echo",text:O.t("I could hear an echo")},{value:"robot",text:O.t("Some people sounded like robots")},{value:"no-audio",text:O.t("I couldn\u2019t hear anything at all")},{value:"disconnect",text:O.t("The huddle kept disconnecting")},{value:"screen-share",text:O.t("Screensharing didn\u2019t work well")}],A=I.HuddleSurvey,B=m(()=>{U(!0),L(Object(i.a)({isOk:!1,notOkResponses:C(M),comments:P,callId:b,type:A})).then(()=>{U(!1),p==null||p()})},"onGo"),F=m(()=>{L(Object(i.a)({isOk:!1,notOkResponses:["dismiss"],callId:b,type:A})),p==null||p()},"onCloseModal");return t.a.createElement(h.a,{closeModal:F,showCloseButton:!0,centered:!0},t.a.createElement(t.a.Fragment,null,t.a.createElement(h.i,null,t.a.createElement(h.l,{title:O.t("What went wrong?")})),t.a.createElement(h.d,null,t.a.createElement(h.e,null,R.map(k=>{let{value:V,text:X}=k;return t.a.createElement(l.b,{text:X,key:V,id:V,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},t.a.createElement(o.a,{name:V,value:V,checked:!!M[V],onChange:J=>_(Y=>({...Y,[V]:J.target.checked}))}))}),t.a.createElement(l.b,{className:"padding_top_75",text:O.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},t.a.createElement(u.a,{name:"details",id:"details",onChange:k=>y(k),value:P})))),t.a.createElement(h.g,null,t.a.createElement(E.a,{href:`${W}/privacy-policy`,target:"_blank"},O.t("Privacy Policy")),t.a.createElement(h.h,null,t.a.createElement(d.a,{onClick:F,type:"outline"},O.t("Dismiss")),t.a.createElement(d.c,{loading:j,onClick:B},O.t("Send"))))))},"HuddleSurveyModal");f.displayName="HuddleSurveyModal";var S=s.b=Object(v.a)(f)},rYtS:function(K,s,e){"use strict";e.d(s,"a",function(){return g}),e.d(s,"d",function(){return M}),e.d(s,"c",function(){return _}),e.d(s,"b",function(){return P}),e.d(s,"e",function(){return y});var n=e("Vfgr"),t=e("nNoG"),a=e("rdha"),r=e("ZOzc"),d=e("3REw"),o=e("2OfI"),i=e("sgFo"),h=e("i3z+"),l=e("UIWO"),u=e("beVI"),c=e("3vtZ"),E=e("ZTSm"),v=e("uZL6");const g={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},O=new t.b("huddles"),I=m((j,U)=>({video:[...j&&j.video?j.video:[]],audio:[...!U&&j&&j.audio?j.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),C=m(j=>{const U=j.reduce((L,R)=>(Object.entries(R).forEach(A=>{let[B,F]=A;(B==="video"||B==="audio")&&(L[B]=L[B]?[...L[B],...F]:[...F])}),L),{}),W={video:[],audio:[]};return Object.entries(U).forEach(L=>{let[R,A]=L;(R==="video"||R==="audio")&&(W[R]=A.filter((B,F,k)=>F===k.findIndex(V=>V.id===B.id&&V.id!==void 0)))}),W},"combineCallApps"),f=m(j=>{const W=Object(u.q)(j).map(R=>Object(r.a)(j,"calls_apps",R.id)).filter(E.a);return C(W)},"retrieveCallsAppsForUnifiedOrg"),S=m(j=>Object(l.a)(j)?f(j):Object(r.a)(j,"calls_apps"),"retrieveCallsAppsFromPrefs"),D=m((j,U)=>{const W=S(j);if(U){var L;const R=W==null||(L=W.video)===null||L===void 0?void 0:L.findIndex(A=>A.id===d.j);R>=0&&W.video.splice(R,1)}return W},"filterCallsAppsFromTeamPref"),p=Object(a.b)((j,U)=>D(j,U),j=>I(j,!1)),b=Object(a.b)((j,U)=>D(j,U),j=>I(j,!0)),M=m(function(j){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const W=Object(i.g)(j);return U?b(j,W):p(j,W)},"getCallsAppsFromTeamPref"),_=Object(v.a)(M,c.N,(j,U)=>{const W={},L=j&&j.video?j.video:[],R=j&&j.audio?j.audio:[],A=O.t("Start a huddle"),B=U?[{id:"A01",name:A,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...L,...R,...B].forEach(F=>{let k;F.id===d.j?k={id:F.id,name:F.name,image:F.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(V=>F.id===V)!==-1?k={id:F.id,name:F.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:k=F,W[k.id]=k}),W}),P=m(j=>{let{callsApp:U,memberPhoneNumber:W,hideVideoApps:L=!1}=j;const R=[];return U&&(!L&&U.video&&R.push(...U.video.map(A=>({...A,type:h.b.Video}))),U.audio&&Object(o.a)(Object(n.a)(W))&&R.push(...U.audio.map(A=>({...A,type:h.b.Audio})))),R},"getCallAppList"),y=m(j=>{const U=Object(i.g)(j),W=D(j,U),L=W&&W.video?W.video:[],R=W&&W.audio?W.audio:[];return[...L,...R]},"getFlattenTeamPrefCallsApps")},rf28:function(K,s,e){"use strict";var n=e("ZvnG");s.a=new n.a},rkcT:function(K,s,e){"use strict";e.d(s,"b",function(){return h}),e.d(s,"a",function(){return l}),e.d(s,"c",function(){return u});var n=e("JfJV"),t=e("uNaj"),a=e("lhZz"),r=e("j77i"),d=e("toaU"),o=e("KiUf"),i=e("bczA");function h(){let{store:c,shouldSetFocus:E}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const v=Object(t.a)(window.location.pathname,{throwOnNoRoute:!1});if(v&&E&&v.routeName!==d.a)return v;if(!c)return null;const g=Object(i.a)(c.getState()),O=Object(i.b)(c.getState()),I={routeName:g,params:O};return Object(n.g)(I)?I:null}m(h,"determineCurrentView");function l(){return Object(n.b)(c=>{let{nextTeamId:E,routeName:v,params:g}=c;Object(a.getStoreInstanceByTeamId)(E)&&Object(a.dispatchForTeamId)(E,Object(o.b)({routeName:v,params:g}))})}m(l,"configureUpdateCurrentRoute");function u(c){const E=Object(r.h)(c,"lastRoute");return Object(n.g)(E)?E:null}m(u,"getLastRouteFromLocalConfig")},robD:function(K,s,e){"use strict";e.d(s,"e",function(){return a}),e.d(s,"a",function(){return d}),e.d(s,"c",function(){return o}),e.d(s,"b",function(){return i}),e.d(s,"d",function(){return h});var n=e("m8R6"),t=e("Muja");const a=m((l,u)=>l.indexOf(u)===-1?[...l,u]:l.filter(E=>E!==u),"toggleValueInFilterValues"),r=m(l=>{if(!l.length)return l;const u=l==null?void 0:l.flatMap(E=>E.split("|"));return[...new Set(u)]},"parseUserIdsAndRemoveDupes"),d=m((l,u,c)=>{const E=[l];return Object.values(u).forEach(g=>{if(g.fields&&g.fields[c]){const O=g.fields[c];E.push(O.trim())}}),r(E)},"getUserIdsInUserColumns"),o=m((l,u,c)=>{const E=l.map(g=>Object(n.a)(g,[c])),v=u.map(g=>Object(n.a)(g,[c]));return Object(t.a)(E,v)},"isLocalAndServerFilterSortsEqual"),i=m((l,u)=>{var c;const E=u.get((c=l.key)!==null&&c!==void 0?c:"");return E?!Object(t.a)(E.operator,l.operator)||!Object(t.a)(new Set(E.values),new Set(l.values)):!0},"isFilterUnsavedOrModified"),h=m((l,u)=>{const c=u.indexOf(l),E=[...u];return c>-1&&(E.splice(c,1),E.unshift(l)),E},"organizedUserIds")},rq2v:function(K,s,e){"use strict";e.d(s,"a",function(){return g}),e.d(s,"b",function(){return I});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("zxER"),d=e("7+Lm"),o=e("uVZW"),i=e("VxqI"),h=e("eWGC"),l=e("q6Tz"),u=e("6FZx"),c=e("Trx9");const E={isInMegaphoneContainerContext:!0},v={isInMegaphoneContainerContext:!1},g=Object(n.createContext)(v),O=m(C=>{let{fetchDataOnMount:f,notifications:S,spaceName:D,children:p,shouldAlwaysRenderChildren:b,shouldPassPropsToChildren:M,channelScopedId:_,componentClassName:P,...y}=C;var j;const U=Object(a.useDispatch)(),W=Object(r.c)(k=>Object(d.c)(k,D,_)),L=Object(r.c)(k=>Object(d.b)(k,D,_)),R=Object(n.useCallback)(()=>{U(Object(h.a)({notificationName:W,action:o.f.IMPRESSION}))},[U,W]),A=Object(n.useCallback)(()=>{U(Object(l.b)({event:{type:o.e.REQUEST_SPACES,spaces:[D]}}))},[U,D]),B=m(()=>b?M&&t.a.isValidElement(p)?t.a.cloneElement(p,{...y}):t.a.createElement(t.a.Fragment,null,p):null,"maybeRenderChildren");if(Object(n.useEffect)(()=>{D&&f&&A()},[f,D,A]),!D||!W)return B();const F=S==null||(j=S[W])===null||j===void 0?void 0:j.component;return F?t.a.createElement(c.a,{megaphoneSpaceName:D,megaphoneNotificationName:W},t.a.createElement(g.Provider,{value:E},t.a.createElement(n.Suspense,{fallback:null},t.a.createElement(F,{...L,recordNotificationEventImpression:R,notificationName:W,className:P,...y},p)))):(S||Object(i.a)({spaceName:D,notificationName:W}),B())},"MegaphoneContainer");O.displayName="MegaphoneContainer";const I=Object(u.b)(O);s.c=O},s0AW:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc");const r=t.a.memo(h=>{let{className:l,iconClassName:u,allowMuteAnimation:c,wasMicEverEnabled:E}=h;return t.a.createElement("div",{className:Object(a.default)("p-huddle_mic_icon p-huddle_mic_icon__container",l),"data-qa":"huddle_mic_icon_unmute"},t.a.createElement("svg",{className:u,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.a.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.a.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.a.createElement("path",{className:Object(a.default)({"p-huddle_mic_icon__microphone--slash_animated":c&&E}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),d=t.a.memo(h=>{let{volumeLevel:l=0,className:u,iconClassName:c}=h;const[E,v]=Object(n.useState)(0);return Object(n.useEffect)(()=>{if(l!=="auto"){v(Math.min(1,l||0));return}const g=setInterval(()=>{const O=(Math.floor(Math.random()*100)+1)/100;v(O)},100);return()=>{clearInterval(g)}},[l]),t.a.createElement("div",{className:Object(a.default)("p-huddle_mic_icon p-huddle_mic_icon__container",u),"data-qa":"huddle_mic_icon_mute"},t.a.createElement("svg",{className:c,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.a.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${E})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.a.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.a.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),o=m(h=>{let{type:l,volumeLevel:u,className:c,iconClassName:E,allowMuteAnimation:v=!1}=h;const[g,O]=Object(n.useState)(l==="unmuted");return Object(n.useEffect)(()=>{l==="unmuted"&&O(!0)},[l]),l==="unmuted"?t.a.createElement(d,{className:c,iconClassName:E,volumeLevel:u}):t.a.createElement(r,{className:c,iconClassName:E,allowMuteAnimation:v,wasMicEverEnabled:g})},"HuddleMicIcon");o.displayName="HuddleMicIcon";var i=s.a=t.a.memo(o)},s9IP:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return t&&t.emoji}m(n,"getEmojiCollectionEmoji")},sAkM:function(K,s,e){"use strict";e.d(s,"h",function(){return t}),e.d(s,"g",function(){return a}),e.d(s,"j",function(){return r}),e.d(s,"l",function(){return d}),e.d(s,"m",function(){return o}),e.d(s,"c",function(){return i}),e.d(s,"o",function(){return h}),e.d(s,"k",function(){return u}),e.d(s,"n",function(){return c}),e.d(s,"e",function(){return E}),e.d(s,"b",function(){return v}),e.d(s,"a",function(){return g}),e.d(s,"f",function(){return I}),e.d(s,"p",function(){return C}),e.d(s,"q",function(){return f}),e.d(s,"r",function(){return S}),e.d(s,"d",function(){return D}),e.d(s,"i",function(){return p});var n=e("8/D0");const t={FailedSaving:"failed_saving",FailedImport:"failed_import",WelcomeBanner:"welcome_banner"},a="lists-browser-page";var r;(function(b){b.BLANK="blank",b.BUGS="bugs",b.FEEDBACK="feedback",b.HELP="help",b.PROJECT_TRACKER="project_tracker",b.TEAM_PRIORITIES="team_priorities",b.TRIAGE_SLACK="triage_slack",b.CROWDSOURCE_IDEAS="crowdsource_ideas",b.CRM_LEADS="crm_leads"})(r||(r={}));const d=":star:",o=5,i=!0,h=":sparkling_heart:";var l;(function(b){b.Text="text",b.RichText="rich_text"})(l||(l={}));var u;(function(b){b.Standard="standard",b.Percent="percent",b.Currency="currency"})(u||(u={}));var c;(function(b){b.SingleSelect="single_select",b.MultiSelect="multi_select"})(c||(c={}));var E;(function(b){b.SingleEntity="single_entity",b.MultiEntity="multi_entity"})(E||(E={}));var v;(function(b){b.Single="single",b.Range="range"})(v||(v={}));var g;(function(b){b.Default="default",b.DdMmYyyy="DD/MM/YYYY",b.MmDdYyyy="MM/DD/YYYY",b.YyyyMmDd="YYYY/MM/DD",b.MonthDdYyyy="MMMM DD, YYYY",b.DdMonthYyyy="DD MMMM YYYY"})(g||(g={}));var O;(function(b){b.Favicon="favicon",b.Title="title",b.Url="url"})(O||(O={}));var I;(function(b){b.SelectList="select_list",b.SearchInput="search_input"})(I||(I={}));const C=new Map([[n.a.Text,{value:n.a.Text,label:"Text",icon:"text-snippet",description:"A single line of text.",configColumnDefaultOptions:{format:l.Text}}],[n.a.Number,{value:n.a.Number,label:"Number",icon:"numbered-list",configColumnDefaultOptions:{format:u.Standard,precision:0}}],[n.a.Select,{value:n.a.Select,label:"Select",icon:"caret-dropdown",configColumnDefaultOptions:{format:c.SingleSelect,choices:[]}}],[n.a.Date,{value:n.a.Date,label:"Date",icon:"calendar",configColumnDefaultOptions:{format:v.Single,dateFormat:g.Default}}],[n.a.User,{value:n.a.User,label:"People",icon:"user-groups",configColumnDefaultOptions:{format:E.SingleEntity,showMemberName:i,defaultValue:null}}],[n.a.Assignee,{value:n.a.Assignee,label:"Assignee",icon:"user-groups",configColumnDefaultOptions:{format:E.SingleEntity,showMemberName:i,defaultValue:null}}],[n.a.Attachment,{value:n.a.Attachment,label:"Files & media",icon:"files",description:"Attachments allow you to add images, documents, or other files which can then be viewed or downloaded."}],[n.a.Checkbox,{value:n.a.Checkbox,label:"Checkbox",icon:"checkbox",description:"A single checkbox that can be checked or unchecked."}],[n.a.Email,{value:n.a.Email,label:"Email",icon:"email"}],[n.a.Phone,{value:n.a.Phone,label:"Phone",icon:"call"}],[n.a.Channel,{value:n.a.Channel,label:"Channel",icon:"channel",configColumnDefaultOptions:{format:E.SingleEntity,showMemberName:i,defaultValue:null}}],[n.a.Rating,{value:n.a.Rating,label:"Rating",icon:"star",configColumnDefaultOptions:{emoji:d,max:o}}],[n.a.Message,{value:n.a.Message,label:"Message",icon:"direct-messages"}],[n.a.CreatedTime,{value:n.a.CreatedTime,label:"Created time",icon:"clock"}],[n.a.LastEditedTime,{value:n.a.LastEditedTime,label:"Last edited time",icon:"clock"}],[n.a.CreatedBy,{value:n.a.CreatedBy,label:"Created by",icon:"user"}],[n.a.LastEditedBy,{value:n.a.LastEditedBy,label:"Last edited by",icon:"user"}],[n.a.Vote,{value:n.a.Vote,label:"Vote",icon:"caret-up-full"}],[n.a.DueDate,{value:n.a.DueDate,label:"Due date",icon:"clock"}],[n.a.Completed,{value:n.a.Completed,label:"Completed",icon:"check"}]]),f=new Set([n.a.CreatedBy,n.a.LastEditedBy,n.a.CreatedTime,n.a.LastEditedTime]),S=new Set([n.a.Rating,n.a.Text,n.a.RichText,n.a.Number,n.a.Checkbox,n.a.Select,n.a.MultiSelect,n.a.Date,n.a.User,n.a.Channel]);var D;(function(b){b.NORMAL="normal",b.UNDO="undo",b.REDO="redo"})(D||(D={}));var p;(function(b){b.BLANK="blank",b.COPY="copy_from_list",b.TEMPLATE="template",b.IMPORT_FROM_CSV="import_from_csv"})(p||(p={}))},sEtg:function(K,s,e){"use strict";e.d(s,"i",function(){return g}),e.d(s,"e",function(){return O}),e.d(s,"f",function(){return I}),e.d(s,"c",function(){return C}),e.d(s,"d",function(){return f}),e.d(s,"j",function(){return S}),e.d(s,"g",function(){return D}),e.d(s,"h",function(){return p}),e.d(s,"a",function(){return b}),e.d(s,"b",function(){return M});var n=e("ZKjC"),t=e("G4qV"),a=e("EsgF"),r=e("Muja"),d=e("fujP"),o=e("i5Ig"),i=e("Eh7F"),h=e("BSP1");const l=Object(t.b)(a.a,r.a),u=m(_=>{var P;return(_==null||(P=_.awareness)===null||P===void 0?void 0:P.awarenessEntries)||o.a},"selectAwarenessEntries"),c=Object(t.a)([u,(_,P)=>P,(_,P,y)=>y,(_,P,y,j)=>j],(_,P,y,j)=>{if(P===void 0)return o.b;const U=_.filter(L=>{const R=L.channel===P,A=L.fieldName===y,B=j?L.uniqueId===j:!0,F=!Object(h.a)(L);return R&&A&&B&&F}).map(L=>[L.user,L.fieldValue]),W=Object.fromEntries(U);return Object(d.a)(W)?o.b:W}),E=Object(t.a)([u,(_,P)=>P,(_,P,y)=>y],(_,P,y)=>{if(P===void 0)return o.b;const j=_.filter(W=>{const L=W.channel===P,R=W.fieldName===y,A=!Object(h.a)(W);return L&&R&&A}).map(W=>[W.uniqueId,[W.user,W.fieldValue]]),U=Object.fromEntries(j);return Object(d.a)(U)?o.b:U}),v=Object(t.a)([u,(_,P)=>P,(_,P,y)=>y],(_,P,y)=>{if(P===void 0)return o.b;var j,U;const W=_.filter(R=>{const A=R.channel===P,B=R.fieldName===y,F=!Object(h.a)(R);return A&&B&&F}).sort((R,A)=>((j=R.fieldTimestampMs)!==null&&j!==void 0?j:Number.MAX_SAFE_INTEGER)-((U=A.fieldTimestampMs)!==null&&U!==void 0?U:Number.MAX_SAFE_INTEGER)).map(R=>[R.user,R.fieldValue]);return Object.fromEntries(W)}),g=Object(n.b)((_,P)=>{const y=v(_,P,i.a.STICKYEMOJI);return Object(d.a)(y)?o.b:y});g.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(_,P)=>{const y=v(_,P,i.a.STICKYEMOJI);return Object(d.a)(y)?o.b:y}};const O=Object(n.b)((_,P)=>c(_,P,i.a.CONTENTVIEW));O.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(_,P)=>c(_,P,i.a.CONTENTVIEW)};const I=Object(n.b)((_,P)=>E(_,P,i.a.CONTENTVIEW));I.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(_,P)=>E(_,P,i.a.CONTENTVIEW)};const C=Object(n.b)((_,P,y,j)=>{var U;return(_==null||(U=_.awareness)===null||U===void 0?void 0:U.awarenessEntries).filter(R=>{const A=R.channel===P,B=R.user===y,F=!j||Object(h.b)(R.fieldName)?!0:R.uniqueId===j,k=!Object(h.a)(R);return A&&B&&F&&k}).map(R=>({field_name:R.fieldName,field_value:R.fieldValue,...!!R.fieldTimestampMs&&{field_timestamp_ms:R.fieldTimestampMs}}))});C.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(_,P,y,j)=>{var U;return(_==null||(U=_.awareness)===null||U===void 0?void 0:U.awarenessEntries).filter(R=>{const A=R.channel===P,B=R.user===y,F=!j||Object(h.b)(R.fieldName)?!0:R.uniqueId===j,k=!Object(h.a)(R);return A&&B&&F&&k}).map(R=>({field_name:R.fieldName,field_value:R.fieldValue,...!!R.fieldTimestampMs&&{field_timestamp_ms:R.fieldTimestampMs}}))}};const f=Object(n.b)((_,P,y,j)=>{const U=C(_,P,y,j);for(const W of U)if(W.field_name===i.a.STICKYEMOJI)return W;return null});f.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(_,P,y,j)=>{const U=C(_,P,y,j);for(const W of U)if(W.field_name===i.a.STICKYEMOJI)return W;return null}};const S=Object(n.b)((_,P)=>{let{callId:y,userId:j,uniqueId:U}=P;return y?c(_,y,i.a.STICKYEMOJI,U)[j]:void 0});S.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(_,P)=>{let{callId:y,userId:j,uniqueId:U}=P;return y?c(_,y,i.a.STICKYEMOJI,U)[j]:void 0}};const D=Object(n.b)((_,P)=>{let{callId:y,userId:j}=P;if(!y)return;const U=c(_,y,i.a.HUDDLE_ACTIVE_SONG);if(Object(d.a)(U))return;if(j)return U[j];const W=Object.values(U);if(W.length!==0)return W[0]});D.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(_,P)=>{let{callId:y,userId:j}=P;if(!y)return;const U=c(_,y,i.a.HUDDLE_ACTIVE_SONG);if(Object(d.a)(U))return;if(j)return U[j];const W=Object.values(U);if(W.length!==0)return W[0]}};const p=Object(n.b)((_,P)=>{let{callId:y,userId:j,uniqueId:U}=P;return y?c(_,y,i.a.STEPS,U)[j]:void 0});p.meta={name:"createSelector",key:"createSelectorgetStepsByUserId",description:(_,P)=>{let{callId:y,userId:j,uniqueId:U}=P;return y?c(_,y,i.a.STEPS,U)[j]:void 0}};const b=l([u,(_,P,y,j,U)=>`${P},${y},${j},${U}`],(_,P)=>{const[y,j,U,W]=P.split(","),L=_.filter(R=>{const A=R.channel===y,B=R.user!==j,F=R.fieldName===i.a.ACTIVE_CELL&&R.fieldValue&&R.fieldValue.rowId===U&&R.fieldValue.colId===W,k=!Object(h.a)(R);return A&&B&&F&&k}).map(R=>[[`${R.fieldValue.rowId},${R.fieldValue.colId}`],R.user]);return L.length?Object.fromEntries(L):o.b}),M=Object(t.a)([u,(_,P)=>P],(_,P)=>P===void 0?o.a:_.filter(j=>{const U=j.channel===P,W=j.fieldName===i.a.ACTIVE_CELL;return U&&W}).map(j=>j.user))},sGXp:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"d",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return r}),e.d(s,"e",function(){return d});const n={xxlarge:102,xlarge:72,large:56,medium:36,small:20,inline:14},t={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},a={normal:"12px",none:"0"},r={small:"small",medium:"medium"},d={true:!0,bestOnly:"best_only",false:!1}},sK3r:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});const n=3e5,t={shareChannelPaywall:"share_channel_paywall",sharedChannelsIntro:"shared_channels_intro",trialStart:"trial_start",limitedHistoryForeword:"limited_history_foreword",slackConnectHub:"slack_connect_hub",slackConnectHubHeader:"slack_connect_hub_header",slackConnectDMBanner:"slack_connect_dm_banner",addMoreItemsLink:"add_more_items_link",connectionsChannelSection:"connections_channel_section",paidBenefitsPage:"paid_benefits_page",adminBillingOverview:"admin_billing_overview",channelInviteModal:"channel_invite_modal",huddleChannelJoinMsgText:"huddle_channel_join_msg_text",fileStorageWarning:"file_storage_warning",huddleInviteModal:"huddle_invite_modal",canvasPageSyntheticView:"canvas_page_synthetic_view",workflowBuilderFreemiumBanner:"workflow_builder_freemium_banner",workflowPublishButton:"workflow_publish_button"}},sNDC:function(K,s,e){"use strict";e.d(s,"e",function(){return C}),e.d(s,"f",function(){return f}),e.d(s,"g",function(){return S}),e.d(s,"h",function(){return D}),e.d(s,"b",function(){return p}),e.d(s,"c",function(){return b}),e.d(s,"d",function(){return M}),e.d(s,"a",function(){return _});var n=e("UXvI"),t=e("SQ0V"),a=e("1Zcw"),r=e("s4P+"),d=e("jUSB"),o=e("pJ2S"),i=e("JoR1"),h=e("IYwZ"),l=e("ctiz"),u=e("sgFo"),c=e("9Gfp");const E=Object(n.a)(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(d.c)(P?o.G:o.y,{loop:!1})},7e3,{leading:!0,trailing:!1}),v=Object(n.a)(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(d.c)(P?o.H:o.z,{loop:!1})},7e3,{leading:!0,trailing:!1}),g=Object(n.a)(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(d.c)(P?o.p:o.q,{loop:!1})},0,{leading:!0,trailing:!1}),O=Object(n.a)((P,y,j)=>{let U=y?o.D:o.d;const W=.25,L=Object(c.i)(j,"feature_tinyspeck"),R=Object(u.Q)(j);y&&P==="gong"&&R&&L&&(U=o.j);const A=Object(u.y)(j);y&&P==="duck"&&A&&L&&(U=o.h),Object(d.c)(U,{loop:!1,volume:W})},5e3,{leading:!0,trailing:!1}),I=m(P=>!Object(i.t)(P,"mute_huddle_sounds"),"canPlayHuddleSound"),C=Object(t.c)("Play sound when user joins",(P,y)=>{I(y())&&(Object(r.a)({getState:y}).info(a.c,"playSoundOnUserJoin"),E(!1))});C.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const f=Object(t.c)("Play sound when user leaves",(P,y)=>{I(y())&&(Object(r.a)({getState:y}).info(a.c,"playSoundOnUserLeft"),v(!1))});f.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const S=Object(t.c)("Play sound when you join",(P,y)=>{I(y())&&(Object(r.a)({getState:y}).info(a.c,"playSoundOnYouJoin"),E(!0))});S.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const D=Object(t.c)("Play sound when you leave",(P,y)=>{I(y())&&(Object(r.a)({getState:y}).info(a.c,"playSoundOnYouLeft"),v(!0))});D.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const p=Object(t.c)("Play sound when user mutes the mic using keyboard shortcut",(P,y)=>{I(y())&&(Object(r.a)({getState:y}).info(a.c,"playSoundOnMicMute"),g(!0))});p.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const b=Object(t.c)("Play sound when user unmutes the mic using keyboard shortcut",(P,y)=>{I(y())&&(Object(r.a)({getState:y}).info(a.c,"playSoundOnMicUnmute"),g(!1))});b.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const M=Object(t.c)("Play sound when reaction is received",(P,y,j)=>{let{emoji:U,isEffect:W}=j;const L=y();Object(i.t)(L,"huddles_reactions_play_sound")&&I(L)?(Object(r.a)({getState:y}).info(a.c,"playSoundOnReaction"),O(U,W,L)):Object(r.a)({getState:y}).info(a.c,"did not playSoundOnReaction")});M.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const _=Object(t.c)("Plays the huddle invite sound",(P,y)=>{const j=y();Object(h.a)(j)||!I(j)||Object(d.c)(Object(l.l)(j))});_.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"}},sOAz:function(K,s,e){"use strict";e.d(s,"b",function(){return o}),e.d(s,"c",function(){return i});var n=e("SQ0V"),t=e("Cudo");e.d(s,"a",function(){return t.a});const a=3*1e3,r={[t.a.NoUserAudioStream]:!0,[t.a.NoUserVideoStream]:!0,[t.a.NoAudioOutputAudioElementError]:!0,[t.a.NoAudioOutputAudioLevelError]:!0,[t.a.SlowNetwork]:!0,[t.a.PeerMuteRequest]:!0};let d={};const o=Object(n.c)("Display alert message for huddle call",(l,u,c)=>{let{alert:E,peerId:v}=c;if(!d[E]){if(r[E]){d[E]=setTimeout(()=>{d[E]&&(clearTimeout(d[E]),delete d[E]),l(Object(t.c)({alert:E,peerId:v}))},a);return}l(Object(t.c)({alert:E,peerId:v}))}});o.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const i=Object(n.c)("Undisplay an alert message for huddle call",(l,u,c)=>{d[c]&&(clearTimeout(d[c]),delete d[c]),l(Object(t.i)(c))});i.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"},Object.defineProperty({alertTimeouts:d},"alertTimeouts",{get:()=>d,set:l=>{d=l}})},sOnb:function(K,s,e){"use strict";e.d(s,"a",function(){return t});const n=/^Ft[A-Z0-9]{7,}$/;function t(a){return n.test(a)}m(t,"looksLikeHermesTriggerId")},sR4G:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("lhZz"),t=e("beVI"),a=e("7xYR");function r(d,o){const i=Object(n.getClientStoreInstance)();if(i){const l=i.getState(),u=Object(a.getWorkspaceMetaBySubdomain)(l,o);if(u)return u.id}const h=Object(t.r)(d,o);if(h)return h.id}m(r,"findWorkspaceIdForSubdomain")},sekU:function(K,s,e){"use strict";e.d(s,"a",function(){return g}),e.d(s,"b",function(){return I}),e.d(s,"c",function(){return f});var n=e("oTSI"),t=e("x5lL"),a=e("A1dN"),r=e("Lgge"),d=e("Kmpi"),o=e("uAML"),i=e("SQ0V"),h=e("lhZz"),l=e("gpLM"),u=e("HKlo"),c=e("+CZ0"),E=e("lpU5");const v=m((D,p)=>Object(h.dispatchForTeamId)(D,Object(a.a)({callIds:p,reason:"all-calls-store/conditional-fetch"})).then(b=>b.map(M=>Object(h.dispatchForTeamId)(D,Object(t.E)(M)))),"fetchAndUpsert"),g=Object(n.a)(()=>new o.b({fetch:v,isEnabled:()=>!0})),O=m((D,p)=>{const b=p.map(M=>(Object(h.dispatchForTeamId)(D,Object(t.E)(M)),M.id));g().markObjectsAsFresh(D,b)},"upsertCalls"),I=Object(n.a)(()=>new d.a({fetch:(D,p)=>Object(h.dispatchForTeamId)(D,Object(a.a)({callIds:p,reason:"all-calls-store/unknown-fetch"})),upsertKnown:O,upsertNonExistent:(D,p)=>O(D,p.map(b=>{let{id:M}=b;return{id:M,name:""}}))}));let C=0;const f=Object(i.c)("Set a huddle topic",(D,p,b)=>{let{channelId:M,topic:_}=b;const P=Object(h.getStateForClientStore)();if(Object(c.A)(P))return D(Object(E.e)(_)),r.a.resolve();const y=Object(c.a)(P);if(!y)return r.a.reject(new Error(`No callId for channel ${M}`));D(Object(E.e)(_)),C+=1;const j=C;return D(Object(a.e)({roomId:y,name:_})).then(()=>D(Object(t.E)({id:y,name:_}))).finally(()=>{j===C&&D(Object(E.e)(null)),D(Object(l.c)({focusKey:u.c.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});f.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const S={fetchAndUpsert:v}},smhd:function(K,s,e){"use strict";e.d(s,"b",function(){return n}),e.d(s,"a",function(){return t});var n;(function(a){a.START="start",a.STOP="stop",a.ONCE="once"})(n||(n={}));var t;(function(a){a.JOIN="session_join",a.VIDEO="video",a.SCREENSHARE="screenshare",a.REACTION="reaction_posted",a.MESSAGE="message_posted",a.MICROPHONE="microphone",a.MINIPLAYER_VIEW="mini_player_view",a.WINDOW_COMPACT_VIEW="window_compact_view",a.WINDOW_FULL_VIEW="window_full_view",a.THREAD_VIEW="thread_flexpane_view",a.TRANSCRIPT="trxn"})(t||(t={}))},spq4:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(){return!0}m(n,"isIaLayoutEnabled")},"sr/F":function(K,s,e){K.exports=e.p+"template_screenshot_project_tracker-ed40189.png"},srzd:function(K,s,e){"use strict";e.d(s,"a",function(){return C}),e.d(s,"b",function(){return f});var n=e("ZKjC"),t=e("9068"),a=e("O86Y"),r=e("mY+K"),d=e("9oTK"),o=e("oTSI"),i=e("zmn3"),h=e("Lgge"),l=e("Kmpi"),u=e("lhZz"),c=e("GAXn"),E=e("F56K");const v=Object(o.a)(()=>new l.a({fetch:g,upsertKnown:O,upsertNonExistent:O,isEnabled:()=>!0}));function g(S,D){return h.a.map(D,function(){var p=Object(d.coroutine)(function*(b){try{return(yield Object(u.dispatchForTeamId)(S,Object(c.a)({workflowId:b,reason:"hermes_workflows_store"}))).workflow}catch{var M;const P=(M=Object(u.getStateByTeamId)(S).hermesWorkflows)===null||M===void 0?void 0:M[b];return Object(l.e)(P)?null:P}});return function(b){return p.apply(this,arguments)}}()).filter(p=>p)}m(g,"fetchWorkflowsForTeamId");function O(S,D){Object(r.a)().markObjectsAsFresh(S,Object(i.a)(D,"id")),Object(u.dispatchForTeamId)(S,Object(E.b)({workflows:D}))}m(O,"upsertWorkflowsForTeamId");const I={fetchWorkflowsForTeamId:g,upsertWorkflowsForTeamId:O},C=Object(n.b)(function(S,D){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var b;const M=Object(a.g)(S),_=(b=S.hermesWorkflows)===null||b===void 0?void 0:b[D];return M?_?(Object(r.a)().maybeRefetch(M,D),_):p?v().fetchObjectWithId(M,D):Object(t.e)(D):Object(t.e)(D)});C.meta={name:"createSelector",key:"createSelectorgetWorkflowById",description:function(S,D){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var b;const M=Object(a.g)(S),_=(b=S.hermesWorkflows)===null||b===void 0?void 0:b[D];return M?_?(Object(r.a)().maybeRefetch(M,D),_):p?v().fetchObjectWithId(M,D):Object(t.e)(D):Object(t.e)(D)}};const f=Object(n.b)((S,D)=>{const p=C(S,D);return Object(t.d)(p)?[]:p.steps});f.meta={name:"createSelector",key:"createSelectorgetWorkflowStepsById",description:(S,D)=>{const p=C(S,D);return Object(t.d)(p)?[]:p.steps}}},ssje:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("+l5E"),t=e("pu3F");function a(r){return Object(n.A)(r)===t.Y}m(a,"isSlackbotMessage")},stkM:function(K,s,e){"use strict";var n=e("Lgge"),t=e("SQ0V"),a=e("0Wfr"),r=e("sK3r"),d=e("DhzV"),o=e("beVI"),i=e("AaDX"),h=e("G0eX"),l=e("s4P+");const u=Object(t.c)("Fetch promo campaign eligibility",(v,g,O)=>{let{campaignType:I,campaignSubType:C,context:f,reason:S}=O;const D=Object(o.g)(g());return Object(h.F)(D)?(v(Object(d.c)({campaignType:I,campaignSubType:C,isFetching:!0})),v(Object(i.a)({campaignType:I,campaignSubType:C,context:f,reason:S})).then(b=>{const{isEligible:M,discountPercent:_,expirationTimestamp:P,discountDuration:y}=b;return v(Object(d.b)({campaignType:I,campaignSubType:C,isEligible:M,discountPercent:_,expirationTimestamp:P,discountDuration:y})),v(Object(d.c)({campaignType:I,campaignSubType:C,isFetching:!1})),b}).catch(b=>(Object(l.a)({state:g()}).error(b.message),v(Object(d.c)({campaignType:I,campaignSubType:C,isFetching:!1})),b))):n.a.resolve({isEligible:!1})});u.meta={name:"createThunk",key:"createThunkfetchPromoEligibility",description:"Fetch promo campaign eligibility"};const c=Object(a.a)(u,r.a,!0,["context","reason"]);s.a=c;const E={fetchPromoEligibility:u}},swWY:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("GzZI"),r=e("lCmp"),d=e("Cfcg"),o=e("n3tL"),i=e("Yauy"),h=e("xwCZ"),l=e("E3dU"),u=e("Kmpi"),c=e("CD4m"),E=e("CTEJ"),v=e("QaYX");const g=4,O={className:o.default.string,mpim:o.default.object,multiline:o.default.bool,name:o.default.string,isAnyMemberUnknown:o.default.bool,invert:o.default.bool,inline:o.default.bool,onlyBoldIfUnread:o.default.bool},I={className:void 0,mpim:void 0,multiline:!1,name:void 0,isAnyMemberUnknown:!1,invert:!1,inline:void 0,onlyBoldIfUnread:!1};function C(S){let{className:D,mpim:p,multiline:b,name:M,invert:_,isAnyMemberUnknown:P,inline:y,onlyBoldIfUnread:j}=S;const U=Object(u.c)(p),W=Object(u.d)(p),L=Object(i.G)(p),R=!j||Object(i.ub)(p);let A;return W||U||P?A=Object(a.a)(L||g).map(B=>t.a.createElement(E.a,{key:B,className:"c-mpim_entity__missing_text",isNonExistent:U,size:"random",invert:_})):A=R?t.a.createElement("strong",{"data-qa":"mpim_name"},M):t.a.createElement("span",{"data-qa":"mpim_name"},M),t.a.createElement(c.c,{className:D,multiline:b,breakWords:!1,inline:y},A)}m(C,"MpimName"),C.displayName="MpimName",C.propTypes=O,C.defaultProps=I;const f=m((S,D)=>{let{id:p,mpim:b,matchData:M}=D;const _=b||Object(l.d)(S,p),P=Object(v.a)({state:S,mpim:_,matchData:M}),y=P&&P.map(W=>Object(h.g)(S,W)),j=Object(r.a)(y,u.e),U=Object(i.E)(S,_,P);return{mpim:_,name:U,isAnyMemberUnknown:j}},"mapStateToProps");s.a=Object(d.a)(f)(C)},sxEY:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("XZo2"),a=e("pZC0"),r=e("E97Y"),d=e("E3dU"),o=e("5IZy"),i=e("ktUG");const h=Object(n.c)("Clogs a message sent or resent",function(l,u){let{channelId:c,msgTs:E,resent:v=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=u(),O=c?Object(d.d)(g,c):null;let I={message_timestamp:E,channel_id:c,channel_type:c?c.charAt(0):null,channel_privacy_type:O?Object(r.c)(O):null,is_file_channel:O?Object(a.a)(O):null};const C=Object(t.d)(g);C!==null&&(I={...I,channel_session_id:C});const f=Object(o.a)({state:g}),S=v?i.EventId.MSG_RESENT:i.EventId.MSG_SENT;f.track(S,I)});h.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"},s.a=h},sypA:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("TBTs"),a=e("3fJ/");const r=Object(n.c)("Reset session timeout ids when someone returns to their search",(d,o)=>{clearTimeout(Object(t.z)(o())),d(Object(a.I)({sessionTimeoutId:null})),d(Object(a.E)({querySessionTimeoutId:null}))});r.meta={name:"createThunk",key:"createThunkresetSessionTimeoutIds",description:"Reset session timeout ids when someone returns to their search"},s.a=r},t35X:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("SQ0V"),t=e("lhZz"),a=e("dKQz"),r=e("FZZA"),d=e("lA92"),o=e("qr10"),i;(function(l){l.ACCEPT="accept",l.DECLINE="decline",l.JOINING_SOON="joining_soon"})(i||(i={}));const h=Object(n.c)("Respond to an invitation to a huddle",(l,u,c)=>{let{channelId:E,inviteResponse:v,callId:g}=c;l(Object(d.a)());let O;return v!==i.ACCEPT&&(O=l(Object(o.a)({response:v,channelId:E,roomId:g,reason:"respond-to-huddle-invite"}))),v===i.DECLINE&&(Object(t.dispatchForClientStore)(Object(a.c)(E)),l(Object(r.c)(E))),O});h.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"},s.b=h},t3jr:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("S4vl"),t=e("e9jb"),a=e("rCwz");const r=Object(a.a)(function(d,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;Object(n.b)(!Object(t.a)(),"Expected to send message from the slack window"),Object(a.b)({direction:"send",type:d,payload:i?o:"REDACTED"})})},t890:function(K,s,e){"use strict";e.d(s,"g",function(){return t}),e.d(s,"i",function(){return a}),e.d(s,"c",function(){return r}),e.d(s,"a",function(){return d}),e.d(s,"j",function(){return o}),e.d(s,"d",function(){return i}),e.d(s,"k",function(){return h}),e.d(s,"e",function(){return l}),e.d(s,"l",function(){return u}),e.d(s,"f",function(){return c}),e.d(s,"h",function(){return E}),e.d(s,"b",function(){return v});var n=e("DwFS");const t=Object(n.a)("Set Awareness State for another user");t.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const a=Object(n.a)("Set Awareness State for me");a.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const r=Object(n.a)("Remove Awareness State for me");r.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const d=Object(n.a)("Clear the full awareness state for a user");d.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const o=Object(n.a)("Set my screenshare view");o.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const i=Object(n.a)("Remove my screenshare view");i.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const h=Object(n.a)("Set my sticky reaction");h.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const l=Object(n.a)("Remove my sticky reaction");l.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const u=Object(n.a)("Clear any stale awareness entries");u.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const c=Object(n.a)("Sets updatedTimestamp for my awareness entries to current time");c.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const E=Object(n.a)("Set my active song");E.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const v=Object(n.a)("Remove my active song");v.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},"tBN+":function(K,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("JfJV"),r=e("SQ0V"),d=e("KtMe"),o=e("PJXs"),i=e("2VFn"),h=e("25cE"),l=e("WUSA"),u=e("nNoG"),c=e("gPPH"),E=e("xcHN"),v=e("n2bd"),g=e("bczA");const O=new u.b("client"),I=Object(r.c)("Restore the detail view for an entity",function(){var C=Object(n.coroutine)(function*(f,S,D){let{entityId:p,windowId:b=i.c,nextRouteParams:M}=D;var _,P;const y=S(),j=Object(o.b)(y,{entityId:p,windowId:b});var U;const W=(U=j==null?void 0:j.params)!==null&&U!==void 0?U:{};if(!j||b!==i.c)return;const L=Object(o.a)(y,{entityId:p,windowId:b});if(j.routeName!==h.o&&L&&Date.now()>L)return f(Object(v.a)({entityId:p,windowId:b})),{entityId:p,expired:!0};const A=Object(g.a)(y);A===h.b?f(Object(l.a)({message:O.t("Secondary view has opened"),uuid:Object(c.a)()})):A!=null&&A.includes("FLEX")&&f(Object(l.a)({message:O.t("Secondary view has changed"),uuid:Object(c.a)()}));let B={...W};return((_=Object(E.a)(M==null?void 0:M.threadId))===null||_===void 0?void 0:_.channelId)===((P=Object(E.a)(W==null?void 0:W.threadId))===null||P===void 0?void 0:P.channelId)&&(B={...j.params,...M}),Object(a.h)(j.routeName,B,{reason:d.c,shouldReplaceState:!0})});return function(f,S,D){return C.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkopenDetailViewForEntityId",description:"Restore the detail view for an entity"},s.a=I},tHoN:function(K,s,e){"use strict";e.d(s,"a",function(){return o}),e.d(s,"b",function(){return i}),e.d(s,"e",function(){return h}),e.d(s,"c",function(){return l}),e.d(s,"d",function(){return u});var n=e("kiPk"),t=e("xt0X"),a;let r=!!(!(window==null||(a=window.performance)===null||a===void 0)&&a.memory);function d(){return r?window.performance.memory.jsHeapSizeLimit:null}m(d,"getMemoryLimit");function o(){return r?window.performance.memory.totalJSHeapSize:null}m(o,"getMemoryTotal");function i(){return r?window.performance.memory.usedJSHeapSize:null}m(i,"getMemoryUsed");function h(){return r}m(h,"supportsMemoryMeasurement");function l(E){const v=E/1e3/1e3;return`${v<100?v.toPrecision(3):Math.round(v)} MB`}m(l,"humanizeBytes");function u(E,v){const g=Object(n.a)(E,O=>{let{memory:I}=O;return I[v]||0});return Math.ceil(Object(t.b)(g))}m(u,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>r,set:E=>{r=E}}})},tM7h:function(K,s,e){K.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},tOKv:function(K,s,e){"use strict";e.d(s,"b",function(){return o});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("QYtq"),d=e("nxhD");const o=m(h=>{const{left:l=0,top:u=0}=h||{};return{left:l,top:u,right:l,bottom:u,width:0,height:0}},"makeTargetBounds"),i=m(h=>{let{targetBounds:l,onCloseRequested:u,children:c}=h;const E=t.a.Children.only(c),v=Object(a.useDispatch)();Object(n.useEffect)(()=>(v(Object(d.b)({})),()=>{v(Object(d.a)({}))}),[v]);const g=Object(n.useMemo)(()=>({isContextMenu:!0,width:"auto",onTriggerClose:u,onMenuItemSelected:u}),[u]);return t.a.createElement(r.a,{shouldFade:!1,position:"right-bottom",tryOppositePosition:!0,useTargetBoundsAsPosition:!0,shouldCloseOnOverlayMouseDown:!0,isOpen:!0,targetBounds:o(l),onClose:u},t.a.cloneElement(E,g))},"ContextMenu");i.displayName="ContextMenu",s.a=i},tUtw:function(K,s,e){"use strict";e.d(s,"a",function(){return o}),e.d(s,"b",function(){return i}),e.d(s,"c",function(){return h});var n=e("ZKjC"),t=e("vLZU"),a=e("UOL+"),r=e("w2SD");const{getObjectById:d}=r.c,o=m((u,c)=>d(Object(t.B)({reducer:r.b})?Object(a.a)(u):u,c),"innerGetChannelLoadingDataById"),i=Object(n.b)((u,c)=>{var E;return!!(!((E=o(u,c))===null||E===void 0)&&E.loading)});i.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(u,c)=>{var E;return!!(!((E=o(u,c))===null||E===void 0)&&E.loading)}};const h=Object(n.b)((u,c)=>{const E=o(u,c);return!!(E!=null&&E.loading&&(E!=null&&E.loadingOlder))});h.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(u,c)=>{const E=o(u,c);return!!(E!=null&&E.loading&&(E!=null&&E.loadingOlder))}};const l={innerGetChannelLoadingDataById:o}},tZQI:function(K,s,e){"use strict";e.d(s,"b",function(){return _}),e.d(s,"e",function(){return y}),e.d(s,"d",function(){return j}),e.d(s,"a",function(){return U}),e.d(s,"c",function(){return W});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),r=e("oTSI"),d=e("WIr4"),o=e("vd/O"),i=e("BHdc"),h=e("HP72"),l=e("YsXF"),u=e("fEGR"),c=e("yh68"),E=e("cRTT"),v=e("HUUN"),g=e("Pewd"),O=e("9ADk"),I=e("2K8U"),C=e("MYuU"),f=e("OmHH"),S=e("FRd1"),D=e("ktUG");function p(){return p=Object.assign||function(L){for(var R=1;R<arguments.length;R++){var A=arguments[R];for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(L[B]=A[B])}return L},p.apply(this,arguments)}m(p,"_extends");const b={onOptionSelected:{action:D.UiAction.SELECT}},M=m(L=>L.map(R=>{let{id:A}=R;return A}),"getIdsFromHintOrErrors");let _=m(class extends n.Component{renderOptionsList(){const{selectState:R,setSelectState:A,renderOption:B,emptyStateMessage:F,enableLoadingState:k,width:V,maxOptionsListHeight:X,inputRef:J,resultsInPopover:Y,isLoading:ie,classPrefix:de,optionsRowHeight:pe,onOptionsListOpen:oe,onOptionsListClose:me,overlayClassName:re,onScrollablePage:ve,onOptionSelected:q,shouldOptionBeSelected:ce,shouldTokenizeOnComma:he,shouldTokenizeOnSpace:Se,autoClogProps:se,dynamicHeight:H,shouldAllowUnselectInMultiSelectMode:Oe,stayExpandedAfterSelection:$,optionsListFooterBannerContent:z}=this.props,{isDisabled:be,loadInBackground:Z}=R;if(be)return null;const G=Y?t.a.createElement(l.a,{selectState:R,setSelectState:A,renderOption:B,emptyStateMessage:F,enableLoadingState:k,width:V,maxListHeight:X,multiSelectMode:!0,inputRef:J,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:ie&&!Z,classPrefix:de,selectDataQa:this.fallbackDataQa,optionsRowHeight:pe,onOpen:oe,onOptionsListClose:me,popoverProps:re?{overlayClassName:re}:void 0,onScrollablePage:ve,onOptionSelected:q,shouldOptionBeSelected:ce,shouldTokenizeOnComma:he,shouldTokenizeOnSpace:Se,autoClogProps:se,dynamicHeight:H,shouldAllowUnselectInMultiSelectMode:Oe,stayExpandedAfterSelection:$,footerBannerContent:z}):t.a.createElement(h.b,{selectState:R,setSelectState:A,renderOption:B,emptyStateMessage:F,enableLoadingState:k,width:V,maxListHeight:X,multiSelectMode:!0,classPrefix:de,selectDataQa:this.fallbackDataQa,optionsRowHeight:pe,onOptionsListClose:me,onOptionSelected:q,shouldOptionBeSelected:ce,shouldTokenizeOnComma:he,shouldTokenizeOnSpace:Se,dynamicHeight:H,footerBannerContent:z});return se?t.a.createElement(S.a,{elementType:D.ElementType.DROPDOWN,actionProps:b,autoClogProps:se},G):G}render(){const{selectState:R,setSelectState:A,inputRef:B,maxHeight:F,placeholderText:k,size:V,width:X,isLoading:J,focusOnMount:Y,resultsInPopover:ie,onSelectedItemsChange:de,onKeyDown:pe,onKeyUp:oe,className:me,classPrefix:re,onFilterQueryChange:ve,onFilterQueryPaste:q,processOptions:ce,onBlur:he,onOptionsListClosedBlur:Se,onOptionsListClose:se,expandOnFocus:H,ariaLabel:Oe,ariaLabelledBy:$,ariaDescribedBy:z,onTokenSelect:be,onInputFocused:Z,forceRealName:G,autoClogProps:ne,errors:ge,hints:ae,disableIdParsing:fe,customizeTokenProps:Te,iconType:ye,isTokenEditable:Ue,ignoreSelectAllTokensAfterMount:Ne,disableCloseOnTab:He,throttleForceRenderSelectContainer:ze,forceRenderSelectContainerThrottleRate:Je}=this.props;let Xe;ge&&(Xe=Object(o.a)(ge));let Me;ae&&(Me=Object(o.a)(ae));let Ke;ge&&(Ke=Xe?M(ge):void 0);let $e;ae&&($e=Me?M(ae):void 0);const ct=Object(C.e)([z,Ke,$e]);return t.a.createElement("div",{className:Object(i.default)(me,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.a.createElement(u.a,{selectState:R,setSelectState:A,size:V,width:X,maxHeight:F,placeholderText:k,isLoading:J,inputRef:B,focusOnMount:Y,measurePopoverEventName:ie&&this.measurePopoverEventName,onSelectedItemsChange:de,selectDataQa:this.fallbackDataQa,onKeyDown:pe,onKeyUp:oe,classPrefix:re,onFilterQueryChange:ve,onFilterQueryPaste:q,processOptions:ce,onBlur:he,onOptionsListClosedBlur:Se,onOptionsListClose:se,expandOnFocus:H,ariaLabel:Oe,ariaLabelledBy:$,ariaDescribedBy:ct,onTokenSelect:be,onInputFocused:Z,forceRealName:G,autoClogProps:ne,customizeTokenProps:Te,iconType:ye,disableIdParsing:fe,isTokenEditable:Ue,ignoreSelectAllTokensAfterMount:Ne,disableCloseOnTab:He,throttleForceRenderSelectContainer:ze,forceRenderSelectContainerThrottleRate:Je}),Xe&&ge&&t.a.createElement(g.a,{errors:ge}),Me&&ae&&ae.map(Tt=>{let{id:Et,message:Le}=Tt;return t.a.createElement(O.a,{key:Et,id:Et},Le)}),this.renderOptionsList())}constructor(R){super(R),Object(d.a)(this,["renderOptionsList"]),this.inputContainerRef=t.a.createRef();const{selectId:A}=R.selectState;this.measurePopoverEventName=`measureSelectPopover--${A}`,this.fallbackDataQa=R.selectDataQa||A}},"ControlledMultiSelect");_.displayName="ControlledMultiSelect",_.defaultProps={renderOption:L=>L.label,size:I.f.MEDIUM,width:300,optionsRowHeight:I.a,maxHeight:void 0,maxOptionsListHeight:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:a.a,onKeyDown:a.a,onKeyUp:a.a,className:void 0,classPrefix:void 0,onFilterQueryChange:a.a,onFilterQueryPaste:a.a,processOptions:a.a,onBlur:a.a,onOptionsListClosedBlur:a.a,ariaLabel:void 0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:a.a,onInputFocused:a.a,forceRealName:void 0,onOptionsListOpen:a.a,onOptionsListClose:a.a,onScrollablePage:!1,onOptionSelected:a.a,shouldOptionBeSelected:a.a,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:void 0};let P=m(class extends n.Component{setSelectState(R,A){this.setState(B=>{let F=R();const{filter:k,options:V}=this.props;return F.filterQuery!==void 0&&F.filterQuery!==B.filterQuery&&k&&(F=k(V,F)),F},A)}render(){const{isDisabled:R,isInvalid:A,isRequired:B,customControlledMultiSelectComponent:F,errors:k}=this.props,V=A||Object(o.a)(k),X=F??_,J=Object(r.a)(()=>({...this.state,isDisabled:R,isInvalid:V,isRequired:B}));return t.a.createElement(X,p({},this.props,{selectState:J(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(R){super(R),this.state={filterQuery:"",options:R.options,isDisabled:R.isDisabled,isExpanded:R.isExpanded,isInvalid:R.isInvalid,isRequired:R.isRequired,selectId:R.selectId,selectedOptions:R.selectedOptions||[],shouldRefocusInputAfterSelection:!!R.showConfirmDialog,selectedTokenIndexes:R.selectedTokenIndexes||[]},this.inputRef=t.a.createRef(),Object(d.a)(this,["setSelectState"])}},"MultiSelect");P.displayName="MultiSelect",P.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:f.a,selectId:`multi-select-${Object(C.d)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]},s.f=P;const y=Object(c.a)(_),j=Object(c.a)(Object(E.a)(_)),U=Object(E.a)(_),W=Object(v.a)(_)},tZRe:function(K,s,e){"use strict";e.d(s,"a",function(){return k});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),r=e("BHdc"),d=e("ifKl"),o=e("3Hq1"),i=e("2K8U"),h=e("Iy3M"),l=e("oEDn"),u=e("0i82"),c=e("Tsh7"),E=e("i9y5"),v=e("3RZE"),g=e("M2+7"),O=e("55av"),I=e("XcMG"),C=e("gVOt"),f=e("E97Y"),S=e("eUIW"),D=e("bJfW"),p=e("bjy1"),b=e("D2c/"),M=e("E3dU"),_=e("beVI"),P=e("G0eX"),y=e("zm5I"),j=e("DQKV"),U=e("/qcS"),W=e("bqbz"),L=e("NV6F"),R=e("djjd"),A=e("Zbwg"),B=e("UA9w");function F(){return F=Object.assign||function(J){for(var Y=1;Y<arguments.length;Y++){var ie=arguments[Y];for(var de in ie)Object.prototype.hasOwnProperty.call(ie,de)&&(J[de]=ie[de])}return J},F.apply(this,arguments)}m(F,"_extends");let k=m(class extends n.Component{renderChannelToken(Y){const{channel:ie,showMemberCounts:de,isSelected:pe,channelHasNonUniqueName:oe}=this.props;let me;return Object(f.g)(ie)?me=t.a.createElement(g.b,{id:Object(C.a)(ie),className:"c-token_channel"}):Object(f.i)(ie)?me=t.a.createElement(O.a,{mpim:ie,className:"c-token_channel",isActive:pe}):me=t.a.createElement(h.a,{channel:ie,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:de,showTeamForLocalChannel:oe}),t.a.createElement("span",{className:Y,"data-qa":"token_channel"},me)}renderContent(){const{isLoading:Y,isUnknown:ie,isError:de,isMemberError:pe,isTeamError:oe,isInvalid:me,channel:re,memberId:ve,teamName:q,userGroupId:ce,channelSection:he,contentInnerClassName:Se,emailTeam:se}=this.props;let H=Object(r.default)("c-token_content__inner",Se);return Y&&!me?(H+=" c-token_content__inner--loading",this.renderLoadingToken(H)):ie?(H+=" c-token_content__inner--unknown",this.renderUnknownToken(H)):de?(H+=" c-token_content__inner--error",this.renderErrorToken(H)):se?(H+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(H)):ve&&pe?(H+=" c-token_content__inner--error",this.renderMemberErrorToken(H)):ve?(H+=" c-token_content__inner--member",this.renderMemberToken()):re?this.renderChannelToken(H):q&&oe?(H+=" c-token_content__inner--error",this.renderTeamErrorToken(H)):q?(H+=" c-token_content__inner--team",this.renderTeamToken(H)):he?(H+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(H)):ce?(H+=" c-token_content__inner--usergroup",this.renderUserGroupToken(H)):this.renderPlainToken(H)}renderErrorToken(Y){const{label:ie}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement("span",{className:"c-token__error_icon_container"},t.a.createElement(l.a,{type:"exclamation-circle","data-qa":"token_error_icon"})),t.a.createElement("span",{className:Object(r.default)(Y,"c-token_content__label"),"data-qa":"token_error"},ie))}renderLoadingToken(Y){const{isSelected:ie,size:de,label:pe,theme:oe}=this.props,me=oe==="dark";return t.a.createElement("div",{className:"inline_flex"},t.a.createElement("span",{className:"c-token__loading_icon_container"},t.a.createElement(E.a,F({color:!me&&ie||me&&!ie?"white":"blue"},de?{size:de}:{},{"data-qa":"token_loading_icon"}))),t.a.createElement("span",{className:Object(r.default)(Y,"c-token_content__label"),"data-qa":"token_loading"},pe))}renderMemberToken(){const{forceRealName:Y,isDisabled:ie,memberId:de,size:pe}=this.props;return t.a.createElement(g.b,{id:de,isDeactivated:ie,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:Y,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:pe})}renderMemberErrorToken(Y){const{forceRealName:ie,isDisabled:de,memberId:pe,size:oe}=this.props;return t.a.createElement(g.b,{id:pe,isDeactivated:de,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:ie,showStatus:!1,className:Object(r.default)(Y,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:oe})}renderPlainToken(Y){const{icon:ie,label:de}=this.props;return t.a.createElement("span",{className:Y},ie&&t.a.createElement(l.a,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:ie,inline:!0}),t.a.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.a.createElement(j.a,{text:de,inputIsEscaped:!0,emojiSize:U.a.MEDIUM})))}renderEmailTokenWithTeamIcon(Y){const{icon:ie,label:de,emailTeam:pe}=this.props;return t.a.createElement("span",{className:Y},ie&&t.a.createElement(l.a,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:ie,inline:!0}),t.a.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.a.createElement(j.a,{text:de,inputIsEscaped:!0,emojiSize:U.a.MEDIUM})),pe&&t.a.createElement("span",{className:"c-member__secondary_content"},t.a.createElement(u.b,{team:pe,"data-qa":"token_email_with_team_icon",size:g.a,className:"c-member__team_icon"})))}renderTeamToken(Y){const{teamId:ie,teamName:de}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement(u.b,{id:ie,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.a.createElement("span",{className:Object(r.default)(Y,"c-token_content__label"),"data-qa":"token_team_name"},de))}renderTeamErrorToken(Y){const{teamId:ie,teamName:de}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement(u.b,{id:ie,size:26,className:"c-token__team_icon","data-qa":"token_team_icon_error"}),t.a.createElement("span",{className:Object(r.default)(Y,"c-token_content__label"),"data-qa":"token_team_name_error"},de))}renderChannelSectionToken(Y){const{channelSection:ie}=this.props;return ie?t.a.createElement("span",{className:Object(r.default)(Y,"c-token_content__label")},t.a.createElement(I.a,{channelSection:ie})):null}renderUnknownToken(Y){const{label:ie}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement("span",{className:"c-token__unknown_icon_container"},t.a.createElement(l.a,{type:"missing-emoji","data-qa":"token_unknown_icon"})),t.a.createElement("span",{className:Object(r.default)(Y,"c-token_content__label"),"data-qa":"token_unknown"},ie))}renderUserGroupToken(Y){const{userGroupId:ie}=this.props;return t.a.createElement(v.a,{id:ie,showDescription:!1,className:Object(r.default)(Y,"c-token_content__label")})}render(){const{isDisabled:Y,isInvalid:ie,isError:de,memberId:pe,isMemberError:oe,isTeamError:me,isUnknown:re,isLoading:ve,isSelected:q,size:ce,theme:he,hoverText:Se,tabIndex:se,contentEditable:H,className:Oe,onMouseDown:$,enableProfileHoverCard:z,customizeProfileHoverCardProps:be,isRestricted:Z}=this.props,G=Object(r.default)("c-token",Oe,`c-token--${ce}`,`c-token--${he}`,{"c-token--selected":q,"c-token--disabled":Y,"c-token--invalid":ie,"c-token--restricted":Z,"c-token--error":de||oe||me,"c-token--unknown":re,"c-token--loading":ve}),ne=this.renderContent();let ge=ne;Se&&ne?ge=t.a.createElement(c.d,{tip:Se},ne):pe&&z&&(ge=Object(L.C)({...be||{},memberId:pe,children:ne}));const ae=this.props.renderIcon(this.props);return t.a.createElement("span",{className:G,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:se,contentEditable:H,onMouseDown:$},t.a.createElement("span",{className:"c-token__content","data-qa":"token_content"},ge),ae)}},"Token");k.displayName="Token",k.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:i.f.MEDIUM,theme:"light",renderIcon:d.a,forceRealName:!1,contentEditable:!1,channelHasNonUniqueName:!1};const V=m((J,Y)=>{const{entityId:ie,disableIdParsing:de,isIA4Enabled:pe}=Y,oe=Object(y.a)(J);if(Object(o.a)(ie))return{theme:oe};let me;Object(S.a)(ie)&&!de&&(me=ie);let re,ve;if((Object(D.a)(ie)||Object(D.b)(ie))&&!de){const H=Object(_.s)(J,ie);H&&(re=ie,ve=Object(P.h)(H))}let q;Object(b.a)(ie)&&!de&&(q=Object(W.g)(J,ie));let ce;Object(p.a)(ie)&&!de&&(ce=ie);const he=Object(M.d)(J,ie),Se=Object(M.a)(J);let se;return Object(A.a)(ie)&&he&&(se=pe&&Object(R.a)(Se,he)),{channel:he,memberId:me,teamName:ve,teamId:re,userGroupId:ce,theme:oe,channelSection:q,channelHasNonUniqueName:se}},"mapStateToProps");var X=s.b=Object(B.c)(Object(a.a)(V,null)(k))},tcEy:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("bdgK"),t=e("UXvI");function a(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const o=m(i=>{!Array.isArray(i)||!i.length||requestAnimationFrame(()=>r(i))},"observer");return new n.a(Object(t.a)(o,d))}m(a,"getResizeObserver")},tcZJ:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("IzLi"),t=e("SQ0V"),a=e("Lgge"),r=e("OqoL"),d=e("k6mT");const o=Object(t.c)("Submits changes to the current user\u2019s profile",(i,h,l)=>{let{profile:u,reason:c="submitProfileChange"}=l;if(!Object(n.a)(u))return a.a.resolve();const E={...u},v=h();return u.status_text&&(E.status_text=Object(r.b)(v,u.status_text)),i(Object(d.b)({profile:JSON.stringify(E),reason:c}))});o.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},tfcd:function(K,s,e){"use strict";e.d(s,"a",function(){return t});const n=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function t(a){return a?n.test(a):!1}m(t,"looksLikeQuipHistoryId")},tg2r:function(K,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("SQ0V"),t=e("QLhP"),a=e("MUHj"),r=e("O86Y"),d=e("9I4P"),o=e("x/ke"),i=e("xwCZ"),h=e("RV0M"),l=e("I0j/"),u=e("37+L"),c=e("3956");const E=Object(n.c)("Shows message pane for bots",function(g,O){let{memberId:I,serviceId:C,botProfile:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var S;const{member:D,bot:p,memberIsHuman:b}=Object(t.f)(O(),{userId:I,botId:C,botProfile:f}),M=Object(r.g)(O())||"",_=!b||C?Object(d.c)({member:D||void 0,bot:p,botProfile:f,currentTeamId:M}):void 0,P=Object(o.c)(O(),{serviceId:C,homeWorkspaceId:_,memberId:I});var y;const j=Object(i.g)(O(),I||((y=P==null||(S=P.app_user)===null||S===void 0?void 0:S.id)!==null&&y!==void 0?y:void 0));var U;return g(Object(a.a)({memberId:(U=j==null?void 0:j.id)!==null&&U!==void 0?U:void 0}))});E.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const v=Object(n.c)("Shows the flexpane profile for humans or messages for bots",(g,O,I,C)=>{let{memberId:f,serviceId:S,botProfile:D}=I;const{shouldUseNavigate:p}=C(h.a);return f&&Object(t.e)(O(),f)?g(p?Object(l.a)(Object(u.O)(f)):Object(c.a)({memberId:f})):g(E({memberId:f,serviceId:S,botProfile:D}))});v.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},to1N:function(K,s,e){"use strict";var n=e("SQ0V"),t=e("Lgge"),a=e("s4P+"),r=e("Pw4T"),d=e("AaY3"),o=e("lA92"),i=e("lhZz"),h=e("3vtZ"),l=e("bYrq"),u=e("SZMM"),c=e("+CZ0"),E=e("4cJY"),v=e("RBHu"),g=e("vHY4"),O=e("uVZW"),I=e("7+Lm"),C=e("q6Tz"),f=e("sgFo"),S=e("lpU5");const D=Object(n.c)("Join/start huddle, but confirm with shouty rooster modal first",(b,M,_)=>{let{channelId:P,threadTs:y,muted:j,callId:U,forceFocus:W,entryPoint:L,forceConfirmation:R,markTelemeter:A,isMultiDevice:B,isStandaloneHuddle:F}=_;const k=m(()=>{var V;A&&Object(r.d)({state:M()}).mark(v.o),(V=b(Object(d.a)({channelId:P,threadTs:y,muted:j,callId:U,forceFocus:W,entryPoint:L,isMultiDevice:B,isStandaloneHuddle:F})))===null||V===void 0||V.catch(X=>{Object(a.a)({getState:M}).error("Could not start huddle",X)})},"onConfirm");if(Object(h.db)(M(),P,y)||R){y?b(Object(C.b)({event:{type:O.e.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{Object(I.c)(M(),O.g.LAUNCH_MODAL)===O.h.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?b(Object(E.b)({channelId:P??"",onConfirm:k})):k()}):b(Object(g.b)({channelId:P??"",onConfirm:k}));return}k()});D.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const p=Object(n.c)("Join/start huddle, but confirm if already in another huddle",(b,M,_)=>{const{channelId:P}=_,y=M(),j=Object(f.G)(y),U=Object(i.getStateForClientStore)(),W=Object(c.b)(U),L=Object(c.y)(U),R=Object(h.W)(y,{channelId:P});if(b(Object(o.a)()),Object(l.b)()){const A=Object(u.b)();return A?A.sendQuery({type:p.getType(),payload:_}):t.a.reject(new Error("multiverse-redirect-no-parent-window"))}if(W&&P!==W&&!L)return b(Object(g.c)({prevChannelId:W,nextChannelId:P??"",onConfirm:()=>{b(D({..._,markTelemeter:!1}))}}));if(j&&R){b(Object(S.a)({channelId:P??"",onConfirm:A=>{let{isMultiDevice:B}=A;return b(D({..._,markTelemeter:!1,isMultiDevice:B}))}}));return}return W&&P===W?t.a.resolve():b(D({..._,markTelemeter:!0}))});p.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"},s.a=p},trVL:function(K,s,e){"use strict";var n=e("Trx9"),t=e("ktUG"),a=e("i5Ig"),r=e("nNoG"),d=e("q1tI"),o=e.n(d),i=e("zxER"),h=e("Tevt"),l=e("/0Xg"),u=e("/MKj"),c=e("/cL/"),E=e("qlBN"),v=e("xeGy"),g=e("+fxZ"),O=e("sgFo"),I=e("lpU5"),C=e("s9Q6"),f=e("stkM"),S=e("sK3r"),D=e("fRJc"),p=e("0cEW");const b=new r.b("trials_highlight_paid_features"),M={onClick:{enableClogAction:!0},elementName:"start_trial"},_={elementName:"upgrade_link",onClick:{enableClogAction:!0}},P=m(j=>{let{selectedMemberIds:U=a.a}=j;const W=Object(u.useDispatch)(),L=l.o.PaidFeatureTrial,R=l.n.Vhq,A=Object(i.c)(J=>Object(C.c)(J,L,R)),B=Object(i.c)(J=>Object(C.b)(J,L,R)),F=Object(i.c)(O.B),k=Object(d.useCallback)(()=>{W(Object(I.f)(U))},[W,U]),V=Object(d.useCallback)(()=>{W(Object(E.a)({uiComponentVariant:t.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:k}))},[W,k]);if(Object(d.useEffect)(()=>{W(Object(f.a)({campaignType:L,campaignSubType:R,reason:"huddle_invite_modal",context:S.b.huddleInviteModal}))},[W,L,R]),!F||B)return null;const X=A?b.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":J=>{let{text:Y}=J;return o.a.createElement(h.a,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:V,autoClogProps:M},Y)}}):b.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":J=>{let{text:Y}=J;return o.a.createElement(c.a,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:_,useLink:!0},Y)}});return o.a.createElement(n.a,{eventId:t.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:t.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},o.a.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},o.a.createElement(v.a,{variant:g.a.HuddlesFreemium,promoType:L,promoSubtype:R,uiComponentVariant:t.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:D.a.AboveFullScreen,toolTipPosition:p.b.Bottom}),o.a.createElement("span",{className:"margin_left_50"},X)))},"HuddleInviteModalFooterBanner");P.displayName="HuddleInviteModalFooterBanner";var y=s.a=P},tstp:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"d",function(){return a}),e.d(s,"c",function(){return r}),e.d(s,"b",function(){return d});var n=e("DwFS");const t=Object(n.a)("Have we already sent boot metrics");t.meta={name:"createAction",key:"createActionsetShouldLogAppBootMetrics",description:"Have we already sent boot metrics"};const a=Object(n.a)("Should we log team switch metrics");a.meta={name:"createAction",key:"createActionsetShouldLogTeamSwitchMetrics",description:"Should we log team switch metrics"};const r=Object(n.a)("Set whether we should continue logging time to visible metrics");r.meta={name:"createAction",key:"createActionsetShouldLogTTVMetrics",description:"Set whether we should continue logging time to visible metrics"};const d=Object(n.a)("Set whether we should continue logging time to usable metrics");d.meta={name:"createAction",key:"createActionsetShouldLogTTUMetrics",description:"Set whether we should continue logging time to usable metrics"}},tv4y:function(K,s,e){"use strict";e.d(s,"a",function(){return n});const n={default:"default",compactItem:"compact_item",separator:"separator",sub_separator:"sub_separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"};s.b=n},tvJC:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){return t==="UNVERIFIED"}m(n,"mentionIdIsUnverified")},u4cD:function(K,s,e){"use strict";e.d(s,"f",function(){return t}),e.d(s,"d",function(){return a}),e.d(s,"b",function(){return r}),e.d(s,"e",function(){return d}),e.d(s,"a",function(){return o}),e.d(s,"c",function(){return i});var n=e("DwFS");const t=Object(n.a)("Set Megaphone notification and (optional) data to a Megaphone space");t.meta={name:"createAction",key:"createActionsetMegaphoneNotification",description:"Set Megaphone notification and (optional) data to a Megaphone space"};const a=Object(n.a)("Clear Megaphone space");a.meta={name:"createAction",key:"createActionclearMegaphoneSpace",description:"Clear Megaphone space"};const r=Object(n.a)("Clear megaphone notification");r.meta={name:"createAction",key:"createActionclearMegaphoneNotification",description:"Clear megaphone notification"};const d=Object(n.a)("Set Megaphone notification boot Data as loaded");d.meta={name:"createAction",key:"createActionmegaphoneNotificationBootDataFetched",description:"Set Megaphone notification boot Data as loaded"};const o=Object(n.a)("Side effect action for triggering sending of megaphone client event");o.meta={name:"createAction",key:"createActionbroadcastMegaphoneClientEvent",description:"Side effect action for triggering sending of megaphone client event"};const i=Object(n.a)("In response to an RTM event, clear a Megaphone notification from all spaces where it is currently showing");i.meta={name:"createAction",key:"createActionclearMegaphoneNotificationFromRtmEvent",description:"In response to an RTM event, clear a Megaphone notification from all spaces where it is currently showing"}},u7F4:function(K,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return r});const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=10;function a(u,c){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t;if(u!==null&&l(u,E,v),c!==null&&l(c,E,v),u!==null&&c!==null&&u>=c)throw new Error(`${u} >= ${c}`);if(u===null){if(c===null){const p=5*10**(v-1);return i(p,v)}const D=o(c,v);return D.toString()<c&&c.slice(v+1)!==""?i(D,v):i(D-1,v)}if(c===null){const D=o(u,v);return i(D+1,v)}const g=o(u,v),O=o(c,v),I=u.slice(v+1),C=c.slice(v+1);if(g===O){const D=d(I,C,E);return`${i(g,v)}.${D}`}const f=g+1;if(f<O)return i(f,v);const S=d(I,null,E);return`${i(g,v)}.${S}`}m(a,"generateKeyBetween");function r(u,c,E){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t;if(E===0)return[];if(E===1)return[a(u,c,v,g)];if(c===null){let C=a(u,c,v,g);const f=[C];for(let S=0;S<E-1;S++)C=a(C,c,v,g),f.push(C);return f}if(u===null){let C=a(u,c,v,g);const f=[C];for(let S=0;S<E-1;S++)C=a(u,C,v,g),f.push(C);return f.reverse(),f}const O=Math.floor(E/2),I=a(u,c,v,g);return[...r(u,I,O,v,g),I,...r(I,c,E-O-1,v,g)]}m(r,"generateNKeysBetween");function d(u,c,E){const v=E[0];if(c!==null&&u>=c)throw new Error(`${u} >= ${c}`);if(u.slice(-1)===v||c&&c.slice(-1)===v)throw new Error("trailing zero");if(c){let I=0;for(;(u[I]||v)===c[I];)I+=1;if(I>0)return c.slice(0,I)+d(u.slice(I),c.slice(I),E)}const g=u?E.indexOf(u[0]):0,O=c!==null?E.indexOf(c[0]):E.length;if(O-g>1){const I=Math.round(.5*(g+O));return E[I]}return c&&c.length>1?c.slice(0,1):E[g]+d(u.slice(1),null,E)}m(d,"midpoint");function o(u,c){const E=u.slice(0,c);return Number(E)}m(o,"getIntegerPart");function i(u,c){if(u>=10**c)throw new Error(`Integer overflow at ${u} for fixed length ${c}`);if(u<0)throw new Error(`Integer underflow at ${u} for fixed length ${c}`);return u.toString().padStart(c,"0")}m(i,"formatInteger");function h(u,c){const E=u.length;if(E<c)throw new Error("Invalid integer portion, length too short");if(E===c){const v=u.indexOf(".");if(v>=0)throw new Error(`Unexpected . at position ${v} in string of exact length ${c}`);const g=Number(u);if(isNaN(g))throw new Error(`Invalid integer portion - not a valid integer ${u}`)}else if(u[c]!==".")throw new Error(`Expected . after int_fixed length ${c} and got ${u[c]}`)}m(h,"validateIntegerLength");function l(u,c,E){if(h(u,E),E!==u.length&&u.slice(E).endsWith(c[0]))throw new Error(`Fractional portion must not end with ${c[0]}`)}m(l,"validateOrderKey")},uHvJ:function(K,s,e){K.exports=e.p+"collect_requests_sq-86bf556.png"},uXea:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){let{width:a,height:r,top:d,left:o}=t;return{position:"absolute",width:`${a}px`,height:`${r}px`,top:`${d}px`,left:`${o}px`}}m(n,"cssForRect")},ueJG:function(K,s,e){"use strict";e.d(s,"a",function(){return l}),e.d(s,"b",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("l0nk"),d=e("0dq7"),o=e("PPXB"),i=e("KciV");const h=Object(i.c)("HUDDLE-ERROR");var l;(function(c){c.Huddles="huddles",c.Sidebar="huddles_pro_max-sidebar",c.Flexpane="huddles_pro_max-flexpane",c.CompactWindow="huddles_pro_max-compact_window",c.LargeWindow="huddles_pro_max-large_window",c.WindowFooter="huddles_pro_max-window_footer",c.AlertBanner="huddles_pro_max-alert_banner",c.InviteWindow="huddles_invite_window",c.ControlStripButton="huddles_control_strip_button",c.ChannelHeader="huddles_channel_header",c.Composer="huddles_composer",c.HuddleSpecialReactions="huddle_special_reactions"})(l||(l={}));function u(c){let{children:E,onError:v,isQuiet:g=!0,shouldStopHuddle:O=!1,subtype:I=l.Huddles}=c;const C=Object(a.useDispatch)(),f=Object(n.useCallback)(()=>{O&&C(Object(r.a)({terminalState:d.c.ClientUIError}))},[C,O]),S=Object(n.useCallback)(p=>{h.error(`${I} ${p}`),v?v():f()},[f,v,I]),D=g?o.a:o.b;return t.a.createElement(D,{subtype:I,onError:S},E)}m(u,"HuddleErrorBoundary")},uoFi:function(K,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"w",function(){return a}),e.d(s,"m",function(){return r}),e.d(s,"u",function(){return d}),e.d(s,"l",function(){return o}),e.d(s,"k",function(){return i}),e.d(s,"c",function(){return h}),e.d(s,"y",function(){return l}),e.d(s,"n",function(){return u}),e.d(s,"z",function(){return c}),e.d(s,"d",function(){return E}),e.d(s,"o",function(){return v}),e.d(s,"h",function(){return g}),e.d(s,"v",function(){return O}),e.d(s,"t",function(){return I}),e.d(s,"a",function(){return f}),e.d(s,"i",function(){return S}),e.d(s,"f",function(){return D}),e.d(s,"g",function(){return p}),e.d(s,"e",function(){return b}),e.d(s,"s",function(){return M}),e.d(s,"p",function(){return _}),e.d(s,"q",function(){return P}),e.d(s,"j",function(){return y}),e.d(s,"x",function(){return j}),e.d(s,"r",function(){return U});var n=e("DwFS");const t=Object(n.a)("Add / update multiple lists");t.meta={name:"createAction",key:"createActionbulkUpsertLists",description:"Add / update multiple lists"};const a=Object(n.a)("Add / update a list");a.meta={name:"createAction",key:"createActionupsertList",description:"Add / update a list"};const r=Object(n.a)("Remove a list");r.meta={name:"createAction",key:"createActionremoveList",description:"Remove a list"};const d=Object(n.a)("Add / update a list column");d.meta={name:"createAction",key:"createActionupsertColumn",description:"Add / update a list column"};const o=Object(n.a)("Remove a list column");o.meta={name:"createAction",key:"createActionremoveColumn",description:"Remove a list column"};const i=Object(n.a)("Fill column with info data or default value");i.meta={name:"createAction",key:"createActionfillColumnData",description:"Fill column with info data or default value"};const h=Object(n.a)("Add / update multiple records");h.meta={name:"createAction",key:"createActionbulkUpsertRecords",description:"Add / update multiple records"};const l=Object(n.a)("Add / update a list record");l.meta={name:"createAction",key:"createActionupsertRecord",description:"Add / update a list record"};const u=Object(n.a)("Remove a list record");u.meta={name:"createAction",key:"createActionremoveRecord",description:"Remove a list record"};const c=Object(n.a)("Add/update a record position in a view");c.meta={name:"createAction",key:"createActionupsertRecordPosition",description:"Add/update a record position in a view"};const E=Object(n.a)("Add / update multiple templates");E.meta={name:"createAction",key:"createActionbulkUpsertTemplates",description:"Add / update multiple templates"};const v=Object(n.a)("Set the list's banner message");v.meta={name:"createAction",key:"createActionsetBannerMessageForList",description:"Set the list's banner message"};const g=Object(n.a)("Clear this list's banner message");g.meta={name:"createAction",key:"createActionclearBannerMessageForList",description:"Clear this list's banner message"};const O=Object(n.a)("Add / update a list record field");O.meta={name:"createAction",key:"createActionupsertField",description:"Add / update a list record field"};const I=Object(n.a)("Add / update a list cell");I.meta={name:"createAction",key:"createActionupsertCell",description:"Add / update a list cell"};const C=Object(n.a)("Add / update a workflow for a list");C.meta={name:"createAction",key:"createActionupsertWorkflow",description:"Add / update a workflow for a list"};const f=Object(n.a)("Apply an edit action to a list");f.meta={name:"createAction",key:"createActionapplyEditAction",description:"Apply an edit action to a list"};const S=Object(n.a)("Clear edit history for a list");S.meta={name:"createAction",key:"createActionclearEditHistory",description:"Clear edit history for a list"};const D=Object(n.a)("Update local filters");D.meta={name:"createAction",key:"createActionchangeViewLocalFilters",description:"Update local filters"};const p=Object(n.a)("Update local sorts");p.meta={name:"createAction",key:"createActionchangeViewLocalSorts",description:"Update local sorts"};const b=Object(n.a)("Update local collapsed grids");b.meta={name:"createAction",key:"createActionchangeViewLocalCollapsedGrids",description:"Update local collapsed grids"};const M=Object(n.a)("Set should show lists refinements");M.meta={name:"createAction",key:"createActionsetShouldShowListRefinements",description:"Set should show lists refinements"};const _=Object(n.a)("Set filter pill to auto open");_.meta={name:"createAction",key:"createActionsetFilterPillKey",description:"Set filter pill to auto open"};const P=Object(n.a)("Set group by pill to auto open");P.meta={name:"createAction",key:"createActionsetGroupByPillAutoOpen",description:"Set group by pill to auto open"};const y=Object(n.a)("Destroy local refinements");y.meta={name:"createAction",key:"createActiondestroyLocalRefinements",description:"Destroy local refinements"};const j=Object(n.a)("Add / update my items");j.meta={name:"createAction",key:"createActionupsertMyItems",description:"Add / update my items"};const U=Object(n.a)("set refinement pill to auto open in view");U.meta={name:"createAction",key:"createActionsetRefinePillAutoOpenByViewId",description:"set refinement pill to auto open in view"}},uslK:function(K,s,e){"use strict";e.d(s,"d",function(){return o}),e.d(s,"a",function(){return i}),e.d(s,"b",function(){return h}),e.d(s,"c",function(){return l});var n=e("3Hq1"),t=e("kBpe"),a=e("cthg");const r="4.30.79",d=[a.a.DesktopScreen,a.a.DesktopWindow];function o(){return!!Object(t.j)(r)}m(o,"isWindowDrawingSupported");function i(u){return Object(n.a)(u)?a.b.None:u.startsWith("screen:")?a.b.Screen:u.startsWith("window:")?a.b.Window:a.b.Other}m(i,"determineContentShareTypeFromSourceId");function h(u){if(!Object(t.i)())return a.a.BrowserContent;const c=i(u);if(Object(t.i)())switch(c){case a.b.Screen:return a.a.DesktopScreen;case a.b.Window:return a.a.DesktopWindow;default:return a.a.DesktopUnknown}return a.a.Unknown}m(h,"determineFullContentShareSourceType");function l(u){return d.includes(u)}m(l,"doesContentShareTypeSupportDrawing")},uubn:function(K,s,e){"use strict";e.d(s,"a",function(){return v});var n=e("lhZz"),t=e("BeL+"),a=e("m8R6"),r=e("SQ0V"),d=e("O86Y"),o=e("Kmpi"),i=e("x/ke"),h=e("+ujC"),l=e("GTsZ"),u=e("TGfC");const c=Object(r.c)("Upsert app profiles and mark as fresh in CFM",(g,O,I)=>{const C=O(),f=Object(d.h)(C),S=[],D=[];I.forEach(p=>{if(!p||!p.service_id)return;const b=Object(i.d)(C,p.service_id);if(!Object(o.b)(p)&&Object(o.b)(b))return;const M={...p};p&&b&&Object(o.c)(p)&&Object(o.c)(b)&&(M.failed_home_workspace_ids=Object(t.a)((p.failed_home_workspace_ids||[]).concat(b.failed_home_workspace_ids||[]))),S.push(M.id?Object(a.a)(M,["id"]):M);const _=Object(u.a)({serviceId:M.service_id,homeWorkspaceId:M.home_workspace_id||f});D.push(_)}),S.length&&(g(Object(l.b)(S)),Object(h.a)(f,D))});c.meta={name:"createThunk",key:"createThunkbulkUpsertAppProfiles",description:"Upsert app profiles and mark as fresh in CFM"};var E=c;function v(g,O){return Object(n.dispatchForTeamId)(g,E(O))}m(v,"upsertAppProfilesForTeamId")},uxre:function(K,s,e){"use strict"},v0Vs:function(K,s,e){K.exports=e.p+"beach-preview-33d7acf.jpg"},vDCl:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});var n;(function(a){a.SMALL="small",a.MEDIUM="medium",a.LARGE="large"})(n||(n={}));var t;(function(a){a.NONE="none",a.PURPLE="purple",a.LIGHT_PURPLE="light_purple",a.BLUE="blue",a.ERROR="error",a.HORCHATA="horchata"})(t||(t={}))},vHY4:function(K,s,e){"use strict";e.d(s,"a",function(){return j}),e.d(s,"c",function(){return W}),e.d(s,"b",function(){return R});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("Kmpi"),d=e("zxER"),o=e("Ccc1"),i=e("KkHf"),h=e("3V+Q"),l=e("Ws5+"),u=e("Trx9"),c=e("E97Y"),E=e("B4ch"),v=e("9Gfp"),g=e("E3dU"),O=e("dlm8"),I=e("Yauy"),C=e("gVOt"),f=e("Enx8"),S=e("ktUG"),D=e("nNoG"),p=e("T1zM"),b=e("JoR1");function M(){return M=Object.assign||function(A){for(var B=1;B<arguments.length;B++){var F=arguments[B];for(var k in F)Object.prototype.hasOwnProperty.call(F,k)&&(A[k]=F[k])}return A},M.apply(this,arguments)}m(M,"_extends");const _=new D.b("huddles"),P={elementName:"huddles_confirmation_dialog_ok",eventId:S.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},y={elementName:"huddles_confirmation_dialog_cancel",eventId:S.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},j=m(A=>{let{children:B,closeModal:F,onConfirm:k,uiComponentName:V,...X}=A;const J=Object(n.useCallback)(()=>{k(),F==null||F()},[F,k]);return t.a.createElement(u.a,{uiComponentName:V,eventId:S.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.a.createElement(i.a,M({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:F,onClose:F,onSubmit:J,submitButtonText:_.t("OK"),submitAutoClogProps:P,cancelAutoClogProps:y},X),B))},"HuddleJoinModal");j.displayName="HuddleJoinModal";const U=m(A=>{let{prevChannelId:B,nextChannelId:F,onConfirm:k,closeModal:V}=A;const X=Object(d.c)(oe=>Object(g.d)(oe,B)),J=Object(d.d)(oe=>{if(!X)return[];let me=[];if(Object(c.g)(X))me=[Object(C.a)(X)];else if(Object(c.i)(X)){const re=Object(I.C)(X);if(re&&re.length){const ve=Object(v.a)(oe);me=re.filter(q=>q!==ve)}}return me.map(re=>Object(f.a)(oe,re))}),Y=Object(d.c)(oe=>Object(g.d)(oe,F)),ie=Object(d.d)(oe=>{if(!Y)return[];let me=[];if(Object(c.g)(Y))me=[Object(C.a)(Y)];else if(Object(c.i)(Y)){const re=Object(I.C)(Y);if(re&&re.length){const ve=Object(v.a)(oe);me=re.filter(q=>q!==ve)}}return me.map(re=>Object(f.a)(oe,re))});let de=_.rt("You\u2019re already in a huddle.");J.length?de=_.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:Object(D.h)(J).join("")}):X&&Object(r.b)(X)&&(de=_.rt("You\u2019re already in a huddle in {channel}.",{channel:t.a.createElement(o.a,{channel:X,channelId:B})}));let pe=_.rt("Would you like to leave it and join this one instead?");return ie.length?pe=_.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.a.createElement("strong",null,Object(D.h)(ie).join(""))}):Y&&Object(r.b)(Y)&&(pe=_.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.a.createElement("strong",null,t.a.createElement(o.a,{channel:Y,channelId:F}))})),t.a.createElement(j,{uiComponentName:S.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:_.t("Switch to this huddle?"),onConfirm:k,closeModal:V},t.a.createElement("p",null,de," ",pe))},"HuddleSwitchModal");U.displayName="HuddleSwitchModal";const W=Object(E.a)(U),L=m(A=>{let{channelId:B,onConfirm:F,closeModal:k}=A;const V=Object(d.c)(ve=>Object(g.d)(ve,B));var X;const J=Object(d.c)(ve=>{var q,ce;return(X=(q=Object(O.d)(ve,B))===null||q===void 0||(ce=q.counts)===null||ce===void 0?void 0:ce.member_count)!==null&&X!==void 0?X:0}),Y=Object(d.c)(ve=>Object(b.t)(ve,"huddles_show_shouty_rooster")),[ie,de]=Object(n.useState)(Y),pe=Object(a.useDispatch)(),oe=V&&Object(r.b)(V)&&t.a.createElement("strong",null,t.a.createElement(o.a,{channelId:B,channel:V})),me=J>1?_.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.a.createElement("strong",null,J),channel:oe}):_.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:oe}),re=Object(n.useCallback)(()=>{const ve=!ie;de(ve),pe(Object(p.f)({pref:"huddles_show_shouty_rooster",value:ve}))},[ie,pe]);return t.a.createElement(j,{uiComponentName:S.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:_.t("Start a huddle in this channel?"),onConfirm:F,closeModal:k},t.a.createElement("p",null,me),t.a.createElement(h.b,{text:_.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.a.createElement(l.a,{name:"ns",checked:!ie,onChange:re,"data-qa":"huddle_join_modal_show_checkbox"})))},"HuddleShoutyRoosterModal");L.displayName="HuddleShoutyRoosterModal";const R=Object(E.a)(L)},vSKv:function(K,s,e){"use strict";e.d(s,"c",function(){return c}),e.d(s,"e",function(){return E}),e.d(s,"b",function(){return v}),e.d(s,"d",function(){return g});var n=e("fujP"),t=e("XIp8"),a=e("4Ok1"),r=e("m8R6"),d=e("Kyco"),o=e("2VFn"),i=e("l2Je");const h=100,l={},u={persistenceEnabled:!1,storeKey:"windowHistory"};function c(I){let{windowState:C,entry:f}=I;const S=C?C.stack:[],D=Object(n.a)(S)?null:1;return{stack:[Object(t.a)(f)].concat(S).slice(0,h),index:0,previousIndex:D}}m(c,"handlePushHistoryEntryForWindow");function E(I){let{windowState:C,index:f,previousIndex:S}=I;return{stack:C.stack,index:f,previousIndex:S}}m(E,"handleUpdateIndexForWindow");function v(I){let{windowState:C,index:f}=I;return{stack:Object(a.a)(C.stack,f),index:C.index,previousIndex:null}}m(v,"handlePopHistoryAboveIndexForWindow");function g(I){let{windowState:C,entry:f}=I;const S=[...C.stack];return S[C.index]=Object(t.a)(f),{...C,stack:S}}m(g,"handleReplaceCurrentHistoryEntryForWindowInternal");const O=Object(d.b)({},l,u).on(i.c,(I,C)=>{let{windowId:f,entry:S}=C;return!f||!S?I:{...I,[f]:c({windowState:I[f],entry:S})}}).on(i.d,(I,C)=>{let{windowId:f}=C;return Object(r.a)(I,f)}).on(i.h,(I,C)=>{let{windowId:f,index:S,previousIndex:D}=C;return{...I,[f]:E({windowState:I[f],index:S,previousIndex:D})}}).on(i.f,(I,C)=>{let{windowId:f,viewSet:S}=C;return{...I,[f]:{stack:[Object(t.a)(S)],index:0,previousIndex:null}}}).on(i.b,(I,C)=>{let{windowId:f,index:S}=C;return I[f]?{...I,[f]:v({windowState:I[f],index:S})}:I}).on(i.e,(I,C)=>{let{windowId:f,entry:S}=C;return I[f]?{...I,[f]:g({windowState:I[f],entry:S})}:I}).on(i.g,(I,C)=>{let{windowId:f,viewParams:S,index:D}=C;if(!I[f])return I;const b=[...I[f]?I[f].stack:[]];if(!b[D])return I;const M=Object(t.a)(b[D]),_=M[o.h.Primary];if(!(_!=null&&_.id))return I;const P={...M,[o.h.Primary]:{..._,params:{..._.params,...S}}};return b[D]=P,{...I,[f]:{...I[f],stack:b}}});s.a=O},vYXD:function(K,s,e){"use strict";e.d(s,"d",function(){return h}),e.d(s,"b",function(){return l}),e.d(s,"c",function(){return u}),e.d(s,"a",function(){return c}),e.d(s,"g",function(){return E}),e.d(s,"f",function(){return g}),e.d(s,"e",function(){return O});var n=e("8f+r"),t=e("BeUZ"),a=e("kBpe"),r=e("vfQU"),d=e("G5NC"),o=e("nNoG");const i=new o.b("calls_wrong_build");function h(){if(!Object(a.i)())return!1;const C=Object(r.D)();return v(C,{major:4,minor:13,patch:0})}m(h,"isWrongGantryHuddlesBuild");function l(){if(!Object(a.i)())return!1;const C=Object(r.D)();return C.major<4?C.minor<4?v(C,{major:3,minor:3,patch:7}):v(C,{major:3,minor:4,patch:0,prerelease:"alpha3"}):C.prerelease&&(C.prerelease.startsWith("sonic")||C.prerelease.startsWith("alpha2"))?!1:v(C,{major:4,minor:0,patch:0,prerelease:"alpha1190201"})}m(l,"isWrongGantryCallsBuild");const u=m(()=>{if(Object(a.i)())return!1;if(Object(a.m)()){if(!(Object(a.p)()||Object(a.x)()))return!0;const f=87;return Number(Object(a.d)().split(".")[0])<f}return!Object(a.h)()},"isWrongGantryHuddlesBrowser");function c(){return Object(a.i)()?!1:!Object(a.h)()}m(c,"isWrongGantryCallsBrowser");function E(){return Object(d.a)()||(Object(a.i)()?!l():!c())}m(E,"useGantryCalls");function v(C,f){const S=Object(t.a)(C,f),D=S<0,p=S>0;return D?!0:p||!C.prerelease?!1:f.prerelease?C.prerelease<f.prerelease:!0}m(v,"isPrereleaseVersionOlder");function g(C){return I(C,i.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to calls &mdash; as well as bug fixes and an all-around smoother experience.",{fallbackHash:"15f4227e116c3dce202df6486303491344a6350d",fallbackHashNs:"utility"}))}m(g,"sendEphemeralMessageWithCorrectBuildInfo");function O(C){return I(C,i.t("Unfortunately, Slack calls aren't available in this browser. We recommend downloading the Slack desktop app, or you can switch to Chrome.",{fallbackHash:"c3316caea826cdc00385e8aca03517944038abcc",fallbackHashNs:"utility"}))}m(O,"sendEphemeralMessageWithCorrectBrowserInfo");function I(C,f){return Object(n.b)({temporary:!0,message:{text:f,channel:C}})}m(I,"sendEphemeralMessage")},"vd/O":function(K,s,e){"use strict";var n=e("fujP"),t=e("Z0Cl"),a=e("s4P+"),r=e("ykb+");s.a=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(Object(n.a)(d))return!1;const o=Object(t.a)(d,i=>(i&&!i.message&&Object(r.b)()&&Object(a.b)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${i.id}, message: ${i.message}}`),i&&!!i.message));return!Object(n.a)(o)}},vjDR:function(K,s,e){"use strict";e.d(s,"a",function(){return l});var n=e("4Lve"),t=e("JN2d"),a=e("PPXH"),r=e("LqbL"),d=e("lhZz"),o=e("t4eE"),i=e("Z7Ay"),h=e("7xYR");function l(c){if(!c||Object(d.getClientStoreInstance)())return;const E=Object(a.a)(),v=Object(o.b)()?Object(n.a)():[c],g=Object(t.a)();E.dispatch(Object(r.initialize)({focusedWorkspace:c,allWorkspaces:v,workspacesMeta:g})),u()}m(l,"initializeClientStore");function u(){const c=Object(d.getClientStoreInstance)();Object(i.a)("clientStore",c),Object(i.b)("teamIds",()=>{const v=c.getState();return h.getAllWorkspaces(v)}),Object(i.b)("activeTeam",()=>{const v=c.getState(),g=h.getFocusedWorkspace(v);return window.slackDebug[g]}),Object(i.b)("activeTeamId",()=>{const v=c.getState();return h.getFocusedWorkspace(v)}),Object(i.b)("activeEnterprise",()=>{var v,g;const O=c.getState(),I=(v=h.getWorkspacesMeta(O))===null||v===void 0||(g=v[h.getFocusedWorkspace(O)])===null||g===void 0?void 0:g.enterprise_id;return window.slackDebug[I]});const E={};Object.keys(r).forEach(v=>{E[v]=function(){for(var g=arguments.length,O=new Array(g),I=0;I<g;I++)O[I]=arguments[I];return c.dispatch(r[v](...O))}}),Object.keys(h).forEach(v=>{E[v]=function(){for(var g=arguments.length,O=new Array(g),I=0;I<g;I++)O[I]=arguments[I];return h[v](c.getState(),...O)}}),Object(i.a)("clientStore.workspaces",E)}m(u,"setupClientStoreDebugger")},vkL2:function(K,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Set the last executed encoded search string");t.meta={name:"createAction",key:"createActionsetLastExecutedEncodedSearchString",description:"Set the last executed encoded search string"};const a=Object(n.a)("Clear the last executed encoded search string");a.meta={name:"createAction",key:"createActionclearLastExecutedEncodedSearchString",description:"Clear the last executed encoded search string"}},vkwO:function(K,s,e){K.exports=e.p+"template_card_blank-eca9a0c.png"},vlVB:function(K,s,e){K.exports=e.p+"ava_0002-32-798f043.png"},vlz8:function(K,s,e){"use strict";e.d(s,"a",function(){return i});var n=e("qAkX"),t=e("SQ0V"),a=e("Jhy3"),r=e("SRu2"),d=e("Bi0v"),o=e("8Xig");const i=Object(t.c)("Add or update the last ephemeral message of a certain type",(h,l,u)=>{let{ephemeralType:c,message:E,ignoreExistingMessage:v=!1}=u;const g=l(),O=E.channel,I=E.thread_ts;if(c){const C=c&&Object(n.a)(Object(o.a)(g,{ephemeralType:c,channelId:O,threadTs:I}));if(C&&C.ts&&!v){h(Object(a.a)([{...Object(r.a)(g,E),ts:C.ts,channel:O,thread_ts:I}]));return}}h(Object(d.a)({ephemeralType:c,message:E}))});i.meta={name:"createThunk",key:"createThunkaddOrFlashEphemeralBotMsg",description:"Add or update the last ephemeral message of a certain type"}},vr9t:function(K,s,e){"use strict";e.d(s,"e",function(){return h}),e.d(s,"d",function(){return l}),e.d(s,"c",function(){return u}),e.d(s,"f",function(){return c}),e.d(s,"a",function(){return E}),e.d(s,"b",function(){return v});var n=e("AFNo"),t=e("O86Y"),a=e("UIhb"),r=e("JQ3U"),d=e("dmdh"),o=e("YKhI"),i=e("8z+9");const h=Object(n.c)(function(O,I){let{refetchIfNeeded:C=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(C){const f=Object(t.g)(O);Object(o.a)().maybeRefetch(f,I)}return O&&O.pins&&O.pins.pinsByChannel[I]});h.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(O,I){let{refetchIfNeeded:C=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(C){const f=Object(t.g)(O);Object(o.a)().maybeRefetch(f,I)}return O&&O.pins&&O.pins.pinsByChannel[I]}};const l=Object(n.c)((O,I)=>{var C,f;return O&&O.pins&&O.pins.pinsByChannel[I]?(C=O.pins.pinsByChannel)===null||C===void 0||(f=C[I])===null||f===void 0?void 0:f.length:0});l.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(O,I)=>{var C,f;return O&&O.pins&&O.pins.pinsByChannel[I]?(C=O.pins.pinsByChannel)===null||C===void 0||(f=C[I])===null||f===void 0?void 0:f.length:0}};const u=Object(n.c)((O,I)=>O&&O.pins&&O.pins.loadingStateByChannel[I]);u.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(O,I)=>O&&O.pins&&O.pins.loadingStateByChannel[I]};const c=Object(n.c)((O,I)=>{let{channelId:C,ts:f}=I;const S=!1,D=Object(a.b)(O,C,f,S);if(!D)return!1;if(Object(r.g)(D)&&D.comment){const p=Object(d.g)(O,D.file,D.comment.id);return p?!!(p.pinned_to&&p.pinned_to.includes(C)):!1}return!!(D.pinned_to&&D.pinned_to.includes(C))});c.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(O,I)=>{let{channelId:C,ts:f}=I;const S=!1,D=Object(a.b)(O,C,f,S);if(!D)return!1;if(Object(r.g)(D)&&D.comment){const p=Object(d.g)(O,D.file,D.comment.id);return p?!!(p.pinned_to&&p.pinned_to.includes(C)):!1}return!!(D.pinned_to&&D.pinned_to.includes(C))}};const E=m((O,I)=>{switch(I.type){case i.a.MESSAGE:return{...Object(a.b)(O,I.channel,I.ts),type:i.a.MESSAGE};case i.a.FILE:return{...Object(d.e)(O,I.id),type:i.a.FILE};case i.a.FILE_COMMENT:return{...Object(d.g)(O,I.fileId,I.id),fileId:I.fileId,type:i.a.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),v=Object(n.c)((O,I)=>{const C=h(O,I);return C?C.map(f=>E(O,f)):[]});v.meta={name:"createSelector",key:"createSelectorgetItemsMappedFromPins",description:(O,I)=>{const C=h(O,I);return C?C.map(f=>E(O,f)):[]}};const g=Object(n.c)(O=>O&&O.pins&&O.pins.popoverScrollTop);g.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:O=>O&&O.pins&&O.pins.popoverScrollTop}},vws0:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("SQ0V"),t=e("vkL2"),a=e("ohbk"),r=e("TU0B"),d=e("rZ8V"),o=e("I0j/"),i=e("37+L");const h=Object(n.c)("Adds a search history item and updates the url with its id",function(l,u){let{isSearchInSidebar:c=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const E=u(),v=Object(r.a)(E),g=Object(d.m)(E);if(v){if(l(Object(t.b)({value:v})),g){l(Object(o.a)(Object(i.Z)(v)));return}c||l(Object(a.a)({id:"Psearch",routeParams:{searchQuery:v}}))}});h.meta={name:"createThunk",key:"createThunkrunSearchFromReduxState",description:"Adds a search history item and updates the url with its id"}},w2SD:function(K,s,e){"use strict";e.d(s,"a",function(){return d}),e.d(s,"c",function(){return o});var n=e("ivW5"),t=e("vLZU");const a={storeKey:"channelLoading",persistenceEnabled:!1,scope:t.k.orgShared},{reducer:r,actions:d,selectors:o}=Object(n.a)(a,{idKey:"channelId",transform:i=>{const{channelId:h,...l}=i;return{id:h,object:l}}});s.b=r},"w3c/":function(K,s,e){"use strict"},wA9Q:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("fujP"),t=e("Oy0v");function a(r,d){if(!d||Object(n.a)(d))return{name:r};const o=Object(t.a)(r);if(!o)return{name:r};const{name:i,skinTone:h}=o,l=d[i];if(!l||Object(n.a)(l))return{name:r};const u=l.display_alias,c=u??i,E=h?`:${c}::skin-tone-${h}:`:`:${c}:`,v=l.display_url;return{name:E,url:v}}m(a,"getEmojiDisplayInfoFromMap")},wGfi:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("hD2y"),t=e("E3dU"),a=e("6etV"),r=e("miM7"),d=e("9Gfp");const o=m((i,h)=>{const l=Object(t.B)(i,h)&&Object(t.d)(i,h)||void 0;return!h||!l||!Object(r.a)(l)?!1:Object(d.m)(i)?Object(n.a)(i,h)&&!Object(a.a)(i,l==null?void 0:l.id,{allowToAdmins:!0}):Object(n.a)(i,h)},"canUserAtEveryoneInChannelById")},wVLq:function(K,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.JOIN="JOIN",t.LEAVE="LEAVE",t.SCREENSHARE_START="SCREENSHARE_START",t.SCREENSHARE_STOP="SCREENSHARE_STOP",t.TRANSCRIBE="TRANSCRIBE",t.SEND_REACTION="SEND_REACTION",t.START_TRANSCRIPTION="START_TRANSCRIPTION"})(n||(n={}))},wWBL:function(K,s,e){"use strict";e.d(s,"a",function(){return t}),e.d(s,"b",function(){return a}),e.d(s,"c",function(){return r});var n=e("RVJP");const t="autocompleteFallback";function a(){return t}m(a,"getModelForSorter");function r(d){return Object(n.d)(d,"searcher_sessions_phase_1")==="treatment"}m(r,"shouldUseSearcherSessions")},wY8X:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Muja"),r=e("fujP"),d=e("zxER"),o=e("/qcS"),i=e("FlEr"),h=e("wA9Q");function l(u){let{memberId:c,className:E,emoji:v,emojiSize:g,showTooltips:O,stopAnimations:I}=u;const C=Object(d.c)(D=>Object(i.a)(D,c),a.a);if(!c||!v)return null;const{name:f=v,url:S=void 0}=C?Object(h.a)(v,Object(r.a)(C)?void 0:C):{};return t.a.createElement(o.b,{className:E,emojiSize:g||o.a.SMALL,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:!!O,stopAnimations:!!I,text:f,url:S})}m(l,"CustomStatusEmoji"),l.displayName="CustomStatusEmoji",s.a=t.a.memo(l)},whaK:function(K,s,e){"use strict";e.d(s,"a",function(){return a});var n=e("kBpe"),t=e("jlKB");function a(r){let{forceDisplay:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object(t.a)(r)&&!d?"as_text":Object(n.p)()?"apple":"google"}m(a,"getEmojiMode")},"wk/L":function(K,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return r}),e.d(s,"c",function(){return d}),e.d(s,"f",function(){return o}),e.d(s,"d",function(){return i}),e.d(s,"e",function(){return h}),e.d(s,"g",function(){return l});var n=e("sgFo"),t=e("RR6E"),a;(function(u){u[u.HuddlePageV1=0]="HuddlePageV1",u[u.HuddlePageNewTeamsExperiment=1]="HuddlePageNewTeamsExperiment",u[u.HuddlePageNewTeamsExperimentWithLiveSections=2]="HuddlePageNewTeamsExperimentWithLiveSections",u[u.HuddlePageV2=3]="HuddlePageV2",u[u.NotEnabled=4]="NotEnabled"})(a||(a={}));function r(u){return Object(n.J)(u)?a.HuddlePageV2:Object(t.c)(u)&&Object(n.I)(u)?a.HuddlePageNewTeamsExperimentWithLiveSections:Object(t.c)(u)?a.HuddlePageNewTeamsExperiment:Object(n.i)(u)?a.HuddlePageV1:a.NotEnabled}m(r,"getHuddlePageExperimentVariation");function d(u){return r(u)!==a.NotEnabled}m(d,"isAHuddlesPageVariationExperimentEnabled");function o(u){const c=r(u);return c===a.HuddlePageNewTeamsExperiment||c===a.HuddlePageNewTeamsExperimentWithLiveSections||c===a.HuddlePageV2}m(o,"isHuddlesNewPageVariationExperimentEnabled");function i(u){const c=r(u);return c===a.HuddlePageNewTeamsExperimentWithLiveSections||c===a.HuddlePageV2}m(i,"isHuddlesNewPageLiveSectionsEnabled");function h(u){return r(u)===a.HuddlePageV2}m(h,"isHuddlesNewPagePastHuddlesEnabled");function l(u){const c=r(u);return c===a.HuddlePageV2||c===a.HuddlePageV1}m(l,"isHuddlesPageHistoryVariationEnabled")},wlwd:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("SQ0V"),t=e("u43d"),a=e("GYPw"),r=e("WUSA"),d=e("j77i");const o=Object(n.c)("Set the pref for the sound that plays when a message arrives to the focused conversation",(i,h,l)=>{if(Object(t.a)(h()))try{Object(d.w)(a.b,l)}catch{}i(Object(r.c)(l))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},wnwW:function(K,s,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens a specific modal for the launch_modal space in our Megaphone framework");t.meta={name:"createAction",key:"createActiononLaunchModalMegaphoneDataLoadedCircular",description:"Triggers a side-effect that opens a specific modal for the launch_modal space in our Megaphone framework"},s.a=t},woMp:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ZobM"),d=e("sGXp"),o=e("E97Y"),i=e("zxER"),h=e("zMr6");function l(){return l=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(E[O]=g[O])}return E},l.apply(this,arguments)}m(l,"_extends");function u(E){let{size:v=d.a.medium,className:g,channel:O,showDraftIcon:I=!1,showFilledIcon:C=!1}=E;const f=Object(o.q)(O),S=Object(i.c)(D=>Object(h.b)(D,O,{filled:C,showDraftIcon:I}));return v!==d.a.small&&(S.inline=!0),t.a.createElement("span",{className:Object(a.default)("c-channel_icon",{"c-channel_icon--unknown":f,"c-channel_icon--with-background":v!==d.a.small},g),"data-channel-type-icon":(S==null?void 0:S.name)||"unknown"},!f&&t.a.createElement(r.a,l({},v===d.a.small?{size:"18"}:{},S)))}m(u,"ChannelIcon"),u.displayName="ChannelIcon";var c=s.a=u},ww7Y:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("nNoG"),d=e("A7Fl");function o(){return o=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(l[E]=c[E])}return l},o.apply(this,arguments)}m(o,"_extends");const i=new r.b("members");function h(l){let{className:u,inverse:c=!1,isWorkflow:E=!1,...v}=l;const g=Object(a.default)(u,"c-app_badge",{"c-app_badge--inverse":c});return t.a.createElement("span",o({},v,{className:g,"data-stringify-suffix":" "}),E?i.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"}):i.t("APP"))}m(h,"AppBadge"),h.displayName="AppBadge",s.a=Object(n.memo)(h)},"x+oO":function(K,s,e){"use strict";e.d(s,"f",function(){return r}),e.d(s,"d",function(){return d}),e.d(s,"e",function(){return o}),e.d(s,"c",function(){return i}),e.d(s,"b",function(){return h}),e.d(s,"a",function(){return l});var n=e("ZKjC"),t=e("O86Y"),a=e("OW01");const r=Object(n.b)((u,c)=>{var E,v;return Object(a.c)(Object(t.g)(u),c),(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0?void 0:v.connections)||[]});r.meta={name:"createSelector",key:"createSelectorgetTeamConnectionsForChannelId",description:(u,c)=>{var E,v;return Object(a.c)(Object(t.g)(u),c),(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0?void 0:v.connections)||[]}};const d=Object(n.b)((u,c)=>{var E,v;return Object(a.c)(Object(t.g)(u),c),(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0?void 0:v.pendingConnections)||[]});d.meta={name:"createSelector",key:"createSelectorgetPendingTeamConnectionsForChannelId",description:(u,c)=>{var E,v;return Object(a.c)(Object(t.g)(u),c),(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0?void 0:v.pendingConnections)||[]}};const o=Object(n.b)((u,c)=>{var E,v;return Object(a.c)(Object(t.g)(u),c),(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0?void 0:v.previousConnections)||[]});o.meta={name:"createSelector",key:"createSelectorgetPreviousTeamConnectionsForChannelId",description:(u,c)=>{var E,v;return Object(a.c)(Object(t.g)(u),c),(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0?void 0:v.previousConnections)||[]}};const i=Object(n.b)((u,c)=>{var E,v;return Object(a.c)(Object(t.g)(u),c),u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0?void 0:v.conversationHostId});i.meta={name:"createSelector",key:"createSelectorgetConversationHostTeamIdForChannelId",description:(u,c)=>{var E,v;return Object(a.c)(Object(t.g)(u),c),u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0?void 0:v.conversationHostId}};const h=Object(n.b)((u,c)=>{var E,v;return c?(Object(a.c)(Object(t.g)(u),c),!!(!(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0)&&v.isChannelSponsored)):!1});h.meta={name:"createSelector",key:"createSelectorgetChannelIsSponsored",description:(u,c)=>{var E,v;return c?(Object(a.c)(Object(t.g)(u),c),!!(!(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0)&&v.isChannelSponsored)):!1}};const l=Object(n.b)((u,c)=>{var E,v,g,O,I,C,f,S,D;Object(a.c)(Object(t.g)(u),c);const p=(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0||(g=v.connections)===null||g===void 0?void 0:g.length)||0,b=(u==null||(O=u.extSharedChannelTeams)===null||O===void 0||(I=O[c])===null||I===void 0||(C=I.pendingConnections)===null||C===void 0?void 0:C.length)||0,M=(u==null||(f=u.extSharedChannelTeams)===null||f===void 0||(S=f[c])===null||S===void 0||(D=S.previousConnections)===null||D===void 0?void 0:D.length)||0;return p>1||b>0||M>0});l.meta={name:"createSelector",key:"createSelectordoesChannelHaveExternalTeamConnections",description:(u,c)=>{var E,v,g,O,I,C,f,S,D;Object(a.c)(Object(t.g)(u),c);const p=(u==null||(E=u.extSharedChannelTeams)===null||E===void 0||(v=E[c])===null||v===void 0||(g=v.connections)===null||g===void 0?void 0:g.length)||0,b=(u==null||(O=u.extSharedChannelTeams)===null||O===void 0||(I=O[c])===null||I===void 0||(C=I.pendingConnections)===null||C===void 0?void 0:C.length)||0,M=(u==null||(f=u.extSharedChannelTeams)===null||f===void 0||(S=f[c])===null||S===void 0||(D=S.previousConnections)===null||D===void 0?void 0:D.length)||0;return p>1||b>0||M>0}}},"x/ke":function(K,s,e){"use strict";e.d(s,"e",function(){return p}),e.d(s,"d",function(){return M}),e.d(s,"c",function(){return _}),e.d(s,"b",function(){return P}),e.d(s,"a",function(){return j});var n=e("ZKjC"),t=e("UOL+"),a=e("E3dU"),r=e("9I4P"),d=e("gVOt"),o=e("52Wj"),i=e("Nnn3"),h=e("O86Y"),l=e("TGfC"),u=e("xwCZ"),c=e("+ujC"),E=e("oTSI"),v=e("Kmpi"),g=e("uubn"),O=e("CQj+");const I=Object(E.a)(()=>new v.a({fetch:O.a,upsertKnown:g.a,upsertNonExistent:g.a,makeUnknownObject:C,makeNonExistentObject:f}));function C(W){const{serviceId:L,homeWorkspaceId:R}=Object(l.b)(W);return{id:W,isUnknown:!0,service_id:L,home_workspace_id:R,failed_home_workspace_ids:[]}}m(C,"makeUnknownAppProfileStub");function f(W){const{serviceId:L,homeWorkspaceId:R}=Object(l.b)(W);return{id:W,isNonExistent:!0,service_id:L,home_workspace_id:R,failed_home_workspace_ids:[R]}}m(f,"makeNonExistentAppProfileStub");var S=e("s4P+"),D;const p=Object(n.b)(W=>{var L;return(D=(L=Object(t.a)(W))===null||L===void 0?void 0:L.appProfiles)!==null&&D!==void 0?D:W==null?void 0:W.appProfiles});var b;p.meta={name:"createSelector",key:"createSelectorgetAppProfilesState",description:W=>{var L;return(b=(L=Object(t.a)(W))===null||L===void 0?void 0:L.appProfiles)!==null&&b!==void 0?b:W==null?void 0:W.appProfiles}};const M=Object(n.b)((W,L)=>{var R;return L&&((R=p(W))===null||R===void 0?void 0:R[L])||null});M.meta={name:"createSelector",key:"createSelectorgetAppProfileByServiceId",description:(W,L)=>{var R;return L&&((R=p(W))===null||R===void 0?void 0:R[L])||null}};const _=Object(n.b)(function(W){let{serviceId:L,homeWorkspaceId:R,memberId:A}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const B=M(W,L),F=Object(h.h)(W),k=R||F,V=Object(l.a)({serviceId:L,homeWorkspaceId:k}),X=B&&Object(v.c)(B)&&!B.failed_home_workspace_ids.includes(k);if(!B||X)return I().fetchObjectWithId(F,V);if(Object(c.c)(F,V),A&&!B.app_user){const J=Object(u.g)(W,A);return{...B,app_user:{id:J.id,username:Object(o.b)(J)}}}return B});_.meta={name:"createSelector",key:"createSelectorgetAppProfileByIds",description:function(W){let{serviceId:L,homeWorkspaceId:R,memberId:A}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const B=M(W,L),F=Object(h.h)(W),k=R||F,V=Object(l.a)({serviceId:L,homeWorkspaceId:k}),X=B&&Object(v.c)(B)&&!B.failed_home_workspace_ids.includes(k);if(!B||X)return I().fetchObjectWithId(F,V);if(Object(c.c)(F,V),A&&!B.app_user){const J=Object(u.g)(W,A);return{...B,app_user:{id:J.id,username:Object(o.b)(J)}}}return B}};const P=Object(n.b)((W,L)=>{if(!L)return Object(S.b)().error("Channel Id is undefined");const R=Object(a.d)(W,L),A=Object(d.a)(R),B=Object(u.g)(W,A),F=Object(i.a)(W,B),k=Object(h.h)(W),V=Object(r.b)(B,k);return _(W,{serviceId:F,homeWorkspaceId:V,memberId:A})});P.meta={name:"createSelector",key:"createSelectorgetAppProfileByChannelId",description:(W,L)=>{if(!L)return Object(S.b)().error("Channel Id is undefined");const R=Object(a.d)(W,L),A=Object(d.a)(R),B=Object(u.g)(W,A),F=Object(i.a)(W,B),k=Object(h.h)(W),V=Object(r.b)(B,k);return _(W,{serviceId:F,homeWorkspaceId:V,memberId:A})}};var y;const j=Object(n.b)((W,L)=>{var R;return(R=Object.values((y=p(W))!==null&&y!==void 0?y:{}).filter(A=>A.app_id===L))===null||R===void 0?void 0:R[0]});var U;j.meta={name:"createSelector",key:"createSelectorgetAppProfileByAppId",description:(W,L)=>{var R;return(R=Object.values((U=p(W))!==null&&U!==void 0?U:{}).filter(A=>A.app_id===L))===null||R===void 0?void 0:R[0]}}},x5cI:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("gSGL"),d=e("ifKl"),o=e("qDEp"),i=e("oEDn"),h=e("zNRp"),l=e("GWPn"),u=e("nNoG"),c=e("kBpe"),E=e("ZobM"),v=e("ktUG"),g=e("tv4y"),O=e("6FZx"),I=e("YiJ7"),C=e("Cfcg"),f=e("boyP");const S=new u.b("menu");let D=m(class extends n.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(_){var P,y;(y=(P=this.props).menuCallbackBefore)===null||y===void 0||y.call(P,_),this.props.onSelected(_),this.props.menuCallback(this.props.menuCallbackId,_)}determineMenuRole(){const{type:_,ariaRole:P}=this.props;if(P)return P;switch(_){case g.b.radio:return"menuitemradio";case g.b.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:_,badgeCount:P,badgeClassName:y,highlighted:j}=this.props;return P?t.a.createElement(h.b,{count:P,style:j?h.a.white:h.a.red}):_?t.a.createElement(l.a,{className:y},_):null}renderAdditionalIconMaybe(){const{additionalIcon:_}=this.props;return _?t.a.createElement("div",{className:"c-menu_item__additional-icon","data-qa":"menu_item_additional_icon",role:"presentation"},_):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.a.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.a.createElement(E.a,{name:this.props.showFullCarat?"caret-right-full":"caret-right"}))}renderEnterMaybe(){const{showEnter:_,highlighted:P}=this.props;return!_||!P?null:t.a.createElement(i.a,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:_,checked:P,indeterminate:y}=this.props,j=_===g.b.radio||_===g.b.checkbox;return j&&y?t.a.createElement(i.a,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):j&&P?t.a.createElement("div",{className:"c-menu_item__checkmark"},t.a.createElement(E.a,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:_}=this.props;return _?t.a.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},_):null}renderLinkIconMaybe(){const{href:_,showLinkIndicatorIcon:P}=this.props;return P===!1||P!==!0&&!_?null:t.a.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.a.createElement(E.a,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:_,containerSize:P,experimentSkResponsiveMenusGroupOn:y,isResponsive:j}=this.props;if(!_||y&&j&&P&&P.width<300)return null;if(!Object(r.a)(_)&&"label"in _){const{label:U}=_;if(U&&Object(r.a)(U))return t.a.createElement("div",{className:"c-menu_item__shortcut"},U)}return t.a.createElement("div",{className:"c-menu_item__shortcut"},_)}render(){const{autoClogProps:_,children:P,className:y,classNameListItem:j,danger:U,description:W,disabled:L,showOfflineIcon:R,highlighted:A,label:B,onMouseEnter:F,onMouseLeave:k,href:V,target:X,download:J,type:Y,withSubmenu:ie,standaloneHoverEffect:de,checked:pe,indeterminate:oe,measureRef:me,containerSize:re,experimentSkResponsiveMenusGroupOn:ve,isResponsive:q,ariaDescribedBy:ce,ariaLabelledBy:he,ariaLabel:Se,disableHoverStyling:se}=this.props,H=Object(a.default)(y,"c-menu_item__button",{"c-menu_item__button--highlighted":A&&!L&&!se,"c-menu_item__button--danger":U,"c-menu_item__button--disabled":L,"c-menu_item__button--with_submenu":ie,"c-menu_item--button--subheader_child":Y===g.b.subheaderChild,"c-menu_item__button--checked":(Y===g.b.radio||Y===g.b.checkbox)&&(pe||oe),"c-menu_item--compact":Y===g.b.compactItem,"c-menu_item--standalone":de}),Oe=Object(a.default)(j,"c-menu_item__li",{"c-menu_item__li--highlighted":A&&!se}),$=Object(a.default)(j,"c-menu_item__label",{"c-menu_item__label--with_description":W}),z=ie?"true":void 0,be=W?t.a.createElement("div",{className:"c-menu_item__description"},W):"",Z=this.props.activeMenuId,G=this.props.featureSubmenuRoleDescription?S.t("submenu"):void 0,ne=Object(c.p)()&&ie?G:void 0;return t.a.createElement("div",{ref:me,className:Oe,onMouseEnter:F,onMouseLeave:k,"data-qa":`${this.props["data-qa"]}-wrapper`},t.a.createElement(o.d,{autoClogProps:{..._,elementType:v.ElementType.MENU_ITEM},ref:this.buttonRef,id:Z,className:H,disabled:L,onClick:this.onSelected,href:V,target:X,download:J,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:pe,"aria-checked":oe?"mixed":pe,"aria-haspopup":z,tabIndex:-1,"aria-roledescription":ne,"aria-describedby":ce,"aria-labelledby":he,"aria-label":Se},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.a.createElement("div",{className:$},B,P,!(ve&&q&&re&&re.width<300)&&be),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderAdditionalIconMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),R&&t.a.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.a.createElement(i.a,{type:"cloud-offline-small"}))))}constructor(_){super(_),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.a.createRef()}},"MenuItem");D.displayName="MenuItem",D.defaultProps={children:void 0,highlighted:!1,onMouseEnter:d.a,onMouseLeave:d.a,onSelected:d.a,menuCallback:d.a,menuCallbackBefore:d.a,menuCallbackId:null,className:"",classNameListItem:"",label:"",description:"",danger:!1,disabled:!1,showOfflineIcon:!1,href:null,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,showEnter:!1,target:void 0,download:void 0,type:g.b.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,standaloneHoverEffect:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:d.a,onUnmount:d.a,showFullCarat:!1,disableHoverStyling:!1};const p={MenuItem:D},b=m(M=>({experimentSkResponsiveMenusGroupOn:Object(I.a)(M)}),"mapStateToProps");s.a=Object(O.b)(Object(C.a)(b)(Object(I.c)(D)))},xLpb:function(K,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.MULTI_PANE="multi_pane",t.SINGLE_PANE="single_pane",t.VERTICAL_BANNER="vertical_banner",t.HORIZONTAL_BANNER="horizontal_banner"})(n||(n={}))},xQ1x:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("CpTu"),t=e("Bw5p"),a=e("1myf"),r=e("lE2N"),d=e("yJbr");function o(i,h){if(!i||!h)return h;const l=h.comments||[],u=Object(n.a)(l,C=>C.id===i.id),c=Object(t.a)(u,["is_starred","_rxn_key"]),E={...u,...i,...c},v=Object(a.a)(Object(r.a)([E,...l],"id"),"timestamp"),g=h.initial_comment&&i.id===h.initial_comment.id,O=g?E:h.initial_comment;u||Object(d.d)(h,i),g&&Object(d.c)(h);const I={...h,comments:v};return O&&(I.initial_comment=O),I}m(o,"addCommentToFile")},xY6W:function(K,s,e){"use strict";e.d(s,"a",function(){return h});var n=e("SQ0V"),t=e("HoeF"),a=e("QIbu"),r=e("PfQc"),d=e("gpLM"),o=e("HKlo"),i=e("SIMs");const h=Object(n.c)("closes the canvas within the huddle",(l,u)=>{Object(i.z)(u())&&l(Object(t.s)({isNotesOpen:!1})),l(Object(r.a)({peerId:"self",contentViewType:a.a.None})),l(Object(d.c)({focusKey:o.c.HUDDLE_TOP_TOOLBAR,forceFocus:!0}))});h.meta={name:"createThunk",key:"createThunkcloseHuddleCanvas",description:"closes the canvas within the huddle"}},xeGy:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("nNoG"),d=e("zxER"),o=e("G0eX"),i=e("beVI"),h=e("s9Q6"),l=e("/0Xg"),u=e("GiOu"),c=e("UjK0");function E(){return E=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var f=arguments[C];for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&(I[S]=f[S])}return I},E.apply(this,arguments)}m(E,"_extends");const v=new r.b("trials"),g=m(I=>{let{badgeTheme:C=u.a.Purple,className:f,hideTooltip:S,uiComponentVariant:D,...p}=I;const b=Object(d.c)(i.g),M=Object(d.c)(P=>Object(h.e)(P)===l.i.standard.id);if(!(Object(o.F)(b)||M))return null;const _=v.t("PRO");return S?t.a.createElement(u.b,{autoClogProps:{uiComponentVariant:D},badgeTheme:C,className:f}):t.a.createElement(c.a,E({ariaLabel:_,uiComponentVariant:D},p),t.a.createElement("span",{className:Object(a.default)("p-trial_pro_badge",f),"data-qa":"trial_pro_badge"},t.a.createElement(u.b,{autoClogProps:{uiComponentVariant:D},badgeTheme:C})))},"TrialProBadge");g.displayName="TrialProBadge";var O=s.a=g},xt0X:function(K,s,e){"use strict";e.d(s,"c",function(){return r}),e.d(s,"a",function(){return o}),e.d(s,"b",function(){return h});const n=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],t=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],a=m(function(u,c,E){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(u===0)return 0;if(c===E)return parseFloat(u.toFixed(v));const O=g?1024:1e3,I=g?n:t,C=I.findIndex(S=>S.toLowerCase()===c.toLowerCase()),f=I.findIndex(S=>S.toLowerCase()===E.toLowerCase());if(C===-1)throw new Error(`Unknown currentType '${c}' passed to convertToSize`);if(f===-1)throw new Error(`Unknown desiredType '${E}' passed to convertToSize`);return C<f?parseFloat((u/O**(f-C)).toFixed(v)):parseFloat((u*O**(C-f)).toFixed(v))},"convertToSize"),r=m(function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(u===0)return{size:0,type:"B"};const g=v?1024:1e3,O=v?n:t;let I=Math.log(u)/Math.log(g);I<1&&(I=-Math.floor(Math.log(Math.abs(I))/Math.log(10)+1));const C=O.findIndex(S=>S.toLowerCase()===c.toLowerCase()),f=Math.max(Math.min(C+Math.floor(I),O.length-1),0);if(C===-1)throw new Error(`Unknown currentType '${c}' passed to convertToSize`);return{size:a(u,c,O[f],E,v),type:O[f]}},"convertToOptimumSize"),d=m(function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(u,"B","KB",c,!1)},"convertBytesToKilobytes"),o=m(function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(u,"B","MB",c,!1)},"convertBytesToMegabytes"),i=m(function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(u,"B","GB",c,!1)},"convertBytesToGigabytes"),h=m(function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(u,"KB","MB",c,!1)},"convertKilobytesToMegabytes"),l=m(function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(u,"KB","GB",c,!1)},"convertKilobytesToGigabytes")},xvpf:function(K,s,e){"use strict";e.d(s,"a",function(){return n}),e.d(s,"b",function(){return t});var n;(function(a){a.BOOT_INITIAL_LOAD="boot:initial_load",a.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",a.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",a.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",a.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(n||(n={}));var t;(function(a){a.COLD="cold",a.WARM="warm"})(t||(t={}))},y23z:function(K,s,e){"use strict";e.d(s,"a",function(){return c});var n=e("uZL6"),t=e("ZKjC"),a=e("UOL+"),r=e("i5Ig"),d,o;const i=Object(t.b)(E=>{var v;return(o=(d=(v=Object(a.a)(E))===null||v===void 0?void 0:v.links)!==null&&d!==void 0?d:E==null?void 0:E.links)!==null&&o!==void 0?o:r.b});var h,l;i.meta={name:"createSelector",key:"createSelectorgetLinksState",description:E=>{var v;return(l=(h=(v=Object(a.a)(E))===null||v===void 0?void 0:v.links)!==null&&h!==void 0?h:E==null?void 0:E.links)!==null&&l!==void 0?l:r.b}};const u=Object(t.b)((E,v)=>i(E)[v]);u.meta={name:"createSelector",key:"createSelectorgetLinkByUrl",description:(E,v)=>i(E)[v]};const c=Object(n.a)(i,E=>Object.values(E).filter(v=>!v.fileId).sort((v,g)=>(g.timestamp||0)-(v.timestamp||0)))},"yM+I":function(K,s,e){"use strict";var n=e("ZvnG");s.a=new n.a},yQbL:function(K,s,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("yIs4"),r=e("oTSI");class d{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var c,E;(c=this.battery)===null||c===void 0||c.addEventListener("chargingchange",this.handleBatteryUpdate),(E=this.battery)===null||E===void 0||E.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var c,E;(c=this.battery)===null||c===void 0||c.removeEventListener("chargingchange",this.handleBatteryUpdate),(E=this.battery)===null||E===void 0||E.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.battery&&(this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level)};var l=this;this.initialize=Object(n.coroutine)(function*(){yield l.setUp(),l.updateBatteryState()});var u=this;this.setUp=Object(n.coroutine)(function*(){if(!u.isInitialized)try{if(navigator.getBattery){const c=yield navigator.getBattery();u.battery=c,u.battery&&(u.isSupported=!0,u.updateBatteryState(),u.registerListeners())}else u.isSupported=!1}catch{u.isSupported=!1}finally{u.isInitialized=!0}}),this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!Object(a.a)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}m(d,"HuddleBatteryManager");const o=Object(r.a)(()=>new d),i={getHuddleBatteryManager:o,HuddleBatteryManager:d};s.a=o},yUYH:function(K,s,e){"use strict";e.d(s,"a",function(){return n});var n;(function(t){t.SpecificMembers="add-specific-members",t.AllMembers="add-all-members"})(n||(n={}))},yZZd:function(K,s,e){"use strict";e.d(s,"b",function(){return t}),e.d(s,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Update the last channel switch trigger");t.meta={name:"createAction",key:"createActionupdateChannelLastTrigger",description:"Update the last channel switch trigger"};const a=Object(n.a)("Update the last channel focus time");a.meta={name:"createAction",key:"createActionupdateChannelLastFocus",description:"Update the last channel focus time"}},yh68:function(K,s,e){"use strict";e.d(s,"a",function(){return de});var n=e("9oTK"),t=e("Lgge"),a=e("q1tI"),r=e.n(a),d=e("ifKl"),o=e("Muja"),i=e("fujP"),h=e("fp5s"),l=e("BeL+"),u=e("bPB8"),c=e("OZf9"),E=e("CpTu"),v=e("F3Uw"),g=e("dYt1"),O=e("/1FC"),I=e("Z0Cl"),C=e("zmn3"),f=e("hbEN"),S=e("UXvI"),D=e("n3tL"),p=e("Cfcg"),b=e("s4P+"),M=e("yxNq"),_=e("nNoG");function P(pe){return[...pe.filter(oe=>!oe.isError&&!oe.isUnknown),...pe.filter(oe=>!oe.isError&&oe.isUnknown),...pe.filter(oe=>oe.isError)]}m(P,"sortTokens");var y=e("FeOl"),j=e("O86Y"),U=e("6ysl"),W=e("coh6"),L=e("wWBL"),R=e("GS6c"),A=e("5IZy"),B=e("zb/F"),F=e("eUIW"),k=e("bjy1"),V=e("G7vT"),X=e("Icpd");function J(){return J=Object.assign||function(pe){for(var oe=1;oe<arguments.length;oe++){var me=arguments[oe];for(var re in me)Object.prototype.hasOwnProperty.call(me,re)&&(pe[re]=me[re])}return pe},J.apply(this,arguments)}m(J,"_extends");const Y=Object(b.b)(),ie=new _.b("form_inputs");function de(pe){const oe={searcherOptions:D.default.object.isRequired,selectId:D.default.string.isRequired,inputRef:D.default.object,isRequired:D.default.bool,selectedOptions:D.default.array,selectedOption:D.default.object,isExpanded:D.default.bool,isDisabled:D.default.bool,isInvalid:D.default.bool,focusOnMount:D.default.bool,searchOnPaste:D.default.bool,expandOnFocus:D.default.bool,expandOnClick:D.default.bool,searchBatchSize:D.default.number,debounceWaitPeriod:D.default.number,onFilterQueryPaste:D.default.func,onInputFocused:D.default.func,onSearch:D.default.func,onSearchError:D.default.func,onSearchResolved:D.default.func,onOptionsListClose:D.default.func,splitPastedQuery:D.default.func,processOptions:D.default.func,processSelectedOptions:D.default.func,clogger:D.default.object.isRequired,search:D.default.func.isRequired,teamId:D.default.string.isRequired,useSearcherSessions:D.default.bool,showConfirmDialog:D.default.func,restrictedSelectedTokenIndexes:D.default.array,useBulkSearch:D.default.bool},me={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:d.a,onInputFocused:d.a,onSearch:d.a,onSearchError:d.a,onSearchResolved:d.a,onOptionsListClose:d.a,splitPastedQuery:y.a,processOptions:ce=>t.a.resolve(ce),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[],useBulkSearch:!1};let re=m(class extends a.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(he,Se){const{isDisabled:se,isInvalid:H,selectedOptions:Oe,selectedOption:$,searchOnPaste:z,expandOnFocus:be,expandOnClick:Z,restrictedSelectedTokenIndexes:G}=this.props,ne={};if(he.isInvalid!==H&&(ne.isInvalid=H),he.isDisabled!==se&&(ne.isDisabled=se),Object(o.a)(he.selectedOptions,Oe)||(ne.selectedOptions=Oe),Object(o.a)(he.selectedOption,$)||(ne.selectedOption=$),(he.expandOnFocus&&!be||he.expandOnClick&&!Z)&&(ne.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,Se.selectedOptions)){var ae,fe;const ze=this.getNextUnknownTokenIndex();ne.selectedTokenIndexes=[ze],(ae=this.inputRef)===null||ae===void 0||(fe=ae.current)===null||fe===void 0||fe.focus()}he.restrictedSelectedTokenIndexes!==G&&(ne.restrictedSelectedTokenIndexes=G);const{isLoading:Te,pendingQueries:ye,selectedOptions:Ue,pendingEscapeQueries:Ne,filterQuery:He}=this.state;if(z&&!Te){if(!Object(i.a)(ye))ne.isLoading=!0,ne.loadInBackground=!0,this.searchQueryObjects(ye);else if(Se.isLoading){if(this.updateDisabled(!1),Ne.length>0&&He===""){const ze=Object(_.h)(Ne.map($e=>$e.query),{noConj:!0}).join(""),Je=Ne[0],{options:Xe}=Je,Me=m($e=>$e.map(ct=>{const{query:Tt,options:Et,...Le}=ct,jt=Et?{options:Me(Et)}:{};return{...Le,...jt,query:ze}}),"getUpdatedOptions"),Ke={...Je,options:Me(Xe),query:ze};ne.pendingEscapeQueries=[],ne.options=Ke.options,ne.filterQuery=ze,ne.isExpanded=!0,ne.isLoading=!1}if(Ue.length){const ze=Ue.filter(Xe=>Xe.isError||Xe.isUnknown).length,Je=ze?ie.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:ze}):ie.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(Je)}}}Object(i.a)(ne)||this.setSelectState(()=>ne)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}onFilterQueryPaste(he){var Se=this;return Object(n.coroutine)(function*(){const{searchOnPaste:se,searcherOptions:H,splitPastedQuery:Oe,processOptions:$}=Se.props;if(!se||!he&&!he.clipboardData)return;he.preventDefault();const z=he.clipboardData.getData("text/plain")?"text/plain":"Text",be=Object(B.b)(he),Z=be.text,G=Oe(Z,{...H,fromMetadata:be.text!==he.clipboardData.getData(z)});Se.props.onFilterQueryPaste(G);const ne=[],ge=[];yield t.a.all(G.map(ae=>{const fe=Se.getQueryId();return Object(F.a)(ae)||Object(k.a)(ae)?$([{key:fe,pasted:!0,fromMetadata:!0,value:ae,label:be.members?be.members[ae]:ae}]).then(Te=>(Te[0]&&ge.push(Te[0]),t.a.resolve())):(ne.push({query:ae,queryId:fe,pasted:!0}),ge.push({label:ae,queryId:fe,isLoading:!0,key:fe,pasted:!0}),t.a.resolve())})),Se.setSelectState(ae=>({pendingQueries:ae.pendingQueries.concat(ne),selectedOptions:ae.selectedOptions.concat(ge)})),Se.updateDisabled(!Object(i.a)(ne)),Se.updateAriaTextThrottled.cancel&&Se.updateAriaTextThrottled.cancel()})()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(he){const{isLoading:Se,isExpanded:se,filterQuery:H}=this.state;!Se&&se&&H.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose(he)}onTokenSelect(he){var Se=this;return Object(n.coroutine)(function*(){if(!(Se.props.expandOnClick||Se.shouldExpandOnFocus())){if(he&&!he.isUnknown)Se.setState(()=>({isExpanded:!1,options:[]}));else if(he){const se=yield Se.props.processOptions(he.resultOptions.map(H=>({...H,fromUnknown:!0})),he.label);Se.lastShownSearchDetails=he.searcher,Se.setState(()=>({isExpanded:!0,options:se}))}}})()}getQueryId(){return Object(h.a)("query__")}setSelectState(he,Se){var se=this;return Object(n.coroutine)(function*(){var H;const{processSelectedOptions:Oe}=se.props;let $=he(se.state);const{selectedOption:z,selectedOptions:be}=se.state;$.filterQuery!==void 0&&$.filterQuery!==se.state.filterQuery&&($.isLoading=!0,$.loadInBackground=!1,se.searchQuery($.filterQuery));const{searchOnPaste:Z}=se.props;if(Z&&$.selectedOptions){const ne=$.selectedOptions.map(ae=>{let{key:fe}=ae;return fe}),ge=Object(l.a)(Object(u.a)(ne.filter(ae=>ne.indexOf(ae)!==ne.lastIndexOf(ae))));Object(c.a)(ge,ae=>{const fe=Object(E.a)($.selectedOptions,ye=>{let{key:Ue,isUnknown:Ne}=ye;return Ue===ae&&!Ne}),Te=Object(u.a)($.selectedOptions.map(ye=>ye.key===ae?ye.isUnknown?fe:null:ye));$.selectedOptions=Te})}if($.selectedOptions!==void 0&&!Object(o.a)($.selectedOptions,be)){const ne=$.selectedOptions.filter(ae=>{let{isLoading:fe,isUnknown:Te}=ae;return!fe&&!Te}),[ge]=Object(v.a)(ne,be,"value");ge&&se.clogSearcherResults(ge)}$.selectedOption!==void 0&&$.selectedOption!==null&&((H=$.selectedOption)===null||H===void 0?void 0:H.value)!==(z==null?void 0:z.value)&&se.clogSearcherResults($.selectedOption);const G=!!$.removalInitiator;if($.selectedOptions&&!G&&Oe){if($=Object(g.a)($),$.isLoading!==void 0){const ne=$.isLoading;se.setState(()=>({isLoading:ne})),delete $.isLoading}$.selectedOptions=yield Oe($.selectedOptions)}se.setState(()=>$,Se)})()}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(he=>he.isUnknown&&he.queryId)}wasUnknownTokenResolved(he,Se){const se=he.filter(Oe=>Oe.isUnknown).length,H=Se.filter(Oe=>Oe.isUnknown).length;return se<H}shouldExpandOnFocus(){const{expandOnFocus:he}=this.props,{selectedOptions:Se}=this.state,se=Object(X.a)(Se);return he&&!se}clogSearcherResults(he){if(this.lastShownSearchDetails===null)return;const{clogger:Se,selectId:se,useSearcherSessions:H,teamId:Oe}=this.props,{query:$,results:z}=this.lastShownSearchDetails,be={source:se,query:$,results:z};he?(be.selectedItemId=he.value,H?Object(R.a)({teamId:Oe,key:se}).clogSearcherAccept({clogger:Se,data:be}):Object(W.c)({clogger:Se,data:be})):H?Object(R.a)({teamId:Oe,key:se}).clogSearcherReject({clogger:Se,data:be}):Object(W.d)({clogger:Se,data:be})}processSearchResults(he){const{searchOnPaste:Se,onSearchResolved:se,searcherOptions:H}=this.props,{escapeHatchEnabled:Oe,escapeHatchKeys:$}=H,z=this.state.selectedOptions.slice(0);Se&&he.forEach(be=>{let{queryId:Z,options:G,searcher:ne}=be;const ge=z.findIndex(Te=>Te.queryId===Z),ae=z[ge];let fe=null;if(ae){this.lastShownSearchDetails=ne;let Te;G.length===1?(Te=G[0],Oe&&ne&&ne.results&&ne.results.length===0&&ne.pasted&&$&&$[Te.key]&&this.setState(Ue=>({pendingEscapeQueries:[...Ue.pendingEscapeQueries,{query:ne.query,options:[Te]}]})),this.clogSearcherResults(Te)):G.length?Te={isUnknown:!0}:(Te={isError:!0},this.clogSearcherResults()),fe={...ae,...Te,resultOptions:G,searcher:ne,isLoading:!1},z[ge]=fe}se({result:G,selectedOption:fe})}),this.setState(be=>{if(Object(M.a)(be.selectedOptions,z,2)){const{options:Z,searcher:G}=he[0];return this.lastShownSearchDetails=G,be.loadInBackground?null:{options:Z}}return{selectedOptions:P(z)}})}runBatchedSearch(he){const Se=he.slice(0,this.props.searchBatchSize);if(he.length>1&&this.props.useBulkSearch){const H=Se.some($=>!!$.pasted),Oe=Se.some($=>!!$.initial);return this.runSingleSearch({query:Se,pasted:H,initial:Oe})}const se=Se.map(H=>{let{query:Oe,queryId:$,pasted:z,initial:be}=H;return this.runSingleSearch({query:Oe,queryId:$,pasted:z,initial:be})});return t.a.all(se)}runSingleSearch(he){let{query:Se,queryId:se,pasted:H,initial:Oe}=he;const{onSearch:$,onSearchError:z,processOptions:be,searcherOptions:Z,selectId:G,useSearcherSessions:ne,teamId:ge,useBulkSearch:ae}=this.props;let fe,Te,ye=!1;const Ue=se||this.getQueryId(),Ne=new Map;if(Object(O.a)(Se)&&ae?(fe=Se.map(Je=>(Ne.set(Je.queryId,Je.query),{query:Object(y.b)(Je.query,Z),queryId:Je.queryId})),ye=!0):Te=Object(y.b)(Se,Z),Te&&$(Se)===!1)return be([],Te).then(Je=>({queryId:Ue,options:Je,searcher:this.lastShownSearchDetails}));let He;ne&&(!H||ye)?He=Object(R.a)({teamId:ge,key:Oe?Ue:G}).search({query:ye?fe:Te,options:{...Z,sort:{source:G,...Z.sort},returnMetadata:!0}}):He=this.props.search({query:ye?fe:Te,options:{...Z,sort:{source:G,...Z.sort},returnMetadata:!0}});var ze=this;return He.then(function(){var Je=Object(n.coroutine)(function*(Xe){ze.lastShownSearchDetails={query:ye?fe:Te,results:Xe};const Me=(Xe||[]).map((ct,Tt)=>{var Et;return{key:ye?ct.queryId:`${Ue}_${Tt}`,value:ct.item.id,label:ct.name||((Et=ct.item)===null||Et===void 0?void 0:Et.name)||(ye?Ne.get(ct.queryId):Se),entity:ct.item,matchData:ct.subqueryScoresByMember}}),{selectedOption:Ke}=ze.state;Te===""&&Ke&&(Object(E.a)(Me,["value",Ke.value])||Me.unshift(Ke));const $e=yield be(Me,Se,{pasted:H});return{queryId:Ue,options:$e,searcher:{...ze.lastShownSearchDetails,pasted:H}}});return function(Xe){return Je.apply(this,arguments)}}()).catch(Je=>{Y.error(`Error when searching for select id: ${G}, error: ${Je}`),z(Je);const Xe=[];return{queryId:Ue,options:Xe,searcher:{query:ye?fe:Te,results:Xe,pasted:H,isError:!0}}})}searchQuery(he){this._isMounted&&this.searchQueryObjects([{query:he}])}searchQueryObjects(he){if(Object(i.a)(he))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:se,queryId:H}=he[0];this.searchPromise=this.runSingleSearch({query:se,queryId:H}).then(Oe=>{let{options:$}=Oe;this.setSelectState(()=>({options:$})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(he).then(se=>{let H=se;this.props.useBulkSearch&&(H=this.generateBulkSearchResultsArray(H)),this.processSearchResults(H);const Oe=H.map($=>{let{queryId:z}=$;return z});this.setState($=>({pendingQueries:$.pendingQueries.filter(be=>{let{queryId:Z}=be;return!Oe.includes(Z)}),isLoading:!1}))});const Se=ie.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:he.length});this.updateAriaTextThrottled(Se)}updateAriaText(he){this.setState(Se=>Se.ariaText===he?null:{ariaText:he})}updateDisabled(he){this.setState(Se=>Se.isDisabled===he?null:{isDisabled:he})}generateBulkSearchResultsArray(he){var Se;if(!(!(he==null||(Se=he.options)===null||Se===void 0)&&Se.length))return he.splice(0);const{options:se,searcher:H}=he,{pasted:Oe,query:$,results:z}=H;return $.map(Z=>({options:se.filter(G=>G.key===Z.queryId),queryId:Z.queryId,searcher:{pasted:Oe,query:Z.query,results:z.filter(G=>G.queryId===Z.queryId)}}))}render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,J({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),r.a.createElement(V.b,{message:this.state.ariaText}))}constructor(he){super(he),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:Se,searchOnPaste:se}=he,H=Object(I.a)(Se,$=>Object(U.e)($));let Oe=[];se&&(Oe=Object(u.a)(Object(C.a)(H,$=>!$.label||!$.queryId?null:{query:$.label,queryId:$.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:he.isExpanded,selectId:he.selectId,selectedOptions:he.selectedOptions||[],selectedOption:he.selectedOption||null,isRequired:he.isRequired,isLoading:!1,isDisabled:he.isDisabled,isInvalid:he.isInvalid,pendingQueries:Oe||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!he.showConfirmDialog,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:he.restrictedSelectedTokenIndexes||[]},this.searchQuery=Object(f.a)(this.searchQuery,he.debounceWaitPeriod),this.updateAriaTextThrottled=Object(S.a)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=he.inputRef||r.a.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");re.displayName="SearcherSelectWrapper",re.propTypes=oe,re.defaultProps=me;const ve=m(ce=>({clogger:Object(A.a)({state:ce}),teamId:Object(j.h)(ce),useSearcherSessions:Object(L.c)(ce)}),"mapStateToProps"),q={search:function(){for(var ce=arguments.length,he=new Array(ce),Se=0;Se<ce;Se++)he[Se]=arguments[Se];return Object(W.F)(...he)}};return Object(p.a)(ve,q)(re)}m(de,"withSearcher")},yuD6:function(K,s,e){"use strict";e.d(s,"d",function(){return t}),e.d(s,"a",function(){return a}),e.d(s,"c",function(){return r}),e.d(s,"b",function(){return d}),e.d(s,"e",function(){return o});var n=e("DwFS");const t=Object(n.a)("Sets the current loading state for a channel");t.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const a=Object(n.a)("Adds pinned item identifiers for files and messages to list of pinned items");a.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const r=Object(n.a)("Remove an item from the pinned items list for a channel");r.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const d=Object(n.a)("Clears the existing pinned items for a channel and sets the loading state");d.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const o=Object(n.a)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");o.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},yz5U:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Muja"),r=e("zxER"),d=e("/qcS"),o=e("FlEr"),i=e("DQKV"),h=e("Q755");function l(u){let{memberId:c,className:E,emojiSize:v,showTooltips:g,stopAnimations:O,text:I}=u;const C=Object(r.c)(f=>c?Object(o.a)(f,c):void 0,a.a);return I?t.a.createElement("span",{className:E,"data-qa":"custom_status_text"},t.a.createElement(i.a,{text:I,inputIsEscaped:!0,emojiSize:v||d.a.MEDIUM,showTooltips:!!g,stopAnimations:!!O,emojiDisplayInfo:C})):null}m(l,"CustomStatusText"),l.displayName="CustomStatusText",s.a=t.a.memo(l)},yzO5:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),r=e("zxER"),d=e("nNoG"),o=e("ktUG"),i=e("RVJP"),h=e("+kJ4"),l=e("Trx9"),u=e("PFo8"),c=e("vDCl"),E=e("WAPM");const v=new d.b("msg_input"),g={elementName:"learn_more",onClick:{enableClogAction:!0}},O=m(p=>{let{isScheduledMessage:b}=p;const M=Object(a.useDispatch)(),_=Object(n.useCallback)(()=>{M(Object(h.a)())},[M]);if(!Object(r.c)(U=>Object(i.d)(U,"upgrd_5684")==="on"))return null;const y=b?v.t("Message not scheduled"):v.t("Message not sent"),j=v.rt("Your team isn\u2019t able to send messages right now. Review any apps or webhooks that may be sending a high-volume of messages. <learnMoreLink>Learn more</learnMoreLink> about message limits.",{fallbackHash:"a15c5b3859af53dcefc79016b421009c7adc9bf6","<learnMoreLink>":U=>{let{text:W}=U;return t.a.createElement(E.a,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:g,forceOpenInBrowser:!0},W)}});return t.a.createElement(l.a,{eventId:o.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:o.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.a.createElement(u.a,{"data-qa":"message-limit-error-modal",title:y,titleIcon:"warning",bodyContent:j,onRequestClose:_,theme:c.b.ERROR}))},"MessageLimitErrorModal");O.displayName="MessageLimitErrorModal";var I=O,C=e("SQ0V"),f=e("3l96");const S=Object(C.c)("Open modal when a message send fails due to team having hit the message limit",function(p,b){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return p(Object(f.a)({element:t.a.createElement(I,M)}))});S.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};var D=s.a=S},"z/sp":function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("ZKjC"),t=e("UOL+"),a;const r=Object(n.b)(o=>{var i;return(a=(i=Object(t.a)(o))===null||i===void 0?void 0:i.messagePlaceholders)!==null&&a!==void 0?a:o==null?void 0:o.messagePlaceholders});var d;r.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:o=>{var i;return(d=(i=Object(t.a)(o))===null||i===void 0?void 0:i.messagePlaceholders)!==null&&d!==void 0?d:o==null?void 0:o.messagePlaceholders}}},zEKE:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("nNoG"),d=e("ktUG"),o=e("jWAO"),i=e("nFQW"),h=e("j/0O"),l=e("vDCl");const u=new r.b("upgrades_kit"),c={action:d.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:d.ElementType.X},E=m(g=>{let{className:O,iconType:I,customIcon:C,image:f,heading:S,children:D,onDismiss:p,useRoundedCorners:b=!0,showBorder:M=!0,size:_=l.a.MEDIUM,theme:P=l.b.PURPLE,"data-qa":y="",primaryCTA:j,secondaryCTA:U}=g;const W=m(()=>{let F;const k="p-upgrades_alert_banner__icon";return C?F=t.a.createElement("div",{className:k},C):f?F=t.a.createElement("div",{className:Object(a.default)(k,"p-upgrades_alert_banner__icon--image")},f):I&&(F=t.a.createElement(h.a,{className:k,size:_,theme:P,type:I})),F},"renderIcon");W.displayName="renderIcon";const L=m(()=>t.a.createElement(i.a,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",icon:"times",size:"small","aria-label":u.t("Dismiss",{fallbackHash:"70afe9eff3f2888493d9b5169fec8331af1810de",fallbackHashNs:"trials_highlight_paid_features"}),onClick:p,autoClogProps:c}),"renderCloseIcon");L.displayName="renderCloseIcon";const R=m(()=>!j&&!U?null:t.a.createElement("div",{className:"p-upgrades_alert_banner__button_container"},j,U),"renderButtons");R.displayName="renderButtons";const A=W(),B=Object(a.default)("p-upgrades_alert_banner",`p-upgrades_alert_banner--${_}`,`p-upgrades_alert_banner--${P}`,O,{"p-upgrades_alert_banner--with_close_icon":!!p,"p-upgrades_alert_banner--rounded_corners":b,"p-upgrades_alert_banner--no_border":!M,"p-upgrades_alert_banner--with_image":!!f});return t.a.createElement("div",{className:"full_width"},t.a.createElement(o.d,{className:B,"data-qa":y,customIcon:A,heading:S,type:A?o.c.boxed:o.c.custom},t.a.createElement("div",{className:"p-upgrades_alert_banner__body"},D),R(),p&&L()))},"AlertBanner");E.displayName="AlertBanner";var v=s.a=E},zIak:function(K,s,e){"use strict";e.d(s,"a",function(){return n});function n(t){const a=m(()=>{window.Cypress||t()},"unloadHandler");window.addEventListener("beforeunload",a)}m(n,"addUnloadHandler")},zKNY:function(K,s,e){K.exports=e.p+"slackbot_fancy_24-e726b64.png"},zMr6:function(K,s,e){"use strict";e.d(s,"d",function(){return p}),e.d(s,"a",function(){return M}),e.d(s,"c",function(){return L}),e.d(s,"b",function(){return R});var n=e("ISSR"),t=e("vfvl"),a=e("Yauy"),r=e("pZC0"),d=e("E97Y"),o=e("G0eX"),i=e("beVI"),h=e("hjzp"),l=e("dmdh"),u=e("P9LH"),c=e("E3dU"),E=e("nHh1"),v=e("2jZb");const g={name:"archive"},O={name:"archive",variation:"filled"},I={name:"edit"},C={name:"edit",variation:"filled"},f={name:"file"},S={name:"lists"},D={name:"lock"},p={name:"lock",variation:"filled"},b={name:"channel"},M={name:"channel",variation:"filled"},_={name:"canvas"},P={name:"sf-opportunity",variation:"filled"},y={name:"sf-account",variation:"filled"},j={name:"sf-case",variation:"filled"},U={name:"sf-lead",variation:"filled"},W={name:"sf-cloud",variation:"filled"};function L(A){switch(A){case E.b.Opportunity:return P;case E.b.Account:return y;case E.b.Lead:return U;case E.b.Case:return j;default:return W}}m(L,"getIconPropsFromRecordType");function R(A,B){let{filled:F,bold:k,disableArchived:V,showDraftIcon:X}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const J=Object(i.g)(A)||Object(i.o)(A),Y=Object(o.n)(J);if(!Object(t.b)(Y,B)&&(Object(n.a)(B)&&!V||Object(t.a)(B)))return F?O:g;if(X&&Object(a.v)(A,B.id))return F?C:I;if(Object(r.a)(B)){const de=Object(l.e)(A,Object(h.b)(B.id));if(Object(u.u)(de))return _;if(Object(u.h)(de)){const pe=Object(c.f)(A,de.id),oe=Object(c.d)(A,pe);return Object(d.k)(oe)||Object(d.h)(oe)?F?p:D:_}return Object(u.o)(de)?S:f}if(Object(d.n)(B)){var ie;const de=(ie=Object(v.c)(B).record_type)!==null&&ie!==void 0?ie:"";return L(de)}return Object(d.k)(B)?F?p:D:k?M:b}m(R,"getChannelIconType")},zNRp:function(K,s,e){"use strict";e.d(s,"a",function(){return o});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("Tsh7");function d(){return d=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var E=arguments[c];for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}return u},d.apply(this,arguments)}m(d,"_extends");const o={transparent:"transparent",black:"black",red:"red",white:"white",blue:"blue",minGray:"min_gray",minGrayDarken:"min_gray_darken",themed:"themed"},i=m((u,c)=>u>c?`${c}+`:String(u),"getCountText"),h=m(u=>{let{className:c,count:E,maxCount:v=9,style:g="black",toolTipText:O=""}=u;if(!E||E<0)return null;const I=O?r.d:t.a.Fragment,C=O?{tip:O}:{};return t.a.createElement(I,d({},C),t.a.createElement("span",{"aria-hidden":"true",className:Object(a.default)(c,"c-mention_badge",`c-mention_badge--${g}`,{"c-mention_badge--max":E>v},O&&"c-mention_badge--default"),"data-qa":"mention_badge"},i(E,v)))},"MentionBadge");h.displayName="MentionBadge";var l=s.b=t.a.memo(h)},zUbs:function(K,s,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),r=e("ww7Y"),d=e("CD4m"),o=e("i2F6"),i=e("BJra"),h=e("zxER"),l=e("K2b1"),u=e("RVJP");function c(){return c=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&(O[f]=C[f])}return O},c.apply(this,arguments)}m(c,"_extends");const E=new l.b("inline_member");function v(O){const{className:I,multiline:C=!1,inline:f=!1,invert:S=!1,name:D,isSelf:p=!1,isAppOrBot:b=!1,isWorkflowBot:M=!1,showAppOrBotBadge:_=!0,isDeleted:P=!1,isUnknown:y=!1,isNonExistent:j=!1,withTruncationTooltip:U=!1,isBold:W=!0,isUserHidden:L=!1,isChannelFiles:R=!1,showMemberNameIfHidden:A=!1}=O,B=Object(h.c)(X=>Object(u.d)(X,"member_name_channel_files_view_two")==="on");let F;y||j?F=t.a.createElement(o.a,{type:j?"non-existent":"unknown","data-qa":"member_name__missing"}):L&&!A?F=E.t("Name hidden"):R?F=B?E.rt("Shared by {name}",{name:D}):"":F=D;const k=Object(a.default)(I,"c-member_name",{"c-member_name--deactivated":P,"c-member_name--inverted":S}),V=W?"strong":"span";return t.a.createElement(d.c,c({className:k,multiline:C,inline:f,withTruncationTooltip:U},Object(i.a)(O)),t.a.createElement(V,{"data-qa":"member_name"},F,p&&t.a.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},E.t("(you)")),P&&t.a.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},E.t("(deactivated)")),(b||M)&&_&&t.a.createElement(r.a,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:S,isWorkflow:M})))}m(v,"MemberName"),v.displayName="MemberName";var g=s.a=v},zwKj:function(K,s,e){"use strict";e.d(s,"a",function(){return r});var n=e("zmn3"),t=e("C3vN"),a=e("52Wj");const r=m((d,o,i)=>{const{app_card_color:h,app_user_id:l,auth:u,bot_user:c,config:E,commands:v,config_url:g,enterprise_id:O,desc:I,icons:C,id:f,is_directory_published:S,is_directory_approved:D,is_slack_integration:p,is_distributed:b,is_xoxa_app:M,is_workflow_app:_,long_desc:P,long_desc_formatted:y,org_status:j,name:U,support_url:W,team_id:L,screenshots:R,url:A,youtube_url:B,is_installed:F,sales_home_workflow_app_type:k}=o;let V="xoxp";M?V="xoxa":E&&E.is_custom_integration?V="custom_integration":p&&(V="slack");let X=!0,J=!1;E?(parseInt(E.date_deleted,10)!==0&&(J=!0,X=!1),parseInt(E.date_deleted,10)!==0&&(X=!1),E.is_active<1&&(X=!1)):u?u.revoked&&(X=!1):X=!1;let Y=null;E&&E.created_by&&(Y=E.created_by),u&&u.created_by&&(Y=u.created_by);const ie=v?Object(n.a)(v,ce=>({name:ce.name,usage:ce.usage,description:ce.desc})):null;let de=null;M?de={id:l,username:U}:c?de={id:c.id,username:c.username}:Object(t.fb)(i)||(de={id:i.id,username:Object(a.b)(i)});let pe=U;E&&(E.real_name?pe=E.real_name:E.username&&(pe=E.username));let oe=I;E&&E.descriptive_label&&(oe=E.descriptive_label);let me=C;E&&E.icons&&(me=E.icons);const re=c&&c.memberships_count||null,ve=E&&E.custom_integration_type||null,q=E&&E.date_created||null;return{app_id:f,home_workspace_id:L,home_enterprise_id:O,service_id:d,config_url:g,app_type:V,is_workflow_app:_,sales_home_workflow_app_type:k,org_status:j,profile:{name:pe,color:h||void 0,description:P,formattedDescription:y,tagline:oe,icons:me,custom_integration_type:ve},directory_profile:{screenshots:R,youtube_url:B,home_url:A,support_url:W,is_distributed:b,is_published:S,is_approved:D},installation:{installer_user_id:Y,is_active:X,is_deleted:J,memberships_count:re,date_created:q,is_installed:F},app_user:de,commands:ie,legacy_app:o}},"buildAppProfileFromLegacyEndpoint")}},[["edAB","gantry-v2-manifest","gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"]]]);})();
