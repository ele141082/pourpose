(()=>{var QS=Object.defineProperty;var o=(j,l)=>QS(j,"name",{value:l,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-vendors-client","gantry-v2-vendors-workflow-builder"],{"+7ft":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}},"MeetingReadinessCheckerConfiguration");l.default=S},"+D+n":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(t,n,r,c){function p(m){return m instanceof r?m:new r(function(d){d(m)})}return o(p,"adopt"),new(r||(r=Promise))(function(m,d){function y(k){try{w(c.next(k))}catch(V){d(V)}}o(y,"fulfilled");function E(k){try{w(c.throw(k))}catch(V){d(V)}}o(E,"rejected");function w(k){k.done?m(k.value):p(k.value).then(y,E)}o(w,"step"),w((c=c.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("dWQL")),g=f(h("t9Fz")),a=f(h("QzVx")),s=h("KyYT"),i=f(h("JTre"));let e=o(class{createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new g.default(new a.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return S(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const n=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,n.destroy()})}bindVideoElement(n,r){const c=this.getVideoTile(n);if(c===null){this.logger.warn(`Ignoring video element binding for unknown tile id ${n}`);return}c.bindVideoElement(r)}unbindVideoElement(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const c=this.getVideoTile(n);if(c===null){this.logger.warn(`Ignoring video element unbinding for unknown tile id ${n}`);return}this.logger.info("Unbinding the video element");const p=c.stateRef().boundVideoElement;c.bindVideoElement(null),r&&(this.logger.info("Cleaning up the video element"),i.default.disconnectVideoStreamFromVideoElement(p,!1))}startLocalVideoTile(){if(this.audioVideoController.configuration.meetingFeatures.videoMaxResolution===u.default.VideoDisabled)return this.logger.warn("Could not start camera video because max video resolution was set to None"),-1;const n=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),n.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(n){const r=this.getVideoTile(n);r&&(this.currentPausedTilesByIds.has(n)||(this.audioVideoController.pauseReceivingStream(r.stateRef().streamId),this.currentPausedTilesByIds.add(n)),r.pause())}unpauseVideoTile(n){const r=this.getVideoTile(n);r&&(this.currentPausedTilesByIds.has(n)&&(this.audioVideoController.resumeReceivingStream(r.stateRef().streamId),this.currentPausedTilesByIds.delete(n)),r.unpause())}getVideoTile(n){return this.tileMap.has(n)?this.tileMap.get(n):null}getVideoTileArea(n){const r=n.state();let c=0,p=0;return r.boundVideoElement&&(c=r.boundVideoElement.clientHeight*r.devicePixelRatio,p=r.boundVideoElement.clientWidth*r.devicePixelRatio),c*p}getAllRemoteVideoTiles(){const n=new Array;return this.tileMap.forEach((r,c)=>{(!this.currentLocalTile||c!==this.currentLocalTile.id())&&n.push(r)}),n}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const r=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const c=this.tileFactory.makeTile(r,n,this,this.devicePixelRatioMonitor);return this.tileMap.set(r,c),c}removeVideoTile(n){if(!this.tileMap.has(n))return;const r=this.tileMap.get(n);this.currentLocalTile===r&&(this.currentLocalTile=null),r.destroy(),this.tileMap.delete(n),this.audioVideoController.forEachObserver(c=>{s.Maybe.of(c.videoTileWasRemoved).map(p=>p.bind(c)(n))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(n){const r=[];for(const c of this.getAllVideoTiles()){const p=c.state();p.boundAttendeeId===n&&(this.removeVideoTile(p.tileId),r.push(p.tileId))}return r}removeAllVideoTiles(){const n=Array.from(this.tileMap.keys());for(const r of n)this.removeVideoTile(r)}sendTileStateUpdate(n){this.audioVideoController.forEachObserver(r=>{s.Maybe.of(r.videoTileDidUpdate).map(c=>c.bind(r)(n))})}haveVideoTilesWithStreams(){for(const n of this.getAllVideoTiles())if(n.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(n){return!!this.getVideoTileForAttendeeId(n)}getVideoTileForAttendeeId(n){for(const r of this.getAllVideoTiles())if(r.state().boundAttendeeId===n)return r}captureVideoTile(n){const r=this.getVideoTile(n);return r?r.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}constructor(n,r,c){this.tileFactory=n,this.audioVideoController=r,this.logger=c,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=r.configuration.keepLastFrameWhenPaused}},"DefaultVideoTileController");l.default=e},"+DE9":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(u,g,a,s){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(p){try{c(s.next(p))}catch(m){t(m)}}o(n,"fulfilled");function r(p){try{c(s.throw(p))}catch(m){t(m)}}o(r,"rejected");function c(p){p.done?e(p.value):i(p.value).then(n,r)}o(c,"step"),c((s=s.apply(u,g||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let f=o(class{destroy(){return S(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(g){this.observerQueue.add(g),g.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(g){this.observerQueue.delete(g)}constructor(g,a){if(this.devicePixelRatioSource=g,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(i=>{i.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const s=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);typeof s.addEventListener=="function"?(s.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=s):typeof s.addListener=="function"?(s.addListener(this.mediaQueryListener),this.mediaQueryList=s):a.warn("ignoring DefaultDevicePixelRatioMonitor")}},"DefaultDevicePixelRatioMonitor");l.default=f},"+JPr":function(j,l){function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(h,"_nonIterableRest"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},"+br/":function(j,l,h){"use strict";h.r(l),h.d(l,"__extends",function(){return f}),h.d(l,"__assign",function(){return u}),h.d(l,"__rest",function(){return g}),h.d(l,"__decorate",function(){return a}),h.d(l,"__param",function(){return s}),h.d(l,"__metadata",function(){return i}),h.d(l,"__awaiter",function(){return e}),h.d(l,"__generator",function(){return t}),h.d(l,"__createBinding",function(){return n}),h.d(l,"__exportStar",function(){return r}),h.d(l,"__values",function(){return c}),h.d(l,"__read",function(){return p}),h.d(l,"__spread",function(){return m}),h.d(l,"__spreadArrays",function(){return d}),h.d(l,"__await",function(){return y}),h.d(l,"__asyncGenerator",function(){return E}),h.d(l,"__asyncDelegator",function(){return w}),h.d(l,"__asyncValues",function(){return k}),h.d(l,"__makeTemplateObject",function(){return V}),h.d(l,"__importStar",function(){return N}),h.d(l,"__importDefault",function(){return F}),h.d(l,"__classPrivateFieldGet",function(){return P}),h.d(l,"__classPrivateFieldSet",function(){return B});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,J){D.__proto__=J}||function(D,J){for(var X in J)J.hasOwnProperty(X)&&(D[X]=J[X])},S(O,R)},"extendStatics");function f(O,R){S(O,R);function D(){this.constructor=O}o(D,"__"),O.prototype=R===null?Object.create(R):(D.prototype=R.prototype,new D)}o(f,"__extends");var u=o(function(){return u=Object.assign||o(function(R){for(var D,J=1,X=arguments.length;J<X;J++){D=arguments[J];for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(R[$]=D[$])}return R},"__assign"),u.apply(this,arguments)},"__assign");function g(O,R){var D={};for(var J in O)Object.prototype.hasOwnProperty.call(O,J)&&R.indexOf(J)<0&&(D[J]=O[J]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(O);X<J.length;X++)R.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(O,J[X])&&(D[J[X]]=O[J[X]]);return D}o(g,"__rest");function a(O,R,D,J){var X=arguments.length,$=X<3?R:J===null?J=Object.getOwnPropertyDescriptor(R,D):J,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(O,R,D,J);else for(var Ee=O.length-1;Ee>=0;Ee--)(he=O[Ee])&&($=(X<3?he($):X>3?he(R,D,$):he(R,D))||$);return X>3&&$&&Object.defineProperty(R,D,$),$}o(a,"__decorate");function s(O,R){return function(D,J){R(D,J,O)}}o(s,"__param");function i(O,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,R)}o(i,"__metadata");function e(O,R,D,J){function X($){return $ instanceof D?$:new D(function(he){he($)})}return o(X,"adopt"),new(D||(D=Promise))(function($,he){function Ee(Be){try{ve(J.next(Be))}catch(pt){he(pt)}}o(Ee,"fulfilled");function ke(Be){try{ve(J.throw(Be))}catch(pt){he(pt)}}o(ke,"rejected");function ve(Be){Be.done?$(Be.value):X(Be.value).then(Ee,ke)}o(ve,"step"),ve((J=J.apply(O,R||[])).next())})}o(e,"__awaiter");function t(O,R){var D={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},J,X,$,he;return he={next:Ee(0),throw:Ee(1),return:Ee(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function Ee(ve){return function(Be){return ke([ve,Be])}}function ke(ve){if(J)throw new TypeError("Generator is already executing.");for(;D;)try{if(J=1,X&&($=ve[0]&2?X.return:ve[0]?X.throw||(($=X.return)&&$.call(X),0):X.next)&&!($=$.call(X,ve[1])).done)return $;switch(X=0,$&&(ve=[ve[0]&2,$.value]),ve[0]){case 0:case 1:$=ve;break;case 4:return D.label++,{value:ve[1],done:!1};case 5:D.label++,X=ve[1],ve=[0];continue;case 7:ve=D.ops.pop(),D.trys.pop();continue;default:if($=D.trys,!($=$.length>0&&$[$.length-1])&&(ve[0]===6||ve[0]===2)){D=0;continue}if(ve[0]===3&&(!$||ve[1]>$[0]&&ve[1]<$[3])){D.label=ve[1];break}if(ve[0]===6&&D.label<$[1]){D.label=$[1],$=ve;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(ve);break}$[2]&&D.ops.pop(),D.trys.pop();continue}ve=R.call(O,D)}catch(Be){ve=[6,Be],X=0}finally{J=$=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}}o(t,"__generator");function n(O,R,D,J){J===void 0&&(J=D),O[J]=R[D]}o(n,"__createBinding");function r(O,R){for(var D in O)D!=="default"&&!R.hasOwnProperty(D)&&(R[D]=O[D])}o(r,"__exportStar");function c(O){var R=typeof Symbol=="function"&&Symbol.iterator,D=R&&O[R],J=0;if(D)return D.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&J>=O.length&&(O=void 0),{value:O&&O[J++],done:!O}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}o(c,"__values");function p(O,R){var D=typeof Symbol=="function"&&O[Symbol.iterator];if(!D)return O;var J=D.call(O),X,$=[],he;try{for(;(R===void 0||R-- >0)&&!(X=J.next()).done;)$.push(X.value)}catch(Ee){he={error:Ee}}finally{try{X&&!X.done&&(D=J.return)&&D.call(J)}finally{if(he)throw he.error}}return $}o(p,"__read");function m(){for(var O=[],R=0;R<arguments.length;R++)O=O.concat(p(arguments[R]));return O}o(m,"__spread");function d(){for(var O=0,R=0,D=arguments.length;R<D;R++)O+=arguments[R].length;for(var J=Array(O),X=0,R=0;R<D;R++)for(var $=arguments[R],he=0,Ee=$.length;he<Ee;he++,X++)J[X]=$[he];return J}o(d,"__spreadArrays");function y(O){return this instanceof y?(this.v=O,this):new y(O)}o(y,"__await");function E(O,R,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=D.apply(O,R||[]),X,$=[];return X={},he("next"),he("throw"),he("return"),X[Symbol.asyncIterator]=function(){return this},X;function he(Ve){J[Ve]&&(X[Ve]=function(bt){return new Promise(function(lt,mt){$.push([Ve,bt,lt,mt])>1||Ee(Ve,bt)})})}function Ee(Ve,bt){try{ke(J[Ve](bt))}catch(lt){pt($[0][3],lt)}}function ke(Ve){Ve.value instanceof y?Promise.resolve(Ve.value.v).then(ve,Be):pt($[0][2],Ve)}function ve(Ve){Ee("next",Ve)}function Be(Ve){Ee("throw",Ve)}function pt(Ve,bt){Ve(bt),$.shift(),$.length&&Ee($[0][0],$[0][1])}}o(E,"__asyncGenerator");function w(O){var R,D;return R={},J("next"),J("throw",function(X){throw X}),J("return"),R[Symbol.iterator]=function(){return this},R;function J(X,$){R[X]=O[X]?function(he){return(D=!D)?{value:y(O[X](he)),done:X==="return"}:$?$(he):he}:$}}o(w,"__asyncDelegator");function k(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=O[Symbol.asyncIterator],D;return R?R.call(O):(O=typeof c=="function"?c(O):O[Symbol.iterator](),D={},J("next"),J("throw"),J("return"),D[Symbol.asyncIterator]=function(){return this},D);function J($){D[$]=O[$]&&function(he){return new Promise(function(Ee,ke){he=O[$](he),X(Ee,ke,he.done,he.value)})}}function X($,he,Ee,ke){Promise.resolve(ke).then(function(ve){$({value:ve,done:Ee})},he)}}o(k,"__asyncValues");function V(O,R){return Object.defineProperty?Object.defineProperty(O,"raw",{value:R}):O.raw=R,O}o(V,"__makeTemplateObject");function N(O){if(O&&O.__esModule)return O;var R={};if(O!=null)for(var D in O)Object.hasOwnProperty.call(O,D)&&(R[D]=O[D]);return R.default=O,R}o(N,"__importStar");function F(O){return O&&O.__esModule?O:{default:O}}o(F,"__importDefault");function P(O,R){if(!R.has(O))throw new TypeError("attempted to get private field on non-instance");return R.get(O)}o(P,"__classPrivateFieldGet");function B(O,R,D){if(!R.has(O))throw new TypeError("attempted to set private field on non-instance");return R.set(O,D),D}o(B,"__classPrivateFieldSet")},"+j7y":function(j,l,h){"use strict";var S=h("YXGX"),f=h("ifKl"),u=S.a?function(g){return S.a.get(g)}:f.a;l.a=u},"/AJg":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.convertServerSideNetworkAdaptionEnumToSignaled=l.convertServerSideNetworkAdaptionEnumFromSignaled=l.serverSideNetworkAdaptionIsNoneOrDefault=l.ServerSideNetworkAdaption=void 0;const S=h("XCDq");var f;(function(s){s[s.Default=0]="Default",s[s.None=1]="None",s[s.BandwidthProbing=2]="BandwidthProbing",s[s.BandwidthProbingAndRemoteVideoQualityAdaption=3]="BandwidthProbingAndRemoteVideoQualityAdaption"})(f=l.ServerSideNetworkAdaption||(l.ServerSideNetworkAdaption={})),l.default=f;function u(s){return s===f.None||s===f.Default}o(u,"serverSideNetworkAdaptionIsNoneOrDefault"),l.serverSideNetworkAdaptionIsNoneOrDefault=u;function g(s){switch(s){case S.SdkServerSideNetworkAdaption.DEFAULT:return f.Default;case S.SdkServerSideNetworkAdaption.NONE:return f.None;case S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return f.BandwidthProbing;case S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION:return f.BandwidthProbingAndRemoteVideoQualityAdaption}}o(g,"convertServerSideNetworkAdaptionEnumFromSignaled"),l.convertServerSideNetworkAdaptionEnumFromSignaled=g;function a(s){switch(s){case f.Default:return S.SdkServerSideNetworkAdaption.DEFAULT;case f.None:return S.SdkServerSideNetworkAdaption.NONE;case f.BandwidthProbing:return S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING;case f.BandwidthProbingAndRemoteVideoQualityAdaption:return S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION}}o(a,"convertServerSideNetworkAdaptionEnumToSignaled"),l.convertServerSideNetworkAdaptionEnumToSignaled=a},"/N6y":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}},"MeetingSessionCredentials");l.default=S},"/U1e":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("wR/T")),u=S(h("dWQL")),g=h("R4Nl"),a=S(h("v9PG")),s=S(h("a16/")),i=S(h("iNgN"));let e=o(class{constructor(n,r){var c,p;if(this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new f.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.enableSVC=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,this.meetingFeatures=new a.default,n){n=g.toLowerCasePropertyNames(n),n.meeting&&(n=n.meeting),this.meetingId=n.meetingid,this.externalMeetingId=n.externalmeetingid,this.urls=new i.default,this.urls.audioHostURL=n.mediaplacement.audiohosturl,this.urls.signalingURL=n.mediaplacement.signalingurl,this.urls.turnControlURL=n.mediaplacement.turncontrolurl,n.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=n.mediaplacement.eventingestionurl);const m=o((d,y)=>{switch(d){case"None":return u.default.VideoDisabled;case"HD":return u.default.VideoResolutionHD;case"FHD":return u.default.VideoResolutionFHD;case"UHD":return u.default.VideoResolutionUHD;default:return y}},"parseVideoResolution");if(((c=n.meetingfeatures)===null||c===void 0?void 0:c.video)!==void 0||((p=n.meetingfeatures)===null||p===void 0?void 0:p.content)!==void 0){const d=n.meetingfeatures.video===void 0?"HD":n.meetingfeatures.video.maxresolution,y=n.meetingfeatures.content===void 0?"FHD":n.meetingfeatures.content.maxresolution;this.meetingFeatures=new a.default(m(d,u.default.VideoResolutionHD),m(y,u.default.VideoResolutionFHD))}}r&&(r=g.toLowerCasePropertyNames(r),r.attendee&&(r=r.attendee),this.credentials=new s.default,this.credentials.attendeeId=r.attendeeid,this.credentials.externalUserId=r.externaluserid,this.credentials.joinToken=r.jointoken)}},"MeetingSessionConfiguration");l.default=e},"/sFY":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{equals(u){return u!==void 0&&this.mid===u.mid&&this.attendeeId===u.attendeeId&&this.streamId===u.streamId&&this.groupId===u.groupId&&this.priority===u.priority&&this.targetBitrateKbps===u.targetBitrateKbps&&this.qualityAdaptationPreference===u.qualityAdaptationPreference}},"SignalingClientVideoSubscriptionConfiguration");l.default=S},"046c":function(j,l,h){"use strict";h.d(l,"a",function(){return f});const S={Shortcut:"shortcut",Event:"event",Webhook:"webhook",Scheduled:"scheduled",External:"external"},f={Shortcut:"shortcut",Event:"event",Webhook:"webhook",Scheduled:"scheduled",External:"external"}},"0JTw":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("HbHZ"));let u=o(class{isConnectionTerminated(){switch(this.type){case f.default.WebSocketFailed:case f.default.WebSocketError:case f.default.WebSocketClosing:case f.default.WebSocketClosed:return!0;default:return!1}}constructor(a,s,i,e,t){this.client=a,this.type=s,this.message=i,this.closeCode=e,this.closeReason=t,this.timestampMs=Date.now()}},"SignalingClientEvent");l.default=u},"0Kz9":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(u,g,a,s){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(p){try{c(s.next(p))}catch(m){t(m)}}o(n,"fulfilled");function r(p){try{c(s.throw(p))}catch(m){t(m)}}o(r,"rejected");function c(p){p.done?e(p.value):i(p.value).then(n,r)}o(c,"step"),c((s=s.apply(u,g||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let f=o(class{mute(g){return S(this,void 0,void 0,function*(){})}stop(){var g;return S(this,void 0,void 0,function*(){(g=this.node)===null||g===void 0||g.disconnect()})}intrinsicDevice(){return S(this,void 0,void 0,function*(){return this.inner})}createAudioNode(g){var a;return S(this,void 0,void 0,function*(){return(a=this.node)===null||a===void 0||a.disconnect(),this.node=yield this.createSingleAudioNode(g),{start:this.node,end:this.node}})}constructor(g){this.inner=g}},"SingleNodeAudioTransformDevice");l.default=f},"0LIx":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("XCDq"),u=S(h("MpTp")),g=S(h("OEM7"));let a=o(class{localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(i){return i>0&&i<1e3?1:Math.trunc(i/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const i=[];return this.currentIndex.sources.forEach(e=>{const t=new g.default;t.attendeeId=e.attendeeId,t.groupId=e.groupId,t.streamId=e.streamId,t.maxBitrateKbps=e.maxBitrateKbps,t.avgBitrateKbps=this.convertBpsToKbps(e.avgBitrateBps),i.push(t)}),i}integrateUplinkPolicyDecision(i){if(i&&i.length){const e=i[0];this.videoStreamDescription.maxBitrateKbps=e.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=e.maxFramerate}}integrateIndexFrame(i){if(this.currentIndex=i,!i)return;const e=new Map;let t=!1;for(const n of i.sources){if(!e.has(n.attendeeId)){e.set(n.attendeeId,n.groupId);continue}const r=e.get(n.attendeeId);r<n.groupId&&(this.logger.warn(`Old group ID ${r} found for attendee ID ${n.attendeeId}, replacing with newer group ID ${n.groupId}`),e.set(n.attendeeId,n.groupId)),t=!0}t&&(this.currentIndex.sources=this.currentIndex.sources.filter(n=>e.get(n.attendeeId)===n.groupId)),this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}integrateSubscribeAckFrame(i){this.currentSubscribeAck=i,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToGroupMap=this.buildSSRCToGroupMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe)}integrateBitratesFrame(i){if(this.currentIndex)for(const e of i.bitrates){const t=this.currentIndex.sources.find(n=>n.streamId===e.sourceStreamId);t!==void 0&&(t.avgBitrateBps=e.avgBitrateBps)}}allStreams(){const i=new u.default;if(this.currentIndex)for(const e of this.currentIndex.sources)i.add(e.streamId);return i}allVideoSendingSourcesExcludingSelf(i){const e=[],t=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const n of this.currentIndex.sources){const{attendeeId:r,externalUserId:c,mediaType:p}=n;r!==i&&p===f.SdkStreamMediaType.VIDEO&&(t.has(r)||(e.push({attendee:{attendeeId:r,externalUserId:c}}),t.add(r)))}return e}streamSelectionUnderBandwidthConstraint(i,e,t,n){const r=new Set;if(this.currentIndex)for(const y of this.currentIndex.sources)y.attendeeId===i||y.mediaType!==f.SdkStreamMediaType.VIDEO||!e.has(y.attendeeId)&&!t.has(y.attendeeId)&&r.add(y.attendeeId);const c=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i),p=new Map;let m=0;c.forEach((y,E)=>{p.set(E,y[0]),m+=y[0].maxBitrateKbps}),m=this.trySelectHighBitrateForAttendees(c,e,m,n,p),this.trySelectHighBitrateForAttendees(c,r,m,n,p);const d=new u.default;for(const y of p.values())d.add(y.streamId);return d}highestQualityStreamFromEachGroupExcludingSelf(i){const e=new u.default;if(this.currentIndex){const t=new Map;for(const n of this.currentIndex.sources)n.attendeeId===i||n.mediaType!==f.SdkStreamMediaType.VIDEO||(!t.has(n.groupId)||n.maxBitrateKbps>t.get(n.groupId).maxBitrateKbps)&&t.set(n.groupId,n);for(const n of t.values())e.add(n.streamId)}return e}numberOfVideoPublishingParticipantsExcludingSelf(i){return this.highestQualityStreamFromEachGroupExcludingSelf(i).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${i}`),"";const t=this.subscribeStreamToAttendeeMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known attendee`),"")}externalUserIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${i}`),"";const t=this.subscribeStreamToExternalUserIdMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(i){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const e=this.streamToAttendeeMap.get(i);return e||(this.logger.info(`stream ID ${i} does not correspond to a known attendee`),"")}attendeeIdForGroupId(i){if(!this.groupIdToAttendeeMap)if(this.currentIndex)this.groupIdToAttendeeMap=this.buildGroupIdToAttendeeMap(this.currentIndex);else return"";const e=this.groupIdToAttendeeMap.get(i);return e||(this.logger.info(`group ID ${i} does not correspond to a known attendee`),"")}groupIdForStreamId(i){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const e of this.currentIndex.sources)if(e.streamId===i)return e.groupId;if(this.indexForSubscribe){for(const e of this.indexForSubscribe.sources)if(e.streamId===i)return e.groupId}}}StreamIdsInSameGroup(i,e){return this.groupIdForStreamId(i)===this.groupIdForStreamId(e)}streamIdForTrack(i){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(i)}streamIdForSSRC(i){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(i)}overrideStreamIdMappings(i,e){if(this.subscribeTrackToStreamMap){for(const[t,n]of this.subscribeTrackToStreamMap.entries())if(i===n){this.subscribeTrackToStreamMap.set(t,e);break}}if(this.subscribeSsrcToStreamMap){for(const[t,n]of this.subscribeSsrcToStreamMap.entries())if(i===n){this.subscribeSsrcToStreamMap.set(t,e);break}}}groupIdForSSRC(i){if(this.subscribeSsrcToGroupMap)return this.subscribeSsrcToGroupMap.get(i)}streamsPausedAtSource(){const i=new u.default;if(this.currentIndex)for(const e of this.currentIndex.pausedAtSourceIds)i.add(e);return i}buildTrackToStreamMap(i){const e=new Map;this.logger.debug(()=>`trackMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.trackLabel,t.streamId);return e}buildSSRCToStreamMap(i){const e=new Map;this.logger.debug(()=>`ssrcMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,t.streamId);return e}buildSSRCToGroupMap(i){const e=new Map;for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,this.groupIdForStreamId(t.streamId));return e}buildStreamToAttendeeMap(i){const e=new Map;if(i)for(const t of i.sources)e.set(t.streamId,t.attendeeId);return e}buildGroupIdToAttendeeMap(i){const e=new Map;for(const t of i.sources)e.set(t.groupId,t.attendeeId);return e}buildStreamExternalUserIdMap(i){const e=new Map;if(i)for(const t of i.sources)t.externalUserId&&e.set(t.streamId,t.externalUserId);return e}trySelectHighBitrateForAttendees(i,e,t,n,r){for(const c of e){if(t>=n)break;if(i.has(c)){const p=i.get(c);for(const m of p.reverse())if(t-r.get(c).maxBitrateKbps+m.maxBitrateKbps<n){t=t-r.get(c).maxBitrateKbps+m.maxBitrateKbps,r.set(c,m);break}}}return t}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i){const e=new Map;if(this.currentIndex)for(const t of this.currentIndex.sources)t.attendeeId===i||t.mediaType!==f.SdkStreamMediaType.VIDEO||(e.has(t.attendeeId)?e.get(t.attendeeId).push(t):e.set(t.attendeeId,[t]));return e.forEach((t,n)=>{t.sort((r,c)=>r.maxBitrateKbps>c.maxBitrateKbps?1:r.maxBitrateKbps<c.maxBitrateKbps?-1:0)}),e}constructor(i){this.logger=i,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.subscribeSsrcToGroupMap=null,this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new g.default,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}},"DefaultVideoStreamIndex");l.default=a},"0NFC":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(c,p,m,d){function y(E){return E instanceof m?E:new m(function(w){w(E)})}return o(y,"adopt"),new(m||(m=Promise))(function(E,w){function k(F){try{N(d.next(F))}catch(P){w(P)}}o(k,"fulfilled");function V(F){try{N(d.throw(F))}catch(P){w(P)}}o(V,"rejected");function N(F){F.done?E(F.value):y(F.value).then(k,V)}o(N,"step"),N((d=d.apply(c,p||[])).next())})},f=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("dWQL")),g=f(h("/U1e")),a=f(h("a16/")),s=f(h("bTau")),i=f(h("6/h7")),e=h("KyYT"),t=f(h("NWIo")),n=f(h("34ho"));let r=o(class{static createContentShareMeetingSessionConfigure(p){const m=new g.default;return m.meetingId=p.meetingId,m.externalMeetingId=p.externalMeetingId,m.urls=p.urls,m.disablePeriodicKeyframeRequestOnContentSender=p.disablePeriodicKeyframeRequestOnContentSender,m.credentials=new a.default,m.credentials.attendeeId=p.credentials.attendeeId+n.default.Modality,m.credentials.externalUserId=p.credentials.externalUserId,m.credentials.joinToken=p.credentials.joinToken+n.default.Modality,m.meetingFeatures=p.meetingFeatures.clone(),m}setContentAudioProfile(p){this.contentAudioVideo.setAudioProfile(p)}enableSimulcastForContentShare(p,m){p?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new t.default(this.contentAudioVideo.logger,m)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}enableSVCForContentShare(p){p?this.contentAudioVideo.configuration.enableSVC=!0:this.contentAudioVideo.configuration.enableSVC=!1}startContentShare(p){return S(this,void 0,void 0,function*(){if(p){if(this.contentAudioVideo.configuration.meetingFeatures.contentMaxResolution===u.default.VideoDisabled){this.contentAudioVideo.logger.info("Could not start content because max content resolution was set to None");return}this.mediaStreamBroker.mediaStream=p;for(let m=0;m<this.mediaStreamBroker.mediaStream.getTracks().length;m++)this.mediaStreamBroker.mediaStream.getTracks()[m].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(p,m){return S(this,void 0,void 0,function*(){const d=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(p,m);return yield this.startContentShare(d),d})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(p=>{e.Maybe.of(p.contentShareDidPause).map(m=>m.call(p))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(p=>{e.Maybe.of(p.contentShareDidUnpause).map(m=>m.call(p))})}setContentShareVideoCodecPreferences(p){this.contentAudioVideo.setVideoCodecSendPreferences(p)}destroy(){return S(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(p){this.observerQueue.add(p)}removeContentShareObserver(p){this.observerQueue.delete(p)}forEachContentShareObserver(p){for(const m of this.observerQueue)i.default.nextTick(()=>{this.observerQueue.has(m)&&p(m)})}audioVideoDidStart(){var p;((p=this.mediaStreamBroker.mediaStream)===null||p===void 0?void 0:p.getVideoTracks().length)>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(p){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(m=>{e.Maybe.of(m.contentShareDidStop).map(d=>d.call(m))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((p,m,d,y)=>{const E=new s.default(p).hasModality(s.default.MODALITY_CONTENT),w=new s.default(p).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!E||!w||!m||this.contentShareTile)return;const k=this.mediaStreamBroker.mediaStream;if(k!=null&&k.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const V=k.getVideoTracks()[0];let N,F;if(V.getSettings){const P=V.getSettings();N=P.width,F=P.height}else{const P=V.getCapabilities();N=P.width,F=P.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,k,N,F,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(V=>{e.Maybe.of(V.contentShareDidStart).map(N=>N.call(V))})})}constructor(p,m,d){this.mediaStreamBroker=p,this.contentAudioVideo=m,this.attendeeAudioVideo=d,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}},"DefaultContentShareController");l.default=r},"0OOd":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isVideoTransformDevice=void 0;function S(f){return!!f&&typeof f=="object"&&"transformStream"in f&&"stop"in f&&"intrinsicDevice"in f}o(S,"isVideoTransformDevice"),l.isVideoTransformDevice=S},"0XZN":function(j,l,h){"use strict";h.d(l,"a",function(){return S});const S={Name:"name",Email:"email",Phone:"phone",Company:"company",Channel:"channel",Stage:"stage",Priority:"priority",DealValue:"deal_value",Owner:"owner",Notes:"notes",DateAdded:"date_added"}},"0YRd":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SDPCandidateType=void 0;var S;(function(f){f.Host="host",f.ServerReflexive="srflx",f.PeerReflexive="prflx",f.Relay="relay"})(S=l.SDPCandidateType||(l.SDPCandidateType={})),l.default=S},"0jNb":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(e,t,n,r){function c(p){return p instanceof n?p:new n(function(m){m(p)})}return o(c,"adopt"),new(n||(n=Promise))(function(p,m){function d(w){try{E(r.next(w))}catch(k){m(k)}}o(d,"fulfilled");function y(w){try{E(r.throw(w))}catch(k){m(k)}}o(y,"rejected");function E(w){w.done?p(w.value):c(w.value).then(d,y)}o(E,"step"),E((r=r.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("CtrA")),g=f(h("hEYi")),a=h("f2XL"),s=f(h("aVV0"));let i=o(class Vf extends s.default{run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(t){if(t.type===g.default.ReceivedSignalFrame&&t.message.type===a.SdkSignalFrame.Type.DATA_MESSAGE)for(const n of t.message.dataMessage.messages){const r=new u.default(n.ingestTimeNs/1e6,n.topic,n.data,n.senderAttendeeId,n.senderExternalUserId,n.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(r)}}validateDataMessage(t,n,r){if(!Vf.TOPIC_REGEX.test(t))throw new Error("Invalid topic");if(n.length>Vf.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(r&&r<0)throw new Error("The life time of the message has to be non negative")}constructor(t){super(t.logger),this.context=t,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(n,r,c)=>{if(this.context.signalingClient.ready()){let p;r instanceof Uint8Array?p=r:typeof r=="string"?p=new TextEncoder().encode(r):p=new TextEncoder().encode(JSON.stringify(r)),this.validateDataMessage(n,p,c);const m=a.SdkDataMessagePayload.create();m.topic=n,m.lifetimeMs=c,m.data=p;const d=a.SdkDataMessageFrame.create();d.messages=[m],this.context.signalingClient.sendDataMessage(d)}else this.context.logger.error("Signaling client is not ready")}}},"SendAndReceiveDataMessagesTask");l.default=i,i.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),i.DATA_SIZE=2048},"1+fu":function(j,l,h){"use strict";var S=h("uRGJ"),f=h("LV2V"),u=h("FLqD"),g=h("IzLi");function a(n,r,c,p,m,d){return Object(g.a)(n)&&Object(g.a)(r)&&(d.set(r,n),Object(u.a)(n,r,void 0,a,d),d.delete(r)),n}o(a,"customDefaultsMerge");var s=a,i=h("dhcM"),e=Object(f.a)(function(n){return n.push(void 0,s),Object(S.a)(i.a,void 0,n)}),t=l.a=e},"10yS":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoLogEvent=void 0;var S;(function(f){f[f.InputAttached=0]="InputAttached",f[f.SendingFailed=1]="SendingFailed",f[f.SendingSuccess=2]="SendingSuccess"})(S=l.VideoLogEvent||(l.VideoLogEvent={})),l.default=S},"18tZ":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.Connect="connect"})(S||(S={})),l.default=S},"1AO7":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(g,a,s,i){function e(t){return t instanceof s?t:new s(function(n){n(t)})}return o(e,"adopt"),new(s||(s=Promise))(function(t,n){function r(m){try{p(i.next(m))}catch(d){n(d)}}o(r,"fulfilled");function c(m){try{p(i.throw(m))}catch(d){n(d)}}o(c,"rejected");function p(m){m.done?t(m.value):e(m.value).then(r,c)}o(p,"step"),p((i=i.apply(g,a||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.VideoFxCanvasOpsManager=void 0;const f=h("Lxy7");let u=o(class{getInferenceInputData(a){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(a,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(a){return S(this,void 0,void 0,function*(){if(this.streamParameters=a,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const s=document.createElement("canvas");s.width=this.streamParameters.width,s.height=this.streamParameters.height,s.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(a){return S(this,void 0,void 0,function*(){const s=a.backgroundReplacement.backgroundImageURL,i=a.backgroundReplacement.defaultColor;if(s)try{const e=yield this.loadImage(s);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(i)})}resizeAndSetReplacementImage(a){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=this.streamParameters.width,s.height=this.streamParameters.height,i.drawImage(a,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}resizeAndSetReplacementColor(a){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=this.streamParameters.width,s.height=this.streamParameters.height,i.fillStyle=a,i.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}loadImage(a){return S(this,void 0,void 0,function*(){const i=yield(yield fetch(a).catch(t=>{throw this.logger.error(t.toString()),new Error("Failed to fetch image.")})).blob(),e=new Image;return e.src=URL.createObjectURL(i),new Promise((t,n)=>{e.onload=()=>{t(e)},e.onerror=r=>{n(r)}})})}constructor(a,s){this.streamParameters=a,this.outputCanvas=s,this.configureCanvasPipeline()}},"VideoFxCanvasOpsManager");l.VideoFxCanvasOpsManager=u},"1Cbm":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("8wPz"));let g=o(class{needUpdate(s){return this.activeSpeakers?this.speakerScores[s]===0&&this.activeSpeakers.includes(s)||this.speakerScores[s]>0&&!this.activeSpeakers.includes(s):!0}updateActiveSpeakers(s,i,e){if(!this.needUpdate(e))return;const t=[],n=Object.keys(this.speakerScores);for(let d=0;d<n.length;d++){const y=n[d];t.push({attendeeId:y,activeScore:this.speakerScores[y]})}const r=t.sort((d,y)=>y.activeScore-d.activeScore).filter(function(d){return d.activeScore>0}).map(function(d){return d.attendeeId});this.activeSpeakers=r,i(r);const p=r.length>0&&r[0]===this.selfAttendeeId&&s.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==p&&(this.hasBandwidthPriority=p,this.hasBandwidthPriorityCallback(p))}updateScore(s,i,e,t,n){const r=s.calculateScore(e,t,n);this.speakerScores[e]!==r&&(this.speakerScores[e]=r,this.mostRecentUpdateTimestamp[e]=Date.now(),this.updateActiveSpeakers(s,i,e))}subscribe(s,i,e,t){const n=o((c,p)=>{if(!p){this.speakerScores[c]=0,this.mostRecentUpdateTimestamp[c]=Date.now(),this.updateActiveSpeakers(s,i,c);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(c,(m,d,y,E)=>{this.mostRecentUpdateTimestamp[m]=Date.now(),y!==null&&(this.speakerMuteState[m]=y),this.updateScore(s,i,m,d,y)})},"handler");this.detectorCallbackToHandler.set(i,n);const r=new u.default(this.updateIntervalMs);if(r.start(()=>{for(const c in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[c]>this.waitIntervalMs&&this.updateScore(s,i,c,0,this.speakerMuteState[c])}),this.detectorCallbackToActivityTimer.set(i,r),e&&t){const c=new u.default(t);c.start(()=>{e(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(i,c)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(n)}unsubscribe(s){const i=this.detectorCallbackToHandler.get(s);this.detectorCallbackToHandler.delete(s),i&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i);const e=this.detectorCallbackToActivityTimer.get(s);e&&(e.stop(),this.detectorCallbackToActivityTimer.delete(s));const t=this.detectorCallbackToScoresTimer.get(s);t&&(t.stop(),this.detectorCallbackToHandler.delete(s))}destroy(){return S(this,void 0,void 0,function*(){for(const s of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(s);for(const s of this.detectorCallbackToActivityTimer.values())s.stop();for(const s of this.detectorCallbackToScoresTimer.values())s.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}constructor(s,i,e,t=1e3,n=200){this.realtimeController=s,this.selfAttendeeId=i,this.hasBandwidthPriorityCallback=e,this.waitIntervalMs=t,this.updateIntervalMs=n,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}},"DefaultActiveSpeakerDetector");l.default=g},"1GR6":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("oHvd"));let u=o(class extends f.default{isSendingAudioUnhealthy(){const a=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),s=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return a&&s}health(){if(this.isSendingAudioUnhealthy()){const a=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!a?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}constructor(a,s,i){super(s,i,"Sending Audio Health"),this.logger=a,this.sendingAudioFailureSamplesToConsider=s.sendingAudioFailureSamplesToConsider>0?s.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=s.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=s.maximumTimesToWarn,this.coolDownTimeMs=s.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}},"SendingAudioFailureConnectionHealthPolicy");l.default=u},"1J7j":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(r,c,p,m){function d(y){return y instanceof p?y:new p(function(E){E(y)})}return o(d,"adopt"),new(p||(p=Promise))(function(y,E){function w(N){try{V(m.next(N))}catch(F){E(F)}}o(w,"fulfilled");function k(N){try{V(m.throw(N))}catch(F){E(F)}}o(k,"rejected");function V(N){N.done?y(N.value):d(N.value).then(w,k)}o(V,"step"),V((m=m.apply(r,c||[])).next())})},f=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("v8aG")),g=f(h("bTau")),a=f(h("CLOt")),s=f(h("hEYi")),i=h("f2XL"),e=h("KyYT"),t=f(h("aVV0"));let n=o(class extends t.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(c){if(c.type!==s.default.ReceivedSignalFrame||c.message.type!==i.SdkSignalFrame.Type.INDEX)return;const p=c.message.index;this.context.logger.info(`received new index ${JSON.stringify(p)}`),this.handleIndexFrame(p)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(c){if(!c)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=c;return}else this.pendingIndex=null;const p=this.context.audioVideoController.configuration.credentials.attendeeId;c.sources=c.sources.filter(k=>{const V=new g.default(k.attendeeId);return!(V.base()===p&&V.hasModality(g.default.MODALITY_CONTENT))});const{videoStreamIndex:m,videoDownlinkBandwidthPolicy:d,videoUplinkBandwidthPolicy:y}=this.context,E=m.allVideoSendingSourcesExcludingSelf(p);m.integrateIndexFrame(c),d.updateIndex(m),y.updateIndex(m),this.resubscribe(d,y),this.updateVideoAvailability(c),this.handleIndexVideosPausedAtSource(),c.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(c);const w=m.allVideoSendingSourcesExcludingSelf(p);this.areVideoSourcesEqual(E,w)||this.context.audioVideoController.forEachObserver(k=>{e.Maybe.of(k.remoteVideoSourcesDidChange).map(V=>V.bind(k)(w))})}areVideoSourcesEqual(c,p){if(c.length!==p.length)return!1;const m=o((E,w)=>E.attendee.attendeeId.localeCompare(w.attendee.attendeeId),"compare"),d=[...c].sort(m),y=[...p].sort(m);for(let E=0;E<d.length;E++)if(d[E].attendee.attendeeId!==y[E].attendee.attendeeId)return!1;return!0}resubscribe(c,p){const m=c.wantsResubscribe(),d=(this.context.videoDuplexMode===i.SdkStreamServiceType.TX||this.context.videoDuplexMode===i.SdkStreamServiceType.DUPLEX)&&p.wantsResubscribe(),y=m||d;if(this.logger.info(`should resubscribe: ${y} (downlink: ${m} uplink: ${d})`),!y)return;const E=c.chooseSubscriptions();this.context.videosToReceive=E.truncate(this.context.videoSubscriptionLimit),E.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=p.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${d} down=${m}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(c){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const p=new u.default;p.remoteVideoAvailable=!this.context.videosToReceive.empty(),p.canStartLocalVideo=!c.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(p))&&(this.context.lastKnownVideoAvailability=p.clone(),this.context.audioVideoController.forEachObserver(m=>{e.Maybe.of(m.videoAvailabilityDidChange).map(d=>d.bind(m)(p.clone()))}))}handleSupportedVideoReceiveCodecIntersection(c){if(this.context.videoSendCodecPreferences===void 0)return;const p=[];let m=!1;for(const d of this.context.videoSendCodecPreferences){let y=!1;for(const E of c.supportedReceiveCodecIntersection)if(d.equals(a.default.fromSignaled(E))){y=!0,p.push(d);break}this.context.currentVideoSendCodec!==void 0&&!y&&d.equals(this.context.currentVideoSendCodec)&&(m=!0)}p.length>0?this.context.meetingSupportedVideoSendCodecPreferences=p:(this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0),this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs&&this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs(this.context.meetingSupportedVideoSendCodecPreferences,this.context.videoSendCodecPreferences),m&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const c=this.context.videoStreamIndex.streamsPausedAtSource();for(const p of this.context.videoTileController.getAllVideoTiles()){const m=p.state();c.contain(m.streamId)?p.markPoorConnection()&&this.logger.info(`marks the tile ${m.tileId} as having a poor connection`):p.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${m.tileId} as having a poor connection`)}}constructor(c){super(c.logger),this.context=c,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}},"ReceiveVideoStreamIndexTask");l.default=n},"1ZHK":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{addObserver(u){this.observers.add(u)}removeObserver(u){this.observers.delete(u)}onFallback(u,g){var a;for(const s of this.observers)(a=s.voiceFocusFellBackToInnerStream)===null||a===void 0||a.call(s,u,g)}onCPUWarning(){var u;for(const g of this.observers)(u=g.voiceFocusInsufficientResources)===null||u===void 0||u.call(g)}constructor(){this.observers=new Set}},"VoiceFocusTransformDeviceDelegate");l.default=S},"1i73":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("MpTp"));let u=o(class{reset(){}updateIndex(a){}updateMetrics(a){}wantsResubscribe(){return!1}chooseSubscriptions(){return new f.default}},"NoVideoDownlinkBandwidthPolicy");l.default=u},"1uai":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;let S=o(class{resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptions=null,this.videoSubscriptionLimit=l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null}constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptionLimit=l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}},"AudioVideoControllerState");l.default=S},"25+x":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Sa54"));let g=o(class cS{getInnerDevice(){return this.device}mute(i){return S(this,void 0,void 0,function*(){this.node&&(i?yield this.node.disable():yield this.node.enable())})}stop(){return S(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(i){return S(this,void 0,void 0,function*(){return this.device===i&&!a(i)?this:new cS(i,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return S(this,void 0,void 0,function*(){if(this.failed)return this.device;const i=this.nodeOptions.es,e={echoCancellation:!i,googEchoCancellation:!i,googEchoCancellation2:!i,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let t;return this.nodeOptions&&this.nodeOptions.agc!==void 0?t=this.nodeOptions.agc.useBuiltInAGC:t=!0,e.autoGainControl=t,e.googAutoGainControl=t,e.googAutoGainControl2=t,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?e.deviceId=this.device:e.deviceId={exact:this.device},e):this.device.id?this.device:Object.assign(Object.assign({},this.device),e):e})}createAudioNode(i){var e,t;return S(this,void 0,void 0,function*(){if(((e=this.node)===null||e===void 0?void 0:e.context)===i)return{start:this.node,end:this.node};const r=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((t=this.node)===null||t===void 0||t.disconnect(),this.node=yield this.voiceFocus.createNode(i,r),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(i,{channelCount:1,channelCountMode:"explicit"});for(const m of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(m);this.createMixSourceNode()}const c=this.node,p=this.node;return{start:c,end:p}}catch(c){throw this.failed=!0,this.delegate.onFallback(this,c),c}})}observeMeetingAudio(i){return S(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.addAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.addFarEndStream(e)})}unObserveMeetingAudio(i){return S(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.removeAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.removeFarendStream(e)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}addFarEndStream(i){return S(this,void 0,void 0,function*(){!this.nodeOptions.es||!i||this.farEndStreamToAudioSourceNode.has(i)||(this.node?this.assignFarEndStreamToAudioSourceNode(i):this.farEndStreamToAudioSourceNode.set(i,null))})}removeFarendStream(i){var e;return S(this,void 0,void 0,function*(){(e=this.farEndStreamToAudioSourceNode.get(i))===null||e===void 0||e.disconnect(),this.farEndStreamToAudioSourceNode.delete(i)})}meetingAudioStreamBecameActive(i){return S(this,void 0,void 0,function*(){this.addFarEndStream(i)})}meetingAudioStreamBecameInactive(i){return S(this,void 0,void 0,function*(){this.removeFarendStream(i)})}assignFarEndStreamToAudioSourceNode(i){const e=this.node.context.createMediaStreamSource(i);e.channelCount=1,e.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(i,e),e.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}constructor(i,e,t,n,r=!1,c=void 0,p=new u.default,m=new Map,d=void 0,y=void 0){this.device=i,this.voiceFocus=e,this.delegate=t,this.nodeOptions=n,this.failed=r,this.node=c,this.browserBehavior=p,this.farEndStreamToAudioSourceNode=m,this.mixDestNode=d,this.mixSourceNode=y}},"VoiceFocusTransformDevice");function a(s){return s==="default"?!0:!s||typeof s!="object"?!1:"deviceId"in s&&s.deviceId==="default"||"id"in s&&s.id==="default"}o(a,"isDefaultDevice"),l.default=g},"2Bsk":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckContentShareConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied",f[f.TimedOut=3]="TimedOut",f[f.ConnectionFailed=4]="ConnectionFailed"})(S=l.CheckContentShareConnectivityFeedback||(l.CheckContentShareConnectivityFeedback={})),l.default=S},"2IS5":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0}),l.TranscriptEventConverter=void 0;const f=h("XCDq"),u=S(h("VPK4")),g=S(h("PbSJ")),a=S(h("HrOX")),s=S(h("QPT4")),i={[f.SdkTranscriptionStatus.Type.STARTED]:a.default.STARTED,[f.SdkTranscriptionStatus.Type.INTERRUPTED]:a.default.INTERRUPTED,[f.SdkTranscriptionStatus.Type.RESUMED]:a.default.RESUMED,[f.SdkTranscriptionStatus.Type.STOPPED]:a.default.STOPPED,[f.SdkTranscriptionStatus.Type.FAILED]:a.default.FAILED};let e=o(class{static from(n){let r;try{r=f.SdkTranscriptFrame.decode(n.data)}catch(p){throw new Error("Cannot decode transcript data message: "+p)}const c=[];for(const p of r.events)if(p.status){const m=i[p.status.type];if(!m)continue;const d=new g.default;d.type=m,d.eventTimeMs=p.status.eventTime,d.transcriptionRegion=p.status.transcriptionRegion,d.transcriptionConfiguration=p.status.transcriptionConfiguration,p.status.message&&(d.message=p.status.message),c.push(d)}else if(p.transcript){const m=new u.default;m.results=[];for(const d of p.transcript.results){const y={channelId:d.channelId,isPartial:d.isPartial,resultId:d.resultId,startTimeMs:d.startTime,endTimeMs:d.endTime,alternatives:[]};if(d.languageCode&&(y.languageCode=d.languageCode),d.languageIdentification&&d.languageIdentification.length>0){y.languageIdentification=[];for(const E of d.languageIdentification){const w={languageCode:E.languageCode,score:E.score};y.languageIdentification.push(w)}}for(const E of d.alternatives){const w={items:[],transcript:E.transcript};for(const k of E.items){const V={content:k.content,attendee:{attendeeId:k.speakerAttendeeId,externalUserId:k.speakerExternalUserId},startTimeMs:k.startTime,endTimeMs:k.endTime,type:null};switch(k.vocabularyFilterMatch&&(V.vocabularyFilterMatch=k.vocabularyFilterMatch),k.hasOwnProperty("stable")&&(V.stable=k.stable),k.hasOwnProperty("confidence")&&(V.confidence=k.confidence),k.type){case f.SdkTranscriptItem.Type.PRONUNCIATION:V.type=s.default.PRONUNCIATION;break;case f.SdkTranscriptItem.Type.PUNCTUATION:V.type=s.default.PUNCTUATION;break}w.items.push(V)}for(const k of E.entities){w.entities||(w.entities=[]);const V={category:k.category,confidence:k.confidence,content:k.content,startTimeMs:k.startTime,endTimeMs:k.endTime};k.type&&(V.type=k.type),w.entities.push(V)}y.alternatives.push(w)}m.results.push(y)}c.push(m)}return c}},"TranscriptEventConverter");l.TranscriptEventConverter=e},"2ZyS":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.RawSha256=void 0;var S=h("V7js"),f=function(){function u(){this.state=Int32Array.from(S.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o(u,"RawSha2561"),u.prototype.update=function(g){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,s=g.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>S.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=g[a++],s--,this.bufferLength===S.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},u.prototype.digest=function(){if(!this.finished){var g=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(a.setUint8(this.bufferLength++,128),s%S.BLOCK_SIZE>=S.BLOCK_SIZE-8){for(var i=this.bufferLength;i<S.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<S.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(S.BLOCK_SIZE-8,Math.floor(g/4294967296),!0),a.setUint32(S.BLOCK_SIZE-4,g),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(S.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},u.prototype.hashBuffer=function(){for(var g=this,a=g.buffer,s=g.state,i=s[0],e=s[1],t=s[2],n=s[3],r=s[4],c=s[5],p=s[6],m=s[7],d=0;d<S.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(a[d*4]&255)<<24|(a[d*4+1]&255)<<16|(a[d*4+2]&255)<<8|a[d*4+3]&255;else{var y=this.temp[d-2],E=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[d-15];var w=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[d]=(E+this.temp[d-7]|0)+(w+this.temp[d-16]|0)}var k=(((r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7))+(r&c^~r&p)|0)+(m+(S.KEY[d]+this.temp[d]|0)|0)|0,V=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;m=p,p=c,c=r,r=n+k|0,n=t,t=e,e=i,i=k+V|0}s[0]+=i,s[1]+=e,s[2]+=t,s[3]+=n,s[4]+=r,s[5]+=c,s[6]+=p,s[7]+=m},u}();l.RawSha256=f},"2ede":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DeferredPromise=void 0;let S=o(class{getPromise(){return this.promise}resolvePromise(u){this.resolve(u)}resolveAndReplacePromise(u){this.resolve(u),this.promise=new Promise((g,a)=>{this.resolve=g,this.reject=a})}rejectPromise(u){this.reject(u)}rejectAndReplacePromise(u){this.reject(u),this.promise=new Promise((g,a)=>{this.resolve=g,this.reject=a})}constructor(){this.promise=new Promise((u,g)=>{this.resolve=u,this.reject=g})}},"DeferredPromise");l.DeferredPromise=S},"2nae":function(j,l,h){"use strict";var S=this&&this.__createBinding||(Object.create?function(Re,Ce,_e,et){et===void 0&&(et=_e),Object.defineProperty(Re,et,{enumerable:!0,get:function(){return Ce[_e]}})}:function(Re,Ce,_e,et){et===void 0&&(et=_e),Re[et]=Ce[_e]}),f=this&&this.__setModuleDefault||(Object.create?function(Re,Ce){Object.defineProperty(Re,"default",{enumerable:!0,value:Ce})}:function(Re,Ce){Re.default=Ce}),u=this&&this.__importStar||function(Re){if(Re&&Re.__esModule)return Re;var Ce={};if(Re!=null)for(var _e in Re)_e!=="default"&&Object.prototype.hasOwnProperty.call(Re,_e)&&S(Ce,Re,_e);return f(Ce,Re),Ce},g=this&&this.__awaiter||function(Re,Ce,_e,et){function tt(ht){return ht instanceof _e?ht:new _e(function(gt){gt(ht)})}return o(tt,"adopt"),new(_e||(_e=Promise))(function(ht,gt){function zt(Qt){try{sn(et.next(Qt))}catch(Vi){gt(Vi)}}o(zt,"fulfilled");function cn(Qt){try{sn(et.throw(Qt))}catch(Vi){gt(Vi)}}o(cn,"rejected");function sn(Qt){Qt.done?ht(Qt.value):tt(Qt.value).then(zt,cn)}o(sn,"step"),sn((et=et.apply(Re,Ce||[])).next())})},a=this&&this.__importDefault||function(Re){return Re&&Re.__esModule?Re:{default:Re}};Object.defineProperty(l,"__esModule",{value:!0});const s=a(h("1Cbm")),i=a(h("WHnE")),e=a(h("SO8M")),t=a(h("Sa54")),n=a(h("RfPO")),r=a(h("8dVZ")),c=a(h("dWQL")),p=a(h("6Bxv")),m=a(h("lUhs")),d=a(h("v8aG")),y=a(h("bTau")),E=a(h("ML5K")),w=a(h("gTDO")),k=a(h("6/h7")),V=a(h("9ETa")),N=a(h("JHsX")),F=a(h("I0Bj")),P=a(h("87Nr")),B=a(h("jP1N")),O=u(h("DUgj")),R=a(h("hEYi")),D=a(h("/sFY")),J=h("f2XL"),X=a(h("R9j3")),$=a(h("5ViG")),he=a(h("yMiq")),Ee=a(h("teem")),ke=a(h("Fyq9")),ve=a(h("7W6Z")),Be=a(h("N9oo")),pt=a(h("xJ9D")),Ve=a(h("FCN7")),bt=a(h("curu")),lt=a(h("3Ft5")),mt=a(h("mjQB")),xt=a(h("mv1L")),at=a(h("LNXf")),Mt=a(h("LhvI")),kt=a(h("WRer")),Xe=a(h("cizm")),on=a(h("5z6C")),Wn=a(h("1J7j")),_n=a(h("0jNb")),On=a(h("8tla")),Xn=a(h("ohOv")),ci=a(h("CRwe")),Qn=a(h("ZPwG")),Kn=a(h("L+i+")),Ki=a(h("yqyw")),ui=a(h("IBi3")),Fi=a(h("riOr")),zi=a(h("OND3")),qt=a(h("NUAg")),Tn=h("KyYT"),vn=a(h("XJrD")),Ot=a(h("nYR4")),bn=a(h("5mR7")),Lt=h("P7D+"),jn=a(h("Zkgh")),Xi=a(h("ldli")),Gn=a(h("nq15")),Ti=a(h("+D+n")),Tr=a(h("rcF0")),er=a(h("LUct")),cr=a(h("hhlX")),fi=a(h("P3Bx")),Wi=a(h("rEUf"));let Zn=o(class Vc{destroy(){return g(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new s.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(Ce){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(Ce):null}setAudioProfile(Ce){this._audioProfile=Ce}addObserver(Ce){this.logger.info("adding meeting observer"),this.observerQueue.add(Ce)}removeObserver(Ce){this.logger.info("removing meeting observer"),this.observerQueue.delete(Ce)}forEachObserver(Ce){for(const _e of this.observerQueue)k.default.nextTick(()=>{this.observerQueue.has(_e)&&Ce(_e)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new Wi.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new t.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.audioProfile=this._audioProfile,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new B.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const Ce=o(()=>g(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}),"handleClosed");this.preStartObserver={handleSignalingClientEvent(_e){_e.type===R.default.WebSocketClosed&&Ce()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(Ce=>{this.logger.error(`Signaling task pre-start failed: ${Ce}`),this.signalingTask=void 0})}start(Ce){this.startReturningPromise(Ce).then(()=>{this.logger.info("start completed")}).catch(_e=>{this.logger.error(`start failed: ${_e}`)})}startReturningPromise(Ce){return(Ce==null?void 0:Ce.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((_e,et)=>{this.sessionStateController.perform(N.default.Connect,()=>{this.actionConnect(!1).then(_e).catch(et)})}))}connectWithPromises(Ce){const _e=this.meetingSessionContext,et=o((tr,Si)=>new Kn.default(this.logger,Si,tr),"timeout");this.monitorTask=new lt.default(_e,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const tt=this.monitorTask.once(),ht=new Mt.default(_e).once();this.receiveIndexTask=new Wn.default(_e),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const gt=new On.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new bt.default(_e),new _n.default(_e),new pt.default(_e),new Xe.default(_e),this.receiveIndexTask]).once(),zt=new ke.default(_e).once(gt),cn=new $.default(_e).once(zt,ht),sn=new ve.default(_e).once(cn),Qt=new Xn.default(_e).once(sn),Vi=new Be.default(_e).once(Qt),Ci=new Qn.default(_e).once(Vi),gr=new kt.default(_e).once(Ci);return new On.default(this.logger,this.wrapTaskName("AudioVideoStart"),[tt,et(this.configuration.connectionTimeoutMs,new On.default(this.logger,"Peer",[Ci,gr,Ce?new Kn.default(this.logger,new xt.default(this.logger,"FinalizeConnection",[new Ki.default(_e),new ci.default(_e)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new ci.default(_e)]))])}actionConnect(Ce){var _e;return g(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new t.default().hasChromiumWebRTC(),this.enableSimulcast&&this.configuration.enableSVC&&this.logger.warn("SVC cannot be enabled at the same time as simulcast. Disabling SVC, using simulcast."),this.enableSVC=!this.enableSimulcast&&this.configuration.enableSVC&&new t.default().supportsScalableVideoCoding();const et=!!this.configuration.urls.audioHostURL;if(et?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new y.default(this.configuration.credentials.attendeeId).hasModality(y.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Fi.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext):this.meetingSessionContext.transceiverController=new zi.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new ui.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new qt.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)),this.meetingSessionContext.volumeIndicatorAdapter=new fi.default(this.logger,this._realtimeController,Vc.MIN_VOLUME_DECIBELS,Vc.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.meetingSessionContext.enableSVC=this.enableSVC,this.enableSimulcast){let gt=this.meetingSessionContext.videoUplinkBandwidthPolicy;gt||(gt=new er.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=gt),gt.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new bn.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new Gn.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new Xi.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new cr.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior),this.meetingSessionContext.videoUplinkBandwidthPolicy.setSVCEnabled(this.enableSVC)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new Ot.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;if(new y.default(this.configuration.credentials.attendeeId).hasModality(y.default.MODALITY_CONTENT)){const gt=this.configuration.meetingFeatures.contentMaxResolution===c.default.VideoResolutionUHD;gt&&this.setVideoMaxBandwidthKbps(2500),this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(gt)}else{const gt=this.configuration.meetingFeatures.videoMaxResolution===c.default.VideoResolutionFHD;this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(gt)}this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver(()=>this.update({needsRenegotiation:!1})),this.meetingSessionContext.lastKnownVideoAvailability=new d.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new vn.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new jn.default,this.meetingSessionContext.videosPaused=new jn.default,this.meetingSessionContext.statsCollector=new X.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new r.default(this,this._realtimeController,this.connectionHealthData,new E.default(this.meetingSessionContext.signalingClient,Vc.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},Ce||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(gt=>{Tn.Maybe.of(gt.audioVideoDidStartConnecting).map(zt=>zt.bind(gt)(!1))}),(_e=this.eventController)===null||_e===void 0||_e.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const tt=et&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+tt);const ht=this.connectWithPromises(tt);try{yield ht.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(N.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(gt){this.signalingTask=void 0;const zt=new p.default(this.getMeetingStatusCode(gt)||m.default.TaskFailed);if(this.logger.info(`Start failed: ${zt} due to error ${gt}.`),this.sessionStateController.state()===F.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(N.default.Fail,()=>g(this,void 0,void 0,function*(){yield this.actionDisconnect(zt,!0,gt),this.handleMeetingSessionStatus(zt,gt)||this.notifyStop(zt,gt)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new Kn.default(this.logger,new mt.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=J.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver(Ce=>{Tn.Maybe.of(Ce.audioVideoDidStart).map(_e=>_e.bind(Ce)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var Ce;return this.sessionStateController.state()===F.default.NotConnected?((Ce=this.meetingSessionContext.signalingClient)===null||Ce===void 0||Ce.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((_e,et)=>{this.sessionStateController.perform(N.default.Disconnect,()=>{this._reconnectController.disableReconnect(),this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new p.default(m.default.Left),!1,null).then(_e).catch(et)})})}stop(){this.stopReturningPromise()}actionDisconnect(Ce,_e,et){return g(this,void 0,void 0,function*(){try{yield new On.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new Kn.default(this.logger,new Ve.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const tt=[new Kn.default(this.logger,new Ee.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new On.default(this.logger,this.wrapTaskName("AudioVideoClean"),tt).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(N.default.FinishDisconnecting,()=>{_e||this.notifyStop(Ce,et)})})}update(){let _e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{needsRenegotiation:!0}).needsRenegotiation;if(_e||(_e=this.meetingSessionContext.peer===void 0),_e||(_e=!this.updateRemoteVideosFromPolicy()),_e||(_e=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!_e)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const et=this.sessionStateController.perform(N.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return et===P.default.Transitioned||et===P.default.DeferredTransition}updateRemoteVideosFromPolicy(){if(this.meetingSessionContext.videoDownlinkBandwidthPolicy&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!O.serverSideNetworkAdaptionIsNoneOrDefault(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())){if(!this.sendRemoteVideoUpdate())return!1;if(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()===O.default.BandwidthProbingAndRemoteVideoQualityAdaption)return this.isNotAddingOrRemovingStreams()}return this.updateRemoteVideosIfNotAddingOrRemovingStreams()}updateRemoteVideosIfNotAddingOrRemovingStreams(){const Ce=this.detectChangesInVideosToReceive();if(Ce===void 0)return!1;const _e=Ce.added,et=Ce.simulcastStreamUpdates,tt=Ce.removed,ht=this.meetingSessionContext,gt=[];for(const[zt,cn]of et.entries()){const sn=new D.default;if(sn.streamId=cn,sn.attendeeId=ht.videoStreamIndex.attendeeIdForStreamId(cn),sn.mid=ht.transceiverController.getMidForStreamId(zt),sn.mid===void 0)return this.logger.info(`No MID found for stream ID ${zt}, cannot update stream without renegotiation`),!1;if(gt.push(sn),ht.transceiverController.setStreamIdForMid(sn.mid,cn),ht.videoStreamIndex.overrideStreamIdMappings(zt,cn),ht.videoTileController.haveVideoTileForAttendeeId(sn.attendeeId)){const Qt=ht.videoTileController.getVideoTileForAttendeeId(sn.attendeeId);if(!Qt.setStreamId)return!1;Qt.setStreamId(cn)}}return gt.length!==0&&ht.signalingClient.remoteVideoUpdate(gt,[]),_e.length!==0||tt.length!==0?!1:(ht.videoStreamIndex.subscribeFrameSent(),!0)}detectChangesInVideosToReceive(){const Ce=this.meetingSessionContext;if(Ce.videosToReceive===null||!Ce.transceiverController||!Ce.transceiverController.getMidForStreamId||!Ce.transceiverController.setStreamIdForMid||!Ce.videosToReceive.forEach||!Ce.signalingClient.remoteVideoUpdate||!Ce.videoStreamIndex.overrideStreamIdMappings)return;let _e=[];const et=new Map;let tt=[];if(Ce.lastVideosToReceive===null)_e=Ce.videosToReceive.array();else{const ht=Ce.videoStreamIndex;Ce.videosToReceive.forEach(gt=>{if(Ce.lastVideosToReceive.contain(gt))return;let zt=!1;Ce.lastVideosToReceive.forEach(cn=>{zt||ht.StreamIdsInSameGroup(cn,gt)&&(et.set(cn,gt),zt=!0)}),zt||_e.push(gt)}),tt=Ce.lastVideosToReceive.array().filter(gt=>{const zt=Ce.videosToReceive.contain(gt),cn=et.has(gt);return!zt&&!cn})}return this.logger.info(`Request to update remote videos with added: ${_e}, updated: ${[...et.entries()]}, removed: ${tt}`),{added:_e,removed:tt,simulcastStreamUpdates:et}}isNotAddingOrRemovingStreams(){const Ce=this.detectChangesInVideosToReceive();if(Ce===void 0)return!1;const _e=Ce.added,et=Ce.removed;return!(_e.length!==0||et.length!==0)}sendRemoteVideoUpdate(){const Ce=this.meetingSessionContext;if(Ce.videosToReceive===null)return!1;const _e=Ce.videosToReceive.array().map(zt=>Ce.videoStreamIndex.groupIdForStreamId(zt)),et=Lt.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(Ce,_e,Ce.videoDownlinkBandwidthPolicy.getVideoPreferences()),tt=new Map,ht=[];for(const zt of et){let cn=!1;if(!Ce.lastVideoSubscriptionConfiguration.has(zt.groupId))cn=!0;else{const sn=Ce.lastVideoSubscriptionConfiguration.get(zt.groupId);zt.equals(sn)||(this.logger.debug(`${JSON.stringify(zt)} does not equal ${JSON.stringify(sn)}, sending update`),cn=!0)}tt.set(zt.groupId,zt),cn&&ht.push(zt)}Ce.lastVideoSubscriptionConfiguration=tt;const gt=[];if(Ce.lastVideosToReceive!==null){const zt=new Set(_e);for(const cn of Ce.lastVideosToReceive.array()){const sn=Ce.videoStreamIndex.groupIdForStreamId(cn);if(!zt.has(sn)){const Qt=Ce.transceiverController.getMidForGroupId(sn);if(Qt===void 0){Ce.logger.warn(`Could not find MID for group ID to remove: ${sn}`);continue}gt.push(Qt)}}}return(ht.length!==0||gt.length!==0)&&Ce.signalingClient.remoteVideoUpdate(ht,gt),!0}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const Ce=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(Ce)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const Ce=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!Ce||!Ce.headerExtensions?!1:Ce.headerExtensions.some(_e=>_e.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(Ce){const _e=o(()=>g(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),Ce()}),"restartVideo"),et=this.sessionStateController.perform(N.default.Update,()=>{_e()});return et===P.default.Transitioned||et===P.default.DeferredTransition}replaceLocalVideo(Ce){return g(this,void 0,void 0,function*(){if(!Ce||Ce.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const _e=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(_e){const et=_e.state(),tt=Ce.getVideoTracks()[0].getSettings();_e.bindVideoStream(et.boundAttendeeId,!0,Ce,tt.width,tt.height,et.streamId,et.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(Ce.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=Ce,this.logger.info("Local video input is updated")})}replaceLocalAudio(Ce){return g(this,void 0,void 0,function*(){if(!Ce||Ce.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(Ce.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=Ce,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(Ce){return g(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new On.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new on.default(this.meetingSessionContext),new Kn.default(this.logger,new On.default(this.logger,"UpdateSession",[new $.default(this.meetingSessionContext),new ve.default(this.meetingSessionContext),new Xn.default(this.meetingSessionContext),new Be.default(this.meetingSessionContext),new Qn.default(this.meetingSessionContext),new ci.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),Ce&&this.sessionStateController.perform(N.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(_e){this.sessionStateController.perform(N.default.FinishUpdating,()=>{const et=new p.default(this.getMeetingStatusCode(_e)||m.default.TaskFailed);et.statusCode()!==m.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(et,_e)})}})}notifyStop(Ce,_e){var et;if(this.forEachObserver(tt=>{Tn.Maybe.of(tt.audioVideoDidStop).map(ht=>ht.bind(tt)(Ce))}),this.promotedToPrimaryMeeting&&_e&&this.forEachObserver(tt=>{this.promotedToPrimaryMeeting=!1,Tn.Maybe.of(tt.audioVideoWasDemotedFromPrimaryMeeting).map(ht=>ht.bind(tt)(new p.default(m.default.SignalingInternalServerError)))}),this.eventController){const{signalingOpenDurationMs:tt,poorConnectionCount:ht,startTimeMs:gt,iceGatheringDurationMs:zt,attendeePresenceDurationMs:cn,meetingStartDurationMs:sn}=this.meetingSessionContext,Qt={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:gt===null?0:Math.round(Date.now()-gt),meetingStatus:m.default[Ce.statusCode()],signalingOpenDurationMs:tt,iceGatheringDurationMs:zt,attendeePresenceDurationMs:cn,poorConnectionCount:ht,meetingStartDurationMs:sn,retryCount:this.totalRetryCount},Vi=_e&&_e.message||((et=Ce.toString)===null||et===void 0?void 0:et.call(Ce))||"";Qt.meetingDurationMs===0?(Qt.meetingErrorMessage=Vi,delete Qt.meetingDurationMs,delete Qt.attendeePresenceDurationMs,delete Qt.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",Qt)):Ce.isFailure()||Ce.isAudioConnectionFailure()?(Qt.meetingErrorMessage=Vi,this.eventController.publishEvent("meetingFailed",Qt)):this.eventController.publishEvent("meetingEnded",Qt)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const Ce=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(Ce)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(Ce,_e){const et=this._reconnectController.retryWithBackoff(()=>g(this,void 0,void 0,function*(){this.sessionStateController.state()===F.default.NotConnected?this.sessionStateController.perform(N.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(N.default.Reconnect,()=>{this.actionReconnect(Ce)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return et||this.sessionStateController.perform(N.default.Fail,()=>{this.actionDisconnect(Ce,!1,_e)}),et}actionReconnect(Ce){return g(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(_e=>{Tn.Maybe.of(_e.audioVideoDidStartConnecting).map(et=>et.bind(_e)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset();try{yield new On.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new Kn.default(this.logger,new On.default(this.logger,"Media",[new he.default(this.meetingSessionContext),new On.default(this.logger,"Signaling",[new mt.default(this.meetingSessionContext),new pt.default(this.meetingSessionContext),new Xe.default(this.meetingSessionContext)]),new ke.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new on.default(this.meetingSessionContext),new Kn.default(this.logger,new On.default(this.logger,"UpdateSession",[new $.default(this.meetingSessionContext),new ve.default(this.meetingSessionContext),new Xn.default(this.meetingSessionContext),new Be.default(this.meetingSessionContext),new Qn.default(this.meetingSessionContext),new ci.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(N.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:_e,poorConnectionCount:et,startTimeMs:tt,iceGatheringDurationMs:ht,attendeePresenceDurationMs:gt,meetingStartDurationMs:zt}=this.meetingSessionContext,cn={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-tt),meetingStatus:m.default[Ce.statusCode()],signalingOpenDurationMs:_e,iceGatheringDurationMs:ht,attendeePresenceDurationMs:gt,poorConnectionCount:et,meetingStartDurationMs:zt,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",cn)}this.actionFinishConnecting()})}catch(_e){this.sessionStateController.perform(N.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const et=new p.default(this.getMeetingStatusCode(_e)||m.default.TaskFailed);this.handleMeetingSessionStatus(et,_e)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(Ce){return`${Ce}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(Ce){const _e=/the meeting status code: (\d+)/.exec(Ce&&Ce.message);return _e&&_e.length>1?Number.parseInt(_e[1],10):null}enforceBandwidthLimitationForSender(Ce){return g(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(Ce)})}handleMeetingSessionStatus(Ce,_e){if(this.logger.info(`handling status: ${m.default[Ce.statusCode()]}`),Ce.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(Ce),Ce.statusCode()===m.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(Ce.statusCode()===m.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(et=>{Tn.Maybe.of(et.videoSendDidBecomeUnavailable).map(tt=>tt.bind(et)())}),!1;if(Ce.statusCode()===m.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(et=>{Tn.Maybe.of(et.audioVideoWasDemotedFromPrimaryMeeting).map(tt=>tt.bind(et)(Ce))}),!1;if(Ce.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(Ce.isFailure()||Ce.isTerminal())&&this.meetingSessionContext.reconnectController){const et=this.reconnect(Ce,_e);return et?this.logger.warn(`will retry due to status code ${m.default[Ce.statusCode()]}${_e?` and error: ${_e.message}`:""}`):this.logger.error(`failed with status code ${m.default[Ce.statusCode()]}${_e?` and error: ${_e.message}`:""}`),et}return!1}setVideoMaxBandwidthKbps(Ce){if(Ce<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${Ce} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(Ce)),this.maxUplinkBandwidthKbps=Ce}handleHasBandwidthPriority(Ce){return g(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Ce),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const _e=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Ce);const et=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();_e!==et&&(this.logger.info(`video send bandwidth priority ${Ce} max has changed from ${_e} kbps to ${et} kbps`),yield this.enforceBandwidthLimitationForSender(et))}})}pauseReceivingStream(Ce){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([Ce])}resumeReceivingStream(Ce){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([Ce])}setVideoCodecSendPreferences(Ce){this.videoSendCodecPreferences=Ce,this.meetingSessionContext.videoSendCodecPreferences=Ce,this.sessionStateController.state()!==F.default.NotConnected&&this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:Ce}=this.meetingSessionContext;if(!Ce)return this.logger.info("meeting has not started"),[];const _e=this.configuration.credentials.attendeeId;return Ce.allVideoSendingSourcesExcludingSelf(_e)}encodingSimulcastLayersDidChange(Ce){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(_e=>{Tn.Maybe.of(_e.encodingSimulcastLayersDidChange).map(et=>et.bind(_e)(Ce))})}promoteToPrimaryMeeting(Ce){return this.actionPromoteToPrimaryMeeting(Ce)}actionPromoteToPrimaryMeeting(Ce){return g(this,void 0,void 0,function*(){let _e=new p.default(m.default.SignalingRequestFailed);return yield new On.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new Kn.default(this.logger,new at.default(this.meetingSessionContext,Ce,et=>{_e=et}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=_e.statusCode()===m.default.OK,_e})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(Ce=>{Tn.Maybe.of(Ce.audioVideoWasDemotedFromPrimaryMeeting).map(_e=>_e.bind(Ce)(new p.default(m.default.OK)))})}videoInputDidChange(Ce){return g(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(Ce?yield this.replaceLocalVideo(Ce):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(Ce){return g(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!Ce)try{Ce=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(Ce)})}constructor(Ce,_e,et,tt,ht,gt){this._audioProfile=new e.default,this.connectionHealthData=new n.default,this.observerQueue=new Set,this.meetingSessionContext=new Wi.default,this.enableSimulcast=!1,this.enableSVC=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.destroyed=!1,this._logger=_e,this.sessionStateController=new V.default(this._logger),this._configuration=Ce,this._webSocketAdapter=et,this._realtimeController=new w.default(tt),this._realtimeController.realtimeSetLocalAttendeeId(Ce.credentials.attendeeId,Ce.credentials.externalUserId),this._mediaStreamBroker=tt,this._reconnectController=ht,this._videoTileController=new Ti.default(new Tr.default,this,this._logger),this._audioMixController=new i.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=gt}},"DefaultAudioVideoController");l.default=Zn,Zn.MIN_VOLUME_DECIBELS=-42,Zn.MAX_VOLUME_DECIBELS=-14,Zn.PING_PONG_INTERVAL_MS=1e4},"2oFa":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"GlobalMetricReport");l.default=S},"2q7c":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("aVV0"));let u=o(class extends f.default{run(){return this.fn().then(()=>{})}constructor(a,s,i="RunnableTask"){super(a),this.fn=s,this.taskName=i}},"RunnableTask");l.default=u},"2vi8":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("HbHZ")),g=h("XCDq"),a=f(h("j+uH"));let s=o(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((e,t)=>{let n=o(class{cancel(){this.signalingClient.removeObserver(this),t(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(p){if(p.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),e();return}p.type===u.default.ReceivedSignalFrame&&p.message.type===g.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),e())}constructor(p,m){this.signalingClient=p,this.logger=m}},"Interceptor");const r=new n(this.context.signalingClient,this.context.logger);this.taskCanceler=r,this.context.signalingClient.registerObserver(r)})}constructor(e){super(e.logger),this.context=e,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}},"LeaveAndReceiveLeaveAckTask");l.default=s},"2wCG":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"SDPMediaSection");l.default=S},"2xSc":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptEntity");l.default=S},"2y31":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("uctb"));let u=o(class{info(a){}warn(a){}error(a){}debug(a){f.default.DEBUG<this.level||typeof a!="string"&&a()}setLogLevel(a){this.level=a}getLogLevel(){return this.level}constructor(a=f.default.OFF){this.level=a}},"NoOpLogger");l.default=u},"34ho":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.Modality="#content"})(S||(S={})),l.default=S},"3E7f":function(j,l,h){"use strict";j.exports={}},"3EKQ":function(j,l,h){"use strict";(function(S){var f=this&&this.__awaiter||function(n,r,c,p){function m(d){return d instanceof c?d:new c(function(y){y(d)})}return o(m,"adopt"),new(c||(c=Promise))(function(d,y){function E(V){try{k(p.next(V))}catch(N){y(N)}}o(E,"fulfilled");function w(V){try{k(p.throw(V))}catch(N){y(N)}}o(w,"rejected");function k(V){V.done?d(V.value):m(V.value).then(E,w)}o(k,"step"),k((p=p.apply(n,r||[])).next())})},u=this&&this.__rest||function(n,r){var c={};for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&r.indexOf(p)<0&&(c[p]=n[p]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,p=Object.getOwnPropertySymbols(n);m<p.length;m++)r.indexOf(p[m])<0&&Object.prototype.propertyIsEnumerable.call(n,p[m])&&(c[p[m]]=n[p[m]]);return c},g=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(l,"__esModule",{value:!0});const a=g(h("Np2I")),s=g(h("8wPz")),i=g(h("X3Fi")),e=h("R4Nl");let t=o(class dl{addEventListeners(){!this.beaconEventListener||!("window"in S)||!window.addEventListener||!("document"in S)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(r){(r.type==="visibilitychange"&&document.visibilityState==="hidden"||r.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in S)||!window.removeEventListener||!("document"in S)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var r;this.removeEventListeners(),this.addEventListeners(),(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=new s.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var r;(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(r){return f(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(r)}`);const{name:c,ts:p,attributes:m}=r,d=m&&this.filterAttributes(m,this.attributesToFilter),y=Object.assign({name:c,ts:p},d);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(y)}`);const E=this.getSize(y);if(E>dl.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${E} bytes. Item cannot exceed max item size allowed of ${dl.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(c)){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(y)}`),this.sendEventImmediately({name:c,ts:p,attributes:d});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(y),this.ingestionEventSize+=E,this.bufferItemThresholdReached(E)){const w=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(w),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}})}filterAttributes(r,c){const p=new Set(c);return Object.keys(r).filter(d=>p.has(d)).forEach(d=>delete r[d]),r}initializeAndGetCurrentIngestionEvent(){const r={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(r),r}bufferItemThresholdReached(r){return r+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===dl.MAX_PAYLOAD_ITEMS}getSize(r){let c=0;if(typeof r=="object")for(const[p,m]of Object.entries(r))c+=this.getPrimitiveSize(p),c+=this.getSize(m);else c+=this.getPrimitiveSize(r);return c}getPrimitiveSize(r){let c=0;return typeof r=="string"?c+=r.length*2:typeof r=="number"&&(c+=8),c}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.isEmpty()?[]:(r=Math.min(this.buffer.length,r+1),this.buffer.splice(c,r))}makeBeaconRequestBody(r){const c={metadata:this.metadata,events:r,authorization:this.authenticationToken};return JSON.stringify(c)}makeRequestBody(r){const c={metadata:this.metadata,events:r};return JSON.stringify(c)}sendEventImmediately(r){return f(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(r)}`);const{name:c,ts:p,attributes:m}=r,d={type:this.type,v:this.v,payloads:[Object.assign({name:c,ts:p},m)]};let y=!1,E=null;const w=this.makeRequestBody([d]);try{if(E=yield this.send(w),E.ok){try{const k=yield E.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${w}, message: ${JSON.stringify(k)}`)}catch(k){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${k} for event ${w}`)}return}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${w} with response status ${E.status}`),y=!0}catch(k){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${w} to the ingestion endpoint ${k}.`),y=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const V=this.makeBeaconRequestBody([d]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${V}`),navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,V)?y=!1:y=!0}}catch{this.logger.warn(`Event Reporting - Error sending beacon for an important event ${w}`),y=!0}}y&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${w}`),this.failedIngestionEvents.push(d))})}send(r){return f(this,void 0,void 0,function*(){const c=new a.default(dl.RETRY_FIXED_BACKOFF_WAIT_MS,dl.RETRY_SHORT_BACKOFF_MS,dl.RETRY_LONG_BACKOFF_MS);try{let p=0;for(;p<this.retryCountLimit;){const m=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:r});if(m.ok||!dl.SENDING_FAILURE_CODES.has(m.status))return m;if(this.logger.warn(`Will retry sending failure for ${r} due to status code ${m.status}.`),p++,p<this.retryCountLimit){const d=c.nextBackoffAmountMs();yield e.wait(d)}}if(p===this.retryCountLimit)throw new Error(`Retry count limit reached for ${r}`)}catch(p){throw p}})}sendBeacon(){return f(this,void 0,void 0,function*(){const r=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(r)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const p=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);r.push(p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(p)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const p=this.failedIngestionEvents.map(m=>this.deepCopyCurrentIngestionEvent(m));r.push(...p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(p)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(p=>{r.push(...p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(p)}`)}),this.cancellableEvents.clear()),r.length===0)return;const c=this.makeBeaconRequestBody(r);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${c}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,c)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${c}`)}catch(p){this.logger.warn(`Event Reporting - Sending beacon data ${c} failed with error ${p}`)}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return f(this,void 0,void 0,function*(){this.stop(),this.reset()})}constructor(r,c,p,m,d){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=J=>({type:J.type,v:J.v,payloads:[...J.payloads]}),this.sendEvents=()=>f(this,void 0,void 0,function*(){if(this.lock)return;const J=this.getItems(this.flushSize);if(J.length===0)return;this.lock=!0;const X=this.makeRequestBody(J);let $=!1;const he=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(he,J);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${X}`);const Ee=yield this.send(X);if(this.cancellableEvents.delete(he),!Ee.ok)this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${X} with response status ${Ee.status}`),$=!0;else try{const ke=yield Ee.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${X} message: ${JSON.stringify(ke)}`)}catch(ke){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${ke} for events ${X}`)}}catch(Ee){$=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${X} to the ingestion endpoint ${Ee}`)}finally{this.lock=!1}$&&(this.cancellableEvents.delete(he),this.failedIngestionEvents.push(...J))});const y=new i.default(d).getParserResult(),{browserMajorVersion:E}=y,w=u(y,["browserMajorVersion"]),k=c.toJSON(),{type:V,v:N}=k,F=u(k,["type","v"]);this.authenticationToken=c.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},w),F),Object.keys(this.metadata).forEach(J=>this.attributesToFilter.push(J)),this.type=V,this.v=N,this.ingestionURL=p,this.logger=d,this.importantEvents=new Set(m);const{maxBufferCapacityKb:P,totalBufferItems:B,flushSize:O,flushIntervalMs:R,retryCountLimit:D}=r;this.maxBufferCapacityBytes=P*1024,this.totalBufferItems=B,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/B),this.flushIntervalMs=R,this.flushSize=O,this.retryCountLimit=D,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=J=>this.beaconEventHandler(J),this.addEventListeners()}},"InMemoryJSONEventBuffer");l.default=t,t.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),t.RETRY_FIXED_BACKOFF_WAIT_MS=0,t.RETRY_SHORT_BACKOFF_MS=1e3,t.RETRY_LONG_BACKOFF_MS=15e3,t.MAX_PAYLOAD_ITEMS=2,t.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3}).call(this,h("yLpj"))},"3Ft5":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(y,E,w,k){function V(N){return N instanceof w?N:new w(function(F){F(N)})}return o(V,"adopt"),new(w||(w=Promise))(function(N,F){function P(R){try{O(k.next(R))}catch(D){F(D)}}o(P,"fulfilled");function B(R){try{O(k.throw(R))}catch(D){F(D)}}o(B,"rejected");function O(R){R.done?N(R.value):V(R.value).then(P,B)}o(O,"step"),O((k=k.apply(y,E||[])).next())})},f=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("LmyK")),g=f(h("mpmV")),a=f(h("kItj")),s=f(h("LuEC")),i=f(h("pCf5")),e=f(h("6Bxv")),t=f(h("lUhs")),n=f(h("hEYi")),r=h("f2XL"),c=f(h("J+fJ")),p=h("KyYT"),m=f(h("aVV0"));let d=o(class extends m.default{removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(E){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(E){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=E;return}else this.pendingMetricsReport=void 0;const w=E.getObservableMetrics(),k=w.availableOutgoingBitrate,V=w.nackCountReceivedPerSecond;let N=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(E);const F=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(N=N||F,F){const P=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=P.truncate(this.context.videoSubscriptionLimit),P.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${F}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:k/1e3,nackCountPerSecond:V});const P=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();N=N||P,P&&(this.logger.info(`trigger resubscribe for up=${P}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return N}metricsDidReceive(E){if(this.checkResubscribe(E)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const w=E.streamMetricReports,k=new Map;for(const V in w)w[V].mediaType===g.default.VIDEO&&w[V].direction===u.default.DOWNSTREAM&&k.set(w[V].streamId,w[V])}connectionHealthDidChange(E){E.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,E,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,E,()=>{var w;this.context.poorConnectionCount+=1;const k=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(w=this.context.eventController)===null||w===void 0||w.publishEvent("receivingAudioDropped",k),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(V=>{p.Maybe.of(V.connectionDidSuggestStopVideo).map(N=>N.bind(V)())}):this.context.audioVideoController.forEachObserver(V=>{p.Maybe.of(V.connectionDidBecomePoor).map(N=>N.bind(V)())})},()=>{this.context.audioVideoController.forEachObserver(w=>{p.Maybe.of(w.connectionDidBecomeGood).map(k=>k.bind(w)())})}),this.isMeetingConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,E,()=>{var w;const k=this.generateBaseAudioVideoEventAttributes();(w=this.context.eventController)===null||w===void 0||w.publishEvent("sendingAudioFailed",k)},()=>{var w;const k=this.generateBaseAudioVideoEventAttributes();(w=this.context.eventController)===null||w===void 0||w.publishEvent("sendingAudioRecovered",k)})}audioVideoDidStart(){this.isMeetingConnected=!0}audioVideoDidStartConnecting(E){this.isMeetingConnected=!1}audioVideoDidStop(E){this.isMeetingConnected=!1}applyHealthPolicy(E,w,k,V){E.update(w);const N=E.healthIfChanged();N!==null&&(this.logger.info(`${E.name} value is now ${N}`),N<=E.minimumHealth()?p.Maybe.of(k).map(F=>F.bind(this)()):p.Maybe.of(V).map(F=>F.bind(this)()))}handleBitrateFrame(E){this.currentAvailableStreamAvgBitrates=E,E.serverAvailableOutgoingBitrate>0&&(this.logger.info(`Received server side estimation of available incoming bitrate ${E.serverAvailableOutgoingBitrate}kbps`),this.context.statsCollector.overrideObservableMetric("availableIncomingBitrate",E.serverAvailableOutgoingBitrate*1e3))}handleSignalingClientEvent(E){var w;if(E.type===n.default.WebSocketClosed&&(E.closeCode===4410||E.closeCode>=4500&&E.closeCode<4600)||E.type===n.default.WebSocketError||E.type===n.default.WebSocketFailed){if(!this.hasSignalingError){const k=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(w=this.context.eventController)===null||w===void 0||w.publishEvent("signalingDropped",k),this.hasSignalingError=!0}}else E.type===n.default.WebSocketOpen&&(this.hasSignalingError=!1);if(E.type===n.default.ReceivedSignalFrame){if(E.message.type===r.SdkSignalFrame.Type.NOTIFICATION){switch(E.message.notification.level){case r.SdkNotificationFrame.NotificationLevel.INFO:this.logger.info(`Received notification from server: ${E.message.notification.message}`);break;case r.SdkNotificationFrame.NotificationLevel.WARNING:this.logger.warn(`Received warning from server: ${E.message.notification.message}`);break;case r.SdkNotificationFrame.NotificationLevel.ERROR:this.logger.error(`Received error from server: ${E.message.notification.message}`);break;default:this.logger.error(`Received notification from server with unknown level ${E.message.notification.level}: ${E.message.notification.message}`);break}return}if(E.message.bitrates){const V=E.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(V),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(E.message.bitrates)}const k=e.default.fromSignalFrame(E.message);E.message.type!==r.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&k.statusCode()!==t.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(k,null)}}constructor(E,w,k){super(E.logger),this.context=E,this.initialConnectionHealthData=k,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.isMeetingConnected=!1,this.checkAndSendWeakSignalEvent=V=>{const N=V<1,F=this.prevSignalStrength<1,P=N?F?null:c.default.RedmicStartLoss:F?c.default.RedmicEndLoss:null;P&&this.context.statsCollector.logAudioEvent(P),this.prevSignalStrength=V},this.realtimeFatalErrorCallback=V=>{this.logger.error(`realtime error: ${V}: ${V.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.RealtimeApiFailed),V)},this.realtimeAttendeeIdPresenceHandler=(V,N)=>{var F;const P=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${P}`),P===V&&N&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(F=this.context.eventController)===null||F===void 0||F.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:V,startTimeMs:N,iceGatheringDurationMs:F,attendeePresenceDurationMs:P,meetingStartDurationMs:B}=this.context;return{meetingDurationMs:N===null?0:Math.round(Date.now()-N),signalingOpenDurationMs:V,iceGatheringDurationMs:F,attendeePresenceDurationMs:P,meetingStartDurationMs:B}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const V=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},V),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new a.default(E.logger,Object.assign({},w),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new i.default(Object.assign({},w),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new s.default(E.logger,Object.assign({},w),this.initialConnectionHealthData.clone())}},"MonitorTask");l.default=d},"3ZJV":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Czkq"));let u=o(class extends f.default{},"BackgroundReplacementVideoFrameProcessorDelegate");l.default=u},"3i7i":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}constructor(u,g,a,s,i,e){this.timestampMs=u,this.topic=g,this.data=a,this.senderAttendeeId=s,this.senderExternalUserId=i,this.throttled=!!e}},"DataMessage");l.default=S},"3jln":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("ac3q")),u=S(h("z8+u"));let g=o(class{create(s,i,e){this.connection=new WebSocket(e?s:f.default.urlWithVersion(s),i),this.connection.binaryType="arraybuffer"}send(s){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return s instanceof Uint8Array?this.connection.send(s.buffer):this.connection.send(s),!0}catch(i){return this.logger.debug(()=>`send error: ${i.message}, websocket state=${u.default[this.readyState()]}`),!1}}close(s,i){var e;(e=this.connection)===null||e===void 0||e.close(s,i)}destroy(){this.connection=void 0}addEventListener(s,i){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(s,i)}removeEventListener(s,i){var e;(e=this.connection)===null||e===void 0||e.removeEventListener(s,i)}readyState(){if(!this.connection)return u.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return u.default.Connecting;case WebSocket.OPEN:return u.default.Open;case WebSocket.CLOSING:return u.default.Closing;case WebSocket.CLOSED:return u.default.Closed}}constructor(s){this.logger=s}},"DefaultWebSocketAdapter");l.default=g},"3niY":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(u){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(u){}removeMediaStreamBrokerObserver(u){}},"NoOpMediaStreamBroker");l.default=S},"3sEM":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class Ds{static initializeWorker(){Ds.debugLog("Initializing RedundantAudioEncoder");const u=new Ds;self.RTCRtpScriptTransformer&&(self.onrtctransform=g=>{g.transformer.options.type==="SenderTransform"?u.setupSenderTransform(g.transformer.readable,g.transformer.writable):g.transformer.options.type==="ReceiverTransform"?u.setupReceiverTransform(g.transformer.readable,g.transformer.writable):g.transformer.options.type==="PassthroughTransform"&&u.setupPassthroughTransform(g.transformer.readable,g.transformer.writable)}),self.onmessage=g=>{g.data.msgType==="StartRedWorker"?(u.setupSenderTransform(g.data.send.readable,g.data.send.writable),u.setupReceiverTransform(g.data.receive.readable,g.data.receive.writable)):g.data.msgType==="RedPayloadType"?u.setRedPayloadType(g.data.payloadType):g.data.msgType==="OpusPayloadType"?u.setOpusPayloadType(g.data.payloadType):g.data.msgType==="UpdateNumRedundantEncodings"?u.setNumRedundantEncodings(g.data.numRedundantEncodings):g.data.msgType==="Enable"?u.setRedundancyEnabled(!0):g.data.msgType==="Disable"&&u.setRedundancyEnabled(!1)}}static debugLog(u){Ds.shouldLogDebug&&self.postMessage({type:"REDWorkerDebugLog",log:`[AudioRed] ${u}`})}static getNumRedundantEncodingsForPacketLoss(u){let g=0,a=!1;return u<=8?g=0:u<=18?g=1:u<=75?g=2:(g=0,a=!0),[g,a]}setupPassthroughTransform(u,g){Ds.debugLog("Setting up passthrough transform"),u.pipeTo(g)}setupSenderTransform(u,g){Ds.debugLog("Setting up sender RED transform");const a=new TransformStream({transform:this.senderTransform.bind(this)});u.pipeThrough(a).pipeTo(g)}setupReceiverTransform(u,g){Ds.debugLog("Setting up receiver RED transform");const a=new TransformStream({transform:this.receivePacketLogTransform.bind(this)});u.pipeThrough(a).pipeTo(g)}setRedPayloadType(u){this.redPayloadType=u,Ds.debugLog(`red payload type set to ${this.redPayloadType}`)}setOpusPayloadType(u){this.opusPayloadType=u,Ds.debugLog(`opus payload type set to ${this.opusPayloadType}`)}setNumRedundantEncodings(u){this.numRedundantEncodings=u,this.numRedundantEncodings>this.maxRedEncodings&&(this.numRedundantEncodings=this.maxRedEncodings),Ds.debugLog(`Updated numRedundantEncodings to ${this.numRedundantEncodings}`)}setRedundancyEnabled(u){this.redundancyEnabled=u,Ds.debugLog(`redundancy ${this.redundancyEnabled?"enabled":"disabled"}`)}senderTransform(u,g){if(u.getMetadata().payloadType!==this.redPayloadType){g.enqueue(u);return}const s=this.getPrimaryPayload(u.timestamp,u.data);if(!s){g.enqueue(u);return}const i=this.encode(u.timestamp,s);if(!i){g.enqueue(u);return}u.data=i,g.enqueue(u)}getPrimaryPayload(u,g){const a=this.splitEncodings(u,g);return!a||a.length<1?null:a[a.length-1].payload}splitEncodings(u,g){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;const i=new DataView(g);let e=i.byteLength,t=0,n=0,r=0,c=0,p=!1;const m=new Array,d=new Array,y=new Array;for(;e>0;)if(p=(i.getUint8(c)&128)===0,p){if((i.getUint8(c)&127)!==this.opusPayloadType||(t+=this.redLastHeaderSizeBytes,n+=this.redLastHeaderSizeBytes,t>=i.byteLength))return null;r=i.byteLength-t;break}else{if(e<this.redHeaderSizeBytes)return null;const F=((i.getUint8(c+2)&3)<<8)+i.getUint8(c+3);d.push(F);const P=i.getUint16(c+1)>>2,B=u-P;y.push(B),t+=F+this.redHeaderSizeBytes,n+=this.redHeaderSizeBytes,c+=this.redHeaderSizeBytes,e-=this.redHeaderSizeBytes}if(!p)return null;let E=n;for(let F=0;F<y.length;F++){const P=new ArrayBuffer(d[F]);new Uint8Array(P).set(new Uint8Array(i.buffer,E,d[F]),0);const O={timestamp:y[F],payload:P,isRedundant:!0};a&&(O.hasFec=this.opusPacketHasFec(new DataView(P),P.byteLength)),m.push(O),E+=d[F]}const w=i.byteLength-r,k=new ArrayBuffer(r);new Uint8Array(k).set(new Uint8Array(i.buffer,w,r),0);const N={timestamp:u,payload:k,isRedundant:!1,seq:s};return a&&(N.hasFec=this.opusPacketHasFec(new DataView(k),k.byteLength)),m.push(N),m}encode(u,g){const a=g.byteLength;if(a===0||a>=this.maxRedPacketSizeBytes||a>=this.maxAudioRtpPacketSizeBytes)return null;const s=this.numRedundantEncodings;let i=this.redLastHeaderSizeBytes,e=a,t=this.maxAudioRtpPacketSizeBytes-a-i;const n=new Array,r=new Array;if(this.redundancyEnabled){let y=this.uint32WrapAround(u-this.redPacketizationTime*this.redPacketDistance);for(let E=0;E<s&&!(this.uint32WrapAround(u-y)>=this.maxRedTimestampOffset);E++){let w=y,k=this.encodingHistory.find(V=>V.timestamp===w);if(k||(w=this.uint32WrapAround(y-this.redPacketizationTime),k=this.encodingHistory.find(V=>V.timestamp===w)),k){const V=k.payload.byteLength;if(t<this.redHeaderSizeBytes+V)break;t-=this.redHeaderSizeBytes+V,i+=this.redHeaderSizeBytes,e+=V,n.unshift(k.timestamp),r.unshift(k.payload)}y-=this.redPacketizationTime*this.redPacketDistance,y=this.uint32WrapAround(y)}}const c=new ArrayBuffer(i+e),p=new DataView(c);let m=0;for(let y=0;y<n.length;y++){const E=u-n[y];p.setUint8(m,this.opusPayloadType|128),p.setUint16(m+1,E<<2|r[y].byteLength>>8),p.setUint8(m+3,r[y].byteLength&255),m+=this.redHeaderSizeBytes}p.setUint8(m,this.opusPayloadType),m+=this.redLastHeaderSizeBytes;const d=new Uint8Array(c);for(let y=0;y<r.length;y++)d.set(new Uint8Array(r[y]),m),m+=r[y].byteLength;return d.set(new Uint8Array(g),m),m+=g.byteLength,m!==i+e?null:(this.updateEncodingHistory(u,g),c)}updateEncodingHistory(u,g){for(const s of this.encodingHistory){const i=this.redPacketizationTime*this.redMaxRecoveryDistance;if(u-s.timestamp>=i)this.encodingHistory.shift();else break}const a=new DataView(g);(this.opusPacketIsCeltOnly(a)||this.opusPacketHasVoiceActivity(a,a.byteLength)>0)&&(this.encodingHistory.length+1>this.maxEncodingHistorySize&&(this.encodingHistory.length=0),this.encodingHistory.push({timestamp:u,payload:g}))}initializePacketLogs(){const u=this.maxOutOfOrderPacketDistance+this.redMaxRecoveryDistance;this.primaryPacketLog={window:new Array(u),index:0,windowSize:u},this.redRecoveryLog={window:new Array(u),index:0,windowSize:u},this.fecRecoveryLog={window:new Array(u),index:0,windowSize:u},this.totalAudioPacketsExpected=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}receivePacketLogTransform(u,g){const a=u.getMetadata();if(a.payloadType!==this.redPayloadType){g.enqueue(u);return}const s=this.splitEncodings(u.timestamp,u.data,!0,a.sequenceNumber);if(!s){g.enqueue(u);return}for(let i=s.length-1;i>=0;i--)this.updateLossStats(s[i])&&(this.updateRedStats(s[i]),this.updateFecStats(s[i]));this.maybeReportLossStats(s[s.length-1].timestamp,a.synchronizationSource),g.enqueue(u)}updateLossStats(u){if(u.isRedundant)return!0;const g=u.timestamp,a=u.seq;if(this.totalAudioPacketsExpected===0)return this.totalAudioPacketsExpected=1,this.newestSequenceNumber=a,this.addTimestamp(this.primaryPacketLog,g),!0;const s=this.int16(a-this.newestSequenceNumber);return s<-this.maxOutOfOrderPacketDistance?!1:(s<0?this.hasTimestamp(this.primaryPacketLog,g)||(this.totalAudioPacketsLost>0&&this.totalAudioPacketsLost--,this.addTimestamp(this.primaryPacketLog,g),this.removeFromRecoveryWindows(g)):s>1&&(this.totalAudioPacketsLost+=s-1),s>0&&(this.totalAudioPacketsExpected+=s,this.newestSequenceNumber=u.seq,this.addTimestamp(this.primaryPacketLog,g)),!0)}updateRedStats(u){if(!u.isRedundant||this.totalAudioPacketsLost===0)return;const g=u.timestamp;this.hasTimestamp(this.primaryPacketLog,g)||(this.hasTimestamp(this.redRecoveryLog,g)||(this.totalAudioPacketsRecoveredRed++,this.addTimestamp(this.redRecoveryLog,g)),this.removeTimestamp(this.fecRecoveryLog,g)&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--)}updateFecStats(u){if(!u.hasFec||this.totalAudioPacketsLost===0)return;const g=u.timestamp-this.redPacketizationTime;this.hasTimestamp(this.primaryPacketLog,g)||this.hasTimestamp(this.redRecoveryLog,g)||this.hasTimestamp(this.fecRecoveryLog,g)||(this.totalAudioPacketsRecoveredFec++,this.addTimestamp(this.fecRecoveryLog,g))}maybeReportLossStats(u,g){u-this.lastLossReportTimestamp<this.lossReportInterval||(Ds.shouldReportStats&&self.postMessage({type:"RedundantAudioEncoderStats",ssrc:g,totalAudioPacketsLost:this.totalAudioPacketsLost,totalAudioPacketsExpected:this.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.totalAudioPacketsRecoveredFec}),this.lastLossReportTimestamp=u)}addTimestamp(u,g){u.window[u.index]=g,u.index=(u.index+1)%u.windowSize}hasTimestamp(u,g){return!!u.window.find(s=>s===g)}removeTimestamp(u,g){const a=u.window.indexOf(g);return a>=0?(u.window[a]=void 0,!0):!1}removeFromRecoveryWindows(u){let g=this.removeTimestamp(this.redRecoveryLog,u);g&&this.totalAudioPacketsRecoveredRed>0&&this.totalAudioPacketsRecoveredRed--,g=this.removeTimestamp(this.fecRecoveryLog,u),g&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--}uint32WrapAround(u){let a=u;return u>=4294967296?a=u-4294967296:u<0&&(a=4294967296+u),a}int16(u){return u<<16>>16}opusPacketIsCeltOnly(u){return!!(u.getUint8(0)&128)}opusPacketGetSamplesPerFrame(u,g){g=Math.round(g),g=Math.min(Math.max(g,-Math.pow(2,32)),Math.pow(2,32)-1);let a,s;return this.opusPacketIsCeltOnly(u)?(s=u.getUint8(0)>>3&3,a=(g<<s)/400):(u.getUint8(0)&96)===96?a=u.getUint8(0)&8?g/50:g/100:(s=u.getUint8(0)>>3&3,s===3?a=g*60/1e3:a=(g<<s)/100),a}opusNumSilkFrames(u){let g=this.opusPacketGetSamplesPerFrame(u,48e3)/48;switch(g<10&&(g=10),g){case 10:case 20:return 1;case 40:return 2;case 60:return 3;default:return 0}}opusPacketGetNumChannels(u){return u.getUint8(0)&4?2:1}opusParseSize(u,g,a,s){return a<1?(s[0]=-1,-1):u.getUint8(g)<252?(s[0]=u.getUint8(g),1):a<2?(s[0]=-1,-1):(s[0]=4*u.getUint8(g+1)+u.getUint8(g),2)}opusPacketParseImpl(u,g,a,s,i,e,t,n){if(!e||g<0)return this.OPUS_BAD_ARG;if(g===0)return this.OPUS_INVALID_PACKET;let r,c,p=0,m=!1;const d=u.getUint8(0);s&&(s[0]=d);let y=g-1,E=1,w=y;switch(d&3){case 0:r=1;break;case 1:if(r=2,m=!0,!a){if(y&1)return this.OPUS_INVALID_PACKET;w=y/2,e[0][0]=w}break;case 2:if(r=2,c=this.opusParseSize(u,E,y,e[0]),y-=c,e[0][0]<0||e[0][0]>y)return this.OPUS_INVALID_PACKET;E+=c,w=y-e[0][0];break;default:if(y<1)return this.OPUS_INVALID_PACKET;const k=u.getUint8(E++);if(--y,r=k&63,r<=0)return this.OPUS_INVALID_PACKET;if(this.opusPacketGetSamplesPerFrame(u,48e3)*r>5760)return this.OPUS_INVALID_PACKET;if(k&64){let N,F;do{if(y<=0)return this.OPUS_INVALID_PACKET;N=u.getUint8(E++),--y,F=N===255?254:N,y-=F,p+=F}while(N===255)}if(y<0)return this.OPUS_INVALID_PACKET;if(m=!(k&128),m){if(!a){if(w=Math.trunc(y/r),w*r!==y)return this.OPUS_INVALID_PACKET;for(let N=0;N<r-1;++N)e[N][0]=w}}else{w=y;for(let N=0;N<r-1;++N){if(c=this.opusParseSize(u,E,y,e[N]),y-=c,e[N][0]<0||e[N][0]>y)return this.OPUS_INVALID_PACKET;E+=c,w-=c+e[N][0]}if(w<0)return this.OPUS_INVALID_PACKET}}if(a){if(c=this.opusParseSize(u,E,y,e[r-1]),y-=c,e[r-1][0]<0||e[r-1][0]>y)return this.OPUS_INVALID_PACKET;if(E+=c,m){if(e[r-1][0]*r>y)return this.OPUS_INVALID_PACKET;for(let k=0;k<r-1;++k)e[k][0]=e[r-1][0]}else if(!(c+e[r-1][0]<=w))return this.OPUS_INVALID_PACKET}else{if(w>this.OPUS_MAX_FRAME_SIZE_BYTES)return this.OPUS_INVALID_PACKET;e[r-1][0]=w}t&&(t[0]=E);for(let k=0;k<r;++k)i&&(i[k][0]=E),E+=e[k][0];return n&&(n[0]=E+p),r}opusPacketParse(u,g,a,s,i,e){return this.opusPacketParseImpl(u,g,!1,a,s,i,e,null)}opusPacketHasVoiceActivity(u,g){if(!u||g<=0)return 0;if(this.opusPacketIsCeltOnly(u))return-1;const a=this.opusNumSilkFrames(u);if(a===0)return-1;const s=new Array(this.OPUS_MAX_OPUS_FRAMES),i=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let t=0;t<this.OPUS_MAX_OPUS_FRAMES;++t)s[t]=[void 0],i[t]=[void 0];const e=this.opusPacketParse(u,g,null,s,i,null);if(e<0)return-1;for(let t=0;t<e;++t){if(i[t][0]<1)continue;if(u.getUint8(s[t][0])>>8-a||this.opusPacketGetNumChannels(u)===2&&u.getUint8(s[t][0])<<a+1>>8-a)return 1}return 0}opusPacketHasFec(u,g){if(!u||g<=0||this.opusPacketIsCeltOnly(u))return!1;const a=new Array(this.OPUS_MAX_OPUS_FRAMES),s=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let n=0;n<this.OPUS_MAX_OPUS_FRAMES;++n)a[n]=[void 0],s[n]=[void 0];if(this.opusPacketParse(u,g,null,a,s,null)<0||s[0][0]<=1)return!1;const e=this.opusNumSilkFrames(u);if(e===0)return!1;const t=this.opusPacketGetNumChannels(u);if(t!==1&&t!==2)return!1;for(let n=0;n<t;n++)if(u.getUint8(a[0][0])&128>>(n+1)*(e+1)-1)return!0;return!1}constructor(){this.maxRedPacketSizeBytes=1<<10,this.maxAudioRtpPacketSizeBytes=1e3,this.maxRedTimestampOffset=1<<14,this.redHeaderSizeBytes=4,this.redLastHeaderSizeBytes=1,this.redPacketizationTime=960,this.redPacketDistance=2,this.maxRedEncodings=2,this.redMaxRecoveryDistance=this.redPacketDistance*this.maxRedEncodings+1,this.maxEncodingHistorySize=10,this.numRedundantEncodings=0,this.redundancyEnabled=!0,this.lossReportInterval=48e3*5,this.maxOutOfOrderPacketDistance=16,this.OPUS_BAD_ARG=-1,this.OPUS_INVALID_PACKET=-4,this.OPUS_MAX_OPUS_FRAMES=48,this.OPUS_MAX_FRAME_SIZE_BYTES=1275,this.encodingHistory=new Array,this.opusPayloadType=0,this.redPayloadType=0,this.initializePacketLogs()}},"RedundantAudioEncoder");l.default=S,S.shouldLogDebug=!1,S.shouldReportStats=!1},"3taG":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("HbHZ")),g=h("XCDq"),a=f(h("j+uH"));let s=o(class extends a.default{run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===u.default.ReceivedSignalFrame){if(e.message.type===g.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===g.SdkSignalFrame.Type.AUDIO_METADATA){const t=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(t)}}}constructor(e){super(e.logger),this.context=e,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=t=>{this.context.signalingClient.mute(t)}}},"ListenForVolumeIndicatorsTask");l.default=s},"3wzr":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=h("+br/");S.__exportStar(h("irli"),l)},"3zPy":function(j,l){l=j.exports=function(a){if(a&&typeof a=="object"){var s=a.which||a.keyCode||a.charCode;s&&(a=s)}if(typeof a=="number")return u[a];var i=String(a),e=h[i.toLowerCase()];if(e)return e;var e=S[i.toLowerCase()];if(e)return e;if(i.length===1)return i.charCodeAt(0)};var h=l.code=l.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},S=l.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(f=97;f<123;f++)h[String.fromCharCode(f)]=f-32;for(var f=48;f<58;f++)h[f-48]=f;for(f=1;f<13;f++)h["f"+f]=f+111;for(f=0;f<10;f++)h["numpad "+f]=f+96;var u=l.names=l.title={};for(f in h)u[h[f]]=f;for(var g in S)h[g]=S[g]},"3zlU":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("KsuK")),g=f(h("EkGV")),a=15;let s=o(class{destroy(){if(this.stop(),this.stages)for(const e of this.stages)e.destroy();this.timer.destroy()}get framerate(){return this.fr}set framerate(e){this.fr=e<0?a:e}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const e of this.outputMediaStream.getVideoTracks())e.stop();this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(e=>{e.processingDidStop&&e.processingDidStop()}))}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}getInputMediaStream(){return S(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(e){return S(this,void 0,void 0,function*(){if(!e){this.stop();return}if(e.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=e;const t=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(t)}`),this.canvasOutput.width=t.width,this.canvasOutput.height=t.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const n=new u.default(this.canvasInput);this.sourceBuffers.push(n),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const e of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${e.id} from output stream`),this.outputMediaStream.removeTrack(e);for(const e of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${e.id} to output stream`),this.outputMediaStream.addTrack(e)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(e){this.stages=e}get processors(){return this.stages}forEachObserver(e){for(const t of this.observers)setTimeout(()=>{e(t)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const e of this.inputVideoStream.getTracks())e.stop();this.inputVideoStream=null;for(const e of this.sourceBuffers)e.destroy();this.sourceBuffers=[]}constructor(e,t,n=new g.default){this.logger=e,this.stages=t,this.fr=a,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=r=>S(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const c=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let p=[];p.push(this.sourceBuffers[0]);try{for(const V of this.processors)p=yield V.process(p)}catch{this.forEachObserver(N=>{N.processingDidFailToStart&&N.processingDidFailToStart()});return}this.destBuffers=p;let m;try{m=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(N=>{N.processingDidFailToStart&&N.processingDidFailToStart()}));return}const d=m.width,y=m.height;d!==0&&y!==0&&(this.canvasOutput.width!==d&&this.canvasOutput.height!==y&&(this.canvasOutput.width=d,this.canvasOutput.height=y),this.outputCtx.drawImage(m,0,0,d,y,0,0,d,y),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(V=>{V.processingDidStart&&V.processingDidStart()})));const E=performance.now()-c,w=1e3*2/this.framerate-E,k=Math.max(0,1e3/this.framerate-E);w<=0&&this.forEachObserver(V=>{V.processingLatencyTooHigh&&V.processingLatencyTooHigh(E)}),yield this.timer.start(k,this.process.bind(this))}),this.timer=n}},"DefaultVideoFrameProcessorPipeline");l.default=s},"42jQ":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}},"MeetingSessionTURNCredentials");l.default=S},"4EN+":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.WebSocketReadyState=void 0;var S;(function(f){f[f.None=0]="None",f[f.Connecting=1]="Connecting",f[f.Open=2]="Open",f[f.Closing=3]="Closing",f[f.Closed=4]="Closed"})(S=l.WebSocketReadyState||(l.WebSocketReadyState={})),l.default=S},"4k7n":function(j,l,h){"use strict";var S=h("Yvae"),f=h("uT1x"),u=h("jLvU");function g(a,s,i){var e=a.length;if(e<2)return e?Object(u.a)(a[0]):[];for(var t=-1,n=Array(e);++t<e;)for(var r=a[t],c=-1;++c<e;)c!=t&&(n[t]=Object(S.a)(n[t]||r,a[c],s,i));return Object(u.a)(Object(f.a)(n,1),s,i)}o(g,"baseXor"),l.a=g},"4vb1":function(j,l,h){"use strict";h.r(l),h.d(l,"__extends",function(){return f}),h.d(l,"__assign",function(){return u}),h.d(l,"__rest",function(){return g}),h.d(l,"__decorate",function(){return a}),h.d(l,"__param",function(){return s}),h.d(l,"__metadata",function(){return i}),h.d(l,"__awaiter",function(){return e}),h.d(l,"__generator",function(){return t}),h.d(l,"__createBinding",function(){return n}),h.d(l,"__exportStar",function(){return r}),h.d(l,"__values",function(){return c}),h.d(l,"__read",function(){return p}),h.d(l,"__spread",function(){return m}),h.d(l,"__spreadArrays",function(){return d}),h.d(l,"__await",function(){return y}),h.d(l,"__asyncGenerator",function(){return E}),h.d(l,"__asyncDelegator",function(){return w}),h.d(l,"__asyncValues",function(){return k}),h.d(l,"__makeTemplateObject",function(){return V}),h.d(l,"__importStar",function(){return N}),h.d(l,"__importDefault",function(){return F}),h.d(l,"__classPrivateFieldGet",function(){return P}),h.d(l,"__classPrivateFieldSet",function(){return B});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,J){D.__proto__=J}||function(D,J){for(var X in J)J.hasOwnProperty(X)&&(D[X]=J[X])},S(O,R)},"extendStatics");function f(O,R){S(O,R);function D(){this.constructor=O}o(D,"__"),O.prototype=R===null?Object.create(R):(D.prototype=R.prototype,new D)}o(f,"__extends");var u=o(function(){return u=Object.assign||o(function(R){for(var D,J=1,X=arguments.length;J<X;J++){D=arguments[J];for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(R[$]=D[$])}return R},"__assign"),u.apply(this,arguments)},"__assign");function g(O,R){var D={};for(var J in O)Object.prototype.hasOwnProperty.call(O,J)&&R.indexOf(J)<0&&(D[J]=O[J]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(O);X<J.length;X++)R.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(O,J[X])&&(D[J[X]]=O[J[X]]);return D}o(g,"__rest");function a(O,R,D,J){var X=arguments.length,$=X<3?R:J===null?J=Object.getOwnPropertyDescriptor(R,D):J,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(O,R,D,J);else for(var Ee=O.length-1;Ee>=0;Ee--)(he=O[Ee])&&($=(X<3?he($):X>3?he(R,D,$):he(R,D))||$);return X>3&&$&&Object.defineProperty(R,D,$),$}o(a,"__decorate");function s(O,R){return function(D,J){R(D,J,O)}}o(s,"__param");function i(O,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,R)}o(i,"__metadata");function e(O,R,D,J){function X($){return $ instanceof D?$:new D(function(he){he($)})}return o(X,"adopt"),new(D||(D=Promise))(function($,he){function Ee(Be){try{ve(J.next(Be))}catch(pt){he(pt)}}o(Ee,"fulfilled");function ke(Be){try{ve(J.throw(Be))}catch(pt){he(pt)}}o(ke,"rejected");function ve(Be){Be.done?$(Be.value):X(Be.value).then(Ee,ke)}o(ve,"step"),ve((J=J.apply(O,R||[])).next())})}o(e,"__awaiter");function t(O,R){var D={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},J,X,$,he;return he={next:Ee(0),throw:Ee(1),return:Ee(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function Ee(ve){return function(Be){return ke([ve,Be])}}function ke(ve){if(J)throw new TypeError("Generator is already executing.");for(;D;)try{if(J=1,X&&($=ve[0]&2?X.return:ve[0]?X.throw||(($=X.return)&&$.call(X),0):X.next)&&!($=$.call(X,ve[1])).done)return $;switch(X=0,$&&(ve=[ve[0]&2,$.value]),ve[0]){case 0:case 1:$=ve;break;case 4:return D.label++,{value:ve[1],done:!1};case 5:D.label++,X=ve[1],ve=[0];continue;case 7:ve=D.ops.pop(),D.trys.pop();continue;default:if($=D.trys,!($=$.length>0&&$[$.length-1])&&(ve[0]===6||ve[0]===2)){D=0;continue}if(ve[0]===3&&(!$||ve[1]>$[0]&&ve[1]<$[3])){D.label=ve[1];break}if(ve[0]===6&&D.label<$[1]){D.label=$[1],$=ve;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(ve);break}$[2]&&D.ops.pop(),D.trys.pop();continue}ve=R.call(O,D)}catch(Be){ve=[6,Be],X=0}finally{J=$=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}}o(t,"__generator");function n(O,R,D,J){J===void 0&&(J=D),O[J]=R[D]}o(n,"__createBinding");function r(O,R){for(var D in O)D!=="default"&&!R.hasOwnProperty(D)&&(R[D]=O[D])}o(r,"__exportStar");function c(O){var R=typeof Symbol=="function"&&Symbol.iterator,D=R&&O[R],J=0;if(D)return D.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&J>=O.length&&(O=void 0),{value:O&&O[J++],done:!O}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}o(c,"__values");function p(O,R){var D=typeof Symbol=="function"&&O[Symbol.iterator];if(!D)return O;var J=D.call(O),X,$=[],he;try{for(;(R===void 0||R-- >0)&&!(X=J.next()).done;)$.push(X.value)}catch(Ee){he={error:Ee}}finally{try{X&&!X.done&&(D=J.return)&&D.call(J)}finally{if(he)throw he.error}}return $}o(p,"__read");function m(){for(var O=[],R=0;R<arguments.length;R++)O=O.concat(p(arguments[R]));return O}o(m,"__spread");function d(){for(var O=0,R=0,D=arguments.length;R<D;R++)O+=arguments[R].length;for(var J=Array(O),X=0,R=0;R<D;R++)for(var $=arguments[R],he=0,Ee=$.length;he<Ee;he++,X++)J[X]=$[he];return J}o(d,"__spreadArrays");function y(O){return this instanceof y?(this.v=O,this):new y(O)}o(y,"__await");function E(O,R,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=D.apply(O,R||[]),X,$=[];return X={},he("next"),he("throw"),he("return"),X[Symbol.asyncIterator]=function(){return this},X;function he(Ve){J[Ve]&&(X[Ve]=function(bt){return new Promise(function(lt,mt){$.push([Ve,bt,lt,mt])>1||Ee(Ve,bt)})})}function Ee(Ve,bt){try{ke(J[Ve](bt))}catch(lt){pt($[0][3],lt)}}function ke(Ve){Ve.value instanceof y?Promise.resolve(Ve.value.v).then(ve,Be):pt($[0][2],Ve)}function ve(Ve){Ee("next",Ve)}function Be(Ve){Ee("throw",Ve)}function pt(Ve,bt){Ve(bt),$.shift(),$.length&&Ee($[0][0],$[0][1])}}o(E,"__asyncGenerator");function w(O){var R,D;return R={},J("next"),J("throw",function(X){throw X}),J("return"),R[Symbol.iterator]=function(){return this},R;function J(X,$){R[X]=O[X]?function(he){return(D=!D)?{value:y(O[X](he)),done:X==="return"}:$?$(he):he}:$}}o(w,"__asyncDelegator");function k(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=O[Symbol.asyncIterator],D;return R?R.call(O):(O=typeof c=="function"?c(O):O[Symbol.iterator](),D={},J("next"),J("throw"),J("return"),D[Symbol.asyncIterator]=function(){return this},D);function J($){D[$]=O[$]&&function(he){return new Promise(function(Ee,ke){he=O[$](he),X(Ee,ke,he.done,he.value)})}}function X($,he,Ee,ke){Promise.resolve(ke).then(function(ve){$({value:ve,done:Ee})},he)}}o(k,"__asyncValues");function V(O,R){return Object.defineProperty?Object.defineProperty(O,"raw",{value:R}):O.raw=R,O}o(V,"__makeTemplateObject");function N(O){if(O&&O.__esModule)return O;var R={};if(O!=null)for(var D in O)Object.hasOwnProperty.call(O,D)&&(R[D]=O[D]);return R.default=O,R}o(N,"__importStar");function F(O){return O&&O.__esModule?O:{default:O}}o(F,"__importDefault");function P(O,R){if(!R.has(O))throw new TypeError("attempted to get private field on non-instance");return R.get(O)}o(P,"__classPrivateFieldGet");function B(O,R,D){if(!R.has(O))throw new TypeError("attempted to set private field on non-instance");return R.set(O,D),D}o(B,"__classPrivateFieldSet")},"4w5z":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("cKqT")),u=S(h("KEX5")),g=S(h("ZHiL")),a=S(h("3niY")),s=S(h("94P3")),i=S(h("/N6y")),e=S(h("aZba")),t=S(h("papz")),n=S(h("GZjp")),r=S(h("l7oq")),c=S(h("3jln")),p=S(h("a6MJ"));let m=o(class extends p.default{setAudioProfile(y){}start(){}stop(){}promoteToPrimaryMeeting(y){return Promise.resolve(new e.default(t.default.OK))}demoteFromPrimaryMeeting(){}constructor(y){const E=new s.default;E.meetingId="",E.externalMeetingId="",E.credentials=new i.default,E.credentials.attendeeId="",E.credentials.joinToken="",E.urls=new n.default,E.urls.turnControlURL="",E.urls.audioHostURL="",E.urls.signalingURL="wss://localhost/";const w=new g.default;super(y||E,w,new c.default(new g.default),new a.default,new r.default(0,new f.default(0,0,0)),new u.default(y||E,w))}},"NoOpAudioVideoController");l.default=m},"5/Tg":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Np2I"));let u=o(class extends f.default{nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}constructor(a,s,i,e){super(a,s,i),this.limit=e,this.attempts=0}},"FullJitterLimitedBackoff");l.default=u},"5/lR":function(j,l,h){"use strict";var S=this&&this.__createBinding||(Object.create?function(V,N,F,P){P===void 0&&(P=F),Object.defineProperty(V,P,{enumerable:!0,get:function(){return N[F]}})}:function(V,N,F,P){P===void 0&&(P=F),V[P]=N[F]}),f=this&&this.__setModuleDefault||(Object.create?function(V,N){Object.defineProperty(V,"default",{enumerable:!0,value:N})}:function(V,N){V.default=N}),u=this&&this.__importStar||function(V){if(V&&V.__esModule)return V;var N={};if(V!=null)for(var F in V)F!=="default"&&Object.prototype.hasOwnProperty.call(V,F)&&S(N,V,F);return f(N,V),N},g=this&&this.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(l,"__esModule",{value:!0});const a=g(h("beBF")),s=g(h("bjg3")),i=g(h("x8On")),e=g(h("r3TB")),t=h("mlaT"),n=u(h("/AJg")),r=g(h("7p5e")),c=g(h("MpTp")),p=g(h("uTAD")),m=g(h("w1x/")),d=g(h("h96U")),y=h("T44/"),E=g(h("BY2i"));let w=o(class{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}},"LinkMediaStats"),k=o(class Fr{reset(){this.allHighestPolicy=new p.default(""),this.optimalReceiveSet=new c.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new c.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new c.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=Fr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=Fr.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new w,this.prevDownlinkStats=new w,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption,this.pendingActionAfterUpdatedPreferences=!1}bindToTileController(N){this.tileController=N,this.logger.info("tileController bound")}setWantsResubscribeObserver(N){this.wantsResubscribeObserver=N}chooseRemoteVideoSources(N){var F;if(!(!((F=this.videoPreferences)===null||F===void 0)&&F.equals(N))){if(this.videoPreferences=N==null?void 0:N.clone(),!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!0,this.wantsResubscribeObserver!==void 0&&(this.wantsResubscribeObserver(),this.pendingActionAfterUpdatedPreferences=!1),this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)){const P=new Array;for(const B of this.videoPreferences){const O=new r.default;O.attendee=new a.default,O.attendee.attendeeId=B.attendeeId,P.push(O)}this.allHighestPolicy.chooseRemoteVideoSources(P);return}this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(N)}`)}}updateIndex(N){this.videoIndex=N,this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption&&this.allHighestPolicy.updateIndex(N),this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const N=new Set;for(const O of this.videoIndex.remoteStreamDescriptions())N.add(O.attendeeId);const F=y.VideoPreferences.prepare(),P=N.size;let B=m.default.Maximum;P>8?B=m.default.Low:P>4&&(B=m.default.Medium);for(const O of N)F.add(new d.default(O,1,B));this.defaultVideoPreferences=F.build()}updateMetrics(N){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new w;const F=N.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=F.availableIncomingBitrate/1e3;for(const P in N.streamMetricReports){const B=Number.parseInt(P,10),O=N.streamMetricReports[B];O.direction===s.default.DOWNSTREAM&&O.mediaType===i.default.VIDEO&&(O.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=N.countPerSecond("nackCount",B)),O.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=N.countPerSecond("packetsLost",B)),O.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=N.bitsPerSecond("bytesReceived",B)/1e3))}}wantsResubscribe(){let N=!1;return!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(N||(N=this.pendingActionAfterUpdatedPreferences),this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)?N||this.allHighestPolicy.wantsResubscribe():(this.calculateOptimalReceiveSet(),N||(N=!this.subscribedReceiveSet.equal(this.optimalReceiveSet)),N)}chooseSubscriptions(){return!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!1,this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)?this.allHighestPolicy.chooseSubscriptions():(this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone())}addObserver(N){this.observerQueue.add(N)}removeObserver(N){this.observerQueue.delete(N)}forEachObserver(N){for(const F of this.observerQueue)N(F)}setVideoPriorityBasedPolicyConfigs(N){this.videoPriorityBasedPolicyConfig=N}calculateOptimalReceiveStreams(){var N;const F=[],P=this.videoIndex.remoteStreamDescriptions();if(P.length===0||!((N=this.videoPreferences)===null||N===void 0)&&N.isEmpty()){this.optimalReceiveStreams=[];return}const B=this.rateProbeState;this.cleanBwPausedTiles(P),this.handleAppPausedStreams(F,P);const O=this.availStreamsSameAsLast(P),R=!this.startupPeriod&&O;if(R&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;P.sort((Be,pt)=>Be.maxBitrateKbps===pt.maxBitrateKbps?Be.streamId-pt.streamId:Be.maxBitrateKbps-pt.maxBitrateKbps);for(const Be of P)(Be.avgBitrateKbps===0||Be.avgBitrateKbps>Be.maxBitrateKbps)&&(Be.attendeeId.endsWith(e.default.Modality)&&Be.maxBitrateKbps<100?Be.maxBitrateKbps=Be.avgBitrateKbps:Be.avgBitrateKbps=Be.maxBitrateKbps);const D={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};D.targetDownlinkBitrate=this.determineTargetRate();const J=this.subscribedReceiveSet.size(),X=this.downlinkStats.bandwidthEstimateKbps,$=!this.videoPriorityBasedPolicyConfig.allowSubscribe(J,X);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=Fr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,R&&$))return;const he=this.priorityPolicy(D,P,F),Ee=!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption);let ke=0;if(!Ee&&!this.startupPeriod&&O?this.rateProbeState==="Probing"?ke=this.handleProbe(F,D.targetDownlinkBitrate):D.deltaToNextUpgrade!==0&&(ke=this.maybeOverrideOrProbe(F,D,he)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.prevRemoteInfos=P,this.videoPreferencesUpdated=!1,ke===1){this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),this.prevTargetRateKbps=D.targetDownlinkBitrate;return}if(ke===2){const Be=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(P,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+Be);return}this.optimalNonPausedReceiveStreams=F.slice();const ve=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(P,F),this.logger.getLogLevel()<=t.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==B||this.optimalReceiveStreams.length!==F.length||ve!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(P,D.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=D.targetDownlinkBitrate,this.optimalReceiveStreams=F.slice()}calculateOptimalReceiveSet(){const N=new c.default;this.calculateOptimalReceiveStreams();for(const F of this.optimalReceiveStreams)N.add(F.streamId);if(!this.optimalReceiveSet.equal(N)){const F=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(N)} subscribedRate:${F}`)}this.optimalReceiveSet=N}determineTargetRate(){let N=0;const F=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=F),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>Fr.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||F-this.firstEstimateTimestamp>Fr.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?N=Fr.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<Fr.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),N=this.downlinkStats.usedBandwidthKbps+Fr.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):N=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?N=Fr.DEFAULT_BANDWIDTH_KBPS:N=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-Fr.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*Fr.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,N=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,N}setProbeState(N){if(this.rateProbeState===N)return!1;const F=Date.now();switch(N){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||F-this.lastProbeTimestamp>Fr.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=F;else return!1;break;case"Probing":if(F-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=F,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,Fr.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+N+" from "+this.rateProbeState),this.rateProbeState=N,!0}upgradeToStream(N,F){for(let P=0;P<N.length;P++)if(N[P].groupId===F.groupId){const B=F.avgBitrateKbps-N[P].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(N[P])+" to "+F),this.lastUpgradeRateKbps=B,N[P]=F,B}return N.push(F),this.lastUpgradeRateKbps=F.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(N,F){if(Date.now()-this.lastProbeTimestamp>Fr.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>Fr.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(Fr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const P=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(N)||F>P?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=Fr.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(N,F,P){const B=this.chosenStreamsSameAsLast(N);let O=0;const R=F.targetDownlinkBitrate>Fr.LOW_BITRATE_THRESHOLD_KBPS?Fr.TARGET_RATE_CHANGE_TRIGGER_PERCENT:Fr.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,D=F.targetDownlinkBitrate*R/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!B&&Math.abs(F.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<D?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),O=1):this.targetRateBaselineForDeltaCheckKbps=F.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,O;if(B||O===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(N,P),O=0);break}else this.setProbeState("Not Probing");return O}calculateSubscribeRate(N){let F=0;for(const P of N)!this.pausedStreamIds.contain(P.streamId)&&!this.pausedBwAttendeeIds.has(P.attendeeId)&&(F+=P.maxBitrateKbps);return F}handleAppPausedStreams(N,F){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new c.default;const P=this.tileController.getAllRemoteVideoTiles();for(const B of P){const O=B.state();if(O.paused&&!this.pausedBwAttendeeIds.has(O.boundAttendeeId)){let R=F.length;for(;R--;)F[R].attendeeId===O.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+O.boundAttendeeId+" streamId: "+F[R].streamId),this.pausedStreamIds.add(F[R].streamId),this.subscribedReceiveSet.contain(F[R].streamId)&&N.push(F[R]),F.splice(R,1))}}}processBwPausedStreams(N,F){if(!this.tileController){this.logger.warn("tileController not found!");return}const P=this.getCurrentVideoPreferences();if(P&&this.shouldPauseTiles){const B=this.tileController.getAllVideoTiles();for(const O of P){const R=this.getVideoTileForAttendeeId(O.attendeeId,B),D=(R==null?void 0:R.state().paused)||!1;if(F.some(J=>J.attendeeId===O.attendeeId))D&&this.pausedBwAttendeeIds.has(O.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${O.attendeeId} due to bandwidth`),this.forEachObserver(J=>{J.tileWillBeUnpausedByDownlinkPolicy(R.id())}),this.tileController.unpauseVideoTile(R.id()),this.pausedBwAttendeeIds.delete(O.attendeeId));else{const J=N.some(X=>X.attendeeId===O.attendeeId);if(R&&J){const X=this.optimalReceiveStreams.find($=>$.attendeeId===O.attendeeId);X!==void 0&&(D||(this.logger.info(`bwe: pausing streamId ${X.streamId} attendee ${O.attendeeId} due to bandwidth`),this.forEachObserver($=>{$.tileWillBePausedByDownlinkPolicy(R.id())}),this.tileController.pauseVideoTile(R.id())),F.push(X)),this.pausedBwAttendeeIds.add(O.attendeeId)}else if(J){const X=this.tileController.addVideoTile();X.bindVideoStream(O.attendeeId,!1,null,0,0,0,null),this.forEachObserver($=>{$.tileWillBePausedByDownlinkPolicy(X.id())}),X.pause(),this.logger.info(`bwe: Created video tile ${X.id()} for bw paused attendee ${O.attendeeId}`),this.pausedBwAttendeeIds.add(O.attendeeId)}}}}}cleanBwPausedTiles(N){if(!this.tileController){this.logger.warn("tileController not found!");return}const F=this.tileController.getAllRemoteVideoTiles(),P=this.getCurrentVideoPreferences();for(const B of F){const O=B.state();O.boundVideoStream||(N.some(R=>R.attendeeId===O.boundAttendeeId)?P!==void 0&&!P.some(R=>R.attendeeId===O.boundAttendeeId)&&this.tileController.removeVideoTile(O.tileId):(this.tileController.removeVideoTile(O.tileId),this.logger.info(`bwe: Removed video tile ${O.tileId} for bw paused attendee ${O.boundAttendeeId}`)))}}priorityPolicy(N,F,P){let B;const O=this.getCurrentVideoPreferences(),R=O.highestPriority();let D,J=R;for(;J!==-1;){D=-1;for(const X of O)if(X.priority===J)for(const $ of F)$.attendeeId===X.attendeeId&&(P.some(he=>he.groupId===$.groupId)||(N.chosenTotalBitrate+$.avgBitrateKbps<=N.targetDownlinkBitrate?(P.push($),N.chosenTotalBitrate+=$.avgBitrateKbps):N.deltaToNextUpgrade===0&&(N.deltaToNextUpgrade=$.avgBitrateKbps,B=$)));else if(X.priority>J){D=X.priority;break}for(const X of O)if(X.priority===J){for(const $ of F)if($.attendeeId===X.attendeeId){const he=P.findIndex(Ee=>Ee.groupId===$.groupId&&Ee.maxBitrateKbps<$.maxBitrateKbps);if(he!==-1){const Ee=$.avgBitrateKbps-P[he].avgBitrateKbps;this.hasSimulcastStreams(F,$.attendeeId,$.groupId)&&this.canUpgrade($.avgBitrateKbps,X.targetSize,X.targetSizeToBitrateKbps(X.targetSize),$.attendeeId.endsWith(e.default.Modality))?(this.logger.info(`bwe: attendee: ${$.attendeeId} group: ${$.groupId} has simulcast and can upgrade avgBitrate: ${$.avgBitrateKbps} target: ${X.targetSizeToBitrateKbps(X.targetSize)} targetTotalBitrate: ${N.targetDownlinkBitrate}`),N.chosenTotalBitrate+Ee<=N.targetDownlinkBitrate?(N.chosenTotalBitrate+=Ee,P[he]=$):N.deltaToNextUpgrade===0&&(N.deltaToNextUpgrade=Ee,B=$)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(X.priority>J)break;if(J===R&&N.deltaToNextUpgrade!==0)break;J=D}return B}getVideoTileForAttendeeId(N,F){for(const P of F)if(P.state().boundAttendeeId===N)return P;return null}canUpgrade(N,F,P,B){let O=!1;return B?(F===m.default.High||F===m.default.Medium&&N<=P)&&(O=!0):N<=P&&(O=!0),O?(this.logger.info(`bwe: canUpgrade: bitrateKbp: ${N} targetBitrateKbp: ${P}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbp: ${N} targetBitrateKbp: ${P}`),!1)}hasSimulcastStreams(N,F,P){let B=0;for(const O of N)O.attendeeId===F&&O.groupId===P&&B++;return this.logger.info(`bwe: attendeeId: ${F} groupId: ${P} hasSimulcastStreams: streamCount: ${B}`),B>1}availStreamsSameAsLast(N){if(this.prevRemoteInfos===void 0||N.length!==this.prevRemoteInfos.length||this.videoPreferencesUpdated===!0)return!1;for(const F of N)if(this.prevRemoteInfos.find(B=>B.groupId===F.groupId&&B.streamId===F.streamId&&B.maxBitrateKbps===F.maxBitrateKbps)===void 0)return!1;return!0}chosenStreamsSameAsLast(N){if(this.optimalNonPausedReceiveStreams.length!==N.length)return!1;for(const F of this.optimalNonPausedReceiveStreams)if(!N.some(P=>P.streamId===F.streamId))return!1;return!0}policyStateLogStr(N,F){const P=this.calculateSubscribeRate(this.optimalReceiveStreams),B={targetBitrate:F,subscribedRate:P,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let O="remoteInfos: [";for(const D of N)O+=`{grpId:${D.groupId} strId:${D.streamId} maxBr:${D.maxBitrateKbps} avgBr:${D.avgBitrateKbps}}, `;O+="]";let R=`bwe: optimalReceiveSet ${JSON.stringify(B)}
bwe:   prev ${JSON.stringify(this.prevDownlinkStats)}
bwe:   now  ${JSON.stringify(this.downlinkStats)}
bwe:   ${O}
`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(R+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }
`),this.videoPreferences?R+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:R+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,R}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(N){this.serverSideNetworkAdaption=N,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[n.default.None,n.default.BandwidthProbing,n.default.BandwidthProbingAndRemoteVideoQualityAdaption]}getVideoPreferences(){let N=this.getCurrentVideoPreferences();return N||(N=y.VideoPreferences.prepare().build()),N}constructor(N,F=E.default.Default){this.logger=N,this.videoPriorityBasedPolicyConfig=F,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.wantsResubscribeObserver=void 0,this.reset()}},"VideoPriorityBasedPolicy");l.default=k,k.DEFAULT_BANDWIDTH_KBPS=2800,k.STARTUP_PERIOD_MS=6e3,k.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,k.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,k.LOW_BITRATE_THRESHOLD_KBPS=300,k.MIN_TIME_BETWEEN_PROBE_MS=5e3,k.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,k.MAX_HOLD_BEFORE_PROBE_MS=3e4,k.MAX_ALLOWED_PROBE_TIME_MS=6e4,k.SPURIOUS_PACKET_LOST_THRESHOLD=2,k.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},"59sL":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Sa54")),u=S(h("AM8c"));let g=o(class rc{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return u.default.semverString}static get sdkVersionSemVer(){var s,i,e,t;const n=u.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(s=n==null?void 0:n.groups)===null||s===void 0?void 0:s.major,minor:(i=n==null?void 0:n.groups)===null||i===void 0?void 0:i.minor,patch:(e=n==null?void 0:n.groups)===null||e===void 0?void 0:e.patch,preRelease:(t=n==null?void 0:n.groups)===null||t===void 0?void 0:t.preRelease}}static get buildSHA(){return u.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const s=new f.default;return`${s.name()}-${s.majorVersion()}`}static urlWithVersion(s){const i=new URL(s);return i.searchParams.append(rc.X_AMZN_VERSION,rc.sdkVersion),i.searchParams.append(rc.X_AMZN_USER_AGENT,rc.sdkUserAgentLowResolution),i.toString()}},"Versioning");l.default=g,g.X_AMZN_VERSION="X-Amzn-Version",g.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},"5ViG":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("DG83")),g=f(h("aVV0"));let a=o(class extends g.default{run(){return S(this,void 0,void 0,function*(){const i=this.context.transceiverController;i.setPeer(this.context.peer);try{i.setupLocalTransceivers()}catch(n){throw n}const e=this.context.activeAudioInput;if(e){const n=e.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield i.setAudioInput(n.length?n[0]:null)}else yield i.setAudioInput(null),this.context.logger.info("no audio track");this.setAudioCodecPreferences();const t=this.context.activeVideoInput;if(t){const n=t.getVideoTracks(),r=n.length?n[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield i.setVideoInput(r),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const c=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();i.setEncodingParameters(c)}r&&this.context.statsCollector.logVideoEvent(u.default.InputAttached,this.context.videoDeviceInformation)}else yield i.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=i.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive)})}setAudioCodecPreferences(){const i=window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype,e=this.context.audioProfile.hasRedundancyEnabled();if(!i){this.context.logger.warn("Setting codec preferences not supported");return}const t=this.context.transceiverController.localAudioTransceiver(),{codecs:n}=RTCRtpSender.getCapabilities("audio");this.context.logger.debug(`Available audio codecs ${JSON.stringify(n,null,4)}`);const r=n.findIndex(c=>c.mimeType==="audio/red");if(!t){this.context.logger.error("audio transceiver is null");return}if(r>=0){const c=n[r];n.splice(r,1),e?(n.unshift(c),this.context.logger.info("audio/red set as preferred codec")):this.context.logger.info("audio/red removed from preferred codec"),t.setCodecPreferences(n);return}this.context.logger.info("audio/red codec not supported")}constructor(i){super(i.logger),this.context=i,this.taskName="AttachMediaInputTask"}},"AttachMediaInputTask");l.default=a},"5Y0c":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("HbHZ")),g=h("XCDq"),a=f(h("j+uH"));let s=o(class extends a.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(e){if(e.type!==u.default.ReceivedSignalFrame||e.message.type!==g.SdkSignalFrame.Type.PAUSE&&e.message.type!==g.SdkSignalFrame.Type.RESUME)return;const t=e.message.pause,n=e.message.type;if(this.context.logger.info(`received new ${n===g.SdkSignalFrame.Type.PAUSE?"pause":"resume"} frame: ${JSON.stringify(t)}`),!t||this.context.videoTileController.getVideoTileForAttendeeId===void 0||this.context.videoDownlinkBandwidthPolicy.forEachObserver===void 0||this.context.videoStreamIndex.attendeeIdForGroupId===void 0)return;const r=t.groupIds.map(c=>{const p=this.context.videoStreamIndex.attendeeIdForGroupId(c);return this.context.videoTileController.getVideoTileForAttendeeId(p)});for(const c of r)c!==void 0&&(n===g.SdkSignalFrame.Type.PAUSE?c.state().paused||(this.serverPausedVideoTileIds.add(c.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(p=>{p.tileWillBePausedByDownlinkPolicy(c.id())}),c.pause()):c.state().paused&&this.serverPausedVideoTileIds.has(c.id())&&(this.serverPausedVideoTileIds.delete(c.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(p=>{p.tileWillBeUnpausedByDownlinkPolicy(c.id())}),c.unpause()))}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveRemoteVideoPauseResume",this.serverPausedVideoTileIds=new Set}},"ReceiveRemoteVideoPauseResume");l.default=s},"5i9P":function(j,l){function h(S){return j.exports=h=Object.setPrototypeOf?Object.getPrototypeOf.bind():o(function(u){return u.__proto__||Object.getPrototypeOf(u)},"_getPrototypeOf"),j.exports.__esModule=!0,j.exports.default=j.exports,h(S)}o(h,"_getPrototypeOf"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},"5mR7":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("34ho")),u=S(h("uaNU")),g=h("P7D+"),a=S(h("knPd"));let s=o(class extends a.default{reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(e){super.updateIndex(e);const t=g.VideoPreferences.prepare();let n=!1;const r=e.remoteStreamDescriptions();for(const c of r)t.some(p=>p.attendeeId===c.attendeeId)||(c.attendeeId.endsWith(f.default.Modality)?(t.add(new u.default(c.attendeeId,1)),n=!0):t.add(new u.default(c.attendeeId,2)));n?(this.videoPreferences=t.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(e){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}constructor(e){super(e),this.logger=e,super.shouldPauseTiles=!1,this.videoPreferences=void 0}},"VideoAdaptiveProbePolicy");l.default=s},"5mqp":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class uS{clone(){const u=new uS;return u.tileId=this.tileId,u.localTile=this.localTile,u.isContent=this.isContent,u.active=this.active,u.paused=this.paused,u.poorConnection=this.poorConnection,u.boundAttendeeId=this.boundAttendeeId,u.boundExternalUserId=this.boundExternalUserId,u.boundVideoStream=this.boundVideoStream,u.boundVideoElement=this.boundVideoElement,u.nameplate=this.nameplate,u.videoStreamContentWidth=this.videoStreamContentWidth,u.videoStreamContentHeight=this.videoStreamContentHeight,u.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,u.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,u.devicePixelRatio=this.devicePixelRatio,u.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,u.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,u.streamId=this.streamId,u}constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}},"VideoTileState");l.default=S},"5rM1":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}constructor(u,g){this.signalingURL=u,this.joinToken=g}},"SignalingClientConnectionRequest");l.default=S},"5rZr":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptResult");l.default=S},"5xrR":function(j,l,h){"use strict";j.exports=u;var S=h("s0Ci");(u.prototype=Object.create(S.prototype)).constructor=u;var f=h("kU+7");function u(g){S.call(this,g)}o(u,"BufferReader"),u._configure=function(){f.Buffer&&(u.prototype._slice=f.Buffer.prototype.slice)},u.prototype.string=o(function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},"read_string_buffer"),u._configure()},"5z6C":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("bTau")),g=h("f2XL"),a=f(h("aVV0"));let s=o(class extends a.default{checkAndApplyVideoConstraint(e,t,n,r,c){return S(this,void 0,void 0,function*(){const p=t.getSettings();let m;if(e?m=this.context.meetingSessionConfiguration.meetingFeatures.contentMaxResolution:m=this.context.meetingSessionConfiguration.meetingFeatures.videoMaxResolution,n>m.videoWidth||r>m.videoHeight||c>m.videoFrameRate){const d={width:{ideal:m.videoWidth},height:{ideal:m.videoHeight},frameRate:{ideal:m.videoFrameRate}};this.context.logger.warn(`Video track (content = ${e}) will be constrained to: ${JSON.stringify(d)} to remain below configured video quality settings, trackSettings: ${JSON.stringify(p)}`);try{yield t.applyConstraints(d)}catch{this.context.logger.info(`Could not apply constraint for video track (content = ${e})`)}}})}run(){return S(this,void 0,void 0,function*(){const e=this.context.videoDuplexMode===g.SdkStreamServiceType.RX||this.context.videoDuplexMode===g.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=e?g.SdkStreamServiceType.DUPLEX:g.SdkStreamServiceType.TX:this.context.videoDuplexMode=e?g.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const t=this.context.videoTileController.getLocalVideoTile();let n;try{n=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const r=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(r.values()))}if(this.context.activeVideoInput=n,n){const r=n.getVideoTracks();if(!r||r.length===0)return;const c=this.context.meetingSessionConfiguration.credentials.attendeeId,p=new u.default(c).hasModality(u.default.MODALITY_CONTENT),m=r[0].getSettings();if(this.context.enableSimulcast){const y=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints();this.context.logger.info(`simulcast: choose constraint ${JSON.stringify(y)}`);try{yield r[0].applyConstraints(y)}catch{this.context.logger.info("simulcast: pass video without more constraint")}}else this.checkAndApplyVideoConstraint(p,r[0],m.width,m.height,m.frameRate);const d=this.context.audioVideoController.configuration.credentials.externalUserId;t.bindVideoStream(c,!0,n,m.width,m.height,null,d);for(let y=0;y<r.length;y++){const E=r[y];this.logger.info(`using video device label=${E.label} id=${E.id}`),this.context.videoDeviceInformation.current_camera_name=E.label,this.context.videoDeviceInformation.current_camera_id=E.id}}})}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoInputTask"}},"ReceiveVideoInputTask");l.default=s},"6/h7":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("yQ3g"));let u=o(class extends f.default{static nextTick(a){setTimeout(a,0)}constructor(){super(0)}},"AsyncScheduler");l.default=u},"6Bxv":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("f2XL"),u=S(h("lUhs"));let g=o(class br{statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case u.default.AudioAuthenticationRejected:case u.default.AudioCallAtCapacity:case u.default.AudioInternalServerError:case u.default.AudioServiceUnavailable:case u.default.AudioDisconnected:case u.default.VideoCallAtSourceCapacity:case u.default.SignalingBadRequest:case u.default.SignalingInternalServerError:case u.default.SignalingRequestFailed:case u.default.ICEGatheringTimeoutWorkaround:case u.default.ConnectionHealthReconnect:case u.default.RealtimeApiFailed:case u.default.TaskFailed:case u.default.NoAttendeePresent:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case u.default.Left:case u.default.AudioJoinedFromAnotherDevice:case u.default.AudioAuthenticationRejected:case u.default.AudioCallAtCapacity:case u.default.MeetingEnded:case u.default.AudioDisconnected:case u.default.TURNCredentialsForbidden:case u.default.SignalingBadRequest:case u.default.SignalingRequestFailed:case u.default.VideoCallAtSourceCapacity:case u.default.RealtimeApiFailed:case u.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case u.default.AudioAuthenticationRejected:case u.default.AudioInternalServerError:case u.default.AudioServiceUnavailable:case u.default.ICEGatheringTimeoutWorkaround:case u.default.SignalingBadRequest:case u.default.SignalingInternalServerError:case u.default.SignalingRequestFailed:case u.default.RealtimeApiFailed:case u.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case u.default.OK:return"Everything is OK so far.";case u.default.Left:return"The attendee left the meeting.";case u.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case u.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case u.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case u.default.MeetingEnded:return"The meeting ended.";case u.default.AudioInternalServerError:case u.default.AudioServiceUnavailable:case u.default.AudioDisconnected:return"The audio connection failed.";case u.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case u.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case u.default.SignalingBadRequest:case u.default.SignalingInternalServerError:case u.default.SignalingRequestFailed:return"The signaling connection failed.";case u.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case u.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case u.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case u.default.TaskFailed:return"The connection failed. See the error message for more details.";case u.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case u.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case u.default.NoAttendeePresent:return"The attendee was not present.";case u.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case u.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case u.default.AudioDisconnectAudio:return"The audio connection failed.";default:{const s=this._statusCode;throw new Error(`Unhandled case: ${s}`)}}}static fromSignalFrame(s){return s.error&&s.error.status?this.fromSignalingStatus(s.error.status):s.type===f.SdkSignalFrame.Type.AUDIO_STATUS?s.audioStatus?this.fromAudioStatus(s.audioStatus.audioStatus):new br(u.default.SignalingRequestFailed):s.type===f.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new br(u.default.AudioVideoWasRemovedFromPrimaryMeeting):new br(u.default.OK)}static fromAudioStatus(s){switch(s){case 200:return new br(u.default.OK);case 301:return new br(u.default.AudioJoinedFromAnotherDevice);case 302:return new br(u.default.AudioDisconnectAudio);case 403:return new br(u.default.AudioAuthenticationRejected);case 409:return new br(u.default.AudioCallAtCapacity);case 410:return new br(u.default.MeetingEnded);case 411:return new br(u.default.AudioAttendeeRemoved);case 500:return new br(u.default.AudioInternalServerError);case 503:return new br(u.default.AudioServiceUnavailable);default:switch(Math.floor(s/100)){case 2:return new br(u.default.OK);default:return new br(u.default.AudioDisconnected)}}}static fromSignalingStatus(s){switch(s){case 206:return new br(u.default.VideoCallSwitchToViewOnly);case 509:return new br(u.default.VideoCallAtSourceCapacity);case 403:return new br(u.default.AudioAuthenticationRejected);case 409:return new br(u.default.AudioCallAtCapacity);default:switch(Math.floor(s/100)){case 2:return new br(u.default.OK);case 4:return new br(u.default.SignalingBadRequest);case 5:return new br(u.default.SignalingInternalServerError);default:return new br(u.default.SignalingRequestFailed)}}}constructor(s){this._statusCode=s}},"MeetingSessionStatus");l.default=g},"6DYs":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{matchesConstraints(u){return JSON.stringify(this.constraints)===JSON.stringify(u)}constructor(){this.groupId=""}},"DeviceSelection");l.default=S},"6JeQ":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(n,r,c,p){function m(d){return d instanceof c?d:new c(function(y){y(d)})}return o(m,"adopt"),new(c||(c=Promise))(function(d,y){function E(V){try{k(p.next(V))}catch(N){y(N)}}o(E,"fulfilled");function w(V){try{k(p.throw(V))}catch(N){y(N)}}o(w,"rejected");function k(V){V.done?d(V.value):m(V.value).then(E,w)}o(k,"step"),k((p=p.apply(n,r||[])).next())})},f=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(l,"__esModule",{value:!0}),l.VoiceFocusDeviceTransformer=void 0;const u=h("o4xN"),g=h("R4Nl"),a=f(h("59sL")),s=f(h("X9Jc")),i=f(h("25+x")),e=f(h("8Bz5"));let t=o(class _a{static isSupported(r,c){var p,m;const d=_a.defaultFetchBehavior(),y=c!=null&&c.logger?new s.default(c.logger):void 0,E={fetchBehavior:d,logger:y};if(g.isIFramed()){if((c==null?void 0:c.allowIFrame)===!1)return(p=c==null?void 0:c.logger)===null||p===void 0||p.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(m=c==null?void 0:c.logger)===null||m===void 0||m.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return u.VoiceFocus.isSupported(_a.augmentSpec(r),E)}static create(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2?arguments[2]:void 0,m=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0;var y,E,w;return S(this,void 0,void 0,function*(){m&&m.Meeting.Meeting&&(m=m.Meeting);const k=((w=(E=(y=m==null?void 0:m.Meeting)===null||y===void 0?void 0:y.MeetingFeatures)===null||E===void 0?void 0:E.Audio)===null||w===void 0?void 0:w.EchoReduction)==="AVAILABLE",V=p&&p.supported===!0&&p.model.name==="ns_es"&&!k,N=r.name==="ns_es"&&!k;if(V||N)throw new Error("Echo Reduction requested but not enabled.");const F=new _a(r,c,p);return yield F.init(),F})}static configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S(this,void 0,void 0,function*(){return new _a(r,c,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(r,c){return S(this,void 0,void 0,function*(){if(this.supported)try{const[m,d]=yield this.allocateVoiceFocus(!0),y=Object.assign(Object.assign({},c),{es:this.spec.name==="ns_es"});return new i.default(r,m,d,y)}catch{return}})}static destroyVoiceFocus(r){var c;return S(this,void 0,void 0,function*(){(c=r==null?void 0:r.vf)===null||c===void 0||c.destroy()})}static augmentSpec(r){return!r||!r.assetGroup&&!r.revisionID?Object.assign(Object.assign({},r),{assetGroup:_a.currentSDKAssetGroup()}):r}configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const c={fetchBehavior:this.fetchBehavior,preResolve:r,logger:this.vfLogger};return u.VoiceFocus.configure(this.spec,c)})}init(){var r;return S(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const c=yield this.configuration;if(!c.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(c,this.preload);try{yield this.pendingVoiceFocus}catch(p){(r=this.logger)===null||r===void 0||r.error(`Unable to initialize Amazon Voice Focus: ${p}`),this.supported=!1}})}createVoiceFocus(r,c){return S(this,void 0,void 0,function*(){const p=new e.default;return this.vf=yield u.VoiceFocus.init(r,{delegate:p,preload:c,logger:this.vfLogger}),[this.vf,p]})}allocateVoiceFocus(r){return S(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const c=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,c}return this.createVoiceFocus(yield this.configuration,r)})}static majorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const r=this.majorVersion();return r?`sdk-${r}`:"stable-v1"}static defaultFetchBehavior(){const r=_a.majorMinorVersion()||"unknown",c=a.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(r)}&ua=${encodeURIComponent(c)}`}}constructor(r,{preload:c=!0,logger:p,fetchBehavior:m=_a.defaultFetchBehavior()},d){this.spec=r,this.supported=!0,this.logger=p,this.vfLogger=p?new s.default(p):void 0,this.preload=c,this.fetchBehavior=m,this.spec=_a.augmentSpec(this.spec),d&&(this.configuration=Promise.resolve(d))}},"VoiceFocusDeviceTransformer");l.VoiceFocusDeviceTransformer=t,l.default=t},"6SO8":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("XCDq"),u=S(h("bjg3")),g=S(h("x8On")),a=S(h("U3GI"));let s=o(class fS{getMetricMap(e,t){switch(e){case g.default.AUDIO:switch(t){case u.default.UPSTREAM:return this.audioUpstreamMetricMap;case u.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case g.default.VIDEO:switch(t){case u.default.UPSTREAM:return this.videoUpstreamMetricMap;case u.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(e){if(this.overriddenObservableMetrics.has(e))return this.overriddenObservableMetrics.get(e);const t=this.observableMetricSpec[e],r=this.getMetricMap(t.media,t.dir)[t.source],{transform:c,source:p}=r;if(t.hasOwnProperty("media"))for(const m in this.streamMetricReports){const d=this.streamMetricReports[m];if(d.direction===t.dir&&d.mediaType===t.media)return c(p||t.source,Number(m))}else return c(p||t.source);return 0}getObservableVideoMetricValue(e,t){const n=this.observableVideoMetricSpec[e],c=this.getMetricMap(n.media,n.dir)[n.source],{transform:p,source:m}=c;return p(m||n.source,t)}getObservableMetrics(){const e={};for(const t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}getObservableVideoMetrics(){const e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(const t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===g.default.VIDEO){const n={};for(const m in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[m].dir===this.streamMetricReports[t].direction){const d=this.getObservableVideoMetricValue(m,Number(t));isNaN(d)||(n[m]=d)}const r=this.streamMetricReports[t].groupId,c=this.streamMetricReports[t].streamId;let p="";this.videoStreamIndex.attendeeIdForGroupId!==void 0?p=r?this.videoStreamIndex.attendeeIdForGroupId(r):this.selfAttendeeId:p=c?this.videoStreamIndex.attendeeIdForStreamId(c):this.selfAttendeeId,e[p]=e[p]?e[p]:{},e[p][t]=n}return e}getRTCStatsReport(){return this.rtcStatsReport}clone(){const e=new fS(this.logger,this.videoStreamIndex,this.selfAttendeeId);return e.globalMetricReport=this.globalMetricReport,e.streamMetricReports=this.streamMetricReports,e.rtcStatsReport=this.rtcStatsReport,e.customStatsReports=this.customStatsReports,e.currentTimestampMs=this.currentTimestampMs,e.previousTimestampMs=this.previousTimestampMs,e.overriddenObservableMetrics=this.overriddenObservableMetrics,e}print(){const e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>`Client Metric Report: ${JSON.stringify(e)}`)}removeDestroyedSsrcs(){for(const e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}overrideObservableMetric(e,t){this.overriddenObservableMetrics.set(e,t)}constructor(e,t,n){this.logger=e,this.videoStreamIndex=t,this.selfAttendeeId=n,this.globalMetricReport=new a.default,this.streamMetricReports={},this.rtcStatsReport={},this.customStatsReports=[],this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.overriddenObservableMetrics=new Map,this.identityValue=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;return Number(p.currentMetrics[r])},this.decoderLossPercent=(r,c)=>{const p=this.streamMetricReports[c],m=p.currentMetrics.concealedSamples-(p.previousMetrics.concealedSamples||0),d=p.currentMetrics.totalSamplesReceived-(p.previousMetrics.totalSamplesReceived||0);return d<=0||d-m<=0?0:m/d*100},this.packetLossPercent=(r,c)=>{const p=this.streamMetricReports[c],m=p.currentMetrics[r]-(p.previousMetrics[r]||0),d=p.currentMetrics.packetsLost-(p.previousMetrics.packetsLost||0),y=m+d;return y<=0||d<=0?0:d*100/y},this.jitterBufferMs=(r,c)=>{const p=this.streamMetricReports[c],m=p.currentMetrics.jitterBufferDelay-(p.previousMetrics.jitterBufferDelay||0),d=p.currentMetrics.jitterBufferEmittedCount-(p.previousMetrics.jitterBufferEmittedCount||0);return m<=0||d<=0?0:m/d*1e3},this.countPerSecond=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;let m=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(m<=0)return 0;this.previousTimestampMs<=0&&(m=1);const d=p.currentMetrics[r]-(p.previousMetrics[r]||0);return d<=0?0:Math.trunc(d/m)},this.bitsPerSecond=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;let m=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(m<=0)return 0;this.previousTimestampMs<=0&&(m=1);const d=(p.currentMetrics[r]-(p.previousMetrics[r]||0))*8;return d<=0?0:Math.trunc(d/m)},this.secondsToMilliseconds=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;return Number(p.currentMetrics[r]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;let m=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(m<=0)return 0;this.previousTimestampMs<=0&&(m=1);const d=p.currentMetrics[r]-(p.previousMetrics[r]||0);return d<=0?0:d*1e3/m},this.averageCpuQualityLimitationDurationPerSecondInMilliseconds=(r,c)=>{const p=this.streamMetricReports[c];let m=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(m<=0)return 0;this.previousTimestampMs<=0&&(m=1);let d=0,y=0;for(const[w,k]of Object.entries(p.previousObjectMetrics[r]))w==="cpu"&&(d=k);for(const[w,k]of Object.entries(p.currentObjectMetrics[r]))w==="cpu"&&(y=k);const E=y-d;return E<=0?0:E*1e3/m},this.isHardwareImplementation=(r,c)=>{const p=this.streamMetricReports[c],m=String(p.currentStringMetrics[r]),d=m.includes("ExternalDecoder")||m.includes("ExternalEncoder")||m.includes("EncodeAccelerator")||m.includes("DecodeAccelerator"),y=m.includes("fallback from");return d&&!y?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:f.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.STUN_RTT_MS},audioLevel:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_MIC_AUDIO_LEVEL,source:"audioLevel"}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:f.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:f.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:f.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:f.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.RTC_SPK_BITRATE},audioLevel:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_AUDIO_LEVEL},totalAudioPacketsLost:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_LOST},totalAudioPacketsExpected:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_EXPECTED},totalAudioPacketsRecoveredRed:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_RED},totalAudioPacketsRecoveredFec:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_FEC}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:f.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE},qualityLimitationDurations:{transform:this.averageCpuQualityLimitationDurationPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_QUALITY_LIMITATION_DURATION_CPU}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:f.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:f.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE},totalFreezeDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_FREEZE_DURATION},freezeCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FREEZE_COUNT},totalPauseDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_PAUSE_DURATION},pauseCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PAUSE_COUNT},framesDropped:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_DROPPED_FPS}},this.streamDimensionMap={encoderImplementation:f.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:f.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:g.default.VIDEO,dir:u.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:g.default.AUDIO,dir:u.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:g.default.AUDIO,dir:u.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:g.default.AUDIO,dir:u.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:g.default.VIDEO,dir:u.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:g.default.AUDIO,dir:u.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:g.default.VIDEO,dir:u.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"},audioDownstreamLevel:{source:"audioLevel",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioUpstreamLevel:{source:"audioLevel"}}}},"ClientMetricReport");l.default=s},"6k+I":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isAudioTransformDevice=void 0;function S(f){return!!f&&typeof f=="object"&&"mute"in f&&"stop"in f&&"intrinsicDevice"in f}o(S,"isAudioTransformDevice"),l.isAudioTransformDevice=S},"6k9T":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckVideoInputFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied"})(S=l.CheckVideoInputFeedback||(l.CheckVideoInputFeedback={})),l.default=S},"6qF3":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.FXLIB_PATH=l.WORKER_PATH=l.CDN_BASE_PATH=l.RESOURCE_CONSTRAINTS=l.SEGMENTATION_MODEL=l.DEFAULT_STREAM_PARAMETERS=l.WORKER_MSG=void 0,l.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},l.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},l.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},l.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},l.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const S="/ml_media_fx/otherassets";l.WORKER_PATH=`${S}/worker.js`,l.FXLIB_PATH=`${S}/fxlib.js`},"725M":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});function S(u){return u.map(g=>typeof g=="object"?JSON.stringify(g):`${g}`).join(" ")}o(S,"stringify");let f=o(class{debug(){for(var g=arguments.length,a=new Array(g),s=0;s<g;s++)a[s]=arguments[s];this.base.debug(S(a))}info(){for(var g=arguments.length,a=new Array(g),s=0;s<g;s++)a[s]=arguments[s];this.base.info(S(a))}warn(){for(var g=arguments.length,a=new Array(g),s=0;s<g;s++)a[s]=arguments[s];this.base.warn(S(a))}error(){for(var g=arguments.length,a=new Array(g),s=0;s<g;s++)a[s]=arguments[s];this.base.error(S(a))}constructor(g){this.base=g}},"LoggerAdapter");l.default=f},"75SI":function(j,l,h){var S=h("bBgO");function f(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(g&&g.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),g&&S(u,g)}o(f,"_inherits"),j.exports=f,j.exports.__esModule=!0,j.exports.default=j.exports},"7Dzo":function(j,l,h){"use strict";h.d(l,"a",function(){return S});const S={NotPaid:"not_paid",InvalidLink:"invalid_link",InviteInactive:"invite_inactive",InviteAlreadyUsed:"invite_already_used",InviteNotAllowed:"invite_not_allowed",AcceptNotAllowed:"accept_not_allowed",OrgsSevered:"orgs_severed",OrgNotVerified:"org_not_verified",UserIsRestricted:"user_is_restricted",InvalidRecipientTeam:"invalid_recipient_team",EmailDoesNotMatch:"email_does_not_match",Generic:"generic"}},"7EAL":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("j+uH"));let g=o(class extends u.default{run(){return S(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}constructor(s){super(s.logger),this.context=s,this.taskName="CleanRestartedSessionTask"}},"CleanRestartedSessionTask");l.default=g},"7H4U":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=o(f=>{const u={};for(const[g,a]of Object.entries(f))if(!(a==null||a===""))if(typeof a=="number"||typeof a=="string")u[g]=a;else throw new TypeError("Unhandled type received while flattening attributes.");return u},"flattenEventAttributes");l.default=S},"7JaV":function(j,l,h){"use strict";h.r(l),h.d(l,"__extends",function(){return f}),h.d(l,"__assign",function(){return u}),h.d(l,"__rest",function(){return g}),h.d(l,"__decorate",function(){return a}),h.d(l,"__param",function(){return s}),h.d(l,"__metadata",function(){return i}),h.d(l,"__awaiter",function(){return e}),h.d(l,"__generator",function(){return t}),h.d(l,"__createBinding",function(){return n}),h.d(l,"__exportStar",function(){return r}),h.d(l,"__values",function(){return c}),h.d(l,"__read",function(){return p}),h.d(l,"__spread",function(){return m}),h.d(l,"__spreadArrays",function(){return d}),h.d(l,"__await",function(){return y}),h.d(l,"__asyncGenerator",function(){return E}),h.d(l,"__asyncDelegator",function(){return w}),h.d(l,"__asyncValues",function(){return k}),h.d(l,"__makeTemplateObject",function(){return V}),h.d(l,"__importStar",function(){return N}),h.d(l,"__importDefault",function(){return F}),h.d(l,"__classPrivateFieldGet",function(){return P}),h.d(l,"__classPrivateFieldSet",function(){return B});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,J){D.__proto__=J}||function(D,J){for(var X in J)J.hasOwnProperty(X)&&(D[X]=J[X])},S(O,R)},"extendStatics");function f(O,R){S(O,R);function D(){this.constructor=O}o(D,"__"),O.prototype=R===null?Object.create(R):(D.prototype=R.prototype,new D)}o(f,"__extends");var u=o(function(){return u=Object.assign||o(function(R){for(var D,J=1,X=arguments.length;J<X;J++){D=arguments[J];for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(R[$]=D[$])}return R},"__assign"),u.apply(this,arguments)},"__assign");function g(O,R){var D={};for(var J in O)Object.prototype.hasOwnProperty.call(O,J)&&R.indexOf(J)<0&&(D[J]=O[J]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(O);X<J.length;X++)R.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(O,J[X])&&(D[J[X]]=O[J[X]]);return D}o(g,"__rest");function a(O,R,D,J){var X=arguments.length,$=X<3?R:J===null?J=Object.getOwnPropertyDescriptor(R,D):J,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(O,R,D,J);else for(var Ee=O.length-1;Ee>=0;Ee--)(he=O[Ee])&&($=(X<3?he($):X>3?he(R,D,$):he(R,D))||$);return X>3&&$&&Object.defineProperty(R,D,$),$}o(a,"__decorate");function s(O,R){return function(D,J){R(D,J,O)}}o(s,"__param");function i(O,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,R)}o(i,"__metadata");function e(O,R,D,J){function X($){return $ instanceof D?$:new D(function(he){he($)})}return o(X,"adopt"),new(D||(D=Promise))(function($,he){function Ee(Be){try{ve(J.next(Be))}catch(pt){he(pt)}}o(Ee,"fulfilled");function ke(Be){try{ve(J.throw(Be))}catch(pt){he(pt)}}o(ke,"rejected");function ve(Be){Be.done?$(Be.value):X(Be.value).then(Ee,ke)}o(ve,"step"),ve((J=J.apply(O,R||[])).next())})}o(e,"__awaiter");function t(O,R){var D={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},J,X,$,he;return he={next:Ee(0),throw:Ee(1),return:Ee(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function Ee(ve){return function(Be){return ke([ve,Be])}}function ke(ve){if(J)throw new TypeError("Generator is already executing.");for(;D;)try{if(J=1,X&&($=ve[0]&2?X.return:ve[0]?X.throw||(($=X.return)&&$.call(X),0):X.next)&&!($=$.call(X,ve[1])).done)return $;switch(X=0,$&&(ve=[ve[0]&2,$.value]),ve[0]){case 0:case 1:$=ve;break;case 4:return D.label++,{value:ve[1],done:!1};case 5:D.label++,X=ve[1],ve=[0];continue;case 7:ve=D.ops.pop(),D.trys.pop();continue;default:if($=D.trys,!($=$.length>0&&$[$.length-1])&&(ve[0]===6||ve[0]===2)){D=0;continue}if(ve[0]===3&&(!$||ve[1]>$[0]&&ve[1]<$[3])){D.label=ve[1];break}if(ve[0]===6&&D.label<$[1]){D.label=$[1],$=ve;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(ve);break}$[2]&&D.ops.pop(),D.trys.pop();continue}ve=R.call(O,D)}catch(Be){ve=[6,Be],X=0}finally{J=$=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}}o(t,"__generator");function n(O,R,D,J){J===void 0&&(J=D),O[J]=R[D]}o(n,"__createBinding");function r(O,R){for(var D in O)D!=="default"&&!R.hasOwnProperty(D)&&(R[D]=O[D])}o(r,"__exportStar");function c(O){var R=typeof Symbol=="function"&&Symbol.iterator,D=R&&O[R],J=0;if(D)return D.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&J>=O.length&&(O=void 0),{value:O&&O[J++],done:!O}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}o(c,"__values");function p(O,R){var D=typeof Symbol=="function"&&O[Symbol.iterator];if(!D)return O;var J=D.call(O),X,$=[],he;try{for(;(R===void 0||R-- >0)&&!(X=J.next()).done;)$.push(X.value)}catch(Ee){he={error:Ee}}finally{try{X&&!X.done&&(D=J.return)&&D.call(J)}finally{if(he)throw he.error}}return $}o(p,"__read");function m(){for(var O=[],R=0;R<arguments.length;R++)O=O.concat(p(arguments[R]));return O}o(m,"__spread");function d(){for(var O=0,R=0,D=arguments.length;R<D;R++)O+=arguments[R].length;for(var J=Array(O),X=0,R=0;R<D;R++)for(var $=arguments[R],he=0,Ee=$.length;he<Ee;he++,X++)J[X]=$[he];return J}o(d,"__spreadArrays");function y(O){return this instanceof y?(this.v=O,this):new y(O)}o(y,"__await");function E(O,R,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=D.apply(O,R||[]),X,$=[];return X={},he("next"),he("throw"),he("return"),X[Symbol.asyncIterator]=function(){return this},X;function he(Ve){J[Ve]&&(X[Ve]=function(bt){return new Promise(function(lt,mt){$.push([Ve,bt,lt,mt])>1||Ee(Ve,bt)})})}function Ee(Ve,bt){try{ke(J[Ve](bt))}catch(lt){pt($[0][3],lt)}}function ke(Ve){Ve.value instanceof y?Promise.resolve(Ve.value.v).then(ve,Be):pt($[0][2],Ve)}function ve(Ve){Ee("next",Ve)}function Be(Ve){Ee("throw",Ve)}function pt(Ve,bt){Ve(bt),$.shift(),$.length&&Ee($[0][0],$[0][1])}}o(E,"__asyncGenerator");function w(O){var R,D;return R={},J("next"),J("throw",function(X){throw X}),J("return"),R[Symbol.iterator]=function(){return this},R;function J(X,$){R[X]=O[X]?function(he){return(D=!D)?{value:y(O[X](he)),done:X==="return"}:$?$(he):he}:$}}o(w,"__asyncDelegator");function k(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=O[Symbol.asyncIterator],D;return R?R.call(O):(O=typeof c=="function"?c(O):O[Symbol.iterator](),D={},J("next"),J("throw"),J("return"),D[Symbol.asyncIterator]=function(){return this},D);function J($){D[$]=O[$]&&function(he){return new Promise(function(Ee,ke){he=O[$](he),X(Ee,ke,he.done,he.value)})}}function X($,he,Ee,ke){Promise.resolve(ke).then(function(ve){$({value:ve,done:Ee})},he)}}o(k,"__asyncValues");function V(O,R){return Object.defineProperty?Object.defineProperty(O,"raw",{value:R}):O.raw=R,O}o(V,"__makeTemplateObject");function N(O){if(O&&O.__esModule)return O;var R={};if(O!=null)for(var D in O)Object.hasOwnProperty.call(O,D)&&(R[D]=O[D]);return R.default=O,R}o(N,"__importStar");function F(O){return O&&O.__esModule?O:{default:O}}o(F,"__importDefault");function P(O,R){if(!R.has(O))throw new TypeError("attempted to get private field on non-instance");return R.get(O)}o(P,"__classPrivateFieldGet");function B(O,R,D){if(!R.has(O))throw new TypeError("attempted to set private field on non-instance");return R.set(O,D),D}o(B,"__classPrivateFieldSet")},"7JpI":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"ClientVideoStreamReceivingReport");l.default=S},"7TH8":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("U9CR")),g=f(h("eFki"));let a=o(class hS{get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(i){if(this.pipe.processors)for(const e of this.pipe.processors)typeof e.setEventController=="function"&&e.setEventController(i)}chooseNewInnerDevice(i){const e=new hS(this.logger,i,this.processors,this.browserBehavior);return e.pipe=this.pipe,e}getInnerDevice(){return this.device}intrinsicDevice(){return S(this,void 0,void 0,function*(){return this.device})}transformStream(i){return S(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(i),this.inputMediaStream=i,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const i=this.device&&this.device.id;if(this.pipe.stop(),!i&&this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop()}stop(){return S(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const i of this.inputMediaStream.getVideoTracks())i.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(i){this.observers.add(i)}removeObserver(i){this.observers.delete(i)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(i=>{i.processingDidStart&&i.processingDidStart()})}processingLatencyTooHigh(i){this.forEachObserver(e=>{e.processingLatencyTooHigh&&e.processingLatencyTooHigh(i)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(i=>{i.processingDidFailToStart&&i.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(i=>{i.processingDidStop&&i.processingDidStop()})}forEachObserver(i){for(const e of this.observers)setTimeout(()=>{i(e)},0)}constructor(i,e,t,n=new u.default){this.logger=i,this.device=e,this.processors=t,this.browserBehavior=n,this.observers=new Set,this.pipe=new g.default(this.logger,this.processors),this.pipe.addObserver(this)}},"DefaultVideoTransformDevice");l.default=a},"7UVU":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("j+uH"));let g=o(class extends u.default{removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const s in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[s]()}addPeerConnectionEventLogger(){const s=this.context.peer;s.addEventListener("connectionstatechange",()=>{this.context.logger.info(`peer connection state changed: ${s.connectionState}`)}),s.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),s.addEventListener("icegatheringstatechange",()=>{this.context.logger.info(`peer connection ice gathering state changed: ${s.iceGatheringState}`)}),s.addEventListener("icecandidate",i=>{this.context.logger.info(`peer connection ice candidate: ${i.candidate?i.candidate.candidate:"(null)"}`)}),s.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info(`peer connection ice connection state changed: ${s.iceConnectionState}`)})}run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const i=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};i.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),i.sdpSemantics="unified-plan",i.encodedInsertableStreams=this.context.audioProfile.hasRedundancyEnabled(),this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(i),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(s){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(s)):!1}addRemoteVideoTrack(s,i){var e;const t=i.id,n=this.context.videoStreamIndex.attendeeIdForTrack(t);let r,c;if(this.context.videoTileController.getVideoTileForAttendeeId?(c=this.context.videoTileController.getVideoTileForAttendeeId(n),r=!!(!((e=c==null?void 0:c.state())===null||e===void 0)&&e.boundVideoStream)):r=this.context.videoTileController.haveVideoTileForAttendeeId(n),r){this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${n}`);return}c||(c=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${c.id()}`));let p=this.context.videoStreamIndex.streamIdForTrack(t);typeof p>"u"&&(this.logger.warn(`stream not found for tile=${c.id()} track=${t}`),p=null);for(let V=0;V<this.trackEvents.length;V++){const N=this.trackEvents[V],F=i.getVideoTracks();if(F&&F.length){const P=F[0],B=o(()=>{this.context.logger.info(`received the ${N} event for tile=${c.id()} id=${s.id} streamId=${p}`),N==="ended"&&this.removeRemoteVideoTrack(s,c.state())},"callback");P.addEventListener(N,B),this.removeVideoTrackEventListeners[s.id]||(this.removeVideoTrackEventListeners[s.id]=[]),this.removeVideoTrackEventListeners[s.id].push(()=>{P.removeEventListener(N,B)})}}let m,d;if(s.getSettings){const V=s.getSettings();m=V.width,d=V.height}else{const V=s.getCapabilities();m=V.width,d=V.height}const y=this.context.videoStreamIndex.externalUserIdForTrack(t);c.bindVideoStream(n,!1,i,m,d,p,y),this.logger.info(`video track added, use tile=${c.id()} track=${t} streamId=${p}`);const E="removetrack",w=i,k=o(()=>this.removeRemoteVideoTrack(s,c.state()),"trackRemovedHandler");this.removeTrackRemovedEventListeners[s.id]=()=>{w.removeEventListener(E,k),delete this.removeTrackRemovedEventListeners[s.id]},w.addEventListener(E,k)}removeRemoteVideoTrack(s,i){if(this.removeTrackRemovedEventListeners.hasOwnProperty(s.id)){this.removeTrackRemovedEventListeners[s.id]();for(const e of this.removeVideoTrackEventListeners[s.id])e();delete this.removeVideoTrackEventListeners[s.id]}this.logger.info(`video track ended, removing tile=${i.tileId} id=${s.id} stream=${i.streamId}`),i.streamId?this.context.videosPaused.remove(i.streamId):this.logger.warn(`no stream found for tile=${i.tileId}`),this.context.videoTileController.removeVideoTile(i.tileId)}constructor(s){super(s.logger),this.context=s,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=i=>{const e=i.track;if(this.context.logger.info(`received track event: kind=${e.kind} id=${e.id} label=${e.label}`),i.transceiver&&i.transceiver.currentDirection==="inactive")return;if(i.streams.length===0){this.context.logger.warn("Track event but no stream");return}const t=i.streams[0];e.kind==="audio"?this.context.audioMixController.bindAudioStream(t):e.kind==="video"&&!this.trackIsVideoInput(e)&&this.addRemoteVideoTrack(e,t)}}},"CreatePeerConnectionTask");l.default=g,g.REMOVE_HANDLER_INTERVAL_MS=1e4},"7W6Z":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("lUhs")),g=f(h("AUdx")),a=f(h("aVV0"));let s=o(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}sessionUsesAudio(){var e,t;return!!(!((t=(e=this.context.meetingSessionConfiguration)===null||e===void 0?void 0:e.urls)===null||t===void 0)&&t.audioHostURL)}sessionUsesVideo(){let t;this.context.transceiverController.useTransceivers()?t=this.context.transceiverController.hasVideoInput():t=this.context.videoTileController.hasStartedLocalVideoTile();const n=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),r=t||n;return this.context.logger.info(`uses video: ${r} (enabled: ${!0}, sending: ${t}, receiving: ${n})`),r}run(){return S(this,void 0,void 0,function*(){const e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(e)}`),yield new Promise((t,n)=>S(this,void 0,void 0,function*(){this.cancelPromise=r=>{n(r)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(e),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new g.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const r=new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.IncompatibleSDP}`);this.context.previousSdpOffer=null,n(r);return}t()}catch(r){n(r)}finally{delete this.cancelPromise}}))})}constructor(e){super(e.logger),this.context=e,this.taskName="CreateSDPTask"}},"CreateSDPTask");l.default=s},"7nob":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"Transcript");l.default=S},"7p5e":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"VideoSource");l.default=S},"8/D0":function(j,l,h){"use strict";h.d(l,"b",function(){return S}),h.d(l,"a",function(){return f});const S={Text:"text",RichText:"rich_text",Message:"message",Number:"number",Select:"select",MultiSelect:"multi_select",Date:"date",User:"user",Attachment:"attachment",Checkbox:"checkbox",Email:"email",Phone:"phone",Channel:"channel",Currency:"currency",Rating:"rating",CreatedBy:"created_by",LastEditedBy:"last_edited_by",CreatedTime:"created_time",LastEditedTime:"last_edited_time",Vote:"vote",Assignee:"assignee",DueDate:"due_date",Completed:"completed"},f={Text:"text",RichText:"rich_text",Message:"message",Number:"number",Select:"select",MultiSelect:"multi_select",Date:"date",User:"user",Attachment:"attachment",Checkbox:"checkbox",Email:"email",Phone:"phone",Channel:"channel",Currency:"currency",Rating:"rating",CreatedBy:"created_by",LastEditedBy:"last_edited_by",CreatedTime:"created_time",LastEditedTime:"last_edited_time",Vote:"vote",Assignee:"assignee",DueDate:"due_date",Completed:"completed"}},"83pg":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Mr6q"));let u=o(class extends f.default{},"BackgroundReplacementVideoFrameProcessorDelegate");l.default=u},"87Nr":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerTransitionResult=void 0;var S;(function(f){f[f.Transitioned=0]="Transitioned",f[f.NoTransitionAvailable=1]="NoTransitionAvailable",f[f.DeferredTransition=2]="DeferredTransition",f[f.TransitionFailed=3]="TransitionFailed"})(S=l.SessionStateControllerTransitionResult||(l.SessionStateControllerTransitionResult={})),l.default=S},"8Bz5":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{addObserver(u){this.observers.add(u)}removeObserver(u){this.observers.delete(u)}onFallback(u,g){var a;for(const s of this.observers)(a=s.voiceFocusFellBackToInnerStream)===null||a===void 0||a.call(s,u,g)}onCPUWarning(){var u;for(const g of this.observers)(u=g.voiceFocusInsufficientResources)===null||u===void 0||u.call(g)}constructor(){this.observers=new Set}},"VoiceFocusTransformDeviceDelegate");l.default=S},"8FET":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(u=5e3,g=2,a=64,s=100,i=15){this.flushIntervalMs=u,this.flushSize=g,this.maxBufferCapacityKb=a,this.totalBufferItems=s,this.retryCountLimit=i}},"EventBufferConfiguration");l.default=S},"8V8Y":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=.8;let f=o(class{reportEvent(g){const a=g-this.lastReportedEventTimestamp;if(a>=this.reportingPeriodMillis){const s=this.filterCount,i=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=g,this.framerate===0||s===0)return;const e=Math.round(i/s),t=Math.round(this.framerate*(a/1e3))-s,n=Math.round(100*i/a);e>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:t,avgFilterDurationMillis:e,framerate:this.framerate,periodMillis:a}),n>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:n,filterMillis:i,periodMillis:a})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*S)}frameReceived(g){g!==this.framerate&&(this.framerate=g,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const a=Date.now();this.reportEvent(a)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}constructor(g,a,s,i){this.delegate=g,this.reportingPeriodMillis=a,this.filterCPUUtilization=s,this.logger=i,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}},"BackgroundFilterFrameCounter");l.default=f},"8dVZ":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("KyYT");let f=o(class{start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(g){g===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):g<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(g,a,s){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",a),this.statsCollector.logLatency("ping_pong_clock_skew",s),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(g){let a=0,s=0;const i=g.getObservableMetrics(),e=i.audioPacketsReceived,t=i.audioPacketsReceivedFractionLoss,n=i.audioSpeakerDelayMs;if(typeof n=="number"&&!isNaN(n)&&this.connectionHealthData.setAudioSpeakerDelayMs(n),typeof e=="number"&&typeof t=="number"){if(a=e,s=t,a<0||s<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,a),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,s),a>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(a===0||s>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof i.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(g){g>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}addToMinuteWindow(g,a){g.unshift(a),g.length>60&&g.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(g=>{S.Maybe.of(g.connectionHealthDidChange).map(a=>a.bind(g)(this.connectionHealthData.clone()))})}constructor(g,a,s,i,e){this.audioVideoController=g,this.realtimeController=a,this.connectionHealthData=s,this.pingPong=i,this.statsCollector=e,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(t=>{this.isActive&&this.receiveSignalStrengthChange(t)})}},"SignalingAndMetricsConnectionMonitor");l.default=f},"8pZh":function(j,l,h){"use strict";var S=h("MkRQ"),f=h("LV2V"),u=h("4k7n"),g=h("AQwl"),a=h("qAkX"),s=Object(f.a)(function(i){var e=Object(a.a)(i);return e=typeof e=="function"?e:void 0,Object(u.a)(Object(S.a)(i,g.a),void 0,e)});l.a=s},"8tla":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("aVV0")),g=f(h("Sl5A"));let a=o(class extends u.default{cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return S(this,void 0,void 0,function*(){for(const i of this.tasksToRunSerially){this.getStatus()===g.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${i.name()}`),this.currentTask=i,yield i.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${i.name()}`)}catch(e){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${e.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskName=e,this.tasksToRunSerially=t,this.currentTask=null;for(const n of t)n.setParent(this)}},"SerialGroupTask");l.default=a},"8wPz":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{start(u){this.stop(),this.timer=setInterval(u,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}constructor(u){this.intervalMs=u}},"IntervalScheduler");l.default=S},"91j7":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(u,g,a,s){this.sequenceNumber=u,this.message=g,this.timestampMs=a,this.logLevel=s}},"Log");l.default=S},"92Bn":function(j,l,h){"use strict";j.exports=u;var S=h("hl97");(u.prototype=Object.create(S.prototype)).constructor=u;var f=h("kU+7");function u(){S.call(this)}o(u,"BufferWriter"),u._configure=function(){u.alloc=f._Buffer_allocUnsafe,u.writeBytesBuffer=f.Buffer&&f.Buffer.prototype instanceof Uint8Array&&f.Buffer.prototype.set.name==="set"?o(function(s,i,e){i.set(s,e)},"writeBytesBuffer_set"):o(function(s,i,e){if(s.copy)s.copy(i,e,0,s.length);else for(var t=0;t<s.length;)i[e++]=s[t++]},"writeBytesBuffer_copy")},u.prototype.bytes=o(function(s){f.isString(s)&&(s=f._Buffer_from(s,"base64"));var i=s.length>>>0;return this.uint32(i),i&&this._push(u.writeBytesBuffer,i,s),this},"write_bytes_buffer");function g(a,s,i){a.length<40?f.utf8.write(a,s,i):s.utf8Write?s.utf8Write(a,i):s.write(a,i)}o(g,"writeStringBuffer"),u.prototype.string=o(function(s){var i=f.Buffer.byteLength(s);return this.uint32(i),i&&this._push(g,i,s),this},"write_string_buffer"),u._configure()},"94P3":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("U++r")),u=h("VCUZ"),g=S(h("/N6y")),a=S(h("GZjp"));let s=o(class{constructor(e,t){this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new f.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,e&&(e=u.toLowerCasePropertyNames(e),e.meeting&&(e=e.meeting),this.meetingId=e.meetingid,this.externalMeetingId=e.externalmeetingid,this.urls=new a.default,this.urls.audioHostURL=e.mediaplacement.audiohosturl,this.urls.signalingURL=e.mediaplacement.signalingurl,this.urls.turnControlURL=e.mediaplacement.turncontrolurl,e.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=e.mediaplacement.eventingestionurl)),t&&(t=u.toLowerCasePropertyNames(t),t.attendee&&(t=t.attendee),this.credentials=new g.default,this.credentials.attendeeId=t.attendeeid,this.credentials.externalUserId=t.externaluserid,this.credentials.joinToken=t.jointoken)}},"MeetingSessionConfiguration");l.default=s},"9AGb":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("KvYa"),u=h("nJ1/");let g=o(class extends u.VoiceFocusAudioWorkletNode{enable(){return S(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return S(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(s){var i;const e=s.data;switch(e.message){case"ready":this.port.postMessage({message:"ready",shared:e.shared},e.shared?Object.values(e.shared):[]);break;case"data":if(!e.buffer)return;this.port.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(e);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"processing":this.port.postMessage(e);break;default:return}}onProcessorMessage(s){var i;const e=s.data;switch(e.message){case"data":if(!e.buffer)return;this.worker.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(e);break;default:return}}constructor(s,i){super(s,i.processor,i),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:e,audioBufferURL:t,worker:n,fetchBehavior:r,delegate:c}=i;this.delegate=c,this.worker=n,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:p,agc:m,supportFarendStream:d}=i.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:s.sampleRate===16e3?160:480,enabled:p,agc:m,fetchBehavior:r,model:e,supportFarendStream:d});const y=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:y,key:"buffer",fetchBehavior:r,path:t})}},"VoiceFocusWorkerPostMessageNode");l.default=g},"9BEE":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class pS{static create(u,g){const a=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!u||u.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!a.test(u))throw new Error(`appName must satisfy ${a} regular expression`);const s=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!g||g.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!s.test(g))throw new Error("appVersion must satisfy Semantic Versioning format");return new pS(u,g)}constructor(u,g){this.appName=u,this.appVersion=g}},"ApplicationMetadata");l.default=S},"9Bli":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}},"RealtimeState");l.default=S},"9ETa":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("JHsX"),f=h("hWev"),u=h("I0Bj"),g=h("87Nr");let a=o(class{perform(i,e){const t=this.currentState;if(t===u.SessionStateControllerState.NotConnected&&i===S.SessionStateControllerAction.Connect)this.transition(u.SessionStateControllerState.Connecting,i);else if(t===u.SessionStateControllerState.Connecting&&i===S.SessionStateControllerAction.Fail)this.transition(u.SessionStateControllerState.Disconnecting,i);else if(t===u.SessionStateControllerState.Connecting&&i===S.SessionStateControllerAction.FinishConnecting)this.transition(u.SessionStateControllerState.Connected,i);else if(t===u.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Disconnect)this.transition(u.SessionStateControllerState.Disconnecting,i);else if(t===u.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Reconnect)this.transition(u.SessionStateControllerState.Connecting,i);else if(t===u.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Fail)this.transition(u.SessionStateControllerState.Disconnecting,i);else if(t===u.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Update)this.transition(u.SessionStateControllerState.Updating,i);else if(t===u.SessionStateControllerState.Updating&&i===S.SessionStateControllerAction.Fail)this.transition(u.SessionStateControllerState.Disconnecting,i);else if(t===u.SessionStateControllerState.Updating&&i===S.SessionStateControllerAction.FinishUpdating)this.transition(u.SessionStateControllerState.Connected,i);else if(t===u.SessionStateControllerState.Disconnecting&&i===S.SessionStateControllerAction.FinishDisconnecting)this.transition(u.SessionStateControllerState.NotConnected,i);else return this.canDefer(i)?(this.logger.info(`deferring transition from ${u.SessionStateControllerState[this.currentState]} with ${S.SessionStateControllerAction[i]}`),this.deferAction(i,e),g.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${u.SessionStateControllerState[this.currentState]} with ${S.SessionStateControllerAction[i]}`),g.SessionStateControllerTransitionResult.NoTransitionAvailable);try{e()}catch(n){return this.logger.error(`error during state ${u.SessionStateControllerState[this.currentState]} with action ${S.SessionStateControllerAction[i]}: ${n}`),this.logger.info(`rolling back transition to ${u.SessionStateControllerState[t]}`),this.currentState=t,g.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),g.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(i,e){this.logger.info(`transitioning from ${u.SessionStateControllerState[this.currentState]} to ${u.SessionStateControllerState[i]} with ${S.SessionStateControllerAction[e]}`),this.currentState=i}deferPriority(i){switch(i){case S.SessionStateControllerAction.Disconnect:return f.SessionStateControllerDeferPriority.VeryHigh;case S.SessionStateControllerAction.Fail:return f.SessionStateControllerDeferPriority.High;case S.SessionStateControllerAction.Reconnect:return f.SessionStateControllerDeferPriority.Medium;case S.SessionStateControllerAction.Update:return f.SessionStateControllerDeferPriority.Low;default:return f.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(i,e){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(i)||(this.deferredAction=i,this.deferredWork=e)}canDefer(i){return this.deferPriority(i)!==f.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===u.SessionStateControllerState.Connecting||this.currentState===u.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const i=this.deferredAction,e=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${S.SessionStateControllerAction[i]}`),this.perform(i,e)!==g.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${S.SessionStateControllerAction[i]} in state ${u.SessionStateControllerState[this.currentState]}`)}constructor(i){this.logger=i,this.currentState=u.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}},"DefaultSessionStateController");l.default=a},"9IN5":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MAX_HASHABLE_LENGTH=l.INIT=l.KEY=l.DIGEST_LENGTH=l.BLOCK_SIZE=void 0,l.BLOCK_SIZE=64,l.DIGEST_LENGTH=32,l.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],l.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},"9bRS":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{create(){const u={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{u.paused=!0},play:()=>(u.paused=!1,Promise.resolve())};return u}},"NoOpVideoElementFactory");l.default=S},"9mJw":function(j,l,h){"use strict";var S=h("wpDl"),f=Object(S.a)("round");l.a=f},"9oOt":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0}),l.NoOpDeviceControllerWithEventController=void 0;const u=f(h("3niY"));let g=o(class extends u.default{destroy(){return S(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(i){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(i){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(i){return Promise.reject()}addDeviceChangeObserver(i){}removeDeviceChangeObserver(i){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(i){}stopVideoPreviewForVideoInput(i){}setDeviceLabelTrigger(i){}mixIntoAudioInput(i){return null}chooseVideoInputQuality(i,e,t){}getVideoInputQualitySettings(){return null}constructor(i){super(),this.destroyed=!1}},"NoOpDeviceController");l.default=g;let a=o(class extends g{constructor(i){super(),this.eventController=i}},"NoOpDeviceControllerWithEventController");l.NoOpDeviceControllerWithEventController=a},A4hc:function(j,l,h){"use strict";j.exports=h("PhnE")},AI3F:function(j,l,h){"use strict";(function(S){Object.defineProperty(l,"__esModule",{value:!0}),l.convertToBuffer=void 0;var f=h("f/KM"),u=typeof S<"u"&&S.from?function(a){return S.from(a,"utf8")}:f.fromUtf8;function g(a){return a instanceof Uint8Array?a:typeof a=="string"?u(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}o(g,"convertToBuffer"),l.convertToBuffer=g}).call(this,h("HDXh").Buffer)},AM8c:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default={hash:"7b41b42",raw:"v3.19.0",semverString:"3.19.0"}},AUdx:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("0YRd")),u=S(h("Iwfh")),g=S(h("CLOt"));let a=o(class Jt{clone(){return new Jt(this.sdp)}static isRTPCandidate(i){const e=/candidate[:](\S+) (\d+)/g.exec(i);return!(e===null||e[2]!=="1")}static linesToSDP(i){return new Jt(i.join(Jt.CRLF))}static candidateTypeFromString(i){switch(i){case f.default.Host:return f.default.Host;case f.default.ServerReflexive:return f.default.ServerReflexive;case f.default.PeerReflexive:return f.default.PeerReflexive;case f.default.Relay:return f.default.Relay}return null}static candidateType(i){const e=/a[=]candidate[:].* typ ([a-z]+) /g.exec(i);return e===null?null:Jt.candidateTypeFromString(e[1])}static mediaType(i){const e=/m=(audio|video)/g.exec(i);if(e!==null)return e[1]}static mid(i){if(i.includes("a=mid:"))return i.replace(/^(a=mid:)/,"")}static direction(i){const e=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(i);if(e!==null)return e[1]}static splitLines(i){return i.trim().split(`
`).map(e=>e.trim())}static splitSections(i){return i.split(`
m=`).map((t,n)=>(n>0?"m="+t:t).trim()+Jt.CRLF)}static findActiveCameraSection(i){let e=0,t=!1;for(const n of i){if(/^m=video/.test(n)&&(n.indexOf("sendrecv")>-1||n.indexOf("sendonly")===-1&&n.indexOf("recvonly")===-1&&n.indexOf("inactive")===-1)){t=!0;break}e++}return t===!1&&(e=-1),e}static extractSSRCsFromFIDGroupLine(i){return/^a=ssrc-group:FID\s(.+)/.exec(i)[1]}static matchPrefix(i,e){return Jt.splitLines(i).filter(t=>t.indexOf(e)===0)}lines(){return this.sdp.split(Jt.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(i){return Jt.linesToSDP(this.lines().filter(e=>Jt.candidateType(e)!==i))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(f.default.ServerReflexive)}withAudioMaxAverageBitrate(i){if(!i)return this.clone();i=Math.trunc(Math.min(Math.max(i,Jt.rfc7587LowestBitrate),Jt.rfc7587HighestBitrate));const e=this.lines(),t=Jt.findOpusFmtpAttributes(e),n=Jt.updateOpusFmtpAttributes(e,t,[`maxaveragebitrate=${i}`]);return Jt.linesToSDP(n)}withStereoAudio(){const i=this.lines(),e=Jt.findOpusFmtpAttributes(i),t=Jt.updateOpusFmtpAttributes(i,e,["stereo=1","sprop-stereo=1"]);return Jt.linesToSDP(t)}static findOpusFmtpAttributes(i){const e=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let t=!1;const n=[];for(const r of i)if(r.startsWith("m=audio")&&(n.push(null),t=!0),r.startsWith("m=video")&&(t=!1),t){const c=e.exec(r);c!==null&&(n[n.length-1]=`a=fmtp:${c[1]} `)}return n}static updateOpusFmtpAttributes(i,e,t){const n=[];let r=0,c=null;for(const p of i)if(p.startsWith("m=audio")&&(c=e[r],r++),p.startsWith("m=video")&&(c=null),c&&p.startsWith(c)){const m=p.slice(c.length).split(";"),d=[];for(const y of m)t.findIndex(w=>w.startsWith(y.split("=")[0]))<0&&d.push(y);for(const y of t)d.push(y);n.push(c+d.join(";"))}else n.push(p);return n}withUnifiedPlanFormat(){let i=this.sdp;return i.includes("mozilla")?this.clone():(i=i.replace("o=-","o=mozilla-chrome"),new Jt(i))}getUniqueRtpHeaderExtensionId(i){const e=[];for(const n of i)if(/^a=extmap:/.test(n.trim())){const c=+n.split("a=extmap:")[1].split(" ")[0];e.includes(c)||e.push(c)}e.sort((n,r)=>n-r);let t=0;for(const n of e){if(n-t>1)return t+1;t=n}return t===14?-1:t+1}withVideoLayersAllocationRtpHeaderExtension(i){return this.withRtpHeaderExtension(i,Jt.videoLayersAllocationRtpHeaderExtensionUrl)}withDependencyDescriptorRtpHeaderExtension(i){return this.withRtpHeaderExtension(i,Jt.dependencyDescriptorRtpHeaderExtensionUrl)}withoutDependencyDescriptorRtpHeaderExtension(){const i=Jt.splitLines(this.sdp).filter(e=>!e.includes(Jt.dependencyDescriptorRtpHeaderExtensionUrl));return new Jt(i.join(Jt.CRLF)+Jt.CRLF)}withRtpHeaderExtension(i,e){const t=i?i.getRtpHeaderExtensionId(e):-1,n=t===-1?this.getUniqueRtpHeaderExtensionId(Jt.splitLines(this.sdp)):t,r=Jt.splitSections(this.sdp),c=[];for(let m of r){if(/^m=video/.test(m)&&Jt.getRtpHeaderExtensionIdInSection(m,e)===-1){const d=Jt.splitLines(m),y=[];if(n===-1||this.hasRtpHeaderExtensionId(n)){c.push(m);continue}for(const E of d)if(y.push(E),/^a=sendrecv/.test(E.trim())){const w="a=extmap:"+n+" "+e;y.push(w)}m=y.join(Jt.CRLF)+Jt.CRLF}else if(t!==-1&&/^m=video/.test(m)&&Jt.getRtpHeaderExtensionIdInSection(m,e)!==t){const d=Jt.splitLines(m),y=[];for(const E of d){if(/^a=extmap:/.test(E.trim())&&E.split("a=extmap:")[1].split(" ")[1]===e){if(!this.hasRtpHeaderExtensionId(t)){const k="a=extmap:"+t+" "+e;y.push(k)}continue}y.push(E)}m=y.join(Jt.CRLF)+Jt.CRLF}c.push(m)}const p=c.join("");return new Jt(p)}ssrcForVideoSendingSection(){const i=this.sdp,e=Jt.splitSections(i);if(e.length<2)return"";const t=Jt.findActiveCameraSection(e);if(t===-1)return"";const n=Jt.matchPrefix(e[t],"a=ssrc-group:FID ");if(n.length<1)return"";const r=Jt.extractSSRCsFromFIDGroupLine(n[0]),[c]=r.split(" ").map(p=>parseInt(p,10));return c.toString()}videoSendSectionHasDifferentSSRC(i){const e=this.ssrcForVideoSendingSection(),t=i.ssrcForVideoSendingSection();if(e===""||t==="")return!1;const n=parseInt(e,10),r=parseInt(t,10);return n!==r}removeH264SupportFromSendSection(){const i=this.sdp,e=Jt.splitSections(i),t=Jt.findActiveCameraSection(e);if(t===-1)return new Jt(this.sdp);const n=e[t],r=Jt.splitLines(n),c=[],p=new Map;r.forEach(E=>{if(/^a=rtpmap:/.test(E)){const w=/^a=rtpmap:([0-9]+)\s/.exec(E);w&&E.toLowerCase().includes("h264")&&c.push(parseInt(w[1],10))}if(/^a=fmtp:/.test(E)){const w=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(E);if(w&&w.length===3){const k=parseInt(w[1],10),V=parseInt(w[2],10);p.has(V)?p.get(V).push(k):p.set(V,[k])}}});const m=new Set;for(const E of c){m.add(E);const w=p.get(E);if(w)for(const k of w)m.add(k)}if(c.length>0){const E=r[0].split(" ");r[0]=E.filter(w=>!m.has(parseInt(w))).join(" ")}const d=r.filter(E=>{if(!E.includes("rtpmap")&&!E.includes("rtcp-fb")&&!E.includes("fmtp"))return!0;for(const w of m)if(E.includes(w.toString()))return!1;return!0});e[t]=d.join(Jt.CRLF)+Jt.CRLF;const y=e.join("");return new Jt(y)}mediaSections(){const i=Jt.splitSections(this.sdp);if(i.length<2)return[];const e=[];for(let t=1;t<i.length;t++){const n=new u.default,r=Jt.splitLines(i[t]);for(const c of r){const p=Jt.mediaType(c);if(p!==void 0){n.mediaType=p;continue}const m=Jt.direction(c);if(m!==void 0){n.direction=m;continue}const d=Jt.mid(c);if(d!==void 0){n.mid=d;continue}}e.push(n)}return e}static getRtpHeaderExtensionIdInSection(i,e){const t=Jt.splitLines(i);for(const n of t)if(/^a=extmap:/.test(n.trim())){const r=n.split("a=extmap:")[1].split(" "),c=+r[0];if(r[1]===e)return c}return-1}getRtpHeaderExtensionId(i){const e=Jt.splitSections(this.sdp);for(const t of e)if(/^m=video/.test(t)){const n=Jt.getRtpHeaderExtensionIdInSection(t,i);if(n!==-1)return n}return-1}hasRtpHeaderExtensionId(i){const e=Jt.splitLines(this.sdp);for(const t of e)if(/^a=extmap:/.test(t.trim())&&+t.split("a=extmap:")[1].split(" ")[0]===i)return!0;return!1}withVideoSendCodecPreferences(i){const e=this.sdp,t=Jt.splitSections(e),n=Jt.findActiveCameraSection(t);if(n===-1)return new Jt(this.sdp);t[n]=this.sectionWithCodecPreferences(t[n],i);const r=t.join("");return new Jt(r)}sectionWithCodecPreferences(i,e){const t=new Map,n=Jt.splitLines(i);n.forEach(m=>{if(/^a=rtpmap:/.test(m))for(const d of e){if(!m.includes(`${d.codecName}/${d.codecCapability.clockRate}`))continue;const y=/^a=rtpmap:([0-9]+)\s/.exec(m);let E=!1;if(d.codecCapability.sdpFmtpLine!==void 0){let w=!1;for(const k of n){if(k.startsWith(`a=fmtp:${y[1]} ${d.codecCapability.sdpFmtpLine}`)){E=!0;break}k.startsWith(`a=fmtp:${y[1]} profile-id=`)&&(w=!0)}d.equals(g.default.vp9Profile0())&&!w&&(E=!0)}else E=!0;if(E){t.set(d.codecName,y[1]);break}}});const r=new Set(t.values()),c=n[0].split(" ").filter(m=>!r.has(m)),p=Array.from(t.values()).sort((m,d)=>{const y=e.findIndex(w=>t.get(w.codecName)===m),E=e.findIndex(w=>t.get(w.codecName)===d);return y-E});return c.splice(3,0,...p.values()),n[0]=c.join(" "),n.join(Jt.CRLF)+Jt.CRLF}highestPriorityVideoSendCodec(){const i=this.sdp,e=Jt.splitSections(i),t=Jt.findActiveCameraSection(e);if(t===-1)return;const n=Jt.splitLines(e[t]),r=n[0].split(" ");if(r.length<4)return;const c=r[3];let p,m,d;for(const y of n){const E=/^a=rtpmap:([0-9]+)\s/.exec(y);if(E===null||E.length<2||E[1]!==c)continue;const k=y.split(" ")[1].split("/");if(!(k===void 0||k.length<2)){p=k[0],m=k[1];for(const V of n)if(V.startsWith(`a=fmtp:${c}`)){const N=V.split(" ");if(N===void 0||N.length<2)return;d=N[1];continue}break}}if(p!==void 0)return new g.default(p,{clockRate:parseInt(m),mimeType:`video/${p}`,sdpFmtpLine:d})}getAudioPayloadTypes(){const i=new Map,e=this.sdp,t=Jt.splitSections(e);return i.set("opus",Jt.findAudioPayloadType("opus",t)),i.set("red",Jt.findAudioPayloadType("red",t)),i}static findAudioPayloadType(i,e){const t=`a=rtpmap:\\s*(\\d+)\\s+${i}\\/48000`,n=new RegExp(t);for(const r of e)if(/^m=audio/.test(r)){const c=n.exec(r);if(c!==null)return Number(c[1])}return 0}withStartingVideoSendBitrate(i){const e=Jt.splitSections(this.sdp),t=Jt.findActiveCameraSection(e);if(t===-1)return this;const n=Jt.splitLines(e[t]),r=[];for(const p of n)if(/^a=fmtp:\d*/.test(p)){const m=p+`;x-google-start-bitrate=${i*1e3}`;r.push(m)}else r.push(p);e[t]=r.join(Jt.CRLF)+Jt.CRLF;const c=e.join("");return new Jt(c)}constructor(i){this.sdp=i}},"SDP");l.default=a,a.CRLF=`\r
`,a.rfc7587LowestBitrate=6e3,a.rfc7587HighestBitrate=51e4,a.dependencyDescriptorRtpHeaderExtensionUrl="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension",a.videoLayersAllocationRtpHeaderExtensionUrl="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00"},AXyi:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerState=void 0;var S;(function(f){f[f.NotConnected=0]="NotConnected",f[f.Connecting=1]="Connecting",f[f.Connected=2]="Connected",f[f.Updating=3]="Updating",f[f.Disconnecting=4]="Disconnecting"})(S=l.SessionStateControllerState||(l.SessionStateControllerState={})),l.default=S},AaDX:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={InvalidCampaign:"invalid_campaign"},t=Object(a.a)("promo.campaigns.eligibilityInfo generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d),E=yield r(Object(g.apiCall)({method:"promo.campaigns.eligibilityInfo",args:y,reason:p.reason}));return Object(i.a)(E)}catch(m){throw Object(s.a)({getState:c}).error(`API call to promo.campaigns.eligibilityInfo
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherpromoCampaignsEligibilityInfoFetcher",description:"promo.campaigns.eligibilityInfo generated fetcher"}},"Agw+":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(n,r,c,p){function m(d){return d instanceof c?d:new c(function(y){y(d)})}return o(m,"adopt"),new(c||(c=Promise))(function(d,y){function E(V){try{k(p.next(V))}catch(N){y(N)}}o(E,"fulfilled");function w(V){try{k(p.throw(V))}catch(N){y(N)}}o(w,"rejected");function k(V){V.done?d(V.value):m(V.value).then(E,w)}o(k,"step"),k((p=p.apply(n,r||[])).next())})},f=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("ywpn")),g=f(h("e/ca")),a=f(h("uctb")),s=f(h("Wjms")),i=f(h("raQ4"));let e=o(class extends s.default{loadAssets(){return S(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return S(this,void 0,void 0,function*(){})}},"NoOpBackgroundReplacementProcessor"),t=o(class mS extends u.default{static create(r,c){return S(this,void 0,void 0,function*(){r=this.resolveSpec(r),c=this.resolveOptions(c),yield this.resolveOptionsAsync(c);const{logger:p}=c;if(!(yield mS.isSupported(r,c)))return p.warn("Using no-op processor because background replacement is not supported"),new e;p.info("Using background replacement filter");const d=new i.default(r,c);return yield d.loadAssets(),d})}static resolveOptions(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c=Object.assign({},r);return c.logger||(c.logger=new g.default("BackgroundReplacementProcessor",a.default.INFO)),super.resolveOptions(c)}static resolveOptionsAsync(r){return S(this,void 0,void 0,function*(){if(!r.imageBlob){const c=document.createElement("canvas");c.width=100,c.height=100;const p=c.getContext("2d");p.fillStyle="blue",p.fillRect(0,0,100,100);const m=yield new Promise(d=>{c.toBlob(d)});r.imageBlob=m}})}static isSupported(r,c){const p=Object.create(null,{isSupported:{get:()=>super.isSupported}});return S(this,void 0,void 0,function*(){r=this.resolveSpec(r),c=this.resolveOptions(c),yield this.resolveOptionsAsync(c);const m=c.imageBlob,d=URL.createObjectURL(m);try{yield i.default.loadImage(d)}catch(y){return c.logger.info(`Failed to fetch load replacement image ${y.message}`),!1}finally{URL.revokeObjectURL(d)}return p.isSupported.call(this,r,c)})}},"BackgroundReplacementVideoFrameProcessor");l.default=t},Aplu:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.None=l.Some=l.Maybe=void 0;let S=o(class{static of(a){return a==null?u.of():f.of(a)}},"Maybe");l.Maybe=S;let f=o(class gS{map(a){return S.of(a(this.value))}flatMap(a){return a(this.value)}get(){return this.value}getOrElse(a){return this.value}defaulting(a){return S.of(this.getOrElse(a))}static of(a){if(a==null)throw new Error("value is ${value}");return new gS(a)}constructor(a){this.value=a,this.isSome=!0,this.isNone=!1}},"Some");l.Some=f;let u=o(class Uc{get(){throw new Error("value is null")}getOrElse(a){return a}map(a){return new Uc}flatMap(a){return new Uc}defaulting(a){return S.of(this.getOrElse(a))}static of(){return new Uc}constructor(){this.isSome=!1,this.isNone=!0}},"None");l.None=u},AqXs:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={ListNotFound:"list_not_found",TeamNotFound:"team_not_found",UserNotFound:"user_not_found",InvalidCursor:"invalid_cursor"},t=Object(a.a)("lists.records.list generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"lists.records.list",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to lists.records.list
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherlistsRecordsListFetcher",description:"lists.records.list generated fetcher"}},AtlK:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(y,E,w,k){function V(N){return N instanceof w?N:new w(function(F){F(N)})}return o(V,"adopt"),new(w||(w=Promise))(function(N,F){function P(R){try{O(k.next(R))}catch(D){F(D)}}o(P,"fulfilled");function B(R){try{O(k.throw(R))}catch(D){F(D)}}o(B,"rejected");function O(R){R.done?N(R.value):V(R.value).then(P,B)}o(O,"step"),O((k=k.apply(y,E||[])).next())})},f=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("o3U+"),g=h("EkyC"),a=h("KvYa"),s=f(h("U9CR")),i=f(h("aZJ3")),e=h("VCUZ"),t=f(h("ac3q")),n=f(h("Xv43")),r=h("O9RP"),c=h("1AO7"),p=h("Lxy7"),m=h("C5KY");let d=o(class Id{process(E){return S(this,void 0,void 0,function*(){return E})}fxProcess(E){return S(this,void 0,void 0,function*(){const w=E[0].asCanvasElement();this.didStreamParametersChange(w)&&(yield this.adjustProcessorForNewStreamParameters(w));try{yield this.manageSegmentationMask(w)}catch(k){throw this.logger.error(k),new Error("Video stream could not be processed")}return yield this.renderer.render(w,this.segmentationMask),E[0]=this.canvasVideoFrameBuffer,E})}noOpProcess(E){return S(this,void 0,void 0,function*(){return E})}didStreamParametersChange(E){return E.width!==this.streamParameters.width||E.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(E){return S(this,void 0,void 0,function*(){this.streamParameters.width=E.width,this.streamParameters.height=E.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return S(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new r.DeferredPromise,this.engineWorker.postMessage({msg:p.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:p.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(E){return S(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const w=this.canvasOpsManager.getInferenceInputData(E);this.segmentationMask=yield this.generateSegmentationMask(w),this.segmentationRateManager.completeSegmentation()}}catch(w){throw this.logger.error(w.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(E){return S(this,void 0,void 0,function*(){Id.isSharedArrayBufferSupported?(this.sharedImageData.set(E.data),this.engineWorker.postMessage({msg:p.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:p.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:E},[E.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(w){throw this.logger.error(w.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(E){return{backgroundBlur:{isEnabled:E.backgroundBlur.isEnabled,strength:E.backgroundBlur.strength},backgroundReplacement:{isEnabled:E.backgroundReplacement.isEnabled,backgroundImageURL:E.backgroundReplacement.backgroundImageURL,defaultColor:E.backgroundReplacement.defaultColor}}}setEffectConfig(E){return S(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(E,this.effectConfig))return;const w=this.cloneConfigFrom(E);try{yield this.validateEffectConfig(w)}catch(k){throw this.logger.error(k.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}w.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(w),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,w),this.effectConfig=w,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(E){return S(this,void 0,void 0,function*(){if(E.backgroundBlur.isEnabled&&E.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");E.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(E))})}validateReplacementConfig(E){return S(this,void 0,void 0,function*(){if(E.backgroundReplacement.backgroundImageURL&&E.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!E.backgroundReplacement.backgroundImageURL&&!E.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{E.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(E.backgroundReplacement.backgroundImageURL))}catch(k){throw this.logger.error(k.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const w=E.backgroundReplacement.defaultColor;if(w&&w!=="black"&&w!=="#000000"&&w!=="#000"){if(w.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(w))throw new Error(`Invalid hexadecimal color code for default replacement background: ${w}`);const V=document.createElement("canvas").getContext("2d"),N=V.fillStyle;if(V.fillStyle=w,V.fillStyle===N)throw new Error(`Invalid color for default replacement background: ${w}`)}})}validateProcessingBudgetPerFrame(E){if(E<p.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||E>p.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error(`Invalid resource constraint: cycle percentage must be within range of ${p.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${p.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return S(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const E=this.getVideoFxAssetParams();yield this.loadEngineWorker(E),yield this.buildEngine(E),yield this.loadFxLib(E),this.renderer=constructRenderer(p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(E){throw this.logger.error(E.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const E=e.getDefaultAssetSpec();return{assetGroup:E.assetGroup,revisionID:E.revisionID,sdk:encodeURIComponent(t.default.sdkVersion),ua:encodeURIComponent(t.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(E,w){const k=new URL(E);for(const[V,N]of Object.entries(w))if(N!==void 0){const F=encodeURIComponent(V),P=encodeURIComponent(N);k.searchParams.set(F,P)}return k.toString()}loadEngineWorker(E){return S(this,void 0,void 0,function*(){try{const w=this.getPathFromVideoFxAssetParams(p.CDN_BASE_PATH+p.WORKER_PATH,E);this.engineWorker=yield g.loadWorker(w,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",k=>this.engineWorkerReceiver(k))}catch(w){throw this.logger.error(w.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(E){return S(this,void 0,void 0,function*(){this.buildEnginePromise=new r.DeferredPromise,this.engineWorker.postMessage({msg:p.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:p.CDN_BASE_PATH,sdkVersioningParams:E}});try{yield this.buildEnginePromise.getPromise()}catch(w){throw this.logger.error(w.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(E){return S(this,void 0,void 0,function*(){const w=this.getPathFromVideoFxAssetParams(p.CDN_BASE_PATH+p.FXLIB_PATH,E),k={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const V=yield u.fetchWithBehavior(w,k,{});if(!V.ok)throw new Error("Fetch failed.");const N=window.URL.createObjectURL(yield V.blob());yield new Promise((F,P)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",N),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",F),this.fxLibScript.addEventListener("error",P),document.body.appendChild(this.fxLibScript)})}catch(V){throw this.logger.error(V.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(E){const w=E.data;switch(w.msg){case p.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(w.payload);break;case p.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(w.payload.output);break;case p.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case p.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(w)}`);break}}settleEngineBuildPromise(E){E!==p.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(E){E?this.segmentationRequestPromise.resolveAndReplacePromise(E):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const E=new ImageData(new Uint8ClampedArray(this.sharedImageData),p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(E)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new i.default,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return S(this,void 0,void 0,function*(){let k=!0;const V=o((P,B)=>{P&&(E.info(B),k=!1)},"checkEnv");V(typeof globalThis>"u","Browser does not have globalThis."),V(!a.supportsWorker(globalThis,E),"Browser does not support web workers."),V(!a.supportsWASM(globalThis,E),"Browser does not support wasm."),V(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const N=new s.default;V(!N.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const F=o(()=>S(this,void 0,void 0,function*(){if(w)try{const P=new Id(E);yield P.loadAssets(),yield P.destroy()}catch{return E.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)}),"checkProcessor");return Promise.resolve(k?yield F():!1)})}static create(E,w){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME;return S(this,void 0,void 0,function*(){const V=new Id(E,k);try{return yield V.loadAssets(),yield V.setEffectConfig(w),V}catch(N){throw E.error(N.toString()),V.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(E){this.eventController?this.eventController=E:(this.eventController=E,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const E={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",E)}sameVideoFxConfig(E,w){return E.backgroundBlur.isEnabled===w.backgroundBlur.isEnabled&&E.backgroundBlur.strength===w.backgroundBlur.strength&&E.backgroundReplacement.backgroundImageURL===w.backgroundReplacement.backgroundImageURL&&E.backgroundReplacement.defaultColor===w.backgroundReplacement.defaultColor&&E.backgroundReplacement.isEnabled===w.backgroundReplacement.isEnabled}constructor(E,w=p.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,k){this.logger=E,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new n.default(this.outputCanvas);try{this.validateProcessingBudgetPerFrame(w)}catch(V){throw this.logger.error(V),new Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${w}`)}k&&(this.eventController=k),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new r.DeferredPromise,this.segmentationRateManager=new m.VideoFxSegmentationRateManager(this.logger,w),this.streamParameters={framerate:p.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:p.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:p.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:p.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},Id.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${Id.isSharedArrayBufferSupported}`),this.canvasOpsManager=new c.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${w}`)}},"VideoFxProcessor");l.default=d,d.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u"},B7cK:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("xzjI"));let u=o(class extends f.default{constructor(a){super(a),this.name="NotFoundError"}},"NotFoundError");l.default=u},BEtg:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("K4CH"),u=S(h("ac3q"));let g=o(class Nl{getParserResult(){var s,i;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((s=this.parserResult)===null||s===void 0?void 0:s.os.name)||Nl.UNAVAILABLE,osVersion:((i=this.parserResult)===null||i===void 0?void 0:i.os.version)||Nl.UNAVAILABLE,sdkVersion:u.default.sdkVersion,sdkName:u.default.sdkName}}constructor(s){var i,e,t,n,r,c,p;try{this.parserResult=navigator&&navigator.userAgent?new f.UAParser(navigator.userAgent).getResult():void 0}catch(m){s.error(m.message)}this.browserMajorVersion=((t=(e=(i=this.parserResult)===null||i===void 0?void 0:i.browser)===null||e===void 0?void 0:e.version)===null||t===void 0?void 0:t.split(".")[0])||Nl.UNAVAILABLE,this.browserName=((n=this.parserResult)===null||n===void 0?void 0:n.browser.name)||Nl.UNAVAILABLE,this.browserVersion=((r=this.parserResult)===null||r===void 0?void 0:r.browser.version)||Nl.UNAVAILABLE,this.deviceName=[((c=this.parserResult)===null||c===void 0?void 0:c.device.vendor)||"",((p=this.parserResult)===null||p===void 0?void 0:p.device.model)||""].join(" ").trim()||Nl.UNAVAILABLE}},"DefaultUserAgentParser");l.default=g,g.UNAVAILABLE="Unavailable"},BGMr:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("ezoW")),u=S(h("VYs+")),g=h("Aplu"),a=S(h("Biyp")),s=S(h("p5Ac"));let i=o(class Zo{updateConnectionMetric(t){let{uplinkKbps:n=0}=t;if(isNaN(n))return;this.startTimeMs===0&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<Zo.startupDurationMs?this.lastUplinkBandwidthKbps=Zo.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=n,this.logger.debug(()=>`simulcast: uplink policy update metrics ${this.lastUplinkBandwidthKbps}`);let r=Zo.holdDownDurationMs;this.currentActiveStreams===3?r=Zo.holdDownDurationMs*2:(this.currentActiveStreams===2&&n<=Zo.kMidDisabledRate||this.currentActiveStreams===1&&n<=Zo.kHiDisabledRate)&&(r=Zo.holdDownDurationMs/2),!(Date.now()<this.lastUpdatedMs+r)&&(this.newQualityMap=this.calculateEncodingParameters(!1))}calculateEncodingParameters(t){const n=[new s.default,new s.default,new s.default];let r=0,c=0;if(this.currentActiveStreams===0?(r=this.lastUplinkBandwidthKbps+1,c=0):this.currentActiveStreams===1?(r=2400,c=Zo.kHiDisabledRate):this.currentActiveStreams===2?(r=1e3,c=Zo.kMidDisabledRate):(r=300,c=0),t||this.lastUplinkBandwidthKbps>=r||this.lastUplinkBandwidthKbps<=c){this.shouldDisableSimulcast?(this.newActiveStreams=0,n[0].maxBitrateKbps=0,n[1].maxBitrateKbps=1200,n[2].maxBitrateKbps=0):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=Zo.kHiDisabledRate?(this.newActiveStreams=1,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=1200):this.lastUplinkBandwidthKbps>=Zo.kMidDisabledRate?(this.newActiveStreams=2,n[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=350?200:150,n[1].maxBitrateKbps=this.numSenders<=6?600:350,n[2].maxBitrateKbps=0):(this.newActiveStreams=3,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=0);const p=n.map((m,d,y)=>m.maxBitrateKbps);this.newQualityMap=this.fillEncodingParamWithBitrates(p),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters bw:${this.lastUplinkBandwidthKbps} numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`)}return this.newQualityMap}chooseMediaTrackConstraints(){return{width:{ideal:1280},height:{ideal:768},frameRate:{ideal:15}}}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(t){const n=t.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,r=n!==this.numSenders,c=t.numberOfParticipants(),p=c>=0&&c<=2,m=this.shouldDisableSimulcast!==p;this.numSenders=n,this.shouldDisableSimulcast=p,this.optimalParameters=new a.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=t,this.newQualityMap=this.calculateEncodingParameters(r||m)}wantsResubscribe(){let t=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(let n=0;n<this.nextLocalDescriptions.length;n++){const r=this.nextLocalDescriptions[n].streamId;if(r!==0&&r){const c=this.currLocalDescriptions.findIndex(p=>p.streamId===r);c!==-1&&this.nextLocalDescriptions[n].disabledByWebRTC!==this.currLocalDescriptions[c].disabledByWebRTC&&(t=!0)}}return t&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,t}compareEncodingParameter(t,n){return JSON.stringify(t)===JSON.stringify(n)}encodingParametersEqual(){let t=!1;for(const n of u.default.NAME_ARR_ASCENDING)if(t=t||!this.compareEncodingParameter(this.newQualityMap.get(n),this.currentQualityMap.get(n)),t)break;return!t}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return 1280}captureHeight(){return 768}captureFrameRate(){return 15}maxBandwidthKbps(){return 1400}setIdealMaxBandwidthKbps(t){}setHasBandwidthPriority(t){}fillEncodingParamWithBitrates(t){const n=new Map,r=1e3,c=u.default.NAME_ARR_ASCENDING,p=t;let m=this.shouldDisableSimulcast?1:4;for(let d=0;d<c.length;d++){const y=c[d];n.set(y,{rid:y,active:p[d]>0,scaleResolutionDownBy:Math.max(m,1),maxBitrate:p[d]*r}),m=m/2}return n}getQualityMapString(t){let n="";const r=this.videoIndex.localStreamDescriptions();return r.length===3&&t.forEach(c=>{let p=!1;c.rid==="low"?p=r[0].disabledByWebRTC:c.rid==="mid"?p=r[1].disabledByWebRTC:p=r[2].disabledByWebRTC,n+=`{ rid: ${c.rid} active:${c.active} disabledByWebRTC: ${p} maxBitrate:${c.maxBitrate}}`}),n}getEncodingSimulcastLayer(t){switch(t){case 0:return f.default.High;case 1:return f.default.LowAndHigh;case 2:return f.default.LowAndMedium;case 3:return f.default.Low}}publishEncodingSimulcastLayer(){const t=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(n=>{g.Maybe.of(n.encodingSimulcastLayersDidChange).map(r=>r.bind(n)(t))})}addObserver(t){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const n of this.observerQueue)t(n)}constructor(t,n){this.selfAttendeeId=t,this.logger=n,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=Zo.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.optimalParameters=new a.default(0,0,0,0,!0),this.parametersInEffect=new a.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=Zo.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([300,0,1200]),this.newQualityMap=this.fillEncodingParamWithBitrates([300,0,1200])}},"DefaultSimulcastUplinkPolicy");l.default=i,i.defaultUplinkBandwidthKbps=1200,i.startupDurationMs=6e3,i.holdDownDurationMs=4e3,i.defaultMaxFrameRate=15,i.kHiDisabledRate=700,i.kMidDisabledRate=240},BY2i:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("/AJg"));let u=o(class oc{allowSubscribe(a,s){let i=0;const e=this.currentNetworkEvent;if(s>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=s,!0;if(s<this.referenceBitrate){if(this.currentNetworkEvent=1,i=this.getSubscribeDelay(this.currentNetworkEvent,a),e!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>i)return this.referenceBitrate=s,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(a,s){let i=oc.MINIMUM_DELAY_MS;const e=oc.MAXIMUM_DELAY_MS-oc.MINIMUM_DELAY_MS,t=this.networkIssueResponseDelayFactor;switch(a){case 1:i+=e*t*(1+s/10),i=Math.min(oc.MAXIMUM_DELAY_MS,i);break}return i}constructor(a=0,s=0){this.networkIssueResponseDelayFactor=a,this.networkIssueRecoveryDelayFactor=s,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=f.default.Default,a<0?a=0:a>1&&(a=1),this.networkIssueResponseDelayFactor=a,s<0?s=0:s>1&&(s=1),this.networkIssueRecoveryDelayFactor=s}},"VideoPriorityBasedPolicyConfig");l.default=u,u.MINIMUM_DELAY_MS=2e3,u.MAXIMUM_DELAY_MS=8e3,u.Default=new u(0,0),u.UnstableNetworkPreset=new u(0,1),u.StableNetworkPreset=new u(1,0)},Biyp:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class SS{equal(u){let g=u.captureWidth()===this.cameraWidth&&u.captureHeight()===this.cameraHeight&&u.captureFrameRate()===this.cameraFrameRate&&u.encodeBitrates().length===this.encodeBitrates().length&&u.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&u.encodeWidths().length===this.encodeWidths().length&&u.encodeHeights().length===this.encodeHeights().length;if(g){for(let a=0;a<u.encodeWidths().length;a++)if(u.encodeWidths()[a]!==this.encodeWidths()[a]||u.encodeHeights()[a]!==this.encodeHeights()[a]||u.encodeBitrates()[a]!==this.encodeBitrates()[a]||u.encodeScaleResolutionDownBy()[a]!==this.encodeScaleResolutionDownBy()[a])return g=!1,g}return g}clone(){return new SS(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}constructor(u,g,a,s,i,e=1){this.cameraWidth=u,this.cameraHeight=g,this.cameraFrameRate=a,this.maxEncodeBitrateKbps=s,this.isSimulcast=i,this.scaleResolutionDownBy=e}},"DefaultVideoCaptureAndEncodeParameter");l.default=S},BkFD:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{start(u){this.stop(),this.timer=setInterval(u,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}constructor(u){this.intervalMs=u}},"IntervalScheduler");l.default=S},Bkbp:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Sha256=void 0;var S=h("dJwD"),f=h("V7js"),u=h("2ZyS"),g=h("MdQ0"),a=function(){function i(e){if(this.hash=new u.RawSha256,e){this.outer=new u.RawSha256;var t=s(e),n=new Uint8Array(f.BLOCK_SIZE);n.set(t);for(var r=0;r<f.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(var r=0;r<t.byteLength;r++)t[r]=0}}return o(i,"Sha2561"),i.prototype.update=function(e){if(!((0,g.isEmptyData)(e)||this.error))try{this.hash.update((0,g.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return S.__awaiter(this,void 0,void 0,function(){return S.__generator(this,function(e){return[2,this.digestSync()]})})},i}();l.Sha256=a;function s(i){var e=(0,g.convertToBuffer)(i);if(e.byteLength>f.BLOCK_SIZE){var t=new u.RawSha256;t.update(e),e=t.digest()}var n=new Uint8Array(f.BLOCK_SIZE);return n.set(e),n}o(s,"bufferFromSecret")},BvK0:function(j,l,h){"use strict";var S=h("YBmv"),f=h("fywt"),u=h("eP7z");function g(a,s){return a&&a.length?Object(S.a)(a,Object(f.a)(s,2),u.a):void 0}o(g,"minBy"),l.a=g},C5KY:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoFxSegmentationRateManager=void 0;const S=h("Lxy7");let f=o(class{submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=S.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(g){g>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&g<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}constructor(g,a){this.logger=g,this.targetSegmentationCyclePercentage=a/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=S.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}},"VideoFxSegmentationRateManager");l.VideoFxSegmentationRateManager=f},C5aR:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isEmptyData=void 0;function S(f){return typeof f=="string"?f.length===0:f.byteLength===0}o(S,"isEmptyData"),l.isEmptyData=S},CAce:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("XCDq");let f=o(class wd{equals(g){return g!==void 0&&this.codecName===g.codecName&&this.codecCapability.mimeType===g.codecCapability.mimeType&&this.codecCapability.clockRate===g.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===g.codecCapability.sdpFmtpLine}static vp8(){return new wd("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264ConstrainedBaselineProfile(){return new wd("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264(){return wd.h264ConstrainedBaselineProfile()}static fromSignaled(g){switch(g){case S.SdkVideoCodecCapability.VP8:return wd.vp8();case S.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return wd.h264ConstrainedBaselineProfile();default:return}}constructor(g,a){this.codecName=g,this.codecCapability=a}},"VideoCodecCapability");l.default=f},CLOt:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("f2XL");let f=o(class cl{equals(g){return g!==void 0&&this.codecName===g.codecName&&this.codecCapability.mimeType===g.codecCapability.mimeType&&this.codecCapability.clockRate===g.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===g.codecCapability.sdpFmtpLine}static vp8(){return new cl("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264ConstrainedBaselineProfile(){return new cl("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264(){return cl.h264ConstrainedBaselineProfile()}static av1Main(){return new cl("AV1",{clockRate:9e4,mimeType:"video/AV1"})}static vp9Profile0(){return new cl("VP9",{clockRate:9e4,mimeType:"video/VP9",sdpFmtpLine:"profile-id=0"})}static fromSignaled(g){switch(g){case S.SdkVideoCodecCapability.VP8:return cl.vp8();case S.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return cl.h264ConstrainedBaselineProfile();case S.SdkVideoCodecCapability.VP9_PROFILE_0:return this.vp9Profile0();case S.SdkVideoCodecCapability.AV1_MAIN:return this.av1Main();default:return}}constructor(g,a){this.codecName=g,this.codecCapability=a}},"VideoCodecCapability");l.default=f},COTZ:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("DUgj"));let u=o(class{constructor(a){this.applicationMetadata=a,this.serverSideNetworkAdaption=f.default.Default,this.supportedServerSideNetworkAdaptions=[],this.wantsAllTemporalLayersInIndex=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1}},"SignalingClientJoin");l.default=u},CPHI:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckCameraResolutionFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.ResolutionNotSupported=2]="ResolutionNotSupported",f[f.PermissionDenied=3]="PermissionDenied"})(S=l.CheckCameraResolutionFeedback||(l.CheckCameraResolutionFeedback={})),l.default=S},CRwe:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(e,t,n,r){function c(p){return p instanceof n?p:new n(function(m){m(p)})}return o(c,"adopt"),new(n||(n=Promise))(function(p,m){function d(w){try{E(r.next(w))}catch(k){m(k)}}o(d,"fulfilled");function y(w){try{E(r.throw(w))}catch(k){m(k)}}o(y,"rejected");function E(w){w.done?p(w.value):c(w.value).then(d,y)}o(E,"step"),E((r=r.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("bTau")),g=f(h("AUdx")),a=f(h("CLOt")),s=f(h("aVV0"));let i=o(class extends s.default{cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){var t;return S(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let r=this.context.sdpAnswer;r=new g.default(r).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(r=new g.default(r).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(r=new g.default(r).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(r=new g.default(r).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.currentVideoSendCodec=new g.default(r).highestPriorityVideoSendCodec();const c=this.context.activeVideoInput;if(c!==void 0){const m=this.context.audioVideoController.configuration.credentials.attendeeId,d=new u.default(m).hasModality(u.default.MODALITY_CONTENT),y=c.getVideoTracks()[0];d&&(((t=this.context.currentVideoSendCodec)===null||t===void 0?void 0:t.codecName)===a.default.av1Main().codecName?(y.contentHint="text",this.logger.info(`Setting content hint to text for AV1, attendee: ${m}`)):this.context.audioVideoController.configuration.enableSVC&&(y.contentHint="motion",this.logger.info(`Setting content hint to motion to enable SVC, attendee: ${m}`)))}this.logger.info(`processed remote description is >>>${r}<<<`);const p={type:"answer",sdp:r,toJSON:null};try{yield this.createICEConnectionCompletedPromise(p)}catch(m){throw m}})}createICEConnectionCompletedPromise(t){return new Promise((n,r)=>S(this,void 0,void 0,function*(){const c=o(()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",c),n())},"checkConnectionCompleted");this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",c),r(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",c);try{yield this.context.peer.setRemoteDescription(t),this.logger.info("set remote description, waiting for ICE connection"),c()}catch(p){r(p)}}))}constructor(t){super(t.logger),this.context=t,this.taskName="SetRemoteDescriptionTask"}},"SetRemoteDescriptionTask");l.default=i},CWxj:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(d,y,E,w){function k(V){return V instanceof E?V:new E(function(N){N(V)})}return o(k,"adopt"),new(E||(E=Promise))(function(V,N){function F(O){try{B(w.next(O))}catch(R){N(R)}}o(F,"fulfilled");function P(O){try{B(w.throw(O))}catch(R){N(R)}}o(P,"rejected");function B(O){O.done?V(O.value):k(O.value).then(F,P)}o(B,"step"),B((w=w.apply(d,y||[])).next())})},f=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("a6MJ")),g=f(h("Fm4y")),a=f(h("cKqT")),s=f(h("U9CR")),i=f(h("InPl")),e=f(h("egzF")),t=f(h("p7bP")),n=h("crgu"),r=f(h("KEX5")),c=f(h("l7oq")),p=f(h("3jln"));let m=o(class{get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return S(this,void 0,void 0,function*(){n.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),n.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),n.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),t.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const y=new s.default,E=`${y.name()} ${y.majorVersion()} (${y.version()})`;if(this.logger.info(`browser is ${E}`),y.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${y.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!y.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(y.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${y.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")))}isSimulcastUplinkPolicy(y){return!!(y&&y.addObserver)}constructor(y,E,w,k){this._eventController=k,this._configuration=y,this._logger=E,this.checkBrowserSupportAndFeatureConfiguration(),t.default.addLogger(this._logger),t.default.register(),this._eventController||(this._eventController=new r.default(y,E)),w.eventController||(w.eventController=this.eventController),this.audioVideoController=new u.default(this._configuration,this._logger,new p.default(this._logger),w,new c.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=w;const V=new i.default(this._logger);this.contentShareController=new e.default(V,new u.default(e.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new p.default(this._logger),V,new c.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new g.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}},"DefaultMeetingSession");l.default=m},CmE0:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(t,n,r,c){function p(m){return m instanceof r?m:new r(function(d){d(m)})}return o(p,"adopt"),new(r||(r=Promise))(function(m,d){function y(k){try{w(c.next(k))}catch(V){d(V)}}o(y,"fulfilled");function E(k){try{w(c.throw(k))}catch(V){d(V)}}o(E,"rejected");function w(k){k.done?m(k.value):p(k.value).then(y,E)}o(w,"step"),w((c=c.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0}),l.BackgroundFilterMonitor=void 0;const u=h("GEtQ"),g=f(h("KsuK")),a=f(h("8V8Y"));let s=o(class{whenNext(){return this.promise||(this.promise=new Promise(n=>this.resolve=n)),this.promise}next(n){this.value=n,this.resolve(n),delete this.promise}constructor(){this.value=void 0,this.resolve=null}},"DeferredObservable"),i=o(class Uf{static createWorkerPromise(){const n={resolve:null,reject:null,promise:null};return n.promise=new Promise((r,c)=>{n.resolve=r,n.reject=c}),n}validateSpec(n){if(!n)throw new Error("processor has null spec");if(!n.model)throw new Error("processor spec has null model");if(!n.paths)throw new Error("processor spec has null paths")}validateOptions(n){if(!n)throw new Error("processor has null options");if(!n.logger)throw new Error("processor has null options - logger");if(!n.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!n.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(n){this.videoFramesPerFilterUpdate=1,this.frameCounter=new a.default(this.delegate,n.reportingPeriodMillis,n.filterCPUUtilization,this.logger),this.cpuMonitor=new e(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(n){return JSON.stringify(n,null,2)}handleInitialize(n){if(this.logger.info(`received initialize message: ${this.stringify(n)}`),!n.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const r=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:r.path,inputHeight:r.input.height,inputWidth:r.input.width,inputChannels:4,modelRangeMin:r.input.range[0],modelRangeMax:r.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(n){if(this.logger.info(`received load model message: ${this.stringify(n)}`),n.payload!==2){this.logger.error("failed to load model! status: "+n.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+n.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(n){this.mask$.next(n.payload.output)}handleWorkerEvent(n){const r=n.data;switch(r.msg){case"initialize":this.handleInitialize(r);break;case"loadModel":this.handleLoadModel(r);break;case"predict":this.handlePredict(r);break;default:this.logger.info(`unexpected event msg: ${this.stringify(r)}`);break}}loadAssets(){return S(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield u.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",n=>this.handleWorkerEvent(n)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(n){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${n.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)})}process(n){return S(this,void 0,void 0,function*(){if(this.destroyed)return n;this.frameCounter.frameReceived(n[0].framerate),this.cpuMonitor.frameReceived();const r=n[0].asCanvasElement();if(!r)return n;if(!this.modelInitialized)return n[0]=this.canvasVideoFrameBuffer,n;const c=r.width,p=r.height;if(c===0||p===0)return n;this.sourceWidth===0&&(this.sourceWidth=c,this.sourceHeight=p,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),(this.sourceWidth!==c||this.sourceHeight!==p)&&(this.sourceWidth=c,this.sourceHeight=p,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let m=this.mask$.value;const d=this.spec.model.input.width/r.width,y=this.spec.model.input.height/r.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const E=this.scaledCanvas.getContext("2d");E.save(),E.scale(d,y),E.drawImage(r,0,0),E.restore();const w=E.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const k=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:w},[w.data.buffer]),m=yield k}this.destroyed||this.drawImageWithMask(r,m)}catch(m){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${m}`),n}finally{this.frameCounter.filterComplete(),this.frameNumber++}return n[0]=this.canvasVideoFrameBuffer,n})}updateVideoFramesPerFilterUpdate(n){n!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=n,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var n,r,c,p;return S(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(n=this.worker)===null||n===void 0||n.postMessage({msg:"destroy"}),(r=this.worker)===null||r===void 0||r.postMessage({msg:"stop"}),(c=this.targetCanvas)===null||c===void 0||c.remove(),this.targetCanvas=void 0,(p=this.scaledCanvas)===null||p===void 0||p.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)})}constructor(n,r,c,p,m){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new g.default(this.targetCanvas),this.mask$=new s,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=Uf.createWorkerPromise(),this.loadModelPromise=Uf.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=n,this.validateSpec(r),this.validateOptions(c),this.spec=r,this.logger=c.logger,this.delegate=p,this.initCPUMonitor(c),this.eventController=m}},"BackgroundFilterProcessor");l.default=i;let e=o(class{filterCPUUtilizationHigh(){const n=Date.now();n-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=n,this.observer.reduceCPUUtilization())}frameReceived(){const n=Date.now();n-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=n,this.observer.increaseCPUUtilization())}constructor(n,r){this.monitoringPeriodMillis=n,this.observer=r,this.lastCPUChangeTimestamp=0}},"BackgroundFilterMonitor");l.BackgroundFilterMonitor=e},CtrA:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}constructor(u,g,a,s,i,e){this.timestampMs=u,this.topic=g,this.data=a,this.senderAttendeeId=s,this.senderExternalUserId=i,this.throttled=!!e}},"DataMessage");l.default=S},CxCb:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{calculateScore(u,g,a){(a||g===null)&&(g=0),this.volumes.hasOwnProperty(u)||(this.volumes[u]=0),g>this.silenceThreshold?g=1:g=0;const s=this.volumes[u]*this.speakerWeight+g*(1-this.speakerWeight);this.volumes[u]=s;for(const i in this.volumes)i!==u&&(this.volumes[i]=Math.max(this.volumes[i]-this.takeoverRate*g,0));return s<this.cutoffThreshold?0:s}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}constructor(u=.9,g=.01,a=.2,s=.2){this.speakerWeight=u,this.cutoffThreshold=g,this.silenceThreshold=a,this.takeoverRate=s,this.volumes={}}},"DefaultActiveSpeakerPolicy");l.default=S},Czkq:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{addObserver(u){this.observers.add(u)}removeObserver(u){this.observers.delete(u)}filterFrameDurationHigh(u){var g;for(const a of this.observers)(g=a.filterFrameDurationHigh)===null||g===void 0||g.call(a,u)}filterCPUUtilizationHigh(u){var g;for(const a of this.observers)(g=a.filterCPUUtilizationHigh)===null||g===void 0||g.call(a,u)}constructor(){this.observers=new Set}},"BackgroundFilterVideoFrameProcessorDelegate");l.default=S},D3pN:function(j,l,h){"use strict";h.r(l),h.d(l,"__extends",function(){return f}),h.d(l,"__assign",function(){return u}),h.d(l,"__rest",function(){return g}),h.d(l,"__decorate",function(){return a}),h.d(l,"__param",function(){return s}),h.d(l,"__metadata",function(){return i}),h.d(l,"__awaiter",function(){return e}),h.d(l,"__generator",function(){return t}),h.d(l,"__createBinding",function(){return n}),h.d(l,"__exportStar",function(){return r}),h.d(l,"__values",function(){return c}),h.d(l,"__read",function(){return p}),h.d(l,"__spread",function(){return m}),h.d(l,"__spreadArrays",function(){return d}),h.d(l,"__await",function(){return y}),h.d(l,"__asyncGenerator",function(){return E}),h.d(l,"__asyncDelegator",function(){return w}),h.d(l,"__asyncValues",function(){return k}),h.d(l,"__makeTemplateObject",function(){return V}),h.d(l,"__importStar",function(){return N}),h.d(l,"__importDefault",function(){return F}),h.d(l,"__classPrivateFieldGet",function(){return P}),h.d(l,"__classPrivateFieldSet",function(){return B});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,J){D.__proto__=J}||function(D,J){for(var X in J)J.hasOwnProperty(X)&&(D[X]=J[X])},S(O,R)},"extendStatics");function f(O,R){S(O,R);function D(){this.constructor=O}o(D,"__"),O.prototype=R===null?Object.create(R):(D.prototype=R.prototype,new D)}o(f,"__extends");var u=o(function(){return u=Object.assign||o(function(R){for(var D,J=1,X=arguments.length;J<X;J++){D=arguments[J];for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(R[$]=D[$])}return R},"__assign"),u.apply(this,arguments)},"__assign");function g(O,R){var D={};for(var J in O)Object.prototype.hasOwnProperty.call(O,J)&&R.indexOf(J)<0&&(D[J]=O[J]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(O);X<J.length;X++)R.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(O,J[X])&&(D[J[X]]=O[J[X]]);return D}o(g,"__rest");function a(O,R,D,J){var X=arguments.length,$=X<3?R:J===null?J=Object.getOwnPropertyDescriptor(R,D):J,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(O,R,D,J);else for(var Ee=O.length-1;Ee>=0;Ee--)(he=O[Ee])&&($=(X<3?he($):X>3?he(R,D,$):he(R,D))||$);return X>3&&$&&Object.defineProperty(R,D,$),$}o(a,"__decorate");function s(O,R){return function(D,J){R(D,J,O)}}o(s,"__param");function i(O,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,R)}o(i,"__metadata");function e(O,R,D,J){function X($){return $ instanceof D?$:new D(function(he){he($)})}return o(X,"adopt"),new(D||(D=Promise))(function($,he){function Ee(Be){try{ve(J.next(Be))}catch(pt){he(pt)}}o(Ee,"fulfilled");function ke(Be){try{ve(J.throw(Be))}catch(pt){he(pt)}}o(ke,"rejected");function ve(Be){Be.done?$(Be.value):X(Be.value).then(Ee,ke)}o(ve,"step"),ve((J=J.apply(O,R||[])).next())})}o(e,"__awaiter");function t(O,R){var D={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},J,X,$,he;return he={next:Ee(0),throw:Ee(1),return:Ee(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function Ee(ve){return function(Be){return ke([ve,Be])}}function ke(ve){if(J)throw new TypeError("Generator is already executing.");for(;D;)try{if(J=1,X&&($=ve[0]&2?X.return:ve[0]?X.throw||(($=X.return)&&$.call(X),0):X.next)&&!($=$.call(X,ve[1])).done)return $;switch(X=0,$&&(ve=[ve[0]&2,$.value]),ve[0]){case 0:case 1:$=ve;break;case 4:return D.label++,{value:ve[1],done:!1};case 5:D.label++,X=ve[1],ve=[0];continue;case 7:ve=D.ops.pop(),D.trys.pop();continue;default:if($=D.trys,!($=$.length>0&&$[$.length-1])&&(ve[0]===6||ve[0]===2)){D=0;continue}if(ve[0]===3&&(!$||ve[1]>$[0]&&ve[1]<$[3])){D.label=ve[1];break}if(ve[0]===6&&D.label<$[1]){D.label=$[1],$=ve;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(ve);break}$[2]&&D.ops.pop(),D.trys.pop();continue}ve=R.call(O,D)}catch(Be){ve=[6,Be],X=0}finally{J=$=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}}o(t,"__generator");function n(O,R,D,J){J===void 0&&(J=D),O[J]=R[D]}o(n,"__createBinding");function r(O,R){for(var D in O)D!=="default"&&!R.hasOwnProperty(D)&&(R[D]=O[D])}o(r,"__exportStar");function c(O){var R=typeof Symbol=="function"&&Symbol.iterator,D=R&&O[R],J=0;if(D)return D.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&J>=O.length&&(O=void 0),{value:O&&O[J++],done:!O}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}o(c,"__values");function p(O,R){var D=typeof Symbol=="function"&&O[Symbol.iterator];if(!D)return O;var J=D.call(O),X,$=[],he;try{for(;(R===void 0||R-- >0)&&!(X=J.next()).done;)$.push(X.value)}catch(Ee){he={error:Ee}}finally{try{X&&!X.done&&(D=J.return)&&D.call(J)}finally{if(he)throw he.error}}return $}o(p,"__read");function m(){for(var O=[],R=0;R<arguments.length;R++)O=O.concat(p(arguments[R]));return O}o(m,"__spread");function d(){for(var O=0,R=0,D=arguments.length;R<D;R++)O+=arguments[R].length;for(var J=Array(O),X=0,R=0;R<D;R++)for(var $=arguments[R],he=0,Ee=$.length;he<Ee;he++,X++)J[X]=$[he];return J}o(d,"__spreadArrays");function y(O){return this instanceof y?(this.v=O,this):new y(O)}o(y,"__await");function E(O,R,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=D.apply(O,R||[]),X,$=[];return X={},he("next"),he("throw"),he("return"),X[Symbol.asyncIterator]=function(){return this},X;function he(Ve){J[Ve]&&(X[Ve]=function(bt){return new Promise(function(lt,mt){$.push([Ve,bt,lt,mt])>1||Ee(Ve,bt)})})}function Ee(Ve,bt){try{ke(J[Ve](bt))}catch(lt){pt($[0][3],lt)}}function ke(Ve){Ve.value instanceof y?Promise.resolve(Ve.value.v).then(ve,Be):pt($[0][2],Ve)}function ve(Ve){Ee("next",Ve)}function Be(Ve){Ee("throw",Ve)}function pt(Ve,bt){Ve(bt),$.shift(),$.length&&Ee($[0][0],$[0][1])}}o(E,"__asyncGenerator");function w(O){var R,D;return R={},J("next"),J("throw",function(X){throw X}),J("return"),R[Symbol.iterator]=function(){return this},R;function J(X,$){R[X]=O[X]?function(he){return(D=!D)?{value:y(O[X](he)),done:X==="return"}:$?$(he):he}:$}}o(w,"__asyncDelegator");function k(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=O[Symbol.asyncIterator],D;return R?R.call(O):(O=typeof c=="function"?c(O):O[Symbol.iterator](),D={},J("next"),J("throw"),J("return"),D[Symbol.asyncIterator]=function(){return this},D);function J($){D[$]=O[$]&&function(he){return new Promise(function(Ee,ke){he=O[$](he),X(Ee,ke,he.done,he.value)})}}function X($,he,Ee,ke){Promise.resolve(ke).then(function(ve){$({value:ve,done:Ee})},he)}}o(k,"__asyncValues");function V(O,R){return Object.defineProperty?Object.defineProperty(O,"raw",{value:R}):O.raw=R,O}o(V,"__makeTemplateObject");function N(O){if(O&&O.__esModule)return O;var R={};if(O!=null)for(var D in O)Object.hasOwnProperty.call(O,D)&&(R[D]=O[D]);return R.default=O,R}o(N,"__importStar");function F(O){return O&&O.__esModule?O:{default:O}}o(F,"__importDefault");function P(O,R){if(!R.has(O))throw new TypeError("attempted to get private field on non-instance");return R.get(O)}o(P,"__classPrivateFieldGet");function B(O,R,D){if(!R.has(O))throw new TypeError("attempted to set private field on non-instance");return R.set(O,D),D}o(B,"__classPrivateFieldSet")},D7wJ:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(e,t,n,r){function c(p){return p instanceof n?p:new n(function(m){m(p)})}return o(c,"adopt"),new(n||(n=Promise))(function(p,m){function d(w){try{E(r.next(w))}catch(k){m(k)}}o(d,"fulfilled");function y(w){try{E(r.throw(w))}catch(k){m(k)}}o(y,"rejected");function E(w){w.done?p(w.value):c(w.value).then(d,y)}o(E,"step"),E((r=r.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("3i7i")),g=f(h("HbHZ")),a=h("XCDq"),s=f(h("j+uH"));let i=o(class Hf extends s.default{run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(t){if(t.type===g.default.ReceivedSignalFrame&&t.message.type===a.SdkSignalFrame.Type.DATA_MESSAGE)for(const n of t.message.dataMessage.messages){const r=new u.default(n.ingestTimeNs/1e6,n.topic,n.data,n.senderAttendeeId,n.senderExternalUserId,n.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(r)}}validateDataMessage(t,n,r){if(!Hf.TOPIC_REGEX.test(t))throw new Error("Invalid topic");if(n.length>Hf.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(r&&r<0)throw new Error("The life time of the message has to be non negative")}constructor(t){super(t.logger),this.context=t,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(n,r,c)=>{if(this.context.signalingClient.ready()){let p;r instanceof Uint8Array?p=r:typeof r=="string"?p=new TextEncoder().encode(r):p=new TextEncoder().encode(JSON.stringify(r)),this.validateDataMessage(n,p,c);const m=a.SdkDataMessagePayload.create();m.topic=n,m.lifetimeMs=c,m.data=p;const d=a.SdkDataMessageFrame.create();d.messages=[m],this.context.signalingClient.sendDataMessage(d)}else this.context.logger.error("Signaling client is not ready")}}},"SendAndReceiveDataMessagesTask");l.default=i,i.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),i.DATA_SIZE=2048},DE61:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class vS{static builder(){return new vS}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const u={height:144,width:256,range:[0,1],channels:3},g={height:144,width:256,range:[0,1],channels:1},a="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=a,this.input=u,this.output=g,this}withPath(u){return this.path=u,this}withInput(u){return this.input=u,this}withOutput(u){return this.output=u,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}constructor(){this.path=null,this.input=null,this.output=null}},"ModelSpecBuilder");l.default=S},DG83:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoLogEvent=void 0;var S;(function(f){f[f.InputAttached=0]="InputAttached",f[f.SendingFailed=1]="SendingFailed",f[f.SendingSuccess=2]="SendingSuccess"})(S=l.VideoLogEvent||(l.VideoLogEvent={})),l.default=S},DJNY:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default={hash:"c2db5b4",raw:"v3.18.1",semverString:"3.18.1"}},DJgg:function(j,l,h){"use strict";j.exports=f;var S=h("kU+7");(f.prototype=Object.create(S.EventEmitter.prototype)).constructor=f;function f(u,g,a){if(typeof u!="function")throw TypeError("rpcImpl must be a function");S.EventEmitter.call(this),this.rpcImpl=u,this.requestDelimited=Boolean(g),this.responseDelimited=Boolean(a)}o(f,"Service"),f.prototype.rpcCall=o(function u(g,a,s,i,e){if(!i)throw TypeError("request must be specified");var t=this;if(!e)return S.asPromise(u,t,g,a,s,i);if(!t.rpcImpl){setTimeout(function(){e(Error("already ended"))},0);return}try{return t.rpcImpl(g,a[t.requestDelimited?"encodeDelimited":"encode"](i).finish(),o(function(r,c){if(r)return t.emit("error",r,g),e(r);if(c===null){t.end(!0);return}if(!(c instanceof s))try{c=s[t.responseDelimited?"decodeDelimited":"decode"](c)}catch(p){return t.emit("error",p,g),e(p)}return t.emit("data",c,g),e(null,c)},"rpcCallback"))}catch(n){t.emit("error",n,g),setTimeout(function(){e(n)},0);return}},"rpcCall"),f.prototype.end=o(function(g){return this.rpcImpl&&(g||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},"end")},DUgj:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.convertServerSideNetworkAdaptionEnumToSignaled=l.convertServerSideNetworkAdaptionEnumFromSignaled=l.serverSideNetworkAdaptionIsNoneOrDefault=l.ServerSideNetworkAdaption=void 0;const S=h("f2XL");var f;(function(s){s[s.Default=0]="Default",s[s.None=1]="None",s[s.BandwidthProbing=2]="BandwidthProbing",s[s.BandwidthProbingAndRemoteVideoQualityAdaption=3]="BandwidthProbingAndRemoteVideoQualityAdaption"})(f=l.ServerSideNetworkAdaption||(l.ServerSideNetworkAdaption={})),l.default=f;function u(s){return s===f.None||s===f.Default}o(u,"serverSideNetworkAdaptionIsNoneOrDefault"),l.serverSideNetworkAdaptionIsNoneOrDefault=u;function g(s){switch(s){case S.SdkServerSideNetworkAdaption.DEFAULT:return f.Default;case S.SdkServerSideNetworkAdaption.NONE:return f.None;case S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return f.BandwidthProbing;case S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION:return f.BandwidthProbingAndRemoteVideoQualityAdaption}}o(g,"convertServerSideNetworkAdaptionEnumFromSignaled"),l.convertServerSideNetworkAdaptionEnumFromSignaled=g;function a(s){switch(s){case f.Default:return S.SdkServerSideNetworkAdaption.DEFAULT;case f.None:return S.SdkServerSideNetworkAdaption.NONE;case f.BandwidthProbing:return S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING;case f.BandwidthProbingAndRemoteVideoQualityAdaption:return S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION}}o(a,"convertServerSideNetworkAdaptionEnumToSignaled"),l.convertServerSideNetworkAdaptionEnumToSignaled=a},DbLV:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{matchesConstraints(u){return JSON.stringify(this.constraints)===JSON.stringify(u)}constructor(){this.groupId=""}},"DeviceSelection");l.default=S},DcUe:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("XJrD"));let u=o(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(a){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new f.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}setHighResolutionFeatureEnabled(a){}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!1}constructor(){}},"NoVideoUplinkBandwidthPolicy");l.default=u},DmQM:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class yS{static create(u,g){const a=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!u||u.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!a.test(u))throw new Error(`appName must satisfy ${a} regular expression`);const s=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!g||g.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!s.test(g))throw new Error("appVersion must satisfy Semantic Versioning format");return new yS(u,g)}constructor(u,g){this.appName=u,this.appVersion=g}},"ApplicationMetadata");l.default=S},E5fQ:function(j,l){function h(S){return j.exports=h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},j.exports.__esModule=!0,j.exports.default=j.exports,h(S)}o(h,"_typeof"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},E6e8:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=h("dJwD");S.__exportStar(h("Bkbp"),l)},EIHC:function(j,l,h){var S=h("jSME"),f=h("jqgp"),u=h("H/VS"),g=h("e0fW");function a(s){return S(s)||f(s)||u(s)||g()}o(a,"_toConsumableArray"),j.exports=a,j.exports.__esModule=!0,j.exports.default=j.exports},EM4D:function(j,l,h){"use strict";h.r(l),h.d(l,"fromHex",function(){return u}),h.d(l,"toHex",function(){return g});const S={},f={};for(let a=0;a<256;a++){let s=a.toString(16).toLowerCase();s.length===1&&(s=`0${s}`),S[a]=s,f[s]=a}function u(a){if(a.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const s=new Uint8Array(a.length/2);for(let i=0;i<a.length;i+=2){const e=a.slice(i,i+2).toLowerCase();if(e in f)s[i/2]=f[e];else throw new Error(`Cannot decode unrecognized sequence ${e} as hexadecimal`)}return s}o(u,"fromHex");function g(a){let s="";for(let i=0;i<a.byteLength;i++)s+=S[a[i]];return s}o(g,"toHex")},EjQB:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoFxSegmentationRateManager=void 0;const S=h("6qF3");let f=o(class{submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=S.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(g){g>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&g<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}constructor(g,a){this.logger=g,this.targetSegmentationCyclePercentage=a/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=S.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}},"VideoFxSegmentationRateManager");l.VideoFxSegmentationRateManager=f},EkGV:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(u,g,a,s){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(p){try{c(s.next(p))}catch(m){t(m)}}o(n,"fulfilled");function r(p){try{c(s.throw(p))}catch(m){t(m)}}o(r,"rejected");function c(p){p.done?e(p.value):i(p.value).then(n,r)}o(c,"step"),c((s=s.apply(u,g||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let f=o(class{createWorkerTimer(){try{const g=new Blob([`self.onmessage = async function(e){ 
            var timerID = null;
            const awaitTimeout = delay => new Promise( resolve => {
              timerID = setTimeout(resolve, delay);
            })
            await awaitTimeout(e.data);
            postMessage(timerID);
          }`],{type:"application/javascript"});return new Worker(window.URL.createObjectURL(g))}catch{}}start(g,a){return S(this,void 0,void 0,function*(){this.callback=a,this.workerTimer?(this.workerTimer.onmessage=s=>{this.lastTimeout=s.data,this.callback()},this.workerTimer.postMessage(g)):this.lastTimeout=setTimeout(()=>{this.callback()},g)})}destroy(){return S(this,void 0,void 0,function*(){this.callback=void 0,this.lastTimeout&&(clearTimeout(this.lastTimeout),this.lastTimeout=void 0),this.workerTimer&&(this.workerTimer.terminate(),this.workerTimer=void 0)})}constructor(){this.workerTimer=void 0,this.callback=void 0,this.workerTimer=this.createWorkerTimer()}},"DefaultVideoFrameProcessorTimer");l.default=f},EkyC:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.loadWorker=void 0;const S=h("o3U+"),f={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},u=o((g,a,s,i)=>{i==null||i.debug(`Loading ${a} worker from ${g}.`);let e=!1;try{e=self.origin===new URL(g).origin}catch(t){i==null||i.error("Could not compare origins.",t)}if(e){const t=S.withQueryString(g,s);return Promise.resolve(new Worker(t,{name:a}))}return S.fetchWithBehavior(g,f,s).then(t=>{if(t.ok)return t.blob().then(n=>new Worker(window.URL.createObjectURL(n)));throw new Error("Fetch failed.")})},"loadWorker");l.loadWorker=u},F7zz:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("zcg+"));let u=o(class extends f.default{static nextTick(a){setTimeout(a,0)}constructor(){super(0)}},"AsyncScheduler");l.default=u},FCN7:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("hEYi")),g=h("f2XL"),a=f(h("aVV0"));let s=o(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((e,t)=>{let n=o(class{cancel(){this.signalingClient.removeObserver(this),t(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(p){if(p.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),e();return}p.type===u.default.ReceivedSignalFrame&&p.message.type===g.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),e())}constructor(p,m){this.signalingClient=p,this.logger=m}},"Interceptor");const r=new n(this.context.signalingClient,this.context.logger);this.taskCanceler=r,this.context.signalingClient.registerObserver(r)})}constructor(e){super(e.logger),this.context=e,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}},"LeaveAndReceiveLeaveAckTask");l.default=s},FKpq:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Mr6q"));let u=o(class extends f.default{},"BackgroundBlurVideoFrameProcessorDelegate");l.default=u},FMuk:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{add(u){return new Promise((g,a)=>{this.queue=this.queue.then(u).then(g).catch(a)})}constructor(){this.queue=Promise.resolve()}},"PromiseQueue");l.default=S},Fm4y:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(g,a,s,i){function e(t){return t instanceof s?t:new s(function(n){n(t)})}return o(e,"adopt"),new(s||(s=Promise))(function(t,n){function r(m){try{p(i.next(m))}catch(d){n(d)}}o(r,"fulfilled");function c(m){try{p(i.throw(m))}catch(d){n(d)}}o(c,"rejected");function p(m){m.done?t(m.value):e(m.value).then(r,c)}o(p,"step"),p((i=i.apply(g,a||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("0OOd");let u=o(class{addObserver(a){this.audioVideoController.addObserver(a),this.trace("addObserver")}removeObserver(a){this.audioVideoController.removeObserver(a),this.trace("removeObserver")}setAudioProfile(a){this.trace("setAudioProfile",a),this.audioVideoController.setAudioProfile(a)}start(a){this.audioVideoController.start(a),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(a){return this.trace("getRTCPeerConnectionStats",a?a.id:null),this.audioVideoController.getRTCPeerConnectionStats(a)}bindAudioElement(a){const s=this.audioMixController.bindAudioElement(a);return this.trace("bindAudioElement",a.id,s),s}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(a){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(a)}removeAudioMixObserver(a){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(a)}bindVideoElement(a,s){this.videoTileController.bindVideoElement(a,s),this.trace("bindVideoElement",{tileId:a,videoElementId:s.id})}unbindVideoElement(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.videoTileController.unbindVideoElement(a,s),this.trace("unbindVideoElement",{tileId:a,cleanUpVideoElement:s})}startLocalVideoTile(){const a=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,a),a}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const a=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,a),a}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const a=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),a}pauseVideoTile(a){this.videoTileController.pauseVideoTile(a),this.trace("pauseVideoTile",a)}unpauseVideoTile(a){this.videoTileController.unpauseVideoTile(a),this.trace("unpauseVideoTile",a)}getVideoTile(a){const s=this.videoTileController.getVideoTile(a);return this.trace("getVideoTile",a),s}getAllRemoteVideoTiles(){const a=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),a}getAllVideoTiles(){const a=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),a}addVideoTile(){const a=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,a.state()),a}removeVideoTile(a){this.videoTileController.removeVideoTile(a),this.trace("removeVideoTile",a)}removeVideoTilesByAttendeeId(a){const s=this.videoTileController.removeVideoTilesByAttendeeId(a);return this.trace("removeVideoTilesByAttendeeId",a,s),s}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(a){const s=this.videoTileController.captureVideoTile(a);return this.trace("captureVideoTile",a),s}realtimeSubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSetCanUnmuteLocalAudio(a),this.trace("realtimeSetCanUnmuteLocalAudio",a)}realtimeSubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const a=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,a),a}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const a=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),a}realtimeSubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const a=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),a}realtimeSubscribeToVolumeIndicator(a,s){this.realtimeController.realtimeSubscribeToVolumeIndicator(a,s),this.trace("realtimeSubscribeToVolumeIndicator",a)}realtimeUnsubscribeFromVolumeIndicator(a,s){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(a,s),this.trace("realtimeUnsubscribeFromVolumeIndicator",a,s)}realtimeSubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(a),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(a),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(a,s,i){this.realtimeController.realtimeSendDataMessage(a,s,i),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(a,s){this.realtimeController.realtimeSubscribeToReceiveDataMessage(a,s),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(a){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(a),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(a){this.realtimeController.realtimeSubscribeToFatalError(a),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(a){this.realtimeController.realtimeUnsubscribeToFatalError(a),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(a,s,i,e){this.audioVideoController.activeSpeakerDetector.subscribe(a,s,i,e),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(a){this.audioVideoController.activeSpeakerDetector.unsubscribe(a),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const s=yield this.deviceController.listAudioInputDevices(a);return this.trace("listAudioInputDevices",a,s),s})}listVideoInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const s=yield this.deviceController.listVideoInputDevices(a);return this.trace("listVideoInputDevices",a,s),s})}listAudioOutputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const s=yield this.deviceController.listAudioOutputDevices(a);return this.trace("listAudioOutputDevices",a,s),s})}startAudioInput(a){return S(this,void 0,void 0,function*(){return this.trace("startAudioInput",a),this.deviceController.startAudioInput(a)})}stopAudioInput(){return S(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(a){return S(this,void 0,void 0,function*(){return f.isVideoTransformDevice(a)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",a),this.deviceController.startVideoInput(a)})}stopVideoInput(){return S(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(a){const s=this.deviceController.chooseAudioOutput(a);return this.trace("chooseAudioOutput",a),s}addDeviceChangeObserver(a){this.deviceController.addDeviceChangeObserver(a),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(a){this.deviceController.removeDeviceChangeObserver(a),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const a=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),a}startVideoPreviewForVideoInput(a){this.deviceController.startVideoPreviewForVideoInput(a),this.trace("startVideoPreviewForVideoInput",a.id)}stopVideoPreviewForVideoInput(a){this.deviceController.stopVideoPreviewForVideoInput(a),this.trace("stopVideoPreviewForVideoInput",a.id)}setDeviceLabelTrigger(a){this.deviceController.setDeviceLabelTrigger(a),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(a){const s=this.deviceController.mixIntoAudioInput(a);return this.trace("mixIntoAudioInput",a.id),s}chooseVideoInputQuality(a,s,i){this.deviceController.chooseVideoInputQuality(a,s,i),this.trace("chooseVideoInputQuality",{width:a,height:s,frameRate:i})}setVideoMaxBandwidthKbps(a){this.audioVideoController.setVideoMaxBandwidthKbps(a),this.trace("setVideoMaxBandwidthKbps",a)}setVideoCodecSendPreferences(a){this.audioVideoController.setVideoCodecSendPreferences(a),this.trace("setVideoCodecSendPreferences",a)}getVideoInputQualitySettings(){const a=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),a}setContentAudioProfile(a){this.trace("setContentAudioProfile",a),this.contentShareController.setContentAudioProfile(a)}enableSimulcastForContentShare(a,s){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(a,s)}startContentShare(a){const s=this.contentShareController.startContentShare(a);return this.trace("startContentShare"),s}startContentShareFromScreenCapture(a,s){const i=this.contentShareController.startContentShareFromScreenCapture(a,s);return this.trace("startContentShareFromScreenCapture"),i}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(a){this.contentShareController.addContentShareObserver(a),this.trace("addContentShareObserver")}removeContentShareObserver(a){this.contentShareController.removeContentShareObserver(a),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(a){this.contentShareController.setContentShareVideoCodecPreferences(a),this.trace("setContentShareVideoCodecPreferences")}trace(a,s,i){const e=this.audioVideoController.configuration.meetingId,t=this.audioVideoController.configuration.credentials.attendeeId;let n=`API/DefaultAudioVideoFacade/${e}/${t}/${a}`;typeof s<"u"&&(n+=` ${JSON.stringify(s)}`),typeof i<"u"&&(n+=` -> ${JSON.stringify(i)}`),this.audioVideoController.logger.info(n)}getRemoteVideoSources(){const a=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,a),a}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(a){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const s=this.audioVideoController.promoteToPrimaryMeeting(a);return this.trace("promoteToPrimaryMeeting",null,s),s}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(a){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}constructor(a,s,i,e,t,n){this.audioVideoController=a,this.videoTileController=s,this.realtimeController=i,this.audioMixController=e,this.deviceController=t,this.contentShareController=n}},"DefaultAudioVideoFacade");l.default=u},FtwJ:function(j,l){function h(){return j.exports=h=Object.assign?Object.assign.bind():function(S){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(S[g]=u[g])}return S},j.exports.__esModule=!0,j.exports.default=j.exports,h.apply(this,arguments)}o(h,"_extends"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},FxSh:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Sa54")),g=f(h("3zlU"));let a=o(class bS{get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(i){if(this.pipe.processors)for(const e of this.pipe.processors)typeof e.setEventController=="function"&&e.setEventController(i)}chooseNewInnerDevice(i){const e=new bS(this.logger,i,this.processors,this.browserBehavior);return e.pipe=this.pipe,e}getInnerDevice(){return this.device}intrinsicDevice(){return S(this,void 0,void 0,function*(){return this.device})}transformStream(i){return S(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(i),this.inputMediaStream=i,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const i=this.device&&this.device.id;if(this.pipe.stop(),!i&&this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop()}stop(){return S(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const i of this.inputMediaStream.getVideoTracks())i.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(i){this.observers.add(i)}removeObserver(i){this.observers.delete(i)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(i=>{i.processingDidStart&&i.processingDidStart()})}processingLatencyTooHigh(i){this.forEachObserver(e=>{e.processingLatencyTooHigh&&e.processingLatencyTooHigh(i)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(i=>{i.processingDidFailToStart&&i.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(i=>{i.processingDidStop&&i.processingDidStop()})}forEachObserver(i){for(const e of this.observers)setTimeout(()=>{i(e)},0)}constructor(i,e,t,n=new u.default){this.logger=i,this.device=e,this.processors=t,this.browserBehavior=n,this.observers=new Set,this.pipe=new g.default(this.logger,this.processors),this.pipe.addObserver(this)}},"DefaultVideoTransformDevice");l.default=a},Fyq9:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("aVV0"));let g=o(class extends u.default{removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const s in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[s]()}addPeerConnectionEventLogger(){const s=this.context.peer;s.addEventListener("connectionstatechange",()=>{this.context.logger.info(`peer connection state changed: ${s.connectionState}`)}),s.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),s.addEventListener("icegatheringstatechange",()=>{this.context.logger.info(`peer connection ice gathering state changed: ${s.iceGatheringState}`)}),s.addEventListener("icecandidate",i=>{this.context.logger.info(`peer connection ice candidate: ${i.candidate?i.candidate.candidate:"(null)"}`)}),s.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info(`peer connection ice connection state changed: ${s.iceConnectionState}`)})}run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const i=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};i.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),i.sdpSemantics="unified-plan",i.encodedInsertableStreams=this.context.audioProfile.hasRedundancyEnabled(),this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(i),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(s){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(s)):!1}addRemoteVideoTrack(s,i){var e;const t=i.id,n=this.context.videoStreamIndex.attendeeIdForTrack(t);let r,c;if(this.context.videoTileController.getVideoTileForAttendeeId?(c=this.context.videoTileController.getVideoTileForAttendeeId(n),r=!!(!((e=c==null?void 0:c.state())===null||e===void 0)&&e.boundVideoStream)):r=this.context.videoTileController.haveVideoTileForAttendeeId(n),r){this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${n}`);return}c||(c=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${c.id()}`));let p=this.context.videoStreamIndex.streamIdForTrack(t);typeof p>"u"&&(this.logger.warn(`stream not found for tile=${c.id()} track=${t}`),p=null);for(let V=0;V<this.trackEvents.length;V++){const N=this.trackEvents[V],F=i.getVideoTracks();if(F&&F.length){const P=F[0],B=o(()=>{this.context.logger.info(`received the ${N} event for tile=${c.id()} id=${s.id} streamId=${p}`),N==="ended"&&this.removeRemoteVideoTrack(s,c.state())},"callback");P.addEventListener(N,B),this.removeVideoTrackEventListeners[s.id]||(this.removeVideoTrackEventListeners[s.id]=[]),this.removeVideoTrackEventListeners[s.id].push(()=>{P.removeEventListener(N,B)})}}let m,d;if(s.getSettings){const V=s.getSettings();m=V.width,d=V.height}else{const V=s.getCapabilities();m=V.width,d=V.height}const y=this.context.videoStreamIndex.externalUserIdForTrack(t);c.bindVideoStream(n,!1,i,m,d,p,y),this.logger.info(`video track added, use tile=${c.id()} track=${t} streamId=${p}`);const E="removetrack",w=i,k=o(()=>this.removeRemoteVideoTrack(s,c.state()),"trackRemovedHandler");this.removeTrackRemovedEventListeners[s.id]=()=>{w.removeEventListener(E,k),delete this.removeTrackRemovedEventListeners[s.id]},w.addEventListener(E,k)}removeRemoteVideoTrack(s,i){if(this.removeTrackRemovedEventListeners.hasOwnProperty(s.id)){this.removeTrackRemovedEventListeners[s.id]();for(const e of this.removeVideoTrackEventListeners[s.id])e();delete this.removeVideoTrackEventListeners[s.id]}this.logger.info(`video track ended, removing tile=${i.tileId} id=${s.id} stream=${i.streamId}`),i.streamId?this.context.videosPaused.remove(i.streamId):this.logger.warn(`no stream found for tile=${i.tileId}`),this.context.videoTileController.removeVideoTile(i.tileId)}constructor(s){super(s.logger),this.context=s,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=i=>{const e=i.track;if(this.context.logger.info(`received track event: kind=${e.kind} id=${e.id} label=${e.label}`),i.transceiver&&i.transceiver.currentDirection==="inactive")return;if(i.streams.length===0){this.context.logger.warn("Track event but no stream");return}const t=i.streams[0];e.kind==="audio"?this.context.audioMixController.bindAudioStream(t):e.kind==="video"&&!this.trackIsVideoInput(e)&&this.addRemoteVideoTrack(e,t)}}},"CreatePeerConnectionTask");l.default=g,g.REMOVE_HANDLER_INTERVAL_MS=1e4},GAXn:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={UnknownMethod:"unknown_method",UnknownWorkflowId:"unknown_workflow_id",AccessDenied:"access_denied"},t=Object(a.a)("workflows.get generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"workflows.get",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to workflows.get
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherworkflowsGetFetcher",description:"workflows.get generated fetcher"}},GEtQ:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.loadWorker=void 0;const S=h("XEV2"),f={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},u=o((g,a,s,i)=>{i==null||i.debug(`Loading ${a} worker from ${g}.`);let e=!1;try{e=self.origin===new URL(g).origin}catch(t){i==null||i.error("Could not compare origins.",t)}if(e){const t=S.withQueryString(g,s);return Promise.resolve(new Worker(t,{name:a}))}return S.fetchWithBehavior(g,f,s).then(t=>{if(t.ok)return t.blob().then(n=>new Worker(window.URL.createObjectURL(n)));throw new Error("Fetch failed.")})},"loadWorker");l.loadWorker=u},GVX8:function(j,l,h){"use strict";h.d(l,"a",function(){return f});function S(g){return o(({dispatch:s,getState:i})=>e=>t=>typeof t=="function"?t(s,i,g):e(t),"middleware")}o(S,"createThunkMiddleware");var f=S(),u=S},GW5S:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(u,g,a,s){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(p){try{c(s.next(p))}catch(m){t(m)}}o(n,"fulfilled");function r(p){try{c(s.throw(p))}catch(m){t(m)}}o(r,"rejected");function c(p){p.done?e(p.value):i(p.value).then(n,r)}o(c,"step"),c((s=s.apply(u,g||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let f=o(class{mute(g){return S(this,void 0,void 0,function*(){})}stop(){var g;return S(this,void 0,void 0,function*(){(g=this.node)===null||g===void 0||g.disconnect()})}intrinsicDevice(){return S(this,void 0,void 0,function*(){return this.inner})}createAudioNode(g){var a;return S(this,void 0,void 0,function*(){return(a=this.node)===null||a===void 0||a.disconnect(),this.node=yield this.createSingleAudioNode(g),{start:this.node,end:this.node}})}constructor(g){this.inner=g}},"SingleNodeAudioTransformDevice");l.default=f},GZjp:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(u){this._audioHostURL=u}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(u){this._signalingURL=u}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(u){this._turnControlURL=u}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(u){this._eventIngestionURL=u}constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=u=>u}},"MeetingSessionURLs");l.default=S},Gn1W:function(j,l,h){"use strict";var S=h("c3gm"),f=h("XFRR");function u(g,a){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=void 0}o(u,"LodashWrapper"),u.prototype=Object(S.a)(f.a.prototype),u.prototype.constructor=u,l.a=u},"Gs2/":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("zH6K"));let u=o(class{create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new f.default);throw new Error("navigator.mediaDevices is not supported")}constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}},"DefaultMediaDeviceFactory");l.default=u},GtHv:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("CmE0")),g=h("vjEy"),a=f(h("l8QA"));let s=o(class extends u.default{validateOptions(e){if(super.validateOptions(e),!e.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:r,targetCanvas:c}=this,{width:p,height:m}=c;r.save(),r.clearRect(0,0,p,m),r.drawImage(this.scaledCanvas,0,0,p,m),r.globalCompositeOperation="source-in",r.drawImage(e,0,0,p,m),r.globalCompositeOperation="destination-over",r.filter=`blur(${this.blurAmount}px)`,r.drawImage(e,0,0,c.width,c.height),r.restore()}setBlurStrength(e){this._blurStrength=e,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=g.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}static isSupported(){return S(this,void 0,void 0,function*(){const e=document.createElement("canvas"),t=e.getContext("2d").filter!==void 0;return e.remove(),t})}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const e={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}constructor(e,t){super("background blur",e,t,new a.default),this.blurAmount=0,this.setBlurStrength(t.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: ${this.stringify(t)}`)}},"BackgroundBlurProcessorProvided");l.default=s},GxrV:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"BitrateParameters");l.default=S},GzZI:function(j,l,h){"use strict";var S=h("u37q"),f=h("ZnfP"),u=h("fshX"),g=9007199254740991,a=4294967295,s=Math.min;function i(e,t){if(e=Object(u.a)(e),e<1||e>g)return[];var n=a,r=s(e,a);t=Object(f.a)(t),e-=a;for(var c=Object(S.a)(r,t);++n<e;)t(n);return c}o(i,"times"),l.a=i},"H/VS":function(j,l,h){var S=h("M5uj");function f(u,g){if(u){if(typeof u=="string")return S(u,g);var a=Object.prototype.toString.call(u).slice(8,-1);if(a==="Object"&&u.constructor&&(a=u.constructor.name),a==="Map"||a==="Set")return Array.from(u);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(u,g)}}o(f,"_unsupportedIterableToArray"),j.exports=f,j.exports.__esModule=!0,j.exports.default=j.exports},H7ma:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SimulcastLayers=void 0;var S;(function(f){f[f.Low=0]="Low",f[f.LowAndMedium=1]="LowAndMedium",f[f.LowAndHigh=2]="LowAndHigh",f[f.Medium=3]="Medium",f[f.MediumAndHigh=4]="MediumAndHigh",f[f.High=5]="High"})(S=l.SimulcastLayers||(l.SimulcastLayers={})),l.default=S},HAqy:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("BkFD"));let g=o(class{needUpdate(s){return this.activeSpeakers?this.speakerScores[s]===0&&this.activeSpeakers.includes(s)||this.speakerScores[s]>0&&!this.activeSpeakers.includes(s):!0}updateActiveSpeakers(s,i,e){if(!this.needUpdate(e))return;const t=[],n=Object.keys(this.speakerScores);for(let d=0;d<n.length;d++){const y=n[d];t.push({attendeeId:y,activeScore:this.speakerScores[y]})}const r=t.sort((d,y)=>y.activeScore-d.activeScore).filter(function(d){return d.activeScore>0}).map(function(d){return d.attendeeId});this.activeSpeakers=r,i(r);const p=r.length>0&&r[0]===this.selfAttendeeId&&s.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==p&&(this.hasBandwidthPriority=p,this.hasBandwidthPriorityCallback(p))}updateScore(s,i,e,t,n){const r=s.calculateScore(e,t,n);this.speakerScores[e]!==r&&(this.speakerScores[e]=r,this.mostRecentUpdateTimestamp[e]=Date.now(),this.updateActiveSpeakers(s,i,e))}subscribe(s,i,e,t){const n=o((c,p)=>{if(!p){this.speakerScores[c]=0,this.mostRecentUpdateTimestamp[c]=Date.now(),this.updateActiveSpeakers(s,i,c);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(c,(m,d,y,E)=>{this.mostRecentUpdateTimestamp[m]=Date.now(),y!==null&&(this.speakerMuteState[m]=y),this.updateScore(s,i,m,d,y)})},"handler");this.detectorCallbackToHandler.set(i,n);const r=new u.default(this.updateIntervalMs);if(r.start(()=>{for(const c in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[c]>this.waitIntervalMs&&this.updateScore(s,i,c,0,this.speakerMuteState[c])}),this.detectorCallbackToActivityTimer.set(i,r),e&&t){const c=new u.default(t);c.start(()=>{e(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(i,c)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(n)}unsubscribe(s){const i=this.detectorCallbackToHandler.get(s);this.detectorCallbackToHandler.delete(s),i&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i);const e=this.detectorCallbackToActivityTimer.get(s);e&&(e.stop(),this.detectorCallbackToActivityTimer.delete(s));const t=this.detectorCallbackToScoresTimer.get(s);t&&(t.stop(),this.detectorCallbackToHandler.delete(s))}destroy(){return S(this,void 0,void 0,function*(){for(const s of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(s);for(const s of this.detectorCallbackToActivityTimer.values())s.stop();for(const s of this.detectorCallbackToScoresTimer.values())s.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}constructor(s,i,e,t=1e3,n=200){this.realtimeController=s,this.selfAttendeeId=i,this.hasBandwidthPriorityCallback=e,this.waitIntervalMs=t,this.updateIntervalMs=n,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}},"DefaultActiveSpeakerDetector");l.default=g},HCbE:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("cKqT"));let u=o(class extends f.default{nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}constructor(a,s,i,e){super(a,s,i),this.limit=e,this.attempts=0}},"FullJitterLimitedBackoff");l.default=u},HG8V:function(j,l,h){"use strict";(function(S){var f=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("U9CR")),g=f(h("zcg+")),a=h("XCDq"),s=h("VCUZ"),i=f(h("ac3q")),e=f(h("z8+u")),t=h("/AJg"),n=f(h("0JTw")),r=f(h("HbHZ"));let c=o(class sc{registerObserver(m){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(m)}removeObserver(m){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(m)}openConnection(m){this.logger.info("adding connection request to queue: "+m.url()),this.connectionRequestQueue.push(m),this.closeConnection()}pingPong(m){this.logger.debug(()=>"sending ping");const d=a.SdkSignalFrame.create();return d.type=a.SdkSignalFrame.Type.PING_PONG,d.pingPong=m,this.sendMessage(d),d.timestampMs}join(m){this.logger.info("sending join");const d=a.SdkJoinFrame.create();d.protocolVersion=2,d.flags=a.SdkJoinFlags.HAS_STREAM_UPDATE;const y=new u.default,E={platformName:y.name(),platformVersion:y.version(),clientSource:i.default.sdkName,chimeSdkVersion:i.default.sdkVersion,clientUtcOffset:s.getFormattedOffset(new Date().getTimezoneOffset())};if(m.applicationMetadata){const{appName:k,appVersion:V}=m.applicationMetadata;E.appName=k,E.appVersion=V}d.clientDetails=a.SdkClientDetails.create(E),d.audioSessionId=this.audioSessionId,d.wantsCompressedSdp=sc.CLIENT_SUPPORTS_COMPRESSION,d.disablePeriodicKeyframeRequestOnContentSender=m.disablePeriodicKeyframeRequestOnContentSender,d.serverSideNetworkAdaption=t.convertServerSideNetworkAdaptionEnumToSignaled(m.serverSideNetworkAdaption),d.supportedServerSideNetworkAdaptions=m.supportedServerSideNetworkAdaptions.map(t.convertServerSideNetworkAdaptionEnumToSignaled);const w=a.SdkSignalFrame.create();w.type=a.SdkSignalFrame.Type.JOIN,w.join=d,this.sendMessage(w)}subscribe(m){const d=a.SdkSubscribeFrame.create();if(d.sendStreams=[],d.sdpOffer=m.sdpOffer,m.connectionTypeHasVideo&&(d.receiveStreamIds=m.receiveStreamIds),m.audioHost&&(d.audioCheckin=m.audioCheckin,d.audioHost=m.audioHost,d.audioMuted=m.audioMuted,!m.audioCheckin)){const E=a.SdkStreamDescriptor.create();E.mediaType=a.SdkStreamMediaType.AUDIO,E.trackLabel="AmazonChimeExpressAudio",E.attendeeId=m.attendeeId,E.streamId=1,E.groupId=1,E.framerate=15,E.maxBitrateKbps=600,E.avgBitrateBps=4e5,d.sendStreams.push(E)}if(d.compressedSdpOffer=m.compressedSdpOffer,d.duplex=a.SdkStreamServiceType.RX,m.localVideoEnabled){d.duplex=a.SdkStreamServiceType.DUPLEX;for(let E=0;E<m.videoStreamDescriptions.length;E++){const w=m.videoStreamDescriptions[E].clone();w.attendeeId=m.attendeeId,d.sendStreams.push(w.toStreamDescriptor())}}m.videoSubscriptionConfiguration.length>0&&(d.videoSubscriptionConfiguration=m.videoSubscriptionConfiguration.map(this.convertSignalingClientVideoSubscriptionConfiguration));const y=a.SdkSignalFrame.create();y.type=a.SdkSignalFrame.Type.SUBSCRIBE,y.sub=d,this.sendMessage(y)}remoteVideoUpdate(m,d){const y=a.SdkRemoteVideoUpdateFrame.create();y.addedOrUpdatedVideoSubscriptions=m.map(this.convertSignalingClientVideoSubscriptionConfiguration),y.removedVideoSubscriptionMids=d;const E=a.SdkSignalFrame.create();E.type=a.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,E.remoteVideoUpdate=y,this.sendMessage(E)}convertSignalingClientVideoSubscriptionConfiguration(m){const d=new a.SdkVideoSubscriptionConfiguration;return d.mid=m.mid,d.attendeeId=m.attendeeId,d.streamId=m.streamId,d.groupId=m.groupId,d.priority=m.priority,d.targetBitrateKbps=m.targetBitrateKbps,d}leave(){const m=a.SdkSignalFrame.create();m.type=a.SdkSignalFrame.Type.LEAVE,m.leave=a.SdkLeaveFrame.create(),this.sendMessage(m),this.logger.debug(()=>"sent leave")}sendClientMetrics(m){const d=a.SdkSignalFrame.create();d.type=a.SdkSignalFrame.Type.CLIENT_METRIC,d.clientMetric=m,this.sendMessage(d)}sendDataMessage(m){const d=a.SdkSignalFrame.create();d.type=a.SdkSignalFrame.Type.DATA_MESSAGE,d.dataMessage=m,this.sendMessage(d)}closeConnection(){var m,d;if(this.webSocket.readyState()!==e.default.None&&this.webSocket.readyState()!==e.default.Closed){this.isClosing=!0,this.sendEvent(new n.default(this,r.default.WebSocketClosing,null));const y=new g.default(sc.CLOSE_EVENT_TIMEOUT_MS),E=o(w=>{var k,V;(V=(k=this.webSocket).removeEventListener)===null||V===void 0||V.call(k,"close",E),y.stop(),this.closeEventHandler(w)},"handler");(d=(m=this.webSocket).removeEventListener)===null||d===void 0||d.call(m,"close",this.closeEventHandler),this.webSocket.addEventListener("close",E),y.start(()=>{E(new CloseEvent("close",{wasClean:!1,code:1005,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===e.default.Open&&!this.isClosing&&this.wasOpened}mute(m){const d=a.SdkSignalFrame.create();d.type=a.SdkSignalFrame.Type.AUDIO_CONTROL;const y=a.SdkAudioControlFrame.create();y.muted=m,d.audioControl=y,this.sendMessage(d)}pause(m){const d=a.SdkSignalFrame.create();d.type=a.SdkSignalFrame.Type.PAUSE,d.pause=a.SdkPauseResumeFrame.create(),d.pause.streamIds=m,this.sendMessage(d)}resume(m){const d=a.SdkSignalFrame.create();d.type=a.SdkSignalFrame.Type.RESUME,d.pause=a.SdkPauseResumeFrame.create(),d.pause.streamIds=m,this.sendMessage(d)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(m){m.timestampMs=Date.now(),this.logger.debug(()=>`sending: ${JSON.stringify(m)}`);const d=this.prependWithFrameTypeRTC(a.SdkSignalFrame.encode(m).finish());if(this.ready()){if(!this.webSocket.send(d)){this.sendEvent(new n.default(this,r.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new n.default(this,r.default.WebSocketSentMessage,null))}else this.sendEvent(new n.default(this,r.default.WebSocketSkippedMessage,null))}receiveMessage(m){let d;try{d=a.SdkSignalFrame.decode(m)}catch{this.logger.info(`failed to decode: ${m}`),this.sendEvent(new n.default(this,r.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>`received: ${JSON.stringify(d)}`),this.webSocket.readyState()===e.default.Open?this.sendEvent(new n.default(this,r.default.ReceivedSignalFrame,d)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(d)}`)}stripFrameTypeRTC(m){const d=m[0];return d!==sc.FRAME_TYPE_RTC&&d!==2&&this.logger.warn(`expected FrameTypeRTC for message but got ${d}`),m.slice(1)}prependWithFrameTypeRTC(m){const d=new Uint8Array(m.length+1);return d[0]=sc.FRAME_TYPE_RTC,d.set(m,1),d}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const m=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${m.url()}`),this.isClosing=!1,this.webSocket.create(m.url(),m.protocols()),this.setUpEventListeners(),this.sendEvent(new n.default(this,r.default.WebSocketConnecting,null))}sendEvent(m){switch(m.type){case r.default.WebSocketMessage:case r.default.ReceivedSignalFrame:case r.default.WebSocketSentMessage:this.logger.debug(()=>`notifying event: ${r.default[m.type]}`);break;case r.default.WebSocketSkippedMessage:this.logger.debug(()=>`notifying event: ${r.default[m.type]}, websocket state=${e.default[this.webSocket.readyState()]}`);break;case r.default.WebSocketClosed:this.logger.info(`notifying event: ${r.default[m.type]}, 
              code: ${m.closeCode} reason: ${m.closeReason}`);break;default:this.logger.info(`notifying event: ${r.default[m.type]}`);break}for(const d of this.observerQueue)d.handleSignalingClientEvent(m)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new n.default(this,r.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",m=>{this.sendEvent(new n.default(this,r.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(m.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("ignoring error closing signaling while connecting");return}this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new n.default(this,r.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new n.default(this,r.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const m=S;m.window&&m.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const m=S;m.window&&m.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const m=new Uint32Array(1);return window.crypto.getRandomValues(m)[0]}promoteToPrimaryMeeting(m){const d=a.SdkMeetingSessionCredentials.create();d.attendeeId=m.attendeeId,d.externalUserId=m.externalUserId,d.joinToken=m.joinToken;const y=a.SdkPrimaryMeetingJoinFrame.create();y.credentials=d;const E=a.SdkSignalFrame.create();E.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,E.primaryMeetingJoin=y,this.sendMessage(E)}demoteFromPrimaryMeeting(){const m=a.SdkPrimaryMeetingLeaveFrame.create(),d=a.SdkSignalFrame.create();d.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,d.primaryMeetingLeave=m,this.sendMessage(d)}constructor(m,d){this.webSocket=m,this.logger=d,this.unloadHandler=null,this.closeEventHandler=y=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new n.default(this,r.default.WebSocketClosed,null,y.code,y.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}},"DefaultSignalingClient");l.default=c,c.FRAME_TYPE_RTC=5,c.CLOSE_EVENT_TIMEOUT_MS=2e3,c.CLIENT_SUPPORTS_COMPRESSION=!0}).call(this,h("yLpj"))},HK1f:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("IKDz"));let u=o(class{constructor(a,s,i=new f.default){this.eventsClientConfiguration=a,this.ingestionURL=s,this.eventBufferConfiguration=i}},"EventIngestionConfiguration");l.default=u},HLgz:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(g,a,s,i){function e(t){return t instanceof s?t:new s(function(n){n(t)})}return o(e,"adopt"),new(s||(s=Promise))(function(t,n){function r(m){try{p(i.next(m))}catch(d){n(d)}}o(r,"fulfilled");function c(m){try{p(i.throw(m))}catch(d){n(d)}}o(c,"rejected");function p(m){m.done?t(m.value):e(m.value).then(r,c)}o(p,"step"),p((i=i.apply(g,a||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("dWP+");let u=o(class{addObserver(a){this.audioVideoController.addObserver(a),this.trace("addObserver")}removeObserver(a){this.audioVideoController.removeObserver(a),this.trace("removeObserver")}setAudioProfile(a){this.trace("setAudioProfile",a),this.audioVideoController.setAudioProfile(a)}start(a){this.audioVideoController.start(a),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(a){return this.trace("getRTCPeerConnectionStats",a?a.id:null),this.audioVideoController.getRTCPeerConnectionStats(a)}bindAudioElement(a){const s=this.audioMixController.bindAudioElement(a);return this.trace("bindAudioElement",a.id,s),s}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(a){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(a)}removeAudioMixObserver(a){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(a)}bindVideoElement(a,s){this.videoTileController.bindVideoElement(a,s),this.trace("bindVideoElement",{tileId:a,videoElementId:s.id})}unbindVideoElement(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.videoTileController.unbindVideoElement(a,s),this.trace("unbindVideoElement",{tileId:a,cleanUpVideoElement:s})}startLocalVideoTile(){const a=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,a),a}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const a=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,a),a}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const a=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),a}pauseVideoTile(a){this.videoTileController.pauseVideoTile(a),this.trace("pauseVideoTile",a)}unpauseVideoTile(a){this.videoTileController.unpauseVideoTile(a),this.trace("unpauseVideoTile",a)}getVideoTile(a){const s=this.videoTileController.getVideoTile(a);return this.trace("getVideoTile",a),s}getAllRemoteVideoTiles(){const a=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),a}getAllVideoTiles(){const a=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),a}addVideoTile(){const a=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,a.state()),a}removeVideoTile(a){this.videoTileController.removeVideoTile(a),this.trace("removeVideoTile",a)}removeVideoTilesByAttendeeId(a){const s=this.videoTileController.removeVideoTilesByAttendeeId(a);return this.trace("removeVideoTilesByAttendeeId",a,s),s}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(a){const s=this.videoTileController.captureVideoTile(a);return this.trace("captureVideoTile",a),s}realtimeSubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSetCanUnmuteLocalAudio(a),this.trace("realtimeSetCanUnmuteLocalAudio",a)}realtimeSubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const a=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,a),a}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const a=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),a}realtimeSubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const a=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),a}realtimeSubscribeToVolumeIndicator(a,s){this.realtimeController.realtimeSubscribeToVolumeIndicator(a,s),this.trace("realtimeSubscribeToVolumeIndicator",a)}realtimeUnsubscribeFromVolumeIndicator(a,s){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(a,s),this.trace("realtimeUnsubscribeFromVolumeIndicator",a,s)}realtimeSubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(a),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(a),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(a,s,i){this.realtimeController.realtimeSendDataMessage(a,s,i),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(a,s){this.realtimeController.realtimeSubscribeToReceiveDataMessage(a,s),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(a){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(a),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(a){this.realtimeController.realtimeSubscribeToFatalError(a),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(a){this.realtimeController.realtimeUnsubscribeToFatalError(a),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(a,s,i,e){this.audioVideoController.activeSpeakerDetector.subscribe(a,s,i,e),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(a){this.audioVideoController.activeSpeakerDetector.unsubscribe(a),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const s=yield this.deviceController.listAudioInputDevices(a);return this.trace("listAudioInputDevices",a,s),s})}listVideoInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const s=yield this.deviceController.listVideoInputDevices(a);return this.trace("listVideoInputDevices",a,s),s})}listAudioOutputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const s=yield this.deviceController.listAudioOutputDevices(a);return this.trace("listAudioOutputDevices",a,s),s})}startAudioInput(a){return S(this,void 0,void 0,function*(){return this.trace("startAudioInput",a),this.deviceController.startAudioInput(a)})}stopAudioInput(){return S(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(a){return S(this,void 0,void 0,function*(){return f.isVideoTransformDevice(a)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",a),this.deviceController.startVideoInput(a)})}stopVideoInput(){return S(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(a){const s=this.deviceController.chooseAudioOutput(a);return this.trace("chooseAudioOutput",a),s}addDeviceChangeObserver(a){this.deviceController.addDeviceChangeObserver(a),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(a){this.deviceController.removeDeviceChangeObserver(a),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const a=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),a}startVideoPreviewForVideoInput(a){this.deviceController.startVideoPreviewForVideoInput(a),this.trace("startVideoPreviewForVideoInput",a.id)}stopVideoPreviewForVideoInput(a){this.deviceController.stopVideoPreviewForVideoInput(a),this.trace("stopVideoPreviewForVideoInput",a.id)}setDeviceLabelTrigger(a){this.deviceController.setDeviceLabelTrigger(a),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(a){const s=this.deviceController.mixIntoAudioInput(a);return this.trace("mixIntoAudioInput",a.id),s}chooseVideoInputQuality(a,s,i){this.deviceController.chooseVideoInputQuality(a,s,i),this.trace("chooseVideoInputQuality",{width:a,height:s,frameRate:i})}setVideoMaxBandwidthKbps(a){this.audioVideoController.setVideoMaxBandwidthKbps(a),this.trace("setVideoMaxBandwidthKbps",a)}setVideoCodecSendPreferences(a){this.audioVideoController.setVideoCodecSendPreferences(a),this.trace("setVideoCodecSendPreferences",a)}getVideoInputQualitySettings(){const a=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),a}setContentAudioProfile(a){this.trace("setContentAudioProfile",a),this.contentShareController.setContentAudioProfile(a)}enableSimulcastForContentShare(a,s){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(a,s)}enableSVCForContentShare(a){this.trace("enableSVCForContentShare"),this.contentShareController.enableSVCForContentShare(a)}startContentShare(a){const s=this.contentShareController.startContentShare(a);return this.trace("startContentShare"),s}startContentShareFromScreenCapture(a,s){const i=this.contentShareController.startContentShareFromScreenCapture(a,s);return this.trace("startContentShareFromScreenCapture"),i}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(a){this.contentShareController.addContentShareObserver(a),this.trace("addContentShareObserver")}removeContentShareObserver(a){this.contentShareController.removeContentShareObserver(a),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(a){this.contentShareController.setContentShareVideoCodecPreferences(a),this.trace("setContentShareVideoCodecPreferences")}trace(a,s,i){const e=this.audioVideoController.configuration.meetingId,t=this.audioVideoController.configuration.credentials.attendeeId;let n=`API/DefaultAudioVideoFacade/${e}/${t}/${a}`;typeof s<"u"&&(n+=` ${JSON.stringify(s)}`),typeof i<"u"&&(n+=` -> ${JSON.stringify(i)}`),this.audioVideoController.logger.info(n)}getRemoteVideoSources(){const a=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,a),a}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(a){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const s=this.audioVideoController.promoteToPrimaryMeeting(a);return this.trace("promoteToPrimaryMeeting",null,s),s}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(a){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}constructor(a,s,i,e,t,n){this.audioVideoController=a,this.videoTileController=s,this.realtimeController=i,this.audioMixController=e,this.deviceController=t,this.contentShareController=n}},"DefaultAudioVideoFacade");l.default=u},HXIC:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(u,g,a){this.type=u,this.headers=g,this.payload=a}},"Message");l.default=S},HbHZ:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SignalingClientEventType=void 0;var S;(function(f){f[f.WebSocketConnecting=0]="WebSocketConnecting",f[f.WebSocketOpen=1]="WebSocketOpen",f[f.WebSocketError=2]="WebSocketError",f[f.WebSocketClosing=3]="WebSocketClosing",f[f.WebSocketClosed=4]="WebSocketClosed",f[f.WebSocketFailed=5]="WebSocketFailed",f[f.WebSocketMessage=6]="WebSocketMessage",f[f.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",f[f.WebSocketSentMessage=8]="WebSocketSentMessage",f[f.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",f[f.ReceivedSignalFrame=10]="ReceivedSignalFrame",f[f.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(S=l.SignalingClientEventType||(l.SignalingClientEventType={})),l.default=S},Hi4k:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(y,E,w,k){function V(N){return N instanceof w?N:new w(function(F){F(N)})}return o(V,"adopt"),new(w||(w=Promise))(function(N,F){function P(R){try{O(k.next(R))}catch(D){F(D)}}o(P,"fulfilled");function B(R){try{O(k.throw(R))}catch(D){F(D)}}o(B,"rejected");function O(R){R.done?N(R.value):V(R.value).then(P,B)}o(O,"step"),O((k=k.apply(y,E||[])).next())})},f=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("bjg3")),g=f(h("x8On")),a=f(h("Zful")),s=f(h("1GR6")),i=f(h("I/xa")),e=f(h("aZba")),t=f(h("papz")),n=f(h("HbHZ")),r=h("XCDq"),c=f(h("PPZC")),p=h("Aplu"),m=f(h("j+uH"));let d=o(class extends m.default{removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(E){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(E){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=E;return}else this.pendingMetricsReport=void 0;const w=E.getObservableMetrics(),k=w.availableOutgoingBitrate,V=w.nackCountReceivedPerSecond;let N=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(E);const F=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(N=N||F,F){const P=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=P.truncate(this.context.videoSubscriptionLimit),P.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${F}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:k/1e3,nackCountPerSecond:V});const P=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();N=N||P,P&&(this.logger.info(`trigger resubscribe for up=${P}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return N}metricsDidReceive(E){if(this.checkResubscribe(E)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const w=E.streamMetricReports,k=new Map;for(const V in w)w[V].mediaType===g.default.VIDEO&&w[V].direction===u.default.DOWNSTREAM&&k.set(w[V].streamId,w[V])}connectionHealthDidChange(E){E.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,E,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,E,()=>{var w;this.context.poorConnectionCount+=1;const k=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(w=this.context.eventController)===null||w===void 0||w.publishEvent("receivingAudioDropped",k),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(V=>{p.Maybe.of(V.connectionDidSuggestStopVideo).map(N=>N.bind(V)())}):this.context.audioVideoController.forEachObserver(V=>{p.Maybe.of(V.connectionDidBecomePoor).map(N=>N.bind(V)())})},()=>{this.context.audioVideoController.forEachObserver(w=>{p.Maybe.of(w.connectionDidBecomeGood).map(k=>k.bind(w)())})}),this.isMeetingConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,E,()=>{var w;const k=this.generateBaseAudioVideoEventAttributes();(w=this.context.eventController)===null||w===void 0||w.publishEvent("sendingAudioFailed",k)},()=>{var w;const k=this.generateBaseAudioVideoEventAttributes();(w=this.context.eventController)===null||w===void 0||w.publishEvent("sendingAudioRecovered",k)})}audioVideoDidStart(){this.isMeetingConnected=!0}audioVideoDidStartConnecting(E){this.isMeetingConnected=!1}audioVideoDidStop(E){this.isMeetingConnected=!1}applyHealthPolicy(E,w,k,V){E.update(w);const N=E.healthIfChanged();N!==null&&(this.logger.info(`${E.name} value is now ${N}`),N<=E.minimumHealth()?p.Maybe.of(k).map(F=>F.bind(this)()):p.Maybe.of(V).map(F=>F.bind(this)()))}handleBitrateFrame(E){this.currentAvailableStreamAvgBitrates=E,E.serverAvailableOutgoingBitrate>0&&(this.logger.info(`Received server side estimation of available incoming bitrate ${E.serverAvailableOutgoingBitrate}kbps`),this.context.statsCollector.overrideObservableMetric("availableIncomingBitrate",E.serverAvailableOutgoingBitrate*1e3))}handleSignalingClientEvent(E){var w;if(E.type===n.default.WebSocketClosed&&this.isUnexpectedWebsocketCloseCode(E.closeCode)||E.type===n.default.WebSocketError||E.type===n.default.WebSocketFailed){if(E.type===n.default.WebSocketClosed&&this.context.logger.info(`The signaling connection was closed with code ${E.closeCode} and reason: ${E.closeReason}`),!this.hasSignalingError){const k=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(w=this.context.eventController)===null||w===void 0||w.publishEvent("signalingDropped",k),this.hasSignalingError=!0}this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.SignalChannelClosedUnexpectedly),null)}else E.type===n.default.WebSocketOpen&&(this.hasSignalingError=!1);if(E.type===n.default.ReceivedSignalFrame){if(E.message.type===r.SdkSignalFrame.Type.NOTIFICATION){switch(E.message.notification.level){case r.SdkNotificationFrame.NotificationLevel.INFO:this.logger.info(`Received notification from server: ${E.message.notification.message}`);break;case r.SdkNotificationFrame.NotificationLevel.WARNING:this.logger.warn(`Received warning from server: ${E.message.notification.message}`);break;case r.SdkNotificationFrame.NotificationLevel.ERROR:this.logger.error(`Received error from server: ${E.message.notification.message}`);break;default:this.logger.error(`Received notification from server with unknown level ${E.message.notification.level}: ${E.message.notification.message}`);break}return}if(E.message.bitrates){const V=E.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(V),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(E.message.bitrates)}const k=e.default.fromSignalFrame(E.message);E.message.type!==r.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&k.statusCode()!==t.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(k,null)}}isUnexpectedWebsocketCloseCode(E){return E===1006||E>=4500&&E<4600}constructor(E,w,k){super(E.logger),this.context=E,this.initialConnectionHealthData=k,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.isMeetingConnected=!1,this.checkAndSendWeakSignalEvent=V=>{const N=V<1,F=this.prevSignalStrength<1,P=N?F?null:c.default.RedmicStartLoss:F?c.default.RedmicEndLoss:null;P&&this.context.statsCollector.logAudioEvent(P),this.prevSignalStrength=V},this.realtimeFatalErrorCallback=V=>{this.logger.error(`realtime error: ${V}: ${V.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.RealtimeApiFailed),V)},this.realtimeAttendeeIdPresenceHandler=(V,N)=>{var F;const P=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${P}`),P===V&&N&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(F=this.context.eventController)===null||F===void 0||F.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:V,startTimeMs:N,iceGatheringDurationMs:F,attendeePresenceDurationMs:P,meetingStartDurationMs:B}=this.context;return{meetingDurationMs:N===null?0:Math.round(Date.now()-N),signalingOpenDurationMs:V,iceGatheringDurationMs:F,attendeePresenceDurationMs:P,meetingStartDurationMs:B}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const V=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},V),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new a.default(E.logger,Object.assign({},w),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new i.default(Object.assign({},w),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new s.default(E.logger,Object.assign({},w),this.initialConnectionHealthData.clone())}},"MonitorTask");l.default=d},HlBM:function(j,l,h){"use strict";h.d(l,"a",function(){return i});var S=h("VDtp"),f=h.n(S);const u=S.Reader,g=S.Writer,a=S.util,s=S.roots.default||(S.roots.default={}),i=s.PeerMessage=(()=>{function e(t){if(t)for(let n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return o(e,"PeerMessage1"),e.prototype.reacji=null,e.prototype.draw=null,e.prototype.fromPeerId=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.fromPeerIdString="",e.prototype.capabilities=null,e.prototype.background=null,e.prototype.muteRequest=null,e.prototype.awarenessBroadcast=null,e.prototype.awarenessQuery=null,e.prototype.awarenessClose=null,e.prototype.jukeboxRequest=null,e.prototype.contentShareDetails=null,e.create=o(function(n){return new e(n)},"create"),e.encode=o(function(n,r){return r||(r=g.create()),n.reacji!=null&&Object.hasOwnProperty.call(n,"reacji")&&s.PeerMessage.Reacji.encode(n.reacji,r.uint32(10).fork()).ldelim(),n.draw!=null&&Object.hasOwnProperty.call(n,"draw")&&s.PeerMessage.Draw.encode(n.draw,r.uint32(18).fork()).ldelim(),n.fromPeerId!=null&&Object.hasOwnProperty.call(n,"fromPeerId")&&r.uint32(24).uint64(n.fromPeerId),n.fromPeerIdString!=null&&Object.hasOwnProperty.call(n,"fromPeerIdString")&&r.uint32(34).string(n.fromPeerIdString),n.capabilities!=null&&Object.hasOwnProperty.call(n,"capabilities")&&s.PeerMessage.Capabilities.encode(n.capabilities,r.uint32(42).fork()).ldelim(),n.background!=null&&Object.hasOwnProperty.call(n,"background")&&s.PeerMessage.Background.encode(n.background,r.uint32(50).fork()).ldelim(),n.muteRequest!=null&&Object.hasOwnProperty.call(n,"muteRequest")&&s.PeerMessage.MuteRequest.encode(n.muteRequest,r.uint32(82).fork()).ldelim(),n.awarenessBroadcast!=null&&Object.hasOwnProperty.call(n,"awarenessBroadcast")&&s.PeerMessage.AwarenessBroadcast.encode(n.awarenessBroadcast,r.uint32(90).fork()).ldelim(),n.awarenessQuery!=null&&Object.hasOwnProperty.call(n,"awarenessQuery")&&s.PeerMessage.AwarenessQuery.encode(n.awarenessQuery,r.uint32(98).fork()).ldelim(),n.awarenessClose!=null&&Object.hasOwnProperty.call(n,"awarenessClose")&&s.PeerMessage.AwarenessClose.encode(n.awarenessClose,r.uint32(106).fork()).ldelim(),n.jukeboxRequest!=null&&Object.hasOwnProperty.call(n,"jukeboxRequest")&&s.PeerMessage.JukeboxRequest.encode(n.jukeboxRequest,r.uint32(114).fork()).ldelim(),n.contentShareDetails!=null&&Object.hasOwnProperty.call(n,"contentShareDetails")&&s.PeerMessage.ContentShareDetails.encode(n.contentShareDetails,r.uint32(122).fork()).ldelim(),r},"encode"),e.encodeDelimited=o(function(n,r){return this.encode(n,r).ldelim()},"encodeDelimited"),e.decode=o(function(n,r){n instanceof u||(n=u.create(n));let c=r===void 0?n.len:n.pos+r,p=new s.PeerMessage;for(;n.pos<c;){let m=n.uint32();switch(m>>>3){case 1:{p.reacji=s.PeerMessage.Reacji.decode(n,n.uint32());break}case 2:{p.draw=s.PeerMessage.Draw.decode(n,n.uint32());break}case 3:{p.fromPeerId=n.uint64();break}case 4:{p.fromPeerIdString=n.string();break}case 5:{p.capabilities=s.PeerMessage.Capabilities.decode(n,n.uint32());break}case 6:{p.background=s.PeerMessage.Background.decode(n,n.uint32());break}case 10:{p.muteRequest=s.PeerMessage.MuteRequest.decode(n,n.uint32());break}case 11:{p.awarenessBroadcast=s.PeerMessage.AwarenessBroadcast.decode(n,n.uint32());break}case 12:{p.awarenessQuery=s.PeerMessage.AwarenessQuery.decode(n,n.uint32());break}case 13:{p.awarenessClose=s.PeerMessage.AwarenessClose.decode(n,n.uint32());break}case 14:{p.jukeboxRequest=s.PeerMessage.JukeboxRequest.decode(n,n.uint32());break}case 15:{p.contentShareDetails=s.PeerMessage.ContentShareDetails.decode(n,n.uint32());break}default:n.skipType(m&7);break}}return p},"decode"),e.decodeDelimited=o(function(n){return n instanceof u||(n=new u(n)),this.decode(n,n.uint32())},"decodeDelimited"),e.verify=o(function(n){if(typeof n!="object"||n===null)return"object expected";if(n.reacji!=null&&n.hasOwnProperty("reacji")){let r=s.PeerMessage.Reacji.verify(n.reacji);if(r)return"reacji."+r}if(n.draw!=null&&n.hasOwnProperty("draw")){let r=s.PeerMessage.Draw.verify(n.draw);if(r)return"draw."+r}if(n.fromPeerId!=null&&n.hasOwnProperty("fromPeerId")&&!a.isInteger(n.fromPeerId)&&!(n.fromPeerId&&a.isInteger(n.fromPeerId.low)&&a.isInteger(n.fromPeerId.high)))return"fromPeerId: integer|Long expected";if(n.fromPeerIdString!=null&&n.hasOwnProperty("fromPeerIdString")&&!a.isString(n.fromPeerIdString))return"fromPeerIdString: string expected";if(n.capabilities!=null&&n.hasOwnProperty("capabilities")){let r=s.PeerMessage.Capabilities.verify(n.capabilities);if(r)return"capabilities."+r}if(n.background!=null&&n.hasOwnProperty("background")){let r=s.PeerMessage.Background.verify(n.background);if(r)return"background."+r}if(n.muteRequest!=null&&n.hasOwnProperty("muteRequest")){let r=s.PeerMessage.MuteRequest.verify(n.muteRequest);if(r)return"muteRequest."+r}if(n.awarenessBroadcast!=null&&n.hasOwnProperty("awarenessBroadcast")){let r=s.PeerMessage.AwarenessBroadcast.verify(n.awarenessBroadcast);if(r)return"awarenessBroadcast."+r}if(n.awarenessQuery!=null&&n.hasOwnProperty("awarenessQuery")){let r=s.PeerMessage.AwarenessQuery.verify(n.awarenessQuery);if(r)return"awarenessQuery."+r}if(n.awarenessClose!=null&&n.hasOwnProperty("awarenessClose")){let r=s.PeerMessage.AwarenessClose.verify(n.awarenessClose);if(r)return"awarenessClose."+r}if(n.jukeboxRequest!=null&&n.hasOwnProperty("jukeboxRequest")){let r=s.PeerMessage.JukeboxRequest.verify(n.jukeboxRequest);if(r)return"jukeboxRequest."+r}if(n.contentShareDetails!=null&&n.hasOwnProperty("contentShareDetails")){let r=s.PeerMessage.ContentShareDetails.verify(n.contentShareDetails);if(r)return"contentShareDetails."+r}return null},"verify"),e.fromObject=o(function(n){if(n instanceof s.PeerMessage)return n;let r=new s.PeerMessage;if(n.reacji!=null){if(typeof n.reacji!="object")throw TypeError(".PeerMessage.reacji: object expected");r.reacji=s.PeerMessage.Reacji.fromObject(n.reacji)}if(n.draw!=null){if(typeof n.draw!="object")throw TypeError(".PeerMessage.draw: object expected");r.draw=s.PeerMessage.Draw.fromObject(n.draw)}if(n.fromPeerId!=null&&(a.Long?(r.fromPeerId=a.Long.fromValue(n.fromPeerId)).unsigned=!0:typeof n.fromPeerId=="string"?r.fromPeerId=parseInt(n.fromPeerId,10):typeof n.fromPeerId=="number"?r.fromPeerId=n.fromPeerId:typeof n.fromPeerId=="object"&&(r.fromPeerId=new a.LongBits(n.fromPeerId.low>>>0,n.fromPeerId.high>>>0).toNumber(!0))),n.fromPeerIdString!=null&&(r.fromPeerIdString=String(n.fromPeerIdString)),n.capabilities!=null){if(typeof n.capabilities!="object")throw TypeError(".PeerMessage.capabilities: object expected");r.capabilities=s.PeerMessage.Capabilities.fromObject(n.capabilities)}if(n.background!=null){if(typeof n.background!="object")throw TypeError(".PeerMessage.background: object expected");r.background=s.PeerMessage.Background.fromObject(n.background)}if(n.muteRequest!=null){if(typeof n.muteRequest!="object")throw TypeError(".PeerMessage.muteRequest: object expected");r.muteRequest=s.PeerMessage.MuteRequest.fromObject(n.muteRequest)}if(n.awarenessBroadcast!=null){if(typeof n.awarenessBroadcast!="object")throw TypeError(".PeerMessage.awarenessBroadcast: object expected");r.awarenessBroadcast=s.PeerMessage.AwarenessBroadcast.fromObject(n.awarenessBroadcast)}if(n.awarenessQuery!=null){if(typeof n.awarenessQuery!="object")throw TypeError(".PeerMessage.awarenessQuery: object expected");r.awarenessQuery=s.PeerMessage.AwarenessQuery.fromObject(n.awarenessQuery)}if(n.awarenessClose!=null){if(typeof n.awarenessClose!="object")throw TypeError(".PeerMessage.awarenessClose: object expected");r.awarenessClose=s.PeerMessage.AwarenessClose.fromObject(n.awarenessClose)}if(n.jukeboxRequest!=null){if(typeof n.jukeboxRequest!="object")throw TypeError(".PeerMessage.jukeboxRequest: object expected");r.jukeboxRequest=s.PeerMessage.JukeboxRequest.fromObject(n.jukeboxRequest)}if(n.contentShareDetails!=null){if(typeof n.contentShareDetails!="object")throw TypeError(".PeerMessage.contentShareDetails: object expected");r.contentShareDetails=s.PeerMessage.ContentShareDetails.fromObject(n.contentShareDetails)}return r},"fromObject"),e.toObject=o(function(n,r){r||(r={});let c={};if(r.defaults){if(c.reacji=null,c.draw=null,a.Long){let p=new a.Long(0,0,!0);c.fromPeerId=r.longs===String?p.toString():r.longs===Number?p.toNumber():p}else c.fromPeerId=r.longs===String?"0":0;c.fromPeerIdString="",c.capabilities=null,c.background=null,c.muteRequest=null,c.awarenessBroadcast=null,c.awarenessQuery=null,c.awarenessClose=null,c.jukeboxRequest=null,c.contentShareDetails=null}return n.reacji!=null&&n.hasOwnProperty("reacji")&&(c.reacji=s.PeerMessage.Reacji.toObject(n.reacji,r)),n.draw!=null&&n.hasOwnProperty("draw")&&(c.draw=s.PeerMessage.Draw.toObject(n.draw,r)),n.fromPeerId!=null&&n.hasOwnProperty("fromPeerId")&&(typeof n.fromPeerId=="number"?c.fromPeerId=r.longs===String?String(n.fromPeerId):n.fromPeerId:c.fromPeerId=r.longs===String?a.Long.prototype.toString.call(n.fromPeerId):r.longs===Number?new a.LongBits(n.fromPeerId.low>>>0,n.fromPeerId.high>>>0).toNumber(!0):n.fromPeerId),n.fromPeerIdString!=null&&n.hasOwnProperty("fromPeerIdString")&&(c.fromPeerIdString=n.fromPeerIdString),n.capabilities!=null&&n.hasOwnProperty("capabilities")&&(c.capabilities=s.PeerMessage.Capabilities.toObject(n.capabilities,r)),n.background!=null&&n.hasOwnProperty("background")&&(c.background=s.PeerMessage.Background.toObject(n.background,r)),n.muteRequest!=null&&n.hasOwnProperty("muteRequest")&&(c.muteRequest=s.PeerMessage.MuteRequest.toObject(n.muteRequest,r)),n.awarenessBroadcast!=null&&n.hasOwnProperty("awarenessBroadcast")&&(c.awarenessBroadcast=s.PeerMessage.AwarenessBroadcast.toObject(n.awarenessBroadcast,r)),n.awarenessQuery!=null&&n.hasOwnProperty("awarenessQuery")&&(c.awarenessQuery=s.PeerMessage.AwarenessQuery.toObject(n.awarenessQuery,r)),n.awarenessClose!=null&&n.hasOwnProperty("awarenessClose")&&(c.awarenessClose=s.PeerMessage.AwarenessClose.toObject(n.awarenessClose,r)),n.jukeboxRequest!=null&&n.hasOwnProperty("jukeboxRequest")&&(c.jukeboxRequest=s.PeerMessage.JukeboxRequest.toObject(n.jukeboxRequest,r)),n.contentShareDetails!=null&&n.hasOwnProperty("contentShareDetails")&&(c.contentShareDetails=s.PeerMessage.ContentShareDetails.toObject(n.contentShareDetails,r)),c},"toObject"),e.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),e.getTypeUrl=o(function(n){return n===void 0&&(n="type.googleapis.com"),n+"/PeerMessage"},"getTypeUrl"),e.Reacji=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"Reacji"),t.prototype.emoji="",t.prototype.type=0,t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.emoji!=null&&Object.hasOwnProperty.call(r,"emoji")&&c.uint32(10).string(r.emoji),r.type!=null&&Object.hasOwnProperty.call(r,"type")&&c.uint32(16).int32(r.type),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.Reacji;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.emoji=r.string();break}case 2:{m.type=r.int32();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){if(typeof r!="object"||r===null)return"object expected";if(r.emoji!=null&&r.hasOwnProperty("emoji")&&!a.isString(r.emoji))return"emoji: string expected";if(r.type!=null&&r.hasOwnProperty("type"))switch(r.type){default:return"type: enum value expected";case 0:case 1:case 2:break}return null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.Reacji)return r;let c=new s.PeerMessage.Reacji;switch(r.emoji!=null&&(c.emoji=String(r.emoji)),r.type){default:if(typeof r.type=="number"){c.type=r.type;break}break;case"Unknown_reaction_type":case 0:c.type=0;break;case"Effect":case 1:c.type=1;break;case"Standard":case 2:c.type=2;break}return c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.emoji="",p.type=c.enums===String?"Unknown_reaction_type":0),r.emoji!=null&&r.hasOwnProperty("emoji")&&(p.emoji=r.emoji),r.type!=null&&r.hasOwnProperty("type")&&(p.type=c.enums===String?s.PeerMessage.Reacji.Type[r.type]===void 0?r.type:s.PeerMessage.Reacji.Type[r.type]:r.type),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.Reacji"},"getTypeUrl"),t.Type=function(){const n={},r=Object.create(n);return r[n[0]="Unknown_reaction_type"]=0,r[n[1]="Effect"]=1,r[n[2]="Standard"]=2,r}(),t}(),e.Point=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"Point"),t.prototype.x=0,t.prototype.y=0,t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.x!=null&&Object.hasOwnProperty.call(r,"x")&&c.uint32(9).double(r.x),r.y!=null&&Object.hasOwnProperty.call(r,"y")&&c.uint32(17).double(r.y),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.Point;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.x=r.double();break}case 2:{m.y=r.double();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){return typeof r!="object"||r===null?"object expected":r.x!=null&&r.hasOwnProperty("x")&&typeof r.x!="number"?"x: number expected":r.y!=null&&r.hasOwnProperty("y")&&typeof r.y!="number"?"y: number expected":null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.Point)return r;let c=new s.PeerMessage.Point;return r.x!=null&&(c.x=Number(r.x)),r.y!=null&&(c.y=Number(r.y)),c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.x=0,p.y=0),r.x!=null&&r.hasOwnProperty("x")&&(p.x=c.json&&!isFinite(r.x)?String(r.x):r.x),r.y!=null&&r.hasOwnProperty("y")&&(p.y=c.json&&!isFinite(r.y)?String(r.y):r.y),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.Point"},"getTypeUrl"),t}(),e.Segment=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"Segment"),t.prototype.a=null,t.prototype.b=null,t.prototype.c=null,t.prototype.d=null,t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.a!=null&&Object.hasOwnProperty.call(r,"a")&&s.PeerMessage.Point.encode(r.a,c.uint32(10).fork()).ldelim(),r.b!=null&&Object.hasOwnProperty.call(r,"b")&&s.PeerMessage.Point.encode(r.b,c.uint32(18).fork()).ldelim(),r.c!=null&&Object.hasOwnProperty.call(r,"c")&&s.PeerMessage.Point.encode(r.c,c.uint32(26).fork()).ldelim(),r.d!=null&&Object.hasOwnProperty.call(r,"d")&&s.PeerMessage.Point.encode(r.d,c.uint32(34).fork()).ldelim(),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.Segment;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.a=s.PeerMessage.Point.decode(r,r.uint32());break}case 2:{m.b=s.PeerMessage.Point.decode(r,r.uint32());break}case 3:{m.c=s.PeerMessage.Point.decode(r,r.uint32());break}case 4:{m.d=s.PeerMessage.Point.decode(r,r.uint32());break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){if(typeof r!="object"||r===null)return"object expected";if(r.a!=null&&r.hasOwnProperty("a")){let c=s.PeerMessage.Point.verify(r.a);if(c)return"a."+c}if(r.b!=null&&r.hasOwnProperty("b")){let c=s.PeerMessage.Point.verify(r.b);if(c)return"b."+c}if(r.c!=null&&r.hasOwnProperty("c")){let c=s.PeerMessage.Point.verify(r.c);if(c)return"c."+c}if(r.d!=null&&r.hasOwnProperty("d")){let c=s.PeerMessage.Point.verify(r.d);if(c)return"d."+c}return null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.Segment)return r;let c=new s.PeerMessage.Segment;if(r.a!=null){if(typeof r.a!="object")throw TypeError(".PeerMessage.Segment.a: object expected");c.a=s.PeerMessage.Point.fromObject(r.a)}if(r.b!=null){if(typeof r.b!="object")throw TypeError(".PeerMessage.Segment.b: object expected");c.b=s.PeerMessage.Point.fromObject(r.b)}if(r.c!=null){if(typeof r.c!="object")throw TypeError(".PeerMessage.Segment.c: object expected");c.c=s.PeerMessage.Point.fromObject(r.c)}if(r.d!=null){if(typeof r.d!="object")throw TypeError(".PeerMessage.Segment.d: object expected");c.d=s.PeerMessage.Point.fromObject(r.d)}return c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.a=null,p.b=null,p.c=null,p.d=null),r.a!=null&&r.hasOwnProperty("a")&&(p.a=s.PeerMessage.Point.toObject(r.a,c)),r.b!=null&&r.hasOwnProperty("b")&&(p.b=s.PeerMessage.Point.toObject(r.b,c)),r.c!=null&&r.hasOwnProperty("c")&&(p.c=s.PeerMessage.Point.toObject(r.c,c)),r.d!=null&&r.hasOwnProperty("d")&&(p.d=s.PeerMessage.Point.toObject(r.d,c)),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.Segment"},"getTypeUrl"),t}(),e.Draw=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"Draw"),t.prototype.type=0,t.prototype.segment=null,t.prototype.hue=0,t.prototype.itemId="",t.prototype.x=0,t.prototype.y=0,t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.type!=null&&Object.hasOwnProperty.call(r,"type")&&c.uint32(8).int32(r.type),r.segment!=null&&Object.hasOwnProperty.call(r,"segment")&&s.PeerMessage.Segment.encode(r.segment,c.uint32(18).fork()).ldelim(),r.hue!=null&&Object.hasOwnProperty.call(r,"hue")&&c.uint32(24).int32(r.hue),r.itemId!=null&&Object.hasOwnProperty.call(r,"itemId")&&c.uint32(34).string(r.itemId),r.x!=null&&Object.hasOwnProperty.call(r,"x")&&c.uint32(41).double(r.x),r.y!=null&&Object.hasOwnProperty.call(r,"y")&&c.uint32(49).double(r.y),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.Draw;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.type=r.int32();break}case 2:{m.segment=s.PeerMessage.Segment.decode(r,r.uint32());break}case 3:{m.hue=r.int32();break}case 4:{m.itemId=r.string();break}case 5:{m.x=r.double();break}case 6:{m.y=r.double();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){if(typeof r!="object"||r===null)return"object expected";if(r.type!=null&&r.hasOwnProperty("type"))switch(r.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(r.segment!=null&&r.hasOwnProperty("segment")){let c=s.PeerMessage.Segment.verify(r.segment);if(c)return"segment."+c}return r.hue!=null&&r.hasOwnProperty("hue")&&!a.isInteger(r.hue)?"hue: integer expected":r.itemId!=null&&r.hasOwnProperty("itemId")&&!a.isString(r.itemId)?"itemId: string expected":r.x!=null&&r.hasOwnProperty("x")&&typeof r.x!="number"?"x: number expected":r.y!=null&&r.hasOwnProperty("y")&&typeof r.y!="number"?"y: number expected":null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.Draw)return r;let c=new s.PeerMessage.Draw;switch(r.type){default:if(typeof r.type=="number"){c.type=r.type;break}break;case"UNKNOWN_DRAW_TYPE":case 0:c.type=0;break;case"NEW":case 1:c.type=1;break;case"EDIT":case 2:c.type=2;break;case"END":case 3:c.type=3;break;case"CHANGE_HUE":case 4:c.type=4;break;case"POSITION":case 5:c.type=5;break}if(r.segment!=null){if(typeof r.segment!="object")throw TypeError(".PeerMessage.Draw.segment: object expected");c.segment=s.PeerMessage.Segment.fromObject(r.segment)}return r.hue!=null&&(c.hue=r.hue|0),r.itemId!=null&&(c.itemId=String(r.itemId)),r.x!=null&&(c.x=Number(r.x)),r.y!=null&&(c.y=Number(r.y)),c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.type=c.enums===String?"UNKNOWN_DRAW_TYPE":0,p.segment=null,p.hue=0,p.itemId="",p.x=0,p.y=0),r.type!=null&&r.hasOwnProperty("type")&&(p.type=c.enums===String?s.PeerMessage.Draw.Type[r.type]===void 0?r.type:s.PeerMessage.Draw.Type[r.type]:r.type),r.segment!=null&&r.hasOwnProperty("segment")&&(p.segment=s.PeerMessage.Segment.toObject(r.segment,c)),r.hue!=null&&r.hasOwnProperty("hue")&&(p.hue=r.hue),r.itemId!=null&&r.hasOwnProperty("itemId")&&(p.itemId=r.itemId),r.x!=null&&r.hasOwnProperty("x")&&(p.x=c.json&&!isFinite(r.x)?String(r.x):r.x),r.y!=null&&r.hasOwnProperty("y")&&(p.y=c.json&&!isFinite(r.y)?String(r.y):r.y),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.Draw"},"getTypeUrl"),t.Type=function(){const n={},r=Object.create(n);return r[n[0]="UNKNOWN_DRAW_TYPE"]=0,r[n[1]="NEW"]=1,r[n[2]="EDIT"]=2,r[n[3]="END"]=3,r[n[4]="CHANGE_HUE"]=4,r[n[5]="POSITION"]=5,r}(),t}(),e.Capabilities=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"Capabilities"),t.prototype.isDrawEnabled=!1,t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.isDrawEnabled!=null&&Object.hasOwnProperty.call(r,"isDrawEnabled")&&c.uint32(8).bool(r.isDrawEnabled),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.Capabilities;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.isDrawEnabled=r.bool();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){return typeof r!="object"||r===null?"object expected":r.isDrawEnabled!=null&&r.hasOwnProperty("isDrawEnabled")&&typeof r.isDrawEnabled!="boolean"?"isDrawEnabled: boolean expected":null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.Capabilities)return r;let c=new s.PeerMessage.Capabilities;return r.isDrawEnabled!=null&&(c.isDrawEnabled=Boolean(r.isDrawEnabled)),c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.isDrawEnabled=!1),r.isDrawEnabled!=null&&r.hasOwnProperty("isDrawEnabled")&&(p.isDrawEnabled=r.isDrawEnabled),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.Capabilities"},"getTypeUrl"),t}(),e.ContentShareDetails=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"ContentShareDetails"),t.prototype.sourceType="",t.prototype.itemId="",t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.sourceType!=null&&Object.hasOwnProperty.call(r,"sourceType")&&c.uint32(10).string(r.sourceType),r.itemId!=null&&Object.hasOwnProperty.call(r,"itemId")&&c.uint32(18).string(r.itemId),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.ContentShareDetails;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.sourceType=r.string();break}case 2:{m.itemId=r.string();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){return typeof r!="object"||r===null?"object expected":r.sourceType!=null&&r.hasOwnProperty("sourceType")&&!a.isString(r.sourceType)?"sourceType: string expected":r.itemId!=null&&r.hasOwnProperty("itemId")&&!a.isString(r.itemId)?"itemId: string expected":null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.ContentShareDetails)return r;let c=new s.PeerMessage.ContentShareDetails;return r.sourceType!=null&&(c.sourceType=String(r.sourceType)),r.itemId!=null&&(c.itemId=String(r.itemId)),c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.sourceType="",p.itemId=""),r.sourceType!=null&&r.hasOwnProperty("sourceType")&&(p.sourceType=r.sourceType),r.itemId!=null&&r.hasOwnProperty("itemId")&&(p.itemId=r.itemId),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.ContentShareDetails"},"getTypeUrl"),t}(),e.Background=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"Background"),t.prototype.url="",t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.url!=null&&Object.hasOwnProperty.call(r,"url")&&c.uint32(10).string(r.url),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.Background;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.url=r.string();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){return typeof r!="object"||r===null?"object expected":r.url!=null&&r.hasOwnProperty("url")&&!a.isString(r.url)?"url: string expected":null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.Background)return r;let c=new s.PeerMessage.Background;return r.url!=null&&(c.url=String(r.url)),c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.url=""),r.url!=null&&r.hasOwnProperty("url")&&(p.url=r.url),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.Background"},"getTypeUrl"),t}(),e.MuteRequest=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"MuteRequest"),t.prototype.peerId="",t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.peerId!=null&&Object.hasOwnProperty.call(r,"peerId")&&c.uint32(10).string(r.peerId),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.MuteRequest;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.peerId=r.string();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){return typeof r!="object"||r===null?"object expected":r.peerId!=null&&r.hasOwnProperty("peerId")&&!a.isString(r.peerId)?"peerId: string expected":null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.MuteRequest)return r;let c=new s.PeerMessage.MuteRequest;return r.peerId!=null&&(c.peerId=String(r.peerId)),c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.peerId=""),r.peerId!=null&&r.hasOwnProperty("peerId")&&(p.peerId=r.peerId),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.MuteRequest"},"getTypeUrl"),t}(),e.JukeboxRequest=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"JukeboxRequest"),t.prototype.songKey="",t.prototype.stop=!1,t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.songKey!=null&&Object.hasOwnProperty.call(r,"songKey")&&c.uint32(10).string(r.songKey),r.stop!=null&&Object.hasOwnProperty.call(r,"stop")&&c.uint32(16).bool(r.stop),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.JukeboxRequest;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.songKey=r.string();break}case 2:{m.stop=r.bool();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){return typeof r!="object"||r===null?"object expected":r.songKey!=null&&r.hasOwnProperty("songKey")&&!a.isString(r.songKey)?"songKey: string expected":r.stop!=null&&r.hasOwnProperty("stop")&&typeof r.stop!="boolean"?"stop: boolean expected":null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.JukeboxRequest)return r;let c=new s.PeerMessage.JukeboxRequest;return r.songKey!=null&&(c.songKey=String(r.songKey)),r.stop!=null&&(c.stop=Boolean(r.stop)),c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.songKey="",p.stop=!1),r.songKey!=null&&r.hasOwnProperty("songKey")&&(p.songKey=r.songKey),r.stop!=null&&r.hasOwnProperty("stop")&&(p.stop=r.stop),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.JukeboxRequest"},"getTypeUrl"),t}(),e.AwarenessPayload=function(){function t(r){if(r)for(let c=Object.keys(r),p=0;p<c.length;++p)r[c[p]]!=null&&(this[c[p]]=r[c[p]])}o(t,"AwarenessPayload"),t.prototype.fieldName="",t.prototype.fieldValue="",t.prototype.fieldTimestampMs=null;let n;return Object.defineProperty(t.prototype,"_fieldTimestampMs",{get:a.oneOfGetter(n=["fieldTimestampMs"]),set:a.oneOfSetter(n)}),t.create=o(function(c){return new t(c)},"create"),t.encode=o(function(c,p){return p||(p=g.create()),c.fieldName!=null&&Object.hasOwnProperty.call(c,"fieldName")&&p.uint32(10).string(c.fieldName),c.fieldValue!=null&&Object.hasOwnProperty.call(c,"fieldValue")&&p.uint32(18).string(c.fieldValue),c.fieldTimestampMs!=null&&Object.hasOwnProperty.call(c,"fieldTimestampMs")&&p.uint32(24).int64(c.fieldTimestampMs),p},"encode"),t.encodeDelimited=o(function(c,p){return this.encode(c,p).ldelim()},"encodeDelimited"),t.decode=o(function(c,p){c instanceof u||(c=u.create(c));let m=p===void 0?c.len:c.pos+p,d=new s.PeerMessage.AwarenessPayload;for(;c.pos<m;){let y=c.uint32();switch(y>>>3){case 1:{d.fieldName=c.string();break}case 2:{d.fieldValue=c.string();break}case 3:{d.fieldTimestampMs=c.int64();break}default:c.skipType(y&7);break}}return d},"decode"),t.decodeDelimited=o(function(c){return c instanceof u||(c=new u(c)),this.decode(c,c.uint32())},"decodeDelimited"),t.verify=o(function(c){if(typeof c!="object"||c===null)return"object expected";let p={};return c.fieldName!=null&&c.hasOwnProperty("fieldName")&&!a.isString(c.fieldName)?"fieldName: string expected":c.fieldValue!=null&&c.hasOwnProperty("fieldValue")&&!a.isString(c.fieldValue)?"fieldValue: string expected":c.fieldTimestampMs!=null&&c.hasOwnProperty("fieldTimestampMs")&&(p._fieldTimestampMs=1,!a.isInteger(c.fieldTimestampMs)&&!(c.fieldTimestampMs&&a.isInteger(c.fieldTimestampMs.low)&&a.isInteger(c.fieldTimestampMs.high)))?"fieldTimestampMs: integer|Long expected":null},"verify"),t.fromObject=o(function(c){if(c instanceof s.PeerMessage.AwarenessPayload)return c;let p=new s.PeerMessage.AwarenessPayload;return c.fieldName!=null&&(p.fieldName=String(c.fieldName)),c.fieldValue!=null&&(p.fieldValue=String(c.fieldValue)),c.fieldTimestampMs!=null&&(a.Long?(p.fieldTimestampMs=a.Long.fromValue(c.fieldTimestampMs)).unsigned=!1:typeof c.fieldTimestampMs=="string"?p.fieldTimestampMs=parseInt(c.fieldTimestampMs,10):typeof c.fieldTimestampMs=="number"?p.fieldTimestampMs=c.fieldTimestampMs:typeof c.fieldTimestampMs=="object"&&(p.fieldTimestampMs=new a.LongBits(c.fieldTimestampMs.low>>>0,c.fieldTimestampMs.high>>>0).toNumber())),p},"fromObject"),t.toObject=o(function(c,p){p||(p={});let m={};return p.defaults&&(m.fieldName="",m.fieldValue=""),c.fieldName!=null&&c.hasOwnProperty("fieldName")&&(m.fieldName=c.fieldName),c.fieldValue!=null&&c.hasOwnProperty("fieldValue")&&(m.fieldValue=c.fieldValue),c.fieldTimestampMs!=null&&c.hasOwnProperty("fieldTimestampMs")&&(typeof c.fieldTimestampMs=="number"?m.fieldTimestampMs=p.longs===String?String(c.fieldTimestampMs):c.fieldTimestampMs:m.fieldTimestampMs=p.longs===String?a.Long.prototype.toString.call(c.fieldTimestampMs):p.longs===Number?new a.LongBits(c.fieldTimestampMs.low>>>0,c.fieldTimestampMs.high>>>0).toNumber():c.fieldTimestampMs,p.oneofs&&(m._fieldTimestampMs="fieldTimestampMs")),m},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(c){return c===void 0&&(c="type.googleapis.com"),c+"/PeerMessage.AwarenessPayload"},"getTypeUrl"),t}(),e.AwarenessBroadcast=function(){function t(n){if(this.awarenessState=[],n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"AwarenessBroadcast"),t.prototype.channel="",t.prototype.user="",t.prototype.awarenessState=a.emptyArray,t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){if(c||(c=g.create()),r.channel!=null&&Object.hasOwnProperty.call(r,"channel")&&c.uint32(10).string(r.channel),r.user!=null&&Object.hasOwnProperty.call(r,"user")&&c.uint32(18).string(r.user),r.awarenessState!=null&&r.awarenessState.length)for(let p=0;p<r.awarenessState.length;++p)s.PeerMessage.AwarenessPayload.encode(r.awarenessState[p],c.uint32(26).fork()).ldelim();return c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.AwarenessBroadcast;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.channel=r.string();break}case 2:{m.user=r.string();break}case 3:{m.awarenessState&&m.awarenessState.length||(m.awarenessState=[]),m.awarenessState.push(s.PeerMessage.AwarenessPayload.decode(r,r.uint32()));break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){if(typeof r!="object"||r===null)return"object expected";if(r.channel!=null&&r.hasOwnProperty("channel")&&!a.isString(r.channel))return"channel: string expected";if(r.user!=null&&r.hasOwnProperty("user")&&!a.isString(r.user))return"user: string expected";if(r.awarenessState!=null&&r.hasOwnProperty("awarenessState")){if(!Array.isArray(r.awarenessState))return"awarenessState: array expected";for(let c=0;c<r.awarenessState.length;++c){let p=s.PeerMessage.AwarenessPayload.verify(r.awarenessState[c]);if(p)return"awarenessState."+p}}return null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.AwarenessBroadcast)return r;let c=new s.PeerMessage.AwarenessBroadcast;if(r.channel!=null&&(c.channel=String(r.channel)),r.user!=null&&(c.user=String(r.user)),r.awarenessState){if(!Array.isArray(r.awarenessState))throw TypeError(".PeerMessage.AwarenessBroadcast.awarenessState: array expected");c.awarenessState=[];for(let p=0;p<r.awarenessState.length;++p){if(typeof r.awarenessState[p]!="object")throw TypeError(".PeerMessage.AwarenessBroadcast.awarenessState: object expected");c.awarenessState[p]=s.PeerMessage.AwarenessPayload.fromObject(r.awarenessState[p])}}return c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};if((c.arrays||c.defaults)&&(p.awarenessState=[]),c.defaults&&(p.channel="",p.user=""),r.channel!=null&&r.hasOwnProperty("channel")&&(p.channel=r.channel),r.user!=null&&r.hasOwnProperty("user")&&(p.user=r.user),r.awarenessState&&r.awarenessState.length){p.awarenessState=[];for(let m=0;m<r.awarenessState.length;++m)p.awarenessState[m]=s.PeerMessage.AwarenessPayload.toObject(r.awarenessState[m],c)}return p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.AwarenessBroadcast"},"getTypeUrl"),t}(),e.AwarenessQuery=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"AwarenessQuery"),t.prototype.channel="",t.prototype.user="",t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.channel!=null&&Object.hasOwnProperty.call(r,"channel")&&c.uint32(10).string(r.channel),r.user!=null&&Object.hasOwnProperty.call(r,"user")&&c.uint32(18).string(r.user),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.AwarenessQuery;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.channel=r.string();break}case 2:{m.user=r.string();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){return typeof r!="object"||r===null?"object expected":r.channel!=null&&r.hasOwnProperty("channel")&&!a.isString(r.channel)?"channel: string expected":r.user!=null&&r.hasOwnProperty("user")&&!a.isString(r.user)?"user: string expected":null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.AwarenessQuery)return r;let c=new s.PeerMessage.AwarenessQuery;return r.channel!=null&&(c.channel=String(r.channel)),r.user!=null&&(c.user=String(r.user)),c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.channel="",p.user=""),r.channel!=null&&r.hasOwnProperty("channel")&&(p.channel=r.channel),r.user!=null&&r.hasOwnProperty("user")&&(p.user=r.user),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.AwarenessQuery"},"getTypeUrl"),t}(),e.AwarenessClose=function(){function t(n){if(n)for(let r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return o(t,"AwarenessClose"),t.prototype.channel="",t.prototype.user="",t.create=o(function(r){return new t(r)},"create"),t.encode=o(function(r,c){return c||(c=g.create()),r.channel!=null&&Object.hasOwnProperty.call(r,"channel")&&c.uint32(10).string(r.channel),r.user!=null&&Object.hasOwnProperty.call(r,"user")&&c.uint32(18).string(r.user),c},"encode"),t.encodeDelimited=o(function(r,c){return this.encode(r,c).ldelim()},"encodeDelimited"),t.decode=o(function(r,c){r instanceof u||(r=u.create(r));let p=c===void 0?r.len:r.pos+c,m=new s.PeerMessage.AwarenessClose;for(;r.pos<p;){let d=r.uint32();switch(d>>>3){case 1:{m.channel=r.string();break}case 2:{m.user=r.string();break}default:r.skipType(d&7);break}}return m},"decode"),t.decodeDelimited=o(function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},"decodeDelimited"),t.verify=o(function(r){return typeof r!="object"||r===null?"object expected":r.channel!=null&&r.hasOwnProperty("channel")&&!a.isString(r.channel)?"channel: string expected":r.user!=null&&r.hasOwnProperty("user")&&!a.isString(r.user)?"user: string expected":null},"verify"),t.fromObject=o(function(r){if(r instanceof s.PeerMessage.AwarenessClose)return r;let c=new s.PeerMessage.AwarenessClose;return r.channel!=null&&(c.channel=String(r.channel)),r.user!=null&&(c.user=String(r.user)),c},"fromObject"),t.toObject=o(function(r,c){c||(c={});let p={};return c.defaults&&(p.channel="",p.user=""),r.channel!=null&&r.hasOwnProperty("channel")&&(p.channel=r.channel),r.user!=null&&r.hasOwnProperty("user")&&(p.user=r.user),p},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage.AwarenessClose"},"getTypeUrl"),t}(),e})()},HpkP:function(j,l,h){"use strict";h.d(l,"a",function(){return e}),h.d(l,"b",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={NoAliasSelected:"no_alias_selected",RateLimited:"rate_limited",NoImageUploaded:"no_image_uploaded",InvalidMode:"invalid_mode",ErrorBadNameI18N:"error_bad_name_i18n",ErrorNameTaken:"error_name_taken",ErrorNameTakenI18N:"error_name_taken_i18n",ErrorInvalidAlias:"error_invalid_alias",ErrorBadUpload:"error_bad_upload",ErrorTooBig:"error_too_big",ErrorBadWide:"error_bad_wide",ErrorMissingName:"error_missing_name",ErrorNoImage:"error_no_image",ErrorBadFormat:"error_bad_format",ResizedButStillTooLarge:"resized_but_still_too_large",UnableToEnqueue:"unable_to_enqueue",TooManyFrames:"too_many_frames",UnknownMethod:"unknown_method",NoPermission:"no_permission",UnableToFetchEmoji:"unable_to_fetch_emoji",EmojiLimitReached:"emoji_limit_reached",NoUrlProvided:"no_url_provided",NoUrlImage:"no_url_image"},t=Object(a.a)("emoji.add generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"emoji.add",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to emoji.add
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcheremojiAddFetcher",description:"emoji.add generated fetcher"}},HrOX:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.STARTED="started",f.INTERRUPTED="interrupted",f.RESUMED="resumed",f.STOPPED="stopped",f.FAILED="failed"})(S||(S={})),l.default=S},"I/xa":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("oHvd"));let u=o(class extends f.default{calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const a=this.pastSamplesToConsider,s=a*this.packetsExpected;let i=0;for(let e=0;e<a;e++)i+=this.currentData.packetsReceivedInLastMinute[e];return Math.min(Math.max(1-i/s,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}constructor(a,s){super(a,s,"Unusable Audio Warning"),this.coolDownTimeMs=a.cooldownTimeMs,this.pastSamplesToConsider=a.pastSamplesToConsider,this.fractionalLoss=a.fractionalLoss,this.packetsExpected=a.packetsExpected,this.maximumTimesToWarn=a.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}},"UnusableAudioWarningConnectionHealthPolicy");l.default=u},I0Bj:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerState=void 0;var S;(function(f){f[f.NotConnected=0]="NotConnected",f[f.Connecting=1]="Connecting",f[f.Connected=2]="Connected",f[f.Updating=3]="Updating",f[f.Disconnecting=4]="Disconnecting"})(S=l.SessionStateControllerState||(l.SessionStateControllerState={})),l.default=S},IBi3:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(t,n,r,c){function p(m){return m instanceof r?m:new r(function(d){d(m)})}return o(p,"adopt"),new(r||(r=Promise))(function(m,d){function y(k){try{w(c.next(k))}catch(V){d(V)}}o(y,"fulfilled");function E(k){try{w(c.throw(k))}catch(V){d(V)}}o(E,"rejected");function w(k){k.done?m(k.value):p(k.value).then(y,E)}o(w,"step"),w((c=c.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("SO8M")),g=f(h("Xf/8")),a=f(h("aNtF")),s=f(h("i2nt")),i=f(h("6/h7"));let e=o(class{setEncodingParameters(n){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const r=this._localCameraTransceiver.sender;if(!n||n.size===0)return;const c=Array.from(n.values()),p=r.getParameters();if(!p.encodings||p.encodings.length===0)p.encodings=c;else for(const m of p.encodings)for(const d of c){if((m.rid||d.rid)&&m.rid!==d.rid)continue;let y;for(y in d)y==="rid"||y==="codecPayloadType"||d.hasOwnProperty(y)&&(m[y]=d[y])}yield r.setParameters(p)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(n){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const r=this._localCameraTransceiver.sender;if(!r||n<=0)return;const c=r.getParameters();c.encodings||(c.encodings=[{}]);for(const p of c.encodings)p.maxBitrate=n*1e3;yield r.setParameters(c)})}setPeer(n){this.peer=n}reset(){this.destroyAudioRedWorkerAndStates(),this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(n){return this._localCameraTransceiver?n===this._localCameraTransceiver.sender.track||n===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){var n,r;this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((r=(n=this.meetingSessionContext)===null||n===void 0?void 0:n.audioProfile)===null||r===void 0)&&r.hasRedundancyEnabled()&&this.setupAudioRedWorker()),this._localCameraTransceiver||(this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(n){return S(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(n),!0)})}setAudioInput(n){return S(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,n)})}setVideoInput(n){return S(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,n)})}updateVideoTransceivers(n,r){if(!this.useTransceivers())return r.array();const c=this.peer.getTransceivers();return this.videoSubscriptions=[0],r=r.clone(),this.updateTransceivers(c,n,r),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(n,r,c){const p=c.array();n.length!==0&&!n[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(n,r,p)):n.length!==0&&this.updateTransceiverWithStop(n,r,p);for(const m of p){const d=this.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(m,d),this.groupIdToTransceiver.set(r.groupIdForStreamId(m),d),this.videoSubscriptions.push(m),this.logger.info(`adding transceiver mid: ${d.mid} subscription: ${m} direction: recvonly`)}}updateTransceiverWithStop(n,r,c){let p=1;this.videoSubscriptions=[0];for(const m of n){if(m===this._localCameraTransceiver||!this.transceiverIsVideo(m)||!m.mid)continue;let d=!1;const y=r.streamIdForTrack("v_"+m.mid);if(m.direction!=="inactive"&&y!==void 0){for(const[E,w]of c.entries())if(r.StreamIdsInSameGroup(y,w)){m.direction="recvonly",this.videoSubscriptions[p]=w,d=!0,this.streamIdToTransceiver.delete(y),this.streamIdToTransceiver.set(w,m),c.splice(E,1);break}}if(!d){this.videoSubscriptions[p]=0,this.logger.info(`Stopping MID: ${m.mid}, direction: ${m.direction}, current direction: ${m.currentDirection}`),m.stop();for(const[E,w]of this.streamIdToTransceiver.entries())m.mid===w.mid&&(this.streamIdToTransceiver.delete(E),this.groupIdToTransceiver.delete(r.groupIdForStreamId(E)))}p+=1}}updateTransceiverWithoutStop(n,r,c){let p=1;for(const m of n)if(!(m===this._localCameraTransceiver||!this.transceiverIsVideo(m))){if(this.videoSubscriptions[p]=0,m.direction!=="inactive"){const d=r.streamIdForTrack("v_"+m.mid);if(d!==void 0){for(const[y,E]of c.entries())if(r.StreamIdsInSameGroup(d,E)){m.direction="recvonly",this.videoSubscriptions[p]=E,this.streamIdToTransceiver.delete(d),this.streamIdToTransceiver.set(E,m),c.splice(y,1);break}}}p+=1}p=1;for(const m of n)if(!(m===this._localCameraTransceiver||!this.transceiverIsVideo(m))){if(m.direction==="inactive"&&c.length>0){m.direction="recvonly";const d=c.shift();this.videoSubscriptions[p]=d,this.streamIdToTransceiver.set(d,m),this.groupIdToTransceiver.set(r.groupIdForStreamId(d),m)}else if(this.videoSubscriptions[p]===0){m.direction="inactive";for(const[d,y]of this.streamIdToTransceiver.entries())m===y&&(this.streamIdToTransceiver.delete(d),this.groupIdToTransceiver.delete(r.groupIdForStreamId(d)))}p+=1}}getMidForStreamId(n){var r;return(r=this.streamIdToTransceiver.get(n))===null||r===void 0?void 0:r.mid}setStreamIdForMid(n,r){for(const[c,p]of this.streamIdToTransceiver.entries())if(p.mid===n){this.streamIdToTransceiver.delete(c),this.streamIdToTransceiver.set(r,p);return}}getMidForGroupId(n){var r;return(r=this.groupIdToTransceiver.get(n))===null||r===void 0?void 0:r.mid}transceiverIsVideo(n){return n.receiver&&n.receiver.track&&n.receiver.track.kind==="video"||n.sender&&n.sender.track&&n.sender.track.kind==="video"}debugDumpTransceivers(){let n="",r=0;for(const c of this.peer.getTransceivers())this.transceiverIsVideo(c)&&(n+=`transceiver index=${r} mid=${c.mid} subscription=${this.videoSubscriptions[r]} direction=${c.direction}
`,r+=1);return n}setTransceiverInput(n,r){return S(this,void 0,void 0,function*(){n&&(r?n.direction="sendrecv":n.direction="inactive",yield n.sender.replaceTrack(r))})}forEachRedMetricsObserver(n){for(const r of this.redMetricsObservers)i.default.nextTick(()=>{this.redMetricsObservers.has(r)&&r.recoveryMetricsDidReceive(n)})}disableAudioRedundancy(){this.meetingSessionContext.audioProfile=new u.default(this.meetingSessionContext.audioProfile.audioBitrateBps,!1),this.meetingSessionContext.audioVideoController.setAudioProfile(this.meetingSessionContext.audioProfile)}setupAudioRedWorker(){var n,r;const c=!!window.RTCRtpScriptTransform,p=!!RTCRtpSender.prototype.createEncodedStreams;if(c)this.logger.info("[AudioRed] Supports encoded insertable streams using RTCRtpScriptTransform");else if(p)this.logger.info("[AudioRed] Supports encoded insertable streams using TransformStream");else throw this.disableAudioRedundancy(),new Error("[AudioRed] Encoded insertable streams not supported. Recreating peer connection with audio redundancy disabled.");try{this.audioRedWorkerURL=URL.createObjectURL(new Blob([s.default],{type:"application/javascript"})),this.logger.info(`[AudioRed] Redundant audio worker URL ${this.audioRedWorkerURL}`),this.audioRedWorker=new Worker(this.audioRedWorkerURL)}catch(m){throw this.logger.error(`[AudioRed] Unable to create audio red worker due to ${m}`),URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.disableAudioRedundancy(),this.logger.info("[AudioRed] Recreating peer connection with audio redundancy disabled"),m}if(this.audioRedEnabled=!0,this.audioRedWorker.onmessage=m=>{if(m.data.type==="REDWorkerLog")this.logger.info(m.data.log);else if(m.data.type==="RedundantAudioEncoderStats"){const d=new g.default;d.currentTimestampMs=Date.now(),d.ssrc=m.data.ssrc,d.totalAudioPacketsLost=m.data.totalAudioPacketsLost,d.totalAudioPacketsExpected=m.data.totalAudioPacketsExpected,d.totalAudioPacketsRecoveredRed=m.data.totalAudioPacketsRecoveredRed,d.totalAudioPacketsRecoveredFec=m.data.totalAudioPacketsRecoveredFec,this.forEachRedMetricsObserver(d)}},c)this._localAudioTransceiver.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"SenderTransform"}),this._localAudioTransceiver.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"ReceiverTransform"});else if(p){const m=this._localAudioTransceiver.sender.createEncodedStreams(),d=this._localAudioTransceiver.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"StartRedWorker",send:m,receive:d},[m.readable,m.writable,d.readable,d.writable])}(n=this.meetingSessionContext)===null||n===void 0||n.audioVideoController.addObserver(this),this.addRedundantAudioRecoveryMetricsObserver((r=this.meetingSessionContext)===null||r===void 0?void 0:r.statsCollector)}addTransceiver(n,r){var c;const p=this.peer.addTransceiver(n,r);if(!(!((c=this.peer.getConfiguration())===null||c===void 0)&&c.encodedInsertableStreams)||!this.audioRedWorker)return p;const m=!!window.RTCRtpScriptTransform,d=!!RTCRtpSender.prototype.createEncodedStreams;if(m)p.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"}),p.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"});else if(d){const y=p.sender.createEncodedStreams();y.readable.pipeTo(y.writable);const E=p.receiver.createEncodedStreams();E.readable.pipeTo(E.writable)}return p}destroyAudioRedWorkerAndStates(){var n,r;this.audioRedWorker&&(URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.audioRedEnabled=!0,(n=this.meetingSessionContext)===null||n===void 0||n.audioVideoController.removeObserver(this),this.removeRedundantAudioRecoveryMetricsObserver((r=this.meetingSessionContext)===null||r===void 0?void 0:r.statsCollector))}setAudioPayloadTypes(n){this.audioRedWorker&&(this.audioRedWorker.postMessage({msgType:"RedPayloadType",payloadType:n.get("red")}),this.audioRedWorker.postMessage({msgType:"OpusPayloadType",payloadType:n.get("opus")}))}metricsDidReceive(n){const{currentTimestampMs:r}=n,c=n.getRTCStatsReport();let p=0,m=0,d=0;c.forEach(N=>{N.kind==="audio"&&(N.type==="outbound-rtp"?m=N.packetsSent:N.type==="remote-inbound-rtp"&&(p=N.timestamp,d=N.packetsLost))}),(this.audioMetricsHistory.length===0||p>this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs&&m>this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent)&&this.audioMetricsHistory.push({timestampMs:p,totalPacketsSent:m,totalPacketsLost:d}),this.audioMetricsHistory.length>this.maxAudioMetricsHistory&&this.audioMetricsHistory.shift();const y=this.lossPercent(this.audioRedPacketLossShortEvalPeriodMs),E=this.lossPercent(this.audioRedPacketLossLongEvalPeriodMs),w=Math.max(y,E),[k,V]=a.default.getNumRedundantEncodingsForPacketLoss(w);if(V){this.lastHighPacketLossEventTimestampMs=r,this.audioRedEnabled&&(this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Disable"}),this.audioRedEnabled=!1,this.lastAudioRedTurnOffTimestampMs=r);return}else if(!this.audioRedEnabled){const N=r-this.lastAudioRedTurnOffTimestampMs,F=r-this.lastHighPacketLossEventTimestampMs;if(N>=this.audioRedPacketLossLongEvalPeriodMs&&F<this.redRecoveryTimeMs)return;this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Enable"}),this.audioRedEnabled=!0,this.maybeResetHoldDownTimer(r)}this.shouldUpdateAudioRedWorkerEncodings(r,k)&&this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"UpdateNumRedundantEncodings",numRedundantEncodings:k})}maybeResetHoldDownTimer(n){this.currentNumRedundantEncodings>0&&(this.lastRedHolddownTimerStartTimestampMs=n)}lossPercent(n){if(this.audioMetricsHistory.length<2)return 0;const r=this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs,c=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent,p=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsLost;for(let m=this.audioMetricsHistory.length-2;m>=0;m--)if(r-this.audioMetricsHistory[m].timestampMs>=n){const d=p-this.audioMetricsHistory[m].totalPacketsLost,y=c-this.audioMetricsHistory[m].totalPacketsSent,E=100*(d/y);return Math.max(0,Math.min(E,100))}return 0}shouldUpdateAudioRedWorkerEncodings(n,r){return this.currentNumRedundantEncodings===r?(this.maybeResetHoldDownTimer(n),!1):r<this.currentNumRedundantEncodings&&n-this.lastRedHolddownTimerStartTimestampMs<this.audioRedHoldDownTimeMs?!1:(this.currentNumRedundantEncodings=r,this.maybeResetHoldDownTimer(n),!0)}addRedundantAudioRecoveryMetricsObserver(n){this.redMetricsObservers.add(n)}removeRedundantAudioRecoveryMetricsObserver(n){this.redMetricsObservers.delete(n)}constructor(n,r,c){this.logger=n,this.browserBehavior=r,this.meetingSessionContext=c,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map,this.groupIdToTransceiver=new Map,this.audioRedWorker=null,this.audioRedWorkerURL=null,this.audioMetricsHistory=new Array,this.redMetricsObservers=new Set,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.maxAudioMetricsHistory=20,this.audioRedPacketLossShortEvalPeriodMs=5*1e3,this.audioRedPacketLossLongEvalPeriodMs=15*1e3,this.audioRedHoldDownTimeMs=5*60*1e3,this.redRecoveryTimeMs=1*60*1e3}},"DefaultTransceiverController");l.default=e},IGBW:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.IDLE="IDLE",f.RUNNING="RUNNING",f.CANCELED="CANCELED",f.FINISHED="FINISHED"})(S||(S={})),l.default=S},IKDz:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(u=5e3,g=2,a=64,s=100,i=15){this.flushIntervalMs=u,this.flushSize=g,this.maxBufferCapacityKb=a,this.totalBufferItems=s,this.retryCountLimit=i}},"EventBufferConfiguration");l.default=S},IVKD:function(j,l){function h(S){if(Array.isArray(S))return S}o(h,"_arrayWithHoles"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},InPl:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("U9CR")),g=f(h("ZsEg"));let a=o(class zf{get mediaStream(){return this._mediaStream}set mediaStream(i){this._mediaStream=i}acquireAudioInputStream(){return S(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),g.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return S(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(i){return S(this,void 0,void 0,function*(){return i&&i.video&&i.video.mandatory&&i.video.mandatory.chromeMediaSource&&i.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(i):navigator.mediaDevices.getDisplayMedia(i)})}acquireScreenCaptureDisplayInputStream(i,e){return S(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(i,e))})}screenCaptureDisplayMediaConstraints(i,e){return{audio:!!(!i&&new u.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!i&&{frameRate:{max:e||zf.defaultFrameRate}}),i&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:e||zf.defaultFrameRate}})}}toggleMediaStream(i){let e=!1;if(this.mediaStream)for(let t=0;t<this.mediaStream.getTracks().length;t++)this.mediaStream.getTracks()[t].enabled!==i&&(this.mediaStream.getTracks()[t].enabled=i,e=!0);return e}cleanup(){if(this.mediaStream)for(let i=0;i<this.mediaStream.getTracks().length;i++)this.mediaStream.getTracks()[i].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(i){}removeMediaStreamBrokerObserver(i){}constructor(i){this.logger=i}},"ContentShareMediaStreamBroker");l.default=a,a.defaultFrameRate=15},IsLT:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(c,p,m,d){function y(E){return E instanceof m?E:new m(function(w){w(E)})}return o(y,"adopt"),new(m||(m=Promise))(function(E,w){function k(F){try{N(d.next(F))}catch(P){w(P)}}o(k,"fulfilled");function V(F){try{N(d.throw(F))}catch(P){w(P)}}o(V,"rejected");function N(F){F.done?E(F.value):y(F.value).then(k,V)}o(N,"step"),N((d=d.apply(c,p||[])).next())})},f=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("EkyC"),g=h("KvYa"),a=f(h("DE61")),s=f(h("U9CR")),i=f(h("ac3q")),e=o(()=>a.default.builder().withSelfieSegmentationDefaults().build(),"CREATE_DEFAULT_MODEL_SPEC"),t="https://static.sdkassets.chime.aws",n={worker:`${t}/bgblur/workers/worker.js`,wasm:`${t}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${t}/bgblur/wasm/_cwt-wasm-simd.wasm`};let r=o(class{static defaultAssetSpec(){const p=i.default.sdkVersionSemVer;return{assetGroup:`sdk-${p.major}.${p.minor}`}}static createUrlWithParams(p,m){const d=new URL(p),y=Object.keys(m);for(const E of y)m[E]!==void 0&&d.searchParams.set(E,m[E]);return d.toString()}static resolveSpec(p){const{paths:m=n,model:d=e(),assetGroup:y=this.defaultAssetSpec().assetGroup,revisionID:E=this.defaultAssetSpec().revisionID}=p||{},w={assetGroup:y,revisionID:E,sdk:encodeURIComponent(i.default.sdkVersion),ua:encodeURIComponent(i.default.sdkUserAgentLowResolution)};return m.worker=this.createUrlWithParams(m.worker,w),m.wasm=this.createUrlWithParams(m.wasm,w),m.simd=this.createUrlWithParams(m.simd,w),d.path=this.createUrlWithParams(d.path,w),{paths:m,model:d,assetGroup:y,revisionID:E}}static resolveOptions(p){p.reportingPeriodMillis||(p.reportingPeriodMillis=1e3);const m=30;return p.filterCPUUtilization?(p.filterCPUUtilization<0||p.filterCPUUtilization>100)&&(p.logger.warn(`filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ${m} percent`),p.filterCPUUtilization=m):p.filterCPUUtilization=m,p}static isSupported(p,m){const{logger:d}=m;return typeof globalThis>"u"?(d.info("Browser does not have globalThis."),Promise.resolve(!1)):new s.default().supportsBackgroundFilter()?g.supportsWASM(globalThis,d)?this.supportsBackgroundFilter(globalThis,p,d):(d.info("Browser does not support WASM."),Promise.resolve(!1)):(d.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,m=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0;return S(this,void 0,void 0,function*(){if(!g.supportsWorker(p,d))return d.info("Browser does not support web workers."),!1;const y=m.paths.worker;try{const E=yield u.loadWorker(y,"BackgroundFilterWorker",{},null);try{E.terminate()}catch(w){d.info(`Failed to terminate worker. ${w.message}`)}return!0}catch(E){return d.info(`Failed to fetch and instantiate test worker ${E.message}`),!1}})}},"BackgroundFilterVideoFrameProcessor");l.default=r},Iwfh:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"SDPMediaSection");l.default=S},"J+fJ":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AudioLogEvent=void 0;var S;(function(f){f[f.DeviceChanged=0]="DeviceChanged",f[f.MutedLocal=1]="MutedLocal",f[f.UnmutedLocal=2]="UnmutedLocal",f[f.Connected=3]="Connected",f[f.ConnectFailed=4]="ConnectFailed",f[f.RedmicStartLoss=5]="RedmicStartLoss",f[f.RedmicEndLoss=6]="RedmicEndLoss"})(S=l.AudioLogEvent||(l.AudioLogEvent={})),l.default=S},J1op:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("DUgj"));let u=o(class ac{allowSubscribe(a,s){let i=0;const e=this.currentNetworkEvent;if(s>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=s,!0;if(s<this.referenceBitrate){if(this.currentNetworkEvent=1,i=this.getSubscribeDelay(this.currentNetworkEvent,a),e!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>i)return this.referenceBitrate=s,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(a,s){let i=ac.MINIMUM_DELAY_MS;const e=ac.MAXIMUM_DELAY_MS-ac.MINIMUM_DELAY_MS,t=this.networkIssueResponseDelayFactor;switch(a){case 1:i+=e*t*(1+s/10),i=Math.min(ac.MAXIMUM_DELAY_MS,i);break}return i}constructor(a=0,s=0){this.networkIssueResponseDelayFactor=a,this.networkIssueRecoveryDelayFactor=s,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=f.default.Default,a<0?a=0:a>1&&(a=1),this.networkIssueResponseDelayFactor=a,s<0?s=0:s>1&&(s=1),this.networkIssueRecoveryDelayFactor=s}},"VideoPriorityBasedPolicyConfig");l.default=u,u.MINIMUM_DELAY_MS=2e3,u.MAXIMUM_DELAY_MS=8e3,u.Default=new u(0,0),u.UnstableNetworkPreset=new u(0,1),u.StableNetworkPreset=new u(1,0)},J5JU:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const S=h("2IS5");l.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";let f=o(class{subscribeToTranscriptEvent(g){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(l.TRANSCRIPTION_DATA_MESSAGE_TOPIC,a=>{for(const s of S.TranscriptEventConverter.from(a))for(const i of this.transcriptEventCallbacks)i(s)}),this.transcriptEventCallbacks.add(g)}unsubscribeFromTranscriptEvent(g){this.transcriptEventCallbacks.delete(g),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(l.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}constructor(g){this.realtimeController=g,this.transcriptEventCallbacks=new Set}},"DefaultTranscriptionController");l.default=f},J93s:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class CS{static builder(){return new CS}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const u={height:144,width:256,range:[0,1],channels:3},g={height:144,width:256,range:[0,1],channels:1},a="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=a,this.input=u,this.output=g,this}withPath(u){return this.path=u,this}withInput(u){return this.input=u,this}withOutput(u){return this.output=u,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}constructor(){this.path=null,this.input=null,this.output=null}},"ModelSpecBuilder");l.default=S},JBVX:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0})},JEbH:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0})},JHsX:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerAction=void 0;var S;(function(f){f[f.Connect=0]="Connect",f[f.FinishConnecting=1]="FinishConnecting",f[f.Update=2]="Update",f[f.FinishUpdating=3]="FinishUpdating",f[f.Reconnect=4]="Reconnect",f[f.Disconnect=5]="Disconnect",f[f.Fail=6]="Fail",f[f.FinishDisconnecting=7]="FinishDisconnecting"})(S=l.SessionStateControllerAction||(l.SessionStateControllerAction={})),l.default=S},JJ3a:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(m,d,y,E){function w(k){return k instanceof y?k:new y(function(V){V(k)})}return o(w,"adopt"),new(y||(y=Promise))(function(k,V){function N(B){try{P(E.next(B))}catch(O){V(O)}}o(N,"fulfilled");function F(B){try{P(E.throw(B))}catch(O){V(O)}}o(F,"rejected");function P(B){B.done?k(B.value):w(B.value).then(N,F)}o(P,"step"),P((E=E.apply(m,d||[])).next())})},f=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("Zit3"),g=f(h("Np2I")),a=f(h("Q8+J")),s=f(h("evlv")),i=f(h("ULlC")),e=f(h("6/h7")),t=f(h("PsbS")),n=f(h("jHTc")),r=f(h("4EN+")),c=f(h("p3mT"));let p=o(class{addObserver(d){this.logger.info("adding messaging observer"),this.observerQueue.add(d)}removeObserver(d){this.logger.info("removing messaging observer"),this.observerQueue.delete(d)}start(){return S(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),a.default.removeLogger(this.logger))}forEachObserver(d){for(const y of this.observerQueue)e.default.nextTick(()=>{this.observerQueue.has(y)&&d(y)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",d=>{this.receiveMessageHandler(d.data)}),this.webSocket.addEventListener("close",d=>{this.closeEventHandler(d)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(d){return S(this,void 0,void 0,function*(){return yield this.startConnectingInternal(d),yield new Promise((y,E)=>{this.bootstrapResolved=y,this.bootstrapRejected=E})})}startConnectingInternal(d){var y;return S(this,void 0,void 0,function*(){let E=this.configuration.endpointUrl;if(d||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),d||E===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const k=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((y=k.Endpoint)===null||y===void 0)&&y.Url?E=k.Endpoint.Url:E=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else E=(yield this.configuration.chimeClient.send(new u.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${E}`)}catch(k){this.logger.error(`Messaging Session failed to resolve endpoint: ${k}`);const V=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(V);return}const w=yield this.prepareWebSocketUrl(E);this.logger.info(`opening connection to ${w}`),d||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(w,[],!0),this.forEachObserver(k=>{k.messagingSessionDidStartConnecting&&k.messagingSessionDidStartConnecting(d)}),this.setUpEventListeners()})}prepareWebSocketUrl(d){return S(this,void 0,void 0,function*(){const y=new Map;return y.set("userArn",[this.configuration.userArn]),y.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===c.default.Connect&&y.set("prefetch-on",[c.default.Connect]),this.configuration.prefetchSortBy&&y.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",d,"/connect","",y)})}isClosed(){return this.webSocket.readyState()===r.default.None||this.webSocket.readyState()===r.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(d){try{const y=JSON.parse(d),E=y.Headers["x-amz-chime-event-type"],w=new s.default(E,y.Headers,y.Payload||null);if(!this.isSessionEstablished&&E==="SESSION_ESTABLISHED"){this.forEachObserver(V=>{V.messagingSessionDidStart&&V.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const k=this.preBootstrapMessages.length;for(let V=0;V<k;V++){const N=this.preBootstrapMessages.shift();this.forEachObserver(F=>{this.sendMessageToObserver(F,N)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(w);return}this.forEachObserver(k=>{this.sendMessageToObserver(k,w)})}catch(y){this.logger.error(`Messaging parsing failed: ${y}`)}}sendMessageToObserver(d,y){d.messagingSessionDidReceiveMessage&&d.messagingSessionDidReceiveMessage(y)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>S(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(d){this.logger.info(`WebSocket close: ${d.code} ${d.reason}`),d.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(d.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(y=>{y.messagingSessionDidStop&&y.messagingSessionDidStop(d)}):this.bootstrapRejected(d))}canReconnect(d){return d===1001||d===1006||d>=1011&&d<=1014||d>4e3&&d!==4002&&d!==4003&&d!==4401}constructor(d,y,E,w,k){this.configuration=d,this.logger=y,this.webSocket=E,this.reconnectController=w,this.sigV4=k,this.observerQueue=new Set,this.webSocket||(this.webSocket=new n.default(this.logger)),this.reconnectController||(this.reconnectController=new i.default(d.reconnectTimeoutMs,new g.default(d.reconnectFixedWaitMs,d.reconnectShortBackoffMs,d.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new t.default(this.configuration.chimeClient)),a.default.addLogger(this.logger),a.default.register(),this.preBootstrapMessages=[]}},"DefaultMessagingSession");l.default=p},"JMN+":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptAlternative");l.default=S},JOZa:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerDeferPriority=void 0;var S;(function(f){f[f.DoNotDefer=0]="DoNotDefer",f[f.Low=1]="Low",f[f.Medium=2]="Medium",f[f.High=3]="High",f[f.VeryHigh=4]="VeryHigh"})(S=l.SessionStateControllerDeferPriority||(l.SessionStateControllerDeferPriority={})),l.default=S},JTre:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Sa54")),u=S(h("bTau")),g=S(h("5mqp"));let a=o(class ul{static connectVideoStreamToVideoElement(i,e,t){const n=t&&i.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(ul.setVideoElementFlag(e,"disablePictureInPicture",t),ul.setVideoElementFlag(e,"disableRemotePlayback",t),e.style.transform!==n&&(e.style.transform=n),e.hasAttribute("controls")&&e.removeAttribute("controls"),e.hasAttribute("autoplay")||e.setAttribute("autoplay","true"),e.hasAttribute("playsinline")||e.setAttribute("playsinline","true"),e.hasAttribute("muted")||(e.setAttribute("muted","true"),e.muted=!0),e.srcObject!==i&&(e.srcObject=i,new f.default().requiresVideoPlayWorkaround()&&e.paused)){const r=e.play();r!==void 0&&r.catch(c=>{console.warn("Error playing video in Safari",c)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(i)if(e)t||(i.srcObject=null,i.style.transform="");else{if(!i.srcObject)return;i.pause(),i.style.transform="",ul.setVideoElementFlag(i,"disablePictureInPicture",!1),ul.setVideoElementFlag(i,"disableRemotePlayback",!1),i.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&ul.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new g.default}devicePixelRatioChanged(i){this.tileState.devicePixelRatio=i,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(i,e,t,n,r,c,p){let m=!1;this.tileState.boundAttendeeId!==i&&(this.tileState.boundAttendeeId=i,new u.default(i).hasModality(u.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),m=!0),this.tileState.boundExternalUserId!==p&&(this.tileState.boundExternalUserId=p,m=!0),this.tileState.localTile!==e&&(this.tileState.localTile=e,m=!0),this.tileState.boundVideoStream!==t&&(this.tileState.boundVideoStream=t,m=!0),this.tileState.videoStreamContentWidth!==n&&(this.tileState.videoStreamContentWidth=n,m=!0),this.tileState.videoStreamContentHeight!==r&&(this.tileState.videoStreamContentHeight=r,m=!0),this.tileState.streamId!==c&&(this.tileState.streamId=c,m=!0),m&&this.sendTileStateUpdate()}bindVideoElement(i){let e=!1;this.tileState.boundVideoElement!==i&&(this.tileState.boundVideoElement=i,e=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==i.clientWidth&&(this.tileState.videoElementCSSWidthPixels=i.clientWidth,e=!0),this.tileState.videoElementCSSHeightPixels!==i.clientHeight&&(this.tileState.videoElementCSSHeightPixels=i.clientHeight,e=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),e&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const i=document.createElement("canvas"),e=this.tileState.boundVideoElement;i.width=e.videoWidth||e.width,i.height=e.videoHeight||e.height;const t=i.getContext("2d");return t.drawImage(e,0,0,i.width,i.height),t.getImageData(0,0,i.width,i.height)}setStreamId(i){this.tileState.streamId=i,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?ul.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):ul.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(i,e,t){e in i&&(i[e]=t)}constructor(i,e,t,n){this.tileController=t,this.devicePixelRatioMonitor=n,this.tileState=new g.default,this.tileState.tileId=i,this.tileState.localTile=e,this.devicePixelRatioMonitor.registerObserver(this)}},"DefaultVideoTile");l.default=a},JXEU:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={FailedToRecordInteraction:"failed_to_record_interaction",InvalidComponent:"invalid_component",InvalidType:"invalid_type"},t=Object(a.a)("users.interactions.set generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d),E=yield r(Object(g.apiCall)({method:"users.interactions.set",args:y,reason:p.reason}));return Object(i.a)(E)}catch(m){throw Object(s.a)({getState:c}).error(`API call to users.interactions.set
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherusersInteractionsSetFetcher",description:"users.interactions.set generated fetcher"}},JsnC:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SDPCandidateType=void 0;var S;(function(f){f.Host="host",f.ServerReflexive="srflx",f.PeerReflexive="prflx",f.Relay="relay"})(S=l.SDPCandidateType||(l.SDPCandidateType={})),l.default=S},Jsna:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Np2I")),u=S(h("eeYi")),g=S(h("ir/0")),a=S(h("r9Lw")),s=S(h("/U1e")),i=S(h("a16/")),e=S(h("6Bxv")),t=S(h("lUhs")),n=S(h("iNgN")),r=S(h("ULlC")),c=S(h("jHTc")),p=S(h("2nae"));let m=o(class extends p.default{setAudioProfile(y){}start(){}stop(){}promoteToPrimaryMeeting(y){return Promise.resolve(new e.default(t.default.OK))}demoteFromPrimaryMeeting(){}constructor(y){const E=new s.default;E.meetingId="",E.externalMeetingId="",E.credentials=new i.default,E.credentials.attendeeId="",E.credentials.joinToken="",E.urls=new n.default,E.urls.turnControlURL="",E.urls.audioHostURL="",E.urls.signalingURL="wss://localhost/";const w=new g.default;super(y||E,w,new c.default(new g.default),new a.default,new r.default(0,new f.default(0,0,0)),new u.default(y||E,w))}},"NoOpAudioVideoController");l.default=m},"K+bq":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("j+uH")),g=f(h("IGBW"));let a=o(class extends u.default{cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return S(this,void 0,void 0,function*(){for(const i of this.tasksToRunSerially){this.getStatus()===g.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${i.name()}`),this.currentTask=i,yield i.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${i.name()}`)}catch(e){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${e.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskName=e,this.tasksToRunSerially=t,this.currentTask=null;for(const n of t)n.setParent(this)}},"SerialGroupTask");l.default=a},K4CH:function(j,l,h){var S;(function(f,u){"use strict";var g="1.0.2",a="",s="?",i="function",e="undefined",t="object",n="string",r="major",c="model",p="name",m="type",d="vendor",y="version",E="architecture",w="console",k="mobile",V="tablet",N="smarttv",F="wearable",P="embedded",B=255,O="Amazon",R="Apple",D="ASUS",J="BlackBerry",X="Browser",$="Chrome",he="Edge",Ee="Firefox",ke="Google",ve="Huawei",Be="LG",pt="Microsoft",Ve="Motorola",bt="Opera",lt="Samsung",mt="Sony",xt="Xiaomi",at="Zebra",Mt="Facebook",kt=o(function(qt,Tn){var vn={};for(var Ot in qt)Tn[Ot]&&Tn[Ot].length%2===0?vn[Ot]=Tn[Ot].concat(qt[Ot]):vn[Ot]=qt[Ot];return vn},"extend"),Xe=o(function(qt){for(var Tn={},vn=0;vn<qt.length;vn++)Tn[qt[vn].toUpperCase()]=qt[vn];return Tn},"enumerize"),on=o(function(qt,Tn){return typeof qt===n?Wn(Tn).indexOf(Wn(qt))!==-1:!1},"has"),Wn=o(function(qt){return qt.toLowerCase()},"lowerize"),_n=o(function(qt){return typeof qt===n?qt.replace(/[^\d\.]/g,a).split(".")[0]:u},"majorize"),On=o(function(qt,Tn){if(typeof qt===n)return qt=qt.replace(/^\s\s*/,a).replace(/\s\s*$/,a),typeof Tn===e?qt:qt.substring(0,B)},"trim"),Xn=o(function(qt,Tn){for(var vn=0,Ot,bn,Lt,jn,Xi,Gn;vn<Tn.length&&!Xi;){var Ti=Tn[vn],Tr=Tn[vn+1];for(Ot=bn=0;Ot<Ti.length&&!Xi;)if(Xi=Ti[Ot++].exec(qt),Xi)for(Lt=0;Lt<Tr.length;Lt++)Gn=Xi[++bn],jn=Tr[Lt],typeof jn===t&&jn.length>0?jn.length===2?typeof jn[1]==i?this[jn[0]]=jn[1].call(this,Gn):this[jn[0]]=jn[1]:jn.length===3?typeof jn[1]===i&&!(jn[1].exec&&jn[1].test)?this[jn[0]]=Gn?jn[1].call(this,Gn,jn[2]):u:this[jn[0]]=Gn?Gn.replace(jn[1],jn[2]):u:jn.length===4&&(this[jn[0]]=Gn?jn[3].call(this,Gn.replace(jn[1],jn[2])):u):this[jn]=Gn||u;vn+=2}},"rgxMapper"),ci=o(function(qt,Tn){for(var vn in Tn)if(typeof Tn[vn]===t&&Tn[vn].length>0){for(var Ot=0;Ot<Tn[vn].length;Ot++)if(on(Tn[vn][Ot],qt))return vn===s?u:vn}else if(on(Tn[vn],qt))return vn===s?u:vn;return qt},"strMapper"),Qn={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Kn={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ki={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,bt+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[p,bt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+X]],[/\bqbcore\/([\w\.]+)/i],[y,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/yabrowser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+X],y],[/\bfocus\/([\w\.]+)/i],[y,[p,Ee+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,bt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,bt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI "+X]],[/fxios\/([-\w\.]+)/i],[y,[p,Ee]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+X]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+X],y],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Mt],y],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,$+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,$+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+X]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,ci,Qn]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,Ee+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,y]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[E,"amd64"]],[/(ia32(?=;))/i],[[E,Wn]],[/((?:i[346]|x)86)[;\)]/i],[[E,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/windows (ce|mobile); ppc;/i],[[E,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[E,/ower/,a,Wn]],[/(sun4\w)[;\)]/i],[[E,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[E,Wn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[d,lt],[m,V]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[d,lt],[m,k]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[d,R],[m,k]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[d,R],[m,V]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[d,ve],[m,V]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[c,[d,ve],[m,k]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[d,xt],[m,k]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[d,xt],[m,V]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[d,"OPPO"],[m,k]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[d,"Vivo"],[m,k]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[d,"Realme"],[m,k]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[d,Ve],[m,k]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[d,Ve],[m,V]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[d,Be],[m,V]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[d,Be],[m,k]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[d,"Lenovo"],[m,V]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[d,"Nokia"],[m,k]],[/(pixel c)\b/i],[c,[d,ke],[m,V]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[d,ke],[m,k]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,mt],[m,k]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[d,mt],[m,V]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[d,"OnePlus"],[m,k]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[d,O],[m,V]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[d,O],[m,k]],[/(playbook);[-\w\),; ]+(rim)/i],[c,d,[m,V]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[d,J],[m,k]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[d,D],[m,V]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[d,D],[m,k]],[/(nexus 9)/i],[c,[d,"HTC"],[m,V]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[c,/_/g," "],[m,k]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[d,"Acer"],[m,V]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[d,"Meizu"],[m,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[d,"Sharp"],[m,k]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,c,[m,k]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,c,[m,V]],[/(surface duo)/i],[c,[d,pt],[m,V]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[d,"Fairphone"],[m,k]],[/(u304aa)/i],[c,[d,"AT&T"],[m,k]],[/\bsie-(\w*)/i],[c,[d,"Siemens"],[m,k]],[/\b(rct\w+) b/i],[c,[d,"RCA"],[m,V]],[/\b(venue[\d ]{2,7}) b/i],[c,[d,"Dell"],[m,V]],[/\b(q(?:mv|ta)\w+) b/i],[c,[d,"Verizon"],[m,V]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[d,"Barnes & Noble"],[m,V]],[/\b(tm\d{3}\w+) b/i],[c,[d,"NuVision"],[m,V]],[/\b(k88) b/i],[c,[d,"ZTE"],[m,V]],[/\b(nx\d{3}j) b/i],[c,[d,"ZTE"],[m,k]],[/\b(gen\d{3}) b.+49h/i],[c,[d,"Swiss"],[m,k]],[/\b(zur\d{3}) b/i],[c,[d,"Swiss"],[m,V]],[/\b((zeki)?tb.*\b) b/i],[c,[d,"Zeki"],[m,V]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],c,[m,V]],[/\b(ns-?\w{0,9}) b/i],[c,[d,"Insignia"],[m,V]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[d,"NextBook"],[m,V]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],c,[m,k]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],c,[m,k]],[/\b(ph-1) /i],[c,[d,"Essential"],[m,k]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[d,"Envizen"],[m,V]],[/\b(trio[-\w\. ]+) b/i],[c,[d,"MachSpeed"],[m,V]],[/\btu_(1491) b/i],[c,[d,"Rotor"],[m,V]],[/(shield[\w ]+) b/i],[c,[d,"Nvidia"],[m,V]],[/(sprint) (\w+)/i],[d,c,[m,k]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,pt],[m,k]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[d,at],[m,V]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[d,at],[m,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,c,[m,w]],[/droid.+; (shield) bui/i],[c,[d,"Nvidia"],[m,w]],[/(playstation [345portablevi]+)/i],[c,[d,mt],[m,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[d,pt],[m,w]],[/smart-tv.+(samsung)/i],[d,[m,N]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,lt],[m,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,Be],[m,N]],[/(apple) ?tv/i],[d,[c,R+" TV"],[m,N]],[/crkey/i],[[c,$+"cast"],[d,ke],[m,N]],[/droid.+aft(\w)( bui|\))/i],[c,[d,O],[m,N]],[/\(dtv[\);].+(aquos)/i],[c,[d,"Sharp"],[m,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,On],[c,On],[m,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,N]],[/((pebble))app/i],[d,c,[m,F]],[/droid.+; (glass) \d/i],[c,[d,ke],[m,F]],[/droid.+; (wt63?0{2,3})\)/i],[c,[d,at],[m,F]],[/(quest( 2)?)/i],[c,[d,Mt],[m,F]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[m,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[m,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[m,V]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,V]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[m,k]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,he+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[p,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[y,ci,Kn]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[y,ci,Kn]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,"Mac OS"],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[y,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,y],[/\(bb(10);/i],[y,[p,J]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,Ee+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/crkey\/([\d\.]+)/i],[y,[p,$+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[p,"Chromium OS"],y],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[p,y]]},ui=o(function(qt,Tn){if(typeof qt===t&&(Tn=qt,qt=u),!(this instanceof ui))return new ui(qt,Tn).getResult();var vn=qt||(typeof f!==e&&f.navigator&&f.navigator.userAgent?f.navigator.userAgent:a),Ot=Tn?kt(Ki,Tn):Ki;return this.getBrowser=function(){var bn={};return bn[p]=u,bn[y]=u,Xn.call(bn,vn,Ot.browser),bn.major=_n(bn.version),bn},this.getCPU=function(){var bn={};return bn[E]=u,Xn.call(bn,vn,Ot.cpu),bn},this.getDevice=function(){var bn={};return bn[d]=u,bn[c]=u,bn[m]=u,Xn.call(bn,vn,Ot.device),bn},this.getEngine=function(){var bn={};return bn[p]=u,bn[y]=u,Xn.call(bn,vn,Ot.engine),bn},this.getOS=function(){var bn={};return bn[p]=u,bn[y]=u,Xn.call(bn,vn,Ot.os),bn},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return vn},this.setUA=function(bn){return vn=typeof bn===n&&bn.length>B?On(bn,B):bn,this},this.setUA(vn),this},"UAParser");ui.VERSION=g,ui.BROWSER=Xe([p,y,r]),ui.CPU=Xe([E]),ui.DEVICE=Xe([c,d,m,w,k,N,V,F,P]),ui.ENGINE=ui.OS=Xe([p,y]),typeof l!==e?(typeof j!==e&&j.exports&&(l=j.exports=ui),l.UAParser=ui):i==="function"&&h("PDX0")?(S=function(){return ui}.call(l,h,l,j),S!==u&&(j.exports=S)):typeof f!==e&&(f.UAParser=ui);var Fi=typeof f!==e&&(f.jQuery||f.Zepto);if(Fi&&!Fi.ua){var zi=new ui;Fi.ua=zi.getResult(),Fi.ua.get=function(){return zi.getUA()},Fi.ua.set=function(qt){zi.setUA(qt);var Tn=zi.getResult();for(var vn in Tn)Fi.ua[vn]=Tn[vn]}}})(typeof window=="object"?window:this)},K5tc:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerAction=void 0;var S;(function(f){f[f.Connect=0]="Connect",f[f.FinishConnecting=1]="FinishConnecting",f[f.Update=2]="Update",f[f.FinishUpdating=3]="FinishUpdating",f[f.Reconnect=4]="Reconnect",f[f.Disconnect=5]="Disconnect",f[f.Fail=6]="Fail",f[f.FinishDisconnecting=7]="FinishDisconnecting"})(S=l.SessionStateControllerAction||(l.SessionStateControllerAction={})),l.default=S},K7TJ:function(j,l,h){"use strict";function S(f){for(var u=-1,g=f==null?0:f.length,a={};++u<g;){var s=f[u];a[s[0]]=s[1]}return a}o(S,"fromPairs"),l.a=S},KCGh:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(u,g,a,s){this.sequenceNumber=u,this.message=g,this.timestampMs=a,this.logLevel=s}},"Log");l.default=S},KEX5:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(c,p,m,d){function y(E){return E instanceof m?E:new m(function(w){w(E)})}return o(y,"adopt"),new(m||(m=Promise))(function(E,w){function k(F){try{N(d.next(F))}catch(P){w(P)}}o(k,"fulfilled");function V(F){try{N(d.throw(F))}catch(P){w(P)}}o(V,"rejected");function N(F){F.done?E(F.value):y(F.value).then(k,V)}o(N,"step"),N((d=d.apply(c,p||[])).next())})},f=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("K4CH"),g=h("crgu"),a=f(h("HK1f")),s=f(h("pewp")),i=f(h("V2kw")),e=f(h("F7zz")),t=f(h("ac3q")),n=f(h("iAlb"));let r=o(class xl{addObserver(p){this.observerSet.add(p)}removeObserver(p){this.observerSet.delete(p)}forEachObserver(p){for(const m of this.observerSet)e.default.nextTick(()=>{this.observerSet.has(m)&&p(m)})}publishEvent(p,m){return S(this,void 0,void 0,function*(){const d=Date.now();this.meetingHistoryStates.push({name:p,timestampMs:d});const y=Object.freeze(Object.assign(this.getAttributes(d),m));this.forEachObserver(E=>{E.eventDidReceive(p,y)}),this.reportEvent(p,d,m)})}reportEvent(p,m,d){var y;return S(this,void 0,void 0,function*(){let E;try{d&&(E=n.default(d)),yield(y=this.eventReporter)===null||y===void 0?void 0:y.reportEvent(m,p,E)}catch(w){this.logger.error(`Error reporting event ${w}`)}})}setupEventReporter(p,m,d){if(d)this._eventReporter=d;else if(p.urls){const y=p.urls.eventIngestionURL;if(y){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:E,credentials:{attendeeId:w,joinToken:k}}=p,V=new i.default(E,w,k),N=new a.default(V,y);this._eventReporter=new s.default(N,m)}}}getAttributes(p){var m,d;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((m=this.parserResult)===null||m===void 0?void 0:m.os.name)||xl.UNAVAILABLE,osVersion:((d=this.parserResult)===null||d===void 0?void 0:d.os.version)||xl.UNAVAILABLE,sdkVersion:t.default.sdkVersion,sdkName:t.default.sdkName,timestampMs:p}}get eventReporter(){return this._eventReporter}destroy(){return S(this,void 0,void 0,function*(){g.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}constructor(p,m,d){var y,E,w,k,V,N,F;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=m,this.configuration=p,this.setupEventReporter(p,m,d);try{this.parserResult=navigator&&navigator.userAgent?new u.UAParser(navigator.userAgent).getResult():null}catch(P){this.logger.error(P.message)}this.browserMajorVersion=((w=(E=(y=this.parserResult)===null||y===void 0?void 0:y.browser)===null||E===void 0?void 0:E.version)===null||w===void 0?void 0:w.split(".")[0])||xl.UNAVAILABLE,this.browserName=((k=this.parserResult)===null||k===void 0?void 0:k.browser.name)||xl.UNAVAILABLE,this.browserVersion=((V=this.parserResult)===null||V===void 0?void 0:V.browser.version)||xl.UNAVAILABLE,this.deviceName=[((N=this.parserResult)===null||N===void 0?void 0:N.device.vendor)||"",((F=this.parserResult)===null||F===void 0?void 0:F.device.model)||""].join(" ").trim()||xl.UNAVAILABLE}},"DefaultEventController");l.default=r,r.UNAVAILABLE="Unavailable"},KJDN:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class extends Error{constructor(u,g){super(g||"Error fetching device."),this.cause=u,this.name="GetUserMediaError"}},"GetUserMediaError");l.default=S},KSud:function(j,l,h){"use strict";function S(f){var u=f;return u.placeholder}o(S,"getHolder"),l.a=S},Ka3M:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptLanguageWithScore");l.default=S},KsuK:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(u,g,a,s){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(p){try{c(s.next(p))}catch(m){t(m)}}o(n,"fulfilled");function r(p){try{c(s.throw(p))}catch(m){t(m)}}o(r,"rejected");function c(p){p.done?e(p.value):i(p.value).then(n,r)}o(c,"step"),c((s=s.apply(u,g||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let f=o(class{destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return S(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}constructor(g){this.canvas=g,this.destroyed=!1}},"CanvasVideoFrameBuffer");l.default=f},KvYa:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(d,y,E,w){function k(V){return V instanceof E?V:new E(function(N){N(V)})}return o(k,"adopt"),new(E||(E=Promise))(function(V,N){function F(O){try{B(w.next(O))}catch(R){N(R)}}o(F,"fulfilled");function P(O){try{B(w.throw(O))}catch(R){N(R)}}o(P,"rejected");function B(O){O.done?V(O.value):k(O.value).then(F,P)}o(B,"step"),B((w=w.apply(d,y||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.isOldChrome=l.supportsWASMStreaming=l.supportsSharedArrayBuffer=l.supportsWASM=l.supportsAudioWorklet=l.supportsWorker=l.supportsVoiceFocusWorker=l.supportsWASMPostMessage=l.isSafari=void 0;const f=h("EkyC"),u=o(function(){return!!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/)},"isChrome"),g=o(function(){const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent,E=y.match(/Safari\//),w=y.match(/Chrom(?:e|ium)\//);return!!(E&&!w)},"isSafari");l.isSafari=g;const a=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;return l.isSafari(d)?!1:u(d)?(p(d)||0)<95:!0},"supportsWASMPostMessage");l.supportsWASMPostMessage=a;const s=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0,E=arguments.length>2?arguments[2]:void 0;return S(void 0,void 0,void 0,function*(){if(!l.supportsWorker(d,E))return!1;const w=`${y.paths.workers}worker-v1.js`;try{const k=yield f.loadWorker(w,"VoiceFocusTestWorker",y,E);try{k.terminate()}catch(V){E==null||E.debug("Failed to terminate worker.",V)}return!0}catch(k){return E==null||E.info("Failed to fetch and instantiate test worker",k),!1}})},"supportsVoiceFocusWorker");l.supportsVoiceFocusWorker=s;const i=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;try{return!!d.Worker}catch(E){return y==null||y.info("Does not support Worker",E),!1}},"supportsWorker");l.supportsWorker=i;const e=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;try{return!!d.AudioWorklet&&!!d.AudioWorkletNode}catch(E){return y==null||y.info("Does not support Audio Worklet",E),!1}},"supportsAudioWorklet");l.supportsAudioWorklet=e;const t=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;try{return!!d.WebAssembly&&(!!d.WebAssembly.compile||!!d.WebAssembly.compileStreaming)}catch(E){return y==null||y.info("Does not support WASM",E),!1}},"supportsWASM");l.supportsWASM=t;const n=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:globalThis,E=arguments.length>2?arguments[2]:void 0;try{return!!d.SharedArrayBuffer&&(!!y.chrome||!!d.crossOriginIsolated)}catch{return E==null||E.info("Does not support SharedArrayBuffer."),!1}},"supportsSharedArrayBuffer");l.supportsSharedArrayBuffer=n;const r=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;var E;try{return!!(!((E=d.WebAssembly)===null||E===void 0)&&E.compileStreaming)}catch(w){return y==null||y.info("Does not support WASM streaming compilation",w),!1}},"supportsWASMStreaming");l.supportsWASMStreaming=r;const c=90,p=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;try{if(!d.chrome)return}catch{}const y=d.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(y)return parseInt(y[1],10)},"chromeVersion"),m=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;const E=p(d);return E&&E<c?(y==null||y.debug(`Chrome ${E} has incomplete SIMD support.`),!0):!1},"isOldChrome");l.isOldChrome=m},KyYT:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.None=l.Some=l.Maybe=void 0;let S=o(class{static of(a){return a==null?u.of():f.of(a)}},"Maybe");l.Maybe=S;let f=o(class ES{map(a){return S.of(a(this.value))}flatMap(a){return a(this.value)}get(){return this.value}getOrElse(a){return this.value}defaulting(a){return S.of(this.getOrElse(a))}static of(a){if(a==null)throw new Error("value is ${value}");return new ES(a)}constructor(a){this.value=a,this.isSome=!0,this.isNone=!1}},"Some");l.Some=f;let u=o(class Hc{get(){throw new Error("value is null")}getOrElse(a){return a}map(a){return new Hc}flatMap(a){return new Hc}defaulting(a){return S.of(this.getOrElse(a))}static of(){return new Hc}constructor(){this.isSome=!1,this.isNone=!0}},"None");l.None=u},"L+i+":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("yQ3g")),g=f(h("aVV0"));let a=o(class extends g.default{cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return S(this,void 0,void 0,function*(){const i=new u.default(this.timeoutMs);i.start(()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{i.stop()}this.logger.info(`timeout task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskToRunBeforeTimeout=e,this.timeoutMs=t,this.taskName=`Timeout${this.timeoutMs}ms`,e.setParent(this)}},"TimeoutTask");l.default=a},LDIi:function(j,l,h){"use strict";j.exports=s;var S=h("j4TH"),f,u=S.LongBits,g=S.utf8;function a(c,p){return RangeError("index out of range: "+c.pos+" + "+(p||1)+" > "+c.len)}o(a,"indexOutOfRange");function s(c){this.buf=c,this.pos=0,this.len=c.length}o(s,"Reader");var i=typeof Uint8Array<"u"?o(function(p){if(p instanceof Uint8Array||Array.isArray(p))return new s(p);throw Error("illegal buffer")},"create_typed_array"):o(function(p){if(Array.isArray(p))return new s(p);throw Error("illegal buffer")},"create_array"),e=o(function(){return S.Buffer?o(function(m){return(s.create=o(function(y){return S.Buffer.isBuffer(y)?new f(y):i(y)},"create_buffer"))(m)},"create_buffer_setup"):i},"create");s.create=e(),s.prototype._slice=S.Array.prototype.subarray||S.Array.prototype.slice,s.prototype.uint32=o(function(){var p=4294967295;return o(function(){if(p=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(p=(p|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(p=(p|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(p=(p|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(p=(p|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return p;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return p},"read_uint32")},"read_uint32_setup")(),s.prototype.int32=o(function(){return this.uint32()|0},"read_int32"),s.prototype.sint32=o(function(){var p=this.uint32();return p>>>1^-(p&1)|0},"read_sint32");function t(){var c=new u(0,0),p=0;if(this.len-this.pos>4){for(;p<4;++p)if(c.lo=(c.lo|(this.buf[this.pos]&127)<<p*7)>>>0,this.buf[this.pos++]<128)return c;if(c.lo=(c.lo|(this.buf[this.pos]&127)<<28)>>>0,c.hi=(c.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return c;p=0}else{for(;p<3;++p){if(this.pos>=this.len)throw a(this);if(c.lo=(c.lo|(this.buf[this.pos]&127)<<p*7)>>>0,this.buf[this.pos++]<128)return c}return c.lo=(c.lo|(this.buf[this.pos++]&127)<<p*7)>>>0,c}if(this.len-this.pos>4){for(;p<5;++p)if(c.hi=(c.hi|(this.buf[this.pos]&127)<<p*7+3)>>>0,this.buf[this.pos++]<128)return c}else for(;p<5;++p){if(this.pos>=this.len)throw a(this);if(c.hi=(c.hi|(this.buf[this.pos]&127)<<p*7+3)>>>0,this.buf[this.pos++]<128)return c}throw Error("invalid varint encoding")}o(t,"readLongVarint"),s.prototype.bool=o(function(){return this.uint32()!==0},"read_bool");function n(c,p){return(c[p-4]|c[p-3]<<8|c[p-2]<<16|c[p-1]<<24)>>>0}o(n,"readFixed32_end"),s.prototype.fixed32=o(function(){if(this.pos+4>this.len)throw a(this,4);return n(this.buf,this.pos+=4)},"read_fixed32"),s.prototype.sfixed32=o(function(){if(this.pos+4>this.len)throw a(this,4);return n(this.buf,this.pos+=4)|0},"read_sfixed32");function r(){if(this.pos+8>this.len)throw a(this,8);return new u(n(this.buf,this.pos+=4),n(this.buf,this.pos+=4))}o(r,"readFixed64"),s.prototype.float=o(function(){if(this.pos+4>this.len)throw a(this,4);var p=S.float.readFloatLE(this.buf,this.pos);return this.pos+=4,p},"read_float"),s.prototype.double=o(function(){if(this.pos+8>this.len)throw a(this,4);var p=S.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,p},"read_double"),s.prototype.bytes=o(function(){var p=this.uint32(),m=this.pos,d=this.pos+p;if(d>this.len)throw a(this,p);if(this.pos+=p,Array.isArray(this.buf))return this.buf.slice(m,d);if(m===d){var y=S.Buffer;return y?y.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,m,d)},"read_bytes"),s.prototype.string=o(function(){var p=this.bytes();return g.read(p,0,p.length)},"read_string"),s.prototype.skip=o(function(p){if(typeof p=="number"){if(this.pos+p>this.len)throw a(this,p);this.pos+=p}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},"skip"),s.prototype.skipType=function(c){switch(c){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(c=this.uint32()&7)!==4;)this.skipType(c);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+c+" at offset "+this.pos)}return this},s._configure=function(c){f=c,s.create=e(),f._configure();var p=S.Long?"toLong":"toNumber";S.merge(s.prototype,{int64:o(function(){return t.call(this)[p](!1)},"read_int64"),uint64:o(function(){return t.call(this)[p](!0)},"read_uint64"),sint64:o(function(){return t.call(this).zzDecode()[p](!1)},"read_sint64"),fixed64:o(function(){return r.call(this)[p](!0)},"read_fixed64"),sfixed64:o(function(){return r.call(this)[p](!1)},"read_sfixed64")})}},LEQH:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("GtHv")),g=h("vjEy");let a=o(class extends u.default{drawImageWithMask(i,e){const t=this.blurredImage,{canvasCtx:n,targetCanvas:r}=this,{width:c,height:p}=r;if(!e||!t){n.clearRect(0,0,c,p);return}this.scaledCanvas.getContext("2d").putImageData(e,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),n.save(),n.clearRect(0,0,c,p),n.drawImage(this.scaledCanvas,0,0,c,p),n.globalCompositeOperation="source-in",n.drawImage(i,0,0,c,p),n.globalCompositeOperation="destination-over",n.drawImage(this.blurCanvas,0,0,c,p),n.restore()}setBlurStrength(i){if(super.setBlurStrength(i),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=g.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(i){if(this.logger.info(`received initialize message: ${this.stringify(i)}`),!i.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(i){this.blurredImage=i.payload.blurOutput,super.handlePredict(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});var e;return S(this,void 0,void 0,function*(){i.destroy.call(this),(e=this.blurCanvas)===null||e===void 0||e.remove(),this.blurCanvas=void 0})}constructor(i,e){super(i,e),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}},"BackgroundBlurProcessorBuiltIn");l.default=a},LIUS:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("XCDq"),u=S(h("0LIx")),g=S(h("OEM7"));let a=o(class ka extends u.default{localStreamDescriptions(){const i=[];return this._localStreamInfos.forEach(e=>{i.push(e.clone())}),i}integrateUplinkPolicyDecision(i){let e=!0,t=0;for(let n=0;n<i.length;n++){const r=i[n].maxBitrate/1e3,c=i[n].maxFramerate;if(!e||n===this._localStreamInfos.length){e=!1;const p=new g.default;p.maxBitrateKbps=r,p.maxFrameRate=c,p.disabledByUplinkPolicy=r===0,r!==0&&(p.timeEnabled=Date.now()),this._localStreamInfos.push(p),t++;continue}this._localStreamInfos[t].maxBitrateKbps===0&&r>0&&(this._localStreamInfos[t].timeEnabled=Date.now()),this._localStreamInfos[t].maxBitrateKbps=r,this._localStreamInfos[t].maxFrameRate=c,this._localStreamInfos[t].disabledByUplinkPolicy=r===0,this._localStreamInfos[t].disabledByUplinkPolicy===!0&&(this._localStreamInfos[t].disabledByWebRTC=!1),t++}e&&this._localStreamInfos.splice(t)}integrateBitratesFrame(i){super.integrateBitratesFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const n of i.bitrates)e.add(n.sourceStreamId),this.streamIdToBitrateKbpsMap.set(n.sourceStreamId,this.convertBpsToKbps(n.avgBitrateBps));for(const n of t)e.has(n)||(this.streamIdToBitrateKbpsMap.get(n)===ka.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(n,ka.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(n,ka.NOT_SENDING_STREAM_BITRATE));for(let n=0;n<this._localStreamInfos.length;n++){this._localStreamInfos[n].disabledByWebRTC=!1;const r=this._localStreamInfos[n].streamId;this._localStreamInfos[n].disabledByUplinkPolicy||(this.streamIdToBitrateKbpsMap.has(r)?this.streamIdToBitrateKbpsMap.get(r)===ka.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[n].timeEnabled>ka.BitratesMsgFrequencyMs&&(this._localStreamInfos[n].disabledByWebRTC=!0):this._lastBitRateMsgTime-this._localStreamInfos[n].timeEnabled>ka.BitratesMsgFrequencyMs&&(this._localStreamInfos[n].disabledByWebRTC=!0))}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let i="";for(const e of this._localStreamInfos)i+=`streamId=${e.streamId} maxBitrate=${e.maxBitrateKbps} disabledByWebRTC=${e.disabledByWebRTC} disabledByUplink=${e.disabledByUplinkPolicy}
`;this.logger.debug(()=>i)}integrateIndexFrame(i){super.integrateIndexFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const n of this.currentIndex.sources)n.mediaType===f.SdkStreamMediaType.VIDEO&&(e.add(n.streamId),this.streamIdToBitrateKbpsMap.has(n.streamId)||this.streamIdToBitrateKbpsMap.set(n.streamId,ka.UNSEEN_STREAM_BITRATE));for(const n of t)e.has(n)||this.streamIdToBitrateKbpsMap.delete(n)}integrateSubscribeAckFrame(i){if(super.integrateSubscribeAckFrame(i),!i.allocations||i.allocations===void 0)return;let e=0;for(const t of i.allocations){if(this._localStreamInfos.length<e+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[e].groupId=t.groupId,this._localStreamInfos[e].streamId=t.streamId,this.streamIdToBitrateKbpsMap.has(t.streamId)||this.streamIdToBitrateKbpsMap.set(t.streamId,ka.UNSEEN_STREAM_BITRATE),e++}}constructor(i){super(i),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._lastBitRateMsgTime=Date.now()}},"SimulcastVideoStreamIndex");l.default=a,a.UNSEEN_STREAM_BITRATE=-2,a.RECENTLY_INACTIVE_STREAM_BITRATE=-1,a.NOT_SENDING_STREAM_BITRATE=0,a.BitratesMsgFrequencyMs=4e3},LK2A:function(j,l,h){"use strict";h.r(l),function(S){h.d(l,"AutocompleteActions",function(){return cn}),h.d(l,"CardRenderType",function(){return Ci}),h.d(l,"CollabApi",function(){return qt}),h.d(l,"CollabPopoverDismissSource",function(){return et}),h.d(l,"CollabUrlType",function(){return Qi}),h.d(l,"CommentFocusTarget",function(){return Gt}),h.d(l,"CommentLevel",function(){return yt}),h.d(l,"DocBlockStyle",function(){return Wi}),h.d(l,"DocInlineStyle",function(){return fi}),h.d(l,"EmbeddedMoveDirection",function(){return gr}),h.d(l,"EmbeddedObjectType",function(){return Vi}),h.d(l,"EmbeddedUIAttributes",function(){return lr}),h.d(l,"EmbeddedUiAction",function(){return ti}),h.d(l,"EmbeddedUiContext",function(){return ln}),h.d(l,"ErrorSource",function(){return Zi}),h.d(l,"Feature",function(){return tt}),h.d(l,"FullTableModification",function(){return ai}),h.d(l,"GetSlackObjectFailureReason",function(){return zt}),h.d(l,"GrafterUrls",function(){return e}),h.d(l,"NavigationTypeMetric",function(){return cr}),h.d(l,"SectionInsertionType",function(){return Ar}),h.d(l,"ShortcutModifier",function(){return ht}),h.d(l,"SlackObjectActionType",function(){return ot}),h.d(l,"SlackObjectType",function(){return gt}),h.d(l,"SlackShortcutCommandType",function(){return sn}),h.d(l,"SlackShortcutMetricSource",function(){return Qt}),h.d(l,"TablePart",function(){return tr}),h.d(l,"TablePartModificationType",function(){return Si}),h.d(l,"TableSelectionMergeAction",function(){return wr}),h.d(l,"TableSelectionModification",function(){return Ir}),h.d(l,"TemplateControlAction",function(){return Jn}),h.d(l,"TemplateTriggerType",function(){return Zn}),h.d(l,"TemplateType",function(){return In}),h.d(l,"ToastMessageContext",function(){return _e}),h.d(l,"UnfurlType",function(){return Ur});class f{constructor(){this.o=!1,this.l=[]}run(){this.o=!0;const ce=this.l;this.l=[];for(let Me=0;Me<ce.length;Me++)ce[Me]()}add(ce){this.o?ce():this.l.push(ce)}}o(f,"t");var u,g;(function(z){var ce;(ce=z.Op||(z.Op={}))[ce.DID_INITIALIZE=8]="DID_INITIALIZE",ce[ce.DID_FAIL_TO_INITIALIZE=9]="DID_FAIL_TO_INITIALIZE"})(u||(u={})),function(z){var ce;(ce=z.Op||(z.Op={}))[ce.INIT=0]="INIT"}(g||(g={}));class a{constructor(ce){this._=new Map,this.u=null,this.destinationFn=ce}setTransportHook(ce){this.u=ce}tearDown(){}addHandler(ce,Me){this._.has(ce)&&this.logError(`Already had handler for op ${ce} will overwrite.`),this._.set(ce,Me)}getHandler(ce){const Me=this._.get(ce);return Me?this.u?(Ne,Ke)=>{var vt;return(vt=this.u)===null||vt===void 0||vt.call(this,ce,Ne,i.INCOMING),Me(Ne,Et=>{var Tt;return(Tt=this.u)===null||Tt===void 0||Tt.call(this,ce,Et,i.OUTGOING_REPLY),Ke(Et)})}:Me:null}invoke(ce,Me,Ne){var Ke;if((Ke=this.u)===null||Ke===void 0||Ke.call(this,ce,Me,i.OUTGOING),this.u&&Ne){const Tt=Ne;Ne=o($e=>{var At;(At=this.u)===null||At===void 0||At.call(this,ce,$e,i.INCOMING_REPLY),Tt($e)},"i")}const vt=this.destinationFn().getHandler(ce);if(!vt)return void this.logError(`Bridge transport doesn't have handler for op ${ce}`);let Et;try{Et=vt(Me,Tt=>{Ne?Ne(Tt):this.logError(`Invoke response received without callback for op ${ce}`)})}catch{s(ce,Me)}Et instanceof Promise&&Et.catch(Tt=>s(ce,Me))}logError(ce){}}o(a,"s");let s=o((z,ce,Me)=>{let Ne="";try{Ne=JSON.stringify(ce)}catch{Ne="(Unserializable message)"}},"n");var i,e,t;(function(z){z[z.INCOMING=1]="INCOMING",z[z.INCOMING_REPLY=2]="INCOMING_REPLY",z[z.OUTGOING=3]="OUTGOING",z[z.OUTGOING_REPLY=4]="OUTGOING_REPLY"})(i||(i={})),function(z){z.CONTROLLER_CSS="https://quip.codes/-/static/less/stylesheet/-?retina=True&mode=normal&less=collab%2Fcontroller.less",z.CONTROLLER_JS="https://slackdocs.codes:3000/ts/src/collab/controller/bundle.ts",z.EMBEDDED_JS="https://slackdocs.codes/-/static-script-files?grafted=True&resource_bundle_name=collab_embedded"}(e||(e={})),function(z){z.BRIDGE_TRANSPORT_SET="bridge-transport-set",z.BRIDGE_TRANSPORT_READY="bridge-transport-ready",z.HANDLER_REGISTERED="handler-registered",z.HANDLER_REGISTRATION_FINISHED="handler_registration_finished",z.MESSAGE_SENT="message_sent",z.MESSAGE_HANDLED="message-handled",z.INIT_SENT="init_sent",z.INIT_RECEIVED="init_received",z.DID_INIT_SENT="did_init_sent",z.DID_INIT_RECEIVED="did_init_received",z.BRIDGE_OPEN="bridge-open",z.ERROR="error",z.SYSTEMJS_LOADED="systemjs-loaded",z.CONTROLLER_SYSTEMJS_MODULE_IMPORTED="controller-systemjs-imported",z.CONTROLLER_INIT_DATA_FETCHED="controller-init-data-fetched",z.CONTROLLER_RESOURCE_DATA_FETCHED="controller-resource-data-fetched",z.PROBE="probe",z.OTHER="misc"}(t||(t={}));class n{constructor(ce){this.T=ce,this.O=[],this.I=[],this.S=[],this.N=[],this.A=[],this.L=Date.now(),this.onlyBefore("Handler registered late",t.HANDLER_REGISTERED,[t.HANDLER_REGISTRATION_FINISHED]),this.onlyAfter("Message sent before bridge open",t.MESSAGE_SENT,[t.BRIDGE_OPEN]),this.onlyAfter("Message handled before bridge open",t.MESSAGE_HANDLED,[t.BRIDGE_OPEN])}getTimeoutForPromise(){return n.TIMEOUT_FOR_PROMISE}fireEvent(ce,Me=null){if(this.I.filter(Ke=>Ke.beforeEvent==ce).forEach(Ke=>{Ke.afterEvents.some(vt=>this.O.includes(vt))&&Ke.message&&this.m(`${this.T}: ${Ke.message}`)}),this.S.filter(Ke=>Ke.afterEvent==ce).forEach(Ke=>{Ke.beforeEvents.some(vt=>!this.O.includes(vt))&&Ke.message&&this.m(`${this.T}: ${Ke.message}`)}),ce!=t.HANDLER_REGISTERED&&this.m(Me?Promise.resolve(Me).then(Ke=>`${ce}: ${Ke}`):ce),this.O.includes(ce))return;this.O.push(ce);const Ne=[];this.N=this.N.filter(Ke=>!Ke.events.every(vt=>this.O.includes(vt))||(Ne.push(Ke),!1)),Ne.forEach(Ke=>{Ke.description&&this.m(`${ce} -> ${Ke.description}`),Ke.callback()})}after(ce,Me,Ne=null){ce.every(Ke=>this.O.includes(Ke))?Me():(Ne&&this.m(`${Ne} deferred`),this.N.push({events:ce,description:Ne,callback:Me}))}onlyBefore(ce,Me,Ne){this.I.push({beforeEvent:Me,afterEvents:Ne,message:ce})}onlyAfter(ce,Me,Ne){this.S.push({beforeEvents:Ne,afterEvent:Me,message:ce})}m(ce){if(this.A.length>n.MAX_INIT_LOG)return;const Me=Date.now()-this.L,Ne=Promise.resolve(ce);this.A.push({timestamp:Me,message:Ne}),Ne.then(Ke=>{console.debug(`${this.T}: ${Ke}`)})}getInitLog(ce){const Me=(ce?this.A.slice(0,ce):this.A).map(async Ne=>({t:Ne.timestamp,e:await Ne.message}));return Promise.all(Me).then(Ne=>({id:this.T,log:Ne}))}}o(n,"l"),n.MAX_INIT_LOG=50,n.TIMEOUT_FOR_PROMISE=3e4;function r(z,{logCallback:ce=o(()=>{},"e"),timeoutMillis:Me=3e4,name:Ne="Unnamed",context:Ke=""}={}){return new Promise((vt,Et)=>{let Tt=window.setTimeout(()=>{Tt=null,ce(`${Ne} promise timed out: ${Ke}`),Et(new Error(`${Ne} promise timed out`))},Me);const $e=o(()=>{Tt&&(clearTimeout(Tt),Tt=null)},"l");z.then(At=>{Tt?($e(),vt(At)):ce(`${Ne} promise resolved after timeout: ${Ke}`)}).catch(At=>{Tt?($e(),Et(At)):ce(`${Ne} promise rejected after timeout: ${Ke}`)})})}o(r,"_");function c(z,ce,Me,Ne,Ke){const{span:vt,closeSpanFn:Et}=Ne.createBasicTraceSpan(Ke,Me,{[Ti.URL]:z}),{closeSpanFn:Tt}=Ne.createBasicTraceSpan(vt,Gn.HTTP_FETCH_HEADER),$e=new AbortController,At=setTimeout(()=>{$e.abort()},Ne.bridgeInit.getTimeoutForPromise());return fetch(z,Object.assign({signal:$e.signal},ce)).catch(Dt=>{throw Tt(Dt),Error(`${Me} fetch failed: ${Dt}`)}).then(Dt=>{if(clearTimeout(At),!Dt.ok)return Tt(new Error(`returned ${Dt.status}`)),m(Ne,Me,Dt,vt).then(fn=>{throw Error(fn)});Tt();const{closeSpanFn:wn}=Ne.createBasicTraceSpan(vt,Gn.HTTP_FETCH_CONTENT,{[Ti.URL]:z});return Dt.text().catch(fn=>{throw wn(fn),fn}).then(fn=>{wn();const{closeSpanFn:Un}=Ne.createBasicTraceSpan(vt,Gn.JSON_PARSE);try{const li=JSON.parse(fn);return Un(),li}catch(li){throw Un(new Error(`${li}`)),Ne.bridgeInit.fireEvent(t.ERROR,m(Ne,Me,Dt,null)),li}})}).finally(()=>{Et()})}o(c,"h");function p(z,ce,Me,Ne){const Ke=new AbortController,vt=setTimeout(()=>{Ke.abort()},Me.bridgeInit.getTimeoutForPromise());Me.bridgeInit.fireEvent(t.OTHER,`${ce} prefetch start`);const{span:Et,closeSpanFn:Tt}=Me.createBasicTraceSpan(Ne,Gn.MODULE_PREFETCH,{[Ti.URL]:z}),{closeSpanFn:$e}=Me.createBasicTraceSpan(Et,Gn.HTTP_FETCH_HEADER);return fetch(z,{method:"GET",mode:"cors",cache:"default",signal:Ke.signal}).catch(At=>{throw $e(At),Error(`${ce} fetch failed: ${At}`)}).then(At=>{if(!At.ok)return $e(new Error(`Returned ${At.status}`)),m(Me,ce,At,Et).then(wn=>{throw Error(wn)});$e();const{closeSpanFn:Dt}=Me.createBasicTraceSpan(Et,Gn.HTTP_FETCH_CONTENT);return At.text().then(()=>{Dt(),Me.bridgeInit.fireEvent(t.OTHER,`${ce} prefetch ok`)}).catch(wn=>{throw Dt(wn),wn})}).finally(()=>{Tt(),clearTimeout(vt)})}o(p,"c");function m(z,ce,Me,Ne){const{closeSpanFn:Ke}=z.createBasicTraceSpan(Ne,Gn.HTTP_FETCH_CONTENT);return Me.text().then(vt=>{const Et=function($e){if(!$e||$e.trim().length==0)return"response body empty";try{const At=new DOMParser().parseFromString($e,"text/html").documentElement.textContent;if(At&&At.trim().length>0)return At.trim().replace(/\s+/g," ").slice(0,50)}catch{}return $e.trim().slice(0,50)}(vt),Tt=`${ce} fetch returned ${Me.status}: ${Et}`;return Ke(new Error(Tt)),Tt}).catch(vt=>{const Et=`${ce} fetch returned ${Me.status}: response body unavailable (${vt})`;return Ke(new Error(Et)),Et})}o(m,"a");function d(z,ce,Me){let Ne=null;const{id:Ke,promise:vt}=function($e){const At=Symbol(),Dt=new Promise(wn=>{D.push({id:At,callback:fn=>{$e(),wn(fn)}})});return J||(J=!0,window._collabInit=wn=>{var fn;(fn=D.shift())===null||fn===void 0||fn.callback(wn)}),{promise:Dt,id:At}}(()=>{var $e,At;(At=($e=z==null?void 0:z.platformDelegate)===null||$e===void 0?void 0:$e.endTraceOrSpan)===null||At===void 0||At.call($e,Ne)}),Et=vt.then($e=>(z.bridgeInit.fireEvent(t.OTHER,"_collabInit called"),$e));return function($e,At,Dt){return At.then(wn=>{if(wn.module_loader_url==null)throw Error("No module loader URL.  Server likely isn't in SystemJS mode.");const{span:fn,closeSpanFn:Un}=$e.createBasicTraceSpan(Dt,Gn.LOAD_CONTROLLER),li=$e.config.useGraftedMode?e.CONTROLLER_JS:wn.controller_entry_module_url;return function(Mi,Ai,hi,pi){hi&&(R=hi);const yn=Mi.bridgeInit;if(N){const Hi=V;return yn.fireEvent(t.OTHER,`Collab ${Hi} is loading systemjs, reusing the promise`),N.then(()=>{yn.fireEvent(t.OTHER,`Systemjs promise reused from collab ${Hi} succeeded`)}).catch(Or=>{throw yn.fireEvent(t.ERROR,`Systemjs promise reused from collab ${Hi} failed: ${Or}`),Or})}let ji,Ui=null;if(F())yn.fireEvent(t.OTHER,"systemjs already loaded, running prepareImport"),Ui="System.prepareImport() promise resolved",ji=r(System.prepareImport(!0),{name:"System.prepareImport",timeoutMillis:yn.getTimeoutForPromise()});else{yn.fireEvent(t.OTHER,"No SystemJS found, loading it");const{span:Hi,closeSpanFn:Or}=Mi.createBasicTraceSpan(pi,Gn.LOAD_SYSTEMJS,{[Ti.JS_PREFETCH_ENABLED]:"true",[Ti.URL]:Ai});Ui="systemjs script tag onload fired",ji=function(Ii,Sr,qn){return p(Sr,"systemjs-module-loader",Ii,qn).then(()=>{const vi=document.createElement("script");return new Promise((mi,_i)=>{const{closeSpanFn:Yn}=Ii.createBasicTraceSpan(qn,Gn.SCRIPT_TAG);vi.src=Sr,vi.defer=!0,vi.crossOrigin="anonymous",vi.onload=()=>{Yn(),mi()},vi.onerror=Ut=>{const nr=Error(`systemjs onerror called: ${Ut}`);Yn(nr),_i(nr)},document.body.appendChild(vi)}).then(()=>{if(!F())throw Error("SystemJS not found after it was loaded")}).catch(mi=>{throw typeof System=="object"&&(delete window.System,Ii.bridgeInit.fireEvent(t.OTHER,"Cleaned up systemjs global object")),vi.onload=null,vi.onerror=null,vi.parentNode&&(vi.parentNode.removeChild(vi),Ii.bridgeInit.fireEvent(t.OTHER,"Cleaned up systemjs loader script tag")),mi})})}(Mi,Ai,Hi).finally(()=>{Or()})}return V=Mi.id,N=ji.then(()=>{yn.fireEvent(t.SYSTEMJS_LOADED,Ui)}).finally(()=>{N=null,V=null}),N}($e,wn.module_loader_url,wn.import_map,fn).then(()=>{var Mi,Ai;return w(li,(Ai=(Mi=wn.import_map)===null||Mi===void 0?void 0:Mi.imports)!==null&&Ai!==void 0?Ai:{},$e,fn)}).finally(()=>{Un()})})}(z,ce,Me).then(()=>{var $e,At,Dt;return Ne=(Dt=(At=($e=z==null?void 0:z.platformDelegate)===null||$e===void 0?void 0:$e.startSpan)===null||At===void 0?void 0:At.call($e,Me,Gn.AWAIT_CALLBACK))!==null&&Dt!==void 0?Dt:null,r(Et,{name:"_collabInit callback",timeoutMillis:z.bridgeInit.getTimeoutForPromise()}).catch(wn=>{var fn,Un;throw(Un=(fn=z==null?void 0:z.platformDelegate)===null||fn===void 0?void 0:fn.endTraceOrSpan)===null||Un===void 0||Un.call(fn,Ne,{[Ti.ERROR]:`${wn}`}),wn})}).catch($e=>{var At;throw At=Ke,D=D.filter(Dt=>Dt.id!==At),$e})}o(d,"d");let y=null,E=null;function w(z,ce,Me,Ne){var Ke;const vt=Me.bridgeInit;if(E){const At=y;return vt.fireEvent(t.OTHER,`Collab ${At} is loading the controller, waiting for it to finish...`),E.then(()=>(vt.fireEvent(t.OTHER,`Collab ${At} module loading complete`),w(z,ce,Me,Ne))).catch(Dt=>(vt.fireEvent(t.OTHER,`Collab ${At} module loading failed`),w(z,ce,Me,Ne)))}if(vt.fireEvent(t.OTHER,"Loading controller module"),System.fork===void 0)return Promise.reject(Error("SystemJS is missing the fork() method"));if(Me.config.useSystemJsSharedFork&&!O){const At=((Ke=Object.entries(ce).find(([Dt])=>Dt.endsWith("-ancillary.js")))===null||Ke===void 0?void 0:Ke[1])||null;O=At?System.sharedFork([At]):null}const Et=System.fork(ce,O);vt.fireEvent(t.OTHER,`controller module${System.isAlreadyLoaded(z)?" ":" not "}in systemjs cache`);const{span:Tt,closeSpanFn:$e}=Me.createBasicTraceSpan(Ne,Gn.LOAD_CONTROLLER_MODULE,{[Ti.JS_PREFETCH_ENABLED]:"true",[Ti.URL]:z});return E=p(z,"controller-module",Me,Tt).then(()=>{const{closeSpanFn:At}=Me.createBasicTraceSpan(Tt,Gn.SYSTEMJS_IMPORT_MODULE,{[Ti.URL]:z}),Dt=[],wn=new MutationObserver(fn=>{Dt.push(...k(fn))});return wn.observe(document.head,{childList:!0}),Et.import(z).then(()=>{At(),vt.fireEvent(t.CONTROLLER_SYSTEMJS_MODULE_IMPORTED)}).catch(fn=>{At(fn),Dt.push(...k(wn.takeRecords()));let Un=0;throw Dt.forEach(li=>{li.onload=null,li.onerror=null,li.parentNode&&(li.parentNode.removeChild(li),Un++)}),Un>0&&vt.fireEvent(t.OTHER,`Cleaned up ${Un} SystemJS script tags`),System.resetInstantiationCache()&&vt.fireEvent(t.OTHER,"SystemJS cache cleared"),fn}).finally(()=>{wn.disconnect()})}).finally(()=>{$e(),y=null,E=null}),y=Me.id,E}o(w,"O");function k(z){const ce=[];return z.forEach(Me=>{Me.addedNodes.forEach(Ne=>{Ne instanceof HTMLScriptElement&&Ne.getAttribute("systemjs")==="1"&&ce.push(Ne)})}),ce}o(k,"I");let V=null,N=null;function F(){return typeof System=="object"&&typeof System.register=="function"}o(F,"A");function P(){if(!R)return console.warn("No import map data found"),[];const z=R.imports;return!z||typeof z!="object"?(console.warn("Imports property missing from importMapsData"),[]):Object.values(z).filter(ce=>typeof ce=="string"||ce instanceof String)}o(P,"L");const B={};let O,R,D=[],J=!1,X=null;class $ extends a{constructor(ce,Me){super(Me),this.C=ce,this.D=ce.bridgeInit,this.R()}tearDown(){super.tearDown()}p(ce){var Me,Ne;console.error("EmbeddedSameOriginBridgeTransport did not load",ce),ce&&console.error(ce.stack),this.D.fireEvent(t.ERROR,`Failure constructing EmbeddedSameOriginBridgeTransport: ${ce}`),(Ne=(Me=this.C.config.delegate)===null||Me===void 0?void 0:Me.didFailToInitialize)===null||Ne===void 0||Ne.call(Me,"exception",ce)}R(){var ce,Me,Ne;const Ke=(Ne=(Me=(ce=this.C.platformDelegate)===null||ce===void 0?void 0:ce.startTrace)===null||Me===void 0?void 0:Me.call(ce,Gn.COLLAB_INIT,{[Ti.CONTROLLER_ID]:`${this.C.id}`}))!==null&&Ne!==void 0?Ne:null,vt=function(Tt,$e){const At=new FormData,{authToken:Dt,userJwt:wn,getSlackToken:fn,isGov:Un}=Tt.config;Dt&&At.append("oauth_token",Dt),wn&&At.append("user_jwt",wn),fn&&At.append("token",fn());const li=Tt.config.xhrWithCredentials===!0?"include":void 0,Mi=c(`${Xi(Tt)}/collab/controller-init?format=map`,{method:"POST",body:At,credentials:li},Gn.CONTROLLER_INIT,Tt,$e).then(pi=>(Tt.bridgeInit.fireEvent(t.CONTROLLER_INIT_DATA_FETCHED),pi)),Ai=window.QUIP_VERSION_NAME||"server",hi=new URLSearchParams([["version-name",Ai]]);return Tt.config.language&&hi.append("language-code",Tt.config.language),hi.append("cdn_fallback",`${Tt.getAttemptNumber()}`),Un&&hi.append("serve_gov","1"),X=c(`${Xi(Tt)}/collab/controller-resources?${hi.toString()}`,{method:"GET",credentials:li},Gn.CONTROLLER_RESORCES,Tt,$e).then(pi=>(Tt.bridgeInit.fireEvent(t.CONTROLLER_RESOURCE_DATA_FETCHED),pi)).catch(pi=>(X=null,Tt.bridgeInit.fireEvent(t.ERROR,`controller-resources request failed: ${pi}`),{module_loader_url:null,controller_entry_module_url:null,import_map:null})),Promise.all([Mi,X]).then(pi=>{const[yn,ji]=pi;return Object.assign(Object.assign({},yn),ji)})}(this.C,Ke),Et=d(this.C,vt,Ke);Promise.all([Et,vt]).then(Tt=>{var $e;const At=Tt[0],Dt=Tt[1];At.main(Dt.init_options,Dt.preserialized,this.C.config.getSlackToken?null:Dt.oauth_token,this.C.config.getSlackToken?null:Dt.oauth_token_expiry,($e=this.C.config.getSlackToken)!==null&&$e!==void 0?$e:null,Xi(this.C),this.destinationFn(),Dt.js_initializer,Dt.user_id,this.C.config.xhrWithCredentials,this.C.config.enableWebCaching?Dt.web_cache_key:void 0,this.C.config.enableWebCaching?Dt.web_cache_key_version:void 0,this.C.config.requestsAreCors,Dt.body_classes,Dt.css_url,!!this.C.config.useGraftedMode,this.C.config.pathRewriteHook),this.D.fireEvent(t.BRIDGE_TRANSPORT_READY)}).catch(Tt=>this.p(Tt)).finally(()=>{var Tt,$e;($e=(Tt=this.C.platformDelegate)===null||Tt===void 0?void 0:Tt.endTraceOrSpan)===null||$e===void 0||$e.call(Tt,Ke)})}logError(ce){this.D.fireEvent(t.ERROR,ce)}}o($,"M");class he{constructor(ce){this.embeddedSide=new $(ce,()=>this.controllerSide),this.controllerSide=new a(()=>this.embeddedSide)}}o(he,"v");function Ee(z,ce){let Me=null;for(const Ne of function(Ke){const vt=[];for(const Et of Object.keys(Ke))isNaN(Number(Et))&&vt.push(Et);return vt}(z))z[Ne]===ce&&(Me=Ne);return Me||(Me=String(ce)),Me+=` (${ce})`,Me}o(Ee,"P");const ke={[i.INCOMING]:"ToEmbedded",[i.OUTGOING]:"FromEmbedded",[i.INCOMING_REPLY]:"ReplyToEmbedded",[i.OUTGOING_REPLY]:"ReplyFromEmbedded"},ve=[u.Op.DID_INITIALIZE,u.Op.DID_FAIL_TO_INITIALIZE],Be=[];class pt{constructor(ce,Me){this.M=ce,this.v=Me,this.A=[],this.P=[],this.U={[ke[i.INCOMING]]:{},[ke[i.OUTGOING_REPLY]]:{},[ke[i.OUTGOING]]:{},[ke[i.INCOMING_REPLY]]:{}}}getHook(){const ce=this.A,Me=this.P,Ne=this.U;return(Ke,vt,Et)=>{var Tt,$e;const At={ts:Date.now(),op:Ke,message:vt,type:Et},Dt=bt(Et,Ke);if((Tt=($e=Ne[ke[Et]])[Dt])!==null&&Tt!==void 0||($e[Dt]=0),Ne[ke[Et]][Dt]+=1,ce.length>=30)for(Me.push(At);Me.length>20;)Me.shift();else ce.push(At)}}getReport(ce=!0){var Me;return{collabInstanceId:this.M,collabInstanceTeamId:(Me=this.v)!==null&&Me!==void 0?Me:"not_provided",reportTimestamp:Date.now(),messageCounts:this.U,startupLog:Ve(this.A,ce),recentLog:Ve(this.P,ce)}}}o(pt,"b");function Ve(z,ce=!0){return z.map(Me=>{const Ne={op:bt(Me.type,Me.op),type:ke[Me.type]};var Ke,vt;return ce&&(Ke=Me.type,vt=Me.op,!([i.INCOMING,i.OUTGOING_REPLY].includes(Ke)?ve.includes(vt):Be.includes(vt)))||(Ne.message=Me.message),ce||(Ne.ts=Me.ts),Ne})}o(Ve,"F");function bt(z,ce){return[i.INCOMING,i.OUTGOING_REPLY].includes(z)?Ee(u.Op,ce):Ee(g.Op,ce)}o(bt,"B");class lt{constructor(ce){this.D=ce.bridgeInit,this.F=function(Me){return new he(Me).embeddedSide}(ce),this.B=new pt(ce.id,ce.config.teamId),this.D.fireEvent(t.BRIDGE_TRANSPORT_SET),this.F.setTransportHook(this.B.getHook())}init(ce){this.D.after([t.BRIDGE_TRANSPORT_SET,t.BRIDGE_TRANSPORT_READY,t.HANDLER_REGISTRATION_FINISHED],()=>{this.invoke(g.Op.INIT,ce),this.D.fireEvent(t.INIT_SENT)})}tearDown(){this.F.tearDown()}invoke(ce,Me){const Ne=ce==g.Op.INIT,Ke=o(()=>{this.F.invoke(ce,Me),Ne||this.D.fireEvent(t.MESSAGE_SENT,`Op ${ce}`)},"n");Ne?Ke():this.D.after([t.BRIDGE_OPEN],Ke,`Send op ${ce}`)}addHandler(ce,Me){this.F.addHandler(ce,ce===u.Op.DID_INITIALIZE?Me:Ne=>{this.D.after([t.BRIDGE_OPEN],()=>{Me(Ne),this.D.fireEvent(t.MESSAGE_HANDLED,`Op ${ce}`)},`Handle op ${ce}`)})}getDebugReport(ce=!0){return this.B.getReport(ce)}}o(lt,"G");class mt{constructor(ce,Me){this.G=new WeakMap,this.H=ce,this.K=Me}get(){const ce=this.H.get();return this.$(ce)}getAsync(){return this.H.getAsync().then(ce=>this.$(ce))}listen(ce){let Me=this.G.get(ce);Me||(Me=o((Ne,Ke)=>{ce(this.$(Ne),this.K(Ke))},"e"),this.G.set(ce,Me)),this.H.listen(Me)}once(ce){let Me=this.G.get(ce);Me||(Me=o((Ne,Ke)=>{ce(this.$(Ne),this.K(Ke))},"e"),this.G.set(ce,Me)),this.H.once(Me)}unlisten(ce){const Me=this.G.get(ce);Me&&this.H.unlisten(Me)}$(ce){if(ce!==void 0)return this.K(ce)}}o(mt,"y");class xt{constructor(ce,Me){this.H=ce,this.V=Me}get(){return this.H.get()}getAsync(){const ce=this.H.getAsync();return new Promise((Me,Ne)=>{ce.then(Ke=>{Ke?Me(Ke):this.H.once((vt,Et)=>{Me(Et??this.V)})}).catch(Ne)})}listen(ce){this.H.listen(ce)}unlisten(ce){this.H.unlisten(ce)}once(ce){this.H.once(ce)}}o(xt,"H");var at;(function(z){z[z.DOC_DISPLAY_TITLE=0]="DOC_DISPLAY_TITLE",z[z.DOC_UPDATED_USEC=1]="DOC_UPDATED_USEC",z[z.DOC_EMBED_SCROLL_POSITION=2]="DOC_EMBED_SCROLL_POSITION",z[z.DOC_BLOCK_KIT_THUMBNAIL=3]="DOC_BLOCK_KIT_THUMBNAIL",z[z.SECTION_SNIPPET=4]="SECTION_SNIPPET",z[z.CANNED_DOC_NAME=5]="CANNED_DOC_NAME",z[z.DOC_IS_EMPTY=6]="DOC_IS_EMPTY",z[z.DOC_LAST_UPDATED_USER_ID=8]="DOC_LAST_UPDATED_USER_ID",z[z.A11Y_READ_ONLY_MODE=9]="A11Y_READ_ONLY_MODE",z[z.DOC_EMBED_FOCUS_STATE=10]="DOC_EMBED_FOCUS_STATE",z[z.DOC_EMBED_SELECTION_STATE=11]="DOC_EMBED_SELECTION_STATE",z[z.TEXT_SECTION_OVERLAY_SHOWING=12]="TEXT_SECTION_OVERLAY_SHOWING",z[z.DOC_HAS_FILE_UNFURLS=13]="DOC_HAS_FILE_UNFURLS",z[z.TEMPLATE_CONTROLS_BE=14]="TEMPLATE_CONTROLS_BE",z[z.DOC_NEW_SECTION_USEC=15]="DOC_NEW_SECTION_USEC",z[z.TEMPLATE_CONTROLS_FE=16]="TEMPLATE_CONTROLS_FE",z[z.DOC_HAS_HEADER_IMAGE=17]="DOC_HAS_HEADER_IMAGE"})(at||(at={}));const Mt=new WeakMap;class kt{constructor(ce={}){this.Y=new Set,this.W=ce}add(ce,Me){if(!this.Y.has(ce)&&(this.Y.add(ce),Me&&Mt.set(ce,Me),this.Y.size===1)){const{didStartHavingListeners:Ne}=this.W;Ne&&Ne()}}addOneShot(ce,Me){const Ne=o((...Ke)=>{this.remove(Ne),ce.apply(window,Ke)},"i");this.add(Ne,Me)}remove(ce){if(this.Y.delete(ce)&&this.Y.size===0){const{didStopHavingListeners:Me}=this.W;Me&&Me()}}removeAll(){this.Y.forEach(ce=>this.remove(ce))}empty(){return this.Y.size===0}notify(...ce){if(this.Y.size===0)return;const{notifyDecorator:Me,catchError:Ne}=this.W;let Ke;Me&&(Ke=Me());const vt=Array.from(this.Y);for(let Et=0;Et<vt.length;Et++)if(Ne)try{vt[Et].apply(window,ce)}catch(Tt){Ne(Tt)}else vt[Et].apply(window,ce);Ke&&Ke.clear()}debugGetDescriptions(){return Array.from(this.Y,(ce,Me)=>Mt.get(ce)||`<anonymous-${Me}>`)}}o(kt,"V");class Xe{constructor(ce,Me,Ne,Ke=!1){this.X=ce,this.J=Me,this.Z=Ne,this.q=Ke;const vt=o((Et,Tt)=>{this.Y.notify(Et,Tt)},"n");this.Y=new kt({didStartHavingListeners:()=>this.Z.addListener(ce,Me,vt),didStopHavingListeners:()=>{this.Z.removeListener(ce,Me,vt),this.q||this.Z.cleanupStorage(ce,Me)}})}get(){return this.Z.getValue(this.X,this.J)}getAsync(){return this.Z.getValueAsync(this.X,this.J)}listen(ce){this.Y.add(ce)}unlisten(ce){this.Y.remove(ce)}unlistenAll(){this.Y.removeAll()}once(ce){this.Y.addOneShot(ce)}}o(Xe,"k");class on{constructor(ce){this.Y=new kt,this.tt=ce}set(ce){const Me=this.tt;this.tt=ce,this.Y.notify(Me,ce)}get(){return this.tt}getAsync(){return Promise.resolve(this.get())}listen(ce){this.Y.add(ce)}unlisten(ce){this.Y.remove(ce)}once(ce){this.Y.addOneShot(ce)}}o(on,"j");class Wn{constructor(ce){this.et=new Map,this.C=ce}didCreateDoc(ce,Me){const Ne=this.et.get(ce);Ne?(this.et.set(Me,Ne),Ne.idInternal.set(Me)):console.warn(`Could not find doc mapped to ID ${ce}`)}didDeleteDoc(ce){const Me=this.et.get(ce);Me==null||Me.deletedInternal.set(!0)}create(ce={}){const{title:Me,cannedDoc:Ne,context:Ke,usesOnlyInlineTextComments:vt,content:Et}=ce;return this.controllerAccess.docs.createDoc(Me,Ne,Ke,vt,Et).then(Tt=>this.get(Tt))}get(ce){let Me=this.et.get(ce);return Me||(Me=new _n(ce,this.C),this.et.set(ce,Me)),Me}get controllerAccess(){return this.C.controllerAccess}setEditsDisabled(ce,Me){for(const Ne of Xn.values())Ne.doc().id.get()===ce&&Ne.docEditor.setEditsDisabled(Me);this.controllerAccess.docs.reloadThread(ce)}getBlockKitThumbnail(ce,Me=!0,Ne){const Ke=Ot(this.C),vt=Ne?`${ce}/${Ne}`:ce;return new xt(new Xe(at.DOC_BLOCK_KIT_THUMBNAIL,vt,Ke,!0),'{"blocks": []}').getAsync().then(JSON.parse).then(Et=>(Me&&Et.blocks.length>0&&Et.blocks.shift(),Et))}getCannedDocName(ce){const Me=Ot(this.C);return new xt(new Xe(at.CANNED_DOC_NAME,ce,Me,!0),"").getAsync().then(Ne=>Ne.length===0?null:Ne)}getSectionSnippet(ce){const Me=Ot(this.C);return new xt(new Xe(at.SECTION_SNIPPET,ce,Me,!0),"").getAsync()}setDebugOption(ce,Me){this.controllerAccess.docs.setDebugOption(ce,Me)}findSlackObject(ce,Me,Ne){return this.controllerAccess.docs.findSlackObject(ce,Me,Ne)}insertSlackObject(ce,Me,Ne,Ke,vt){return this.controllerAccess.docs.insertSlackObject(ce,Me,Ne,Ke,vt)}editLink(ce,Me,Ne){this.controllerAccess.docs.editLink(ce,Me,Ne)}loadData(ce,Me){return this.controllerAccess.docs.loadData([ce],Me)}it(){return Tn(this.C)}}o(Wn,"Y");class _n{constructor(ce,Me){this.st=null,this.id=this.idInternal=new on(ce),this.C=Me;const Ne=Ot(this.C);this.title=new Xe(at.DOC_DISPLAY_TITLE,ce,Ne),this.lastUpdated=new mt(new Xe(at.DOC_UPDATED_USEC,ce,Ne,!0),Ke=>new Date(Ke/1e3)),this.lastUpdatedUsec=new Xe(at.DOC_UPDATED_USEC,ce,Ne,!0),this.lastUpdatedSlackUserId=new Xe(at.DOC_LAST_UPDATED_USER_ID,ce,Ne,!0),this.deleted=this.deletedInternal=new on(!1),this.isEmpty=new Xe(at.DOC_IS_EMPTY,ce,Ne,!0),this.hasPerformedEditingAction=new on(!1),this.hasFileUnfurls=new Xe(at.DOC_HAS_FILE_UNFURLS,ce,Ne,!0),this.templateControlsInfo=new Xe(at.TEMPLATE_CONTROLS_BE,ce,Ne,!0),this.lastNewSectionUpdated=new mt(new Xe(at.DOC_NEW_SECTION_USEC,ce,Ne,!0),Ke=>new Date(Ke/1e3)),this.hasHeaderImage=new Xe(at.DOC_HAS_HEADER_IMAGE,ce,Ne,!0)}getBlockKitThumbnailValue(){if(!this.st&&this.isCreated()){const ce=Ot(this.C);this.st=new mt(new Xe(at.DOC_BLOCK_KIT_THUMBNAIL,this.idInternal.get(),ce,!0),JSON.parse)}return this.st}embed(ce,Me={mode:"editor",templateOptions:{allowTemplateOverlay:!1}}){let Ne=On.get(ce);return Ne||(Ne=new Qn(this,ce,Me,this.C),On.set(ce,Ne),Ne.mount()),Ne.doc()!==this&&console.error("There was a different document embedded in the container",ce),Ne}isCreated(){return!this.idInternal.get().startsWith("temp:")}}o(_n,"W");const On=new WeakMap,Xn=new Map,ci={mode:"editor"};class Qn{constructor(ce,Me,Ne,Ke){this.rendered=new on(!1),this.incrementalRendered=new on(!1),this.failedToLoad=new on(!1),this.loadInfo=new on(void 0),this.editingActionPerformed=new on(!1),this.loadError=new on(void 0),this.editorContainer=new on(void 0),this.nt=!1,this.ot=!1,this.rt=[],this.Et=ce,this.lt=Me,this.W=Object.assign(Object.assign({},ci),Ne),this.C=Ke,this._t=`${Ki}-${this.C.id}-${ui++}`,this.ht=function(){const vt=document.createElement("div");return vt.classList.add("collab-root"),vt}(),this.ct(at.DOC_EMBED_SCROLL_POSITION),this.scrollPosition=this.ct(at.DOC_EMBED_SCROLL_POSITION),this.focusState=this.ct(at.DOC_EMBED_FOCUS_STATE),this.selectionState=this.ct(at.DOC_EMBED_SELECTION_STATE),this.a11yReadOnlyMode=this.ct(at.A11Y_READ_ONLY_MODE),this.textSectionOverlayShowing=this.ct(at.TEXT_SECTION_OVERLAY_SHOWING),this.templateControls=this.at(at.TEMPLATE_CONTROLS_FE,new Map),this.hasHeaderImage=this.ct(at.DOC_HAS_HEADER_IMAGE),this.controllerAccess.run(()=>{this.dt=this.controllerAccess.docs.getDocEditor(this._t)})}get docEditor(){if(!this.dt)throw new Error("DocEditor object not set");return this.dt}get controllerAccess(){return this.C.controllerAccess}ct(ce){const Me=Ot(this.C),Ne=new Xe(ce,this._t,Me,!1);return this.rt.push(Ne),Ne}at(ce,Me){return new xt(this.ct(ce),Me)}onEditorLoadError(ce){console.info("[QUIP] Editor load error",ce),this.failedToLoad.set(!0),this.loadError.set(ce),this.ut()}didLoadModel(ce){this.loadInfo.set(ce)}didRender(ce){this.rendered.set(!0),this.failedToLoad.set(!1),this.loadError.set(void 0),this.editorContainer.set(ce)}didFinishIncrementalRender(){this.incrementalRendered.set(!0)}didPerformEditingAction(){this.editingActionPerformed.set(!0)}doc(){return this.Et}docId(){return this.Et.id.get()}containerElement(){return this.lt}frameName(){return this._t}mount(){if(Xn.set(this._t,this),!this.ot){const ce=this.ht;ce.style.visibility="hidden",this.lt.appendChild(ce);let Me=ce.ownerDocument.defaultView;Me||(console.warn(`Mounting ${this._t} into element with no window`),Me=window),this.nt=!0,this.controllerAccess.run(()=>{this.docEditor.createdViewFrame(ce)}),ce.style.visibility="visible",this.ot&&this.Tt(),this.ot=!0}this.nt&&this.Tt()}unmount(){try{console.info(`[Quip] unmount doc with frame name ${this._t}. Frame loaded ${this.nt}`),this.nt&&(this.ut(),this.rendered.set(!1),this.incrementalRendered.set(!1),this.failedToLoad.set(!1),this.loadError.set(void 0),this.nt=!1),this.ot&&(On.delete(this.lt),this.ht.remove(),this.ot=!1),Xn.delete(this._t),this.rt.forEach(ce=>ce.unlistenAll())}catch(ce){console.warn("[Quip] Error thrown in unmount",ce)}}it(){return Tn(this.C)}Tt(){this.controllerAccess.run(()=>{this.docEditor.renderDoc(this.Et.id.get(),this.W)})}ut(){this.controllerAccess.run(()=>{this.docEditor.cleanupViewFrame()})}setCommentsUiProvider(ce){this.commentsUiProvider=ce,ce==null||ce.setDelegate(this.docEditor)}setAutocompleteUiProvider(ce){this.autocompleteUiProvider=ce,ce==null||ce.setDelegate(this.docEditor)}setPermalinkUiProvider(ce){this.permalinkUiProvider=ce}setEmbeddedUiProvider(ce){this.embeddedUiProvider=ce}setErrorUiProvider(ce){this.errorUiProvider=ce}setEditorUiConnector(ce){this.editorUiConnector=ce,ce==null||ce.setDelegate(this.docEditor)}}o(Qn,"Z");class Kn{constructor(ce){this.Ot=ce}getFrameByName(ce){return this.Ot.get(ce)}withFrame(ce,Me){const Ne=this.getFrameByName(ce);Ne||console.warn(`Could not find a frame with name ${ce}.`),Me(Ne)}}o(Kn,"q");const Ki=`collab-doc-${(1e3*Math.random()).toString(36)}`;let ui=0;class Fi{constructor(){this.It=[],this.St=!1}get docs(){return this.Nt}get settings(){return this.At}get providers(){return this.Lt}run(ce){this.St?ce():this.It.push(ce)}setObjects({docs:ce,settings:Me,providers:Ne}){this.St=!0,this.Nt=ce,this.At=Me,this.Lt=Ne;for(const Ke of this.It)Ke();this.It=[]}}o(Fi,"tt");let zi=0;class qt{constructor(ce){this.id=zi++,this.o=!1,this.Ct=!1,this.config=ce,this.platformDelegate=ce.delegate,this.bridgeInit=qt.Dt(`embedded ${this.id}`);const Me=new lt(this);vn.set(this,Me),this.controllerAccess=new Fi,this.docs=new Wn(this),this.failedToInitialize=new on(!1),this.initializationError=new on(void 0),this.Rt()}Rt(){if(this.o)return void this.bridgeInit.fireEvent(t.ERROR,"Collab instance initialized more than once");const{appearance:ce,language:Me,delegate:Ne,commentsDataProvider:Ke,bookmarksDataProvider:vt,fileDataProvider:Et,slackObjectProvider:Tt,features:$e,documentEventProvider:At,underlineAllLinks:Dt,enableAnimations:wn,displayEmojiAsPlainText:fn,spellcheckEnabled:Un,embeddedConfigProvider:li,embeddedUiProvider:Mi,topLevelTeamId:Ai,anchorLinkProvider:hi,slackObjectUIProvider:pi,slackTextyHtmlConversionProvider:yn,useSmartQuotesAndDashes:ji,atomStorageProvider:Ui}=this.config,Hi=this.it();Hi.init({features:$e,delegate:Ne,anchorLinkProvider:hi,bookmarksDataProvider:vt,commentsDataProvider:Ke,documentEventProvider:At,fileDataProvider:Et,slackObjectProvider:Tt,slackObjectUIProvider:pi,slackTextyHtmlConversionProvider:yn,mountedFrameProvider:new Kn(Xn),embeddedAccessDelegate:this.controllerAccess,docs:this.docs}),this.controllerAccess.run(()=>{this.atomClient=this.controllerAccess.providers.getAtomClient(Ui)});const Or=new f;var Ii,Sr;Or.add(()=>{ce&&this.ft(ce),Me&&this.Mt(Me),Dt!==void 0&&this.setUnderlineAllLinks(Dt),wn!==void 0&&this.setEnableAnimations(wn),fn!==void 0&&this.setDisplayEmojiAsPlainText(fn),Un!==void 0&&this.setSpellcheckEnabled(Un),Ai&&this.vt(Ai),ji!==void 0&&this.setUseSmartQuotesAndDashes(ji)}),function(qn,vi,mi){if(!mi)return;const _i=mi.supportedAutocompleteTypes;_i&&vi.add(()=>{qn.providers.registerAutocompleteTypes(_i)}),qn.run(()=>mi.setDelegate(qn.providers.getSlackObjectProviderDelegate()))}(this.controllerAccess,Or,Tt),function(qn,vi={},mi,_i,Yn=Ut=>{}){qn.addHandler(u.Op.DID_INITIALIZE,()=>{var Ut;(Ut=vi.didInitialize)===null||Ut===void 0||Ut.call(vi),mi.run(),_i.fireEvent(t.DID_INIT_RECEIVED)}),qn.addHandler(u.Op.DID_FAIL_TO_INITIALIZE,({initError:Ut})=>{var nr;Yn(Ut),(nr=vi.didFailToInitialize)===null||nr===void 0||nr.call(vi,Ut)})}(Hi,Ne,Or,this.bridgeInit,qn=>{this.Pt(!0,qn)}),Ii=this.controllerAccess,Sr=Ke,Ii.run(()=>{Sr==null||Sr.setDelegate(Ii.providers.getCommentsDataProviderDelegate())}),function(qn,vi){qn.run(()=>{vi==null||vi.setDelegate(qn.providers.getBookmarksDataProviderDelegate())})}(this.controllerAccess,vt),function(qn,vi){qn.run(()=>vi==null?void 0:vi.setDelegate(qn.providers.getDocumentEventProviderDelegate()))}(this.controllerAccess,At),function(qn,vi,mi){mi&&vi.add(()=>{qn.providers.registerEmbeddedUiProvider(mi.config())})}(this.controllerAccess,Or,li||Mi),this.o=!0,this.bridgeInit.fireEvent(t.HANDLER_REGISTRATION_FINISHED)}Pt(ce,Me){const Ne=this.failedToInitialize,Ke=this.initializationError;Ne.set(ce),Ke.set(Me)}static Dt(ce){const Me=new n(ce);return Me.after([t.BRIDGE_TRANSPORT_SET,t.BRIDGE_TRANSPORT_READY,t.INIT_SENT,t.DID_INIT_RECEIVED,t.HANDLER_REGISTRATION_FINISHED],()=>{Me.fireEvent(t.BRIDGE_OPEN)}),Me}controllerModuleUrls(){return P()}preload(){return!this.Ct&&(P().forEach(ce=>{if(!B[ce]){const Me=document.createElement("link");Me.rel="preload",Me.as="script",Me.href=ce,Me.crossOrigin="anonymous",B[ce]=Me,document.head.appendChild(Me)}}),this.Ct=!0,!0)}tearDown(){this.it().tearDown(),vn.delete(this),this.Pt(!1),this.o=!1}createBasicTraceSpan(ce,Me,Ne){var Ke,vt,Et;const Tt=(Et=(vt=(Ke=this.platformDelegate)===null||Ke===void 0?void 0:Ke.startSpan)===null||vt===void 0?void 0:vt.call(Ke,ce,Me,Ne))!==null&&Et!==void 0?Et:null;return Tt?{span:Tt,closeSpanFn:$e=>{var At,Dt;(Dt=(At=this.platformDelegate)===null||At===void 0?void 0:At.endTraceOrSpan)===null||Dt===void 0||Dt.call(At,Tt,$e?{[Ti.ERROR]:`${$e}`}:{})}}:{span:null,closeSpanFn:()=>{}}}getAttemptNumber(){var ce;return(ce=this.config.attemptNumber)!==null&&ce!==void 0?ce:0}preloadThreads(ce,Me){this.controllerAccess.run(()=>this.controllerAccess.docs.preloadData(ce,Me))}setAppearance(ce){this.config.appearance=ce,this.ft(ce)}setLanguage(ce){this.config.language=ce}setAppKeyboardFocusModeEnabled(ce,Me){this.Ut(ce,Me)}ft(ce){this.controllerAccess.settings.setAppearance(ce)}Mt(ce){this.controllerAccess.settings.setLanguage(ce)}Ut(ce,Me){this.controllerAccess.settings.setAppKeyboardFocusModeEnabled(ce,Me)}vt(ce){this.controllerAccess.settings.setDefaultTeamId(ce)}setUnderlineAllLinks(ce){this.controllerAccess.settings.setUnderlineLinks(ce)}setEnableAnimations(ce){this.controllerAccess.settings.setEnableAnimations(ce)}setDisplayEmojiAsPlainText(ce){this.controllerAccess.settings.setDisplayEmojiAsPlainText(ce)}setSpellcheckEnabled(ce){this.controllerAccess.settings.setSpellcheckEnabled(ce)}setUseSmartQuotesAndDashes(ce){this.controllerAccess.settings.setUseSmartQuotesAndDashes(ce)}async getInitLog(ce){return Object.assign(Object.assign({},await this.bridgeInit.getInitLog(ce)),{lm:"SYSTEMJS_SCRIPT_CONTROLLER",dr:!0})}async getInitLogStr(ce){for(let Me=n.MAX_INIT_LOG;Me>=0;Me--){const Ne=JSON.stringify(await this.getInitLog(Me));if(Ne.length<=ce)return Ne}return"Failed to generate"}getDebugReport(ce){return this.getBridgeDebugReport(ce)}getBridgeDebugReport(ce=!0){return this.it().getDebugReport(ce)}it(){return vn.get(this)}}o(qt,"it");function Tn(z){return vn.get(z)}o(Tn,"st");const vn=new Map;function Ot(z){return z.atomClient}o(Ot,"ot");const bn=document.querySelector("script[src*='/collab/embedded.js']"),Lt=bn==null?void 0:bn.src,jn=Lt?new URL(Lt).origin:"https://prod.slack.quip.systems";function Xi(z){return z.config.origin||jn}o(Xi,"_t");var Gn,Ti;(function(z){z.COLLAB_INIT="collab-init",z.CONTROLLER_INIT="controller-init",z.CONTROLLER_RESORCES="controller-resources",z.HTTP_FETCH_HEADER="http-fetch-header",z.HTTP_FETCH_CONTENT="http-fetch-content",z.JSON_PARSE="json-parse",z.LOAD_CONTROLLER="load-controller",z.AWAIT_CALLBACK="await-callback",z.LOAD_SYSTEMJS="load-systemjs",z.MODULE_PREFETCH="module-prefetch",z.SCRIPT_TAG="script-tag",z.LOAD_CONTROLLER_MODULE="load-controller-module",z.SYSTEMJS_IMPORT_MODULE="systemjs-import-module"})(Gn||(Gn={})),function(z){z.CONTROLLER_ID="controller-id",z.ERROR="error",z.JS_PREFETCH_ENABLED="js-prefetch-enabled",z.URL="url"}(Ti||(Ti={}));const Tr=(()=>{if(typeof S=="object")return S;if(typeof window=="object")return window;if(typeof self=="object")return self;throw new Error("Cannot find global")})();function er(z,ce,Me){const Ne=z.split(".");let Ke=Me||Tr;for(let vt=0;vt<Ne.length;vt++){const Et=Ne[vt];vt===Ne.length-1?Ke[Et]=ce:(Et in Ke||(Ke[Et]={}),Ke=Ke[Et])}}o(er,"dt");var cr,fi,Wi,Zn,Re,Ce,_e,et,tt,ht,gt,zt,cn,sn,Qt,Vi,Ci,gr,tr,Si,Ir,ai,lr,ti,wr,Qi,Ur,Ar,Zi,io,yt,ot,ln,Gt,In,Jn;(function(z){z[z.IN_APP_USER_INITIATED=0]="IN_APP_USER_INITIATED",z[z.PERMALINK=1]="PERMALINK",z[z.POPOUT=2]="POPOUT"})(cr||(cr={})),function(z){z.BOLD="bold",z.ITALIC="italic",z.UNDERLINE="underline",z.STRIKETHROUGH="strikethrough",z.CODE="code",z.SUBSCRIPT="subscript",z.SUPERSCRIPT="superscript",z.LINK="link"}(fi||(fi={})),function(z){z.PLAIN="plain",z.H1="h1",z.H2="h2",z.H3="h3",z.CODE="code",z.BLOCKQUOTE="blockquote",z.LIST_BULLET="list_bullet",z.LIST_NUMBERED="list_numbered",z.LIST_CHECKLIST="list_checklist"}(Wi||(Wi={})),function(z){z.TODO_LISTS="todo_lists",z.LINKS_N_RESOURCES="links_and_resources",z.MEETING_NOTES="meeting_notes",z.BLANK_PAGE="blank_page"}(Zn||(Zn={})),function(z){z.CACHE="cache",z.MEMORY="memory",z.NETWORK="network"}(Re||(Re={})),function(z){z.NONE="none",z.SCROLL_TO_SECTION="scroll_to_section",z.FOCUS_SECTION="focus_section"}(Ce||(Ce={})),function(z){z[z.LINK_COPIED=0]="LINK_COPIED",z[z.LINK_FILE_SHARE_BLOCKED=1]="LINK_FILE_SHARE_BLOCKED",z[z.TABLE_SIZE_LIMIT_REACHED=2]="TABLE_SIZE_LIMIT_REACHED"}(_e||(_e={})),function(z){z[z.ANY=1]="ANY",z[z.ON_MOUSE_LEAVE=2]="ON_MOUSE_LEAVE"}(et||(et={})),function(z){z[z.COMMENTS=0]="COMMENTS",z[z.FILE_UPLOADS=1]="FILE_UPLOADS",z[z.DOCUMENT_EVENTS=2]="DOCUMENT_EVENTS",z[z.SPREADSHEETS=3]="SPREADSHEETS",z[z.HOVERCARDS=4]="HOVERCARDS",z[z.LINK_UNFURL=5]="LINK_UNFURL",z[z.UNREAD_COMMENTS=6]="UNREAD_COMMENTS",z[z.REMINDERS=7]="REMINDERS",z[z.DOCUMENT_UPDATE=8]="DOCUMENT_UPDATE",z[z.FLEXBOX_COLLAB=9]="FLEXBOX_COLLAB",z[z.SLACK_WORKFLOW_BUTTON_PROTOTYPE=10]="SLACK_WORKFLOW_BUTTON_PROTOTYPE",z[z.DOPE_TABLE=11]="DOPE_TABLE",z[z.UI_PARITY=12]="UI_PARITY",z[z.MOBILE_DOCUMENT_EDITING=13]="MOBILE_DOCUMENT_EDITING",z[z.MOBILE_IMAGE_LOADING=14]="MOBILE_IMAGE_LOADING",z[z.GALLERY_LAYOUT=15]="GALLERY_LAYOUT",z[z.ANCHOR_LINKS=16]="ANCHOR_LINKS",z[z.IMAGE_EMBEDS=17]="IMAGE_EMBEDS",z[z.IMAGE_CAPTION=18]="IMAGE_CAPTION",z[z.EMBEDS_DRAG_HANDLE=19]="EMBEDS_DRAG_HANDLE",z[z.SLACK_AUTOCOMPLETE=20]="SLACK_AUTOCOMPLETE",z[z.DOCUMENT_SLASH_COMMANDS=23]="DOCUMENT_SLASH_COMMANDS",z[z.DRAG_AND_DROP_MAX_DISTANCE=24]="DRAG_AND_DROP_MAX_DISTANCE",z[z.APP_UNFURL_NON_IFRAME_RENDERS=25]="APP_UNFURL_NON_IFRAME_RENDERS",z[z.A11Y_KEYBOARD_NAVIGATION=28]="A11Y_KEYBOARD_NAVIGATION",z[z.INSERT_TOOLBAR=29]="INSERT_TOOLBAR",z[z.MENTIONS_SHARE=30]="MENTIONS_SHARE",z[z.TEXT_IN_GALLERY_LAYOUT=31]="TEXT_IN_GALLERY_LAYOUT",z[z.AUTOSIZE_FLEXBOX=32]="AUTOSIZE_FLEXBOX",z[z.FORMATTING_TOOLBAR=33]="FORMATTING_TOOLBAR",z[z.UI_PARITY_SLACK_LINK_INSPECTOR=34]="UI_PARITY_SLACK_LINK_INSPECTOR",z[z.PREVENT_OBJECTS_IN_LISTS=35]="PREVENT_OBJECTS_IN_LISTS",z[z.DISALLOW_SECTION_COMMENTS=37]="DISALLOW_SECTION_COMMENTS",z[z.SECTION_TOOLBAR_ON_LEFT=38]="SECTION_TOOLBAR_ON_LEFT",z[z.MOBILE_WEBVIEW_UNFURLS=39]="MOBILE_WEBVIEW_UNFURLS",z[z.INLINE_COMMENTS=40]="INLINE_COMMENTS",z[z.UNIVERSAL_DRAG_PREVIEW=41]="UNIVERSAL_DRAG_PREVIEW",z[z.DISABLE_GLOBAL_SHORTCUTS=42]="DISABLE_GLOBAL_SHORTCUTS",z[z.NARROW_COLLAB_INDENTATION=43]="NARROW_COLLAB_INDENTATION",z[z.EXPANDED_FLEXBOX_MARGIN=44]="EXPANDED_FLEXBOX_MARGIN",z[z.ADD_COLUMN_FROM_SECTION_MENU=45]="ADD_COLUMN_FROM_SECTION_MENU",z[z.REQUEST_COMPLETION_HOOK=46]="REQUEST_COMPLETION_HOOK",z[z.A11Y_CARET=47]="A11Y_CARET",z[z.BOOKMARKS=48]="BOOKMARKS",z[z.GRIDLIKE_DRAG_AND_DROP_PLACEMENT=50]="GRIDLIKE_DRAG_AND_DROP_PLACEMENT",z[z.SLACK_MESSAGE_TITLE=51]="SLACK_MESSAGE_TITLE",z[z.LENIENT_STARTUP=52]="LENIENT_STARTUP",z[z.ALLOW_SELECTING_ARCHIVED_COMMENTS=53]="ALLOW_SELECTING_ARCHIVED_COMMENTS",z[z.ANIMATE_LAYOUT_DRAG=54]="ANIMATE_LAYOUT_DRAG",z[z.STATIC_TITLES=55]="STATIC_TITLES",z[z.PROFILE_UNFURLS=56]="PROFILE_UNFURLS",z[z.DISABLE_PERSISTING_CLIENT_USER_DOCUMENT_OVERLAY_UPDATES=57]="DISABLE_PERSISTING_CLIENT_USER_DOCUMENT_OVERLAY_UPDATES",z[z.MOBILE_NATIVE_UNFURLS=58]="MOBILE_NATIVE_UNFURLS",z[z.DEFAULT_UNFURLS_ON_PASTE=59]="DEFAULT_UNFURLS_ON_PASTE",z[z.SAVED_FOR_LATER=60]="SAVED_FOR_LATER",z[z.COMMENTS_REDESIGN=61]="COMMENTS_REDESIGN",z[z.SLACK_USER_CONTEXT_MENU=62]="SLACK_USER_CONTEXT_MENU",z[z.SLACK_OBJECT_CONTROL_CONTEXT_MENUS=63]="SLACK_OBJECT_CONTROL_CONTEXT_MENUS",z[z.JS_MODULE_PREFETCH=64]="JS_MODULE_PREFETCH",z[z.SLACK_SECTION_MENUS=65]="SLACK_SECTION_MENUS",z[z.PADDING_RESIZING=66]="PADDING_RESIZING",z[z.HOVERABLE_SECTION_MENU=68]="HOVERABLE_SECTION_MENU",z[z.SLACK_PRESENCE_UPDATES=69]="SLACK_PRESENCE_UPDATES",z[z.HIDE_INLINE_COMMENT_BUBBLES=70]="HIDE_INLINE_COMMENT_BUBBLES",z[z.HIDE_ADD_COMMENT_BUBBLE=71]="HIDE_ADD_COMMENT_BUBBLE",z[z.HYPERLINK_CONTEXT_MENU=72]="HYPERLINK_CONTEXT_MENU",z[z.UNIVERSAL_DRAG_PREVIEW_EMBEDDED_UI=73]="UNIVERSAL_DRAG_PREVIEW_EMBEDDED_UI",z[z.LOCK_SECTION_FOR_INLINE_ANNOTATION=74]="LOCK_SECTION_FOR_INLINE_ANNOTATION",z[z.EDITABLE_CONTROL=75]="EDITABLE_CONTROL",z[z.OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION=76]="OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION",z[z.MOVE_CARET_WHEN_OPENING_ANNOTATION=77]="MOVE_CARET_WHEN_OPENING_ANNOTATION",z[z.DISABLE_TITLE_UNFURL=79]="DISABLE_TITLE_UNFURL",z[z.HIDE_STUB_ANNOTATIONS=80]="HIDE_STUB_ANNOTATIONS",z[z.OBSERVE_CONTENT_OUTSIDE_SECTION_MUTATIONS=81]="OBSERVE_CONTENT_OUTSIDE_SECTION_MUTATIONS",z[z.USE_EXTERNAL_EDITOR_SAVE=82]="USE_EXTERNAL_EDITOR_SAVE",z[z.IMPROVED_WORD_WRAPPING=83]="IMPROVED_WORD_WRAPPING",z[z.HIGHLIGHT_TEXT_WITH_SECTION_LEVEL_COMMENTS=84]="HIGHLIGHT_TEXT_WITH_SECTION_LEVEL_COMMENTS",z[z.USE_NEW_FIND_MODAL=85]="USE_NEW_FIND_MODAL",z[z.DISPLAY_COMMENT_TOOLTIP=86]="DISPLAY_COMMENT_TOOLTIP",z[z.HIDE_SLACK_SECTION_HIGHLIGHT_FOR_OPEN_COMMENT=87]="HIDE_SLACK_SECTION_HIGHLIGHT_FOR_OPEN_COMMENT",z[z.SLACK_FILE_UNFURL_PLACEHOLDER=88]="SLACK_FILE_UNFURL_PLACEHOLDER",z[z.PRIORITIZE_OPENING_ANNOTATIONS_OVER_LINKS=89]="PRIORITIZE_OPENING_ANNOTATIONS_OVER_LINKS",z[z.CLEANUP_SENTINEL=90]="CLEANUP_SENTINEL",z[z.OPEN_COMMENTS_HIGHLIGHT_TEMPORARY=91]="OPEN_COMMENTS_HIGHLIGHT_TEMPORARY",z[z.UNFURL_PRIVATE_MESSAGES=92]="UNFURL_PRIVATE_MESSAGES",z[z.MOBILE_DISABLE_PRESENCE_MENU_POPOVER=93]="MOBILE_DISABLE_PRESENCE_MENU_POPOVER",z[z.CANVAS_GA_FAST_FOLLOW=95]="CANVAS_GA_FAST_FOLLOW",z[z.BRIDGE_REFACTORING=96]="BRIDGE_REFACTORING",z[z.SIMPLE_TABLES=97]="SIMPLE_TABLES",z[z.ALLOW_LARGE_SIZE_FILE_IMAGE_UPLOADS=98]="ALLOW_LARGE_SIZE_FILE_IMAGE_UPLOADS",z[z.ALLOW_SLACK_OBJECT_TITLE_UNFURL=99]="ALLOW_SLACK_OBJECT_TITLE_UNFURL",z[z.ALLOW_SLACK_WEB_OR_APP_LINKS_TITLE_UNFURL=100]="ALLOW_SLACK_WEB_OR_APP_LINKS_TITLE_UNFURL",z[z.CANVAS_GA_FAST_FOLLOW_2=101]="CANVAS_GA_FAST_FOLLOW_2",z[z.USE_LEFT_GUTTER_DISPLAY=102]="USE_LEFT_GUTTER_DISPLAY",z[z.USE_PRIVATE_MESSAGE_SPEEDBUMP_IN_CARD=103]="USE_PRIVATE_MESSAGE_SPEEDBUMP_IN_CARD",z[z.TITLE_BLOCK_KIT_FORMAT=104]="TITLE_BLOCK_KIT_FORMAT",z[z.USE_LIST_ITEM_MARKER_CONTAINER=105]="USE_LIST_ITEM_MARKER_CONTAINER",z[z.ALLOW_SLACK_TEMPLATE_PLACEHOLDER=106]="ALLOW_SLACK_TEMPLATE_PLACEHOLDER",z[z.USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS=107]="USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS",z[z.IMAGE_RESIZING=108]="IMAGE_RESIZING",z[z.PRIVATE_MESSAGE_SPEEDBUMP_MODAL=109]="PRIVATE_MESSAGE_SPEEDBUMP_MODAL",z[z.ALLOW_HEADER_IMAGE=110]="ALLOW_HEADER_IMAGE",z[z.PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS=111]="PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS",z[z.USE_NEW_SECTION_HIGHLIGHT=112]="USE_NEW_SECTION_HIGHLIGHT",z[z.MODEL_INTEGRITY_PROBE=113]="MODEL_INTEGRITY_PROBE",z[z.MODEL_INTEGRITY_CHANGES_CHECK=114]="MODEL_INTEGRITY_CHANGES_CHECK",z[z.MODEL_FSCK_PROBE=115]="MODEL_FSCK_PROBE",z[z.MODEL_UPDATES_PROBE=116]="MODEL_UPDATES_PROBE",z[z.SIMPLE_TABLES_FULL_BLEED=117]="SIMPLE_TABLES_FULL_BLEED",z[z.IMAGE_MIN_DIMENSIONS=118]="IMAGE_MIN_DIMENSIONS",z[z.SIMPLE_TABLES_MOBILE_DISPLAY_SCALE=119]="SIMPLE_TABLES_MOBILE_DISPLAY_SCALE",z[z.SLACK_TEXTY_CLIPBOARD=120]="SLACK_TEXTY_CLIPBOARD",z[z.ONLY_OPEN_ANNOTATION_WHEN_CARET_IS_INSIDE=121]="ONLY_OPEN_ANNOTATION_WHEN_CARET_IS_INSIDE",z[z.SINGLE_HOVERABLE_SECTION_MENU=122]="SINGLE_HOVERABLE_SECTION_MENU",z[z.SIMPLE_TABLES_FIT_TO_PAGE=123]="SIMPLE_TABLES_FIT_TO_PAGE",z[z.TRANSIENT_SECTION_HIGHLIGHTING=124]="TRANSIENT_SECTION_HIGHLIGHTING",z[z.OPTIMIZE_CONTROLS_RENDERING=125]="OPTIMIZE_CONTROLS_RENDERING",z[z.SIMPLE_TABLES_MOBILE_EDITING=126]="SIMPLE_TABLES_MOBILE_EDITING",z[z.OPTIMIZE_EMBEDS_RENDERING=127]="OPTIMIZE_EMBEDS_RENDERING",z[z.CONTENT_REACTION_BAR=128]="CONTENT_REACTION_BAR",z[z.GUTTER_REDESIGN=129]="GUTTER_REDESIGN",z[z.SLASH_SHORTCUT_COMMANDS=130]="SLASH_SHORTCUT_COMMANDS",z[z.USE_NATIVE_LINK_INSPECTOR=131]="USE_NATIVE_LINK_INSPECTOR",z[z.SECTION_UPDATE_PILL_ENABLED=132]="SECTION_UPDATE_PILL_ENABLED",z[z.SIMPLE_TABLES_CELL_MERGING=133]="SIMPLE_TABLES_CELL_MERGING",z[z.HIGHLIGHT_IN_STANDALONE_CANVASES=134]="HIGHLIGHT_IN_STANDALONE_CANVASES",z[z.BLUE_GREY_MENTIONS=135]="BLUE_GREY_MENTIONS",z[z.SLASH_SHORTCUT_COMMANDS_NUX=136]="SLASH_SHORTCUT_COMMANDS_NUX",z[z.OPTIMIZE_SECTION_STATUS=137]="OPTIMIZE_SECTION_STATUS",z[z.UNFURL_EMBED=138]="UNFURL_EMBED"}(tt||(tt={})),function(z){z[z.NONE=0]="NONE",z[z.SHIFT=1]="SHIFT",z[z.ALT=2]="ALT",z[z.META=4]="META",z[z.CTRL=8]="CTRL",z[z.MOD=16]="MOD"}(ht||(ht={})),function(z){z[z.CHANNEL=0]="CHANNEL",z[z.USER=1]="USER",z[z.EMOJI=2]="EMOJI",z[z.FILE=4]="FILE",z[z.UNFURL=5]="UNFURL",z[z.DOCUMENT=6]="DOCUMENT",z[z.LINK=7]="LINK",z[z.DOCUMENT_USER_ACCESS=9]="DOCUMENT_USER_ACCESS",z[z.PENDING_URL=10]="PENDING_URL",z[z.GENERIC=11]="GENERIC",z[z.TEMPLATE=12]="TEMPLATE",z[z.BACKGROUND=13]="BACKGROUND",z[z.WIDGET=14]="WIDGET"}(gt||(gt={})),function(z){z[z.NOT_FOUND=0]="NOT_FOUND"}(zt||(zt={})),function(z){z[z.CLOSE=0]="CLOSE",z[z.SELECT=1]="SELECT",z[z.MOVE_SELECTION_DOWN=2]="MOVE_SELECTION_DOWN",z[z.MOVE_SELECTION_UP=3]="MOVE_SELECTION_UP"}(cn||(cn={})),function(z){z.CANVAS="insert-canvas",z.AUDIO="insert-audio",z.VIDEO="insert-video",z.FILE="insert-file",z.WORKFLOW="insert-workflow",z.CODE="inline-code",z.CODEBLOCK="insert-codeblock",z.BLOCKQUOTE="insert-blockquote",z.PLAIN="insert-plain",z.H1="insert-h1",z.H2="insert-h2",z.H3="insert-h3",z.IMAGE="insert-image",z.TABLE="insert-table",z.CHECKLIST="insert-checklist",z.BULLET_LIST="insert-bullet-list",z.ORDERED_LIST="insert-ordered-list",z.DIVIDER="insert-divider",z.TWO_COLUMNS="layout-two-columns",z.THREE_COLUMNS="layout-three-columns"}(sn||(sn={})),function(z){z.DEFAULT_SOURCE="canvas-shortcut-command"}(Qt||(Qt={})),function(z){z[z.SLACK_OBJECT=0]="SLACK_OBJECT",z[z.LINK=1]="LINK",z[z.HEADER=2]="HEADER",z[z.TEXT=3]="TEXT",z[z.DIVIDER=4]="DIVIDER",z[z.HYPERLINK=5]="HYPERLINK",z[z.TITLE=6]="TITLE",z[z.TABLE=7]="TABLE",z[z.DRAG_OVERLAY=8]="DRAG_OVERLAY",z[z.COMMENT_METADATA=9]="COMMENT_METADATA"}(Vi||(Vi={})),function(z){z[z.DEFAULT=0]="DEFAULT",z[z.BUTTON=1]="BUTTON"}(Ci||(Ci={})),function(z){z[z.PREVIOUS=0]="PREVIOUS",z[z.NEXT=1]="NEXT"}(gr||(gr={})),function(z){z.ROW="row",z.COLUMN="column"}(tr||(tr={})),function(z){z.INSERT_BEFORE="insert_before",z.INSERT_AFTER="insert_after",z.DELETE="delete"}(Si||(Si={})),function(z){z.CLEAR_CONTENTS="clear_contents",z.MERGE_CELLS="merge_cells",z.UNMERGE_CELLS="unmerge_cells"}(Ir||(Ir={})),function(z){z.TOGGLE_HAS_HEADER_ROW="toggle_has_header_row",z.TOGGLE_HAS_HEADER_COLUMN="toggle_has_header_column",z.DISTRIBUTE_COLUMNS="distribute_columns",z.TOGGLE_FIT_TO_PAGE="toggle_fit_to_page"}(ai||(ai={})),function(z){z.NO_FOCUS_ON_CLICK="data-no-focus-section-on-click",z.NO_DRAG_ON_MOUSE_MOVE="data-no-drag-on-mouse-move",z.EMBEDDED_FILE_CARD_CLASSNAME="card-view__file_card",z.EMBEDDED_IMAGE_CARD_CLASSNAME="card-view__image_card"}(lr||(lr={})),function(z){z[z.DISMISS_POPOVER=0]="DISMISS_POPOVER",z[z.REMOVE_ASSOCIATED_CONTENT=1]="REMOVE_ASSOCIATED_CONTENT",z[z.COPY_OBJECT=2]="COPY_OBJECT",z[z.CREATE_OR_VIEW_COMMENT=3]="CREATE_OR_VIEW_COMMENT",z[z.REPLACE_FILE=4]="REPLACE_FILE",z[z.SWITCH_UNFURL_TYPE=5]="SWITCH_UNFURL_TYPE",z[z.PREVENT_POPOVER_DISMISS=6]="PREVENT_POPOVER_DISMISS",z[z.SYNC_METADATA=7]="SYNC_METADATA",z[z.COPY_SECTION_LINK=8]="COPY_SECTION_LINK",z[z.SET_BLOCK_STYLE=9]="SET_BLOCK_STYLE",z[z.ADD_COLUMN=10]="ADD_COLUMN",z[z.MOVE_LINE=11]="MOVE_LINE",z[z.TOGGLE_COLLAPSE=12]="TOGGLE_COLLAPSE",z[z.CHECK_ALL=13]="CHECK_ALL",z[z.UNCHECK_ALL=14]="UNCHECK_ALL",z[z.REMOVE_CHECKED=15]="REMOVE_CHECKED",z[z.MOVE_CHECKED_TO_BOTTOM=16]="MOVE_CHECKED_TO_BOTTOM",z[z.SORT_ALPHA=17]="SORT_ALPHA",z[z.TAKE_OVER_EDITING=18]="TAKE_OVER_EDITING",z[z.ADD_TEXT_BELOW=19]="ADD_TEXT_BELOW",z[z.UPDATE_INLINE_ENTITY_DISPLAY_INFO=20]="UPDATE_INLINE_ENTITY_DISPLAY_INFO",z[z.ON_LINK_INSPECTOR_INPUT_CHANGE=21]="ON_LINK_INSPECTOR_INPUT_CHANGE",z[z.FOCUS_ASSOCIATED_SECTION=22]="FOCUS_ASSOCIATED_SECTION",z[z.UNFURL_URL=23]="UNFURL_URL",z[z.MODIFY_TABLE=24]="MODIFY_TABLE",z[z.RESUME_SNAPSHOTS=25]="RESUME_SNAPSHOTS",z[z.OPEN_POPOVER=26]="OPEN_POPOVER",z[z.CANCEL_HEADER_IMAGE=27]="CANCEL_HEADER_IMAGE",z[z.PREVIEW_HEADER_IMAGE=28]="PREVIEW_HEADER_IMAGE",z[z.SAVE_HEADER_IMAGE=29]="SAVE_HEADER_IMAGE"}(ti||(ti={})),function(z){z.MERGE="merge",z.UNMERGE="unmerge"}(wr||(wr={})),function(z){z[z.SLACK_MESSAGE=0]="SLACK_MESSAGE",z[z.SLACK_FILE=1]="SLACK_FILE",z[z.SLACK_IMAGE_FILE=8]="SLACK_IMAGE_FILE",z[z.SLACK_DOCUMENT=2]="SLACK_DOCUMENT",z[z.SLACK_DOCUMENT_SECTION=3]="SLACK_DOCUMENT_SECTION",z[z.SLACK_PUBLIC_LINK=4]="SLACK_PUBLIC_LINK",z[z.SLACK_USER=5]="SLACK_USER",z[z.SLACK_CHANNEL=6]="SLACK_CHANNEL",z[z.SLACK_WORKFLOW=7]="SLACK_WORKFLOW",z[z.SLACK_WIDGET=9]="SLACK_WIDGET",z[z.SLACK_EMBED=10]="SLACK_EMBED"}(Qi||(Qi={})),function(z){z[z.CARD=0]="CARD",z[z.INLINE=1]="INLINE",z[z.LINK=2]="LINK",z[z.WIDGET=3]="WIDGET"}(Ur||(Ur={})),function(z){z.IMAGE="image",z.HORIZONTAL_RULE="horizontal-rule",z.CHECKLIST="checklist",z.NUMBERED_LIST="numbered-list",z.BULLETED_LIST="bullet-list",z.TABLE="table",z.CODE="code",z.TEXT_H1_STYLE="large-heading",z.TEXT_H2_STYLE="medium-heading",z.TEXT_H3_STYLE="small-heading",z.TEXT_PLAIN_STYLE="plain",z.BLOCKQUOTE="blockquote"}(Ar||(Ar={})),function(z){z[z.DOCUMENT_SAVING=1]="DOCUMENT_SAVING",z[z.IO=2]="IO",z[z.LISTENER=3]="LISTENER",z[z.ELEMENT=4]="ELEMENT"}(Zi||(Zi={})),function(z){z[z.NONE=0]="NONE",z[z.DOCUMENT_FAILED_TO_LOAD=1]="DOCUMENT_FAILED_TO_LOAD",z[z.DOCUMENT_SAVE_FAILED=2]="DOCUMENT_SAVE_FAILED",z[z.DOCUMENT_SAVE_FAILED_CONNECTION_OFFLINE=3]="DOCUMENT_SAVE_FAILED_CONNECTION_OFFLINE",z[z.DOCUMENT_SAVE_FAILED_SERVER_NOT_REACHABLE=4]="DOCUMENT_SAVE_FAILED_SERVER_NOT_REACHABLE",z[z.DOCUMENT_TOO_LARGE_TO_SAVE=5]="DOCUMENT_TOO_LARGE_TO_SAVE",z[z.SESSION_EXPIRED=6]="SESSION_EXPIRED",z[z.THREAD_CLOSED=7]="THREAD_CLOSED",z[z.DOCUMENT_SAVE_FAILED_TO_COMPLETE=8]="DOCUMENT_SAVE_FAILED_TO_COMPLETE",z[z.DOCUMENT_SAVE_FAILED_DUE_TO_PREVIOUS_FAILURES=9]="DOCUMENT_SAVE_FAILED_DUE_TO_PREVIOUS_FAILURES"}(io||(io={})),function(z){z[z.WRITE=0]="WRITE",z[z.READ=1]="READ",z[z.NONE=2]="NONE"}(yt||(yt={})),function(z){z.DOWNLOAD="download",z.EDIT_FILE="edit-file",z.OPEN_IN_NEW_WINDOW="open-in-new-window",z.PREVIEW_FILE="preview-file",z.VIEW_FULL_SCREEN="view-full-screen",z.SHARE="share"}(ot||(ot={})),function(z){z[z.HOVERCARD=0]="HOVERCARD",z[z.CARD=1]="CARD",z[z.HEADER=2]="HEADER",z[z.CONTROL_CONTEXT_MENU=3]="CONTROL_CONTEXT_MENU",z[z.SECTION_MENU=4]="SECTION_MENU",z[z.HYPERLINK_CONTEXT_MENU=5]="HYPERLINK_CONTEXT_MENU",z[z.HYPERLINK_INSPECTOR_TOOLBAR=6]="HYPERLINK_INSPECTOR_TOOLBAR",z[z.CONTROL_OBJECT_OBSERVER=7]="CONTROL_OBJECT_OBSERVER",z[z.TABLE_SELECTION_MENU=8]="TABLE_SELECTION_MENU",z[z.FILE_UPLOAD_BLOCKED_OVERLAY=9]="FILE_UPLOAD_BLOCKED_OVERLAY",z[z.EPHEMERAL_MESSAGE_MODAL_TRIGGER=10]="EPHEMERAL_MESSAGE_MODAL_TRIGGER",z[z.VARIABLE_EDIT_POPOVER=11]="VARIABLE_EDIT_POPOVER",z[z.CONTENT_REACTION_BAR=12]="CONTENT_REACTION_BAR",z[z.GUTTER_REACTION_ICON=13]="GUTTER_REACTION_ICON",z[z.HEADER_IMAGE_PICKER=14]="HEADER_IMAGE_PICKER"}(ln||(ln={})),function(z){z.NONE="none",z.THREAD_ROOT="thread_root",z.THREAD_COMPOSER="thread_composer"}(Gt||(Gt={})),function(z){z.TEXT="text",z.USER="user",z.CHANNEL="channel",z.DATE="date"}(In||(In={})),function(z){z.INSERT="insert",z.EDIT="edit",z.REMOVE="remove",z.SHOW_CREATION_POPOVER="show_creation_popover",z.HIGHLIGHT="highlight"}(Jn||(Jn={})),er("Collab",qt),er("dumpCollabDebugReport",function(){vn.forEach((z,ce)=>{ce.getInitLog().then(Me=>{console.log(`Collab instance ${ce.id} debug report:`,ce.getBridgeDebugReport(!1),Me)})})}),window.JS_CLIENT_HASH="sFqT0JdGKmeHYiVvEVVROg",window.QUIP_VERSION_NAME="quipbuild_2024_01_23T23_36_c10e7aa"}.call(this,h("yLpj"))},LNXf:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(e,t,n,r){function c(p){return p instanceof n?p:new n(function(m){m(p)})}return o(c,"adopt"),new(n||(n=Promise))(function(p,m){function d(w){try{E(r.next(w))}catch(k){m(k)}}o(d,"fulfilled");function y(w){try{E(r.throw(w))}catch(k){m(k)}}o(y,"rejected");function E(w){w.done?p(w.value):c(w.value).then(d,y)}o(E,"step"),E((r=r.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("hGh8"),g=f(h("hEYi")),a=h("f2XL"),s=f(h("aVV0"));let i=o(class extends s.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new u.MeetingSessionStatus(u.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((t,n)=>{let r=o(class{cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new u.MeetingSessionStatus(u.MeetingSessionStatusCode.SignalingRequestFailed)),t()}handleSignalingClientEvent(m){m.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new u.MeetingSessionStatus(u.MeetingSessionStatusCode.SignalingRequestFailed)),t()),m.type===g.default.ReceivedSignalFrame&&m.message.type===a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(u.MeetingSessionStatus.fromSignalFrame(m.message)),t())}constructor(m,d,y){this.signalingClient=m,this.completionCallback=d,this.logger=y}},"Interceptor");const c=new r(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=c,this.context.signalingClient.registerObserver(c)})}constructor(t,n,r){super(t.logger),this.context=t,this.credentials=n,this.completionCallback=r,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}},"PromoteToPrimaryMeetingTask");l.default=i},LUct:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("H7ma")),u=S(h("OND3")),g=h("KyYT"),a=S(h("XJrD")),s=S(h("GxrV"));let i=o(class Cr{updateConnectionMetric(t){let{uplinkKbps:n=0}=t;if(isNaN(n))return;this.startTimeMs===0&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<Cr.startupDurationMs?this.lastUplinkBandwidthKbps=Cr.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=n,this.logger.debug(()=>`simulcast: uplink policy update metrics ${this.lastUplinkBandwidthKbps}`);let r=Cr.holdDownDurationMs;this.currentActiveStreams===3?r=Cr.holdDownDurationMs*2:(this.currentActiveStreams===2&&n<=this.midDisabledRate||this.currentActiveStreams===1&&n<=this.hiDisabledRate)&&(r=Cr.holdDownDurationMs/2),!(Date.now()<this.lastUpdatedMs+r)&&(this.newQualityMap=this.calculateEncodingParameters(!1))}calculateEncodingParameters(t){const n=[new s.default,new s.default,new s.default];let r=0,c=0;if(this.currentActiveStreams===0?(r=this.lastUplinkBandwidthKbps+1,c=0):this.currentActiveStreams===1?(r=this.enableFhdVideo?4e3:2400,c=this.hiDisabledRate):this.currentActiveStreams===2?(r=this.enableFhdVideo?1600:1e3,c=this.midDisabledRate):(r=this.enableFhdVideo?500:300,c=0),t||this.lastUplinkBandwidthKbps>=r||this.lastUplinkBandwidthKbps<=c){this.shouldDisableSimulcast?(this.newActiveStreams=0,n[0].maxBitrateKbps=0,n[1].maxBitrateKbps=this.hiTargetBitrateKbps,n[2].maxBitrateKbps=0):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=this.hiDisabledRate?(this.newActiveStreams=1,n[0].maxBitrateKbps=this.lowTargetBitrateKbps,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=this.hiTargetBitrateKbps):this.lastUplinkBandwidthKbps>=this.midDisabledRate?(this.newActiveStreams=2,n[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=this.midTargetBitrateKbps*.7?this.lowTargetBitrateKbps*2/3:this.lowTargetBitrateKbps/2,n[1].maxBitrateKbps=this.numSenders<=6?this.midTargetBitrateKbps:this.midTargetBitrateKbps*.6,n[2].maxBitrateKbps=0):(this.newActiveStreams=3,n[0].maxBitrateKbps=this.lowTargetBitrateKbps,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=0);const p=n.map((m,d,y)=>m.maxBitrateKbps);this.newQualityMap=this.fillEncodingParamWithBitrates(p),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters bw:${this.lastUplinkBandwidthKbps} numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`)}return this.newQualityMap}chooseMediaTrackConstraints(){return{width:{ideal:this.enableFhdVideo?1920:1280},height:{ideal:this.enableFhdVideo?1080:768},frameRate:{ideal:15}}}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(t){const n=t.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,r=n!==this.numSenders,c=t.numberOfParticipants(),p=c>=0&&c<=2,m=this.shouldDisableSimulcast!==p;this.numSenders=n,this.shouldDisableSimulcast=p,this.optimalParameters=new a.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=t,this.newQualityMap=this.calculateEncodingParameters(r||m)}wantsResubscribe(){let t=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(let n=0;n<this.nextLocalDescriptions.length;n++){const r=this.nextLocalDescriptions[n].streamId;if(r!==0&&r){const c=this.currLocalDescriptions.findIndex(p=>p.streamId===r);c!==-1&&this.nextLocalDescriptions[n].disabledByWebRTC!==this.currLocalDescriptions[c].disabledByWebRTC&&(t=!0)}}return t&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,t}compareEncodingParameter(t,n){return JSON.stringify(t)===JSON.stringify(n)}encodingParametersEqual(){let t=!1;for(const n of u.default.NAME_ARR_ASCENDING)if(t=t||!this.compareEncodingParameter(this.newQualityMap.get(n),this.currentQualityMap.get(n)),t)break;return!t}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return this.enableFhdVideo?1920:1280}captureHeight(){return this.enableFhdVideo?1080:768}captureFrameRate(){return 15}maxBandwidthKbps(){return this.enableFhdVideo?2500:1400}setIdealMaxBandwidthKbps(t){}setHasBandwidthPriority(t){}setHighResolutionFeatureEnabled(t){this.enableFhdVideo=t,this.hiDisabledRate=t?Cr.kHiDisabledRateFhd:Cr.kHiDisabledRateHd,this.midDisabledRate=t?Cr.kMidDisabledRateFhd:Cr.kMidDisabledRateHd,this.hiTargetBitrateKbps=t?Cr.kHiTargetBitrateKbpsFhd:Cr.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=t?Cr.kMidTargetBitrateKbpsFhd:Cr.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=t?Cr.kLowTargetBitrateKbpsFhd:Cr.kLowTargetBitrateKbpsHd}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!0}fillEncodingParamWithBitrates(t){const n=new Map,r=1e3,c=u.default.NAME_ARR_ASCENDING,p=t;let m=this.shouldDisableSimulcast?1:4;for(let d=0;d<c.length;d++){const y=c[d];n.set(y,{rid:y,active:p[d]>0,scaleResolutionDownBy:Math.max(m,1),maxBitrate:p[d]*r}),m=m/2}return n}getQualityMapString(t){let n="";const r=this.videoIndex.localStreamDescriptions();return r.length===3&&t.forEach(c=>{let p=!1;c.rid==="low"?p=r[0].disabledByWebRTC:c.rid==="mid"?p=r[1].disabledByWebRTC:p=r[2].disabledByWebRTC,n+=`{ rid: ${c.rid} active:${c.active} disabledByWebRTC: ${p} maxBitrate:${c.maxBitrate}}`}),n}getEncodingSimulcastLayer(t){switch(t){case 0:return f.default.High;case 1:return f.default.LowAndHigh;case 2:return f.default.LowAndMedium;case 3:return f.default.Low}}publishEncodingSimulcastLayer(){const t=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(n=>{g.Maybe.of(n.encodingSimulcastLayersDidChange).map(r=>r.bind(n)(t))})}addObserver(t){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const n of this.observerQueue)t(n)}constructor(t,n){this.selfAttendeeId=t,this.logger=n,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=Cr.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.hiDisabledRate=Cr.kHiDisabledRateHd,this.midDisabledRate=Cr.kMidDisabledRateHd,this.hiTargetBitrateKbps=Cr.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=Cr.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=Cr.kLowTargetBitrateKbpsHd,this.enableFhdVideo=!1,this.optimalParameters=new a.default(0,0,0,0,!0),this.parametersInEffect=new a.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=Cr.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps]),this.newQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps])}},"DefaultSimulcastUplinkPolicy");l.default=i,i.defaultUplinkBandwidthKbps=1200,i.startupDurationMs=6e3,i.holdDownDurationMs=4e3,i.defaultMaxFrameRate=15,i.kHiDisabledRateHd=700,i.kMidDisabledRateHd=240,i.kHiDisabledRateFhd=1200,i.kMidDisabledRateFhd=400,i.kHiTargetBitrateKbpsHd=1200,i.kMidTargetBitrateKbpsHd=600,i.kLowTargetBitrateKbpsHd=300,i.kHiTargetBitrateKbpsFhd=2e3,i.kMidTargetBitrateKbpsFhd=1e3,i.kLowTargetBitrateKbpsFhd=500},LVIV:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0})},LhvI:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("aVV0"));let g=o(class extends u.default{run(){var s,i;return S(this,void 0,void 0,function*(){if(!(!((i=(s=this.context.meetingSessionConfiguration)===null||s===void 0?void 0:s.urls)===null||i===void 0)&&i.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let e;try{e=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}e?this.context.activeAudioInput=e:this.context.logger.warn("an audio input is not available")})}constructor(s){super(s.logger),this.context=s,this.taskName="ReceiveAudioInputTask"}},"ReceiveAudioInputTask");l.default=g},LlQb:function(j,l,h){"use strict";h.d(l,"e",function(){return f}),h.d(l,"b",function(){return u}),h.d(l,"c",function(){return g}),h.d(l,"a",function(){return a}),h.d(l,"d",function(){return s});const S={Public:"PUBLIC",Admins:"ADMINS",NamedEntities:"NAMED_ENTITIES"},f={Connected:"CONNECTED",Synced:"SYNCED",Disconnected:"DISCONNECTED",Deleted:"DELETED",Problem:"PROBLEM"},u={Integrations:"INTEGRATIONS",SalesElevate:"SALES_ELEVATE"},g={Public:"PUBLIC",Admins:"ADMINS",NamedEntities:"NAMED_ENTITIES"},a={Integrations:"INTEGRATIONS",SalesElevate:"SALES_ELEVATE"},s={Connected:"CONNECTED",Synced:"SYNCED",Disconnected:"DISCONNECTED",Deleted:"DELETED",Problem:"PROBLEM"}},LmyK:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClientMetricReportDirection=void 0;var S;(function(f){f[f.UPSTREAM=0]="UPSTREAM",f[f.DOWNSTREAM=1]="DOWNSTREAM"})(S=l.ClientMetricReportDirection||(l.ClientMetricReportDirection={})),l.default=S},Lrln:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Sa54")),g=f(h("RUbL"));let a=o(class Wf{get mediaStream(){return this._mediaStream}set mediaStream(i){this._mediaStream=i}acquireAudioInputStream(){return S(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),g.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return S(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(i){return S(this,void 0,void 0,function*(){return i&&i.video&&i.video.mandatory&&i.video.mandatory.chromeMediaSource&&i.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(i):navigator.mediaDevices.getDisplayMedia(i)})}acquireScreenCaptureDisplayInputStream(i,e){return S(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(i,e))})}screenCaptureDisplayMediaConstraints(i,e){return{audio:!!(!i&&new u.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!i&&{frameRate:{max:e||Wf.defaultFrameRate}}),i&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:e||Wf.defaultFrameRate}})}}toggleMediaStream(i){let e=!1;if(this.mediaStream)for(let t=0;t<this.mediaStream.getTracks().length;t++)this.mediaStream.getTracks()[t].enabled!==i&&(this.mediaStream.getTracks()[t].enabled=i,e=!0);return e}cleanup(){if(this.mediaStream)for(let i=0;i<this.mediaStream.getTracks().length;i++)this.mediaStream.getTracks()[i].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(i){}removeMediaStreamBrokerObserver(i){}constructor(i){this.logger=i}},"ContentShareMediaStreamBroker");l.default=a,a.defaultFrameRate=15},Lspx:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TargetDisplaySize=void 0;var S;(function(f){f[f.Low=0]="Low",f[f.Medium=1]="Medium",f[f.High=2]="High",f[f.Maximum=3]="Maximum"})(S=l.TargetDisplaySize||(l.TargetDisplaySize={})),l.default=S},LuEC:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("ghxq"));let u=o(class extends f.default{isSendingAudioUnhealthy(){const a=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),s=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return a&&s}health(){if(this.isSendingAudioUnhealthy()){const a=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!a?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}constructor(a,s,i){super(s,i,"Sending Audio Health"),this.logger=a,this.sendingAudioFailureSamplesToConsider=s.sendingAudioFailureSamplesToConsider>0?s.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=s.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=s.maximumTimesToWarn,this.coolDownTimeMs=s.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}},"SendingAudioFailureConnectionHealthPolicy");l.default=u},Lxy7:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.FXLIB_PATH=l.WORKER_PATH=l.CDN_BASE_PATH=l.RESOURCE_CONSTRAINTS=l.SEGMENTATION_MODEL=l.DEFAULT_STREAM_PARAMETERS=l.WORKER_MSG=void 0,l.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},l.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},l.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},l.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},l.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const S="/ml_media_fx/otherassets";l.WORKER_PATH=`${S}/worker.js`,l.FXLIB_PATH=`${S}/fxlib.js`},M1uR:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckNetworkUDPConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",f[f.ConnectionFailed=2]="ConnectionFailed",f[f.ICENegotiationFailed=3]="ICENegotiationFailed"})(S=l.CheckNetworkUDPConnectivityFeedback||(l.CheckNetworkUDPConnectivityFeedback={})),l.default=S},M2az:function(j){j.exports=JSON.parse(`{"name":"@aws-sdk/client-chime-sdk-messaging","description":"AWS SDK for JavaScript Chime Sdk Messaging Client for Node.js, Browser and React Native","version":"3.341.0","scripts":{"build":"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo chime-sdk-messaging"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.341.0","@aws-sdk/config-resolver":"3.341.0","@aws-sdk/credential-provider-node":"3.341.0","@aws-sdk/fetch-http-handler":"3.341.0","@aws-sdk/hash-node":"3.341.0","@aws-sdk/invalid-dependency":"3.341.0","@aws-sdk/middleware-content-length":"3.341.0","@aws-sdk/middleware-endpoint":"3.341.0","@aws-sdk/middleware-host-header":"3.341.0","@aws-sdk/middleware-logger":"3.341.0","@aws-sdk/middleware-recursion-detection":"3.341.0","@aws-sdk/middleware-retry":"3.341.0","@aws-sdk/middleware-serde":"3.341.0","@aws-sdk/middleware-signing":"3.341.0","@aws-sdk/middleware-stack":"3.341.0","@aws-sdk/middleware-user-agent":"3.341.0","@aws-sdk/node-config-provider":"3.341.0","@aws-sdk/node-http-handler":"3.341.0","@aws-sdk/smithy-client":"3.341.0","@aws-sdk/types":"3.341.0","@aws-sdk/url-parser":"3.341.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.341.0","@aws-sdk/util-defaults-mode-node":"3.341.0","@aws-sdk/util-endpoints":"3.341.0","@aws-sdk/util-retry":"3.341.0","@aws-sdk/util-user-agent-browser":"3.341.0","@aws-sdk/util-user-agent-node":"3.341.0","@aws-sdk/util-utf8":"3.310.0","@smithy/protocol-http":"^1.0.1","@smithy/types":"^1.0.0","tslib":"^2.5.0","uuid":"^8.3.2"},"devDependencies":{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31","@types/uuid":"^8.3.0","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typedoc":"0.23.23","typescript":"~4.9.5"},"engines":{"node":">=14.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-chime-sdk-messaging","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-chime-sdk-messaging"}}`)},M39V:function(j,l,h){(function(S,f){j.exports=f()})(this,function(){return function(S){var f={};function u(g){if(f[g])return f[g].exports;var a=f[g]={i:g,l:!1,exports:{}};return S[g].call(a.exports,a,a.exports,u),a.l=!0,a.exports}return o(u,"r"),u.m=S,u.c=f,u.d=function(g,a,s){u.o(g,a)||Object.defineProperty(g,a,{enumerable:!0,get:s})},u.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},u.t=function(g,a){if(1&a&&(g=u(g)),8&a||4&a&&typeof g=="object"&&g&&g.__esModule)return g;var s=Object.create(null);if(u.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:g}),2&a&&typeof g!="string")for(var i in g)u.d(s,i,function(e){return g[e]}.bind(null,i));return s},u.n=function(g){var a=g&&g.__esModule?function(){return g.default}:function(){return g};return u.d(a,"a",a),a},u.o=function(g,a){return Object.prototype.hasOwnProperty.call(g,a)},u.p="",u(u.s=90)}({17:function(S,f,u){"use strict";f.__esModule=!0,f.default=void 0;var g=u(18),a=function(){function s(){}return o(s,"e"),s.getFirstMatch=function(i,e){var t=e.match(i);return t&&t.length>0&&t[1]||""},s.getSecondMatch=function(i,e){var t=e.match(i);return t&&t.length>1&&t[2]||""},s.matchAndReturnConst=function(i,e,t){if(i.test(e))return t},s.getWindowsVersionName=function(i){switch(i){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},s.getMacOSVersionName=function(i){var e=i.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),e[0]===10)switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},s.getAndroidVersionName=function(i){var e=i.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),!(e[0]===1&&e[1]<5))return e[0]===1&&e[1]<6?"Cupcake":e[0]===1&&e[1]>=6?"Donut":e[0]===2&&e[1]<2?"Eclair":e[0]===2&&e[1]===2?"Froyo":e[0]===2&&e[1]>2?"Gingerbread":e[0]===3?"Honeycomb":e[0]===4&&e[1]<1?"Ice Cream Sandwich":e[0]===4&&e[1]<4?"Jelly Bean":e[0]===4&&e[1]>=4?"KitKat":e[0]===5?"Lollipop":e[0]===6?"Marshmallow":e[0]===7?"Nougat":e[0]===8?"Oreo":e[0]===9?"Pie":void 0},s.getVersionPrecision=function(i){return i.split(".").length},s.compareVersions=function(i,e,t){t===void 0&&(t=!1);var n=s.getVersionPrecision(i),r=s.getVersionPrecision(e),c=Math.max(n,r),p=0,m=s.map([i,e],function(d){var y=c-s.getVersionPrecision(d),E=d+new Array(y+1).join(".0");return s.map(E.split("."),function(w){return new Array(20-w.length).join("0")+w}).reverse()});for(t&&(p=c-Math.min(n,r)),c-=1;c>=p;){if(m[0][c]>m[1][c])return 1;if(m[0][c]===m[1][c]){if(c===p)return 0;c-=1}else if(m[0][c]<m[1][c])return-1}},s.map=function(i,e){var t,n=[];if(Array.prototype.map)return Array.prototype.map.call(i,e);for(t=0;t<i.length;t+=1)n.push(e(i[t]));return n},s.find=function(i,e){var t,n;if(Array.prototype.find)return Array.prototype.find.call(i,e);for(t=0,n=i.length;t<n;t+=1){var r=i[t];if(e(r,t))return r}},s.assign=function(i){for(var e,t,n=i,r=arguments.length,c=new Array(r>1?r-1:0),p=1;p<r;p++)c[p-1]=arguments[p];if(Object.assign)return Object.assign.apply(Object,[i].concat(c));var m=o(function(){var d=c[e];typeof d=="object"&&d!==null&&Object.keys(d).forEach(function(y){n[y]=d[y]})},"o");for(e=0,t=c.length;e<t;e+=1)m();return i},s.getBrowserAlias=function(i){return g.BROWSER_ALIASES_MAP[i]},s.getBrowserTypeByAlias=function(i){return g.BROWSER_MAP[i]||""},s}();f.default=a,S.exports=f.default},18:function(S,f,u){"use strict";f.__esModule=!0,f.ENGINE_MAP=f.OS_MAP=f.PLATFORMS_MAP=f.BROWSER_MAP=f.BROWSER_ALIASES_MAP=void 0,f.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},f.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},f.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},f.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},f.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(S,f,u){"use strict";f.__esModule=!0,f.default=void 0;var g,a=(g=u(91))&&g.__esModule?g:{default:g},s=u(18);function i(t,n){for(var r=0;r<n.length;r++){var c=n[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}o(i,"a");var e=function(){function t(){}o(t,"e");var n,r,c;return t.getParser=function(p,m){if(m===void 0&&(m=!1),typeof p!="string")throw new Error("UserAgent should be a string");return new a.default(p,m)},t.parse=function(p){return new a.default(p).getResult()},n=t,c=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&i(n.prototype,r),c&&i(n,c),t}();f.default=e,S.exports=f.default},91:function(S,f,u){"use strict";f.__esModule=!0,f.default=void 0;var g=t(u(92)),a=t(u(93)),s=t(u(94)),i=t(u(95)),e=t(u(17));function t(r){return r&&r.__esModule?r:{default:r}}o(t,"u");var n=function(){function r(p,m){if(m===void 0&&(m=!1),p==null||p==="")throw new Error("UserAgent parameter can't be empty");this._ua=p,this.parsedResult={},m!==!0&&this.parse()}o(r,"e");var c=r.prototype;return c.getUA=function(){return this._ua},c.test=function(p){return p.test(this._ua)},c.parseBrowser=function(){var p=this;this.parsedResult.browser={};var m=e.default.find(g.default,function(d){if(typeof d.test=="function")return d.test(p);if(d.test instanceof Array)return d.test.some(function(y){return p.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.browser=m.describe(this.getUA())),this.parsedResult.browser},c.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},c.getBrowserName=function(p){return p?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},c.getBrowserVersion=function(){return this.getBrowser().version},c.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},c.parseOS=function(){var p=this;this.parsedResult.os={};var m=e.default.find(a.default,function(d){if(typeof d.test=="function")return d.test(p);if(d.test instanceof Array)return d.test.some(function(y){return p.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.os=m.describe(this.getUA())),this.parsedResult.os},c.getOSName=function(p){var m=this.getOS().name;return p?String(m).toLowerCase()||"":m||""},c.getOSVersion=function(){return this.getOS().version},c.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},c.getPlatformType=function(p){p===void 0&&(p=!1);var m=this.getPlatform().type;return p?String(m).toLowerCase()||"":m||""},c.parsePlatform=function(){var p=this;this.parsedResult.platform={};var m=e.default.find(s.default,function(d){if(typeof d.test=="function")return d.test(p);if(d.test instanceof Array)return d.test.some(function(y){return p.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.platform=m.describe(this.getUA())),this.parsedResult.platform},c.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},c.getEngineName=function(p){return p?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},c.parseEngine=function(){var p=this;this.parsedResult.engine={};var m=e.default.find(i.default,function(d){if(typeof d.test=="function")return d.test(p);if(d.test instanceof Array)return d.test.some(function(y){return p.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.engine=m.describe(this.getUA())),this.parsedResult.engine},c.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},c.getResult=function(){return e.default.assign({},this.parsedResult)},c.satisfies=function(p){var m=this,d={},y=0,E={},w=0;if(Object.keys(p).forEach(function(R){var D=p[R];typeof D=="string"?(E[R]=D,w+=1):typeof D=="object"&&(d[R]=D,y+=1)}),y>0){var k=Object.keys(d),V=e.default.find(k,function(R){return m.isOS(R)});if(V){var N=this.satisfies(d[V]);if(N!==void 0)return N}var F=e.default.find(k,function(R){return m.isPlatform(R)});if(F){var P=this.satisfies(d[F]);if(P!==void 0)return P}}if(w>0){var B=Object.keys(E),O=e.default.find(B,function(R){return m.isBrowser(R,!0)});if(O!==void 0)return this.compareVersion(E[O])}},c.isBrowser=function(p,m){m===void 0&&(m=!1);var d=this.getBrowserName().toLowerCase(),y=p.toLowerCase(),E=e.default.getBrowserTypeByAlias(y);return m&&E&&(y=E.toLowerCase()),y===d},c.compareVersion=function(p){var m=[0],d=p,y=!1,E=this.getBrowserVersion();if(typeof E=="string")return p[0]===">"||p[0]==="<"?(d=p.substr(1),p[1]==="="?(y=!0,d=p.substr(2)):m=[],p[0]===">"?m.push(1):m.push(-1)):p[0]==="="?d=p.substr(1):p[0]==="~"&&(y=!0,d=p.substr(1)),m.indexOf(e.default.compareVersions(E,d,y))>-1},c.isOS=function(p){return this.getOSName(!0)===String(p).toLowerCase()},c.isPlatform=function(p){return this.getPlatformType(!0)===String(p).toLowerCase()},c.isEngine=function(p){return this.getEngineName(!0)===String(p).toLowerCase()},c.is=function(p,m){return m===void 0&&(m=!1),this.isBrowser(p,m)||this.isOS(p)||this.isPlatform(p)},c.some=function(p){var m=this;return p===void 0&&(p=[]),p.some(function(d){return m.is(d)})},r}();f.default=n,S.exports=f.default},92:function(S,f,u){"use strict";f.__esModule=!0,f.default=void 0;var g,a=(g=u(17))&&g.__esModule?g:{default:g},s=/version\/(\d+(\.?_?\d+)+)/i,i=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=a.default.getFirstMatch(s,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=a.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];f.default=i,S.exports=f.default},93:function(S,f,u){"use strict";f.__esModule=!0,f.default=void 0;var g,a=(g=u(17))&&g.__esModule?g:{default:g},s=u(18),i=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=a.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:s.OS_MAP.iOS},n=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=a.default.getMacOSVersionName(t),r={name:s.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=a.default.getAndroidVersionName(t),r={name:s.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:s.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];f.default=i,S.exports=f.default},94:function(S,f,u){"use strict";f.__esModule=!0,f.default=void 0;var g,a=(g=u(17))&&g.__esModule?g:{default:g},s=u(18),i=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return e.getBrowserName(!0)==="blackberry"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return e.getBrowserName(!0)==="bada"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return e.getBrowserName()==="windows phone"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return e.getOSName(!0)==="android"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return e.getOSName(!0)==="macos"},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return e.getOSName(!0)==="windows"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return e.getOSName(!0)==="linux"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return e.getOSName(!0)==="playstation 4"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return e.getOSName(!0)==="roku"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];f.default=i,S.exports=f.default},95:function(S,f,u){"use strict";f.__esModule=!0,f.default=void 0;var g,a=(g=u(17))&&g.__esModule?g:{default:g},s=u(18),i=[{test:function(e){return e.getBrowserName(!0)==="microsoft edge"},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},n=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},n=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},n=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},n=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];f.default=i,S.exports=f.default}})})},M5uj:function(j,l){function h(S,f){(f==null||f>S.length)&&(f=S.length);for(var u=0,g=new Array(f);u<f;u++)g[u]=S[u];return g}o(h,"_arrayLikeToArray"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},M9Lm:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("hlxM"),u=h("nSNv");let g=o(class extends u.VoiceFocusAudioWorkletNode{enable(){return S(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return S(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(s){var i;const e=s.data;switch(e.message){case"ready":this.port.postMessage({message:"ready",shared:e.shared},e.shared?Object.values(e.shared):[]);break;case"data":if(!e.buffer)return;this.port.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(e);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"processing":this.port.postMessage(e);break;default:return}}onProcessorMessage(s){var i;const e=s.data;switch(e.message){case"data":if(!e.buffer)return;this.worker.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(e);break;default:return}}constructor(s,i){super(s,i.processor,i),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:e,audioBufferURL:t,worker:n,fetchBehavior:r,delegate:c}=i;this.delegate=c,this.worker=n,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:p,agc:m,supportFarendStream:d}=i.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:s.sampleRate===16e3?160:480,enabled:p,agc:m,fetchBehavior:r,model:e,supportFarendStream:d});const y=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:y,key:"buffer",fetchBehavior:r,path:t})}},"VoiceFocusWorkerPostMessageNode");l.default=g},MFJ1:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("rwhO"),g=f(h("3EKQ"));let a=o(class{start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(i){this.logger.error(`Event Reporting - Error starting the event buffer ${i}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(i){this.logger.error(`Event Reporting - Error stopping the event buffer ${i}`)}}reportEvent(i,e,t){return S(this,void 0,void 0,function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${i}, ${e}, ${JSON.stringify(t)}`),this.eventsToIgnore.includes(e)){this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${e} event will be ignored as it is in events to ignore`);return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:i,name:e,attributes:t})}catch(n){this.logger.error(`Event Reporting - Error adding event to buffer ${n}`)}})}destroy(){return S(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),u.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}constructor(i,e){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded","deviceLabelTriggerFailed"],this.destroyed=!1;const{eventsClientConfiguration:t,ingestionURL:n,eventBufferConfiguration:r}=i,{eventsToIgnore:c}=t;this.eventBuffer=new g.default(r,t,n,this.importantEvents,e),this.logger=e,this.eventsToIgnore=c,this.start()}},"DefaultMeetingEventReporter");l.default=a},ML5K:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("6/h7")),u=S(h("8wPz")),g=S(h("hEYi")),a=h("f2XL"),s=h("KyYT");let i=o(class{addObserver(t){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const n of this.observerQueue)f.default.nextTick(()=>{this.observerQueue.has(n)&&t(n)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver(n=>{s.Maybe.of(n.didMissPongs).map(r=>r.bind(n)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const t=a.SdkPingPongFrame.create();t.pingId=this.pingId,t.type=a.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(t),this.logger.debug(()=>`sent ping ${this.pingId}`)}pong(t){const n=a.SdkPingPongFrame.create();n.pingId=t,n.type=a.SdkPingPongType.PONG,this.signalingClient.pingPong(n)}handleSignalingClientEvent(t){switch(t.type){case g.default.WebSocketOpen:this.startPingInterval();break;case g.default.WebSocketFailed:case g.default.WebSocketError:this.logger.warn(`stopped pinging (${g.default[t.type]})`),this.stopPingInterval();break;case g.default.WebSocketClosing:case g.default.WebSocketClosed:this.logger.info(`stopped pinging (${g.default[t.type]})`),this.stopPingInterval();break;case g.default.ReceivedSignalFrame:if(t.message.type!==a.SdkSignalFrame.Type.PING_PONG)break;if(t.message.pingPong.type===a.SdkPingPongType.PONG){const n=t.message.pingPong.pingId;if(n!==this.pingId){this.logger.warn(`unexpected ping id ${n} (expected ${this.pingId})`);break}this.consecutivePongsUnaccountedFor=0;let r;if(typeof t.message.timestampMs=="number")r=t.message.timestampMs;else break;this.logger.debug(()=>`received pong ${n} with timestamp ${r}`);const p=t.timestampMs-this.pingTimestampLocalMs,m=Math.round(r-p/2),d=this.pingTimestampLocalMs-m;this.logger.info(`local clock skew estimate=${d}ms from ping-pong time=${p}ms`),this.forEachObserver(y=>{s.Maybe.of(y.didReceivePong).map(E=>E.bind(y)(n,d,p))})}else this.pong(t.message.pingPong.pingId);break}}constructor(t,n,r){this.signalingClient=t,this.intervalMs=n,this.logger=r,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new u.default(this.intervalMs),this.pingId=0}},"DefaultPingPong");l.default=i},MW3S:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.numToUint8=void 0;function S(f){return new Uint8Array([(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255])}o(S,"numToUint8"),l.numToUint8=S},MdQ0:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=l.numToUint8=l.isEmptyData=l.convertToBuffer=void 0;var S=h("xsFo");Object.defineProperty(l,"convertToBuffer",{enumerable:!0,get:function(){return S.convertToBuffer}});var f=h("C5aR");Object.defineProperty(l,"isEmptyData",{enumerable:!0,get:function(){return f.isEmptyData}});var u=h("MW3S");Object.defineProperty(l,"numToUint8",{enumerable:!0,get:function(){return u.numToUint8}});var g=h("ZzQ1");Object.defineProperty(l,"uint32ArrayFrom",{enumerable:!0,get:function(){return g.uint32ArrayFrom}})},MelK:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("cYl2");let f=o(class zc{compress(g,a){if(a.length>0){const e=Math.min(a.length,zc.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const s={memLevel:zc.Z_MEM_LEVEL,dictionary:a};return S.deflateRaw(g,s)}decompress(g,a){if(a.length>0){const e=Math.min(a.length,zc.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const s={to:"string",dictionary:a,chunkSize:4096};let i="";try{i=S.inflateRaw(g,s)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return i}constructor(g){this.logger=g}},"ZLIBTextCompressor");l.default=f,f.Z_MEM_LEVEL=9,f.MAX_DICTIONARY_SIZE=31744},MhWp:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("f2XL");let f=o(class TS{clone(){const g=new TS;return g.attendeeId=this.attendeeId,g.groupId=this.groupId,g.streamId=this.streamId,g.ssrc=this.ssrc,g.trackLabel=this.trackLabel,g.maxBitrateKbps=this.maxBitrateKbps,g.avgBitrateKbps=this.avgBitrateKbps,g.maxFrameRate=this.maxFrameRate,g.timeEnabled=this.timeEnabled,g.disabledByWebRTC=this.disabledByWebRTC,g.disabledByUplinkPolicy=this.disabledByUplinkPolicy,g.width=this.width,g.height=this.height,g}toStreamDescriptor(){const g=S.SdkStreamDescriptor.create();return g.mediaType=S.SdkStreamMediaType.VIDEO,g.trackLabel=this.trackLabel,g.attendeeId=this.attendeeId,g.streamId=this.streamId,g.groupId=this.groupId,g.framerate=this.maxFrameRate,g.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,g.avgBitrateBps=this.avgBitrateKbps,g}totalPixels(){return this.width*this.height}constructor(g,a,s,i,e){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.width=0,this.height=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.rid="",this.attendeeId=g,this.groupId=a,this.streamId=s,this.maxBitrateKbps=i,this.avgBitrateKbps=e}},"VideoStreamDescription");l.default=f},MpTp:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class jf{add(u){this.ids.add(u)}array(){return Array.from(this.ids.values()).sort((g,a)=>g-a)}contain(u){return this.ids.has(u)}forEach(u){this.ids.forEach(u)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(u){if(!u)return this.ids.size===0;const g=this.array(),a=u.array();if(g.length!==a.length)return!1;for(let s=0;s<g.length;s++)if(g[s]!==a[s])return!1;return!0}clone(){return new jf(this.array())}remove(u){this.ids.delete(u)}toJSON(){return this.array()}truncate(u){const g=this.array();return new jf(g.splice(0,u))}constructor(u){this.ids=new Set(u)}},"DefaultVideoStreamIdSet");l.default=S},Mr6q:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{addObserver(u){this.observers.add(u)}removeObserver(u){this.observers.delete(u)}filterFrameDurationHigh(u){var g;for(const a of this.observers)(g=a.filterFrameDurationHigh)===null||g===void 0||g.call(a,u)}filterCPUUtilizationHigh(u){var g;for(const a of this.observers)(g=a.filterCPUUtilizationHigh)===null||g===void 0||g.call(a,u)}constructor(){this.observers=new Set}},"BackgroundFilterVideoFrameProcessorDelegate");l.default=S},MwVV:function(j,l,h){(function(S){var f,u,g;j.exports=function(W){var s={},i={exports:s},e=W.AbortController,t=W.AbortSignal,n=W.addEventListener,r=W.alert,c=W.AnalyserNode,p=W.Animation,m=W.AnimationEffectReadOnly,d=W.AnimationEffectTiming,y=W.AnimationEffectTimingReadOnly,E=W.AnimationEvent,w=W.AnimationPlaybackEvent,k=W.AnimationTimeline,V=W.applicationCache,N=W.ApplicationCache,F=W.ApplicationCacheErrorEvent,P=W.atob,B=W.Attr,O=W.Audio,R=W.AudioBuffer,D=W.AudioBufferSourceNode,J=W.AudioContext,X=W.AudioDestinationNode,$=W.AudioListener,he=W.AudioNode,Ee=W.AudioParam,ke=W.AudioProcessingEvent,ve=W.AudioScheduledSourceNode,Be=W.AudioWorkletGlobalScope,pt=W.AudioWorkletNode,Ve=W.AudioWorkletProcessor,bt=W.BarProp,lt=W.BaseAudioContext,mt=W.BatteryManager,xt=W.BeforeUnloadEvent,at=W.BiquadFilterNode,Mt=W.Blob,kt=W.BlobEvent,Xe=W.blur,on=W.BroadcastChannel,Wn=W.btoa,_n=W.BudgetService,On=W.ByteLengthQueuingStrategy,Xn=W.Cache,ci=W.CacheStorage,Qn=W.cancelAnimationFrame,Kn=W.cancelIdleCallback,Ki=W.CanvasCaptureMediaStreamTrack,ui=W.CanvasGradient,Fi=W.CanvasPattern,zi=W.CanvasRenderingContext2D,qt=W.ChannelMergerNode,Tn=W.ChannelSplitterNode,vn=W.CharacterData,Ot=W.clearInterval,bn=W.clearTimeout,Lt=W.clientInformation,jn=W.ClipboardEvent,Xi=W.close,Gn=W.closed,Ti=W.CloseEvent,Tr=W.Comment,er=W.CompositionEvent,cr=W.confirm,fi=W.console,Wi=W.ConstantSourceNode,Zn=W.ConvolverNode,Re=W.CountQueuingStrategy,Ce=W.createImageBitmap,_e=W.Credential,et=W.CredentialsContainer,tt=W.crypto,ht=W.Crypto,gt=W.CryptoKey,zt=W.CSS,cn=W.CSSConditionRule,sn=W.CSSFontFaceRule,Qt=W.CSSGroupingRule,Vi=W.CSSImportRule,Ci=W.CSSKeyframeRule,gr=W.CSSKeyframesRule,tr=W.CSSMatrixComponent,Si=W.CSSMediaRule,Ir=W.CSSNamespaceRule,ai=W.CSSPageRule,lr=W.CSSPerspective,ti=W.CSSRotate,wr=W.CSSRule,Qi=W.CSSRuleList,Ur=W.CSSScale,Ar=W.CSSSkew,Zi=W.CSSSkewX,io=W.CSSSkewY,yt=W.CSSStyleDeclaration,ot=W.CSSStyleRule,ln=W.CSSStyleSheet,Gt=W.CSSSupportsRule,In=W.CSSTransformValue,Jn=W.CSSTranslate,z=W.CustomElementRegistry,ce=W.customElements,Me=W.CustomEvent,Ne=W.DataTransfer,Ke=W.DataTransferItem,vt=W.DataTransferItemList,Et=W.defaultstatus,Tt=W.defaultStatus,$e=W.DelayNode,At=W.DeviceMotionEvent,Dt=W.DeviceOrientationEvent,wn=W.devicePixelRatio,fn=W.dispatchEvent,Un=W.document,li=W.Document,Mi=W.DocumentFragment,Ai=W.DocumentType,hi=W.DOMError,pi=W.DOMException,yn=W.DOMImplementation,ji=W.DOMMatrix,Ui=W.DOMMatrixReadOnly,Hi=W.DOMParser,Or=W.DOMPoint,Ii=W.DOMPointReadOnly,Sr=W.DOMQuad,qn=W.DOMRect,vi=W.DOMRectList,mi=W.DOMRectReadOnly,_i=W.DOMStringList,Yn=W.DOMStringMap,Ut=W.DOMTokenList,nr=W.DragEvent,Bs=W.DynamicsCompressorNode,Qr=W.Element,dr=W.ErrorEvent,Zr=W.event,qr=W.Event,ur=W.EventSource,Fs=W.EventTarget,Vs=W.external,Li=W.fetch,Pr=W.File,xo=W.FileList,Us=W.FileReader,$r=W.find,So=W.focus,ao=W.FocusEvent,Bo=W.FontFace,vs=W.FontFaceSetLoadEvent,ys=W.FormData,qo=W.frameElement,bs=W.frames,Cs=W.GainNode,lo=W.Gamepad,eo=W.GamepadButton,ro=W.GamepadEvent,co=W.getComputedStyle,vo=W.getSelection,yo=W.HashChangeEvent,Fo=W.Headers,es=W.history,vr=W.History,ts=W.HTMLAllCollection,Es=W.HTMLAnchorElement,ns=W.HTMLAreaElement,Kr=W.HTMLAudioElement,Vo=W.HTMLBaseElement,_r=W.HTMLBodyElement,uo=W.HTMLBRElement,fo=W.HTMLButtonElement,Uo=W.HTMLCanvasElement,oo=W.HTMLCollection,Hr=W.HTMLContentElement,bo=W.HTMLDataElement,Co=W.HTMLDataListElement,zr=W.HTMLDetailsElement,ho=W.HTMLDialogElement,Ho=W.HTMLDirectoryElement,Ts=W.HTMLDivElement,Hs=W.HTMLDListElement,kr=W.HTMLDocument,is=W.HTMLElement,Wr=W.HTMLEmbedElement,zs=W.HTMLFieldSetElement,Ws=W.HTMLFontElement,Jr=W.HTMLFormControlsCollection,Eo=W.HTMLFormElement,rs=W.HTMLFrameElement,zo=W.HTMLFrameSetElement,Is=W.HTMLHeadElement,ir=W.HTMLHeadingElement,Wo=W.HTMLHRElement,To=W.HTMLHtmlElement,os=W.HTMLIFrameElement,ws=W.HTMLImageElement,Yr=W.HTMLInputElement,js=W.HTMLLabelElement,jo=W.HTMLLegendElement,fr=W.HTMLLIElement,Go=W.HTMLLinkElement,ss=W.HTMLMapElement,as=W.HTMLMarqueeElement,$o=W.HTMLMediaElement,Io=W.HTMLMenuElement,wo=W.HTMLMetaElement,ls=W.HTMLMeterElement,ds=W.HTMLModElement,Xr=W.HTMLObjectElement,to=W.HTMLOListElement,jr=W.HTMLOptGroupElement,Gs=W.HTMLOptionElement,Oo=W.HTMLOptionsCollection,Mo=W.HTMLOutputElement,Ro=W.HTMLParagraphElement,Os=W.HTMLParamElement,Ko=W.HTMLPictureElement,Ji=W.HTMLPreElement,Ms=W.HTMLProgressElement,Ao=W.HTMLQuoteElement,Ni=W.HTMLScriptElement,$s=W.HTMLSelectElement,Jo=W.HTMLShadowElement,po=W.HTMLSlotElement,hr=W.HTMLSourceElement,Ks=W.HTMLSpanElement,cs=W.HTMLStyleElement,Yo=W.HTMLTableCaptionElement,us=W.HTMLTableCellElement,Js=W.HTMLTableColElement,Ys=W.HTMLTableElement,Xs=W.HTMLTableRowElement,Qs=W.HTMLTableSectionElement,Rs=W.HTMLTemplateElement,la=W.HTMLTextAreaElement,Xo=W.HTMLTimeElement,rr=W.HTMLTitleElement,Po=W.HTMLTrackElement,fs=W.HTMLUListElement,ne=W.HTMLUnknownElement,te=W.HTMLVideoElement,Z=W.IDBCursor,A=W.IDBCursorWithValue,Q=W.IDBDatabase,se=W.IDBFactory,oe=W.IDBIndex,Se=W.IDBKeyRange,Ie=W.IDBObjectStore,Pe=W.IDBOpenDBRequest,De=W.IDBRequest,Le=W.IDBTransaction,je=W.IDBVersionChangeEvent,Je=W.IdleDeadline,ct=W.IIRFilterNode,Qe=W.Image,Yt=W.ImageBitmap,nn=W.ImageBitmapRenderingContext,Cn=W.ImageCapture,Rn=W.ImageData,ni=W.indexedDB,$n=W.innerHeight,ri=W.innerWidth,ii=W.InputEvent,wi=W.IntersectionObserver,ki=W.IntersectionObserverEntry,di=W.Intl,yi=W.isSecureContext,or=W.KeyboardEvent,Ri=W.KeyframeEffect,Gi=W.KeyframeEffectReadOnly,Gr=W.length,mo=W.localStorage,yr=W.location,En=W.Location,$t=W.locationbar,Wl=W.matchMedia,kd=W.MediaDeviceInfo,pl=W.MediaDevices,sr=W.MediaElementAudioSourceNode,jl=W.MediaEncryptedEvent,Na=W.MediaError,va=W.MediaKeyMessageEvent,Dd=W.MediaKeySession,ml=W.MediaKeyStatusMap,gl=W.MediaKeySystemAccess,Sl=W.MediaList,xa=W.MediaMetadata,Mr=W.MediaQueryList,an=W.MediaQueryListEvent,ei=W.MediaRecorder,Pt=W.MediaSettingsRange,Ld=W.MediaSource,vl=W.MediaStream,hs=W.MediaStreamAudioDestinationNode,da=W.MediaStreamAudioSourceNode,ca=W.MediaStreamEvent,Zs=W.MediaStreamTrack,ya=W.MediaStreamTrackEvent,Nd=W.menubar,ps=W.MessageChannel,ba=W.MessageEvent,yl=W.MessagePort,xd=W.MIDIAccess,Bd=W.MIDIConnectionEvent,Fd=W.MIDIInput,ua=W.MIDIInputMap,Gl=W.MIDIMessageEvent,Ca=W.MIDIOutput,Ea=W.MIDIOutputMap,$l=W.MIDIPort,Ba=W.MimeType,Vd=W.MimeTypeArray,Kl=W.MouseEvent,Ud=W.moveBy,Jl=W.moveTo,Hd=W.MutationEvent,Fa=W.MutationObserver,Va=W.MutationRecord,Ua=W.name,bl=W.NamedNodeMap,pr=W.NavigationPreloadManager,As=W.navigator,Ha=W.Navigator,za=W.NetworkInformation,Wa=W.Node,ja=W.NodeFilter,C=W.NodeIterator,U=W.NodeList,M=W.Notification,Y=W.OfflineAudioCompletionEvent,G=W.OfflineAudioContext,re=W.offscreenBuffering,be=W.OffscreenCanvas,me=W.OffscreenCanvasRenderingContext2D,Ze=W.onabort,fe=W.onafterprint,Te=W.onanimationend,en=W.onanimationiteration,Ye=W.onanimationstart,xe=W.onappinstalled,It=W.onauxclick,Hn=W.onbeforeinstallprompt,Zt=W.onbeforeprint,Bt=W.onbeforeunload,pn=W.onblur,Kt=W.oncancel,Ge=W.oncanplay,tn=W.oncanplaythrough,ze=W.onchange,Rt=W.onclick,nt=W.onclose,gn=W.oncontextmenu,Ft=W.oncuechange,Ht=W.ondblclick,no=W.ondevicemotion,hn=W.ondeviceorientation,Cl=W.ondeviceorientationabsolute,un=W.ondrag,qs=W.ondragend,Ps=W.ondragenter,ih=W.ondragleave,rh=W.ondragover,oh=W.ondragstart,sh=W.ondrop,qc=W.ondurationchange,Ta=W.onemptied,El=W.onended,Tl=W.onerror,Yl=W.onfocus,ah=W.ongotpointercapture,eu=W.onhashchange,lh=W.oninput,dh=W.oninvalid,ch=W.onkeydown,uc=W.onkeypress,uh=W.onkeyup,fc=W.onlanguagechange,fh=W.onload,jS=W.onloadeddata,hh=W.onloadedmetadata,ph=W.onloadstart,mh=W.onlostpointercapture,tu=W.onmessage,gh=W.onmessageerror,nu=W.onmousedown,fa=W.onmouseenter,ha=W.onmouseleave,Il=W.onmousemove,iu=W.onmouseout,go=W.onmouseover,wl=W.onmouseup,Xl=W.onmousewheel,hc=W.onoffline,ru=W.ononline,ou=W.onpagehide,su=W.onpageshow,au=W.onpause,lu=W.onplay,ea=W.onplaying,du=W.onpointercancel,cu=W.onpointerdown,uu=W.onpointerenter,fu=W.onpointerleave,hu=W.onpointermove,GS=W.onpointerout,Sh=W.onpointerover,vh=W.onpointerup,pc=W.onpopstate,mc=W.onprogress,gc=W.onratechange,Sc=W.onrejectionhandled,vc=W.onreset,yc=W.onresize,bc=W.onscroll,Cc=W.onsearch,Ec=W.onseeked,yh=W.onseeking,bh=W.onselect,Ch=W.onstalled,Eh=W.onstorage,Th=W.onsubmit,_o=W.onsuspend,Tc=W.ontimeupdate,Ih=W.ontoggle,wh=W.ontransitionend,Mn=W.onunhandledrejection,Oh=W.onunload,Mh=W.onvolumechange,$S=W.onwaiting,ko=W.onwheel,Rh=W.open,Ah=W.openDatabase,Ph=W.opener,Ql=W.Option,Zl=W.origin,ql=W.OscillatorNode,ed=W.outerHeight,td=W.outerWidth,nd=W.OverconstrainedError,id=W.PageTransitionEvent,rd=W.pageXOffset,od=W.pageYOffset,_h=W.PannerNode,kh=W.parent,Dh=W.Path2D,Lh=W.PaymentAddress,Nh=W.PaymentRequest,xh=W.PaymentRequestUpdateEvent,Bh=W.PaymentResponse,Fh=W.performance,Vh=W.Performance,Uh=W.PerformanceEntry,Hh=W.PerformanceLongTaskTiming,zh=W.PerformanceMark,Wh=W.PerformanceMeasure,Dr=W.PerformanceNavigation,pu=W.PerformanceNavigationTiming,mu=W.PerformanceObserver,gu=W.PerformanceObserverEntryList,Su=W.PerformancePaintTiming,vu=W.PerformanceResourceTiming,yu=W.PerformanceTiming,sd=W.PeriodicWave,bu=W.Permissions,ad=W.PermissionStatus,Ic=W.personalbar,Cu=W.PhotoCapabilities,Eu=W.Plugin,Tu=W.PluginArray,Iu=W.PointerEvent,ld=W.PopStateEvent,wc=W.postMessage,wu=W.Presentation,zd=W.PresentationAvailability,Ou=W.PresentationConnection,Mu=W.PresentationConnectionAvailableEvent,Ru=W.PresentationConnectionCloseEvent,Oc=W.PresentationConnectionList,Au=W.PresentationReceiver,Pu=W.PresentationRequest,dd=W.print,_u=W.ProcessingInstruction,ku=W.ProgressEvent,Du=W.PromiseRejectionEvent,Lu=W.prompt,Nu=W.PushManager,xu=W.PushSubscription,Bu=W.PushSubscriptionOptions,Fu=W.queueMicrotask,Vu=W.RadioNodeList,Uu=W.Range,Hu=W.ReadableStream,zu=W.registerProcessor,Wu=W.RemotePlayback,ju=W.removeEventListener,Gu=W.Request,$u=W.requestAnimationFrame,Ku=W.requestIdleCallback,Ju=W.resizeBy,Yu=W.ResizeObserver,Xu=W.ResizeObserverEntry,Qu=W.resizeTo,Zu=W.Response,qu=W.RTCCertificate,ef=W.RTCDataChannel,tf=W.RTCDataChannelEvent,nf=W.RTCDtlsTransport,rf=W.RTCIceCandidate,of=W.RTCIceGatherer,sf=W.RTCIceTransport,af=W.RTCPeerConnection,lf=W.RTCPeerConnectionIceEvent,df=W.RTCRtpContributingSource,cf=W.RTCRtpReceiver,uf=W.RTCRtpSender,ff=W.RTCSctpTransport,hf=W.RTCSessionDescription,pf=W.RTCStatsReport,mf=W.RTCTrackEvent,gf=W.screen,Sf=W.Screen,vf=W.screenLeft,yf=W.ScreenOrientation,bf=W.screenTop,Cf=W.screenX,Ef=W.screenY,jh=W.ScriptProcessorNode,Gh=W.scroll,$h=W.scrollbars,Kh=W.scrollBy,Jh=W.scrollTo,Yh=W.scrollX,Xh=W.scrollY,Qh=W.SecurityPolicyViolationEvent,Zh=W.Selection,cd=W.self,qh=W.ServiceWorker,ep=W.ServiceWorkerContainer,tp=W.ServiceWorkerRegistration,np=W.sessionStorage,ip=W.setInterval,Tf=W.setTimeout,rp=W.ShadowRoot,op=W.SharedWorker,sp=W.SourceBuffer,ap=W.SourceBufferList,lp=W.speechSynthesis,dp=W.SpeechSynthesisEvent,cp=W.SpeechSynthesisUtterance,up=W.StaticRange,fp=W.status,hp=W.statusbar,pp=W.StereoPannerNode,mp=W.stop,gp=W.Storage,Sp=W.StorageEvent,vp=W.StorageManager,yp=W.styleMedia,bp=W.StyleSheet,Cp=W.StyleSheetList,Ep=W.SubtleCrypto,Tp=W.SVGAElement,Ip=W.SVGAngle,wp=W.SVGAnimatedAngle,Op=W.SVGAnimatedBoolean,Mp=W.SVGAnimatedEnumeration,Rp=W.SVGAnimatedInteger,Ap=W.SVGAnimatedLength,Pp=W.SVGAnimatedLengthList,_p=W.SVGAnimatedNumber,kp=W.SVGAnimatedNumberList,Dp=W.SVGAnimatedPreserveAspectRatio,Lp=W.SVGAnimatedRect,Np=W.SVGAnimatedString,xp=W.SVGAnimatedTransformList,Bp=W.SVGAnimateElement,Fp=W.SVGAnimateMotionElement,Vp=W.SVGAnimateTransformElement,Up=W.SVGAnimationElement,Hp=W.SVGCircleElement,zp=W.SVGClipPathElement,Wp=W.SVGComponentTransferFunctionElement,jp=W.SVGDefsElement,Gp=W.SVGDescElement,$p=W.SVGDiscardElement,Kp=W.SVGElement,Jp=W.SVGEllipseElement,Yp=W.SVGFEBlendElement,Xp=W.SVGFEColorMatrixElement,Qp=W.SVGFEComponentTransferElement,Zp=W.SVGFECompositeElement,qp=W.SVGFEConvolveMatrixElement,em=W.SVGFEDiffuseLightingElement,tm=W.SVGFEDisplacementMapElement,nm=W.SVGFEDistantLightElement,im=W.SVGFEDropShadowElement,rm=W.SVGFEFloodElement,om=W.SVGFEFuncAElement,sm=W.SVGFEFuncBElement,am=W.SVGFEFuncGElement,lm=W.SVGFEFuncRElement,dm=W.SVGFEGaussianBlurElement,cm=W.SVGFEImageElement,um=W.SVGFEMergeElement,fm=W.SVGFEMergeNodeElement,hm=W.SVGFEMorphologyElement,pm=W.SVGFEOffsetElement,mm=W.SVGFEPointLightElement,gm=W.SVGFESpecularLightingElement,Sm=W.SVGFESpotLightElement,vm=W.SVGFETileElement,ym=W.SVGFETurbulenceElement,bm=W.SVGFilterElement,Cm=W.SVGForeignObjectElement,Em=W.SVGGElement,Tm=W.SVGGeometryElement,Im=W.SVGGradientElement,wm=W.SVGGraphicsElement,Om=W.SVGImageElement,Mm=W.SVGLength,Rm=W.SVGLengthList,Am=W.SVGLinearGradientElement,Pm=W.SVGLineElement,_m=W.SVGMarkerElement,km=W.SVGMaskElement,Dm=W.SVGMatrix,Lm=W.SVGMetadataElement,Nm=W.SVGMPathElement,xm=W.SVGNumber,Bm=W.SVGNumberList,Fm=W.SVGPathElement,Vm=W.SVGPatternElement,Um=W.SVGPoint,Hm=W.SVGPointList,zm=W.SVGPolygonElement,Wm=W.SVGPolylineElement,jm=W.SVGPreserveAspectRatio,Gm=W.SVGRadialGradientElement,$m=W.SVGRect,Km=W.SVGRectElement,Jm=W.SVGScriptElement,Ym=W.SVGSetElement,Xm=W.SVGStopElement,Qm=W.SVGStringList,Zm=W.SVGStyleElement,qm=W.SVGSVGElement,eg=W.SVGSwitchElement,tg=W.SVGSymbolElement,ng=W.SVGTextContentElement,ig=W.SVGTextElement,rg=W.SVGTextPathElement,og=W.SVGTextPositioningElement,sg=W.SVGTitleElement,ag=W.SVGTransform,lg=W.SVGTransformList,dg=W.SVGTSpanElement,cg=W.SVGUnitTypes,ug=W.SVGUseElement,fg=W.SVGViewElement,hg=W.TaskAttributionTiming,pg=W.Text,mg=W.TextDecoder,gg=W.TextEncoder,Sg=W.TextEvent,vg=W.TextMetrics,yg=W.TextTrack,bg=W.TextTrackCue,Cg=W.TextTrackCueList,Eg=W.TextTrackList,Tg=W.TimeRanges,Ig=W.toolbar,wg=W.top,Og=W.Touch,Mg=W.TouchEvent,Rg=W.TouchList,Ag=W.TrackEvent,Pg=W.TransitionEvent,_g=W.TreeWalker,kg=W.UIEvent,kn=W.URL,zn=W.URLSearchParams,Lr=W.ValidityState,Dn=W.visualViewport,ta=W.VisualViewport,Ga=W.VTTCue,Ln=W.WaveShaperNode,Nn=W.WebAssembly,xn=W.WebGL2RenderingContext,Bn=W.WebGLActiveInfo,Dg=W.WebGLBuffer,Lg=W.WebGLContextEvent,Ng=W.WebGLFramebuffer,xg=W.WebGLProgram,Bg=W.WebGLQuery,If=W.WebGLRenderbuffer,Fg=W.WebGLRenderingContext,Vg=W.WebGLSampler,Ug=W.WebGLShader,Hg=W.WebGLShaderPrecisionFormat,wf=W.WebGLSync,zg=W.WebGLTexture,Wg=W.WebGLTransformFeedback,Mc=W.WebGLUniformLocation,Of=W.WebGLVertexArrayObject,Rc=W.WebSocket,Ac=W.WheelEvent,W=W.window,ms=W.Window,jg=W.Worker,gi=W.WritableStream,oi=W.XMLDocument,Fn=W.XMLHttpRequest,Vn=W.XMLHttpRequestEventTarget,ud=W.XMLHttpRequestUpload,fd=W.XMLSerializer,hd=W.XPathEvaluator,pd=W.XPathExpression,md=W.XPathResult,gd=W.XSLTProcessor;return function(Oi,Sn){typeof s=="object"&&typeof i<"u"?Sn(s,h("q1tI"),h("wSSu")):(u=[s,h("q1tI"),h("wSSu")],f=Sn,g=typeof f=="function"?f.apply(s,u):f,g!==void 0&&(i.exports=g))}(this,function(Oi,Sn,Ia){"use strict";function Yi(ee,_){if(!(ee instanceof _))throw new TypeError("Cannot call a class as a function")}o(Yi,"_classCallCheck");function $a(ee,_){for(var L=0;L<_.length;L++){var q=_[L];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ee,q.key,q)}}o($a,"_defineProperties");function qi(ee,_,L){return _&&$a(ee.prototype,_),L&&$a(ee,L),ee}o(qi,"_createClass");function Ue(ee,_,L){return _ in ee?Object.defineProperty(ee,_,{value:L,enumerable:!0,configurable:!0,writable:!0}):ee[_]=L,ee}o(Ue,"_defineProperty");function so(){return(so=Object.assign||function(ee){for(var _=1;_<arguments.length;_++){var L=arguments[_];for(var q in L)Object.prototype.hasOwnProperty.call(L,q)&&(ee[q]=L[q])}return ee}).apply(this,arguments)}o(so,"_extends");function Ka(ee,_){var L=Object.keys(ee);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(ee);_&&(q=q.filter(function(ae){return Object.getOwnPropertyDescriptor(ee,ae).enumerable})),L.push.apply(L,q)}return L}o(Ka,"ownKeys");function si(ee){for(var _=1;_<arguments.length;_++){var L=arguments[_]!=null?arguments[_]:{};_%2?Ka(L,!0).forEach(function(q){Ue(ee,q,L[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(L)):Ka(L).forEach(function(q){Object.defineProperty(ee,q,Object.getOwnPropertyDescriptor(L,q))})}return ee}o(si,"_objectSpread2");function Nr(ee,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(_&&_.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),_&&Ja(ee,_)}o(Nr,"_inherits");function Rr(ee){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(ee)}o(Rr,"_getPrototypeOf");function Ja(ee,_){return(Ja=Object.setPrototypeOf||function(L,q){return L.__proto__=q,L})(ee,_)}o(Ja,"_setPrototypeOf");function na(ee,_){if(ee==null)return{};var L,q,ae=function(de,ye){if(de==null)return{};var Oe,we,Ae={},Fe=Object.keys(de);for(we=0;we<Fe.length;we++)Oe=Fe[we],0<=ye.indexOf(Oe)||(Ae[Oe]=de[Oe]);return Ae}(ee,_);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(ee);for(q=0;q<pe.length;q++)L=pe[q],0<=_.indexOf(L)||Object.prototype.propertyIsEnumerable.call(ee,L)&&(ae[L]=ee[L])}return ae}o(na,"_objectWithoutProperties");function ut(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}o(ut,"_assertThisInitialized");function xr(ee,_){return!_||typeof _!="object"&&typeof _!="function"?ut(ee):_}o(xr,"_possibleConstructorReturn");function Ol(ee,_){return function(L){if(Array.isArray(L))return L}(ee)||function(L,q){if(Symbol.iterator in Object(L)||Object.prototype.toString.call(L)==="[object Arguments]"){var ae=[],pe=!0,de=!1,ye=void 0;try{for(var Oe,we=L[Symbol.iterator]();!(pe=(Oe=we.next()).done)&&(ae.push(Oe.value),!q||ae.length!==q);pe=!0);}catch(Ae){de=!0,ye=Ae}finally{try{pe||we.return==null||we.return()}finally{if(de)throw ye}}return ae}}(ee,_)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}o(Ol,"_slicedToArray");function Ml(ee){return function(_){if(Array.isArray(_)){for(var L=0,q=new Array(_.length);L<_.length;L++)q[L]=_[L];return q}}(ee)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(ee)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o(Ml,"_toConsumableArray");function Ya(){var ee=this.constructor.getDerivedStateFromProps(this.props,this.state);ee!=null&&this.setState(ee)}o(Ya,"componentWillMount");function Xa(ee){this.setState(function(_){var L=this.constructor.getDerivedStateFromProps(ee,_);return L??null}.bind(this))}o(Xa,"componentWillReceiveProps");function Qa(ee,_){try{var L=this.props,q=this.state;this.props=ee,this.state=_,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(L,q)}finally{this.props=L,this.state=q}}o(Qa,"componentWillUpdate");function ia(ee){var _=ee.prototype;if(!_||!_.isReactComponent)throw new Error("Can only polyfill class components");if(typeof ee.getDerivedStateFromProps!="function"&&typeof _.getSnapshotBeforeUpdate!="function")return ee;var L=null,q=null,ae=null;if(typeof _.componentWillMount=="function"?L="componentWillMount":typeof _.UNSAFE_componentWillMount=="function"&&(L="UNSAFE_componentWillMount"),typeof _.componentWillReceiveProps=="function"?q="componentWillReceiveProps":typeof _.UNSAFE_componentWillReceiveProps=="function"&&(q="UNSAFE_componentWillReceiveProps"),typeof _.componentWillUpdate=="function"?ae="componentWillUpdate":typeof _.UNSAFE_componentWillUpdate=="function"&&(ae="UNSAFE_componentWillUpdate"),L!==null||q!==null||ae!==null){var pe=ee.displayName||ee.name,de=typeof ee.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+pe+" uses "+de+" but also contains the following legacy lifecycles:"+(L!==null?`
  `+L:"")+(q!==null?`
  `+q:"")+(ae!==null?`
  `+ae:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof ee.getDerivedStateFromProps=="function"&&(_.componentWillMount=Ya,_.componentWillReceiveProps=Xa),typeof _.getSnapshotBeforeUpdate=="function"){if(typeof _.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");_.componentWillUpdate=Qa;var ye=_.componentDidUpdate;_.componentDidUpdate=function(Oe,we,Ae){var Fe=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Ae;ye.call(this,Oe,we,Fe)}}return ee}o(ia,"polyfill"),Qa.__suppressDeprecationWarning=Xa.__suppressDeprecationWarning=Ya.__suppressDeprecationWarning=!0;var pa=function(){function ee(){var _,L;Yi(this,ee);for(var q=arguments.length,ae=new Array(q),pe=0;pe<q;pe++)ae[pe]=arguments[pe];return Ue(ut(L=xr(this,(_=Rr(ee)).call.apply(_,[this].concat(ae)))),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),Ue(ut(L),"_columnStartIndex",0),Ue(ut(L),"_columnStopIndex",0),Ue(ut(L),"_rowStartIndex",0),Ue(ut(L),"_rowStopIndex",0),Ue(ut(L),"_onKeyDown",function(de){var ye=L.props,Oe=ye.columnCount,we=ye.disabled,Ae=ye.mode,Fe=ye.rowCount;if(!we){var He=L._getScrollState(),ft=He.scrollToColumn,We=He.scrollToRow,it=L._getScrollState(),St=it.scrollToColumn,Ct=it.scrollToRow;switch(de.key){case"ArrowDown":Ct=Math.min(Ae==="cells"?Ct+1:L._rowStopIndex+1,Fe-1);break;case"ArrowLeft":St=Math.max(Ae==="cells"?St-1:L._columnStartIndex-1,0);break;case"ArrowRight":St=Math.min(Ae==="cells"?St+1:L._columnStopIndex+1,Oe-1);break;case"ArrowUp":Ct=Math.max(Ae==="cells"?Ct-1:L._rowStartIndex-1,0)}St===ft&&Ct===We||(de.preventDefault(),L._updateScrollState({scrollToColumn:St,scrollToRow:Ct}))}}),Ue(ut(L),"_onSectionRendered",function(de){var ye=de.columnStartIndex,Oe=de.columnStopIndex,we=de.rowStartIndex,Ae=de.rowStopIndex;L._columnStartIndex=ye,L._columnStopIndex=Oe,L._rowStartIndex=we,L._rowStopIndex=Ae}),L}return o(ee,"ArrowKeyStepper"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"setScrollIndexes",value:function(_){var L=_.scrollToColumn,q=_.scrollToRow;this.setState({scrollToRow:q,scrollToColumn:L})}},{key:"render",value:function(){var _=this.props,L=_.className,q=_.children,ae=this._getScrollState(),pe=ae.scrollToColumn,de=ae.scrollToRow;return Sn.createElement("div",{className:L,onKeyDown:this._onKeyDown},q({onSectionRendered:this._onSectionRendered,scrollToColumn:pe,scrollToRow:de}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(_){var L=_.scrollToColumn,q=_.scrollToRow,ae=this.props,pe=ae.isControlled,de=ae.onScrollToChange;typeof de=="function"&&de({scrollToColumn:L,scrollToRow:q}),pe||this.setState({scrollToColumn:L,scrollToRow:q})}}],[{key:"getDerivedStateFromProps",value:function(_,L){return _.isControlled?{}:_.scrollToColumn!==L.instanceProps.prevScrollToColumn||_.scrollToRow!==L.instanceProps.prevScrollToRow?si({},L,{scrollToColumn:_.scrollToColumn,scrollToRow:_.scrollToRow,instanceProps:{prevScrollToColumn:_.scrollToColumn,prevScrollToRow:_.scrollToRow}}):{}}}]),ee}();function wa(ee,_){var L,q,ae,pe=(L=_!==void 0?_:typeof W<"u"?W:typeof cd<"u"?cd:S).document!==void 0&&L.document.attachEvent;if(!pe){var de=(ae=L.requestAnimationFrame||L.mozRequestAnimationFrame||L.webkitRequestAnimationFrame||function(st){return L.setTimeout(st,20)},function(st){return ae(st)}),ye=(q=L.cancelAnimationFrame||L.mozCancelAnimationFrame||L.webkitCancelAnimationFrame||L.clearTimeout,function(st){return q(st)}),Oe=o(function(st){var wt=st.__resizeTriggers__,qe=wt.firstElementChild,dn=wt.lastElementChild,An=qe.firstElementChild;dn.scrollLeft=dn.scrollWidth,dn.scrollTop=dn.scrollHeight,An.style.width=qe.offsetWidth+1+"px",An.style.height=qe.offsetHeight+1+"px",qe.scrollLeft=qe.scrollWidth,qe.scrollTop=qe.scrollHeight},"resetTriggers"),we=o(function(st){if(!(st.target.className&&typeof st.target.className.indexOf=="function"&&st.target.className.indexOf("contract-trigger")<0&&st.target.className.indexOf("expand-trigger")<0)){var wt=this;Oe(this),this.__resizeRAF__&&ye(this.__resizeRAF__),this.__resizeRAF__=de(function(){!function(qe){return qe.offsetWidth!=qe.__resizeLast__.width||qe.offsetHeight!=qe.__resizeLast__.height}(wt)||(wt.__resizeLast__.width=wt.offsetWidth,wt.__resizeLast__.height=wt.offsetHeight,wt.__resizeListeners__.forEach(function(qe){qe.call(wt,st)}))})}},"scrollListener"),Ae=!1,Fe="",He="animationstart",ft="Webkit Moz O ms".split(" "),We="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),it=L.document.createElement("fakeelement");if(it.style.animationName!==void 0&&(Ae=!0),Ae===!1){for(var St=0;St<ft.length;St++)if(it.style[ft[St]+"AnimationName"]!==void 0){Fe="-"+ft[St].toLowerCase()+"-",He=We[St],Ae=!0;break}}var Ct="resizeanim",Nt="@"+Fe+"keyframes "+Ct+" { from { opacity: 0; } to { opacity: 0; } } ",jt=Fe+"animation: 1ms "+Ct+"; "}return{addResizeListener:function(st,wt){if(pe)st.attachEvent("onresize",wt);else{if(!st.__resizeTriggers__){var qe=st.ownerDocument,dn=L.getComputedStyle(st);dn&&dn.position=="static"&&(st.style.position="relative"),function(Pi){if(!Pi.getElementById("detectElementResize")){var $i=(Nt||"")+".resize-triggers { "+(jt||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',Br=Pi.head||Pi.getElementsByTagName("head")[0],mr=Pi.createElement("style");mr.id="detectElementResize",mr.type="text/css",ee!=null&&mr.setAttribute("nonce",ee),mr.styleSheet?mr.styleSheet.cssText=$i:mr.appendChild(Pi.createTextNode($i)),Br.appendChild(mr)}}(qe),st.__resizeLast__={},st.__resizeListeners__=[],(st.__resizeTriggers__=qe.createElement("div")).className="resize-triggers";var An='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(W.trustedTypes){var Di=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return An}});st.__resizeTriggers__.innerHTML=Di.createHTML("")}else st.__resizeTriggers__.innerHTML=An;st.appendChild(st.__resizeTriggers__),Oe(st),st.addEventListener("scroll",we,!0),He&&(st.__resizeTriggers__.__animationListener__=function(Pi){Pi.animationName==Ct&&Oe(st)},st.__resizeTriggers__.addEventListener(He,st.__resizeTriggers__.__animationListener__))}st.__resizeListeners__.push(wt)}},removeResizeListener:function(st,wt){if(pe)st.detachEvent("onresize",wt);else if(st.__resizeListeners__.splice(st.__resizeListeners__.indexOf(wt),1),!st.__resizeListeners__.length){st.removeEventListener("scroll",we,!0),st.__resizeTriggers__.__animationListener__&&(st.__resizeTriggers__.removeEventListener(He,st.__resizeTriggers__.__animationListener__),st.__resizeTriggers__.__animationListener__=null);try{st.__resizeTriggers__=!st.removeChild(st.__resizeTriggers__)}catch{}}}}}o(wa,"createDetectElementResize"),Ue(pa,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),ia(pa);var Oa=function(){function ee(){var _,L;Yi(this,ee);for(var q=arguments.length,ae=new Array(q),pe=0;pe<q;pe++)ae[pe]=arguments[pe];return Ue(ut(L=xr(this,(_=Rr(ee)).call.apply(_,[this].concat(ae)))),"state",{height:L.props.defaultHeight||0,width:L.props.defaultWidth||0}),Ue(ut(L),"_parentNode",void 0),Ue(ut(L),"_autoSizer",void 0),Ue(ut(L),"_window",void 0),Ue(ut(L),"_detectElementResize",void 0),Ue(ut(L),"_onResize",function(){var de=L.props,ye=de.disableHeight,Oe=de.disableWidth,we=de.onResize;if(L._parentNode){var Ae=L._parentNode.offsetHeight||0,Fe=L._parentNode.offsetWidth||0,He=(L._window||W).getComputedStyle(L._parentNode)||{},ft=parseInt(He.paddingLeft,10)||0,We=parseInt(He.paddingRight,10)||0,it=parseInt(He.paddingTop,10)||0,St=parseInt(He.paddingBottom,10)||0,Ct=Ae-it-St,Nt=Fe-ft-We;(!ye&&L.state.height!==Ct||!Oe&&L.state.width!==Nt)&&(L.setState({height:Ae-it-St,width:Fe-ft-We}),we({height:Ae,width:Fe}))}}),Ue(ut(L),"_setRef",function(de){L._autoSizer=de}),L}return o(ee,"AutoSizer"),Nr(ee,Sn.Component),qi(ee,[{key:"componentDidMount",value:function(){var _=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=wa(_,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var _=this.props,L=_.children,q=_.className,ae=_.disableHeight,pe=_.disableWidth,de=_.style,ye=this.state,Oe=ye.height,we=ye.width,Ae={overflow:"visible"},Fe={};return ae||(Ae.height=0,Fe.height=Oe),pe||(Ae.width=0,Fe.width=we),Sn.createElement("div",{className:q,ref:this._setRef,style:si({},Ae,{},de)},L(Fe))}}]),ee}();Ue(Oa,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var ma=function(){function ee(){var _,L;Yi(this,ee);for(var q=arguments.length,ae=new Array(q),pe=0;pe<q;pe++)ae[pe]=arguments[pe];return Ue(ut(L=xr(this,(_=Rr(ee)).call.apply(_,[this].concat(ae)))),"_child",void 0),Ue(ut(L),"_measure",function(){var de=L.props,ye=de.cache,Oe=de.columnIndex,we=Oe===void 0?0:Oe,Ae=de.parent,Fe=de.rowIndex,He=Fe===void 0?L.props.index||0:Fe,ft=L._getCellMeasurements(),We=ft.height,it=ft.width;We===ye.getHeight(He,we)&&it===ye.getWidth(He,we)||(ye.set(He,we,it,We),Ae&&typeof Ae.recomputeGridSize=="function"&&Ae.recomputeGridSize({columnIndex:we,rowIndex:He}))}),Ue(ut(L),"_registerChild",function(de){!de||de instanceof Qr||fi.warn("CellMeasurer registerChild expects to be passed Element or null"),(L._child=de)&&L._maybeMeasureCell()}),L}return o(ee,"CellMeasurer"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var _=this.props.children;return typeof _=="function"?_({measure:this._measure,registerChild:this._registerChild}):_}},{key:"_getCellMeasurements",value:function(){var _=this.props.cache,L=this._child||Ia.findDOMNode(this);if(L&&L.ownerDocument&&L.ownerDocument.defaultView&&L instanceof L.ownerDocument.defaultView.HTMLElement){var q=L.style.width,ae=L.style.height;_.hasFixedWidth()||(L.style.width="auto"),_.hasFixedHeight()||(L.style.height="auto");var pe=Math.ceil(L.offsetHeight),de=Math.ceil(L.offsetWidth);return q&&(L.style.width=q),ae&&(L.style.height=ae),{height:pe,width:de}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var _=this.props,L=_.cache,q=_.columnIndex,ae=q===void 0?0:q,pe=_.parent,de=_.rowIndex,ye=de===void 0?this.props.index||0:de;if(!L.has(ye,ae)){var Oe=this._getCellMeasurements(),we=Oe.height,Ae=Oe.width;L.set(ye,ae,Ae,we),pe&&typeof pe.invalidateCellSizeAfterRender=="function"&&pe.invalidateCellSizeAfterRender({columnIndex:ae,rowIndex:ye})}}}]),ee}();Ue(ma,"__internalCellMeasurerFlag",!1),ma.__internalCellMeasurerFlag=!0;var Za=function(){function ee(){var _=this,L=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Yi(this,ee),Ue(this,"_cellHeightCache",{}),Ue(this,"_cellWidthCache",{}),Ue(this,"_columnWidthCache",{}),Ue(this,"_rowHeightCache",{}),Ue(this,"_defaultHeight",void 0),Ue(this,"_defaultWidth",void 0),Ue(this,"_minHeight",void 0),Ue(this,"_minWidth",void 0),Ue(this,"_keyMapper",void 0),Ue(this,"_hasFixedHeight",void 0),Ue(this,"_hasFixedWidth",void 0),Ue(this,"_columnCount",0),Ue(this,"_rowCount",0),Ue(this,"columnWidth",function(Ae){var Fe=Ae.index,He=_._keyMapper(0,Fe);return _._columnWidthCache[He]!==void 0?_._columnWidthCache[He]:_._defaultWidth}),Ue(this,"rowHeight",function(Ae){var Fe=Ae.index,He=_._keyMapper(Fe,0);return _._rowHeightCache[He]!==void 0?_._rowHeightCache[He]:_._defaultHeight});var q=L.defaultHeight,ae=L.defaultWidth,pe=L.fixedHeight,de=L.fixedWidth,ye=L.keyMapper,Oe=L.minHeight,we=L.minWidth;this._hasFixedHeight=pe===!0,this._hasFixedWidth=de===!0,this._minHeight=Oe||0,this._minWidth=we||0,this._keyMapper=ye||qa,this._defaultHeight=Math.max(this._minHeight,typeof q=="number"?q:30),this._defaultWidth=Math.max(this._minWidth,typeof ae=="number"?ae:100),this._hasFixedHeight===!1&&this._hasFixedWidth===!1&&fi.warn("CellMeasurerCache should only measure a cell's width or height. You have configured CellMeasurerCache to measure both. This will result in poor performance."),this._hasFixedHeight===!1&&this._defaultHeight===0&&fi.warn("Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. Failing to do so will lead to unnecessary layout and poor performance."),this._hasFixedWidth===!1&&this._defaultWidth===0&&fi.warn("Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. Failing to do so will lead to unnecessary layout and poor performance.")}return o(ee,"CellMeasurerCache"),qi(ee,[{key:"clear",value:function(_,L){var q=1<arguments.length&&L!==void 0?L:0,ae=this._keyMapper(_,q);delete this._cellHeightCache[ae],delete this._cellWidthCache[ae],this._updateCachedColumnAndRowSizes(_,q)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(_,L){var q=1<arguments.length&&L!==void 0?L:0;if(this._hasFixedHeight)return this._defaultHeight;var ae=this._keyMapper(_,q);return this._cellHeightCache[ae]!==void 0?Math.max(this._minHeight,this._cellHeightCache[ae]):this._defaultHeight}},{key:"getWidth",value:function(_,L){var q=1<arguments.length&&L!==void 0?L:0;if(this._hasFixedWidth)return this._defaultWidth;var ae=this._keyMapper(_,q);return this._cellWidthCache[ae]!==void 0?Math.max(this._minWidth,this._cellWidthCache[ae]):this._defaultWidth}},{key:"has",value:function(_,L){var q=1<arguments.length&&L!==void 0?L:0,ae=this._keyMapper(_,q);return this._cellHeightCache[ae]!==void 0}},{key:"set",value:function(_,L,q,ae){var pe=this._keyMapper(_,L);L>=this._columnCount&&(this._columnCount=L+1),_>=this._rowCount&&(this._rowCount=_+1),this._cellHeightCache[pe]=ae,this._cellWidthCache[pe]=q,this._updateCachedColumnAndRowSizes(_,L)}},{key:"_updateCachedColumnAndRowSizes",value:function(_,L){if(!this._hasFixedWidth){for(var q=0,ae=0;ae<this._rowCount;ae++)q=Math.max(q,this.getWidth(ae,L));var pe=this._keyMapper(0,L);this._columnWidthCache[pe]=q}if(!this._hasFixedHeight){for(var de=0,ye=0;ye<this._columnCount;ye++)de=Math.max(de,this.getHeight(_,ye));var Oe=this._keyMapper(_,0);this._rowHeightCache[Oe]=de}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),ee}();function qa(ee,_){return"".concat(ee,"-").concat(_)}o(qa,"defaultKeyMapper");function Ma(ee){return ee&&ee.__esModule&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee}o(Ma,"unwrapExports");function ra(ee,_){return ee(_={exports:{}},_.exports),_.exports}o(ra,"createCommonjsModule");var Ei=ra(function(ee,_){Object.defineProperty(_,"__esModule",{value:!0});var L=typeof Symbol=="function"&&Symbol.for,q=L?Symbol.for("react.element"):60103,ae=L?Symbol.for("react.portal"):60106,pe=L?Symbol.for("react.fragment"):60107,de=L?Symbol.for("react.strict_mode"):60108,ye=L?Symbol.for("react.profiler"):60114,Oe=L?Symbol.for("react.provider"):60109,we=L?Symbol.for("react.context"):60110,Ae=L?Symbol.for("react.async_mode"):60111,Fe=L?Symbol.for("react.concurrent_mode"):60111,He=L?Symbol.for("react.forward_ref"):60112,ft=L?Symbol.for("react.suspense"):60113,We=L?Symbol.for("react.suspense_list"):60120,it=L?Symbol.for("react.memo"):60115,St=L?Symbol.for("react.lazy"):60116,Ct=L?Symbol.for("react.fundamental"):60117,Nt=L?Symbol.for("react.responder"):60118,jt=L?Symbol.for("react.scope"):60119;function st(qe){if(typeof qe=="object"&&qe!==null){var dn=qe.$$typeof;switch(dn){case q:switch(qe=qe.type){case Ae:case Fe:case pe:case ye:case de:case ft:return qe;default:switch(qe=qe&&qe.$$typeof){case we:case He:case Oe:return qe;default:return dn}}case St:case it:case ae:return dn}}}o(st,"y");function wt(qe){return st(qe)===Fe}o(wt,"z"),_.typeOf=st,_.AsyncMode=Ae,_.ConcurrentMode=Fe,_.ContextConsumer=we,_.ContextProvider=Oe,_.Element=q,_.ForwardRef=He,_.Fragment=pe,_.Lazy=St,_.Memo=it,_.Portal=ae,_.Profiler=ye,_.StrictMode=de,_.Suspense=ft,_.isValidElementType=function(qe){return typeof qe=="string"||typeof qe=="function"||qe===pe||qe===Fe||qe===ye||qe===de||qe===ft||qe===We||typeof qe=="object"&&qe!==null&&(qe.$$typeof===St||qe.$$typeof===it||qe.$$typeof===Oe||qe.$$typeof===we||qe.$$typeof===He||qe.$$typeof===Ct||qe.$$typeof===Nt||qe.$$typeof===jt)},_.isAsyncMode=function(qe){return wt(qe)||st(qe)===Ae},_.isConcurrentMode=wt,_.isContextConsumer=function(qe){return st(qe)===we},_.isContextProvider=function(qe){return st(qe)===Oe},_.isElement=function(qe){return typeof qe=="object"&&qe!==null&&qe.$$typeof===q},_.isForwardRef=function(qe){return st(qe)===He},_.isFragment=function(qe){return st(qe)===pe},_.isLazy=function(qe){return st(qe)===St},_.isMemo=function(qe){return st(qe)===it},_.isPortal=function(qe){return st(qe)===ae},_.isProfiler=function(qe){return st(qe)===ye},_.isStrictMode=function(qe){return st(qe)===de},_.isSuspense=function(qe){return st(qe)===ft}});Ma(Ei),Ei.typeOf,Ei.AsyncMode,Ei.ConcurrentMode,Ei.ContextConsumer,Ei.ContextProvider,Ei.Element,Ei.ForwardRef,Ei.Fragment,Ei.Lazy,Ei.Memo,Ei.Portal,Ei.Profiler,Ei.StrictMode,Ei.Suspense,Ei.isValidElementType,Ei.isAsyncMode,Ei.isConcurrentMode,Ei.isContextConsumer,Ei.isContextProvider,Ei.isElement,Ei.isForwardRef,Ei.isFragment,Ei.isLazy,Ei.isMemo,Ei.isPortal,Ei.isProfiler,Ei.isStrictMode,Ei.isSuspense;var bi=ra(function(ee,_){(function(){Object.defineProperty(_,"__esModule",{value:!0});var L=typeof Symbol=="function"&&Symbol.for,q=L?Symbol.for("react.element"):60103,ae=L?Symbol.for("react.portal"):60106,pe=L?Symbol.for("react.fragment"):60107,de=L?Symbol.for("react.strict_mode"):60108,ye=L?Symbol.for("react.profiler"):60114,Oe=L?Symbol.for("react.provider"):60109,we=L?Symbol.for("react.context"):60110,Ae=L?Symbol.for("react.async_mode"):60111,Fe=L?Symbol.for("react.concurrent_mode"):60111,He=L?Symbol.for("react.forward_ref"):60112,ft=L?Symbol.for("react.suspense"):60113,We=L?Symbol.for("react.suspense_list"):60120,it=L?Symbol.for("react.memo"):60115,St=L?Symbol.for("react.lazy"):60116,Ct=L?Symbol.for("react.fundamental"):60117,Nt=L?Symbol.for("react.responder"):60118,jt=L?Symbol.for("react.scope"):60119,st=o(function(Pn,Td){if(Td===void 0)throw new Error("`lowPriorityWarningWithoutStack(condition, format, ...args)` requires a warning message argument");if(!Pn){for(var ll=arguments.length,ic=new Array(2<ll?ll-2:0),Bc=2;Bc<ll;Bc++)ic[Bc-2]=arguments[Bc];(function(YS){for(var Ff=arguments.length,lS=new Array(1<Ff?Ff-1:0),Fc=1;Fc<Ff;Fc++)lS[Fc-1]=arguments[Fc];var XS=0,dS="Warning: "+YS.replace(/%s/g,function(){return lS[XS++]});typeof fi<"u"&&fi.warn(dS);try{throw new Error(dS)}catch{}}).apply(void 0,[Td].concat(ic))}},"lowPriorityWarningWithoutStack$1");function wt(Pn){if(typeof Pn=="object"&&Pn!==null){var Td=Pn.$$typeof;switch(Td){case q:var ll=Pn.type;switch(ll){case Ae:case Fe:case pe:case ye:case de:case ft:return ll;default:var ic=ll&&ll.$$typeof;switch(ic){case we:case He:case Oe:return ic;default:return Td}}case St:case it:case ae:return Td}}}o(wt,"typeOf");var qe=Ae,dn=Fe,An=we,Di=Oe,Pi=q,$i=He,Br=pe,mr=St,No=it,Ss=ae,tc=ye,nc=de,JS=ft,sS=!1;function aS(Pn){return wt(Pn)===Fe}o(aS,"isConcurrentMode"),_.typeOf=wt,_.AsyncMode=qe,_.ConcurrentMode=dn,_.ContextConsumer=An,_.ContextProvider=Di,_.Element=Pi,_.ForwardRef=$i,_.Fragment=Br,_.Lazy=mr,_.Memo=No,_.Portal=Ss,_.Profiler=tc,_.StrictMode=nc,_.Suspense=JS,_.isValidElementType=function(Pn){return typeof Pn=="string"||typeof Pn=="function"||Pn===pe||Pn===Fe||Pn===ye||Pn===de||Pn===ft||Pn===We||typeof Pn=="object"&&Pn!==null&&(Pn.$$typeof===St||Pn.$$typeof===it||Pn.$$typeof===Oe||Pn.$$typeof===we||Pn.$$typeof===He||Pn.$$typeof===Ct||Pn.$$typeof===Nt||Pn.$$typeof===jt)},_.isAsyncMode=function(Pn){return sS||st(!(sS=!0),"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API."),aS(Pn)||wt(Pn)===Ae},_.isConcurrentMode=aS,_.isContextConsumer=function(Pn){return wt(Pn)===we},_.isContextProvider=function(Pn){return wt(Pn)===Oe},_.isElement=function(Pn){return typeof Pn=="object"&&Pn!==null&&Pn.$$typeof===q},_.isForwardRef=function(Pn){return wt(Pn)===He},_.isFragment=function(Pn){return wt(Pn)===pe},_.isLazy=function(Pn){return wt(Pn)===St},_.isMemo=function(Pn){return wt(Pn)===it},_.isPortal=function(Pn){return wt(Pn)===ae},_.isProfiler=function(Pn){return wt(Pn)===ye},_.isStrictMode=function(Pn){return wt(Pn)===de},_.isSuspense=function(Pn){return wt(Pn)===ft}})()});Ma(bi),bi.typeOf,bi.AsyncMode,bi.ConcurrentMode,bi.ContextConsumer,bi.ContextProvider,bi.Element,bi.ForwardRef,bi.Fragment,bi.Lazy,bi.Memo,bi.Portal,bi.Profiler,bi.StrictMode,bi.Suspense,bi.isValidElementType,bi.isAsyncMode,bi.isConcurrentMode,bi.isContextConsumer,bi.isContextProvider,bi.isElement,bi.isForwardRef,bi.isFragment,bi.isLazy,bi.isMemo,bi.isPortal,bi.isProfiler,bi.isStrictMode,bi.isSuspense;var el=ra(function(ee){ee.exports=bi}),tl=Object.getOwnPropertySymbols,Rl=Object.prototype.hasOwnProperty,Al=Object.prototype.propertyIsEnumerable,Ra,nl=function(){try{if(!Object.assign)return!1;var ee=new String("abc");if(ee[5]="de",Object.getOwnPropertyNames(ee)[0]==="5")return!1;for(var _={},L=0;L<10;L++)_["_"+String.fromCharCode(L)]=L;if(Object.getOwnPropertyNames(_).map(function(ae){return _[ae]}).join("")!=="0123456789")return!1;var q={};return"abcdefghijklmnopqrst".split("").forEach(function(ae){q[ae]=ae}),Object.keys(Object.assign({},q)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(ee,_){for(var L,q,ae=function(Oe){if(Oe==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Oe)}(ee),pe=1;pe<arguments.length;pe++){for(var de in L=Object(arguments[pe]))Rl.call(L,de)&&(ae[de]=L[de]);if(tl){q=tl(L);for(var ye=0;ye<q.length;ye++)Al.call(L,q[ye])&&(ae[q[ye]]=L[q[ye]])}}return ae},_s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Aa={},Pl=Function.call.bind(Object.prototype.hasOwnProperty);function il(ee,_,L,q,ae){for(var pe in ee)if(Pl(ee,pe)){var de;try{if(typeof ee[pe]!="function"){var ye=Error((q||"React class")+": "+L+" type `"+pe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ee[pe]+"`.");throw ye.name="Invariant Violation",ye}de=ee[pe](_,pe,q,L,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(we){de=we}if(!de||de instanceof Error||Ra((q||"React class")+": type specification of "+L+" `"+pe+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof de+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),de instanceof Error&&!(de.message in Aa)){Aa[de.message]=!0;var Oe=ae?ae():"";Ra("Failed "+L+" type: "+de.message+(Oe??""))}}}o(il,"checkPropTypes"),Ra=o(function(ee){var _="Warning: "+ee;typeof fi<"u"&&fi.error(_);try{throw new Error(_)}catch{}},"printWarning"),il.resetWarningCache=function(){Aa={}};var oa,rl=il,_l=Function.call.bind(Object.prototype.hasOwnProperty);function Sd(){return null}o(Sd,"emptyFunctionThatReturnsNull"),oa=o(function(ee){var _="Warning: "+ee;typeof fi<"u"&&fi.error(_);try{throw new Error(_)}catch{}},"printWarning$1");function Wd(ee,_){var L=typeof Symbol=="function"&&Symbol.iterator,q="@@iterator",ae="<<anonymous>>",pe={array:we("array"),bool:we("boolean"),func:we("function"),number:we("number"),object:we("object"),string:we("string"),symbol:we("symbol"),any:Oe(Sd),arrayOf:function(We){return Oe(function(it,St,Ct,Nt,jt){if(typeof We!="function")return new ye("Property `"+jt+"` of component `"+Ct+"` has invalid PropType notation inside arrayOf.");var st=it[St];if(!Array.isArray(st))return new ye("Invalid "+Nt+" `"+jt+"` of type `"+Fe(st)+"` supplied to `"+Ct+"`, expected an array.");for(var wt=0;wt<st.length;wt++){var qe=We(st,wt,Ct,Nt,jt+"["+wt+"]",_s);if(qe instanceof Error)return qe}return null})},element:Oe(function(We,it,St,Ct,Nt){var jt=We[it];return ee(jt)?null:new ye("Invalid "+Ct+" `"+Nt+"` of type `"+Fe(jt)+"` supplied to `"+St+"`, expected a single ReactElement.")}),elementType:Oe(function(We,it,St,Ct,Nt){var jt=We[it];return el.isValidElementType(jt)?null:new ye("Invalid "+Ct+" `"+Nt+"` of type `"+Fe(jt)+"` supplied to `"+St+"`, expected a single ReactElement type.")}),instanceOf:function(We){return Oe(function(it,St,Ct,Nt,jt){if(it[St]instanceof We)return null;var st=We.name||ae;return new ye("Invalid "+Nt+" `"+jt+"` of type `"+function(wt){return wt.constructor&&wt.constructor.name?wt.constructor.name:ae}(it[St])+"` supplied to `"+Ct+"`, expected instance of `"+st+"`.")})},node:Oe(function(We,it,St,Ct,Nt){return Ae(We[it])?null:new ye("Invalid "+Ct+" `"+Nt+"` supplied to `"+St+"`, expected a ReactNode.")}),objectOf:function(We){return Oe(function(it,St,Ct,Nt,jt){if(typeof We!="function")return new ye("Property `"+jt+"` of component `"+Ct+"` has invalid PropType notation inside objectOf.");var st=it[St],wt=Fe(st);if(wt!=="object")return new ye("Invalid "+Nt+" `"+jt+"` of type `"+wt+"` supplied to `"+Ct+"`, expected an object.");for(var qe in st)if(_l(st,qe)){var dn=We(st,qe,Ct,Nt,jt+"."+qe,_s);if(dn instanceof Error)return dn}return null})},oneOf:function(We){return Array.isArray(We)?Oe(function(it,St,Ct,Nt,jt){for(var st=it[St],wt=0;wt<We.length;wt++)if(de(st,We[wt]))return null;var qe=JSON.stringify(We,function(dn,An){return He(An)==="symbol"?String(An):An});return new ye("Invalid "+Nt+" `"+jt+"` of value `"+String(st)+"` supplied to `"+Ct+"`, expected one of "+qe+".")}):(oa(1<arguments.length?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),Sd)},oneOfType:function(We){if(!Array.isArray(We))return oa("Invalid argument supplied to oneOfType, expected an instance of array."),Sd;for(var it=0;it<We.length;it++){var St=We[it];if(typeof St!="function")return oa("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ft(St)+" at index "+it+"."),Sd}return Oe(function(Ct,Nt,jt,st,wt){for(var qe=0;qe<We.length;qe++)if((0,We[qe])(Ct,Nt,jt,st,wt,_s)==null)return null;return new ye("Invalid "+st+" `"+wt+"` supplied to `"+jt+"`.")})},shape:function(We){return Oe(function(it,St,Ct,Nt,jt){var st=it[St],wt=Fe(st);if(wt!=="object")return new ye("Invalid "+Nt+" `"+jt+"` of type `"+wt+"` supplied to `"+Ct+"`, expected `object`.");for(var qe in We){var dn=We[qe];if(dn){var An=dn(st,qe,Ct,Nt,jt+"."+qe,_s);if(An)return An}}return null})},exact:function(We){return Oe(function(it,St,Ct,Nt,jt){var st=it[St],wt=Fe(st);if(wt!=="object")return new ye("Invalid "+Nt+" `"+jt+"` of type `"+wt+"` supplied to `"+Ct+"`, expected `object`.");var qe=nl({},it[St],We);for(var dn in qe){var An=We[dn];if(!An)return new ye("Invalid "+Nt+" `"+jt+"` key `"+dn+"` supplied to `"+Ct+"`.\nBad object: "+JSON.stringify(it[St],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(We),null,"  "));var Di=An(st,dn,Ct,Nt,jt+"."+dn,_s);if(Di)return Di}return null})}};function de(We,it){return We===it?We!==0||1/We==1/it:We!=We&&it!=it}o(de,"is");function ye(We){this.message=We,this.stack=""}o(ye,"PropTypeError");function Oe(We){var it={},St=0;function Ct(jt,st,wt,qe,dn,An,Di){if(qe=qe||ae,An=An||wt,Di!==_s){if(_){var Pi=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Pi.name="Invariant Violation",Pi}if(typeof fi<"u"){var $i=qe+":"+wt;!it[$i]&&St<3&&(oa("You are manually calling a React.PropTypes validation function for the `"+An+"` prop on `"+qe+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),it[$i]=!0,St++)}}return st[wt]==null?jt?st[wt]===null?new ye("The "+dn+" `"+An+"` is marked as required in `"+qe+"`, but its value is `null`."):new ye("The "+dn+" `"+An+"` is marked as required in `"+qe+"`, but its value is `undefined`."):null:We(st,wt,qe,dn,An)}o(Ct,"checkType");var Nt=Ct.bind(null,!1);return Nt.isRequired=Ct.bind(null,!0),Nt}o(Oe,"createChainableTypeChecker");function we(We){return Oe(function(it,St,Ct,Nt,jt,st){var wt=it[St];return Fe(wt)===We?null:new ye("Invalid "+Nt+" `"+jt+"` of type `"+He(wt)+"` supplied to `"+Ct+"`, expected `"+We+"`.")})}o(we,"createPrimitiveTypeChecker");function Ae(We){switch(typeof We){case"number":case"string":case"undefined":return!0;case"boolean":return!We;case"object":if(Array.isArray(We))return We.every(Ae);if(We===null||ee(We))return!0;var it=function(jt){var st=jt&&(L&&jt[L]||jt[q]);if(typeof st=="function")return st}(We);if(!it)return!1;var St,Ct=it.call(We);if(it!==We.entries){for(;!(St=Ct.next()).done;)if(!Ae(St.value))return!1}else for(;!(St=Ct.next()).done;){var Nt=St.value;if(Nt&&!Ae(Nt[1]))return!1}return!0;default:return!1}}o(Ae,"isNode");function Fe(We){var it=typeof We;return Array.isArray(We)?"array":We instanceof RegExp?"object":function(St,Ct){return St==="symbol"||!!Ct&&(Ct["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Ct instanceof Symbol)}(it,We)?"symbol":it}o(Fe,"getPropType");function He(We){if(We==null)return""+We;var it=Fe(We);if(it==="object"){if(We instanceof Date)return"date";if(We instanceof RegExp)return"regexp"}return it}o(He,"getPreciseType");function ft(We){var it=He(We);switch(it){case"array":case"object":return"an "+it;case"boolean":case"date":case"regexp":return"a "+it;default:return it}}return o(ft,"getPostfixForTypeWarning"),ye.prototype=Error.prototype,pe.checkPropTypes=rl,pe.resetWarningCache=rl.resetWarningCache,pe.PropTypes=pe}o(Wd,"factoryWithTypeCheckers");var dt=ra(function(ee){var _=el;ee.exports=Wd(_.isElement,!0)});function jd(ee){var _,L,q="";if(ee)if(typeof ee=="object")if(ee.push)for(_=0;_<ee.length;_++)ee[_]&&(L=jd(ee[_]))&&(q&&(q+=" "),q+=L);else for(_ in ee)ee[_]&&(L=jd(_))&&(q&&(q+=" "),q+=L);else typeof ee=="boolean"||ee.call||(q&&(q+=" "),q+=ee);return q}o(jd,"toVal");function Do(){for(var ee,_=0,L="";_<arguments.length;)(ee=jd(arguments[_++]))&&(L&&(L+=" "),L+=ee);return L}o(Do,"clsx");function ol(ee){var _=!(0<arguments.length&&ee!==void 0)||ee,L={};return function(q){var ae=q.callback,pe=q.indices,de=Object.keys(pe),ye=!_||de.every(function(we){var Ae=pe[we];return Array.isArray(Ae)?0<Ae.length:0<=Ae}),Oe=de.length!==Object.keys(L).length||de.some(function(we){var Ae=L[we],Fe=pe[we];return Array.isArray(Fe)?Ae.join(",")!==Fe.join(","):Ae!==Fe});L=pe,ye&&Oe&&ae(pe)}}o(ol,"createCallbackMemoizer");var vd,Gd=!(typeof W>"u"||!W.document||!W.document.createElement);function $d(ee){if((!vd&&vd!==0||ee)&&Gd){var _=Un.createElement("div");_.style.position="absolute",_.style.top="-9999px",_.style.width="50px",_.style.height="50px",_.style.overflow="scroll",Un.body.appendChild(_),vd=_.offsetWidth-_.clientWidth,Un.body.removeChild(_)}return vd}o($d,"scrollbarSize");var Mf="observed",Pa="requested",yd=function(){function ee(){var _,L;Yi(this,ee);for(var q=arguments.length,ae=new Array(q),pe=0;pe<q;pe++)ae[pe]=arguments[pe];return Ue(ut(L=xr(this,(_=Rr(ee)).call.apply(_,[this].concat(ae)))),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),Ue(ut(L),"_calculateSizeAndPositionDataOnNextUpdate",!1),Ue(ut(L),"_onSectionRenderedMemoizer",ol()),Ue(ut(L),"_onScrollMemoizer",ol(!1)),Ue(ut(L),"_invokeOnSectionRenderedHelper",function(){var de=L.props,ye=de.cellLayoutManager,Oe=de.onSectionRendered;L._onSectionRenderedMemoizer({callback:Oe,indices:{indices:ye.getLastRenderedIndices()}})}),Ue(ut(L),"_setScrollingContainerRef",function(de){L._scrollingContainer=de}),Ue(ut(L),"_updateScrollPositionForScrollToCell",function(){var de=L.props,ye=de.cellLayoutManager,Oe=de.height,we=de.scrollToAlignment,Ae=de.scrollToCell,Fe=de.width,He=L.state,ft=He.scrollLeft,We=He.scrollTop;if(0<=Ae){var it=ye.getScrollPositionForCell({align:we,cellIndex:Ae,height:Oe,scrollLeft:ft,scrollTop:We,width:Fe});it.scrollLeft===ft&&it.scrollTop===We||L._setScrollPosition(it)}}),Ue(ut(L),"_onScroll",function(de){if(de.target===L._scrollingContainer){L._enablePointerEventsAfterDelay();var ye=L.props,Oe=ye.cellLayoutManager,we=ye.height,Ae=ye.isScrollingChange,Fe=ye.width,He=L._scrollbarSize,ft=Oe.getTotalSize(),We=ft.height,it=ft.width,St=Math.max(0,Math.min(it-Fe+He,de.target.scrollLeft)),Ct=Math.max(0,Math.min(We-we+He,de.target.scrollTop));if(L.state.scrollLeft!==St||L.state.scrollTop!==Ct){var Nt=de.cancelable?Mf:Pa;L.state.isScrolling||Ae(!0),L.setState({isScrolling:!0,scrollLeft:St,scrollPositionChangeReason:Nt,scrollTop:Ct})}L._invokeOnScrollMemoizer({scrollLeft:St,scrollTop:Ct,totalWidth:it,totalHeight:We})}}),L._scrollbarSize=$d(),L._scrollbarSize===void 0?(L._scrollbarSizeMeasured=!1,L._scrollbarSize=0):L._scrollbarSizeMeasured=!0,L}return o(ee,"CollectionView"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var _=this.props,L=_.cellLayoutManager,q=_.scrollLeft,ae=_.scrollToCell,pe=_.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=$d(),this._scrollbarSizeMeasured=!0,this.setState({})),0<=ae?this._updateScrollPositionForScrollToCell():(0<=q||0<=pe)&&this._setScrollPosition({scrollLeft:q,scrollTop:pe}),this._invokeOnSectionRenderedHelper();var de=L.getTotalSize(),ye=de.height,Oe=de.width;this._invokeOnScrollMemoizer({scrollLeft:q||0,scrollTop:pe||0,totalHeight:ye,totalWidth:Oe})}},{key:"componentDidUpdate",value:function(_,L){var q=this.props,ae=q.height,pe=q.scrollToAlignment,de=q.scrollToCell,ye=q.width,Oe=this.state,we=Oe.scrollLeft,Ae=Oe.scrollPositionChangeReason,Fe=Oe.scrollTop;Ae===Pa&&(0<=we&&we!==L.scrollLeft&&we!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=we),0<=Fe&&Fe!==L.scrollTop&&Fe!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=Fe)),ae===_.height&&pe===_.scrollToAlignment&&de===_.scrollToCell&&ye===_.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&bn(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var _=this.props,L=_.autoHeight,q=_.cellCount,ae=_.cellLayoutManager,pe=_.className,de=_.height,ye=_.horizontalOverscanSize,Oe=_.id,we=_.noContentRenderer,Ae=_.style,Fe=_.verticalOverscanSize,He=_.width,ft=this.state,We=ft.isScrolling,it=ft.scrollLeft,St=ft.scrollTop;this._lastRenderedCellCount===q&&this._lastRenderedCellLayoutManager===ae&&!this._calculateSizeAndPositionDataOnNextUpdate||(this._lastRenderedCellCount=q,this._lastRenderedCellLayoutManager=ae,this._calculateSizeAndPositionDataOnNextUpdate=!1,ae.calculateSizeAndPositionData());var Ct=ae.getTotalSize(),Nt=Ct.height,jt=Ct.width,st=Math.max(0,it-ye),wt=Math.max(0,St-Fe),qe=Math.min(jt,it+He+ye),dn=Math.min(Nt,St+de+Fe),An=0<de&&0<He?ae.cellRenderers({height:dn-wt,isScrolling:We,width:qe-st,x:st,y:wt}):[],Di={boxSizing:"border-box",direction:"ltr",height:L?"auto":de,position:"relative",WebkitOverflowScrolling:"touch",width:He,willChange:"transform"},Pi=de<Nt?this._scrollbarSize:0,$i=He<jt?this._scrollbarSize:0;return Di.overflowX=jt+Pi<=He?"hidden":"auto",Di.overflowY=Nt+$i<=de?"hidden":"auto",Sn.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Do("ReactVirtualized__Collection",pe),id:Oe,onScroll:this._onScroll,role:"grid",style:si({},Di,{},Ae),tabIndex:0},0<q&&Sn.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:Nt,maxHeight:Nt,maxWidth:jt,overflow:"hidden",pointerEvents:We?"none":"",width:jt}},An),q===0&&we())}},{key:"_enablePointerEventsAfterDelay",value:function(){var _=this;this._disablePointerEventsTimeoutId&&bn(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Tf(function(){(0,_.props.isScrollingChange)(!1),_._disablePointerEventsTimeoutId=null,_.setState({isScrolling:!1})},150)}},{key:"_invokeOnScrollMemoizer",value:function(_){var L=this,q=_.scrollLeft,ae=_.scrollTop,pe=_.totalHeight,de=_.totalWidth;this._onScrollMemoizer({callback:function(ye){var Oe=ye.scrollLeft,we=ye.scrollTop,Ae=L.props,Fe=Ae.height;(0,Ae.onScroll)({clientHeight:Fe,clientWidth:Ae.width,scrollHeight:pe,scrollLeft:Oe,scrollTop:we,scrollWidth:de})},indices:{scrollLeft:q,scrollTop:ae}})}},{key:"_setScrollPosition",value:function(_){var L=_.scrollLeft,q=_.scrollTop,ae={scrollPositionChangeReason:Pa};0<=L&&(ae.scrollLeft=L),0<=q&&(ae.scrollTop=q),(0<=L&&L!==this.state.scrollLeft||0<=q&&q!==this.state.scrollTop)&&this.setState(ae)}}],[{key:"getDerivedStateFromProps",value:function(_,L){return _.cellCount!==0||L.scrollLeft===0&&L.scrollTop===0?_.scrollLeft!==L.scrollLeft||_.scrollTop!==L.scrollTop?{scrollLeft:_.scrollLeft!=null?_.scrollLeft:L.scrollLeft,scrollTop:_.scrollTop!=null?_.scrollTop:L.scrollTop,scrollPositionChangeReason:Pa}:null:{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Pa}}}]),ee}();Ue(yd,"propTypes",{"aria-label":dt.string,autoHeight:dt.bool,cellCount:dt.number.isRequired,cellLayoutManager:dt.object.isRequired,className:dt.string,height:dt.number.isRequired,id:dt.string,horizontalOverscanSize:dt.number.isRequired,isScrollingChange:dt.func,noContentRenderer:dt.func.isRequired,onScroll:dt.func.isRequired,onSectionRendered:dt.func.isRequired,scrollLeft:dt.number,scrollToAlignment:dt.oneOf(["auto","end","start","center"]).isRequired,scrollToCell:dt.number.isRequired,scrollTop:dt.number,style:dt.object,verticalOverscanSize:dt.number.isRequired,width:dt.number.isRequired}),Ue(yd,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),ia(yd);var Rf=function(){function ee(_){var L=_.height,q=_.width,ae=_.x,pe=_.y;Yi(this,ee),this.height=L,this.width=q,this.x=ae,this.y=pe,this._indexMap={},this._indices=[]}return o(ee,"Section"),qi(ee,[{key:"addCellIndex",value:function(_){var L=_.index;this._indexMap[L]||(this._indexMap[L]=!0,this._indices.push(L))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),ee}(),Kd=function(){function ee(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:100;Yi(this,ee),this._sectionSize=_,this._cellMetadata=[],this._sections={}}return o(ee,"SectionManager"),qi(ee,[{key:"getCellIndices",value:function(_){var L=_.height,q=_.width,ae=_.x,pe=_.y,de={};return this.getSections({height:L,width:q,x:ae,y:pe}).forEach(function(ye){return ye.getCellIndices().forEach(function(Oe){de[Oe]=Oe})}),Object.keys(de).map(function(ye){return de[ye]})}},{key:"getCellMetadata",value:function(_){var L=_.index;return this._cellMetadata[L]}},{key:"getSections",value:function(_){for(var L=_.height,q=_.width,ae=_.x,pe=_.y,de=Math.floor(ae/this._sectionSize),ye=Math.floor((ae+q-1)/this._sectionSize),Oe=Math.floor(pe/this._sectionSize),we=Math.floor((pe+L-1)/this._sectionSize),Ae=[],Fe=de;Fe<=ye;Fe++)for(var He=Oe;He<=we;He++){var ft="".concat(Fe,".").concat(He);this._sections[ft]||(this._sections[ft]=new Rf({height:this._sectionSize,width:this._sectionSize,x:Fe*this._sectionSize,y:He*this._sectionSize})),Ae.push(this._sections[ft])}return Ae}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var _=this;return Object.keys(this._sections).map(function(L){return _._sections[L].toString()})}},{key:"registerCell",value:function(_){var L=_.cellMetadatum,q=_.index;this._cellMetadata[q]=L,this.getSections(L).forEach(function(ae){return ae.addCellIndex({index:q})})}}]),ee}();function Pc(ee){var _=ee.align,L=_===void 0?"auto":_,q=ee.cellOffset,ae=ee.cellSize,pe=ee.containerSize,de=ee.currentOffset,ye=q,Oe=ye-pe+ae;switch(L){case"start":return ye;case"end":return Oe;case"center":return ye-(pe-ae)/2;default:return Math.max(Oe,Math.min(ye,de))}}o(Pc,"getUpdatedOffsetForIndex");var Jd=function(){function ee(_,L){var q;return Yi(this,ee),(q=xr(this,Rr(ee).call(this,_,L)))._cellMetadata=[],q._lastRenderedCellIndices=[],q._cellCache=[],q._isScrollingChange=q._isScrollingChange.bind(ut(q)),q._setCollectionViewRef=q._setCollectionViewRef.bind(ut(q)),q}return o(ee,"Collection"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var _=so({},this.props);return Sn.createElement(yd,so({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},_))}},{key:"calculateSizeAndPositionData",value:function(){var _=this.props,L=function(q){for(var ae=q.cellCount,pe=q.cellSizeAndPositionGetter,de=q.sectionSize,ye=[],Oe=new Kd(de),we=0,Ae=0,Fe=0;Fe<ae;Fe++){var He=pe({index:Fe});if(He.height==null||isNaN(He.height)||He.width==null||isNaN(He.width)||He.x==null||isNaN(He.x)||He.y==null||isNaN(He.y))throw Error("Invalid metadata returned for cell ".concat(Fe,`:
        x:`).concat(He.x,", y:").concat(He.y,", width:").concat(He.width,", height:").concat(He.height));we=Math.max(we,He.y+He.height),Ae=Math.max(Ae,He.x+He.width),ye[Fe]=He,Oe.registerCell({cellMetadatum:He,index:Fe})}return{cellMetadata:ye,height:we,sectionManager:Oe,width:Ae}}({cellCount:_.cellCount,cellSizeAndPositionGetter:_.cellSizeAndPositionGetter,sectionSize:_.sectionSize});this._cellMetadata=L.cellMetadata,this._sectionManager=L.sectionManager,this._height=L.height,this._width=L.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(_){var L=_.align,q=_.cellIndex,ae=_.height,pe=_.scrollLeft,de=_.scrollTop,ye=_.width,Oe=this.props.cellCount;if(0<=q&&q<Oe){var we=this._cellMetadata[q];pe=Pc({align:L,cellOffset:we.x,cellSize:we.width,containerSize:ye,currentOffset:pe,targetIndex:q}),de=Pc({align:L,cellOffset:we.y,cellSize:we.height,containerSize:ae,currentOffset:de,targetIndex:q})}return{scrollLeft:pe,scrollTop:de}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(_){var L=this,q=_.height,ae=_.isScrolling,pe=_.width,de=_.x,ye=_.y,Oe=this.props,we=Oe.cellGroupRenderer,Ae=Oe.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:q,width:pe,x:de,y:ye}),we({cellCache:this._cellCache,cellRenderer:Ae,cellSizeAndPositionGetter:function(Fe){var He=Fe.index;return L._sectionManager.getCellMetadata({index:He})},indices:this._lastRenderedCellIndices,isScrolling:ae})}},{key:"_isScrollingChange",value:function(_){_||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(_){this._collectionView=_}}]),ee}();Ue(Jd,"propTypes",{"aria-label":dt.string,cellCount:dt.number.isRequired,cellGroupRenderer:dt.func.isRequired,cellRenderer:dt.func.isRequired,cellSizeAndPositionGetter:dt.func.isRequired,sectionSize:dt.number}),Ue(Jd,"defaultProps",{"aria-label":"grid",cellGroupRenderer:function(ee){var _=ee.cellCache,L=ee.cellRenderer,q=ee.cellSizeAndPositionGetter,ae=ee.indices,pe=ee.isScrolling;return ae.map(function(de){var ye=q({index:de}),Oe={index:de,isScrolling:pe,key:de,style:{height:ye.height,left:ye.x,position:"absolute",top:ye.y,width:ye.width}};return pe?(de in _||(_[de]=L(Oe)),_[de]):L(Oe)}).filter(function(de){return!!de})}});var bd=function(){function ee(_,L){var q;return Yi(this,ee),(q=xr(this,Rr(ee).call(this,_,L)))._registerChild=q._registerChild.bind(ut(q)),q}return o(ee,"ColumnSizer"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"componentDidUpdate",value:function(_){var L=this.props,q=L.columnMaxWidth,ae=L.columnMinWidth,pe=L.columnCount,de=L.width;q===_.columnMaxWidth&&ae===_.columnMinWidth&&pe===_.columnCount&&de===_.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var _=this.props,L=_.children,q=_.columnMaxWidth,ae=_.columnMinWidth,pe=_.columnCount,de=_.width,ye=ae||1,Oe=q?Math.min(q,de):de,we=de/pe;return we=Math.max(ye,we),we=Math.min(Oe,we),we=Math.floor(we),L({adjustedWidth:Math.min(de,we*pe),columnWidth:we,getColumnWidth:function(){return we},registerChild:this._registerChild})}},{key:"_registerChild",value:function(_){if(_&&typeof _.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=_,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),ee}();function _c(ee){var _=ee.cellCount,L=ee.cellSize,q=ee.computeMetadataCallback,ae=ee.computeMetadataCallbackProps,pe=ee.nextCellsCount,de=ee.nextCellSize,ye=ee.nextScrollToIndex,Oe=ee.scrollToIndex,we=ee.updateScrollOffsetForScrollToIndex;_===pe&&(typeof L!="number"&&typeof de!="number"||L===de)||(q(ae),0<=Oe&&Oe===ye&&we())}o(_c,"calculateSizeAndPositionDataAndUpdateScrollOffset"),Ue(bd,"propTypes",{children:dt.func.isRequired,columnMaxWidth:dt.number,columnMinWidth:dt.number,columnCount:dt.number.isRequired,width:dt.number.isRequired});var Qo,Yd=function(){function ee(_){var L=_.cellCount,q=_.cellSizeGetter,ae=_.estimatedCellSize;Yi(this,ee),Ue(this,"_cellSizeAndPositionData",{}),Ue(this,"_lastMeasuredIndex",-1),Ue(this,"_lastBatchedIndex",-1),Ue(this,"_cellCount",void 0),Ue(this,"_cellSizeGetter",void 0),Ue(this,"_estimatedCellSize",void 0),this._cellSizeGetter=q,this._cellCount=L,this._estimatedCellSize=ae}return o(ee,"CellSizeAndPositionManager"),qi(ee,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(_){var L=_.cellCount,q=_.estimatedCellSize,ae=_.cellSizeGetter;this._cellCount=L,this._estimatedCellSize=q,this._cellSizeGetter=ae}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(_){if(_<0||_>=this._cellCount)throw Error("Requested index ".concat(_," is outside of range 0..").concat(this._cellCount));if(_>this._lastMeasuredIndex)for(var L=this.getSizeAndPositionOfLastMeasuredCell(),q=L.offset+L.size,ae=this._lastMeasuredIndex+1;ae<=_;ae++){var pe=this._cellSizeGetter({index:ae});if(pe===void 0||isNaN(pe))throw Error("Invalid size returned for cell ".concat(ae," of value ").concat(pe));pe===null?(this._cellSizeAndPositionData[ae]={offset:q,size:0},this._lastBatchedIndex=_):(this._cellSizeAndPositionData[ae]={offset:q,size:pe},q+=pe,this._lastMeasuredIndex=_)}return this._cellSizeAndPositionData[_]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return 0<=this._lastMeasuredIndex?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var _=this.getSizeAndPositionOfLastMeasuredCell();return _.offset+_.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(_){var L=_.align,q=L===void 0?"auto":L,ae=_.containerSize,pe=_.currentOffset,de=_.targetIndex;if(ae<=0)return 0;var ye,Oe=this.getSizeAndPositionOfCell(de),we=Oe.offset,Ae=we-ae+Oe.size;switch(q){case"start":ye=we;break;case"end":ye=Ae;break;case"center":ye=we-(ae-Oe.size)/2;break;default:ye=Math.max(Ae,Math.min(we,pe))}var Fe=this.getTotalSize();return Math.max(0,Math.min(Fe-ae,ye))}},{key:"getVisibleCellRange",value:function(_){var L=_.containerSize,q=_.offset;if(this.getTotalSize()===0)return{};var ae=q+L,pe=this._findNearestCell(q),de=this.getSizeAndPositionOfCell(pe);q=de.offset+de.size;for(var ye=pe;q<ae&&ye<this._cellCount-1;)ye++,q+=this.getSizeAndPositionOfCell(ye).size;return{start:pe,stop:ye}}},{key:"resetCell",value:function(_){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,_-1)}},{key:"_binarySearch",value:function(_,L,q){for(;L<=_;){var ae=L+Math.floor((_-L)/2),pe=this.getSizeAndPositionOfCell(ae).offset;if(pe===q)return ae;pe<q?L=ae+1:q<pe&&(_=ae-1)}return 0<L?L-1:0}},{key:"_exponentialSearch",value:function(_,L){for(var q=1;_<this._cellCount&&this.getSizeAndPositionOfCell(_).offset<L;)_+=q,q*=2;return this._binarySearch(Math.min(_,this._cellCount-1),Math.floor(_/2),L)}},{key:"_findNearestCell",value:function(_){if(isNaN(_))throw Error("Invalid offset ".concat(_," specified"));_=Math.max(0,_);var L=this.getSizeAndPositionOfLastMeasuredCell(),q=Math.max(0,this._lastMeasuredIndex);return L.offset>=_?this._binarySearch(q,0,_):this._exponentialSearch(q,_)}}]),ee}(),Af=o(function(){return typeof W<"u"&&W.chrome?16777100:15e5},"getMaxElementSize"),kc=function(){function ee(_){var L=_.maxScrollSize,q=L===void 0?Af():L,ae=na(_,["maxScrollSize"]);Yi(this,ee),Ue(this,"_cellSizeAndPositionManager",void 0),Ue(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Yd(ae),this._maxScrollSize=q}return o(ee,"ScalingCellSizeAndPositionManager"),qi(ee,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(_){this._cellSizeAndPositionManager.configure(_)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(_){var L=_.containerSize,q=_.offset,ae=this._cellSizeAndPositionManager.getTotalSize(),pe=this.getTotalSize(),de=this._getOffsetPercentage({containerSize:L,offset:q,totalSize:pe});return Math.round(de*(pe-ae))}},{key:"getSizeAndPositionOfCell",value:function(_){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(_)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(_){var L=_.align,q=L===void 0?"auto":L,ae=_.containerSize,pe=_.currentOffset,de=_.targetIndex;pe=this._safeOffsetToOffset({containerSize:ae,offset:pe});var ye=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:q,containerSize:ae,currentOffset:pe,targetIndex:de});return this._offsetToSafeOffset({containerSize:ae,offset:ye})}},{key:"getVisibleCellRange",value:function(_){var L=_.containerSize,q=_.offset;return q=this._safeOffsetToOffset({containerSize:L,offset:q}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:L,offset:q})}},{key:"resetCell",value:function(_){this._cellSizeAndPositionManager.resetCell(_)}},{key:"_getOffsetPercentage",value:function(_){var L=_.containerSize,q=_.offset,ae=_.totalSize;return ae<=L?0:q/(ae-L)}},{key:"_offsetToSafeOffset",value:function(_){var L=_.containerSize,q=_.offset,ae=this._cellSizeAndPositionManager.getTotalSize(),pe=this.getTotalSize();if(ae===pe)return q;var de=this._getOffsetPercentage({containerSize:L,offset:q,totalSize:ae});return Math.round(de*(pe-L))}},{key:"_safeOffsetToOffset",value:function(_){var L=_.containerSize,q=_.offset,ae=this._cellSizeAndPositionManager.getTotalSize(),pe=this.getTotalSize();if(ae===pe)return q;var de=this._getOffsetPercentage({containerSize:L,offset:q,totalSize:pe});return Math.round(de*(ae-L))}}]),ee}();function Cd(ee){var _=ee.cellCount,L=ee.overscanCellsCount,q=ee.scrollDirection,ae=ee.startIndex,pe=ee.stopIndex;return q===1?{overscanStartIndex:Math.max(0,ae),overscanStopIndex:Math.min(_-1,pe+L)}:{overscanStartIndex:Math.max(0,ae-L),overscanStopIndex:Math.min(_-1,pe)}}o(Cd,"defaultOverscanIndicesGetter");function Dc(ee){var _=ee.cellSize,L=ee.cellSizeAndPositionManager,q=ee.previousCellsCount,ae=ee.previousCellSize,pe=ee.previousScrollToAlignment,de=ee.previousScrollToIndex,ye=ee.previousSize,Oe=ee.scrollOffset,we=ee.scrollToAlignment,Ae=ee.scrollToIndex,Fe=ee.size,He=ee.sizeJustIncreasedFromZero,ft=ee.updateScrollIndexCallback,We=L.getCellCount(),it=0<=Ae&&Ae<We;it&&(Fe!==ye||He||!ae||typeof _=="number"&&_!==ae||we!==pe||Ae!==de)?ft(Ae):!it&&0<We&&(Fe<ye||We<q)&&Oe>L.getTotalSize()-Fe&&ft(We-1)}o(Dc,"updateScrollIndexHelper");function Lc(ee){for(var _=ee.cellCache,L=ee.cellRenderer,q=ee.columnSizeAndPositionManager,ae=ee.columnStartIndex,pe=ee.columnStopIndex,de=ee.deferredMeasurementCache,ye=ee.horizontalOffsetAdjustment,Oe=ee.isScrolling,we=ee.isScrollingOptOut,Ae=ee.parent,Fe=ee.rowSizeAndPositionManager,He=ee.rowStartIndex,ft=ee.rowStopIndex,We=ee.styleCache,it=ee.verticalOffsetAdjustment,St=ee.visibleColumnIndices,Ct=ee.visibleRowIndices,Nt=[],jt=q.areOffsetsAdjusted()||Fe.areOffsetsAdjusted(),st=!Oe&&!jt,wt=He;wt<=ft;wt++)for(var qe=Fe.getSizeAndPositionOfCell(wt),dn=ae;dn<=pe;dn++){var An=q.getSizeAndPositionOfCell(dn),Di=dn>=St.start&&dn<=St.stop&&wt>=Ct.start&&wt<=Ct.stop,Pi="".concat(wt,"-").concat(dn),$i=void 0;st&&We[Pi]?$i=We[Pi]:de&&!de.has(wt,dn)?$i={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:($i={height:qe.size,left:An.offset+ye,position:"absolute",top:qe.offset+it,width:An.size},We[Pi]=$i);var Br={columnIndex:dn,isScrolling:Oe,isVisible:Di,key:Pi,parent:Ae,rowIndex:wt,style:$i},mr=void 0;(mr=!we&&!Oe||ye||it?L(Br):(_[Pi]||(_[Pi]=L(Br)),_[Pi]))!=null&&mr!==!1&&(Xd(Ae,mr),Nt.push(mr))}return Nt}o(Lc,"defaultCellRangeRenderer");function Xd(ee,_){_&&(_.type&&_.type.__internalCellMeasurerFlag&&(_=_.props.children),_&&_.props&&_.props.style===void 0&&ee.__warnedAboutMissingStyle!==!0&&(ee.__warnedAboutMissingStyle=!0,fi.warn("Rendered cell should include style property for positioning.")))}o(Xd,"warnAboutMissingStyle");var Pf=(Qo=typeof W<"u"?W:typeof cd<"u"?cd:{}).requestAnimationFrame||Qo.webkitRequestAnimationFrame||Qo.mozRequestAnimationFrame||Qo.oRequestAnimationFrame||Qo.msRequestAnimationFrame||function(ee){return Qo.setTimeout(ee,1e3/60)},_f=Qo.cancelAnimationFrame||Qo.webkitCancelAnimationFrame||Qo.mozCancelAnimationFrame||Qo.oCancelAnimationFrame||Qo.msCancelAnimationFrame||function(ee){Qo.clearTimeout(ee)},Ed=Pf,kf=_f,sl=o(function(ee){return kf(ee.id)},"cancelAnimationTimeout"),kl=o(function(ee,_){var L;Promise.resolve().then(function(){L=Date.now()});var q={id:Ed(o(function ae(){Date.now()-L>=_?ee.call():q.id=Ed(ae)},"timeout"))};return q},"requestAnimationTimeout"),Df="observed",Nc="requested",gs=function(){function ee(_){var L;Yi(this,ee),Ue(ut(L=xr(this,Rr(ee).call(this,_))),"_onGridRenderedMemoizer",ol()),Ue(ut(L),"_onScrollMemoizer",ol(!1)),Ue(ut(L),"_deferredInvalidateColumnIndex",null),Ue(ut(L),"_deferredInvalidateRowIndex",null),Ue(ut(L),"_recomputeScrollLeftFlag",!1),Ue(ut(L),"_recomputeScrollTopFlag",!1),Ue(ut(L),"_horizontalScrollBarSize",0),Ue(ut(L),"_verticalScrollBarSize",0),Ue(ut(L),"_scrollbarPresenceChanged",!1),Ue(ut(L),"_scrollingContainer",void 0),Ue(ut(L),"_childrenToDisplay",void 0),Ue(ut(L),"_columnStartIndex",void 0),Ue(ut(L),"_columnStopIndex",void 0),Ue(ut(L),"_rowStartIndex",void 0),Ue(ut(L),"_rowStopIndex",void 0),Ue(ut(L),"_renderedColumnStartIndex",0),Ue(ut(L),"_renderedColumnStopIndex",0),Ue(ut(L),"_renderedRowStartIndex",0),Ue(ut(L),"_renderedRowStopIndex",0),Ue(ut(L),"_initialScrollTop",void 0),Ue(ut(L),"_initialScrollLeft",void 0),Ue(ut(L),"_disablePointerEventsTimeoutId",void 0),Ue(ut(L),"_styleCache",{}),Ue(ut(L),"_cellCache",{}),Ue(ut(L),"_debounceScrollEndedCallback",function(){L._disablePointerEventsTimeoutId=null,L.setState({isScrolling:!1,needToResetStyleCache:!1})}),Ue(ut(L),"_invokeOnGridRenderedHelper",function(){var pe=L.props.onSectionRendered;L._onGridRenderedMemoizer({callback:pe,indices:{columnOverscanStartIndex:L._columnStartIndex,columnOverscanStopIndex:L._columnStopIndex,columnStartIndex:L._renderedColumnStartIndex,columnStopIndex:L._renderedColumnStopIndex,rowOverscanStartIndex:L._rowStartIndex,rowOverscanStopIndex:L._rowStopIndex,rowStartIndex:L._renderedRowStartIndex,rowStopIndex:L._renderedRowStopIndex}})}),Ue(ut(L),"_setScrollingContainerRef",function(pe){L._scrollingContainer=pe}),Ue(ut(L),"_onScroll",function(pe){pe.target===L._scrollingContainer&&L.handleScrollEvent(pe.target)});var q=new kc({cellCount:_.columnCount,cellSizeGetter:function(pe){return ee._wrapSizeGetter(_.columnWidth)(pe)},estimatedCellSize:ee._getEstimatedColumnSize(_)}),ae=new kc({cellCount:_.rowCount,cellSizeGetter:function(pe){return ee._wrapSizeGetter(_.rowHeight)(pe)},estimatedCellSize:ee._getEstimatedRowSize(_)});return L.state={instanceProps:{columnSizeAndPositionManager:q,rowSizeAndPositionManager:ae,prevColumnWidth:_.columnWidth,prevRowHeight:_.rowHeight,prevColumnCount:_.columnCount,prevRowCount:_.rowCount,prevIsScrolling:_.isScrolling===!0,prevScrollToColumn:_.scrollToColumn,prevScrollToRow:_.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},0<_.scrollToRow&&(L._initialScrollTop=L._getCalculatedScrollTop(_,L.state)),0<_.scrollToColumn&&(L._initialScrollLeft=L._getCalculatedScrollLeft(_,L.state)),L}return o(ee,"Grid"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"getOffsetForCell",value:function(_){var L=0<arguments.length&&_!==void 0?_:{},q=L.alignment,ae=q===void 0?this.props.scrollToAlignment:q,pe=L.columnIndex,de=pe===void 0?this.props.scrollToColumn:pe,ye=L.rowIndex,Oe=ye===void 0?this.props.scrollToRow:ye,we=si({},this.props,{scrollToAlignment:ae,scrollToColumn:de,scrollToRow:Oe});return{scrollLeft:this._getCalculatedScrollLeft(we),scrollTop:this._getCalculatedScrollTop(we)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(_){var L=_.scrollLeft,q=L===void 0?0:L,ae=_.scrollTop,pe=ae===void 0?0:ae;if(!(pe<0)){this._debounceScrollEnded();var de=this.props,ye=de.autoHeight,Oe=de.autoWidth,we=de.height,Ae=de.width,Fe=this.state.instanceProps,He=Fe.scrollbarSize,ft=Fe.rowSizeAndPositionManager.getTotalSize(),We=Fe.columnSizeAndPositionManager.getTotalSize(),it=Math.min(Math.max(0,We-Ae+He),q),St=Math.min(Math.max(0,ft-we+He),pe);if(this.state.scrollLeft!==it||this.state.scrollTop!==St){var Ct={isScrolling:!0,scrollDirectionHorizontal:it!==this.state.scrollLeft?it>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:St!==this.state.scrollTop?St>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:Df};ye||(Ct.scrollTop=St),Oe||(Ct.scrollLeft=it),Ct.needToResetStyleCache=!1,this.setState(Ct)}this._invokeOnScrollMemoizer({scrollLeft:it,scrollTop:St,totalColumnsWidth:We,totalRowsHeight:ft})}}},{key:"invalidateCellSizeAfterRender",value:function(_){var L=_.columnIndex,q=_.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,L):L,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,q):q}},{key:"measureAllCells",value:function(){var _=this.props,L=_.columnCount,q=_.rowCount,ae=this.state.instanceProps;ae.columnSizeAndPositionManager.getSizeAndPositionOfCell(L-1),ae.rowSizeAndPositionManager.getSizeAndPositionOfCell(q-1)}},{key:"recomputeGridSize",value:function(_){var L=0<arguments.length&&_!==void 0?_:{},q=L.columnIndex,ae=q===void 0?0:q,pe=L.rowIndex,de=pe===void 0?0:pe,ye=this.props,Oe=ye.scrollToColumn,we=ye.scrollToRow,Ae=this.state.instanceProps;Ae.columnSizeAndPositionManager.resetCell(ae),Ae.rowSizeAndPositionManager.resetCell(de),this._recomputeScrollLeftFlag=0<=Oe&&(this.state.scrollDirectionHorizontal===1?ae<=Oe:Oe<=ae),this._recomputeScrollTopFlag=0<=we&&(this.state.scrollDirectionVertical===1?de<=we:we<=de),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(_){var L=_.columnIndex,q=_.rowIndex,ae=this.props.columnCount,pe=this.props;1<ae&&L!==void 0&&this._updateScrollLeftForScrollToColumn(si({},pe,{scrollToColumn:L})),q!==void 0&&this._updateScrollTopForScrollToRow(si({},pe,{scrollToRow:q}))}},{key:"componentDidMount",value:function(){var _=this.props,L=_.getScrollbarSize,q=_.height,ae=_.scrollLeft,pe=_.scrollToColumn,de=_.scrollTop,ye=_.scrollToRow,Oe=_.width,we=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),we.scrollbarSizeMeasured||this.setState(function(He){var ft=si({},He,{needToResetStyleCache:!1});return ft.instanceProps.scrollbarSize=L(),ft.instanceProps.scrollbarSizeMeasured=!0,ft}),typeof ae=="number"&&0<=ae||typeof de=="number"&&0<=de){var Ae=ee._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:ae,scrollTop:de});Ae&&(Ae.needToResetStyleCache=!1,this.setState(Ae))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var Fe=0<q&&0<Oe;0<=pe&&Fe&&this._updateScrollLeftForScrollToColumn(),0<=ye&&Fe&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:ae||0,scrollTop:de||0,totalColumnsWidth:we.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:we.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(_,L){var q=this,ae=this.props,pe=ae.autoHeight,de=ae.autoWidth,ye=ae.columnCount,Oe=ae.height,we=ae.rowCount,Ae=ae.scrollToAlignment,Fe=ae.scrollToColumn,He=ae.scrollToRow,ft=ae.width,We=this.state,it=We.scrollLeft,St=We.scrollPositionChangeReason,Ct=We.scrollTop,Nt=We.instanceProps;this._handleInvalidatedGridSize();var jt=0<ye&&_.columnCount===0||0<we&&_.rowCount===0;St===Nc&&(!de&&0<=it&&(it!==this._scrollingContainer.scrollLeft||jt)&&(this._scrollingContainer.scrollLeft=it),!pe&&0<=Ct&&(Ct!==this._scrollingContainer.scrollTop||jt)&&(this._scrollingContainer.scrollTop=Ct));var st=(_.width===0||_.height===0)&&0<Oe&&0<ft;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Dc({cellSizeAndPositionManager:Nt.columnSizeAndPositionManager,previousCellsCount:_.columnCount,previousCellSize:_.columnWidth,previousScrollToAlignment:_.scrollToAlignment,previousScrollToIndex:_.scrollToColumn,previousSize:_.width,scrollOffset:it,scrollToAlignment:Ae,scrollToIndex:Fe,size:ft,sizeJustIncreasedFromZero:st,updateScrollIndexCallback:function(){return q._updateScrollLeftForScrollToColumn(q.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Dc({cellSizeAndPositionManager:Nt.rowSizeAndPositionManager,previousCellsCount:_.rowCount,previousCellSize:_.rowHeight,previousScrollToAlignment:_.scrollToAlignment,previousScrollToIndex:_.scrollToRow,previousSize:_.height,scrollOffset:Ct,scrollToAlignment:Ae,scrollToIndex:He,size:Oe,sizeJustIncreasedFromZero:st,updateScrollIndexCallback:function(){return q._updateScrollTopForScrollToRow(q.props)}}),this._invokeOnGridRenderedHelper(),it!==L.scrollLeft||Ct!==L.scrollTop){var wt=Nt.rowSizeAndPositionManager.getTotalSize(),qe=Nt.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:it,scrollTop:Ct,totalColumnsWidth:qe,totalRowsHeight:wt})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&sl(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var _=this.props,L=_.autoContainerWidth,q=_.autoHeight,ae=_.autoWidth,pe=_.className,de=_.containerProps,ye=_.containerRole,Oe=_.containerStyle,we=_.height,Ae=_.id,Fe=_.noContentRenderer,He=_.role,ft=_.style,We=_.tabIndex,it=_.width,St=this.state,Ct=St.instanceProps,Nt=St.needToResetStyleCache,jt=this._isScrolling(),st={boxSizing:"border-box",direction:"ltr",height:q?"auto":we,position:"relative",width:ae?"auto":it,WebkitOverflowScrolling:"touch",willChange:"transform"};Nt&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var wt=Ct.columnSizeAndPositionManager.getTotalSize(),qe=Ct.rowSizeAndPositionManager.getTotalSize(),dn=we<qe?Ct.scrollbarSize:0,An=it<wt?Ct.scrollbarSize:0;An===this._horizontalScrollBarSize&&dn===this._verticalScrollBarSize||(this._horizontalScrollBarSize=An,this._verticalScrollBarSize=dn,this._scrollbarPresenceChanged=!0),st.overflowX=wt+dn<=it?"hidden":"auto",st.overflowY=qe+An<=we?"hidden":"auto";var Di=this._childrenToDisplay,Pi=Di.length===0&&0<we&&0<it;return Sn.createElement("div",so({ref:this._setScrollingContainerRef},de,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Do("ReactVirtualized__Grid",pe),id:Ae,onScroll:this._onScroll,role:He,style:si({},st,{},ft),tabIndex:We}),0<Di.length&&Sn.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:ye,style:si({width:L?"auto":wt,height:qe,maxWidth:wt,maxHeight:qe,overflow:"hidden",pointerEvents:jt?"none":"",position:"relative"},Oe)},Di),Pi&&Fe())}},{key:"_calculateChildrenToRender",value:function(_,L){var q=0<arguments.length&&_!==void 0?_:this.props,ae=1<arguments.length&&L!==void 0?L:this.state,pe=q.cellRenderer,de=q.cellRangeRenderer,ye=q.columnCount,Oe=q.deferredMeasurementCache,we=q.height,Ae=q.overscanColumnCount,Fe=q.overscanIndicesGetter,He=q.overscanRowCount,ft=q.rowCount,We=q.width,it=q.isScrollingOptOut,St=ae.scrollDirectionHorizontal,Ct=ae.scrollDirectionVertical,Nt=ae.instanceProps,jt=0<this._initialScrollTop?this._initialScrollTop:ae.scrollTop,st=0<this._initialScrollLeft?this._initialScrollLeft:ae.scrollLeft,wt=this._isScrolling(q,ae);if(this._childrenToDisplay=[],0<we&&0<We){var qe=Nt.columnSizeAndPositionManager.getVisibleCellRange({containerSize:We,offset:st}),dn=Nt.rowSizeAndPositionManager.getVisibleCellRange({containerSize:we,offset:jt}),An=Nt.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:We,offset:st}),Di=Nt.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:we,offset:jt});this._renderedColumnStartIndex=qe.start,this._renderedColumnStopIndex=qe.stop,this._renderedRowStartIndex=dn.start,this._renderedRowStopIndex=dn.stop;var Pi=Fe({direction:"horizontal",cellCount:ye,overscanCellsCount:Ae,scrollDirection:St,startIndex:typeof qe.start=="number"?qe.start:0,stopIndex:typeof qe.stop=="number"?qe.stop:-1}),$i=Fe({direction:"vertical",cellCount:ft,overscanCellsCount:He,scrollDirection:Ct,startIndex:typeof dn.start=="number"?dn.start:0,stopIndex:typeof dn.stop=="number"?dn.stop:-1}),Br=Pi.overscanStartIndex,mr=Pi.overscanStopIndex,No=$i.overscanStartIndex,Ss=$i.overscanStopIndex;if(Oe){if(!Oe.hasFixedHeight()){for(var tc=No;tc<=Ss;tc++)if(!Oe.has(tc,0)){Br=0,mr=ye-1;break}}if(!Oe.hasFixedWidth()){for(var nc=Br;nc<=mr;nc++)if(!Oe.has(0,nc)){No=0,Ss=ft-1;break}}}this._childrenToDisplay=de({cellCache:this._cellCache,cellRenderer:pe,columnSizeAndPositionManager:Nt.columnSizeAndPositionManager,columnStartIndex:Br,columnStopIndex:mr,deferredMeasurementCache:Oe,horizontalOffsetAdjustment:An,isScrolling:wt,isScrollingOptOut:it,parent:this,rowSizeAndPositionManager:Nt.rowSizeAndPositionManager,rowStartIndex:No,rowStopIndex:Ss,scrollLeft:st,scrollTop:jt,styleCache:this._styleCache,verticalOffsetAdjustment:Di,visibleColumnIndices:qe,visibleRowIndices:dn}),this._columnStartIndex=Br,this._columnStopIndex=mr,this._rowStartIndex=No,this._rowStopIndex=Ss}}},{key:"_debounceScrollEnded",value:function(){var _=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&sl(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=kl(this._debounceScrollEndedCallback,_)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var _=this._deferredInvalidateColumnIndex,L=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:_,rowIndex:L})}}},{key:"_invokeOnScrollMemoizer",value:function(_){var L=this,q=_.scrollLeft,ae=_.scrollTop,pe=_.totalColumnsWidth,de=_.totalRowsHeight;this._onScrollMemoizer({callback:function(ye){var Oe=ye.scrollLeft,we=ye.scrollTop,Ae=L.props,Fe=Ae.height;(0,Ae.onScroll)({clientHeight:Fe,clientWidth:Ae.width,scrollHeight:de,scrollLeft:Oe,scrollTop:we,scrollWidth:pe})},indices:{scrollLeft:q,scrollTop:ae}})}},{key:"_isScrolling",value:function(_,L){var q=0<arguments.length&&_!==void 0?_:this.props,ae=1<arguments.length&&L!==void 0?L:this.state;return Object.hasOwnProperty.call(q,"isScrolling")?Boolean(q.isScrolling):Boolean(ae.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var _=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,_({horizontal:0<this._horizontalScrollBarSize,size:this.state.instanceProps.scrollbarSize,vertical:0<this._verticalScrollBarSize})}}},{key:"scrollToPosition",value:function(_){var L=_.scrollLeft,q=_.scrollTop,ae=ee._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:L,scrollTop:q});ae&&(ae.needToResetStyleCache=!1,this.setState(ae))}},{key:"_getCalculatedScrollLeft",value:function(_,L){var q=0<arguments.length&&_!==void 0?_:this.props,ae=1<arguments.length&&L!==void 0?L:this.state;return ee._getCalculatedScrollLeft(q,ae)}},{key:"_updateScrollLeftForScrollToColumn",value:function(_,L){var q=0<arguments.length&&_!==void 0?_:this.props,ae=1<arguments.length&&L!==void 0?L:this.state,pe=ee._getScrollLeftForScrollToColumnStateUpdate(q,ae);pe&&(pe.needToResetStyleCache=!1,this.setState(pe))}},{key:"_getCalculatedScrollTop",value:function(_,L){var q=0<arguments.length&&_!==void 0?_:this.props,ae=1<arguments.length&&L!==void 0?L:this.state;return ee._getCalculatedScrollTop(q,ae)}},{key:"_resetStyleCache",value:function(){var _=this._styleCache,L=this._cellCache,q=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var ae=this._rowStartIndex;ae<=this._rowStopIndex;ae++)for(var pe=this._columnStartIndex;pe<=this._columnStopIndex;pe++){var de="".concat(ae,"-").concat(pe);this._styleCache[de]=_[de],q&&(this._cellCache[de]=L[de])}}},{key:"_updateScrollTopForScrollToRow",value:function(_,L){var q=0<arguments.length&&_!==void 0?_:this.props,ae=1<arguments.length&&L!==void 0?L:this.state,pe=ee._getScrollTopForScrollToRowStateUpdate(q,ae);pe&&(pe.needToResetStyleCache=!1,this.setState(pe))}}],[{key:"getDerivedStateFromProps",value:function(_,L){var q={};_.columnCount===0&&L.scrollLeft!==0||_.rowCount===0&&L.scrollTop!==0?(q.scrollLeft=0,q.scrollTop=0):(_.scrollLeft!==L.scrollLeft&&_.scrollToColumn<0||_.scrollTop!==L.scrollTop&&_.scrollToRow<0)&&Object.assign(q,ee._getScrollToPositionStateUpdate({prevState:L,scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}));var ae,pe,de=L.instanceProps;return q.needToResetStyleCache=!1,_.columnWidth===de.prevColumnWidth&&_.rowHeight===de.prevRowHeight||(q.needToResetStyleCache=!0),de.columnSizeAndPositionManager.configure({cellCount:_.columnCount,estimatedCellSize:ee._getEstimatedColumnSize(_),cellSizeGetter:ee._wrapSizeGetter(_.columnWidth)}),de.rowSizeAndPositionManager.configure({cellCount:_.rowCount,estimatedCellSize:ee._getEstimatedRowSize(_),cellSizeGetter:ee._wrapSizeGetter(_.rowHeight)}),de.prevColumnCount!==0&&de.prevRowCount!==0||(de.prevColumnCount=0,de.prevRowCount=0),_.autoHeight&&_.isScrolling===!1&&de.prevIsScrolling===!0&&Object.assign(q,{isScrolling:!1}),_c({cellCount:de.prevColumnCount,cellSize:typeof de.prevColumnWidth=="number"?de.prevColumnWidth:null,computeMetadataCallback:function(){return de.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:_,nextCellsCount:_.columnCount,nextCellSize:typeof _.columnWidth=="number"?_.columnWidth:null,nextScrollToIndex:_.scrollToColumn,scrollToIndex:de.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){ae=ee._getScrollLeftForScrollToColumnStateUpdate(_,L)}}),_c({cellCount:de.prevRowCount,cellSize:typeof de.prevRowHeight=="number"?de.prevRowHeight:null,computeMetadataCallback:function(){return de.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:_,nextCellsCount:_.rowCount,nextCellSize:typeof _.rowHeight=="number"?_.rowHeight:null,nextScrollToIndex:_.scrollToRow,scrollToIndex:de.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){pe=ee._getScrollTopForScrollToRowStateUpdate(_,L)}}),de.prevColumnCount=_.columnCount,de.prevColumnWidth=_.columnWidth,de.prevIsScrolling=_.isScrolling===!0,de.prevRowCount=_.rowCount,de.prevRowHeight=_.rowHeight,de.prevScrollToColumn=_.scrollToColumn,de.prevScrollToRow=_.scrollToRow,de.scrollbarSize=_.getScrollbarSize(),de.scrollbarSize===void 0?(de.scrollbarSizeMeasured=!1,de.scrollbarSize=0):de.scrollbarSizeMeasured=!0,q.instanceProps=de,si({},q,{},ae,{},pe)}},{key:"_getEstimatedColumnSize",value:function(_){return typeof _.columnWidth=="number"?_.columnWidth:_.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(_){return typeof _.rowHeight=="number"?_.rowHeight:_.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(_){var L=_.prevState,q=_.scrollLeft,ae=_.scrollTop,pe={scrollPositionChangeReason:Nc};return typeof q=="number"&&0<=q&&(pe.scrollDirectionHorizontal=q>L.scrollLeft?1:-1,pe.scrollLeft=q),typeof ae=="number"&&0<=ae&&(pe.scrollDirectionVertical=ae>L.scrollTop?1:-1,pe.scrollTop=ae),typeof q=="number"&&0<=q&&q!==L.scrollLeft||typeof ae=="number"&&0<=ae&&ae!==L.scrollTop?pe:{}}},{key:"_wrapSizeGetter",value:function(_){return typeof _=="function"?_:function(){return _}}},{key:"_getCalculatedScrollLeft",value:function(_,L){var q=_.columnCount,ae=_.height,pe=_.scrollToAlignment,de=_.scrollToColumn,ye=_.width,Oe=L.scrollLeft,we=L.instanceProps;if(0<q){var Ae=q-1,Fe=de<0?Ae:Math.min(Ae,de),He=we.rowSizeAndPositionManager.getTotalSize(),ft=we.scrollbarSizeMeasured&&ae<He?we.scrollbarSize:0;return we.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:pe,containerSize:ye-ft,currentOffset:Oe,targetIndex:Fe})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(_,L){var q=L.scrollLeft,ae=ee._getCalculatedScrollLeft(_,L);return typeof ae=="number"&&0<=ae&&q!==ae?ee._getScrollToPositionStateUpdate({prevState:L,scrollLeft:ae,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(_,L){var q=_.height,ae=_.rowCount,pe=_.scrollToAlignment,de=_.scrollToRow,ye=_.width,Oe=L.scrollTop,we=L.instanceProps;if(0<ae){var Ae=ae-1,Fe=de<0?Ae:Math.min(Ae,de),He=we.columnSizeAndPositionManager.getTotalSize(),ft=we.scrollbarSizeMeasured&&ye<He?we.scrollbarSize:0;return we.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:pe,containerSize:q-ft,currentOffset:Oe,targetIndex:Fe})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(_,L){var q=L.scrollTop,ae=ee._getCalculatedScrollTop(_,L);return typeof ae=="number"&&0<=ae&&q!==ae?ee._getScrollToPositionStateUpdate({prevState:L,scrollLeft:-1,scrollTop:ae}):{}}}]),ee}();Ue(gs,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Lc,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:$d,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:Cd,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),ia(gs);function T(ee){var _=ee.cellCount,L=ee.overscanCellsCount,q=ee.scrollDirection,ae=ee.startIndex,pe=ee.stopIndex;return L=Math.max(1,L),q===1?{overscanStartIndex:Math.max(0,ae-1),overscanStopIndex:Math.min(_-1,pe+L)}:{overscanStartIndex:Math.max(0,ae-L),overscanStopIndex:Math.min(_-1,pe+1)}}o(T,"defaultOverscanIndicesGetter$1");var v=function(){function ee(_,L){var q;return Yi(this,ee),(q=xr(this,Rr(ee).call(this,_,L)))._loadMoreRowsMemoizer=ol(),q._onRowsRendered=q._onRowsRendered.bind(ut(q)),q._registerChild=q._registerChild.bind(ut(q)),q}return o(ee,"InfiniteLoader"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"resetLoadMoreRowsCache",value:function(_){this._loadMoreRowsMemoizer=ol(),_&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(_){var L=this,q=this.props.loadMoreRows;_.forEach(function(ae){var pe=q(ae);pe&&pe.then(function(){(function(de){var ye=de.lastRenderedStartIndex,Oe=de.lastRenderedStopIndex,we=de.startIndex,Ae=de.stopIndex;return!(Oe<we||Ae<ye)})({lastRenderedStartIndex:L._lastRenderedStartIndex,lastRenderedStopIndex:L._lastRenderedStopIndex,startIndex:ae.startIndex,stopIndex:ae.stopIndex})&&L._registeredChild&&function(de){var ye=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Oe=typeof de.recomputeGridSize=="function"?de.recomputeGridSize:de.recomputeRowHeights;Oe?Oe.call(de,ye):de.forceUpdate()}(L._registeredChild,L._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(_){var L=_.startIndex,q=_.stopIndex;this._lastRenderedStartIndex=L,this._lastRenderedStopIndex=q,this._doStuff(L,q)}},{key:"_doStuff",value:function(_,L){var q,ae=this,pe=this.props,de=pe.isRowLoaded,ye=pe.minimumBatchSize,Oe=pe.rowCount,we=pe.threshold,Ae=function(He){for(var ft=He.isRowLoaded,We=He.minimumBatchSize,it=He.rowCount,St=He.startIndex,Ct=He.stopIndex,Nt=[],jt=null,st=null,wt=St;wt<=Ct;wt++)ft({index:wt})?st!==null&&(Nt.push({startIndex:jt,stopIndex:st}),jt=st=null):(st=wt,jt===null&&(jt=wt));if(st!==null){for(var qe=Math.min(Math.max(st,jt+We-1),it-1),dn=st+1;dn<=qe&&!ft({index:dn});dn++)st=dn;Nt.push({startIndex:jt,stopIndex:st})}if(Nt.length)for(var An=Nt[0];An.stopIndex-An.startIndex+1<We&&0<An.startIndex;){var Di=An.startIndex-1;if(ft({index:Di}))break;An.startIndex=Di}return Nt}({isRowLoaded:de,minimumBatchSize:ye,rowCount:Oe,startIndex:Math.max(0,_-we),stopIndex:Math.min(Oe-1,L+we)}),Fe=(q=[]).concat.apply(q,Ml(Ae.map(function(He){return[He.startIndex,He.stopIndex]})));this._loadMoreRowsMemoizer({callback:function(){ae._loadUnloadedRanges(Ae)},indices:{squashedUnloadedRanges:Fe}})}},{key:"_registerChild",value:function(_){this._registeredChild=_}}]),ee}();Ue(v,"propTypes",{children:dt.func.isRequired,isRowLoaded:dt.func.isRequired,loadMoreRows:dt.func.isRequired,minimumBatchSize:dt.number.isRequired,rowCount:dt.number.isRequired,threshold:dt.number.isRequired}),Ue(v,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});var b=function(){function ee(){var _,L;Yi(this,ee);for(var q=arguments.length,ae=new Array(q),pe=0;pe<q;pe++)ae[pe]=arguments[pe];return Ue(ut(L=xr(this,(_=Rr(ee)).call.apply(_,[this].concat(ae)))),"Grid",void 0),Ue(ut(L),"_cellRenderer",function(de){var ye=de.parent,Oe=de.rowIndex,we=de.style,Ae=de.isScrolling,Fe=de.isVisible,He=de.key,ft=L.props.rowRenderer,We=Object.getOwnPropertyDescriptor(we,"width");return We&&We.writable&&(we.width="100%"),ft({index:Oe,style:we,isScrolling:Ae,isVisible:Fe,key:He,parent:ye})}),Ue(ut(L),"_setRef",function(de){L.Grid=de}),Ue(ut(L),"_onScroll",function(de){var ye=de.clientHeight,Oe=de.scrollHeight,we=de.scrollTop;(0,L.props.onScroll)({clientHeight:ye,scrollHeight:Oe,scrollTop:we})}),Ue(ut(L),"_onSectionRendered",function(de){var ye=de.rowOverscanStartIndex,Oe=de.rowOverscanStopIndex,we=de.rowStartIndex,Ae=de.rowStopIndex;(0,L.props.onRowsRendered)({overscanStartIndex:ye,overscanStopIndex:Oe,startIndex:we,stopIndex:Ae})}),L}return o(ee,"List"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(_){var L=_.alignment,q=_.index;return this.Grid?this.Grid.getOffsetForCell({alignment:L,rowIndex:q,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(_){var L=_.columnIndex,q=_.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:q,columnIndex:L})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(_){var L=0<arguments.length&&_!==void 0?_:{},q=L.columnIndex,ae=q===void 0?0:q,pe=L.rowIndex,de=pe===void 0?0:pe;this.Grid&&this.Grid.recomputeGridSize({rowIndex:de,columnIndex:ae})}},{key:"recomputeRowHeights",value:function(_){var L=0<arguments.length&&_!==void 0?_:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:L,columnIndex:0})}},{key:"scrollToPosition",value:function(_){var L=0<arguments.length&&_!==void 0?_:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:L})}},{key:"scrollToRow",value:function(_){var L=0<arguments.length&&_!==void 0?_:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:L})}},{key:"render",value:function(){var _=this.props,L=_.className,q=_.noRowsRenderer,ae=_.scrollToIndex,pe=_.width,de=Do("ReactVirtualized__List",L);return Sn.createElement(gs,so({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:de,columnWidth:pe,columnCount:1,noContentRenderer:q,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:ae}))}}]),ee}();Ue(b,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:T,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var I={ge:function(ee,_,L,q,ae){return typeof L=="function"?function(pe,de,ye,Oe,we){for(var Ae=ye+1;de<=ye;){var Fe=de+ye>>>1;0<=we(pe[Fe],Oe)?ye=(Ae=Fe)-1:de=1+Fe}return Ae}(ee,q===void 0?0:0|q,ae===void 0?ee.length-1:0|ae,_,L):function(pe,de,ye,Oe){for(var we=ye+1;de<=ye;){var Ae=de+ye>>>1;Oe<=pe[Ae]?ye=(we=Ae)-1:de=1+Ae}return we}(ee,L===void 0?0:0|L,q===void 0?ee.length-1:0|q,_)},gt:function(ee,_,L,q,ae){return typeof L=="function"?function(pe,de,ye,Oe,we){for(var Ae=ye+1;de<=ye;){var Fe=de+ye>>>1;0<we(pe[Fe],Oe)?ye=(Ae=Fe)-1:de=1+Fe}return Ae}(ee,q===void 0?0:0|q,ae===void 0?ee.length-1:0|ae,_,L):function(pe,de,ye,Oe){for(var we=ye+1;de<=ye;){var Ae=de+ye>>>1;Oe<pe[Ae]?ye=(we=Ae)-1:de=1+Ae}return we}(ee,L===void 0?0:0|L,q===void 0?ee.length-1:0|q,_)},lt:function(ee,_,L,q,ae){return typeof L=="function"?function(pe,de,ye,Oe,we){for(var Ae=de-1;de<=ye;){var Fe=de+ye>>>1;we(pe[Fe],Oe)<0?de=1+(Ae=Fe):ye=Fe-1}return Ae}(ee,q===void 0?0:0|q,ae===void 0?ee.length-1:0|ae,_,L):function(pe,de,ye,Oe){for(var we=de-1;de<=ye;){var Ae=de+ye>>>1;pe[Ae]<Oe?de=1+(we=Ae):ye=Ae-1}return we}(ee,L===void 0?0:0|L,q===void 0?ee.length-1:0|q,_)},le:function(ee,_,L,q,ae){return typeof L=="function"?function(pe,de,ye,Oe,we){for(var Ae=de-1;de<=ye;){var Fe=de+ye>>>1;we(pe[Fe],Oe)<=0?de=1+(Ae=Fe):ye=Fe-1}return Ae}(ee,q===void 0?0:0|q,ae===void 0?ee.length-1:0|ae,_,L):function(pe,de,ye,Oe){for(var we=de-1;de<=ye;){var Ae=de+ye>>>1;pe[Ae]<=Oe?de=1+(we=Ae):ye=Ae-1}return we}(ee,L===void 0?0:0|L,q===void 0?ee.length-1:0|q,_)},eq:function(ee,_,L,q,ae){return typeof L=="function"?function(pe,de,ye,Oe,we){for(;de<=ye;){var Ae=de+ye>>>1,Fe=we(pe[Ae],Oe);if(Fe===0)return Ae;Fe<=0?de=1+Ae:ye=Ae-1}return-1}(ee,q===void 0?0:0|q,ae===void 0?ee.length-1:0|ae,_,L):function(pe,de,ye,Oe){for(;de<=ye;){var we=de+ye>>>1,Ae=pe[we];if(Ae===Oe)return we;Ae<=Oe?de=1+we:ye=we-1}return-1}(ee,L===void 0?0:0|L,q===void 0?ee.length-1:0|q,_)}};function x(ee,_,L,q,ae){this.mid=ee,this.left=_,this.right=L,this.leftPoints=q,this.rightPoints=ae,this.count=(_?_.count:0)+(L?L.count:0)+q.length}o(x,"IntervalTreeNode");var H=x.prototype;function K(ee,_){ee.mid=_.mid,ee.left=_.left,ee.right=_.right,ee.leftPoints=_.leftPoints,ee.rightPoints=_.rightPoints,ee.count=_.count}o(K,"copy");function ue(ee,_){var L=rn(_);ee.mid=L.mid,ee.left=L.left,ee.right=L.right,ee.leftPoints=L.leftPoints,ee.rightPoints=L.rightPoints,ee.count=L.count}o(ue,"rebuild");function ie(ee,_){var L=ee.intervals([]);L.push(_),ue(ee,L)}o(ie,"rebuildWithInterval");function ge(ee,_){var L=ee.intervals([]),q=L.indexOf(_);return q<0?0:(L.splice(q,1),ue(ee,L),1)}o(ge,"rebuildWithoutInterval");function le(ee,_,L){for(var q=0;q<ee.length&&ee[q][0]<=_;++q){var ae=L(ee[q]);if(ae)return ae}}o(le,"reportLeftRange");function rt(ee,_,L){for(var q=ee.length-1;0<=q&&ee[q][1]>=_;--q){var ae=L(ee[q]);if(ae)return ae}}o(rt,"reportRightRange");function _t(ee,_){for(var L=0;L<ee.length;++L){var q=_(ee[L]);if(q)return q}}o(_t,"reportRange");function Xt(ee,_){return ee-_}o(Xt,"compareNumbers");function Wt(ee,_){var L=ee[0]-_[0];return L||ee[1]-_[1]}o(Wt,"compareBegin");function Vt(ee,_){var L=ee[1]-_[1];return L||ee[0]-_[0]}o(Vt,"compareEnd");function rn(ee){if(ee.length===0)return null;for(var _=[],L=0;L<ee.length;++L)_.push(ee[L][0],ee[L][1]);_.sort(Xt);var q=_[_.length>>1],ae=[],pe=[],de=[];for(L=0;L<ee.length;++L){var ye=ee[L];ye[1]<q?ae.push(ye):q<ye[0]?pe.push(ye):de.push(ye)}var Oe=de,we=de.slice();return Oe.sort(Wt),we.sort(Vt),new x(q,rn(ae),rn(pe),Oe,we)}o(rn,"createIntervalTree");function ar(ee){this.root=ee}o(ar,"IntervalTree"),H.intervals=function(ee){return ee.push.apply(ee,this.leftPoints),this.left&&this.left.intervals(ee),this.right&&this.right.intervals(ee),ee},H.insert=function(ee){var _=this.count-this.leftPoints.length;if(this.count+=1,ee[1]<this.mid)this.left?4*(this.left.count+1)>3*(1+_)?ie(this,ee):this.left.insert(ee):this.left=rn([ee]);else if(ee[0]>this.mid)this.right?4*(this.right.count+1)>3*(1+_)?ie(this,ee):this.right.insert(ee):this.right=rn([ee]);else{var L=I.ge(this.leftPoints,ee,Wt),q=I.ge(this.rightPoints,ee,Vt);this.leftPoints.splice(L,0,ee),this.rightPoints.splice(q,0,ee)}},H.remove=function(ee){var _=this.count-this.leftPoints;if(ee[1]<this.mid)return this.left?3*(_-1)<4*(this.right?this.right.count:0)?ge(this,ee):(pe=this.left.remove(ee))===2?(this.left=null,this.count-=1,1):(pe===1&&(this.count-=1),pe):0;if(ee[0]>this.mid)return this.right?3*(_-1)<4*(this.left?this.left.count:0)?ge(this,ee):(pe=this.right.remove(ee))===2?(this.right=null,this.count-=1,1):(pe===1&&(this.count-=1),pe):0;if(this.count===1)return this.leftPoints[0]===ee?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===ee){if(this.left&&this.right){for(var L=this,q=this.left;q.right;)q=(L=q).right;if(L===this)q.right=this.right;else{var ae=this.left;pe=this.right,L.count-=q.count,L.right=q.left,q.left=ae,q.right=pe}K(this,q),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?K(this,this.left):K(this,this.right);return 1}for(ae=I.ge(this.leftPoints,ee,Wt);ae<this.leftPoints.length&&this.leftPoints[ae][0]===ee[0];++ae)if(this.leftPoints[ae]===ee){for(this.count-=1,this.leftPoints.splice(ae,1),pe=I.ge(this.rightPoints,ee,Vt);pe<this.rightPoints.length&&this.rightPoints[pe][1]===ee[1];++pe)if(this.rightPoints[pe]===ee)return this.rightPoints.splice(pe,1),1}return 0;var pe},H.queryPoint=function(ee,_){if(ee<this.mid)return this.left&&(L=this.left.queryPoint(ee,_))?L:le(this.leftPoints,ee,_);if(ee>this.mid){var L;return this.right&&(L=this.right.queryPoint(ee,_))?L:rt(this.rightPoints,ee,_)}return _t(this.leftPoints,_)},H.queryInterval=function(ee,_,L){var q;return ee<this.mid&&this.left&&(q=this.left.queryInterval(ee,_,L))||_>this.mid&&this.right&&(q=this.right.queryInterval(ee,_,L))?q:_<this.mid?le(this.leftPoints,_,L):ee>this.mid?rt(this.rightPoints,ee,L):_t(this.leftPoints,L)};var ks=ar.prototype;ks.insert=function(ee){this.root?this.root.insert(ee):this.root=new x(ee[0],null,null,[ee],[ee])},ks.remove=function(ee){if(this.root){var _=this.root.remove(ee);return _===2&&(this.root=null),_!==0}return!1},ks.queryPoint=function(ee,_){if(this.root)return this.root.queryPoint(ee,_)},ks.queryInterval=function(ee,_,L){if(ee<=_&&this.root)return this.root.queryInterval(ee,_,L)},Object.defineProperty(ks,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(ks,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var al=function(){function ee(){Yi(this,ee),Ue(this,"_columnSizeMap",{}),Ue(this,"_intervalTree",function(_){return _&&_.length!==0?new ar(rn(_)):new ar(null)}()),Ue(this,"_leftMap",{})}return o(ee,"PositionCache"),qi(ee,[{key:"estimateTotalHeight",value:function(_,L,q){var ae=_-this.count;return this.tallestColumnSize+Math.ceil(ae/L)*q}},{key:"range",value:function(_,L,q){var ae=this;this._intervalTree.queryInterval(_,_+L,function(pe){var de=Ol(pe,3),ye=de[0],Oe=(de[1],de[2]);return q(Oe,ae._leftMap[Oe],ye)})}},{key:"setPosition",value:function(_,L,q,ae){this._intervalTree.insert([q,q+ae,_]),this._leftMap[_]=L;var pe=this._columnSizeMap,de=pe[L];pe[L]=de===void 0?q+ae:Math.max(de,q+ae)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var _=this._columnSizeMap,L=0;for(var q in _){var ae=_[q];L=L===0?ae:Math.min(L,ae)}return L}},{key:"tallestColumnSize",get:function(){var _=this._columnSizeMap,L=0;for(var q in _){var ae=_[q];L=Math.max(L,ae)}return L}}]),ee}(),Qd=function(){function ee(){var _,L;Yi(this,ee);for(var q=arguments.length,ae=new Array(q),pe=0;pe<q;pe++)ae[pe]=arguments[pe];return Ue(ut(L=xr(this,(_=Rr(ee)).call.apply(_,[this].concat(ae)))),"state",{isScrolling:!1,scrollTop:0}),Ue(ut(L),"_debounceResetIsScrollingId",void 0),Ue(ut(L),"_invalidateOnUpdateStartIndex",null),Ue(ut(L),"_invalidateOnUpdateStopIndex",null),Ue(ut(L),"_positionCache",new al),Ue(ut(L),"_startIndex",null),Ue(ut(L),"_startIndexMemoized",null),Ue(ut(L),"_stopIndex",null),Ue(ut(L),"_stopIndexMemoized",null),Ue(ut(L),"_debounceResetIsScrollingCallback",function(){L.setState({isScrolling:!1})}),Ue(ut(L),"_setScrollingContainerRef",function(de){L._scrollingContainer=de}),Ue(ut(L),"_onScroll",function(de){var ye=L.props.height,Oe=de.currentTarget.scrollTop,we=Math.min(Math.max(0,L._getEstimatedTotalHeight()-ye),Oe);Oe===we&&(L._debounceResetIsScrolling(),L.state.scrollTop!==we&&L.setState({isScrolling:!0,scrollTop:we}))}),L}return o(ee,"Masonry"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"clearCellPositions",value:function(){this._positionCache=new al,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(_){var L=_.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=L,this._invalidateOnUpdateStopIndex=L):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,L),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,L))}},{key:"recomputeCellPositions",value:function(){var _=this._positionCache.count-1;this._positionCache=new al,this._populatePositionCache(0,_),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(_){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==_.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&sl(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var _,L=this,q=this.props,ae=q.autoHeight,pe=q.cellCount,de=q.cellMeasurerCache,ye=q.cellRenderer,Oe=q.className,we=q.height,Ae=q.id,Fe=q.keyMapper,He=q.overscanByPixels,ft=q.role,We=q.style,it=q.tabIndex,St=q.width,Ct=q.rowDirection,Nt=this.state,jt=Nt.isScrolling,st=Nt.scrollTop,wt=[],qe=this._getEstimatedTotalHeight(),dn=this._positionCache.shortestColumnSize,An=this._positionCache.count,Di=0;if(this._positionCache.range(Math.max(0,st-He),we+2*He,function(Br,mr,No){var Ss;_=_===void 0?Di=Br:(Di=Math.min(Di,Br),Math.max(_,Br)),wt.push(ye({index:Br,isScrolling:jt,key:Fe(Br),parent:L,style:(Ss={height:de.getHeight(Br)},Ue(Ss,Ct==="ltr"?"left":"right",mr),Ue(Ss,"position","absolute"),Ue(Ss,"top",No),Ue(Ss,"width",de.getWidth(Br)),Ss)}))}),dn<st+we+He&&An<pe)for(var Pi=Math.min(pe-An,Math.ceil((st+we+He-dn)/de.defaultHeight*St/de.defaultWidth)),$i=An;$i<An+Pi;$i++)_=$i,wt.push(ye({index:$i,isScrolling:jt,key:Fe($i),parent:this,style:{width:de.getWidth($i)}}));return this._startIndex=Di,this._stopIndex=_,Sn.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Do("ReactVirtualized__Masonry",Oe),id:Ae,onScroll:this._onScroll,role:ft,style:si({boxSizing:"border-box",direction:"ltr",height:ae?"auto":we,overflowX:"hidden",overflowY:qe<we?"hidden":"auto",position:"relative",width:St,WebkitOverflowScrolling:"touch",willChange:"transform"},We),tabIndex:it},Sn.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:qe,maxWidth:"100%",maxHeight:qe,overflow:"hidden",pointerEvents:jt?"none":"",position:"relative"}},wt))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var _=this._invalidateOnUpdateStartIndex,L=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(_,L),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var _=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&sl(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=kl(this._debounceResetIsScrollingCallback,_)}},{key:"_getEstimatedTotalHeight",value:function(){var _=this.props,L=_.cellCount,q=_.cellMeasurerCache,ae=_.width,pe=Math.max(1,Math.floor(ae/q.defaultWidth));return this._positionCache.estimateTotalHeight(L,pe,q.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var _=this.props,L=_.height,q=_.onScroll,ae=this.state.scrollTop;this._onScrollMemoized!==ae&&(q({clientHeight:L,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:ae}),this._onScrollMemoized=ae)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(_,L){for(var q=this.props,ae=q.cellMeasurerCache,pe=q.cellPositioner,de=_;de<=L;de++){var ye=pe(de),Oe=ye.left,we=ye.top;this._positionCache.setPosition(de,Oe,we,ae.getHeight(de))}}}],[{key:"getDerivedStateFromProps",value:function(_,L){return _.scrollTop!==void 0&&L.scrollTop!==_.scrollTop?{isScrolling:!0,scrollTop:_.scrollTop}:null}}]),ee}();function Gg(){}o(Gg,"noop"),Ue(Qd,"defaultProps",{autoHeight:!1,keyMapper:function(ee){return ee},onCellsRendered:Gg,onScroll:Gg,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"}),ia(Qd);var Lf=function(){function ee(){var _=this,L=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Yi(this,ee),Ue(this,"_cellMeasurerCache",void 0),Ue(this,"_columnIndexOffset",void 0),Ue(this,"_rowIndexOffset",void 0),Ue(this,"columnWidth",function(Oe){var we=Oe.index;_._cellMeasurerCache.columnWidth({index:we+_._columnIndexOffset})}),Ue(this,"rowHeight",function(Oe){var we=Oe.index;_._cellMeasurerCache.rowHeight({index:we+_._rowIndexOffset})});var q=L.cellMeasurerCache,ae=L.columnIndexOffset,pe=ae===void 0?0:ae,de=L.rowIndexOffset,ye=de===void 0?0:de;this._cellMeasurerCache=q,this._columnIndexOffset=pe,this._rowIndexOffset=ye}return o(ee,"CellMeasurerCacheDecorator"),qi(ee,[{key:"clear",value:function(_,L){this._cellMeasurerCache.clear(_+this._rowIndexOffset,L+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(_,L){var q=1<arguments.length&&L!==void 0?L:0;return this._cellMeasurerCache.getHeight(_+this._rowIndexOffset,q+this._columnIndexOffset)}},{key:"getWidth",value:function(_,L){var q=1<arguments.length&&L!==void 0?L:0;return this._cellMeasurerCache.getWidth(_+this._rowIndexOffset,q+this._columnIndexOffset)}},{key:"has",value:function(_,L){var q=1<arguments.length&&L!==void 0?L:0;return this._cellMeasurerCache.has(_+this._rowIndexOffset,q+this._columnIndexOffset)}},{key:"set",value:function(_,L,q,ae){this._cellMeasurerCache.set(_+this._rowIndexOffset,L+this._columnIndexOffset,q,ae)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),ee}(),xc=function(){function ee(_,L){var q;Yi(this,ee),Ue(ut(q=xr(this,Rr(ee).call(this,_,L))),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),Ue(ut(q),"_deferredInvalidateColumnIndex",null),Ue(ut(q),"_deferredInvalidateRowIndex",null),Ue(ut(q),"_bottomLeftGridRef",function(ye){q._bottomLeftGrid=ye}),Ue(ut(q),"_bottomRightGridRef",function(ye){q._bottomRightGrid=ye}),Ue(ut(q),"_cellRendererBottomLeftGrid",function(ye){var Oe=ye.rowIndex,we=na(ye,["rowIndex"]),Ae=q.props,Fe=Ae.cellRenderer,He=Ae.fixedRowCount;return Oe===Ae.rowCount-He?Sn.createElement("div",{key:we.key,style:si({},we.style,{height:20})}):Fe(si({},we,{parent:ut(q),rowIndex:Oe+He}))}),Ue(ut(q),"_cellRendererBottomRightGrid",function(ye){var Oe=ye.columnIndex,we=ye.rowIndex,Ae=na(ye,["columnIndex","rowIndex"]),Fe=q.props,He=Fe.cellRenderer,ft=Fe.fixedColumnCount,We=Fe.fixedRowCount;return He(si({},Ae,{columnIndex:Oe+ft,parent:ut(q),rowIndex:we+We}))}),Ue(ut(q),"_cellRendererTopRightGrid",function(ye){var Oe=ye.columnIndex,we=na(ye,["columnIndex"]),Ae=q.props,Fe=Ae.cellRenderer,He=Ae.columnCount,ft=Ae.fixedColumnCount;return Oe===He-ft?Sn.createElement("div",{key:we.key,style:si({},we.style,{width:20})}):Fe(si({},we,{columnIndex:Oe+ft,parent:ut(q)}))}),Ue(ut(q),"_columnWidthRightGrid",function(ye){var Oe=ye.index,we=q.props,Ae=we.columnCount,Fe=we.fixedColumnCount,He=we.columnWidth,ft=q.state,We=ft.scrollbarSize;return ft.showHorizontalScrollbar&&Oe===Ae-Fe?We:typeof He=="function"?He({index:Oe+Fe}):He}),Ue(ut(q),"_onScroll",function(ye){var Oe=ye.scrollLeft,we=ye.scrollTop;q.setState({scrollLeft:Oe,scrollTop:we});var Ae=q.props.onScroll;Ae&&Ae(ye)}),Ue(ut(q),"_onScrollbarPresenceChange",function(ye){var Oe=ye.horizontal,we=ye.size,Ae=ye.vertical,Fe=q.state,He=Fe.showHorizontalScrollbar,ft=Fe.showVerticalScrollbar;if(Oe!==He||Ae!==ft){q.setState({scrollbarSize:we,showHorizontalScrollbar:Oe,showVerticalScrollbar:Ae});var We=q.props.onScrollbarPresenceChange;typeof We=="function"&&We({horizontal:Oe,size:we,vertical:Ae})}}),Ue(ut(q),"_onScrollLeft",function(ye){var Oe=ye.scrollLeft;q._onScroll({scrollLeft:Oe,scrollTop:q.state.scrollTop})}),Ue(ut(q),"_onScrollTop",function(ye){var Oe=ye.scrollTop;q._onScroll({scrollTop:Oe,scrollLeft:q.state.scrollLeft})}),Ue(ut(q),"_rowHeightBottomGrid",function(ye){var Oe=ye.index,we=q.props,Ae=we.fixedRowCount,Fe=we.rowCount,He=we.rowHeight,ft=q.state,We=ft.scrollbarSize;return ft.showVerticalScrollbar&&Oe===Fe-Ae?We:typeof He=="function"?He({index:Oe+Ae}):He}),Ue(ut(q),"_topLeftGridRef",function(ye){q._topLeftGrid=ye}),Ue(ut(q),"_topRightGridRef",function(ye){q._topRightGrid=ye});var ae=_.deferredMeasurementCache,pe=_.fixedColumnCount,de=_.fixedRowCount;return q._maybeCalculateCachedStyles(!0),ae&&(q._deferredMeasurementCacheBottomLeftGrid=0<de?new Lf({cellMeasurerCache:ae,columnIndexOffset:0,rowIndexOffset:de}):ae,q._deferredMeasurementCacheBottomRightGrid=0<pe||0<de?new Lf({cellMeasurerCache:ae,columnIndexOffset:pe,rowIndexOffset:de}):ae,q._deferredMeasurementCacheTopRightGrid=0<pe?new Lf({cellMeasurerCache:ae,columnIndexOffset:pe,rowIndexOffset:0}):ae),q}return o(ee,"MultiGrid"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(_){var L=0<arguments.length&&_!==void 0?_:{},q=L.columnIndex,ae=q===void 0?0:q,pe=L.rowIndex,de=pe===void 0?0:pe;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,ae):ae,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,de):de}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(_){var L=0<arguments.length&&_!==void 0?_:{},q=L.columnIndex,ae=q===void 0?0:q,pe=L.rowIndex,de=pe===void 0?0:pe,ye=this.props,Oe=ye.fixedColumnCount,we=ye.fixedRowCount,Ae=Math.max(0,ae-Oe),Fe=Math.max(0,de-we);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:ae,rowIndex:Fe}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:Ae,rowIndex:Fe}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:ae,rowIndex:de}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:Ae,rowIndex:de}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var _=this.props,L=_.scrollLeft,q=_.scrollTop;if(0<L||0<q){var ae={};0<L&&(ae.scrollLeft=L),0<q&&(ae.scrollTop=q),this.setState(ae)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var _=this.props,L=_.onScroll,q=_.onSectionRendered,ae=(_.onScrollbarPresenceChange,_.scrollLeft,_.scrollToColumn),pe=(_.scrollTop,_.scrollToRow),de=na(_,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var ye=this.state,Oe=ye.scrollLeft,we=ye.scrollTop;return Sn.createElement("div",{style:this._containerOuterStyle},Sn.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(de),this._renderTopRightGrid(si({},de,{onScroll:L,scrollLeft:Oe}))),Sn.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(si({},de,{onScroll:L,scrollTop:we})),this._renderBottomRightGrid(si({},de,{onScroll:L,onSectionRendered:q,scrollLeft:Oe,scrollToColumn:ae,scrollToRow:pe,scrollTop:we}))))}},{key:"_getBottomGridHeight",value:function(_){return _.height-this._getTopGridHeight(_)}},{key:"_getLeftGridWidth",value:function(_){var L=_.fixedColumnCount,q=_.columnWidth;if(this._leftGridWidth==null)if(typeof q=="function"){for(var ae=0,pe=0;pe<L;pe++)ae+=q({index:pe});this._leftGridWidth=ae}else this._leftGridWidth=q*L;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(_){return _.width-this._getLeftGridWidth(_)}},{key:"_getTopGridHeight",value:function(_){var L=_.fixedRowCount,q=_.rowHeight;if(this._topGridHeight==null)if(typeof q=="function"){for(var ae=0,pe=0;pe<L;pe++)ae+=q({index:pe});this._topGridHeight=ae}else this._topGridHeight=q*L;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var _=this._deferredInvalidateColumnIndex,L=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:_,rowIndex:L}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(_){var L=this.props,q=L.columnWidth,ae=L.enableFixedColumnScroll,pe=L.enableFixedRowScroll,de=L.height,ye=L.fixedColumnCount,Oe=L.fixedRowCount,we=L.rowHeight,Ae=L.style,Fe=L.styleBottomLeftGrid,He=L.styleBottomRightGrid,ft=L.styleTopLeftGrid,We=L.styleTopRightGrid,it=L.width,St=_||de!==this._lastRenderedHeight||it!==this._lastRenderedWidth,Ct=_||q!==this._lastRenderedColumnWidth||ye!==this._lastRenderedFixedColumnCount,Nt=_||Oe!==this._lastRenderedFixedRowCount||we!==this._lastRenderedRowHeight;(_||St||Ae!==this._lastRenderedStyle)&&(this._containerOuterStyle=si({height:de,overflow:"visible",width:it},Ae)),(_||St||Nt)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:it},this._containerBottomStyle={height:de-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:it}),!_&&Fe===this._lastRenderedStyleBottomLeftGrid||(this._bottomLeftGridStyle=si({left:0,overflowX:"hidden",overflowY:ae?"auto":"hidden",position:"absolute"},Fe)),(_||Ct||He!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=si({left:this._getLeftGridWidth(this.props),position:"absolute"},He)),!_&&ft===this._lastRenderedStyleTopLeftGrid||(this._topLeftGridStyle=si({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},ft)),(_||Ct||We!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=si({left:this._getLeftGridWidth(this.props),overflowX:pe?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},We)),this._lastRenderedColumnWidth=q,this._lastRenderedFixedColumnCount=ye,this._lastRenderedFixedRowCount=Oe,this._lastRenderedHeight=de,this._lastRenderedRowHeight=we,this._lastRenderedStyle=Ae,this._lastRenderedStyleBottomLeftGrid=Fe,this._lastRenderedStyleBottomRightGrid=He,this._lastRenderedStyleTopLeftGrid=ft,this._lastRenderedStyleTopRightGrid=We,this._lastRenderedWidth=it}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(_){var L=_.enableFixedColumnScroll,q=_.fixedColumnCount,ae=_.fixedRowCount,pe=_.rowCount,de=_.hideBottomLeftGridScrollbar,ye=this.state.showVerticalScrollbar;if(!q)return null;var Oe=ye?1:0,we=this._getBottomGridHeight(_),Ae=this._getLeftGridWidth(_),Fe=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,He=de?Ae+Fe:Ae,ft=Sn.createElement(gs,so({},_,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:q,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:we,onScroll:L?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,pe-ae)+Oe,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:He}));return de?Sn.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:si({},this._bottomLeftGridStyle,{height:we,width:Ae,overflowY:"hidden"})},ft):ft}},{key:"_renderBottomRightGrid",value:function(_){var L=_.columnCount,q=_.fixedColumnCount,ae=_.fixedRowCount,pe=_.rowCount,de=_.scrollToColumn,ye=_.scrollToRow;return Sn.createElement(gs,so({},_,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,L-q),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(_),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,pe-ae),rowHeight:this._rowHeightBottomGrid,scrollToColumn:de-q,scrollToRow:ye-ae,style:this._bottomRightGridStyle,width:this._getRightGridWidth(_)}))}},{key:"_renderTopLeftGrid",value:function(_){var L=_.fixedColumnCount,q=_.fixedRowCount;return L&&q?Sn.createElement(gs,so({},_,{className:this.props.classNameTopLeftGrid,columnCount:L,height:this._getTopGridHeight(_),ref:this._topLeftGridRef,rowCount:q,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(_)})):null}},{key:"_renderTopRightGrid",value:function(_){var L=_.columnCount,q=_.enableFixedRowScroll,ae=_.fixedColumnCount,pe=_.fixedRowCount,de=_.scrollLeft,ye=_.hideTopRightGridScrollbar,Oe=this.state,we=Oe.showHorizontalScrollbar,Ae=Oe.scrollbarSize;if(!pe)return null;var Fe=we?1:0,He=this._getTopGridHeight(_),ft=this._getRightGridWidth(_),We=we?Ae:0,it=He,St=this._topRightGridStyle;ye&&(it=He+We,St=si({},this._topRightGridStyle,{left:0}));var Ct=Sn.createElement(gs,so({},_,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,L-ae)+Fe,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:it,onScroll:q?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:pe,scrollLeft:de,style:St,tabIndex:null,width:ft}));return ye?Sn.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:si({},this._topRightGridStyle,{height:He,width:ft,overflowX:"hidden"})},Ct):Ct}}],[{key:"getDerivedStateFromProps",value:function(_,L){return _.scrollLeft!==L.scrollLeft||_.scrollTop!==L.scrollTop?{scrollLeft:_.scrollLeft!=null&&0<=_.scrollLeft?_.scrollLeft:L.scrollLeft,scrollTop:_.scrollTop!=null&&0<=_.scrollTop?_.scrollTop:L.scrollTop}:null}}]),ee}();Ue(xc,"propTypes",{classNameBottomLeftGrid:dt.string.isRequired,classNameBottomRightGrid:dt.string.isRequired,classNameTopLeftGrid:dt.string.isRequired,classNameTopRightGrid:dt.string.isRequired,enableFixedColumnScroll:dt.bool.isRequired,enableFixedRowScroll:dt.bool.isRequired,fixedColumnCount:dt.number.isRequired,fixedRowCount:dt.number.isRequired,onScrollbarPresenceChange:dt.func,style:dt.object.isRequired,styleBottomLeftGrid:dt.object.isRequired,styleBottomRightGrid:dt.object.isRequired,styleTopLeftGrid:dt.object.isRequired,styleTopRightGrid:dt.object.isRequired,hideTopRightGridScrollbar:dt.bool,hideBottomLeftGridScrollbar:dt.bool}),Ue(xc,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),ia(xc);var $g=function(){function ee(_,L){var q;return Yi(this,ee),(q=xr(this,Rr(ee).call(this,_,L))).state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},q._onScroll=q._onScroll.bind(ut(q)),q}return o(ee,"ScrollSync"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"render",value:function(){var _=this.props.children,L=this.state,q=L.clientHeight,ae=L.clientWidth,pe=L.scrollHeight,de=L.scrollLeft,ye=L.scrollTop,Oe=L.scrollWidth;return _({clientHeight:q,clientWidth:ae,onScroll:this._onScroll,scrollHeight:pe,scrollLeft:de,scrollTop:ye,scrollWidth:Oe})}},{key:"_onScroll",value:function(_){var L=_.clientHeight,q=_.clientWidth,ae=_.scrollHeight,pe=_.scrollLeft,de=_.scrollTop,ye=_.scrollWidth;this.setState({clientHeight:L,clientWidth:q,scrollHeight:ae,scrollLeft:pe,scrollTop:de,scrollWidth:ye})}}]),ee}();function Kg(ee){var _=ee.dataKey,L=ee.rowData;return typeof L.get=="function"?L.get(_):L[_]}o(Kg,"defaultCellDataGetter");function Jg(ee){var _=ee.cellData;return _==null?"":String(_)}o(Jg,"defaultCellRenderer");function Yg(ee){var _=ee.className,L=ee.columns,q=ee.style;return Sn.createElement("div",{className:_,role:"row",style:q},L)}o(Yg,"defaultHeaderRowRenderer"),Ue($g,"propTypes",{children:dt.func.isRequired});var Lo={ASC:"ASC",DESC:"DESC"};function Nf(ee){var _=ee.sortDirection,L=Do("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":_===Lo.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":_===Lo.DESC});return Sn.createElement("svg",{className:L,width:18,height:18,viewBox:"0 0 24 24"},_===Lo.ASC?Sn.createElement("path",{d:"M7 14l5-5 5 5z"}):Sn.createElement("path",{d:"M7 10l5 5 5-5z"}),Sn.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}o(Nf,"SortIndicator");function Xg(ee){var _=ee.dataKey,L=ee.label,q=ee.sortBy,ae=ee.sortDirection,pe=q===_,de=[Sn.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof L=="string"?L:null},L)];return pe&&de.push(Sn.createElement(Nf,{key:"SortIndicator",sortDirection:ae})),de}o(Xg,"defaultHeaderRenderer");function Qg(ee){var _=ee.className,L=ee.columns,q=ee.index,ae=ee.key,pe=ee.onRowClick,de=ee.onRowDoubleClick,ye=ee.onRowMouseOut,Oe=ee.onRowMouseOver,we=ee.onRowRightClick,Ae=ee.rowData,Fe=ee.style,He={"aria-rowindex":q+1};return(pe||de||ye||Oe||we)&&(He["aria-label"]="row",He.tabIndex=0,pe&&(He.onClick=function(ft){return pe({event:ft,index:q,rowData:Ae})}),de&&(He.onDoubleClick=function(ft){return de({event:ft,index:q,rowData:Ae})}),ye&&(He.onMouseOut=function(ft){return ye({event:ft,index:q,rowData:Ae})}),Oe&&(He.onMouseOver=function(ft){return Oe({event:ft,index:q,rowData:Ae})}),we&&(He.onContextMenu=function(ft){return we({event:ft,index:q,rowData:Ae})})),Sn.createElement("div",so({},He,{className:_,key:ae,role:"row",style:Fe}),L)}o(Qg,"defaultRowRenderer"),Nf.propTypes={sortDirection:dt.oneOf([Lo.ASC,Lo.DESC])};var Zd=function(){function ee(){return Yi(this,ee),xr(this,Rr(ee).apply(this,arguments))}return o(ee,"Column"),Nr(ee,Sn.Component),ee}();Ue(Zd,"propTypes",{"aria-label":dt.string,cellDataGetter:dt.func,cellRenderer:dt.func,className:dt.string,columnData:dt.object,dataKey:dt.any.isRequired,defaultSortDirection:dt.oneOf([Lo.ASC,Lo.DESC]),disableSort:dt.bool,flexGrow:dt.number,flexShrink:dt.number,headerClassName:dt.string,headerRenderer:dt.func.isRequired,headerStyle:dt.object,id:dt.string,label:dt.node,maxWidth:dt.number,minWidth:dt.number,style:dt.object,width:dt.number.isRequired}),Ue(Zd,"defaultProps",{cellDataGetter:Kg,cellRenderer:Jg,defaultSortDirection:Lo.ASC,flexGrow:0,flexShrink:1,headerRenderer:Xg,style:{}});var xf=function(){function ee(_){var L;return Yi(this,ee),(L=xr(this,Rr(ee).call(this,_))).state={scrollbarWidth:0},L._createColumn=L._createColumn.bind(ut(L)),L._createRow=L._createRow.bind(ut(L)),L._onScroll=L._onScroll.bind(ut(L)),L._onSectionRendered=L._onSectionRendered.bind(ut(L)),L._setRef=L._setRef.bind(ut(L)),L}return o(ee,"Table"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(_){var L=_.alignment,q=_.index;return this.Grid?this.Grid.getOffsetForCell({alignment:L,rowIndex:q}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(_){var L=_.columnIndex,q=_.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:q,columnIndex:L})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(_){var L=0<arguments.length&&_!==void 0?_:{},q=L.columnIndex,ae=q===void 0?0:q,pe=L.rowIndex,de=pe===void 0?0:pe;this.Grid&&this.Grid.recomputeGridSize({rowIndex:de,columnIndex:ae})}},{key:"recomputeRowHeights",value:function(_){var L=0<arguments.length&&_!==void 0?_:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:L})}},{key:"scrollToPosition",value:function(_){var L=0<arguments.length&&_!==void 0?_:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:L})}},{key:"scrollToRow",value:function(_){var L=0<arguments.length&&_!==void 0?_:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:L})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var _=Ia.findDOMNode(this.Grid),L=_.clientWidth||0;return(_.offsetWidth||0)-L}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var _=this,L=this.props,q=L.children,ae=L.className,pe=L.disableHeader,de=L.gridClassName,ye=L.gridStyle,Oe=L.headerHeight,we=L.headerRowRenderer,Ae=L.height,Fe=L.id,He=L.noRowsRenderer,ft=L.rowClassName,We=L.rowStyle,it=L.scrollToIndex,St=L.style,Ct=L.width,Nt=this.state.scrollbarWidth,jt=pe?Ae:Ae-Oe,st=typeof ft=="function"?ft({index:-1}):ft,wt=typeof We=="function"?We({index:-1}):We;return this._cachedColumnStyles=[],Sn.Children.toArray(q).forEach(function(qe,dn){var An=_._getFlexStyleForColumn(qe,qe.props.style);_._cachedColumnStyles[dn]=si({overflow:"hidden"},An)}),Sn.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":Sn.Children.toArray(q).length,"aria-rowcount":this.props.rowCount,className:Do("ReactVirtualized__Table",ae),id:Fe,role:"grid",style:St},!pe&&we({className:Do("ReactVirtualized__Table__headerRow",st),columns:this._getHeaderColumns(),style:si({height:Oe,overflow:"hidden",paddingRight:Nt,width:Ct},wt)}),Sn.createElement(gs,so({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:Do("ReactVirtualized__Table__Grid",de),cellRenderer:this._createRow,columnWidth:Ct,columnCount:1,height:jt,id:void 0,noContentRenderer:He,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:Nt,scrollToRow:it,style:si({},ye,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(_){var L=_.column,q=_.columnIndex,ae=_.isScrolling,pe=_.parent,de=_.rowData,ye=_.rowIndex,Oe=this.props.onColumnClick,we=L.props,Ae=we.cellDataGetter,Fe=we.cellRenderer,He=we.className,ft=we.columnData,We=we.dataKey,it=we.id,St=Fe({cellData:Ae({columnData:ft,dataKey:We,rowData:de}),columnData:ft,columnIndex:q,dataKey:We,isScrolling:ae,parent:pe,rowData:de,rowIndex:ye}),Ct=this._cachedColumnStyles[q],Nt=typeof St=="string"?St:null;return Sn.createElement("div",{"aria-colindex":q+1,"aria-describedby":it,className:Do("ReactVirtualized__Table__rowColumn",He),key:"Row"+ye+"-Col"+q,onClick:function(jt){Oe&&Oe({columnData:ft,dataKey:We,event:jt})},role:"gridcell",style:Ct,title:Nt},St)}},{key:"_createHeader",value:function(_){var L,q,ae,pe,de,ye=_.column,Oe=_.index,we=this.props,Ae=we.headerClassName,Fe=we.headerStyle,He=we.onHeaderClick,ft=we.sort,We=we.sortBy,it=we.sortDirection,St=ye.props,Ct=St.columnData,Nt=St.dataKey,jt=St.defaultSortDirection,st=St.disableSort,wt=St.headerRenderer,qe=St.id,dn=St.label,An=!st&&ft,Di=Do("ReactVirtualized__Table__headerColumn",Ae,ye.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:An}),Pi=this._getFlexStyleForColumn(ye,si({},Fe,{},ye.props.headerStyle)),$i=wt({columnData:Ct,dataKey:Nt,disableSort:st,label:dn,sortBy:We,sortDirection:it});if(An||He){var Br=We!==Nt?jt:it===Lo.DESC?Lo.ASC:Lo.DESC,mr=o(function(No){An&&ft({defaultSortDirection:jt,event:No,sortBy:Nt,sortDirection:Br}),He&&He({columnData:Ct,dataKey:Nt,event:No})},"onClick");de=ye.props["aria-label"]||dn||Nt,pe="none",ae=0,L=mr,q=o(function(No){No.key!=="Enter"&&No.key!==" "||mr(No)},"headerOnKeyDown")}return We===Nt&&(pe=it===Lo.ASC?"ascending":"descending"),Sn.createElement("div",{"aria-label":de,"aria-sort":pe,className:Di,id:qe,key:"Header-Col"+Oe,onClick:L,onKeyDown:q,role:"columnheader",style:Pi,tabIndex:ae},$i)}},{key:"_createRow",value:function(_){var L=this,q=_.rowIndex,ae=_.isScrolling,pe=_.key,de=_.parent,ye=_.style,Oe=this.props,we=Oe.children,Ae=Oe.onRowClick,Fe=Oe.onRowDoubleClick,He=Oe.onRowRightClick,ft=Oe.onRowMouseOver,We=Oe.onRowMouseOut,it=Oe.rowClassName,St=Oe.rowGetter,Ct=Oe.rowRenderer,Nt=Oe.rowStyle,jt=this.state.scrollbarWidth,st=typeof it=="function"?it({index:q}):it,wt=typeof Nt=="function"?Nt({index:q}):Nt,qe=St({index:q}),dn=Sn.Children.toArray(we).map(function(Pi,$i){return L._createColumn({column:Pi,columnIndex:$i,isScrolling:ae,parent:de,rowData:qe,rowIndex:q,scrollbarWidth:jt})}),An=Do("ReactVirtualized__Table__row",st),Di=si({},ye,{height:this._getRowHeight(q),overflow:"hidden",paddingRight:jt},wt);return Ct({className:An,columns:dn,index:q,isScrolling:ae,key:pe,onRowClick:Ae,onRowDoubleClick:Fe,onRowRightClick:He,onRowMouseOver:ft,onRowMouseOut:We,rowData:qe,style:Di})}},{key:"_getFlexStyleForColumn",value:function(_,L){var q=1<arguments.length&&L!==void 0?L:{},ae="".concat(_.props.flexGrow," ").concat(_.props.flexShrink," ").concat(_.props.width,"px"),pe=si({},q,{flex:ae,msFlex:ae,WebkitFlex:ae});return _.props.maxWidth&&(pe.maxWidth=_.props.maxWidth),_.props.minWidth&&(pe.minWidth=_.props.minWidth),pe}},{key:"_getHeaderColumns",value:function(){var _=this,L=this.props,q=L.children;return(L.disableHeader?[]:Sn.Children.toArray(q)).map(function(ae,pe){return _._createHeader({column:ae,index:pe})})}},{key:"_getRowHeight",value:function(_){var L=this.props.rowHeight;return typeof L=="function"?L({index:_}):L}},{key:"_onScroll",value:function(_){var L=_.clientHeight,q=_.scrollHeight,ae=_.scrollTop;(0,this.props.onScroll)({clientHeight:L,scrollHeight:q,scrollTop:ae})}},{key:"_onSectionRendered",value:function(_){var L=_.rowOverscanStartIndex,q=_.rowOverscanStopIndex,ae=_.rowStartIndex,pe=_.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:L,overscanStopIndex:q,startIndex:ae,stopIndex:pe})}},{key:"_setRef",value:function(_){this.Grid=_}},{key:"_setScrollbarWidth",value:function(){var _=this.getScrollbarWidth();this.setState({scrollbarWidth:_})}}]),ee}();Ue(xf,"propTypes",{"aria-label":dt.string,"aria-labelledby":dt.string,autoHeight:dt.bool,children:function(ee){for(var _=Sn.Children.toArray(ee.children),L=0;L<_.length;L++){var q=_[L].type;if(q!==Zd&&!(q.prototype instanceof Zd))return new Error("Table only accepts children of type Column")}},className:dt.string,disableHeader:dt.bool,estimatedRowSize:dt.number.isRequired,gridClassName:dt.string,gridStyle:dt.object,headerClassName:dt.string,headerHeight:dt.number.isRequired,headerRowRenderer:dt.func,headerStyle:dt.object,height:dt.number.isRequired,id:dt.string,noRowsRenderer:dt.func,onColumnClick:dt.func,onHeaderClick:dt.func,onRowClick:dt.func,onRowDoubleClick:dt.func,onRowMouseOut:dt.func,onRowMouseOver:dt.func,onRowRightClick:dt.func,onRowsRendered:dt.func,onScroll:dt.func.isRequired,overscanIndicesGetter:dt.func.isRequired,overscanRowCount:dt.number.isRequired,rowClassName:dt.oneOfType([dt.string,dt.func]),rowGetter:dt.func.isRequired,rowHeight:dt.oneOfType([dt.number,dt.func]).isRequired,rowCount:dt.number.isRequired,rowRenderer:dt.func,rowStyle:dt.oneOfType([dt.object,dt.func]).isRequired,scrollToAlignment:dt.oneOf(["auto","end","start","center"]).isRequired,scrollToIndex:dt.number.isRequired,scrollTop:dt.number,sort:dt.func,sortBy:dt.string,sortDirection:dt.oneOf([Lo.ASC,Lo.DESC]),style:dt.object,tabIndex:dt.number,width:dt.number.isRequired}),Ue(xf,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:T,overscanRowCount:10,rowRenderer:Qg,headerRowRenderer:Yg,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var Dl=[],qd=null,Ll=null;function Zg(){Ll&&(Ll=null,Un.body&&qd!=null&&(Un.body.style.pointerEvents=qd),qd=null)}o(Zg,"enablePointerEventsIfDisabled");function KS(){Zg(),Dl.forEach(function(ee){return ee.__resetIsScrolling()})}o(KS,"enablePointerEventsAfterDelayCallback");function qg(ee){ee.currentTarget===W&&qd==null&&Un.body&&(qd=Un.body.style.pointerEvents,Un.body.style.pointerEvents="none"),function(){Ll&&sl(Ll);var _=0;Dl.forEach(function(L){_=Math.max(_,L.props.scrollingResetTimeInterval)}),Ll=kl(KS,_)}(),Dl.forEach(function(_){_.props.scrollElement===ee.currentTarget&&_.__handleWindowScrollEvent()})}o(qg,"onScrollWindow");function eS(ee,_){Dl.some(function(L){return L.props.scrollElement===_})||_.addEventListener("scroll",qg),Dl.push(ee)}o(eS,"registerScrollListener");function tS(ee,_){(Dl=Dl.filter(function(L){return L!==ee})).length||(_.removeEventListener("scroll",qg),Ll&&(sl(Ll),Zg()))}o(tS,"unregisterScrollListener");var Bf=o(function(ee){return ee===W},"isWindow"),ec=o(function(ee){return ee.getBoundingClientRect()},"getBoundingBox");function nS(ee,_){if(ee){if(Bf(ee)){var L=W,q=L.innerHeight,ae=L.innerWidth;return{height:typeof q=="number"?q:0,width:typeof ae=="number"?ae:0}}return ec(ee)}return{height:_.serverHeight,width:_.serverWidth}}o(nS,"getDimensions");function iS(ee){return Bf(ee)&&Un.documentElement?{top:"scrollY"in W?W.scrollY:Un.documentElement.scrollTop,left:"scrollX"in W?W.scrollX:Un.documentElement.scrollLeft}:{top:ee.scrollTop,left:ee.scrollLeft}}o(iS,"getScrollOffset");var rS=o(function(){return typeof W<"u"?W:void 0},"getWindow"),oS=function(){function ee(){var _,L;Yi(this,ee);for(var q=arguments.length,ae=new Array(q),pe=0;pe<q;pe++)ae[pe]=arguments[pe];return Ue(ut(L=xr(this,(_=Rr(ee)).call.apply(_,[this].concat(ae)))),"_window",rS()),Ue(ut(L),"_isMounted",!1),Ue(ut(L),"_positionFromTop",0),Ue(ut(L),"_positionFromLeft",0),Ue(ut(L),"_detectElementResize",void 0),Ue(ut(L),"_child",void 0),Ue(ut(L),"state",si({},nS(L.props.scrollElement,L.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),Ue(ut(L),"_registerChild",function(de){!de||de instanceof Qr||fi.warn("WindowScroller registerChild expects to be passed Element or null"),L._child=de,L.updatePosition()}),Ue(ut(L),"_onChildScroll",function(de){var ye=de.scrollTop;if(L.state.scrollTop!==ye){var Oe=L.props.scrollElement;Oe&&(typeof Oe.scrollTo=="function"?Oe.scrollTo(0,ye+L._positionFromTop):Oe.scrollTop=ye+L._positionFromTop)}}),Ue(ut(L),"_registerResizeListener",function(de){de===W?W.addEventListener("resize",L._onResize,!1):L._detectElementResize.addResizeListener(de,L._onResize)}),Ue(ut(L),"_unregisterResizeListener",function(de){de===W?W.removeEventListener("resize",L._onResize,!1):de&&L._detectElementResize.removeResizeListener(de,L._onResize)}),Ue(ut(L),"_onResize",function(){L.updatePosition()}),Ue(ut(L),"__handleWindowScrollEvent",function(){if(L._isMounted){var de=L.props.onScroll,ye=L.props.scrollElement;if(ye){var Oe=iS(ye),we=Math.max(0,Oe.left-L._positionFromLeft),Ae=Math.max(0,Oe.top-L._positionFromTop);L.setState({isScrolling:!0,scrollLeft:we,scrollTop:Ae}),de({scrollLeft:we,scrollTop:Ae})}}}),Ue(ut(L),"__resetIsScrolling",function(){L.setState({isScrolling:!1})}),L}return o(ee,"WindowScroller"),Nr(ee,Sn.PureComponent),qi(ee,[{key:"updatePosition",value:function(_){var L=0<arguments.length&&_!==void 0?_:this.props.scrollElement,q=this.props.onResize,ae=this.state,pe=ae.height,de=ae.width,ye=this._child||Ia.findDOMNode(this);if(ye instanceof Qr&&L){var Oe=function(Ae,Fe){if(Bf(Fe)&&Un.documentElement){var He=Un.documentElement,ft=ec(Ae),We=ec(He);return{top:ft.top-We.top,left:ft.left-We.left}}var it=iS(Fe),St=ec(Ae),Ct=ec(Fe);return{top:St.top+it.top-Ct.top,left:St.left+it.left-Ct.left}}(ye,L);this._positionFromTop=Oe.top,this._positionFromLeft=Oe.left}var we=nS(L,this.props);pe===we.height&&de===we.width||(this.setState({height:we.height,width:we.width}),q({height:we.height,width:we.width}))}},{key:"componentDidMount",value:function(){var _=this.props.scrollElement;this._detectElementResize=wa(),this.updatePosition(_),_&&(eS(this,_),this._registerResizeListener(_)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(_){var L=this.props.scrollElement,q=_.scrollElement;q!==L&&q!=null&&L!=null&&(this.updatePosition(L),tS(this,q),eS(this,L),this._unregisterResizeListener(q),this._registerResizeListener(L))}},{key:"componentWillUnmount",value:function(){var _=this.props.scrollElement;_&&(tS(this,_),this._unregisterResizeListener(_)),this._isMounted=!1}},{key:"render",value:function(){var _=this.props.children,L=this.state,q=L.isScrolling,ae=L.scrollTop,pe=L.scrollLeft,de=L.height,ye=L.width;return _({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:de,isScrolling:q,scrollLeft:pe,scrollTop:ae,width:ye})}}]),ee}();Ue(oS,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:rS(),serverHeight:0,serverWidth:0}),Oi.ArrowKeyStepper=pa,Oi.AutoSizer=Oa,Oi.CellMeasurer=ma,Oi.CellMeasurerCache=Za,Oi.Collection=Jd,Oi.Column=Zd,Oi.ColumnSizer=bd,Oi.Grid=gs,Oi.InfiniteLoader=v,Oi.List=b,Oi.Masonry=Qd,Oi.MultiGrid=xc,Oi.ScrollSync=$g,Oi.SortDirection=Lo,Oi.SortIndicator=Nf,Oi.Table=xf,Oi.WindowScroller=oS,Oi.accessibilityOverscanIndicesGetter=T,Oi.createMasonryCellPositioner=function(ee){var _,L=ee.cellMeasurerCache,q=ee.columnCount,ae=ee.columnWidth,pe=ee.spacer,de=pe===void 0?0:pe;function ye(we){for(var Ae=0,Fe=1;Fe<_.length;Fe++)_[Fe]<_[Ae]&&(Ae=Fe);var He=Ae*(ae+de),ft=_[Ae]||0;return _[Ae]=ft+L.getHeight(we)+de,{left:He,top:ft}}o(ye,"cellPositioner");function Oe(){_=[];for(var we=0;we<q;we++)_[we]=0}return o(Oe,"initOrResetDerivedValues"),Oe(),ye.reset=function(we){q=we.columnCount,ae=we.columnWidth,de=we.spacer,Oe()},ye},Oi.createTableMultiSort=function(ee){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},L=_.defaultSortBy,q=_.defaultSortDirection,ae=q===void 0?{}:q;if(!ee)throw Error('Required parameter "sortCallback" not specified');var pe=L||[],de={};return pe.forEach(function(ye){de[ye]=ae[ye]!==void 0?ae[ye]:"ASC"}),{sort:function(ye){var Oe=ye.defaultSortDirection,we=ye.event,Ae=ye.sortBy;if(we.shiftKey)de[Ae]!==void 0?de[Ae]=de[Ae]==="ASC"?"DESC":"ASC":(de[Ae]=Oe,pe.push(Ae));else if(we.ctrlKey||we.metaKey){var Fe=pe.indexOf(Ae);0<=Fe&&(pe.splice(Fe,1),delete de[Ae])}else pe.length=0,pe.push(Ae),Object.keys(de).forEach(function(He){He!==Ae&&delete de[He]}),de[Ae]!==void 0?de[Ae]=de[Ae]==="ASC"?"DESC":"ASC":de[Ae]=Oe;ee({sortBy:pe,sortDirection:de})},sortBy:pe,sortDirection:de}},Oi.defaultCellRangeRenderer=Lc,Oi.defaultOverscanIndicesGetter=Cd,Oi.defaultTableCellDataGetter=Kg,Oi.defaultTableCellRenderer=Jg,Oi.defaultTableHeaderRenderer=Xg,Oi.defaultTableHeaderRowRenderer=Yg,Oi.defaultTableRowRenderer=Qg,Object.defineProperty(Oi,"__esModule",{value:!0})}),i.exports}}).call(this,h("yLpj"))},N7sO:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isEmptyData=void 0;function S(f){return typeof f=="string"?f.length===0:f.byteLength===0}o(S,"isEmptyData"),l.isEmptyData=S},N8ne:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("mlaT"));let u=o(class{info(a){for(const s of this._loggers)s.info(a)}warn(a){for(const s of this._loggers)s.warn(a)}error(a){for(const s of this._loggers)s.error(a)}debug(a){let s,i;typeof a=="string"?i=a:a?i=o(()=>(s||(s=a()),s),"memoized"):i=""+a;for(const e of this._loggers)e.debug(i)}setLogLevel(a){for(const s of this._loggers)s.setLogLevel(a)}getLogLevel(){for(const a of this._loggers)return a.getLogLevel();return f.default.OFF}constructor(...a){this._loggers=a}},"MultiLogger");l.default=u},N9oo:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("lUhs")),g=f(h("AUdx")),a=f(h("aVV0"));let s=o(class IS extends a.default{removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(e=e||new Error(`canceling ${this.name()}`),this.cancelPromise(e),delete this.cancelPromise)}run(){return S(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new g.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`);return}}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new g.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((e,t)=>{this.cancelPromise=n=>{this.removeEventListener(),t(n)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),e(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=n=>{if(this.context.logger.info(`ice candidate: ${n.candidate?n.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),n.candidate&&(g.default.isRTPCandidate(n.candidate.candidate)&&this.context.iceCandidates.push(n.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),e(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new g.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(t(new Error("no ice candidates were gathered")),delete this.cancelPromise):(e(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(e){throw e}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}constructor(e,t=IS.CHROME_VPN_TIMEOUT_MS){super(e.logger),this.context=e,this.chromeVpnTimeoutMs=t,this.taskName="FinishGatheringICECandidatesTask"}},"FinishGatheringICECandidatesTask");l.default=s,s.CHROME_VPN_TIMEOUT_MS=5e3},NBIk:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoQualityAdaptationPreference=void 0;var S;(function(f){f[f.Balanced=0]="Balanced",f[f.MaintainFramerate=1]="MaintainFramerate",f[f.MaintainResolution=2]="MaintainResolution"})(S=l.VideoQualityAdaptationPreference||(l.VideoQualityAdaptationPreference={})),l.default=S},NDMw:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isAudioTransformDevice=void 0;function S(f){return!!f&&typeof f=="object"&&"mute"in f&&"stop"in f&&"intrinsicDevice"in f}o(S,"isAudioTransformDevice"),l.isAudioTransformDevice=S},NE7a:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"StreamMetricReport");l.default=S},NFcc:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckVideoInputFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied"})(S=l.CheckVideoInputFeedback||(l.CheckVideoInputFeedback={})),l.default=S},NUAg:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("IBi3"));let u=o(class extends f.default{setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}constructor(a,s,i){super(a,s,i)}},"VideoOnlyTransceiverController");l.default=u},NWIo:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("riOr"));let u=o(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var a,s,i,e,t,n,r,c,p,m,d,y;const E=new Map,w=1e3,k=f.default.NAME_ARR_ASCENDING;return E.set(k[0],{rid:k[0],active:!0,scaleResolutionDownBy:((s=(a=this.encodingParams)===null||a===void 0?void 0:a.low)===null||s===void 0?void 0:s.scaleResolutionDownBy)||2,maxBitrate:(((e=(i=this.encodingParams)===null||i===void 0?void 0:i.low)===null||e===void 0?void 0:e.maxBitrateKbps)||this.defaultLowTargetBitrateKbps)*w,maxFramerate:((n=(t=this.encodingParams)===null||t===void 0?void 0:t.low)===null||n===void 0?void 0:n.maxFramerate)||5}),E.set(k[1],{rid:k[1],active:!0,scaleResolutionDownBy:((c=(r=this.encodingParams)===null||r===void 0?void 0:r.high)===null||c===void 0?void 0:c.scaleResolutionDownBy)||1,maxBitrate:(((m=(p=this.encodingParams)===null||p===void 0?void 0:p.high)===null||m===void 0?void 0:m.maxBitrateKbps)||this.defaultHiTargetBitrateKbps)*w,maxFramerate:(y=(d=this.encodingParams)===null||d===void 0?void 0:d.high)===null||y===void 0?void 0:y.maxFramerate}),this.getQualityMapString(E),E}updateIndex(a){this.videoIndex=a}wantsResubscribe(){var a,s;let i=!1;this.nextLocalDescriptions=(a=this.videoIndex)===null||a===void 0?void 0:a.localStreamDescriptions();for(let e=0;e<((s=this.nextLocalDescriptions)===null||s===void 0?void 0:s.length);e++){const t=this.nextLocalDescriptions[e].streamId;if(t!==0&&t){const n=this.currLocalDescriptions.findIndex(r=>r.streamId===t);n!==-1&&this.nextLocalDescriptions[e].disabledByWebRTC!==this.currLocalDescriptions[n].disabledByWebRTC&&(i=!0)}}return this.currLocalDescriptions=this.nextLocalDescriptions,i}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return this.enableUhdContent?2e3:1200}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}setHighResolutionFeatureEnabled(a){this.enableUhdContent=a,this.defaultHiTargetBitrateKbps=a?2e3:1200,this.defaultLowTargetBitrateKbps=a?500:300}getQualityMapString(a){var s;let i="";const e=(s=this.videoIndex)===null||s===void 0?void 0:s.localStreamDescriptions();(e==null?void 0:e.length)>0&&(a.forEach(t=>{let n=!1;t.rid==="low"?n=e[0].disabledByWebRTC:n=e[1].disabledByWebRTC,i+=`{ rid: ${t.rid} active:${t.active} disabledByWebRTC: ${n} maxBitrate:${t.maxBitrate} scaleResolutionDownBy:${t.scaleResolutionDownBy} maxFrameRate:${t.maxFramerate}`}),this.logger.info(`simulcast: content policy:chooseEncodingParameters newQualityMap: ${i}`))}addObserver(a){}removeObserver(a){}forEachObserver(a){}constructor(a,s){this.logger=a,this.encodingParams=s,this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.enableUhdContent=!1,this.defaultHiTargetBitrateKbps=1200,this.defaultLowTargetBitrateKbps=300}},"DefaultSimulcastUplinkPolicyForContentShare");l.default=u},Ni8D:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{reportEvent(u,g,a){}start(){}stop(){}constructor(){}},"NoOpEventReporter");l.default=S},Np2I:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{reset(){this.currentRetry=0}nextBackoffAmountMs(){const u=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,u}constructor(u,g,a){this.fixedWaitMs=u,this.shortBackoffMs=g,this.longBackoffMs=a,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}},"FullJitterBackoff");l.default=S},Nzn3:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(u){}},"NoOpTask");l.default=S},O9RP:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DeferredPromise=void 0;let S=o(class{getPromise(){return this.promise}resolvePromise(u){this.resolve(u)}resolveAndReplacePromise(u){this.resolve(u),this.promise=new Promise((g,a)=>{this.resolve=g,this.reject=a})}rejectPromise(u){this.reject(u)}rejectAndReplacePromise(u){this.reject(u),this.promise=new Promise((g,a)=>{this.resolve=g,this.reject=a})}constructor(){this.promise=new Promise((u,g)=>{this.resolve=u,this.reject=g})}},"DeferredPromise");l.DeferredPromise=S},OEM7:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("XCDq");let f=o(class wS{clone(){const g=new wS;return g.attendeeId=this.attendeeId,g.groupId=this.groupId,g.streamId=this.streamId,g.ssrc=this.ssrc,g.trackLabel=this.trackLabel,g.maxBitrateKbps=this.maxBitrateKbps,g.avgBitrateKbps=this.avgBitrateKbps,g.maxFrameRate=this.maxFrameRate,g.timeEnabled=this.timeEnabled,g.disabledByWebRTC=this.disabledByWebRTC,g.disabledByUplinkPolicy=this.disabledByUplinkPolicy,g}toStreamDescriptor(){const g=S.SdkStreamDescriptor.create();return g.mediaType=S.SdkStreamMediaType.VIDEO,g.trackLabel=this.trackLabel,g.attendeeId=this.attendeeId,g.streamId=this.streamId,g.groupId=this.groupId,g.framerate=this.maxFrameRate,g.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,g.avgBitrateBps=this.avgBitrateKbps,g}constructor(g,a,s,i,e){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.attendeeId=g,this.groupId=a,this.streamId=s,this.maxBitrateKbps=i,this.avgBitrateKbps=e}},"VideoStreamDescription");l.default=f},OND3:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("IBi3"));let g=o(class ga extends u.default{setEncodingParameters(s){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(s.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let n=0;n<t.encodings.length;n++)t.encodings[n].rid===ga.LOW_LEVEL_NAME&&this.copyEncodingParams(s.get(ga.LOW_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===ga.MID_LEVEL_NAME&&this.copyEncodingParams(s.get(ga.MID_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===ga.HIGH_LEVEL_NAME&&this.copyEncodingParams(s.get(ga.HIGH_LEVEL_NAME),t.encodings[n]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(s){return S(this,void 0,void 0,function*(){})}setupLocalTransceivers(){var s,i;if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((i=(s=this.meetingSessionContext)===null||s===void 0?void 0:s.audioProfile)===null||i===void 0)&&i.hasRedundancyEnabled()&&this.setupAudioRedWorker()),!this._localCameraTransceiver)){const e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}}logVideoTransceiverParameters(){const i=this._localCameraTransceiver.sender.getParameters().encodings;let e=`simulcast: current encoding parameters 
`;for(const t of i)e+=`rid=${t.rid} maxBitrate=${t.maxBitrate} active=${t.active} scaleDownBy=${t.scaleResolutionDownBy} maxFrameRate = ${t.maxFramerate} 
`;this.logger.info(e)}copyEncodingParams(s,i){i.active=s.active,i.maxBitrate=s.maxBitrate,i.scaleResolutionDownBy=s.scaleResolutionDownBy,i.maxFramerate=s.maxFramerate}constructor(s,i,e){super(s,i,e),this.videoQualityControlParameterMap=new Map;let t=4;for(let n=0;n<ga.NAME_ARR_ASCENDING.length;n++){const r=ga.NAME_ARR_ASCENDING[n];this.videoQualityControlParameterMap.set(r,{rid:r,scaleResolutionDownBy:t,maxBitrate:ga.BITRATE_ARR_ASCENDING[n]*1e3}),t=t/2}}},"SimulcastTransceiverController");l.default=g,g.LOW_LEVEL_NAME="low",g.MID_LEVEL_NAME="mid",g.HIGH_LEVEL_NAME="hi",g.NAME_ARR_ASCENDING=["low","mid","hi"],g.BITRATE_ARR_ASCENDING=[200,400,1100]},OV1w:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("/AJg"));let u=o(class{constructor(a){this.applicationMetadata=a,this.serverSideNetworkAdaption=f.default.Default,this.supportedServerSideNetworkAdaptions=[],this.disablePeriodicKeyframeRequestOnContentSender=!1}},"SignalingClientJoin");l.default=u},Obod:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(c,p,m,d){function y(E){return E instanceof m?E:new m(function(w){w(E)})}return o(y,"adopt"),new(m||(m=Promise))(function(E,w){function k(F){try{N(d.next(F))}catch(P){w(P)}}o(k,"fulfilled");function V(F){try{N(d.throw(F))}catch(P){w(P)}}o(V,"rejected");function N(F){F.done?E(F.value):y(F.value).then(k,V)}o(N,"step"),N((d=d.apply(c,p||[])).next())})},f=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("IsLT")),g=f(h("zd8f")),a=f(h("mlaT")),s=f(h("ZZPe")),i=f(h("PR0U")),e=f(h("hrQK")),t=f(h("gLI0"));let n=o(class extends s.default{setBlurStrength(){}loadAssets(){return S(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}},"NoOpBackgroundBlurProcessor"),r=o(class Od extends u.default{static create(p,m){return S(this,void 0,void 0,function*(){p=Od.resolveSpec(p),m=Od.resolveOptions(m);const{logger:d}=m,y=yield Od.isSupported(p,m);if(d.info(`processor is ${y?"":"not"} supported`),!y)return d.warn("Using no-op processor because background blur is not supported"),new n;let E;return(yield e.default.isSupported())?(d.info("Using browser-provided background blur"),E=new e.default(p,m)):(d.info("Using built-in background blur"),E=new i.default(p,m)),yield E.loadAssets(),E})}static resolveOptions(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=Object.assign({},p);return m.blurStrength||(m.blurStrength=t.default.MEDIUM),m.logger||(m.logger=new g.default("BackgroundBlurProcessor",a.default.INFO)),m=super.resolveOptions(m),m}static isSupported(p,m){return p=Od.resolveSpec(p),m=Od.resolveOptions(m),super.isSupported(p,m)}},"BackgroundBlurVideoFrameProcessor");l.default=r},OcJO:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.currentTimestampMs=0,this.ssrc=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsExpected=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}},"RedundantAudioRecoveryMetricReport");l.default=S},OdWA:function(j,l,h){"use strict";h.d(l,"a",function(){return e});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e=Object(a.a)("users.interactions.list generated fetcher",function(){var t=Object(S.coroutine)(function*(n,r,c){try{const p=["reason"],m=Object(u.a)(c,p),d=Object(i.b)(m),y=yield n(Object(g.apiCall)({method:"users.interactions.list",args:d,reason:c.reason}));return Object(i.a)(y)}catch(p){throw Object(s.a)({getState:r}).error(`API call to users.interactions.list
				with reason ${c.reason} failed, initiated by generated fetcher`),p}});return function(n,r,c){return t.apply(this,arguments)}}());e.meta={name:"createFetcher",key:"createFetcherusersInteractionsListFetcher",description:"users.interactions.list generated fetcher"}},Ol9i:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptItem");l.default=S},Olm7:function(j,l,h){"use strict";var S=h("fywt"),f=h("ntxC");function u(g,a){var s=[];if(!(g&&g.length))return s;var i=-1,e=[],t=g.length;for(a=Object(S.a)(a,3);++i<t;){var n=g[i];a(n,i,g)&&(s.push(n),e.push(i))}return Object(f.a)(g,e),s}o(u,"remove"),l.a=u},Op30:function(j,l,h){"use strict";h.d(l,"a",function(){return f});const S={Equal:"equal",NotEqual:"not_equal",GreaterThan:"greater_than",LessThan:"less_than",GreaterThanOrEqual:"greater_than_or_equal",LessThanOrEqual:"less_than_or_equal",Contains:"contains",DoesNotContain:"does_not_contain",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty",IsMe:"is_me",IsNotMe:"is_not_me"},f={Equal:"equal",NotEqual:"not_equal",GreaterThan:"greater_than",LessThan:"less_than",GreaterThanOrEqual:"greater_than_or_equal",LessThanOrEqual:"less_than_or_equal",Contains:"contains",DoesNotContain:"does_not_contain",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty",IsMe:"is_me",IsNotMe:"is_not_me"}},Oxpw:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.Unread="unread",f.LastMessageTimestamp="last-message-timestamp"})(S||(S={})),l.default=S},P3Bx:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class Wc{onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(u){let g=0;for(const a of u.streams){const s=!!a.attendeeId,i=!!a.externalUserId,e=a.hasOwnProperty("muted"),t=!!a.dropped;if(s){this.attendeeIdToStreamId[a.attendeeId]&&this.attendeeIdToStreamId[a.attendeeId]<a.audioStreamId&&delete this.attendeeIdToStreamId[a.attendeeId],this.streamIdToAttendeeId[a.audioStreamId]=a.attendeeId;const n=i?a.externalUserId:a.attendeeId;this.streamIdToExternalUserId[a.audioStreamId]=n,this.attendeeIdToStreamId[a.attendeeId]=a.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(a.attendeeId,!0,n,!1,{attendeeIndex:g++,attendeesInFrame:u.streams.length})}if(e){const n=this.streamIdToAttendeeId[a.audioStreamId],r=this.streamIdToExternalUserId[a.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(n,null,a.muted,null,r)}if(!s&&!e){const n=this.streamIdToAttendeeId[a.audioStreamId];if(n){const r=this.streamIdToExternalUserId[a.audioStreamId];delete this.streamIdToAttendeeId[a.audioStreamId],delete this.streamIdToExternalUserId[a.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[a.audioStreamId],this.attendeeIdToStreamId[n]===a.audioStreamId&&delete this.attendeeIdToStreamId[n];let c=!1;for(const p of Object.keys(this.streamIdToAttendeeId)){const m=parseInt(p);if(m>a.audioStreamId&&this.streamIdToAttendeeId[m]===n){c=!0;break}}c||this.realtimeController.realtimeSetAttendeeIdPresence(n,!1,r,t,{attendeeIndex:g++,attendeesInFrame:u.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(u),this.sessionReconnected=!1)}cleanUpState(u){const g=Object.values(this.streamIdToAttendeeId),a=u.streams.map(i=>i.attendeeId),s=g.filter(i=>!a.includes(i));for(const[i,e]of s.entries()){const t=this.attendeeIdToStreamId[e],n=this.streamIdToExternalUserId[t];if(delete this.streamIdToAttendeeId[t],delete this.streamIdToExternalUserId[t],delete this.warnedAboutMissingStreamIdMapping[t],delete this.attendeeIdToStreamId[e],e===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(e,!1,n,!1,{attendeeIndex:i,attendeesInFrame:e.length})}}sendRealtimeUpdatesForAudioMetadata(u){let g=null,a=null;for(const s of u.attendeeStates){const i=this.attendeeIdForStreamId(s.audioStreamId);s.hasOwnProperty("volume")&&(g===null&&(g={}),i!==null&&(g[i]=this.normalizedVolume(s))),s.hasOwnProperty("signalStrength")&&(a===null&&(a={}),i!==null&&(a[i]=this.normalizedSignalStrength(s)))}this.applyRealtimeUpdatesForAudioMetadata(g,a)}normalizedVolume(u){const a=1-(-u.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(a,0),1)}normalizedSignalStrength(u){const g=u.signalStrength/Wc.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(g,0),1)}applyRealtimeUpdatesForAudioMetadata(u,g){for(const a in this.streamIdToAttendeeId){const s=this.streamIdToAttendeeId[a],i=this.streamIdToExternalUserId[a];let e=null,t=null;u!==null&&(u.hasOwnProperty(s)?e=u[s]:e=Wc.IMPLICIT_VOLUME),g!==null&&(g.hasOwnProperty(s)?t=g[s]:t=Wc.IMPLICIT_SIGNAL_STRENGTH),(e!==null||t!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(s,e,null,t,i)}}attendeeIdForStreamId(u){if(u===0)return null;const g=this.streamIdToAttendeeId[u];return g||(this.warnedAboutMissingStreamIdMapping[u]||(this.warnedAboutMissingStreamIdMapping[u]=!0,this.logger.warn(`volume indicator stream id ${u} seen before being defined`)),null)}constructor(u,g,a,s,i){this.logger=u,this.realtimeController=g,this.minVolumeDecibels=a,this.maxVolumeDecibels=s,this.selfAttendeeId=i,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}},"DefaultVolumeIndicatorAdapter");l.default=S,S.MAX_SIGNAL_STRENGTH_LEVELS=2,S.IMPLICIT_VOLUME=0,S.IMPLICIT_SIGNAL_STRENGTH=1},"P7D+":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0}),l.VideoPreferences=l.MutableVideoPreferences=l.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=void 0;const f=S(h("/sFY"));function u(e,t,n){if(e.transceiverController.getMidForGroupId===void 0||e.videoStreamIndex.attendeeIdForGroupId===void 0||n===void 0)return[];const r=new Array,c=new Map,p=new Map;for(const m of t){const d=e.transceiverController.getMidForGroupId(m);if(d===void 0)continue;const y=e.videoStreamIndex.attendeeIdForGroupId(m);c.set(y,d),p.set(y,m)}for(const m of n){const d=new f.default,y=c.get(m.attendeeId);y!==void 0&&(d.mid=y,d.attendeeId=m.attendeeId,d.groupId=p.get(m.attendeeId),d.priority=Number.MAX_SAFE_INTEGER-m.priority,d.targetBitrateKbps=m.targetSizeToBitrateKbps(m.targetSize),d.qualityAdaptationPreference=m.degradationPreference,r.push(d))}return r}o(u,"convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration"),l.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=u;let g=o(class Gf{static default(){return new Gf([])}[Symbol.iterator](){let t=0;const n=this.items;return{next(){return t<n.length?{done:!1,value:n[t++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(t){this.items.push(t)}replaceFirst(t,n){const r=this.items.findIndex(n);r===-1?this.items.push(t):this.has(t)?this.items.splice(r,1):this.items[r]=t}remove(t){this.items=this.items.filter(n=>!n.equals(t))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(const n of this.items)if(!t.items.some(r=>r.equals(n)))return!1;return!0}has(t){return this.items.some(n=>n.equals(t))}some(t){return this.items.some(t)}clone(){return new Gf([...this.items])}sort(){this.items.sort((t,n)=>t.partialCompare(n))}modify(){return new a(this)}constructor(t=[]){this.items=t}},"ObjectSet"),a=o(class{cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(t){this.items.has(t)||(this.cow(),this.items.add(t))}replaceFirst(t,n){this.items.has(t)&&!this.items.some(n)||(this.cow(),this.items.replaceFirst(t,n))}remove(t){this.items.has(t)&&(this.cow(),this.items.remove(t))}some(t){return this.items.some(t)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}constructor(t=new g){this.items=t,this.copied=!1}},"SetBuilder"),s=o(class{add(t){this.builder.add(t)}replaceFirst(t,n){this.builder.replaceFirst(t,n)}remove(t){this.builder.remove(t)}some(t){return this.builder.some(t)}clear(){this.builder.clear()}build(){return new i(this.builder.build())}constructor(t){this.builder=t}},"MutableVideoPreferences");l.MutableVideoPreferences=s;let i=o(class $f{static prepare(){return new s(new a)}static default(){return new $f(g.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var t;return(t=this.items.first())===null||t===void 0?void 0:t.priority}sorted(){return this.items[Symbol.iterator]()}equals(t){return t===this||this.items.equals(t.items)}modify(){return new s(this.items.modify())}some(t){return this.items.some(t)}isEmpty(){return this.items.isEmpty()}clone(){const t=$f.prepare();for(const n of this.items)t.add(n.clone());return t.build()}constructor(t){this.items=t}},"VideoPreferences");l.VideoPreferences=i,l.default=i},P7Xm:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Biyp"));let g=o(class lc{reset(){this.numberOfPublishedVideoSources=void 0,this.optimalParameters=new u.default(0,0,0,0,!1),this.parametersInEffect=new u.default(0,0,0,0,!1),this.encodingParamMap.set(lc.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(s){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(s){var i;let e=!0,t=1;this.transceiverController&&(e=this.transceiverController.hasVideoInput());const n=s.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(e?1:0);if(this.numberOfPublishedVideoSources===n){(i=this.logger)===null||i===void 0||i.debug("Skipping update index; Number of participants has not changed");return}if(this.numberOfPublishedVideoSources=n,this.transceiverController){const r=this.getStreamCaptureSetting();r&&(t=this.calculateEncodingParameters(r).scaleResolutionDownBy)}this.optimalParameters=new u.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,t)}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){let s=640;return this.getNumberOfPublishedVideoSources()>4&&(s=320),s}captureHeight(){let s=384;return this.getNumberOfPublishedVideoSources()>4&&(s=192),s}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let s=0;return this.getNumberOfPublishedVideoSources()<=2?s=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?s=this.idealMaxBandwidthKbps*2/3:s=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(s)}setIdealMaxBandwidthKbps(s){this.idealMaxBandwidthKbps=s}setHasBandwidthPriority(s){this.hasBandwidthPriority=s}setTransceiverController(s){this.transceiverController=s}updateTransceiverController(){return S(this,void 0,void 0,function*(){const s=this.getStreamCaptureSetting();if(!s)return;const i=this.calculateEncodingParameters(s);this.shouldUpdateEndcodingParameters(i)&&(this.encodingParamMap.set(lc.encodingMapKey,i),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(s){var i,e;const t=(e=(i=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||i===void 0?void 0:i.encodings)===null||e===void 0?void 0:e[0];return s.maxBitrate!==(t==null?void 0:t.maxBitrate)||s.scaleResolutionDownBy!==(t==null?void 0:t.scaleResolutionDownBy)}calculateEncodingParameters(s){var i,e;const t=this.maxBandwidthKbps()*1e3;let n=1;if(s.height!==void 0&&s.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2){let r=lc.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),lc.targetHeightArray.length-1)];r===480&&(!((i=this.browserBehavior)===null||i===void 0)&&i.disable480pResolutionScaleDown())&&(r=360),n=Math.max(Math.min(s.height,s.width)/r,1),(e=this.logger)===null||e===void 0||e.info(`Resolution scale factor is ${n} for capture resolution ${s.width}x${s.height}. New dimension is ${s.width/n}x${s.height/n}`)}return{scaleResolutionDownBy:n,maxBitrate:t}}getStreamCaptureSetting(){var s,i,e,t;return(t=(e=(i=(s=this.transceiverController)===null||s===void 0?void 0:s.localVideoTransceiver())===null||i===void 0?void 0:i.sender)===null||e===void 0?void 0:e.track)===null||t===void 0?void 0:t.getSettings()}getNumberOfPublishedVideoSources(){var s;return(s=this.numberOfPublishedVideoSources)!==null&&s!==void 0?s:0}constructor(s,i=!0,e=void 0,t=void 0){this.selfAttendeeId=s,this.scaleResolution=i,this.logger=e,this.browserBehavior=t,this.numberOfPublishedVideoSources=void 0,this.idealMaxBandwidthKbps=1500,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.reset()}},"NScaleVideoUplinkBandwidthPolicy");l.default=g,g.encodingMapKey="video",g.targetHeightArray=[0,0,0,540,540,480,480,480,480,360,360,360,360,270,270,270,270,180,180,180,180,180,180,180,180,180]},PDX0:function(j,l){(function(h){j.exports=h}).call(this,{})},PPZC:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AudioLogEvent=void 0;var S;(function(f){f[f.DeviceChanged=0]="DeviceChanged",f[f.MutedLocal=1]="MutedLocal",f[f.UnmutedLocal=2]="UnmutedLocal",f[f.Connected=3]="Connected",f[f.ConnectFailed=4]="ConnectFailed",f[f.RedmicStartLoss=5]="RedmicStartLoss",f[f.RedmicEndLoss=6]="RedmicEndLoss"})(S=l.AudioLogEvent||(l.AudioLogEvent={})),l.default=S},PR0U:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("hrQK")),g=h("gLI0");let a=o(class extends u.default{drawImageWithMask(i,e){const t=this.blurredImage,{canvasCtx:n,targetCanvas:r}=this,{width:c,height:p}=r;if(!e||!t){n.clearRect(0,0,c,p);return}this.scaledCanvas.getContext("2d").putImageData(e,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),n.save(),n.clearRect(0,0,c,p),n.drawImage(this.scaledCanvas,0,0,c,p),n.globalCompositeOperation="source-in",n.drawImage(i,0,0,c,p),n.globalCompositeOperation="destination-over",n.drawImage(this.blurCanvas,0,0,c,p),n.restore()}setBlurStrength(i){if(super.setBlurStrength(i),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=g.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(i){if(this.logger.info(`received initialize message: ${this.stringify(i)}`),!i.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(i){this.blurredImage=i.payload.blurOutput,super.handlePredict(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});var e;return S(this,void 0,void 0,function*(){i.destroy.call(this),(e=this.blurCanvas)===null||e===void 0||e.remove(),this.blurCanvas=void 0})}constructor(i,e){super(i,e),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}},"BackgroundBlurProcessorBuiltIn");l.default=a},PSPT:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(V,N,F,P){function B(O){return O instanceof F?O:new F(function(R){R(O)})}return o(B,"adopt"),new(F||(F=Promise))(function(O,R){function D($){try{X(P.next($))}catch(he){R(he)}}o(D,"fulfilled");function J($){try{X(P.throw($))}catch(he){R(he)}}o(J,"rejected");function X($){$.done?O($.value):B($.value).then(D,J)}o(X,"step"),X((P=P.apply(V,N||[])).next())})},f=this&&this.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("kUL9")),g=f(h("U9CR")),a=f(h("ZsEg")),s=f(h("wkYg")),i=f(h("j+uH")),e=f(h("iQPr")),t=f(h("PmG3")),n=f(h("ig3o")),r=f(h("Rx4Y")),c=f(h("nWLk")),p=f(h("s3Gi")),m=f(h("VKrp")),d=f(h("M1uR")),y=f(h("sTsL")),E=f(h("6k9T")),w=f(h("dazq"));let k=o(class OS{static delay(N){return S(this,void 0,void 0,function*(){return new Promise(F=>setTimeout(F,N))})}checkAudioInput(N){return S(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(N),yield this.meetingSession.audioVideo.stopAudioInput(),n.default.Succeeded}catch(F){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${F}`),F instanceof s.default?n.default.PermissionDenied:n.default.Failed}})}checkAudioOutput(N,F){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return S(this,void 0,void 0,function*(){try{const B=N?a.default.getIntrinsicDeviceId(N):"";return yield this.playTone(B,this.configuration.audioOutputFrequency,P),(yield F())?r.default.Succeeded:r.default.Failed}catch(B){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${B}`),r.default.Failed}finally{this.stopTone()}})}playTone(N,F,P){return S(this,void 0,void 0,function*(){const O=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=a.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=F,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const D=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,D),this.gainNode.gain.linearRampToValueAtTime(O,D+.1),this.oscillatorNode.start();const J=new u.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield J.bindAudioDevice({deviceId:N}))}catch(X){this.logger.error(`Failed to bind audio device: ${X}`)}try{yield J.bindAudioElement(P||new Audio)}catch(X){this.logger.error(`Failed to bind audio element: ${X}`)}yield J.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const N=1,F=.1,P=this.configuration.audioOutputGain,B=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(P,B+F+N),this.gainNode.gain.linearRampToValueAtTime(0,B+F*2+N),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(N){return S(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(N),yield this.meetingSession.audioVideo.stopVideoInput(),E.default.Succeeded}catch(F){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${F}`),F instanceof s.default?E.default.PermissionDenied:E.default.Failed}})}checkCameraResolution(N,F,P){return S(this,void 0,void 0,function*(){let B;try{const O=a.default.getIntrinsicDeviceId(N),R={video:this.calculateVideoConstraint(O,F,P)};B=yield navigator.mediaDevices.getUserMedia(R)}catch(O){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${F} height ${P} failed with error ${O}`),O&&O.name==="OverconstrainedError"?c.default.ResolutionNotSupported:O&&O.name==="NotAllowedError"?c.default.PermissionDenied:c.default.Failed}finally{B&&B.getTracks().forEach(function(O){O.stop()})}return c.default.Succeeded})}calculateVideoConstraint(N,F,P){const B=this.browserBehavior.requiresResolutionAlignment(F,P),O={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(O.deviceId=N,O.width=F,O.height=P):(O.deviceId={exact:N},O.width={exact:B[0]},O.height={exact:B[1]}),O}checkContentShareConnectivity(N){return S(this,void 0,void 0,function*(){let F=!1,P=!1;const B={contentShareDidStart:()=>{F=!0}},O={audioVideoDidStart:()=>{P=!0}};try{return this.meetingSession.audioVideo.addObserver(O),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(B),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(N),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return P&&F})),P?(yield this.stopMeeting(),F?p.default.Succeeded:p.default.TimedOut):p.default.ConnectionFailed}catch(R){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${R}`),R.name==="NotAllowedError"?p.default.PermissionDenied:p.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(O),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(B)}})}checkAudioConnectivity(N){return S(this,void 0,void 0,function*(){let F=!1;const P={packetsReceived:0},B=this.meetingSession.audioVideo,O={metricsDidReceive(D){D.getRTCStatsReport().forEach(J=>{J.type==="inbound-rtp"&&J.mediaType==="audio"&&(P.packetsReceived=J.packetsReceived)})}},R=o((D,J,X,$)=>{D===this.meetingSession.configuration.credentials.attendeeId&&J&&(F=!0)},"attendeePresenceHandler");try{yield B.startAudioInput(N)}catch(D){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${D}`),D instanceof s.default?t.default.AudioInputPermissionDenied:t.default.AudioInputRequestFailed}return B.realtimeSubscribeToAttendeeIdPresence(R),B.addObserver(O),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(F,P)})),B.removeObserver(O),B.realtimeUnsubscribeToAttendeeIdPresence(R),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(F,P)?t.default.Succeeded:t.default.AudioNotReceived):(B.removeObserver(O),B.realtimeUnsubscribeToAttendeeIdPresence(R),yield this.meetingSession.audioVideo.stopAudioInput(),t.default.ConnectionFailed)})}checkVideoConnectivity(N){return S(this,void 0,void 0,function*(){const F=this.meetingSession.audioVideo;let P=0;const B={metricsDidReceive(O){O.getRTCStatsReport().forEach(D=>{D.type==="outbound-rtp"&&D.mediaType==="video"&&(P=D.packetsSent)})}};try{yield F.startVideoInput(N)}catch(O){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${O}`),O instanceof s.default?y.default.VideoInputPermissionDenied:y.default.VideoInputRequestFailed}return F.addObserver(B),(yield this.startMeeting())?(F.startLocalVideoTile(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return P>0})),yield F.stopVideoInput(),yield this.stopMeeting(),F.removeObserver(B),P<=0?y.default.VideoNotSent:y.default.Succeeded):y.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return S(this,void 0,void 0,function*(){let N=!1;const F={metricsDidReceive(B){B.getRTCStatsReport().forEach(R=>{R.type==="candidate-pair"&&R.state==="succeeded"&&(N=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(B){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${B}`),d.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=B=>{const O=this.originalURLRewriter(B);return O.includes("transport=tcp")?"":O};const P=this.meetingSession.audioVideo;return P.addObserver(F),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return N})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),P.removeObserver(F),N?d.default.Succeeded:d.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,d.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return S(this,void 0,void 0,function*(){let N=!1;const F={metricsDidReceive(B){B.getRTCStatsReport().forEach(R=>{R.type==="candidate-pair"&&R.state==="succeeded"&&(N=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(B){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${B}`),m.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=B=>{const O=this.originalURLRewriter(B);return O.includes("transport=udp")?"":O};const P=this.meetingSession.audioVideo;return P.addObserver(F),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return N})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),P.removeObserver(F),N?m.default.Succeeded:m.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,m.default.ConnectionFailed)})}startMeeting(){return S(this,void 0,void 0,function*(){let N=!1;const F={audioVideoDidStart:()=>{N=!0}};return this.meetingSession.audioVideo.addObserver(F),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return N})),this.meetingSession.audioVideo.removeObserver(F),N})}stopMeeting(){return S(this,void 0,void 0,function*(){let N=!1;const F={audioVideoDidStop:P=>{N=!0}};return this.meetingSession.audioVideo.addObserver(F),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return N})),this.meetingSession.audioVideo.removeObserver(F),N})}executeTimeoutTask(N){return S(this,void 0,void 0,function*(){let F=!1,P=o(class extends i.default{cancel(){this.isCancelled=!0}run(){return S(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield N()){F=!0;break}yield OS.delay(this.waitDurationMs)}})}constructor(R,D){super(R),this.waitDurationMs=D,this.isCancelled=!1}},"CheckForConditionTask");return yield new e.default(this.logger,new P(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),F})}isAudioConnectionSuccessful(N,F){return N&&F.packetsReceived>0}constructor(N,F,P=new w.default){this.logger=N,this.meetingSession=F,this.configuration=P,this.browserBehavior=new g.default}},"DefaultMeetingReadinessChecker");l.default=k},PbSJ:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptionStatus");l.default=S},PhnE:function(j,l,h){"use strict";var S=l;S.build="minimal",S.Writer=h("hl97"),S.BufferWriter=h("92Bn"),S.Reader=h("s0Ci"),S.BufferReader=h("5xrR"),S.util=h("kU+7"),S.rpc=h("rIeS"),S.roots=h("k8sa"),S.configure=f;function f(){S.util._configure(),S.Writer._configure(S.BufferWriter),S.Reader._configure(S.BufferReader)}o(f,"configure"),f()},PmG3:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.AudioInputRequestFailed=1]="AudioInputRequestFailed",f[f.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",f[f.ConnectionFailed=3]="ConnectionFailed",f[f.AudioNotReceived=4]="AudioNotReceived"})(S=l.CheckAudioConnectivityFeedback||(l.CheckAudioConnectivityFeedback={})),l.default=S},PsbS:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("3wzr"),g=h("EM4D"),a=f(h("59sL"));let s=o(class{makeTwoDigits(e){return e>9?e.toString():"0"+e.toString()}hmac(e,t){const n=new u.Sha256(t);return n.update(e),n.digest()}getDateTimeString(){const e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}getDateString(e){return e.substring(0,e.indexOf("T"))}getSignatureKey(e,t,n,r){return S(this,void 0,void 0,function*(){const c=yield this.hmac(t,"AWS4"+e),p=yield this.hmac(n,c),m=yield this.hmac(r,p);return yield this.hmac("aws4_request",m)})}signURL(e,t,n,r,c,p,m){return S(this,void 0,void 0,function*(){const d=this.getDateTimeString(),y=this.getDateString(d),E="AWS4-HMAC-SHA256";let w="";this.chimeClient.config.region instanceof Function?w=yield this.chimeClient.config.region():w=this.chimeClient.config.region;const k="host",V="host:"+r.toLowerCase()+`
`,N=y+"/"+w+"/"+n+"/aws4_request";let F;this.chimeClient.config.credentials instanceof Function?F=yield this.chimeClient.config.credentials():F=this.chimeClient.config.credentials;let P=new Map;P.set("X-Amz-Algorithm",[E]),P.set("X-Amz-Credential",[encodeURIComponent(F.accessKeyId+"/"+N)]),P.set("X-Amz-Date",[d]),P.set("X-Amz-Expires",["10"]),P.set("X-Amz-SignedHeaders",["host"]),F.sessionToken&&P.set("X-Amz-Security-Token",[encodeURIComponent(F.sessionToken)]),P.set(a.default.X_AMZN_VERSION,[encodeURIComponent(a.default.sdkVersion)]),P.set(a.default.X_AMZN_USER_AGENT,[encodeURIComponent(a.default.sdkUserAgentLowResolution)]),m==null||m.forEach((he,Ee)=>{const ke=encodeURIComponent(Ee);he.sort().forEach(ve=>{P.has(ke)||P.set(ke,[]),P.get(ke).push(encodeURIComponent(ve))})});let B="";P=new Map([...P.entries()].sort()),P.forEach((he,Ee)=>{he.forEach(ke=>{B.length&&(B+="&"),B+=Ee+"="+ke})});const O=e+`
`+c+`
`+B+`
`+V+`
`+k+`
`+g.toHex(yield this.hmac(p)),R=g.toHex(yield this.hmac(O)),D=`AWS4-HMAC-SHA256
`+d+`
`+y+"/"+w+"/"+n+`/aws4_request
`+R,J=yield this.getSignatureKey(F.secretAccessKey,y,w,n),X=g.toHex(yield this.hmac(D,J)),$=B+"&X-Amz-Signature="+X;return t+"://"+r+c+"?"+$})}constructor(e){this.chimeClient=e}},"DefaultSigV4");l.default=s},PwtQ:function(j,l,h){"use strict";j.exports=u;var S=h("wDi9");(u.prototype=Object.create(S.prototype)).constructor=u;var f=h("j4TH");function u(){S.call(this)}o(u,"BufferWriter"),u._configure=function(){u.alloc=f._Buffer_allocUnsafe,u.writeBytesBuffer=f.Buffer&&f.Buffer.prototype instanceof Uint8Array&&f.Buffer.prototype.set.name==="set"?o(function(s,i,e){i.set(s,e)},"writeBytesBuffer_set"):o(function(s,i,e){if(s.copy)s.copy(i,e,0,s.length);else for(var t=0;t<s.length;)i[e++]=s[t++]},"writeBytesBuffer_copy")},u.prototype.bytes=o(function(s){f.isString(s)&&(s=f._Buffer_from(s,"base64"));var i=s.length>>>0;return this.uint32(i),i&&this._push(u.writeBytesBuffer,i,s),this},"write_bytes_buffer");function g(a,s,i){a.length<40?f.utf8.write(a,s,i):s.utf8Write?s.utf8Write(a,i):s.write(a,i)}o(g,"writeStringBuffer"),u.prototype.string=o(function(s){var i=f.Buffer.byteLength(s);return this.uint32(i),i&&this._push(g,i,s),this},"write_string_buffer"),u._configure()},Q2ix:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerTransitionResult=void 0;var S;(function(f){f[f.Transitioned=0]="Transitioned",f[f.NoTransitionAvailable=1]="NoTransitionAvailable",f[f.DeferredTransition=2]="DeferredTransition",f[f.TransitionFailed=3]="TransitionFailed"})(S=l.SessionStateControllerTransitionResult||(l.SessionStateControllerTransitionResult={})),l.default=S},"Q8+J":function(j,l,h){"use strict";(function(S){Object.defineProperty(l,"__esModule",{value:!0});let f=o(class Ls{static register(){!("document"in S)||!document.addEventListener||Ls.shouldRegisterCSPMonitor&&(Ls.added||(document.addEventListener("securitypolicyviolation",Ls.listener),Ls.added=!0))}static unregister(){!("document"in S)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",Ls.listener),Ls.loggers=new Set,Ls.added=!1)}static disable(){Ls.shouldRegisterCSPMonitor=!1,Ls.unregister()}static addLogger(g){g&&Ls.loggers.add(g)}static removeLogger(g){g&&Ls.loggers.delete(g)}},"CSPMonitor");l.default=f,f.loggers=new Set,f.shouldRegisterCSPMonitor=!0,f.added=!1,f.listener=u=>{const g=`Security Policy Violation
Blocked URI: ${u.blockedURI}
Violated Directive: ${u.violatedDirective}
Original Policy: ${u.originalPolicy}
Document URI: ${u.documentURI}
Source File: ${u.sourceFile}
Line No.: ${u.lineNumber}
`;for(const a of f.loggers)a.error(g);f.loggers.size===0&&console.error(g)}}).call(this,h("yLpj"))},QPT4:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.PRONUNCIATION="pronunciation",f.PUNCTUATION="punctuation"})(S||(S={})),l.default=S},QUzi:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("KJDN"));let u=o(class extends f.default{constructor(a){super(a),this.name="NotFoundError"}},"NotFoundError");l.default=u},QhKv:function(j,l,h){"use strict";j.exports=u;var S=h("LDIi");(u.prototype=Object.create(S.prototype)).constructor=u;var f=h("j4TH");function u(g){S.call(this,g)}o(u,"BufferReader"),u._configure=function(){f.Buffer&&(u.prototype._slice=f.Buffer.prototype.slice)},u.prototype.string=o(function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},"read_string_buffer"),u._configure()},QzVx:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}},"DevicePixelRatioWindowSource");l.default=S},"R+jL":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}},"DevicePixelRatioWindowSource");l.default=S},R4Nl:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0}),l.getFormattedOffset=l.getDefaultAssetSpec=l.toLowerCasePropertyNames=l.isIFramed=l.wait=void 0;const f=S(h("59sL"));function u(e){return new Promise(t=>setTimeout(t,e))}o(u,"wait"),l.wait=u;function g(){var e;try{return((e=window.frameElement)===null||e===void 0?void 0:e.nodeName)==="IFRAME"||parent!==top}catch{return!0}}o(g,"isIFramed"),l.isIFramed=g;function a(e){return e===null?null:typeof e!="object"?e:Array.isArray(e)?e.map(a):Object.keys(e).reduce((t,n)=>{const r=e[n],c=typeof r=="object"?a(r):r;return t[n.toLowerCase()]=c,t},{})}o(a,"toLowerCasePropertyNames"),l.toLowerCasePropertyNames=a;function s(){const e=f.default.sdkVersionSemVer;return{assetGroup:`sdk-${e.major}.${e.minor}`}}o(s,"getDefaultAssetSpec"),l.getDefaultAssetSpec=s;function i(e){const t=Math.abs(e),n=e<=0?"+":"-",r=Math.floor(t/60).toString().padStart(2,"0"),c=Math.floor(t%60).toString().padStart(2,"0");return`${n}${r}:${c}`}o(i,"getFormattedOffset"),l.getFormattedOffset=i},R9j3:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(y,E,w,k){function V(N){return N instanceof w?N:new w(function(F){F(N)})}return o(V,"adopt"),new(w||(w=Promise))(function(N,F){function P(R){try{O(k.next(R))}catch(D){F(D)}}o(P,"fulfilled");function B(R){try{O(k.throw(R))}catch(D){F(D)}}o(B,"rejected");function O(R){R.done?N(R.value):V(R.value).then(P,B)}o(O,"step"),O((k=k.apply(y,E||[])).next())})},f=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("uCvS")),g=f(h("LmyK")),a=f(h("mpmV")),s=f(h("Xf/8")),i=f(h("NE7a")),e=f(h("tcc5")),t=f(h("dPBs")),n=f(h("8wPz")),r=h("f2XL"),c=h("KyYT"),p=f(h("J+fJ")),m=f(h("DG83"));let d=o(class jc{toAttribute(E){return this.toSuffix(E).substring(1)}toSuffix(E){return E.toLowerCase()===E?`_${E}`:E.toUpperCase()===E?`_${E.toLowerCase()}`:E.replace(/([A-Z][a-z]+)/g,function(w){return`_${w}`}).replace(/([A-Z][A-Z]+)/g,function(w){return`_${w}`}).toLowerCase()}logLatency(E,w,k){const V=this.toSuffix(E);this.logEventTime("meeting"+V,w,k)}logStateTimeout(E,w){const k=this.toSuffix(E);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},w),{state:`state${k}`}))}logAudioEvent(E,w){const k="audio"+this.toSuffix(p.default[E]);this.logEvent(k,w)}logVideoEvent(E,w){const k="video"+this.toSuffix(m.default[E]);this.logEvent(k,w)}logEventTime(E,w){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const V=Object.assign(Object.assign({},k),{call_id:this.audioVideoController.configuration.meetingId,client_type:jc.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>`[StatsCollector] ${E}: ${JSON.stringify(V)}`),this.metricsAddTime(E,w,V)}logMeetingSessionStatus(E){const w=`${E.statusCode()}`;this.logEvent(w);const k={status:w,status_code:`${E.statusCode()}`};this.logEvent("meeting_session_status",k),E.isTerminal()&&this.logEvent("meeting_session_stopped",k),E.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",k),E.isFailure()&&this.logEvent("meeting_session_failed",k)}logLifecycleEvent(E,w){const k={lifecycle_event:`lifecycle${this.toSuffix(e.default[E])}`,lifecycle_event_code:`${E}`,lifecycle_event_condition:`condition${this.toSuffix(t.default[w])}`,lifecycle_event_condition_code:`${w}`};this.logEvent("meeting_session_lifecycle",k)}logEvent(E){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const k=Object.assign(Object.assign({},w),{call_id:this.audioVideoController.configuration.meetingId,client_type:jc.CLIENT_TYPE});this.logger.debug(()=>`[StatsCollector] ${E}: ${JSON.stringify(k)}`),this.metricsLogEvent(E,k)}start(E,w){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=E,this.videoStreamIndex=w,this.clientMetricReport=new u.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new n.default(this.interval),this.intervalScheduler.start(()=>S(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(E,w){const k=w?this.clientMetricReport.streamMetricReports[Number(E.ssrc)]:this.clientMetricReport.globalMetricReport;let V;w?V=this.clientMetricReport.getMetricMap(k.mediaType,k.direction):V=this.clientMetricReport.getMetricMap();for(const N in E)N in V&&(typeof E[N]=="number"?(k.previousMetrics[N]=k.currentMetrics[N],k.currentMetrics[N]=E[N]):typeof E[N]=="string"?k.currentStringMetrics[N]=E[N]:typeof E[N]=="object"?(k.previousObjectMetrics[N]=k.currentObjectMetrics[N]===void 0?E[N]:k.currentObjectMetrics[N],k.currentObjectMetrics[N]=E[N]):this.logger.error(`Unknown metric value type ${typeof E[N]} for metric ${N}`))}processRawMetricReports(E){this.clientMetricReport.currentSsrcs={};const w=Date.now();for(const k of E){const V=this.isStreamRawMetricReport(k.type);if(V){const N=this.clientMetricReport.streamMetricReports[Number(k.ssrc)];if(N)N.mediaType===a.default.VIDEO&&N.direction===g.default.UPSTREAM?N.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(k.rid):N.streamId=this.videoStreamIndex.streamIdForSSRC(Number(k.ssrc));else{const F=new i.default;F.mediaType=this.getMediaType(k),F.direction=this.getDirectionType(k),F.mediaType===a.default.VIDEO&&F.direction===g.default.UPSTREAM?F.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(k.rid):this.videoStreamIndex.allStreams().empty()||(F.streamId=this.videoStreamIndex.streamIdForSSRC(Number(k.ssrc)),this.videoStreamIndex.groupIdForSSRC!==void 0&&(F.groupId=this.videoStreamIndex.groupIdForSSRC(Number(k.ssrc)))),this.clientMetricReport.streamMetricReports[Number(k.ssrc)]=F}this.clientMetricReport.currentSsrcs[Number(k.ssrc)]=1}this.updateMetricValues(k,V)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=w,this.clientMetricReport.print()}addStreamMetricDimensionFrames(E,w){const k=this.clientMetricReport.getStreamDimensionMap();for(const V in w.currentStringMetrics)if(V in k){const N=r.SdkStreamDimension.create();N.type=k[V];const F=r.SdkDimensionValue.create();F.stringValue=w.currentStringMetrics[V],N.value=F,E.dimensions.push(N)}}addMetricFrame(E,w,k,V){const N=k.type,F=k.transform,P=k.source,B=w.streamMetricFrames.length,O=w.streamMetricFrames[B-1];if(N){const R=r.SdkMetric.create();R.type=N,R.value=F(P||E,V),V?O.metrics.push(R):w.globalMetrics.push(R)}}addGlobalMetricsToProtobuf(E){const w=this.clientMetricReport.getMetricMap();for(const k in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(k,E,w[k])}addStreamMetricsToProtobuf(E){for(const w in this.clientMetricReport.streamMetricReports){const k=this.clientMetricReport.streamMetricReports[w],V=r.SdkStreamMetricFrame.create();V.streamId=k.streamId,V.metrics=[],this.addStreamMetricDimensionFrames(V,k),E.streamMetricFrames.push(V);const N=this.clientMetricReport.getMetricMap(k.mediaType,k.direction);for(const F in k.currentMetrics)this.addMetricFrame(F,E,N[F],Number(w));for(const F in k.currentStringMetrics)this.addMetricFrame(F,E,N[F],Number(w));for(const F in k.currentObjectMetrics)this.addMetricFrame(F,E,N[F],Number(w))}}makeClientMetricProtobuf(){const E=r.SdkClientMetricFrame.create();return E.globalMetrics=[],E.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(E),this.addStreamMetricsToProtobuf(E),E}sendClientMetricProtobuf(E){this.signalingClient.sendClientMetrics(E)}isStreamRawMetricReport(E){return["inbound-rtp","inbound-rtp-red","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(E)}getMediaType(E){return E.kind==="audio"?a.default.AUDIO:a.default.VIDEO}getDirectionType(E){const{type:w}=E;return w==="inbound-rtp"||w==="remote-outbound-rtp"||w==="inbound-rtp-red"?g.default.DOWNSTREAM:g.default.UPSTREAM}isValidStandardRawMetric(E){return E.type==="inbound-rtp"||E.type==="inbound-rtp-red"||E.type==="outbound-rtp"||E.type==="remote-inbound-rtp"||E.type==="remote-outbound-rtp"||E.type==="candidate-pair"&&E.state==="succeeded"||E.type==="media-source"&&E.kind==="audio"}isValidSsrc(E){let w=!0;return this.isStreamRawMetricReport(E.type)&&this.getDirectionType(E)===g.default.DOWNSTREAM&&this.getMediaType(E)===a.default.VIDEO&&(w=this.videoStreamIndex.streamIdForSSRC(Number(E.ssrc))>0),w}isValidRawMetricReport(E){return this.isValidStandardRawMetric(E)&&this.isValidSsrc(E)}filterRawMetricReports(E){const w=[];for(const k of E)this.isValidRawMetricReport(k)&&w.push(k);return w}handleRawMetricReports(E){const w=this.filterRawMetricReports(E);this.logger.debug(()=>`Filtered raw metrics : ${JSON.stringify(w)}`);const k=[];this.maybeAddRedRecoveryMetrics(k),this.clientMetricReport.customStatsReports=k,w.push(...k),this.processRawMetricReports(w);const V=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(V),this.audioVideoController.forEachObserver(N=>{c.Maybe.of(N.metricsDidReceive).map(F=>F.bind(N)(this.clientMetricReport.clone()))})}getStatsWrapper(){return S(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const E=[];try{const w=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=w,w.forEach(k=>{E.push(k)}),this.handleRawMetricReports(E)}catch(w){this.logger.error(w.message)}})}overrideObservableMetric(E,w){this.clientMetricReport.overrideObservableMetric(E,w)}recoveryMetricsDidReceive(E){this.redRecoveryMetricReport=E}maybeAddRedRecoveryMetrics(E){this.redRecoveryMetricReport.currentTimestampMs!==this.lastRedRecoveryMetricReportConsumedTimestampMs&&(E.push({kind:"audio",type:"inbound-rtp-red",ssrc:this.redRecoveryMetricReport.ssrc,timestamp:this.redRecoveryMetricReport.currentTimestampMs,totalAudioPacketsLost:this.redRecoveryMetricReport.totalAudioPacketsLost,totalAudioPacketsExpected:this.redRecoveryMetricReport.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.redRecoveryMetricReport.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.redRecoveryMetricReport.totalAudioPacketsRecoveredFec}),this.lastRedRecoveryMetricReportConsumedTimestampMs=this.redRecoveryMetricReport.currentTimestampMs)}constructor(E,w,k=jc.INTERVAL_MS){this.audioVideoController=E,this.logger=w,this.interval=k,this.intervalScheduler=null,this.redRecoveryMetricReport=new s.default,this.lastRedRecoveryMetricReportConsumedTimestampMs=0,this.metricsAddTime=(V,N,F)=>{},this.metricsLogEvent=(V,N)=>{}}},"StatsCollector");l.default=d,d.INTERVAL_MS=1e3,d.CLIENT_TYPE="amazon-chime-sdk-js"},RUbL:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(F,P,B,O){function R(D){return D instanceof B?D:new B(function(J){J(D)})}return o(R,"adopt"),new(B||(B=Promise))(function(D,J){function X(Ee){try{he(O.next(Ee))}catch(ke){J(ke)}}o(X,"fulfilled");function $(Ee){try{he(O.throw(Ee))}catch(ke){J(ke)}}o($,"rejected");function he(Ee){Ee.done?D(Ee.value):R(Ee.value).then(X,$)}o(he,"step"),he((O=O.apply(F,P||[])).next())})},f=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Sa54")),g=f(h("Y8b2")),a=f(h("6/h7")),s=f(h("o13v")),i=h("KyYT"),e=f(h("FxSh")),t=f(h("JTre")),n=h("NDMw"),r=f(h("DbLV")),c=f(h("xzjI")),p=f(h("B7cK")),m=f(h("UW8m")),d=f(h("XhYu")),y=f(h("V4cD")),E=f(h("SgmS")),w=f(h("dWQL")),k=h("dWP+");let V=o(class xi{isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var P;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(P=this.mediaDeviceWrapper)===null||P===void 0||P.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var P;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(P=this.mediaDeviceWrapper)===null||P===void 0||P.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return S(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const B=yield this.listDevicesOfKind("audioinput",P);return this.trace("listAudioInputDevices",P,B),B})}listVideoInputDevices(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const B=yield this.listDevicesOfKind("videoinput",P);return this.trace("listVideoInputDevices",P,B),B})}listAudioOutputDevices(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const B=yield this.listDevicesOfKind("audiooutput",P);return this.trace("listAudioOutputDevices",P,B),B})}pushAudioMeetingStateForPermissions(P){var B;(B=this.eventController)===null||B===void 0||B.publishEvent(P===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(P){var B;(B=this.eventController)===null||B===void 0||B.publishEvent(P===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(P){return S(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(P))})}startAudioInputTask(P){var B;return S(this,void 0,void 0,function*(){if(P===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return n.isAudioTransformDevice(P)?(this.logger.info(`Choosing transform input device ${P}`),yield this.chooseAudioTransformInputDevice(P)):(this.logger.info(`Choosing intrinsic audio input device ${P}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",P)),this.trace("startAudioInputDevice",P,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(B=this.transform)===null||B===void 0?void 0:B.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(O){throw O}})}stopAudioInput(){return S(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return S(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(P){var B;return S(this,void 0,void 0,function*(){if(((B=this.transform)===null||B===void 0?void 0:B.device)===P)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const O=xi.getAudioContext();if(!(O instanceof OfflineAudioContext))switch(O.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield O.resume()}let R;try{R=yield P.createAudioNode(O)}catch(J){throw this.logger.error(`Unable to create transform device node: ${J}.`),J}const D=yield P.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",D),this.logger.debug(`Got inner stream: ${D}.`),this.setTransform(P,R)})}chooseVideoTransformInputDevice(P){var B;return S(this,void 0,void 0,function*(){if(this.eventController&&P instanceof e.default&&P.passEventControllerToProcessors(this.eventController),P===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const O=this.chosenVideoTransformDevice;O&&this.logger.info("Switched from previous VideoTransformDevice");const R=!!O,D=yield P.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((B=this.activeDevices.video)===null||B===void 0?void 0:B.stream,D)){this.logger.info("video transform device needs new intrinsic device"),R&&O.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=P,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",D),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=P,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield P.transformStream(this.activeDevices.video.stream)})}startVideoInput(P){return S(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(P))})}startVideoInputTask(P){return S(this,void 0,void 0,function*(){if(!P){this.logger.error("Invalid video input device");return}try{return k.isVideoTransformDevice(P)?(this.logger.info(`Choosing video transform device ${P}`),yield this.chooseVideoTransformInputDevice(P),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",P),this.trace("startVideoInputDevice",P),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(B){throw B}})}stopVideoInput(){return S(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return S(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(P){return S(this,void 0,void 0,function*(){this.audioOutputDeviceId=P,this.watchForDeviceChangesIfNecessary();const B=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(B),this.trace("chooseAudioOutput",P,null)})}addDeviceChangeObserver(P){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(P),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(P){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(P),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var P,B;if(!this.activeDevices.audio)return null;const O=(B=(P=this.transform)===null||P===void 0?void 0:P.nodes)===null||B===void 0?void 0:B.end;if(O){const R=O.context.createAnalyser();return R.removeOriginalInputs=()=>{try{O.disconnect(R)}catch{}},O.connect(R),R}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(P){const B=xi.getAudioContext(),O=B.createAnalyser(),R=B.createMediaStreamSource(P);return R.connect(O),this.trace("createAnalyserNodeForAudioInput"),O.removeOriginalInputs=()=>{try{R.disconnect(O)}catch{}},O}startVideoPreviewForVideoInput(P){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",P.id);return}t.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,P,!0),this.trace("startVideoPreviewForVideoInput",P.id)}stopVideoPreviewForVideoInput(P){t.default.disconnectVideoStreamFromVideoElement(P,!1),this.trace("stopVideoPreviewForVideoInput",P.id)}setDeviceLabelTrigger(P){if(this.deviceInfoCache){for(const B of this.deviceInfoCache)if(!B.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=P,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(P){let B=null;return this.useWebAudio?(B=xi.getAudioContext().createMediaStreamSource(P),B.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",P.id),B}chooseVideoInputQuality(P,B,O){const R=this.browserBehavior.requiresResolutionAlignment(P,B);this.videoInputQualitySettings=new w.default(R[0],R[1],O)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return S(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return S(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(P){return S(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(P){const B=this.activeDevices[P];if(!B)return;const O=B.endedCallback,R=B.trackMuteCallback,D=B.trackUnmuteCallback;for(const J of B.stream.getTracks())J.stop(),O&&J.removeEventListener("ended",O),R&&J.removeEventListener("mute",R),D&&J.removeEventListener("unmute",D),delete B.endedCallback,delete B.trackMuteCallback,delete B.trackUnmuteCallback,delete this.activeDevices[P]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(P){var B;let O=this.activeDevices.audio;if(this.useWebAudio&&(O=this.getMediaStreamDestinationNode()),!!O){for(const R of O.stream.getTracks())R.enabled!==P&&(R.enabled=P);this.muted!==!P&&(this.muted=!P,(B=this.transform)===null||B===void 0||B.device.mute(this.muted))}}static getIntrinsicDeviceId(P){if(!P)return;if(typeof P=="string")return P;if(P.id)return P.id;const O=P.deviceId;if(!O)return;if(typeof O=="string"||Array.isArray(O))return O;const R=O;if(typeof R.exact=="string"||Array.isArray(R.exact))return R.exact}static createEmptyAudioDevice(){return xi.synthesizeAudioDevice(0)}static synthesizeAudioDevice(P){const B=xi.getAudioContext(),O=B.createMediaStreamDestination();if(P){const R=B.createGain();R.gain.value=.1,R.connect(O);const D=B.createOscillator();D.frequency.value=P,D.connect(R),D.start()}else{const R=B.createBufferSource();try{R.buffer=B.createBuffer(1,B.sampleRate*5,B.sampleRate)}catch(D){if(D&&D.name==="NotSupportedError")R.buffer=B.createBuffer(1,xi.defaultSampleRate*5,xi.defaultSampleRate);else throw D}R.buffer.getChannelData(0)[0]=3e-4,R.loop=!0,R.connect(O),R.start()}return O.stream}listDevicesOfKind(P,B){return S(this,void 0,void 0,function*(){return(B||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(P)})}updateDeviceInfoCacheFromBrowser(){var P;return S(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let O=yield navigator.mediaDevices.enumerateDevices(),R=!0;for(const D of O)if(!D.label){R=!1;break}if(!R)try{this.logger.info("attempting to trigger media device labels since they are hidden");const D=yield this.deviceLabelTrigger();O=yield navigator.mediaDevices.enumerateDevices();for(const J of D.getTracks())J.stop()}catch(D){this.logger.info("unable to get media device labels"),(P=this.eventController)===null||P===void 0||P.publishEvent("deviceLabelTriggerFailed",{deviceLabelTriggerErrorMessage:this.getErrorMessage(D)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(O)}`),this.deviceInfoCache=O})}listCachedDevicesOfKind(P){const B=[];if(this.deviceInfoCache)for(const O of this.deviceInfoCache)O.kind===P&&B.push(O);return B}handleDeviceChange(){return S(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){a.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const P=this.listCachedDevicesOfKind("audioinput"),B=this.listCachedDevicesOfKind("videoinput"),O=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const R=this.listCachedDevicesOfKind("audioinput"),D=this.listCachedDevicesOfKind("videoinput"),J=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(X=>{this.areDeviceListsEqual(P,R)||i.Maybe.of(X.audioInputsChanged).map($=>$.bind(X)(R)),this.areDeviceListsEqual(B,D)||i.Maybe.of(X.videoInputsChanged).map($=>$.bind(X)(D)),this.areDeviceListsEqual(O,J)||i.Maybe.of(X.audioOutputsChanged).map($=>$.bind(X)(J))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(P,B){return S(this,void 0,void 0,function*(){try{P==="audio"?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}P==="audio"?this.forEachObserver(O=>{i.Maybe.of(O.audioInputStreamEnded).map(R=>R.bind(O)(B))}):this.forEachObserver(O=>{i.Maybe.of(O.videoInputStreamEnded).map(R=>R.bind(O)(B))})})}forEachObserver(P){for(const B of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(B)&&P(B)})}forEachMediaStreamBrokerObserver(P){for(const B of this.mediaStreamBrokerObservers)a.default.nextTick(()=>{this.mediaStreamBrokerObservers.has(B)&&P(B)})}areDeviceListsEqual(P,B){return JSON.stringify(P.map(O=>JSON.stringify(O)).sort())===JSON.stringify(B.map(O=>JSON.stringify(O)).sort())}intrinsicDeviceAsMediaStream(P){return P&&P.id?P:null}hasSameMediaStreamId(P,B,O){var R,D,J,X;let $;return P==="audio"?($=O==null?void 0:O.audio.streamId,!!$&&$===((D=(R=B.constraints)===null||R===void 0?void 0:R.audio)===null||D===void 0?void 0:D.streamId)):($=O==null?void 0:O.video.streamId,!!$&&$===((X=(J=B==null?void 0:B.constraints)===null||J===void 0?void 0:J.video)===null||X===void 0?void 0:X.streamId))}hasSameGroupId(P,B,O){if(P==="")return!0;const R=xi.getIntrinsicDeviceId(O);return this.logger.debug(`Checking deviceIds ${R} of type ${typeof R} with groupId ${P}`),typeof R=="string"&&P===this.getGroupIdFromDeviceId(B,R)}getGroupIdFromDeviceId(P,B){if(this.deviceInfoCache!==null){const O=this.listCachedDevicesOfKind(`${P}input`).find(R=>R.deviceId===B);if(O&&O.groupId)return this.logger.debug(`GroupId of deviceId ${B} found in cache is ${O.groupId}`),O.groupId}return this.logger.debug(`GroupId of deviceId ${B} found in cache is empty`),""}handleGetUserMediaError(P,B){if(!P)throw new c.default(P);switch(P.name){case"NotReadableError":case"TrackStartError":throw new m.default(P);case"NotFoundError":case"DevicesNotFoundError":throw new p.default(P);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw B&&B<xi.permissionDeniedOriginDetectionThresholdMs?new y.default(P,"Permission denied by browser"):new y.default(P,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new d.default(P);case"TypeError":throw new E.default(P);case"AbortError":default:throw new c.default(P)}}matchesDeviceSelection(P,B,O,R){return O&&O.stream.active&&(this.hasSameMediaStreamId(P,O,R)||O.groupId!==null&&this.hasSameGroupId(O.groupId,P,B))?(this.logger.debug(`Compare current device constraint ${JSON.stringify(O.constraints)} to proposed constraints ${JSON.stringify(R)}`),O.matchesConstraints(R)):!1}chooseInputIntrinsicDevice(P,B){var O,R;return S(this,void 0,void 0,function*(){const D=this.getMediaStreamConstraints(P,B);if(this.matchesDeviceSelection(P,B,this.activeDevices[P],D)){this.logger.info(`reusing existing ${P} input device`);return}this.activeDevices[P]&&this.activeDevices[P].stream&&this.stopTracksAndRemoveCallbacks(P);const J=Date.now(),X=new r.default;try{this.logger.info(`requesting new ${P} device with constraint ${JSON.stringify(D)}`);const $=this.intrinsicDeviceAsMediaStream(B);P==="audio"&&B===null?(X.stream=xi.createEmptyAudioDevice(),X.constraints=null):$?(this.logger.info(`using media stream ${$.id} for ${P} device`),X.stream=$,X.constraints=D):(X.stream=yield navigator.mediaDevices.getUserMedia(D),X.constraints=D),yield this.handleNewInputDevice(P,X)}catch($){const he=this.getErrorMessage($);P==="audio"?(O=this.eventController)===null||O===void 0||O.publishEvent("audioInputFailed",{audioInputErrorMessage:he}):(R=this.eventController)===null||R===void 0||R.publishEvent("videoInputFailed",{videoInputErrorMessage:he}),this.logger.error(`failed to get ${P} device for constraints ${JSON.stringify(D)}: ${he}`);let Ee=!0;if($&&"constraint"in $&&(this.logger.error(`Over-constrained by constraint: ${$.constraint}`),this.useMediaConstraintsFallback)){const ke=this.getMediaStreamConstraints(P,B,!0),ve=JSON.stringify(ke);if(ve!==JSON.stringify(D)){this.logger.info(`retry requesting new ${P} device with minimal constraint ${ve}`);try{X.stream=yield navigator.mediaDevices.getUserMedia(ke),X.constraints=ke,yield this.handleNewInputDevice(P,X),Ee=!1}catch(Be){this.logger.error(`failed to get ${P} device for constraints ${ve}: ${this.getErrorMessage(Be)}`)}}}if(Ee){if(P==="audio"){this.logger.info(`choosing null ${P} device instead`);try{X.stream=xi.createEmptyAudioDevice(),X.constraints=null,yield this.handleNewInputDevice(P,X)}catch(ke){this.logger.error(`failed to choose null ${P} device. ${ke.name}: ${ke.message}`)}}this.handleGetUserMediaError($,Date.now()-J)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(P){return P?P.name&&P.message?`${P.name}: ${P.message}`:P.name?P.name:P.message?P.message:"UnknownError":"UnknownError"}handleNewInputDevice(P,B){var O;return S(this,void 0,void 0,function*(){this.logger.info(`got ${P} device for constraints ${JSON.stringify(B.constraints)}`);const R=(O=this.getMediaTrackSettings(B.stream))===null||O===void 0?void 0:O.deviceId;B.groupId=R?this.getGroupIdFromDeviceId(P,R):"",this.activeDevices[P]=B,this.logger.debug(`Set activeDevice to ${JSON.stringify(B)}`),this.watchForDeviceChangesIfNecessary();const D=B.stream.getTracks()[0];if(D&&(B.endedCallback=()=>{this.activeDevices[P]&&this.activeDevices[P].stream===B.stream&&(this.handleDeviceStreamEnded(P,R),delete B.endedCallback)},D.addEventListener("ended",B.endedCallback,{once:!0})),P==="audio"){const J=B.stream.getAudioTracks()[0];if(J){const X=J.getSettings().deviceId||B.stream;B.trackMuteCallback=()=>{this.mediaStreamMuteObserver(X,!0)},B.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(X,!1)},J.addEventListener("mute",B.trackMuteCallback,{once:!1}),J.addEventListener("unmute",B.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),J.muted?B.trackMuteCallback():B.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(P,B,O,R){if(R&&this.listCachedDevicesOfKind(`${P}input`).length===1)return!0;const D={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?D.deviceId=B:D.deviceId={exact:B},O&&(D.groupId=O),R?D:P==="video"?(D.width={ideal:this.videoInputQualitySettings.videoWidth},D.height={ideal:this.videoInputQualitySettings.videoHeight},D.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},D):(this.supportSampleRateConstraint()&&(D.sampleRate={ideal:xi.defaultSampleRate}),this.supportSampleSizeConstraint()&&(D.sampleSize={ideal:xi.defaultSampleSize}),this.supportChannelCountConstraint()&&(D.channelCount={ideal:xi.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},D))}getMediaStreamConstraintsFromTrackConstraints(P,B){return P==="audio"?{audio:B}:{video:B}}getMediaStreamConstraints(P,B){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R={};if(!B)return null;const D=this.intrinsicDeviceAsMediaStream(B);if(D)return R.streamId=D.id,this.getMediaStreamConstraintsFromTrackConstraints(P,R);if(typeof B=="string"){let J="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?J=this.getGroupIdFromDeviceId(P,B):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),R=this.calculateMediaStreamConstraints(P,B,J,O),this.getMediaStreamConstraintsFromTrackConstraints(P,R)}return N(B)?(R=this.calculateMediaStreamConstraints(P,B.deviceId,B.groupId,O),this.getMediaStreamConstraintsFromTrackConstraints(P,R)):(R=B,this.getMediaStreamConstraintsFromTrackConstraints(P,R))}deviceInfoFromDeviceId(P,B){if(this.deviceInfoCache===null)return null;for(const O of this.deviceInfoCache)if(O.kind===P&&O.deviceId===B)return O;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(P,B){if(!P||!P.active||!B)return!1;if(B.id)return P.id===B.id;const O=this.getMediaTrackSettings(P);if(!O.deviceId)return!1;const R=xi.getIntrinsicDeviceId(B);return typeof R=="string"?O.deviceId===R:!1}getMediaTrackSettings(P){var B;return(B=P.getTracks()[0])===null||B===void 0?void 0:B.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const P=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(P)}setTransform(P,B){var O,R;(R=(O=this.transform)===null||O===void 0?void 0:O.nodes)===null||R===void 0||R.end.disconnect(),this.transform={nodes:B,device:P};const D=B==null?void 0:B.end,J=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${D} to destination ${J}.`),D==null||D.connect(J),this.reconnectAudioInputs()}removeTransform(){var P;const B=this.transform;if(B)return(P=this.transform.nodes)===null||P===void 0||P.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),B}attachAudioInputStreamToAudioContext(P){var B;(B=this.audioInputSourceNode)===null||B===void 0||B.disconnect(),this.audioInputSourceNode=xi.getAudioContext().createMediaStreamSource(P);const O=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(O)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=xi.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var P,B;return((B=(P=this.transform)===null||P===void 0?void 0:P.nodes)===null||B===void 0?void 0:B.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(P){xi.defaultLatencyHint=P}static getAudioContext(){if(!xi.audioContext){const P={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(P.sampleRate=xi.defaultSampleRate),new u.default().requiresPlaybackLatencyHintForAudioContext()&&(P.latencyHint="playback"),xi.defaultLatencyHint&&(P.latencyHint=xi.defaultLatencyHint),xi.audioContext=new(window.AudioContext||window.webkitAudioContext)(P)}return xi.audioContext}static closeAudioContext(){if(xi.audioContext)try{xi.audioContext.close()}catch{}xi.audioContext=null}addMediaStreamBrokerObserver(P){this.mediaStreamBrokerObservers.add(P)}removeMediaStreamBrokerObserver(P){this.mediaStreamBrokerObservers.delete(P)}publishVideoInputDidChangeEvent(P){this.forEachMediaStreamBrokerObserver(B=>{B.videoInputDidChange&&B.videoInputDidChange(P)}),this.pushVideoMeetingStateForPermissions(P)}publishAudioInputDidChangeEvent(P){this.forEachMediaStreamBrokerObserver(B=>{B.audioInputDidChange&&B.audioInputDidChange(P)}),this.pushAudioMeetingStateForPermissions(P)}publishAudioOutputDidChangeEvent(P){this.forEachMediaStreamBrokerObserver(B=>{B.audioOutputDidChange&&B.audioOutputDidChange(P)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(P,B,O){let R=`API/DefaultDeviceController/${P}`;typeof B<"u"&&(R+=` ${JSON.stringify(B)}`),typeof O<"u"&&(R+=` -> ${JSON.stringify(O)}`),this.logger.info(R)}constructor(P,B,O=new u.default,R){this.logger=P,this.browserBehavior=O,this.eventController=R,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new s.default,this.videoInputTaskQueue=new s.default,this.muted=!1,this.mediaStreamMuteObserver=($,he)=>{for(const Ee of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(Ee)&&Ee.audioInputMuteStateChanged&&Ee.audioInputMuteStateChanged($,he)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:D=!1,useMediaConstraintsFallback:J=!0}=B||{};this.useWebAudio=D,this.useMediaConstraintsFallback=J,this.videoInputQualitySettings=new w.default(xi.defaultVideoWidth,xi.defaultVideoHeight,xi.defaultVideoFrameRate);const X=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=X[0],this.videoInputQualitySettings.videoHeight=X[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=new g.default().create();const $=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify($)}`)}catch($){P.error($.message)}}},"DefaultDeviceController");l.default=V,V.permissionDeniedOriginDetectionThresholdMs=500,V.defaultVideoWidth=960,V.defaultVideoHeight=540,V.defaultVideoFrameRate=15,V.defaultSampleRate=48e3,V.defaultSampleSize=16,V.defaultChannelCount=1,V.audioContext=null;function N(F){return typeof F=="object"&&"deviceId"in F&&"groupId"in F&&"kind"in F&&"label"in F}o(N,"isMediaDeviceInfo")},RfPO:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class Bl{static isTimestampRecent(u,g){return Date.now()<u+g}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}isConnectionStartRecent(u){return Bl.isTimestampRecent(this.connectionStartTimestampMs,u)}isLastPacketLossRecent(u){return Bl.isTimestampRecent(this.lastPacketLossInboundTimestampMs,u)}isGoodSignalRecent(u){return Bl.isTimestampRecent(this.lastGoodSignalTimestampMs,u)}isWeakSignalRecent(u){return Bl.isTimestampRecent(this.lastWeakSignalTimestampMs,u)}isNoSignalRecent(u){return Bl.isTimestampRecent(this.lastNoSignalTimestampMs,u)}clone(){const u=new Bl;return u.connectionStartTimestampMs=this.connectionStartTimestampMs,u.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,u.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,u.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,u.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,u.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,u.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,u.consecutiveMissedPongs=this.consecutiveMissedPongs,u.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),u.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),u.audioSpeakerDelayMs=this.audioSpeakerDelayMs,u}setConsecutiveMissedPongs(u){this.consecutiveMissedPongs=u}setConsecutiveStatsWithNoPackets(u){this.consecutiveStatsWithNoPackets=u}setConsecutiveStatsWithNoAudioPacketsSent(u){this.consecutiveStatsWithNoAudioPacketsSent=u}setLastPacketLossInboundTimestampMs(u){this.lastPacketLossInboundTimestampMs=u}setLastNoSignalTimestampMs(u){this.lastNoSignalTimestampMs=u}setLastWeakSignalTimestampMs(u){this.lastWeakSignalTimestampMs=u}setLastGoodSignalTimestampMs(u){this.lastGoodSignalTimestampMs=u}setAudioSpeakerDelayMs(u){this.audioSpeakerDelayMs=u}constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},"ConnectionHealthData");l.default=S},Rx4Y:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioOutputFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed"})(S=l.CheckAudioOutputFeedback||(l.CheckAudioOutputFeedback={})),l.default=S},SM5d:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptLanguageWithScore");l.default=S},SO8M:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Sa54"));let u=o(class Gc{static fullbandSpeechMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new Gc(4e4,a)}static fullbandMusicMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new Gc(64e3,a)}static fullbandMusicStereo(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new Gc(128e3,a)}isStereo(){return this.audioBitrateBps===128e3}hasRedundancyEnabled(){return this.enableAudioRedundancy}constructor(a=null,s=!0){this.audioBitrateBps=a,this.enableAudioRedundancy=!new f.default().hasFirefoxWebRTC()&&s}},"AudioProfile");l.default=u},Sa54:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("e0ae"),u=h("K4CH");let g=o(class Kf{version(){return this.browser.version}majorVersion(){return this.version()!==null?parseInt(this.version().split(".")[0]):-1}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}engine(){return this.uaParserResult.engine.name}engineMajorVersion(){return parseInt(this.uaParserResult.engine.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const s of this.chromeLike)if(s===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const s of this.webkitBrowsers)if(s===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=Kf.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=Kf.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsDependencyDescriptorRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsScalableVideoCoding(){return this.hasChromiumWebRTC()&&this.engine()==="Blink"&&this.engineMajorVersion()>=111}requiresResolutionAlignment(s,i){return this.isAndroid()&&this.isPixel3()?[Math.ceil(s/64)*64,Math.ceil(i/64)*64]:[s,i]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const s=[];for(const i in this.browserSupport)s.push(`${this.browserName[i]} ${this.browserSupport[i]}+`);return s.join(", ")}supportedVideoCodecs(){return S(this,void 0,void 0,function*(){const s=new RTCPeerConnection;return s.addTransceiver("video",{direction:"inactive",streams:[]}),(yield s.createOffer({offerToReceiveVideo:!0})).sdp.split(`\r
`).filter(i=>i.includes("a=rtpmap:")).map(i=>i.replace(/.* /,"").replace(/\/.*/,"")).filter((i,e,t)=>t.indexOf(i)===e).filter(i=>i!=="rtx"&&i!=="red"&&i!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=f.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new u.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}},"DefaultBrowserBehavior");l.default=g,g.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,g.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},SdmA:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckVideoConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.VideoInputRequestFailed=1]="VideoInputRequestFailed",f[f.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",f[f.ConnectionFailed=3]="ConnectionFailed",f[f.VideoNotSent=4]="VideoNotSent"})(S=l.CheckVideoConnectivityFeedback||(l.CheckVideoConnectivityFeedback={})),l.default=S},SgmS:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("xzjI"));let u=o(class extends f.default{constructor(a){super(a),this.name="TypeError"}},"TypeError");l.default=u},Sh4b:function(j,l,h){var S=h("E5fQ").default,f=h("UrPO");function u(g,a){if(a&&(S(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(g)}o(u,"_possibleConstructorReturn"),j.exports=u,j.exports.__esModule=!0,j.exports.default=j.exports},Sl5A:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.IDLE="IDLE",f.RUNNING="RUNNING",f.CANCELED="CANCELED",f.FINISHED="FINISHED"})(S||(S={})),l.default=S},Sz6V:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}constructor(u,g){this.signalingURL=u,this.joinToken=g}},"SignalingClientConnectionRequest");l.default=S},"T44/":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0}),l.VideoPreferences=l.MutableVideoPreferences=l.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=void 0;const f=S(h("bQ+R"));function u(e,t,n){if(e.transceiverController.getMidForGroupId===void 0||e.videoStreamIndex.attendeeIdForGroupId===void 0||n===void 0)return[];const r=new Array,c=new Map,p=new Map;for(const m of t){const d=e.transceiverController.getMidForGroupId(m);if(d===void 0)continue;const y=e.videoStreamIndex.attendeeIdForGroupId(m);c.set(y,d),p.set(y,m)}for(const m of n){const d=new f.default,y=c.get(m.attendeeId);y!==void 0&&(d.mid=y,d.attendeeId=m.attendeeId,d.groupId=p.get(m.attendeeId),d.priority=Number.MAX_SAFE_INTEGER-m.priority,d.targetBitrateKbps=m.targetSizeToBitrateKbps(m.targetSize),r.push(d))}return r}o(u,"convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration"),l.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=u;let g=o(class Jf{static default(){return new Jf([])}[Symbol.iterator](){let t=0;const n=this.items;return{next(){return t<n.length?{done:!1,value:n[t++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(t){this.items.push(t)}replaceFirst(t,n){const r=this.items.findIndex(n);r===-1?this.items.push(t):this.has(t)?this.items.splice(r,1):this.items[r]=t}remove(t){this.items=this.items.filter(n=>!n.equals(t))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(const n of this.items)if(!t.items.some(r=>r.equals(n)))return!1;return!0}has(t){return this.items.some(n=>n.equals(t))}some(t){return this.items.some(t)}clone(){return new Jf([...this.items])}sort(){this.items.sort((t,n)=>t.partialCompare(n))}modify(){return new a(this)}constructor(t=[]){this.items=t}},"ObjectSet"),a=o(class{cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(t){this.items.has(t)||(this.cow(),this.items.add(t))}replaceFirst(t,n){this.items.has(t)&&!this.items.some(n)||(this.cow(),this.items.replaceFirst(t,n))}remove(t){this.items.has(t)&&(this.cow(),this.items.remove(t))}some(t){return this.items.some(t)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}constructor(t=new g){this.items=t,this.copied=!1}},"SetBuilder"),s=o(class{add(t){this.builder.add(t)}replaceFirst(t,n){this.builder.replaceFirst(t,n)}remove(t){this.builder.remove(t)}some(t){return this.builder.some(t)}clear(){this.builder.clear()}build(){return new i(this.builder.build())}constructor(t){this.builder=t}},"MutableVideoPreferences");l.MutableVideoPreferences=s;let i=o(class Yf{static prepare(){return new s(new a)}static default(){return new Yf(g.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var t;return(t=this.items.first())===null||t===void 0?void 0:t.priority}sorted(){return this.items[Symbol.iterator]()}equals(t){return t===this||this.items.equals(t.items)}modify(){return new s(this.items.modify())}some(t){return this.items.some(t)}isEmpty(){return this.items.isEmpty()}clone(){const t=Yf.prepare();for(const n of this.items)t.add(n.clone());return t.build()}constructor(t){this.items=t}},"VideoPreferences");l.VideoPreferences=i,l.default=i},TSeO:function(j,l){function h(S,f){if(!(S instanceof f))throw new TypeError("Cannot call a class as a function")}o(h,"_classCallCheck"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},TYXu:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}},"RealtimeState");l.default=S},TdKi:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("hlxM"),u=h("nSNv"),g={ready:0,enabled:1},a={disabled:0,enabled:1,stopped:2};let s=o(class extends u.VoiceFocusAudioWorkletNode{enable(){return S(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,g.enabled,a.enabled),Atomics.notify(this.state,g.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,g.enabled,a.disabled),Atomics.notify(this.state,g.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return S(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,g.enabled,a.stopped),Atomics.notify(this.state,g.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(e){var t;const n=e.data;switch(n.message){case"ready":if(!n.shared)throw new Error("No shared state.");this.state=new Int32Array(n.shared.state),this.port.postMessage(n);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(n);break;case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"processing":this.port.postMessage(n);break;default:return}}onProcessorMessage(e){var t;const n=e.data;switch(n.message){case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(n);break;default:}}constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:n,resamplerURL:r,worker:c,fetchBehavior:p,delegate:m}=t;this.delegate=m,this.worker=c,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:d,supportFarendStream:y}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:e.sampleRate===16e3?160:480,enabled:d,model:n,supportFarendStream:y});const E=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:E,key:"resampler",fetchBehavior:p,path:r})}},"VoiceFocusWorkerBufferNode");l.default=s},Tsvd:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"StreamMetricReport");l.default=S},"U++r":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3}},"ConnectionHealthPolicyConfiguration");l.default=S},U3GI:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"GlobalMetricReport");l.default=S},U9CR:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("e0ae"),u=h("K4CH");let g=o(class Xf{version(){return this.browser.version}majorVersion(){return this.version()!==null?parseInt(this.version().split(".")[0]):-1}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const s of this.chromeLike)if(s===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const s of this.webkitBrowsers)if(s===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=Xf.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=Xf.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}requiresResolutionAlignment(s,i){return this.isAndroid()&&this.isPixel3()?[Math.ceil(s/64)*64,Math.ceil(i/64)*64]:[s,i]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const s=[];for(const i in this.browserSupport)s.push(`${this.browserName[i]} ${this.browserSupport[i]}+`);return s.join(", ")}supportedVideoCodecs(){return S(this,void 0,void 0,function*(){const s=new RTCPeerConnection;return s.addTransceiver("video",{direction:"inactive",streams:[]}),(yield s.createOffer({offerToReceiveVideo:!0})).sdp.split(`\r
`).filter(i=>i.includes("a=rtpmap:")).map(i=>i.replace(/.* /,"").replace(/\/.*/,"")).filter((i,e,t)=>t.indexOf(i)===e).filter(i=>i!=="rtx"&&i!=="red"&&i!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=f.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new u.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}},"DefaultBrowserBehavior");l.default=g,g.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,g.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},UIXl:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{calculateScore(u,g,a){(a||g===null)&&(g=0),this.volumes.hasOwnProperty(u)||(this.volumes[u]=0),g>this.silenceThreshold?g=1:g=0;const s=this.volumes[u]*this.speakerWeight+g*(1-this.speakerWeight);this.volumes[u]=s;for(const i in this.volumes)i!==u&&(this.volumes[i]=Math.max(this.volumes[i]-this.takeoverRate*g,0));return s<this.cutoffThreshold?0:s}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}constructor(u=.9,g=.01,a=.2,s=.2){this.speakerWeight=u,this.cutoffThreshold=g,this.silenceThreshold=a,this.takeoverRate=s,this.volumes={}}},"DefaultActiveSpeakerPolicy");l.default=S},ULlC:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("yQ3g"));let u=o(class MS{timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(a){this._isFirstConnection=a,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(a,s){const i=this.shouldReconnect&&!this.hasPastReconnectDeadline();return i&&(this.backoffCancel=s,this.backoffTimer=new f.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,a()})),i}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new MS(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(a){this.lastActiveTimestampMs=a}constructor(a,s){this.reconnectTimeoutMs=a,this.backoffPolicy=s,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}},"DefaultReconnectController");l.default=u},UW8m:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("xzjI"));let u=o(class extends f.default{constructor(a){super(a),this.name="NotReadableError"}},"NotReadableError");l.default=u},UrPO:function(j,l){function h(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}o(h,"_assertThisInitialized"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},"V+x/":function(j,l){function h(f,u){for(var g=0;g<u.length;g++){var a=u[g];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}o(h,"_defineProperties");function S(f,u,g){return u&&h(f.prototype,u),g&&h(f,g),Object.defineProperty(f,"prototype",{writable:!1}),f}o(S,"_createClass"),j.exports=S,j.exports.__esModule=!0,j.exports.default=j.exports},V2kw:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{getAuthenticationToken(){return this.authenticationToken}toJSON(){const u={};return u.type=this.type,u.v=this.v,u.meetingId=this.meetingId,u.attendeeId=this.attendeeId,u}constructor(u,g,a,s=[]){this.type="Meet",this.v=1,this.meetingId=u,this.attendeeId=g,this.eventsToIgnore=s,this.authenticationToken=a}},"MeetingEventsClientConfiguration");l.default=S},V3UW:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("uctb")),u=S(h("6/h7"));let g=o(class{name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const s of this.dependencies)s.cancel();this.logger.info(`Canceling ${this.name()}`),u.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&u.default.nextTick(()=>this.cancelPromise(new Error(`canceling ${this.name()}`)))}}logDependencies(){if(this.logger.getLogLevel()>f.default.INFO||!this.dependencies)return;const s=this.dependencies.filter(i=>i).map(i=>i.name()).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${s}`)}run(){if(this.promise)return this.promise;const s=this.dependencies?Promise.all(this.dependencies.map(i=>i==null?void 0:i.run())):Promise.resolve();return this.logDependencies(),this.ongoing=s.then(()=>this.task.run()),this.promise=new Promise((i,e)=>{this.cancelPromise=e,this.ongoing.then(i).catch(e)})}setParent(s){this.task.setParent(s)}constructor(s,i,e){this.logger=s,this.task=i,this.dependencies=e,this.canceled=!1}},"OnceTask");l.default=g},V4cD:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("xzjI"));let u=o(class extends f.default{constructor(a,s){super(a,s),this.name="PermissionDeniedError"}},"PermissionDeniedError");l.default=u},V5IF:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}},"MeetingSessionTURNCredentials");l.default=S},V7js:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MAX_HASHABLE_LENGTH=l.INIT=l.KEY=l.DIGEST_LENGTH=l.BLOCK_SIZE=void 0,l.BLOCK_SIZE=64,l.DIGEST_LENGTH=32,l.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],l.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},VCUZ:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0}),l.getFormattedOffset=l.getDefaultAssetSpec=l.toLowerCasePropertyNames=l.isIFramed=l.wait=void 0;const f=S(h("ac3q"));function u(e){return new Promise(t=>setTimeout(t,e))}o(u,"wait"),l.wait=u;function g(){var e;try{return((e=window.frameElement)===null||e===void 0?void 0:e.nodeName)==="IFRAME"||parent!==top}catch{return!0}}o(g,"isIFramed"),l.isIFramed=g;function a(e){return e===null?null:typeof e!="object"?e:Array.isArray(e)?e.map(a):Object.keys(e).reduce((t,n)=>{const r=e[n],c=typeof r=="object"?a(r):r;return t[n.toLowerCase()]=c,t},{})}o(a,"toLowerCasePropertyNames"),l.toLowerCasePropertyNames=a;function s(){const e=f.default.sdkVersionSemVer;return{assetGroup:`sdk-${e.major}.${e.minor}`}}o(s,"getDefaultAssetSpec"),l.getDefaultAssetSpec=s;function i(e){const t=Math.abs(e),n=e<=0?"+":"-",r=Math.floor(t/60).toString().padStart(2,"0"),c=Math.floor(t%60).toString().padStart(2,"0");return`${n}${r}:${c}`}o(i,"getFormattedOffset"),l.getFormattedOffset=i},VKrp:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckNetworkTCPConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",f[f.ConnectionFailed=2]="ConnectionFailed",f[f.ICENegotiationFailed=3]="ICENegotiationFailed"})(S=l.CheckNetworkTCPConnectivityFeedback||(l.CheckNetworkTCPConnectivityFeedback={})),l.default=S},VPK4:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"Transcript");l.default=S},VThA:function(j,l,h){"use strict";h.d(l,"a",function(){return f});const S={Table:"table",Board:"board",Timeline:"timeline",List:"list",Gallery:"gallery",Calendar:"calendar",Map:"map",Record:"record"},f={Table:"table",Board:"board",Timeline:"timeline",List:"list",Gallery:"gallery",Calendar:"calendar",Map:"map",Record:"record"}},VUud:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={NotificationNotFound:"notification_not_found",InvalidAction:"invalid_action",ErrorPersistingImpression:"error_persisting_impression",ChannelNotFound:"channel_not_found",InvalidNotificationParams:"invalid_notification_params",CannotProvideChannelAndEntityId:"cannot_provide_channel_and_entity_id",MissingEntityType:"missing_entity_type",InvalidEntityType:"invalid_entity_type"},t=Object(a.a)("megaphone.setNotificationAsSeen generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"megaphone.setNotificationAsSeen",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to megaphone.setNotificationAsSeen
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetchermegaphoneSetNotificationAsSeenFetcher",description:"megaphone.setNotificationAsSeen generated fetcher"}},VWEK:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.PRONUNCIATION="pronunciation",f.PUNCTUATION="punctuation"})(S||(S={})),l.default=S},VWHd:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Biyp"));let u=o(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(a){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new f.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}constructor(){}},"NoVideoUplinkBandwidthPolicy");l.default=u},"VYs+":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("ZdbB"));let g=o(class Sa extends u.default{setEncodingParameters(s){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(s.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let n=0;n<t.encodings.length;n++)t.encodings[n].rid===Sa.LOW_LEVEL_NAME&&this.copyEncodingParams(s.get(Sa.LOW_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===Sa.MID_LEVEL_NAME&&this.copyEncodingParams(s.get(Sa.MID_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===Sa.HIGH_LEVEL_NAME&&this.copyEncodingParams(s.get(Sa.HIGH_LEVEL_NAME),t.encodings[n]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(s){return S(this,void 0,void 0,function*(){})}setupLocalTransceivers(){var s,i;if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((i=(s=this.meetingSessionContext)===null||s===void 0?void 0:s.audioProfile)===null||i===void 0)&&i.hasRedundancyEnabled()&&this.setupAudioRedWorker()),!this._localCameraTransceiver)){const e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}}logVideoTransceiverParameters(){const i=this._localCameraTransceiver.sender.getParameters().encodings;let e=`simulcast: current encoding parameters 
`;for(const t of i)e+=`rid=${t.rid} maxBitrate=${t.maxBitrate} active=${t.active} scaleDownBy=${t.scaleResolutionDownBy} maxFrameRate = ${t.maxFramerate} 
`;this.logger.info(e)}copyEncodingParams(s,i){i.active=s.active,i.maxBitrate=s.maxBitrate,i.scaleResolutionDownBy=s.scaleResolutionDownBy,i.maxFramerate=s.maxFramerate}constructor(s,i,e){super(s,i,e),this.videoQualityControlParameterMap=new Map;let t=4;for(let n=0;n<Sa.NAME_ARR_ASCENDING.length;n++){const r=Sa.NAME_ARR_ASCENDING[n];this.videoQualityControlParameterMap.set(r,{rid:r,scaleResolutionDownBy:t,maxBitrate:Sa.BITRATE_ARR_ASCENDING[n]*1e3}),t=t/2}}},"SimulcastTransceiverController");l.default=g,g.LOW_LEVEL_NAME="low",g.MID_LEVEL_NAME="mid",g.HIGH_LEVEL_NAME="hi",g.NAME_ARR_ASCENDING=["low","mid","hi"],g.BITRATE_ARR_ASCENDING=[200,400,1100]},VcdL:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(g,a,s,i){function e(t){return t instanceof s?t:new s(function(n){n(t)})}return o(e,"adopt"),new(s||(s=Promise))(function(t,n){function r(m){try{p(i.next(m))}catch(d){n(d)}}o(r,"fulfilled");function c(m){try{p(i.throw(m))}catch(d){n(d)}}o(c,"rejected");function p(m){m.done?t(m.value):e(m.value).then(r,c)}o(p,"step"),p((i=i.apply(g,a||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.VideoFxCanvasOpsManager=void 0;const f=h("6qF3");let u=o(class{getInferenceInputData(a){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(a,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(a){return S(this,void 0,void 0,function*(){if(this.streamParameters=a,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const s=document.createElement("canvas");s.width=this.streamParameters.width,s.height=this.streamParameters.height,s.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(a){return S(this,void 0,void 0,function*(){const s=a.backgroundReplacement.backgroundImageURL,i=a.backgroundReplacement.defaultColor;if(s)try{const e=yield this.loadImage(s);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(i)})}resizeAndSetReplacementImage(a){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=this.streamParameters.width,s.height=this.streamParameters.height,i.drawImage(a,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}resizeAndSetReplacementColor(a){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=this.streamParameters.width,s.height=this.streamParameters.height,i.fillStyle=a,i.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}loadImage(a){return S(this,void 0,void 0,function*(){const i=yield(yield fetch(a).catch(t=>{throw this.logger.error(t.toString()),new Error("Failed to fetch image.")})).blob(),e=new Image;return e.src=URL.createObjectURL(i),new Promise((t,n)=>{e.onload=()=>{t(e)},e.onerror=r=>{n(r)}})})}constructor(a,s){this.streamParameters=a,this.outputCanvas=s,this.configureCanvasPipeline()}},"VideoFxCanvasOpsManager");l.VideoFxCanvasOpsManager=u},VgUL:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("wQGL"));let u=o(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var a,s,i,e,t,n,r,c,p,m,d,y;const E=new Map,w=1e3,k=f.default.NAME_ARR_ASCENDING;return E.set(k[0],{rid:k[0],active:!0,scaleResolutionDownBy:((s=(a=this.encodingParams)===null||a===void 0?void 0:a.low)===null||s===void 0?void 0:s.scaleResolutionDownBy)||2,maxBitrate:(((e=(i=this.encodingParams)===null||i===void 0?void 0:i.low)===null||e===void 0?void 0:e.maxBitrateKbps)||300)*w,maxFramerate:((n=(t=this.encodingParams)===null||t===void 0?void 0:t.low)===null||n===void 0?void 0:n.maxFramerate)||5}),E.set(k[1],{rid:k[1],active:!0,scaleResolutionDownBy:((c=(r=this.encodingParams)===null||r===void 0?void 0:r.high)===null||c===void 0?void 0:c.scaleResolutionDownBy)||1,maxBitrate:(((m=(p=this.encodingParams)===null||p===void 0?void 0:p.high)===null||m===void 0?void 0:m.maxBitrateKbps)||1200)*w,maxFramerate:(y=(d=this.encodingParams)===null||d===void 0?void 0:d.high)===null||y===void 0?void 0:y.maxFramerate}),this.getQualityMapString(E),E}updateIndex(a){this.videoIndex=a}wantsResubscribe(){var a,s;let i=!1;this.nextLocalDescriptions=(a=this.videoIndex)===null||a===void 0?void 0:a.localStreamDescriptions();for(let e=0;e<((s=this.nextLocalDescriptions)===null||s===void 0?void 0:s.length);e++){const t=this.nextLocalDescriptions[e].streamId;if(t!==0&&t){const n=this.currLocalDescriptions.findIndex(r=>r.streamId===t);n!==-1&&this.nextLocalDescriptions[e].disabledByWebRTC!==this.currLocalDescriptions[n].disabledByWebRTC&&(i=!0)}}return this.currLocalDescriptions=this.nextLocalDescriptions,i}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return 1200}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}getQualityMapString(a){var s;let i="";const e=(s=this.videoIndex)===null||s===void 0?void 0:s.localStreamDescriptions();(e==null?void 0:e.length)>0&&(a.forEach(t=>{let n=!1;t.rid==="low"?n=e[0].disabledByWebRTC:n=e[1].disabledByWebRTC,i+=`{ rid: ${t.rid} active:${t.active} disabledByWebRTC: ${n} maxBitrate:${t.maxBitrate} scaleResolutionDownBy:${t.scaleResolutionDownBy} maxFrameRate:${t.maxFramerate}`}),this.logger.info(`simulcast: content policy:chooseEncodingParameters newQualityMap: ${i}`))}addObserver(a){}removeObserver(a){}forEachObserver(a){}constructor(a,s){this.logger=a,this.encodingParams=s,this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[]}},"DefaultSimulcastUplinkPolicyForContentShare");l.default=u},VhCr:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(u,g,a,s,i,e,t,n,r,c){this.attendeeId=u,this.sdpOffer=g,this.audioHost=a,this.audioMuted=s,this.audioCheckin=i,this.receiveStreamIds=e,this.localVideoEnabled=t,this.videoStreamDescriptions=n,this.connectionTypeHasVideo=r,this.compressedSdpOffer=c,this.videoSubscriptionConfiguration=[]}},"SignalingClientSubscribe");l.default=S},VoiG:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptionStatus");l.default=S},"W+eo":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("j+uH"));let g=o(class extends u.default{cancel(){for(const s of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${s.name()}`),s.cancel()}run(){return S(this,void 0,void 0,function*(){const s=[];for(const e of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${e.name()}`),s.push(e.run());const i=[];for(let e=0;e<s.length;e++){try{yield s[e]}catch(t){i.push(`task ${this.tasksToRunParallel[e].name()} failed: ${t.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[e].name()}`)}if(i.length>0){const e=i.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${e}`)}this.logger.info(`parallel group task ${this.name()} completed`)})}constructor(s,i,e){super(s),this.taskName=i,this.tasksToRunParallel=e;for(const t of e)t.setParent(this)}},"ParallelGroupTask");l.default=g},WHnE:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Sa54")),g=f(h("6/h7"));let a=o(class{bindAudioElement(i){return S(this,void 0,void 0,function*(){if(!i)throw new Error(`Cannot bind audio element: ${i}`);return this.audioElement=i,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(i=>{this.audioStream&&i.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(i){return S(this,void 0,void 0,function*(){if(i){this.audioStream=i;try{yield this.bindAudioMix()}catch(e){this.logger&&this.logger.warn(`Failed to bind audio stream: ${e}`)}}})}bindAudioDevice(i){return S(this,void 0,void 0,function*(){if(i&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=i,this.bindAudioMix()})}forEachObserver(i){for(const e of this.observers)g.default.nextTick(()=>{i(e)})}bindAudioMix(){var i,e;return S(this,void 0,void 0,function*(){if(!this.audioElement)return;const t=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),t!==this.audioStream&&this.forEachObserver(d=>{t&&d.meetingAudioStreamBecameInactive(t),this.audioStream&&d.meetingAudioStreamBecameActive(this.audioStream)});const n=((i=this.audioDevice)===null||i===void 0?void 0:i.deviceId)!==this.audioElement.sinkId;if(n&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const r=this.audioDevice?this.audioDevice.deviceId:"",c=this.audioElement.sinkId;if(r===c)return;const p=this.audioElement,m=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(p.srcObject=null),n)try{yield p.setSinkId(r)}catch(d){throw(e=this.logger)===null||e===void 0||e.error(`Failed to set sinkId for audio element: ${d}`),d}this.browserBehavior.hasChromiumWebRTC()&&(p.srcObject=m)})}getCurrentMeetingAudioStream(){return S(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(i){return S(this,void 0,void 0,function*(){this.observers.add(i)})}removeAudioMixObserver(i){return S(this,void 0,void 0,function*(){this.observers.delete(i)})}audioOutputDidChange(i){return S(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(i)})}constructor(i){this.logger=i,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new u.default,this.observers=new Set}},"DefaultAudioMixController");l.default=a},WRer:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("hEYi")),g=h("f2XL"),a=f(h("aVV0"));let s=o(class extends a.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(e){if(e.type!==u.default.ReceivedSignalFrame||e.message.type!==g.SdkSignalFrame.Type.PAUSE&&e.message.type!==g.SdkSignalFrame.Type.RESUME)return;const t=e.message.pause,n=e.message.type;if(this.context.logger.info(`received new ${n===g.SdkSignalFrame.Type.PAUSE?"pause":"resume"} frame: ${JSON.stringify(t)}`),!t||this.context.videoTileController.getVideoTileForAttendeeId===void 0||this.context.videoDownlinkBandwidthPolicy.forEachObserver===void 0||this.context.videoStreamIndex.attendeeIdForGroupId===void 0)return;const r=t.groupIds.map(c=>{const p=this.context.videoStreamIndex.attendeeIdForGroupId(c);return this.context.videoTileController.getVideoTileForAttendeeId(p)});for(const c of r)c!==void 0&&(n===g.SdkSignalFrame.Type.PAUSE?c.state().paused||(this.serverPausedVideoTileIds.add(c.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(p=>{p.tileWillBePausedByDownlinkPolicy(c.id())}),c.pause()):c.state().paused&&this.serverPausedVideoTileIds.has(c.id())&&(this.serverPausedVideoTileIds.delete(c.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(p=>{p.tileWillBeUnpausedByDownlinkPolicy(c.id())}),c.unpause()))}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveRemoteVideoPauseResume",this.serverPausedVideoTileIds=new Set}},"ReceiveRemoteVideoPauseResume");l.default=s},WcgR:function(j,l,h){"use strict";var S=h("ILaC"),f=h("uE2L"),u=h("LV2V"),g=h("ngjY"),a=h("KSud"),s=h("nzLN"),i=1,e=32,t=Object(u.a)(function(d,y,E){var w=i;if(E.length){var k=Object(s.a)(E,Object(a.a)(t));w|=e}return Object(g.a)(d,w,y,E,k)});t.placeholder={};var n=t,r=h("Tjpy"),c=h("Tchk"),p=Object(r.a)(function(d,y){return Object(S.a)(y,function(E){E=Object(c.a)(E),Object(f.a)(d,E,n(d[E],d))}),d}),m=l.a=p},Wdtm:function(j,l,h){"use strict";var S=this&&this.__createBinding||(Object.create?function(d,y,E,w){w===void 0&&(w=E),Object.defineProperty(d,w,{enumerable:!0,get:function(){return y[E]}})}:function(d,y,E,w){w===void 0&&(w=E),d[w]=y[E]}),f=this&&this.__setModuleDefault||(Object.create?function(d,y){Object.defineProperty(d,"default",{enumerable:!0,value:y})}:function(d,y){d.default=y}),u=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var y={};if(d!=null)for(var E in d)E!=="default"&&Object.prototype.hasOwnProperty.call(d,E)&&S(y,d,E);return f(y,d),y},g=this&&this.__awaiter||function(d,y,E,w){function k(V){return V instanceof E?V:new E(function(N){N(V)})}return o(k,"adopt"),new(E||(E=Promise))(function(V,N){function F(O){try{B(w.next(O))}catch(R){N(R)}}o(F,"fulfilled");function P(O){try{B(w.throw(O))}catch(R){N(R)}}o(P,"rejected");function B(O){O.done?V(O.value):k(O.value).then(F,P)}o(B,"step"),B((w=w.apply(d,y||[])).next())})},a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(l,"__esModule",{value:!0});const s=a(h("aZba")),i=a(h("papz")),e=a(h("42jQ")),t=u(h("/AJg")),n=a(h("HbHZ")),r=a(h("OV1w")),c=h("XCDq"),p=a(h("j+uH"));let m=o(class extends p.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return g(this,void 0,void 0,function*(){const y=yield new Promise((E,w)=>{const k=this.context;k.turnCredentials=null;let V=o(class{cancel(){this.signalingClient.removeObserver(this),w(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(B){if(B.type===n.default.WebSocketClosed){if(B.closeCode===4410){k.audioVideoController.handleMeetingSessionStatus(new s.default(i.default.MeetingEnded),new Error("The meeting already ended."));return}this.cancel();return}else if(B.type!==n.default.ReceivedSignalFrame)return;if(B.message.type===c.SdkSignalFrame.Type.JOIN_ACK){const R=B.message.error;if(R){k.audioVideoController.handleMeetingSessionStatus(new s.default(i.default.SignalingBadRequest),new Error(`Received error (status:${R.status}) when joining meeting ${R.description}`)),this.cancel();return}const D=B.message.joinack;if(D&&D.videoSubscriptionLimit&&(k.videoSubscriptionLimit=D.videoSubscriptionLimit),k.serverSupportsCompression=D==null?void 0:D.wantsCompressedSdp,(D==null?void 0:D.defaultServerSideNetworkAdaption)!==void 0&&D.defaultServerSideNetworkAdaption!==t.default.Default&&k.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const J=D.defaultServerSideNetworkAdaption;k.logger.info(`Overriding server side network adaption value to ${J}`),k.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(t.convertServerSideNetworkAdaptionEnumFromSignaled(J))}D&&D.turnCredentials?(k.turnCredentials=new e.default,k.turnCredentials.username=D.turnCredentials.username,k.turnCredentials.password=D.turnCredentials.password,k.turnCredentials.ttl=D.turnCredentials.ttl,k.turnCredentials.uris=D.turnCredentials.uris.map(J=>k.meetingSessionConfiguration.urls.urlRewriter(J)).filter(J=>!!J)):k.logger.error("missing TURN credentials in JoinAckFrame");return}if(B.message.type!==c.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const O=B.message.index;E(O)}constructor(B){this.signalingClient=B}},"IndexFrameInterceptor");const N=new V(this.context.signalingClient);this.context.signalingClient.registerObserver(N),this.taskCanceler=N,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const F=new r.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(F.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),F.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),F.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(F)});this.context.logger.info(`received first index ${JSON.stringify(y)}`),this.context.indexFrame=y})}constructor(y){super(y.logger),this.context=y,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}},"JoinAndReceiveIndexTask");l.default=m},Wjms:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(u,g,a,s){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(p){try{c(s.next(p))}catch(m){t(m)}}o(n,"fulfilled");function r(p){try{c(s.throw(p))}catch(m){t(m)}}o(r,"rejected");function c(p){p.done?e(p.value):i(p.value).then(n,r)}o(c,"step"),c((s=s.apply(u,g||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let f=o(class{process(g){return S(this,void 0,void 0,function*(){return g})}destroy(){return S(this,void 0,void 0,function*(){})}},"NoOpVideoFrameProcessor");l.default=f},Wnnr:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Z/hr"));let u=o(class{makeTile(a,s,i,e){return new f.default(a,s,i,e)}},"DefaultVideoTileFactory");l.default=u},X3Fi:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("K4CH"),u=S(h("59sL"));let g=o(class Fl{getParserResult(){var s,i;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((s=this.parserResult)===null||s===void 0?void 0:s.os.name)||Fl.UNAVAILABLE,osVersion:((i=this.parserResult)===null||i===void 0?void 0:i.os.version)||Fl.UNAVAILABLE,sdkVersion:u.default.sdkVersion,sdkName:u.default.sdkName}}constructor(s){var i,e,t,n,r,c,p;try{this.parserResult=navigator&&navigator.userAgent?new f.UAParser(navigator.userAgent).getResult():void 0}catch(m){s.error(m.message)}this.browserMajorVersion=((t=(e=(i=this.parserResult)===null||i===void 0?void 0:i.browser)===null||e===void 0?void 0:e.version)===null||t===void 0?void 0:t.split(".")[0])||Fl.UNAVAILABLE,this.browserName=((n=this.parserResult)===null||n===void 0?void 0:n.browser.name)||Fl.UNAVAILABLE,this.browserVersion=((r=this.parserResult)===null||r===void 0?void 0:r.browser.version)||Fl.UNAVAILABLE,this.deviceName=[((c=this.parserResult)===null||c===void 0?void 0:c.device.vendor)||"",((p=this.parserResult)===null||p===void 0?void 0:p.device.model)||""].join(" ").trim()||Fl.UNAVAILABLE}},"DefaultUserAgentParser");l.default=g,g.UNAVAILABLE="Unavailable"},X9Jc:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});function S(u){return u.map(g=>typeof g=="object"?JSON.stringify(g):`${g}`).join(" ")}o(S,"stringify");let f=o(class{debug(){for(var g=arguments.length,a=new Array(g),s=0;s<g;s++)a[s]=arguments[s];this.base.debug(S(a))}info(){for(var g=arguments.length,a=new Array(g),s=0;s<g;s++)a[s]=arguments[s];this.base.info(S(a))}warn(){for(var g=arguments.length,a=new Array(g),s=0;s<g;s++)a[s]=arguments[s];this.base.warn(S(a))}error(){for(var g=arguments.length,a=new Array(g),s=0;s<g;s++)a[s]=arguments[s];this.base.error(S(a))}constructor(g){this.base=g}},"LoggerAdapter");l.default=f},XCDq:function(j,l,h){"use strict";var S=h("A4hc"),f=S.Reader,u=S.Writer,g=S.util,a=S.roots.default||(S.roots.default={});a.SdkSignalFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkSignalFrame"),s.prototype.timestampMs=g.Long?g.Long.fromBits(0,0,!0):0,s.prototype.type=1,s.prototype.error=null,s.prototype.join=null,s.prototype.joinack=null,s.prototype.sub=null,s.prototype.suback=null,s.prototype.index=null,s.prototype.pause=null,s.prototype.leave=null,s.prototype.leaveAck=null,s.prototype.bitrates=null,s.prototype.audioControl=null,s.prototype.audioMetadata=null,s.prototype.audioStreamIdInfo=null,s.prototype.pingPong=null,s.prototype.audioStatus=null,s.prototype.clientMetric=null,s.prototype.dataMessage=null,s.prototype.remoteVideoUpdate=null,s.prototype.primaryMeetingJoin=null,s.prototype.primaryMeetingJoinAck=null,s.prototype.primaryMeetingLeave=null,s.prototype.notification=null,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),e.error!=null&&Object.hasOwnProperty.call(e,"error")&&a.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),e.join!=null&&Object.hasOwnProperty.call(e,"join")&&a.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),e.joinack!=null&&Object.hasOwnProperty.call(e,"joinack")&&a.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),e.sub!=null&&Object.hasOwnProperty.call(e,"sub")&&a.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),e.suback!=null&&Object.hasOwnProperty.call(e,"suback")&&a.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&a.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),e.pause!=null&&Object.hasOwnProperty.call(e,"pause")&&a.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),e.leave!=null&&Object.hasOwnProperty.call(e,"leave")&&a.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),e.leaveAck!=null&&Object.hasOwnProperty.call(e,"leaveAck")&&a.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),e.bitrates!=null&&Object.hasOwnProperty.call(e,"bitrates")&&a.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),e.audioControl!=null&&Object.hasOwnProperty.call(e,"audioControl")&&a.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),e.audioMetadata!=null&&Object.hasOwnProperty.call(e,"audioMetadata")&&a.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),e.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&a.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),e.pingPong!=null&&Object.hasOwnProperty.call(e,"pingPong")&&a.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&a.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),e.clientMetric!=null&&Object.hasOwnProperty.call(e,"clientMetric")&&a.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),e.dataMessage!=null&&Object.hasOwnProperty.call(e,"dataMessage")&&a.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),e.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&a.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),e.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&a.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),e.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&a.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),e.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&a.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),e.notification!=null&&Object.hasOwnProperty.call(e,"notification")&&a.SdkNotificationFrame.encode(e.notification,t.uint32(282).fork()).ldelim(),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkSignalFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.timestampMs=e.uint64();break;case 2:r.type=e.int32();break;case 3:r.error=a.SdkErrorFrame.decode(e,e.uint32());break;case 4:r.join=a.SdkJoinFrame.decode(e,e.uint32());break;case 5:r.joinack=a.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:r.sub=a.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:r.suback=a.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:r.index=a.SdkIndexFrame.decode(e,e.uint32());break;case 10:r.pause=a.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:r.leave=a.SdkLeaveFrame.decode(e,e.uint32());break;case 12:r.leaveAck=a.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:r.bitrates=a.SdkBitrateFrame.decode(e,e.uint32());break;case 17:r.audioControl=a.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:r.audioMetadata=a.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:r.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:r.pingPong=a.SdkPingPongFrame.decode(e,e.uint32());break;case 21:r.audioStatus=a.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:r.clientMetric=a.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:r.dataMessage=a.SdkDataMessageFrame.decode(e,e.uint32());break;case 25:r.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break;case 26:r.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break;case 27:r.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break;case 28:r.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break;case 35:r.notification=a.SdkNotificationFrame.decode(e,e.uint32());break;default:e.skipType(c&7);break}}if(!r.hasOwnProperty("timestampMs"))throw g.ProtocolError("missing required 'timestampMs'",{instance:r});if(!r.hasOwnProperty("type"))throw g.ProtocolError("missing required 'type'",{instance:r});return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(!g.isInteger(e.timestampMs)&&!(e.timestampMs&&g.isInteger(e.timestampMs.low)&&g.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 34:break}if(e.error!=null&&e.hasOwnProperty("error")){var t=a.SdkErrorFrame.verify(e.error);if(t)return"error."+t}if(e.join!=null&&e.hasOwnProperty("join")){var t=a.SdkJoinFrame.verify(e.join);if(t)return"join."+t}if(e.joinack!=null&&e.hasOwnProperty("joinack")){var t=a.SdkJoinAckFrame.verify(e.joinack);if(t)return"joinack."+t}if(e.sub!=null&&e.hasOwnProperty("sub")){var t=a.SdkSubscribeFrame.verify(e.sub);if(t)return"sub."+t}if(e.suback!=null&&e.hasOwnProperty("suback")){var t=a.SdkSubscribeAckFrame.verify(e.suback);if(t)return"suback."+t}if(e.index!=null&&e.hasOwnProperty("index")){var t=a.SdkIndexFrame.verify(e.index);if(t)return"index."+t}if(e.pause!=null&&e.hasOwnProperty("pause")){var t=a.SdkPauseResumeFrame.verify(e.pause);if(t)return"pause."+t}if(e.leave!=null&&e.hasOwnProperty("leave")){var t=a.SdkLeaveFrame.verify(e.leave);if(t)return"leave."+t}if(e.leaveAck!=null&&e.hasOwnProperty("leaveAck")){var t=a.SdkLeaveAckFrame.verify(e.leaveAck);if(t)return"leaveAck."+t}if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){var t=a.SdkBitrateFrame.verify(e.bitrates);if(t)return"bitrates."+t}if(e.audioControl!=null&&e.hasOwnProperty("audioControl")){var t=a.SdkAudioControlFrame.verify(e.audioControl);if(t)return"audioControl."+t}if(e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")){var t=a.SdkAudioMetadataFrame.verify(e.audioMetadata);if(t)return"audioMetadata."+t}if(e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")){var t=a.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo);if(t)return"audioStreamIdInfo."+t}if(e.pingPong!=null&&e.hasOwnProperty("pingPong")){var t=a.SdkPingPongFrame.verify(e.pingPong);if(t)return"pingPong."+t}if(e.audioStatus!=null&&e.hasOwnProperty("audioStatus")){var t=a.SdkAudioStatusFrame.verify(e.audioStatus);if(t)return"audioStatus."+t}if(e.clientMetric!=null&&e.hasOwnProperty("clientMetric")){var t=a.SdkClientMetricFrame.verify(e.clientMetric);if(t)return"clientMetric."+t}if(e.dataMessage!=null&&e.hasOwnProperty("dataMessage")){var t=a.SdkDataMessageFrame.verify(e.dataMessage);if(t)return"dataMessage."+t}if(e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")){var t=a.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate);if(t)return"remoteVideoUpdate."+t}if(e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")){var t=a.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin);if(t)return"primaryMeetingJoin."+t}if(e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")){var t=a.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck);if(t)return"primaryMeetingJoinAck."+t}if(e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")){var t=a.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave);if(t)return"primaryMeetingLeave."+t}if(e.notification!=null&&e.hasOwnProperty("notification")){var t=a.SdkNotificationFrame.verify(e.notification);if(t)return"notification."+t}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkSignalFrame)return e;var t=new a.SdkSignalFrame;switch(e.timestampMs!=null&&(g.Long?(t.timestampMs=g.Long.fromValue(e.timestampMs)).unsigned=!0:typeof e.timestampMs=="string"?t.timestampMs=parseInt(e.timestampMs,10):typeof e.timestampMs=="number"?t.timestampMs=e.timestampMs:typeof e.timestampMs=="object"&&(t.timestampMs=new g.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27;break;case"NOTIFICATION":case 34:t.type=34;break}if(e.error!=null){if(typeof e.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");t.error=a.SdkErrorFrame.fromObject(e.error)}if(e.join!=null){if(typeof e.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");t.join=a.SdkJoinFrame.fromObject(e.join)}if(e.joinack!=null){if(typeof e.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=a.SdkJoinAckFrame.fromObject(e.joinack)}if(e.sub!=null){if(typeof e.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=a.SdkSubscribeFrame.fromObject(e.sub)}if(e.suback!=null){if(typeof e.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=a.SdkSubscribeAckFrame.fromObject(e.suback)}if(e.index!=null){if(typeof e.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");t.index=a.SdkIndexFrame.fromObject(e.index)}if(e.pause!=null){if(typeof e.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=a.SdkPauseResumeFrame.fromObject(e.pause)}if(e.leave!=null){if(typeof e.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=a.SdkLeaveFrame.fromObject(e.leave)}if(e.leaveAck!=null){if(typeof e.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=a.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(e.bitrates!=null){if(typeof e.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=a.SdkBitrateFrame.fromObject(e.bitrates)}if(e.audioControl!=null){if(typeof e.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=a.SdkAudioControlFrame.fromObject(e.audioControl)}if(e.audioMetadata!=null){if(typeof e.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=a.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(e.audioStreamIdInfo!=null){if(typeof e.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(e.pingPong!=null){if(typeof e.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=a.SdkPingPongFrame.fromObject(e.pingPong)}if(e.audioStatus!=null){if(typeof e.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=a.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(e.clientMetric!=null){if(typeof e.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=a.SdkClientMetricFrame.fromObject(e.clientMetric)}if(e.dataMessage!=null){if(typeof e.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=a.SdkDataMessageFrame.fromObject(e.dataMessage)}if(e.remoteVideoUpdate!=null){if(typeof e.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(e.primaryMeetingJoin!=null){if(typeof e.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(e.primaryMeetingJoinAck!=null){if(typeof e.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(e.primaryMeetingLeave!=null){if(typeof e.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}if(e.notification!=null){if(typeof e.notification!="object")throw TypeError(".SdkSignalFrame.notification: object expected");t.notification=a.SdkNotificationFrame.fromObject(e.notification)}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(g.Long){var r=new g.Long(0,0,!0);n.timestampMs=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.timestampMs=t.longs===String?"0":0;n.type=t.enums===String?"JOIN":1,n.error=null,n.join=null,n.joinack=null,n.sub=null,n.suback=null,n.index=null,n.pause=null,n.leave=null,n.leaveAck=null,n.bitrates=null,n.audioControl=null,n.audioMetadata=null,n.audioStreamIdInfo=null,n.pingPong=null,n.audioStatus=null,n.clientMetric=null,n.dataMessage=null,n.remoteVideoUpdate=null,n.primaryMeetingJoin=null,n.primaryMeetingJoinAck=null,n.primaryMeetingLeave=null,n.notification=null}return e.timestampMs!=null&&e.hasOwnProperty("timestampMs")&&(typeof e.timestampMs=="number"?n.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:n.timestampMs=t.longs===String?g.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new g.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkSignalFrame.Type[e.type]:e.type),e.error!=null&&e.hasOwnProperty("error")&&(n.error=a.SdkErrorFrame.toObject(e.error,t)),e.join!=null&&e.hasOwnProperty("join")&&(n.join=a.SdkJoinFrame.toObject(e.join,t)),e.joinack!=null&&e.hasOwnProperty("joinack")&&(n.joinack=a.SdkJoinAckFrame.toObject(e.joinack,t)),e.sub!=null&&e.hasOwnProperty("sub")&&(n.sub=a.SdkSubscribeFrame.toObject(e.sub,t)),e.suback!=null&&e.hasOwnProperty("suback")&&(n.suback=a.SdkSubscribeAckFrame.toObject(e.suback,t)),e.index!=null&&e.hasOwnProperty("index")&&(n.index=a.SdkIndexFrame.toObject(e.index,t)),e.pause!=null&&e.hasOwnProperty("pause")&&(n.pause=a.SdkPauseResumeFrame.toObject(e.pause,t)),e.leave!=null&&e.hasOwnProperty("leave")&&(n.leave=a.SdkLeaveFrame.toObject(e.leave,t)),e.leaveAck!=null&&e.hasOwnProperty("leaveAck")&&(n.leaveAck=a.SdkLeaveAckFrame.toObject(e.leaveAck,t)),e.bitrates!=null&&e.hasOwnProperty("bitrates")&&(n.bitrates=a.SdkBitrateFrame.toObject(e.bitrates,t)),e.audioControl!=null&&e.hasOwnProperty("audioControl")&&(n.audioControl=a.SdkAudioControlFrame.toObject(e.audioControl,t)),e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")&&(n.audioMetadata=a.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")&&(n.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),e.pingPong!=null&&e.hasOwnProperty("pingPong")&&(n.pingPong=a.SdkPingPongFrame.toObject(e.pingPong,t)),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=a.SdkAudioStatusFrame.toObject(e.audioStatus,t)),e.clientMetric!=null&&e.hasOwnProperty("clientMetric")&&(n.clientMetric=a.SdkClientMetricFrame.toObject(e.clientMetric,t)),e.dataMessage!=null&&e.hasOwnProperty("dataMessage")&&(n.dataMessage=a.SdkDataMessageFrame.toObject(e.dataMessage,t)),e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")&&(n.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")&&(n.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")&&(n.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")&&(n.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),e.notification!=null&&e.hasOwnProperty("notification")&&(n.notification=a.SdkNotificationFrame.toObject(e.notification,t)),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="JOIN"]=1,e[i[2]="JOIN_ACK"]=2,e[i[3]="SUBSCRIBE"]=3,e[i[4]="SUBSCRIBE_ACK"]=4,e[i[5]="INDEX"]=5,e[i[7]="PAUSE"]=7,e[i[8]="RESUME"]=8,e[i[9]="LEAVE"]=9,e[i[10]="LEAVE_ACK"]=10,e[i[13]="BITRATES"]=13,e[i[16]="AUDIO_CONTROL"]=16,e[i[17]="AUDIO_METADATA"]=17,e[i[18]="AUDIO_STREAM_ID_INFO"]=18,e[i[19]="PING_PONG"]=19,e[i[20]="AUDIO_STATUS"]=20,e[i[21]="CLIENT_METRIC"]=21,e[i[22]="DATA_MESSAGE"]=22,e[i[24]="REMOTE_VIDEO_UPDATE"]=24,e[i[25]="PRIMARY_MEETING_JOIN"]=25,e[i[26]="PRIMARY_MEETING_JOIN_ACK"]=26,e[i[27]="PRIMARY_MEETING_LEAVE"]=27,e[i[34]="NOTIFICATION"]=34,e}(),s}(),a.SdkErrorFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkErrorFrame"),s.prototype.status=0,s.prototype.description="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkErrorFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.status=e.uint32();break;case 2:r.description=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.status!=null&&e.hasOwnProperty("status")&&!g.isInteger(e.status)?"status: integer expected":e.description!=null&&e.hasOwnProperty("description")&&!g.isString(e.description)?"description: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkErrorFrame)return e;var t=new a.SdkErrorFrame;return e.status!=null&&(t.status=e.status>>>0),e.description!=null&&(t.description=String(e.description)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.status=0,n.description=""),e.status!=null&&e.hasOwnProperty("status")&&(n.status=e.status),e.description!=null&&e.hasOwnProperty("description")&&(n.description=e.description),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkJoinFlags=function(){var s={},i=Object.create(s);return i[s[2]="HAS_STREAM_UPDATE"]=2,i[s[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,i[s[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,i}(),a.SdkClientDetails=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkClientDetails"),s.prototype.appName="",s.prototype.appVersion="",s.prototype.deviceModel="",s.prototype.deviceMake="",s.prototype.platformName="",s.prototype.platformVersion="",s.prototype.clientSource="",s.prototype.chimeSdkVersion="",s.prototype.clientUtcOffset="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.appName!=null&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),e.appVersion!=null&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),e.deviceModel!=null&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),e.deviceMake!=null&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),e.platformName!=null&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),e.platformVersion!=null&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),e.clientSource!=null&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),e.chimeSdkVersion!=null&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),e.clientUtcOffset!=null&&Object.hasOwnProperty.call(e,"clientUtcOffset")&&t.uint32(74).string(e.clientUtcOffset),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkClientDetails;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.appName=e.string();break;case 2:r.appVersion=e.string();break;case 3:r.deviceModel=e.string();break;case 4:r.deviceMake=e.string();break;case 5:r.platformName=e.string();break;case 6:r.platformVersion=e.string();break;case 7:r.clientSource=e.string();break;case 8:r.chimeSdkVersion=e.string();break;case 9:r.clientUtcOffset=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.appName!=null&&e.hasOwnProperty("appName")&&!g.isString(e.appName)?"appName: string expected":e.appVersion!=null&&e.hasOwnProperty("appVersion")&&!g.isString(e.appVersion)?"appVersion: string expected":e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&!g.isString(e.deviceModel)?"deviceModel: string expected":e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&!g.isString(e.deviceMake)?"deviceMake: string expected":e.platformName!=null&&e.hasOwnProperty("platformName")&&!g.isString(e.platformName)?"platformName: string expected":e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&!g.isString(e.platformVersion)?"platformVersion: string expected":e.clientSource!=null&&e.hasOwnProperty("clientSource")&&!g.isString(e.clientSource)?"clientSource: string expected":e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&!g.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&!g.isString(e.clientUtcOffset)?"clientUtcOffset: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkClientDetails)return e;var t=new a.SdkClientDetails;return e.appName!=null&&(t.appName=String(e.appName)),e.appVersion!=null&&(t.appVersion=String(e.appVersion)),e.deviceModel!=null&&(t.deviceModel=String(e.deviceModel)),e.deviceMake!=null&&(t.deviceMake=String(e.deviceMake)),e.platformName!=null&&(t.platformName=String(e.platformName)),e.platformVersion!=null&&(t.platformVersion=String(e.platformVersion)),e.clientSource!=null&&(t.clientSource=String(e.clientSource)),e.chimeSdkVersion!=null&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),e.clientUtcOffset!=null&&(t.clientUtcOffset=String(e.clientUtcOffset)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.appName="",n.appVersion="",n.deviceModel="",n.deviceMake="",n.platformName="",n.platformVersion="",n.clientSource="",n.chimeSdkVersion="",n.clientUtcOffset=""),e.appName!=null&&e.hasOwnProperty("appName")&&(n.appName=e.appName),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(n.appVersion=e.appVersion),e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&(n.deviceModel=e.deviceModel),e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&(n.deviceMake=e.deviceMake),e.platformName!=null&&e.hasOwnProperty("platformName")&&(n.platformName=e.platformName),e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&(n.platformVersion=e.platformVersion),e.clientSource!=null&&e.hasOwnProperty("clientSource")&&(n.clientSource=e.clientSource),e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&(n.chimeSdkVersion=e.chimeSdkVersion),e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&(n.clientUtcOffset=e.clientUtcOffset),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkServerSideNetworkAdaption=function(){var s={},i=Object.create(s);return i[s[1]="DEFAULT"]=1,i[s[2]="NONE"]=2,i[s[3]="BANDWIDTH_PROBING"]=3,i[s[4]="BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION"]=4,i}(),a.SdkJoinFrame=function(){function s(i){if(this.supportedServerSideNetworkAdaptions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkJoinFrame"),s.prototype.protocolVersion=2,s.prototype.maxNumOfVideos=0,s.prototype.flags=0,s.prototype.clientDetails=null,s.prototype.audioSessionId=g.Long?g.Long.fromBits(0,0,!0):0,s.prototype.wantsCompressedSdp=!1,s.prototype.serverSideNetworkAdaption=1,s.prototype.supportedServerSideNetworkAdaptions=g.emptyArray,s.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.protocolVersion!=null&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),e.maxNumOfVideos!=null&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),e.clientDetails!=null&&Object.hasOwnProperty.call(e,"clientDetails")&&a.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),e.audioSessionId!=null&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions!=null&&e.supportedServerSideNetworkAdaptions.length)for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[n]);return e.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(e,"disablePeriodicKeyframeRequestOnContentSender")&&t.uint32(104).bool(e.disablePeriodicKeyframeRequestOnContentSender),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkJoinFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.protocolVersion=e.uint32();break;case 2:r.maxNumOfVideos=e.uint32();break;case 3:r.flags=e.uint32();break;case 4:r.clientDetails=a.SdkClientDetails.decode(e,e.uint32());break;case 6:r.audioSessionId=e.uint64();break;case 7:r.wantsCompressedSdp=e.bool();break;case 10:r.serverSideNetworkAdaption=e.int32();break;case 11:if(r.supportedServerSideNetworkAdaptions&&r.supportedServerSideNetworkAdaptions.length||(r.supportedServerSideNetworkAdaptions=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.supportedServerSideNetworkAdaptions.push(e.int32());else r.supportedServerSideNetworkAdaptions.push(e.int32());break;case 13:r.disablePeriodicKeyframeRequestOnContentSender=e.bool();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&!g.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&!g.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(e.flags!=null&&e.hasOwnProperty("flags")&&!g.isInteger(e.flags))return"flags: integer expected";if(e.clientDetails!=null&&e.hasOwnProperty("clientDetails")){var t=a.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&!g.isInteger(e.audioSessionId)&&!(e.audioSessionId&&g.isInteger(e.audioSessionId.low)&&g.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}if(e.supportedServerSideNetworkAdaptions!=null&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:case 4:break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof e.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkJoinFrame)return e;var t=new a.SdkJoinFrame;if(e.protocolVersion!=null&&(t.protocolVersion=e.protocolVersion>>>0),e.maxNumOfVideos!=null&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),e.flags!=null&&(t.flags=e.flags>>>0),e.clientDetails!=null){if(typeof e.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=a.SdkClientDetails.fromObject(e.clientDetails)}switch(e.audioSessionId!=null&&(g.Long?(t.audioSessionId=g.Long.fromValue(e.audioSessionId)).unsigned=!0:typeof e.audioSessionId=="string"?t.audioSessionId=parseInt(e.audioSessionId,10):typeof e.audioSessionId=="number"?t.audioSessionId=e.audioSessionId:typeof e.audioSessionId=="object"&&(t.audioSessionId=new g.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.serverSideNetworkAdaption){case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.serverSideNetworkAdaption=4;break}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[n]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[n]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[n]=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.supportedServerSideNetworkAdaptions[n]=4;break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&(t.disablePeriodicKeyframeRequestOnContentSender=Boolean(e.disablePeriodicKeyframeRequestOnContentSender)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.supportedServerSideNetworkAdaptions=[]),t.defaults){if(n.protocolVersion=2,n.maxNumOfVideos=0,n.flags=0,n.clientDetails=null,g.Long){var r=new g.Long(0,0,!0);n.audioSessionId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.audioSessionId=t.longs===String?"0":0;n.wantsCompressedSdp=!1,n.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1,n.disablePeriodicKeyframeRequestOnContentSender=!1}if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&(n.protocolVersion=e.protocolVersion),e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&(n.maxNumOfVideos=e.maxNumOfVideos),e.flags!=null&&e.hasOwnProperty("flags")&&(n.flags=e.flags),e.clientDetails!=null&&e.hasOwnProperty("clientDetails")&&(n.clientDetails=a.SdkClientDetails.toObject(e.clientDetails,t)),e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&(typeof e.audioSessionId=="number"?n.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:n.audioSessionId=t.longs===String?g.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new g.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption")&&(n.serverSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){n.supportedServerSideNetworkAdaptions=[];for(var c=0;c<e.supportedServerSideNetworkAdaptions.length;++c)n.supportedServerSideNetworkAdaptions[c]=t.enums===String?a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[c]]:e.supportedServerSideNetworkAdaptions[c]}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(n.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkJoinAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkJoinAckFrame"),s.prototype.turnCredentials=null,s.prototype.videoSubscriptionLimit=0,s.prototype.wantsCompressedSdp=!1,s.prototype.defaultServerSideNetworkAdaption=1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.turnCredentials!=null&&Object.hasOwnProperty.call(e,"turnCredentials")&&a.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),e.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkJoinAckFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.turnCredentials=a.SdkTurnCredentials.decode(e,e.uint32());break;case 2:r.videoSubscriptionLimit=e.uint32();break;case 3:r.wantsCompressedSdp=e.bool();break;case 4:r.defaultServerSideNetworkAdaption=e.int32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")){var t=a.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&!g.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkJoinAckFrame)return e;var t=new a.SdkJoinAckFrame;if(e.turnCredentials!=null){if(typeof e.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=a.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(e.videoSubscriptionLimit!=null&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.defaultServerSideNetworkAdaption=4;break}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.turnCredentials=null,n.videoSubscriptionLimit=0,n.wantsCompressedSdp=!1,n.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")&&(n.turnCredentials=a.SdkTurnCredentials.toObject(e.turnCredentials,t)),e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&(n.videoSubscriptionLimit=e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(n.defaultServerSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkLeaveFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkLeaveFrame"),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkLeaveFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=o(function(e){return e instanceof a.SdkLeaveFrame?e:new a.SdkLeaveFrame},"fromObject"),s.toObject=o(function(){return{}},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkLeaveAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkLeaveAckFrame"),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkLeaveAckFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=o(function(e){return e instanceof a.SdkLeaveAckFrame?e:new a.SdkLeaveAckFrame},"fromObject"),s.toObject=o(function(){return{}},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkStreamServiceType=function(){var s={},i=Object.create(s);return i[s[1]="RX"]=1,i[s[2]="TX"]=2,i[s[3]="DUPLEX"]=3,i}(),a.SdkStreamMediaType=function(){var s={},i=Object.create(s);return i[s[1]="AUDIO"]=1,i[s[2]="VIDEO"]=2,i}(),a.SdkSubscribeFrame=function(){function s(i){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkSubscribeFrame"),s.prototype.duplex=1,s.prototype.sendStreams=g.emptyArray,s.prototype.receiveStreamIds=g.emptyArray,s.prototype.sdpOffer="",s.prototype.audioHost="",s.prototype.audioCheckin=!1,s.prototype.audioMuted=!1,s.prototype.compressedSdpOffer=g.newBuffer([]),s.prototype.videoSubscriptionConfiguration=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.sendStreams!=null&&e.sendStreams.length)for(var n=0;n<e.sendStreams.length;++n)a.SdkStreamDescriptor.encode(e.sendStreams[n],t.uint32(18).fork()).ldelim();if(e.receiveStreamIds!=null&&e.receiveStreamIds.length)for(var n=0;n<e.receiveStreamIds.length;++n)t.uint32(24).uint32(e.receiveStreamIds[n]);if(e.sdpOffer!=null&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),e.audioHost!=null&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),e.audioCheckin!=null&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),e.audioMuted!=null&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),e.compressedSdpOffer!=null&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),e.videoSubscriptionConfiguration!=null&&e.videoSubscriptionConfiguration.length)for(var n=0;n<e.videoSubscriptionConfiguration.length;++n)a.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[n],t.uint32(74).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkSubscribeFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.duplex=e.int32();break;case 2:r.sendStreams&&r.sendStreams.length||(r.sendStreams=[]),r.sendStreams.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(r.receiveStreamIds&&r.receiveStreamIds.length||(r.receiveStreamIds=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.receiveStreamIds.push(e.uint32());else r.receiveStreamIds.push(e.uint32());break;case 4:r.sdpOffer=e.string();break;case 5:r.audioHost=e.string();break;case 6:r.audioCheckin=e.bool();break;case 7:r.audioMuted=e.bool();break;case 8:r.compressedSdpOffer=e.bytes();break;case 9:r.videoSubscriptionConfiguration&&r.videoSubscriptionConfiguration.length||(r.videoSubscriptionConfiguration=[]),r.videoSubscriptionConfiguration.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.sendStreams!=null&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){var n=a.SdkStreamDescriptor.verify(e.sendStreams[t]);if(n)return"sendStreams."+n}}if(e.receiveStreamIds!=null&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(var t=0;t<e.receiveStreamIds.length;++t)if(!g.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&!g.isString(e.sdpOffer))return"sdpOffer: string expected";if(e.audioHost!=null&&e.hasOwnProperty("audioHost")&&!g.isString(e.audioHost))return"audioHost: string expected";if(e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&typeof e.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&typeof e.audioMuted!="boolean")return"audioMuted: boolean expected";if(e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&typeof e.compressedSdpOffer.length=="number"||g.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(e.videoSubscriptionConfiguration!=null&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var t=0;t<e.videoSubscriptionConfiguration.length;++t){var n=a.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]);if(n)return"videoSubscriptionConfiguration."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkSubscribeFrame)return e;var t=new a.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var n=0;n<e.sendStreams.length;++n){if(typeof e.sendStreams[n]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[n]=a.SdkStreamDescriptor.fromObject(e.sendStreams[n])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(var n=0;n<e.receiveStreamIds.length;++n)t.receiveStreamIds[n]=e.receiveStreamIds[n]>>>0}if(e.sdpOffer!=null&&(t.sdpOffer=String(e.sdpOffer)),e.audioHost!=null&&(t.audioHost=String(e.audioHost)),e.audioCheckin!=null&&(t.audioCheckin=Boolean(e.audioCheckin)),e.audioMuted!=null&&(t.audioMuted=Boolean(e.audioMuted)),e.compressedSdpOffer!=null&&(typeof e.compressedSdpOffer=="string"?g.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=g.newBuffer(g.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");t.videoSubscriptionConfiguration=[];for(var n=0;n<e.videoSubscriptionConfiguration.length;++n){if(typeof e.videoSubscriptionConfiguration[n]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[n]=a.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sendStreams=[],n.receiveStreamIds=[],n.videoSubscriptionConfiguration=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpOffer="",n.audioHost="",n.audioCheckin=!1,n.audioMuted=!1,t.bytes===String?n.compressedSdpOffer="":(n.compressedSdpOffer=[],t.bytes!==Array&&(n.compressedSdpOffer=g.newBuffer(n.compressedSdpOffer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){n.sendStreams=[];for(var r=0;r<e.sendStreams.length;++r)n.sendStreams[r]=a.SdkStreamDescriptor.toObject(e.sendStreams[r],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){n.receiveStreamIds=[];for(var r=0;r<e.receiveStreamIds.length;++r)n.receiveStreamIds[r]=e.receiveStreamIds[r]}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&(n.sdpOffer=e.sdpOffer),e.audioHost!=null&&e.hasOwnProperty("audioHost")&&(n.audioHost=e.audioHost),e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&(n.audioCheckin=e.audioCheckin),e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&(n.audioMuted=e.audioMuted),e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&(n.compressedSdpOffer=t.bytes===String?g.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length){n.videoSubscriptionConfiguration=[];for(var r=0;r<e.videoSubscriptionConfiguration.length;++r)n.videoSubscriptionConfiguration[r]=a.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkSubscribeAckFrame=function(){function s(i){if(this.allocations=[],this.tracks=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkSubscribeAckFrame"),s.prototype.duplex=1,s.prototype.allocations=g.emptyArray,s.prototype.sdpAnswer="",s.prototype.tracks=g.emptyArray,s.prototype.compressedSdpAnswer=g.newBuffer([]),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.allocations!=null&&e.allocations.length)for(var n=0;n<e.allocations.length;++n)a.SdkStreamAllocation.encode(e.allocations[n],t.uint32(18).fork()).ldelim();if(e.sdpAnswer!=null&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),e.tracks!=null&&e.tracks.length)for(var n=0;n<e.tracks.length;++n)a.SdkTrackMapping.encode(e.tracks[n],t.uint32(34).fork()).ldelim();return e.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkSubscribeAckFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.duplex=e.int32();break;case 2:r.allocations&&r.allocations.length||(r.allocations=[]),r.allocations.push(a.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:r.sdpAnswer=e.string();break;case 4:r.tracks&&r.tracks.length||(r.tracks=[]),r.tracks.push(a.SdkTrackMapping.decode(e,e.uint32()));break;case 5:r.compressedSdpAnswer=e.bytes();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.allocations!=null&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){var n=a.SdkStreamAllocation.verify(e.allocations[t]);if(n)return"allocations."+n}}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&!g.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(e.tracks!=null&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(var t=0;t<e.tracks.length;++t){var n=a.SdkTrackMapping.verify(e.tracks[t]);if(n)return"tracks."+n}}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&typeof e.compressedSdpAnswer.length=="number"||g.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkSubscribeAckFrame)return e;var t=new a.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var n=0;n<e.allocations.length;++n){if(typeof e.allocations[n]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[n]=a.SdkStreamAllocation.fromObject(e.allocations[n])}}if(e.sdpAnswer!=null&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(var n=0;n<e.tracks.length;++n){if(typeof e.tracks[n]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[n]=a.SdkTrackMapping.fromObject(e.tracks[n])}}return e.compressedSdpAnswer!=null&&(typeof e.compressedSdpAnswer=="string"?g.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=g.newBuffer(g.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.allocations=[],n.tracks=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpAnswer="",t.bytes===String?n.compressedSdpAnswer="":(n.compressedSdpAnswer=[],t.bytes!==Array&&(n.compressedSdpAnswer=g.newBuffer(n.compressedSdpAnswer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){n.allocations=[];for(var r=0;r<e.allocations.length;++r)n.allocations[r]=a.SdkStreamAllocation.toObject(e.allocations[r],t)}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&(n.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){n.tracks=[];for(var r=0;r<e.tracks.length;++r)n.tracks[r]=a.SdkTrackMapping.toObject(e.tracks[r],t)}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&(n.compressedSdpAnswer=t.bytes===String?g.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkIndexFrame=function(){function s(i){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkIndexFrame"),s.prototype.atCapacity=!1,s.prototype.sources=g.emptyArray,s.prototype.pausedAtSourceIds=g.emptyArray,s.prototype.numParticipants=0,s.prototype.supportedReceiveCodecIntersection=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.atCapacity!=null&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),e.sources!=null&&e.sources.length)for(var n=0;n<e.sources.length;++n)a.SdkStreamDescriptor.encode(e.sources[n],t.uint32(18).fork()).ldelim();if(e.pausedAtSourceIds!=null&&e.pausedAtSourceIds.length)for(var n=0;n<e.pausedAtSourceIds.length;++n)t.uint32(24).uint32(e.pausedAtSourceIds[n]);if(e.numParticipants!=null&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),e.supportedReceiveCodecIntersection!=null&&e.supportedReceiveCodecIntersection.length)for(var n=0;n<e.supportedReceiveCodecIntersection.length;++n)t.uint32(40).int32(e.supportedReceiveCodecIntersection[n]);return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkIndexFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.atCapacity=e.bool();break;case 2:r.sources&&r.sources.length||(r.sources=[]),r.sources.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(r.pausedAtSourceIds&&r.pausedAtSourceIds.length||(r.pausedAtSourceIds=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.pausedAtSourceIds.push(e.uint32());else r.pausedAtSourceIds.push(e.uint32());break;case 4:r.numParticipants=e.uint32();break;case 5:if(r.supportedReceiveCodecIntersection&&r.supportedReceiveCodecIntersection.length||(r.supportedReceiveCodecIntersection=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.supportedReceiveCodecIntersection.push(e.int32());else r.supportedReceiveCodecIntersection.push(e.int32());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&typeof e.atCapacity!="boolean")return"atCapacity: boolean expected";if(e.sources!=null&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var n=a.SdkStreamDescriptor.verify(e.sources[t]);if(n)return"sources."+n}}if(e.pausedAtSourceIds!=null&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var t=0;t<e.pausedAtSourceIds.length;++t)if(!g.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&!g.isInteger(e.numParticipants))return"numParticipants: integer expected";if(e.supportedReceiveCodecIntersection!=null&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 3:break}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkIndexFrame)return e;var t=new a.SdkIndexFrame;if(e.atCapacity!=null&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var n=0;n<e.sources.length;++n){if(typeof e.sources[n]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[n]=a.SdkStreamDescriptor.fromObject(e.sources[n])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(var n=0;n<e.pausedAtSourceIds.length;++n)t.pausedAtSourceIds[n]=e.pausedAtSourceIds[n]>>>0}if(e.numParticipants!=null&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");t.supportedReceiveCodecIntersection=[];for(var n=0;n<e.supportedReceiveCodecIntersection.length;++n)switch(e.supportedReceiveCodecIntersection[n]){default:case"VP8":case 1:t.supportedReceiveCodecIntersection[n]=1;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[n]=3;break}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sources=[],n.pausedAtSourceIds=[],n.supportedReceiveCodecIntersection=[]),t.defaults&&(n.atCapacity=!1,n.numParticipants=0),e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&(n.atCapacity=e.atCapacity),e.sources&&e.sources.length){n.sources=[];for(var r=0;r<e.sources.length;++r)n.sources[r]=a.SdkStreamDescriptor.toObject(e.sources[r],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){n.pausedAtSourceIds=[];for(var r=0;r<e.pausedAtSourceIds.length;++r)n.pausedAtSourceIds[r]=e.pausedAtSourceIds[r]}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&(n.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length){n.supportedReceiveCodecIntersection=[];for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)n.supportedReceiveCodecIntersection[r]=t.enums===String?a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[r]]:e.supportedReceiveCodecIntersection[r]}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkPauseResumeFrame=function(){function s(i){if(this.streamIds=[],this.groupIds=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPauseResumeFrame"),s.prototype.streamIds=g.emptyArray,s.prototype.groupIds=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.streamIds!=null&&e.streamIds.length)for(var n=0;n<e.streamIds.length;++n)t.uint32(8).uint32(e.streamIds[n]);if(e.groupIds!=null&&e.groupIds.length)for(var n=0;n<e.groupIds.length;++n)t.uint32(16).uint32(e.groupIds[n]);return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPauseResumeFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:if(r.streamIds&&r.streamIds.length||(r.streamIds=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.streamIds.push(e.uint32());else r.streamIds.push(e.uint32());break;case 2:if(r.groupIds&&r.groupIds.length||(r.groupIds=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.groupIds.push(e.uint32());else r.groupIds.push(e.uint32());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamIds!=null&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!g.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(e.groupIds!=null&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(var t=0;t<e.groupIds.length;++t)if(!g.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkPauseResumeFrame)return e;var t=new a.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var n=0;n<e.streamIds.length;++n)t.streamIds[n]=e.streamIds[n]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");t.groupIds=[];for(var n=0;n<e.groupIds.length;++n)t.groupIds[n]=e.groupIds[n]>>>0}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streamIds=[],n.groupIds=[]),e.streamIds&&e.streamIds.length){n.streamIds=[];for(var r=0;r<e.streamIds.length;++r)n.streamIds[r]=e.streamIds[r]}if(e.groupIds&&e.groupIds.length){n.groupIds=[];for(var r=0;r<e.groupIds.length;++r)n.groupIds[r]=e.groupIds[r]}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkBitrateFrame=function(){function s(i){if(this.bitrates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkBitrateFrame"),s.prototype.bitrates=g.emptyArray,s.prototype.serverAvailableOutgoingBitrate=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.bitrates!=null&&e.bitrates.length)for(var n=0;n<e.bitrates.length;++n)a.SdkBitrate.encode(e.bitrates[n],t.uint32(10).fork()).ldelim();return e.serverAvailableOutgoingBitrate!=null&&Object.hasOwnProperty.call(e,"serverAvailableOutgoingBitrate")&&t.uint32(16).uint32(e.serverAvailableOutgoingBitrate),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkBitrateFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.bitrates&&r.bitrates.length||(r.bitrates=[]),r.bitrates.push(a.SdkBitrate.decode(e,e.uint32()));break;case 2:r.serverAvailableOutgoingBitrate=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var n=a.SdkBitrate.verify(e.bitrates[t]);if(n)return"bitrates."+n}}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&!g.isInteger(e.serverAvailableOutgoingBitrate)?"serverAvailableOutgoingBitrate: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkBitrateFrame)return e;var t=new a.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var n=0;n<e.bitrates.length;++n){if(typeof e.bitrates[n]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[n]=a.SdkBitrate.fromObject(e.bitrates[n])}}return e.serverAvailableOutgoingBitrate!=null&&(t.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bitrates=[]),t.defaults&&(n.serverAvailableOutgoingBitrate=0),e.bitrates&&e.bitrates.length){n.bitrates=[];for(var r=0;r<e.bitrates.length;++r)n.bitrates[r]=a.SdkBitrate.toObject(e.bitrates[r],t)}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&(n.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkStreamDescriptor=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkStreamDescriptor"),s.prototype.streamId=0,s.prototype.framerate=0,s.prototype.maxBitrateKbps=0,s.prototype.trackLabel="",s.prototype.groupId=0,s.prototype.avgBitrateBps=0,s.prototype.attendeeId="",s.prototype.mediaType=1,s.prototype.externalUserId="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.framerate!=null&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),e.maxBitrateKbps!=null&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkStreamDescriptor;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.streamId=e.uint32();break;case 2:r.framerate=e.uint32();break;case 3:r.maxBitrateKbps=e.uint32();break;case 4:r.trackLabel=e.string();break;case 6:r.groupId=e.uint32();break;case 7:r.avgBitrateBps=e.uint32();break;case 8:r.attendeeId=e.string();break;case 9:r.mediaType=e.int32();break;case 10:r.externalUserId=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId))return"streamId: integer expected";if(e.framerate!=null&&e.hasOwnProperty("framerate")&&!g.isInteger(e.framerate))return"framerate: integer expected";if(e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&!g.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!g.isString(e.trackLabel))return"trackLabel: string expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!g.isInteger(e.groupId))return"groupId: integer expected";if(e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!g.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!g.isString(e.attendeeId))return"attendeeId: string expected";if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!g.isString(e.externalUserId)?"externalUserId: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkStreamDescriptor)return e;var t=new a.SdkStreamDescriptor;switch(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.framerate!=null&&(t.framerate=e.framerate>>>0),e.maxBitrateKbps!=null&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.framerate=0,n.maxBitrateKbps=0,n.trackLabel="",n.groupId=0,n.avgBitrateBps=0,n.attendeeId="",n.mediaType=t.enums===String?"AUDIO":1,n.externalUserId=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.framerate!=null&&e.hasOwnProperty("framerate")&&(n.framerate=e.framerate),e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&(n.maxBitrateKbps=e.maxBitrateKbps),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(n.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]:e.mediaType),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkStreamAllocation=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkStreamAllocation"),s.prototype.trackLabel="",s.prototype.streamId=0,s.prototype.groupId=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkStreamAllocation;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.trackLabel=e.string();break;case 2:r.streamId=e.uint32();break;case 3:r.groupId=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!g.isString(e.trackLabel)?"trackLabel: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId)?"streamId: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!g.isInteger(e.groupId)?"groupId: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkStreamAllocation)return e;var t=new a.SdkStreamAllocation;return e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.trackLabel="",n.streamId=0,n.groupId=0),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTrackMapping=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTrackMapping"),s.prototype.streamId=0,s.prototype.ssrc=0,s.prototype.trackLabel="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.ssrc!=null&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTrackMapping;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.streamId=e.uint32();break;case 2:r.ssrc=e.uint32();break;case 3:r.trackLabel=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId)?"streamId: integer expected":e.ssrc!=null&&e.hasOwnProperty("ssrc")&&!g.isInteger(e.ssrc)?"ssrc: integer expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!g.isString(e.trackLabel)?"trackLabel: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTrackMapping)return e;var t=new a.SdkTrackMapping;return e.streamId!=null&&(t.streamId=e.streamId>>>0),e.ssrc!=null&&(t.ssrc=e.ssrc>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.ssrc=0,n.trackLabel=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.ssrc!=null&&e.hasOwnProperty("ssrc")&&(n.ssrc=e.ssrc),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkBitrate=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkBitrate"),s.prototype.sourceStreamId=0,s.prototype.avgBitrateBps=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.sourceStreamId!=null&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkBitrate;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.sourceStreamId=e.uint32();break;case 2:r.avgBitrateBps=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&!g.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!g.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkBitrate)return e;var t=new a.SdkBitrate;return e.sourceStreamId!=null&&(t.sourceStreamId=e.sourceStreamId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.sourceStreamId=0,n.avgBitrateBps=0),e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&(n.sourceStreamId=e.sourceStreamId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioControlFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioControlFrame"),s.prototype.muted=!1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioControlFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.muted=e.bool();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioControlFrame)return e;var t=new a.SdkAudioControlFrame;return e.muted!=null&&(t.muted=Boolean(e.muted)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.muted=!1),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioMetadataFrame=function(){function s(i){if(this.attendeeStates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioMetadataFrame"),s.prototype.attendeeStates=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.attendeeStates!=null&&e.attendeeStates.length)for(var n=0;n<e.attendeeStates.length;++n)a.SdkAudioAttendeeState.encode(e.attendeeStates[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioMetadataFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.attendeeStates&&r.attendeeStates.length||(r.attendeeStates=[]),r.attendeeStates.push(a.SdkAudioAttendeeState.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.attendeeStates!=null&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var n=a.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(n)return"attendeeStates."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioMetadataFrame)return e;var t=new a.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var n=0;n<e.attendeeStates.length;++n){if(typeof e.attendeeStates[n]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[n]=a.SdkAudioAttendeeState.fromObject(e.attendeeStates[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){n.attendeeStates=[];for(var r=0;r<e.attendeeStates.length;++r)n.attendeeStates[r]=a.SdkAudioAttendeeState.toObject(e.attendeeStates[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioAttendeeState=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioAttendeeState"),s.prototype.audioStreamId=0,s.prototype.volume=0,s.prototype.muted=!1,s.prototype.signalStrength=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.volume!=null&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.signalStrength!=null&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioAttendeeState;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.audioStreamId=e.uint32();break;case 2:r.volume=e.uint32();break;case 3:r.muted=e.bool();break;case 4:r.signalStrength=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!g.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.volume!=null&&e.hasOwnProperty("volume")&&!g.isInteger(e.volume)?"volume: integer expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&!g.isInteger(e.signalStrength)?"signalStrength: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioAttendeeState)return e;var t=new a.SdkAudioAttendeeState;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.volume!=null&&(t.volume=e.volume>>>0),e.muted!=null&&(t.muted=Boolean(e.muted)),e.signalStrength!=null&&(t.signalStrength=e.signalStrength>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.volume=0,n.muted=!1,n.signalStrength=0),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),e.volume!=null&&e.hasOwnProperty("volume")&&(n.volume=e.volume),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&(n.signalStrength=e.signalStrength),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioStreamIdInfoFrame=function(){function s(i){if(this.streams=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioStreamIdInfoFrame"),s.prototype.streams=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.streams!=null&&e.streams.length)for(var n=0;n<e.streams.length;++n)a.SdkAudioStreamIdInfo.encode(e.streams[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioStreamIdInfoFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.streams&&r.streams.length||(r.streams=[]),r.streams.push(a.SdkAudioStreamIdInfo.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streams!=null&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var n=a.SdkAudioStreamIdInfo.verify(e.streams[t]);if(n)return"streams."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioStreamIdInfoFrame)return e;var t=new a.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var n=0;n<e.streams.length;++n){if(typeof e.streams[n]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[n]=a.SdkAudioStreamIdInfo.fromObject(e.streams[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streams=[]),e.streams&&e.streams.length){n.streams=[];for(var r=0;r<e.streams.length;++r)n.streams[r]=a.SdkAudioStreamIdInfo.toObject(e.streams[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioStreamIdInfo=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioStreamIdInfo"),s.prototype.audioStreamId=0,s.prototype.attendeeId="",s.prototype.muted=!1,s.prototype.externalUserId="",s.prototype.dropped=!1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),e.dropped!=null&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioStreamIdInfo;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.audioStreamId=e.uint32();break;case 2:r.attendeeId=e.string();break;case 3:r.muted=e.bool();break;case 4:r.externalUserId=e.string();break;case 5:r.dropped=e.bool();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!g.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!g.isString(e.attendeeId)?"attendeeId: string expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!g.isString(e.externalUserId)?"externalUserId: string expected":e.dropped!=null&&e.hasOwnProperty("dropped")&&typeof e.dropped!="boolean"?"dropped: boolean expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioStreamIdInfo)return e;var t=new a.SdkAudioStreamIdInfo;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.muted!=null&&(t.muted=Boolean(e.muted)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.dropped!=null&&(t.dropped=Boolean(e.dropped)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.attendeeId="",n.muted=!1,n.externalUserId="",n.dropped=!1),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),e.dropped!=null&&e.hasOwnProperty("dropped")&&(n.dropped=e.dropped),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkPingPongType=function(){var s={},i=Object.create(s);return i[s[1]="PING"]=1,i[s[2]="PONG"]=2,i}(),a.SdkPingPongFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPingPongFrame"),s.prototype.type=1,s.prototype.pingId=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPingPongFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.type=e.int32();break;case 2:r.pingId=e.uint32();break;default:e.skipType(c&7);break}}if(!r.hasOwnProperty("type"))throw g.ProtocolError("missing required 'type'",{instance:r});if(!r.hasOwnProperty("pingId"))throw g.ProtocolError("missing required 'pingId'",{instance:r});return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return g.isInteger(e.pingId)?null:"pingId: integer expected"},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkPingPongFrame)return e;var t=new a.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2;break}return e.pingId!=null&&(t.pingId=e.pingId>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"PING":1,n.pingId=0),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkPingPongType[e.type]:e.type),e.pingId!=null&&e.hasOwnProperty("pingId")&&(n.pingId=e.pingId),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioStatusFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioStatusFrame"),s.prototype.audioStatus=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioStatusFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.audioStatus=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&!g.isInteger(e.audioStatus)?"audioStatus: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioStatusFrame)return e;var t=new a.SdkAudioStatusFrame;return e.audioStatus!=null&&(t.audioStatus=e.audioStatus>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStatus=0),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=e.audioStatus),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkMetric=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkMetric"),s.prototype.type=1,s.prototype.value=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkMetric;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.type=e.int32();break;case 2:r.value=e.double();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:break}return e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkMetric)return e;var t=new a.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89;break;case"VIDEO_FREEZE_DURATION":case 91:t.type=91;break;case"VIDEO_PAUSE_COUNT":case 92:t.type=92;break;case"VIDEO_PAUSE_DURATION":case 93:t.type=93;break;case"VIDEO_QUALITY_REASON":case 94:t.type=94;break;case"VIDEO_PROCESSING_TIME":case 95:t.type=95;break;case"RTC_SPK_AUDIO_LEVEL":case 96:t.type=96;break;case"RTC_MIC_AUDIO_LEVEL":case 97:t.type=97;case"RTC_SPK_TOTAL_LOST":case 98:t.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:t.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:t.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:t.type=101;break;case"RTC_SPK_TOTAL_LOST":case 98:t.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:t.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:t.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:t.type=101;break;case"VIDEO_QUALITY_LIMITATION_DURATION_CPU":case 102:t.type=102;break}return e.value!=null&&(t.value=Number(e.value)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,n.value=0),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkMetric.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,e[i[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,e[i[3]="VIDEO_RETRANSMIT_BITRATE"]=3,e[i[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,e[i[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,e[i[6]="VIDEO_BUCKET_DELAY_MS"]=6,e[i[7]="STUN_RTT_MS"]=7,e[i[8]="SOCKET_DISCARDED_PPS"]=8,e[i[9]="RTC_MIC_JITTER_MS"]=9,e[i[10]="RTC_MIC_PPS"]=10,e[i[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,e[i[12]="RTC_MIC_BITRATE"]=12,e[i[13]="RTC_MIC_RTT_MS"]=13,e[i[14]="RTC_SPK_PPS"]=14,e[i[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,e[i[16]="RTC_SPK_JITTER_MS"]=16,e[i[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,e[i[18]="RTC_SPK_BITRATE"]=18,e[i[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,e[i[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,e[i[21]="VIDEO_SENT_RTT_MS"]=21,e[i[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,e[i[23]="VIDEO_NACKS_RECEIVED"]=23,e[i[24]="VIDEO_PLIS_RECEIVED"]=24,e[i[25]="VIDEO_ENCODE_MS"]=25,e[i[26]="VIDEO_INPUT_FPS"]=26,e[i[27]="VIDEO_ENCODE_FPS"]=27,e[i[28]="VIDEO_SENT_FPS"]=28,e[i[29]="VIDEO_FIRS_RECEIVED"]=29,e[i[30]="VIDEO_SENT_PPS"]=30,e[i[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,e[i[32]="VIDEO_SENT_BITRATE"]=32,e[i[33]="VIDEO_DROPPED_FPS"]=33,e[i[34]="VIDEO_TARGET_DELAY_MS"]=34,e[i[35]="VIDEO_DECODE_MS"]=35,e[i[36]="VIDEO_OUTPUT_FPS"]=36,e[i[37]="VIDEO_RECEIVED_PPS"]=37,e[i[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,e[i[39]="VIDEO_RENDER_DELAY_MS"]=39,e[i[40]="VIDEO_RECEIVED_FPS"]=40,e[i[41]="VIDEO_DECODE_FPS"]=41,e[i[42]="VIDEO_NACKS_SENT"]=42,e[i[43]="VIDEO_FIRS_SENT"]=43,e[i[44]="VIDEO_RECEIVED_BITRATE"]=44,e[i[45]="VIDEO_CURRENT_DELAY_MS"]=45,e[i[46]="VIDEO_JITTER_BUFFER_MS"]=46,e[i[47]="VIDEO_DISCARDED_PPS"]=47,e[i[48]="VIDEO_PLIS_SENT"]=48,e[i[49]="VIDEO_RECEIVED_JITTER_MS"]=49,e[i[64]="VIDEO_ENCODE_HEIGHT"]=64,e[i[66]="VIDEO_SENT_QP_SUM"]=66,e[i[69]="VIDEO_DECODE_HEIGHT"]=69,e[i[72]="VIDEO_RECEIVED_QP_SUM"]=72,e[i[86]="VIDEO_ENCODE_WIDTH"]=86,e[i[87]="VIDEO_DECODE_WIDTH"]=87,e[i[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,e[i[89]="VIDEO_DECODER_IS_HARDWARE"]=89,e[i[90]="VIDEO_FREEZE_COUNT"]=90,e[i[91]="VIDEO_FREEZE_DURATION"]=91,e[i[92]="VIDEO_PAUSE_COUNT"]=92,e[i[93]="VIDEO_PAUSE_DURATION"]=93,e[i[94]="VIDEO_QUALITY_REASON"]=94,e[i[95]="VIDEO_PROCESSING_TIME"]=95,e[i[96]="RTC_SPK_AUDIO_LEVEL"]=96,e[i[97]="RTC_MIC_AUDIO_LEVEL"]=97,e[i[98]="RTC_SPK_TOTAL_LOST"]=98,e[i[99]="RTC_SPK_TOTAL_EXPECTED"]=99,e[i[100]="RTC_SPK_TOTAL_RECOVERED_RED"]=100,e[i[101]="RTC_SPK_TOTAL_RECOVERED_FEC"]=101,e[i[102]="VIDEO_QUALITY_LIMITATION_DURATION_CPU"]=102,e}(),s}(),a.SdkStreamMetricFrame=function(){function s(i){if(this.metrics=[],this.dimensions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkStreamMetricFrame"),s.prototype.streamId=0,s.prototype.groupId=0,s.prototype.metrics=g.emptyArray,s.prototype.dimensions=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),e.metrics!=null&&e.metrics.length)for(var n=0;n<e.metrics.length;++n)a.SdkMetric.encode(e.metrics[n],t.uint32(42).fork()).ldelim();if(e.dimensions!=null&&e.dimensions.length)for(var n=0;n<e.dimensions.length;++n)a.SdkStreamDimension.encode(e.dimensions[n],t.uint32(50).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkStreamMetricFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 3:r.streamId=e.uint32();break;case 4:r.groupId=e.uint32();break;case 5:r.metrics&&r.metrics.length||(r.metrics=[]),r.metrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 6:r.dimensions&&r.dimensions.length||(r.dimensions=[]),r.dimensions.push(a.SdkStreamDimension.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId))return"streamId: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!g.isInteger(e.groupId))return"groupId: integer expected";if(e.metrics!=null&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var n=a.SdkMetric.verify(e.metrics[t]);if(n)return"metrics."+n}}if(e.dimensions!=null&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(var t=0;t<e.dimensions.length;++t){var n=a.SdkStreamDimension.verify(e.dimensions[t]);if(n)return"dimensions."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkStreamMetricFrame)return e;var t=new a.SdkStreamMetricFrame;if(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var n=0;n<e.metrics.length;++n){if(typeof e.metrics[n]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[n]=a.SdkMetric.fromObject(e.metrics[n])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");t.dimensions=[];for(var n=0;n<e.dimensions.length;++n){if(typeof e.dimensions[n]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[n]=a.SdkStreamDimension.fromObject(e.dimensions[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metrics=[],n.dimensions=[]),t.defaults&&(n.streamId=0,n.groupId=0),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.metrics&&e.metrics.length){n.metrics=[];for(var r=0;r<e.metrics.length;++r)n.metrics[r]=a.SdkMetric.toObject(e.metrics[r],t)}if(e.dimensions&&e.dimensions.length){n.dimensions=[];for(var r=0;r<e.dimensions.length;++r)n.dimensions[r]=a.SdkStreamDimension.toObject(e.dimensions[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkClientMetricFrame=function(){function s(i){if(this.globalMetrics=[],this.streamMetricFrames=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkClientMetricFrame"),s.prototype.globalMetrics=g.emptyArray,s.prototype.streamMetricFrames=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.globalMetrics!=null&&e.globalMetrics.length)for(var n=0;n<e.globalMetrics.length;++n)a.SdkMetric.encode(e.globalMetrics[n],t.uint32(10).fork()).ldelim();if(e.streamMetricFrames!=null&&e.streamMetricFrames.length)for(var n=0;n<e.streamMetricFrames.length;++n)a.SdkStreamMetricFrame.encode(e.streamMetricFrames[n],t.uint32(18).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkClientMetricFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.globalMetrics&&r.globalMetrics.length||(r.globalMetrics=[]),r.globalMetrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 2:r.streamMetricFrames&&r.streamMetricFrames.length||(r.streamMetricFrames=[]),r.streamMetricFrames.push(a.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.globalMetrics!=null&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){var n=a.SdkMetric.verify(e.globalMetrics[t]);if(n)return"globalMetrics."+n}}if(e.streamMetricFrames!=null&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(var t=0;t<e.streamMetricFrames.length;++t){var n=a.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]);if(n)return"streamMetricFrames."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkClientMetricFrame)return e;var t=new a.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var n=0;n<e.globalMetrics.length;++n){if(typeof e.globalMetrics[n]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[n]=a.SdkMetric.fromObject(e.globalMetrics[n])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(var n=0;n<e.streamMetricFrames.length;++n){if(typeof e.streamMetricFrames[n]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[n]=a.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.globalMetrics=[],n.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){n.globalMetrics=[];for(var r=0;r<e.globalMetrics.length;++r)n.globalMetrics[r]=a.SdkMetric.toObject(e.globalMetrics[r],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){n.streamMetricFrames=[];for(var r=0;r<e.streamMetricFrames.length;++r)n.streamMetricFrames[r]=a.SdkStreamMetricFrame.toObject(e.streamMetricFrames[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkStreamDimension=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkStreamDimension"),s.prototype.type=1,s.prototype.value=null,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&a.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkStreamDimension;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.type=e.int32();break;case 2:r.value=a.SdkDimensionValue.decode(e,e.uint32());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}if(e.value!=null&&e.hasOwnProperty("value")){var t=a.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkStreamDimension)return e;var t=new a.SdkStreamDimension;switch(e.type){case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2;break}if(e.value!=null){if(typeof e.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");t.value=a.SdkDimensionValue.fromObject(e.value)}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ENCODER_NAME":1,n.value=null),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkStreamDimension.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(n.value=a.SdkDimensionValue.toObject(e.value,t)),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ENCODER_NAME"]=1,e[i[2]="VIDEO_DECODER_NAME"]=2,e}(),s}(),a.SdkDimensionValue=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkDimensionValue"),s.prototype.stringValue="",s.prototype.boolValue=!1,s.prototype.uintValue=g.Long?g.Long.fromBits(0,0,!0):0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),e.uintValue!=null&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkDimensionValue;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.stringValue=e.string();break;case 2:r.boolValue=e.bool();break;case 3:r.uintValue=e.uint64();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.stringValue!=null&&e.hasOwnProperty("stringValue")&&!g.isString(e.stringValue)?"stringValue: string expected":e.boolValue!=null&&e.hasOwnProperty("boolValue")&&typeof e.boolValue!="boolean"?"boolValue: boolean expected":e.uintValue!=null&&e.hasOwnProperty("uintValue")&&!g.isInteger(e.uintValue)&&!(e.uintValue&&g.isInteger(e.uintValue.low)&&g.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkDimensionValue)return e;var t=new a.SdkDimensionValue;return e.stringValue!=null&&(t.stringValue=String(e.stringValue)),e.boolValue!=null&&(t.boolValue=Boolean(e.boolValue)),e.uintValue!=null&&(g.Long?(t.uintValue=g.Long.fromValue(e.uintValue)).unsigned=!0:typeof e.uintValue=="string"?t.uintValue=parseInt(e.uintValue,10):typeof e.uintValue=="number"?t.uintValue=e.uintValue:typeof e.uintValue=="object"&&(t.uintValue=new g.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults)if(n.stringValue="",n.boolValue=!1,g.Long){var r=new g.Long(0,0,!0);n.uintValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.uintValue=t.longs===String?"0":0;return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(n.stringValue=e.stringValue),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(n.boolValue=e.boolValue),e.uintValue!=null&&e.hasOwnProperty("uintValue")&&(typeof e.uintValue=="number"?n.uintValue=t.longs===String?String(e.uintValue):e.uintValue:n.uintValue=t.longs===String?g.Long.prototype.toString.call(e.uintValue):t.longs===Number?new g.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkDataMessageFrame=function(){function s(i){if(this.messages=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkDataMessageFrame"),s.prototype.messages=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.messages!=null&&e.messages.length)for(var n=0;n<e.messages.length;++n)a.SdkDataMessagePayload.encode(e.messages[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkDataMessageFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(a.SdkDataMessagePayload.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.messages!=null&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n=a.SdkDataMessagePayload.verify(e.messages[t]);if(n)return"messages."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkDataMessageFrame)return e;var t=new a.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if(typeof e.messages[n]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[n]=a.SdkDataMessagePayload.fromObject(e.messages[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=a.SdkDataMessagePayload.toObject(e.messages[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkDataMessagePayload=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkDataMessagePayload"),s.prototype.topic="",s.prototype.data=g.newBuffer([]),s.prototype.lifetimeMs=0,s.prototype.senderAttendeeId="",s.prototype.ingestTimeNs=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.senderExternalUserId="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),e.lifetimeMs!=null&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),e.senderAttendeeId!=null&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),e.ingestTimeNs!=null&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),e.senderExternalUserId!=null&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkDataMessagePayload;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.topic=e.string();break;case 2:r.data=e.bytes();break;case 3:r.lifetimeMs=e.uint32();break;case 4:r.senderAttendeeId=e.string();break;case 5:r.ingestTimeNs=e.int64();break;case 6:r.senderExternalUserId=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.topic!=null&&e.hasOwnProperty("topic")&&!g.isString(e.topic)?"topic: string expected":e.data!=null&&e.hasOwnProperty("data")&&!(e.data&&typeof e.data.length=="number"||g.isString(e.data))?"data: buffer expected":e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&!g.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&!g.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&!g.isInteger(e.ingestTimeNs)&&!(e.ingestTimeNs&&g.isInteger(e.ingestTimeNs.low)&&g.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&!g.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkDataMessagePayload)return e;var t=new a.SdkDataMessagePayload;return e.topic!=null&&(t.topic=String(e.topic)),e.data!=null&&(typeof e.data=="string"?g.base64.decode(e.data,t.data=g.newBuffer(g.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),e.lifetimeMs!=null&&(t.lifetimeMs=e.lifetimeMs>>>0),e.senderAttendeeId!=null&&(t.senderAttendeeId=String(e.senderAttendeeId)),e.ingestTimeNs!=null&&(g.Long?(t.ingestTimeNs=g.Long.fromValue(e.ingestTimeNs)).unsigned=!1:typeof e.ingestTimeNs=="string"?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):typeof e.ingestTimeNs=="number"?t.ingestTimeNs=e.ingestTimeNs:typeof e.ingestTimeNs=="object"&&(t.ingestTimeNs=new g.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),e.senderExternalUserId!=null&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(n.topic="",t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=g.newBuffer(n.data))),n.lifetimeMs=0,n.senderAttendeeId="",g.Long){var r=new g.Long(0,0,!1);n.ingestTimeNs=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.ingestTimeNs=t.longs===String?"0":0;n.senderExternalUserId=""}return e.topic!=null&&e.hasOwnProperty("topic")&&(n.topic=e.topic),e.data!=null&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?g.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&(n.lifetimeMs=e.lifetimeMs),e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&(n.senderAttendeeId=e.senderAttendeeId),e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&(typeof e.ingestTimeNs=="number"?n.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:n.ingestTimeNs=t.longs===String?g.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new g.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&(n.senderExternalUserId=e.senderExternalUserId),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTurnCredentials=function(){function s(i){if(this.uris=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTurnCredentials"),s.prototype.username="",s.prototype.password="",s.prototype.ttl=0,s.prototype.uris=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),e.password!=null&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),e.uris!=null&&e.uris.length)for(var n=0;n<e.uris.length;++n)t.uint32(34).string(e.uris[n]);return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTurnCredentials;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.username=e.string();break;case 2:r.password=e.string();break;case 3:r.ttl=e.uint32();break;case 4:r.uris&&r.uris.length||(r.uris=[]),r.uris.push(e.string());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.username!=null&&e.hasOwnProperty("username")&&!g.isString(e.username))return"username: string expected";if(e.password!=null&&e.hasOwnProperty("password")&&!g.isString(e.password))return"password: string expected";if(e.ttl!=null&&e.hasOwnProperty("ttl")&&!g.isInteger(e.ttl))return"ttl: integer expected";if(e.uris!=null&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!g.isString(e.uris[t]))return"uris: string[] expected"}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTurnCredentials)return e;var t=new a.SdkTurnCredentials;if(e.username!=null&&(t.username=String(e.username)),e.password!=null&&(t.password=String(e.password)),e.ttl!=null&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var n=0;n<e.uris.length;++n)t.uris[n]=String(e.uris[n])}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uris=[]),t.defaults&&(n.username="",n.password="",n.ttl=0),e.username!=null&&e.hasOwnProperty("username")&&(n.username=e.username),e.password!=null&&e.hasOwnProperty("password")&&(n.password=e.password),e.ttl!=null&&e.hasOwnProperty("ttl")&&(n.ttl=e.ttl),e.uris&&e.uris.length){n.uris=[];for(var r=0;r<e.uris.length;++r)n.uris[r]=e.uris[r]}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptItem=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptItem"),s.prototype.content="",s.prototype.endTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.speakerAttendeeId="",s.prototype.speakerExternalUserId="",s.prototype.startTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.type=1,s.prototype.vocabularyFilterMatch=!1,s.prototype.confidence=0,s.prototype.stable=!1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),e.speakerAttendeeId!=null&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),e.speakerExternalUserId!=null&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),e.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),e.stable!=null&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptItem;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.content=e.string();break;case 2:r.endTime=e.int64();break;case 3:r.speakerAttendeeId=e.string();break;case 4:r.speakerExternalUserId=e.string();break;case 5:r.startTime=e.int64();break;case 6:r.type=e.int32();break;case 7:r.vocabularyFilterMatch=e.bool();break;case 8:r.confidence=e.double();break;case 9:r.stable=e.bool();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.content!=null&&e.hasOwnProperty("content")&&!g.isString(e.content))return"content: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!g.isInteger(e.endTime)&&!(e.endTime&&g.isInteger(e.endTime.low)&&g.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&!g.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&!g.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!g.isInteger(e.startTime)&&!(e.startTime&&g.isInteger(e.startTime.low)&&g.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&typeof e.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.stable!=null&&e.hasOwnProperty("stable")&&typeof e.stable!="boolean"?"stable: boolean expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptItem)return e;var t=new a.SdkTranscriptItem;switch(e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(g.Long?(t.endTime=g.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.speakerAttendeeId!=null&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),e.speakerExternalUserId!=null&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),e.startTime!=null&&(g.Long?(t.startTime=g.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2;break}return e.vocabularyFilterMatch!=null&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.stable!=null&&(t.stable=Boolean(e.stable)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(n.content="",g.Long){var r=new g.Long(0,0,!1);n.endTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.endTime=t.longs===String?"0":0;if(n.speakerAttendeeId="",n.speakerExternalUserId="",g.Long){var r=new g.Long(0,0,!1);n.startTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startTime=t.longs===String?"0":0;n.type=t.enums===String?"PRONUNCIATION":1,n.vocabularyFilterMatch=!1,n.confidence=0,n.stable=!1}return e.content!=null&&e.hasOwnProperty("content")&&(n.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?g.Long.prototype.toString.call(e.endTime):t.longs===Number?new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&(n.speakerAttendeeId=e.speakerAttendeeId),e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&(n.speakerExternalUserId=e.speakerExternalUserId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?g.Long.prototype.toString.call(e.startTime):t.longs===Number?new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkTranscriptItem.Type[e.type]:e.type),e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&(n.vocabularyFilterMatch=e.vocabularyFilterMatch),e.confidence!=null&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.stable!=null&&e.hasOwnProperty("stable")&&(n.stable=e.stable),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="PRONUNCIATION"]=1,e[i[2]="PUNCTUATION"]=2,e}(),s}(),a.SdkTranscriptEntity=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptEntity"),s.prototype.category="",s.prototype.confidence=0,s.prototype.content="",s.prototype.endTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.startTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.type="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.category!=null&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptEntity;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.category=e.string();break;case 2:r.confidence=e.double();break;case 3:r.content=e.string();break;case 4:r.endTime=e.int64();break;case 5:r.startTime=e.int64();break;case 6:r.type=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.category!=null&&e.hasOwnProperty("category")&&!g.isString(e.category)?"category: string expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.content!=null&&e.hasOwnProperty("content")&&!g.isString(e.content)?"content: string expected":e.endTime!=null&&e.hasOwnProperty("endTime")&&!g.isInteger(e.endTime)&&!(e.endTime&&g.isInteger(e.endTime.low)&&g.isInteger(e.endTime.high))?"endTime: integer|Long expected":e.startTime!=null&&e.hasOwnProperty("startTime")&&!g.isInteger(e.startTime)&&!(e.startTime&&g.isInteger(e.startTime.low)&&g.isInteger(e.startTime.high))?"startTime: integer|Long expected":e.type!=null&&e.hasOwnProperty("type")&&!g.isString(e.type)?"type: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptEntity)return e;var t=new a.SdkTranscriptEntity;return e.category!=null&&(t.category=String(e.category)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(g.Long?(t.endTime=g.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.startTime!=null&&(g.Long?(t.startTime=g.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type!=null&&(t.type=String(e.type)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(n.category="",n.confidence=0,n.content="",g.Long){var r=new g.Long(0,0,!1);n.endTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.endTime=t.longs===String?"0":0;if(g.Long){var r=new g.Long(0,0,!1);n.startTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startTime=t.longs===String?"0":0;n.type=""}return e.category!=null&&e.hasOwnProperty("category")&&(n.category=e.category),e.confidence!=null&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.content!=null&&e.hasOwnProperty("content")&&(n.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?g.Long.prototype.toString.call(e.endTime):t.longs===Number?new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?g.Long.prototype.toString.call(e.startTime):t.longs===Number?new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(n.type=e.type),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptAlternative=function(){function s(i){if(this.items=[],this.entities=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptAlternative"),s.prototype.items=g.emptyArray,s.prototype.transcript="",s.prototype.entities=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.items!=null&&e.items.length)for(var n=0;n<e.items.length;++n)a.SdkTranscriptItem.encode(e.items[n],t.uint32(10).fork()).ldelim();if(e.transcript!=null&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),e.entities!=null&&e.entities.length)for(var n=0;n<e.entities.length;++n)a.SdkTranscriptEntity.encode(e.entities[n],t.uint32(26).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptAlternative;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.items&&r.items.length||(r.items=[]),r.items.push(a.SdkTranscriptItem.decode(e,e.uint32()));break;case 2:r.transcript=e.string();break;case 3:r.entities&&r.entities.length||(r.entities=[]),r.entities.push(a.SdkTranscriptEntity.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.items!=null&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var n=a.SdkTranscriptItem.verify(e.items[t]);if(n)return"items."+n}}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&!g.isString(e.transcript))return"transcript: string expected";if(e.entities!=null&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(var t=0;t<e.entities.length;++t){var n=a.SdkTranscriptEntity.verify(e.entities[t]);if(n)return"entities."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptAlternative)return e;var t=new a.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var n=0;n<e.items.length;++n){if(typeof e.items[n]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[n]=a.SdkTranscriptItem.fromObject(e.items[n])}}if(e.transcript!=null&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");t.entities=[];for(var n=0;n<e.entities.length;++n){if(typeof e.entities[n]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[n]=a.SdkTranscriptEntity.fromObject(e.entities[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.items=[],n.entities=[]),t.defaults&&(n.transcript=""),e.items&&e.items.length){n.items=[];for(var r=0;r<e.items.length;++r)n.items[r]=a.SdkTranscriptItem.toObject(e.items[r],t)}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&(n.transcript=e.transcript),e.entities&&e.entities.length){n.entities=[];for(var r=0;r<e.entities.length;++r)n.entities[r]=a.SdkTranscriptEntity.toObject(e.entities[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptLanguageWithScore=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptLanguageWithScore"),s.prototype.languageCode="",s.prototype.score=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),e.score!=null&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptLanguageWithScore;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.languageCode=e.string();break;case 2:r.score=e.double();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!g.isString(e.languageCode)?"languageCode: string expected":e.score!=null&&e.hasOwnProperty("score")&&typeof e.score!="number"?"score: number expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptLanguageWithScore)return e;var t=new a.SdkTranscriptLanguageWithScore;return e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.score!=null&&(t.score=Number(e.score)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.languageCode="",n.score=0),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.score!=null&&e.hasOwnProperty("score")&&(n.score=t.json&&!isFinite(e.score)?String(e.score):e.score),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptResult=function(){function s(i){if(this.alternatives=[],this.languageIdentification=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptResult"),s.prototype.alternatives=g.emptyArray,s.prototype.channelId="",s.prototype.endTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.isPartial=!1,s.prototype.resultId="",s.prototype.startTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.languageCode="",s.prototype.languageIdentification=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.alternatives!=null&&e.alternatives.length)for(var n=0;n<e.alternatives.length;++n)a.SdkTranscriptAlternative.encode(e.alternatives[n],t.uint32(10).fork()).ldelim();if(e.channelId!=null&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),e.isPartial!=null&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),e.resultId!=null&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),e.languageIdentification!=null&&e.languageIdentification.length)for(var n=0;n<e.languageIdentification.length;++n)a.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[n],t.uint32(66).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptResult;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.alternatives&&r.alternatives.length||(r.alternatives=[]),r.alternatives.push(a.SdkTranscriptAlternative.decode(e,e.uint32()));break;case 2:r.channelId=e.string();break;case 3:r.endTime=e.int64();break;case 4:r.isPartial=e.bool();break;case 5:r.resultId=e.string();break;case 6:r.startTime=e.int64();break;case 7:r.languageCode=e.string();break;case 8:r.languageIdentification&&r.languageIdentification.length||(r.languageIdentification=[]),r.languageIdentification.push(a.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.alternatives!=null&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t){var n=a.SdkTranscriptAlternative.verify(e.alternatives[t]);if(n)return"alternatives."+n}}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&!g.isString(e.channelId))return"channelId: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!g.isInteger(e.endTime)&&!(e.endTime&&g.isInteger(e.endTime.low)&&g.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.isPartial!=null&&e.hasOwnProperty("isPartial")&&typeof e.isPartial!="boolean")return"isPartial: boolean expected";if(e.resultId!=null&&e.hasOwnProperty("resultId")&&!g.isString(e.resultId))return"resultId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!g.isInteger(e.startTime)&&!(e.startTime&&g.isInteger(e.startTime.low)&&g.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!g.isString(e.languageCode))return"languageCode: string expected";if(e.languageIdentification!=null&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(var t=0;t<e.languageIdentification.length;++t){var n=a.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]);if(n)return"languageIdentification."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptResult)return e;var t=new a.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var n=0;n<e.alternatives.length;++n){if(typeof e.alternatives[n]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[n]=a.SdkTranscriptAlternative.fromObject(e.alternatives[n])}}if(e.channelId!=null&&(t.channelId=String(e.channelId)),e.endTime!=null&&(g.Long?(t.endTime=g.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.isPartial!=null&&(t.isPartial=Boolean(e.isPartial)),e.resultId!=null&&(t.resultId=String(e.resultId)),e.startTime!=null&&(g.Long?(t.startTime=g.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");t.languageIdentification=[];for(var n=0;n<e.languageIdentification.length;++n){if(typeof e.languageIdentification[n]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[n]=a.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.alternatives=[],n.languageIdentification=[]),t.defaults){if(n.channelId="",g.Long){var r=new g.Long(0,0,!1);n.endTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.endTime=t.longs===String?"0":0;if(n.isPartial=!1,n.resultId="",g.Long){var r=new g.Long(0,0,!1);n.startTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startTime=t.longs===String?"0":0;n.languageCode=""}if(e.alternatives&&e.alternatives.length){n.alternatives=[];for(var c=0;c<e.alternatives.length;++c)n.alternatives[c]=a.SdkTranscriptAlternative.toObject(e.alternatives[c],t)}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?g.Long.prototype.toString.call(e.endTime):t.longs===Number?new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.isPartial!=null&&e.hasOwnProperty("isPartial")&&(n.isPartial=e.isPartial),e.resultId!=null&&e.hasOwnProperty("resultId")&&(n.resultId=e.resultId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?g.Long.prototype.toString.call(e.startTime):t.longs===Number?new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length){n.languageIdentification=[];for(var c=0;c<e.languageIdentification.length;++c)n.languageIdentification[c]=a.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[c],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscript=function(){function s(i){if(this.results=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscript"),s.prototype.results=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.results!=null&&e.results.length)for(var n=0;n<e.results.length;++n)a.SdkTranscriptResult.encode(e.results[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscript;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.results&&r.results.length||(r.results=[]),r.results.push(a.SdkTranscriptResult.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.results!=null&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var n=a.SdkTranscriptResult.verify(e.results[t]);if(n)return"results."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscript)return e;var t=new a.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var n=0;n<e.results.length;++n){if(typeof e.results[n]!="object")throw TypeError(".SdkTranscript.results: object expected");t.results[n]=a.SdkTranscriptResult.fromObject(e.results[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.results=[]),e.results&&e.results.length){n.results=[];for(var r=0;r<e.results.length;++r)n.results[r]=a.SdkTranscriptResult.toObject(e.results[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptionStatus=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptionStatus"),s.prototype.type=1,s.prototype.eventTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.transcriptionRegion="",s.prototype.transcriptionConfiguration="",s.prototype.message="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.eventTime!=null&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),e.transcriptionRegion!=null&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),e.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptionStatus;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.type=e.int32();break;case 2:r.eventTime=e.int64();break;case 3:r.transcriptionRegion=e.string();break;case 4:r.transcriptionConfiguration=e.string();break;case 5:r.message=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return e.eventTime!=null&&e.hasOwnProperty("eventTime")&&!g.isInteger(e.eventTime)&&!(e.eventTime&&g.isInteger(e.eventTime.low)&&g.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&!g.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&!g.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":e.message!=null&&e.hasOwnProperty("message")&&!g.isString(e.message)?"message: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptionStatus)return e;var t=new a.SdkTranscriptionStatus;switch(e.type){case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5;break}return e.eventTime!=null&&(g.Long?(t.eventTime=g.Long.fromValue(e.eventTime)).unsigned=!1:typeof e.eventTime=="string"?t.eventTime=parseInt(e.eventTime,10):typeof e.eventTime=="number"?t.eventTime=e.eventTime:typeof e.eventTime=="object"&&(t.eventTime=new g.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),e.transcriptionRegion!=null&&(t.transcriptionRegion=String(e.transcriptionRegion)),e.transcriptionConfiguration!=null&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),e.message!=null&&(t.message=String(e.message)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(n.type=t.enums===String?"STARTED":1,g.Long){var r=new g.Long(0,0,!1);n.eventTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.eventTime=t.longs===String?"0":0;n.transcriptionRegion="",n.transcriptionConfiguration="",n.message=""}return e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkTranscriptionStatus.Type[e.type]:e.type),e.eventTime!=null&&e.hasOwnProperty("eventTime")&&(typeof e.eventTime=="number"?n.eventTime=t.longs===String?String(e.eventTime):e.eventTime:n.eventTime=t.longs===String?g.Long.prototype.toString.call(e.eventTime):t.longs===Number?new g.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&(n.transcriptionRegion=e.transcriptionRegion),e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&(n.transcriptionConfiguration=e.transcriptionConfiguration),e.message!=null&&e.hasOwnProperty("message")&&(n.message=e.message),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="STARTED"]=1,e[i[2]="INTERRUPTED"]=2,e[i[3]="RESUMED"]=3,e[i[4]="STOPPED"]=4,e[i[5]="FAILED"]=5,e}(),s}(),a.SdkTranscriptEvent=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}o(s,"SdkTranscriptEvent"),s.prototype.status=null,s.prototype.transcript=null;var i;return Object.defineProperty(s.prototype,"Event",{get:g.oneOfGetter(i=["status","transcript"]),set:g.oneOfSetter(i)}),s.create=o(function(t){return new s(t)},"create"),s.encode=o(function(t,n){return n||(n=u.create()),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&a.SdkTranscriptionStatus.encode(t.status,n.uint32(10).fork()).ldelim(),t.transcript!=null&&Object.hasOwnProperty.call(t,"transcript")&&a.SdkTranscript.encode(t.transcript,n.uint32(18).fork()).ldelim(),n},"encode"),s.encodeDelimited=o(function(t,n){return this.encode(t,n).ldelim()},"encodeDelimited"),s.decode=o(function(t,n){t instanceof f||(t=f.create(t));for(var r=n===void 0?t.len:t.pos+n,c=new a.SdkTranscriptEvent;t.pos<r;){var p=t.uint32();switch(p>>>3){case 1:c.status=a.SdkTranscriptionStatus.decode(t,t.uint32());break;case 2:c.transcript=a.SdkTranscript.decode(t,t.uint32());break;default:t.skipType(p&7);break}}return c},"decode"),s.decodeDelimited=o(function(t){return t instanceof f||(t=new f(t)),this.decode(t,t.uint32())},"decodeDelimited"),s.verify=o(function(t){if(typeof t!="object"||t===null)return"object expected";var n={};if(t.status!=null&&t.hasOwnProperty("status")){n.Event=1;{var r=a.SdkTranscriptionStatus.verify(t.status);if(r)return"status."+r}}if(t.transcript!=null&&t.hasOwnProperty("transcript")){if(n.Event===1)return"Event: multiple values";n.Event=1;{var r=a.SdkTranscript.verify(t.transcript);if(r)return"transcript."+r}}return null},"verify"),s.fromObject=o(function(t){if(t instanceof a.SdkTranscriptEvent)return t;var n=new a.SdkTranscriptEvent;if(t.status!=null){if(typeof t.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");n.status=a.SdkTranscriptionStatus.fromObject(t.status)}if(t.transcript!=null){if(typeof t.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");n.transcript=a.SdkTranscript.fromObject(t.transcript)}return n},"fromObject"),s.toObject=o(function(t,n){n||(n={});var r={};return t.status!=null&&t.hasOwnProperty("status")&&(r.status=a.SdkTranscriptionStatus.toObject(t.status,n),n.oneofs&&(r.Event="status")),t.transcript!=null&&t.hasOwnProperty("transcript")&&(r.transcript=a.SdkTranscript.toObject(t.transcript,n),n.oneofs&&(r.Event="transcript")),r},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptFrame=function(){function s(i){if(this.events=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptFrame"),s.prototype.events=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.events!=null&&e.events.length)for(var n=0;n<e.events.length;++n)a.SdkTranscriptEvent.encode(e.events[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.events&&r.events.length||(r.events=[]),r.events.push(a.SdkTranscriptEvent.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.events!=null&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var n=a.SdkTranscriptEvent.verify(e.events[t]);if(n)return"events."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptFrame)return e;var t=new a.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var n=0;n<e.events.length;++n){if(typeof e.events[n]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[n]=a.SdkTranscriptEvent.fromObject(e.events[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.events=[]),e.events&&e.events.length){n.events=[];for(var r=0;r<e.events.length;++r)n.events[r]=a.SdkTranscriptEvent.toObject(e.events[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkRemoteVideoUpdateFrame=function(){function s(i){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkRemoteVideoUpdateFrame"),s.prototype.addedOrUpdatedVideoSubscriptions=g.emptyArray,s.prototype.removedVideoSubscriptionMids=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.addedOrUpdatedVideoSubscriptions!=null&&e.addedOrUpdatedVideoSubscriptions.length)for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n)a.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[n],t.uint32(10).fork()).ldelim();if(e.removedVideoSubscriptionMids!=null&&e.removedVideoSubscriptionMids.length)for(var n=0;n<e.removedVideoSubscriptionMids.length;++n)t.uint32(18).string(e.removedVideoSubscriptionMids[n]);return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkRemoteVideoUpdateFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.addedOrUpdatedVideoSubscriptions&&r.addedOrUpdatedVideoSubscriptions.length||(r.addedOrUpdatedVideoSubscriptions=[]),r.addedOrUpdatedVideoSubscriptions.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;case 2:r.removedVideoSubscriptionMids&&r.removedVideoSubscriptionMids.length||(r.removedVideoSubscriptionMids=[]),r.removedVideoSubscriptionMids.push(e.string());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.addedOrUpdatedVideoSubscriptions!=null&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var n=a.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(n)return"addedOrUpdatedVideoSubscriptions."+n}}if(e.removedVideoSubscriptionMids!=null&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!g.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkRemoteVideoUpdateFrame)return e;var t=new a.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n){if(typeof e.addedOrUpdatedVideoSubscriptions[n]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[n]=a.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[n])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");t.removedVideoSubscriptionMids=[];for(var n=0;n<e.removedVideoSubscriptionMids.length;++n)t.removedVideoSubscriptionMids[n]=String(e.removedVideoSubscriptionMids[n])}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addedOrUpdatedVideoSubscriptions=[],n.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){n.addedOrUpdatedVideoSubscriptions=[];for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r)n.addedOrUpdatedVideoSubscriptions[r]=a.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[r],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length){n.removedVideoSubscriptionMids=[];for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)n.removedVideoSubscriptionMids[r]=e.removedVideoSubscriptionMids[r]}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkVideoSubscriptionConfiguration=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkVideoSubscriptionConfiguration"),s.prototype.mid="",s.prototype.attendeeId="",s.prototype.streamId=0,s.prototype.priority=0,s.prototype.targetBitrateKbps=0,s.prototype.groupId=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t.uint32(10).string(e.mid),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.priority!=null&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),e.targetBitrateKbps!=null&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkVideoSubscriptionConfiguration;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.mid=e.string();break;case 2:r.attendeeId=e.string();break;case 3:r.streamId=e.uint32();break;case 4:r.priority=e.uint32();break;case 5:r.targetBitrateKbps=e.uint32();break;case 6:r.groupId=e.uint32();break;default:e.skipType(c&7);break}}if(!r.hasOwnProperty("mid"))throw g.ProtocolError("missing required 'mid'",{instance:r});return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":g.isString(e.mid)?e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!g.isString(e.attendeeId)?"attendeeId: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId)?"streamId: integer expected":e.priority!=null&&e.hasOwnProperty("priority")&&!g.isInteger(e.priority)?"priority: integer expected":e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&!g.isInteger(e.targetBitrateKbps)?"targetBitrateKbps: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!g.isInteger(e.groupId)?"groupId: integer expected":null:"mid: string expected"},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkVideoSubscriptionConfiguration)return e;var t=new a.SdkVideoSubscriptionConfiguration;return e.mid!=null&&(t.mid=String(e.mid)),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.priority!=null&&(t.priority=e.priority>>>0),e.targetBitrateKbps!=null&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.mid="",n.attendeeId="",n.streamId=0,n.priority=0,n.targetBitrateKbps=0,n.groupId=0),e.mid!=null&&e.hasOwnProperty("mid")&&(n.mid=e.mid),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.priority!=null&&e.hasOwnProperty("priority")&&(n.priority=e.priority),e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&(n.targetBitrateKbps=e.targetBitrateKbps),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkNotificationFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkNotificationFrame"),s.prototype.level=3,s.prototype.message="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.level!=null&&Object.hasOwnProperty.call(e,"level")&&t.uint32(8).int32(e.level),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkNotificationFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.level=e.int32();break;case 2:r.message=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.level!=null&&e.hasOwnProperty("level"))switch(e.level){default:return"level: enum value expected";case 1:case 2:case 3:break}return e.message!=null&&e.hasOwnProperty("message")&&!g.isString(e.message)?"message: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkNotificationFrame)return e;var t=new a.SdkNotificationFrame;switch(e.level){case"INFO":case 1:t.level=1;break;case"WARNING":case 2:t.level=2;break;case"ERROR":case 3:t.level=3;break}return e.message!=null&&(t.message=String(e.message)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.level=t.enums===String?"ERROR":3,n.message=""),e.level!=null&&e.hasOwnProperty("level")&&(n.level=t.enums===String?a.SdkNotificationFrame.NotificationLevel[e.level]:e.level),e.message!=null&&e.hasOwnProperty("message")&&(n.message=e.message),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.NotificationLevel=function(){var i={},e=Object.create(i);return e[i[1]="INFO"]=1,e[i[2]="WARNING"]=2,e[i[3]="ERROR"]=3,e}(),s}(),a.SdkPrimaryMeetingJoinFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPrimaryMeetingJoinFrame"),s.prototype.credentials=null,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.credentials!=null&&Object.hasOwnProperty.call(e,"credentials")&&a.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPrimaryMeetingJoinFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.credentials=a.SdkMeetingSessionCredentials.decode(e,e.uint32());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.credentials!=null&&e.hasOwnProperty("credentials")){var t=a.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkPrimaryMeetingJoinFrame)return e;var t=new a.SdkPrimaryMeetingJoinFrame;if(e.credentials!=null){if(typeof e.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=a.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.credentials=null),e.credentials!=null&&e.hasOwnProperty("credentials")&&(n.credentials=a.SdkMeetingSessionCredentials.toObject(e.credentials,t)),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkPrimaryMeetingJoinAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPrimaryMeetingJoinAckFrame"),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPrimaryMeetingJoinAckFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=o(function(e){return e instanceof a.SdkPrimaryMeetingJoinAckFrame?e:new a.SdkPrimaryMeetingJoinAckFrame},"fromObject"),s.toObject=o(function(){return{}},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkPrimaryMeetingLeaveFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPrimaryMeetingLeaveFrame"),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPrimaryMeetingLeaveFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=o(function(e){return e instanceof a.SdkPrimaryMeetingLeaveFrame?e:new a.SdkPrimaryMeetingLeaveFrame},"fromObject"),s.toObject=o(function(){return{}},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkMeetingSessionCredentials=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkMeetingSessionCredentials"),s.prototype.attendeeId="",s.prototype.externalUserId="",s.prototype.joinToken="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),e.joinToken!=null&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkMeetingSessionCredentials;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.attendeeId=e.string();break;case 2:r.externalUserId=e.string();break;case 3:r.joinToken=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!g.isString(e.attendeeId)?"attendeeId: string expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!g.isString(e.externalUserId)?"externalUserId: string expected":e.joinToken!=null&&e.hasOwnProperty("joinToken")&&!g.isString(e.joinToken)?"joinToken: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkMeetingSessionCredentials)return e;var t=new a.SdkMeetingSessionCredentials;return e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.joinToken!=null&&(t.joinToken=String(e.joinToken)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.attendeeId="",n.externalUserId="",n.joinToken=""),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),e.joinToken!=null&&e.hasOwnProperty("joinToken")&&(n.joinToken=e.joinToken),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkVideoCodecCapability=function(){var s={},i=Object.create(s);return i[s[1]="VP8"]=1,i[s[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,i}(),j.exports=a,g.Long=void 0,S.configure()},XEV2:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isValidRevisionID=l.isValidAssetGroup=l.resolveURL=l.addQueryParams=l.withQueryString=l.withRequestHeaders=l.fetchWithBehavior=void 0;function S(t,n,r){if(!r)return fetch(t,n);const c=u(t,r),p=f(n,r);return fetch(c,p)}o(S,"fetchWithBehavior"),l.fetchWithBehavior=S;function f(t,n){return n!=null&&n.headers?t?Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers||{}),n.headers)}):{headers:n.headers}:t}o(f,"withRequestHeaders"),l.withRequestHeaders=f;function u(t,n){if(!(n!=null&&n.escapedQueryString))return t;const r=t.lastIndexOf("?")!==-1;return`${t}${r?"&":"?"}${n.escapedQueryString}`}o(u,"withQueryString"),l.withQueryString=u;function g(t,n){const r=Object.keys(n);if(!r.length)return t;const c=new URLSearchParams(t==null?void 0:t.escapedQueryString);for(const p of r)c.append(p,n[p]);return Object.assign(Object.assign({},t),{escapedQueryString:c.toString()})}o(g,"addQueryParams"),l.addQueryParams=g;const a={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function s(t,n){return S(t,a,n).then(r=>r.redirected?r.url:t)}o(s,"resolveURL"),l.resolveURL=s;function i(t){return!!t&&/^[-.a-zA-Z0-9]+$/.test(t)}o(i,"isValidAssetGroup"),l.isValidAssetGroup=i;function e(t){return!!t&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(t)}o(e,"isValidRevisionID"),l.isValidRevisionID=e},XFRR:function(j,l,h){"use strict";function S(){}o(S,"baseLodash"),l.a=S},XJKy:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("ZdbB"));let u=o(class extends f.default{setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}constructor(a,s,i){super(a,s,i)}},"VideoOnlyTransceiverController");l.default=u},XJrD:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class RS{equal(u){let g=u.captureWidth()===this.cameraWidth&&u.captureHeight()===this.cameraHeight&&u.captureFrameRate()===this.cameraFrameRate&&u.encodeBitrates().length===this.encodeBitrates().length&&u.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&u.encodeWidths().length===this.encodeWidths().length&&u.encodeHeights().length===this.encodeHeights().length&&u.isSVCEncoding()===this.isSVC;if(g){for(let a=0;a<u.encodeWidths().length;a++)if(u.encodeWidths()[a]!==this.encodeWidths()[a]||u.encodeHeights()[a]!==this.encodeHeights()[a]||u.encodeBitrates()[a]!==this.encodeBitrates()[a]||u.encodeScaleResolutionDownBy()[a]!==this.encodeScaleResolutionDownBy()[a])return g=!1,g}return g}clone(){return new RS(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy,this.isSVC)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}isSVCEncoding(){return this.isSVC}constructor(u,g,a,s,i,e=1,t=!1){this.cameraWidth=u,this.cameraHeight=g,this.cameraFrameRate=a,this.maxEncodeBitrateKbps=s,this.isSimulcast=i,this.scaleResolutionDownBy=e,this.isSVC=t}},"DefaultVideoCaptureAndEncodeParameter");l.default=S},XYJD:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptEntity");l.default=S},"Xf/8":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.currentTimestampMs=0,this.ssrc=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsExpected=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}},"RedundantAudioRecoveryMetricReport");l.default=S},XhYu:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("xzjI"));let u=o(class extends f.default{constructor(a,s){super(a),this.constraint=s,this.name="OverconstrainedError"}},"OverconstrainedError");l.default=u},XnHx:function(j,l,h){"use strict";var S=h("/1FC");function f(){if(!arguments.length)return[];var u=arguments[0];return Object(S.a)(u)?u:[u]}o(f,"castArray"),l.a=f},Xv43:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(u,g,a,s){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(p){try{c(s.next(p))}catch(m){t(m)}}o(n,"fulfilled");function r(p){try{c(s.throw(p))}catch(m){t(m)}}o(r,"rejected");function c(p){p.done?e(p.value):i(p.value).then(n,r)}o(c,"step"),c((s=s.apply(u,g||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let f=o(class{destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return S(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}constructor(g){this.canvas=g,this.destroyed=!1}},"CanvasVideoFrameBuffer");l.default=f},XzFx:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("U9CR")),g=f(h("wXa7")),a=f(h("j+uH"));let s=o(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){const e=this.context.peer;let n=this.context.sdpOfferInit.sdp;if(this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(n=new g.default(n).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),new u.default().requiresDisablingH264Encoding()&&(n=new g.default(n).removeH264SupportFromSendSection().sdp),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(n=new g.default(n).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(n=new g.default(n).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(n=new g.default(n).withStereoAudio().sdp),this.context.audioProfile.hasRedundancyEnabled())){const c=new g.default(n).getAudioPayloadTypes();this.context.transceiverController&&this.context.transceiverController.setAudioPayloadTypes&&this.context.transceiverController.setAudioPayloadTypes(c)}this.logger.debug(()=>`local description is >>>${n}<<<`);const r={type:"offer",sdp:n,toJSON:null};yield new Promise((c,p)=>S(this,void 0,void 0,function*(){this.cancelPromise=m=>{p(m)};try{yield e.setLocalDescription(r),c()}catch(m){p(m)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}constructor(e){super(e.logger),this.context=e,this.taskName="SetLocalDescriptionTask"}},"SetLocalDescriptionTask");l.default=s},Y2s1:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("8FET"));let u=o(class{constructor(a,s,i=new f.default){this.eventsClientConfiguration=a,this.ingestionURL=s,this.eventBufferConfiguration=i}},"EventIngestionConfiguration");l.default=u},Y8b2:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("tK6J"));let u=o(class{create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new f.default);throw new Error("navigator.mediaDevices is not supported")}constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}},"DefaultMediaDeviceFactory");l.default=u},YH3u:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(c,p,m,d){function y(E){return E instanceof m?E:new m(function(w){w(E)})}return o(y,"adopt"),new(m||(m=Promise))(function(E,w){function k(F){try{N(d.next(F))}catch(P){w(P)}}o(k,"fulfilled");function V(F){try{N(d.throw(F))}catch(P){w(P)}}o(V,"rejected");function N(F){F.done?E(F.value):y(F.value).then(k,V)}o(N,"step"),N((d=d.apply(c,p||[])).next())})},f=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("ywpn")),g=f(h("e/ca")),a=f(h("uctb")),s=f(h("Wjms")),i=f(h("LEQH")),e=f(h("GtHv")),t=f(h("vjEy"));let n=o(class extends s.default{setBlurStrength(){}loadAssets(){return S(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}},"NoOpBackgroundBlurProcessor"),r=o(class Md extends u.default{static create(p,m){return S(this,void 0,void 0,function*(){p=Md.resolveSpec(p),m=Md.resolveOptions(m);const{logger:d}=m,y=yield Md.isSupported(p,m);if(d.info(`processor is ${y?"":"not"} supported`),!y)return d.warn("Using no-op processor because background blur is not supported"),new n;let E;return(yield e.default.isSupported())?(d.info("Using browser-provided background blur"),E=new e.default(p,m)):(d.info("Using built-in background blur"),E=new i.default(p,m)),yield E.loadAssets(),E})}static resolveOptions(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=Object.assign({},p);return m.blurStrength||(m.blurStrength=t.default.MEDIUM),m.logger||(m.logger=new g.default("BackgroundBlurProcessor",a.default.INFO)),m=super.resolveOptions(m),m}static isSupported(p,m){return p=Md.resolveSpec(p),m=Md.resolveOptions(m),super.isSupported(p,m)}},"BackgroundBlurVideoFrameProcessor");l.default=r},YX4P:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=h("e/nb");S.__exportStar(h("rU8T"),l),S.__exportStar(h("LVIV"),l),S.__exportStar(h("JBVX"),l),S.__exportStar(h("JEbH"),l),S.__exportStar(h("duQQ"),l)},YXGX:function(j,l,h){"use strict";var S=h("m5Jn"),f=S.a&&new S.a;l.a=f},YbMW:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(y,E,w,k){function V(N){return N instanceof w?N:new w(function(F){F(N)})}return o(V,"adopt"),new(w||(w=Promise))(function(N,F){function P(R){try{O(k.next(R))}catch(D){F(D)}}o(P,"fulfilled");function B(R){try{O(k.throw(R))}catch(D){F(D)}}o(B,"rejected");function O(R){R.done?N(R.value):V(R.value).then(P,B)}o(O,"step"),O((k=k.apply(y,E||[])).next())})},f=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("6SO8")),g=f(h("bjg3")),a=f(h("x8On")),s=f(h("OcJO")),i=f(h("Tsvd")),e=f(h("m/NO")),t=f(h("fi20")),n=f(h("BkFD")),r=h("XCDq"),c=h("Aplu"),p=f(h("PPZC")),m=f(h("10yS"));let d=o(class $c{toAttribute(E){return this.toSuffix(E).substring(1)}toSuffix(E){return E.toLowerCase()===E?`_${E}`:E.toUpperCase()===E?`_${E.toLowerCase()}`:E.replace(/([A-Z][a-z]+)/g,function(w){return`_${w}`}).replace(/([A-Z][A-Z]+)/g,function(w){return`_${w}`}).toLowerCase()}logLatency(E,w,k){const V=this.toSuffix(E);this.logEventTime("meeting"+V,w,k)}logStateTimeout(E,w){const k=this.toSuffix(E);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},w),{state:`state${k}`}))}logAudioEvent(E,w){const k="audio"+this.toSuffix(p.default[E]);this.logEvent(k,w)}logVideoEvent(E,w){const k="video"+this.toSuffix(m.default[E]);this.logEvent(k,w)}logEventTime(E,w){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const V=Object.assign(Object.assign({},k),{call_id:this.audioVideoController.configuration.meetingId,client_type:$c.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>`[StatsCollector] ${E}: ${JSON.stringify(V)}`),this.metricsAddTime(E,w,V)}logMeetingSessionStatus(E){const w=`${E.statusCode()}`;this.logEvent(w);const k={status:w,status_code:`${E.statusCode()}`};this.logEvent("meeting_session_status",k),E.isTerminal()&&this.logEvent("meeting_session_stopped",k),E.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",k),E.isFailure()&&this.logEvent("meeting_session_failed",k)}logLifecycleEvent(E,w){const k={lifecycle_event:`lifecycle${this.toSuffix(e.default[E])}`,lifecycle_event_code:`${E}`,lifecycle_event_condition:`condition${this.toSuffix(t.default[w])}`,lifecycle_event_condition_code:`${w}`};this.logEvent("meeting_session_lifecycle",k)}logEvent(E){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const k=Object.assign(Object.assign({},w),{call_id:this.audioVideoController.configuration.meetingId,client_type:$c.CLIENT_TYPE});this.logger.debug(()=>`[StatsCollector] ${E}: ${JSON.stringify(k)}`),this.metricsLogEvent(E,k)}start(E,w){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=E,this.videoStreamIndex=w,this.clientMetricReport=new u.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new n.default(this.interval),this.intervalScheduler.start(()=>S(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(E,w){const k=w?this.clientMetricReport.streamMetricReports[Number(E.ssrc)]:this.clientMetricReport.globalMetricReport;let V;w?V=this.clientMetricReport.getMetricMap(k.mediaType,k.direction):V=this.clientMetricReport.getMetricMap();for(const N in E)N in V&&(typeof E[N]=="number"?(k.previousMetrics[N]=k.currentMetrics[N],k.currentMetrics[N]=E[N]):typeof E[N]=="string"?k.currentStringMetrics[N]=E[N]:typeof E[N]=="object"?(k.previousObjectMetrics[N]=k.currentObjectMetrics[N]===void 0?E[N]:k.currentObjectMetrics[N],k.currentObjectMetrics[N]=E[N]):this.logger.error(`Unknown metric value type ${typeof E[N]} for metric ${N}`))}processRawMetricReports(E){this.clientMetricReport.currentSsrcs={};const w=Date.now();for(const k of E){const V=this.isStreamRawMetricReport(k.type);if(V){const N=this.clientMetricReport.streamMetricReports[Number(k.ssrc)];if(N)N.streamId=this.videoStreamIndex.streamIdForSSRC(Number(k.ssrc));else{const F=new i.default;F.mediaType=this.getMediaType(k),F.direction=this.getDirectionType(k),this.videoStreamIndex.allStreams().empty()||(F.streamId=this.videoStreamIndex.streamIdForSSRC(Number(k.ssrc)),this.videoStreamIndex.groupIdForSSRC!==void 0&&(F.groupId=this.videoStreamIndex.groupIdForSSRC(Number(k.ssrc)))),this.clientMetricReport.streamMetricReports[Number(k.ssrc)]=F}this.clientMetricReport.currentSsrcs[Number(k.ssrc)]=1}this.updateMetricValues(k,V)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=w,this.clientMetricReport.print()}addStreamMetricDimensionFrames(E,w){const k=this.clientMetricReport.getStreamDimensionMap();for(const V in w.currentStringMetrics)if(V in k){const N=r.SdkStreamDimension.create();N.type=k[V];const F=r.SdkDimensionValue.create();F.stringValue=w.currentStringMetrics[V],N.value=F,E.dimensions.push(N)}}addMetricFrame(E,w,k,V){const N=k.type,F=k.transform,P=k.source,B=w.streamMetricFrames.length,O=w.streamMetricFrames[B-1];if(N){const R=r.SdkMetric.create();R.type=N,R.value=F(P||E,V),V?O.metrics.push(R):w.globalMetrics.push(R)}}addGlobalMetricsToProtobuf(E){const w=this.clientMetricReport.getMetricMap();for(const k in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(k,E,w[k])}addStreamMetricsToProtobuf(E){for(const w in this.clientMetricReport.streamMetricReports){const k=this.clientMetricReport.streamMetricReports[w],V=r.SdkStreamMetricFrame.create();V.streamId=k.streamId,V.metrics=[],this.addStreamMetricDimensionFrames(V,k),E.streamMetricFrames.push(V);const N=this.clientMetricReport.getMetricMap(k.mediaType,k.direction);for(const F in k.currentMetrics)this.addMetricFrame(F,E,N[F],Number(w));for(const F in k.currentStringMetrics)this.addMetricFrame(F,E,N[F],Number(w));for(const F in k.currentObjectMetrics)this.addMetricFrame(F,E,N[F],Number(w))}}makeClientMetricProtobuf(){const E=r.SdkClientMetricFrame.create();return E.globalMetrics=[],E.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(E),this.addStreamMetricsToProtobuf(E),E}sendClientMetricProtobuf(E){this.signalingClient.sendClientMetrics(E)}isStreamRawMetricReport(E){return["inbound-rtp","inbound-rtp-red","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(E)}getMediaType(E){return E.kind==="audio"?a.default.AUDIO:a.default.VIDEO}getDirectionType(E){const{type:w}=E;return w==="inbound-rtp"||w==="remote-outbound-rtp"||w==="inbound-rtp-red"?g.default.DOWNSTREAM:g.default.UPSTREAM}isValidStandardRawMetric(E){return E.type==="inbound-rtp"||E.type==="inbound-rtp-red"||E.type==="outbound-rtp"||E.type==="remote-inbound-rtp"||E.type==="remote-outbound-rtp"||E.type==="candidate-pair"&&E.state==="succeeded"||E.type==="media-source"&&E.kind==="audio"}isValidSsrc(E){let w=!0;return this.isStreamRawMetricReport(E.type)&&this.getDirectionType(E)===g.default.DOWNSTREAM&&this.getMediaType(E)===a.default.VIDEO&&(w=this.videoStreamIndex.streamIdForSSRC(Number(E.ssrc))>0),w}isValidRawMetricReport(E){return this.isValidStandardRawMetric(E)&&this.isValidSsrc(E)}filterRawMetricReports(E){const w=[];for(const k of E)this.isValidRawMetricReport(k)&&w.push(k);return w}handleRawMetricReports(E){const w=this.filterRawMetricReports(E);this.logger.debug(()=>`Filtered raw metrics : ${JSON.stringify(w)}`);const k=[];this.maybeAddRedRecoveryMetrics(k),this.clientMetricReport.customStatsReports=k,w.push(...k),this.processRawMetricReports(w);const V=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(V),this.audioVideoController.forEachObserver(N=>{c.Maybe.of(N.metricsDidReceive).map(F=>F.bind(N)(this.clientMetricReport.clone()))})}getStatsWrapper(){return S(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const E=[];try{const w=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=w,w.forEach(k=>{E.push(k)}),this.handleRawMetricReports(E)}catch(w){this.logger.error(w.message)}})}overrideObservableMetric(E,w){this.clientMetricReport.overrideObservableMetric(E,w)}recoveryMetricsDidReceive(E){this.redRecoveryMetricReport=E}maybeAddRedRecoveryMetrics(E){this.redRecoveryMetricReport.currentTimestampMs!==this.lastRedRecoveryMetricReportConsumedTimestampMs&&(E.push({kind:"audio",type:"inbound-rtp-red",ssrc:this.redRecoveryMetricReport.ssrc,timestamp:this.redRecoveryMetricReport.currentTimestampMs,totalAudioPacketsLost:this.redRecoveryMetricReport.totalAudioPacketsLost,totalAudioPacketsExpected:this.redRecoveryMetricReport.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.redRecoveryMetricReport.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.redRecoveryMetricReport.totalAudioPacketsRecoveredFec}),this.lastRedRecoveryMetricReportConsumedTimestampMs=this.redRecoveryMetricReport.currentTimestampMs)}constructor(E,w,k=$c.INTERVAL_MS){this.audioVideoController=E,this.logger=w,this.interval=k,this.intervalScheduler=null,this.redRecoveryMetricReport=new s.default,this.lastRedRecoveryMetricReportConsumedTimestampMs=0,this.metricsAddTime=(V,N,F)=>{},this.metricsLogEvent=(V,N)=>{}}},"StatsCollector");l.default=d,d.INTERVAL_MS=1e3,d.CLIENT_TYPE="amazon-chime-sdk-js"},YcE2:function(j,l,h){"use strict";(function(S){Object.defineProperty(l,"__esModule",{value:!0}),l.convertToBuffer=void 0;var f=h("f/KM"),u=typeof S<"u"&&S.from?function(a){return S.from(a,"utf8")}:f.fromUtf8;function g(a){return a instanceof Uint8Array?a:typeof a=="string"?u(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}o(g,"convertToBuffer"),l.convertToBuffer=g}).call(this,h("HDXh").Buffer)},Yk7g:function(j,l,h){"use strict";var S=Array.prototype,f=S.reverse;function u(g){return g==null?g:f.call(g)}o(u,"reverse"),l.a=u},Yugg:function(j,l,h){"use strict";h.r(l),h.d(l,"locateWindow",function(){return f});const S={};function f(){return typeof window<"u"?window:typeof self<"u"?self:S}o(f,"locateWindow")},Yvks:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.AudioInputRequestFailed=1]="AudioInputRequestFailed",f[f.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",f[f.ConnectionFailed=3]="ConnectionFailed",f[f.AudioNotReceived=4]="AudioNotReceived"})(S=l.CheckAudioConnectivityFeedback||(l.CheckAudioConnectivityFeedback={})),l.default=S},"Z/hr":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("U9CR")),u=S(h("ppUg")),g=S(h("uQnq"));let a=o(class fl{static connectVideoStreamToVideoElement(i,e,t){const n=t&&i.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(fl.setVideoElementFlag(e,"disablePictureInPicture",t),fl.setVideoElementFlag(e,"disableRemotePlayback",t),e.style.transform!==n&&(e.style.transform=n),e.hasAttribute("controls")&&e.removeAttribute("controls"),e.hasAttribute("autoplay")||e.setAttribute("autoplay","true"),e.hasAttribute("playsinline")||e.setAttribute("playsinline","true"),e.hasAttribute("muted")||(e.setAttribute("muted","true"),e.muted=!0),e.srcObject!==i&&(e.srcObject=i,new f.default().requiresVideoPlayWorkaround()&&e.paused)){const r=e.play();r!==void 0&&r.catch(c=>{console.warn("Error playing video in Safari",c)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(i)if(e)t||(i.srcObject=null,i.style.transform="");else{if(!i.srcObject)return;i.pause(),i.style.transform="",fl.setVideoElementFlag(i,"disablePictureInPicture",!1),fl.setVideoElementFlag(i,"disableRemotePlayback",!1),i.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&fl.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new g.default}devicePixelRatioChanged(i){this.tileState.devicePixelRatio=i,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(i,e,t,n,r,c,p){let m=!1;this.tileState.boundAttendeeId!==i&&(this.tileState.boundAttendeeId=i,new u.default(i).hasModality(u.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),m=!0),this.tileState.boundExternalUserId!==p&&(this.tileState.boundExternalUserId=p,m=!0),this.tileState.localTile!==e&&(this.tileState.localTile=e,m=!0),this.tileState.boundVideoStream!==t&&(this.tileState.boundVideoStream=t,m=!0),this.tileState.videoStreamContentWidth!==n&&(this.tileState.videoStreamContentWidth=n,m=!0),this.tileState.videoStreamContentHeight!==r&&(this.tileState.videoStreamContentHeight=r,m=!0),this.tileState.streamId!==c&&(this.tileState.streamId=c,m=!0),m&&this.sendTileStateUpdate()}bindVideoElement(i){let e=!1;this.tileState.boundVideoElement!==i&&(this.tileState.boundVideoElement=i,e=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==i.clientWidth&&(this.tileState.videoElementCSSWidthPixels=i.clientWidth,e=!0),this.tileState.videoElementCSSHeightPixels!==i.clientHeight&&(this.tileState.videoElementCSSHeightPixels=i.clientHeight,e=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),e&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const i=document.createElement("canvas"),e=this.tileState.boundVideoElement;i.width=e.videoWidth||e.width,i.height=e.videoHeight||e.height;const t=i.getContext("2d");return t.drawImage(e,0,0,i.width,i.height),t.getImageData(0,0,i.width,i.height)}setStreamId(i){this.tileState.streamId=i,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?fl.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):fl.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(i,e,t){e in i&&(i[e]=t)}constructor(i,e,t,n){this.tileController=t,this.devicePixelRatioMonitor=n,this.tileState=new g.default,this.tileState.tileId=i,this.tileState.localTile=e,this.devicePixelRatioMonitor.registerObserver(this)}},"DefaultVideoTile");l.default=a},Z0UI:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptAlternative");l.default=S},ZHiL:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("mlaT")),u=S(h("aZJ3"));let g=o(class extends u.default{constructor(){super(f.default.DEBUG)}},"NoOpDebugLogger");l.default=g},ZISg:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(c,p,m,d){function y(E){return E instanceof m?E:new m(function(w){w(E)})}return o(y,"adopt"),new(m||(m=Promise))(function(E,w){function k(F){try{N(d.next(F))}catch(P){w(P)}}o(k,"fulfilled");function V(F){try{N(d.throw(F))}catch(P){w(P)}}o(V,"rejected");function N(F){F.done?E(F.value):y(F.value).then(k,V)}o(N,"step"),N((d=d.apply(c,p||[])).next())})},f=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("wXa7")),g=f(h("aTUL")),a=h("/AJg"),s=f(h("HbHZ")),i=f(h("VhCr")),e=h("XCDq"),t=h("T44/"),n=f(h("j+uH"));let r=o(class extends n.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){let p="";if(this.context.peer&&this.context.peer.localDescription&&(p=new u.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let N=0,F=0;this.context.videoCaptureAndEncodeParameter&&(N=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),F=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const P={rid:"hi",maxBitrate:F*1e3,maxFramerate:N,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([P])}this.context.videoStreamIndex.subscribeFrameSent();const m=this.fixUpSubscriptionOrder(p,this.context.videoSubscriptions),d=this.context.videoDuplexMode===e.SdkStreamServiceType.TX||this.context.videoDuplexMode===e.SdkStreamServiceType.DUPLEX;let y;const E=p;if(this.context.serverSupportsCompression){const N=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";y=this.textCompressor.compress(E,N),this.context.logger.info(`Compressed the SDP message from ${E.length} to ${y.length} bytes.`),p=""}this.context.previousSdpOffer=new u.default(E);const w=new i.default(this.context.meetingSessionConfiguration.credentials.attendeeId,p,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,m,d,this.context.videoStreamIndex.localStreamDescriptions(),!0,y);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!a.serverSideNetworkAdaptionIsNoneOrDefault(this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(w.videoSubscriptionConfiguration=t.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(this.context,m.map(N=>N===0?0:this.context.videoStreamIndex.groupIdForStreamId(N)),this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(w)}`),this.context.signalingClient.subscribe(w);const k=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(k)}`);let V="";k.compressedSdpAnswer&&k.compressedSdpAnswer.length?(V=this.textCompressor.decompress(k.compressedSdpAnswer,this.context.previousSdpAnswerAsString),V.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${k.compressedSdpAnswer.length} to ${V.length} bytes.`),this.context.sdpAnswer=V):this.context.sdpAnswer=k.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(k)})}fixUpSubscriptionOrder(p,m){if(this.context.transceiverController.getMidForStreamId===void 0)return m;const d=new Map;for(const w of m){const k=this.context.transceiverController.getMidForStreamId(w);if(k===void 0){w!==0&&this.logger.warn(`Could not find MID for stream ID: ${w}`);continue}d.set(k,w)}const y=new u.default(p).mediaSections(),E=[];for(const w of y)if(w.mediaType==="video")if(w.direction==="recvonly"){const k=d.get(w.mid);if(k===void 0){this.logger.warn(`Could not find stream ID for MID: ${w.mid}`);continue}E.push(k)}else E.push(0);return this.logger.info(`Fixed up ${JSON.stringify(m)} to ${JSON.stringify(E)} (may be same))}`),E}receiveSubscribeAck(){return new Promise((p,m)=>{let d=o(class{cancel(){this.signalingClient.removeObserver(this),m(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(w){if(w.type===s.default.WebSocketClosed){this.cancel();return}else if(w.type!==s.default.ReceivedSignalFrame||w.message.type!==e.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const k=w.message.suback;p(k)}constructor(w){this.signalingClient=w}},"Interceptor");const y=new d(this.context.signalingClient);this.context.signalingClient.registerObserver(y),this.taskCanceler=y})}constructor(p){super(p.logger),this.context=p,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new g.default(p.logger)}},"SubscribeAndReceiveSubscribeAckTask");l.default=r},ZIUS:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}},"RealtimeVolumeIndicator");l.default=S},ZIxo:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Sha256=void 0;var S=h("dFEU"),f=h("b4Ml"),u=h("xxdO"),g=h("bVud"),a=h("YX4P"),s=h("Yugg"),i=h("pU0T"),e=function(){function t(n){(0,g.supportsWebCrypto)((0,s.locateWindow)())?this.hash=new f.Sha256(n):(0,a.isMsWindow)((0,s.locateWindow)())?this.hash=new S.Sha256(n):this.hash=new u.Sha256(n)}return o(t,"Sha256"),t.prototype.update=function(n,r){this.hash.update((0,i.convertToBuffer)(n))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();l.Sha256=e},ZPwG:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(m,d,y,E){function w(k){return k instanceof y?k:new y(function(V){V(k)})}return o(w,"adopt"),new(y||(y=Promise))(function(k,V){function N(B){try{P(E.next(B))}catch(O){V(O)}}o(N,"fulfilled");function F(B){try{P(E.throw(B))}catch(O){V(O)}}o(F,"rejected");function P(B){B.done?k(B.value):w(B.value).then(N,F)}o(P,"step"),P((E=E.apply(m,d||[])).next())})},f=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("6Bxv")),g=f(h("lUhs")),a=f(h("AUdx")),s=f(h("MelK")),i=h("DUgj"),e=f(h("hEYi")),t=f(h("iFpF")),n=h("f2XL"),r=h("P7D+"),c=f(h("aVV0"));let p=o(class extends c.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){let d="";if(this.context.peer&&this.context.peer.localDescription&&(d=new a.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let P=0,B=0;this.context.videoCaptureAndEncodeParameter&&(P=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),B=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const O={rid:"hi",maxBitrate:B*1e3,maxFramerate:P,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([O])}this.context.videoStreamIndex.subscribeFrameSent();const y=this.fixUpSubscriptionOrder(d,this.context.videoSubscriptions),E=this.context.videoDuplexMode===n.SdkStreamServiceType.TX||this.context.videoDuplexMode===n.SdkStreamServiceType.DUPLEX;let w,k=d;if((this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension===void 0||!this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension())&&(k=new a.default(k).withoutDependencyDescriptorRtpHeaderExtension().sdp),this.context.serverSupportsCompression){const P=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";w=this.textCompressor.compress(k,P),this.context.logger.info(`Compressed the SDP message from ${k.length} to ${w.length} bytes.`),d=""}this.context.previousSdpOffer=new a.default(d);const V=new t.default(this.context.meetingSessionConfiguration.credentials.attendeeId,d,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,y,E,this.context.videoStreamIndex.localStreamDescriptions(),!0,w);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!i.serverSideNetworkAdaptionIsNoneOrDefault(this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(V.videoSubscriptionConfiguration=r.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(this.context,y.map(P=>P===0?0:this.context.videoStreamIndex.groupIdForStreamId(P)),this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(V)}`),this.context.signalingClient.subscribe(V);const N=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(N)}`);let F="";N.compressedSdpAnswer&&N.compressedSdpAnswer.length?(F=this.textCompressor.decompress(N.compressedSdpAnswer,this.context.previousSdpAnswerAsString),F.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${N.compressedSdpAnswer.length} to ${F.length} bytes.`),this.context.sdpAnswer=F):this.context.sdpAnswer=N.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(N)})}fixUpSubscriptionOrder(d,y){if(this.context.transceiverController.getMidForStreamId===void 0)return y;const E=new Map;for(const V of y){const N=this.context.transceiverController.getMidForStreamId(V);if(N===void 0){V!==0&&this.logger.warn(`Could not find MID for stream ID: ${V}`);continue}E.set(N,V)}const w=new a.default(d).mediaSections(),k=[];for(const V of w)if(V.mediaType==="video")if(V.direction==="recvonly"){const N=E.get(V.mid);if(N===void 0){this.logger.warn(`Could not find stream ID for MID: ${V.mid}`);continue}k.push(N)}else k.push(0);return this.logger.info(`Fixed up ${JSON.stringify(y)} to ${JSON.stringify(k)} (may be same))}`),k}receiveSubscribeAck(){return new Promise((d,y)=>{const E=this.context;let w=o(class{cancel(){this.signalingClient.removeObserver(this),y(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(N){if(N.isConnectionTerminated()){const P=`SubscribeAndReceiveSubscribeAckTask connection was terminated with code ${N.closeCode} and reason: ${N.closeReason}`;E.logger.warn(P);let B=g.default.TaskFailed;N.closeCode>=4500&&N.closeCode<4600&&(B=g.default.SignalingInternalServerError),E.audioVideoController.handleMeetingSessionStatus(new u.default(B),new Error(P));return}if(N.type!==e.default.ReceivedSignalFrame||N.message.type!==n.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const F=N.message.suback;d(F)}constructor(N){this.signalingClient=N}},"Interceptor");const k=new w(this.context.signalingClient);this.context.signalingClient.registerObserver(k),this.taskCanceler=k})}constructor(d){super(d.logger),this.context=d,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new s.default(d.logger)}},"SubscribeAndReceiveSubscribeAckTask");l.default=p},ZS2b:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class AS{equal(u){return this.remoteVideoAvailable===u.remoteVideoAvailable&&this.canStartLocalVideo===u.canStartLocalVideo}clone(){const u=new AS;return u.remoteVideoAvailable=this.remoteVideoAvailable,u.canStartLocalVideo=this.canStartLocalVideo,u}constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}},"MeetingSessionVideoAvailability");l.default=S},ZXtA:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=.8;let f=o(class{reportEvent(g){const a=g-this.lastReportedEventTimestamp;if(a>=this.reportingPeriodMillis){const s=this.filterCount,i=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=g,this.framerate===0||s===0)return;const e=Math.round(i/s),t=Math.round(this.framerate*(a/1e3))-s,n=Math.round(100*i/a);e>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:t,avgFilterDurationMillis:e,framerate:this.framerate,periodMillis:a}),n>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:n,filterMillis:i,periodMillis:a})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*S)}frameReceived(g){g!==this.framerate&&(this.framerate=g,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const a=Date.now();this.reportEvent(a)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}constructor(g,a,s,i){this.delegate=g,this.reportingPeriodMillis=a,this.filterCPUUtilization=s,this.logger=i,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}},"BackgroundFilterFrameCounter");l.default=f},ZZPe:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(u,g,a,s){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(p){try{c(s.next(p))}catch(m){t(m)}}o(n,"fulfilled");function r(p){try{c(s.throw(p))}catch(m){t(m)}}o(r,"rejected");function c(p){p.done?e(p.value):i(p.value).then(n,r)}o(c,"step"),c((s=s.apply(u,g||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let f=o(class{process(g){return S(this,void 0,void 0,function*(){return g})}destroy(){return S(this,void 0,void 0,function*(){})}},"NoOpVideoFrameProcessor");l.default=f},ZdbB:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(t,n,r,c){function p(m){return m instanceof r?m:new r(function(d){d(m)})}return o(p,"adopt"),new(r||(r=Promise))(function(m,d){function y(k){try{w(c.next(k))}catch(V){d(V)}}o(y,"fulfilled");function E(k){try{w(c.throw(k))}catch(V){d(V)}}o(E,"rejected");function w(k){k.done?m(k.value):p(k.value).then(y,E)}o(w,"step"),w((c=c.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("f3u9")),g=f(h("OcJO")),a=f(h("mlaT")),s=f(h("3sEM")),i=f(h("F7zz"));let e=o(class{setEncodingParameters(n){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const r=this._localCameraTransceiver.sender;if(!n||n.size===0)return;const c=Array.from(n.values()),p=r.getParameters();if(!p.encodings||p.encodings.length===0)p.encodings=c;else for(const m of p.encodings)for(const d of c){if((m.rid||d.rid)&&m.rid!==d.rid)continue;let y;for(y in d)y==="rid"||y==="codecPayloadType"||d.hasOwnProperty(y)&&(m[y]=d[y])}yield r.setParameters(p)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(n){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const r=this._localCameraTransceiver.sender;if(!r||n<=0)return;const c=r.getParameters();c.encodings||(c.encodings=[{}]);for(const p of c.encodings)p.maxBitrate=n*1e3;yield r.setParameters(c)})}setPeer(n){this.peer=n}reset(){this.destroyAudioRedWorkerAndStates(),this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(n){return this._localCameraTransceiver?n===this._localCameraTransceiver.sender.track||n===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){var n,r;this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((r=(n=this.meetingSessionContext)===null||n===void 0?void 0:n.audioProfile)===null||r===void 0)&&r.hasRedundancyEnabled()&&this.setupAudioRedWorker()),this._localCameraTransceiver||(this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(n){return S(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(n),!0)})}setAudioInput(n){return S(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,n)})}setVideoInput(n){return S(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,n)})}updateVideoTransceivers(n,r){if(!this.useTransceivers())return r.array();const c=this.peer.getTransceivers();return this.videoSubscriptions=[0],r=r.clone(),this.updateTransceivers(c,n,r),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(n,r,c){const p=c.array();n.length!==0&&!n[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(n,r,p)):n.length!==0&&this.updateTransceiverWithStop(n,r,p);for(const m of p){const d=this.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(m,d),this.groupIdToTransceiver.set(r.groupIdForStreamId(m),d),this.videoSubscriptions.push(m),this.logger.info(`adding transceiver mid: ${d.mid} subscription: ${m} direction: recvonly`)}}updateTransceiverWithStop(n,r,c){let p=1;this.videoSubscriptions=[0];for(const m of n){if(m===this._localCameraTransceiver||!this.transceiverIsVideo(m)||!m.mid)continue;let d=!1;const y=r.streamIdForTrack("v_"+m.mid);if(m.direction!=="inactive"&&y!==void 0){for(const[E,w]of c.entries())if(r.StreamIdsInSameGroup(y,w)){m.direction="recvonly",this.videoSubscriptions[p]=w,d=!0,this.streamIdToTransceiver.delete(y),this.streamIdToTransceiver.set(w,m),c.splice(E,1);break}}if(!d){this.videoSubscriptions[p]=0,this.logger.info(`Stopping MID: ${m.mid}, direction: ${m.direction}, current direction: ${m.currentDirection}`),m.stop();for(const[E,w]of this.streamIdToTransceiver.entries())m.mid===w.mid&&(this.streamIdToTransceiver.delete(E),this.groupIdToTransceiver.delete(r.groupIdForStreamId(E)))}p+=1}}updateTransceiverWithoutStop(n,r,c){let p=1;for(const m of n)if(!(m===this._localCameraTransceiver||!this.transceiverIsVideo(m))){if(this.videoSubscriptions[p]=0,m.direction!=="inactive"){const d=r.streamIdForTrack("v_"+m.mid);if(d!==void 0){for(const[y,E]of c.entries())if(r.StreamIdsInSameGroup(d,E)){m.direction="recvonly",this.videoSubscriptions[p]=E,this.streamIdToTransceiver.delete(d),this.streamIdToTransceiver.set(E,m),c.splice(y,1);break}}}p+=1}p=1;for(const m of n)if(!(m===this._localCameraTransceiver||!this.transceiverIsVideo(m))){if(m.direction==="inactive"&&c.length>0){m.direction="recvonly";const d=c.shift();this.videoSubscriptions[p]=d,this.streamIdToTransceiver.set(d,m),this.groupIdToTransceiver.set(r.groupIdForStreamId(d),m)}else if(this.videoSubscriptions[p]===0){m.direction="inactive";for(const[d,y]of this.streamIdToTransceiver.entries())m===y&&(this.streamIdToTransceiver.delete(d),this.groupIdToTransceiver.delete(r.groupIdForStreamId(d)))}p+=1}}getMidForStreamId(n){var r;return(r=this.streamIdToTransceiver.get(n))===null||r===void 0?void 0:r.mid}setStreamIdForMid(n,r){for(const[c,p]of this.streamIdToTransceiver.entries())if(p.mid===n){this.streamIdToTransceiver.delete(c),this.streamIdToTransceiver.set(r,p);return}}getMidForGroupId(n){var r;return(r=this.groupIdToTransceiver.get(n))===null||r===void 0?void 0:r.mid}transceiverIsVideo(n){return n.receiver&&n.receiver.track&&n.receiver.track.kind==="video"||n.sender&&n.sender.track&&n.sender.track.kind==="video"}debugDumpTransceivers(){let n="",r=0;for(const c of this.peer.getTransceivers())this.transceiverIsVideo(c)&&(n+=`transceiver index=${r} mid=${c.mid} subscription=${this.videoSubscriptions[r]} direction=${c.direction}
`,r+=1);return n}setTransceiverInput(n,r){return S(this,void 0,void 0,function*(){n&&(r?n.direction="sendrecv":n.direction="inactive",yield n.sender.replaceTrack(r))})}forEachRedMetricsObserver(n){for(const r of this.redMetricsObservers)i.default.nextTick(()=>{this.redMetricsObservers.has(r)&&r.recoveryMetricsDidReceive(n)})}disableAudioRedundancy(){this.meetingSessionContext.audioProfile=new u.default(this.meetingSessionContext.audioProfile.audioBitrateBps,!1),this.meetingSessionContext.audioVideoController.setAudioProfile(this.meetingSessionContext.audioProfile)}setupAudioRedWorker(){var n,r;const c=!!window.RTCRtpScriptTransform,p=!!RTCRtpSender.prototype.createEncodedStreams;if(c)this.logger.info("[AudioRed] Supports encoded insertable streams using RTCRtpScriptTransform");else if(p)this.logger.info("[AudioRed] Supports encoded insertable streams using TransformStream");else throw this.disableAudioRedundancy(),new Error("[AudioRed] Encoded insertable streams not supported. Recreating peer connection with audio redundancy disabled.");const m=s.default.toString(),d=m.match(/class\s*(\w+)\s*\{/)[1],y=[m];this.logger.getLogLevel()===a.default.DEBUG&&y.push(`${d}.shouldLogDebug=1;`),y.push(`${d}.shouldReportStats=1;`),y.push(`${d}.initializeWorker();`),this.audioRedWorkerURL=URL.createObjectURL(new Blob(y,{type:"application/javascript"})),this.logger.info(`[AudioRed] Redundant audio worker URL ${this.audioRedWorkerURL}`);try{this.audioRedWorker=new Worker(this.audioRedWorkerURL)}catch(E){throw this.logger.error(`[AudioRed] Unable to create audio red worker due to ${E}`),URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.disableAudioRedundancy(),this.logger.info("[AudioRed] Recreating peer connection with audio redundancy disabled"),E}if(this.audioRedEnabled=!0,this.audioRedWorker.onmessage=E=>{if(E.data.type==="REDWorkerDebugLog")this.logger.debug(E.data.log);else if(E.data.type==="RedundantAudioEncoderStats"){const w=new g.default;w.currentTimestampMs=Date.now(),w.ssrc=E.data.ssrc,w.totalAudioPacketsLost=E.data.totalAudioPacketsLost,w.totalAudioPacketsExpected=E.data.totalAudioPacketsExpected,w.totalAudioPacketsRecoveredRed=E.data.totalAudioPacketsRecoveredRed,w.totalAudioPacketsRecoveredFec=E.data.totalAudioPacketsRecoveredFec,this.forEachRedMetricsObserver(w)}},c)this._localAudioTransceiver.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"SenderTransform"}),this._localAudioTransceiver.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"ReceiverTransform"});else if(p){const E=this._localAudioTransceiver.sender.createEncodedStreams(),w=this._localAudioTransceiver.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"StartRedWorker",send:E,receive:w},[E.readable,E.writable,w.readable,w.writable])}(n=this.meetingSessionContext)===null||n===void 0||n.audioVideoController.addObserver(this),this.addRedundantAudioRecoveryMetricsObserver((r=this.meetingSessionContext)===null||r===void 0?void 0:r.statsCollector)}addTransceiver(n,r){var c;const p=this.peer.addTransceiver(n,r);if(!(!((c=this.peer.getConfiguration())===null||c===void 0)&&c.encodedInsertableStreams)||!this.audioRedWorker)return p;const m=!!window.RTCRtpScriptTransform,d=!!RTCRtpSender.prototype.createEncodedStreams;if(m)p.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"}),p.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"});else if(d){const y=p.sender.createEncodedStreams();y.readable.pipeTo(y.writable);const E=p.receiver.createEncodedStreams();E.readable.pipeTo(E.writable)}return p}destroyAudioRedWorkerAndStates(){var n,r;this.audioRedWorker&&(URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.audioRedEnabled=!0,(n=this.meetingSessionContext)===null||n===void 0||n.audioVideoController.removeObserver(this),this.removeRedundantAudioRecoveryMetricsObserver((r=this.meetingSessionContext)===null||r===void 0?void 0:r.statsCollector))}setAudioPayloadTypes(n){this.audioRedWorker&&(this.audioRedWorker.postMessage({msgType:"RedPayloadType",payloadType:n.get("red")}),this.audioRedWorker.postMessage({msgType:"OpusPayloadType",payloadType:n.get("opus")}))}metricsDidReceive(n){const{currentTimestampMs:r}=n,c=n.getRTCStatsReport();let p=0,m=0;if(c.forEach(V=>{V.kind==="audio"&&(V.type==="outbound-rtp"?p=V.packetsSent:V.type==="remote-inbound-rtp"&&(m=V.packetsLost))}),this.audioMetricsHistory.length>0&&p<=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent)return;this.audioMetricsHistory.push({timestampMs:r,totalPacketsSent:p,totalPacketsLost:m}),this.audioMetricsHistory.length>this.maxAudioMetricsHistory&&this.audioMetricsHistory.shift();const d=this.lossPercent(this.audioRedPacketLossShortEvalPeriodMs),y=this.lossPercent(this.audioRedPacketLossLongEvalPeriodMs),E=Math.max(d,y),[w,k]=s.default.getNumRedundantEncodingsForPacketLoss(E);if(k){this.lastHighPacketLossEventTimestampMs=r,this.audioRedEnabled&&(this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Disable"}),this.audioRedEnabled=!1,this.lastAudioRedTurnOffTimestampMs=r);return}else if(!this.audioRedEnabled){const V=r-this.lastAudioRedTurnOffTimestampMs,N=r-this.lastHighPacketLossEventTimestampMs;if(V>=this.audioRedPacketLossLongEvalPeriodMs&&N<this.redRecoveryTimeMs)return;this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Enable"}),this.audioRedEnabled=!0,this.maybeResetHoldDownTimer(r)}this.shouldUpdateAudioRedWorkerEncodings(r,w)&&this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"UpdateNumRedundantEncodings",numRedundantEncodings:w})}maybeResetHoldDownTimer(n){this.currentNumRedundantEncodings>0&&(this.lastRedHolddownTimerStartTimestampMs=n)}lossPercent(n){if(this.audioMetricsHistory.length<2)return 0;const r=this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs,c=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent,p=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsLost;for(let m=this.audioMetricsHistory.length-2;m>=0;m--)if(r-this.audioMetricsHistory[m].timestampMs>=n){const d=p-this.audioMetricsHistory[m].totalPacketsLost,y=c-this.audioMetricsHistory[m].totalPacketsSent;let E=100*(d/y);return E<0?E=0:E>100&&(E=100),E}return 0}shouldUpdateAudioRedWorkerEncodings(n,r){return this.currentNumRedundantEncodings===r?(this.maybeResetHoldDownTimer(n),!1):r<this.currentNumRedundantEncodings&&n-this.lastRedHolddownTimerStartTimestampMs<this.audioRedHoldDownTimeMs?!1:(this.currentNumRedundantEncodings=r,this.maybeResetHoldDownTimer(n),!0)}addRedundantAudioRecoveryMetricsObserver(n){this.redMetricsObservers.add(n)}removeRedundantAudioRecoveryMetricsObserver(n){this.redMetricsObservers.delete(n)}constructor(n,r,c){this.logger=n,this.browserBehavior=r,this.meetingSessionContext=c,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map,this.groupIdToTransceiver=new Map,this.audioRedWorker=null,this.audioRedWorkerURL=null,this.audioMetricsHistory=new Array,this.redMetricsObservers=new Set,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.maxAudioMetricsHistory=20,this.audioRedPacketLossShortEvalPeriodMs=5*1e3,this.audioRedPacketLossLongEvalPeriodMs=15*1e3,this.audioRedHoldDownTimeMs=5*60*1e3,this.redRecoveryTimeMs=1*60*1e3}},"DefaultTransceiverController");l.default=e},Zful:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("oHvd"));let u=o(class sa extends f.default{health(){if(this.currentData.isConnectionStartRecent(sa.CONNECTION_WAIT_TIME_MS))return 1;const s=this.currentData.consecutiveStatsWithNoPackets>=sa.CONNECTION_UNHEALTHY_THRESHOLD,i=this.currentData.consecutiveMissedPongs>=sa.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>sa.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const e=this.audioDelayPointsOverMaximum>sa.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return e&&(this.audioDelayPointsOverMaximum=0),s||i||e?(this.logger.warn(`reconnection recommended due to: no packets received: ${s}, missed pongs: ${i}, bad audio delay: ${e}`),0):1}constructor(a,s,i){super(s,i,"Reconnection Health"),this.logger=a,this.audioDelayPointsOverMaximum=0,sa.CONNECTION_UNHEALTHY_THRESHOLD=s.connectionUnhealthyThreshold,sa.CONNECTION_WAIT_TIME_MS=s.connectionWaitTimeMs,sa.MISSED_PONGS_THRESHOLD=s.missedPongsUpperThreshold,sa.MAXIMUM_AUDIO_DELAY_MS=s.maximumAudioDelayMs,sa.MAXIMUM_AUDIO_DELAY_DATA_POINTS=s.maximumAudioDelayDataPoints}},"ReconnectionHealthPolicy");l.default=u},Zhxc:function(j,l,h){"use strict";var S=h("c3gm"),f=h("XFRR"),u=4294967295;function g(V){this.__wrapped__=V,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=u,this.__views__=[]}o(g,"LazyWrapper"),g.prototype=Object(S.a)(f.a.prototype),g.prototype.constructor=g;var a=g,s=h("+j7y"),i=h("ftz4"),e=h("Gn1W"),t=h("/1FC"),n=h("EUcb"),r=h("eAQQ");function c(V){if(V instanceof a)return V.clone();var N=new e.a(V.__wrapped__,V.__chain__);return N.__actions__=Object(r.a)(V.__actions__),N.__index__=V.__index__,N.__values__=V.__values__,N}o(c,"wrapperClone");var p=c,m=Object.prototype,d=m.hasOwnProperty;function y(V){if(Object(n.a)(V)&&!Object(t.a)(V)&&!(V instanceof a)){if(V instanceof e.a)return V;if(d.call(V,"__wrapped__"))return p(V)}return new e.a(V)}o(y,"lodash"),y.prototype=f.a.prototype,y.prototype.constructor=y;var E=y;function w(V){var N=Object(i.a)(V),F=E[N];if(typeof F!="function"||!(N in a.prototype))return!1;if(V===F)return!0;var P=Object(s.a)(F);return!!P&&V===P[0]}o(w,"isLaziable");var k=l.a=w},Zit3:function(j,l,h){"use strict";h.r(l),h.d(l,"__Client",function(){return yr}),h.d(l,"ChimeSDKMessagingClient",function(){return _o}),h.d(l,"ChimeSDKMessaging",function(){return Wd}),h.d(l,"$Command",function(){return En}),h.d(l,"AssociateChannelFlowCommand",function(){return ud}),h.d(l,"BatchCreateChannelMembershipCommand",function(){return fd}),h.d(l,"ChannelFlowCallbackCommand",function(){return hd}),h.d(l,"CreateChannelBanCommand",function(){return pd}),h.d(l,"CreateChannelCommand",function(){return md}),h.d(l,"CreateChannelFlowCommand",function(){return gd}),h.d(l,"CreateChannelMembershipCommand",function(){return Oi}),h.d(l,"CreateChannelModeratorCommand",function(){return Sn}),h.d(l,"DeleteChannelBanCommand",function(){return Ia}),h.d(l,"DeleteChannelCommand",function(){return Yi}),h.d(l,"DeleteChannelFlowCommand",function(){return $a}),h.d(l,"DeleteChannelMembershipCommand",function(){return qi}),h.d(l,"DeleteChannelMessageCommand",function(){return Ue}),h.d(l,"DeleteChannelModeratorCommand",function(){return so}),h.d(l,"DeleteMessagingStreamingConfigurationsCommand",function(){return Ka}),h.d(l,"DescribeChannelBanCommand",function(){return si}),h.d(l,"DescribeChannelCommand",function(){return Nr}),h.d(l,"DescribeChannelFlowCommand",function(){return Rr}),h.d(l,"DescribeChannelMembershipCommand",function(){return Ja}),h.d(l,"DescribeChannelMembershipForAppInstanceUserCommand",function(){return na}),h.d(l,"DescribeChannelModeratedByAppInstanceUserCommand",function(){return ut}),h.d(l,"DescribeChannelModeratorCommand",function(){return xr}),h.d(l,"DisassociateChannelFlowCommand",function(){return Ol}),h.d(l,"GetChannelMembershipPreferencesCommand",function(){return Ml}),h.d(l,"GetChannelMessageCommand",function(){return Ya}),h.d(l,"GetChannelMessageStatusCommand",function(){return Xa}),h.d(l,"GetMessagingSessionEndpointCommand",function(){return Qa}),h.d(l,"GetMessagingStreamingConfigurationsCommand",function(){return ia}),h.d(l,"ListChannelBansCommand",function(){return pa}),h.d(l,"ListChannelFlowsCommand",function(){return wa}),h.d(l,"ListChannelMembershipsCommand",function(){return Oa}),h.d(l,"ListChannelMembershipsForAppInstanceUserCommand",function(){return ma}),h.d(l,"ListChannelMessagesCommand",function(){return Za}),h.d(l,"ListChannelModeratorsCommand",function(){return qa}),h.d(l,"ListChannelsAssociatedWithChannelFlowCommand",function(){return Ma}),h.d(l,"ListChannelsCommand",function(){return ra}),h.d(l,"ListChannelsModeratedByAppInstanceUserCommand",function(){return Ei}),h.d(l,"ListSubChannelsCommand",function(){return bi}),h.d(l,"ListTagsForResourceCommand",function(){return el}),h.d(l,"PutChannelExpirationSettingsCommand",function(){return tl}),h.d(l,"PutChannelMembershipPreferencesCommand",function(){return Rl}),h.d(l,"PutMessagingStreamingConfigurationsCommand",function(){return Al}),h.d(l,"RedactChannelMessageCommand",function(){return Ra}),h.d(l,"SearchChannelsCommand",function(){return nl}),h.d(l,"SendChannelMessageCommand",function(){return _s}),h.d(l,"TagResourceCommand",function(){return Aa}),h.d(l,"UntagResourceCommand",function(){return Pl}),h.d(l,"UpdateChannelCommand",function(){return il}),h.d(l,"UpdateChannelFlowCommand",function(){return oa}),h.d(l,"UpdateChannelMessageCommand",function(){return rl}),h.d(l,"UpdateChannelReadMarkerCommand",function(){return _l}),h.d(l,"paginateListChannelBans",function(){return jd}),h.d(l,"paginateListChannelFlows",function(){return vd}),h.d(l,"paginateListChannelMembershipsForAppInstanceUser",function(){return Mf}),h.d(l,"paginateListChannelMemberships",function(){return Rf}),h.d(l,"paginateListChannelMessages",function(){return Jd}),h.d(l,"paginateListChannelModerators",function(){return Qo}),h.d(l,"paginateListChannelsAssociatedWithChannelFlow",function(){return kc}),h.d(l,"paginateListChannelsModeratedByAppInstanceUser",function(){return Lc}),h.d(l,"paginateListChannels",function(){return _f}),h.d(l,"paginateListSubChannels",function(){return sl}),h.d(l,"paginateSearchChannels",function(){return Nc}),h.d(l,"AllowNotifications",function(){return Rh}),h.d(l,"ChannelMembershipType",function(){return Ah}),h.d(l,"ErrorCode",function(){return Ph}),h.d(l,"BadRequestException",function(){return Ql}),h.d(l,"ConflictException",function(){return Zl}),h.d(l,"ForbiddenException",function(){return ql}),h.d(l,"NotFoundException",function(){return ed}),h.d(l,"ServiceFailureException",function(){return td}),h.d(l,"ServiceUnavailableException",function(){return nd}),h.d(l,"ThrottledClientException",function(){return id}),h.d(l,"UnauthorizedClientException",function(){return rd}),h.d(l,"ResourceLimitExceededException",function(){return od}),h.d(l,"ExpirationCriterion",function(){return _h}),h.d(l,"ChannelMode",function(){return kh}),h.d(l,"ChannelPrivacy",function(){return Dh}),h.d(l,"InvocationType",function(){return Lh}),h.d(l,"FallbackAction",function(){return Nh}),h.d(l,"PushNotificationType",function(){return xh}),h.d(l,"ChannelMessagePersistenceType",function(){return Bh}),h.d(l,"ChannelMessageStatus",function(){return Fh}),h.d(l,"ChannelMessageType",function(){return Vh}),h.d(l,"MessagingDataType",function(){return Uh}),h.d(l,"SortOrder",function(){return Hh}),h.d(l,"SearchFieldKey",function(){return zh}),h.d(l,"SearchFieldOperator",function(){return Wh}),h.d(l,"IdentityFilterSensitiveLog",function(){return Dr}),h.d(l,"BatchChannelMembershipsFilterSensitiveLog",function(){return pu}),h.d(l,"BatchCreateChannelMembershipResponseFilterSensitiveLog",function(){return mu}),h.d(l,"ChannelFilterSensitiveLog",function(){return gu}),h.d(l,"ChannelAssociatedWithFlowSummaryFilterSensitiveLog",function(){return Su}),h.d(l,"ChannelBanFilterSensitiveLog",function(){return vu}),h.d(l,"ChannelBanSummaryFilterSensitiveLog",function(){return yu}),h.d(l,"ProcessorFilterSensitiveLog",function(){return sd}),h.d(l,"ChannelFlowFilterSensitiveLog",function(){return bu}),h.d(l,"MessageAttributeValueFilterSensitiveLog",function(){return ad}),h.d(l,"PushNotificationConfigurationFilterSensitiveLog",function(){return Ic}),h.d(l,"ChannelMessageCallbackFilterSensitiveLog",function(){return Cu}),h.d(l,"ChannelFlowCallbackRequestFilterSensitiveLog",function(){return Eu}),h.d(l,"ChannelFlowSummaryFilterSensitiveLog",function(){return Tu}),h.d(l,"ChannelMembershipFilterSensitiveLog",function(){return Iu}),h.d(l,"ChannelSummaryFilterSensitiveLog",function(){return ld}),h.d(l,"ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog",function(){return wc}),h.d(l,"PushNotificationPreferencesFilterSensitiveLog",function(){return wu}),h.d(l,"ChannelMembershipPreferencesFilterSensitiveLog",function(){return zd}),h.d(l,"ChannelMembershipSummaryFilterSensitiveLog",function(){return Ou}),h.d(l,"ChannelMessageFilterSensitiveLog",function(){return Mu}),h.d(l,"ChannelMessageSummaryFilterSensitiveLog",function(){return Ru}),h.d(l,"ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog",function(){return Oc}),h.d(l,"ChannelModeratorFilterSensitiveLog",function(){return Au}),h.d(l,"ChannelModeratorSummaryFilterSensitiveLog",function(){return Pu}),h.d(l,"TagFilterSensitiveLog",function(){return dd}),h.d(l,"CreateChannelRequestFilterSensitiveLog",function(){return _u}),h.d(l,"CreateChannelBanResponseFilterSensitiveLog",function(){return ku}),h.d(l,"CreateChannelFlowRequestFilterSensitiveLog",function(){return Du}),h.d(l,"CreateChannelMembershipResponseFilterSensitiveLog",function(){return Lu}),h.d(l,"CreateChannelModeratorResponseFilterSensitiveLog",function(){return Nu}),h.d(l,"DescribeChannelResponseFilterSensitiveLog",function(){return xu}),h.d(l,"DescribeChannelBanResponseFilterSensitiveLog",function(){return Bu}),h.d(l,"DescribeChannelFlowResponseFilterSensitiveLog",function(){return Fu}),h.d(l,"DescribeChannelMembershipResponseFilterSensitiveLog",function(){return Vu}),h.d(l,"DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog",function(){return Uu}),h.d(l,"DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog",function(){return Hu}),h.d(l,"DescribeChannelModeratorResponseFilterSensitiveLog",function(){return zu}),h.d(l,"GetChannelMembershipPreferencesResponseFilterSensitiveLog",function(){return Wu}),h.d(l,"GetChannelMessageResponseFilterSensitiveLog",function(){return ju}),h.d(l,"ListChannelBansRequestFilterSensitiveLog",function(){return Gu}),h.d(l,"ListChannelBansResponseFilterSensitiveLog",function(){return $u}),h.d(l,"ListChannelFlowsRequestFilterSensitiveLog",function(){return Ku}),h.d(l,"ListChannelFlowsResponseFilterSensitiveLog",function(){return Ju}),h.d(l,"ListChannelMembershipsRequestFilterSensitiveLog",function(){return Yu}),h.d(l,"ListChannelMembershipsResponseFilterSensitiveLog",function(){return Xu}),h.d(l,"ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog",function(){return Qu}),h.d(l,"ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog",function(){return Zu}),h.d(l,"ListChannelMessagesRequestFilterSensitiveLog",function(){return qu}),h.d(l,"ListChannelMessagesResponseFilterSensitiveLog",function(){return ef}),h.d(l,"ListChannelModeratorsRequestFilterSensitiveLog",function(){return tf}),h.d(l,"ListChannelModeratorsResponseFilterSensitiveLog",function(){return nf}),h.d(l,"ListChannelsRequestFilterSensitiveLog",function(){return rf}),h.d(l,"ListChannelsResponseFilterSensitiveLog",function(){return of}),h.d(l,"ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog",function(){return sf}),h.d(l,"ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog",function(){return af}),h.d(l,"ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog",function(){return lf}),h.d(l,"ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog",function(){return df}),h.d(l,"ListSubChannelsRequestFilterSensitiveLog",function(){return cf}),h.d(l,"ListSubChannelsResponseFilterSensitiveLog",function(){return uf}),h.d(l,"ListTagsForResourceResponseFilterSensitiveLog",function(){return ff}),h.d(l,"PutChannelMembershipPreferencesRequestFilterSensitiveLog",function(){return hf}),h.d(l,"PutChannelMembershipPreferencesResponseFilterSensitiveLog",function(){return pf}),h.d(l,"SearchChannelsRequestFilterSensitiveLog",function(){return mf}),h.d(l,"SearchChannelsResponseFilterSensitiveLog",function(){return gf}),h.d(l,"SendChannelMessageRequestFilterSensitiveLog",function(){return Sf}),h.d(l,"TagResourceRequestFilterSensitiveLog",function(){return vf}),h.d(l,"UntagResourceRequestFilterSensitiveLog",function(){return yf}),h.d(l,"UpdateChannelRequestFilterSensitiveLog",function(){return bf}),h.d(l,"UpdateChannelFlowRequestFilterSensitiveLog",function(){return Cf}),h.d(l,"UpdateChannelMessageRequestFilterSensitiveLog",function(){return Ef}),h.d(l,"ChimeSDKMessagingServiceException",function(){return ko});var S={};h.r(S),h.d(S,"isVirtualHostableS3Bucket",function(){return Js}),h.d(S,"parseArn",function(){return Ys}),h.d(S,"partition",function(){return Ms}),h.d(S,"setPartitionInfo",function(){return Ao}),h.d(S,"useDefaultPartitionInfo",function(){return Ni}),h.d(S,"getUserAgentPrefix",function(){return $s});var f={};h.r(f),h.d(f,"aws",function(){return S}),h.d(f,"booleanEquals",function(){return Xs}),h.d(f,"getAttr",function(){return Rs}),h.d(f,"isSet",function(){return la}),h.d(f,"isValidHostLabel",function(){return us}),h.d(f,"not",function(){return Xo}),h.d(f,"parseURL",function(){return Z}),h.d(f,"stringEquals",function(){return A}),h.d(f,"substring",function(){return Q}),h.d(f,"uriEncode",function(){return se});var u;(function(T){T.ENV="env",T.CONFIG="shared config entry"})(u||(u={}));const g=o((T,v,b)=>{if(v in T){if(T[v]==="true")return!0;if(T[v]==="false")return!1;throw new Error(`Cannot load ${b} "${v}". Expected "true" or "false", got ${T[v]}.`)}},"booleanSelector"),a="AWS_USE_DUALSTACK_ENDPOINT",s="use_dualstack_endpoint",i=!1,e={environmentVariableSelector:T=>g(T,a,u.ENV),configFileSelector:T=>g(T,s,u.CONFIG),default:!1},t="AWS_USE_FIPS_ENDPOINT",n="use_fips_endpoint",r=!1,c={environmentVariableSelector:T=>g(T,t,u.ENV),configFileSelector:T=>g(T,n,u.CONFIG),default:!1},p=o(T=>{if(typeof T=="function")return T;const v=Promise.resolve(T);return()=>v},"normalizeProvider"),m=o(T=>{const{endpoint:v,urlParser:b}=T;var I,x;return{...T,tls:(I=T.tls)!==null&&I!==void 0?I:!0,endpoint:p(typeof v=="string"?b(v):v),isCustomEndpoint:!0,useDualstackEndpoint:p((x=T.useDualstackEndpoint)!==null&&x!==void 0?x:!1)}},"resolveCustomEndpointsConfig");var d=h("9oTK");const y=function(){var T=Object(d.coroutine)(function*(v){const{tls:b=!0}=v,I=yield v.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(I))throw new Error("Invalid region in client config");const H=yield v.useDualstackEndpoint(),K=yield v.useFipsEndpoint();var ue;const{hostname:ie}=(ue=yield v.regionInfoProvider(I,{useDualstackEndpoint:H,useFipsEndpoint:K}))!==null&&ue!==void 0?ue:{};if(!ie)throw new Error("Cannot resolve hostname from client config");return v.urlParser(`${b?"https:":"http:"}//${ie}`)});return o(function(b){return T.apply(this,arguments)},"getEndpointFromRegion")}(),E=o(T=>{var v;const b=p((v=T.useDualstackEndpoint)!==null&&v!==void 0?v:!1),{endpoint:I,useFipsEndpoint:x,urlParser:H}=T;var K;return{...T,tls:(K=T.tls)!==null&&K!==void 0?K:!0,endpoint:I?p(typeof I=="string"?H(I):I):()=>y({...T,useDualstackEndpoint:b,useFipsEndpoint:x}),isCustomEndpoint:!!I,useDualstackEndpoint:b}},"resolveEndpointsConfig"),w="AWS_REGION",k="region",V={environmentVariableSelector:T=>T[w],configFileSelector:T=>T[k],default:()=>{throw new Error("Region is missing")}},N={preferredFile:"credentials"},F=o(T=>typeof T=="string"&&(T.startsWith("fips-")||T.endsWith("-fips")),"isFipsRegion"),P=o(T=>F(T)?["fips-aws-global","aws-fips"].includes(T)?"us-east-1":T.replace(/fips-(dkr-|prod-)?|-fips/,""):T,"getRealRegion"),B=o(T=>{const{region:v,useFipsEndpoint:b}=T;if(!v)throw new Error("Region is missing");return{...T,region:Object(d.coroutine)(function*(){if(typeof v=="string")return P(v);const I=yield v();return P(I)}),useFipsEndpoint:Object(d.coroutine)(function*(){const I=typeof v=="string"?v:yield v();return F(I)?!0:typeof b!="function"?Promise.resolve(!!b):b()})}},"resolveRegionConfig"),O=o(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{useFipsEndpoint:v,useDualstackEndpoint:b}=arguments.length>1?arguments[1]:void 0;var I;return(I=T.find(x=>{let{tags:H}=x;return v===H.includes("fips")&&b===H.includes("dualstack")}))===null||I===void 0?void 0:I.hostname},"getHostnameFromVariants"),R=o((T,v)=>{let{regionHostname:b,partitionHostname:I}=v;return b||(I?I.replace("{region}",T):void 0)},"getResolvedHostname");var D;const J=o((T,v)=>{let{partitionHash:b}=v;return(D=Object.keys(b||{}).find(I=>b[I].regions.includes(T)))!==null&&D!==void 0?D:"aws"},"getResolvedPartition"),X=o((T,v)=>{let{signingRegion:b,regionRegex:I,useFipsEndpoint:x}=v;if(b)return b;if(x){const H=I.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),K=T.match(H);if(K)return K[0].slice(1,-1)}},"getResolvedSigningRegion"),$=o((T,v)=>{let{useFipsEndpoint:b=!1,useDualstackEndpoint:I=!1,signingService:x,regionHash:H,partitionHash:K}=v;var ue,ie,ge,le,rt;const _t=J(T,{partitionHash:K});var Xt;const Wt=T in H?T:(Xt=(ue=K[_t])===null||ue===void 0?void 0:ue.endpoint)!==null&&Xt!==void 0?Xt:T,Vt={useFipsEndpoint:b,useDualstackEndpoint:I},rn=O((ie=H[Wt])===null||ie===void 0?void 0:ie.variants,Vt),ar=O((ge=K[_t])===null||ge===void 0?void 0:ge.variants,Vt),ks=R(Wt,{regionHostname:rn,partitionHostname:ar});if(ks===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:Wt,useFipsEndpoint:b,useDualstackEndpoint:I}}`);const al=X(ks,{signingRegion:(le=H[Wt])===null||le===void 0?void 0:le.signingRegion,regionRegex:K[_t].regionRegex,useFipsEndpoint:b});return{partition:_t,signingService:x,hostname:ks,...al&&{signingRegion:al},...((rt=H[Wt])===null||rt===void 0?void 0:rt.signingService)&&{signingService:H[Wt].signingService}}},"getRegionInfo");var he;(function(T){T[T.HEADER=0]="HEADER",T[T.TRAILER=1]="TRAILER"})(he||(he={}));class Ee{add(v){this.values.push(v)}set(v){this.values=v}remove(v){this.values=this.values.filter(b=>b!==v)}toString(){return this.values.map(v=>v.includes(",")||v.includes(" ")?`"${v}"`:v).join(", ")}get(){return this.values}constructor({name:v,kind:b=he.HEADER,values:I=[]}){this.name=v,this.kind=b,this.values=I}}o(Ee,"Field_Field");class ke{setField(v){this.entries[v.name.toLowerCase()]=v}getField(v){return this.entries[v.toLowerCase()]}removeField(v){delete this.entries[v.toLowerCase()]}getByType(v){return Object.values(this.entries).filter(b=>b.kind===v)}constructor({fields:v=[],encoding:b="utf-8"}){this.entries={},v.forEach(this.setField.bind(this)),this.encoding=b}}o(ke,"Fields");class ve{static isInstance(v){if(!v)return!1;const b=v;return"method"in b&&"protocol"in b&&"hostname"in b&&"path"in b&&typeof b.query=="object"&&typeof b.headers=="object"}clone(){const v=new ve({...this,headers:{...this.headers}});return v.query&&(v.query=Be(v.query)),v}constructor(v){this.method=v.method||"GET",this.hostname=v.hostname||"localhost",this.port=v.port,this.query=v.query||{},this.headers=v.headers||{},this.body=v.body,this.protocol=v.protocol?v.protocol.slice(-1)!==":"?`${v.protocol}:`:v.protocol:"https:",this.path=v.path?v.path.charAt(0)!=="/"?`/${v.path}`:v.path:"/"}}o(ve,"HttpRequest");function Be(T){return Object.keys(T).reduce((v,b)=>{const I=T[b];return{...v,[b]:Array.isArray(I)?[...I]:I}},{})}o(Be,"cloneQuery");class pt{static isInstance(v){if(!v)return!1;const b=v;return typeof b.statusCode=="number"&&typeof b.headers=="object"}constructor(v){this.statusCode=v.statusCode,this.headers=v.headers||{},this.body=v.body}}o(pt,"HttpResponse");function Ve(T){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(T)}o(Ve,"isValidHostname");const bt="content-length";function lt(T){return v=>function(){var b=Object(d.coroutine)(function*(I){const x=I.request;if(ve.isInstance(x)){const{body:H,headers:K}=x;if(H&&Object.keys(K).map(ue=>ue.toLowerCase()).indexOf(bt)===-1)try{const ue=T(H);x.headers={...x.headers,[bt]:String(ue)}}catch{}}return v({...I,request:x})});return function(I){return b.apply(this,arguments)}}()}o(lt,"contentLengthMiddleware");const mt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},xt=o(T=>({applyToStack:v=>{v.add(lt(T.bodyLengthChecker),mt)}}),"getContentLengthPlugin"),at=function(){var T=Object(d.coroutine)(function*(v){const b=(v==null?void 0:v.Bucket)||"";if(typeof v.Bucket=="string"&&(v.Bucket=b.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),On(b)){if(v.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!_n(b)||b.indexOf(".")!==-1&&!String(v.Endpoint).startsWith("http:")||b.toLowerCase()!==b||b.length<3)&&(v.ForcePathStyle=!0);return v.DisableMultiRegionAccessPoints&&(v.disableMultiRegionAccessPoints=!0,v.DisableMRAP=!0),v});return o(function(b){return T.apply(this,arguments)},"resolveParamsForS3")}(),Mt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,kt=/(\d+\.){3}\d+/,Xe=/\.\./,on=/\./,Wn=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,_n=o(T=>Mt.test(T)&&!kt.test(T)&&!Xe.test(T),"isDnsCompatibleBucketName"),On=o(T=>{const[v,b,I,x,H,K]=T.split(":"),ue=v==="arn"&&T.split(":").length>=6,ie=[v,b,I,H,K].filter(Boolean).length===5;if(ue&&!ie)throw new Error(`Invalid ARN: ${T} was an invalid ARN.`);return v==="arn"&&!!b&&!!I&&!!H&&!!K},"isArnBucketName"),Xn=o((T,v,b)=>{const I=function(){var x=Object(d.coroutine)(function*(){var H;const K=(H=b[T])!==null&&H!==void 0?H:b[v];return typeof K=="function"?K():K});return o(function(){return x.apply(this,arguments)},"configProvider")}();return T==="endpoint"||v==="endpoint"?Object(d.coroutine)(function*(){const x=yield I();if(x&&typeof x=="object"){if("url"in x)return x.url.href;if("hostname"in x){const{protocol:H,hostname:K,port:ue,path:ie}=x;return`${H}//${K}${ue?":"+ue:""}${ie}`}}return x}):I},"createConfigValueProvider"),ci=function(){var T=Object(d.coroutine)(function*(v,b,I,x){const H=yield Qn(v,b,I);if(typeof I.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return I.endpointProvider(H,x)});return o(function(b,I,x,H){return T.apply(this,arguments)},"getEndpointFromInstructions")}(),Qn=function(){var T=Object(d.coroutine)(function*(v,b,I){var x;const H={},K=(b==null||(x=b.getEndpointParameterInstructions)===null||x===void 0?void 0:x.call(b))||{};for(const[ue,ie]of Object.entries(K))switch(ie.type){case"staticContextParams":H[ue]=ie.value;break;case"contextParams":H[ue]=v[ie.name];break;case"clientContextParams":case"builtInParams":H[ue]=yield Xn(ie.name,ue,I)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(ie))}return Object.keys(K).length===0&&Object.assign(H,I),String(I.serviceId).toLowerCase()==="s3"&&(yield at(H)),H});return o(function(b,I,x){return T.apply(this,arguments)},"resolveParams")}();function Kn(T){const v={};if(T=T.replace(/^\?/,""),T)for(const b of T.split("&")){let[I,x=null]=b.split("=");I=decodeURIComponent(I),x&&(x=decodeURIComponent(x)),I in v?Array.isArray(v[I])?v[I].push(x):v[I]=[v[I],x]:v[I]=x}return v}o(Kn,"parseQueryString");const Ki=o(T=>{if(typeof T=="string")return Ki(new URL(T));const{hostname:v,pathname:b,port:I,protocol:x,search:H}=T;let K;return H&&(K=Kn(H)),{hostname:v,port:I?parseInt(I):void 0,protocol:x,path:b,query:K}},"parseUrl"),ui=o(T=>typeof T=="object"?"url"in T?Ki(T.url):T:Ki(T),"toEndpointV1"),Fi=o(T=>{let{config:v,instructions:b}=T;return(I,x)=>function(){var H=Object(d.coroutine)(function*(K){var ue,ie;const ge=yield ci(K.input,{getEndpointParameterInstructions(){return b}},{...v},x);x.endpointV2=ge,x.authSchemes=(ue=ge.properties)===null||ue===void 0?void 0:ue.authSchemes;const le=(ie=x.authSchemes)===null||ie===void 0?void 0:ie[0];return le&&(x.signing_region=le.signingRegion,x.signing_service=le.signingName),I({...K})});return function(K){return H.apply(this,arguments)}}()},"endpointMiddleware"),zi=o((T,v)=>(b,I)=>function(){var x=Object(d.coroutine)(function*(H){const{response:K}=yield b(H);try{const ue=yield v(K,T);return{response:K,output:ue}}catch(ue){if(Object.defineProperty(ue,"$response",{value:K}),!("$metadata"in ue)){const ie="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";ue.message+=`
  `+ie}throw ue}});return function(H){return x.apply(this,arguments)}}(),"deserializerMiddleware"),qt=o((T,v)=>(b,I)=>function(){var x=Object(d.coroutine)(function*(H){var K;const ue=!((K=I.endpointV2)===null||K===void 0)&&K.url&&T.urlParser?Object(d.coroutine)(function*(){return T.urlParser(I.endpointV2.url)}):T.endpoint;if(!ue)throw new Error("No valid endpoint provider available.");const ie=yield v(H.input,{...T,endpoint:ue});return b({...H,request:ie})});return function(H){return x.apply(this,arguments)}}(),"serializerMiddleware"),Tn={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},vn={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Ot(T,v,b){return{applyToStack:I=>{I.add(zi(T,b),Tn),I.add(qt(T,v),vn)}}}o(Ot,"getSerdePlugin");const bn={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:vn.name},Lt=o((T,v)=>({applyToStack:b=>{b.addRelativeTo(Fi({config:T,instructions:v}),bn)}}),"getEndpointPlugin"),jn=o(T=>{var v;const b=(v=T.tls)!==null&&v!==void 0?v:!0,{endpoint:I}=T,x=I!=null?Object(d.coroutine)(function*(){return ui(yield p(I)())}):void 0,H=!!I;var K,ue;return{...T,endpoint:x,tls:b,isCustomEndpoint:H,useDualstackEndpoint:p((K=T.useDualstackEndpoint)!==null&&K!==void 0?K:!1),useFipsEndpoint:p((ue=T.useFipsEndpoint)!==null&&ue!==void 0?ue:!1)}},"resolveEndpointConfig");function Xi(T){return T}o(Xi,"resolveHostHeaderConfig");const Gn=o(T=>v=>function(){var b=Object(d.coroutine)(function*(I){if(!ve.isInstance(I.request))return v(I);const{request:x}=I,{handlerProtocol:H=""}=T.requestHandler.metadata||{};if(H.indexOf("h2")>=0&&!x.headers[":authority"])delete x.headers.host,x.headers[":authority"]="";else if(!x.headers.host){let K=x.hostname;x.port!=null&&(K+=`:${x.port}`),x.headers.host=K}return v(I)});return function(I){return b.apply(this,arguments)}}(),"hostHeaderMiddleware"),Ti={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Tr=o(T=>({applyToStack:v=>{v.add(Gn(T),Ti)}}),"getHostHeaderPlugin"),er=o(()=>(T,v)=>function(){var b=Object(d.coroutine)(function*(I){try{var x;const K=yield T(I),{clientName:ue,commandName:ie,logger:ge,dynamoDbDocumentClientOptions:le={}}=v,{overrideInputFilterSensitiveLog:rt,overrideOutputFilterSensitiveLog:_t}=le,Xt=rt??v.inputFilterSensitiveLog,Wt=_t??v.outputFilterSensitiveLog,{$metadata:Vt,...rn}=K.output;return ge==null||(x=ge.info)===null||x===void 0||x.call(ge,{clientName:ue,commandName:ie,input:Xt(I.input),output:Wt(rn),metadata:Vt}),K}catch(K){var H;const{clientName:ue,commandName:ie,logger:ge,dynamoDbDocumentClientOptions:le={}}=v,{overrideInputFilterSensitiveLog:rt}=le,_t=rt??v.inputFilterSensitiveLog;throw ge==null||(H=ge.error)===null||H===void 0||H.call(ge,{clientName:ue,commandName:ie,input:_t(I.input),error:K,metadata:K.$metadata}),K}});return function(I){return b.apply(this,arguments)}}(),"loggerMiddleware"),cr={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},fi=o(T=>({applyToStack:v=>{v.add(er(),cr)}}),"getLoggerPlugin"),Wi="X-Amzn-Trace-Id",Zn="AWS_LAMBDA_FUNCTION_NAME",Re="_X_AMZN_TRACE_ID",Ce=o(T=>v=>function(){var b=Object(d.coroutine)(function*(I){const{request:x}=I;if(!ve.isInstance(x)||T.runtime!=="node"||x.headers.hasOwnProperty(Wi))return v(I);const H=Object({NODE_ENV:"production"})[Zn],K=Object({NODE_ENV:"production"})[Re],ue=o(ie=>typeof ie=="string"&&ie.length>0,"nonEmptyString");return ue(H)&&ue(K)&&(x.headers[Wi]=K),v({...I,request:x})});return function(I){return b.apply(this,arguments)}}(),"recursionDetectionMiddleware"),_e={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},et=o(T=>({applyToStack:v=>{v.add(Ce(T),_e)}}),"getRecursionDetectionPlugin");var tt;(function(T){T.STANDARD="standard",T.ADAPTIVE="adaptive"})(tt||(tt={}));const ht=3,gt=tt.STANDARD,zt=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],cn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],sn=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Qt=[500,502,503,504],Vi=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Ci=o(T=>T.$retryable!==void 0,"isRetryableByTrait"),gr=o(T=>zt.includes(T.name),"isClockSkewError"),tr=o(T=>{var v,b;return((v=T.$metadata)===null||v===void 0?void 0:v.httpStatusCode)===429||cn.includes(T.name)||((b=T.$retryable)===null||b===void 0?void 0:b.throttling)==!0},"isThrottlingError"),Si=o(T=>{var v;return sn.includes(T.name)||Vi.includes((T==null?void 0:T.code)||"")||Qt.includes(((v=T.$metadata)===null||v===void 0?void 0:v.httpStatusCode)||0)},"isTransientError"),Ir=o(T=>{var v;if(((v=T.$metadata)===null||v===void 0?void 0:v.httpStatusCode)!==void 0){const b=T.$metadata.httpStatusCode;return 500<=b&&b<=599&&!Si(T)}return!1},"isServerError");class ai{getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){var v=this;return Object(d.coroutine)(function*(){return v.acquireTokenBucket(1)})()}acquireTokenBucket(v){var b=this;return Object(d.coroutine)(function*(){if(b.enabled){if(b.refillTokenBucket(),v>b.currentCapacity){const I=(v-b.currentCapacity)/b.fillRate*1e3;yield new Promise(x=>setTimeout(x,I))}b.currentCapacity=b.currentCapacity-v}})()}refillTokenBucket(){const v=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=v;return}const b=(v-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+b),this.lastTimestamp=v}updateClientSendingRate(v){let b;if(this.updateMeasuredRate(),tr(v)){const x=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=x,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),b=this.cubicThrottle(x),this.enableTokenBucket()}else this.calculateTimeWindow(),b=this.cubicSuccess(this.getCurrentTimeInSeconds());const I=Math.min(b,2*this.measuredTxRate);this.updateTokenBucketRate(I)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(v){return this.getPrecise(v*this.beta)}cubicSuccess(v){return this.getPrecise(this.scaleConstant*Math.pow(v-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(v){this.refillTokenBucket(),this.fillRate=Math.max(v,this.minFillRate),this.maxCapacity=Math.max(v,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const v=this.getCurrentTimeInSeconds(),b=Math.floor(v*2)/2;if(this.requestCount++,b>this.lastTxRateBucket){const I=this.requestCount/(b-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(I*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=b}}getPrecise(v){return parseFloat(v.toFixed(8))}constructor(v){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0;var b;this.beta=(b=v==null?void 0:v.beta)!==null&&b!==void 0?b:.7;var I;this.minCapacity=(I=v==null?void 0:v.minCapacity)!==null&&I!==void 0?I:1;var x;this.minFillRate=(x=v==null?void 0:v.minFillRate)!==null&&x!==void 0?x:.5;var H;this.scaleConstant=(H=v==null?void 0:v.scaleConstant)!==null&&H!==void 0?H:.4;var K;this.smooth=(K=v==null?void 0:v.smooth)!==null&&K!==void 0?K:.8;const ue=this.getCurrentTimeInSeconds();this.lastThrottleTime=ue,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}}o(ai,"DefaultRateLimiter_DefaultRateLimiter");const lr=100,ti=20*1e3,wr=500,Qi=500,Ur=5,Ar=10,Zi=1,io="amz-sdk-invocation-id",yt="amz-sdk-request",ot=o(()=>{let T=lr;return{computeNextBackoffDelay:o(I=>Math.floor(Math.min(ti,Math.random()*2**I*T)),"computeNextBackoffDelay"),setDelayBase:o(I=>{T=I},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),ln=o(T=>{let{retryDelay:v,retryCount:b,retryCost:I}=T;return{getRetryCount:o(()=>b,"getRetryCount"),getRetryDelay:o(()=>Math.min(ti,v),"getRetryDelay"),getRetryCost:o(()=>I,"getRetryCost")}},"createDefaultRetryToken");class Gt{acquireInitialRetryToken(v){return Object(d.coroutine)(function*(){return ln({retryDelay:lr,retryCount:0})})()}refreshRetryTokenForRetry(v,b){var I=this;return Object(d.coroutine)(function*(){const x=yield I.getMaxAttempts();if(I.shouldRetry(v,b,x)){const H=b.errorType;I.retryBackoffStrategy.setDelayBase(H==="THROTTLING"?wr:lr);const K=I.retryBackoffStrategy.computeNextBackoffDelay(v.getRetryCount()),ue=b.retryAfterHint?Math.max(b.retryAfterHint.getTime()-Date.now()||0,K):K,ie=I.getCapacityCost(H);return I.capacity-=ie,ln({retryDelay:ue,retryCount:v.getRetryCount()+1,retryCost:ie})}throw new Error("No retry token available")})()}recordSuccess(v){var b;this.capacity=Math.max(Qi,this.capacity+((b=v.getRetryCost())!==null&&b!==void 0?b:Zi))}getCapacity(){return this.capacity}getMaxAttempts(){var v=this;return Object(d.coroutine)(function*(){try{return yield v.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${ht}`),ht}})()}shouldRetry(v,b,I){return v.getRetryCount()<I&&this.capacity>=this.getCapacityCost(b.errorType)&&this.isRetryableError(b.errorType)}getCapacityCost(v){return v==="TRANSIENT"?Ar:Ur}isRetryableError(v){return v==="THROTTLING"||v==="TRANSIENT"}constructor(v){this.maxAttempts=v,this.mode=tt.STANDARD,this.capacity=Qi,this.retryBackoffStrategy=ot(),this.maxAttemptsProvider=typeof v=="function"?v:Object(d.coroutine)(function*(){return v})}}o(Gt,"StandardRetryStrategy_StandardRetryStrategy");class In{acquireInitialRetryToken(v){var b=this;return Object(d.coroutine)(function*(){return yield b.rateLimiter.getSendToken(),b.standardRetryStrategy.acquireInitialRetryToken(v)})()}refreshRetryTokenForRetry(v,b){var I=this;return Object(d.coroutine)(function*(){return I.rateLimiter.updateClientSendingRate(b),I.standardRetryStrategy.refreshRetryTokenForRetry(v,b)})()}recordSuccess(v){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(v)}constructor(v,b){this.maxAttemptsProvider=v,this.mode=tt.ADAPTIVE;const{rateLimiter:I}=b??{};this.rateLimiter=I??new ai,this.standardRetryStrategy=new Gt(v)}}o(In,"AdaptiveRetryStrategy_AdaptiveRetryStrategy");class Jn extends Gt{refreshRetryTokenForRetry(v,b){var I=this,x=o(()=>super.refreshRetryTokenForRetry,"_superprop_get_refreshRetryTokenForRetry");return Object(d.coroutine)(function*(){const H=yield x().call(I,v,b);return H.getRetryDelay=()=>I.computeNextBackoffDelay(H.getRetryCount()),H})()}constructor(v,b=lr){super(typeof v=="function"?v:Object(d.coroutine)(function*(){return v})),typeof b=="number"?this.computeNextBackoffDelay=()=>b:this.computeNextBackoffDelay=b}}o(Jn,"ConfiguredRetryStrategy_ConfiguredRetryStrategy");var z,ce=new Uint8Array(16);function Me(){if(!z&&(z=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!z))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(ce)}o(Me,"rng");var Ne=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ke(T){return typeof T=="string"&&Ne.test(T)}o(Ke,"validate");for(var vt=Ke,Et=[],Tt=0;Tt<256;++Tt)Et.push((Tt+256).toString(16).substr(1));function $e(T){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=(Et[T[v+0]]+Et[T[v+1]]+Et[T[v+2]]+Et[T[v+3]]+"-"+Et[T[v+4]]+Et[T[v+5]]+"-"+Et[T[v+6]]+Et[T[v+7]]+"-"+Et[T[v+8]]+Et[T[v+9]]+"-"+Et[T[v+10]]+Et[T[v+11]]+Et[T[v+12]]+Et[T[v+13]]+Et[T[v+14]]+Et[T[v+15]]).toLowerCase();if(!vt(b))throw TypeError("Stringified UUID is invalid");return b}o($e,"stringify");var At=$e;function Dt(T,v,b){T=T||{};var I=T.random||(T.rng||Me)();if(I[6]=I[6]&15|64,I[8]=I[8]&63|128,v){b=b||0;for(var x=0;x<16;++x)v[b+x]=I[x];return v}return At(I)}o(Dt,"v4");var wn=Dt;const fn=o((T,v)=>{const b=T;var I;const x=(I=v==null?void 0:v.noRetryIncrement)!==null&&I!==void 0?I:Zi;var H;const K=(H=v==null?void 0:v.retryCost)!==null&&H!==void 0?H:Ur;var ue;const ie=(ue=v==null?void 0:v.timeoutRetryCost)!==null&&ue!==void 0?ue:Ar;let ge=T;const le=o(Wt=>Wt.name==="TimeoutError"?ie:K,"getCapacityAmount"),rt=o(Wt=>le(Wt)<=ge,"hasRetryTokens");return Object.freeze({hasRetryTokens:rt,retrieveRetryTokens:o(Wt=>{if(!rt(Wt))throw new Error("No retry token available");const Vt=le(Wt);return ge-=Vt,Vt},"retrieveRetryTokens"),releaseRetryTokens:o(Wt=>{ge+=Wt??x,ge=Math.min(ge,b)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Un=o((T,v)=>Math.floor(Math.min(ti,Math.random()*2**v*T)),"defaultDelayDecider"),li=o(T=>T?Ci(T)||gr(T)||tr(T)||Si(T):!1,"defaultRetryDecider"),Mi=o(T=>T instanceof Error?T:T instanceof Object?Object.assign(new Error,T):typeof T=="string"?new Error(T):new Error(`AWS SDK error wrapper for ${T}`),"asSdkError");class Ai{shouldRetry(v,b,I){return b<I&&this.retryDecider(v)&&this.retryQuota.hasRetryTokens(v)}getMaxAttempts(){var v=this;return Object(d.coroutine)(function*(){let b;try{b=yield v.maxAttemptsProvider()}catch{b=ht}return b})()}retry(v,b,I){var x=this;return Object(d.coroutine)(function*(){let H,K=0,ue=0;const ie=yield x.getMaxAttempts(),{request:ge}=b;for(ve.isInstance(ge)&&(ge.headers[io]=wn());;)try{ve.isInstance(ge)&&(ge.headers[yt]=`attempt=${K+1}; max=${ie}`),I!=null&&I.beforeRequest&&(yield I.beforeRequest());const{response:le,output:rt}=yield v(b);return I!=null&&I.afterRequest&&I.afterRequest(le),x.retryQuota.releaseRetryTokens(H),rt.$metadata.attempts=K+1,rt.$metadata.totalRetryDelay=ue,{response:le,output:rt}}catch(le){const rt=Mi(le);if(K++,x.shouldRetry(rt,K,ie)){H=x.retryQuota.retrieveRetryTokens(rt);const _t=x.delayDecider(tr(rt)?wr:lr,K),Xt=hi(rt.$response),Wt=Math.max(Xt||0,_t);ue+=Wt,yield new Promise(Vt=>setTimeout(Vt,Wt));continue}throw rt.$metadata||(rt.$metadata={}),rt.$metadata.attempts=K,rt.$metadata.totalRetryDelay=ue,rt}})()}constructor(v,b){this.maxAttemptsProvider=v,this.mode=tt.STANDARD;var I;this.retryDecider=(I=b==null?void 0:b.retryDecider)!==null&&I!==void 0?I:li;var x;this.delayDecider=(x=b==null?void 0:b.delayDecider)!==null&&x!==void 0?x:Un;var H;this.retryQuota=(H=b==null?void 0:b.retryQuota)!==null&&H!==void 0?H:fn(Qi)}}o(Ai,"dist_es_StandardRetryStrategy_StandardRetryStrategy");const hi=o(T=>{if(!pt.isInstance(T))return;const v=Object.keys(T.headers).find(H=>H.toLowerCase()==="retry-after");if(!v)return;const b=T.headers[v],I=Number(b);return Number.isNaN(I)?new Date(b).getTime()-Date.now():I*1e3},"getDelayFromRetryAfterHeader");class pi extends Ai{retry(v,b){var I=this,x=o(()=>super.retry,"_superprop_get_retry");return Object(d.coroutine)(function*(){return x().call(I,v,b,{beforeRequest:Object(d.coroutine)(function*(){return I.rateLimiter.getSendToken()}),afterRequest:H=>{I.rateLimiter.updateClientSendingRate(H)}})})()}constructor(v,b){const{rateLimiter:I,...x}=b??{};super(v,x),this.rateLimiter=I??new ai,this.mode=tt.ADAPTIVE}}o(pi,"dist_es_AdaptiveRetryStrategy_AdaptiveRetryStrategy");const yn="AWS_MAX_ATTEMPTS",ji="max_attempts",Ui={environmentVariableSelector:T=>{const v=T[yn];if(!v)return;const b=parseInt(v);if(Number.isNaN(b))throw new Error(`Environment variable ${yn} mast be a number, got "${v}"`);return b},configFileSelector:T=>{const v=T[ji];if(!v)return;const b=parseInt(v);if(Number.isNaN(b))throw new Error(`Shared config file entry ${ji} mast be a number, got "${v}"`);return b},default:ht},Hi=o(T=>{const{retryStrategy:v}=T;var b;const I=p((b=T.maxAttempts)!==null&&b!==void 0?b:ht);return{...T,maxAttempts:I,retryStrategy:Object(d.coroutine)(function*(){return v||((yield p(T.retryMode)())===tt.ADAPTIVE?new In(I):new Gt(I))})}},"resolveRetryConfig"),Or="AWS_RETRY_MODE",Ii="retry_mode",Sr={environmentVariableSelector:T=>T[Or],configFileSelector:T=>T[Ii],default:gt},qn=o(()=>T=>function(){var v=Object(d.coroutine)(function*(b){const{request:I}=b;return ve.isInstance(I)&&(delete I.headers[io],delete I.headers[yt]),T(b)});return function(b){return v.apply(this,arguments)}}(),"omitRetryHeadersMiddleware"),vi={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},mi=o(T=>({applyToStack:v=>{v.addRelativeTo(qn(),vi)}}),"getOmitRetryHeadersPlugin"),_i=o(T=>(v,b)=>function(){var I=Object(d.coroutine)(function*(x){let H=yield T.retryStrategy();const K=yield T.maxAttempts();if(Yn(H)){H=H;let ue=yield H.acquireInitialRetryToken(b.partition_id),ie=new Error,ge=0,le=0;const{request:rt}=x;for(ve.isInstance(rt)&&(rt.headers[io]=wn());;)try{ve.isInstance(rt)&&(rt.headers[yt]=`attempt=${ge+1}; max=${K}`);const{response:_t,output:Xt}=yield v(x);return H.recordSuccess(ue),Xt.$metadata.attempts=ge+1,Xt.$metadata.totalRetryDelay=le,{response:_t,output:Xt}}catch(_t){const Xt=Ut(_t);ie=Mi(_t);try{ue=yield H.refreshRetryTokenForRetry(ue,Xt)}catch{throw ie.$metadata||(ie.$metadata={}),ie.$metadata.attempts=ge+1,ie.$metadata.totalRetryDelay=le,ie}ge=ue.getRetryCount();const Wt=ue.getRetryDelay();le+=Wt,yield new Promise(Vt=>setTimeout(Vt,Wt))}}else return H=H,H!=null&&H.mode&&(b.userAgent=[...b.userAgent||[],["cfg/retry-mode",H.mode]]),H.retry(v,x)});return function(x){return I.apply(this,arguments)}}(),"retryMiddleware"),Yn=o(T=>typeof T.acquireInitialRetryToken<"u"&&typeof T.refreshRetryTokenForRetry<"u"&&typeof T.recordSuccess<"u","isRetryStrategyV2"),Ut=o(T=>{const v={errorType:nr(T)},b=dr(T.$response);return b&&(v.retryAfterHint=b),v},"getRetryErrorInfo"),nr=o(T=>tr(T)?"THROTTLING":Si(T)?"TRANSIENT":Ir(T)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Bs={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Qr=o(T=>({applyToStack:v=>{v.add(_i(T),Bs)}}),"getRetryPlugin"),dr=o(T=>{if(!pt.isInstance(T))return;const v=Object.keys(T.headers).find(H=>H.toLowerCase()==="retry-after");if(!v)return;const b=T.headers[v],I=Number(b);return Number.isNaN(I)?new Date(b):new Date(I*1e3)},"getRetryAfterHint");class Zr extends Error{static from(v){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Object.assign(new this(v.message,b),v)}constructor(v,b=!0){super(v),this.tryNextLink=b,this.name="ProviderError",Object.setPrototypeOf(this,Zr.prototype)}}o(Zr,"ProviderError");class qr extends Zr{constructor(v,b=!0){super(v,b),this.tryNextLink=b,this.name="CredentialsProviderError",Object.setPrototypeOf(this,qr.prototype)}}o(qr,"CredentialsProviderError_CredentialsProviderError");class ur extends Zr{constructor(v,b=!0){super(v,b),this.tryNextLink=b,this.name="TokenProviderError",Object.setPrototypeOf(this,ur.prototype)}}o(ur,"TokenProviderError_TokenProviderError");function Fs(){for(var T=arguments.length,v=new Array(T),b=0;b<T;b++)v[b]=arguments[b];return()=>{let I=Promise.reject(new Zr("No providers in chain"));for(const x of v)I=I.catch(H=>{if(H!=null&&H.tryNextLink)return x();throw H});return I}}o(Fs,"chain");const Vs=o(T=>()=>Promise.resolve(T),"fromStatic"),Li=o((T,v,b)=>{let I,x,H,K=!1;const ue=function(){var ie=Object(d.coroutine)(function*(){x||(x=T());try{I=yield x,H=!0,K=!1}finally{x=void 0}return I});return o(function(){return ie.apply(this,arguments)},"coalesceProvider")}();return v===void 0?function(){var ie=Object(d.coroutine)(function*(ge){return(!H||ge!=null&&ge.forceRefresh)&&(I=yield ue()),I});return function(ge){return ie.apply(this,arguments)}}():function(){var ie=Object(d.coroutine)(function*(ge){return(!H||ge!=null&&ge.forceRefresh)&&(I=yield ue()),K?I:b&&!b(I)?(K=!0,I):(v(I)&&(yield ue()),I)});return function(ge){return ie.apply(this,arguments)}}()},"memoize"),Pr={},xo={};for(let T=0;T<256;T++){let v=T.toString(16).toLowerCase();v.length===1&&(v=`0${v}`),Pr[T]=v,xo[v]=T}function Us(T){if(T.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const v=new Uint8Array(T.length/2);for(let b=0;b<T.length;b+=2){const I=T.slice(b,b+2).toLowerCase();if(I in xo)v[b/2]=xo[I];else throw new Error(`Cannot decode unrecognized sequence ${I} as hexadecimal`)}return v}o(Us,"fromHex");function $r(T){let v="";for(let b=0;b<T.byteLength;b++)v+=Pr[T[b]];return v}o($r,"toHex");const So=o(T=>new TextEncoder().encode(T),"fromUtf8"),ao=o(T=>typeof T=="string"?So(T):ArrayBuffer.isView(T)?new Uint8Array(T.buffer,T.byteOffset,T.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(T),"toUint8Array"),Bo=o(T=>new TextDecoder("utf-8").decode(T),"toUtf8"),vs="X-Amz-Algorithm",ys="X-Amz-Credential",qo="X-Amz-Date",bs="X-Amz-SignedHeaders",Cs="X-Amz-Expires",lo="X-Amz-Signature",eo="X-Amz-Security-Token",ro="X-Amz-Region-Set",co="authorization",vo=qo.toLowerCase(),Fo=[co,vo,"date"],es=lo.toLowerCase(),vr="x-amz-content-sha256",ts=eo.toLowerCase(),Es="host",ns={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Kr=/^proxy-/,Vo=/^sec-/,_r=[/^proxy-/i,/^sec-/i],uo="AWS4-HMAC-SHA256",fo="AWS4-ECDSA-P256-SHA256",Uo="AWS4-HMAC-SHA256-PAYLOAD",oo="UNSIGNED-PAYLOAD",Hr=50,bo="aws4_request",Co=60*60*24*7,zr={},ho=[],Ho=o((T,v,b)=>`${T}/${v}/${b}/${bo}`,"createScope"),Ts=function(){var T=Object(d.coroutine)(function*(v,b,I,x,H){const K=yield kr(v,b.secretAccessKey,b.accessKeyId),ue=`${I}:${x}:${H}:${$r(K)}:${b.sessionToken}`;if(ue in zr)return zr[ue];for(ho.push(ue);ho.length>Hr;)delete zr[ho.shift()];let ie=`AWS4${b.secretAccessKey}`;for(const ge of[I,x,H,bo])ie=yield kr(v,ie,ge);return zr[ue]=ie});return o(function(b,I,x,H,K){return T.apply(this,arguments)},"getSigningKey")}(),Hs=o(()=>{ho.length=0,Object.keys(zr).forEach(T=>{delete zr[T]})},"clearCredentialCache"),kr=o((T,v,b)=>{const I=new T(v);return I.update(ao(b)),I.digest()},"hmac"),is=o((T,v,b)=>{let{headers:I}=T;const x={};for(const H of Object.keys(I).sort()){if(I[H]==null)continue;const K=H.toLowerCase();(K in ns||v!=null&&v.has(K)||Kr.test(K)||Vo.test(K))&&(!b||b&&!b.has(K))||(x[K]=I[H].trim().replace(/\s+/g," "))}return x},"getCanonicalHeaders"),Wr=o(T=>encodeURIComponent(T).replace(/[!'()*]/g,zs),"escapeUri"),zs=o(T=>`%${T.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),Ws=o(T=>T.split("/").map(Wr).join("/"),"escapeUriPath"),Jr=o(T=>{let{query:v={}}=T;const b=[],I={};for(const x of Object.keys(v).sort()){if(x.toLowerCase()===es)continue;b.push(x);const H=v[x];typeof H=="string"?I[x]=`${Wr(x)}=${Wr(H)}`:Array.isArray(H)&&(I[x]=H.slice(0).sort().reduce((K,ue)=>K.concat([`${Wr(x)}=${Wr(ue)}`]),[]).join("&"))}return b.map(x=>I[x]).filter(x=>x).join("&")},"getCanonicalQuery"),Eo=o(T=>typeof ArrayBuffer=="function"&&T instanceof ArrayBuffer||Object.prototype.toString.call(T)==="[object ArrayBuffer]","isArrayBuffer"),rs=function(){var T=Object(d.coroutine)(function*(v,b){let{headers:I,body:x}=v;for(const H of Object.keys(I))if(H.toLowerCase()===vr)return I[H];if(x==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof x=="string"||ArrayBuffer.isView(x)||Eo(x)){const H=new b;return H.update(ao(x)),$r(yield H.digest())}return oo});return o(function(b,I){return T.apply(this,arguments)},"getPayloadHash")}(),zo=o((T,v)=>{T=T.toLowerCase();for(const b of Object.keys(v))if(T===b.toLowerCase())return!0;return!1},"hasHeader"),Is=o((T,v)=>{T=T.toLowerCase();for(const b of Object.keys(v))if(T===b.toLowerCase())return v[b]},"getHeaderValue"),ir=o((T,v)=>{T=T.toLowerCase();for(const b of Object.keys(v))T===b.toLowerCase()&&delete v[b]},"deleteHeader"),Wo=o(T=>{let{headers:v,query:b,...I}=T;return{...I,headers:{...v},query:b?To(b):void 0}},"cloneRequest"),To=o(T=>Object.keys(T).reduce((v,b)=>{const I=T[b];return{...v,[b]:Array.isArray(I)?[...I]:I}},{}),"cloneRequest_cloneQuery"),os=o(function(T){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{headers:b,query:I={}}=typeof T.clone=="function"?T.clone():Wo(T);for(const H of Object.keys(b)){var x;const K=H.toLowerCase();K.slice(0,6)==="x-amz-"&&!(!((x=v.unhoistableHeaders)===null||x===void 0)&&x.has(K))&&(I[H]=b[H],delete b[H])}return{...T,headers:b,query:I}},"moveHeadersToQuery"),ws=o(T=>{T=typeof T.clone=="function"?T.clone():Wo(T);for(const v of Object.keys(T.headers))Fo.indexOf(v.toLowerCase())>-1&&delete T.headers[v];return T},"prepareRequest"),Yr=o(T=>js(T).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),js=o(T=>typeof T=="number"?new Date(T*1e3):typeof T=="string"?Number(T)?new Date(Number(T)*1e3):new Date(T):T,"toDate");class jo{presign(v){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var I=this;return Object(d.coroutine)(function*(){const{signingDate:x=new Date,expiresIn:H=3600,unsignableHeaders:K,unhoistableHeaders:ue,signableHeaders:ie,signingRegion:ge,signingService:le}=b,rt=yield I.credentialProvider();I.validateResolvedCredentials(rt);const _t=ge??(yield I.regionProvider()),{longDate:Xt,shortDate:Wt}=fr(x);if(H>Co)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const Vt=Ho(Wt,_t,le??I.service),rn=os(ws(v),{unhoistableHeaders:ue});rt.sessionToken&&(rn.query[eo]=rt.sessionToken),rn.query[vs]=uo,rn.query[ys]=`${rt.accessKeyId}/${Vt}`,rn.query[qo]=Xt,rn.query[Cs]=H.toString(10);const ar=is(rn,K,ie);return rn.query[bs]=Go(ar),rn.query[lo]=yield I.getSignature(Xt,Vt,I.getSigningKey(rt,_t,Wt,le),I.createCanonicalRequest(rn,ar,yield rs(v,I.sha256))),rn})()}sign(v,b){var I=this;return Object(d.coroutine)(function*(){return typeof v=="string"?I.signString(v,b):v.headers&&v.payload?I.signEvent(v,b):I.signRequest(v,b)})()}signEvent(v,b){let{headers:I,payload:x}=v,{signingDate:H=new Date,priorSignature:K,signingRegion:ue,signingService:ie}=b;var ge=this;return Object(d.coroutine)(function*(){const le=ue??(yield ge.regionProvider()),{shortDate:rt,longDate:_t}=fr(H),Xt=Ho(rt,le,ie??ge.service),Wt=yield rs({headers:{},body:x},ge.sha256),Vt=new ge.sha256;Vt.update(I);const rn=$r(yield Vt.digest()),ar=[Uo,_t,Xt,K,rn,Wt].join(`
`);return ge.signString(ar,{signingDate:H,signingRegion:le,signingService:ie})})()}signString(v){let{signingDate:b=new Date,signingRegion:I,signingService:x}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var H=this;return Object(d.coroutine)(function*(){const K=yield H.credentialProvider();H.validateResolvedCredentials(K);const ue=I??(yield H.regionProvider()),{shortDate:ie}=fr(b),ge=new H.sha256(yield H.getSigningKey(K,ue,ie,x));return ge.update(ao(v)),$r(yield ge.digest())})()}signRequest(v){let{signingDate:b=new Date,signableHeaders:I,unsignableHeaders:x,signingRegion:H,signingService:K}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var ue=this;return Object(d.coroutine)(function*(){const ie=yield ue.credentialProvider();ue.validateResolvedCredentials(ie);const ge=H??(yield ue.regionProvider()),le=ws(v),{longDate:rt,shortDate:_t}=fr(b),Xt=Ho(_t,ge,K??ue.service);le.headers[vo]=rt,ie.sessionToken&&(le.headers[ts]=ie.sessionToken);const Wt=yield rs(le,ue.sha256);!zo(vr,le.headers)&&ue.applyChecksum&&(le.headers[vr]=Wt);const Vt=is(le,x,I),rn=yield ue.getSignature(rt,Xt,ue.getSigningKey(ie,ge,_t,K),ue.createCanonicalRequest(le,Vt,Wt));return le.headers[co]=`${uo} Credential=${ie.accessKeyId}/${Xt}, SignedHeaders=${Go(Vt)}, Signature=${rn}`,le})()}createCanonicalRequest(v,b,I){const x=Object.keys(b).sort();return`${v.method}
${this.getCanonicalPath(v)}
${Jr(v)}
${x.map(H=>`${H}:${b[H]}`).join(`
`)}

${x.join(";")}
${I}`}createStringToSign(v,b,I){var x=this;return Object(d.coroutine)(function*(){const H=new x.sha256;H.update(ao(I));const K=yield H.digest();return`${uo}
${v}
${b}
${$r(K)}`})()}getCanonicalPath(v){let{path:b}=v;if(this.uriEscapePath){const I=[];for(const K of b.split("/"))(K==null?void 0:K.length)!==0&&K!=="."&&(K===".."?I.pop():I.push(K));const x=`${b!=null&&b.startsWith("/")?"/":""}${I.join("/")}${I.length>0&&(b!=null&&b.endsWith("/"))?"/":""}`;return encodeURIComponent(x).replace(/%2F/g,"/")}return b}getSignature(v,b,I,x){var H=this;return Object(d.coroutine)(function*(){const K=yield H.createStringToSign(v,b,x),ue=new H.sha256(yield I);return ue.update(ao(K)),$r(yield ue.digest())})()}getSigningKey(v,b,I,x){return Ts(this.sha256,v,I,b,x||this.service)}validateResolvedCredentials(v){if(typeof v!="object"||typeof v.accessKeyId!="string"||typeof v.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}constructor({applyChecksum:v,credentials:b,region:I,service:x,sha256:H,uriEscapePath:K=!0}){this.service=x,this.sha256=H,this.uriEscapePath=K,this.applyChecksum=typeof v=="boolean"?v:!0,this.regionProvider=p(I),this.credentialProvider=p(b)}}o(jo,"SignatureV4_SignatureV4");const fr=o(T=>{const v=Yr(T).replace(/[\-:]/g,"");return{longDate:v,shortDate:v.slice(0,8)}},"formatDate"),Go=o(T=>Object.keys(T).sort().join(";"),"getCanonicalHeaderList"),ss=3e5,as=o(T=>{const v=T.credentials?Io(T.credentials):T.credentialDefaultProvider(T),{signingEscapePath:b=!0,systemClockOffset:I=T.systemClockOffset||0,sha256:x}=T;let H;return T.signer?H=p(T.signer):T.regionInfoProvider?H=o(()=>p(T.region)().then(function(){var K=Object(d.coroutine)(function*(ue){return[(yield T.regionInfoProvider(ue,{useFipsEndpoint:yield T.useFipsEndpoint(),useDualstackEndpoint:yield T.useDualstackEndpoint()}))||{},ue]});return function(ue){return K.apply(this,arguments)}}()).then(K=>{let[ue,ie]=K;const{signingRegion:ge,signingService:le}=ue;T.signingRegion=T.signingRegion||ge||ie,T.signingName=T.signingName||le||T.serviceId;const rt={...T,credentials:v,region:T.signingRegion,service:T.signingName,sha256:x,uriEscapePath:b},_t=T.signerConstructor||jo;return new _t(rt)}),"signer"):H=function(){var K=Object(d.coroutine)(function*(ue){ue=Object.assign({},{name:"sigv4",signingName:T.signingName||T.defaultSigningName,signingRegion:yield p(T.region)(),properties:{}},ue);const ie=ue.signingRegion,ge=ue.signingName;T.signingRegion=T.signingRegion||ie,T.signingName=T.signingName||ge||T.serviceId;const le={...T,credentials:v,region:T.signingRegion,service:T.signingName,sha256:x,uriEscapePath:b},rt=T.signerConstructor||jo;return new rt(le)});return function(ue){return K.apply(this,arguments)}}(),{...T,systemClockOffset:I,signingEscapePath:b,credentials:v,signer:H}},"resolveAwsAuthConfig"),$o=o(T=>{const v=T.credentials?Io(T.credentials):T.credentialDefaultProvider(T),{signingEscapePath:b=!0,systemClockOffset:I=T.systemClockOffset||0,sha256:x}=T;let H;return T.signer?H=p(T.signer):H=p(new jo({credentials:v,region:T.region,service:T.signingName,sha256:x,uriEscapePath:b})),{...T,systemClockOffset:I,signingEscapePath:b,credentials:v,signer:H}},"resolveSigV4AuthConfig"),Io=o(T=>typeof T=="function"?Li(T,v=>v.expiration!==void 0&&v.expiration.getTime()-Date.now()<ss,v=>v.expiration!==void 0):p(T),"normalizeCredentialProvider"),wo=o(T=>new Date(Date.now()+T),"getSkewCorrectedDate"),ls=o((T,v)=>Math.abs(wo(v).getTime()-T)>=3e5,"isClockSkewed"),ds=o((T,v)=>{const b=Date.parse(T);return ls(b,v)?b-Date.now():v},"getUpdatedSystemClockOffset"),Xr=o(T=>(v,b)=>function(){var I=Object(d.coroutine)(function*(x){var H,K,ue,ie;if(!ve.isInstance(x.request))return v(x);const ge=(H=b.endpointV2)===null||H===void 0||(K=H.properties)===null||K===void 0||(ue=K.authSchemes)===null||ue===void 0?void 0:ue[0],le=(ge==null?void 0:ge.name)==="sigv4a"?ge==null||(ie=ge.signingRegionSet)===null||ie===void 0?void 0:ie.join(","):void 0,rt=yield T.signer(ge),_t=yield v({...x,request:yield rt.sign(x.request,{signingDate:wo(T.systemClockOffset),signingRegion:le||b.signing_region,signingService:b.signing_service})}).catch(Wt=>{var Vt;const rn=(Vt=Wt.ServerTime)!==null&&Vt!==void 0?Vt:jr(Wt.$response);throw rn&&(T.systemClockOffset=ds(rn,T.systemClockOffset)),Wt}),Xt=jr(_t.response);return Xt&&(T.systemClockOffset=ds(Xt,T.systemClockOffset)),_t});return function(x){return I.apply(this,arguments)}}(),"awsAuthMiddleware");var to;const jr=o(T=>{var v,b;return pt.isInstance(T)?(to=(v=T.headers)===null||v===void 0?void 0:v.date)!==null&&to!==void 0?to:(b=T.headers)===null||b===void 0?void 0:b.Date:void 0},"getDateHeader"),Gs={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Oo=o(T=>({applyToStack:v=>{v.addRelativeTo(Xr(T),Gs)}}),"getAwsAuthPlugin"),Mo=Oo;function Ro(T){return{...T,customUserAgent:typeof T.customUserAgent=="string"?[[T.customUserAgent]]:T.customUserAgent}}o(Ro,"resolveUserAgentConfig");var Os=h("syoQ");let Ko=Os,Ji="";const Ms=o(T=>{const{partitions:v}=Ko;for(const I of v){const{regions:x,outputs:H}=I;for(const[K,ue]of Object.entries(x))if(K===T)return{...H,...ue}}for(const I of v){const{regionRegex:x,outputs:H}=I;if(new RegExp(x).test(T))return{...H}}const b=v.find(I=>I.id==="aws");if(!b)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...b.outputs}},"partition_partition"),Ao=o(function(T){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";Ko=T,Ji=v},"setPartitionInfo"),Ni=o(()=>{Ao(Os,"")},"useDefaultPartitionInfo"),$s=o(()=>Ji,"getUserAgentPrefix"),Jo="endpoints";function po(T){return typeof T!="object"||T==null?T:"ref"in T?`$${po(T.ref)}`:"fn"in T?`${T.fn}(${(T.argv||[]).map(po).join(", ")})`:JSON.stringify(T,null,2)}o(po,"toDebugString");class hr extends Error{constructor(v){super(v),this.name="EndpointError"}}o(hr,"EndpointError");const Ks=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),cs=o(T=>Ks.test(T)||T.startsWith("[")&&T.endsWith("]"),"isIpAddress"),Yo=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),us=o(function(T){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return Yo.test(T);const b=T.split(".");for(const I of b)if(!us(I))return!1;return!0},"isValidHostLabel"),Js=o(function(T){if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){for(const b of T.split("."))if(!Js(b))return!1;return!0}return!(!us(T)||T.length<3||T.length>63||T!==T.toLowerCase()||cs(T))},"isVirtualHostableS3Bucket"),Ys=o(T=>{const v=T.split(":");if(v.length<6)return null;const[b,I,x,H,K,...ue]=v;return b!=="arn"||I===""||x===""||ue[0]===""?null:{partition:I,service:x,region:H,accountId:K,resourceId:ue[0].includes("/")?ue[0].split("/"):ue}},"parseArn"),Xs=o((T,v)=>T===v,"booleanEquals"),Qs=o(T=>{const v=T.split("."),b=[];for(const I of v){const x=I.indexOf("[");if(x!==-1){if(I.indexOf("]")!==I.length-1)throw new hr(`Path: '${T}' does not end with ']'`);const H=I.slice(x+1,-1);if(Number.isNaN(parseInt(H)))throw new hr(`Invalid array index: '${H}' in path: '${T}'`);x!==0&&b.push(I.slice(0,x)),b.push(H)}else b.push(I)}return b},"getAttrPathList"),Rs=o((T,v)=>Qs(v).reduce((b,I)=>{if(typeof b!="object")throw new hr(`Index '${I}' in '${v}' not found in '${JSON.stringify(T)}'`);return Array.isArray(b)?b[parseInt(I)]:b[I]},T),"getAttr"),la=o(T=>T!=null,"isSet"),Xo=o(T=>!T,"not");var rr;(function(T){T.HEADER="header",T.QUERY="query"})(rr||(rr={}));var Po;(function(T){T.AAAA="AAAA",T.A="A"})(Po||(Po={}));var fs;(function(T){T.HTTP="http",T.HTTPS="https"})(fs||(fs={}));var ne;(function(T){T.HTTP_0_9="http/0.9",T.HTTP_1_0="http/1.0",T.TDS_8_0="tds/8.0"})(ne||(ne={}));const te={[fs.HTTP]:80,[fs.HTTPS]:443},Z=o(T=>{const v=(()=>{try{if(T instanceof URL)return T;if(typeof T=="object"&&"hostname"in T){const{hostname:_t,port:Xt,protocol:Wt="",path:Vt="",query:rn={}}=T,ar=new URL(`${Wt}//${_t}${Xt?`:${Xt}`:""}${Vt}`);return ar.search=Object.entries(rn).map(ks=>{let[al,Qd]=ks;return`${al}=${Qd}`}).join("&"),ar}return new URL(T)}catch{return null}})();if(!v)return console.error(`Unable to parse ${JSON.stringify(T)} as a whatwg URL.`),null;const b=v.href,{host:I,hostname:x,pathname:H,protocol:K,search:ue}=v;if(ue)return null;const ie=K.slice(0,-1);if(!Object.values(fs).includes(ie))return null;const ge=cs(x),le=b.includes(`${I}:${te[ie]}`)||typeof T=="string"&&T.includes(`${I}:${te[ie]}`),rt=`${I}${le?`:${te[ie]}`:""}`;return{scheme:ie,authority:rt,path:H,normalizedPath:H.endsWith("/")?H:`${H}/`,isIp:ge}},"parseURL"),A=o((T,v)=>T===v,"stringEquals"),Q=o((T,v,b,I)=>v>=b||T.length<b?null:I?T.substring(T.length-b,T.length-v):T.substring(v,b),"substring"),se=o(T=>encodeURIComponent(T).replace(/[!*'()]/g,v=>`%${v.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),oe=o((T,v)=>{const b=[],I={...v.endpointParams,...v.referenceRecord};let x=0;for(;x<T.length;){const H=T.indexOf("{",x);if(H===-1){b.push(T.slice(x));break}b.push(T.slice(x,H));const K=T.indexOf("}",H);if(K===-1){b.push(T.slice(H));break}T[H+1]==="{"&&T[K+1]==="}"&&(b.push(T.slice(H+1,K)),x=K+2);const ue=T.substring(H+1,K);if(ue.includes("#")){const[ie,ge]=ue.split("#");b.push(Rs(I[ie],ge))}else b.push(I[ue]);x=K+1}return b.join("")},"evaluateTemplate"),Se=o((T,v)=>{let{ref:b}=T;return{...v.endpointParams,...v.referenceRecord}[b]},"getReferenceValue"),Ie=o((T,v,b)=>{if(typeof T=="string")return oe(T,b);if(T.fn)return Pe(T,b);if(T.ref)return Se(T,b);throw new hr(`'${v}': ${String(T)} is not a string, function or reference.`)},"evaluateExpression"),Pe=o((T,v)=>{let{fn:b,argv:I}=T;const x=I.map(H=>["boolean","number"].includes(typeof H)?H:Ie(H,"arg",v));return b.split(".").reduce((H,K)=>H[K],f)(...x)},"callFunction"),De=o((T,v)=>{let{assign:b,...I}=T;var x,H;if(b&&b in v.referenceRecord)throw new hr(`'${b}' is already defined in Reference Record.`);const K=Pe(I,v);return(x=v.logger)===null||x===void 0||(H=x.debug)===null||H===void 0||H.call(x,Jo,`evaluateCondition: ${po(I)} = ${po(K)}`),{result:K===""?!0:!!K,...b!=null&&{toAssign:{name:b,value:K}}}},"evaluateCondition"),Le=o(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0;const b={};for(const H of T){const{result:K,toAssign:ue}=De(H,{...v,referenceRecord:{...v.referenceRecord,...b}});if(!K)return{result:K};if(ue){var I,x;b[ue.name]=ue.value,(I=v.logger)===null||I===void 0||(x=I.debug)===null||x===void 0||x.call(I,Jo,`assign: ${ue.name} := ${po(ue.value)}`)}}return{result:!0,referenceRecord:b}},"evaluateConditions"),je=o((T,v)=>Object.entries(T).reduce((b,I)=>{let[x,H]=I;return{...b,[x]:H.map(K=>{const ue=Ie(K,"Header value entry",v);if(typeof ue!="string")throw new hr(`Header '${x}' value '${ue}' is not a string`);return ue})}},{}),"getEndpointHeaders"),Je=o((T,v)=>{if(Array.isArray(T))return T.map(b=>Je(b,v));switch(typeof T){case"string":return oe(T,v);case"object":if(T===null)throw new hr(`Unexpected endpoint property: ${T}`);return ct(T,v);case"boolean":return T;default:throw new hr(`Unexpected endpoint property type: ${typeof T}`)}},"getEndpointProperty"),ct=o((T,v)=>Object.entries(T).reduce((b,I)=>{let[x,H]=I;return{...b,[x]:Je(H,v)}},{}),"getEndpointProperties"),Qe=o((T,v)=>{const b=Ie(T,"Endpoint URL",v);if(typeof b=="string")try{return new URL(b)}catch(I){throw console.error(`Failed to construct URL with ${b}`,I),I}throw new hr(`Endpoint URL must be a string, got ${typeof b}`)},"getEndpointUrl"),Yt=o((T,v)=>{var b,I;const{conditions:x,endpoint:H}=T,{result:K,referenceRecord:ue}=Le(x,v);if(!K)return;const ie={...v,referenceRecord:{...v.referenceRecord,...ue}},{url:ge,properties:le,headers:rt}=H;return(b=v.logger)===null||b===void 0||(I=b.debug)===null||I===void 0||I.call(b,Jo,`Resolving endpoint from template: ${po(H)}`),{...rt!=null&&{headers:je(rt,ie)},...le!=null&&{properties:ct(le,ie)},url:Qe(ge,ie)}},"evaluateEndpointRule"),nn=o((T,v)=>{const{conditions:b,error:I}=T,{result:x,referenceRecord:H}=Le(b,v);if(x)throw new hr(Ie(I,"Error",{...v,referenceRecord:{...v.referenceRecord,...H}}))},"evaluateErrorRule"),Cn=o((T,v)=>{const{conditions:b,rules:I}=T,{result:x,referenceRecord:H}=Le(b,v);if(x)return Rn(I,{...v,referenceRecord:{...v.referenceRecord,...H}})},"evaluateTreeRule"),Rn=o((T,v)=>{for(const b of T)if(b.type==="endpoint"){const I=Yt(b,v);if(I)return I}else if(b.type==="error")nn(b,v);else if(b.type==="tree"){const I=Cn(b,v);if(I)return I}else throw new hr(`Unknown endpoint rule: ${b}`);throw new hr("Rules evaluation failed")},"evaluateRules"),ni=o((T,v)=>{var b,I,x,H,K;const{endpointParams:ue,logger:ie}=v,{parameters:ge,rules:le}=T;(b=v.logger)===null||b===void 0||(I=b.debug)===null||I===void 0||I.call(b,`${Jo} Initial EndpointParams: ${po(ue)}`);const rt=Object.entries(ge).filter(Vt=>{let[,rn]=Vt;return rn.default!=null}).map(Vt=>{let[rn,ar]=Vt;return[rn,ar.default]});if(rt.length>0)for(const[Vt,rn]of rt){var _t;ue[Vt]=(_t=ue[Vt])!==null&&_t!==void 0?_t:rn}const Xt=Object.entries(ge).filter(Vt=>{let[,rn]=Vt;return rn.required}).map(Vt=>{let[rn]=Vt;return rn});for(const Vt of Xt)if(ue[Vt]==null)throw new hr(`Missing required parameter: '${Vt}'`);const Wt=Rn(le,{endpointParams:ue,logger:ie,referenceRecord:{}});if(!((x=v.endpointParams)===null||x===void 0)&&x.Endpoint)try{const Vt=new URL(v.endpointParams.Endpoint),{protocol:rn,port:ar}=Vt;Wt.url.protocol=rn,Wt.url.port=ar}catch{}return(H=v.logger)===null||H===void 0||(K=H.debug)===null||K===void 0||K.call(H,`${Jo} Resolved endpoint: ${po(Wt)}`),Wt},"resolveEndpoint"),$n="user-agent",ri="x-amz-user-agent",ii=" ",wi=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ki=o(T=>(v,b)=>function(){var I=Object(d.coroutine)(function*(x){var H,K;const{request:ue}=x;if(!ve.isInstance(ue))return v(x);const{headers:ie}=ue,ge=(b==null||(H=b.userAgent)===null||H===void 0?void 0:H.map(di))||[],le=(yield T.defaultUserAgentProvider()).map(di),rt=(T==null||(K=T.customUserAgent)===null||K===void 0?void 0:K.map(di))||[],_t=$s(),Xt=(_t?[_t]:[]).concat([...le,...ge,...rt]).join(ii),Wt=[...le.filter(Vt=>Vt.startsWith("aws-sdk-")),...rt].join(ii);return T.runtime!=="browser"?(Wt&&(ie[ri]=ie[ri]?`${ie[$n]} ${Wt}`:Wt),ie[$n]=Xt):ie[ri]=Xt,v({...x,request:ue})});return function(x){return I.apply(this,arguments)}}(),"userAgentMiddleware"),di=o(T=>{let[v,b]=T;const I=v.indexOf("/"),x=v.substring(0,I);let H=v.substring(I+1);return x==="api"&&(H=H.toLowerCase()),[x,H,b].filter(K=>K&&K.length>0).map(K=>K==null?void 0:K.replace(wi,"_")).join("/")},"escapeUserAgent"),yi={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},or=o(T=>({applyToStack:v=>{v.add(ki(T),yi)}}),"getUserAgentPlugin");class Ri{trace(){}debug(){}info(){}warn(){}error(){}}o(Ri,"NoOpLogger");const Gi=o(()=>{let T=[],v=[];const b=new Set,I=o(le=>le.sort((rt,_t)=>Gr[_t.step]-Gr[rt.step]||mo[_t.priority||"normal"]-mo[rt.priority||"normal"]),"sort"),x=o(le=>{let rt=!1;const _t=o(Xt=>Xt.name&&Xt.name===le?(rt=!0,b.delete(le),!1):!0,"filterCb");return T=T.filter(_t),v=v.filter(_t),rt},"removeByName"),H=o(le=>{let rt=!1;const _t=o(Xt=>Xt.middleware===le?(rt=!0,Xt.name&&b.delete(Xt.name),!1):!0,"filterCb");return T=T.filter(_t),v=v.filter(_t),rt},"removeByReference"),K=o(le=>(T.forEach(rt=>{le.add(rt.middleware,{...rt})}),v.forEach(rt=>{le.addRelativeTo(rt.middleware,{...rt})}),le),"cloneTo"),ue=o(le=>{const rt=[];return le.before.forEach(_t=>{_t.before.length===0&&_t.after.length===0?rt.push(_t):rt.push(...ue(_t))}),rt.push(le),le.after.reverse().forEach(_t=>{_t.before.length===0&&_t.after.length===0?rt.push(_t):rt.push(...ue(_t))}),rt},"expandRelativeMiddlewareList"),ie=o(function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const rt=[],_t=[],Xt={};return T.forEach(Vt=>{const rn={...Vt,before:[],after:[]};rn.name&&(Xt[rn.name]=rn),rt.push(rn)}),v.forEach(Vt=>{const rn={...Vt,before:[],after:[]};rn.name&&(Xt[rn.name]=rn),_t.push(rn)}),_t.forEach(Vt=>{if(Vt.toMiddleware){const rn=Xt[Vt.toMiddleware];if(rn===void 0){if(le)return;throw new Error(`${Vt.toMiddleware} is not found when adding ${Vt.name||"anonymous"} middleware ${Vt.relation} ${Vt.toMiddleware}`)}Vt.relation==="after"&&rn.after.push(Vt),Vt.relation==="before"&&rn.before.push(Vt)}}),I(rt).map(ue).reduce((Vt,rn)=>(Vt.push(...rn),Vt),[])},"getMiddlewareList"),ge={add:function(le){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{name:_t,override:Xt}=rt,Wt={step:"initialize",priority:"normal",middleware:le,...rt};if(_t){if(b.has(_t)){if(!Xt)throw new Error(`Duplicate middleware name '${_t}'`);const Vt=T.findIndex(ar=>ar.name===_t),rn=T[Vt];if(rn.step!==Wt.step||rn.priority!==Wt.priority)throw new Error(`"${_t}" middleware with ${rn.priority} priority in ${rn.step} step cannot be overridden by same-name middleware with ${Wt.priority} priority in ${Wt.step} step.`);T.splice(Vt,1)}b.add(_t)}T.push(Wt)},addRelativeTo:(le,rt)=>{const{name:_t,override:Xt}=rt,Wt={middleware:le,...rt};if(_t){if(b.has(_t)){if(!Xt)throw new Error(`Duplicate middleware name '${_t}'`);const Vt=v.findIndex(ar=>ar.name===_t),rn=v[Vt];if(rn.toMiddleware!==Wt.toMiddleware||rn.relation!==Wt.relation)throw new Error(`"${_t}" middleware ${rn.relation} "${rn.toMiddleware}" middleware cannot be overridden by same-name middleware ${Wt.relation} "${Wt.toMiddleware}" middleware.`);v.splice(Vt,1)}b.add(_t)}v.push(Wt)},clone:()=>K(Gi()),use:le=>{le.applyToStack(ge)},remove:le=>typeof le=="string"?x(le):H(le),removeByTag:le=>{let rt=!1;const _t=o(Xt=>{const{tags:Wt,name:Vt}=Xt;return Wt&&Wt.includes(le)?(Vt&&b.delete(Vt),rt=!0,!1):!0},"filterCb");return T=T.filter(_t),v=v.filter(_t),rt},concat:le=>{const rt=K(Gi());return rt.use(le),rt},applyToStack:K,identify:()=>ie(!0).map(le=>le.name+": "+(le.tags||[]).join(",")),resolve:(le,rt)=>{for(const _t of ie().map(Xt=>Xt.middleware).reverse())le=_t(le,rt);return le}};return ge},"constructStack"),Gr={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},mo={high:3,normal:2,low:1};class yr{send(v,b,I){const x=typeof b!="function"?b:void 0,H=typeof b=="function"?b:I,K=v.resolveMiddleware(this.middlewareStack,this.config,x);if(H)K(v).then(ue=>H(null,ue.output),ue=>H(ue)).catch(()=>{});else return K(v).then(ue=>ue.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}constructor(v){this.middlewareStack=Gi(),this.config=v}}o(yr,"client_Client");class En{constructor(){this.middlewareStack=Gi()}}o(En,"command_Command");const $t="***SensitiveInformation***",Wl=o((T,v)=>{for(const b of Object.keys(T)){const I=T[b],x=function(){var K=Object(d.coroutine)(function*(ue,ie,ge){const le=new I(ue);if(typeof ie=="function")this.send(le,ie);else if(typeof ge=="function"){if(typeof ie!="object")throw new Error(`Expected http options but got ${typeof ie}`);this.send(le,ie||{},ge)}else return this.send(le,ie)});return o(function(ie,ge,le){return K.apply(this,arguments)},"methodImpl")}(),H=(b[0].toLowerCase()+b.slice(1)).replace(/Command$/,"");v.prototype[H]=x}},"createAggregatedClient"),kd=o(T=>{switch(T){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${T}"`)}},"parseBoolean"),pl=o(T=>{if(T!=null){if(typeof T=="number"){if((T===0||T===1)&&Ea.warn(Ca(`Expected boolean, got ${typeof T}: ${T}`)),T===0)return!1;if(T===1)return!0}if(typeof T=="string"){const v=T.toLowerCase();if((v==="false"||v==="true")&&Ea.warn(Ca(`Expected boolean, got ${typeof T}: ${T}`)),v==="false")return!1;if(v==="true")return!0}if(typeof T=="boolean")return T;throw new TypeError(`Expected boolean, got ${typeof T}: ${T}`)}},"expectBoolean"),sr=o(T=>{if(T!=null){if(typeof T=="string"){const v=parseFloat(T);if(!Number.isNaN(v))return String(v)!==String(T)&&Ea.warn(Ca(`Expected number but observed string: ${T}`)),v}if(typeof T=="number")return T;throw new TypeError(`Expected number, got ${typeof T}: ${T}`)}},"expectNumber"),jl=Math.ceil(2**127*(2-2**-23)),Na=o(T=>{const v=sr(T);if(v!==void 0&&!Number.isNaN(v)&&v!==1/0&&v!==-1/0&&Math.abs(v)>jl)throw new TypeError(`Expected 32-bit float, got ${T}`);return v},"expectFloat32"),va=o(T=>{if(T!=null){if(Number.isInteger(T)&&!Number.isNaN(T))return T;throw new TypeError(`Expected integer, got ${typeof T}: ${T}`)}},"expectLong"),Dd=va,ml=o(T=>xa(T,32),"expectInt32"),gl=o(T=>xa(T,16),"expectShort"),Sl=o(T=>xa(T,8),"expectByte"),xa=o((T,v)=>{const b=va(T);if(b!==void 0&&Mr(b,v)!==b)throw new TypeError(`Expected ${v}-bit integer, got ${T}`);return b},"expectSizedInt"),Mr=o((T,v)=>{switch(v){case 32:return Int32Array.of(T)[0];case 16:return Int16Array.of(T)[0];case 8:return Int8Array.of(T)[0]}},"castInt"),an=o((T,v)=>{if(T==null)throw v?new TypeError(`Expected a non-null value for ${v}`):new TypeError("Expected a non-null value");return T},"expectNonNull"),ei=o(T=>{if(T==null)return;if(typeof T=="object"&&!Array.isArray(T))return T;const v=Array.isArray(T)?"array":typeof T;throw new TypeError(`Expected object, got ${v}: ${T}`)},"expectObject"),Pt=o(T=>{if(T!=null){if(typeof T=="string")return T;if(["boolean","number","bigint"].includes(typeof T))return Ea.warn(Ca(`Expected string, got ${typeof T}: ${T}`)),String(T);throw new TypeError(`Expected string, got ${typeof T}: ${T}`)}},"expectString"),Ld=o(T=>{if(T==null)return;const v=ei(T),b=Object.entries(v).filter(I=>{let[,x]=I;return x!=null}).map(I=>{let[x]=I;return x});if(b.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(b.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${b} were not null.`);return v},"expectUnion"),vl=o(T=>sr(typeof T=="string"?Zs(T):T),"strictParseDouble"),hs=vl,da=o(T=>Na(typeof T=="string"?Zs(T):T),"strictParseFloat32"),ca=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Zs=o(T=>{const v=T.match(ca);if(v===null||v[0].length!==T.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(T)},"parseNumber"),ya=o(T=>typeof T=="string"?yl(T):sr(T),"limitedParseDouble"),Nd=ya,ps=ya,ba=o(T=>typeof T=="string"?yl(T):Na(T),"limitedParseFloat32"),yl=o(T=>{switch(T){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${T}`)}},"parseFloatString"),Bd=o(T=>va(typeof T=="string"?Zs(T):T),"strictParseLong"),Fd=o(T=>ml(typeof T=="string"?Zs(T):T),"strictParseInt32"),ua=o(T=>gl(typeof T=="string"?Zs(T):T),"strictParseShort"),Gl=o(T=>Sl(typeof T=="string"?Zs(T):T),"strictParseByte"),Ca=o(T=>String(new TypeError(T).stack||T).split(`
`).slice(0,5).filter(v=>!v.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),Ea={warn:console.warn},$l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ba=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Vd(T){const v=T.getUTCFullYear(),b=T.getUTCMonth(),I=T.getUTCDay(),x=T.getUTCDate(),H=T.getUTCHours(),K=T.getUTCMinutes(),ue=T.getUTCSeconds(),ie=x<10?`0${x}`:`${x}`,ge=H<10?`0${H}`:`${H}`,le=K<10?`0${K}`:`${K}`,rt=ue<10?`0${ue}`:`${ue}`;return`${$l[I]}, ${ie} ${Ba[b]} ${v} ${ge}:${le}:${rt} GMT`}o(Vd,"dateToUtcString");const Kl=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Ud=o(T=>{if(T==null)return;if(typeof T!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const v=Kl.exec(T);if(!v)throw new TypeError("Invalid RFC-3339 date-time value");const[b,I,x,H,K,ue,ie,ge]=v,le=ua(be(I)),rt=Y(x,"month",1,12),_t=Y(H,"day",1,31);return As(le,rt,_t,{hours:K,minutes:ue,seconds:ie,fractionalMilliseconds:ge})},"parseRfc3339DateTime"),Jl=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Hd=o(T=>{if(T==null)return;if(typeof T!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const v=Jl.exec(T);if(!v)throw new TypeError("Invalid RFC-3339 date-time value");const[b,I,x,H,K,ue,ie,ge,le]=v,rt=ua(be(I)),_t=Y(x,"month",1,12),Xt=Y(H,"day",1,31),Wt=As(rt,_t,Xt,{hours:K,minutes:ue,seconds:ie,fractionalMilliseconds:ge});return le.toUpperCase()!="Z"&&Wt.setTime(Wt.getTime()-re(le)),Wt},"parseRfc3339DateTimeWithOffset"),Fa=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Va=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ua=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),bl=o(T=>{if(T==null)return;if(typeof T!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let v=Fa.exec(T);if(v){const[b,I,x,H,K,ue,ie,ge]=v;return As(ua(be(H)),ja(x),Y(I,"day",1,31),{hours:K,minutes:ue,seconds:ie,fractionalMilliseconds:ge})}if(v=Va.exec(T),v){const[b,I,x,H,K,ue,ie,ge]=v;return Wa(As(Ha(H),ja(x),Y(I,"day",1,31),{hours:K,minutes:ue,seconds:ie,fractionalMilliseconds:ge}))}if(v=Ua.exec(T),v){const[b,I,x,H,K,ue,ie,ge]=v;return As(ua(be(ge)),ja(I),Y(x.trimLeft(),"day",1,31),{hours:H,minutes:K,seconds:ue,fractionalMilliseconds:ie})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),pr=o(T=>{if(T==null)return;let v;if(typeof T=="number")v=T;else if(typeof T=="string")v=vl(T);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(v)||v===1/0||v===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(v*1e3))},"parseEpochTimestamp"),As=o((T,v,b,I)=>{const x=v-1;return U(T,x,b),new Date(Date.UTC(T,x,b,Y(I.hours,"hour",0,23),Y(I.minutes,"minute",0,59),Y(I.seconds,"seconds",0,60),G(I.fractionalMilliseconds)))},"buildDate"),Ha=o(T=>{const v=new Date().getUTCFullYear(),b=Math.floor(v/100)*100+ua(be(T));return b<v?b+100:b},"parseTwoDigitYear"),za=50*365*24*60*60*1e3,Wa=o(T=>T.getTime()-new Date().getTime()>za?new Date(Date.UTC(T.getUTCFullYear()-100,T.getUTCMonth(),T.getUTCDate(),T.getUTCHours(),T.getUTCMinutes(),T.getUTCSeconds(),T.getUTCMilliseconds())):T,"adjustRfc850Year"),ja=o(T=>{const v=Ba.indexOf(T);if(v<0)throw new TypeError(`Invalid month: ${T}`);return v+1},"parseMonthByShortName"),C=[31,28,31,30,31,30,31,31,30,31,30,31],U=o((T,v,b)=>{let I=C[v];if(v===1&&M(T)&&(I=29),b>I)throw new TypeError(`Invalid day for ${Ba[v]} in ${T}: ${b}`)},"validateDayOfMonth"),M=o(T=>T%4===0&&(T%100!==0||T%400===0),"isLeapYear"),Y=o((T,v,b,I)=>{const x=Gl(be(T));if(x<b||x>I)throw new TypeError(`${v} must be between ${b} and ${I}, inclusive`);return x},"parseDateValue"),G=o(T=>T==null?0:da("0."+T)*1e3,"parseMilliseconds"),re=o(T=>{const v=T[0];let b=1;if(v=="+")b=1;else if(v=="-")b=-1;else throw new TypeError(`Offset direction, ${v}, must be "+" or "-"`);const I=Number(T.substring(1,3)),x=Number(T.substring(4,6));return b*(I*60+x)*60*1e3},"parseOffsetToMilliseconds"),be=o(T=>{let v=0;for(;v<T.length-1&&T.charAt(v)==="0";)v++;return v===0?T:T.slice(v)},"stripLeadingZeroes");class me extends Error{constructor(v){super(v.message),Object.setPrototypeOf(this,me.prototype),this.name=v.name,this.$fault=v.$fault,this.$metadata=v.$metadata}}o(me,"ServiceException");const Ze=o(function(T){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.entries(v).filter(I=>{let[,x]=I;return x!==void 0}).forEach(I=>{let[x,H]=I;(T[x]==null||T[x]==="")&&(T[x]=H)});const b=T.message||T.Message||"UnknownError";return T.message=b,delete T.Message,T},"decorateServiceException"),fe=o(T=>{let{output:v,parsedBody:b,exceptionCtor:I,errorCode:x}=T;const H=xe(v),K=H.httpStatusCode?H.httpStatusCode+"":void 0,ue=new I({name:(b==null?void 0:b.code)||(b==null?void 0:b.Code)||x||K||"UnknownError",$fault:"client",$metadata:H});throw Ze(ue,b)},"throwDefaultError"),Te=o(T=>v=>{let{output:b,parsedBody:I,errorCode:x}=v;fe({output:b,parsedBody:I,exceptionCtor:T,errorCode:x})},"withBaseException");var en,Ye;const xe=o(T=>({httpStatusCode:T.statusCode,requestId:(Ye=(en=T.headers["x-amzn-requestid"])!==null&&en!==void 0?en:T.headers["x-amzn-request-id"])!==null&&Ye!==void 0?Ye:T.headers["x-amz-request-id"],extendedRequestId:T.headers["x-amz-id-2"],cfId:T.headers["x-amz-cf-id"]}),"deserializeMetadata"),It=o(T=>{switch(T){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode");let Hn=!1;const Zt=o(T=>{T&&!Hn&&parseInt(T.substring(1,T.indexOf(".")))<14&&(Hn=!0)},"emitWarningIfUnsupportedVersion");function Bt(T){return encodeURIComponent(T).replace(/[!'()*]/g,function(v){return"%"+v.charCodeAt(0).toString(16).toUpperCase()})}o(Bt,"extendedEncodeURIComponent");const pn=o(T=>Array.isArray(T)?T:[T],"getArrayIfSingleItem"),Kt=o(T=>{const v="#text";for(const b in T)T.hasOwnProperty(b)&&T[b][v]!==void 0?T[b]=T[b][v]:typeof T[b]=="object"&&T[b]!==null&&(T[b]=Kt(T[b]));return T},"getValueFromTextNode"),Ge=o(function(){const T=Object.getPrototypeOf(this).constructor,v=Function.bind.apply(String,[null,...arguments]),b=new v;return Object.setPrototypeOf(b,T.prototype),b},"StringWrapper");Ge.prototype=Object.create(String.prototype,{constructor:{value:Ge,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Ge,String);class tn extends Ge{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(v){return v instanceof tn?v:v instanceof String||typeof v=="string"?new tn(v):new tn(JSON.stringify(v))}}o(tn,"LazyJsonString");function ze(T,v,b){let I,x,H;if(typeof v>"u"&&typeof b>"u")I={},H=T;else{if(I=T,typeof v=="function")return x=v,H=b,gn(I,x,H);H=v}for(const K of Object.keys(H)){if(!Array.isArray(H[K])){I[K]=H[K];continue}Ft(I,null,H,K)}return I}o(ze,"map");const Rt=o(T=>{const v={};for(const[b,I]of Object.entries(T||{}))v[b]=[,I];return v},"convertMap"),nt=o((T,v)=>{const b={};for(const I in v)Ft(b,T,v,I);return b},"take"),gn=o((T,v,b)=>ze(T,Object.entries(b).reduce((I,x)=>{let[H,K]=x;return Array.isArray(K)?I[H]=K:typeof K=="function"?I[H]=[v,K()]:I[H]=[v,K],I},{})),"mapWithFilter"),Ft=o((T,v,b,I)=>{if(v!==null){let K=b[I];typeof K=="function"&&(K=[,K]);const[ue=Ht,ie=no,ge=I]=K;(typeof ue=="function"&&ue(v[ge])||typeof ue!="function"&&ue)&&(T[I]=ie(v[ge]));return}let[x,H]=b[I];if(typeof H=="function"){let K;const ue=x===void 0&&(K=H())!=null,ie=typeof x=="function"&&!!x(void 0)||typeof x!="function"&&!!x;ue?T[I]=K:ie&&(T[I]=H())}else{const K=x===void 0&&H!=null,ue=typeof x=="function"&&!!x(H)||typeof x!="function"&&!!x;(K||ue)&&(T[I]=H)}},"applyInstruction"),Ht=o(T=>T!=null,"nonNullish"),no=o(T=>T,"pass"),hn=o((T,v,b,I,x,H)=>{if(v!=null&&v[b]!==void 0){const K=I();if(K.length<=0)throw new Error("Empty value provided for input HTTP label: "+b+".");T=T.replace(x,H?K.split("/").map(ue=>Bt(ue)).join("/"):Bt(K))}else throw new Error("No value provided for input HTTP label: "+b+".");return T},"resolve_path_resolvedPath"),Cl=o(T=>{if(T!==T)return"NaN";switch(T){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return T}},"serializeFloat"),un=o(T=>{if(T==null)return{};if(Array.isArray(T))return T.filter(v=>v!=null);if(typeof T=="object"){const v={};for(const b of Object.keys(T))T[b]!=null&&(v[b]=un(T[b]));return v}return T},"_json");function qs(T,v,b){if(b<=0||!Number.isInteger(b))throw new Error("Invalid number of delimiters ("+b+") for splitEvery.");const I=T.split(v);if(b===1)return I;const x=[];let H="";for(let K=0;K<I.length;K++)H===""?H=I[K]:H+=v+I[K],(K+1)%b===0&&(x.push(H),H="");return H!==""&&x.push(H),x}o(qs,"splitEvery");const Ps=o(T=>{var v,b;return{...T,useDualstackEndpoint:(v=T.useDualstackEndpoint)!==null&&v!==void 0?v:!1,useFipsEndpoint:(b=T.useFipsEndpoint)!==null&&b!==void 0?b:!1,defaultSigningName:"chime"}},"resolveClientEndpointParameters");var ih=h("M2az"),rh=h("viNG");function oh(T){const v=[];for(let b of Object.keys(T).sort()){const I=T[b];if(b=Wr(b),Array.isArray(I))for(let x=0,H=I.length;x<H;x++)v.push(`${b}=${Wr(I[x])}`);else{let x=b;(I||typeof I=="string")&&(x+=`=${Wr(I)}`),v.push(x)}}return v.join("&")}o(oh,"buildQueryString");function sh(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Promise((v,b)=>{T&&setTimeout(()=>{const I=new Error(`Request did not complete within ${T} ms`);I.name="TimeoutError",b(I)},T)})}o(sh,"requestTimeout");class qc{destroy(){}handle(v){let{abortSignal:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var I=this;return Object(d.coroutine)(function*(){I.config||(I.config=yield I.configProvider);const x=I.config.requestTimeout;if(b!=null&&b.aborted){const Xt=new Error("Request aborted");return Xt.name="AbortError",Promise.reject(Xt)}let H=v.path;if(v.query){const Xt=oh(v.query);Xt&&(H+=`?${Xt}`)}const{port:K,method:ue}=v,ie=`${v.protocol}//${v.hostname}${K?`:${K}`:""}${H}`,le={body:ue==="GET"||ue==="HEAD"?void 0:v.body,headers:new Headers(v.headers),method:ue};typeof AbortController<"u"&&(le.signal=b);const rt=new Request(ie,le),_t=[fetch(rt).then(Xt=>{const Wt=Xt.headers,Vt={};for(const ar of Wt.entries())Vt[ar[0]]=ar[1];return Xt.body!=null?{response:new pt({headers:Vt,statusCode:Xt.status,body:Xt.body})}:Xt.blob().then(ar=>({response:new pt({headers:Vt,statusCode:Xt.status,body:ar})}))}),sh(x)];return b&&_t.push(new Promise((Xt,Wt)=>{b.onabort=()=>{const Vt=new Error("Request aborted");Vt.name="AbortError",Wt(Vt)}})),Promise.race(_t)})()}constructor(v){typeof v=="function"?this.configProvider=v().then(b=>b||{}):(this.config=v??{},this.configProvider=Promise.resolve(this.config))}}o(qc,"fetch_http_handler_FetchHttpHandler");const Ta={},El=new Array(64);for(let T=0,v="A".charCodeAt(0),b="Z".charCodeAt(0);T+v<=b;T++){const I=String.fromCharCode(T+v);Ta[I]=T,El[T]=I}for(let T=0,v="a".charCodeAt(0),b="z".charCodeAt(0);T+v<=b;T++){const I=String.fromCharCode(T+v),x=T+26;Ta[I]=x,El[x]=I}for(let T=0;T<10;T++){Ta[T.toString(10)]=T+52;const v=T.toString(10),b=T+52;Ta[v]=b,El[b]=v}Ta["+"]=62,El[62]="+",Ta["/"]=63,El[63]="/";const Tl=6,Yl=8,ah=63,eu=o(T=>{let v=T.length/4*3;T.slice(-2)==="=="?v-=2:T.slice(-1)==="="&&v--;const b=new ArrayBuffer(v),I=new DataView(b);for(let x=0;x<T.length;x+=4){let H=0,K=0;for(let ge=x,le=x+3;ge<=le;ge++)if(T[ge]!=="="){if(!(T[ge]in Ta))throw new TypeError(`Invalid character ${T[ge]} in base64 string.`);H|=Ta[T[ge]]<<(le-ge)*Tl,K+=Tl}else H>>=Tl;const ue=x/4*3;H>>=K%Yl;const ie=Math.floor(K/Yl);for(let ge=0;ge<ie;ge++){const le=(ie-ge-1)*Yl;I.setUint8(ue+ge,(H&255<<le)>>le)}}return new Uint8Array(b)},"fromBase64");function lh(T){let v="";for(let b=0;b<T.length;b+=3){let I=0,x=0;for(let K=b,ue=Math.min(b+3,T.length);K<ue;K++)I|=T[K]<<(ue-K-1)*Yl,x+=Yl;const H=Math.ceil(x/Tl);I<<=H*Tl-x;for(let K=1;K<=H;K++){const ue=(H-K)*Tl;v+=El[(I&ah<<ue)>>ue]}v+="==".slice(0,4-H)}return v}o(lh,"toBase64");const dh=o(T=>typeof Blob=="function"&&T instanceof Blob?ch(T):uh(T),"streamCollector");function ch(T){return uc.apply(this,arguments)}o(ch,"collectBlob");function uc(){return uc=Object(d.coroutine)(function*(T){const v=yield fh(T),b=eu(v);return new Uint8Array(b)}),uc.apply(this,arguments)}o(uc,"_collectBlob");function uh(T){return fc.apply(this,arguments)}o(uh,"collectStream");function fc(){return fc=Object(d.coroutine)(function*(T){let v=new Uint8Array(0);const b=T.getReader();let I=!1;for(;!I;){const{done:x,value:H}=yield b.read();if(H){const K=v;v=new Uint8Array(K.length+H.length),v.set(K),v.set(H,K.length)}I=x}return v}),fc.apply(this,arguments)}o(fc,"_collectStream");function fh(T){return new Promise((v,b)=>{const I=new FileReader;I.onloadend=()=>{if(I.readyState!==2)return b(new Error("Reader aborted too early"));var x;const H=(x=I.result)!==null&&x!==void 0?x:"",K=H.indexOf(","),ue=K>-1?K+1:H.length;v(H.substring(ue))},I.onabort=()=>b(new Error("Read aborted")),I.onerror=()=>b(I.error),I.readAsDataURL(T)})}o(fh,"readToBase64");const jS=o(T=>()=>{throw new Error(T)},"invalidFunction"),hh=o(T=>()=>Promise.reject(T),"invalidProvider"),ph=o(T=>{if(typeof T=="string"){let v=T.length;for(let b=v-1;b>=0;b--){const I=T.charCodeAt(b);I>127&&I<=2047?v++:I>2047&&I<=65535&&(v+=2),I>=56320&&I<=57343&&b--}return v}else{if(typeof T.byteLength=="number")return T.byteLength;if(typeof T.size=="number")return T.size}throw new Error(`Body Length computation failed for ${T}`)},"calculateBodyLength");var mh=h("M39V"),tu=h.n(mh);const gh=o(T=>{let{serviceId:v,clientVersion:b}=T;return Object(d.coroutine)(function*(){var I,x,H,K,ue;const ie=typeof window<"u"&&(!(window==null||(I=window.navigator)===null||I===void 0)&&I.userAgent)?tu.a.parse(window.navigator.userAgent):void 0;var ge,le;const rt=[["aws-sdk-js",b],[`os/${(ie==null||(x=ie.os)===null||x===void 0?void 0:x.name)||"other"}`,ie==null||(H=ie.os)===null||H===void 0?void 0:H.version],["lang/js"],["md/browser",`${(ge=ie==null||(K=ie.browser)===null||K===void 0?void 0:K.name)!==null&&ge!==void 0?ge:"unknown"}_${(le=ie==null||(ue=ie.browser)===null||ue===void 0?void 0:ue.version)!==null&&le!==void 0?le:"unknown"}`]];return v&&rt.push([`api/${v}`,b]),rt})},"dist_es_defaultUserAgent"),nu="required",fa="fn",ha="argv",Il="ref",iu="isSet",go="tree",wl="error",Xl="endpoint",hc="PartitionResult",ru={[nu]:!1,type:"String"},ou={[nu]:!0,default:!1,type:"Boolean"},su={[Il]:"Endpoint"},au={[fa]:"booleanEquals",[ha]:[{[Il]:"UseFIPS"},!0]},lu={[fa]:"booleanEquals",[ha]:[{[Il]:"UseDualStack"},!0]},ea={},du={[fa]:"booleanEquals",[ha]:[!0,{[fa]:"getAttr",[ha]:[{[Il]:hc},"supportsFIPS"]}]},cu={[fa]:"booleanEquals",[ha]:[!0,{[fa]:"getAttr",[ha]:[{[Il]:hc},"supportsDualStack"]}]},uu=[au],fu=[lu],hu=[{[Il]:"Region"}],Sh={version:"1.0",parameters:{Region:ru,UseDualStack:ou,UseFIPS:ou,Endpoint:ru},rules:[{conditions:[{[fa]:iu,[ha]:[su]}],type:go,rules:[{conditions:uu,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:wl},{type:go,rules:[{conditions:fu,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:wl},{endpoint:{url:su,properties:ea,headers:ea},type:Xl}]}]},{type:go,rules:[{conditions:[{[fa]:iu,[ha]:hu}],type:go,rules:[{conditions:[{[fa]:"aws.partition",[ha]:hu,assign:hc}],type:go,rules:[{conditions:[au,lu],type:go,rules:[{conditions:[du,cu],type:go,rules:[{type:go,rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ea,headers:ea},type:Xl}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:wl}]},{conditions:uu,type:go,rules:[{conditions:[du],type:go,rules:[{type:go,rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ea,headers:ea},type:Xl}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:wl}]},{conditions:fu,type:go,rules:[{conditions:[cu],type:go,rules:[{type:go,rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ea,headers:ea},type:Xl}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:wl}]},{type:go,rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dnsSuffix}",properties:ea,headers:ea},type:Xl}]}]}]},{error:"Invalid Configuration: Missing Region",type:wl}]}]},vh=o(function(T){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ni(Sh,{endpointParams:T,logger:v.logger})},"defaultEndpointResolver");var pc,mc,gc,Sc,vc,yc,bc,Cc,Ec;const yh=o(T=>({apiVersion:"2021-05-15",base64Decoder:(pc=T==null?void 0:T.base64Decoder)!==null&&pc!==void 0?pc:eu,base64Encoder:(mc=T==null?void 0:T.base64Encoder)!==null&&mc!==void 0?mc:lh,disableHostPrefix:(gc=T==null?void 0:T.disableHostPrefix)!==null&&gc!==void 0?gc:!1,endpointProvider:(Sc=T==null?void 0:T.endpointProvider)!==null&&Sc!==void 0?Sc:vh,logger:(vc=T==null?void 0:T.logger)!==null&&vc!==void 0?vc:new Ri,serviceId:(yc=T==null?void 0:T.serviceId)!==null&&yc!==void 0?yc:"Chime SDK Messaging",urlParser:(bc=T==null?void 0:T.urlParser)!==null&&bc!==void 0?bc:Ki,utf8Decoder:(Cc=T==null?void 0:T.utf8Decoder)!==null&&Cc!==void 0?Cc:So,utf8Encoder:(Ec=T==null?void 0:T.utf8Encoder)!==null&&Ec!==void 0?Ec:Bo}),"getRuntimeConfig"),bh=["in-region","cross-region","mobile","standard","legacy"],Ch=o(function(){let{defaultsMode:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Li(Object(d.coroutine)(function*(){const v=typeof T=="function"?yield T():T;switch(v==null?void 0:v.toLowerCase()){case"auto":return Promise.resolve(Eh()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(v==null?void 0:v.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${bh.join(", ")}, got ${v}`)}}))},"resolveDefaultsModeConfig"),Eh=o(()=>{var T,v;const b=typeof window<"u"&&(!(window==null||(T=window.navigator)===null||T===void 0)&&T.userAgent)?tu.a.parse(window.navigator.userAgent):void 0,I=b==null||(v=b.platform)===null||v===void 0?void 0:v.type;return I==="tablet"||I==="mobile"},"isMobileBrowser"),Th=o(T=>{const v=Ch(T),b=o(()=>v().then(It),"defaultConfigProvider"),I=yh(T);var x,H,K,ue,ie,ge,le,rt,_t,Xt,Wt;return{...I,...T,runtime:"browser",defaultsMode:v,bodyLengthChecker:(x=T==null?void 0:T.bodyLengthChecker)!==null&&x!==void 0?x:ph,credentialDefaultProvider:(H=T==null?void 0:T.credentialDefaultProvider)!==null&&H!==void 0?H:Vt=>()=>Promise.reject(new Error("Credential is missing")),defaultUserAgentProvider:(K=T==null?void 0:T.defaultUserAgentProvider)!==null&&K!==void 0?K:gh({serviceId:I.serviceId,clientVersion:ih.version}),maxAttempts:(ue=T==null?void 0:T.maxAttempts)!==null&&ue!==void 0?ue:ht,region:(ie=T==null?void 0:T.region)!==null&&ie!==void 0?ie:hh("Region is missing"),requestHandler:(ge=T==null?void 0:T.requestHandler)!==null&&ge!==void 0?ge:new qc(b),retryMode:(le=T==null?void 0:T.retryMode)!==null&&le!==void 0?le:Object(d.coroutine)(function*(){return(yield b()).retryMode||gt}),sha256:(rt=T==null?void 0:T.sha256)!==null&&rt!==void 0?rt:rh.Sha256,streamCollector:(_t=T==null?void 0:T.streamCollector)!==null&&_t!==void 0?_t:dh,useDualstackEndpoint:(Xt=T==null?void 0:T.useDualstackEndpoint)!==null&&Xt!==void 0?Xt:()=>Promise.resolve(i),useFipsEndpoint:(Wt=T==null?void 0:T.useFipsEndpoint)!==null&&Wt!==void 0?Wt:()=>Promise.resolve(r)}},"runtimeConfig_browser_getRuntimeConfig");class _o extends yr{destroy(){super.destroy()}constructor(v){const b=Th(v),I=Ps(b),x=B(I),H=jn(x),K=Hi(H),ue=K,ie=as(ue),ge=Ro(ie);super(ge),this.config=ge,this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(Tr(this.config)),this.middlewareStack.use(fi(this.config)),this.middlewareStack.use(et(this.config)),this.middlewareStack.use(Oo(this.config)),this.middlewareStack.use(or(this.config))}}o(_o,"ChimeSDKMessagingClient_ChimeSDKMessagingClient");var Tc;(function(T){T[T.HEADER=0]="HEADER",T[T.TRAILER=1]="TRAILER"})(Tc||(Tc={}));class Ih{constructor({name:v,kind:b=Tc.HEADER,values:I=[]}){this.name=v,this.kind=b,this.values=I}add(v){this.values.push(v)}set(v){this.values=v}remove(v){this.values=this.values.filter(b=>b!==v)}toString(){return this.values.map(v=>v.includes(",")||v.includes(" ")?`"${v}"`:v).join(", ")}get(){return this.values}}o(Ih,"dist_es_Field_Field");class wh{constructor({fields:v=[],encoding:b="utf-8"}){this.entries={},v.forEach(this.setField.bind(this)),this.encoding=b}setField(v){this.entries[v.name.toLowerCase()]=v}getField(v){return this.entries[v.toLowerCase()]}removeField(v){delete this.entries[v.toLowerCase()]}getByType(v){return Object.values(this.entries).filter(b=>b.kind===v)}}o(wh,"Fields_Fields");class Mn{constructor(v){this.method=v.method||"GET",this.hostname=v.hostname||"localhost",this.port=v.port,this.query=v.query||{},this.headers=v.headers||{},this.body=v.body,this.protocol=v.protocol?v.protocol.slice(-1)!==":"?`${v.protocol}:`:v.protocol:"https:",this.path=v.path?v.path.charAt(0)!=="/"?`/${v.path}`:v.path:"/"}static isInstance(v){if(!v)return!1;const b=v;return"method"in b&&"protocol"in b&&"hostname"in b&&"path"in b&&typeof b.query=="object"&&typeof b.headers=="object"}clone(){const v=new Mn({...this,headers:{...this.headers}});return v.query&&(v.query=Oh(v.query)),v}}o(Mn,"httpRequest_HttpRequest");function Oh(T){return Object.keys(T).reduce((v,b)=>{const I=T[b];return{...v,[b]:Array.isArray(I)?[...I]:I}},{})}o(Oh,"httpRequest_cloneQuery");class Mh{constructor(v){this.statusCode=v.statusCode,this.headers=v.headers||{},this.body=v.body}static isInstance(v){if(!v)return!1;const b=v;return typeof b.statusCode=="number"&&typeof b.headers=="object"}}o(Mh,"httpResponse_HttpResponse");function $S(T){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(T)}o($S,"isValidHostname_isValidHostname");class ko extends me{constructor(v){super(v),Object.setPrototypeOf(this,ko.prototype)}}o(ko,"ChimeSDKMessagingServiceException_ChimeSDKMessagingServiceException");const Rh={ALL:"ALL",FILTERED:"FILTERED",NONE:"NONE"},Ah={DEFAULT:"DEFAULT",HIDDEN:"HIDDEN"},Ph={AccessDenied:"AccessDenied",BadRequest:"BadRequest",Conflict:"Conflict",Forbidden:"Forbidden",NotFound:"NotFound",PhoneNumberAssociationsExist:"PhoneNumberAssociationsExist",PreconditionFailed:"PreconditionFailed",ResourceLimitExceeded:"ResourceLimitExceeded",ServiceFailure:"ServiceFailure",ServiceUnavailable:"ServiceUnavailable",Throttled:"Throttled",Throttling:"Throttling",Unauthorized:"Unauthorized",Unprocessable:"Unprocessable",VoiceConnectorGroupAssociationsExist:"VoiceConnectorGroupAssociationsExist"};class Ql extends ko{constructor(v){super({name:"BadRequestException",$fault:"client",...v}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,Ql.prototype),this.Code=v.Code,this.Message=v.Message}}o(Ql,"models_0_BadRequestException");class Zl extends ko{constructor(v){super({name:"ConflictException",$fault:"client",...v}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,Zl.prototype),this.Code=v.Code,this.Message=v.Message}}o(Zl,"models_0_ConflictException");class ql extends ko{constructor(v){super({name:"ForbiddenException",$fault:"client",...v}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,ql.prototype),this.Code=v.Code,this.Message=v.Message}}o(ql,"models_0_ForbiddenException");class ed extends ko{constructor(v){super({name:"NotFoundException",$fault:"client",...v}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,ed.prototype),this.Code=v.Code,this.Message=v.Message}}o(ed,"models_0_NotFoundException");class td extends ko{constructor(v){super({name:"ServiceFailureException",$fault:"server",...v}),this.name="ServiceFailureException",this.$fault="server",Object.setPrototypeOf(this,td.prototype),this.Code=v.Code,this.Message=v.Message}}o(td,"models_0_ServiceFailureException");class nd extends ko{constructor(v){super({name:"ServiceUnavailableException",$fault:"server",...v}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,nd.prototype),this.Code=v.Code,this.Message=v.Message}}o(nd,"models_0_ServiceUnavailableException");class id extends ko{constructor(v){super({name:"ThrottledClientException",$fault:"client",...v}),this.name="ThrottledClientException",this.$fault="client",Object.setPrototypeOf(this,id.prototype),this.Code=v.Code,this.Message=v.Message}}o(id,"models_0_ThrottledClientException");class rd extends ko{constructor(v){super({name:"UnauthorizedClientException",$fault:"client",...v}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,rd.prototype),this.Code=v.Code,this.Message=v.Message}}o(rd,"models_0_UnauthorizedClientException");class od extends ko{constructor(v){super({name:"ResourceLimitExceededException",$fault:"client",...v}),this.name="ResourceLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,od.prototype),this.Code=v.Code,this.Message=v.Message}}o(od,"models_0_ResourceLimitExceededException");const _h={CREATED_TIMESTAMP:"CREATED_TIMESTAMP",LAST_MESSAGE_TIMESTAMP:"LAST_MESSAGE_TIMESTAMP"},kh={RESTRICTED:"RESTRICTED",UNRESTRICTED:"UNRESTRICTED"},Dh={PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},Lh={ASYNC:"ASYNC"},Nh={ABORT:"ABORT",CONTINUE:"CONTINUE"},xh={DEFAULT:"DEFAULT",VOIP:"VOIP"},Bh={NON_PERSISTENT:"NON_PERSISTENT",PERSISTENT:"PERSISTENT"},Fh={DENIED:"DENIED",FAILED:"FAILED",PENDING:"PENDING",SENT:"SENT"},Vh={CONTROL:"CONTROL",STANDARD:"STANDARD"},Uh={Channel:"Channel",ChannelMessage:"ChannelMessage"},Hh={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},zh={MEMBERS:"MEMBERS"},Wh={EQUALS:"EQUALS",INCLUDES:"INCLUDES"},Dr=o(T=>({...T,...T.Name&&{Name:$t}}),"IdentityFilterSensitiveLog"),pu=o(T=>({...T,...T.InvitedBy&&{InvitedBy:Dr(T.InvitedBy)},...T.Members&&{Members:T.Members.map(v=>Dr(v))}}),"BatchChannelMembershipsFilterSensitiveLog"),mu=o(T=>({...T,...T.BatchChannelMemberships&&{BatchChannelMemberships:pu(T.BatchChannelMemberships)}}),"BatchCreateChannelMembershipResponseFilterSensitiveLog"),gu=o(T=>({...T,...T.Name&&{Name:$t},...T.Metadata&&{Metadata:$t},...T.CreatedBy&&{CreatedBy:Dr(T.CreatedBy)}}),"ChannelFilterSensitiveLog"),Su=o(T=>({...T,...T.Name&&{Name:$t},...T.Metadata&&{Metadata:$t}}),"ChannelAssociatedWithFlowSummaryFilterSensitiveLog"),vu=o(T=>({...T,...T.Member&&{Member:Dr(T.Member)},...T.CreatedBy&&{CreatedBy:Dr(T.CreatedBy)}}),"ChannelBanFilterSensitiveLog"),yu=o(T=>({...T,...T.Member&&{Member:Dr(T.Member)}}),"ChannelBanSummaryFilterSensitiveLog"),sd=o(T=>({...T,...T.Name&&{Name:$t}}),"ProcessorFilterSensitiveLog"),bu=o(T=>({...T,...T.Processors&&{Processors:T.Processors.map(v=>sd(v))},...T.Name&&{Name:$t}}),"ChannelFlowFilterSensitiveLog"),ad=o(T=>({...T,...T.StringValues&&{StringValues:$t}}),"MessageAttributeValueFilterSensitiveLog"),Ic=o(T=>({...T,...T.Title&&{Title:$t},...T.Body&&{Body:$t}}),"PushNotificationConfigurationFilterSensitiveLog"),Cu=o(T=>({...T,...T.Content&&{Content:$t},...T.Metadata&&{Metadata:$t},...T.PushNotification&&{PushNotification:Ic(T.PushNotification)},...T.MessageAttributes&&{MessageAttributes:Object.entries(T.MessageAttributes).reduce((v,b)=>{let[I,x]=b;return v[I]=ad(x),v},{})},...T.ContentType&&{ContentType:$t}}),"ChannelMessageCallbackFilterSensitiveLog"),Eu=o(T=>({...T,...T.ChannelMessage&&{ChannelMessage:Cu(T.ChannelMessage)}}),"ChannelFlowCallbackRequestFilterSensitiveLog"),Tu=o(T=>({...T,...T.Name&&{Name:$t},...T.Processors&&{Processors:T.Processors.map(v=>sd(v))}}),"ChannelFlowSummaryFilterSensitiveLog"),Iu=o(T=>({...T,...T.InvitedBy&&{InvitedBy:Dr(T.InvitedBy)},...T.Member&&{Member:Dr(T.Member)}}),"ChannelMembershipFilterSensitiveLog"),ld=o(T=>({...T,...T.Name&&{Name:$t},...T.Metadata&&{Metadata:$t}}),"ChannelSummaryFilterSensitiveLog"),wc=o(T=>({...T,...T.ChannelSummary&&{ChannelSummary:ld(T.ChannelSummary)}}),"ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog"),wu=o(T=>({...T,...T.FilterRule&&{FilterRule:$t}}),"PushNotificationPreferencesFilterSensitiveLog"),zd=o(T=>({...T,...T.PushNotifications&&{PushNotifications:wu(T.PushNotifications)}}),"ChannelMembershipPreferencesFilterSensitiveLog"),Ou=o(T=>({...T,...T.Member&&{Member:Dr(T.Member)}}),"ChannelMembershipSummaryFilterSensitiveLog"),Mu=o(T=>({...T,...T.Content&&{Content:$t},...T.Metadata&&{Metadata:$t},...T.Sender&&{Sender:Dr(T.Sender)},...T.MessageAttributes&&{MessageAttributes:Object.entries(T.MessageAttributes).reduce((v,b)=>{let[I,x]=b;return v[I]=ad(x),v},{})},...T.ContentType&&{ContentType:$t}}),"ChannelMessageFilterSensitiveLog"),Ru=o(T=>({...T,...T.Content&&{Content:$t},...T.Metadata&&{Metadata:$t},...T.Sender&&{Sender:Dr(T.Sender)},...T.MessageAttributes&&{MessageAttributes:Object.entries(T.MessageAttributes).reduce((v,b)=>{let[I,x]=b;return v[I]=ad(x),v},{})},...T.ContentType&&{ContentType:$t}}),"ChannelMessageSummaryFilterSensitiveLog"),Oc=o(T=>({...T,...T.ChannelSummary&&{ChannelSummary:ld(T.ChannelSummary)}}),"ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog"),Au=o(T=>({...T,...T.Moderator&&{Moderator:Dr(T.Moderator)},...T.CreatedBy&&{CreatedBy:Dr(T.CreatedBy)}}),"ChannelModeratorFilterSensitiveLog"),Pu=o(T=>({...T,...T.Moderator&&{Moderator:Dr(T.Moderator)}}),"ChannelModeratorSummaryFilterSensitiveLog"),dd=o(T=>({...T,...T.Key&&{Key:$t},...T.Value&&{Value:$t}}),"TagFilterSensitiveLog"),_u=o(T=>({...T,...T.Name&&{Name:$t},...T.Metadata&&{Metadata:$t},...T.ClientRequestToken&&{ClientRequestToken:$t},...T.Tags&&{Tags:T.Tags.map(v=>dd(v))},...T.ChannelId&&{ChannelId:$t}}),"CreateChannelRequestFilterSensitiveLog"),ku=o(T=>({...T,...T.Member&&{Member:Dr(T.Member)}}),"CreateChannelBanResponseFilterSensitiveLog"),Du=o(T=>({...T,...T.Processors&&{Processors:T.Processors.map(v=>sd(v))},...T.Name&&{Name:$t},...T.Tags&&{Tags:T.Tags.map(v=>dd(v))},...T.ClientRequestToken&&{ClientRequestToken:$t}}),"CreateChannelFlowRequestFilterSensitiveLog"),Lu=o(T=>({...T,...T.Member&&{Member:Dr(T.Member)}}),"CreateChannelMembershipResponseFilterSensitiveLog"),Nu=o(T=>({...T,...T.ChannelModerator&&{ChannelModerator:Dr(T.ChannelModerator)}}),"CreateChannelModeratorResponseFilterSensitiveLog"),xu=o(T=>({...T,...T.Channel&&{Channel:gu(T.Channel)}}),"DescribeChannelResponseFilterSensitiveLog"),Bu=o(T=>({...T,...T.ChannelBan&&{ChannelBan:vu(T.ChannelBan)}}),"DescribeChannelBanResponseFilterSensitiveLog"),Fu=o(T=>({...T,...T.ChannelFlow&&{ChannelFlow:bu(T.ChannelFlow)}}),"DescribeChannelFlowResponseFilterSensitiveLog"),Vu=o(T=>({...T,...T.ChannelMembership&&{ChannelMembership:Iu(T.ChannelMembership)}}),"DescribeChannelMembershipResponseFilterSensitiveLog"),Uu=o(T=>({...T,...T.ChannelMembership&&{ChannelMembership:wc(T.ChannelMembership)}}),"DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog"),Hu=o(T=>({...T,...T.Channel&&{Channel:Oc(T.Channel)}}),"DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog"),zu=o(T=>({...T,...T.ChannelModerator&&{ChannelModerator:Au(T.ChannelModerator)}}),"DescribeChannelModeratorResponseFilterSensitiveLog"),Wu=o(T=>({...T,...T.Member&&{Member:Dr(T.Member)},...T.Preferences&&{Preferences:zd(T.Preferences)}}),"GetChannelMembershipPreferencesResponseFilterSensitiveLog"),ju=o(T=>({...T,...T.ChannelMessage&&{ChannelMessage:Mu(T.ChannelMessage)}}),"GetChannelMessageResponseFilterSensitiveLog"),Gu=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListChannelBansRequestFilterSensitiveLog"),$u=o(T=>({...T,...T.NextToken&&{NextToken:$t},...T.ChannelBans&&{ChannelBans:T.ChannelBans.map(v=>yu(v))}}),"ListChannelBansResponseFilterSensitiveLog"),Ku=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListChannelFlowsRequestFilterSensitiveLog"),Ju=o(T=>({...T,...T.ChannelFlows&&{ChannelFlows:T.ChannelFlows.map(v=>Tu(v))},...T.NextToken&&{NextToken:$t}}),"ListChannelFlowsResponseFilterSensitiveLog"),Yu=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListChannelMembershipsRequestFilterSensitiveLog"),Xu=o(T=>({...T,...T.ChannelMemberships&&{ChannelMemberships:T.ChannelMemberships.map(v=>Ou(v))},...T.NextToken&&{NextToken:$t}}),"ListChannelMembershipsResponseFilterSensitiveLog"),Qu=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog"),Zu=o(T=>({...T,...T.ChannelMemberships&&{ChannelMemberships:T.ChannelMemberships.map(v=>wc(v))},...T.NextToken&&{NextToken:$t}}),"ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog"),qu=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListChannelMessagesRequestFilterSensitiveLog"),ef=o(T=>({...T,...T.NextToken&&{NextToken:$t},...T.ChannelMessages&&{ChannelMessages:T.ChannelMessages.map(v=>Ru(v))}}),"ListChannelMessagesResponseFilterSensitiveLog"),tf=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListChannelModeratorsRequestFilterSensitiveLog"),nf=o(T=>({...T,...T.NextToken&&{NextToken:$t},...T.ChannelModerators&&{ChannelModerators:T.ChannelModerators.map(v=>Pu(v))}}),"ListChannelModeratorsResponseFilterSensitiveLog"),rf=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListChannelsRequestFilterSensitiveLog"),of=o(T=>({...T,...T.Channels&&{Channels:T.Channels.map(v=>ld(v))},...T.NextToken&&{NextToken:$t}}),"ListChannelsResponseFilterSensitiveLog"),sf=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog"),af=o(T=>({...T,...T.Channels&&{Channels:T.Channels.map(v=>Su(v))},...T.NextToken&&{NextToken:$t}}),"ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog"),lf=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog"),df=o(T=>({...T,...T.Channels&&{Channels:T.Channels.map(v=>Oc(v))},...T.NextToken&&{NextToken:$t}}),"ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog"),cf=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListSubChannelsRequestFilterSensitiveLog"),uf=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"ListSubChannelsResponseFilterSensitiveLog"),ff=o(T=>({...T,...T.Tags&&{Tags:T.Tags.map(v=>dd(v))}}),"ListTagsForResourceResponseFilterSensitiveLog"),hf=o(T=>({...T,...T.Preferences&&{Preferences:zd(T.Preferences)}}),"PutChannelMembershipPreferencesRequestFilterSensitiveLog"),pf=o(T=>({...T,...T.Member&&{Member:Dr(T.Member)},...T.Preferences&&{Preferences:zd(T.Preferences)}}),"PutChannelMembershipPreferencesResponseFilterSensitiveLog"),mf=o(T=>({...T,...T.NextToken&&{NextToken:$t}}),"SearchChannelsRequestFilterSensitiveLog"),gf=o(T=>({...T,...T.Channels&&{Channels:T.Channels.map(v=>ld(v))},...T.NextToken&&{NextToken:$t}}),"SearchChannelsResponseFilterSensitiveLog"),Sf=o(T=>({...T,...T.Content&&{Content:$t},...T.Metadata&&{Metadata:$t},...T.ClientRequestToken&&{ClientRequestToken:$t},...T.PushNotification&&{PushNotification:Ic(T.PushNotification)},...T.MessageAttributes&&{MessageAttributes:Object.entries(T.MessageAttributes).reduce((v,b)=>{let[I,x]=b;return v[I]=ad(x),v},{})},...T.ContentType&&{ContentType:$t}}),"SendChannelMessageRequestFilterSensitiveLog"),vf=o(T=>({...T,...T.Tags&&{Tags:T.Tags.map(v=>dd(v))}}),"TagResourceRequestFilterSensitiveLog"),yf=o(T=>({...T,...T.TagKeys&&{TagKeys:$t}}),"UntagResourceRequestFilterSensitiveLog"),bf=o(T=>({...T,...T.Name&&{Name:$t},...T.Metadata&&{Metadata:$t}}),"UpdateChannelRequestFilterSensitiveLog"),Cf=o(T=>({...T,...T.Processors&&{Processors:T.Processors.map(v=>sd(v))},...T.Name&&{Name:$t}}),"UpdateChannelFlowRequestFilterSensitiveLog"),Ef=o(T=>({...T,...T.Content&&{Content:$t},...T.Metadata&&{Metadata:$t},...T.ContentType&&{ContentType:$t}}),"UpdateChannelMessageRequestFilterSensitiveLog"),jh=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/channel-flow`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return ge=JSON.stringify(nt(v,{ChannelFlowArn:[]})),new Mn({protocol:x,hostname:I,port:H,method:"PUT",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_AssociateChannelFlowCommand")}(),Gh=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/memberships`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);const ge=ze({operation:[,"batch-create"]});let le;return le=JSON.stringify(nt(v,{MemberArns:rt=>un(rt),SubChannelId:[],Type:[]})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_BatchCreateChannelMembershipCommand")}(),$h=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={"content-type":"application/json"};let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);const ge=ze({operation:[,"channel-flow-callback"]});let le;return le=JSON.stringify(nt(v,{CallbackId:[!0,rt=>rt??wn()],ChannelMessage:rt=>un(rt),DeleteResource:[]})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ChannelFlowCallbackCommand")}(),Kh=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer}),ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels`;let ge;return ge=JSON.stringify(nt(v,{AppInstanceArn:[],ChannelId:[],ClientRequestToken:[!0,le=>le??wn()],ElasticChannelConfiguration:le=>un(le),ExpirationSettings:le=>un(le),MemberArns:le=>un(le),Metadata:[],Mode:[],ModeratorArns:le=>un(le),Name:[],Privacy:[],Tags:le=>un(le)})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_CreateChannelCommand")}(),Jh=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/bans`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return ge=JSON.stringify(nt(v,{MemberArn:[]})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_CreateChannelBanCommand")}(),Yh=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={"content-type":"application/json"},ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channel-flows`;let ge;return ge=JSON.stringify(nt(v,{AppInstanceArn:[],ClientRequestToken:[!0,le=>le??wn()],Name:[],Processors:le=>un(le),Tags:le=>un(le)})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_CreateChannelFlowCommand")}(),Xh=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/memberships`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return ge=JSON.stringify(nt(v,{MemberArn:[],SubChannelId:[],Type:[]})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_CreateChannelMembershipCommand")}(),Qh=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/moderators`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return ge=JSON.stringify(nt(v,{ChannelModeratorArn:[]})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_CreateChannelModeratorCommand")}(),Zh=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"DELETE",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DeleteChannelCommand")}(),cd=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/bans/{MemberArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MemberArn",()=>v.MemberArn,"{MemberArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"DELETE",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DeleteChannelBanCommand")}(),qh=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={};let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channel-flows/{ChannelFlowArn}`;ie=hn(ie,v,"ChannelFlowArn",()=>v.ChannelFlowArn,"{ChannelFlowArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"DELETE",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DeleteChannelFlowCommand")}(),ep=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/memberships/{MemberArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MemberArn",()=>v.MemberArn,"{MemberArn}",!1);const ge=ze({"sub-channel-id":[,v.SubChannelId]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"DELETE",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_DeleteChannelMembershipCommand")}(),tp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/messages/{MessageId}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MessageId",()=>v.MessageId,"{MessageId}",!1);const ge=ze({"sub-channel-id":[,v.SubChannelId]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"DELETE",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_DeleteChannelMessageCommand")}(),np=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"ChannelModeratorArn",()=>v.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"DELETE",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DeleteChannelModeratorCommand")}(),ip=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={};let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/app-instances/{AppInstanceArn}/streaming-configurations`;ie=hn(ie,v,"AppInstanceArn",()=>v.AppInstanceArn,"{AppInstanceArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"DELETE",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DeleteMessagingStreamingConfigurationsCommand")}(),Tf=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DescribeChannelCommand")}(),rp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/bans/{MemberArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MemberArn",()=>v.MemberArn,"{MemberArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DescribeChannelBanCommand")}(),op=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={};let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channel-flows/{ChannelFlowArn}`;ie=hn(ie,v,"ChannelFlowArn",()=>v.ChannelFlowArn,"{ChannelFlowArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DescribeChannelFlowCommand")}(),sp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/memberships/{MemberArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MemberArn",()=>v.MemberArn,"{MemberArn}",!1);const ge=ze({"sub-channel-id":[,v.SubChannelId]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_DescribeChannelMembershipCommand")}(),ap=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);const ge=ze({scope:[,"app-instance-user-membership"],"app-instance-user-arn":[,an(v.AppInstanceUserArn,"AppInstanceUserArn")]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_DescribeChannelMembershipForAppInstanceUserCommand")}(),lp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);const ge=ze({scope:[,"app-instance-user-moderated-channel"],"app-instance-user-arn":[,an(v.AppInstanceUserArn,"AppInstanceUserArn")]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_DescribeChannelModeratedByAppInstanceUserCommand")}(),dp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"ChannelModeratorArn",()=>v.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DescribeChannelModeratorCommand")}(),cp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/channel-flow/{ChannelFlowArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"ChannelFlowArn",()=>v.ChannelFlowArn,"{ChannelFlowArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"DELETE",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_DisassociateChannelFlowCommand")}(),up=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/memberships/{MemberArn}/preferences`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MemberArn",()=>v.MemberArn,"{MemberArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_GetChannelMembershipPreferencesCommand")}(),fp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/messages/{MessageId}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MessageId",()=>v.MessageId,"{MessageId}",!1);const ge=ze({"sub-channel-id":[,v.SubChannelId]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_GetChannelMessageCommand")}(),hp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/messages/{MessageId}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MessageId",()=>v.MessageId,"{MessageId}",!1);const ge=ze({scope:[,"message-status"],"sub-channel-id":[,v.SubChannelId]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_GetChannelMessageStatusCommand")}(),pp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={"content-type":"application/json"},ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/endpoints/messaging-session`;let ge;return ge="",new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_GetMessagingSessionEndpointCommand")}(),mp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={};let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/app-instances/{AppInstanceArn}/streaming-configurations`;ie=hn(ie,v,"AppInstanceArn",()=>v.AppInstanceArn,"{AppInstanceArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_GetMessagingStreamingConfigurationsCommand")}(),gp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/bans`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);const ge=ze({"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListChannelBansCommand")}(),Sp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={},ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channel-flows`,ge=ze({"app-instance-arn":[,an(v.AppInstanceArn,"AppInstanceArn")],"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListChannelFlowsCommand")}(),vp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/memberships`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);const ge=ze({type:[,v.Type],"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken],"sub-channel-id":[,v.SubChannelId]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListChannelMembershipsCommand")}(),yp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer}),ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels`,ge=ze({scope:[,"app-instance-user-memberships"],"app-instance-user-arn":[,v.AppInstanceUserArn],"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListChannelMembershipsForAppInstanceUserCommand")}(),bp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/messages`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);const ge=ze({"sort-order":[,v.SortOrder],"not-before":[()=>v.NotBefore!==void 0,()=>(v.NotBefore.toISOString().split(".")[0]+"Z").toString()],"not-after":[()=>v.NotAfter!==void 0,()=>(v.NotAfter.toISOString().split(".")[0]+"Z").toString()],"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken],"sub-channel-id":[,v.SubChannelId]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListChannelMessagesCommand")}(),Cp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/moderators`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);const ge=ze({"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListChannelModeratorsCommand")}(),Ep=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer}),ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels`,ge=ze({"app-instance-arn":[,an(v.AppInstanceArn,"AppInstanceArn")],privacy:[,v.Privacy],"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListChannelsCommand")}(),Tp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={},ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels`,ge=ze({scope:[,"channel-flow-associations"],"channel-flow-arn":[,an(v.ChannelFlowArn,"ChannelFlowArn")],"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListChannelsAssociatedWithChannelFlowCommand")}(),Ip=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer}),ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels`,ge=ze({scope:[,"app-instance-user-moderated-channels"],"app-instance-user-arn":[,v.AppInstanceUserArn],"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListChannelsModeratedByAppInstanceUserCommand")}(),wp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/subchannels`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);const ge=ze({"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListSubChannelsCommand")}(),Op=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={},ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/tags`,ge=ze({arn:[,an(v.ResourceARN,"ResourceARN")]});let le;return new Mn({protocol:x,hostname:I,port:H,method:"GET",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_ListTagsForResourceCommand")}(),Mp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/expiration-settings`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return ge=JSON.stringify(nt(v,{ExpirationSettings:le=>un(le)})),new Mn({protocol:x,hostname:I,port:H,method:"PUT",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_PutChannelExpirationSettingsCommand")}(),Rp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/memberships/{MemberArn}/preferences`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MemberArn",()=>v.MemberArn,"{MemberArn}",!1);let ge;return ge=JSON.stringify(nt(v,{Preferences:le=>un(le)})),new Mn({protocol:x,hostname:I,port:H,method:"PUT",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_PutChannelMembershipPreferencesCommand")}(),Ap=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={"content-type":"application/json"};let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/app-instances/{AppInstanceArn}/streaming-configurations`;ie=hn(ie,v,"AppInstanceArn",()=>v.AppInstanceArn,"{AppInstanceArn}",!1);let ge;return ge=JSON.stringify(nt(v,{StreamingConfigurations:le=>un(le)})),new Mn({protocol:x,hostname:I,port:H,method:"PUT",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_PutMessagingStreamingConfigurationsCommand")}(),Pp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/messages/{MessageId}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MessageId",()=>v.MessageId,"{MessageId}",!1);const ge=ze({operation:[,"redact"]});let le;return le=JSON.stringify(nt(v,{SubChannelId:[]})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_RedactChannelMessageCommand")}(),_p=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer}),ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels`,ge=ze({operation:[,"search"],"max-results":[()=>v.MaxResults!==void 0,()=>v.MaxResults.toString()],"next-token":[,v.NextToken]});let le;return le=JSON.stringify(nt(v,{Fields:rt=>un(rt)})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_SearchChannelsCommand")}(),kp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/messages`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return ge=JSON.stringify(nt(v,{ClientRequestToken:[!0,le=>le??wn()],Content:[],ContentType:[],MessageAttributes:le=>un(le),Metadata:[],Persistence:[],PushNotification:le=>un(le),SubChannelId:[],Type:[]})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_SendChannelMessageCommand")}(),Dp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={"content-type":"application/json"},ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/tags`,ge=ze({operation:[,"tag-resource"]});let le;return le=JSON.stringify(nt(v,{ResourceARN:[],Tags:rt=>un(rt)})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_TagResourceCommand")}(),Lp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={"content-type":"application/json"},ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/tags`,ge=ze({operation:[,"untag-resource"]});let le;return le=JSON.stringify(nt(v,{ResourceARN:[],TagKeys:rt=>un(rt)})),new Mn({protocol:x,hostname:I,port:H,method:"POST",headers:ue,path:ie,query:ge,body:le})});return o(function(b,I){return T.apply(this,arguments)},"se_UntagResourceCommand")}(),Np=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return ge=JSON.stringify(nt(v,{Metadata:[],Mode:[],Name:[]})),new Mn({protocol:x,hostname:I,port:H,method:"PUT",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_UpdateChannelCommand")}(),xp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue={"content-type":"application/json"};let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channel-flows/{ChannelFlowArn}`;ie=hn(ie,v,"ChannelFlowArn",()=>v.ChannelFlowArn,"{ChannelFlowArn}",!1);let ge;return ge=JSON.stringify(nt(v,{Name:[],Processors:le=>un(le)})),new Mn({protocol:x,hostname:I,port:H,method:"PUT",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_UpdateChannelFlowCommand")}(),Bp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"content-type":"application/json","x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/messages/{MessageId}`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1),ie=hn(ie,v,"MessageId",()=>v.MessageId,"{MessageId}",!1);let ge;return ge=JSON.stringify(nt(v,{Content:[],ContentType:[],Metadata:[],SubChannelId:[]})),new Mn({protocol:x,hostname:I,port:H,method:"PUT",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_UpdateChannelMessageCommand")}(),Fp=function(){var T=Object(d.coroutine)(function*(v,b){const{hostname:I,protocol:x="https",port:H,path:K}=yield b.endpoint(),ue=ze({},gi,{"x-amz-chime-bearer":v.ChimeBearer});let ie=`${K!=null&&K.endsWith("/")?K.slice(0,-1):K||""}/channels/{ChannelArn}/readMarker`;ie=hn(ie,v,"ChannelArn",()=>v.ChannelArn,"{ChannelArn}",!1);let ge;return new Mn({protocol:x,hostname:I,port:H,method:"PUT",headers:ue,path:ie,body:ge})});return o(function(b,I){return T.apply(this,arguments)},"se_UpdateChannelReadMarkerCommand")}(),Vp=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Up(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_AssociateChannelFlowCommand")}(),Up=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_AssociateChannelFlowCommandError")}(),Hp=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return zp(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{BatchChannelMemberships:un,Errors:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_BatchCreateChannelMembershipCommand")}(),zp=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Ga(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_BatchCreateChannelMembershipCommandError")}(),Wp=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return jp(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{CallbackId:Pt,ChannelArn:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ChannelFlowCallbackCommand")}(),jp=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ChannelFlowCallbackCommandError")}(),Gp=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==201&&v.statusCode>=300)return $p(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelCommand")}(),$p=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Ga(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelCommandError")}(),Kp=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==201&&v.statusCode>=300)return Jp(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,Member:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelBanCommand")}(),Jp=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Ga(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelBanCommandError")}(),Yp=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==201&&v.statusCode>=300)return Xp(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelFlowArn:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelFlowCommand")}(),Xp=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Ga(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelFlowCommandError")}(),Qp=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==201&&v.statusCode>=300)return Zp(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,Member:un,SubChannelId:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelMembershipCommand")}(),Zp=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Ga(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelMembershipCommandError")}(),qp=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==201&&v.statusCode>=300)return em(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,ChannelModerator:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelModeratorCommand")}(),em=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Ga(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_CreateChannelModeratorCommandError")}(),tm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return nm(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelCommand")}(),nm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelCommandError")}(),im=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return rm(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelBanCommand")}(),rm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelBanCommandError")}(),om=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return sm(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelFlowCommand")}(),sm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelFlowCommandError")}(),am=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return lm(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelMembershipCommand")}(),lm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelMembershipCommandError")}(),dm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return cm(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelMessageCommand")}(),cm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelMessageCommandError")}(),um=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return fm(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelModeratorCommand")}(),fm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteChannelModeratorCommandError")}(),hm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return pm(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteMessagingStreamingConfigurationsCommand")}(),pm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DeleteMessagingStreamingConfigurationsCommandError")}(),mm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return gm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{Channel:K=>Lg(K,b)});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelCommand")}(),gm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelCommandError")}(),Sm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return vm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelBan:K=>Ng(K,b)});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelBanCommand")}(),vm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelBanCommandError")}(),ym=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return bm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelFlow:K=>xg(K,b)});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelFlowCommand")}(),bm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelFlowCommandError")}(),Cm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Em(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelMembership:K=>Bg(K,b)});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelMembershipCommand")}(),Em=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelMembershipCommandError")}(),Tm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Im(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelMembership:K=>If(K,b)});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelMembershipForAppInstanceUserCommand")}(),Im=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelMembershipForAppInstanceUserCommandError")}(),wm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Om(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{Channel:K=>wf(K,b)});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelModeratedByAppInstanceUserCommand")}(),Om=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelModeratedByAppInstanceUserCommandError")}(),Mm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Rm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelModerator:K=>Wg(K,b)});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelModeratorCommand")}(),Rm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DescribeChannelModeratorCommandError")}(),Am=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return Pm(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_DisassociateChannelFlowCommand")}(),Pm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_DisassociateChannelFlowCommandError")}(),_m=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return km(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,Member:un,Preferences:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_GetChannelMembershipPreferencesCommand")}(),km=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_GetChannelMembershipPreferencesCommandError")}(),Dm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Lm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelMessage:K=>Vg(K,b)});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_GetChannelMessageCommand")}(),Lm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_GetChannelMessageCommandError")}(),Nm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return xm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{Status:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_GetChannelMessageStatusCommand")}(),xm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_GetChannelMessageStatusCommandError")}(),Bm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Fm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{Endpoint:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_GetMessagingSessionEndpointCommand")}(),Fm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_GetMessagingSessionEndpointCommandError")}(),Vm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Um(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{StreamingConfigurations:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_GetMessagingStreamingConfigurationsCommand")}(),Um=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_GetMessagingStreamingConfigurationsCommandError")}(),Hm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return zm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,ChannelBans:un,NextToken:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelBansCommand")}(),zm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelBansCommandError")}(),Wm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return jm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelFlows:un,NextToken:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelFlowsCommand")}(),jm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelFlowsCommandError")}(),Gm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return $m(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,ChannelMemberships:un,NextToken:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelMembershipsCommand")}(),$m=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelMembershipsCommandError")}(),Km=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Jm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelMemberships:K=>Fg(K,b),NextToken:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelMembershipsForAppInstanceUserCommand")}(),Jm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelMembershipsForAppInstanceUserCommandError")}(),Ym=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Xm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,ChannelMessages:K=>Hg(K,b),NextToken:Pt,SubChannelId:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelMessagesCommand")}(),Xm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelMessagesCommandError")}(),Qm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Zm(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,ChannelModerators:un,NextToken:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelModeratorsCommand")}(),Zm=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelModeratorsCommandError")}(),qm=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return eg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{Channels:K=>Of(K,b),NextToken:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelsCommand")}(),eg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelsCommandError")}(),tg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return ng(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{Channels:un,NextToken:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelsAssociatedWithChannelFlowCommand")}(),ng=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelsAssociatedWithChannelFlowCommandError")}(),ig=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return rg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{Channels:K=>zg(K,b),NextToken:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelsModeratedByAppInstanceUserCommand")}(),rg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListChannelsModeratedByAppInstanceUserCommandError")}(),og=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return sg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,NextToken:Pt,SubChannels:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListSubChannelsCommand")}(),sg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListSubChannelsCommandError")}(),ag=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return lg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{Tags:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_ListTagsForResourceCommand")}(),lg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_ListTagsForResourceCommandError")}(),dg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return cg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,ExpirationSettings:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_PutChannelExpirationSettingsCommand")}(),cg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_PutChannelExpirationSettingsCommandError")}(),ug=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return fg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,Member:un,Preferences:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_PutChannelMembershipPreferencesCommand")}(),fg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_PutChannelMembershipPreferencesCommandError")}(),hg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return pg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{StreamingConfigurations:un});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_PutMessagingStreamingConfigurationsCommand")}(),pg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ta(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_PutMessagingStreamingConfigurationsCommandError")}(),mg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return gg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,MessageId:Pt,SubChannelId:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_RedactChannelMessageCommand")}(),gg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_RedactChannelMessageCommandError")}(),Sg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return vg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{Channels:K=>Of(K,b),NextToken:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_SearchChannelsCommand")}(),vg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_SearchChannelsCommandError")}(),yg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==201&&v.statusCode>=300)return bg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,MessageId:Pt,Status:un,SubChannelId:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_SendChannelMessageCommand")}(),bg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_SendChannelMessageCommandError")}(),Cg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return Eg(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_TagResourceCommand")}(),Eg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Ga(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_TagResourceCommandError")}(),Tg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==204&&v.statusCode>=300)return Ig(v,b);const I=ze({$metadata:W(v)});return yield ms(v.body,b),I});return o(function(b,I){return T.apply(this,arguments)},"de_UntagResourceCommand")}(),Ig=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_UntagResourceCommandError")}(),wg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Og(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_UpdateChannelCommand")}(),Og=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_UpdateChannelCommandError")}(),Mg=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Rg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelFlowArn:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_UpdateChannelFlowCommand")}(),Rg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_UpdateChannelFlowCommandError")}(),Ag=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return Pg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt,MessageId:Pt,Status:un,SubChannelId:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_UpdateChannelMessageCommand")}(),Pg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_UpdateChannelMessageCommandError")}(),_g=function(){var T=Object(d.coroutine)(function*(v,b){if(v.statusCode!==200&&v.statusCode>=300)return kg(v,b);const I=ze({$metadata:W(v)}),x=an(ei(yield oi(v.body,b)),"body"),H=nt(x,{ChannelArn:Pt});return Object.assign(I,H),I});return o(function(b,I){return T.apply(this,arguments)},"de_UpdateChannelReadMarkerCommand")}(),kg=function(){var T=Object(d.coroutine)(function*(v,b){const I={...v,body:yield Fn(v.body,b)},x=Vn(v,I.body);switch(x){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield zn(I,b);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield Lr(I,b);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Dn(I,b);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,b);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,b);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(I,b);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Bn(I,b);default:const H=I.body;return kn({output:v,parsedBody:H,errorCode:x})}});return o(function(b,I){return T.apply(this,arguments)},"de_UpdateChannelReadMarkerCommandError")}(),kn=Te(ko),zn=function(){var T=Object(d.coroutine)(function*(v,b){const I=ze({}),x=v.body,H=nt(x,{Code:Pt,Message:Pt});Object.assign(I,H);const K=new Ql({$metadata:W(v),...I});return Ze(K,v.body)});return o(function(b,I){return T.apply(this,arguments)},"de_BadRequestExceptionRes")}(),Lr=function(){var T=Object(d.coroutine)(function*(v,b){const I=ze({}),x=v.body,H=nt(x,{Code:Pt,Message:Pt});Object.assign(I,H);const K=new Zl({$metadata:W(v),...I});return Ze(K,v.body)});return o(function(b,I){return T.apply(this,arguments)},"de_ConflictExceptionRes")}(),Dn=function(){var T=Object(d.coroutine)(function*(v,b){const I=ze({}),x=v.body,H=nt(x,{Code:Pt,Message:Pt});Object.assign(I,H);const K=new ql({$metadata:W(v),...I});return Ze(K,v.body)});return o(function(b,I){return T.apply(this,arguments)},"de_ForbiddenExceptionRes")}(),ta=function(){var T=Object(d.coroutine)(function*(v,b){const I=ze({}),x=v.body,H=nt(x,{Code:Pt,Message:Pt});Object.assign(I,H);const K=new ed({$metadata:W(v),...I});return Ze(K,v.body)});return o(function(b,I){return T.apply(this,arguments)},"de_NotFoundExceptionRes")}(),Ga=function(){var T=Object(d.coroutine)(function*(v,b){const I=ze({}),x=v.body,H=nt(x,{Code:Pt,Message:Pt});Object.assign(I,H);const K=new od({$metadata:W(v),...I});return Ze(K,v.body)});return o(function(b,I){return T.apply(this,arguments)},"de_ResourceLimitExceededExceptionRes")}(),Ln=function(){var T=Object(d.coroutine)(function*(v,b){const I=ze({}),x=v.body,H=nt(x,{Code:Pt,Message:Pt});Object.assign(I,H);const K=new td({$metadata:W(v),...I});return Ze(K,v.body)});return o(function(b,I){return T.apply(this,arguments)},"de_ServiceFailureExceptionRes")}(),Nn=function(){var T=Object(d.coroutine)(function*(v,b){const I=ze({}),x=v.body,H=nt(x,{Code:Pt,Message:Pt});Object.assign(I,H);const K=new nd({$metadata:W(v),...I});return Ze(K,v.body)});return o(function(b,I){return T.apply(this,arguments)},"de_ServiceUnavailableExceptionRes")}(),xn=function(){var T=Object(d.coroutine)(function*(v,b){const I=ze({}),x=v.body,H=nt(x,{Code:Pt,Message:Pt});Object.assign(I,H);const K=new id({$metadata:W(v),...I});return Ze(K,v.body)});return o(function(b,I){return T.apply(this,arguments)},"de_ThrottledClientExceptionRes")}(),Bn=function(){var T=Object(d.coroutine)(function*(v,b){const I=ze({}),x=v.body,H=nt(x,{Code:Pt,Message:Pt});Object.assign(I,H);const K=new rd({$metadata:W(v),...I});return Ze(K,v.body)});return o(function(b,I){return T.apply(this,arguments)},"de_UnauthorizedClientExceptionRes")}(),Dg=o((T,v)=>nt(T,{ReadMarkerTimestamp:b=>an(pr(sr(b))),SubChannelId:Pt,Type:Pt}),"de_AppInstanceUserMembershipSummary"),Lg=o((T,v)=>nt(T,{ChannelArn:Pt,ChannelFlowArn:Pt,CreatedBy:un,CreatedTimestamp:b=>an(pr(sr(b))),ElasticChannelConfiguration:un,ExpirationSettings:un,LastMessageTimestamp:b=>an(pr(sr(b))),LastUpdatedTimestamp:b=>an(pr(sr(b))),Metadata:Pt,Mode:Pt,Name:Pt,Privacy:Pt}),"de_Channel"),Ng=o((T,v)=>nt(T,{ChannelArn:Pt,CreatedBy:un,CreatedTimestamp:b=>an(pr(sr(b))),Member:un}),"de_ChannelBan"),xg=o((T,v)=>nt(T,{ChannelFlowArn:Pt,CreatedTimestamp:b=>an(pr(sr(b))),LastUpdatedTimestamp:b=>an(pr(sr(b))),Name:Pt,Processors:un}),"de_ChannelFlow"),Bg=o((T,v)=>nt(T,{ChannelArn:Pt,CreatedTimestamp:b=>an(pr(sr(b))),InvitedBy:un,LastUpdatedTimestamp:b=>an(pr(sr(b))),Member:un,SubChannelId:Pt,Type:Pt}),"de_ChannelMembership"),If=o((T,v)=>nt(T,{AppInstanceUserMembershipSummary:b=>Dg(b,v),ChannelSummary:b=>Mc(b,v)}),"de_ChannelMembershipForAppInstanceUserSummary"),Fg=o((T,v)=>(T||[]).filter(I=>I!=null).map(I=>If(I,v)),"de_ChannelMembershipForAppInstanceUserSummaryList"),Vg=o((T,v)=>nt(T,{ChannelArn:Pt,Content:Pt,ContentType:Pt,CreatedTimestamp:b=>an(pr(sr(b))),LastEditedTimestamp:b=>an(pr(sr(b))),LastUpdatedTimestamp:b=>an(pr(sr(b))),MessageAttributes:un,MessageId:Pt,Metadata:Pt,Persistence:Pt,Redacted:pl,Sender:un,Status:un,SubChannelId:Pt,Type:Pt}),"de_ChannelMessage"),Ug=o((T,v)=>nt(T,{Content:Pt,ContentType:Pt,CreatedTimestamp:b=>an(pr(sr(b))),LastEditedTimestamp:b=>an(pr(sr(b))),LastUpdatedTimestamp:b=>an(pr(sr(b))),MessageAttributes:un,MessageId:Pt,Metadata:Pt,Redacted:pl,Sender:un,Status:un,Type:Pt}),"de_ChannelMessageSummary"),Hg=o((T,v)=>(T||[]).filter(I=>I!=null).map(I=>Ug(I,v)),"de_ChannelMessageSummaryList"),wf=o((T,v)=>nt(T,{ChannelSummary:b=>Mc(b,v)}),"de_ChannelModeratedByAppInstanceUserSummary"),zg=o((T,v)=>(T||[]).filter(I=>I!=null).map(I=>wf(I,v)),"de_ChannelModeratedByAppInstanceUserSummaryList"),Wg=o((T,v)=>nt(T,{ChannelArn:Pt,CreatedBy:un,CreatedTimestamp:b=>an(pr(sr(b))),Moderator:un}),"de_ChannelModerator"),Mc=o((T,v)=>nt(T,{ChannelArn:Pt,LastMessageTimestamp:b=>an(pr(sr(b))),Metadata:Pt,Mode:Pt,Name:Pt,Privacy:Pt}),"de_ChannelSummary"),Of=o((T,v)=>(T||[]).filter(I=>I!=null).map(I=>Mc(I,v)),"de_ChannelSummaryList");var Rc,Ac;const W=o(T=>({httpStatusCode:T.statusCode,requestId:(Ac=(Rc=T.headers["x-amzn-requestid"])!==null&&Rc!==void 0?Rc:T.headers["x-amzn-request-id"])!==null&&Ac!==void 0?Ac:T.headers["x-amz-request-id"],extendedRequestId:T.headers["x-amz-id-2"],cfId:T.headers["x-amz-cf-id"]}),"Aws_restJson1_deserializeMetadata"),ms=o(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Uint8Array,v=arguments.length>1?arguments[1]:void 0;return T instanceof Uint8Array?Promise.resolve(T):v.streamCollector(T)||Promise.resolve(new Uint8Array)},"collectBody"),jg=o((T,v)=>ms(T,v).then(b=>v.utf8Encoder(b)),"collectBodyString"),gi=o(T=>T!=null&&T!==""&&(!Object.getOwnPropertyNames(T).includes("length")||T.length!=0)&&(!Object.getOwnPropertyNames(T).includes("size")||T.size!=0),"isSerializableHeaderValue"),oi=o((T,v)=>jg(T,v).then(b=>b.length?JSON.parse(b):{}),"parseBody"),Fn=function(){var T=Object(d.coroutine)(function*(v,b){const I=yield oi(v,b);var x;return I.message=(x=I.message)!==null&&x!==void 0?x:I.Message,I});return o(function(b,I){return T.apply(this,arguments)},"parseErrorBody")}(),Vn=o((T,v)=>{const b=o((H,K)=>Object.keys(H).find(ue=>ue.toLowerCase()===K.toLowerCase()),"findKey"),I=o(H=>{let K=H;return typeof K=="number"&&(K=K.toString()),K.indexOf(",")>=0&&(K=K.split(",")[0]),K.indexOf(":")>=0&&(K=K.split(":")[0]),K.indexOf("#")>=0&&(K=K.split("#")[1]),K},"sanitizeErrorCode"),x=b(T.headers,"x-amzn-errortype");if(x!==void 0)return I(T.headers[x]);if(v.code!==void 0)return I(v.code);if(v.__type!==void 0)return I(v.__type)},"loadRestJsonErrorCode");class ud extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,ud.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"AssociateChannelFlowCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return jh(v,b)}deserialize(v,b){return Vp(v,b)}constructor(v){super(),this.input=v}}o(ud,"AssociateChannelFlowCommand_AssociateChannelFlowCommand");class fd extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,fd.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"BatchCreateChannelMembershipCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:mu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Gh(v,b)}deserialize(v,b){return Hp(v,b)}constructor(v){super(),this.input=v}}o(fd,"BatchCreateChannelMembershipCommand_BatchCreateChannelMembershipCommand");class hd extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,hd.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ChannelFlowCallbackCommand",inputFilterSensitiveLog:Eu,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return $h(v,b)}deserialize(v,b){return Wp(v,b)}constructor(v){super(),this.input=v}}o(hd,"ChannelFlowCallbackCommand_ChannelFlowCallbackCommand");class pd extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,pd.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelBanCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:ku},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Jh(v,b)}deserialize(v,b){return Kp(v,b)}constructor(v){super(),this.input=v}}o(pd,"CreateChannelBanCommand_CreateChannelBanCommand");class md extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,md.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelCommand",inputFilterSensitiveLog:_u,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Kh(v,b)}deserialize(v,b){return Gp(v,b)}constructor(v){super(),this.input=v}}o(md,"CreateChannelCommand_CreateChannelCommand");class gd extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,gd.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelFlowCommand",inputFilterSensitiveLog:Du,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Yh(v,b)}deserialize(v,b){return Yp(v,b)}constructor(v){super(),this.input=v}}o(gd,"CreateChannelFlowCommand_CreateChannelFlowCommand");class Oi extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Oi.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelMembershipCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:Lu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Xh(v,b)}deserialize(v,b){return Qp(v,b)}constructor(v){super(),this.input=v}}o(Oi,"CreateChannelMembershipCommand_CreateChannelMembershipCommand");class Sn extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Sn.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelModeratorCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:Nu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Qh(v,b)}deserialize(v,b){return qp(v,b)}constructor(v){super(),this.input=v}}o(Sn,"CreateChannelModeratorCommand_CreateChannelModeratorCommand");class Ia extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ia.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelBanCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return cd(v,b)}deserialize(v,b){return im(v,b)}constructor(v){super(),this.input=v}}o(Ia,"DeleteChannelBanCommand_DeleteChannelBanCommand");class Yi extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Yi.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Zh(v,b)}deserialize(v,b){return tm(v,b)}constructor(v){super(),this.input=v}}o(Yi,"DeleteChannelCommand_DeleteChannelCommand");class $a extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,$a.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelFlowCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return qh(v,b)}deserialize(v,b){return om(v,b)}constructor(v){super(),this.input=v}}o($a,"DeleteChannelFlowCommand_DeleteChannelFlowCommand");class qi extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,qi.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMembershipCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return ep(v,b)}deserialize(v,b){return am(v,b)}constructor(v){super(),this.input=v}}o(qi,"DeleteChannelMembershipCommand_DeleteChannelMembershipCommand");class Ue extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ue.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMessageCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return tp(v,b)}deserialize(v,b){return dm(v,b)}constructor(v){super(),this.input=v}}o(Ue,"DeleteChannelMessageCommand_DeleteChannelMessageCommand");class so extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,so.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelModeratorCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return np(v,b)}deserialize(v,b){return um(v,b)}constructor(v){super(),this.input=v}}o(so,"DeleteChannelModeratorCommand_DeleteChannelModeratorCommand");class Ka extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ka.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return ip(v,b)}deserialize(v,b){return hm(v,b)}constructor(v){super(),this.input=v}}o(Ka,"DeleteMessagingStreamingConfigurationsCommand_DeleteMessagingStreamingConfigurationsCommand");class si extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,si.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelBanCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:Bu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return rp(v,b)}deserialize(v,b){return Sm(v,b)}constructor(v){super(),this.input=v}}o(si,"DescribeChannelBanCommand_DescribeChannelBanCommand");class Nr extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Nr.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:xu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Tf(v,b)}deserialize(v,b){return mm(v,b)}constructor(v){super(),this.input=v}}o(Nr,"DescribeChannelCommand_DescribeChannelCommand");class Rr extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Rr.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelFlowCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:Fu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return op(v,b)}deserialize(v,b){return ym(v,b)}constructor(v){super(),this.input=v}}o(Rr,"DescribeChannelFlowCommand_DescribeChannelFlowCommand");class Ja extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ja.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:Vu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return sp(v,b)}deserialize(v,b){return Cm(v,b)}constructor(v){super(),this.input=v}}o(Ja,"DescribeChannelMembershipCommand_DescribeChannelMembershipCommand");class na extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,na.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipForAppInstanceUserCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:Uu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return ap(v,b)}deserialize(v,b){return Tm(v,b)}constructor(v){super(),this.input=v}}o(na,"DescribeChannelMembershipForAppInstanceUserCommand_DescribeChannelMembershipForAppInstanceUserCommand");class ut extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,ut.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:Hu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return lp(v,b)}deserialize(v,b){return wm(v,b)}constructor(v){super(),this.input=v}}o(ut,"DescribeChannelModeratedByAppInstanceUserCommand_DescribeChannelModeratedByAppInstanceUserCommand");class xr extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,xr.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratorCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:zu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return dp(v,b)}deserialize(v,b){return Mm(v,b)}constructor(v){super(),this.input=v}}o(xr,"DescribeChannelModeratorCommand_DescribeChannelModeratorCommand");class Ol extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ol.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DisassociateChannelFlowCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return cp(v,b)}deserialize(v,b){return Am(v,b)}constructor(v){super(),this.input=v}}o(Ol,"DisassociateChannelFlowCommand_DisassociateChannelFlowCommand");class Ml extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ml.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMembershipPreferencesCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:Wu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return up(v,b)}deserialize(v,b){return _m(v,b)}constructor(v){super(),this.input=v}}o(Ml,"GetChannelMembershipPreferencesCommand_GetChannelMembershipPreferencesCommand");class Ya extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ya.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:ju},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return fp(v,b)}deserialize(v,b){return Dm(v,b)}constructor(v){super(),this.input=v}}o(Ya,"GetChannelMessageCommand_GetChannelMessageCommand");class Xa extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Xa.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageStatusCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return hp(v,b)}deserialize(v,b){return Nm(v,b)}constructor(v){super(),this.input=v}}o(Xa,"GetChannelMessageStatusCommand_GetChannelMessageStatusCommand");class Qa extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Qa.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingSessionEndpointCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return pp(v,b)}deserialize(v,b){return Bm(v,b)}constructor(v){super(),this.input=v}}o(Qa,"GetMessagingSessionEndpointCommand_GetMessagingSessionEndpointCommand");class ia extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,ia.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return mp(v,b)}deserialize(v,b){return Vm(v,b)}constructor(v){super(),this.input=v}}o(ia,"GetMessagingStreamingConfigurationsCommand_GetMessagingStreamingConfigurationsCommand");class pa extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,pa.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelBansCommand",inputFilterSensitiveLog:Gu,outputFilterSensitiveLog:$u},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return gp(v,b)}deserialize(v,b){return Hm(v,b)}constructor(v){super(),this.input=v}}o(pa,"ListChannelBansCommand_ListChannelBansCommand");class wa extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,wa.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelFlowsCommand",inputFilterSensitiveLog:Ku,outputFilterSensitiveLog:Ju},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Sp(v,b)}deserialize(v,b){return Wm(v,b)}constructor(v){super(),this.input=v}}o(wa,"ListChannelFlowsCommand_ListChannelFlowsCommand");class Oa extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Oa.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsCommand",inputFilterSensitiveLog:Yu,outputFilterSensitiveLog:Xu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return vp(v,b)}deserialize(v,b){return Gm(v,b)}constructor(v){super(),this.input=v}}o(Oa,"ListChannelMembershipsCommand_ListChannelMembershipsCommand");class ma extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,ma.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsForAppInstanceUserCommand",inputFilterSensitiveLog:Qu,outputFilterSensitiveLog:Zu},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return yp(v,b)}deserialize(v,b){return Km(v,b)}constructor(v){super(),this.input=v}}o(ma,"ListChannelMembershipsForAppInstanceUserCommand_ListChannelMembershipsForAppInstanceUserCommand");class Za extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Za.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMessagesCommand",inputFilterSensitiveLog:qu,outputFilterSensitiveLog:ef},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return bp(v,b)}deserialize(v,b){return Ym(v,b)}constructor(v){super(),this.input=v}}o(Za,"ListChannelMessagesCommand_ListChannelMessagesCommand");class qa extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,qa.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelModeratorsCommand",inputFilterSensitiveLog:tf,outputFilterSensitiveLog:nf},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Cp(v,b)}deserialize(v,b){return Qm(v,b)}constructor(v){super(),this.input=v}}o(qa,"ListChannelModeratorsCommand_ListChannelModeratorsCommand");class Ma extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ma.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsAssociatedWithChannelFlowCommand",inputFilterSensitiveLog:sf,outputFilterSensitiveLog:af},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Tp(v,b)}deserialize(v,b){return tg(v,b)}constructor(v){super(),this.input=v}}o(Ma,"ListChannelsAssociatedWithChannelFlowCommand_ListChannelsAssociatedWithChannelFlowCommand");class ra extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,ra.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsCommand",inputFilterSensitiveLog:rf,outputFilterSensitiveLog:of},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Ep(v,b)}deserialize(v,b){return qm(v,b)}constructor(v){super(),this.input=v}}o(ra,"ListChannelsCommand_ListChannelsCommand");class Ei extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ei.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:lf,outputFilterSensitiveLog:df},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Ip(v,b)}deserialize(v,b){return ig(v,b)}constructor(v){super(),this.input=v}}o(Ei,"ListChannelsModeratedByAppInstanceUserCommand_ListChannelsModeratedByAppInstanceUserCommand");class bi extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,bi.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListSubChannelsCommand",inputFilterSensitiveLog:cf,outputFilterSensitiveLog:uf},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return wp(v,b)}deserialize(v,b){return og(v,b)}constructor(v){super(),this.input=v}}o(bi,"ListSubChannelsCommand_ListSubChannelsCommand");class el extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,el.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:ff},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Op(v,b)}deserialize(v,b){return ag(v,b)}constructor(v){super(),this.input=v}}o(el,"ListTagsForResourceCommand_ListTagsForResourceCommand");class tl extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,tl.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelExpirationSettingsCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Mp(v,b)}deserialize(v,b){return dg(v,b)}constructor(v){super(),this.input=v}}o(tl,"PutChannelExpirationSettingsCommand_PutChannelExpirationSettingsCommand");class Rl extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Rl.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelMembershipPreferencesCommand",inputFilterSensitiveLog:hf,outputFilterSensitiveLog:pf},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Rp(v,b)}deserialize(v,b){return ug(v,b)}constructor(v){super(),this.input=v}}o(Rl,"PutChannelMembershipPreferencesCommand_PutChannelMembershipPreferencesCommand");class Al extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Al.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"PutMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Ap(v,b)}deserialize(v,b){return hg(v,b)}constructor(v){super(),this.input=v}}o(Al,"PutMessagingStreamingConfigurationsCommand_PutMessagingStreamingConfigurationsCommand");class Ra extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Ra.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"RedactChannelMessageCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Pp(v,b)}deserialize(v,b){return mg(v,b)}constructor(v){super(),this.input=v}}o(Ra,"RedactChannelMessageCommand_RedactChannelMessageCommand");class nl extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,nl.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"SearchChannelsCommand",inputFilterSensitiveLog:mf,outputFilterSensitiveLog:gf},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return _p(v,b)}deserialize(v,b){return Sg(v,b)}constructor(v){super(),this.input=v}}o(nl,"SearchChannelsCommand_SearchChannelsCommand");class _s extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,_s.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"SendChannelMessageCommand",inputFilterSensitiveLog:Sf,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return kp(v,b)}deserialize(v,b){return yg(v,b)}constructor(v){super(),this.input=v}}o(_s,"SendChannelMessageCommand_SendChannelMessageCommand");class Aa extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Aa.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:vf,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Dp(v,b)}deserialize(v,b){return Cg(v,b)}constructor(v){super(),this.input=v}}o(Aa,"TagResourceCommand_TagResourceCommand");class Pl extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,Pl.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:yf,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Lp(v,b)}deserialize(v,b){return Tg(v,b)}constructor(v){super(),this.input=v}}o(Pl,"UntagResourceCommand_UntagResourceCommand");class il extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,il.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelCommand",inputFilterSensitiveLog:bf,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Np(v,b)}deserialize(v,b){return wg(v,b)}constructor(v){super(),this.input=v}}o(il,"UpdateChannelCommand_UpdateChannelCommand");class oa extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,oa.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelFlowCommand",inputFilterSensitiveLog:Cf,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return xp(v,b)}deserialize(v,b){return Mg(v,b)}constructor(v){super(),this.input=v}}o(oa,"UpdateChannelFlowCommand_UpdateChannelFlowCommand");class rl extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,rl.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelMessageCommand",inputFilterSensitiveLog:Ef,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Bp(v,b)}deserialize(v,b){return Ag(v,b)}constructor(v){super(),this.input=v}}o(rl,"UpdateChannelMessageCommand_UpdateChannelMessageCommand");class _l extends En{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(v,b,I){this.middlewareStack.use(Ot(b,this.serialize,this.deserialize)),this.middlewareStack.use(Lt(b,_l.getEndpointParameterInstructions()));const x=v.concat(this.middlewareStack),{logger:H}=b,ie={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelReadMarkerCommand",inputFilterSensitiveLog:le=>le,outputFilterSensitiveLog:le=>le},{requestHandler:ge}=b;return x.resolve(le=>ge.handle(le.request,I||{}),ie)}serialize(v,b){return Fp(v,b)}deserialize(v,b){return _g(v,b)}constructor(v){super(),this.input=v}}o(_l,"UpdateChannelReadMarkerCommand_UpdateChannelReadMarkerCommand");const Sd={AssociateChannelFlowCommand:ud,BatchCreateChannelMembershipCommand:fd,ChannelFlowCallbackCommand:hd,CreateChannelCommand:md,CreateChannelBanCommand:pd,CreateChannelFlowCommand:gd,CreateChannelMembershipCommand:Oi,CreateChannelModeratorCommand:Sn,DeleteChannelCommand:Yi,DeleteChannelBanCommand:Ia,DeleteChannelFlowCommand:$a,DeleteChannelMembershipCommand:qi,DeleteChannelMessageCommand:Ue,DeleteChannelModeratorCommand:so,DeleteMessagingStreamingConfigurationsCommand:Ka,DescribeChannelCommand:Nr,DescribeChannelBanCommand:si,DescribeChannelFlowCommand:Rr,DescribeChannelMembershipCommand:Ja,DescribeChannelMembershipForAppInstanceUserCommand:na,DescribeChannelModeratedByAppInstanceUserCommand:ut,DescribeChannelModeratorCommand:xr,DisassociateChannelFlowCommand:Ol,GetChannelMembershipPreferencesCommand:Ml,GetChannelMessageCommand:Ya,GetChannelMessageStatusCommand:Xa,GetMessagingSessionEndpointCommand:Qa,GetMessagingStreamingConfigurationsCommand:ia,ListChannelBansCommand:pa,ListChannelFlowsCommand:wa,ListChannelMembershipsCommand:Oa,ListChannelMembershipsForAppInstanceUserCommand:ma,ListChannelMessagesCommand:Za,ListChannelModeratorsCommand:qa,ListChannelsCommand:ra,ListChannelsAssociatedWithChannelFlowCommand:Ma,ListChannelsModeratedByAppInstanceUserCommand:Ei,ListSubChannelsCommand:bi,ListTagsForResourceCommand:el,PutChannelExpirationSettingsCommand:tl,PutChannelMembershipPreferencesCommand:Rl,PutMessagingStreamingConfigurationsCommand:Al,RedactChannelMessageCommand:Ra,SearchChannelsCommand:nl,SendChannelMessageCommand:_s,TagResourceCommand:Aa,UntagResourceCommand:Pl,UpdateChannelCommand:il,UpdateChannelFlowCommand:oa,UpdateChannelMessageCommand:rl,UpdateChannelReadMarkerCommand:_l};class Wd extends _o{}o(Wd,"ChimeSDKMessaging_ChimeSDKMessaging"),Wl(Sd,Wd);const dt=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new pa(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function jd(T,v){return Do.apply(this,arguments)}o(jd,"paginateListChannelBans");function Do(){return Do=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(dt(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),Do.apply(this,arguments)}o(Do,"_paginateListChannelBans");const ol=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new wa(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function vd(T,v){return Gd.apply(this,arguments)}o(vd,"paginateListChannelFlows");function Gd(){return Gd=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(ol(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),Gd.apply(this,arguments)}o(Gd,"_paginateListChannelFlows");const $d=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new ma(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Mf(T,v){return Pa.apply(this,arguments)}o(Mf,"paginateListChannelMembershipsForAppInstanceUser");function Pa(){return Pa=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator($d(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),Pa.apply(this,arguments)}o(Pa,"_paginateListChannelMembershipsForAppInstanceUser");const yd=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new Oa(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Rf(T,v){return Kd.apply(this,arguments)}o(Rf,"paginateListChannelMemberships");function Kd(){return Kd=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(yd(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),Kd.apply(this,arguments)}o(Kd,"_paginateListChannelMemberships");const Pc=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new Za(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Jd(T,v){return bd.apply(this,arguments)}o(Jd,"paginateListChannelMessages");function bd(){return bd=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(Pc(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),bd.apply(this,arguments)}o(bd,"_paginateListChannelMessages");const _c=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new qa(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Qo(T,v){return Yd.apply(this,arguments)}o(Qo,"paginateListChannelModerators");function Yd(){return Yd=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(_c(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),Yd.apply(this,arguments)}o(Yd,"_paginateListChannelModerators");const Af=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new Ma(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function kc(T,v){return Cd.apply(this,arguments)}o(kc,"paginateListChannelsAssociatedWithChannelFlow");function Cd(){return Cd=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(Af(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),Cd.apply(this,arguments)}o(Cd,"_paginateListChannelsAssociatedWithChannelFlow");const Dc=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new Ei(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Lc(T,v){return Xd.apply(this,arguments)}o(Lc,"paginateListChannelsModeratedByAppInstanceUser");function Xd(){return Xd=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(Dc(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),Xd.apply(this,arguments)}o(Xd,"_paginateListChannelsModeratedByAppInstanceUser");const Pf=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new ra(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function _f(T,v){return Ed.apply(this,arguments)}o(_f,"paginateListChannels");function Ed(){return Ed=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(Pf(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),Ed.apply(this,arguments)}o(Ed,"_paginateListChannels");const kf=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new bi(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function sl(T,v){return kl.apply(this,arguments)}o(sl,"paginateListSubChannels");function kl(){return kl=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(kf(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),kl.apply(this,arguments)}o(kl,"_paginateListSubChannels");const Df=function(){var T=Object(d.coroutine)(function*(v,b){for(var I=arguments.length,x=new Array(I>2?I-2:0),H=2;H<I;H++)x[H-2]=arguments[H];return yield v.send(new nl(b),...x)});return o(function(b,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Nc(T,v){return gs.apply(this,arguments)}o(Nc,"paginateSearchChannels");function gs(){return gs=_wrapAsyncGenerator(function*(T,v){for(var b=arguments.length,I=new Array(b>2?b-2:0),x=2;x<b;x++)I[x-2]=arguments[x];let H=T.startingToken||void 0,K=!0,ue;for(;K;){if(v.NextToken=H,v.MaxResults=T.pageSize,T.client instanceof _o)ue=yield _awaitAsyncGenerator(Df(T.client,v,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield ue;const ie=H;H=ue.NextToken,K=!!(H&&(!T.stopOnSameToken||H!==ie))}}),gs.apply(this,arguments)}o(gs,"_paginateSearchChannels")},Zkgh:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class Qf{add(u){this.ids.add(u)}array(){return Array.from(this.ids.values()).sort((g,a)=>g-a)}contain(u){return this.ids.has(u)}forEach(u){this.ids.forEach(u)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(u){if(!u)return this.ids.size===0;const g=this.array(),a=u.array();if(g.length!==a.length)return!1;for(let s=0;s<g.length;s++)if(g[s]!==a[s])return!1;return!0}clone(){return new Qf(this.array())}remove(u){this.ids.delete(u)}toJSON(){return this.array()}truncate(u){const g=this.array();return new Qf(g.splice(0,u))}constructor(u){this.ids=new Set(u)}},"DefaultVideoStreamIdSet");l.default=S},ZnGd:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("mlaT")),u=S(h("F7zz"));let g=o(class{name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const s of this.dependencies)s.cancel();this.logger.info(`Canceling ${this.name()}`),u.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&u.default.nextTick(()=>this.cancelPromise(new Error(`canceling ${this.name()}`)))}}logDependencies(){if(this.logger.getLogLevel()>f.default.INFO||!this.dependencies)return;const s=this.dependencies.filter(i=>i).map(i=>i.name()).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${s}`)}run(){if(this.promise)return this.promise;const s=this.dependencies?Promise.all(this.dependencies.map(i=>i==null?void 0:i.run())):Promise.resolve();return this.logDependencies(),this.ongoing=s.then(()=>this.task.run()),this.promise=new Promise((i,e)=>{this.cancelPromise=e,this.ongoing.then(i).catch(e)})}setParent(s){this.task.setParent(s)}constructor(s,i,e){this.logger=s,this.task=i,this.dependencies=e,this.canceled=!1}},"OnceTask");l.default=g},ZsEg:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(F,P,B,O){function R(D){return D instanceof B?D:new B(function(J){J(D)})}return o(R,"adopt"),new(B||(B=Promise))(function(D,J){function X(Ee){try{he(O.next(Ee))}catch(ke){J(ke)}}o(X,"fulfilled");function $(Ee){try{he(O.throw(Ee))}catch(ke){J(ke)}}o($,"rejected");function he(Ee){Ee.done?D(Ee.value):R(Ee.value).then(X,$)}o(he,"step"),he((O=O.apply(F,P||[])).next())})},f=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("U9CR")),g=f(h("Gs2/")),a=f(h("F7zz")),s=f(h("FMuk")),i=h("Aplu"),e=f(h("7TH8")),t=f(h("Z/hr")),n=h("6k+I"),r=f(h("6DYs")),c=f(h("KJDN")),p=f(h("QUzi")),m=f(h("u3ud")),d=f(h("wJ81")),y=f(h("wkYg")),E=f(h("sf8V")),w=f(h("my46")),k=h("0OOd");let V=o(class Bi{isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var P;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(P=this.mediaDeviceWrapper)===null||P===void 0||P.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var P;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(P=this.mediaDeviceWrapper)===null||P===void 0||P.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return S(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const B=yield this.listDevicesOfKind("audioinput",P);return this.trace("listAudioInputDevices",P,B),B})}listVideoInputDevices(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const B=yield this.listDevicesOfKind("videoinput",P);return this.trace("listVideoInputDevices",P,B),B})}listAudioOutputDevices(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const B=yield this.listDevicesOfKind("audiooutput",P);return this.trace("listAudioOutputDevices",P,B),B})}pushAudioMeetingStateForPermissions(P){var B;(B=this.eventController)===null||B===void 0||B.publishEvent(P===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(P){var B;(B=this.eventController)===null||B===void 0||B.publishEvent(P===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(P){return S(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(P))})}startAudioInputTask(P){var B;return S(this,void 0,void 0,function*(){if(P===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return n.isAudioTransformDevice(P)?(this.logger.info(`Choosing transform input device ${P}`),yield this.chooseAudioTransformInputDevice(P)):(this.logger.info(`Choosing intrinsic audio input device ${P}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",P)),this.trace("startAudioInputDevice",P,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(B=this.transform)===null||B===void 0?void 0:B.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(O){throw O}})}stopAudioInput(){return S(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return S(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(P){var B;return S(this,void 0,void 0,function*(){if(((B=this.transform)===null||B===void 0?void 0:B.device)===P)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const O=Bi.getAudioContext();if(!(O instanceof OfflineAudioContext))switch(O.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield O.resume()}let R;try{R=yield P.createAudioNode(O)}catch(J){throw this.logger.error(`Unable to create transform device node: ${J}.`),J}const D=yield P.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",D),this.logger.debug(`Got inner stream: ${D}.`),this.setTransform(P,R)})}chooseVideoTransformInputDevice(P){var B;return S(this,void 0,void 0,function*(){if(this.eventController&&P instanceof e.default&&P.passEventControllerToProcessors(this.eventController),P===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const O=this.chosenVideoTransformDevice;O&&this.logger.info("Switched from previous VideoTransformDevice");const R=!!O,D=yield P.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((B=this.activeDevices.video)===null||B===void 0?void 0:B.stream,D)){this.logger.info("video transform device needs new intrinsic device"),R&&O.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=P,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",D),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=P,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield P.transformStream(this.activeDevices.video.stream)})}startVideoInput(P){return S(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(P))})}startVideoInputTask(P){return S(this,void 0,void 0,function*(){if(!P){this.logger.error("Invalid video input device");return}try{return k.isVideoTransformDevice(P)?(this.logger.info(`Choosing video transform device ${P}`),yield this.chooseVideoTransformInputDevice(P),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",P),this.trace("startVideoInputDevice",P),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(B){throw B}})}stopVideoInput(){return S(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return S(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(P){return S(this,void 0,void 0,function*(){this.audioOutputDeviceId=P,this.watchForDeviceChangesIfNecessary();const B=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(B),this.trace("chooseAudioOutput",P,null)})}addDeviceChangeObserver(P){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(P),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(P){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(P),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var P,B;if(!this.activeDevices.audio)return null;const O=(B=(P=this.transform)===null||P===void 0?void 0:P.nodes)===null||B===void 0?void 0:B.end;if(O){const R=O.context.createAnalyser();return R.removeOriginalInputs=()=>{try{O.disconnect(R)}catch{}},O.connect(R),R}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(P){const B=Bi.getAudioContext(),O=B.createAnalyser(),R=B.createMediaStreamSource(P);return R.connect(O),this.trace("createAnalyserNodeForAudioInput"),O.removeOriginalInputs=()=>{try{R.disconnect(O)}catch{}},O}startVideoPreviewForVideoInput(P){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",P.id);return}t.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,P,!0),this.trace("startVideoPreviewForVideoInput",P.id)}stopVideoPreviewForVideoInput(P){t.default.disconnectVideoStreamFromVideoElement(P,!1),this.trace("stopVideoPreviewForVideoInput",P.id)}setDeviceLabelTrigger(P){if(this.deviceInfoCache){for(const B of this.deviceInfoCache)if(!B.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=P,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(P){let B=null;return this.useWebAudio?(B=Bi.getAudioContext().createMediaStreamSource(P),B.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",P.id),B}chooseVideoInputQuality(P,B,O){const R=this.browserBehavior.requiresResolutionAlignment(P,B);this.videoInputQualitySettings=new w.default(R[0],R[1],O)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return S(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return S(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(P){return S(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(P){const B=this.activeDevices[P];if(!B)return;const O=B.endedCallback,R=B.trackMuteCallback,D=B.trackUnmuteCallback;for(const J of B.stream.getTracks())J.stop(),O&&J.removeEventListener("ended",O),R&&J.removeEventListener("mute",R),D&&J.removeEventListener("unmute",D),delete B.endedCallback,delete B.trackMuteCallback,delete B.trackUnmuteCallback,delete this.activeDevices[P]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(P){var B;let O=this.activeDevices.audio;if(this.useWebAudio&&(O=this.getMediaStreamDestinationNode()),!!O){for(const R of O.stream.getTracks())R.enabled!==P&&(R.enabled=P);this.muted!==!P&&(this.muted=!P,(B=this.transform)===null||B===void 0||B.device.mute(this.muted))}}static getIntrinsicDeviceId(P){if(!P)return;if(typeof P=="string")return P;if(P.id)return P.id;const O=P.deviceId;if(!O)return;if(typeof O=="string"||Array.isArray(O))return O;const R=O;if(typeof R.exact=="string"||Array.isArray(R.exact))return R.exact}static createEmptyAudioDevice(){return Bi.synthesizeAudioDevice(0)}static synthesizeAudioDevice(P){const B=Bi.getAudioContext(),O=B.createMediaStreamDestination();if(P){const R=B.createGain();R.gain.value=.1,R.connect(O);const D=B.createOscillator();D.frequency.value=P,D.connect(R),D.start()}else{const R=B.createBufferSource();try{R.buffer=B.createBuffer(1,B.sampleRate*5,B.sampleRate)}catch(D){if(D&&D.name==="NotSupportedError")R.buffer=B.createBuffer(1,Bi.defaultSampleRate*5,Bi.defaultSampleRate);else throw D}R.buffer.getChannelData(0)[0]=3e-4,R.loop=!0,R.connect(O),R.start()}return O.stream}listDevicesOfKind(P,B){return S(this,void 0,void 0,function*(){return(B||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(P)})}updateDeviceInfoCacheFromBrowser(){var P;return S(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let O=yield navigator.mediaDevices.enumerateDevices(),R=!0;for(const D of O)if(!D.label){R=!1;break}if(!R)try{this.logger.info("attempting to trigger media device labels since they are hidden");const D=yield this.deviceLabelTrigger();O=yield navigator.mediaDevices.enumerateDevices();for(const J of D.getTracks())J.stop()}catch(D){this.logger.info("unable to get media device labels"),(P=this.eventController)===null||P===void 0||P.publishEvent("deviceLabelTriggerFailed",{deviceLabelTriggerErrorMessage:this.getErrorMessage(D)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(O)}`),this.deviceInfoCache=O})}listCachedDevicesOfKind(P){const B=[];if(this.deviceInfoCache)for(const O of this.deviceInfoCache)O.kind===P&&B.push(O);return B}handleDeviceChange(){return S(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){a.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const P=this.listCachedDevicesOfKind("audioinput"),B=this.listCachedDevicesOfKind("videoinput"),O=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const R=this.listCachedDevicesOfKind("audioinput"),D=this.listCachedDevicesOfKind("videoinput"),J=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(X=>{this.areDeviceListsEqual(P,R)||i.Maybe.of(X.audioInputsChanged).map($=>$.bind(X)(R)),this.areDeviceListsEqual(B,D)||i.Maybe.of(X.videoInputsChanged).map($=>$.bind(X)(D)),this.areDeviceListsEqual(O,J)||i.Maybe.of(X.audioOutputsChanged).map($=>$.bind(X)(J))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(P,B){return S(this,void 0,void 0,function*(){try{P==="audio"?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}P==="audio"?this.forEachObserver(O=>{i.Maybe.of(O.audioInputStreamEnded).map(R=>R.bind(O)(B))}):this.forEachObserver(O=>{i.Maybe.of(O.videoInputStreamEnded).map(R=>R.bind(O)(B))})})}forEachObserver(P){for(const B of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(B)&&P(B)})}forEachMediaStreamBrokerObserver(P){for(const B of this.mediaStreamBrokerObservers)a.default.nextTick(()=>{this.mediaStreamBrokerObservers.has(B)&&P(B)})}areDeviceListsEqual(P,B){return JSON.stringify(P.map(O=>JSON.stringify(O)).sort())===JSON.stringify(B.map(O=>JSON.stringify(O)).sort())}intrinsicDeviceAsMediaStream(P){return P&&P.id?P:null}hasSameMediaStreamId(P,B,O){var R,D,J,X;let $;return P==="audio"?($=O==null?void 0:O.audio.streamId,!!$&&$===((D=(R=B.constraints)===null||R===void 0?void 0:R.audio)===null||D===void 0?void 0:D.streamId)):($=O==null?void 0:O.video.streamId,!!$&&$===((X=(J=B==null?void 0:B.constraints)===null||J===void 0?void 0:J.video)===null||X===void 0?void 0:X.streamId))}hasSameGroupId(P,B,O){if(P==="")return!0;const R=Bi.getIntrinsicDeviceId(O);return this.logger.debug(`Checking deviceIds ${R} of type ${typeof R} with groupId ${P}`),typeof R=="string"&&P===this.getGroupIdFromDeviceId(B,R)}getGroupIdFromDeviceId(P,B){if(this.deviceInfoCache!==null){const O=this.listCachedDevicesOfKind(`${P}input`).find(R=>R.deviceId===B);if(O&&O.groupId)return this.logger.debug(`GroupId of deviceId ${B} found in cache is ${O.groupId}`),O.groupId}return this.logger.debug(`GroupId of deviceId ${B} found in cache is empty`),""}handleGetUserMediaError(P,B){if(!P)throw new c.default(P);switch(P.name){case"NotReadableError":case"TrackStartError":throw new m.default(P);case"NotFoundError":case"DevicesNotFoundError":throw new p.default(P);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw B&&B<Bi.permissionDeniedOriginDetectionThresholdMs?new y.default(P,"Permission denied by browser"):new y.default(P,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new d.default(P);case"TypeError":throw new E.default(P);case"AbortError":default:throw new c.default(P)}}matchesDeviceSelection(P,B,O,R){return O&&O.stream.active&&(this.hasSameMediaStreamId(P,O,R)||O.groupId!==null&&this.hasSameGroupId(O.groupId,P,B))?(this.logger.debug(`Compare current device constraint ${JSON.stringify(O.constraints)} to proposed constraints ${JSON.stringify(R)}`),O.matchesConstraints(R)):!1}chooseInputIntrinsicDevice(P,B){var O,R;return S(this,void 0,void 0,function*(){const D=this.getMediaStreamConstraints(P,B);if(this.matchesDeviceSelection(P,B,this.activeDevices[P],D)){this.logger.info(`reusing existing ${P} input device`);return}this.activeDevices[P]&&this.activeDevices[P].stream&&this.stopTracksAndRemoveCallbacks(P);const J=Date.now(),X=new r.default;try{this.logger.info(`requesting new ${P} device with constraint ${JSON.stringify(D)}`);const $=this.intrinsicDeviceAsMediaStream(B);P==="audio"&&B===null?(X.stream=Bi.createEmptyAudioDevice(),X.constraints=null):$?(this.logger.info(`using media stream ${$.id} for ${P} device`),X.stream=$,X.constraints=D):(X.stream=yield navigator.mediaDevices.getUserMedia(D),X.constraints=D),yield this.handleNewInputDevice(P,X)}catch($){const he=this.getErrorMessage($);P==="audio"?(O=this.eventController)===null||O===void 0||O.publishEvent("audioInputFailed",{audioInputErrorMessage:he}):(R=this.eventController)===null||R===void 0||R.publishEvent("videoInputFailed",{videoInputErrorMessage:he}),this.logger.error(`failed to get ${P} device for constraints ${JSON.stringify(D)}: ${he}`);let Ee=!0;if($&&"constraint"in $&&(this.logger.error(`Over-constrained by constraint: ${$.constraint}`),this.useMediaConstraintsFallback)){const ke=this.getMediaStreamConstraints(P,B,!0),ve=JSON.stringify(ke);if(ve!==JSON.stringify(D)){this.logger.info(`retry requesting new ${P} device with minimal constraint ${ve}`);try{X.stream=yield navigator.mediaDevices.getUserMedia(ke),X.constraints=ke,yield this.handleNewInputDevice(P,X),Ee=!1}catch(Be){this.logger.error(`failed to get ${P} device for constraints ${ve}: ${this.getErrorMessage(Be)}`)}}}if(Ee){if(P==="audio"){this.logger.info(`choosing null ${P} device instead`);try{X.stream=Bi.createEmptyAudioDevice(),X.constraints=null,yield this.handleNewInputDevice(P,X)}catch(ke){this.logger.error(`failed to choose null ${P} device. ${ke.name}: ${ke.message}`)}}this.handleGetUserMediaError($,Date.now()-J)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(P){return P?P.name&&P.message?`${P.name}: ${P.message}`:P.name?P.name:P.message?P.message:"UnknownError":"UnknownError"}handleNewInputDevice(P,B){var O;return S(this,void 0,void 0,function*(){this.logger.info(`got ${P} device for constraints ${JSON.stringify(B.constraints)}`);const R=(O=this.getMediaTrackSettings(B.stream))===null||O===void 0?void 0:O.deviceId;B.groupId=R?this.getGroupIdFromDeviceId(P,R):"",this.activeDevices[P]=B,this.logger.debug(`Set activeDevice to ${JSON.stringify(B)}`),this.watchForDeviceChangesIfNecessary();const D=B.stream.getTracks()[0];if(D&&(B.endedCallback=()=>{this.activeDevices[P]&&this.activeDevices[P].stream===B.stream&&(this.handleDeviceStreamEnded(P,R),delete B.endedCallback)},D.addEventListener("ended",B.endedCallback,{once:!0})),P==="audio"){const J=B.stream.getAudioTracks()[0];if(J){const X=J.getSettings().deviceId||B.stream;B.trackMuteCallback=()=>{this.mediaStreamMuteObserver(X,!0)},B.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(X,!1)},J.addEventListener("mute",B.trackMuteCallback,{once:!1}),J.addEventListener("unmute",B.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),J.muted?B.trackMuteCallback():B.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(P,B,O,R){if(R&&this.listCachedDevicesOfKind(`${P}input`).length===1)return!0;const D={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?D.deviceId=B:D.deviceId={exact:B},O&&(D.groupId=O),R?D:P==="video"?(D.width={ideal:this.videoInputQualitySettings.videoWidth},D.height={ideal:this.videoInputQualitySettings.videoHeight},D.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},D):(this.supportSampleRateConstraint()&&(D.sampleRate={ideal:Bi.defaultSampleRate}),this.supportSampleSizeConstraint()&&(D.sampleSize={ideal:Bi.defaultSampleSize}),this.supportChannelCountConstraint()&&(D.channelCount={ideal:Bi.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},D))}getMediaStreamConstraintsFromTrackConstraints(P,B){return P==="audio"?{audio:B}:{video:B}}getMediaStreamConstraints(P,B){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R={};if(!B)return null;const D=this.intrinsicDeviceAsMediaStream(B);if(D)return R.streamId=D.id,this.getMediaStreamConstraintsFromTrackConstraints(P,R);if(typeof B=="string"){let J="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?J=this.getGroupIdFromDeviceId(P,B):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),R=this.calculateMediaStreamConstraints(P,B,J,O),this.getMediaStreamConstraintsFromTrackConstraints(P,R)}return N(B)?(R=this.calculateMediaStreamConstraints(P,B.deviceId,B.groupId,O),this.getMediaStreamConstraintsFromTrackConstraints(P,R)):(R=B,this.getMediaStreamConstraintsFromTrackConstraints(P,R))}deviceInfoFromDeviceId(P,B){if(this.deviceInfoCache===null)return null;for(const O of this.deviceInfoCache)if(O.kind===P&&O.deviceId===B)return O;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(P,B){if(!P||!P.active||!B)return!1;if(B.id)return P.id===B.id;const O=this.getMediaTrackSettings(P);if(!O.deviceId)return!1;const R=Bi.getIntrinsicDeviceId(B);return typeof R=="string"?O.deviceId===R:!1}getMediaTrackSettings(P){var B;return(B=P.getTracks()[0])===null||B===void 0?void 0:B.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const P=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(P)}setTransform(P,B){var O,R;(R=(O=this.transform)===null||O===void 0?void 0:O.nodes)===null||R===void 0||R.end.disconnect(),this.transform={nodes:B,device:P};const D=B==null?void 0:B.end,J=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${D} to destination ${J}.`),D==null||D.connect(J),this.reconnectAudioInputs()}removeTransform(){var P;const B=this.transform;if(B)return(P=this.transform.nodes)===null||P===void 0||P.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),B}attachAudioInputStreamToAudioContext(P){var B;(B=this.audioInputSourceNode)===null||B===void 0||B.disconnect(),this.audioInputSourceNode=Bi.getAudioContext().createMediaStreamSource(P);const O=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(O)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=Bi.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var P,B;return((B=(P=this.transform)===null||P===void 0?void 0:P.nodes)===null||B===void 0?void 0:B.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(P){Bi.defaultLatencyHint=P}static getAudioContext(){if(!Bi.audioContext){const P={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(P.sampleRate=Bi.defaultSampleRate),new u.default().requiresPlaybackLatencyHintForAudioContext()&&(P.latencyHint="playback"),Bi.defaultLatencyHint&&(P.latencyHint=Bi.defaultLatencyHint),Bi.audioContext=new(window.AudioContext||window.webkitAudioContext)(P)}return Bi.audioContext}static closeAudioContext(){if(Bi.audioContext)try{Bi.audioContext.close()}catch{}Bi.audioContext=null}addMediaStreamBrokerObserver(P){this.mediaStreamBrokerObservers.add(P)}removeMediaStreamBrokerObserver(P){this.mediaStreamBrokerObservers.delete(P)}publishVideoInputDidChangeEvent(P){this.forEachMediaStreamBrokerObserver(B=>{B.videoInputDidChange&&B.videoInputDidChange(P)}),this.pushVideoMeetingStateForPermissions(P)}publishAudioInputDidChangeEvent(P){this.forEachMediaStreamBrokerObserver(B=>{B.audioInputDidChange&&B.audioInputDidChange(P)}),this.pushAudioMeetingStateForPermissions(P)}publishAudioOutputDidChangeEvent(P){this.forEachMediaStreamBrokerObserver(B=>{B.audioOutputDidChange&&B.audioOutputDidChange(P)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(P,B,O){let R=`API/DefaultDeviceController/${P}`;typeof B<"u"&&(R+=` ${JSON.stringify(B)}`),typeof O<"u"&&(R+=` -> ${JSON.stringify(O)}`),this.logger.info(R)}constructor(P,B,O=new u.default,R){this.logger=P,this.browserBehavior=O,this.eventController=R,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new s.default,this.videoInputTaskQueue=new s.default,this.muted=!1,this.mediaStreamMuteObserver=($,he)=>{for(const Ee of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(Ee)&&Ee.audioInputMuteStateChanged&&Ee.audioInputMuteStateChanged($,he)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:D=!1,useMediaConstraintsFallback:J=!0}=B||{};this.useWebAudio=D,this.useMediaConstraintsFallback=J,this.videoInputQualitySettings=new w.default(Bi.defaultVideoWidth,Bi.defaultVideoHeight,Bi.defaultVideoFrameRate);const X=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=X[0],this.videoInputQualitySettings.videoHeight=X[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=new g.default().create();const $=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify($)}`)}catch($){P.error($.message)}}},"DefaultDeviceController");l.default=V,V.permissionDeniedOriginDetectionThresholdMs=500,V.defaultVideoWidth=960,V.defaultVideoHeight=540,V.defaultVideoFrameRate=15,V.defaultSampleRate=48e3,V.defaultSampleSize=16,V.defaultChannelCount=1,V.audioContext=null;function N(F){return typeof F=="object"&&"deviceId"in F&&"groupId"in F&&"kind"in F&&"label"in F}o(N,"isMediaDeviceInfo")},ZzQ1:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=void 0;function S(f){if(!Uint32Array.from){for(var u=new Uint32Array(f.length),g=0;g<f.length;)u[g]=f[g],g+=1;return u}return Uint32Array.from(f)}o(S,"uint32ArrayFrom"),l.uint32ArrayFrom=S},"a16/":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}},"MeetingSessionCredentials");l.default=S},a6MJ:function(j,l,h){"use strict";var S=this&&this.__createBinding||(Object.create?function(Zn,Re,Ce,_e){_e===void 0&&(_e=Ce),Object.defineProperty(Zn,_e,{enumerable:!0,get:function(){return Re[Ce]}})}:function(Zn,Re,Ce,_e){_e===void 0&&(_e=Ce),Zn[_e]=Re[Ce]}),f=this&&this.__setModuleDefault||(Object.create?function(Zn,Re){Object.defineProperty(Zn,"default",{enumerable:!0,value:Re})}:function(Zn,Re){Zn.default=Re}),u=this&&this.__importStar||function(Zn){if(Zn&&Zn.__esModule)return Zn;var Re={};if(Zn!=null)for(var Ce in Zn)Ce!=="default"&&Object.prototype.hasOwnProperty.call(Zn,Ce)&&S(Re,Zn,Ce);return f(Re,Zn),Re},g=this&&this.__awaiter||function(Zn,Re,Ce,_e){function et(tt){return tt instanceof Ce?tt:new Ce(function(ht){ht(tt)})}return o(et,"adopt"),new(Ce||(Ce=Promise))(function(tt,ht){function gt(sn){try{cn(_e.next(sn))}catch(Qt){ht(Qt)}}o(gt,"fulfilled");function zt(sn){try{cn(_e.throw(sn))}catch(Qt){ht(Qt)}}o(zt,"rejected");function cn(sn){sn.done?tt(sn.value):et(sn.value).then(gt,zt)}o(cn,"step"),cn((_e=_e.apply(Zn,Re||[])).next())})},a=this&&this.__importDefault||function(Zn){return Zn&&Zn.__esModule?Zn:{default:Zn}};Object.defineProperty(l,"__esModule",{value:!0});const s=a(h("HAqy")),i=a(h("kUL9")),e=a(h("f3u9")),t=a(h("U9CR")),n=a(h("rhlI")),r=a(h("da6e")),c=a(h("aZba")),p=a(h("papz")),m=a(h("ZS2b")),d=a(h("ppUg")),y=a(h("igcJ")),E=a(h("iRMv")),w=a(h("F7zz")),k=a(h("on9F")),V=a(h("K5tc")),N=a(h("AXyi")),F=a(h("Q2ix")),P=a(h("HG8V")),B=u(h("/AJg")),O=a(h("HbHZ")),R=a(h("bQ+R")),D=h("XCDq"),J=a(h("YbMW")),X=a(h("nDuE")),$=a(h("7EAL")),he=a(h("wjYw")),Ee=a(h("7UVU")),ke=a(h("lFzH")),ve=a(h("tMH2")),Be=a(h("Wdtm")),pt=a(h("2vi8")),Ve=a(h("3taG")),bt=a(h("Hi4k")),lt=a(h("uB5g")),mt=a(h("W+eo")),xt=a(h("hspq")),at=a(h("rkwE")),Mt=a(h("5Y0c")),kt=a(h("uQRK")),Xe=a(h("fxRI")),on=a(h("rw3l")),Wn=a(h("D7wJ")),_n=a(h("K+bq")),On=a(h("XzFx")),Xn=a(h("fZkv")),ci=a(h("ZISg")),Qn=a(h("iQPr")),Kn=a(h("xeHQ")),Ki=a(h("ZdbB")),ui=a(h("wQGL")),Fi=a(h("VYs+")),zi=a(h("XJKy")),qt=h("Aplu"),Tn=a(h("Biyp")),vn=a(h("uTAD")),Ot=a(h("rCkh")),bn=h("T44/"),Lt=a(h("MpTp")),jn=a(h("0LIx")),Xi=a(h("LIUS")),Gn=a(h("yS4C")),Ti=a(h("Wnnr")),Tr=a(h("BGMr")),er=a(h("P7Xm")),cr=a(h("kabN")),fi=a(h("1uai"));let Wi=o(class Kc{destroy(){return g(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new s.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(Re){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(Re):null}setAudioProfile(Re){this._audioProfile=Re}addObserver(Re){this.logger.info("adding meeting observer"),this.observerQueue.add(Re)}removeObserver(Re){this.logger.info("removing meeting observer"),this.observerQueue.delete(Re)}forEachObserver(Re){for(const Ce of this.observerQueue)w.default.nextTick(()=>{this.observerQueue.has(Ce)&&Re(Ce)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new fi.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new t.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.audioProfile=this._audioProfile,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new P.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const Re=o(()=>g(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}),"handleClosed");this.preStartObserver={handleSignalingClientEvent(Ce){Ce.type===O.default.WebSocketClosed&&Re()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(Re=>{this.logger.error(`Signaling task pre-start failed: ${Re}`),this.signalingTask=void 0})}start(Re){this.startReturningPromise(Re).then(()=>{this.logger.info("start completed")}).catch(Ce=>{this.logger.error(`start failed: ${Ce}`)})}startReturningPromise(Re){return(Re==null?void 0:Re.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((Ce,_e)=>{this.sessionStateController.perform(V.default.Connect,()=>{this.actionConnect(!1).then(Ce).catch(_e)})}))}connectWithPromises(Re){const Ce=this.meetingSessionContext,_e=o((gr,tr)=>new Qn.default(this.logger,tr,gr),"timeout");this.monitorTask=new bt.default(Ce,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const et=this.monitorTask.once(),tt=new at.default(Ce).once();this.receiveIndexTask=new on.default(Ce),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const ht=new _n.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new Ve.default(Ce),new Wn.default(Ce),new Be.default(Ce),new kt.default(Ce),this.receiveIndexTask]).once(),gt=new Ee.default(Ce).once(ht),zt=new X.default(Ce).once(gt,tt),cn=new ke.default(Ce).once(zt),sn=new On.default(Ce).once(cn),Qt=new ve.default(Ce).once(sn),Vi=new ci.default(Ce).once(Qt),Ci=new Mt.default(Ce).once(Vi);return new _n.default(this.logger,this.wrapTaskName("AudioVideoStart"),[et,_e(this.configuration.connectionTimeoutMs,new _n.default(this.logger,"Peer",[Vi,Ci,Re?new Qn.default(this.logger,new mt.default(this.logger,"FinalizeConnection",[new Kn.default(Ce),new Xn.default(Ce)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new Xn.default(Ce)]))])}actionConnect(Re){var Ce;return g(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new t.default().hasChromiumWebRTC();const _e=!!this.configuration.urls.audioHostURL;if(_e?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new d.default(this.configuration.credentials.attendeeId).hasModality(d.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new ui.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext):this.meetingSessionContext.transceiverController=new Fi.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new Ki.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new zi.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)),this.meetingSessionContext.volumeIndicatorAdapter=new cr.default(this.logger,this._realtimeController,Kc.MIN_VOLUME_DECIBELS,Kc.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.enableSimulcast){let ht=this.meetingSessionContext.videoUplinkBandwidthPolicy;ht||(ht=new Tr.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=ht),ht.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new Ot.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new Xi.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new jn.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new er.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new vn.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver(()=>this.update({needsRenegotiation:!1})),this.meetingSessionContext.lastKnownVideoAvailability=new m.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new Tn.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new Lt.default,this.meetingSessionContext.videosPaused=new Lt.default,this.meetingSessionContext.statsCollector=new J.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new r.default(this,this._realtimeController,this.connectionHealthData,new y.default(this.meetingSessionContext.signalingClient,Kc.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},Re||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(ht=>{qt.Maybe.of(ht.audioVideoDidStartConnecting).map(gt=>gt.bind(ht)(!1))}),(Ce=this.eventController)===null||Ce===void 0||Ce.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const et=_e&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+et);const tt=this.connectWithPromises(et);try{yield tt.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(V.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(ht){this.signalingTask=void 0;const gt=new c.default(this.getMeetingStatusCode(ht)||p.default.TaskFailed);if(this.logger.info(`Start failed: ${gt} due to error ${ht}.`),this.sessionStateController.state()===N.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(V.default.Fail,()=>g(this,void 0,void 0,function*(){yield this.actionDisconnect(gt,!0,ht),this.handleMeetingSessionStatus(gt,ht)||this.notifyStop(gt,ht)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new Qn.default(this.logger,new lt.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=D.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver(Re=>{qt.Maybe.of(Re.audioVideoDidStart).map(Ce=>Ce.bind(Re)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var Re;return this._reconnectController.disableReconnect(),this.sessionStateController.state()===N.default.NotConnected?((Re=this.meetingSessionContext.signalingClient)===null||Re===void 0||Re.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((Ce,_e)=>{this.sessionStateController.perform(V.default.Disconnect,()=>{this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new c.default(p.default.Left),!1,null).then(Ce).catch(_e)})})}stop(){this.stopReturningPromise()}actionDisconnect(Re,Ce,_e){return g(this,void 0,void 0,function*(){try{yield new _n.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new Qn.default(this.logger,new pt.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const et=[new Qn.default(this.logger,new he.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new _n.default(this.logger,this.wrapTaskName("AudioVideoClean"),et).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(V.default.FinishDisconnecting,()=>{Ce||this.notifyStop(Re,_e)})})}update(){let Ce=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{needsRenegotiation:!0}).needsRenegotiation;if(Ce||(Ce=this.meetingSessionContext.peer===void 0),Ce||(Ce=!this.updateRemoteVideosFromPolicy()),Ce||(Ce=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!Ce)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const _e=this.sessionStateController.perform(V.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return _e===F.default.Transitioned||_e===F.default.DeferredTransition}updateRemoteVideosFromPolicy(){if(this.meetingSessionContext.videoDownlinkBandwidthPolicy&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!B.serverSideNetworkAdaptionIsNoneOrDefault(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())){if(!this.sendRemoteVideoUpdate())return!1;if(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()===B.default.BandwidthProbingAndRemoteVideoQualityAdaption)return this.isNotAddingOrRemovingStreams()}return this.updateRemoteVideosIfNotAddingOrRemovingStreams()}updateRemoteVideosIfNotAddingOrRemovingStreams(){const Re=this.detectChangesInVideosToReceive();if(Re===void 0)return!1;const Ce=Re.added,_e=Re.simulcastStreamUpdates,et=Re.removed,tt=this.meetingSessionContext,ht=[];for(const[gt,zt]of _e.entries()){const cn=new R.default;if(cn.streamId=zt,cn.attendeeId=tt.videoStreamIndex.attendeeIdForStreamId(zt),cn.mid=tt.transceiverController.getMidForStreamId(gt),cn.mid===void 0)return this.logger.info(`No MID found for stream ID ${gt}, cannot update stream without renegotiation`),!1;if(ht.push(cn),tt.transceiverController.setStreamIdForMid(cn.mid,zt),tt.videoStreamIndex.overrideStreamIdMappings(gt,zt),tt.videoTileController.haveVideoTileForAttendeeId(cn.attendeeId)){const sn=tt.videoTileController.getVideoTileForAttendeeId(cn.attendeeId);if(!sn.setStreamId)return!1;sn.setStreamId(zt)}}return ht.length!==0&&tt.signalingClient.remoteVideoUpdate(ht,[]),Ce.length!==0||et.length!==0?!1:(tt.videoStreamIndex.subscribeFrameSent(),!0)}detectChangesInVideosToReceive(){const Re=this.meetingSessionContext;if(Re.videosToReceive===null||!Re.transceiverController||!Re.transceiverController.getMidForStreamId||!Re.transceiverController.setStreamIdForMid||!Re.videosToReceive.forEach||!Re.signalingClient.remoteVideoUpdate||!Re.videoStreamIndex.overrideStreamIdMappings)return;let Ce=[];const _e=new Map;let et=[];if(Re.lastVideosToReceive===null)Ce=Re.videosToReceive.array();else{const tt=Re.videoStreamIndex;Re.videosToReceive.forEach(ht=>{if(Re.lastVideosToReceive.contain(ht))return;let gt=!1;Re.lastVideosToReceive.forEach(zt=>{gt||tt.StreamIdsInSameGroup(zt,ht)&&(_e.set(zt,ht),gt=!0)}),gt||Ce.push(ht)}),et=Re.lastVideosToReceive.array().filter(ht=>{const gt=Re.videosToReceive.contain(ht),zt=_e.has(ht);return!gt&&!zt})}return this.logger.info(`Request to update remote videos with added: ${Ce}, updated: ${[..._e.entries()]}, removed: ${et}`),{added:Ce,removed:et,simulcastStreamUpdates:_e}}isNotAddingOrRemovingStreams(){const Re=this.detectChangesInVideosToReceive();if(Re===void 0)return!1;const Ce=Re.added,_e=Re.removed;return!(Ce.length!==0||_e.length!==0)}sendRemoteVideoUpdate(){const Re=this.meetingSessionContext;if(Re.videosToReceive===null)return!1;const Ce=Re.videosToReceive.array().map(gt=>Re.videoStreamIndex.groupIdForStreamId(gt)),_e=bn.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(Re,Ce,Re.videoDownlinkBandwidthPolicy.getVideoPreferences()),et=new Map,tt=[];for(const gt of _e){let zt=!1;if(!Re.lastVideoSubscriptionConfiguration.has(gt.groupId))zt=!0;else{const cn=Re.lastVideoSubscriptionConfiguration.get(gt.groupId);gt.equals(cn)||(this.logger.debug(`${JSON.stringify(gt)} does not equal ${JSON.stringify(cn)}, sending update`),zt=!0)}et.set(gt.groupId,gt),zt&&tt.push(gt)}Re.lastVideoSubscriptionConfiguration=et;const ht=[];if(Re.lastVideosToReceive!==null){const gt=new Set(Ce);for(const zt of Re.lastVideosToReceive.array()){const cn=Re.videoStreamIndex.groupIdForStreamId(zt);if(!gt.has(cn)){const sn=Re.transceiverController.getMidForGroupId(cn);if(sn===void 0){Re.logger.warn(`Could not find MID for group ID to remove: ${cn}`);continue}ht.push(sn)}}}return(tt.length!==0||ht.length!==0)&&Re.signalingClient.remoteVideoUpdate(tt,ht),!0}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const Re=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(Re)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const Re=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!Re||!Re.headerExtensions?!1:Re.headerExtensions.some(Ce=>Ce.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(Re){const Ce=o(()=>g(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),Re()}),"restartVideo"),_e=this.sessionStateController.perform(V.default.Update,()=>{Ce()});return _e===F.default.Transitioned||_e===F.default.DeferredTransition}replaceLocalVideo(Re){return g(this,void 0,void 0,function*(){if(!Re||Re.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const Ce=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(Ce){const _e=Ce.state(),et=Re.getVideoTracks()[0].getSettings();Ce.bindVideoStream(_e.boundAttendeeId,!0,Re,et.width,et.height,_e.streamId,_e.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(Re.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=Re,this.logger.info("Local video input is updated")})}replaceLocalAudio(Re){return g(this,void 0,void 0,function*(){if(!Re||Re.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(Re.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=Re,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(Re){return g(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new _n.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new Xe.default(this.meetingSessionContext),new Qn.default(this.logger,new _n.default(this.logger,"UpdateSession",[new X.default(this.meetingSessionContext),new ke.default(this.meetingSessionContext),new On.default(this.meetingSessionContext),new ve.default(this.meetingSessionContext),new ci.default(this.meetingSessionContext),new Xn.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),Re&&this.sessionStateController.perform(V.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(Ce){this.sessionStateController.perform(V.default.FinishUpdating,()=>{const _e=new c.default(this.getMeetingStatusCode(Ce)||p.default.TaskFailed);_e.statusCode()!==p.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(_e,Ce)})}})}notifyStop(Re,Ce){var _e;if(this.forEachObserver(et=>{qt.Maybe.of(et.audioVideoDidStop).map(tt=>tt.bind(et)(Re))}),this.promotedToPrimaryMeeting&&Ce&&this.forEachObserver(et=>{this.promotedToPrimaryMeeting=!1,qt.Maybe.of(et.audioVideoWasDemotedFromPrimaryMeeting).map(tt=>tt.bind(et)(new c.default(p.default.SignalingInternalServerError)))}),this.eventController){const{signalingOpenDurationMs:et,poorConnectionCount:tt,startTimeMs:ht,iceGatheringDurationMs:gt,attendeePresenceDurationMs:zt,meetingStartDurationMs:cn}=this.meetingSessionContext,sn={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:ht===null?0:Math.round(Date.now()-ht),meetingStatus:p.default[Re.statusCode()],signalingOpenDurationMs:et,iceGatheringDurationMs:gt,attendeePresenceDurationMs:zt,poorConnectionCount:tt,meetingStartDurationMs:cn,retryCount:this.totalRetryCount},Qt=Ce&&Ce.message||((_e=Re.toString)===null||_e===void 0?void 0:_e.call(Re))||"";sn.meetingDurationMs===0?(sn.meetingErrorMessage=Qt,delete sn.meetingDurationMs,delete sn.attendeePresenceDurationMs,delete sn.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",sn)):Re.isFailure()||Re.isAudioConnectionFailure()?(sn.meetingErrorMessage=Qt,this.eventController.publishEvent("meetingFailed",sn)):this.eventController.publishEvent("meetingEnded",sn)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const Re=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(Re)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(Re,Ce){const _e=this._reconnectController.retryWithBackoff(()=>g(this,void 0,void 0,function*(){this.sessionStateController.state()===N.default.NotConnected?this.sessionStateController.perform(V.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(V.default.Reconnect,()=>{this.actionReconnect(Re)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return _e||this.sessionStateController.perform(V.default.Fail,()=>{this.actionDisconnect(Re,!1,Ce)}),_e}actionReconnect(Re){return g(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(Ce=>{qt.Maybe.of(Ce.audioVideoDidStartConnecting).map(_e=>_e.bind(Ce)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset();try{yield new _n.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new Qn.default(this.logger,new _n.default(this.logger,"Media",[new $.default(this.meetingSessionContext),new _n.default(this.logger,"Signaling",[new lt.default(this.meetingSessionContext),new Be.default(this.meetingSessionContext),new kt.default(this.meetingSessionContext)]),new Ee.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new Xe.default(this.meetingSessionContext),new Qn.default(this.logger,new _n.default(this.logger,"UpdateSession",[new X.default(this.meetingSessionContext),new ke.default(this.meetingSessionContext),new On.default(this.meetingSessionContext),new ve.default(this.meetingSessionContext),new ci.default(this.meetingSessionContext),new Xn.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(V.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:Ce,poorConnectionCount:_e,startTimeMs:et,iceGatheringDurationMs:tt,attendeePresenceDurationMs:ht,meetingStartDurationMs:gt}=this.meetingSessionContext,zt={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-et),meetingStatus:p.default[Re.statusCode()],signalingOpenDurationMs:Ce,iceGatheringDurationMs:tt,attendeePresenceDurationMs:ht,poorConnectionCount:_e,meetingStartDurationMs:gt,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",zt)}this.actionFinishConnecting()})}catch(Ce){this.sessionStateController.perform(V.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const _e=new c.default(this.getMeetingStatusCode(Ce)||p.default.TaskFailed);this.handleMeetingSessionStatus(_e,Ce)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(Re){return`${Re}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(Re){const Ce=/the meeting status code: (\d+)/.exec(Re&&Re.message);return Ce&&Ce.length>1?Number.parseInt(Ce[1],10):null}enforceBandwidthLimitationForSender(Re){return g(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(Re)})}handleMeetingSessionStatus(Re,Ce){if(this.logger.info(`handling status: ${p.default[Re.statusCode()]}`),Re.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(Re),Re.statusCode()===p.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(Re.statusCode()===p.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(_e=>{qt.Maybe.of(_e.videoSendDidBecomeUnavailable).map(et=>et.bind(_e)())}),!1;if(Re.statusCode()===p.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(_e=>{qt.Maybe.of(_e.audioVideoWasDemotedFromPrimaryMeeting).map(et=>et.bind(_e)(Re))}),!1;if(Re.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(Re.isFailure()||Re.isTerminal())&&this.meetingSessionContext.reconnectController){const _e=this.reconnect(Re,Ce);return _e?this.logger.warn(`The audio video controller will reconnect due to status code ${p.default[Re.statusCode()]}${Ce?` and error: ${Ce.message}`:""}`):this.logger.error(`The audio video controller failed with status code ${p.default[Re.statusCode()]}${Ce?` and error: ${Ce.message}`:""}`),_e}return!1}setVideoMaxBandwidthKbps(Re){if(Re<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${Re} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(Re)),this.maxUplinkBandwidthKbps=Re}handleHasBandwidthPriority(Re){return g(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Re),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const Ce=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Re);const _e=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();Ce!==_e&&(this.logger.info(`video send bandwidth priority ${Re} max has changed from ${Ce} kbps to ${_e} kbps`),yield this.enforceBandwidthLimitationForSender(_e))}})}pauseReceivingStream(Re){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([Re])}resumeReceivingStream(Re){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([Re])}setVideoCodecSendPreferences(Re){this.videoSendCodecPreferences=Re,this.meetingSessionContext.videoSendCodecPreferences=Re,this.sessionStateController.state()!==N.default.NotConnected&&this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:Re}=this.meetingSessionContext;if(!Re)return this.logger.info("meeting has not started"),[];const Ce=this.configuration.credentials.attendeeId;return Re.allVideoSendingSourcesExcludingSelf(Ce)}encodingSimulcastLayersDidChange(Re){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(Ce=>{qt.Maybe.of(Ce.encodingSimulcastLayersDidChange).map(_e=>_e.bind(Ce)(Re))})}promoteToPrimaryMeeting(Re){return this.actionPromoteToPrimaryMeeting(Re)}actionPromoteToPrimaryMeeting(Re){return g(this,void 0,void 0,function*(){let Ce=new c.default(p.default.SignalingRequestFailed);return yield new _n.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new Qn.default(this.logger,new xt.default(this.meetingSessionContext,Re,_e=>{Ce=_e}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=Ce.statusCode()===p.default.OK,Ce})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(Re=>{qt.Maybe.of(Re.audioVideoWasDemotedFromPrimaryMeeting).map(Ce=>Ce.bind(Re)(new c.default(p.default.OK)))})}videoInputDidChange(Re){return g(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(Re?yield this.replaceLocalVideo(Re):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(Re){return g(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!Re)try{Re=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(Re)})}constructor(Re,Ce,_e,et,tt,ht){this._audioProfile=new e.default,this.connectionHealthData=new n.default,this.observerQueue=new Set,this.meetingSessionContext=new fi.default,this.enableSimulcast=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.destroyed=!1,this._logger=Ce,this.sessionStateController=new k.default(this._logger),this._configuration=Re,this._webSocketAdapter=_e,this._realtimeController=new E.default(et),this._realtimeController.realtimeSetLocalAttendeeId(Re.credentials.attendeeId,Re.credentials.externalUserId),this._mediaStreamBroker=et,this._reconnectController=tt,this._videoTileController=new Gn.default(new Ti.default,this,this._logger),this._audioMixController=new i.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=ht}},"DefaultAudioVideoController");l.default=Wi,Wi.MIN_VOLUME_DECIBELS=-42,Wi.MAX_VOLUME_DECIBELS=-14,Wi.PING_PONG_INTERVAL_MS=1e4},aApz:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.Unread="unread",f.LastMessageTimestamp="last-message-timestamp"})(S||(S={})),l.default=S},aMTh:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("U9CR"));let g=o(class PS{getInnerDevice(){return this.device}mute(i){return S(this,void 0,void 0,function*(){this.node&&(i?yield this.node.disable():yield this.node.enable())})}stop(){return S(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(i){return S(this,void 0,void 0,function*(){return this.device===i&&!a(i)?this:new PS(i,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return S(this,void 0,void 0,function*(){if(this.failed)return this.device;const i=this.nodeOptions.es,e={echoCancellation:!i,googEchoCancellation:!i,googEchoCancellation2:!i,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let t;return this.nodeOptions&&this.nodeOptions.agc!==void 0?t=this.nodeOptions.agc.useBuiltInAGC:t=!0,e.autoGainControl=t,e.googAutoGainControl=t,e.googAutoGainControl2=t,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?e.deviceId=this.device:e.deviceId={exact:this.device},e):this.device.id?this.device:Object.assign(Object.assign({},this.device),e):e})}createAudioNode(i){var e,t;return S(this,void 0,void 0,function*(){if(((e=this.node)===null||e===void 0?void 0:e.context)===i)return{start:this.node,end:this.node};const r=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((t=this.node)===null||t===void 0||t.disconnect(),this.node=yield this.voiceFocus.createNode(i,r),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(i,{channelCount:1,channelCountMode:"explicit"});for(const m of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(m);this.createMixSourceNode()}const c=this.node,p=this.node;return{start:c,end:p}}catch(c){throw this.failed=!0,this.delegate.onFallback(this,c),c}})}observeMeetingAudio(i){return S(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.addAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.addFarEndStream(e)})}unObserveMeetingAudio(i){return S(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.removeAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.removeFarendStream(e)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}addFarEndStream(i){return S(this,void 0,void 0,function*(){!this.nodeOptions.es||!i||this.farEndStreamToAudioSourceNode.has(i)||(this.node?this.assignFarEndStreamToAudioSourceNode(i):this.farEndStreamToAudioSourceNode.set(i,null))})}removeFarendStream(i){var e;return S(this,void 0,void 0,function*(){(e=this.farEndStreamToAudioSourceNode.get(i))===null||e===void 0||e.disconnect(),this.farEndStreamToAudioSourceNode.delete(i)})}meetingAudioStreamBecameActive(i){return S(this,void 0,void 0,function*(){this.addFarEndStream(i)})}meetingAudioStreamBecameInactive(i){return S(this,void 0,void 0,function*(){this.removeFarendStream(i)})}assignFarEndStreamToAudioSourceNode(i){const e=this.node.context.createMediaStreamSource(i);e.channelCount=1,e.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(i,e),e.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}constructor(i,e,t,n,r=!1,c=void 0,p=new u.default,m=new Map,d=void 0,y=void 0){this.device=i,this.voiceFocus=e,this.delegate=t,this.nodeOptions=n,this.failed=r,this.node=c,this.browserBehavior=p,this.farEndStreamToAudioSourceNode=m,this.mixDestNode=d,this.mixSourceNode=y}},"VoiceFocusTransformDevice");function a(s){return s==="default"?!0:!s||typeof s!="object"?!1:"deviceId"in s&&s.deviceId==="default"||"id"in s&&s.id==="default"}o(a,"isDefaultDevice"),l.default=g},aNtF:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class Ns{static initializeWorker(){Ns.log("Initializing RedundantAudioEncoder");const u=new Ns;self.RTCRtpScriptTransformer&&(self.onrtctransform=g=>{g.transformer.options.type==="SenderTransform"?u.setupSenderTransform(g.transformer.readable,g.transformer.writable):g.transformer.options.type==="ReceiverTransform"?u.setupReceiverTransform(g.transformer.readable,g.transformer.writable):g.transformer.options.type==="PassthroughTransform"&&u.setupPassthroughTransform(g.transformer.readable,g.transformer.writable)}),self.onmessage=g=>{g.data.msgType==="StartRedWorker"?(u.setupSenderTransform(g.data.send.readable,g.data.send.writable),u.setupReceiverTransform(g.data.receive.readable,g.data.receive.writable)):g.data.msgType==="RedPayloadType"?u.setRedPayloadType(g.data.payloadType):g.data.msgType==="OpusPayloadType"?u.setOpusPayloadType(g.data.payloadType):g.data.msgType==="UpdateNumRedundantEncodings"?u.setNumRedundantEncodings(g.data.numRedundantEncodings):g.data.msgType==="Enable"?u.setRedundancyEnabled(!0):g.data.msgType==="Disable"&&u.setRedundancyEnabled(!1)}}static log(u){Ns.shouldLog&&self.postMessage({type:"REDWorkerLog",log:`[AudioRed] ${u}`})}static getNumRedundantEncodingsForPacketLoss(u){let g=0,a=!1;return u<=8?g=0:u<=18?g=1:u<=75?g=2:(g=0,a=!0),[g,a]}setupPassthroughTransform(u,g){Ns.log("Setting up passthrough transform"),u.pipeTo(g)}setupSenderTransform(u,g){Ns.log("Setting up sender RED transform");const a=new TransformStream({transform:this.senderTransform.bind(this)});u.pipeThrough(a).pipeTo(g)}setupReceiverTransform(u,g){Ns.log("Setting up receiver RED transform");const a=new TransformStream({transform:this.receivePacketLogTransform.bind(this)});u.pipeThrough(a).pipeTo(g)}setRedPayloadType(u){this.redPayloadType=u,Ns.log(`red payload type set to ${this.redPayloadType}`)}setOpusPayloadType(u){this.opusPayloadType=u,Ns.log(`opus payload type set to ${this.opusPayloadType}`)}setNumRedundantEncodings(u){this.numRedundantEncodings=u,this.numRedundantEncodings>this.maxRedEncodings&&(this.numRedundantEncodings=this.maxRedEncodings),Ns.log(`Updated numRedundantEncodings to ${this.numRedundantEncodings}`)}setRedundancyEnabled(u){this.redundancyEnabled=u,Ns.log(`redundancy ${this.redundancyEnabled?"enabled":"disabled"}`)}enqueueAudioFrameIfPayloadSizeIsValid(u,g){u.data.byteLength>this.maxAudioPayloadSizeBytes||g.enqueue(u)}senderTransform(u,g){if(u.getMetadata().payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(u,g);return}const s=this.getPrimaryPayload(u.timestamp,u.data);if(!s){this.enqueueAudioFrameIfPayloadSizeIsValid(u,g);return}const i=this.encode(u.timestamp,s);if(!i){this.enqueueAudioFrameIfPayloadSizeIsValid(u,g);return}u.data=i,this.enqueueAudioFrameIfPayloadSizeIsValid(u,g)}getPrimaryPayload(u,g){const a=this.splitEncodings(u,g);return!a||a.length<1?null:a[a.length-1].payload}splitEncodings(u,g){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;const i=new DataView(g);let e=i.byteLength,t=0,n=0,r=0,c=0,p=!1;const m=new Array,d=new Array,y=new Array;for(;e>0;)if(p=(i.getUint8(c)&128)===0,p){if((i.getUint8(c)&127)!==this.opusPayloadType||(t+=this.redLastHeaderSizeBytes,n+=this.redLastHeaderSizeBytes,t>=i.byteLength))return null;r=i.byteLength-t;break}else{if(e<this.redHeaderSizeBytes)return null;const F=((i.getUint8(c+2)&3)<<8)+i.getUint8(c+3);d.push(F);const P=i.getUint16(c+1)>>2,B=u-P;y.push(B),t+=F+this.redHeaderSizeBytes,n+=this.redHeaderSizeBytes,c+=this.redHeaderSizeBytes,e-=this.redHeaderSizeBytes}if(!p)return null;let E=n;for(let F=0;F<y.length;F++){const P=new ArrayBuffer(d[F]);new Uint8Array(P).set(new Uint8Array(i.buffer,E,d[F]),0);const O={timestamp:y[F],payload:P,isRedundant:!0};a&&(O.hasFec=this.opusPacketHasFec(new DataView(P),P.byteLength)),m.push(O),E+=d[F]}const w=i.byteLength-r,k=new ArrayBuffer(r);new Uint8Array(k).set(new Uint8Array(i.buffer,w,r),0);const N={timestamp:u,payload:k,isRedundant:!1,seq:s};return a&&(N.hasFec=this.opusPacketHasFec(new DataView(k),k.byteLength)),m.push(N),m}encode(u,g){const a=g.byteLength;if(a===0||a>=this.maxRedPacketSizeBytes||a>=this.maxAudioPayloadSizeBytes)return null;const s=this.numRedundantEncodings;let i=this.redLastHeaderSizeBytes,e=a,t=this.maxAudioPayloadSizeBytes-a-i;const n=new Array,r=new Array;if(this.redundancyEnabled){let y=this.uint32WrapAround(u-this.redPacketizationTime*this.redPacketDistance);for(let E=0;E<s&&!(this.uint32WrapAround(u-y)>=this.maxRedTimestampOffset);E++){let w=y,k=this.encodingHistory.find(V=>V.timestamp===w);if(k||(w=this.uint32WrapAround(y-this.redPacketizationTime),k=this.encodingHistory.find(V=>V.timestamp===w)),k){const V=k.payload.byteLength;if(t<this.redHeaderSizeBytes+V)break;t-=this.redHeaderSizeBytes+V,i+=this.redHeaderSizeBytes,e+=V,n.unshift(k.timestamp),r.unshift(k.payload)}y-=this.redPacketizationTime*this.redPacketDistance,y=this.uint32WrapAround(y)}}const c=new ArrayBuffer(i+e),p=new DataView(c);let m=0;for(let y=0;y<n.length;y++){const E=u-n[y];p.setUint8(m,this.opusPayloadType|128),p.setUint16(m+1,E<<2|r[y].byteLength>>8),p.setUint8(m+3,r[y].byteLength&255),m+=this.redHeaderSizeBytes}p.setUint8(m,this.opusPayloadType),m+=this.redLastHeaderSizeBytes;const d=new Uint8Array(c);for(let y=0;y<r.length;y++)d.set(new Uint8Array(r[y]),m),m+=r[y].byteLength;return d.set(new Uint8Array(g),m),m+=g.byteLength,m!==i+e?null:(this.updateEncodingHistory(u,g),c)}updateEncodingHistory(u,g){for(const s of this.encodingHistory){const i=this.redPacketizationTime*this.redMaxRecoveryDistance;if(u-s.timestamp>=i)this.encodingHistory.shift();else break}const a=new DataView(g);(this.opusPacketIsCeltOnly(a)||this.opusPacketHasVoiceActivity(a,a.byteLength)>0)&&(this.encodingHistory.length+1>this.maxEncodingHistorySize&&(this.encodingHistory.length=0),this.encodingHistory.push({timestamp:u,payload:g}))}initializePacketLogs(){const u=this.maxOutOfOrderPacketDistance+this.redMaxRecoveryDistance;this.primaryPacketLog={window:new Array(u),index:0,windowSize:u},this.redRecoveryLog={window:new Array(u),index:0,windowSize:u},this.fecRecoveryLog={window:new Array(u),index:0,windowSize:u},this.totalAudioPacketsExpected=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}receivePacketLogTransform(u,g){const a=u.getMetadata();if(a.payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(u,g);return}const s=this.splitEncodings(u.timestamp,u.data,!0,a.sequenceNumber);if(!s){this.enqueueAudioFrameIfPayloadSizeIsValid(u,g);return}for(let i=s.length-1;i>=0;i--)this.updateLossStats(s[i])&&(this.updateRedStats(s[i]),this.updateFecStats(s[i]));this.maybeReportLossStats(s[s.length-1].timestamp,a.synchronizationSource),this.enqueueAudioFrameIfPayloadSizeIsValid(u,g)}updateLossStats(u){if(u.isRedundant)return!0;const g=u.timestamp,a=u.seq;if(this.totalAudioPacketsExpected===0)return this.totalAudioPacketsExpected=1,this.newestSequenceNumber=a,this.addTimestamp(this.primaryPacketLog,g),!0;const s=this.int16(a-this.newestSequenceNumber);return s<-this.maxOutOfOrderPacketDistance?!1:(s<0?this.hasTimestamp(this.primaryPacketLog,g)||(this.totalAudioPacketsLost>0&&this.totalAudioPacketsLost--,this.addTimestamp(this.primaryPacketLog,g),this.removeFromRecoveryWindows(g)):s>1&&(this.totalAudioPacketsLost+=s-1),s>0&&(this.totalAudioPacketsExpected+=s,this.newestSequenceNumber=u.seq,this.addTimestamp(this.primaryPacketLog,g)),!0)}updateRedStats(u){if(!u.isRedundant||this.totalAudioPacketsLost===0)return;const g=u.timestamp;this.hasTimestamp(this.primaryPacketLog,g)||(this.hasTimestamp(this.redRecoveryLog,g)||(this.totalAudioPacketsRecoveredRed++,this.addTimestamp(this.redRecoveryLog,g)),this.removeTimestamp(this.fecRecoveryLog,g)&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--)}updateFecStats(u){if(!u.hasFec||this.totalAudioPacketsLost===0)return;const g=u.timestamp-this.redPacketizationTime;this.hasTimestamp(this.primaryPacketLog,g)||this.hasTimestamp(this.redRecoveryLog,g)||this.hasTimestamp(this.fecRecoveryLog,g)||(this.totalAudioPacketsRecoveredFec++,this.addTimestamp(this.fecRecoveryLog,g))}maybeReportLossStats(u,g){u-this.lastLossReportTimestamp<this.lossReportInterval||(Ns.shouldReportStats&&self.postMessage({type:"RedundantAudioEncoderStats",ssrc:g,totalAudioPacketsLost:this.totalAudioPacketsLost,totalAudioPacketsExpected:this.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.totalAudioPacketsRecoveredFec}),this.lastLossReportTimestamp=u)}addTimestamp(u,g){u.window[u.index]=g,u.index=(u.index+1)%u.windowSize}hasTimestamp(u,g){return!!u.window.find(s=>s===g)}removeTimestamp(u,g){const a=u.window.indexOf(g);return a>=0?(u.window[a]=void 0,!0):!1}removeFromRecoveryWindows(u){let g=this.removeTimestamp(this.redRecoveryLog,u);g&&this.totalAudioPacketsRecoveredRed>0&&this.totalAudioPacketsRecoveredRed--,g=this.removeTimestamp(this.fecRecoveryLog,u),g&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--}uint32WrapAround(u){let a=u;return u>=4294967296?a=u-4294967296:u<0&&(a=4294967296+u),a}int16(u){return u<<16>>16}opusPacketIsCeltOnly(u){return!!(u.getUint8(0)&128)}opusPacketGetSamplesPerFrame(u,g){g=Math.round(g),g=Math.min(Math.max(g,-Math.pow(2,32)),Math.pow(2,32)-1);let a,s;return this.opusPacketIsCeltOnly(u)?(s=u.getUint8(0)>>3&3,a=(g<<s)/400):(u.getUint8(0)&96)===96?a=u.getUint8(0)&8?g/50:g/100:(s=u.getUint8(0)>>3&3,s===3?a=g*60/1e3:a=(g<<s)/100),a}opusNumSilkFrames(u){let g=this.opusPacketGetSamplesPerFrame(u,48e3)/48;switch(g<10&&(g=10),g){case 10:case 20:return 1;case 40:return 2;case 60:return 3;default:return 0}}opusPacketGetNumChannels(u){return u.getUint8(0)&4?2:1}opusParseSize(u,g,a,s){return a<1?(s[0]=-1,-1):u.getUint8(g)<252?(s[0]=u.getUint8(g),1):a<2?(s[0]=-1,-1):(s[0]=4*u.getUint8(g+1)+u.getUint8(g),2)}opusPacketParseImpl(u,g,a,s,i,e,t,n){if(!e||g<0)return this.OPUS_BAD_ARG;if(g===0)return this.OPUS_INVALID_PACKET;let r,c,p=0,m=!1;const d=u.getUint8(0);s&&(s[0]=d);let y=g-1,E=1,w=y;switch(d&3){case 0:r=1;break;case 1:if(r=2,m=!0,!a){if(y&1)return this.OPUS_INVALID_PACKET;w=y/2,e[0][0]=w}break;case 2:if(r=2,c=this.opusParseSize(u,E,y,e[0]),y-=c,e[0][0]<0||e[0][0]>y)return this.OPUS_INVALID_PACKET;E+=c,w=y-e[0][0];break;default:if(y<1)return this.OPUS_INVALID_PACKET;const k=u.getUint8(E++);if(--y,r=k&63,r<=0)return this.OPUS_INVALID_PACKET;if(this.opusPacketGetSamplesPerFrame(u,48e3)*r>5760)return this.OPUS_INVALID_PACKET;if(k&64){let N,F;do{if(y<=0)return this.OPUS_INVALID_PACKET;N=u.getUint8(E++),--y,F=N===255?254:N,y-=F,p+=F}while(N===255)}if(y<0)return this.OPUS_INVALID_PACKET;if(m=!(k&128),m){if(!a){if(w=Math.trunc(y/r),w*r!==y)return this.OPUS_INVALID_PACKET;for(let N=0;N<r-1;++N)e[N][0]=w}}else{w=y;for(let N=0;N<r-1;++N){if(c=this.opusParseSize(u,E,y,e[N]),y-=c,e[N][0]<0||e[N][0]>y)return this.OPUS_INVALID_PACKET;E+=c,w-=c+e[N][0]}if(w<0)return this.OPUS_INVALID_PACKET}}if(a){if(c=this.opusParseSize(u,E,y,e[r-1]),y-=c,e[r-1][0]<0||e[r-1][0]>y)return this.OPUS_INVALID_PACKET;if(E+=c,m){if(e[r-1][0]*r>y)return this.OPUS_INVALID_PACKET;for(let k=0;k<r-1;++k)e[k][0]=e[r-1][0]}else if(!(c+e[r-1][0]<=w))return this.OPUS_INVALID_PACKET}else{if(w>this.OPUS_MAX_FRAME_SIZE_BYTES)return this.OPUS_INVALID_PACKET;e[r-1][0]=w}t&&(t[0]=E);for(let k=0;k<r;++k)i&&(i[k][0]=E),E+=e[k][0];return n&&(n[0]=E+p),r}opusPacketParse(u,g,a,s,i,e){return this.opusPacketParseImpl(u,g,!1,a,s,i,e,null)}opusPacketHasVoiceActivity(u,g){if(!u||g<=0)return 0;if(this.opusPacketIsCeltOnly(u))return-1;const a=this.opusNumSilkFrames(u);if(a===0)return-1;const s=new Array(this.OPUS_MAX_OPUS_FRAMES),i=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let t=0;t<this.OPUS_MAX_OPUS_FRAMES;++t)s[t]=[void 0],i[t]=[void 0];const e=this.opusPacketParse(u,g,null,s,i,null);if(e<0)return-1;for(let t=0;t<e;++t){if(i[t][0]<1)continue;if(u.getUint8(s[t][0])>>8-a||this.opusPacketGetNumChannels(u)===2&&u.getUint8(s[t][0])<<a+1>>8-a)return 1}return 0}opusPacketHasFec(u,g){if(!u||g<=0||this.opusPacketIsCeltOnly(u))return!1;const a=new Array(this.OPUS_MAX_OPUS_FRAMES),s=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let n=0;n<this.OPUS_MAX_OPUS_FRAMES;++n)a[n]=[void 0],s[n]=[void 0];if(this.opusPacketParse(u,g,null,a,s,null)<0||s[0][0]<=1)return!1;const e=this.opusNumSilkFrames(u);if(e===0)return!1;const t=this.opusPacketGetNumChannels(u);if(t!==1&&t!==2)return!1;for(let n=0;n<t;n++)if(u.getUint8(a[0][0])&128>>(n+1)*(e+1)-1)return!0;return!1}constructor(){this.maxRedPacketSizeBytes=1<<10,this.maxAudioPayloadSizeBytes=1e3,this.maxRedTimestampOffset=1<<14,this.redHeaderSizeBytes=4,this.redLastHeaderSizeBytes=1,this.redPacketizationTime=960,this.redPacketDistance=2,this.maxRedEncodings=2,this.redMaxRecoveryDistance=this.redPacketDistance*this.maxRedEncodings+1,this.maxEncodingHistorySize=10,this.numRedundantEncodings=0,this.redundancyEnabled=!0,this.lossReportInterval=48e3*5,this.maxOutOfOrderPacketDistance=16,this.OPUS_BAD_ARG=-1,this.OPUS_INVALID_PACKET=-4,this.OPUS_MAX_OPUS_FRAMES=48,this.OPUS_MAX_FRAME_SIZE_BYTES=1275,this.encodingHistory=new Array,this.opusPayloadType=0,this.redPayloadType=0,this.initializePacketLogs()}},"RedundantAudioEncoder");l.default=S,S.shouldLog=!1,S.shouldReportStats=!1},aSsB:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckNetworkTCPConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",f[f.ConnectionFailed=2]="ConnectionFailed",f[f.ICENegotiationFailed=3]="ICENegotiationFailed"})(S=l.CheckNetworkTCPConnectivityFeedback||(l.CheckNetworkTCPConnectivityFeedback={})),l.default=S},aTUL:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("mYvd");let f=o(class Jc{compress(g,a){if(a.length>0){const e=Math.min(a.length,Jc.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const s={memLevel:Jc.Z_MEM_LEVEL,dictionary:a};return S.deflateRaw(g,s)}decompress(g,a){if(a.length>0){const e=Math.min(a.length,Jc.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const s={to:"string",dictionary:a,chunkSize:4096};let i="";try{i=S.inflateRaw(g,s)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return i}constructor(g){this.logger=g}},"ZLIBTextCompressor");l.default=f,f.Z_MEM_LEVEL=9,f.MAX_DICTIONARY_SIZE=31744},aVV0:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("V3UW")),g=f(h("Sl5A"));let a=o(class{once(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return new u.default(this.logger,this,e)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(i){this.parentTask=i}getStatus(){return this.status}logAndThrow(i){throw this.logger.info(i),new Error(i)}baseRun(i){return S(this,void 0,void 0,function*(){try{const e=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case g.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case g.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case g.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=g.default.RUNNING,yield i.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-e)} ms`)}catch(e){throw e}finally{this.status!==g.default.CANCELED&&(this.status=g.default.FINISHED)}})}baseCancel(i){if(this.status===g.default.CANCELED||this.status===g.default.FINISHED){this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`);return}this.logger.info(`canceling task ${this.name()}`),this.status=g.default.CANCELED,i.call(this)}constructor(i){this.logger=i,this.taskName="BaseTask",this.parentTask=null,this.status=g.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}},"BaseTask");l.default=a},aZJ3:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("mlaT"));let u=o(class{info(a){}warn(a){}error(a){}debug(a){f.default.DEBUG<this.level||typeof a!="string"&&a()}setLogLevel(a){this.level=a}getLogLevel(){return this.level}constructor(a=f.default.OFF){this.level=a}},"NoOpLogger");l.default=u},aZba:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("XCDq"),u=S(h("papz"));let g=o(class Er{statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case u.default.AudioAuthenticationRejected:case u.default.AudioCallAtCapacity:case u.default.AudioInternalServerError:case u.default.AudioServiceUnavailable:case u.default.AudioDisconnected:case u.default.VideoCallAtSourceCapacity:case u.default.SignalingBadRequest:case u.default.SignalingInternalServerError:case u.default.SignalingRequestFailed:case u.default.ICEGatheringTimeoutWorkaround:case u.default.ConnectionHealthReconnect:case u.default.RealtimeApiFailed:case u.default.TaskFailed:case u.default.NoAttendeePresent:case u.default.SignalChannelClosedUnexpectedly:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case u.default.Left:case u.default.AudioJoinedFromAnotherDevice:case u.default.AudioAuthenticationRejected:case u.default.AudioCallAtCapacity:case u.default.MeetingEnded:case u.default.AudioDisconnected:case u.default.TURNCredentialsForbidden:case u.default.SignalingBadRequest:case u.default.SignalingRequestFailed:case u.default.VideoCallAtSourceCapacity:case u.default.RealtimeApiFailed:case u.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case u.default.AudioAuthenticationRejected:case u.default.AudioInternalServerError:case u.default.AudioServiceUnavailable:case u.default.ICEGatheringTimeoutWorkaround:case u.default.SignalingBadRequest:case u.default.SignalingInternalServerError:case u.default.SignalingRequestFailed:case u.default.RealtimeApiFailed:case u.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case u.default.OK:return"Everything is OK so far.";case u.default.Left:return"The attendee left the meeting.";case u.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case u.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case u.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case u.default.MeetingEnded:return"The meeting ended.";case u.default.AudioInternalServerError:case u.default.AudioServiceUnavailable:case u.default.AudioDisconnected:return"The audio connection failed.";case u.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case u.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case u.default.SignalingBadRequest:case u.default.SignalingInternalServerError:case u.default.SignalingRequestFailed:return"The signaling connection failed.";case u.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case u.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case u.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case u.default.TaskFailed:return"The connection failed. See the error message for more details.";case u.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case u.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case u.default.NoAttendeePresent:return"The attendee was not present.";case u.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case u.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case u.default.AudioDisconnectAudio:return"The audio connection failed.";case u.default.SignalChannelClosedUnexpectedly:return"The websocket was closed unexpectedly. This may be due to a network change or backend detected failure.";default:{const s=this._statusCode;throw new Error(`Unhandled case: ${s}`)}}}static fromSignalFrame(s){return s.error&&s.error.status?this.fromSignalingStatus(s.error.status):s.type===f.SdkSignalFrame.Type.AUDIO_STATUS?s.audioStatus?this.fromAudioStatus(s.audioStatus.audioStatus):new Er(u.default.SignalingRequestFailed):s.type===f.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new Er(u.default.AudioVideoWasRemovedFromPrimaryMeeting):new Er(u.default.OK)}static fromAudioStatus(s){switch(s){case 200:return new Er(u.default.OK);case 301:return new Er(u.default.AudioJoinedFromAnotherDevice);case 302:return new Er(u.default.AudioDisconnectAudio);case 403:return new Er(u.default.AudioAuthenticationRejected);case 409:return new Er(u.default.AudioCallAtCapacity);case 410:return new Er(u.default.MeetingEnded);case 411:return new Er(u.default.AudioAttendeeRemoved);case 500:return new Er(u.default.AudioInternalServerError);case 503:return new Er(u.default.AudioServiceUnavailable);default:switch(Math.floor(s/100)){case 2:return new Er(u.default.OK);default:return new Er(u.default.AudioDisconnected)}}}static fromSignalingStatus(s){switch(s){case 206:return new Er(u.default.VideoCallSwitchToViewOnly);case 509:return new Er(u.default.VideoCallAtSourceCapacity);case 403:return new Er(u.default.AudioAuthenticationRejected);case 409:return new Er(u.default.AudioCallAtCapacity);default:switch(Math.floor(s/100)){case 2:return new Er(u.default.OK);case 4:return new Er(u.default.SignalingBadRequest);case 5:return new Er(u.default.SignalingInternalServerError);default:return new Er(u.default.SignalingRequestFailed)}}}constructor(s){this._statusCode=s}},"MeetingSessionStatus");l.default=g},ac3q:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("U9CR")),u=S(h("DJNY"));let g=o(class dc{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return u.default.semverString}static get sdkVersionSemVer(){var s,i,e,t;const n=u.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(s=n==null?void 0:n.groups)===null||s===void 0?void 0:s.major,minor:(i=n==null?void 0:n.groups)===null||i===void 0?void 0:i.minor,patch:(e=n==null?void 0:n.groups)===null||e===void 0?void 0:e.patch,preRelease:(t=n==null?void 0:n.groups)===null||t===void 0?void 0:t.preRelease}}static get buildSHA(){return u.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const s=new f.default;return`${s.name()}-${s.majorVersion()}`}static urlWithVersion(s){const i=new URL(s);return i.searchParams.append(dc.X_AMZN_VERSION,dc.sdkVersion),i.searchParams.append(dc.X_AMZN_USER_AGENT,dc.sdkUserAgentLowResolution),i.toString()}},"Versioning");l.default=g,g.X_AMZN_VERSION="X-Amzn-Version",g.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},aqWb:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"VideoSource");l.default=S},b4Ml:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Sha256=void 0;var S=h("pU0T"),f=h("p72H"),u=h("Yugg"),g=function(){function a(s){this.toHash=new Uint8Array(0),this.secret=s,this.reset()}return o(a,"Sha256"),a.prototype.update=function(s){if(!(0,S.isEmptyData)(s)){var i=(0,S.convertToBuffer)(s),e=new Uint8Array(this.toHash.byteLength+i.byteLength);e.set(this.toHash,0),e.set(i,this.toHash.byteLength),this.toHash=e}},a.prototype.digest=function(){var s=this;return this.key?this.key.then(function(i){return(0,u.locateWindow)().crypto.subtle.sign(f.SHA_256_HMAC_ALGO,i,s.toHash).then(function(e){return new Uint8Array(e)})}):(0,S.isEmptyData)(this.toHash)?Promise.resolve(f.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,u.locateWindow)().crypto.subtle.digest(f.SHA_256_HASH,s.toHash)}).then(function(i){return Promise.resolve(new Uint8Array(i))})},a.prototype.reset=function(){var s=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(i,e){(0,u.locateWindow)().crypto.subtle.importKey("raw",(0,S.convertToBuffer)(s.secret),f.SHA_256_HMAC_ALGO,!1,["sign"]).then(i,e)}),this.key.catch(function(){}))},a}();l.Sha256=g},bBgO:function(j,l){function h(S,f){return j.exports=h=Object.setPrototypeOf?Object.setPrototypeOf.bind():o(function(g,a){return g.__proto__=a,g},"_setPrototypeOf"),j.exports.__esModule=!0,j.exports.default=j.exports,h(S,f)}o(h,"_setPrototypeOf"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},"bQ+R":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{equals(u){return u!==void 0&&this.mid===u.mid&&this.attendeeId===u.attendeeId&&this.streamId===u.streamId&&this.groupId===u.groupId&&this.priority===u.priority&&this.targetBitrateKbps===u.targetBitrateKbps}},"SignalingClientVideoSubscriptionConfiguration");l.default=S},bTau:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("34ho"));let u=o(class Vl{id(){return this._id}base(){return this._id?this._id.split(Vl.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const a=this._id.split(Vl.MODALITY_SEPARATOR);return a.length===2?a[1]:""}hasModality(a){return a!==""&&this.modality()===a}withModality(a){const s=new Vl(this.base()+Vl.MODALITY_SEPARATOR+a);return a===""||this.base()===""||new Vl(s._id).modality()!==a?new Vl(this.base()):s}constructor(a){this._id=a}},"DefaultModality");l.default=u,u.MODALITY_SEPARATOR=f.default.Modality[0],u.MODALITY_CONTENT=f.default.Modality.substr(1)},bVud:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=h("4vb1");S.__exportStar(h("ntEb"),l)},beBF:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"Attendee");l.default=S},bjg3:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClientMetricReportDirection=void 0;var S;(function(f){f[f.UPSTREAM=0]="UPSTREAM",f[f.DOWNSTREAM=1]="DOWNSTREAM"})(S=l.ClientMetricReportDirection||(l.ClientMetricReportDirection={})),l.default=S},c41J:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={ChannelNotFound:"channel_not_found",GlobalRatelimited:"global_ratelimited",Ratelimited:"ratelimited",InternalError:"internal_error"},t=Object(a.a)("megaphone.notifications.list generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"megaphone.notifications.list",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to megaphone.notifications.list
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetchermegaphoneNotificationsListFetcher",description:"megaphone.notifications.list generated fetcher"}},c7k8:function(j,l,h){"use strict";h.d(l,"a",function(){return ai}),h.d(l,"b",function(){return Ar}),h.d(l,"c",function(){return ln}),h.d(l,"d",function(){return Jn}),h.d(l,"k",function(){return qt}),h.d(l,"f",function(){return Sr}),h.d(l,"g",function(){return Zr}),h.d(l,"h",function(){return os}),h.d(l,"i",function(){return Os}),h.d(l,"e",function(){return Oo}),h.d(l,"j",function(){return Po});var S=h("TSeO"),f=h.n(S),u=h("V+x/"),g=h.n(u),a=h("Sh4b"),s=h.n(a),i=h("5i9P"),e=h.n(i),t=h("UrPO"),n=h.n(t),r=h("75SI"),c=h.n(r),p=h("dXzy"),m=h.n(p),d=h("q1tI"),y=h("VCL8"),E=h("FtwJ"),w=h.n(E);function k(ne){var te,Z,A="";if(typeof ne=="string"||typeof ne=="number")A+=ne;else if(typeof ne=="object")if(Array.isArray(ne))for(te=0;te<ne.length;te++)ne[te]&&(Z=k(ne[te]))&&(A&&(A+=" "),A+=Z);else for(te in ne)ne[te]&&(A&&(A+=" "),A+=te);return A}o(k,"clsx_m_r");function V(){for(var ne,te,Z=0,A="";Z<arguments.length;)(ne=arguments[Z++])&&(te=k(ne))&&(A&&(A+=" "),A+=te);return A}o(V,"clsx");var N=V;function F(ne){var te=ne.cellCount,Z=ne.cellSize,A=ne.computeMetadataCallback,Q=ne.computeMetadataCallbackProps,se=ne.nextCellsCount,oe=ne.nextCellSize,Se=ne.nextScrollToIndex,Ie=ne.scrollToIndex,Pe=ne.updateScrollOffsetForScrollToIndex;(te!==se||(typeof Z=="number"||typeof oe=="number")&&Z!==oe)&&(A(Q),Ie>=0&&Ie===Se&&Pe())}o(F,"calculateSizeAndPositionDataAndUpdateScrollOffset");var P=h("sgfj"),B=h.n(P),O=h("n3tL"),R=null,D=null,J=null,X=null,$=null,he=null,Ee=null,ke=null,ve=null,Be=null,pt=null,Ve=null,bt=null,lt=null,mt=null,xt=null,at=null,Mt=null,kt=function(){function ne(te){var Z=te.cellCount,A=te.cellSizeGetter,Q=te.estimatedCellSize;f()(this,ne),m()(this,"_cellSizeAndPositionData",{}),m()(this,"_lastMeasuredIndex",-1),m()(this,"_lastBatchedIndex",-1),m()(this,"_cellCount",void 0),m()(this,"_cellSizeGetter",void 0),m()(this,"_estimatedCellSize",void 0),this._cellSizeGetter=A,this._cellCount=Z,this._estimatedCellSize=Q}return o(ne,"CellSizeAndPositionManager"),g()(ne,[{key:"areOffsetsAdjusted",value:o(function(){return!1},"areOffsetsAdjusted")},{key:"configure",value:o(function(Z){var A=Z.cellCount,Q=Z.estimatedCellSize,se=Z.cellSizeGetter;this._cellCount=A,this._estimatedCellSize=Q,this._cellSizeGetter=se},"configure")},{key:"getCellCount",value:o(function(){return this._cellCount},"getCellCount")},{key:"getEstimatedCellSize",value:o(function(){return this._estimatedCellSize},"getEstimatedCellSize")},{key:"getLastMeasuredIndex",value:o(function(){return this._lastMeasuredIndex},"getLastMeasuredIndex")},{key:"getOffsetAdjustment",value:o(function(){return 0},"getOffsetAdjustment")},{key:"getSizeAndPositionOfCell",value:o(function(Z){if(Z<0||Z>=this._cellCount)throw Error("Requested index ".concat(Z," is outside of range 0..").concat(this._cellCount));if(Z>this._lastMeasuredIndex)for(var A=this.getSizeAndPositionOfLastMeasuredCell(),Q=A.offset+A.size,se=this._lastMeasuredIndex+1;se<=Z;se++){var oe=this._cellSizeGetter({index:se});if(oe===void 0||isNaN(oe))throw Error("Invalid size returned for cell ".concat(se," of value ").concat(oe));oe===null?(this._cellSizeAndPositionData[se]={offset:Q,size:0},this._lastBatchedIndex=Z):(this._cellSizeAndPositionData[se]={offset:Q,size:oe},Q+=oe,this._lastMeasuredIndex=Z)}return this._cellSizeAndPositionData[Z]},"getSizeAndPositionOfCell")},{key:"getSizeAndPositionOfLastMeasuredCell",value:o(function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}},"getSizeAndPositionOfLastMeasuredCell")},{key:"getTotalSize",value:o(function(){var Z=this.getSizeAndPositionOfLastMeasuredCell(),A=Z.offset+Z.size,Q=this._cellCount-this._lastMeasuredIndex-1,se=Q*this._estimatedCellSize;return A+se},"getTotalSize")},{key:"getUpdatedOffsetForIndex",value:o(function(Z){var A=Z.align,Q=A===void 0?"auto":A,se=Z.containerSize,oe=Z.currentOffset,Se=Z.targetIndex;if(se<=0)return 0;var Ie=this.getSizeAndPositionOfCell(Se),Pe=Ie.offset,De=Pe-se+Ie.size,Le;switch(Q){case"start":Le=Pe;break;case"end":Le=De;break;case"center":Le=Pe-(se-Ie.size)/2;break;default:Le=Math.max(De,Math.min(Pe,oe));break}var je=this.getTotalSize();return Math.max(0,Math.min(je-se,Le))},"getUpdatedOffsetForIndex")},{key:"getVisibleCellRange",value:o(function(Z){var A=Z.containerSize,Q=Z.offset,se=this.getTotalSize();if(se===0)return{};var oe=Q+A,Se=this._findNearestCell(Q),Ie=this.getSizeAndPositionOfCell(Se);Q=Ie.offset+Ie.size;for(var Pe=Se;Q<oe&&Pe<this._cellCount-1;)Pe++,Q+=this.getSizeAndPositionOfCell(Pe).size;return{start:Se,stop:Pe}},"getVisibleCellRange")},{key:"resetCell",value:o(function(Z){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,Z-1)},"resetCell")},{key:"_binarySearch",value:o(function(Z,A,Q){for(;A<=Z;){var se=A+Math.floor((Z-A)/2),oe=this.getSizeAndPositionOfCell(se).offset;if(oe===Q)return se;oe<Q?A=se+1:oe>Q&&(Z=se-1)}return A>0?A-1:0},"_binarySearch")},{key:"_exponentialSearch",value:o(function(Z,A){for(var Q=1;Z<this._cellCount&&this.getSizeAndPositionOfCell(Z).offset<A;)Z+=Q,Q*=2;return this._binarySearch(Math.min(Z,this._cellCount-1),Math.floor(Z/2),A)},"_exponentialSearch")},{key:"_findNearestCell",value:o(function(Z){if(isNaN(Z))throw Error("Invalid offset ".concat(Z," specified"));Z=Math.max(0,Z);var A=this.getSizeAndPositionOfLastMeasuredCell(),Q=Math.max(0,this._lastMeasuredIndex);return A.offset>=Z?this._binarySearch(Q,0,Z):this._exponentialSearch(Q,Z)},"_findNearestCell")}]),ne}(),Xe=15e5,on=16777100,Wn=o(function(){return typeof window<"u"},"isBrowser"),_n=o(function(){return!!window.chrome},"isChrome"),On=o(function(){return Wn()&&_n()?on:Xe},"getMaxElementSize"),Xn=function(){function ne(te){var Z=te.maxScrollSize,A=Z===void 0?On():Z,Q=B()(te,["maxScrollSize"]);f()(this,ne),m()(this,"_cellSizeAndPositionManager",void 0),m()(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new kt(Q),this._maxScrollSize=A}return o(ne,"ScalingCellSizeAndPositionManager"),g()(ne,[{key:"areOffsetsAdjusted",value:o(function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize},"areOffsetsAdjusted")},{key:"configure",value:o(function(Z){this._cellSizeAndPositionManager.configure(Z)},"configure")},{key:"getCellCount",value:o(function(){return this._cellSizeAndPositionManager.getCellCount()},"getCellCount")},{key:"getEstimatedCellSize",value:o(function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()},"getEstimatedCellSize")},{key:"getLastMeasuredIndex",value:o(function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()},"getLastMeasuredIndex")},{key:"getOffsetAdjustment",value:o(function(Z){var A=Z.containerSize,Q=Z.offset,se=this._cellSizeAndPositionManager.getTotalSize(),oe=this.getTotalSize(),Se=this._getOffsetPercentage({containerSize:A,offset:Q,totalSize:oe});return Math.round(Se*(oe-se))},"getOffsetAdjustment")},{key:"getSizeAndPositionOfCell",value:o(function(Z){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(Z)},"getSizeAndPositionOfCell")},{key:"getSizeAndPositionOfLastMeasuredCell",value:o(function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()},"getSizeAndPositionOfLastMeasuredCell")},{key:"getTotalSize",value:o(function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())},"getTotalSize")},{key:"getUpdatedOffsetForIndex",value:o(function(Z){var A=Z.align,Q=A===void 0?"auto":A,se=Z.containerSize,oe=Z.currentOffset,Se=Z.targetIndex;oe=this._safeOffsetToOffset({containerSize:se,offset:oe});var Ie=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:Q,containerSize:se,currentOffset:oe,targetIndex:Se});return this._offsetToSafeOffset({containerSize:se,offset:Ie})},"getUpdatedOffsetForIndex")},{key:"getVisibleCellRange",value:o(function(Z){var A=Z.containerSize,Q=Z.offset;return Q=this._safeOffsetToOffset({containerSize:A,offset:Q}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:A,offset:Q})},"getVisibleCellRange")},{key:"resetCell",value:o(function(Z){this._cellSizeAndPositionManager.resetCell(Z)},"resetCell")},{key:"_getOffsetPercentage",value:o(function(Z){var A=Z.containerSize,Q=Z.offset,se=Z.totalSize;return se<=A?0:Q/(se-A)},"_getOffsetPercentage")},{key:"_offsetToSafeOffset",value:o(function(Z){var A=Z.containerSize,Q=Z.offset,se=this._cellSizeAndPositionManager.getTotalSize(),oe=this.getTotalSize();if(se===oe)return Q;var Se=this._getOffsetPercentage({containerSize:A,offset:Q,totalSize:se});return Math.round(Se*(oe-A))},"_offsetToSafeOffset")},{key:"_safeOffsetToOffset",value:o(function(Z){var A=Z.containerSize,Q=Z.offset,se=this._cellSizeAndPositionManager.getTotalSize(),oe=this.getTotalSize();if(se===oe)return Q;var Se=this._getOffsetPercentage({containerSize:A,offset:Q,totalSize:oe});return Math.round(Se*(se-A))},"_safeOffsetToOffset")}]),ne}();function ci(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,te={};return function(Z){var A=Z.callback,Q=Z.indices,se=Object.keys(Q),oe=!ne||se.every(function(Ie){var Pe=Q[Ie];return Array.isArray(Pe)?Pe.length>0:Pe>=0}),Se=se.length!==Object.keys(te).length||se.some(function(Ie){var Pe=te[Ie],De=Q[Ie];return Array.isArray(De)?Pe.join(",")!==De.join(","):Pe!==De});te=Q,oe&&Se&&A(Q)}}o(ci,"createCallbackMemoizer");var Qn=-1,Kn=1,Ki="horizontal",ui="vertical";function Fi(ne){var te=ne.cellCount,Z=ne.overscanCellsCount,A=ne.scrollDirection,Q=ne.startIndex,se=ne.stopIndex;return A===Kn?{overscanStartIndex:Math.max(0,Q),overscanStopIndex:Math.min(te-1,se+Z)}:{overscanStartIndex:Math.max(0,Q-Z),overscanStopIndex:Math.min(te-1,se)}}o(Fi,"defaultOverscanIndicesGetter");function zi(ne){var te=ne.cellSize,Z=ne.cellSizeAndPositionManager,A=ne.previousCellsCount,Q=ne.previousCellSize,se=ne.previousScrollToAlignment,oe=ne.previousScrollToIndex,Se=ne.previousSize,Ie=ne.scrollOffset,Pe=ne.scrollToAlignment,De=ne.scrollToIndex,Le=ne.size,je=ne.sizeJustIncreasedFromZero,Je=ne.updateScrollIndexCallback,ct=Z.getCellCount(),Qe=De>=0&&De<ct,Yt=Le!==Se||je||!Q||typeof te=="number"&&te!==Q;Qe&&(Yt||Pe!==se||De!==oe)?Je(De):!Qe&&ct>0&&(Le<Se||ct<A)&&Ie>Z.getTotalSize()-Le&&Je(ct-1)}o(zi,"updateScrollIndexHelper");function qt(ne){for(var te=ne.cellCache,Z=ne.cellRenderer,A=ne.columnSizeAndPositionManager,Q=ne.columnStartIndex,se=ne.columnStopIndex,oe=ne.deferredMeasurementCache,Se=ne.horizontalOffsetAdjustment,Ie=ne.isScrolling,Pe=ne.isScrollingOptOut,De=ne.parent,Le=ne.rowSizeAndPositionManager,je=ne.rowStartIndex,Je=ne.rowStopIndex,ct=ne.styleCache,Qe=ne.verticalOffsetAdjustment,Yt=ne.visibleColumnIndices,nn=ne.visibleRowIndices,Cn=[],Rn=A.areOffsetsAdjusted()||Le.areOffsetsAdjusted(),ni=!Ie&&!Rn,$n=je;$n<=Je;$n++)for(var ri=Le.getSizeAndPositionOfCell($n),ii=Q;ii<=se;ii++){var wi=A.getSizeAndPositionOfCell(ii),ki=ii>=Yt.start&&ii<=Yt.stop&&$n>=nn.start&&$n<=nn.stop,di="".concat($n,"-").concat(ii),yi=void 0;ni&&ct[di]?yi=ct[di]:oe&&!oe.has($n,ii)?yi={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(yi={height:ri.size,left:wi.offset+Se,position:"absolute",top:ri.offset+Qe,width:wi.size},ct[di]=yi);var or={columnIndex:ii,isScrolling:Ie,isVisible:ki,key:di,parent:De,rowIndex:$n,style:yi},Ri=void 0;(Pe||Ie)&&!Se&&!Qe?(te[di]||(te[di]=Z(or)),Ri=te[di]):Ri=Z(or),!(Ri==null||Ri===!1)&&Cn.push(Ri)}return Cn}o(qt,"defaultCellRangeRenderer");function Tn(ne,te){}o(Tn,"warnAboutMissingStyle");var vn=!!(typeof window<"u"&&window.document&&window.document.createElement),Ot;function bn(ne){if((!Ot&&Ot!==0||ne)&&vn){var te=document.createElement("div");te.style.position="absolute",te.style.top="-9999px",te.style.width="50px",te.style.height="50px",te.style.overflow="scroll",document.body.appendChild(te),Ot=te.offsetWidth-te.clientWidth,document.body.removeChild(te)}return Ot}o(bn,"scrollbarSize_scrollbarSize");var Lt;typeof window<"u"?Lt=window:typeof self<"u"?Lt=self:Lt={};var jn=Lt.requestAnimationFrame||Lt.webkitRequestAnimationFrame||Lt.mozRequestAnimationFrame||Lt.oRequestAnimationFrame||Lt.msRequestAnimationFrame||function(ne){return Lt.setTimeout(ne,1e3/60)},Xi=Lt.cancelAnimationFrame||Lt.webkitCancelAnimationFrame||Lt.mozCancelAnimationFrame||Lt.oCancelAnimationFrame||Lt.msCancelAnimationFrame||function(ne){Lt.clearTimeout(ne)},Gn=jn,Ti=Xi,Tr=null,er=o(function(te){return Ti(te.id)},"cancelAnimationTimeout"),cr=o(function(te,Z){var A;Promise.resolve().then(function(){A=Date.now()});var Q=o(function oe(){Date.now()-A>=Z?te.call():se.id=Gn(oe)},"timeout"),se={id:Gn(Q)};return se},"requestAnimationTimeout"),fi,Wi;function Zn(ne,te){var Z=Object.keys(ne);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(ne);te&&(A=A.filter(function(Q){return Object.getOwnPropertyDescriptor(ne,Q).enumerable})),Z.push.apply(Z,A)}return Z}o(Zn,"ownKeys");function Re(ne){for(var te=1;te<arguments.length;te++){var Z=arguments[te]!=null?arguments[te]:{};te%2?Zn(Z,!0).forEach(function(A){m()(ne,A,Z[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Z)):Zn(Z).forEach(function(A){Object.defineProperty(ne,A,Object.getOwnPropertyDescriptor(Z,A))})}return ne}o(Re,"_objectSpread");var Ce=150,_e={OBSERVED:"observed",REQUESTED:"requested"},et=o(function(){return null},"renderNull"),tt=(Wi=fi=function(ne){c()(te,ne);function te(Z){var A;f()(this,te),A=s()(this,e()(te).call(this,Z)),m()(n()(A),"_onGridRenderedMemoizer",ci()),m()(n()(A),"_onScrollMemoizer",ci(!1)),m()(n()(A),"_deferredInvalidateColumnIndex",null),m()(n()(A),"_deferredInvalidateRowIndex",null),m()(n()(A),"_recomputeScrollLeftFlag",!1),m()(n()(A),"_recomputeScrollTopFlag",!1),m()(n()(A),"_horizontalScrollBarSize",0),m()(n()(A),"_verticalScrollBarSize",0),m()(n()(A),"_scrollbarPresenceChanged",!1),m()(n()(A),"_scrollingContainer",void 0),m()(n()(A),"_childrenToDisplay",void 0),m()(n()(A),"_columnStartIndex",void 0),m()(n()(A),"_columnStopIndex",void 0),m()(n()(A),"_rowStartIndex",void 0),m()(n()(A),"_rowStopIndex",void 0),m()(n()(A),"_renderedColumnStartIndex",0),m()(n()(A),"_renderedColumnStopIndex",0),m()(n()(A),"_renderedRowStartIndex",0),m()(n()(A),"_renderedRowStopIndex",0),m()(n()(A),"_initialScrollTop",void 0),m()(n()(A),"_initialScrollLeft",void 0),m()(n()(A),"_disablePointerEventsTimeoutId",void 0),m()(n()(A),"_styleCache",{}),m()(n()(A),"_cellCache",{}),m()(n()(A),"_debounceScrollEndedCallback",function(){A._disablePointerEventsTimeoutId=null,A.setState({isScrolling:!1,needToResetStyleCache:!1})}),m()(n()(A),"_invokeOnGridRenderedHelper",function(){var oe=A.props.onSectionRendered;A._onGridRenderedMemoizer({callback:oe,indices:{columnOverscanStartIndex:A._columnStartIndex,columnOverscanStopIndex:A._columnStopIndex,columnStartIndex:A._renderedColumnStartIndex,columnStopIndex:A._renderedColumnStopIndex,rowOverscanStartIndex:A._rowStartIndex,rowOverscanStopIndex:A._rowStopIndex,rowStartIndex:A._renderedRowStartIndex,rowStopIndex:A._renderedRowStopIndex}})}),m()(n()(A),"_setScrollingContainerRef",function(oe){A._scrollingContainer=oe}),m()(n()(A),"_onScroll",function(oe){oe.target===A._scrollingContainer&&A.handleScrollEvent(oe.target)});var Q=new Xn({cellCount:Z.columnCount,cellSizeGetter:o(function(Se){return te._wrapSizeGetter(Z.columnWidth)(Se)},"cellSizeGetter"),estimatedCellSize:te._getEstimatedColumnSize(Z)}),se=new Xn({cellCount:Z.rowCount,cellSizeGetter:o(function(Se){return te._wrapSizeGetter(Z.rowHeight)(Se)},"cellSizeGetter"),estimatedCellSize:te._getEstimatedRowSize(Z)});return A.state={instanceProps:{columnSizeAndPositionManager:Q,rowSizeAndPositionManager:se,prevColumnWidth:Z.columnWidth,prevRowHeight:Z.rowHeight,prevColumnCount:Z.columnCount,prevRowCount:Z.rowCount,prevIsScrolling:Z.isScrolling===!0,prevScrollToColumn:Z.scrollToColumn,prevScrollToRow:Z.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Kn,scrollDirectionVertical:Kn,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},Z.scrollToRow>0&&(A._initialScrollTop=A._getCalculatedScrollTop(Z,A.state)),Z.scrollToColumn>0&&(A._initialScrollLeft=A._getCalculatedScrollLeft(Z,A.state)),A}return o(te,"Grid"),g()(te,[{key:"getOffsetForCell",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=A.alignment,se=Q===void 0?this.props.scrollToAlignment:Q,oe=A.columnIndex,Se=oe===void 0?this.props.scrollToColumn:oe,Ie=A.rowIndex,Pe=Ie===void 0?this.props.scrollToRow:Ie,De=Re({},this.props,{scrollToAlignment:se,scrollToColumn:Se,scrollToRow:Pe});return{scrollLeft:this._getCalculatedScrollLeft(De),scrollTop:this._getCalculatedScrollTop(De)}},"getOffsetForCell")},{key:"getTotalRowsHeight",value:o(function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()},"getTotalRowsHeight")},{key:"getTotalColumnsWidth",value:o(function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()},"getTotalColumnsWidth")},{key:"handleScrollEvent",value:o(function(A){var Q=A.scrollLeft,se=Q===void 0?0:Q,oe=A.scrollTop,Se=oe===void 0?0:oe;if(!(Se<0)){this._debounceScrollEnded();var Ie=this.props,Pe=Ie.autoHeight,De=Ie.autoWidth,Le=Ie.height,je=Ie.width,Je=this.state.instanceProps,ct=Je.scrollbarSize,Qe=Je.rowSizeAndPositionManager.getTotalSize(),Yt=Je.columnSizeAndPositionManager.getTotalSize(),nn=Math.min(Math.max(0,Yt-je+ct),se),Cn=Math.min(Math.max(0,Qe-Le+ct),Se);if(this.state.scrollLeft!==nn||this.state.scrollTop!==Cn){var Rn=nn!==this.state.scrollLeft?nn>this.state.scrollLeft?Kn:Qn:this.state.scrollDirectionHorizontal,ni=Cn!==this.state.scrollTop?Cn>this.state.scrollTop?Kn:Qn:this.state.scrollDirectionVertical,$n={isScrolling:!0,scrollDirectionHorizontal:Rn,scrollDirectionVertical:ni,scrollPositionChangeReason:_e.OBSERVED};Pe||($n.scrollTop=Cn),De||($n.scrollLeft=nn),$n.needToResetStyleCache=!1,this.setState($n)}this._invokeOnScrollMemoizer({scrollLeft:nn,scrollTop:Cn,totalColumnsWidth:Yt,totalRowsHeight:Qe})}},"handleScrollEvent")},{key:"invalidateCellSizeAfterRender",value:o(function(A){var Q=A.columnIndex,se=A.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,Q):Q,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,se):se},"invalidateCellSizeAfterRender")},{key:"measureAllCells",value:o(function(){var A=this.props,Q=A.columnCount,se=A.rowCount,oe=this.state.instanceProps;oe.columnSizeAndPositionManager.getSizeAndPositionOfCell(Q-1),oe.rowSizeAndPositionManager.getSizeAndPositionOfCell(se-1)},"measureAllCells")},{key:"recomputeGridSize",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=A.columnIndex,se=Q===void 0?0:Q,oe=A.rowIndex,Se=oe===void 0?0:oe,Ie=this.props,Pe=Ie.scrollToColumn,De=Ie.scrollToRow,Le=this.state.instanceProps;Le.columnSizeAndPositionManager.resetCell(se),Le.rowSizeAndPositionManager.resetCell(Se),this._recomputeScrollLeftFlag=Pe>=0&&(this.state.scrollDirectionHorizontal===Kn?se<=Pe:se>=Pe),this._recomputeScrollTopFlag=De>=0&&(this.state.scrollDirectionVertical===Kn?Se<=De:Se>=De),this._styleCache={},this._cellCache={},this.forceUpdate()},"recomputeGridSize")},{key:"scrollToCell",value:o(function(A){var Q=A.columnIndex,se=A.rowIndex,oe=this.props.columnCount,Se=this.props;oe>1&&Q!==void 0&&this._updateScrollLeftForScrollToColumn(Re({},Se,{scrollToColumn:Q})),se!==void 0&&this._updateScrollTopForScrollToRow(Re({},Se,{scrollToRow:se}))},"scrollToCell")},{key:"componentDidMount",value:o(function(){var A=this.props,Q=A.getScrollbarSize,se=A.height,oe=A.scrollLeft,Se=A.scrollToColumn,Ie=A.scrollTop,Pe=A.scrollToRow,De=A.width,Le=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),Le.scrollbarSizeMeasured||this.setState(function(ct){var Qe=Re({},ct,{needToResetStyleCache:!1});return Qe.instanceProps.scrollbarSize=Q(),Qe.instanceProps.scrollbarSizeMeasured=!0,Qe}),typeof oe=="number"&&oe>=0||typeof Ie=="number"&&Ie>=0){var je=te._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:oe,scrollTop:Ie});je&&(je.needToResetStyleCache=!1,this.setState(je))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var Je=se>0&&De>0;Se>=0&&Je&&this._updateScrollLeftForScrollToColumn(),Pe>=0&&Je&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:oe||0,scrollTop:Ie||0,totalColumnsWidth:Le.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:Le.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(A,Q){var se=this,oe=this.props,Se=oe.autoHeight,Ie=oe.autoWidth,Pe=oe.columnCount,De=oe.height,Le=oe.rowCount,je=oe.scrollToAlignment,Je=oe.scrollToColumn,ct=oe.scrollToRow,Qe=oe.width,Yt=this.state,nn=Yt.scrollLeft,Cn=Yt.scrollPositionChangeReason,Rn=Yt.scrollTop,ni=Yt.instanceProps;this._handleInvalidatedGridSize();var $n=Pe>0&&A.columnCount===0||Le>0&&A.rowCount===0;Cn===_e.REQUESTED&&(!Ie&&nn>=0&&(nn!==this._scrollingContainer.scrollLeft||$n)&&(this._scrollingContainer.scrollLeft=nn),!Se&&Rn>=0&&(Rn!==this._scrollingContainer.scrollTop||$n)&&(this._scrollingContainer.scrollTop=Rn));var ri=(A.width===0||A.height===0)&&De>0&&Qe>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):zi({cellSizeAndPositionManager:ni.columnSizeAndPositionManager,previousCellsCount:A.columnCount,previousCellSize:A.columnWidth,previousScrollToAlignment:A.scrollToAlignment,previousScrollToIndex:A.scrollToColumn,previousSize:A.width,scrollOffset:nn,scrollToAlignment:je,scrollToIndex:Je,size:Qe,sizeJustIncreasedFromZero:ri,updateScrollIndexCallback:o(function(){return se._updateScrollLeftForScrollToColumn(se.props)},"updateScrollIndexCallback")}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):zi({cellSizeAndPositionManager:ni.rowSizeAndPositionManager,previousCellsCount:A.rowCount,previousCellSize:A.rowHeight,previousScrollToAlignment:A.scrollToAlignment,previousScrollToIndex:A.scrollToRow,previousSize:A.height,scrollOffset:Rn,scrollToAlignment:je,scrollToIndex:ct,size:De,sizeJustIncreasedFromZero:ri,updateScrollIndexCallback:o(function(){return se._updateScrollTopForScrollToRow(se.props)},"updateScrollIndexCallback")}),this._invokeOnGridRenderedHelper(),nn!==Q.scrollLeft||Rn!==Q.scrollTop){var ii=ni.rowSizeAndPositionManager.getTotalSize(),wi=ni.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:nn,scrollTop:Rn,totalColumnsWidth:wi,totalRowsHeight:ii})}this._maybeCallOnScrollbarPresenceChange()},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){this._disablePointerEventsTimeoutId&&er(this._disablePointerEventsTimeoutId)},"componentWillUnmount")},{key:"render",value:o(function(){var A=this.props,Q=A.autoContainerWidth,se=A.autoHeight,oe=A.autoWidth,Se=A.className,Ie=A.containerProps,Pe=A.containerRole,De=A.containerStyle,Le=A.height,je=A.id,Je=A.noContentRenderer,ct=A.role,Qe=A.style,Yt=A.tabIndex,nn=A.width,Cn=this.state,Rn=Cn.instanceProps,ni=Cn.needToResetStyleCache,$n=this._isScrolling(),ri={boxSizing:"border-box",direction:"ltr",height:se?"auto":Le,position:"relative",width:oe?"auto":nn,WebkitOverflowScrolling:"touch",willChange:"transform"};ni&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var ii=Rn.columnSizeAndPositionManager.getTotalSize(),wi=Rn.rowSizeAndPositionManager.getTotalSize(),ki=wi>Le?Rn.scrollbarSize:0,di=ii>nn?Rn.scrollbarSize:0;(di!==this._horizontalScrollBarSize||ki!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=di,this._verticalScrollBarSize=ki,this._scrollbarPresenceChanged=!0),ri.overflowX=ii+ki<=nn?"hidden":"auto",ri.overflowY=wi+di<=Le?"hidden":"auto";var yi=this._childrenToDisplay,or=yi.length===0&&Le>0&&nn>0;return d.createElement("div",w()({ref:this._setScrollingContainerRef},Ie,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:N("ReactVirtualized__Grid",Se),id:je,onScroll:this._onScroll,role:ct,style:Re({},ri,{},Qe),tabIndex:Yt}),yi.length>0&&d.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:Pe,style:Re({width:Q?"auto":ii,height:wi,maxWidth:ii,maxHeight:wi,overflow:"hidden",pointerEvents:$n?"none":"",position:"relative"},De)},yi),or&&Je())},"render")},{key:"_calculateChildrenToRender",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,se=A.cellRenderer,oe=A.cellRangeRenderer,Se=A.columnCount,Ie=A.deferredMeasurementCache,Pe=A.height,De=A.overscanColumnCount,Le=A.overscanIndicesGetter,je=A.overscanRowCount,Je=A.rowCount,ct=A.width,Qe=A.isScrollingOptOut,Yt=Q.scrollDirectionHorizontal,nn=Q.scrollDirectionVertical,Cn=Q.instanceProps,Rn=this._initialScrollTop>0?this._initialScrollTop:Q.scrollTop,ni=this._initialScrollLeft>0?this._initialScrollLeft:Q.scrollLeft,$n=this._isScrolling(A,Q);if(this._childrenToDisplay=[],Pe>0&&ct>0){var ri=Cn.columnSizeAndPositionManager.getVisibleCellRange({containerSize:ct,offset:ni}),ii=Cn.rowSizeAndPositionManager.getVisibleCellRange({containerSize:Pe,offset:Rn}),wi=Cn.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:ct,offset:ni}),ki=Cn.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:Pe,offset:Rn});this._renderedColumnStartIndex=ri.start,this._renderedColumnStopIndex=ri.stop,this._renderedRowStartIndex=ii.start,this._renderedRowStopIndex=ii.stop;var di=Le({direction:"horizontal",cellCount:Se,overscanCellsCount:De,scrollDirection:Yt,startIndex:typeof ri.start=="number"?ri.start:0,stopIndex:typeof ri.stop=="number"?ri.stop:-1}),yi=Le({direction:"vertical",cellCount:Je,overscanCellsCount:je,scrollDirection:nn,startIndex:typeof ii.start=="number"?ii.start:0,stopIndex:typeof ii.stop=="number"?ii.stop:-1}),or=di.overscanStartIndex,Ri=di.overscanStopIndex,Gi=yi.overscanStartIndex,Gr=yi.overscanStopIndex;if(Ie){if(!Ie.hasFixedHeight()){for(var mo=Gi;mo<=Gr;mo++)if(!Ie.has(mo,0)){or=0,Ri=Se-1;break}}if(!Ie.hasFixedWidth()){for(var yr=or;yr<=Ri;yr++)if(!Ie.has(0,yr)){Gi=0,Gr=Je-1;break}}}this._childrenToDisplay=oe({cellCache:this._cellCache,cellRenderer:se,columnSizeAndPositionManager:Cn.columnSizeAndPositionManager,columnStartIndex:or,columnStopIndex:Ri,deferredMeasurementCache:Ie,horizontalOffsetAdjustment:wi,isScrolling:$n,isScrollingOptOut:Qe,parent:this,rowSizeAndPositionManager:Cn.rowSizeAndPositionManager,rowStartIndex:Gi,rowStopIndex:Gr,scrollLeft:ni,scrollTop:Rn,styleCache:this._styleCache,verticalOffsetAdjustment:ki,visibleColumnIndices:ri,visibleRowIndices:ii}),this._columnStartIndex=or,this._columnStopIndex=Ri,this._rowStartIndex=Gi,this._rowStopIndex=Gr}},"_calculateChildrenToRender")},{key:"_debounceScrollEnded",value:o(function(){var A=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&er(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=cr(this._debounceScrollEndedCallback,A)},"_debounceScrollEnded")},{key:"_handleInvalidatedGridSize",value:o(function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var A=this._deferredInvalidateColumnIndex,Q=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:A,rowIndex:Q})}},"_handleInvalidatedGridSize")},{key:"_invokeOnScrollMemoizer",value:o(function(A){var Q=this,se=A.scrollLeft,oe=A.scrollTop,Se=A.totalColumnsWidth,Ie=A.totalRowsHeight;this._onScrollMemoizer({callback:o(function(De){var Le=De.scrollLeft,je=De.scrollTop,Je=Q.props,ct=Je.height,Qe=Je.onScroll,Yt=Je.width;Qe({clientHeight:ct,clientWidth:Yt,scrollHeight:Ie,scrollLeft:Le,scrollTop:je,scrollWidth:Se})},"callback"),indices:{scrollLeft:se,scrollTop:oe}})},"_invokeOnScrollMemoizer")},{key:"_isScrolling",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(A,"isScrolling")?Boolean(A.isScrolling):Boolean(Q.isScrolling)},"_isScrolling")},{key:"_maybeCallOnScrollbarPresenceChange",value:o(function(){if(this._scrollbarPresenceChanged){var A=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,A({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}},"_maybeCallOnScrollbarPresenceChange")},{key:"scrollToPosition",value:o(function(A){var Q=A.scrollLeft,se=A.scrollTop,oe=te._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:Q,scrollTop:se});oe&&(oe.needToResetStyleCache=!1,this.setState(oe))},"scrollToPosition")},{key:"_getCalculatedScrollLeft",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return te._getCalculatedScrollLeft(A,Q)},"_getCalculatedScrollLeft")},{key:"_updateScrollLeftForScrollToColumn",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,se=te._getScrollLeftForScrollToColumnStateUpdate(A,Q);se&&(se.needToResetStyleCache=!1,this.setState(se))},"_updateScrollLeftForScrollToColumn")},{key:"_getCalculatedScrollTop",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return te._getCalculatedScrollTop(A,Q)},"_getCalculatedScrollTop")},{key:"_resetStyleCache",value:o(function(){var A=this._styleCache,Q=this._cellCache,se=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var oe=this._rowStartIndex;oe<=this._rowStopIndex;oe++)for(var Se=this._columnStartIndex;Se<=this._columnStopIndex;Se++){var Ie="".concat(oe,"-").concat(Se);this._styleCache[Ie]=A[Ie],se&&(this._cellCache[Ie]=Q[Ie])}},"_resetStyleCache")},{key:"_updateScrollTopForScrollToRow",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,se=te._getScrollTopForScrollToRowStateUpdate(A,Q);se&&(se.needToResetStyleCache=!1,this.setState(se))},"_updateScrollTopForScrollToRow")}],[{key:"getDerivedStateFromProps",value:o(function(A,Q){var se={};A.columnCount===0&&Q.scrollLeft!==0||A.rowCount===0&&Q.scrollTop!==0?(se.scrollLeft=0,se.scrollTop=0):(A.scrollLeft!==Q.scrollLeft&&A.scrollToColumn<0||A.scrollTop!==Q.scrollTop&&A.scrollToRow<0)&&Object.assign(se,te._getScrollToPositionStateUpdate({prevState:Q,scrollLeft:A.scrollLeft,scrollTop:A.scrollTop}));var oe=Q.instanceProps;se.needToResetStyleCache=!1,(A.columnWidth!==oe.prevColumnWidth||A.rowHeight!==oe.prevRowHeight)&&(se.needToResetStyleCache=!0),oe.columnSizeAndPositionManager.configure({cellCount:A.columnCount,estimatedCellSize:te._getEstimatedColumnSize(A),cellSizeGetter:te._wrapSizeGetter(A.columnWidth)}),oe.rowSizeAndPositionManager.configure({cellCount:A.rowCount,estimatedCellSize:te._getEstimatedRowSize(A),cellSizeGetter:te._wrapSizeGetter(A.rowHeight)}),(oe.prevColumnCount===0||oe.prevRowCount===0)&&(oe.prevColumnCount=0,oe.prevRowCount=0),A.autoHeight&&A.isScrolling===!1&&oe.prevIsScrolling===!0&&Object.assign(se,{isScrolling:!1});var Se,Ie;return F({cellCount:oe.prevColumnCount,cellSize:typeof oe.prevColumnWidth=="number"?oe.prevColumnWidth:null,computeMetadataCallback:o(function(){return oe.columnSizeAndPositionManager.resetCell(0)},"computeMetadataCallback"),computeMetadataCallbackProps:A,nextCellsCount:A.columnCount,nextCellSize:typeof A.columnWidth=="number"?A.columnWidth:null,nextScrollToIndex:A.scrollToColumn,scrollToIndex:oe.prevScrollToColumn,updateScrollOffsetForScrollToIndex:o(function(){Se=te._getScrollLeftForScrollToColumnStateUpdate(A,Q)},"updateScrollOffsetForScrollToIndex")}),F({cellCount:oe.prevRowCount,cellSize:typeof oe.prevRowHeight=="number"?oe.prevRowHeight:null,computeMetadataCallback:o(function(){return oe.rowSizeAndPositionManager.resetCell(0)},"computeMetadataCallback"),computeMetadataCallbackProps:A,nextCellsCount:A.rowCount,nextCellSize:typeof A.rowHeight=="number"?A.rowHeight:null,nextScrollToIndex:A.scrollToRow,scrollToIndex:oe.prevScrollToRow,updateScrollOffsetForScrollToIndex:o(function(){Ie=te._getScrollTopForScrollToRowStateUpdate(A,Q)},"updateScrollOffsetForScrollToIndex")}),oe.prevColumnCount=A.columnCount,oe.prevColumnWidth=A.columnWidth,oe.prevIsScrolling=A.isScrolling===!0,oe.prevRowCount=A.rowCount,oe.prevRowHeight=A.rowHeight,oe.prevScrollToColumn=A.scrollToColumn,oe.prevScrollToRow=A.scrollToRow,oe.scrollbarSize=A.getScrollbarSize(),oe.scrollbarSize===void 0?(oe.scrollbarSizeMeasured=!1,oe.scrollbarSize=0):oe.scrollbarSizeMeasured=!0,se.instanceProps=oe,Re({},se,{},Se,{},Ie)},"getDerivedStateFromProps")},{key:"_getEstimatedColumnSize",value:o(function(A){return typeof A.columnWidth=="number"?A.columnWidth:A.estimatedColumnSize},"_getEstimatedColumnSize")},{key:"_getEstimatedRowSize",value:o(function(A){return typeof A.rowHeight=="number"?A.rowHeight:A.estimatedRowSize},"_getEstimatedRowSize")},{key:"_getScrollToPositionStateUpdate",value:o(function(A){var Q=A.prevState,se=A.scrollLeft,oe=A.scrollTop,Se={scrollPositionChangeReason:_e.REQUESTED};return typeof se=="number"&&se>=0&&(Se.scrollDirectionHorizontal=se>Q.scrollLeft?Kn:Qn,Se.scrollLeft=se),typeof oe=="number"&&oe>=0&&(Se.scrollDirectionVertical=oe>Q.scrollTop?Kn:Qn,Se.scrollTop=oe),typeof se=="number"&&se>=0&&se!==Q.scrollLeft||typeof oe=="number"&&oe>=0&&oe!==Q.scrollTop?Se:{}},"_getScrollToPositionStateUpdate")},{key:"_wrapSizeGetter",value:o(function(A){return typeof A=="function"?A:function(){return A}},"_wrapSizeGetter")},{key:"_getCalculatedScrollLeft",value:o(function(A,Q){var se=A.columnCount,oe=A.height,Se=A.scrollToAlignment,Ie=A.scrollToColumn,Pe=A.width,De=Q.scrollLeft,Le=Q.instanceProps;if(se>0){var je=se-1,Je=Ie<0?je:Math.min(je,Ie),ct=Le.rowSizeAndPositionManager.getTotalSize(),Qe=Le.scrollbarSizeMeasured&&ct>oe?Le.scrollbarSize:0;return Le.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:Se,containerSize:Pe-Qe,currentOffset:De,targetIndex:Je})}return 0},"_getCalculatedScrollLeft")},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:o(function(A,Q){var se=Q.scrollLeft,oe=te._getCalculatedScrollLeft(A,Q);return typeof oe=="number"&&oe>=0&&se!==oe?te._getScrollToPositionStateUpdate({prevState:Q,scrollLeft:oe,scrollTop:-1}):{}},"_getScrollLeftForScrollToColumnStateUpdate")},{key:"_getCalculatedScrollTop",value:o(function(A,Q){var se=A.height,oe=A.rowCount,Se=A.scrollToAlignment,Ie=A.scrollToRow,Pe=A.width,De=Q.scrollTop,Le=Q.instanceProps;if(oe>0){var je=oe-1,Je=Ie<0?je:Math.min(je,Ie),ct=Le.columnSizeAndPositionManager.getTotalSize(),Qe=Le.scrollbarSizeMeasured&&ct>Pe?Le.scrollbarSize:0;return Le.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:Se,containerSize:se-Qe,currentOffset:De,targetIndex:Je})}return 0},"_getCalculatedScrollTop")},{key:"_getScrollTopForScrollToRowStateUpdate",value:o(function(A,Q){var se=Q.scrollTop,oe=te._getCalculatedScrollTop(A,Q);return typeof oe=="number"&&oe>=0&&se!==oe?te._getScrollToPositionStateUpdate({prevState:Q,scrollLeft:-1,scrollTop:oe}):{}},"_getScrollTopForScrollToRowStateUpdate")}]),te}(d.PureComponent),m()(fi,"propTypes",null),Wi);m()(tt,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:qt,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:bn,noContentRenderer:et,onScroll:o(function(){},"onScroll"),onScrollbarPresenceChange:o(function(){},"onScrollbarPresenceChange"),onSectionRendered:o(function(){},"onSectionRendered"),overscanColumnCount:0,overscanIndicesGetter:Fi,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:Ce,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),Object(y.polyfill)(tt);var ht=tt,gt=-1,zt=1,cn="horizontal",sn="vertical";function Qt(ne){var te=ne.cellCount,Z=ne.overscanCellsCount,A=ne.scrollDirection,Q=ne.startIndex,se=ne.stopIndex;return Z=Math.max(1,Z),A===zt?{overscanStartIndex:Math.max(0,Q-1),overscanStopIndex:Math.min(te-1,se+Z)}:{overscanStartIndex:Math.max(0,Q-Z),overscanStopIndex:Math.min(te-1,se+1)}}o(Qt,"accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter");var Vi=null,Ci,gr;function tr(ne,te){var Z=Object.keys(ne);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(ne);te&&(A=A.filter(function(Q){return Object.getOwnPropertyDescriptor(ne,Q).enumerable})),Z.push.apply(Z,A)}return Z}o(tr,"ArrowKeyStepper_ownKeys");function Si(ne){for(var te=1;te<arguments.length;te++){var Z=arguments[te]!=null?arguments[te]:{};te%2?tr(Z,!0).forEach(function(A){m()(ne,A,Z[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Z)):tr(Z).forEach(function(A){Object.defineProperty(ne,A,Object.getOwnPropertyDescriptor(Z,A))})}return ne}o(Si,"ArrowKeyStepper_objectSpread");var Ir=(gr=Ci=function(ne){c()(te,ne);function te(){var Z,A;f()(this,te);for(var Q=arguments.length,se=new Array(Q),oe=0;oe<Q;oe++)se[oe]=arguments[oe];return A=s()(this,(Z=e()(te)).call.apply(Z,[this].concat(se))),m()(n()(A),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),m()(n()(A),"_columnStartIndex",0),m()(n()(A),"_columnStopIndex",0),m()(n()(A),"_rowStartIndex",0),m()(n()(A),"_rowStopIndex",0),m()(n()(A),"_onKeyDown",function(Se){var Ie=A.props,Pe=Ie.columnCount,De=Ie.disabled,Le=Ie.mode,je=Ie.rowCount;if(!De){var Je=A._getScrollState(),ct=Je.scrollToColumn,Qe=Je.scrollToRow,Yt=A._getScrollState(),nn=Yt.scrollToColumn,Cn=Yt.scrollToRow;switch(Se.key){case"ArrowDown":Cn=Math.min(Le==="cells"?Cn+1:A._rowStopIndex+1,je-1);break;case"ArrowLeft":nn=Math.max(Le==="cells"?nn-1:A._columnStartIndex-1,0);break;case"ArrowRight":nn=Math.min(Le==="cells"?nn+1:A._columnStopIndex+1,Pe-1);break;case"ArrowUp":Cn=Math.max(Le==="cells"?Cn-1:A._rowStartIndex-1,0);break}(nn!==ct||Cn!==Qe)&&(Se.preventDefault(),A._updateScrollState({scrollToColumn:nn,scrollToRow:Cn}))}}),m()(n()(A),"_onSectionRendered",function(Se){var Ie=Se.columnStartIndex,Pe=Se.columnStopIndex,De=Se.rowStartIndex,Le=Se.rowStopIndex;A._columnStartIndex=Ie,A._columnStopIndex=Pe,A._rowStartIndex=De,A._rowStopIndex=Le}),A}return o(te,"ArrowKeyStepper"),g()(te,[{key:"setScrollIndexes",value:o(function(A){var Q=A.scrollToColumn,se=A.scrollToRow;this.setState({scrollToRow:se,scrollToColumn:Q})},"setScrollIndexes")},{key:"render",value:o(function(){var A=this.props,Q=A.className,se=A.children,oe=this._getScrollState(),Se=oe.scrollToColumn,Ie=oe.scrollToRow;return d.createElement("div",{className:Q,onKeyDown:this._onKeyDown},se({onSectionRendered:this._onSectionRendered,scrollToColumn:Se,scrollToRow:Ie}))},"render")},{key:"_getScrollState",value:o(function(){return this.props.isControlled?this.props:this.state},"_getScrollState")},{key:"_updateScrollState",value:o(function(A){var Q=A.scrollToColumn,se=A.scrollToRow,oe=this.props,Se=oe.isControlled,Ie=oe.onScrollToChange;typeof Ie=="function"&&Ie({scrollToColumn:Q,scrollToRow:se}),Se||this.setState({scrollToColumn:Q,scrollToRow:se})},"_updateScrollState")}],[{key:"getDerivedStateFromProps",value:o(function(A,Q){return A.isControlled?{}:A.scrollToColumn!==Q.instanceProps.prevScrollToColumn||A.scrollToRow!==Q.instanceProps.prevScrollToRow?Si({},Q,{scrollToColumn:A.scrollToColumn,scrollToRow:A.scrollToRow,instanceProps:{prevScrollToColumn:A.scrollToColumn,prevScrollToRow:A.scrollToRow}}):{}},"getDerivedStateFromProps")}]),te}(d.PureComponent),m()(Ci,"propTypes",null),gr);m()(Ir,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),Object(y.polyfill)(Ir);var ai=Ir,lr=h("m0Av"),ti,wr;function Qi(ne,te){var Z=Object.keys(ne);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(ne);te&&(A=A.filter(function(Q){return Object.getOwnPropertyDescriptor(ne,Q).enumerable})),Z.push.apply(Z,A)}return Z}o(Qi,"AutoSizer_ownKeys");function Ur(ne){for(var te=1;te<arguments.length;te++){var Z=arguments[te]!=null?arguments[te]:{};te%2?Qi(Z,!0).forEach(function(A){m()(ne,A,Z[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Z)):Qi(Z).forEach(function(A){Object.defineProperty(ne,A,Object.getOwnPropertyDescriptor(Z,A))})}return ne}o(Ur,"AutoSizer_objectSpread");var Ar=(wr=ti=function(ne){c()(te,ne);function te(){var Z,A;f()(this,te);for(var Q=arguments.length,se=new Array(Q),oe=0;oe<Q;oe++)se[oe]=arguments[oe];return A=s()(this,(Z=e()(te)).call.apply(Z,[this].concat(se))),m()(n()(A),"state",{height:A.props.defaultHeight||0,width:A.props.defaultWidth||0}),m()(n()(A),"_parentNode",void 0),m()(n()(A),"_autoSizer",void 0),m()(n()(A),"_window",void 0),m()(n()(A),"_detectElementResize",void 0),m()(n()(A),"_onResize",function(){var Se=A.props,Ie=Se.disableHeight,Pe=Se.disableWidth,De=Se.onResize;if(A._parentNode){var Le=A._parentNode.offsetHeight||0,je=A._parentNode.offsetWidth||0,Je=A._window||window,ct=Je.getComputedStyle(A._parentNode)||{},Qe=parseInt(ct.paddingLeft,10)||0,Yt=parseInt(ct.paddingRight,10)||0,nn=parseInt(ct.paddingTop,10)||0,Cn=parseInt(ct.paddingBottom,10)||0,Rn=Le-nn-Cn,ni=je-Qe-Yt;(!Ie&&A.state.height!==Rn||!Pe&&A.state.width!==ni)&&(A.setState({height:Le-nn-Cn,width:je-Qe-Yt}),De({height:Le,width:je}))}}),m()(n()(A),"_setRef",function(Se){A._autoSizer=Se}),A}return o(te,"AutoSizer"),g()(te,[{key:"componentDidMount",value:o(function(){var A=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(lr.a)(A,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())},"componentDidMount")},{key:"componentWillUnmount",value:o(function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)},"componentWillUnmount")},{key:"render",value:o(function(){var A=this.props,Q=A.children,se=A.className,oe=A.disableHeight,Se=A.disableWidth,Ie=A.style,Pe=this.state,De=Pe.height,Le=Pe.width,je={overflow:"visible"},Je={};return oe||(je.height=0,Je.height=De),Se||(je.width=0,Je.width=Le),d.createElement("div",{className:se,ref:this._setRef,style:Ur({},je,{},Ie)},Q(Je))},"render")}]),te}(d.Component),m()(ti,"propTypes",null),wr);m()(Ar,"defaultProps",{onResize:o(function(){},"onResize"),disableHeight:!1,disableWidth:!1,style:{}});var Zi=h("wSSu"),io=null,yt,ot,ln=(ot=yt=function(ne){c()(te,ne);function te(){var Z,A;f()(this,te);for(var Q=arguments.length,se=new Array(Q),oe=0;oe<Q;oe++)se[oe]=arguments[oe];return A=s()(this,(Z=e()(te)).call.apply(Z,[this].concat(se))),m()(n()(A),"_child",void 0),m()(n()(A),"_measure",function(){var Se=A.props,Ie=Se.cache,Pe=Se.columnIndex,De=Pe===void 0?0:Pe,Le=Se.parent,je=Se.rowIndex,Je=je===void 0?A.props.index||0:je,ct=A._getCellMeasurements(),Qe=ct.height,Yt=ct.width;(Qe!==Ie.getHeight(Je,De)||Yt!==Ie.getWidth(Je,De))&&(Ie.set(Je,De,Yt,Qe),Le&&typeof Le.recomputeGridSize=="function"&&Le.recomputeGridSize({columnIndex:De,rowIndex:Je}))}),m()(n()(A),"_registerChild",function(Se){Se&&!(Se instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),A._child=Se,Se&&A._maybeMeasureCell()}),A}return o(te,"CellMeasurer"),g()(te,[{key:"componentDidMount",value:o(function(){this._maybeMeasureCell()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(){this._maybeMeasureCell()},"componentDidUpdate")},{key:"render",value:o(function(){var A=this.props.children;return typeof A=="function"?A({measure:this._measure,registerChild:this._registerChild}):A},"render")},{key:"_getCellMeasurements",value:o(function(){var A=this.props.cache,Q=this._child||Object(Zi.findDOMNode)(this);if(Q&&Q.ownerDocument&&Q.ownerDocument.defaultView&&Q instanceof Q.ownerDocument.defaultView.HTMLElement){var se=Q.style.width,oe=Q.style.height;A.hasFixedWidth()||(Q.style.width="auto"),A.hasFixedHeight()||(Q.style.height="auto");var Se=Math.ceil(Q.offsetHeight),Ie=Math.ceil(Q.offsetWidth);return se&&(Q.style.width=se),oe&&(Q.style.height=oe),{height:Se,width:Ie}}else return{height:0,width:0}},"_getCellMeasurements")},{key:"_maybeMeasureCell",value:o(function(){var A=this.props,Q=A.cache,se=A.columnIndex,oe=se===void 0?0:se,Se=A.parent,Ie=A.rowIndex,Pe=Ie===void 0?this.props.index||0:Ie;if(!Q.has(Pe,oe)){var De=this._getCellMeasurements(),Le=De.height,je=De.width;Q.set(Pe,oe,je,Le),Se&&typeof Se.invalidateCellSizeAfterRender=="function"&&Se.invalidateCellSizeAfterRender({columnIndex:oe,rowIndex:Pe})}},"_maybeMeasureCell")}]),te}(d.PureComponent),m()(yt,"propTypes",null),ot);m()(ln,"__internalCellMeasurerFlag",!1);var Gt=30,In=100,Jn=function(){function ne(){var te=this,Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f()(this,ne),m()(this,"_cellHeightCache",{}),m()(this,"_cellWidthCache",{}),m()(this,"_columnWidthCache",{}),m()(this,"_rowHeightCache",{}),m()(this,"_defaultHeight",void 0),m()(this,"_defaultWidth",void 0),m()(this,"_minHeight",void 0),m()(this,"_minWidth",void 0),m()(this,"_keyMapper",void 0),m()(this,"_hasFixedHeight",void 0),m()(this,"_hasFixedWidth",void 0),m()(this,"_columnCount",0),m()(this,"_rowCount",0),m()(this,"columnWidth",function(De){var Le=De.index,je=te._keyMapper(0,Le);return te._columnWidthCache[je]!==void 0?te._columnWidthCache[je]:te._defaultWidth}),m()(this,"rowHeight",function(De){var Le=De.index,je=te._keyMapper(Le,0);return te._rowHeightCache[je]!==void 0?te._rowHeightCache[je]:te._defaultHeight});var A=Z.defaultHeight,Q=Z.defaultWidth,se=Z.fixedHeight,oe=Z.fixedWidth,Se=Z.keyMapper,Ie=Z.minHeight,Pe=Z.minWidth;this._hasFixedHeight=se===!0,this._hasFixedWidth=oe===!0,this._minHeight=Ie||0,this._minWidth=Pe||0,this._keyMapper=Se||z,this._defaultHeight=Math.max(this._minHeight,typeof A=="number"?A:Gt),this._defaultWidth=Math.max(this._minWidth,typeof Q=="number"?Q:In)}return o(ne,"CellMeasurerCache"),g()(ne,[{key:"clear",value:o(function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=this._keyMapper(Z,A);delete this._cellHeightCache[Q],delete this._cellWidthCache[Q],this._updateCachedColumnAndRowSizes(Z,A)},"clear")},{key:"clearAll",value:o(function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0},"clearAll")},{key:"hasFixedHeight",value:o(function(){return this._hasFixedHeight},"hasFixedHeight")},{key:"hasFixedWidth",value:o(function(){return this._hasFixedWidth},"hasFixedWidth")},{key:"getHeight",value:o(function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var Q=this._keyMapper(Z,A);return this._cellHeightCache[Q]!==void 0?Math.max(this._minHeight,this._cellHeightCache[Q]):this._defaultHeight},"getHeight")},{key:"getWidth",value:o(function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var Q=this._keyMapper(Z,A);return this._cellWidthCache[Q]!==void 0?Math.max(this._minWidth,this._cellWidthCache[Q]):this._defaultWidth},"getWidth")},{key:"has",value:o(function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=this._keyMapper(Z,A);return this._cellHeightCache[Q]!==void 0},"has")},{key:"set",value:o(function(Z,A,Q,se){var oe=this._keyMapper(Z,A);A>=this._columnCount&&(this._columnCount=A+1),Z>=this._rowCount&&(this._rowCount=Z+1),this._cellHeightCache[oe]=se,this._cellWidthCache[oe]=Q,this._updateCachedColumnAndRowSizes(Z,A)},"set")},{key:"_updateCachedColumnAndRowSizes",value:o(function(Z,A){if(!this._hasFixedWidth){for(var Q=0,se=0;se<this._rowCount;se++)Q=Math.max(Q,this.getWidth(se,A));var oe=this._keyMapper(0,A);this._columnWidthCache[oe]=Q}if(!this._hasFixedHeight){for(var Se=0,Ie=0;Ie<this._columnCount;Ie++)Se=Math.max(Se,this.getHeight(Z,Ie));var Pe=this._keyMapper(Z,0);this._rowHeightCache[Pe]=Se}},"_updateCachedColumnAndRowSizes")},{key:"defaultHeight",get:o(function(){return this._defaultHeight},"get")},{key:"defaultWidth",get:o(function(){return this._defaultWidth},"get")}]),ne}();function z(ne,te){return"".concat(ne,"-").concat(te)}o(z,"defaultKeyMapper");var ce=ln;function Me(ne,te){var Z=Object.keys(ne);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(ne);te&&(A=A.filter(function(Q){return Object.getOwnPropertyDescriptor(ne,Q).enumerable})),Z.push.apply(Z,A)}return Z}o(Me,"CollectionView_ownKeys");function Ne(ne){for(var te=1;te<arguments.length;te++){var Z=arguments[te]!=null?arguments[te]:{};te%2?Me(Z,!0).forEach(function(A){m()(ne,A,Z[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Z)):Me(Z).forEach(function(A){Object.defineProperty(ne,A,Object.getOwnPropertyDescriptor(Z,A))})}return ne}o(Ne,"CollectionView_objectSpread");var Ke=150,vt={OBSERVED:"observed",REQUESTED:"requested"},Et=function(ne){c()(te,ne);function te(){var Z,A;f()(this,te);for(var Q=arguments.length,se=new Array(Q),oe=0;oe<Q;oe++)se[oe]=arguments[oe];return A=s()(this,(Z=e()(te)).call.apply(Z,[this].concat(se))),m()(n()(A),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),m()(n()(A),"_calculateSizeAndPositionDataOnNextUpdate",!1),m()(n()(A),"_onSectionRenderedMemoizer",ci()),m()(n()(A),"_onScrollMemoizer",ci(!1)),m()(n()(A),"_invokeOnSectionRenderedHelper",function(){var Se=A.props,Ie=Se.cellLayoutManager,Pe=Se.onSectionRendered;A._onSectionRenderedMemoizer({callback:Pe,indices:{indices:Ie.getLastRenderedIndices()}})}),m()(n()(A),"_setScrollingContainerRef",function(Se){A._scrollingContainer=Se}),m()(n()(A),"_updateScrollPositionForScrollToCell",function(){var Se=A.props,Ie=Se.cellLayoutManager,Pe=Se.height,De=Se.scrollToAlignment,Le=Se.scrollToCell,je=Se.width,Je=A.state,ct=Je.scrollLeft,Qe=Je.scrollTop;if(Le>=0){var Yt=Ie.getScrollPositionForCell({align:De,cellIndex:Le,height:Pe,scrollLeft:ct,scrollTop:Qe,width:je});(Yt.scrollLeft!==ct||Yt.scrollTop!==Qe)&&A._setScrollPosition(Yt)}}),m()(n()(A),"_onScroll",function(Se){if(Se.target===A._scrollingContainer){A._enablePointerEventsAfterDelay();var Ie=A.props,Pe=Ie.cellLayoutManager,De=Ie.height,Le=Ie.isScrollingChange,je=Ie.width,Je=A._scrollbarSize,ct=Pe.getTotalSize(),Qe=ct.height,Yt=ct.width,nn=Math.max(0,Math.min(Yt-je+Je,Se.target.scrollLeft)),Cn=Math.max(0,Math.min(Qe-De+Je,Se.target.scrollTop));if(A.state.scrollLeft!==nn||A.state.scrollTop!==Cn){var Rn=Se.cancelable?vt.OBSERVED:vt.REQUESTED;A.state.isScrolling||Le(!0),A.setState({isScrolling:!0,scrollLeft:nn,scrollPositionChangeReason:Rn,scrollTop:Cn})}A._invokeOnScrollMemoizer({scrollLeft:nn,scrollTop:Cn,totalWidth:Yt,totalHeight:Qe})}}),A._scrollbarSize=bn(),A._scrollbarSize===void 0?(A._scrollbarSizeMeasured=!1,A._scrollbarSize=0):A._scrollbarSizeMeasured=!0,A}return o(te,"CollectionView"),g()(te,[{key:"recomputeCellSizesAndPositions",value:o(function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()},"recomputeCellSizesAndPositions")},{key:"componentDidMount",value:o(function(){var A=this.props,Q=A.cellLayoutManager,se=A.scrollLeft,oe=A.scrollToCell,Se=A.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=bn(),this._scrollbarSizeMeasured=!0,this.setState({})),oe>=0?this._updateScrollPositionForScrollToCell():(se>=0||Se>=0)&&this._setScrollPosition({scrollLeft:se,scrollTop:Se}),this._invokeOnSectionRenderedHelper();var Ie=Q.getTotalSize(),Pe=Ie.height,De=Ie.width;this._invokeOnScrollMemoizer({scrollLeft:se||0,scrollTop:Se||0,totalHeight:Pe,totalWidth:De})},"componentDidMount")},{key:"componentDidUpdate",value:o(function(A,Q){var se=this.props,oe=se.height,Se=se.scrollToAlignment,Ie=se.scrollToCell,Pe=se.width,De=this.state,Le=De.scrollLeft,je=De.scrollPositionChangeReason,Je=De.scrollTop;je===vt.REQUESTED&&(Le>=0&&Le!==Q.scrollLeft&&Le!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=Le),Je>=0&&Je!==Q.scrollTop&&Je!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=Je)),(oe!==A.height||Se!==A.scrollToAlignment||Ie!==A.scrollToCell||Pe!==A.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)},"componentWillUnmount")},{key:"render",value:o(function(){var A=this.props,Q=A.autoHeight,se=A.cellCount,oe=A.cellLayoutManager,Se=A.className,Ie=A.height,Pe=A.horizontalOverscanSize,De=A.id,Le=A.noContentRenderer,je=A.style,Je=A.verticalOverscanSize,ct=A.width,Qe=this.state,Yt=Qe.isScrolling,nn=Qe.scrollLeft,Cn=Qe.scrollTop;(this._lastRenderedCellCount!==se||this._lastRenderedCellLayoutManager!==oe||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=se,this._lastRenderedCellLayoutManager=oe,this._calculateSizeAndPositionDataOnNextUpdate=!1,oe.calculateSizeAndPositionData());var Rn=oe.getTotalSize(),ni=Rn.height,$n=Rn.width,ri=Math.max(0,nn-Pe),ii=Math.max(0,Cn-Je),wi=Math.min($n,nn+ct+Pe),ki=Math.min(ni,Cn+Ie+Je),di=Ie>0&&ct>0?oe.cellRenderers({height:ki-ii,isScrolling:Yt,width:wi-ri,x:ri,y:ii}):[],yi={boxSizing:"border-box",direction:"ltr",height:Q?"auto":Ie,position:"relative",WebkitOverflowScrolling:"touch",width:ct,willChange:"transform"},or=ni>Ie?this._scrollbarSize:0,Ri=$n>ct?this._scrollbarSize:0;return yi.overflowX=$n+or<=ct?"hidden":"auto",yi.overflowY=ni+Ri<=Ie?"hidden":"auto",d.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:N("ReactVirtualized__Collection",Se),id:De,onScroll:this._onScroll,role:"grid",style:Ne({},yi,{},je),tabIndex:0},se>0&&d.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:ni,maxHeight:ni,maxWidth:$n,overflow:"hidden",pointerEvents:Yt?"none":"",width:$n}},di),se===0&&Le())},"render")},{key:"_enablePointerEventsAfterDelay",value:o(function(){var A=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var Q=A.props.isScrollingChange;Q(!1),A._disablePointerEventsTimeoutId=null,A.setState({isScrolling:!1})},Ke)},"_enablePointerEventsAfterDelay")},{key:"_invokeOnScrollMemoizer",value:o(function(A){var Q=this,se=A.scrollLeft,oe=A.scrollTop,Se=A.totalHeight,Ie=A.totalWidth;this._onScrollMemoizer({callback:o(function(De){var Le=De.scrollLeft,je=De.scrollTop,Je=Q.props,ct=Je.height,Qe=Je.onScroll,Yt=Je.width;Qe({clientHeight:ct,clientWidth:Yt,scrollHeight:Se,scrollLeft:Le,scrollTop:je,scrollWidth:Ie})},"callback"),indices:{scrollLeft:se,scrollTop:oe}})},"_invokeOnScrollMemoizer")},{key:"_setScrollPosition",value:o(function(A){var Q=A.scrollLeft,se=A.scrollTop,oe={scrollPositionChangeReason:vt.REQUESTED};Q>=0&&(oe.scrollLeft=Q),se>=0&&(oe.scrollTop=se),(Q>=0&&Q!==this.state.scrollLeft||se>=0&&se!==this.state.scrollTop)&&this.setState(oe)},"_setScrollPosition")}],[{key:"getDerivedStateFromProps",value:o(function(A,Q){return A.cellCount===0&&(Q.scrollLeft!==0||Q.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:vt.REQUESTED}:A.scrollLeft!==Q.scrollLeft||A.scrollTop!==Q.scrollTop?{scrollLeft:A.scrollLeft!=null?A.scrollLeft:Q.scrollLeft,scrollTop:A.scrollTop!=null?A.scrollTop:Q.scrollTop,scrollPositionChangeReason:vt.REQUESTED}:null},"getDerivedStateFromProps")}]),te}(d.PureComponent);m()(Et,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:o(function(){return null},"noContentRenderer"),onScroll:o(function(){return null},"onScroll"),onSectionRendered:o(function(){return null},"onSectionRendered"),scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),Et.propTypes={},Object(y.polyfill)(Et);var Tt=Et,$e=null,At=null,Dt=null,wn=null,fn=null,Un=function(){function ne(te){var Z=te.height,A=te.width,Q=te.x,se=te.y;f()(this,ne),this.height=Z,this.width=A,this.x=Q,this.y=se,this._indexMap={},this._indices=[]}return o(ne,"Section"),g()(ne,[{key:"addCellIndex",value:o(function(Z){var A=Z.index;this._indexMap[A]||(this._indexMap[A]=!0,this._indices.push(A))},"addCellIndex")},{key:"getCellIndices",value:o(function(){return this._indices},"getCellIndices")},{key:"toString",value:o(function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)},"toString")}]),ne}(),li=100,Mi=function(){function ne(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:li;f()(this,ne),this._sectionSize=te,this._cellMetadata=[],this._sections={}}return o(ne,"SectionManager"),g()(ne,[{key:"getCellIndices",value:o(function(Z){var A=Z.height,Q=Z.width,se=Z.x,oe=Z.y,Se={};return this.getSections({height:A,width:Q,x:se,y:oe}).forEach(function(Ie){return Ie.getCellIndices().forEach(function(Pe){Se[Pe]=Pe})}),Object.keys(Se).map(function(Ie){return Se[Ie]})},"getCellIndices")},{key:"getCellMetadata",value:o(function(Z){var A=Z.index;return this._cellMetadata[A]},"getCellMetadata")},{key:"getSections",value:o(function(Z){for(var A=Z.height,Q=Z.width,se=Z.x,oe=Z.y,Se=Math.floor(se/this._sectionSize),Ie=Math.floor((se+Q-1)/this._sectionSize),Pe=Math.floor(oe/this._sectionSize),De=Math.floor((oe+A-1)/this._sectionSize),Le=[],je=Se;je<=Ie;je++)for(var Je=Pe;Je<=De;Je++){var ct="".concat(je,".").concat(Je);this._sections[ct]||(this._sections[ct]=new Un({height:this._sectionSize,width:this._sectionSize,x:je*this._sectionSize,y:Je*this._sectionSize})),Le.push(this._sections[ct])}return Le},"getSections")},{key:"getTotalSectionCount",value:o(function(){return Object.keys(this._sections).length},"getTotalSectionCount")},{key:"toString",value:o(function(){var Z=this;return Object.keys(this._sections).map(function(A){return Z._sections[A].toString()})},"toString")},{key:"registerCell",value:o(function(Z){var A=Z.cellMetadatum,Q=Z.index;this._cellMetadata[Q]=A,this.getSections(A).forEach(function(se){return se.addCellIndex({index:Q})})},"registerCell")}]),ne}();function Ai(ne){for(var te=ne.cellCount,Z=ne.cellSizeAndPositionGetter,A=ne.sectionSize,Q=[],se=new Mi(A),oe=0,Se=0,Ie=0;Ie<te;Ie++){var Pe=Z({index:Ie});if(Pe.height==null||isNaN(Pe.height)||Pe.width==null||isNaN(Pe.width)||Pe.x==null||isNaN(Pe.x)||Pe.y==null||isNaN(Pe.y))throw Error("Invalid metadata returned for cell ".concat(Ie,`:
        x:`).concat(Pe.x,", y:").concat(Pe.y,", width:").concat(Pe.width,", height:").concat(Pe.height));oe=Math.max(oe,Pe.y+Pe.height),Se=Math.max(Se,Pe.x+Pe.width),Q[Ie]=Pe,se.registerCell({cellMetadatum:Pe,index:Ie})}return{cellMetadata:Q,height:oe,sectionManager:se,width:Se}}o(Ai,"calculateSizeAndPositionData_calculateSizeAndPositionData");function hi(ne){var te=ne.align,Z=te===void 0?"auto":te,A=ne.cellOffset,Q=ne.cellSize,se=ne.containerSize,oe=ne.currentOffset,Se=A,Ie=Se-se+Q;switch(Z){case"start":return Se;case"end":return Ie;case"center":return Se-(se-Q)/2;default:return Math.max(Ie,Math.min(Se,oe))}}o(hi,"getUpdatedOffsetForIndex");var pi=function(ne){c()(te,ne);function te(Z,A){var Q;return f()(this,te),Q=s()(this,e()(te).call(this,Z,A)),Q._cellMetadata=[],Q._lastRenderedCellIndices=[],Q._cellCache=[],Q._isScrollingChange=Q._isScrollingChange.bind(n()(Q)),Q._setCollectionViewRef=Q._setCollectionViewRef.bind(n()(Q)),Q}return o(te,"Collection"),g()(te,[{key:"forceUpdate",value:o(function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()},"forceUpdate")},{key:"recomputeCellSizesAndPositions",value:o(function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()},"recomputeCellSizesAndPositions")},{key:"render",value:o(function(){var A=w()({},this.props);return d.createElement(Tt,w()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},A))},"render")},{key:"calculateSizeAndPositionData",value:o(function(){var A=this.props,Q=A.cellCount,se=A.cellSizeAndPositionGetter,oe=A.sectionSize,Se=Ai({cellCount:Q,cellSizeAndPositionGetter:se,sectionSize:oe});this._cellMetadata=Se.cellMetadata,this._sectionManager=Se.sectionManager,this._height=Se.height,this._width=Se.width},"calculateSizeAndPositionData")},{key:"getLastRenderedIndices",value:o(function(){return this._lastRenderedCellIndices},"getLastRenderedIndices")},{key:"getScrollPositionForCell",value:o(function(A){var Q=A.align,se=A.cellIndex,oe=A.height,Se=A.scrollLeft,Ie=A.scrollTop,Pe=A.width,De=this.props.cellCount;if(se>=0&&se<De){var Le=this._cellMetadata[se];Se=hi({align:Q,cellOffset:Le.x,cellSize:Le.width,containerSize:Pe,currentOffset:Se,targetIndex:se}),Ie=hi({align:Q,cellOffset:Le.y,cellSize:Le.height,containerSize:oe,currentOffset:Ie,targetIndex:se})}return{scrollLeft:Se,scrollTop:Ie}},"getScrollPositionForCell")},{key:"getTotalSize",value:o(function(){return{height:this._height,width:this._width}},"getTotalSize")},{key:"cellRenderers",value:o(function(A){var Q=this,se=A.height,oe=A.isScrolling,Se=A.width,Ie=A.x,Pe=A.y,De=this.props,Le=De.cellGroupRenderer,je=De.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:se,width:Se,x:Ie,y:Pe}),Le({cellCache:this._cellCache,cellRenderer:je,cellSizeAndPositionGetter:o(function(ct){var Qe=ct.index;return Q._sectionManager.getCellMetadata({index:Qe})},"cellSizeAndPositionGetter"),indices:this._lastRenderedCellIndices,isScrolling:oe})},"cellRenderers")},{key:"_isScrollingChange",value:o(function(A){A||(this._cellCache=[])},"_isScrollingChange")},{key:"_setCollectionViewRef",value:o(function(A){this._collectionView=A},"_setCollectionViewRef")}]),te}(d.PureComponent);m()(pi,"defaultProps",{"aria-label":"grid",cellGroupRenderer:yn}),pi.propTypes={};function yn(ne){var te=ne.cellCache,Z=ne.cellRenderer,A=ne.cellSizeAndPositionGetter,Q=ne.indices,se=ne.isScrolling;return Q.map(function(oe){var Se=A({index:oe}),Ie={index:oe,isScrolling:se,key:oe,style:{height:Se.height,left:Se.x,position:"absolute",top:Se.y,width:Se.width}};return se?(oe in te||(te[oe]=Z(Ie)),te[oe]):Z(Ie)}).filter(function(oe){return!!oe})}o(yn,"defaultCellGroupRenderer");var ji=pi,Ui=function(ne){c()(te,ne);function te(Z,A){var Q;return f()(this,te),Q=s()(this,e()(te).call(this,Z,A)),Q._registerChild=Q._registerChild.bind(n()(Q)),Q}return o(te,"ColumnSizer"),g()(te,[{key:"componentDidUpdate",value:o(function(A){var Q=this.props,se=Q.columnMaxWidth,oe=Q.columnMinWidth,Se=Q.columnCount,Ie=Q.width;(se!==A.columnMaxWidth||oe!==A.columnMinWidth||Se!==A.columnCount||Ie!==A.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()},"componentDidUpdate")},{key:"render",value:o(function(){var A=this.props,Q=A.children,se=A.columnMaxWidth,oe=A.columnMinWidth,Se=A.columnCount,Ie=A.width,Pe=oe||1,De=se?Math.min(se,Ie):Ie,Le=Ie/Se;Le=Math.max(Pe,Le),Le=Math.min(De,Le),Le=Math.floor(Le);var je=Math.min(Ie,Le*Se);return Q({adjustedWidth:je,columnWidth:Le,getColumnWidth:o(function(){return Le},"getColumnWidth"),registerChild:this._registerChild})},"render")},{key:"_registerChild",value:o(function(A){if(A&&typeof A.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=A,this._registeredChild&&this._registeredChild.recomputeGridSize()},"_registerChild")}]),te}(d.PureComponent);Ui.propTypes={};var Hi=Ui,Or=h("EIHC"),Ii=h.n(Or),Sr=function(ne){c()(te,ne);function te(Z,A){var Q;return f()(this,te),Q=s()(this,e()(te).call(this,Z,A)),Q._loadMoreRowsMemoizer=ci(),Q._onRowsRendered=Q._onRowsRendered.bind(n()(Q)),Q._registerChild=Q._registerChild.bind(n()(Q)),Q}return o(te,"InfiniteLoader"),g()(te,[{key:"resetLoadMoreRowsCache",value:o(function(A){this._loadMoreRowsMemoizer=ci(),A&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)},"resetLoadMoreRowsCache")},{key:"render",value:o(function(){var A=this.props.children;return A({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})},"render")},{key:"_loadUnloadedRanges",value:o(function(A){var Q=this,se=this.props.loadMoreRows;A.forEach(function(oe){var Se=se(oe);Se&&Se.then(function(){qn({lastRenderedStartIndex:Q._lastRenderedStartIndex,lastRenderedStopIndex:Q._lastRenderedStopIndex,startIndex:oe.startIndex,stopIndex:oe.stopIndex})&&Q._registeredChild&&mi(Q._registeredChild,Q._lastRenderedStartIndex)})})},"_loadUnloadedRanges")},{key:"_onRowsRendered",value:o(function(A){var Q=A.startIndex,se=A.stopIndex;this._lastRenderedStartIndex=Q,this._lastRenderedStopIndex=se,this._doStuff(Q,se)},"_onRowsRendered")},{key:"_doStuff",value:o(function(A,Q){var se,oe=this,Se=this.props,Ie=Se.isRowLoaded,Pe=Se.minimumBatchSize,De=Se.rowCount,Le=Se.threshold,je=vi({isRowLoaded:Ie,minimumBatchSize:Pe,rowCount:De,startIndex:Math.max(0,A-Le),stopIndex:Math.min(De-1,Q+Le)}),Je=(se=[]).concat.apply(se,Ii()(je.map(function(ct){var Qe=ct.startIndex,Yt=ct.stopIndex;return[Qe,Yt]})));this._loadMoreRowsMemoizer({callback:o(function(){oe._loadUnloadedRanges(je)},"callback"),indices:{squashedUnloadedRanges:Je}})},"_doStuff")},{key:"_registerChild",value:o(function(A){this._registeredChild=A},"_registerChild")}]),te}(d.PureComponent);m()(Sr,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),Sr.propTypes={};function qn(ne){var te=ne.lastRenderedStartIndex,Z=ne.lastRenderedStopIndex,A=ne.startIndex,Q=ne.stopIndex;return!(A>Z||Q<te)}o(qn,"isRangeVisible");function vi(ne){for(var te=ne.isRowLoaded,Z=ne.minimumBatchSize,A=ne.rowCount,Q=ne.startIndex,se=ne.stopIndex,oe=[],Se=null,Ie=null,Pe=Q;Pe<=se;Pe++){var De=te({index:Pe});De?Ie!==null&&(oe.push({startIndex:Se,stopIndex:Ie}),Se=Ie=null):(Ie=Pe,Se===null&&(Se=Pe))}if(Ie!==null){for(var Le=Math.min(Math.max(Ie,Se+Z-1),A-1),je=Ie+1;je<=Le&&!te({index:je});je++)Ie=je;oe.push({startIndex:Se,stopIndex:Ie})}if(oe.length)for(var Je=oe[0];Je.stopIndex-Je.startIndex+1<Z&&Je.startIndex>0;){var ct=Je.startIndex-1;if(!te({index:ct}))Je.startIndex=ct;else break}return oe}o(vi,"scanForUnloadedRanges");function mi(ne){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=typeof ne.recomputeGridSize=="function"?ne.recomputeGridSize:ne.recomputeRowHeights;Z?Z.call(ne,te):ne.forceUpdate()}o(mi,"forceUpdateReactVirtualizedComponent");var _i=Sr,Yn=null,Ut=null,nr=null,Bs=null,Qr,dr,Zr=(dr=Qr=function(ne){c()(te,ne);function te(){var Z,A;f()(this,te);for(var Q=arguments.length,se=new Array(Q),oe=0;oe<Q;oe++)se[oe]=arguments[oe];return A=s()(this,(Z=e()(te)).call.apply(Z,[this].concat(se))),m()(n()(A),"Grid",void 0),m()(n()(A),"_cellRenderer",function(Se){var Ie=Se.parent,Pe=Se.rowIndex,De=Se.style,Le=Se.isScrolling,je=Se.isVisible,Je=Se.key,ct=A.props.rowRenderer,Qe=Object.getOwnPropertyDescriptor(De,"width");return Qe&&Qe.writable&&(De.width="100%"),ct({index:Pe,style:De,isScrolling:Le,isVisible:je,key:Je,parent:Ie})}),m()(n()(A),"_setRef",function(Se){A.Grid=Se}),m()(n()(A),"_onScroll",function(Se){var Ie=Se.clientHeight,Pe=Se.scrollHeight,De=Se.scrollTop,Le=A.props.onScroll;Le({clientHeight:Ie,scrollHeight:Pe,scrollTop:De})}),m()(n()(A),"_onSectionRendered",function(Se){var Ie=Se.rowOverscanStartIndex,Pe=Se.rowOverscanStopIndex,De=Se.rowStartIndex,Le=Se.rowStopIndex,je=A.props.onRowsRendered;je({overscanStartIndex:Ie,overscanStopIndex:Pe,startIndex:De,stopIndex:Le})}),A}return o(te,"List"),g()(te,[{key:"forceUpdateGrid",value:o(function(){this.Grid&&this.Grid.forceUpdate()},"forceUpdateGrid")},{key:"getOffsetForRow",value:o(function(A){var Q=A.alignment,se=A.index;if(this.Grid){var oe=this.Grid.getOffsetForCell({alignment:Q,rowIndex:se,columnIndex:0}),Se=oe.scrollTop;return Se}return 0},"getOffsetForRow")},{key:"invalidateCellSizeAfterRender",value:o(function(A){var Q=A.columnIndex,se=A.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:se,columnIndex:Q})},"invalidateCellSizeAfterRender")},{key:"measureAllRows",value:o(function(){this.Grid&&this.Grid.measureAllCells()},"measureAllRows")},{key:"recomputeGridSize",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=A.columnIndex,se=Q===void 0?0:Q,oe=A.rowIndex,Se=oe===void 0?0:oe;this.Grid&&this.Grid.recomputeGridSize({rowIndex:Se,columnIndex:se})},"recomputeGridSize")},{key:"recomputeRowHeights",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:A,columnIndex:0})},"recomputeRowHeights")},{key:"scrollToPosition",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:A})},"scrollToPosition")},{key:"scrollToRow",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:A})},"scrollToRow")},{key:"render",value:o(function(){var A=this.props,Q=A.className,se=A.noRowsRenderer,oe=A.scrollToIndex,Se=A.width,Ie=N("ReactVirtualized__List",Q);return d.createElement(ht,w()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:Ie,columnWidth:Se,columnCount:1,noContentRenderer:se,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:oe}))},"render")}]),te}(d.PureComponent),m()(Qr,"propTypes",null),dr);m()(Zr,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:o(function(){},"onScroll"),noRowsRenderer:o(function(){return null},"noRowsRenderer"),onRowsRendered:o(function(){},"onRowsRendered"),overscanIndicesGetter:Qt,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var qr=h("kGhG"),ur=h.n(qr);function Fs(ne,te,Z,A){for(var Q=Z+1;te<=Z;){var se=te+Z>>>1,oe=ne[se];oe>=A?(Q=se,Z=se-1):te=se+1}return Q}o(Fs,"_GEA");function Vs(ne,te,Z,A,Q){for(var se=Z+1;te<=Z;){var oe=te+Z>>>1,Se=ne[oe];Q(Se,A)>=0?(se=oe,Z=oe-1):te=oe+1}return se}o(Vs,"_GEP");function Li(ne,te,Z,A,Q){return typeof Z=="function"?Vs(ne,A===void 0?0:A|0,Q===void 0?ne.length-1:Q|0,te,Z):Fs(ne,Z===void 0?0:Z|0,A===void 0?ne.length-1:A|0,te)}o(Li,"dispatchBsearchGE");function Pr(ne,te,Z,A){for(var Q=Z+1;te<=Z;){var se=te+Z>>>1,oe=ne[se];oe>A?(Q=se,Z=se-1):te=se+1}return Q}o(Pr,"_GTA");function xo(ne,te,Z,A,Q){for(var se=Z+1;te<=Z;){var oe=te+Z>>>1,Se=ne[oe];Q(Se,A)>0?(se=oe,Z=oe-1):te=oe+1}return se}o(xo,"_GTP");function Us(ne,te,Z,A,Q){return typeof Z=="function"?xo(ne,A===void 0?0:A|0,Q===void 0?ne.length-1:Q|0,te,Z):Pr(ne,Z===void 0?0:Z|0,A===void 0?ne.length-1:A|0,te)}o(Us,"dispatchBsearchGT");function $r(ne,te,Z,A){for(var Q=te-1;te<=Z;){var se=te+Z>>>1,oe=ne[se];oe<A?(Q=se,te=se+1):Z=se-1}return Q}o($r,"_LTA");function So(ne,te,Z,A,Q){for(var se=te-1;te<=Z;){var oe=te+Z>>>1,Se=ne[oe];Q(Se,A)<0?(se=oe,te=oe+1):Z=oe-1}return se}o(So,"_LTP");function ao(ne,te,Z,A,Q){return typeof Z=="function"?So(ne,A===void 0?0:A|0,Q===void 0?ne.length-1:Q|0,te,Z):$r(ne,Z===void 0?0:Z|0,A===void 0?ne.length-1:A|0,te)}o(ao,"dispatchBsearchLT");function Bo(ne,te,Z,A){for(var Q=te-1;te<=Z;){var se=te+Z>>>1,oe=ne[se];oe<=A?(Q=se,te=se+1):Z=se-1}return Q}o(Bo,"_LEA");function vs(ne,te,Z,A,Q){for(var se=te-1;te<=Z;){var oe=te+Z>>>1,Se=ne[oe];Q(Se,A)<=0?(se=oe,te=oe+1):Z=oe-1}return se}o(vs,"_LEP");function ys(ne,te,Z,A,Q){return typeof Z=="function"?vs(ne,A===void 0?0:A|0,Q===void 0?ne.length-1:Q|0,te,Z):Bo(ne,Z===void 0?0:Z|0,A===void 0?ne.length-1:A|0,te)}o(ys,"dispatchBsearchLE");function qo(ne,te,Z,A){for(te-1;te<=Z;){var Q=te+Z>>>1,se=ne[Q];if(se===A)return Q;se<=A?te=Q+1:Z=Q-1}return-1}o(qo,"_EQA");function bs(ne,te,Z,A,Q){for(te-1;te<=Z;){var se=te+Z>>>1,oe=ne[se],Se=Q(oe,A);if(Se===0)return se;Se<=0?te=se+1:Z=se-1}return-1}o(bs,"_EQP");function Cs(ne,te,Z,A,Q){return typeof Z=="function"?bs(ne,A===void 0?0:A|0,Q===void 0?ne.length-1:Q|0,te,Z):qo(ne,Z===void 0?0:Z|0,A===void 0?ne.length-1:A|0,te)}o(Cs,"dispatchBsearchEQ");var lo={ge:Li,gt:Us,lt:ao,le:ys,eq:Cs},eo=0,ro=1,co=2;function vo(ne,te,Z,A,Q){this.mid=ne,this.left=te,this.right=Z,this.leftPoints=A,this.rightPoints=Q,this.count=(te?te.count:0)+(Z?Z.count:0)+A.length}o(vo,"IntervalTreeNode");var yo=vo.prototype;function Fo(ne,te){ne.mid=te.mid,ne.left=te.left,ne.right=te.right,ne.leftPoints=te.leftPoints,ne.rightPoints=te.rightPoints,ne.count=te.count}o(Fo,"copy");function es(ne,te){var Z=fo(te);ne.mid=Z.mid,ne.left=Z.left,ne.right=Z.right,ne.leftPoints=Z.leftPoints,ne.rightPoints=Z.rightPoints,ne.count=Z.count}o(es,"rebuild");function vr(ne,te){var Z=ne.intervals([]);Z.push(te),es(ne,Z)}o(vr,"rebuildWithInterval");function ts(ne,te){var Z=ne.intervals([]),A=Z.indexOf(te);return A<0?eo:(Z.splice(A,1),es(ne,Z),ro)}o(ts,"rebuildWithoutInterval"),yo.intervals=function(ne){return ne.push.apply(ne,this.leftPoints),this.left&&this.left.intervals(ne),this.right&&this.right.intervals(ne),ne},yo.insert=function(ne){var te=this.count-this.leftPoints.length;if(this.count+=1,ne[1]<this.mid)this.left?4*(this.left.count+1)>3*(te+1)?vr(this,ne):this.left.insert(ne):this.left=fo([ne]);else if(ne[0]>this.mid)this.right?4*(this.right.count+1)>3*(te+1)?vr(this,ne):this.right.insert(ne):this.right=fo([ne]);else{var Z=lo.ge(this.leftPoints,ne,_r),A=lo.ge(this.rightPoints,ne,uo);this.leftPoints.splice(Z,0,ne),this.rightPoints.splice(A,0,ne)}},yo.remove=function(ne){var te=this.count-this.leftPoints;if(ne[1]<this.mid){if(!this.left)return eo;var Z=this.right?this.right.count:0;if(4*Z>3*(te-1))return ts(this,ne);var A=this.left.remove(ne);return A===co?(this.left=null,this.count-=1,ro):(A===ro&&(this.count-=1),A)}else if(ne[0]>this.mid){if(!this.right)return eo;var Q=this.left?this.left.count:0;if(4*Q>3*(te-1))return ts(this,ne);var A=this.right.remove(ne);return A===co?(this.right=null,this.count-=1,ro):(A===ro&&(this.count-=1),A)}else{if(this.count===1)return this.leftPoints[0]===ne?co:eo;if(this.leftPoints.length===1&&this.leftPoints[0]===ne){if(this.left&&this.right){for(var se=this,oe=this.left;oe.right;)se=oe,oe=oe.right;if(se===this)oe.right=this.right;else{var Se=this.left,A=this.right;se.count-=oe.count,se.right=oe.left,oe.left=Se,oe.right=A}Fo(this,oe),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Fo(this,this.left):Fo(this,this.right);return ro}for(var Se=lo.ge(this.leftPoints,ne,_r);Se<this.leftPoints.length&&this.leftPoints[Se][0]===ne[0];++Se)if(this.leftPoints[Se]===ne){this.count-=1,this.leftPoints.splice(Se,1);for(var A=lo.ge(this.rightPoints,ne,uo);A<this.rightPoints.length&&this.rightPoints[A][1]===ne[1];++A)if(this.rightPoints[A]===ne)return this.rightPoints.splice(A,1),ro}return eo}};function Es(ne,te,Z){for(var A=0;A<ne.length&&ne[A][0]<=te;++A){var Q=Z(ne[A]);if(Q)return Q}}o(Es,"reportLeftRange");function ns(ne,te,Z){for(var A=ne.length-1;A>=0&&ne[A][1]>=te;--A){var Q=Z(ne[A]);if(Q)return Q}}o(ns,"reportRightRange");function Kr(ne,te){for(var Z=0;Z<ne.length;++Z){var A=te(ne[Z]);if(A)return A}}o(Kr,"reportRange"),yo.queryPoint=function(ne,te){if(ne<this.mid){if(this.left){var Z=this.left.queryPoint(ne,te);if(Z)return Z}return Es(this.leftPoints,ne,te)}else if(ne>this.mid){if(this.right){var Z=this.right.queryPoint(ne,te);if(Z)return Z}return ns(this.rightPoints,ne,te)}else return Kr(this.leftPoints,te)},yo.queryInterval=function(ne,te,Z){if(ne<this.mid&&this.left){var A=this.left.queryInterval(ne,te,Z);if(A)return A}if(te>this.mid&&this.right){var A=this.right.queryInterval(ne,te,Z);if(A)return A}return te<this.mid?Es(this.leftPoints,te,Z):ne>this.mid?ns(this.rightPoints,ne,Z):Kr(this.leftPoints,Z)};function Vo(ne,te){return ne-te}o(Vo,"compareNumbers");function _r(ne,te){var Z=ne[0]-te[0];return Z||ne[1]-te[1]}o(_r,"compareBegin");function uo(ne,te){var Z=ne[1]-te[1];return Z||ne[0]-te[0]}o(uo,"compareEnd");function fo(ne){if(ne.length===0)return null;for(var te=[],Z=0;Z<ne.length;++Z)te.push(ne[Z][0],ne[Z][1]);te.sort(Vo);for(var A=te[te.length>>1],Q=[],se=[],oe=[],Z=0;Z<ne.length;++Z){var Se=ne[Z];Se[1]<A?Q.push(Se):A<Se[0]?se.push(Se):oe.push(Se)}var Ie=oe,Pe=oe.slice();return Ie.sort(_r),Pe.sort(uo),new vo(A,fo(Q),fo(se),Ie,Pe)}o(fo,"createIntervalTree");function Uo(ne){this.root=ne}o(Uo,"IntervalTree");var oo=Uo.prototype;oo.insert=function(ne){this.root?this.root.insert(ne):this.root=new vo(ne[0],null,null,[ne],[ne])},oo.remove=function(ne){if(this.root){var te=this.root.remove(ne);return te===co&&(this.root=null),te!==eo}return!1},oo.queryPoint=function(ne,te){if(this.root)return this.root.queryPoint(ne,te)},oo.queryInterval=function(ne,te,Z){if(ne<=te&&this.root)return this.root.queryInterval(ne,te,Z)},Object.defineProperty(oo,"count",{get:o(function(){return this.root?this.root.count:0},"get")}),Object.defineProperty(oo,"intervals",{get:o(function(){return this.root?this.root.intervals([]):[]},"get")});function Hr(ne){return!ne||ne.length===0?new Uo(null):new Uo(fo(ne))}o(Hr,"createWrapper");var bo=function(){function ne(){f()(this,ne),m()(this,"_columnSizeMap",{}),m()(this,"_intervalTree",Hr()),m()(this,"_leftMap",{})}return o(ne,"PositionCache"),g()(ne,[{key:"estimateTotalHeight",value:o(function(Z,A,Q){var se=Z-this.count;return this.tallestColumnSize+Math.ceil(se/A)*Q},"estimateTotalHeight")},{key:"range",value:o(function(Z,A,Q){var se=this;this._intervalTree.queryInterval(Z,Z+A,function(oe){var Se=ur()(oe,3),Ie=Se[0],Pe=Se[1],De=Se[2];return Q(De,se._leftMap[De],Ie)})},"range")},{key:"setPosition",value:o(function(Z,A,Q,se){this._intervalTree.insert([Q,Q+se,Z]),this._leftMap[Z]=A;var oe=this._columnSizeMap,Se=oe[A];Se===void 0?oe[A]=Q+se:oe[A]=Math.max(Se,Q+se)},"setPosition")},{key:"count",get:o(function(){return this._intervalTree.count},"get")},{key:"shortestColumnSize",get:o(function(){var Z=this._columnSizeMap,A=0;for(var Q in Z){var se=Z[Q];A=A===0?se:Math.min(A,se)}return A},"get")},{key:"tallestColumnSize",get:o(function(){var Z=this._columnSizeMap,A=0;for(var Q in Z){var se=Z[Q];A=Math.max(A,se)}return A},"get")}]),ne}(),Co,zr;function ho(ne,te){var Z=Object.keys(ne);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(ne);te&&(A=A.filter(function(Q){return Object.getOwnPropertyDescriptor(ne,Q).enumerable})),Z.push.apply(Z,A)}return Z}o(ho,"Masonry_ownKeys");function Ho(ne){for(var te=1;te<arguments.length;te++){var Z=arguments[te]!=null?arguments[te]:{};te%2?ho(Z,!0).forEach(function(A){m()(ne,A,Z[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Z)):ho(Z).forEach(function(A){Object.defineProperty(ne,A,Object.getOwnPropertyDescriptor(Z,A))})}return ne}o(Ho,"Masonry_objectSpread");var Ts={},Hs=150,kr=(zr=Co=function(ne){c()(te,ne);function te(){var Z,A;f()(this,te);for(var Q=arguments.length,se=new Array(Q),oe=0;oe<Q;oe++)se[oe]=arguments[oe];return A=s()(this,(Z=e()(te)).call.apply(Z,[this].concat(se))),m()(n()(A),"state",{isScrolling:!1,scrollTop:0}),m()(n()(A),"_debounceResetIsScrollingId",void 0),m()(n()(A),"_invalidateOnUpdateStartIndex",null),m()(n()(A),"_invalidateOnUpdateStopIndex",null),m()(n()(A),"_positionCache",new bo),m()(n()(A),"_startIndex",null),m()(n()(A),"_startIndexMemoized",null),m()(n()(A),"_stopIndex",null),m()(n()(A),"_stopIndexMemoized",null),m()(n()(A),"_debounceResetIsScrollingCallback",function(){A.setState({isScrolling:!1})}),m()(n()(A),"_setScrollingContainerRef",function(Se){A._scrollingContainer=Se}),m()(n()(A),"_onScroll",function(Se){var Ie=A.props.height,Pe=Se.currentTarget.scrollTop,De=Math.min(Math.max(0,A._getEstimatedTotalHeight()-Ie),Pe);Pe===De&&(A._debounceResetIsScrolling(),A.state.scrollTop!==De&&A.setState({isScrolling:!0,scrollTop:De}))}),A}return o(te,"Masonry"),g()(te,[{key:"clearCellPositions",value:o(function(){this._positionCache=new bo,this.forceUpdate()},"clearCellPositions")},{key:"invalidateCellSizeAfterRender",value:o(function(A){var Q=A.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=Q,this._invalidateOnUpdateStopIndex=Q):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,Q),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,Q))},"invalidateCellSizeAfterRender")},{key:"recomputeCellPositions",value:o(function(){var A=this._positionCache.count-1;this._positionCache=new bo,this._populatePositionCache(0,A),this.forceUpdate()},"recomputeCellPositions")},{key:"componentDidMount",value:o(function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(A,Q){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==A.scrollTop&&this._debounceResetIsScrolling()},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){this._debounceResetIsScrollingId&&er(this._debounceResetIsScrollingId)},"componentWillUnmount")},{key:"render",value:o(function(){var A=this,Q=this.props,se=Q.autoHeight,oe=Q.cellCount,Se=Q.cellMeasurerCache,Ie=Q.cellRenderer,Pe=Q.className,De=Q.height,Le=Q.id,je=Q.keyMapper,Je=Q.overscanByPixels,ct=Q.role,Qe=Q.style,Yt=Q.tabIndex,nn=Q.width,Cn=Q.rowDirection,Rn=this.state,ni=Rn.isScrolling,$n=Rn.scrollTop,ri=[],ii=this._getEstimatedTotalHeight(),wi=this._positionCache.shortestColumnSize,ki=this._positionCache.count,di=0,yi;if(this._positionCache.range(Math.max(0,$n-Je),De+Je*2,function(Gi,Gr,mo){var yr;typeof yi>"u"?(di=Gi,yi=Gi):(di=Math.min(di,Gi),yi=Math.max(yi,Gi)),ri.push(Ie({index:Gi,isScrolling:ni,key:je(Gi),parent:A,style:(yr={height:Se.getHeight(Gi)},m()(yr,Cn==="ltr"?"left":"right",Gr),m()(yr,"position","absolute"),m()(yr,"top",mo),m()(yr,"width",Se.getWidth(Gi)),yr)}))}),wi<$n+De+Je&&ki<oe)for(var or=Math.min(oe-ki,Math.ceil(($n+De+Je-wi)/Se.defaultHeight*nn/Se.defaultWidth)),Ri=ki;Ri<ki+or;Ri++)yi=Ri,ri.push(Ie({index:Ri,isScrolling:ni,key:je(Ri),parent:this,style:{width:Se.getWidth(Ri)}}));return this._startIndex=di,this._stopIndex=yi,d.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:N("ReactVirtualized__Masonry",Pe),id:Le,onScroll:this._onScroll,role:ct,style:Ho({boxSizing:"border-box",direction:"ltr",height:se?"auto":De,overflowX:"hidden",overflowY:ii<De?"hidden":"auto",position:"relative",width:nn,WebkitOverflowScrolling:"touch",willChange:"transform"},Qe),tabIndex:Yt},d.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:ii,maxWidth:"100%",maxHeight:ii,overflow:"hidden",pointerEvents:ni?"none":"",position:"relative"}},ri))},"render")},{key:"_checkInvalidateOnUpdate",value:o(function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var A=this._invalidateOnUpdateStartIndex,Q=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(A,Q),this.forceUpdate()}},"_checkInvalidateOnUpdate")},{key:"_debounceResetIsScrolling",value:o(function(){var A=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&er(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=cr(this._debounceResetIsScrollingCallback,A)},"_debounceResetIsScrolling")},{key:"_getEstimatedTotalHeight",value:o(function(){var A=this.props,Q=A.cellCount,se=A.cellMeasurerCache,oe=A.width,Se=Math.max(1,Math.floor(oe/se.defaultWidth));return this._positionCache.estimateTotalHeight(Q,Se,se.defaultHeight)},"_getEstimatedTotalHeight")},{key:"_invokeOnScrollCallback",value:o(function(){var A=this.props,Q=A.height,se=A.onScroll,oe=this.state.scrollTop;this._onScrollMemoized!==oe&&(se({clientHeight:Q,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:oe}),this._onScrollMemoized=oe)},"_invokeOnScrollCallback")},{key:"_invokeOnCellsRenderedCallback",value:o(function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var A=this.props.onCellsRendered;A({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}},"_invokeOnCellsRenderedCallback")},{key:"_populatePositionCache",value:o(function(A,Q){for(var se=this.props,oe=se.cellMeasurerCache,Se=se.cellPositioner,Ie=A;Ie<=Q;Ie++){var Pe=Se(Ie),De=Pe.left,Le=Pe.top;this._positionCache.setPosition(Ie,De,Le,oe.getHeight(Ie))}},"_populatePositionCache")}],[{key:"getDerivedStateFromProps",value:o(function(A,Q){return A.scrollTop!==void 0&&Q.scrollTop!==A.scrollTop?{isScrolling:!0,scrollTop:A.scrollTop}:null},"getDerivedStateFromProps")}]),te}(d.PureComponent),m()(Co,"propTypes",null),zr);m()(kr,"defaultProps",{autoHeight:!1,keyMapper:is,onCellsRendered:Wr,onScroll:Wr,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Hs,style:Ts,tabIndex:0,rowDirection:"ltr"});function is(ne){return ne}o(is,"identity");function Wr(){}o(Wr,"noop");var zs=null;Object(y.polyfill)(kr);var Ws=kr,Jr=null;function Eo(ne){var te=ne.cellMeasurerCache,Z=ne.columnCount,A=ne.columnWidth,Q=ne.spacer,se=Q===void 0?0:Q,oe;Ie();function Se(De){for(var Le=0,je=1;je<oe.length;je++)oe[je]<oe[Le]&&(Le=je);var Je=Le*(A+se),ct=oe[Le]||0;return oe[Le]=ct+te.getHeight(De)+se,{left:Je,top:ct}}o(Se,"cellPositioner");function Ie(){oe=[];for(var De=0;De<Z;De++)oe[De]=0}o(Ie,"initOrResetDerivedValues");function Pe(De){Z=De.columnCount,A=De.columnWidth,se=De.spacer,Ie()}return o(Pe,"reset"),Se.reset=Pe,Se}o(Eo,"createCellPositioner");var rs=Ws,zo=function(){function ne(){var te=this,Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f()(this,ne),m()(this,"_cellMeasurerCache",void 0),m()(this,"_columnIndexOffset",void 0),m()(this,"_rowIndexOffset",void 0),m()(this,"columnWidth",function(Ie){var Pe=Ie.index;te._cellMeasurerCache.columnWidth({index:Pe+te._columnIndexOffset})}),m()(this,"rowHeight",function(Ie){var Pe=Ie.index;te._cellMeasurerCache.rowHeight({index:Pe+te._rowIndexOffset})});var A=Z.cellMeasurerCache,Q=Z.columnIndexOffset,se=Q===void 0?0:Q,oe=Z.rowIndexOffset,Se=oe===void 0?0:oe;this._cellMeasurerCache=A,this._columnIndexOffset=se,this._rowIndexOffset=Se}return o(ne,"CellMeasurerCacheDecorator"),g()(ne,[{key:"clear",value:o(function(Z,A){this._cellMeasurerCache.clear(Z+this._rowIndexOffset,A+this._columnIndexOffset)},"clear")},{key:"clearAll",value:o(function(){this._cellMeasurerCache.clearAll()},"clearAll")},{key:"hasFixedHeight",value:o(function(){return this._cellMeasurerCache.hasFixedHeight()},"hasFixedHeight")},{key:"hasFixedWidth",value:o(function(){return this._cellMeasurerCache.hasFixedWidth()},"hasFixedWidth")},{key:"getHeight",value:o(function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(Z+this._rowIndexOffset,A+this._columnIndexOffset)},"getHeight")},{key:"getWidth",value:o(function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(Z+this._rowIndexOffset,A+this._columnIndexOffset)},"getWidth")},{key:"has",value:o(function(Z){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(Z+this._rowIndexOffset,A+this._columnIndexOffset)},"has")},{key:"set",value:o(function(Z,A,Q,se){this._cellMeasurerCache.set(Z+this._rowIndexOffset,A+this._columnIndexOffset,Q,se)},"set")},{key:"defaultHeight",get:o(function(){return this._cellMeasurerCache.defaultHeight},"get")},{key:"defaultWidth",get:o(function(){return this._cellMeasurerCache.defaultWidth},"get")}]),ne}();function Is(ne,te){var Z=Object.keys(ne);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(ne);te&&(A=A.filter(function(Q){return Object.getOwnPropertyDescriptor(ne,Q).enumerable})),Z.push.apply(Z,A)}return Z}o(Is,"MultiGrid_ownKeys");function ir(ne){for(var te=1;te<arguments.length;te++){var Z=arguments[te]!=null?arguments[te]:{};te%2?Is(Z,!0).forEach(function(A){m()(ne,A,Z[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Z)):Is(Z).forEach(function(A){Object.defineProperty(ne,A,Object.getOwnPropertyDescriptor(Z,A))})}return ne}o(ir,"MultiGrid_objectSpread");var Wo=20,To=function(ne){c()(te,ne);function te(Z,A){var Q;f()(this,te),Q=s()(this,e()(te).call(this,Z,A)),m()(n()(Q),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),m()(n()(Q),"_deferredInvalidateColumnIndex",null),m()(n()(Q),"_deferredInvalidateRowIndex",null),m()(n()(Q),"_bottomLeftGridRef",function(Ie){Q._bottomLeftGrid=Ie}),m()(n()(Q),"_bottomRightGridRef",function(Ie){Q._bottomRightGrid=Ie}),m()(n()(Q),"_cellRendererBottomLeftGrid",function(Ie){var Pe=Ie.rowIndex,De=B()(Ie,["rowIndex"]),Le=Q.props,je=Le.cellRenderer,Je=Le.fixedRowCount,ct=Le.rowCount;return Pe===ct-Je?d.createElement("div",{key:De.key,style:ir({},De.style,{height:Wo})}):je(ir({},De,{parent:n()(Q),rowIndex:Pe+Je}))}),m()(n()(Q),"_cellRendererBottomRightGrid",function(Ie){var Pe=Ie.columnIndex,De=Ie.rowIndex,Le=B()(Ie,["columnIndex","rowIndex"]),je=Q.props,Je=je.cellRenderer,ct=je.fixedColumnCount,Qe=je.fixedRowCount;return Je(ir({},Le,{columnIndex:Pe+ct,parent:n()(Q),rowIndex:De+Qe}))}),m()(n()(Q),"_cellRendererTopRightGrid",function(Ie){var Pe=Ie.columnIndex,De=B()(Ie,["columnIndex"]),Le=Q.props,je=Le.cellRenderer,Je=Le.columnCount,ct=Le.fixedColumnCount;return Pe===Je-ct?d.createElement("div",{key:De.key,style:ir({},De.style,{width:Wo})}):je(ir({},De,{columnIndex:Pe+ct,parent:n()(Q)}))}),m()(n()(Q),"_columnWidthRightGrid",function(Ie){var Pe=Ie.index,De=Q.props,Le=De.columnCount,je=De.fixedColumnCount,Je=De.columnWidth,ct=Q.state,Qe=ct.scrollbarSize,Yt=ct.showHorizontalScrollbar;return Yt&&Pe===Le-je?Qe:typeof Je=="function"?Je({index:Pe+je}):Je}),m()(n()(Q),"_onScroll",function(Ie){var Pe=Ie.scrollLeft,De=Ie.scrollTop;Q.setState({scrollLeft:Pe,scrollTop:De});var Le=Q.props.onScroll;Le&&Le(Ie)}),m()(n()(Q),"_onScrollbarPresenceChange",function(Ie){var Pe=Ie.horizontal,De=Ie.size,Le=Ie.vertical,je=Q.state,Je=je.showHorizontalScrollbar,ct=je.showVerticalScrollbar;if(Pe!==Je||Le!==ct){Q.setState({scrollbarSize:De,showHorizontalScrollbar:Pe,showVerticalScrollbar:Le});var Qe=Q.props.onScrollbarPresenceChange;typeof Qe=="function"&&Qe({horizontal:Pe,size:De,vertical:Le})}}),m()(n()(Q),"_onScrollLeft",function(Ie){var Pe=Ie.scrollLeft;Q._onScroll({scrollLeft:Pe,scrollTop:Q.state.scrollTop})}),m()(n()(Q),"_onScrollTop",function(Ie){var Pe=Ie.scrollTop;Q._onScroll({scrollTop:Pe,scrollLeft:Q.state.scrollLeft})}),m()(n()(Q),"_rowHeightBottomGrid",function(Ie){var Pe=Ie.index,De=Q.props,Le=De.fixedRowCount,je=De.rowCount,Je=De.rowHeight,ct=Q.state,Qe=ct.scrollbarSize,Yt=ct.showVerticalScrollbar;return Yt&&Pe===je-Le?Qe:typeof Je=="function"?Je({index:Pe+Le}):Je}),m()(n()(Q),"_topLeftGridRef",function(Ie){Q._topLeftGrid=Ie}),m()(n()(Q),"_topRightGridRef",function(Ie){Q._topRightGrid=Ie});var se=Z.deferredMeasurementCache,oe=Z.fixedColumnCount,Se=Z.fixedRowCount;return Q._maybeCalculateCachedStyles(!0),se&&(Q._deferredMeasurementCacheBottomLeftGrid=Se>0?new zo({cellMeasurerCache:se,columnIndexOffset:0,rowIndexOffset:Se}):se,Q._deferredMeasurementCacheBottomRightGrid=oe>0||Se>0?new zo({cellMeasurerCache:se,columnIndexOffset:oe,rowIndexOffset:Se}):se,Q._deferredMeasurementCacheTopRightGrid=oe>0?new zo({cellMeasurerCache:se,columnIndexOffset:oe,rowIndexOffset:0}):se),Q}return o(te,"MultiGrid"),g()(te,[{key:"forceUpdateGrids",value:o(function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()},"forceUpdateGrids")},{key:"invalidateCellSizeAfterRender",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=A.columnIndex,se=Q===void 0?0:Q,oe=A.rowIndex,Se=oe===void 0?0:oe;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,se):se,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,Se):Se},"invalidateCellSizeAfterRender")},{key:"measureAllCells",value:o(function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()},"measureAllCells")},{key:"recomputeGridSize",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=A.columnIndex,se=Q===void 0?0:Q,oe=A.rowIndex,Se=oe===void 0?0:oe,Ie=this.props,Pe=Ie.fixedColumnCount,De=Ie.fixedRowCount,Le=Math.max(0,se-Pe),je=Math.max(0,Se-De);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:se,rowIndex:je}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:Le,rowIndex:je}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:se,rowIndex:Se}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:Le,rowIndex:Se}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)},"recomputeGridSize")},{key:"componentDidMount",value:o(function(){var A=this.props,Q=A.scrollLeft,se=A.scrollTop;if(Q>0||se>0){var oe={};Q>0&&(oe.scrollLeft=Q),se>0&&(oe.scrollTop=se),this.setState(oe)}this._handleInvalidatedGridSize()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(){this._handleInvalidatedGridSize()},"componentDidUpdate")},{key:"render",value:o(function(){var A=this.props,Q=A.onScroll,se=A.onSectionRendered,oe=A.onScrollbarPresenceChange,Se=A.scrollLeft,Ie=A.scrollToColumn,Pe=A.scrollTop,De=A.scrollToRow,Le=B()(A,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var je=this.state,Je=je.scrollLeft,ct=je.scrollTop;return d.createElement("div",{style:this._containerOuterStyle},d.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(Le),this._renderTopRightGrid(ir({},Le,{onScroll:Q,scrollLeft:Je}))),d.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(ir({},Le,{onScroll:Q,scrollTop:ct})),this._renderBottomRightGrid(ir({},Le,{onScroll:Q,onSectionRendered:se,scrollLeft:Je,scrollToColumn:Ie,scrollToRow:De,scrollTop:ct}))))},"render")},{key:"_getBottomGridHeight",value:o(function(A){var Q=A.height,se=this._getTopGridHeight(A);return Q-se},"_getBottomGridHeight")},{key:"_getLeftGridWidth",value:o(function(A){var Q=A.fixedColumnCount,se=A.columnWidth;if(this._leftGridWidth==null)if(typeof se=="function"){for(var oe=0,Se=0;Se<Q;Se++)oe+=se({index:Se});this._leftGridWidth=oe}else this._leftGridWidth=se*Q;return this._leftGridWidth},"_getLeftGridWidth")},{key:"_getRightGridWidth",value:o(function(A){var Q=A.width,se=this._getLeftGridWidth(A);return Q-se},"_getRightGridWidth")},{key:"_getTopGridHeight",value:o(function(A){var Q=A.fixedRowCount,se=A.rowHeight;if(this._topGridHeight==null)if(typeof se=="function"){for(var oe=0,Se=0;Se<Q;Se++)oe+=se({index:Se});this._topGridHeight=oe}else this._topGridHeight=se*Q;return this._topGridHeight},"_getTopGridHeight")},{key:"_handleInvalidatedGridSize",value:o(function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var A=this._deferredInvalidateColumnIndex,Q=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:A,rowIndex:Q}),this.forceUpdate()}},"_handleInvalidatedGridSize")},{key:"_maybeCalculateCachedStyles",value:o(function(A){var Q=this.props,se=Q.columnWidth,oe=Q.enableFixedColumnScroll,Se=Q.enableFixedRowScroll,Ie=Q.height,Pe=Q.fixedColumnCount,De=Q.fixedRowCount,Le=Q.rowHeight,je=Q.style,Je=Q.styleBottomLeftGrid,ct=Q.styleBottomRightGrid,Qe=Q.styleTopLeftGrid,Yt=Q.styleTopRightGrid,nn=Q.width,Cn=A||Ie!==this._lastRenderedHeight||nn!==this._lastRenderedWidth,Rn=A||se!==this._lastRenderedColumnWidth||Pe!==this._lastRenderedFixedColumnCount,ni=A||De!==this._lastRenderedFixedRowCount||Le!==this._lastRenderedRowHeight;(A||Cn||je!==this._lastRenderedStyle)&&(this._containerOuterStyle=ir({height:Ie,overflow:"visible",width:nn},je)),(A||Cn||ni)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:nn},this._containerBottomStyle={height:Ie-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:nn}),(A||Je!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=ir({left:0,overflowX:"hidden",overflowY:oe?"auto":"hidden",position:"absolute"},Je)),(A||Rn||ct!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=ir({left:this._getLeftGridWidth(this.props),position:"absolute"},ct)),(A||Qe!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=ir({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},Qe)),(A||Rn||Yt!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=ir({left:this._getLeftGridWidth(this.props),overflowX:Se?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},Yt)),this._lastRenderedColumnWidth=se,this._lastRenderedFixedColumnCount=Pe,this._lastRenderedFixedRowCount=De,this._lastRenderedHeight=Ie,this._lastRenderedRowHeight=Le,this._lastRenderedStyle=je,this._lastRenderedStyleBottomLeftGrid=Je,this._lastRenderedStyleBottomRightGrid=ct,this._lastRenderedStyleTopLeftGrid=Qe,this._lastRenderedStyleTopRightGrid=Yt,this._lastRenderedWidth=nn},"_maybeCalculateCachedStyles")},{key:"_prepareForRender",value:o(function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight},"_prepareForRender")},{key:"_renderBottomLeftGrid",value:o(function(A){var Q=A.enableFixedColumnScroll,se=A.fixedColumnCount,oe=A.fixedRowCount,Se=A.rowCount,Ie=A.hideBottomLeftGridScrollbar,Pe=this.state.showVerticalScrollbar;if(!se)return null;var De=Pe?1:0,Le=this._getBottomGridHeight(A),je=this._getLeftGridWidth(A),Je=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,ct=Ie?je+Je:je,Qe=d.createElement(ht,w()({},A,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:se,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:Le,onScroll:Q?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,Se-oe)+De,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:ct}));return Ie?d.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:ir({},this._bottomLeftGridStyle,{height:Le,width:je,overflowY:"hidden"})},Qe):Qe},"_renderBottomLeftGrid")},{key:"_renderBottomRightGrid",value:o(function(A){var Q=A.columnCount,se=A.fixedColumnCount,oe=A.fixedRowCount,Se=A.rowCount,Ie=A.scrollToColumn,Pe=A.scrollToRow;return d.createElement(ht,w()({},A,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,Q-se),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(A),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,Se-oe),rowHeight:this._rowHeightBottomGrid,scrollToColumn:Ie-se,scrollToRow:Pe-oe,style:this._bottomRightGridStyle,width:this._getRightGridWidth(A)}))},"_renderBottomRightGrid")},{key:"_renderTopLeftGrid",value:o(function(A){var Q=A.fixedColumnCount,se=A.fixedRowCount;return!Q||!se?null:d.createElement(ht,w()({},A,{className:this.props.classNameTopLeftGrid,columnCount:Q,height:this._getTopGridHeight(A),ref:this._topLeftGridRef,rowCount:se,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(A)}))},"_renderTopLeftGrid")},{key:"_renderTopRightGrid",value:o(function(A){var Q=A.columnCount,se=A.enableFixedRowScroll,oe=A.fixedColumnCount,Se=A.fixedRowCount,Ie=A.scrollLeft,Pe=A.hideTopRightGridScrollbar,De=this.state,Le=De.showHorizontalScrollbar,je=De.scrollbarSize;if(!Se)return null;var Je=Le?1:0,ct=this._getTopGridHeight(A),Qe=this._getRightGridWidth(A),Yt=Le?je:0,nn=ct,Cn=this._topRightGridStyle;Pe&&(nn=ct+Yt,Cn=ir({},this._topRightGridStyle,{left:0}));var Rn=d.createElement(ht,w()({},A,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,Q-oe)+Je,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:nn,onScroll:se?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:Se,scrollLeft:Ie,style:Cn,tabIndex:null,width:Qe}));return Pe?d.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:ir({},this._topRightGridStyle,{height:ct,width:Qe,overflowX:"hidden"})},Rn):Rn},"_renderTopRightGrid")}],[{key:"getDerivedStateFromProps",value:o(function(A,Q){return A.scrollLeft!==Q.scrollLeft||A.scrollTop!==Q.scrollTop?{scrollLeft:A.scrollLeft!=null&&A.scrollLeft>=0?A.scrollLeft:Q.scrollLeft,scrollTop:A.scrollTop!=null&&A.scrollTop>=0?A.scrollTop:Q.scrollTop}:null},"getDerivedStateFromProps")}]),te}(d.PureComponent);m()(To,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),To.propTypes={},Object(y.polyfill)(To);var os=To,ws=os,Yr=function(ne){c()(te,ne);function te(Z,A){var Q;return f()(this,te),Q=s()(this,e()(te).call(this,Z,A)),Q.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},Q._onScroll=Q._onScroll.bind(n()(Q)),Q}return o(te,"ScrollSync"),g()(te,[{key:"render",value:o(function(){var A=this.props.children,Q=this.state,se=Q.clientHeight,oe=Q.clientWidth,Se=Q.scrollHeight,Ie=Q.scrollLeft,Pe=Q.scrollTop,De=Q.scrollWidth;return A({clientHeight:se,clientWidth:oe,onScroll:this._onScroll,scrollHeight:Se,scrollLeft:Ie,scrollTop:Pe,scrollWidth:De})},"render")},{key:"_onScroll",value:o(function(A){var Q=A.clientHeight,se=A.clientWidth,oe=A.scrollHeight,Se=A.scrollLeft,Ie=A.scrollTop,Pe=A.scrollWidth;this.setState({clientHeight:Q,clientWidth:se,scrollHeight:oe,scrollLeft:Se,scrollTop:Ie,scrollWidth:Pe})},"_onScroll")}]),te}(d.PureComponent);Yr.propTypes={};var js=Yr;function jo(ne){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=te.defaultSortBy,A=te.defaultSortDirection,Q=A===void 0?{}:A;if(!ne)throw Error('Required parameter "sortCallback" not specified');var se=Z||[],oe={};se.forEach(function(Ie){oe[Ie]=Q[Ie]!==void 0?Q[Ie]:"ASC"});function Se(Ie){var Pe=Ie.defaultSortDirection,De=Ie.event,Le=Ie.sortBy;if(De.shiftKey)oe[Le]!==void 0?oe[Le]=oe[Le]==="ASC"?"DESC":"ASC":(oe[Le]=Pe,se.push(Le));else if(De.ctrlKey||De.metaKey){var je=se.indexOf(Le);je>=0&&(se.splice(je,1),delete oe[Le])}else{se.length=0,se.push(Le);var Je=Object.keys(oe);Je.forEach(function(ct){ct!==Le&&delete oe[ct]}),oe[Le]!==void 0?oe[Le]=oe[Le]==="ASC"?"DESC":"ASC":oe[Le]=Pe}ne({sortBy:se,sortDirection:oe})}return o(Se,"sort"),{sort:Se,sortBy:se,sortDirection:oe}}o(jo,"createMultiSort");var fr=null,Go=null,ss=null,as=null,$o=null;function Io(ne){var te=ne.dataKey,Z=ne.rowData;return typeof Z.get=="function"?Z.get(te):Z[te]}o(Io,"defaultCellDataGetter");function wo(ne){var te=ne.cellData;return te==null?"":String(te)}o(wo,"defaultCellRenderer");function ls(ne){var te=ne.className,Z=ne.columns,A=ne.style;return d.createElement("div",{className:te,role:"row",style:A},Z)}o(ls,"defaultHeaderRowRenderer"),ls.propTypes=null;var ds={ASC:"ASC",DESC:"DESC"},Xr=ds;function to(ne){var te=ne.sortDirection,Z=N("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":te===Xr.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":te===Xr.DESC});return d.createElement("svg",{className:Z,width:18,height:18,viewBox:"0 0 24 24"},te===Xr.ASC?d.createElement("path",{d:"M7 14l5-5 5 5z"}):d.createElement("path",{d:"M7 10l5 5 5-5z"}),d.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}o(to,"SortIndicator"),to.propTypes={};function jr(ne){var te=ne.dataKey,Z=ne.label,A=ne.sortBy,Q=ne.sortDirection,se=A===te,oe=[d.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof Z=="string"?Z:null},Z)];return se&&oe.push(d.createElement(to,{key:"SortIndicator",sortDirection:Q})),oe}o(jr,"defaultHeaderRenderer"),jr.propTypes=null;function Gs(ne){var te=ne.className,Z=ne.columns,A=ne.index,Q=ne.key,se=ne.onRowClick,oe=ne.onRowDoubleClick,Se=ne.onRowMouseOut,Ie=ne.onRowMouseOver,Pe=ne.onRowRightClick,De=ne.rowData,Le=ne.style,je={"aria-rowindex":A+1};return(se||oe||Se||Ie||Pe)&&(je["aria-label"]="row",je.tabIndex=0,se&&(je.onClick=function(Je){return se({event:Je,index:A,rowData:De})}),oe&&(je.onDoubleClick=function(Je){return oe({event:Je,index:A,rowData:De})}),Se&&(je.onMouseOut=function(Je){return Se({event:Je,index:A,rowData:De})}),Ie&&(je.onMouseOver=function(Je){return Ie({event:Je,index:A,rowData:De})}),Pe&&(je.onContextMenu=function(Je){return Pe({event:Je,index:A,rowData:De})})),d.createElement("div",w()({},je,{className:te,key:Q,role:"row",style:Le}),Z)}o(Gs,"defaultRowRenderer"),Gs.propTypes=null;var Oo=function(ne){c()(te,ne);function te(){return f()(this,te),s()(this,e()(te).apply(this,arguments))}return o(te,"Column"),te}(d.Component);m()(Oo,"defaultProps",{cellDataGetter:Io,cellRenderer:wo,defaultSortDirection:Xr.ASC,flexGrow:0,flexShrink:1,headerRenderer:jr,style:{}}),Oo.propTypes={};function Mo(ne,te){var Z=Object.keys(ne);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(ne);te&&(A=A.filter(function(Q){return Object.getOwnPropertyDescriptor(ne,Q).enumerable})),Z.push.apply(Z,A)}return Z}o(Mo,"Table_ownKeys");function Ro(ne){for(var te=1;te<arguments.length;te++){var Z=arguments[te]!=null?arguments[te]:{};te%2?Mo(Z,!0).forEach(function(A){m()(ne,A,Z[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Z)):Mo(Z).forEach(function(A){Object.defineProperty(ne,A,Object.getOwnPropertyDescriptor(Z,A))})}return ne}o(Ro,"Table_objectSpread");var Os=function(ne){c()(te,ne);function te(Z){var A;return f()(this,te),A=s()(this,e()(te).call(this,Z)),A.state={scrollbarWidth:0},A._createColumn=A._createColumn.bind(n()(A)),A._createRow=A._createRow.bind(n()(A)),A._onScroll=A._onScroll.bind(n()(A)),A._onSectionRendered=A._onSectionRendered.bind(n()(A)),A._setRef=A._setRef.bind(n()(A)),A}return o(te,"Table"),g()(te,[{key:"forceUpdateGrid",value:o(function(){this.Grid&&this.Grid.forceUpdate()},"forceUpdateGrid")},{key:"getOffsetForRow",value:o(function(A){var Q=A.alignment,se=A.index;if(this.Grid){var oe=this.Grid.getOffsetForCell({alignment:Q,rowIndex:se}),Se=oe.scrollTop;return Se}return 0},"getOffsetForRow")},{key:"invalidateCellSizeAfterRender",value:o(function(A){var Q=A.columnIndex,se=A.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:se,columnIndex:Q})},"invalidateCellSizeAfterRender")},{key:"measureAllRows",value:o(function(){this.Grid&&this.Grid.measureAllCells()},"measureAllRows")},{key:"recomputeGridSize",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=A.columnIndex,se=Q===void 0?0:Q,oe=A.rowIndex,Se=oe===void 0?0:oe;this.Grid&&this.Grid.recomputeGridSize({rowIndex:Se,columnIndex:se})},"recomputeGridSize")},{key:"recomputeRowHeights",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:A})},"recomputeRowHeights")},{key:"scrollToPosition",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:A})},"scrollToPosition")},{key:"scrollToRow",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:A})},"scrollToRow")},{key:"getScrollbarWidth",value:o(function(){if(this.Grid){var A=Object(Zi.findDOMNode)(this.Grid),Q=A.clientWidth||0,se=A.offsetWidth||0;return se-Q}return 0},"getScrollbarWidth")},{key:"componentDidMount",value:o(function(){this._setScrollbarWidth()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(){this._setScrollbarWidth()},"componentDidUpdate")},{key:"render",value:o(function(){var A=this,Q=this.props,se=Q.children,oe=Q.className,Se=Q.disableHeader,Ie=Q.gridClassName,Pe=Q.gridStyle,De=Q.headerHeight,Le=Q.headerRowRenderer,je=Q.height,Je=Q.id,ct=Q.noRowsRenderer,Qe=Q.rowClassName,Yt=Q.rowStyle,nn=Q.scrollToIndex,Cn=Q.style,Rn=Q.width,ni=this.state.scrollbarWidth,$n=Se?je:je-De,ri=typeof Qe=="function"?Qe({index:-1}):Qe,ii=typeof Yt=="function"?Yt({index:-1}):Yt;return this._cachedColumnStyles=[],d.Children.toArray(se).forEach(function(wi,ki){var di=A._getFlexStyleForColumn(wi,wi.props.style);A._cachedColumnStyles[ki]=Ro({overflow:"hidden"},di)}),d.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":d.Children.toArray(se).length,"aria-rowcount":this.props.rowCount,className:N("ReactVirtualized__Table",oe),id:Je,role:"grid",style:Cn},!Se&&Le({className:N("ReactVirtualized__Table__headerRow",ri),columns:this._getHeaderColumns(),style:Ro({height:De,overflow:"hidden",paddingRight:ni,width:Rn},ii)}),d.createElement(ht,w()({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:N("ReactVirtualized__Table__Grid",Ie),cellRenderer:this._createRow,columnWidth:Rn,columnCount:1,height:$n,id:void 0,noContentRenderer:ct,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:ni,scrollToRow:nn,style:Ro({},Pe,{overflowX:"hidden"})})))},"render")},{key:"_createColumn",value:o(function(A){var Q=A.column,se=A.columnIndex,oe=A.isScrolling,Se=A.parent,Ie=A.rowData,Pe=A.rowIndex,De=this.props.onColumnClick,Le=Q.props,je=Le.cellDataGetter,Je=Le.cellRenderer,ct=Le.className,Qe=Le.columnData,Yt=Le.dataKey,nn=Le.id,Cn=je({columnData:Qe,dataKey:Yt,rowData:Ie}),Rn=Je({cellData:Cn,columnData:Qe,columnIndex:se,dataKey:Yt,isScrolling:oe,parent:Se,rowData:Ie,rowIndex:Pe}),ni=o(function(wi){De&&De({columnData:Qe,dataKey:Yt,event:wi})},"onClick"),$n=this._cachedColumnStyles[se],ri=typeof Rn=="string"?Rn:null;return d.createElement("div",{"aria-colindex":se+1,"aria-describedby":nn,className:N("ReactVirtualized__Table__rowColumn",ct),key:"Row"+Pe+"-Col"+se,onClick:ni,role:"gridcell",style:$n,title:ri},Rn)},"_createColumn")},{key:"_createHeader",value:o(function(A){var Q=A.column,se=A.index,oe=this.props,Se=oe.headerClassName,Ie=oe.headerStyle,Pe=oe.onHeaderClick,De=oe.sort,Le=oe.sortBy,je=oe.sortDirection,Je=Q.props,ct=Je.columnData,Qe=Je.dataKey,Yt=Je.defaultSortDirection,nn=Je.disableSort,Cn=Je.headerRenderer,Rn=Je.id,ni=Je.label,$n=!nn&&De,ri=N("ReactVirtualized__Table__headerColumn",Se,Q.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:$n}),ii=this._getFlexStyleForColumn(Q,Ro({},Ie,{},Q.props.headerStyle)),wi=Cn({columnData:ct,dataKey:Qe,disableSort:nn,label:ni,sortBy:Le,sortDirection:je}),ki,di,yi,or,Ri;if($n||Pe){var Gi=Le!==Qe,Gr=Gi?Yt:je===Xr.DESC?Xr.ASC:Xr.DESC,mo=o(function($t){$n&&De({defaultSortDirection:Yt,event:$t,sortBy:Qe,sortDirection:Gr}),Pe&&Pe({columnData:ct,dataKey:Qe,event:$t})},"onClick"),yr=o(function($t){($t.key==="Enter"||$t.key===" ")&&mo($t)},"onKeyDown");Ri=Q.props["aria-label"]||ni||Qe,or="none",yi=0,ki=mo,di=yr}return Le===Qe&&(or=je===Xr.ASC?"ascending":"descending"),d.createElement("div",{"aria-label":Ri,"aria-sort":or,className:ri,id:Rn,key:"Header-Col"+se,onClick:ki,onKeyDown:di,role:"columnheader",style:ii,tabIndex:yi},wi)},"_createHeader")},{key:"_createRow",value:o(function(A){var Q=this,se=A.rowIndex,oe=A.isScrolling,Se=A.key,Ie=A.parent,Pe=A.style,De=this.props,Le=De.children,je=De.onRowClick,Je=De.onRowDoubleClick,ct=De.onRowRightClick,Qe=De.onRowMouseOver,Yt=De.onRowMouseOut,nn=De.rowClassName,Cn=De.rowGetter,Rn=De.rowRenderer,ni=De.rowStyle,$n=this.state.scrollbarWidth,ri=typeof nn=="function"?nn({index:se}):nn,ii=typeof ni=="function"?ni({index:se}):ni,wi=Cn({index:se}),ki=d.Children.toArray(Le).map(function(or,Ri){return Q._createColumn({column:or,columnIndex:Ri,isScrolling:oe,parent:Ie,rowData:wi,rowIndex:se,scrollbarWidth:$n})}),di=N("ReactVirtualized__Table__row",ri),yi=Ro({},Pe,{height:this._getRowHeight(se),overflow:"hidden",paddingRight:$n},ii);return Rn({className:di,columns:ki,index:se,isScrolling:oe,key:Se,onRowClick:je,onRowDoubleClick:Je,onRowRightClick:ct,onRowMouseOver:Qe,onRowMouseOut:Yt,rowData:wi,style:yi})},"_createRow")},{key:"_getFlexStyleForColumn",value:o(function(A){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se="".concat(A.props.flexGrow," ").concat(A.props.flexShrink," ").concat(A.props.width,"px"),oe=Ro({},Q,{flex:se,msFlex:se,WebkitFlex:se});return A.props.maxWidth&&(oe.maxWidth=A.props.maxWidth),A.props.minWidth&&(oe.minWidth=A.props.minWidth),oe},"_getFlexStyleForColumn")},{key:"_getHeaderColumns",value:o(function(){var A=this,Q=this.props,se=Q.children,oe=Q.disableHeader,Se=oe?[]:d.Children.toArray(se);return Se.map(function(Ie,Pe){return A._createHeader({column:Ie,index:Pe})})},"_getHeaderColumns")},{key:"_getRowHeight",value:o(function(A){var Q=this.props.rowHeight;return typeof Q=="function"?Q({index:A}):Q},"_getRowHeight")},{key:"_onScroll",value:o(function(A){var Q=A.clientHeight,se=A.scrollHeight,oe=A.scrollTop,Se=this.props.onScroll;Se({clientHeight:Q,scrollHeight:se,scrollTop:oe})},"_onScroll")},{key:"_onSectionRendered",value:o(function(A){var Q=A.rowOverscanStartIndex,se=A.rowOverscanStopIndex,oe=A.rowStartIndex,Se=A.rowStopIndex,Ie=this.props.onRowsRendered;Ie({overscanStartIndex:Q,overscanStopIndex:se,startIndex:oe,stopIndex:Se})},"_onSectionRendered")},{key:"_setRef",value:o(function(A){this.Grid=A},"_setRef")},{key:"_setScrollbarWidth",value:o(function(){var A=this.getScrollbarWidth();this.setState({scrollbarWidth:A})},"_setScrollbarWidth")}]),te}(d.PureComponent);m()(Os,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:o(function(){return null},"noRowsRenderer"),onRowsRendered:o(function(){return null},"onRowsRendered"),onScroll:o(function(){return null},"onScroll"),overscanIndicesGetter:Qt,overscanRowCount:10,rowRenderer:Gs,headerRowRenderer:ls,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),Os.propTypes={};var Ko=Os,Ji=[],Ms=null,Ao=null;function Ni(){Ao&&(Ao=null,document.body&&Ms!=null&&(document.body.style.pointerEvents=Ms),Ms=null)}o(Ni,"enablePointerEventsIfDisabled");function $s(){Ni(),Ji.forEach(function(ne){return ne.__resetIsScrolling()})}o($s,"enablePointerEventsAfterDelayCallback");function Jo(){Ao&&er(Ao);var ne=0;Ji.forEach(function(te){ne=Math.max(ne,te.props.scrollingResetTimeInterval)}),Ao=cr($s,ne)}o(Jo,"enablePointerEventsAfterDelay");function po(ne){ne.currentTarget===window&&Ms==null&&document.body&&(Ms=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),Jo(),Ji.forEach(function(te){te.props.scrollElement===ne.currentTarget&&te.__handleWindowScrollEvent()})}o(po,"onScrollWindow");function hr(ne,te){Ji.some(function(Z){return Z.props.scrollElement===te})||te.addEventListener("scroll",po),Ji.push(ne)}o(hr,"registerScrollListener");function Ks(ne,te){Ji=Ji.filter(function(Z){return Z!==ne}),Ji.length||(te.removeEventListener("scroll",po),Ao&&(er(Ao),Ni()))}o(Ks,"unregisterScrollListener");var cs=o(function(te){return te===window},"isWindow"),Yo=o(function(te){return te.getBoundingClientRect()},"getBoundingBox");function us(ne,te){if(ne)if(cs(ne)){var Z=window,A=Z.innerHeight,Q=Z.innerWidth;return{height:typeof A=="number"?A:0,width:typeof Q=="number"?Q:0}}else return Yo(ne);else return{height:te.serverHeight,width:te.serverWidth}}o(us,"getDimensions");function Js(ne,te){if(cs(te)&&document.documentElement){var Z=document.documentElement,A=Yo(ne),Q=Yo(Z);return{top:A.top-Q.top,left:A.left-Q.left}}else{var se=Ys(te),oe=Yo(ne),Se=Yo(te);return{top:oe.top+se.top-Se.top,left:oe.left+se.left-Se.left}}}o(Js,"getPositionOffset");function Ys(ne){return cs(ne)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:ne.scrollTop,left:ne.scrollLeft}}o(Ys,"getScrollOffset");var Xs,Qs;function Rs(ne,te){var Z=Object.keys(ne);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(ne);te&&(A=A.filter(function(Q){return Object.getOwnPropertyDescriptor(ne,Q).enumerable})),Z.push.apply(Z,A)}return Z}o(Rs,"WindowScroller_ownKeys");function la(ne){for(var te=1;te<arguments.length;te++){var Z=arguments[te]!=null?arguments[te]:{};te%2?Rs(Z,!0).forEach(function(A){m()(ne,A,Z[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Z)):Rs(Z).forEach(function(A){Object.defineProperty(ne,A,Object.getOwnPropertyDescriptor(Z,A))})}return ne}o(la,"WindowScroller_objectSpread");var Xo=150,rr=o(function(){return typeof window<"u"?window:void 0},"getWindow"),Po=(Qs=Xs=function(ne){c()(te,ne);function te(){var Z,A;f()(this,te);for(var Q=arguments.length,se=new Array(Q),oe=0;oe<Q;oe++)se[oe]=arguments[oe];return A=s()(this,(Z=e()(te)).call.apply(Z,[this].concat(se))),m()(n()(A),"_window",rr()),m()(n()(A),"_isMounted",!1),m()(n()(A),"_positionFromTop",0),m()(n()(A),"_positionFromLeft",0),m()(n()(A),"_detectElementResize",void 0),m()(n()(A),"_child",void 0),m()(n()(A),"state",la({},us(A.props.scrollElement,A.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),m()(n()(A),"_registerChild",function(Se){Se&&!(Se instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),A._child=Se,A.updatePosition()}),m()(n()(A),"_onChildScroll",function(Se){var Ie=Se.scrollTop;if(A.state.scrollTop!==Ie){var Pe=A.props.scrollElement;Pe&&(typeof Pe.scrollTo=="function"?Pe.scrollTo(0,Ie+A._positionFromTop):Pe.scrollTop=Ie+A._positionFromTop)}}),m()(n()(A),"_registerResizeListener",function(Se){Se===window?window.addEventListener("resize",A._onResize,!1):A._detectElementResize.addResizeListener(Se,A._onResize)}),m()(n()(A),"_unregisterResizeListener",function(Se){Se===window?window.removeEventListener("resize",A._onResize,!1):Se&&A._detectElementResize.removeResizeListener(Se,A._onResize)}),m()(n()(A),"_onResize",function(){A.updatePosition()}),m()(n()(A),"__handleWindowScrollEvent",function(){if(A._isMounted){var Se=A.props.onScroll,Ie=A.props.scrollElement;if(Ie){var Pe=Ys(Ie),De=Math.max(0,Pe.left-A._positionFromLeft),Le=Math.max(0,Pe.top-A._positionFromTop);A.setState({isScrolling:!0,scrollLeft:De,scrollTop:Le}),Se({scrollLeft:De,scrollTop:Le})}}}),m()(n()(A),"__resetIsScrolling",function(){A.setState({isScrolling:!1})}),A}return o(te,"WindowScroller"),g()(te,[{key:"updatePosition",value:o(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,Q=this.props.onResize,se=this.state,oe=se.height,Se=se.width,Ie=this._child||Zi.findDOMNode(this);if(Ie instanceof Element&&A){var Pe=Js(Ie,A);this._positionFromTop=Pe.top,this._positionFromLeft=Pe.left}var De=us(A,this.props);(oe!==De.height||Se!==De.width)&&(this.setState({height:De.height,width:De.width}),Q({height:De.height,width:De.width}))},"updatePosition")},{key:"componentDidMount",value:o(function(){var A=this.props.scrollElement;this._detectElementResize=Object(lr.a)(),this.updatePosition(A),A&&(hr(this,A),this._registerResizeListener(A)),this._isMounted=!0},"componentDidMount")},{key:"componentDidUpdate",value:o(function(A,Q){var se=this.props.scrollElement,oe=A.scrollElement;oe!==se&&oe!=null&&se!=null&&(this.updatePosition(se),Ks(this,oe),hr(this,se),this._unregisterResizeListener(oe),this._registerResizeListener(se))},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){var A=this.props.scrollElement;A&&(Ks(this,A),this._unregisterResizeListener(A)),this._isMounted=!1},"componentWillUnmount")},{key:"render",value:o(function(){var A=this.props.children,Q=this.state,se=Q.isScrolling,oe=Q.scrollTop,Se=Q.scrollLeft,Ie=Q.height,Pe=Q.width;return A({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:Ie,isScrolling:se,scrollLeft:Se,scrollTop:oe,width:Pe})},"render")}]),te}(d.PureComponent),m()(Xs,"propTypes",null),Qs);m()(Po,"defaultProps",{onResize:o(function(){},"onResize"),onScroll:o(function(){},"onScroll"),scrollingResetTimeInterval:Xo,scrollElement:rr(),serverHeight:0,serverWidth:0});var fs=Po},cKqT:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{reset(){this.currentRetry=0}nextBackoffAmountMs(){const u=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,u}constructor(u,g,a){this.fixedWaitMs=u,this.shortBackoffMs=g,this.longBackoffMs=a,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}},"FullJitterBackoff");l.default=S},cYl2:function(j,l,h){"use strict";h.r(l),h.d(l,"Deflate",function(){return Fa}),h.d(l,"Inflate",function(){return pr}),h.d(l,"constants",function(){return Wa}),h.d(l,"default",function(){return ja}),h.d(l,"deflate",function(){return Va}),h.d(l,"deflateRaw",function(){return Ua}),h.d(l,"gzip",function(){return bl}),h.d(l,"inflate",function(){return As}),h.d(l,"inflateRaw",function(){return Ha}),h.d(l,"ungzip",function(){return za});/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const S=4,f=0,u=1,g=2;function a(C){let U=C.length;for(;--U>=0;)C[U]=0}o(a,"zero$1");const s=0,i=1,e=2,t=3,n=258,r=29,c=256,p=c+1+r,m=30,d=19,y=2*p+1,E=15,w=16,k=7,V=256,N=16,F=17,P=18,B=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),O=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J=512,X=new Array((p+2)*2);a(X);const $=new Array(m*2);a($);const he=new Array(J);a(he);const Ee=new Array(n-t+1);a(Ee);const ke=new Array(r);a(ke);const ve=new Array(m);a(ve);function Be(C,U,M,Y,G){this.static_tree=C,this.extra_bits=U,this.extra_base=M,this.elems=Y,this.max_length=G,this.has_stree=C&&C.length}o(Be,"StaticTreeDesc");let pt,Ve,bt;function lt(C,U){this.dyn_tree=C,this.max_code=0,this.stat_desc=U}o(lt,"TreeDesc");const mt=o(C=>C<256?he[C]:he[256+(C>>>7)],"d_code"),xt=o((C,U)=>{C.pending_buf[C.pending++]=U&255,C.pending_buf[C.pending++]=U>>>8&255},"put_short"),at=o((C,U,M)=>{C.bi_valid>w-M?(C.bi_buf|=U<<C.bi_valid&65535,xt(C,C.bi_buf),C.bi_buf=U>>w-C.bi_valid,C.bi_valid+=M-w):(C.bi_buf|=U<<C.bi_valid&65535,C.bi_valid+=M)},"send_bits"),Mt=o((C,U,M)=>{at(C,M[U*2],M[U*2+1])},"send_code"),kt=o((C,U)=>{let M=0;do M|=C&1,C>>>=1,M<<=1;while(--U>0);return M>>>1},"bi_reverse"),Xe=o(C=>{C.bi_valid===16?(xt(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):C.bi_valid>=8&&(C.pending_buf[C.pending++]=C.bi_buf&255,C.bi_buf>>=8,C.bi_valid-=8)},"bi_flush"),on=o((C,U)=>{const M=U.dyn_tree,Y=U.max_code,G=U.stat_desc.static_tree,re=U.stat_desc.has_stree,be=U.stat_desc.extra_bits,me=U.stat_desc.extra_base,Ze=U.stat_desc.max_length;let fe,Te,en,Ye,xe,It,Hn=0;for(Ye=0;Ye<=E;Ye++)C.bl_count[Ye]=0;for(M[C.heap[C.heap_max]*2+1]=0,fe=C.heap_max+1;fe<y;fe++)Te=C.heap[fe],Ye=M[M[Te*2+1]*2+1]+1,Ye>Ze&&(Ye=Ze,Hn++),M[Te*2+1]=Ye,!(Te>Y)&&(C.bl_count[Ye]++,xe=0,Te>=me&&(xe=be[Te-me]),It=M[Te*2],C.opt_len+=It*(Ye+xe),re&&(C.static_len+=It*(G[Te*2+1]+xe)));if(Hn!==0){do{for(Ye=Ze-1;C.bl_count[Ye]===0;)Ye--;C.bl_count[Ye]--,C.bl_count[Ye+1]+=2,C.bl_count[Ze]--,Hn-=2}while(Hn>0);for(Ye=Ze;Ye!==0;Ye--)for(Te=C.bl_count[Ye];Te!==0;)en=C.heap[--fe],!(en>Y)&&(M[en*2+1]!==Ye&&(C.opt_len+=(Ye-M[en*2+1])*M[en*2],M[en*2+1]=Ye),Te--)}},"gen_bitlen"),Wn=o((C,U,M)=>{const Y=new Array(E+1);let G=0,re,be;for(re=1;re<=E;re++)Y[re]=G=G+M[re-1]<<1;for(be=0;be<=U;be++){let me=C[be*2+1];me!==0&&(C[be*2]=kt(Y[me]++,me))}},"gen_codes"),_n=o(()=>{let C,U,M,Y,G;const re=new Array(E+1);for(M=0,Y=0;Y<r-1;Y++)for(ke[Y]=M,C=0;C<1<<B[Y];C++)Ee[M++]=Y;for(Ee[M-1]=Y,G=0,Y=0;Y<16;Y++)for(ve[Y]=G,C=0;C<1<<O[Y];C++)he[G++]=Y;for(G>>=7;Y<m;Y++)for(ve[Y]=G<<7,C=0;C<1<<O[Y]-7;C++)he[256+G++]=Y;for(U=0;U<=E;U++)re[U]=0;for(C=0;C<=143;)X[C*2+1]=8,C++,re[8]++;for(;C<=255;)X[C*2+1]=9,C++,re[9]++;for(;C<=279;)X[C*2+1]=7,C++,re[7]++;for(;C<=287;)X[C*2+1]=8,C++,re[8]++;for(Wn(X,p+1,re),C=0;C<m;C++)$[C*2+1]=5,$[C*2]=kt(C,5);pt=new Be(X,B,c+1,p,E),Ve=new Be($,O,0,m,E),bt=new Be(new Array(0),R,0,d,k)},"tr_static_init"),On=o(C=>{let U;for(U=0;U<p;U++)C.dyn_ltree[U*2]=0;for(U=0;U<m;U++)C.dyn_dtree[U*2]=0;for(U=0;U<d;U++)C.bl_tree[U*2]=0;C.dyn_ltree[V*2]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0},"init_block"),Xn=o(C=>{C.bi_valid>8?xt(C,C.bi_buf):C.bi_valid>0&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0},"bi_windup"),ci=o((C,U,M,Y)=>{Xn(C),Y&&(xt(C,M),xt(C,~M)),C.pending_buf.set(C.window.subarray(U,U+M),C.pending),C.pending+=M},"copy_block"),Qn=o((C,U,M,Y)=>{const G=U*2,re=M*2;return C[G]<C[re]||C[G]===C[re]&&Y[U]<=Y[M]},"smaller"),Kn=o((C,U,M)=>{const Y=C.heap[M];let G=M<<1;for(;G<=C.heap_len&&(G<C.heap_len&&Qn(U,C.heap[G+1],C.heap[G],C.depth)&&G++,!Qn(U,Y,C.heap[G],C.depth));)C.heap[M]=C.heap[G],M=G,G<<=1;C.heap[M]=Y},"pqdownheap"),Ki=o((C,U,M)=>{let Y,G,re=0,be,me;if(C.last_lit!==0)do Y=C.pending_buf[C.d_buf+re*2]<<8|C.pending_buf[C.d_buf+re*2+1],G=C.pending_buf[C.l_buf+re],re++,Y===0?Mt(C,G,U):(be=Ee[G],Mt(C,be+c+1,U),me=B[be],me!==0&&(G-=ke[be],at(C,G,me)),Y--,be=mt(Y),Mt(C,be,M),me=O[be],me!==0&&(Y-=ve[be],at(C,Y,me)));while(re<C.last_lit);Mt(C,V,U)},"compress_block"),ui=o((C,U)=>{const M=U.dyn_tree,Y=U.stat_desc.static_tree,G=U.stat_desc.has_stree,re=U.stat_desc.elems;let be,me,Ze=-1,fe;for(C.heap_len=0,C.heap_max=y,be=0;be<re;be++)M[be*2]!==0?(C.heap[++C.heap_len]=Ze=be,C.depth[be]=0):M[be*2+1]=0;for(;C.heap_len<2;)fe=C.heap[++C.heap_len]=Ze<2?++Ze:0,M[fe*2]=1,C.depth[fe]=0,C.opt_len--,G&&(C.static_len-=Y[fe*2+1]);for(U.max_code=Ze,be=C.heap_len>>1;be>=1;be--)Kn(C,M,be);fe=re;do be=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Kn(C,M,1),me=C.heap[1],C.heap[--C.heap_max]=be,C.heap[--C.heap_max]=me,M[fe*2]=M[be*2]+M[me*2],C.depth[fe]=(C.depth[be]>=C.depth[me]?C.depth[be]:C.depth[me])+1,M[be*2+1]=M[me*2+1]=fe,C.heap[1]=fe++,Kn(C,M,1);while(C.heap_len>=2);C.heap[--C.heap_max]=C.heap[1],on(C,U),Wn(M,Ze,C.bl_count)},"build_tree"),Fi=o((C,U,M)=>{let Y,G=-1,re,be=U[0*2+1],me=0,Ze=7,fe=4;for(be===0&&(Ze=138,fe=3),U[(M+1)*2+1]=65535,Y=0;Y<=M;Y++)re=be,be=U[(Y+1)*2+1],!(++me<Ze&&re===be)&&(me<fe?C.bl_tree[re*2]+=me:re!==0?(re!==G&&C.bl_tree[re*2]++,C.bl_tree[N*2]++):me<=10?C.bl_tree[F*2]++:C.bl_tree[P*2]++,me=0,G=re,be===0?(Ze=138,fe=3):re===be?(Ze=6,fe=3):(Ze=7,fe=4))},"scan_tree"),zi=o((C,U,M)=>{let Y,G=-1,re,be=U[0*2+1],me=0,Ze=7,fe=4;for(be===0&&(Ze=138,fe=3),Y=0;Y<=M;Y++)if(re=be,be=U[(Y+1)*2+1],!(++me<Ze&&re===be)){if(me<fe)do Mt(C,re,C.bl_tree);while(--me!==0);else re!==0?(re!==G&&(Mt(C,re,C.bl_tree),me--),Mt(C,N,C.bl_tree),at(C,me-3,2)):me<=10?(Mt(C,F,C.bl_tree),at(C,me-3,3)):(Mt(C,P,C.bl_tree),at(C,me-11,7));me=0,G=re,be===0?(Ze=138,fe=3):re===be?(Ze=6,fe=3):(Ze=7,fe=4)}},"send_tree"),qt=o(C=>{let U;for(Fi(C,C.dyn_ltree,C.l_desc.max_code),Fi(C,C.dyn_dtree,C.d_desc.max_code),ui(C,C.bl_desc),U=d-1;U>=3&&C.bl_tree[D[U]*2+1]===0;U--);return C.opt_len+=3*(U+1)+5+5+4,U},"build_bl_tree"),Tn=o((C,U,M,Y)=>{let G;for(at(C,U-257,5),at(C,M-1,5),at(C,Y-4,4),G=0;G<Y;G++)at(C,C.bl_tree[D[G]*2+1],3);zi(C,C.dyn_ltree,U-1),zi(C,C.dyn_dtree,M-1)},"send_all_trees"),vn=o(C=>{let U=4093624447,M;for(M=0;M<=31;M++,U>>>=1)if(U&1&&C.dyn_ltree[M*2]!==0)return f;if(C.dyn_ltree[9*2]!==0||C.dyn_ltree[10*2]!==0||C.dyn_ltree[13*2]!==0)return u;for(M=32;M<c;M++)if(C.dyn_ltree[M*2]!==0)return u;return f},"detect_data_type");let Ot=!1;const bn=o(C=>{Ot||(_n(),Ot=!0),C.l_desc=new lt(C.dyn_ltree,pt),C.d_desc=new lt(C.dyn_dtree,Ve),C.bl_desc=new lt(C.bl_tree,bt),C.bi_buf=0,C.bi_valid=0,On(C)},"_tr_init$1"),Lt=o((C,U,M,Y)=>{at(C,(s<<1)+(Y?1:0),3),ci(C,U,M,!0)},"_tr_stored_block$1"),jn=o(C=>{at(C,i<<1,3),Mt(C,V,X),Xe(C)},"_tr_align$1"),Xi=o((C,U,M,Y)=>{let G,re,be=0;C.level>0?(C.strm.data_type===g&&(C.strm.data_type=vn(C)),ui(C,C.l_desc),ui(C,C.d_desc),be=qt(C),G=C.opt_len+3+7>>>3,re=C.static_len+3+7>>>3,re<=G&&(G=re)):G=re=M+5,M+4<=G&&U!==-1?Lt(C,U,M,Y):C.strategy===S||re===G?(at(C,(i<<1)+(Y?1:0),3),Ki(C,X,$)):(at(C,(e<<1)+(Y?1:0),3),Tn(C,C.l_desc.max_code+1,C.d_desc.max_code+1,be+1),Ki(C,C.dyn_ltree,C.dyn_dtree)),On(C),Y&&Xn(C)},"_tr_flush_block$1"),Gn=o((C,U,M)=>(C.pending_buf[C.d_buf+C.last_lit*2]=U>>>8&255,C.pending_buf[C.d_buf+C.last_lit*2+1]=U&255,C.pending_buf[C.l_buf+C.last_lit]=M&255,C.last_lit++,U===0?C.dyn_ltree[M*2]++:(C.matches++,U--,C.dyn_ltree[(Ee[M]+c+1)*2]++,C.dyn_dtree[mt(U)*2]++),C.last_lit===C.lit_bufsize-1),"_tr_tally$1");var Ti=bn,Tr=Lt,er=Xi,cr=Gn,fi=jn,Wi={_tr_init:Ti,_tr_stored_block:Tr,_tr_flush_block:er,_tr_tally:cr,_tr_align:fi},Re=o((C,U,M,Y)=>{let G=C&65535|0,re=C>>>16&65535|0,be=0;for(;M!==0;){be=M>2e3?2e3:M,M-=be;do G=G+U[Y++]|0,re=re+G|0;while(--be);G%=65521,re%=65521}return G|re<<16|0},"adler32");const Ce=o(()=>{let C,U=[];for(var M=0;M<256;M++){C=M;for(var Y=0;Y<8;Y++)C=C&1?3988292384^C>>>1:C>>>1;U[M]=C}return U},"makeTable"),_e=new Uint32Array(Ce());var tt=o((C,U,M,Y)=>{const G=_e,re=Y+M;C^=-1;for(let be=Y;be<re;be++)C=C>>>8^G[(C^U[be])&255];return C^-1},"crc32"),ht={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:zt,_tr_stored_block:cn,_tr_flush_block:sn,_tr_tally:Qt,_tr_align:Vi}=Wi,{Z_NO_FLUSH:Ci,Z_PARTIAL_FLUSH:gr,Z_FULL_FLUSH:tr,Z_FINISH:Si,Z_BLOCK:Ir,Z_OK:ai,Z_STREAM_END:lr,Z_STREAM_ERROR:ti,Z_DATA_ERROR:wr,Z_BUF_ERROR:Qi,Z_DEFAULT_COMPRESSION:Ur,Z_FILTERED:Ar,Z_HUFFMAN_ONLY:Zi,Z_RLE:io,Z_FIXED:yt,Z_DEFAULT_STRATEGY:ot,Z_UNKNOWN:ln,Z_DEFLATED:Gt}=gt,In=9,Jn=15,z=8,ce=29,Ne=256+1+ce,Ke=30,vt=19,Et=2*Ne+1,Tt=15,$e=3,At=258,Dt=At+$e+1,wn=32,fn=42,Un=69,li=73,Mi=91,Ai=103,hi=113,pi=666,yn=1,ji=2,Ui=3,Hi=4,Or=3,Ii=o((C,U)=>(C.msg=ht[U],U),"err"),Sr=o(C=>(C<<1)-(C>4?9:0),"rank"),qn=o(C=>{let U=C.length;for(;--U>=0;)C[U]=0},"zero");let mi=o((C,U,M)=>(U<<C.hash_shift^M)&C.hash_mask,"HASH_ZLIB");const _i=o(C=>{const U=C.state;let M=U.pending;M>C.avail_out&&(M=C.avail_out),M!==0&&(C.output.set(U.pending_buf.subarray(U.pending_out,U.pending_out+M),C.next_out),C.next_out+=M,U.pending_out+=M,C.total_out+=M,C.avail_out-=M,U.pending-=M,U.pending===0&&(U.pending_out=0))},"flush_pending"),Yn=o((C,U)=>{sn(C,C.block_start>=0?C.block_start:-1,C.strstart-C.block_start,U),C.block_start=C.strstart,_i(C.strm)},"flush_block_only"),Ut=o((C,U)=>{C.pending_buf[C.pending++]=U},"put_byte"),nr=o((C,U)=>{C.pending_buf[C.pending++]=U>>>8&255,C.pending_buf[C.pending++]=U&255},"putShortMSB"),Bs=o((C,U,M,Y)=>{let G=C.avail_in;return G>Y&&(G=Y),G===0?0:(C.avail_in-=G,U.set(C.input.subarray(C.next_in,C.next_in+G),M),C.state.wrap===1?C.adler=Re(C.adler,U,G,M):C.state.wrap===2&&(C.adler=tt(C.adler,U,G,M)),C.next_in+=G,C.total_in+=G,G)},"read_buf"),Qr=o((C,U)=>{let M=C.max_chain_length,Y=C.strstart,G,re,be=C.prev_length,me=C.nice_match;const Ze=C.strstart>C.w_size-Dt?C.strstart-(C.w_size-Dt):0,fe=C.window,Te=C.w_mask,en=C.prev,Ye=C.strstart+At;let xe=fe[Y+be-1],It=fe[Y+be];C.prev_length>=C.good_match&&(M>>=2),me>C.lookahead&&(me=C.lookahead);do if(G=U,!(fe[G+be]!==It||fe[G+be-1]!==xe||fe[G]!==fe[Y]||fe[++G]!==fe[Y+1])){Y+=2,G++;do;while(fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&Y<Ye);if(re=At-(Ye-Y),Y=Ye-At,re>be){if(C.match_start=U,be=re,re>=me)break;xe=fe[Y+be-1],It=fe[Y+be]}}while((U=en[U&Te])>Ze&&--M!==0);return be<=C.lookahead?be:C.lookahead},"longest_match"),dr=o(C=>{const U=C.w_size;let M,Y,G,re,be;do{if(re=C.window_size-C.lookahead-C.strstart,C.strstart>=U+(U-Dt)){C.window.set(C.window.subarray(U,U+U),0),C.match_start-=U,C.strstart-=U,C.block_start-=U,Y=C.hash_size,M=Y;do G=C.head[--M],C.head[M]=G>=U?G-U:0;while(--Y);Y=U,M=Y;do G=C.prev[--M],C.prev[M]=G>=U?G-U:0;while(--Y);re+=U}if(C.strm.avail_in===0)break;if(Y=Bs(C.strm,C.window,C.strstart+C.lookahead,re),C.lookahead+=Y,C.lookahead+C.insert>=$e)for(be=C.strstart-C.insert,C.ins_h=C.window[be],C.ins_h=mi(C,C.ins_h,C.window[be+1]);C.insert&&(C.ins_h=mi(C,C.ins_h,C.window[be+$e-1]),C.prev[be&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=be,be++,C.insert--,!(C.lookahead+C.insert<$e)););}while(C.lookahead<Dt&&C.strm.avail_in!==0)},"fill_window"),Zr=o((C,U)=>{let M=65535;for(M>C.pending_buf_size-5&&(M=C.pending_buf_size-5);;){if(C.lookahead<=1){if(dr(C),C.lookahead===0&&U===Ci)return yn;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;const Y=C.block_start+M;if((C.strstart===0||C.strstart>=Y)&&(C.lookahead=C.strstart-Y,C.strstart=Y,Yn(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-Dt&&(Yn(C,!1),C.strm.avail_out===0))return yn}return C.insert=0,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):(C.strstart>C.block_start&&(Yn(C,!1),C.strm.avail_out===0),yn)},"deflate_stored"),qr=o((C,U)=>{let M,Y;for(;;){if(C.lookahead<Dt){if(dr(C),C.lookahead<Dt&&U===Ci)return yn;if(C.lookahead===0)break}if(M=0,C.lookahead>=$e&&(C.ins_h=mi(C,C.ins_h,C.window[C.strstart+$e-1]),M=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),M!==0&&C.strstart-M<=C.w_size-Dt&&(C.match_length=Qr(C,M)),C.match_length>=$e)if(Y=Qt(C,C.strstart-C.match_start,C.match_length-$e),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=$e){C.match_length--;do C.strstart++,C.ins_h=mi(C,C.ins_h,C.window[C.strstart+$e-1]),M=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart;while(--C.match_length!==0);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=mi(C,C.ins_h,C.window[C.strstart+1]);else Y=Qt(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(Y&&(Yn(C,!1),C.strm.avail_out===0))return yn}return C.insert=C.strstart<$e-1?C.strstart:$e-1,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):C.last_lit&&(Yn(C,!1),C.strm.avail_out===0)?yn:ji},"deflate_fast"),ur=o((C,U)=>{let M,Y,G;for(;;){if(C.lookahead<Dt){if(dr(C),C.lookahead<Dt&&U===Ci)return yn;if(C.lookahead===0)break}if(M=0,C.lookahead>=$e&&(C.ins_h=mi(C,C.ins_h,C.window[C.strstart+$e-1]),M=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=$e-1,M!==0&&C.prev_length<C.max_lazy_match&&C.strstart-M<=C.w_size-Dt&&(C.match_length=Qr(C,M),C.match_length<=5&&(C.strategy===Ar||C.match_length===$e&&C.strstart-C.match_start>4096)&&(C.match_length=$e-1)),C.prev_length>=$e&&C.match_length<=C.prev_length){G=C.strstart+C.lookahead-$e,Y=Qt(C,C.strstart-1-C.prev_match,C.prev_length-$e),C.lookahead-=C.prev_length-1,C.prev_length-=2;do++C.strstart<=G&&(C.ins_h=mi(C,C.ins_h,C.window[C.strstart+$e-1]),M=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart);while(--C.prev_length!==0);if(C.match_available=0,C.match_length=$e-1,C.strstart++,Y&&(Yn(C,!1),C.strm.avail_out===0))return yn}else if(C.match_available){if(Y=Qt(C,0,C.window[C.strstart-1]),Y&&Yn(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return yn}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(Y=Qt(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<$e-1?C.strstart:$e-1,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):C.last_lit&&(Yn(C,!1),C.strm.avail_out===0)?yn:ji},"deflate_slow"),Fs=o((C,U)=>{let M,Y,G,re;const be=C.window;for(;;){if(C.lookahead<=At){if(dr(C),C.lookahead<=At&&U===Ci)return yn;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=$e&&C.strstart>0&&(G=C.strstart-1,Y=be[G],Y===be[++G]&&Y===be[++G]&&Y===be[++G])){re=C.strstart+At;do;while(Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&G<re);C.match_length=At-(re-G),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=$e?(M=Qt(C,1,C.match_length-$e),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(M=Qt(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),M&&(Yn(C,!1),C.strm.avail_out===0))return yn}return C.insert=0,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):C.last_lit&&(Yn(C,!1),C.strm.avail_out===0)?yn:ji},"deflate_rle"),Vs=o((C,U)=>{let M;for(;;){if(C.lookahead===0&&(dr(C),C.lookahead===0)){if(U===Ci)return yn;break}if(C.match_length=0,M=Qt(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,M&&(Yn(C,!1),C.strm.avail_out===0))return yn}return C.insert=0,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):C.last_lit&&(Yn(C,!1),C.strm.avail_out===0)?yn:ji},"deflate_huff");function Li(C,U,M,Y,G){this.good_length=C,this.max_lazy=U,this.nice_length=M,this.max_chain=Y,this.func=G}o(Li,"Config");const Pr=[new Li(0,0,0,0,Zr),new Li(4,4,8,4,qr),new Li(4,5,16,8,qr),new Li(4,6,32,32,qr),new Li(4,4,16,16,ur),new Li(8,16,32,32,ur),new Li(8,16,128,128,ur),new Li(8,32,128,256,ur),new Li(32,128,258,1024,ur),new Li(32,258,258,4096,ur)],xo=o(C=>{C.window_size=2*C.w_size,qn(C.head),C.max_lazy_match=Pr[C.level].max_lazy,C.good_match=Pr[C.level].good_length,C.nice_match=Pr[C.level].nice_length,C.max_chain_length=Pr[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=$e-1,C.match_available=0,C.ins_h=0},"lm_init");function Us(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Gt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Et*2),this.dyn_dtree=new Uint16Array((2*Ke+1)*2),this.bl_tree=new Uint16Array((2*vt+1)*2),qn(this.dyn_ltree),qn(this.dyn_dtree),qn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Tt+1),this.heap=new Uint16Array(2*Ne+1),qn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ne+1),qn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}o(Us,"DeflateState");const $r=o(C=>{if(!C||!C.state)return Ii(C,ti);C.total_in=C.total_out=0,C.data_type=ln;const U=C.state;return U.pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?fn:hi,C.adler=U.wrap===2?0:1,U.last_flush=Ci,zt(U),ai},"deflateResetKeep"),So=o(C=>{const U=$r(C);return U===ai&&xo(C.state),U},"deflateReset"),ao=o((C,U)=>!C||!C.state||C.state.wrap!==2?ti:(C.state.gzhead=U,ai),"deflateSetHeader"),Bo=o((C,U,M,Y,G,re)=>{if(!C)return ti;let be=1;if(U===Ur&&(U=6),Y<0?(be=0,Y=-Y):Y>15&&(be=2,Y-=16),G<1||G>In||M!==Gt||Y<8||Y>15||U<0||U>9||re<0||re>yt)return Ii(C,ti);Y===8&&(Y=9);const me=new Us;return C.state=me,me.strm=C,me.wrap=be,me.gzhead=null,me.w_bits=Y,me.w_size=1<<me.w_bits,me.w_mask=me.w_size-1,me.hash_bits=G+7,me.hash_size=1<<me.hash_bits,me.hash_mask=me.hash_size-1,me.hash_shift=~~((me.hash_bits+$e-1)/$e),me.window=new Uint8Array(me.w_size*2),me.head=new Uint16Array(me.hash_size),me.prev=new Uint16Array(me.w_size),me.lit_bufsize=1<<G+6,me.pending_buf_size=me.lit_bufsize*4,me.pending_buf=new Uint8Array(me.pending_buf_size),me.d_buf=1*me.lit_bufsize,me.l_buf=(1+2)*me.lit_bufsize,me.level=U,me.strategy=re,me.method=M,So(C)},"deflateInit2"),vs=o((C,U)=>Bo(C,U,Gt,Jn,z,ot),"deflateInit"),ys=o((C,U)=>{let M,Y;if(!C||!C.state||U>Ir||U<0)return C?Ii(C,ti):ti;const G=C.state;if(!C.output||!C.input&&C.avail_in!==0||G.status===pi&&U!==Si)return Ii(C,C.avail_out===0?Qi:ti);G.strm=C;const re=G.last_flush;if(G.last_flush=U,G.status===fn)if(G.wrap===2)C.adler=0,Ut(G,31),Ut(G,139),Ut(G,8),G.gzhead?(Ut(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),Ut(G,G.gzhead.time&255),Ut(G,G.gzhead.time>>8&255),Ut(G,G.gzhead.time>>16&255),Ut(G,G.gzhead.time>>24&255),Ut(G,G.level===9?2:G.strategy>=Zi||G.level<2?4:0),Ut(G,G.gzhead.os&255),G.gzhead.extra&&G.gzhead.extra.length&&(Ut(G,G.gzhead.extra.length&255),Ut(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(C.adler=tt(C.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=Un):(Ut(G,0),Ut(G,0),Ut(G,0),Ut(G,0),Ut(G,0),Ut(G,G.level===9?2:G.strategy>=Zi||G.level<2?4:0),Ut(G,Or),G.status=hi);else{let be=Gt+(G.w_bits-8<<4)<<8,me=-1;G.strategy>=Zi||G.level<2?me=0:G.level<6?me=1:G.level===6?me=2:me=3,be|=me<<6,G.strstart!==0&&(be|=wn),be+=31-be%31,G.status=hi,nr(G,be),G.strstart!==0&&(nr(G,C.adler>>>16),nr(G,C.adler&65535)),C.adler=1}if(G.status===Un)if(G.gzhead.extra){for(M=G.pending;G.gzindex<(G.gzhead.extra.length&65535)&&!(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),_i(C),M=G.pending,G.pending===G.pending_buf_size));)Ut(G,G.gzhead.extra[G.gzindex]&255),G.gzindex++;G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=li)}else G.status=li;if(G.status===li)if(G.gzhead.name){M=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),_i(C),M=G.pending,G.pending===G.pending_buf_size)){Y=1;break}G.gzindex<G.gzhead.name.length?Y=G.gzhead.name.charCodeAt(G.gzindex++)&255:Y=0,Ut(G,Y)}while(Y!==0);G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),Y===0&&(G.gzindex=0,G.status=Mi)}else G.status=Mi;if(G.status===Mi)if(G.gzhead.comment){M=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),_i(C),M=G.pending,G.pending===G.pending_buf_size)){Y=1;break}G.gzindex<G.gzhead.comment.length?Y=G.gzhead.comment.charCodeAt(G.gzindex++)&255:Y=0,Ut(G,Y)}while(Y!==0);G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),Y===0&&(G.status=Ai)}else G.status=Ai;if(G.status===Ai&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&_i(C),G.pending+2<=G.pending_buf_size&&(Ut(G,C.adler&255),Ut(G,C.adler>>8&255),C.adler=0,G.status=hi)):G.status=hi),G.pending!==0){if(_i(C),C.avail_out===0)return G.last_flush=-1,ai}else if(C.avail_in===0&&Sr(U)<=Sr(re)&&U!==Si)return Ii(C,Qi);if(G.status===pi&&C.avail_in!==0)return Ii(C,Qi);if(C.avail_in!==0||G.lookahead!==0||U!==Ci&&G.status!==pi){let be=G.strategy===Zi?Vs(G,U):G.strategy===io?Fs(G,U):Pr[G.level].func(G,U);if((be===Ui||be===Hi)&&(G.status=pi),be===yn||be===Ui)return C.avail_out===0&&(G.last_flush=-1),ai;if(be===ji&&(U===gr?Vi(G):U!==Ir&&(cn(G,0,0,!1),U===tr&&(qn(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),_i(C),C.avail_out===0))return G.last_flush=-1,ai}return U!==Si?ai:G.wrap<=0?lr:(G.wrap===2?(Ut(G,C.adler&255),Ut(G,C.adler>>8&255),Ut(G,C.adler>>16&255),Ut(G,C.adler>>24&255),Ut(G,C.total_in&255),Ut(G,C.total_in>>8&255),Ut(G,C.total_in>>16&255),Ut(G,C.total_in>>24&255)):(nr(G,C.adler>>>16),nr(G,C.adler&65535)),_i(C),G.wrap>0&&(G.wrap=-G.wrap),G.pending!==0?ai:lr)},"deflate$2"),qo=o(C=>{if(!C||!C.state)return ti;const U=C.state.status;return U!==fn&&U!==Un&&U!==li&&U!==Mi&&U!==Ai&&U!==hi&&U!==pi?Ii(C,ti):(C.state=null,U===hi?Ii(C,wr):ai)},"deflateEnd"),bs=o((C,U)=>{let M=U.length;if(!C||!C.state)return ti;const Y=C.state,G=Y.wrap;if(G===2||G===1&&Y.status!==fn||Y.lookahead)return ti;if(G===1&&(C.adler=Re(C.adler,U,M,0)),Y.wrap=0,M>=Y.w_size){G===0&&(qn(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0);let Ze=new Uint8Array(Y.w_size);Ze.set(U.subarray(M-Y.w_size,M),0),U=Ze,M=Y.w_size}const re=C.avail_in,be=C.next_in,me=C.input;for(C.avail_in=M,C.next_in=0,C.input=U,dr(Y);Y.lookahead>=$e;){let Ze=Y.strstart,fe=Y.lookahead-($e-1);do Y.ins_h=mi(Y,Y.ins_h,Y.window[Ze+$e-1]),Y.prev[Ze&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Ze,Ze++;while(--fe);Y.strstart=Ze,Y.lookahead=$e-1,dr(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=$e-1,Y.match_available=0,C.next_in=be,C.input=me,C.avail_in=re,Y.wrap=G,ai},"deflateSetDictionary");var Cs=vs,lo=Bo,eo=So,ro=$r,co=ao,vo=ys,yo=qo,Fo=bs,es="pako deflate (from Nodeca project)",vr={deflateInit:Cs,deflateInit2:lo,deflateReset:eo,deflateResetKeep:ro,deflateSetHeader:co,deflate:vo,deflateEnd:yo,deflateSetDictionary:Fo,deflateInfo:es};const ts=o((C,U)=>Object.prototype.hasOwnProperty.call(C,U),"_has");var Es=o(function(C){const U=Array.prototype.slice.call(arguments,1);for(;U.length;){const M=U.shift();if(M){if(typeof M!="object")throw new TypeError(M+"must be non-object");for(const Y in M)ts(M,Y)&&(C[Y]=M[Y])}}return C},"assign"),ns=o(C=>{let U=0;for(let Y=0,G=C.length;Y<G;Y++)U+=C[Y].length;const M=new Uint8Array(U);for(let Y=0,G=0,re=C.length;Y<re;Y++){let be=C[Y];M.set(be,G),G+=be.length}return M},"flattenChunks"),Kr={assign:Es,flattenChunks:ns};let Vo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Vo=!1}const _r=new Uint8Array(256);for(let C=0;C<256;C++)_r[C]=C>=252?6:C>=248?5:C>=240?4:C>=224?3:C>=192?2:1;_r[254]=_r[254]=1;var uo=o(C=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(C);let U,M,Y,G,re,be=C.length,me=0;for(G=0;G<be;G++)M=C.charCodeAt(G),(M&64512)===55296&&G+1<be&&(Y=C.charCodeAt(G+1),(Y&64512)===56320&&(M=65536+(M-55296<<10)+(Y-56320),G++)),me+=M<128?1:M<2048?2:M<65536?3:4;for(U=new Uint8Array(me),re=0,G=0;re<me;G++)M=C.charCodeAt(G),(M&64512)===55296&&G+1<be&&(Y=C.charCodeAt(G+1),(Y&64512)===56320&&(M=65536+(M-55296<<10)+(Y-56320),G++)),M<128?U[re++]=M:M<2048?(U[re++]=192|M>>>6,U[re++]=128|M&63):M<65536?(U[re++]=224|M>>>12,U[re++]=128|M>>>6&63,U[re++]=128|M&63):(U[re++]=240|M>>>18,U[re++]=128|M>>>12&63,U[re++]=128|M>>>6&63,U[re++]=128|M&63);return U},"string2buf");const fo=o((C,U)=>{if(U<65534&&C.subarray&&Vo)return String.fromCharCode.apply(null,C.length===U?C:C.subarray(0,U));let M="";for(let Y=0;Y<U;Y++)M+=String.fromCharCode(C[Y]);return M},"buf2binstring");var Uo=o((C,U)=>{const M=U||C.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(C.subarray(0,U));let Y,G;const re=new Array(M*2);for(G=0,Y=0;Y<M;){let be=C[Y++];if(be<128){re[G++]=be;continue}let me=_r[be];if(me>4){re[G++]=65533,Y+=me-1;continue}for(be&=me===2?31:me===3?15:7;me>1&&Y<M;)be=be<<6|C[Y++]&63,me--;if(me>1){re[G++]=65533;continue}be<65536?re[G++]=be:(be-=65536,re[G++]=55296|be>>10&1023,re[G++]=56320|be&1023)}return fo(re,G)},"buf2string"),oo=o((C,U)=>{U=U||C.length,U>C.length&&(U=C.length);let M=U-1;for(;M>=0&&(C[M]&192)===128;)M--;return M<0||M===0?U:M+_r[C[M]]>U?M:U},"utf8border"),Hr={string2buf:uo,buf2string:Uo,utf8border:oo};function bo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}o(bo,"ZStream");var Co=bo;const zr=Object.prototype.toString,{Z_NO_FLUSH:ho,Z_SYNC_FLUSH:Ho,Z_FULL_FLUSH:Ts,Z_FINISH:Hs,Z_OK:kr,Z_STREAM_END:is,Z_DEFAULT_COMPRESSION:Wr,Z_DEFAULT_STRATEGY:zs,Z_DEFLATED:Ws}=gt;function Jr(C){this.options=Kr.assign({level:Wr,method:Ws,chunkSize:16384,windowBits:15,memLevel:8,strategy:zs},C||{});let U=this.options;U.raw&&U.windowBits>0?U.windowBits=-U.windowBits:U.gzip&&U.windowBits>0&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Co,this.strm.avail_out=0;let M=vr.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(M!==kr)throw new Error(ht[M]);if(U.header&&vr.deflateSetHeader(this.strm,U.header),U.dictionary){let Y;if(typeof U.dictionary=="string"?Y=Hr.string2buf(U.dictionary):zr.call(U.dictionary)==="[object ArrayBuffer]"?Y=new Uint8Array(U.dictionary):Y=U.dictionary,M=vr.deflateSetDictionary(this.strm,Y),M!==kr)throw new Error(ht[M]);this._dict_set=!0}}o(Jr,"Deflate$1"),Jr.prototype.push=function(C,U){const M=this.strm,Y=this.options.chunkSize;let G,re;if(this.ended)return!1;for(U===~~U?re=U:re=U===!0?Hs:ho,typeof C=="string"?M.input=Hr.string2buf(C):zr.call(C)==="[object ArrayBuffer]"?M.input=new Uint8Array(C):M.input=C,M.next_in=0,M.avail_in=M.input.length;;){if(M.avail_out===0&&(M.output=new Uint8Array(Y),M.next_out=0,M.avail_out=Y),(re===Ho||re===Ts)&&M.avail_out<=6){this.onData(M.output.subarray(0,M.next_out)),M.avail_out=0;continue}if(G=vr.deflate(M,re),G===is)return M.next_out>0&&this.onData(M.output.subarray(0,M.next_out)),G=vr.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===kr;if(M.avail_out===0){this.onData(M.output);continue}if(re>0&&M.next_out>0){this.onData(M.output.subarray(0,M.next_out)),M.avail_out=0;continue}if(M.avail_in===0)break}return!0},Jr.prototype.onData=function(C){this.chunks.push(C)},Jr.prototype.onEnd=function(C){C===kr&&(this.result=Kr.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function Eo(C,U){const M=new Jr(U);if(M.push(C,!0),M.err)throw M.msg||ht[M.err];return M.result}o(Eo,"deflate$1");function rs(C,U){return U=U||{},U.raw=!0,Eo(C,U)}o(rs,"deflateRaw$1");function zo(C,U){return U=U||{},U.gzip=!0,Eo(C,U)}o(zo,"gzip$1");var Is=Jr,ir=Eo,Wo=rs,To=zo,os=gt,ws={Deflate:Is,deflate:ir,deflateRaw:Wo,gzip:To,constants:os};const Yr=30,js=12;var jo=o(function(U,M){let Y,G,re,be,me,Ze,fe,Te,en,Ye,xe,It,Hn,Zt,Bt,pn,Kt,Ge,tn,ze,Rt,nt,gn,Ft;const Ht=U.state;Y=U.next_in,gn=U.input,G=Y+(U.avail_in-5),re=U.next_out,Ft=U.output,be=re-(M-U.avail_out),me=re+(U.avail_out-257),Ze=Ht.dmax,fe=Ht.wsize,Te=Ht.whave,en=Ht.wnext,Ye=Ht.window,xe=Ht.hold,It=Ht.bits,Hn=Ht.lencode,Zt=Ht.distcode,Bt=(1<<Ht.lenbits)-1,pn=(1<<Ht.distbits)-1;e:do{It<15&&(xe+=gn[Y++]<<It,It+=8,xe+=gn[Y++]<<It,It+=8),Kt=Hn[xe&Bt];t:for(;;){if(Ge=Kt>>>24,xe>>>=Ge,It-=Ge,Ge=Kt>>>16&255,Ge===0)Ft[re++]=Kt&65535;else if(Ge&16){tn=Kt&65535,Ge&=15,Ge&&(It<Ge&&(xe+=gn[Y++]<<It,It+=8),tn+=xe&(1<<Ge)-1,xe>>>=Ge,It-=Ge),It<15&&(xe+=gn[Y++]<<It,It+=8,xe+=gn[Y++]<<It,It+=8),Kt=Zt[xe&pn];n:for(;;){if(Ge=Kt>>>24,xe>>>=Ge,It-=Ge,Ge=Kt>>>16&255,Ge&16){if(ze=Kt&65535,Ge&=15,It<Ge&&(xe+=gn[Y++]<<It,It+=8,It<Ge&&(xe+=gn[Y++]<<It,It+=8)),ze+=xe&(1<<Ge)-1,ze>Ze){U.msg="invalid distance too far back",Ht.mode=Yr;break e}if(xe>>>=Ge,It-=Ge,Ge=re-be,ze>Ge){if(Ge=ze-Ge,Ge>Te&&Ht.sane){U.msg="invalid distance too far back",Ht.mode=Yr;break e}if(Rt=0,nt=Ye,en===0){if(Rt+=fe-Ge,Ge<tn){tn-=Ge;do Ft[re++]=Ye[Rt++];while(--Ge);Rt=re-ze,nt=Ft}}else if(en<Ge){if(Rt+=fe+en-Ge,Ge-=en,Ge<tn){tn-=Ge;do Ft[re++]=Ye[Rt++];while(--Ge);if(Rt=0,en<tn){Ge=en,tn-=Ge;do Ft[re++]=Ye[Rt++];while(--Ge);Rt=re-ze,nt=Ft}}}else if(Rt+=en-Ge,Ge<tn){tn-=Ge;do Ft[re++]=Ye[Rt++];while(--Ge);Rt=re-ze,nt=Ft}for(;tn>2;)Ft[re++]=nt[Rt++],Ft[re++]=nt[Rt++],Ft[re++]=nt[Rt++],tn-=3;tn&&(Ft[re++]=nt[Rt++],tn>1&&(Ft[re++]=nt[Rt++]))}else{Rt=re-ze;do Ft[re++]=Ft[Rt++],Ft[re++]=Ft[Rt++],Ft[re++]=Ft[Rt++],tn-=3;while(tn>2);tn&&(Ft[re++]=Ft[Rt++],tn>1&&(Ft[re++]=Ft[Rt++]))}}else if(Ge&64){U.msg="invalid distance code",Ht.mode=Yr;break e}else{Kt=Zt[(Kt&65535)+(xe&(1<<Ge)-1)];continue n}break}}else if(Ge&64)if(Ge&32){Ht.mode=js;break e}else{U.msg="invalid literal/length code",Ht.mode=Yr;break e}else{Kt=Hn[(Kt&65535)+(xe&(1<<Ge)-1)];continue t}break}}while(Y<G&&re<me);tn=It>>3,Y-=tn,It-=tn<<3,xe&=(1<<It)-1,U.next_in=Y,U.next_out=re,U.avail_in=Y<G?5+(G-Y):5-(Y-G),U.avail_out=re<me?257+(me-re):257-(re-me),Ht.hold=xe,Ht.bits=It},"inflate_fast");const fr=15,Go=852,ss=592,as=0,$o=1,Io=2,wo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ls=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ds=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Xr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var jr=o((C,U,M,Y,G,re,be,me)=>{const Ze=me.bits;let fe=0,Te=0,en=0,Ye=0,xe=0,It=0,Hn=0,Zt=0,Bt=0,pn=0,Kt,Ge,tn,ze,Rt,nt=null,gn=0,Ft;const Ht=new Uint16Array(fr+1),no=new Uint16Array(fr+1);let hn=null,Cl=0,un,qs,Ps;for(fe=0;fe<=fr;fe++)Ht[fe]=0;for(Te=0;Te<Y;Te++)Ht[U[M+Te]]++;for(xe=Ze,Ye=fr;Ye>=1&&Ht[Ye]===0;Ye--);if(xe>Ye&&(xe=Ye),Ye===0)return G[re++]=1<<24|64<<16|0,G[re++]=1<<24|64<<16|0,me.bits=1,0;for(en=1;en<Ye&&Ht[en]===0;en++);for(xe<en&&(xe=en),Zt=1,fe=1;fe<=fr;fe++)if(Zt<<=1,Zt-=Ht[fe],Zt<0)return-1;if(Zt>0&&(C===as||Ye!==1))return-1;for(no[1]=0,fe=1;fe<fr;fe++)no[fe+1]=no[fe]+Ht[fe];for(Te=0;Te<Y;Te++)U[M+Te]!==0&&(be[no[U[M+Te]]++]=Te);if(C===as?(nt=hn=be,Ft=19):C===$o?(nt=wo,gn-=257,hn=ls,Cl-=257,Ft=256):(nt=ds,hn=Xr,Ft=-1),pn=0,Te=0,fe=en,Rt=re,It=xe,Hn=0,tn=-1,Bt=1<<xe,ze=Bt-1,C===$o&&Bt>Go||C===Io&&Bt>ss)return 1;for(;;){un=fe-Hn,be[Te]<Ft?(qs=0,Ps=be[Te]):be[Te]>Ft?(qs=hn[Cl+be[Te]],Ps=nt[gn+be[Te]]):(qs=32+64,Ps=0),Kt=1<<fe-Hn,Ge=1<<It,en=Ge;do Ge-=Kt,G[Rt+(pn>>Hn)+Ge]=un<<24|qs<<16|Ps|0;while(Ge!==0);for(Kt=1<<fe-1;pn&Kt;)Kt>>=1;if(Kt!==0?(pn&=Kt-1,pn+=Kt):pn=0,Te++,--Ht[fe]===0){if(fe===Ye)break;fe=U[M+be[Te]]}if(fe>xe&&(pn&ze)!==tn){for(Hn===0&&(Hn=xe),Rt+=en,It=fe-Hn,Zt=1<<It;It+Hn<Ye&&(Zt-=Ht[It+Hn],!(Zt<=0));)It++,Zt<<=1;if(Bt+=1<<It,C===$o&&Bt>Go||C===Io&&Bt>ss)return 1;tn=pn&ze,G[tn]=xe<<24|It<<16|Rt-re|0}}return pn!==0&&(G[Rt+pn]=fe-Hn<<24|64<<16|0),me.bits=xe,0},"inflate_table");const Gs=0,Oo=1,Mo=2,{Z_FINISH:Ro,Z_BLOCK:Os,Z_TREES:Ko,Z_OK:Ji,Z_STREAM_END:Ms,Z_NEED_DICT:Ao,Z_STREAM_ERROR:Ni,Z_DATA_ERROR:$s,Z_MEM_ERROR:Jo,Z_BUF_ERROR:po,Z_DEFLATED:hr}=gt,Ks=1,cs=2,Yo=3,us=4,Js=5,Ys=6,Xs=7,Qs=8,Rs=9,la=10,Xo=11,rr=12,Po=13,fs=14,ne=15,te=16,Z=17,A=18,Q=19,se=20,oe=21,Se=22,Ie=23,Pe=24,De=25,Le=26,je=27,Je=28,ct=29,Qe=30,Yt=31,nn=32,Cn=852,Rn=592,$n=15,ri=o(C=>(C>>>24&255)+(C>>>8&65280)+((C&65280)<<8)+((C&255)<<24),"zswap32");function ii(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}o(ii,"InflateState");const wi=o(C=>{if(!C||!C.state)return Ni;const U=C.state;return C.total_in=C.total_out=U.total=0,C.msg="",U.wrap&&(C.adler=U.wrap&1),U.mode=Ks,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new Int32Array(Cn),U.distcode=U.distdyn=new Int32Array(Rn),U.sane=1,U.back=-1,Ji},"inflateResetKeep"),ki=o(C=>{if(!C||!C.state)return Ni;const U=C.state;return U.wsize=0,U.whave=0,U.wnext=0,wi(C)},"inflateReset"),di=o((C,U)=>{let M;if(!C||!C.state)return Ni;const Y=C.state;return U<0?(M=0,U=-U):(M=(U>>4)+1,U<48&&(U&=15)),U&&(U<8||U>15)?Ni:(Y.window!==null&&Y.wbits!==U&&(Y.window=null),Y.wrap=M,Y.wbits=U,ki(C))},"inflateReset2"),yi=o((C,U)=>{if(!C)return Ni;const M=new ii;C.state=M,M.window=null;const Y=di(C,U);return Y!==Ji&&(C.state=null),Y},"inflateInit2"),or=o(C=>yi(C,$n),"inflateInit");let Ri=!0,Gi,Gr;const mo=o(C=>{if(Ri){Gi=new Int32Array(512),Gr=new Int32Array(32);let U=0;for(;U<144;)C.lens[U++]=8;for(;U<256;)C.lens[U++]=9;for(;U<280;)C.lens[U++]=7;for(;U<288;)C.lens[U++]=8;for(jr(Oo,C.lens,0,288,Gi,0,C.work,{bits:9}),U=0;U<32;)C.lens[U++]=5;jr(Mo,C.lens,0,32,Gr,0,C.work,{bits:5}),Ri=!1}C.lencode=Gi,C.lenbits=9,C.distcode=Gr,C.distbits=5},"fixedtables"),yr=o((C,U,M,Y)=>{let G;const re=C.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new Uint8Array(re.wsize)),Y>=re.wsize?(re.window.set(U.subarray(M-re.wsize,M),0),re.wnext=0,re.whave=re.wsize):(G=re.wsize-re.wnext,G>Y&&(G=Y),re.window.set(U.subarray(M-Y,M-Y+G),re.wnext),Y-=G,Y?(re.window.set(U.subarray(M-Y,M),0),re.wnext=Y,re.whave=re.wsize):(re.wnext+=G,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=G))),0},"updatewindow"),En=o((C,U)=>{let M,Y,G,re,be,me,Ze,fe,Te,en,Ye,xe,It,Hn,Zt=0,Bt,pn,Kt,Ge,tn,ze,Rt,nt;const gn=new Uint8Array(4);let Ft,Ht;const no=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return Ni;M=C.state,M.mode===rr&&(M.mode=Po),be=C.next_out,G=C.output,Ze=C.avail_out,re=C.next_in,Y=C.input,me=C.avail_in,fe=M.hold,Te=M.bits,en=me,Ye=Ze,nt=Ji;e:for(;;)switch(M.mode){case Ks:if(M.wrap===0){M.mode=Po;break}for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(M.wrap&2&&fe===35615){M.check=0,gn[0]=fe&255,gn[1]=fe>>>8&255,M.check=tt(M.check,gn,2,0),fe=0,Te=0,M.mode=cs;break}if(M.flags=0,M.head&&(M.head.done=!1),!(M.wrap&1)||(((fe&255)<<8)+(fe>>8))%31){C.msg="incorrect header check",M.mode=Qe;break}if((fe&15)!==hr){C.msg="unknown compression method",M.mode=Qe;break}if(fe>>>=4,Te-=4,Rt=(fe&15)+8,M.wbits===0)M.wbits=Rt;else if(Rt>M.wbits){C.msg="invalid window size",M.mode=Qe;break}M.dmax=1<<M.wbits,C.adler=M.check=1,M.mode=fe&512?la:rr,fe=0,Te=0;break;case cs:for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(M.flags=fe,(M.flags&255)!==hr){C.msg="unknown compression method",M.mode=Qe;break}if(M.flags&57344){C.msg="unknown header flags set",M.mode=Qe;break}M.head&&(M.head.text=fe>>8&1),M.flags&512&&(gn[0]=fe&255,gn[1]=fe>>>8&255,M.check=tt(M.check,gn,2,0)),fe=0,Te=0,M.mode=Yo;case Yo:for(;Te<32;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.head&&(M.head.time=fe),M.flags&512&&(gn[0]=fe&255,gn[1]=fe>>>8&255,gn[2]=fe>>>16&255,gn[3]=fe>>>24&255,M.check=tt(M.check,gn,4,0)),fe=0,Te=0,M.mode=us;case us:for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.head&&(M.head.xflags=fe&255,M.head.os=fe>>8),M.flags&512&&(gn[0]=fe&255,gn[1]=fe>>>8&255,M.check=tt(M.check,gn,2,0)),fe=0,Te=0,M.mode=Js;case Js:if(M.flags&1024){for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.length=fe,M.head&&(M.head.extra_len=fe),M.flags&512&&(gn[0]=fe&255,gn[1]=fe>>>8&255,M.check=tt(M.check,gn,2,0)),fe=0,Te=0}else M.head&&(M.head.extra=null);M.mode=Ys;case Ys:if(M.flags&1024&&(xe=M.length,xe>me&&(xe=me),xe&&(M.head&&(Rt=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Uint8Array(M.head.extra_len)),M.head.extra.set(Y.subarray(re,re+xe),Rt)),M.flags&512&&(M.check=tt(M.check,Y,xe,re)),me-=xe,re+=xe,M.length-=xe),M.length))break e;M.length=0,M.mode=Xs;case Xs:if(M.flags&2048){if(me===0)break e;xe=0;do Rt=Y[re+xe++],M.head&&Rt&&M.length<65536&&(M.head.name+=String.fromCharCode(Rt));while(Rt&&xe<me);if(M.flags&512&&(M.check=tt(M.check,Y,xe,re)),me-=xe,re+=xe,Rt)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=Qs;case Qs:if(M.flags&4096){if(me===0)break e;xe=0;do Rt=Y[re+xe++],M.head&&Rt&&M.length<65536&&(M.head.comment+=String.fromCharCode(Rt));while(Rt&&xe<me);if(M.flags&512&&(M.check=tt(M.check,Y,xe,re)),me-=xe,re+=xe,Rt)break e}else M.head&&(M.head.comment=null);M.mode=Rs;case Rs:if(M.flags&512){for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(fe!==(M.check&65535)){C.msg="header crc mismatch",M.mode=Qe;break}fe=0,Te=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),C.adler=M.check=0,M.mode=rr;break;case la:for(;Te<32;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}C.adler=M.check=ri(fe),fe=0,Te=0,M.mode=Xo;case Xo:if(M.havedict===0)return C.next_out=be,C.avail_out=Ze,C.next_in=re,C.avail_in=me,M.hold=fe,M.bits=Te,Ao;C.adler=M.check=1,M.mode=rr;case rr:if(U===Os||U===Ko)break e;case Po:if(M.last){fe>>>=Te&7,Te-=Te&7,M.mode=je;break}for(;Te<3;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}switch(M.last=fe&1,fe>>>=1,Te-=1,fe&3){case 0:M.mode=fs;break;case 1:if(mo(M),M.mode=se,U===Ko){fe>>>=2,Te-=2;break e}break;case 2:M.mode=Z;break;case 3:C.msg="invalid block type",M.mode=Qe}fe>>>=2,Te-=2;break;case fs:for(fe>>>=Te&7,Te-=Te&7;Te<32;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if((fe&65535)!==(fe>>>16^65535)){C.msg="invalid stored block lengths",M.mode=Qe;break}if(M.length=fe&65535,fe=0,Te=0,M.mode=ne,U===Ko)break e;case ne:M.mode=te;case te:if(xe=M.length,xe){if(xe>me&&(xe=me),xe>Ze&&(xe=Ze),xe===0)break e;G.set(Y.subarray(re,re+xe),be),me-=xe,re+=xe,Ze-=xe,be+=xe,M.length-=xe;break}M.mode=rr;break;case Z:for(;Te<14;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(M.nlen=(fe&31)+257,fe>>>=5,Te-=5,M.ndist=(fe&31)+1,fe>>>=5,Te-=5,M.ncode=(fe&15)+4,fe>>>=4,Te-=4,M.nlen>286||M.ndist>30){C.msg="too many length or distance symbols",M.mode=Qe;break}M.have=0,M.mode=A;case A:for(;M.have<M.ncode;){for(;Te<3;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.lens[no[M.have++]]=fe&7,fe>>>=3,Te-=3}for(;M.have<19;)M.lens[no[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,Ft={bits:M.lenbits},nt=jr(Gs,M.lens,0,19,M.lencode,0,M.work,Ft),M.lenbits=Ft.bits,nt){C.msg="invalid code lengths set",M.mode=Qe;break}M.have=0,M.mode=Q;case Q:for(;M.have<M.nlen+M.ndist;){for(;Zt=M.lencode[fe&(1<<M.lenbits)-1],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(Kt<16)fe>>>=Bt,Te-=Bt,M.lens[M.have++]=Kt;else{if(Kt===16){for(Ht=Bt+2;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(fe>>>=Bt,Te-=Bt,M.have===0){C.msg="invalid bit length repeat",M.mode=Qe;break}Rt=M.lens[M.have-1],xe=3+(fe&3),fe>>>=2,Te-=2}else if(Kt===17){for(Ht=Bt+3;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}fe>>>=Bt,Te-=Bt,Rt=0,xe=3+(fe&7),fe>>>=3,Te-=3}else{for(Ht=Bt+7;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}fe>>>=Bt,Te-=Bt,Rt=0,xe=11+(fe&127),fe>>>=7,Te-=7}if(M.have+xe>M.nlen+M.ndist){C.msg="invalid bit length repeat",M.mode=Qe;break}for(;xe--;)M.lens[M.have++]=Rt}}if(M.mode===Qe)break;if(M.lens[256]===0){C.msg="invalid code -- missing end-of-block",M.mode=Qe;break}if(M.lenbits=9,Ft={bits:M.lenbits},nt=jr(Oo,M.lens,0,M.nlen,M.lencode,0,M.work,Ft),M.lenbits=Ft.bits,nt){C.msg="invalid literal/lengths set",M.mode=Qe;break}if(M.distbits=6,M.distcode=M.distdyn,Ft={bits:M.distbits},nt=jr(Mo,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,Ft),M.distbits=Ft.bits,nt){C.msg="invalid distances set",M.mode=Qe;break}if(M.mode=se,U===Ko)break e;case se:M.mode=oe;case oe:if(me>=6&&Ze>=258){C.next_out=be,C.avail_out=Ze,C.next_in=re,C.avail_in=me,M.hold=fe,M.bits=Te,jo(C,Ye),be=C.next_out,G=C.output,Ze=C.avail_out,re=C.next_in,Y=C.input,me=C.avail_in,fe=M.hold,Te=M.bits,M.mode===rr&&(M.back=-1);break}for(M.back=0;Zt=M.lencode[fe&(1<<M.lenbits)-1],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(pn&&!(pn&240)){for(Ge=Bt,tn=pn,ze=Kt;Zt=M.lencode[ze+((fe&(1<<Ge+tn)-1)>>Ge)],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Ge+Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}fe>>>=Ge,Te-=Ge,M.back+=Ge}if(fe>>>=Bt,Te-=Bt,M.back+=Bt,M.length=Kt,pn===0){M.mode=Le;break}if(pn&32){M.back=-1,M.mode=rr;break}if(pn&64){C.msg="invalid literal/length code",M.mode=Qe;break}M.extra=pn&15,M.mode=Se;case Se:if(M.extra){for(Ht=M.extra;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.length+=fe&(1<<M.extra)-1,fe>>>=M.extra,Te-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=Ie;case Ie:for(;Zt=M.distcode[fe&(1<<M.distbits)-1],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(!(pn&240)){for(Ge=Bt,tn=pn,ze=Kt;Zt=M.distcode[ze+((fe&(1<<Ge+tn)-1)>>Ge)],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Ge+Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}fe>>>=Ge,Te-=Ge,M.back+=Ge}if(fe>>>=Bt,Te-=Bt,M.back+=Bt,pn&64){C.msg="invalid distance code",M.mode=Qe;break}M.offset=Kt,M.extra=pn&15,M.mode=Pe;case Pe:if(M.extra){for(Ht=M.extra;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.offset+=fe&(1<<M.extra)-1,fe>>>=M.extra,Te-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){C.msg="invalid distance too far back",M.mode=Qe;break}M.mode=De;case De:if(Ze===0)break e;if(xe=Ye-Ze,M.offset>xe){if(xe=M.offset-xe,xe>M.whave&&M.sane){C.msg="invalid distance too far back",M.mode=Qe;break}xe>M.wnext?(xe-=M.wnext,It=M.wsize-xe):It=M.wnext-xe,xe>M.length&&(xe=M.length),Hn=M.window}else Hn=G,It=be-M.offset,xe=M.length;xe>Ze&&(xe=Ze),Ze-=xe,M.length-=xe;do G[be++]=Hn[It++];while(--xe);M.length===0&&(M.mode=oe);break;case Le:if(Ze===0)break e;G[be++]=M.length,Ze--,M.mode=oe;break;case je:if(M.wrap){for(;Te<32;){if(me===0)break e;me--,fe|=Y[re++]<<Te,Te+=8}if(Ye-=Ze,C.total_out+=Ye,M.total+=Ye,Ye&&(C.adler=M.check=M.flags?tt(M.check,G,Ye,be-Ye):Re(M.check,G,Ye,be-Ye)),Ye=Ze,(M.flags?fe:ri(fe))!==M.check){C.msg="incorrect data check",M.mode=Qe;break}fe=0,Te=0}M.mode=Je;case Je:if(M.wrap&&M.flags){for(;Te<32;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(fe!==(M.total&4294967295)){C.msg="incorrect length check",M.mode=Qe;break}fe=0,Te=0}M.mode=ct;case ct:nt=Ms;break e;case Qe:nt=$s;break e;case Yt:return Jo;case nn:default:return Ni}return C.next_out=be,C.avail_out=Ze,C.next_in=re,C.avail_in=me,M.hold=fe,M.bits=Te,(M.wsize||Ye!==C.avail_out&&M.mode<Qe&&(M.mode<je||U!==Ro))&&yr(C,C.output,C.next_out,Ye-C.avail_out),en-=C.avail_in,Ye-=C.avail_out,C.total_in+=en,C.total_out+=Ye,M.total+=Ye,M.wrap&&Ye&&(C.adler=M.check=M.flags?tt(M.check,G,Ye,C.next_out-Ye):Re(M.check,G,Ye,C.next_out-Ye)),C.data_type=M.bits+(M.last?64:0)+(M.mode===rr?128:0)+(M.mode===se||M.mode===ne?256:0),(en===0&&Ye===0||U===Ro)&&nt===Ji&&(nt=po),nt},"inflate$2"),$t=o(C=>{if(!C||!C.state)return Ni;let U=C.state;return U.window&&(U.window=null),C.state=null,Ji},"inflateEnd"),Wl=o((C,U)=>{if(!C||!C.state)return Ni;const M=C.state;return M.wrap&2?(M.head=U,U.done=!1,Ji):Ni},"inflateGetHeader"),kd=o((C,U)=>{const M=U.length;let Y,G,re;return!C||!C.state||(Y=C.state,Y.wrap!==0&&Y.mode!==Xo)?Ni:Y.mode===Xo&&(G=1,G=Re(G,U,M,0),G!==Y.check)?$s:(re=yr(C,U,M,M),re?(Y.mode=Yt,Jo):(Y.havedict=1,Ji))},"inflateSetDictionary");var pl=ki,sr=di,jl=wi,Na=or,va=yi,Dd=En,ml=$t,gl=Wl,Sl=kd,xa="pako inflate (from Nodeca project)",Mr={inflateReset:pl,inflateReset2:sr,inflateResetKeep:jl,inflateInit:Na,inflateInit2:va,inflate:Dd,inflateEnd:ml,inflateGetHeader:gl,inflateSetDictionary:Sl,inflateInfo:xa};function an(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}o(an,"GZheader");var ei=an;const Pt=Object.prototype.toString,{Z_NO_FLUSH:Ld,Z_FINISH:vl,Z_OK:hs,Z_STREAM_END:da,Z_NEED_DICT:ca,Z_STREAM_ERROR:Zs,Z_DATA_ERROR:ya,Z_MEM_ERROR:Nd}=gt;function ps(C){this.options=Kr.assign({chunkSize:1024*64,windowBits:15,to:""},C||{});const U=this.options;U.raw&&U.windowBits>=0&&U.windowBits<16&&(U.windowBits=-U.windowBits,U.windowBits===0&&(U.windowBits=-15)),U.windowBits>=0&&U.windowBits<16&&!(C&&C.windowBits)&&(U.windowBits+=32),U.windowBits>15&&U.windowBits<48&&(U.windowBits&15||(U.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Co,this.strm.avail_out=0;let M=Mr.inflateInit2(this.strm,U.windowBits);if(M!==hs)throw new Error(ht[M]);if(this.header=new ei,Mr.inflateGetHeader(this.strm,this.header),U.dictionary&&(typeof U.dictionary=="string"?U.dictionary=Hr.string2buf(U.dictionary):Pt.call(U.dictionary)==="[object ArrayBuffer]"&&(U.dictionary=new Uint8Array(U.dictionary)),U.raw&&(M=Mr.inflateSetDictionary(this.strm,U.dictionary),M!==hs)))throw new Error(ht[M])}o(ps,"Inflate$1"),ps.prototype.push=function(C,U){const M=this.strm,Y=this.options.chunkSize,G=this.options.dictionary;let re,be,me;if(this.ended)return!1;for(U===~~U?be=U:be=U===!0?vl:Ld,Pt.call(C)==="[object ArrayBuffer]"?M.input=new Uint8Array(C):M.input=C,M.next_in=0,M.avail_in=M.input.length;;){for(M.avail_out===0&&(M.output=new Uint8Array(Y),M.next_out=0,M.avail_out=Y),re=Mr.inflate(M,be),re===ca&&G&&(re=Mr.inflateSetDictionary(M,G),re===hs?re=Mr.inflate(M,be):re===ya&&(re=ca));M.avail_in>0&&re===da&&M.state.wrap>0&&C[M.next_in]!==0;)Mr.inflateReset(M),re=Mr.inflate(M,be);switch(re){case Zs:case ya:case ca:case Nd:return this.onEnd(re),this.ended=!0,!1}if(me=M.avail_out,M.next_out&&(M.avail_out===0||re===da))if(this.options.to==="string"){let Ze=Hr.utf8border(M.output,M.next_out),fe=M.next_out-Ze,Te=Hr.buf2string(M.output,Ze);M.next_out=fe,M.avail_out=Y-fe,fe&&M.output.set(M.output.subarray(Ze,Ze+fe),0),this.onData(Te)}else this.onData(M.output.length===M.next_out?M.output:M.output.subarray(0,M.next_out));if(!(re===hs&&me===0)){if(re===da)return re=Mr.inflateEnd(this.strm),this.onEnd(re),this.ended=!0,!0;if(M.avail_in===0)break}}return!0},ps.prototype.onData=function(C){this.chunks.push(C)},ps.prototype.onEnd=function(C){C===hs&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Kr.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function ba(C,U){const M=new ps(U);if(M.push(C),M.err)throw M.msg||ht[M.err];return M.result}o(ba,"inflate$1");function yl(C,U){return U=U||{},U.raw=!0,ba(C,U)}o(yl,"inflateRaw$1");var xd=ps,Bd=ba,Fd=yl,ua=ba,Gl=gt,Ca={Inflate:xd,inflate:Bd,inflateRaw:Fd,ungzip:ua,constants:Gl};const{Deflate:Ea,deflate:$l,deflateRaw:Ba,gzip:Vd}=ws,{Inflate:Kl,inflate:Ud,inflateRaw:Jl,ungzip:Hd}=Ca;var Fa=Ea,Va=$l,Ua=Ba,bl=Vd,pr=Kl,As=Ud,Ha=Jl,za=Hd,Wa=gt,ja={Deflate:Fa,deflate:Va,deflateRaw:Ua,gzip:bl,Inflate:pr,inflate:As,inflateRaw:Ha,ungzip:za,constants:Wa}},cZ61:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.RawSha256=void 0;var S=h("vdHl"),f=function(){function u(){this.state=Int32Array.from(S.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o(u,"RawSha256"),u.prototype.update=function(g){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,s=g.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>S.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=g[a++],s--,this.bufferLength===S.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},u.prototype.digest=function(){if(!this.finished){var g=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(a.setUint8(this.bufferLength++,128),s%S.BLOCK_SIZE>=S.BLOCK_SIZE-8){for(var i=this.bufferLength;i<S.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<S.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(S.BLOCK_SIZE-8,Math.floor(g/4294967296),!0),a.setUint32(S.BLOCK_SIZE-4,g),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(S.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},u.prototype.hashBuffer=function(){for(var g=this,a=g.buffer,s=g.state,i=s[0],e=s[1],t=s[2],n=s[3],r=s[4],c=s[5],p=s[6],m=s[7],d=0;d<S.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(a[d*4]&255)<<24|(a[d*4+1]&255)<<16|(a[d*4+2]&255)<<8|a[d*4+3]&255;else{var y=this.temp[d-2],E=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[d-15];var w=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[d]=(E+this.temp[d-7]|0)+(w+this.temp[d-16]|0)}var k=(((r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7))+(r&c^~r&p)|0)+(m+(S.KEY[d]+this.temp[d]|0)|0)|0,V=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;m=p,p=c,c=r,r=n+k|0,n=t,t=e,e=i,i=k+V|0}s[0]+=i,s[1]+=e,s[2]+=t,s[3]+=n,s[4]+=r,s[5]+=c,s[6]+=p,s[7]+=m},u}();l.RawSha256=f},cizm:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(t,n,r,c){function p(m){return m instanceof r?m:new r(function(d){d(m)})}return o(p,"adopt"),new(r||(r=Promise))(function(m,d){function y(k){try{w(c.next(k))}catch(V){d(V)}}o(y,"fulfilled");function E(k){try{w(c.throw(k))}catch(V){d(V)}}o(E,"rejected");function w(k){k.done?m(k.value):p(k.value).then(y,E)}o(w,"step"),w((c=c.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("lUhs")),g=f(h("V5IF")),a=f(h("bTau")),s=f(h("59sL")),i=f(h("aVV0"));let e=o(class extends i.default{cancel(){if(this.cancelPromise){const n=new Error(`canceling ${this.name()}`);this.cancelPromise(n),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){if(this.context.turnCredentials){this.context.logger.info("TURN credentials available, skipping credentials fetch");return}if(this.context.logger.error("missing TURN credentials - falling back to fetch"),!this.url){this.context.logger.info("TURN control url not supplied, skipping credentials fetch");return}const n={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new a.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})};this.context.logger.info(`requesting TURN credentials from ${this.url}`);const r=yield new Promise((c,p)=>S(this,void 0,void 0,function*(){this.cancelPromise=m=>{p(m)};try{const m=yield fetch(s.default.urlWithVersion(this.url),n);if(this.context.logger.info("received TURN credentials"),m.status&&m.status===403){p(new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.TURNCredentialsForbidden}`));return}if(m.status&&m.status===404){p(new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.MeetingEnded}`));return}c(yield m.json())}catch(m){p(m)}finally{delete this.cancelPromise}}));this.context.turnCredentials=new g.default,this.context.turnCredentials.password=r.password,this.context.turnCredentials.ttl=r.ttl,this.context.turnCredentials.uris=r.uris.map(c=>this.context.meetingSessionConfiguration.urls.urlRewriter(c)).filter(c=>!!c),this.context.turnCredentials.username=r.username})}constructor(n){super(n.logger),this.context=n,this.taskName="ReceiveTURNCredentialsTask",this.url=n.meetingSessionConfiguration.urls.turnControlURL,this.meetingId=n.meetingSessionConfiguration.meetingId,this.joinToken=n.meetingSessionConfiguration.credentials.joinToken}},"ReceiveTURNCredentialsTask");l.default=e},cm7I:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={InvalidCallId:"invalid_call_id",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",TeamNotFound:"team_not_found",InvalidHuddle:"invalid_huddle",ExternalApiFailed:"external_api_failed",PermissionDenied:"permission_denied"},t=Object(a.a)("rooms.startTranscription generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"rooms.startTranscription",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to rooms.startTranscription
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherroomsStartTranscriptionFetcher",description:"rooms.startTranscription generated fetcher"}},crgu:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isDestroyable=void 0;function S(f){return f&&"destroy"in f}o(S,"isDestroyable"),l.isDestroyable=S},curu:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("hEYi")),g=h("f2XL"),a=f(h("aVV0"));let s=o(class extends a.default{run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===u.default.ReceivedSignalFrame){if(e.message.type===g.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===g.SdkSignalFrame.Type.AUDIO_METADATA){const t=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(t)}}}constructor(e){super(e.logger),this.context=e,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=t=>{this.context.signalingClient.mute(t)}}},"ListenForVolumeIndicatorsTask");l.default=s},"d/Q8":function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={TeamIneligible:"team_ineligible",TeamOnPaidPlan:"team_on_paid_plan",InvalidCampaign:"invalid_campaign",InsufficientPermissions:"insufficient_permissions",CodeTypeRedeemed:"code_type_redeemed",CodeSubtypeRedeemed:"code_subtype_redeemed",NotInExperiment:"not_in_experiment",TeamDoesntSatisfyDaysAfterReachedMessageLimitCriteria:"team_doesnt_satisfy_days_after_reached_message_limit_criteria"},t=Object(a.a)("promo.campaigns.redeem generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"promo.campaigns.redeem",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to promo.campaigns.redeem
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherpromoCampaignsRedeemFetcher",description:"promo.campaigns.redeem generated fetcher"}},dFEU:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Sha256=void 0;var S=h("kQNw"),f=h("p72H"),u=h("f/KM"),g=h("Yugg"),a=function(){function e(t){this.secret=t,this.reset()}return o(e,"Sha256"),e.prototype.update=function(t){var n=this;(0,S.isEmptyData)(t)||(this.operation=this.operation.then(function(r){return r.onerror=function(){n.operation=Promise.reject(new Error("Error encountered updating hash"))},r.process(i(t)),r}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(t){return new Promise(function(n,r){t.onerror=function(){r(new Error("Error encountered finalizing hash"))},t.oncomplete=function(){t.result&&n(new Uint8Array(t.result)),r(new Error("Error encountered finalizing hash"))},t.finish()})})},e.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(t){return(0,g.locateWindow)().msCrypto.subtle.sign(f.SHA_256_HMAC_ALGO,t)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,g.locateWindow)().msCrypto.subtle.digest("SHA-256"))},e}();l.Sha256=a;function s(e){return new Promise(function(t,n){var r=(0,g.locateWindow)().msCrypto.subtle.importKey("raw",i(e),f.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}})}o(s,"getKeyPromise");function i(e){return typeof e=="string"?(0,u.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}o(i,"toArrayBufferView")},dJwD:function(j,l,h){"use strict";h.r(l),h.d(l,"__extends",function(){return f}),h.d(l,"__assign",function(){return u}),h.d(l,"__rest",function(){return g}),h.d(l,"__decorate",function(){return a}),h.d(l,"__param",function(){return s}),h.d(l,"__metadata",function(){return i}),h.d(l,"__awaiter",function(){return e}),h.d(l,"__generator",function(){return t}),h.d(l,"__createBinding",function(){return n}),h.d(l,"__exportStar",function(){return r}),h.d(l,"__values",function(){return c}),h.d(l,"__read",function(){return p}),h.d(l,"__spread",function(){return m}),h.d(l,"__spreadArrays",function(){return d}),h.d(l,"__await",function(){return y}),h.d(l,"__asyncGenerator",function(){return E}),h.d(l,"__asyncDelegator",function(){return w}),h.d(l,"__asyncValues",function(){return k}),h.d(l,"__makeTemplateObject",function(){return V}),h.d(l,"__importStar",function(){return N}),h.d(l,"__importDefault",function(){return F}),h.d(l,"__classPrivateFieldGet",function(){return P}),h.d(l,"__classPrivateFieldSet",function(){return B});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,J){D.__proto__=J}||function(D,J){for(var X in J)J.hasOwnProperty(X)&&(D[X]=J[X])},S(O,R)},"extendStatics");function f(O,R){S(O,R);function D(){this.constructor=O}o(D,"__"),O.prototype=R===null?Object.create(R):(D.prototype=R.prototype,new D)}o(f,"__extends");var u=o(function(){return u=Object.assign||o(function(R){for(var D,J=1,X=arguments.length;J<X;J++){D=arguments[J];for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(R[$]=D[$])}return R},"__assign"),u.apply(this,arguments)},"__assign");function g(O,R){var D={};for(var J in O)Object.prototype.hasOwnProperty.call(O,J)&&R.indexOf(J)<0&&(D[J]=O[J]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(O);X<J.length;X++)R.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(O,J[X])&&(D[J[X]]=O[J[X]]);return D}o(g,"__rest");function a(O,R,D,J){var X=arguments.length,$=X<3?R:J===null?J=Object.getOwnPropertyDescriptor(R,D):J,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(O,R,D,J);else for(var Ee=O.length-1;Ee>=0;Ee--)(he=O[Ee])&&($=(X<3?he($):X>3?he(R,D,$):he(R,D))||$);return X>3&&$&&Object.defineProperty(R,D,$),$}o(a,"__decorate");function s(O,R){return function(D,J){R(D,J,O)}}o(s,"__param");function i(O,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,R)}o(i,"__metadata");function e(O,R,D,J){function X($){return $ instanceof D?$:new D(function(he){he($)})}return o(X,"adopt"),new(D||(D=Promise))(function($,he){function Ee(Be){try{ve(J.next(Be))}catch(pt){he(pt)}}o(Ee,"fulfilled");function ke(Be){try{ve(J.throw(Be))}catch(pt){he(pt)}}o(ke,"rejected");function ve(Be){Be.done?$(Be.value):X(Be.value).then(Ee,ke)}o(ve,"step"),ve((J=J.apply(O,R||[])).next())})}o(e,"__awaiter");function t(O,R){var D={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},J,X,$,he;return he={next:Ee(0),throw:Ee(1),return:Ee(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function Ee(ve){return function(Be){return ke([ve,Be])}}function ke(ve){if(J)throw new TypeError("Generator is already executing.");for(;D;)try{if(J=1,X&&($=ve[0]&2?X.return:ve[0]?X.throw||(($=X.return)&&$.call(X),0):X.next)&&!($=$.call(X,ve[1])).done)return $;switch(X=0,$&&(ve=[ve[0]&2,$.value]),ve[0]){case 0:case 1:$=ve;break;case 4:return D.label++,{value:ve[1],done:!1};case 5:D.label++,X=ve[1],ve=[0];continue;case 7:ve=D.ops.pop(),D.trys.pop();continue;default:if($=D.trys,!($=$.length>0&&$[$.length-1])&&(ve[0]===6||ve[0]===2)){D=0;continue}if(ve[0]===3&&(!$||ve[1]>$[0]&&ve[1]<$[3])){D.label=ve[1];break}if(ve[0]===6&&D.label<$[1]){D.label=$[1],$=ve;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(ve);break}$[2]&&D.ops.pop(),D.trys.pop();continue}ve=R.call(O,D)}catch(Be){ve=[6,Be],X=0}finally{J=$=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}}o(t,"__generator");function n(O,R,D,J){J===void 0&&(J=D),O[J]=R[D]}o(n,"__createBinding");function r(O,R){for(var D in O)D!=="default"&&!R.hasOwnProperty(D)&&(R[D]=O[D])}o(r,"__exportStar");function c(O){var R=typeof Symbol=="function"&&Symbol.iterator,D=R&&O[R],J=0;if(D)return D.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&J>=O.length&&(O=void 0),{value:O&&O[J++],done:!O}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}o(c,"__values");function p(O,R){var D=typeof Symbol=="function"&&O[Symbol.iterator];if(!D)return O;var J=D.call(O),X,$=[],he;try{for(;(R===void 0||R-- >0)&&!(X=J.next()).done;)$.push(X.value)}catch(Ee){he={error:Ee}}finally{try{X&&!X.done&&(D=J.return)&&D.call(J)}finally{if(he)throw he.error}}return $}o(p,"__read");function m(){for(var O=[],R=0;R<arguments.length;R++)O=O.concat(p(arguments[R]));return O}o(m,"__spread");function d(){for(var O=0,R=0,D=arguments.length;R<D;R++)O+=arguments[R].length;for(var J=Array(O),X=0,R=0;R<D;R++)for(var $=arguments[R],he=0,Ee=$.length;he<Ee;he++,X++)J[X]=$[he];return J}o(d,"__spreadArrays");function y(O){return this instanceof y?(this.v=O,this):new y(O)}o(y,"__await");function E(O,R,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=D.apply(O,R||[]),X,$=[];return X={},he("next"),he("throw"),he("return"),X[Symbol.asyncIterator]=function(){return this},X;function he(Ve){J[Ve]&&(X[Ve]=function(bt){return new Promise(function(lt,mt){$.push([Ve,bt,lt,mt])>1||Ee(Ve,bt)})})}function Ee(Ve,bt){try{ke(J[Ve](bt))}catch(lt){pt($[0][3],lt)}}function ke(Ve){Ve.value instanceof y?Promise.resolve(Ve.value.v).then(ve,Be):pt($[0][2],Ve)}function ve(Ve){Ee("next",Ve)}function Be(Ve){Ee("throw",Ve)}function pt(Ve,bt){Ve(bt),$.shift(),$.length&&Ee($[0][0],$[0][1])}}o(E,"__asyncGenerator");function w(O){var R,D;return R={},J("next"),J("throw",function(X){throw X}),J("return"),R[Symbol.iterator]=function(){return this},R;function J(X,$){R[X]=O[X]?function(he){return(D=!D)?{value:y(O[X](he)),done:X==="return"}:$?$(he):he}:$}}o(w,"__asyncDelegator");function k(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=O[Symbol.asyncIterator],D;return R?R.call(O):(O=typeof c=="function"?c(O):O[Symbol.iterator](),D={},J("next"),J("throw"),J("return"),D[Symbol.asyncIterator]=function(){return this},D);function J($){D[$]=O[$]&&function(he){return new Promise(function(Ee,ke){he=O[$](he),X(Ee,ke,he.done,he.value)})}}function X($,he,Ee,ke){Promise.resolve(ke).then(function(ve){$({value:ve,done:Ee})},he)}}o(k,"__asyncValues");function V(O,R){return Object.defineProperty?Object.defineProperty(O,"raw",{value:R}):O.raw=R,O}o(V,"__makeTemplateObject");function N(O){if(O&&O.__esModule)return O;var R={};if(O!=null)for(var D in O)Object.hasOwnProperty.call(O,D)&&(R[D]=O[D]);return R.default=O,R}o(N,"__importStar");function F(O){return O&&O.__esModule?O:{default:O}}o(F,"__importDefault");function P(O,R){if(!R.has(O))throw new TypeError("attempted to get private field on non-instance");return R.get(O)}o(P,"__classPrivateFieldGet");function B(O,R,D){if(!R.has(O))throw new TypeError("attempted to set private field on non-instance");return R.set(O,D),D}o(B,"__classPrivateFieldSet")},dPBs:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionLifecycleEventCondition=void 0;var S;(function(f){f[f.ConnectingNew=0]="ConnectingNew",f[f.ReconnectingExisting=1]="ReconnectingExisting",f[f.StartedNew=2]="StartedNew",f[f.StartedExisting=3]="StartedExisting",f[f.StartedAfterReconnect=4]="StartedAfterReconnect",f[f.StoppedCleanly=5]="StoppedCleanly",f[f.StoppedWithFailure=6]="StoppedWithFailure"})(S=l.MeetingSessionLifecycleEventCondition||(l.MeetingSessionLifecycleEventCondition={})),l.default=S},dPyZ:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("E6e8"),g=h("EM4D"),a=f(h("ac3q"));let s=o(class{makeTwoDigits(e){return e>9?e.toString():"0"+e.toString()}hmac(e,t){const n=new u.Sha256(t);return n.update(e),n.digest()}getDateTimeString(){const e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}getDateString(e){return e.substring(0,e.indexOf("T"))}getSignatureKey(e,t,n,r){return S(this,void 0,void 0,function*(){const c=yield this.hmac(t,"AWS4"+e),p=yield this.hmac(n,c),m=yield this.hmac(r,p);return yield this.hmac("aws4_request",m)})}signURL(e,t,n,r,c,p,m){return S(this,void 0,void 0,function*(){const d=this.getDateTimeString(),y=this.getDateString(d),E="AWS4-HMAC-SHA256";let w="";this.chimeClient.config.region instanceof Function?w=yield this.chimeClient.config.region():w=this.chimeClient.config.region;const k="host",V="host:"+r.toLowerCase()+`
`,N=y+"/"+w+"/"+n+"/aws4_request";let F;this.chimeClient.config.credentials instanceof Function?F=yield this.chimeClient.config.credentials():F=this.chimeClient.config.credentials;let P=new Map;P.set("X-Amz-Algorithm",[E]),P.set("X-Amz-Credential",[encodeURIComponent(F.accessKeyId+"/"+N)]),P.set("X-Amz-Date",[d]),P.set("X-Amz-Expires",["10"]),P.set("X-Amz-SignedHeaders",["host"]),F.sessionToken&&P.set("X-Amz-Security-Token",[encodeURIComponent(F.sessionToken)]),P.set(a.default.X_AMZN_VERSION,[encodeURIComponent(a.default.sdkVersion)]),P.set(a.default.X_AMZN_USER_AGENT,[encodeURIComponent(a.default.sdkUserAgentLowResolution)]),m==null||m.forEach((he,Ee)=>{const ke=encodeURIComponent(Ee);he.sort().forEach(ve=>{P.has(ke)||P.set(ke,[]),P.get(ke).push(encodeURIComponent(ve))})});let B="";P=new Map([...P.entries()].sort()),P.forEach((he,Ee)=>{he.forEach(ke=>{B.length&&(B+="&"),B+=Ee+"="+ke})});const O=e+`
`+c+`
`+B+`
`+V+`
`+k+`
`+g.toHex(yield this.hmac(p)),R=g.toHex(yield this.hmac(O)),D=`AWS4-HMAC-SHA256
`+d+`
`+y+"/"+w+"/"+n+`/aws4_request
`+R,J=yield this.getSignatureKey(F.secretAccessKey,y,w,n),X=g.toHex(yield this.hmac(D,J)),$=B+"&X-Amz-Signature="+X;return t+"://"+r+c+"?"+$})}constructor(e){this.chimeClient=e}},"DefaultSigV4");l.default=s},"dWP+":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isVideoTransformDevice=void 0;function S(f){return!!f&&typeof f=="object"&&"transformStream"in f&&"stop"in f&&"intrinsicDevice"in f}o(S,"isVideoTransformDevice"),l.isVideoTransformDevice=S},dWQL:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{equals(u){return this.videoWidth===u.videoWidth&&this.videoHeight===u.videoHeight&&this.videoFrameRate===u.videoFrameRate}constructor(u,g,a){this.videoWidth=u,this.videoHeight=g,this.videoFrameRate=a}},"VideoQualitySettings");l.default=S,S.VideoDisabled=new S(0,0,0),S.VideoResolutionHD=new S(1280,720,30),S.VideoResolutionFHD=new S(1920,1080,30),S.VideoResolutionUHD=new S(3840,2160,30)},dXzy:function(j,l){function h(S,f,u){return f in S?Object.defineProperty(S,f,{value:u,enumerable:!0,configurable:!0,writable:!0}):S[f]=u,S}o(h,"_defineProperty"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},da6e:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("Aplu");let f=o(class{start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(g){g===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):g<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(g,a,s){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",a),this.statsCollector.logLatency("ping_pong_clock_skew",s),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(g){let a=0,s=0;const i=g.getObservableMetrics(),e=i.audioPacketsReceived,t=i.audioPacketsReceivedFractionLoss,n=i.audioSpeakerDelayMs;if(typeof n=="number"&&!isNaN(n)&&this.connectionHealthData.setAudioSpeakerDelayMs(n),typeof e=="number"&&typeof t=="number"){if(a=e,s=t,a<0||s<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,a),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,s),a>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(a===0||s>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof i.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(g){g>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}addToMinuteWindow(g,a){g.unshift(a),g.length>60&&g.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(g=>{S.Maybe.of(g.connectionHealthDidChange).map(a=>a.bind(g)(this.connectionHealthData.clone()))})}constructor(g,a,s,i,e){this.audioVideoController=g,this.realtimeController=a,this.connectionHealthData=s,this.pingPong=i,this.statsCollector=e,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(t=>{this.isActive&&this.receiveSignalStrengthChange(t)})}},"SignalingAndMetricsConnectionMonitor");l.default=f},dazq:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}},"MeetingReadinessCheckerConfiguration");l.default=S},dhcM:function(j,l,h){"use strict";var S=h("FLqD"),f=h("kt0j"),u=Object(f.a)(function(g,a,s,i){Object(S.a)(g,a,s,i)});l.a=u},dmnA:function(j,l,h){"use strict";j.exports=h("fCza")},duQQ:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function f(g){return"MSInputMethodContext"in g&&"msCrypto"in g}o(f,"quacksLikeAnMsWindow");function u(g){if(f(g)&&g.msCrypto.subtle!==void 0){var a=g.msCrypto,s=a.getRandomValues,i=a.subtle;return S.map(function(e){return i[e]}).concat(s).every(function(e){return typeof e=="function"})}return!1}o(u,"isMsWindow"),l.isMsWindow=u},"e/M0":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("j+uH"));let u=o(class extends f.default{run(){return this.fn().then(()=>{})}constructor(a,s,i="RunnableTask"){super(a),this.fn=s,this.taskName=i}},"RunnableTask");l.default=u},"e/ca":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("uctb"));let u=o(class{info(a){this.log(f.default.INFO,a)}warn(a){this.log(f.default.WARN,a)}error(a){this.log(f.default.ERROR,a)}debug(a){f.default.DEBUG<this.level||(typeof a=="string"?this.log(f.default.DEBUG,a):a?this.log(f.default.DEBUG,a()):this.log(f.default.DEBUG,""+a))}setLogLevel(a){this.level=a}getLogLevel(){return this.level}log(a,s){if(a<this.level)return;const e=`${new Date().toISOString()} [${f.default[a]}] ${this.name} - ${s}`;switch(a){case f.default.ERROR:console.error(e);break;case f.default.WARN:console.warn(e);break;case f.default.DEBUG:console.debug(e.replace(/\\r\\n/g,`
`));break;case f.default.INFO:console.info(e);break}}constructor(a,s=f.default.WARN){this.name=a,this.level=s}},"ConsoleLogger");l.default=u},"e/nb":function(j,l,h){"use strict";h.r(l),h.d(l,"__extends",function(){return f}),h.d(l,"__assign",function(){return u}),h.d(l,"__rest",function(){return g}),h.d(l,"__decorate",function(){return a}),h.d(l,"__param",function(){return s}),h.d(l,"__metadata",function(){return i}),h.d(l,"__awaiter",function(){return e}),h.d(l,"__generator",function(){return t}),h.d(l,"__createBinding",function(){return n}),h.d(l,"__exportStar",function(){return r}),h.d(l,"__values",function(){return c}),h.d(l,"__read",function(){return p}),h.d(l,"__spread",function(){return m}),h.d(l,"__spreadArrays",function(){return d}),h.d(l,"__await",function(){return y}),h.d(l,"__asyncGenerator",function(){return E}),h.d(l,"__asyncDelegator",function(){return w}),h.d(l,"__asyncValues",function(){return k}),h.d(l,"__makeTemplateObject",function(){return V}),h.d(l,"__importStar",function(){return N}),h.d(l,"__importDefault",function(){return F}),h.d(l,"__classPrivateFieldGet",function(){return P}),h.d(l,"__classPrivateFieldSet",function(){return B});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,J){D.__proto__=J}||function(D,J){for(var X in J)J.hasOwnProperty(X)&&(D[X]=J[X])},S(O,R)},"extendStatics");function f(O,R){S(O,R);function D(){this.constructor=O}o(D,"__"),O.prototype=R===null?Object.create(R):(D.prototype=R.prototype,new D)}o(f,"__extends");var u=o(function(){return u=Object.assign||o(function(R){for(var D,J=1,X=arguments.length;J<X;J++){D=arguments[J];for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(R[$]=D[$])}return R},"__assign"),u.apply(this,arguments)},"__assign");function g(O,R){var D={};for(var J in O)Object.prototype.hasOwnProperty.call(O,J)&&R.indexOf(J)<0&&(D[J]=O[J]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,J=Object.getOwnPropertySymbols(O);X<J.length;X++)R.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(O,J[X])&&(D[J[X]]=O[J[X]]);return D}o(g,"__rest");function a(O,R,D,J){var X=arguments.length,$=X<3?R:J===null?J=Object.getOwnPropertyDescriptor(R,D):J,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(O,R,D,J);else for(var Ee=O.length-1;Ee>=0;Ee--)(he=O[Ee])&&($=(X<3?he($):X>3?he(R,D,$):he(R,D))||$);return X>3&&$&&Object.defineProperty(R,D,$),$}o(a,"__decorate");function s(O,R){return function(D,J){R(D,J,O)}}o(s,"__param");function i(O,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,R)}o(i,"__metadata");function e(O,R,D,J){function X($){return $ instanceof D?$:new D(function(he){he($)})}return o(X,"adopt"),new(D||(D=Promise))(function($,he){function Ee(Be){try{ve(J.next(Be))}catch(pt){he(pt)}}o(Ee,"fulfilled");function ke(Be){try{ve(J.throw(Be))}catch(pt){he(pt)}}o(ke,"rejected");function ve(Be){Be.done?$(Be.value):X(Be.value).then(Ee,ke)}o(ve,"step"),ve((J=J.apply(O,R||[])).next())})}o(e,"__awaiter");function t(O,R){var D={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},J,X,$,he;return he={next:Ee(0),throw:Ee(1),return:Ee(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function Ee(ve){return function(Be){return ke([ve,Be])}}function ke(ve){if(J)throw new TypeError("Generator is already executing.");for(;D;)try{if(J=1,X&&($=ve[0]&2?X.return:ve[0]?X.throw||(($=X.return)&&$.call(X),0):X.next)&&!($=$.call(X,ve[1])).done)return $;switch(X=0,$&&(ve=[ve[0]&2,$.value]),ve[0]){case 0:case 1:$=ve;break;case 4:return D.label++,{value:ve[1],done:!1};case 5:D.label++,X=ve[1],ve=[0];continue;case 7:ve=D.ops.pop(),D.trys.pop();continue;default:if($=D.trys,!($=$.length>0&&$[$.length-1])&&(ve[0]===6||ve[0]===2)){D=0;continue}if(ve[0]===3&&(!$||ve[1]>$[0]&&ve[1]<$[3])){D.label=ve[1];break}if(ve[0]===6&&D.label<$[1]){D.label=$[1],$=ve;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(ve);break}$[2]&&D.ops.pop(),D.trys.pop();continue}ve=R.call(O,D)}catch(Be){ve=[6,Be],X=0}finally{J=$=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}}o(t,"__generator");function n(O,R,D,J){J===void 0&&(J=D),O[J]=R[D]}o(n,"__createBinding");function r(O,R){for(var D in O)D!=="default"&&!R.hasOwnProperty(D)&&(R[D]=O[D])}o(r,"__exportStar");function c(O){var R=typeof Symbol=="function"&&Symbol.iterator,D=R&&O[R],J=0;if(D)return D.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&J>=O.length&&(O=void 0),{value:O&&O[J++],done:!O}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}o(c,"__values");function p(O,R){var D=typeof Symbol=="function"&&O[Symbol.iterator];if(!D)return O;var J=D.call(O),X,$=[],he;try{for(;(R===void 0||R-- >0)&&!(X=J.next()).done;)$.push(X.value)}catch(Ee){he={error:Ee}}finally{try{X&&!X.done&&(D=J.return)&&D.call(J)}finally{if(he)throw he.error}}return $}o(p,"__read");function m(){for(var O=[],R=0;R<arguments.length;R++)O=O.concat(p(arguments[R]));return O}o(m,"__spread");function d(){for(var O=0,R=0,D=arguments.length;R<D;R++)O+=arguments[R].length;for(var J=Array(O),X=0,R=0;R<D;R++)for(var $=arguments[R],he=0,Ee=$.length;he<Ee;he++,X++)J[X]=$[he];return J}o(d,"__spreadArrays");function y(O){return this instanceof y?(this.v=O,this):new y(O)}o(y,"__await");function E(O,R,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=D.apply(O,R||[]),X,$=[];return X={},he("next"),he("throw"),he("return"),X[Symbol.asyncIterator]=function(){return this},X;function he(Ve){J[Ve]&&(X[Ve]=function(bt){return new Promise(function(lt,mt){$.push([Ve,bt,lt,mt])>1||Ee(Ve,bt)})})}function Ee(Ve,bt){try{ke(J[Ve](bt))}catch(lt){pt($[0][3],lt)}}function ke(Ve){Ve.value instanceof y?Promise.resolve(Ve.value.v).then(ve,Be):pt($[0][2],Ve)}function ve(Ve){Ee("next",Ve)}function Be(Ve){Ee("throw",Ve)}function pt(Ve,bt){Ve(bt),$.shift(),$.length&&Ee($[0][0],$[0][1])}}o(E,"__asyncGenerator");function w(O){var R,D;return R={},J("next"),J("throw",function(X){throw X}),J("return"),R[Symbol.iterator]=function(){return this},R;function J(X,$){R[X]=O[X]?function(he){return(D=!D)?{value:y(O[X](he)),done:X==="return"}:$?$(he):he}:$}}o(w,"__asyncDelegator");function k(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=O[Symbol.asyncIterator],D;return R?R.call(O):(O=typeof c=="function"?c(O):O[Symbol.iterator](),D={},J("next"),J("throw"),J("return"),D[Symbol.asyncIterator]=function(){return this},D);function J($){D[$]=O[$]&&function(he){return new Promise(function(Ee,ke){he=O[$](he),X(Ee,ke,he.done,he.value)})}}function X($,he,Ee,ke){Promise.resolve(ke).then(function(ve){$({value:ve,done:Ee})},he)}}o(k,"__asyncValues");function V(O,R){return Object.defineProperty?Object.defineProperty(O,"raw",{value:R}):O.raw=R,O}o(V,"__makeTemplateObject");function N(O){if(O&&O.__esModule)return O;var R={};if(O!=null)for(var D in O)Object.hasOwnProperty.call(O,D)&&(R[D]=O[D]);return R.default=O,R}o(N,"__importStar");function F(O){return O&&O.__esModule?O:{default:O}}o(F,"__importDefault");function P(O,R){if(!R.has(O))throw new TypeError("attempted to get private field on non-instance");return R.get(O)}o(P,"__classPrivateFieldGet");function B(O,R,D){if(!R.has(O))throw new TypeError("attempted to set private field on non-instance");return R.set(O,D),D}o(B,"__classPrivateFieldSet")},e0ae:function(j,l,h){"use strict";h.r(l),function(S){h.d(l,"BrowserInfo",function(){return u}),h.d(l,"NodeInfo",function(){return g}),h.d(l,"SearchBotDeviceInfo",function(){return a}),h.d(l,"BotInfo",function(){return s}),h.d(l,"ReactNativeInfo",function(){return i}),h.d(l,"detect",function(){return p}),h.d(l,"browserName",function(){return d}),h.d(l,"parseUserAgent",function(){return y}),h.d(l,"detectOS",function(){return E}),h.d(l,"getNodeVersion",function(){return w});var f=function(V,N,F){if(F||arguments.length===2)for(var P=0,B=N.length,O;P<B;P++)(O||!(P in N))&&(O||(O=Array.prototype.slice.call(N,0,P)),O[P]=N[P]);return V.concat(O||Array.prototype.slice.call(N))},u=function(){function V(N,F,P){this.name=N,this.version=F,this.os=P,this.type="browser"}return o(V,"BrowserInfo"),V}(),g=function(){function V(N){this.version=N,this.type="node",this.name="node",this.os=S.platform}return o(V,"NodeInfo"),V}(),a=function(){function V(N,F,P,B){this.name=N,this.version=F,this.os=P,this.bot=B,this.type="bot-device"}return o(V,"SearchBotDeviceInfo"),V}(),s=function(){function V(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return o(V,"BotInfo"),V}(),i=function(){function V(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return o(V,"ReactNativeInfo"),V}(),e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,t=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,n=3,r=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",e]],c=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(V){return V?y(V):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new i:typeof navigator<"u"?y(navigator.userAgent):w()}o(p,"detect");function m(V){return V!==""&&r.reduce(function(N,F){var P=F[0],B=F[1];if(N)return N;var O=B.exec(V);return!!O&&[P,O]},!1)}o(m,"matchUserAgent");function d(V){var N=m(V);return N?N[0]:null}o(d,"browserName");function y(V){var N=m(V);if(!N)return null;var F=N[0],P=N[1];if(F==="searchbot")return new s;var B=P[1]&&P[1].split(".").join("_").split("_").slice(0,3);B?B.length<n&&(B=f(f([],B,!0),k(n-B.length),!0)):B=[];var O=B.join("."),R=E(V),D=t.exec(V);return D&&D[1]?new a(F,O,R,D[1]):new u(F,O,R)}o(y,"parseUserAgent");function E(V){for(var N=0,F=c.length;N<F;N++){var P=c[N],B=P[0],O=P[1],R=O.exec(V);if(R)return B}return null}o(E,"detectOS");function w(){var V=typeof S<"u"&&S.version;return V?new g(S.version.slice(1)):null}o(w,"getNodeVersion");function k(V){for(var N=[],F=0;F<V;F++)N.push("0");return N}o(k,"createVersionParts")}.call(this,h("8oxB"))},e0fW:function(j,l){function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(h,"_nonIterableSpread"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},e2MG:function(j,l,h){"use strict";(function(S){var f=this&&this.__awaiter||function(e,t,n,r){function c(p){return p instanceof n?p:new n(function(m){m(p)})}return o(c,"adopt"),new(n||(n=Promise))(function(p,m){function d(w){try{E(r.next(w))}catch(k){m(k)}}o(d,"fulfilled");function y(w){try{E(r.throw(w))}catch(k){m(k)}}o(y,"rejected");function E(w){w.done?p(w.value):c(w.value).then(d,y)}o(E,"step"),E((r=r.apply(e,t||[])).next())})},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const g=u(h("8wPz")),a=u(h("91j7")),s=u(h("uctb"));let i=o(class Zf{addEventListener(){!this.eventListener||!("window"in S)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in S)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(t){s.default.DEBUG<this.logLevel||(typeof t=="string"?this.log(s.default.DEBUG,t):t?this.log(s.default.DEBUG,t()):this.log(s.default.DEBUG,""+t))}info(t){this.log(s.default.INFO,t)}warn(t){this.log(s.default.WARN,t)}error(t){this.log(s.default.ERROR,t)}setLogLevel(t){this.logLevel=t}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new g.default(this.intervalMs),this.intervalScheduler.start(()=>f(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const t=this.logCapture.slice(0,this.batchSize),n=this.makeRequestBody(t);try{(yield fetch(this.url,Object.assign({method:"POST",body:n},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(t.length))}catch(r){console.warn("[POSTLogger] "+r.message)}finally{this.lock=!1}}))}stop(){var t;(t=this.intervalScheduler)===null||t===void 0||t.stop(),this.intervalScheduler=void 0,this.removeEventListener();const n=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,n)}destroy(){return f(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(t){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:t}))}log(t,n){if(t<this.logLevel)return;const r=Date.now();this.logCapture.push(new a.default(this.sequenceNumber,n,r,s.default[t])),this.sequenceNumber+=1}constructor(t){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:n,batchSize:r=Zf.BATCH_SIZE,intervalMs:c=Zf.INTERVAL_MS,logLevel:p=s.default.WARN,metadata:m,headers:d}=t;this.url=n,this.batchSize=r,this.intervalMs=c,this.logLevel=p,this.metadata=m,this.headers=d,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}},"POSTLogger");l.default=i,i.BATCH_SIZE=85,i.INTERVAL_MS=2e3}).call(this,h("yLpj"))},eFki:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Xv43")),g=15;let a=o(class{destroy(){if(this.stop(),this.stages)for(const i of this.stages)i.destroy()}get framerate(){return this.fr}set framerate(i){this.fr=i<0?g:i}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const i of this.outputMediaStream.getVideoTracks())i.stop();this.lastTimeOut&&(clearTimeout(this.lastTimeOut),this.lastTimeOut=void 0),this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(i=>{i.processingDidStop&&i.processingDidStop()}))}addObserver(i){this.observers.add(i)}removeObserver(i){this.observers.delete(i)}getInputMediaStream(){return S(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(i){return S(this,void 0,void 0,function*(){if(!i){this.stop();return}if(i.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=i;const e=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(e)}`),this.canvasOutput.width=e.width,this.canvasOutput.height=e.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const t=new u.default(this.canvasInput);this.sourceBuffers.push(t),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const i of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${i.id} from output stream`),this.outputMediaStream.removeTrack(i);for(const i of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${i.id} to output stream`),this.outputMediaStream.addTrack(i)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(i){this.stages=i}get processors(){return this.stages}forEachObserver(i){for(const e of this.observers)setTimeout(()=>{i(e)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const i of this.inputVideoStream.getTracks())i.stop();this.inputVideoStream=null;for(const i of this.sourceBuffers)i.destroy();this.sourceBuffers=[]}constructor(i,e){this.logger=i,this.stages=e,this.fr=g,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=t=>S(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const n=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let r=[];r.push(this.sourceBuffers[0]);try{for(const w of this.processors)r=yield w.process(r)}catch{this.forEachObserver(k=>{k.processingDidFailToStart&&k.processingDidFailToStart()});return}this.destBuffers=r;let c;try{c=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(k=>{k.processingDidFailToStart&&k.processingDidFailToStart()}));return}const p=c.width,m=c.height;p!==0&&m!==0&&(this.canvasOutput.width!==p&&this.canvasOutput.height!==m&&(this.canvasOutput.width=p,this.canvasOutput.height=m),this.outputCtx.drawImage(c,0,0,p,m,0,0,p,m),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(w=>{w.processingDidStart&&w.processingDidStart()})));const d=performance.now()-n,y=1e3*2/this.framerate-d,E=Math.max(0,1e3/this.framerate-d);y<=0&&this.forEachObserver(w=>{w.processingLatencyTooHigh&&w.processingLatencyTooHigh(d)}),this.lastTimeOut=setTimeout(this.process,E)})}},"DefaultVideoFrameProcessorPipeline");l.default=a},eP7z:function(j,l,h){"use strict";function S(f,u){return f<u}o(S,"baseLt"),l.a=S},eWGP:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(n,r,c,p){function m(d){return d instanceof c?d:new c(function(y){y(d)})}return o(m,"adopt"),new(c||(c=Promise))(function(d,y){function E(V){try{k(p.next(V))}catch(N){y(N)}}o(E,"fulfilled");function w(V){try{k(p.throw(V))}catch(N){y(N)}}o(w,"rejected");function k(V){V.done?d(V.value):m(V.value).then(E,w)}o(k,"step"),k((p=p.apply(n,r||[])).next())})},f=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(l,"__esModule",{value:!0}),l.VoiceFocusDeviceTransformer=void 0;const u=h("sudc"),g=h("VCUZ"),a=f(h("ac3q")),s=f(h("725M")),i=f(h("aMTh")),e=f(h("1ZHK"));let t=o(class Da{static isSupported(r,c){var p,m;const d=Da.defaultFetchBehavior(),y=c!=null&&c.logger?new s.default(c.logger):void 0,E={fetchBehavior:d,logger:y};if(g.isIFramed()){if((c==null?void 0:c.allowIFrame)===!1)return(p=c==null?void 0:c.logger)===null||p===void 0||p.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(m=c==null?void 0:c.logger)===null||m===void 0||m.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return u.VoiceFocus.isSupported(Da.augmentSpec(r),E)}static create(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2?arguments[2]:void 0,m=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0;var y,E,w;return S(this,void 0,void 0,function*(){m&&m.Meeting.Meeting&&(m=m.Meeting);const k=((w=(E=(y=m==null?void 0:m.Meeting)===null||y===void 0?void 0:y.MeetingFeatures)===null||E===void 0?void 0:E.Audio)===null||w===void 0?void 0:w.EchoReduction)==="AVAILABLE",V=p&&p.supported===!0&&p.model.name==="ns_es"&&!k,N=r.name==="ns_es"&&!k;if(V||N)throw new Error("Echo Reduction requested but not enabled.");const F=new Da(r,c,p);return yield F.init(),F})}static configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S(this,void 0,void 0,function*(){return new Da(r,c,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(r,c){return S(this,void 0,void 0,function*(){if(this.supported)try{const[m,d]=yield this.allocateVoiceFocus(!0),y=Object.assign(Object.assign({},c),{es:this.spec.name==="ns_es"});return new i.default(r,m,d,y)}catch{return}})}static destroyVoiceFocus(r){var c;return S(this,void 0,void 0,function*(){(c=r==null?void 0:r.vf)===null||c===void 0||c.destroy()})}static augmentSpec(r){return!r||!r.assetGroup&&!r.revisionID?Object.assign(Object.assign({},r),{assetGroup:Da.currentSDKAssetGroup()}):r}configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const c={fetchBehavior:this.fetchBehavior,preResolve:r,logger:this.vfLogger};return u.VoiceFocus.configure(this.spec,c)})}init(){var r;return S(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const c=yield this.configuration;if(!c.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(c,this.preload);try{yield this.pendingVoiceFocus}catch(p){(r=this.logger)===null||r===void 0||r.error(`Unable to initialize Amazon Voice Focus: ${p}`),this.supported=!1}})}createVoiceFocus(r,c){return S(this,void 0,void 0,function*(){const p=new e.default;return this.vf=yield u.VoiceFocus.init(r,{delegate:p,preload:c,logger:this.vfLogger}),[this.vf,p]})}allocateVoiceFocus(r){return S(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const c=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,c}return this.createVoiceFocus(yield this.configuration,r)})}static majorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const r=this.majorVersion();return r?`sdk-${r}`:"stable-v1"}static defaultFetchBehavior(){const r=Da.majorMinorVersion()||"unknown",c=a.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(r)}&ua=${encodeURIComponent(c)}`}}constructor(r,{preload:c=!0,logger:p,fetchBehavior:m=Da.defaultFetchBehavior()},d){this.spec=r,this.supported=!0,this.logger=p,this.vfLogger=p?new s.default(p):void 0,this.preload=c,this.fetchBehavior=m,this.spec=Da.augmentSpec(this.spec),d&&(this.configuration=Promise.resolve(d))}},"VoiceFocusDeviceTransformer");l.VoiceFocusDeviceTransformer=t,l.default=t},eeAN:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=void 0;function S(f){if(!Uint32Array.from){for(var u=new Uint32Array(f.length),g=0;g<f.length;)u[g]=f[g],g+=1;return u}return Uint32Array.from(f)}o(S,"uint32ArrayFrom"),l.uint32ArrayFrom=S},eeYi:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(c,p,m,d){function y(E){return E instanceof m?E:new m(function(w){w(E)})}return o(y,"adopt"),new(m||(m=Promise))(function(E,w){function k(F){try{N(d.next(F))}catch(P){w(P)}}o(k,"fulfilled");function V(F){try{N(d.throw(F))}catch(P){w(P)}}o(V,"rejected");function N(F){F.done?E(F.value):y(F.value).then(k,V)}o(N,"step"),N((d=d.apply(c,p||[])).next())})},f=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("K4CH"),g=h("rwhO"),a=f(h("Y2s1")),s=f(h("MFJ1")),i=f(h("hAj8")),e=f(h("6/h7")),t=f(h("59sL")),n=f(h("7H4U"));let r=o(class Ul{addObserver(p){this.observerSet.add(p)}removeObserver(p){this.observerSet.delete(p)}forEachObserver(p){for(const m of this.observerSet)e.default.nextTick(()=>{this.observerSet.has(m)&&p(m)})}publishEvent(p,m){return S(this,void 0,void 0,function*(){const d=Date.now();this.meetingHistoryStates.push({name:p,timestampMs:d});const y=Object.freeze(Object.assign(this.getAttributes(d),m));this.forEachObserver(E=>{E.eventDidReceive(p,y)}),this.reportEvent(p,d,m)})}reportEvent(p,m,d){var y;return S(this,void 0,void 0,function*(){let E;try{d&&(E=n.default(d)),yield(y=this.eventReporter)===null||y===void 0?void 0:y.reportEvent(m,p,E)}catch(w){this.logger.error(`Error reporting event ${w}`)}})}setupEventReporter(p,m,d){if(d)this._eventReporter=d;else if(p.urls){const y=p.urls.eventIngestionURL;if(y){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:E,credentials:{attendeeId:w,joinToken:k}}=p,V=new i.default(E,w,k),N=new a.default(V,y);this._eventReporter=new s.default(N,m)}}}getAttributes(p){var m,d;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((m=this.parserResult)===null||m===void 0?void 0:m.os.name)||Ul.UNAVAILABLE,osVersion:((d=this.parserResult)===null||d===void 0?void 0:d.os.version)||Ul.UNAVAILABLE,sdkVersion:t.default.sdkVersion,sdkName:t.default.sdkName,timestampMs:p}}get eventReporter(){return this._eventReporter}destroy(){return S(this,void 0,void 0,function*(){g.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}constructor(p,m,d){var y,E,w,k,V,N,F;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=m,this.configuration=p,this.setupEventReporter(p,m,d);try{this.parserResult=navigator&&navigator.userAgent?new u.UAParser(navigator.userAgent).getResult():null}catch(P){this.logger.error(P.message)}this.browserMajorVersion=((w=(E=(y=this.parserResult)===null||y===void 0?void 0:y.browser)===null||E===void 0?void 0:E.version)===null||w===void 0?void 0:w.split(".")[0])||Ul.UNAVAILABLE,this.browserName=((k=this.parserResult)===null||k===void 0?void 0:k.browser.name)||Ul.UNAVAILABLE,this.browserVersion=((V=this.parserResult)===null||V===void 0?void 0:V.browser.version)||Ul.UNAVAILABLE,this.deviceName=[((N=this.parserResult)===null||N===void 0?void 0:N.device.vendor)||"",((F=this.parserResult)===null||F===void 0?void 0:F.device.model)||""].join(" ").trim()||Ul.UNAVAILABLE}},"DefaultEventController");l.default=r,r.UNAVAILABLE="Unavailable"},egzF:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(r,c,p,m){function d(y){return y instanceof p?y:new p(function(E){E(y)})}return o(d,"adopt"),new(p||(p=Promise))(function(y,E){function w(N){try{V(m.next(N))}catch(F){E(F)}}o(w,"fulfilled");function k(N){try{V(m.throw(N))}catch(F){E(F)}}o(k,"rejected");function V(N){N.done?y(N.value):d(N.value).then(w,k)}o(V,"step"),V((m=m.apply(r,c||[])).next())})},f=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("94P3")),g=f(h("/N6y")),a=f(h("ppUg")),s=f(h("F7zz")),i=h("Aplu"),e=f(h("VgUL")),t=f(h("r3TB"));let n=o(class{static createContentShareMeetingSessionConfigure(c){const p=new u.default;return p.meetingId=c.meetingId,p.externalMeetingId=c.externalMeetingId,p.urls=c.urls,p.disablePeriodicKeyframeRequestOnContentSender=c.disablePeriodicKeyframeRequestOnContentSender,p.credentials=new g.default,p.credentials.attendeeId=c.credentials.attendeeId+t.default.Modality,p.credentials.externalUserId=c.credentials.externalUserId,p.credentials.joinToken=c.credentials.joinToken+t.default.Modality,p}setContentAudioProfile(c){this.contentAudioVideo.setAudioProfile(c)}enableSimulcastForContentShare(c,p){c?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new e.default(this.contentAudioVideo.logger,p)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}startContentShare(c){return S(this,void 0,void 0,function*(){if(c){this.mediaStreamBroker.mediaStream=c;for(let p=0;p<this.mediaStreamBroker.mediaStream.getTracks().length;p++)this.mediaStreamBroker.mediaStream.getTracks()[p].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(c,p){return S(this,void 0,void 0,function*(){const m=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(c,p);return yield this.startContentShare(m),m})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(c=>{i.Maybe.of(c.contentShareDidPause).map(p=>p.call(c))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(c=>{i.Maybe.of(c.contentShareDidUnpause).map(p=>p.call(c))})}setContentShareVideoCodecPreferences(c){this.contentAudioVideo.setVideoCodecSendPreferences(c)}destroy(){return S(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(c){this.observerQueue.add(c)}removeContentShareObserver(c){this.observerQueue.delete(c)}forEachContentShareObserver(c){for(const p of this.observerQueue)s.default.nextTick(()=>{this.observerQueue.has(p)&&c(p)})}audioVideoDidStart(){var c;((c=this.mediaStreamBroker.mediaStream)===null||c===void 0?void 0:c.getVideoTracks().length)>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(c){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(p=>{i.Maybe.of(p.contentShareDidStop).map(m=>m.call(p))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((c,p,m,d)=>{const y=new a.default(c).hasModality(a.default.MODALITY_CONTENT),E=new a.default(c).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!y||!E||!p||this.contentShareTile)return;const w=this.mediaStreamBroker.mediaStream;if(w!=null&&w.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const k=w.getVideoTracks()[0];let V,N;if(k.getSettings){const F=k.getSettings();V=F.width,N=F.height}else{const F=k.getCapabilities();V=F.width,N=F.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,w,V,N,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(k=>{i.Maybe.of(k.contentShareDidStart).map(V=>V.call(k))})})}constructor(c,p,m){this.mediaStreamBroker=c,this.contentAudioVideo=p,this.attendeeAudioVideo=m,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}},"DefaultContentShareController");l.default=n},epkm:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptItem");l.default=S},evlv:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(u,g,a){this.type=u,this.headers=g,this.payload=a}},"Message");l.default=S},ezoW:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SimulcastLayers=void 0;var S;(function(f){f[f.Low=0]="Low",f[f.LowAndMedium=1]="LowAndMedium",f[f.LowAndHigh=2]="LowAndHigh",f[f.Medium=3]="Medium",f[f.MediumAndHigh=4]="MediumAndHigh",f[f.High=5]="High"})(S=l.SimulcastLayers||(l.SimulcastLayers={})),l.default=S},"f/KM":function(j,l,h){"use strict";h.r(l),h.d(l,"fromUtf8",function(){return a}),h.d(l,"toUtf8",function(){return s});const S=o(i=>{const e=[];for(let t=0,n=i.length;t<n;t++){const r=i.charCodeAt(t);if(r<128)e.push(r);else if(r<2048)e.push(r>>6|192,r&63|128);else if(t+1<i.length&&(r&64512)===55296&&(i.charCodeAt(t+1)&64512)===56320){const c=65536+((r&1023)<<10)+(i.charCodeAt(++t)&1023);e.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else e.push(r>>12|224,r>>6&63|128,r&63|128)}return Uint8Array.from(e)},"fromUtf8"),f=o(i=>{let e="";for(let t=0,n=i.length;t<n;t++){const r=i[t];if(r<128)e+=String.fromCharCode(r);else if(192<=r&&r<224){const c=i[++t];e+=String.fromCharCode((r&31)<<6|c&63)}else if(240<=r&&r<365){const p="%"+[r,i[++t],i[++t],i[++t]].map(m=>m.toString(16)).join("%");e+=decodeURIComponent(p)}else e+=String.fromCharCode((r&15)<<12|(i[++t]&63)<<6|i[++t]&63)}return e},"toUtf8");function u(i){return new TextEncoder().encode(i)}o(u,"whatwgEncodingApi_fromUtf8");function g(i){return new TextDecoder("utf-8").decode(i)}o(g,"whatwgEncodingApi_toUtf8");const a=o(i=>typeof TextEncoder=="function"?u(i):S(i),"dist_es_fromUtf8"),s=o(i=>typeof TextDecoder=="function"?g(i):f(i),"dist_es_toUtf8")},f2XL:function(j,l,h){"use strict";var S=h("dmnA"),f=S.Reader,u=S.Writer,g=S.util,a=S.roots.default||(S.roots.default={});a.SdkSignalFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkSignalFrame"),s.prototype.timestampMs=g.Long?g.Long.fromBits(0,0,!0):0,s.prototype.type=1,s.prototype.error=null,s.prototype.join=null,s.prototype.joinack=null,s.prototype.sub=null,s.prototype.suback=null,s.prototype.index=null,s.prototype.pause=null,s.prototype.leave=null,s.prototype.leaveAck=null,s.prototype.bitrates=null,s.prototype.audioControl=null,s.prototype.audioMetadata=null,s.prototype.audioStreamIdInfo=null,s.prototype.pingPong=null,s.prototype.audioStatus=null,s.prototype.clientMetric=null,s.prototype.dataMessage=null,s.prototype.remoteVideoUpdate=null,s.prototype.primaryMeetingJoin=null,s.prototype.primaryMeetingJoinAck=null,s.prototype.primaryMeetingLeave=null,s.prototype.notification=null,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),e.error!=null&&Object.hasOwnProperty.call(e,"error")&&a.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),e.join!=null&&Object.hasOwnProperty.call(e,"join")&&a.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),e.joinack!=null&&Object.hasOwnProperty.call(e,"joinack")&&a.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),e.sub!=null&&Object.hasOwnProperty.call(e,"sub")&&a.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),e.suback!=null&&Object.hasOwnProperty.call(e,"suback")&&a.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&a.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),e.pause!=null&&Object.hasOwnProperty.call(e,"pause")&&a.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),e.leave!=null&&Object.hasOwnProperty.call(e,"leave")&&a.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),e.leaveAck!=null&&Object.hasOwnProperty.call(e,"leaveAck")&&a.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),e.bitrates!=null&&Object.hasOwnProperty.call(e,"bitrates")&&a.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),e.audioControl!=null&&Object.hasOwnProperty.call(e,"audioControl")&&a.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),e.audioMetadata!=null&&Object.hasOwnProperty.call(e,"audioMetadata")&&a.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),e.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&a.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),e.pingPong!=null&&Object.hasOwnProperty.call(e,"pingPong")&&a.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&a.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),e.clientMetric!=null&&Object.hasOwnProperty.call(e,"clientMetric")&&a.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),e.dataMessage!=null&&Object.hasOwnProperty.call(e,"dataMessage")&&a.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),e.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&a.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),e.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&a.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),e.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&a.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),e.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&a.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),e.notification!=null&&Object.hasOwnProperty.call(e,"notification")&&a.SdkNotificationFrame.encode(e.notification,t.uint32(282).fork()).ldelim(),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkSignalFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.timestampMs=e.uint64();break;case 2:r.type=e.int32();break;case 3:r.error=a.SdkErrorFrame.decode(e,e.uint32());break;case 4:r.join=a.SdkJoinFrame.decode(e,e.uint32());break;case 5:r.joinack=a.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:r.sub=a.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:r.suback=a.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:r.index=a.SdkIndexFrame.decode(e,e.uint32());break;case 10:r.pause=a.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:r.leave=a.SdkLeaveFrame.decode(e,e.uint32());break;case 12:r.leaveAck=a.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:r.bitrates=a.SdkBitrateFrame.decode(e,e.uint32());break;case 17:r.audioControl=a.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:r.audioMetadata=a.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:r.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:r.pingPong=a.SdkPingPongFrame.decode(e,e.uint32());break;case 21:r.audioStatus=a.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:r.clientMetric=a.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:r.dataMessage=a.SdkDataMessageFrame.decode(e,e.uint32());break;case 25:r.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break;case 26:r.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break;case 27:r.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break;case 28:r.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break;case 35:r.notification=a.SdkNotificationFrame.decode(e,e.uint32());break;default:e.skipType(c&7);break}}if(!r.hasOwnProperty("timestampMs"))throw g.ProtocolError("missing required 'timestampMs'",{instance:r});if(!r.hasOwnProperty("type"))throw g.ProtocolError("missing required 'type'",{instance:r});return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(!g.isInteger(e.timestampMs)&&!(e.timestampMs&&g.isInteger(e.timestampMs.low)&&g.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 34:break}if(e.error!=null&&e.hasOwnProperty("error")){var t=a.SdkErrorFrame.verify(e.error);if(t)return"error."+t}if(e.join!=null&&e.hasOwnProperty("join")){var t=a.SdkJoinFrame.verify(e.join);if(t)return"join."+t}if(e.joinack!=null&&e.hasOwnProperty("joinack")){var t=a.SdkJoinAckFrame.verify(e.joinack);if(t)return"joinack."+t}if(e.sub!=null&&e.hasOwnProperty("sub")){var t=a.SdkSubscribeFrame.verify(e.sub);if(t)return"sub."+t}if(e.suback!=null&&e.hasOwnProperty("suback")){var t=a.SdkSubscribeAckFrame.verify(e.suback);if(t)return"suback."+t}if(e.index!=null&&e.hasOwnProperty("index")){var t=a.SdkIndexFrame.verify(e.index);if(t)return"index."+t}if(e.pause!=null&&e.hasOwnProperty("pause")){var t=a.SdkPauseResumeFrame.verify(e.pause);if(t)return"pause."+t}if(e.leave!=null&&e.hasOwnProperty("leave")){var t=a.SdkLeaveFrame.verify(e.leave);if(t)return"leave."+t}if(e.leaveAck!=null&&e.hasOwnProperty("leaveAck")){var t=a.SdkLeaveAckFrame.verify(e.leaveAck);if(t)return"leaveAck."+t}if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){var t=a.SdkBitrateFrame.verify(e.bitrates);if(t)return"bitrates."+t}if(e.audioControl!=null&&e.hasOwnProperty("audioControl")){var t=a.SdkAudioControlFrame.verify(e.audioControl);if(t)return"audioControl."+t}if(e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")){var t=a.SdkAudioMetadataFrame.verify(e.audioMetadata);if(t)return"audioMetadata."+t}if(e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")){var t=a.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo);if(t)return"audioStreamIdInfo."+t}if(e.pingPong!=null&&e.hasOwnProperty("pingPong")){var t=a.SdkPingPongFrame.verify(e.pingPong);if(t)return"pingPong."+t}if(e.audioStatus!=null&&e.hasOwnProperty("audioStatus")){var t=a.SdkAudioStatusFrame.verify(e.audioStatus);if(t)return"audioStatus."+t}if(e.clientMetric!=null&&e.hasOwnProperty("clientMetric")){var t=a.SdkClientMetricFrame.verify(e.clientMetric);if(t)return"clientMetric."+t}if(e.dataMessage!=null&&e.hasOwnProperty("dataMessage")){var t=a.SdkDataMessageFrame.verify(e.dataMessage);if(t)return"dataMessage."+t}if(e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")){var t=a.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate);if(t)return"remoteVideoUpdate."+t}if(e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")){var t=a.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin);if(t)return"primaryMeetingJoin."+t}if(e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")){var t=a.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck);if(t)return"primaryMeetingJoinAck."+t}if(e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")){var t=a.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave);if(t)return"primaryMeetingLeave."+t}if(e.notification!=null&&e.hasOwnProperty("notification")){var t=a.SdkNotificationFrame.verify(e.notification);if(t)return"notification."+t}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkSignalFrame)return e;var t=new a.SdkSignalFrame;switch(e.timestampMs!=null&&(g.Long?(t.timestampMs=g.Long.fromValue(e.timestampMs)).unsigned=!0:typeof e.timestampMs=="string"?t.timestampMs=parseInt(e.timestampMs,10):typeof e.timestampMs=="number"?t.timestampMs=e.timestampMs:typeof e.timestampMs=="object"&&(t.timestampMs=new g.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27;break;case"NOTIFICATION":case 34:t.type=34;break}if(e.error!=null){if(typeof e.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");t.error=a.SdkErrorFrame.fromObject(e.error)}if(e.join!=null){if(typeof e.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");t.join=a.SdkJoinFrame.fromObject(e.join)}if(e.joinack!=null){if(typeof e.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=a.SdkJoinAckFrame.fromObject(e.joinack)}if(e.sub!=null){if(typeof e.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=a.SdkSubscribeFrame.fromObject(e.sub)}if(e.suback!=null){if(typeof e.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=a.SdkSubscribeAckFrame.fromObject(e.suback)}if(e.index!=null){if(typeof e.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");t.index=a.SdkIndexFrame.fromObject(e.index)}if(e.pause!=null){if(typeof e.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=a.SdkPauseResumeFrame.fromObject(e.pause)}if(e.leave!=null){if(typeof e.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=a.SdkLeaveFrame.fromObject(e.leave)}if(e.leaveAck!=null){if(typeof e.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=a.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(e.bitrates!=null){if(typeof e.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=a.SdkBitrateFrame.fromObject(e.bitrates)}if(e.audioControl!=null){if(typeof e.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=a.SdkAudioControlFrame.fromObject(e.audioControl)}if(e.audioMetadata!=null){if(typeof e.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=a.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(e.audioStreamIdInfo!=null){if(typeof e.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(e.pingPong!=null){if(typeof e.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=a.SdkPingPongFrame.fromObject(e.pingPong)}if(e.audioStatus!=null){if(typeof e.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=a.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(e.clientMetric!=null){if(typeof e.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=a.SdkClientMetricFrame.fromObject(e.clientMetric)}if(e.dataMessage!=null){if(typeof e.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=a.SdkDataMessageFrame.fromObject(e.dataMessage)}if(e.remoteVideoUpdate!=null){if(typeof e.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(e.primaryMeetingJoin!=null){if(typeof e.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(e.primaryMeetingJoinAck!=null){if(typeof e.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(e.primaryMeetingLeave!=null){if(typeof e.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}if(e.notification!=null){if(typeof e.notification!="object")throw TypeError(".SdkSignalFrame.notification: object expected");t.notification=a.SdkNotificationFrame.fromObject(e.notification)}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(g.Long){var r=new g.Long(0,0,!0);n.timestampMs=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.timestampMs=t.longs===String?"0":0;n.type=t.enums===String?"JOIN":1,n.error=null,n.join=null,n.joinack=null,n.sub=null,n.suback=null,n.index=null,n.pause=null,n.leave=null,n.leaveAck=null,n.bitrates=null,n.audioControl=null,n.audioMetadata=null,n.audioStreamIdInfo=null,n.pingPong=null,n.audioStatus=null,n.clientMetric=null,n.dataMessage=null,n.remoteVideoUpdate=null,n.primaryMeetingJoin=null,n.primaryMeetingJoinAck=null,n.primaryMeetingLeave=null,n.notification=null}return e.timestampMs!=null&&e.hasOwnProperty("timestampMs")&&(typeof e.timestampMs=="number"?n.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:n.timestampMs=t.longs===String?g.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new g.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkSignalFrame.Type[e.type]:e.type),e.error!=null&&e.hasOwnProperty("error")&&(n.error=a.SdkErrorFrame.toObject(e.error,t)),e.join!=null&&e.hasOwnProperty("join")&&(n.join=a.SdkJoinFrame.toObject(e.join,t)),e.joinack!=null&&e.hasOwnProperty("joinack")&&(n.joinack=a.SdkJoinAckFrame.toObject(e.joinack,t)),e.sub!=null&&e.hasOwnProperty("sub")&&(n.sub=a.SdkSubscribeFrame.toObject(e.sub,t)),e.suback!=null&&e.hasOwnProperty("suback")&&(n.suback=a.SdkSubscribeAckFrame.toObject(e.suback,t)),e.index!=null&&e.hasOwnProperty("index")&&(n.index=a.SdkIndexFrame.toObject(e.index,t)),e.pause!=null&&e.hasOwnProperty("pause")&&(n.pause=a.SdkPauseResumeFrame.toObject(e.pause,t)),e.leave!=null&&e.hasOwnProperty("leave")&&(n.leave=a.SdkLeaveFrame.toObject(e.leave,t)),e.leaveAck!=null&&e.hasOwnProperty("leaveAck")&&(n.leaveAck=a.SdkLeaveAckFrame.toObject(e.leaveAck,t)),e.bitrates!=null&&e.hasOwnProperty("bitrates")&&(n.bitrates=a.SdkBitrateFrame.toObject(e.bitrates,t)),e.audioControl!=null&&e.hasOwnProperty("audioControl")&&(n.audioControl=a.SdkAudioControlFrame.toObject(e.audioControl,t)),e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")&&(n.audioMetadata=a.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")&&(n.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),e.pingPong!=null&&e.hasOwnProperty("pingPong")&&(n.pingPong=a.SdkPingPongFrame.toObject(e.pingPong,t)),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=a.SdkAudioStatusFrame.toObject(e.audioStatus,t)),e.clientMetric!=null&&e.hasOwnProperty("clientMetric")&&(n.clientMetric=a.SdkClientMetricFrame.toObject(e.clientMetric,t)),e.dataMessage!=null&&e.hasOwnProperty("dataMessage")&&(n.dataMessage=a.SdkDataMessageFrame.toObject(e.dataMessage,t)),e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")&&(n.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")&&(n.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")&&(n.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")&&(n.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),e.notification!=null&&e.hasOwnProperty("notification")&&(n.notification=a.SdkNotificationFrame.toObject(e.notification,t)),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="JOIN"]=1,e[i[2]="JOIN_ACK"]=2,e[i[3]="SUBSCRIBE"]=3,e[i[4]="SUBSCRIBE_ACK"]=4,e[i[5]="INDEX"]=5,e[i[7]="PAUSE"]=7,e[i[8]="RESUME"]=8,e[i[9]="LEAVE"]=9,e[i[10]="LEAVE_ACK"]=10,e[i[13]="BITRATES"]=13,e[i[16]="AUDIO_CONTROL"]=16,e[i[17]="AUDIO_METADATA"]=17,e[i[18]="AUDIO_STREAM_ID_INFO"]=18,e[i[19]="PING_PONG"]=19,e[i[20]="AUDIO_STATUS"]=20,e[i[21]="CLIENT_METRIC"]=21,e[i[22]="DATA_MESSAGE"]=22,e[i[24]="REMOTE_VIDEO_UPDATE"]=24,e[i[25]="PRIMARY_MEETING_JOIN"]=25,e[i[26]="PRIMARY_MEETING_JOIN_ACK"]=26,e[i[27]="PRIMARY_MEETING_LEAVE"]=27,e[i[34]="NOTIFICATION"]=34,e}(),s}(),a.SdkErrorFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkErrorFrame"),s.prototype.status=0,s.prototype.description="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkErrorFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.status=e.uint32();break;case 2:r.description=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.status!=null&&e.hasOwnProperty("status")&&!g.isInteger(e.status)?"status: integer expected":e.description!=null&&e.hasOwnProperty("description")&&!g.isString(e.description)?"description: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkErrorFrame)return e;var t=new a.SdkErrorFrame;return e.status!=null&&(t.status=e.status>>>0),e.description!=null&&(t.description=String(e.description)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.status=0,n.description=""),e.status!=null&&e.hasOwnProperty("status")&&(n.status=e.status),e.description!=null&&e.hasOwnProperty("description")&&(n.description=e.description),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkJoinFlags=function(){var s={},i=Object.create(s);return i[s[2]="HAS_STREAM_UPDATE"]=2,i[s[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,i[s[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,i}(),a.SdkClientDetails=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkClientDetails"),s.prototype.appName="",s.prototype.appVersion="",s.prototype.deviceModel="",s.prototype.deviceMake="",s.prototype.platformName="",s.prototype.platformVersion="",s.prototype.clientSource="",s.prototype.chimeSdkVersion="",s.prototype.clientUtcOffset="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.appName!=null&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),e.appVersion!=null&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),e.deviceModel!=null&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),e.deviceMake!=null&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),e.platformName!=null&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),e.platformVersion!=null&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),e.clientSource!=null&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),e.chimeSdkVersion!=null&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),e.clientUtcOffset!=null&&Object.hasOwnProperty.call(e,"clientUtcOffset")&&t.uint32(74).string(e.clientUtcOffset),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkClientDetails;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.appName=e.string();break;case 2:r.appVersion=e.string();break;case 3:r.deviceModel=e.string();break;case 4:r.deviceMake=e.string();break;case 5:r.platformName=e.string();break;case 6:r.platformVersion=e.string();break;case 7:r.clientSource=e.string();break;case 8:r.chimeSdkVersion=e.string();break;case 9:r.clientUtcOffset=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.appName!=null&&e.hasOwnProperty("appName")&&!g.isString(e.appName)?"appName: string expected":e.appVersion!=null&&e.hasOwnProperty("appVersion")&&!g.isString(e.appVersion)?"appVersion: string expected":e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&!g.isString(e.deviceModel)?"deviceModel: string expected":e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&!g.isString(e.deviceMake)?"deviceMake: string expected":e.platformName!=null&&e.hasOwnProperty("platformName")&&!g.isString(e.platformName)?"platformName: string expected":e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&!g.isString(e.platformVersion)?"platformVersion: string expected":e.clientSource!=null&&e.hasOwnProperty("clientSource")&&!g.isString(e.clientSource)?"clientSource: string expected":e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&!g.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&!g.isString(e.clientUtcOffset)?"clientUtcOffset: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkClientDetails)return e;var t=new a.SdkClientDetails;return e.appName!=null&&(t.appName=String(e.appName)),e.appVersion!=null&&(t.appVersion=String(e.appVersion)),e.deviceModel!=null&&(t.deviceModel=String(e.deviceModel)),e.deviceMake!=null&&(t.deviceMake=String(e.deviceMake)),e.platformName!=null&&(t.platformName=String(e.platformName)),e.platformVersion!=null&&(t.platformVersion=String(e.platformVersion)),e.clientSource!=null&&(t.clientSource=String(e.clientSource)),e.chimeSdkVersion!=null&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),e.clientUtcOffset!=null&&(t.clientUtcOffset=String(e.clientUtcOffset)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.appName="",n.appVersion="",n.deviceModel="",n.deviceMake="",n.platformName="",n.platformVersion="",n.clientSource="",n.chimeSdkVersion="",n.clientUtcOffset=""),e.appName!=null&&e.hasOwnProperty("appName")&&(n.appName=e.appName),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(n.appVersion=e.appVersion),e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&(n.deviceModel=e.deviceModel),e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&(n.deviceMake=e.deviceMake),e.platformName!=null&&e.hasOwnProperty("platformName")&&(n.platformName=e.platformName),e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&(n.platformVersion=e.platformVersion),e.clientSource!=null&&e.hasOwnProperty("clientSource")&&(n.clientSource=e.clientSource),e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&(n.chimeSdkVersion=e.chimeSdkVersion),e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&(n.clientUtcOffset=e.clientUtcOffset),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkServerSideNetworkAdaption=function(){var s={},i=Object.create(s);return i[s[1]="DEFAULT"]=1,i[s[2]="NONE"]=2,i[s[3]="BANDWIDTH_PROBING"]=3,i[s[4]="BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION"]=4,i}(),a.SdkJoinFrame=function(){function s(i){if(this.supportedServerSideNetworkAdaptions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkJoinFrame"),s.prototype.protocolVersion=2,s.prototype.maxNumOfVideos=0,s.prototype.flags=0,s.prototype.clientDetails=null,s.prototype.audioSessionId=g.Long?g.Long.fromBits(0,0,!0):0,s.prototype.wantsCompressedSdp=!1,s.prototype.serverSideNetworkAdaption=1,s.prototype.supportedServerSideNetworkAdaptions=g.emptyArray,s.prototype.wantsAllTemporalLayersInIndex=!1,s.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.protocolVersion!=null&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),e.maxNumOfVideos!=null&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),e.clientDetails!=null&&Object.hasOwnProperty.call(e,"clientDetails")&&a.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),e.audioSessionId!=null&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions!=null&&e.supportedServerSideNetworkAdaptions.length)for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[n]);return e.wantsAllTemporalLayersInIndex!=null&&Object.hasOwnProperty.call(e,"wantsAllTemporalLayersInIndex")&&t.uint32(96).bool(e.wantsAllTemporalLayersInIndex),e.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(e,"disablePeriodicKeyframeRequestOnContentSender")&&t.uint32(104).bool(e.disablePeriodicKeyframeRequestOnContentSender),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkJoinFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.protocolVersion=e.uint32();break;case 2:r.maxNumOfVideos=e.uint32();break;case 3:r.flags=e.uint32();break;case 4:r.clientDetails=a.SdkClientDetails.decode(e,e.uint32());break;case 6:r.audioSessionId=e.uint64();break;case 7:r.wantsCompressedSdp=e.bool();break;case 10:r.serverSideNetworkAdaption=e.int32();break;case 11:if(r.supportedServerSideNetworkAdaptions&&r.supportedServerSideNetworkAdaptions.length||(r.supportedServerSideNetworkAdaptions=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.supportedServerSideNetworkAdaptions.push(e.int32());else r.supportedServerSideNetworkAdaptions.push(e.int32());break;case 12:r.wantsAllTemporalLayersInIndex=e.bool();break;case 13:r.disablePeriodicKeyframeRequestOnContentSender=e.bool();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&!g.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&!g.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(e.flags!=null&&e.hasOwnProperty("flags")&&!g.isInteger(e.flags))return"flags: integer expected";if(e.clientDetails!=null&&e.hasOwnProperty("clientDetails")){var t=a.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&!g.isInteger(e.audioSessionId)&&!(e.audioSessionId&&g.isInteger(e.audioSessionId.low)&&g.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}if(e.wantsAllTemporalLayersInIndex!=null&&e.hasOwnProperty("wantsAllTemporalLayersInIndex")&&typeof e.wantsAllTemporalLayersInIndex!="boolean")return"wantsAllTemporalLayersInIndex: boolean expected";if(e.supportedServerSideNetworkAdaptions!=null&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:case 4:break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof e.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkJoinFrame)return e;var t=new a.SdkJoinFrame;if(e.protocolVersion!=null&&(t.protocolVersion=e.protocolVersion>>>0),e.maxNumOfVideos!=null&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),e.flags!=null&&(t.flags=e.flags>>>0),e.clientDetails!=null){if(typeof e.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=a.SdkClientDetails.fromObject(e.clientDetails)}switch(e.audioSessionId!=null&&(g.Long?(t.audioSessionId=g.Long.fromValue(e.audioSessionId)).unsigned=!0:typeof e.audioSessionId=="string"?t.audioSessionId=parseInt(e.audioSessionId,10):typeof e.audioSessionId=="number"?t.audioSessionId=e.audioSessionId:typeof e.audioSessionId=="object"&&(t.audioSessionId=new g.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.serverSideNetworkAdaption){case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.serverSideNetworkAdaption=4;break}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[n]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[n]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[n]=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.supportedServerSideNetworkAdaptions[n]=4;break}}return e.wantsAllTemporalLayersInIndex!=null&&(t.wantsAllTemporalLayersInIndex=Boolean(e.wantsAllTemporalLayersInIndex)),e.disablePeriodicKeyframeRequestOnContentSender!=null&&(t.disablePeriodicKeyframeRequestOnContentSender=Boolean(e.disablePeriodicKeyframeRequestOnContentSender)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.supportedServerSideNetworkAdaptions=[]),t.defaults){if(n.protocolVersion=2,n.maxNumOfVideos=0,n.flags=0,n.clientDetails=null,g.Long){var r=new g.Long(0,0,!0);n.audioSessionId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.audioSessionId=t.longs===String?"0":0;n.wantsCompressedSdp=!1,n.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1,n.disablePeriodicKeyframeRequestOnContentSender=!1}if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&(n.protocolVersion=e.protocolVersion),e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&(n.maxNumOfVideos=e.maxNumOfVideos),e.flags!=null&&e.hasOwnProperty("flags")&&(n.flags=e.flags),e.clientDetails!=null&&e.hasOwnProperty("clientDetails")&&(n.clientDetails=a.SdkClientDetails.toObject(e.clientDetails,t)),e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&(typeof e.audioSessionId=="number"?n.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:n.audioSessionId=t.longs===String?g.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new g.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption")&&(n.serverSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){n.supportedServerSideNetworkAdaptions=[];for(var c=0;c<e.supportedServerSideNetworkAdaptions.length;++c)n.supportedServerSideNetworkAdaptions[c]=t.enums===String?a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[c]]:e.supportedServerSideNetworkAdaptions[c]}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(n.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkJoinAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkJoinAckFrame"),s.prototype.turnCredentials=null,s.prototype.videoSubscriptionLimit=0,s.prototype.wantsCompressedSdp=!1,s.prototype.defaultServerSideNetworkAdaption=1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.turnCredentials!=null&&Object.hasOwnProperty.call(e,"turnCredentials")&&a.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),e.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkJoinAckFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.turnCredentials=a.SdkTurnCredentials.decode(e,e.uint32());break;case 2:r.videoSubscriptionLimit=e.uint32();break;case 3:r.wantsCompressedSdp=e.bool();break;case 4:r.defaultServerSideNetworkAdaption=e.int32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")){var t=a.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&!g.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkJoinAckFrame)return e;var t=new a.SdkJoinAckFrame;if(e.turnCredentials!=null){if(typeof e.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=a.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(e.videoSubscriptionLimit!=null&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.defaultServerSideNetworkAdaption=4;break}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.turnCredentials=null,n.videoSubscriptionLimit=0,n.wantsCompressedSdp=!1,n.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")&&(n.turnCredentials=a.SdkTurnCredentials.toObject(e.turnCredentials,t)),e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&(n.videoSubscriptionLimit=e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(n.defaultServerSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkLeaveFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkLeaveFrame"),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkLeaveFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=o(function(e){return e instanceof a.SdkLeaveFrame?e:new a.SdkLeaveFrame},"fromObject"),s.toObject=o(function(){return{}},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkLeaveAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkLeaveAckFrame"),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkLeaveAckFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=o(function(e){return e instanceof a.SdkLeaveAckFrame?e:new a.SdkLeaveAckFrame},"fromObject"),s.toObject=o(function(){return{}},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkStreamServiceType=function(){var s={},i=Object.create(s);return i[s[1]="RX"]=1,i[s[2]="TX"]=2,i[s[3]="DUPLEX"]=3,i}(),a.SdkStreamMediaType=function(){var s={},i=Object.create(s);return i[s[1]="AUDIO"]=1,i[s[2]="VIDEO"]=2,i}(),a.SdkSubscribeFrame=function(){function s(i){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkSubscribeFrame"),s.prototype.duplex=1,s.prototype.sendStreams=g.emptyArray,s.prototype.receiveStreamIds=g.emptyArray,s.prototype.sdpOffer="",s.prototype.audioHost="",s.prototype.audioCheckin=!1,s.prototype.audioMuted=!1,s.prototype.compressedSdpOffer=g.newBuffer([]),s.prototype.videoSubscriptionConfiguration=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.sendStreams!=null&&e.sendStreams.length)for(var n=0;n<e.sendStreams.length;++n)a.SdkStreamDescriptor.encode(e.sendStreams[n],t.uint32(18).fork()).ldelim();if(e.receiveStreamIds!=null&&e.receiveStreamIds.length)for(var n=0;n<e.receiveStreamIds.length;++n)t.uint32(24).uint32(e.receiveStreamIds[n]);if(e.sdpOffer!=null&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),e.audioHost!=null&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),e.audioCheckin!=null&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),e.audioMuted!=null&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),e.compressedSdpOffer!=null&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),e.videoSubscriptionConfiguration!=null&&e.videoSubscriptionConfiguration.length)for(var n=0;n<e.videoSubscriptionConfiguration.length;++n)a.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[n],t.uint32(74).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkSubscribeFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.duplex=e.int32();break;case 2:r.sendStreams&&r.sendStreams.length||(r.sendStreams=[]),r.sendStreams.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(r.receiveStreamIds&&r.receiveStreamIds.length||(r.receiveStreamIds=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.receiveStreamIds.push(e.uint32());else r.receiveStreamIds.push(e.uint32());break;case 4:r.sdpOffer=e.string();break;case 5:r.audioHost=e.string();break;case 6:r.audioCheckin=e.bool();break;case 7:r.audioMuted=e.bool();break;case 8:r.compressedSdpOffer=e.bytes();break;case 9:r.videoSubscriptionConfiguration&&r.videoSubscriptionConfiguration.length||(r.videoSubscriptionConfiguration=[]),r.videoSubscriptionConfiguration.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.sendStreams!=null&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){var n=a.SdkStreamDescriptor.verify(e.sendStreams[t]);if(n)return"sendStreams."+n}}if(e.receiveStreamIds!=null&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(var t=0;t<e.receiveStreamIds.length;++t)if(!g.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&!g.isString(e.sdpOffer))return"sdpOffer: string expected";if(e.audioHost!=null&&e.hasOwnProperty("audioHost")&&!g.isString(e.audioHost))return"audioHost: string expected";if(e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&typeof e.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&typeof e.audioMuted!="boolean")return"audioMuted: boolean expected";if(e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&typeof e.compressedSdpOffer.length=="number"||g.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(e.videoSubscriptionConfiguration!=null&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var t=0;t<e.videoSubscriptionConfiguration.length;++t){var n=a.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]);if(n)return"videoSubscriptionConfiguration."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkSubscribeFrame)return e;var t=new a.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var n=0;n<e.sendStreams.length;++n){if(typeof e.sendStreams[n]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[n]=a.SdkStreamDescriptor.fromObject(e.sendStreams[n])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(var n=0;n<e.receiveStreamIds.length;++n)t.receiveStreamIds[n]=e.receiveStreamIds[n]>>>0}if(e.sdpOffer!=null&&(t.sdpOffer=String(e.sdpOffer)),e.audioHost!=null&&(t.audioHost=String(e.audioHost)),e.audioCheckin!=null&&(t.audioCheckin=Boolean(e.audioCheckin)),e.audioMuted!=null&&(t.audioMuted=Boolean(e.audioMuted)),e.compressedSdpOffer!=null&&(typeof e.compressedSdpOffer=="string"?g.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=g.newBuffer(g.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");t.videoSubscriptionConfiguration=[];for(var n=0;n<e.videoSubscriptionConfiguration.length;++n){if(typeof e.videoSubscriptionConfiguration[n]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[n]=a.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sendStreams=[],n.receiveStreamIds=[],n.videoSubscriptionConfiguration=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpOffer="",n.audioHost="",n.audioCheckin=!1,n.audioMuted=!1,t.bytes===String?n.compressedSdpOffer="":(n.compressedSdpOffer=[],t.bytes!==Array&&(n.compressedSdpOffer=g.newBuffer(n.compressedSdpOffer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){n.sendStreams=[];for(var r=0;r<e.sendStreams.length;++r)n.sendStreams[r]=a.SdkStreamDescriptor.toObject(e.sendStreams[r],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){n.receiveStreamIds=[];for(var r=0;r<e.receiveStreamIds.length;++r)n.receiveStreamIds[r]=e.receiveStreamIds[r]}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&(n.sdpOffer=e.sdpOffer),e.audioHost!=null&&e.hasOwnProperty("audioHost")&&(n.audioHost=e.audioHost),e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&(n.audioCheckin=e.audioCheckin),e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&(n.audioMuted=e.audioMuted),e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&(n.compressedSdpOffer=t.bytes===String?g.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length){n.videoSubscriptionConfiguration=[];for(var r=0;r<e.videoSubscriptionConfiguration.length;++r)n.videoSubscriptionConfiguration[r]=a.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkSubscribeAckFrame=function(){function s(i){if(this.allocations=[],this.tracks=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkSubscribeAckFrame"),s.prototype.duplex=1,s.prototype.allocations=g.emptyArray,s.prototype.sdpAnswer="",s.prototype.tracks=g.emptyArray,s.prototype.compressedSdpAnswer=g.newBuffer([]),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.allocations!=null&&e.allocations.length)for(var n=0;n<e.allocations.length;++n)a.SdkStreamAllocation.encode(e.allocations[n],t.uint32(18).fork()).ldelim();if(e.sdpAnswer!=null&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),e.tracks!=null&&e.tracks.length)for(var n=0;n<e.tracks.length;++n)a.SdkTrackMapping.encode(e.tracks[n],t.uint32(34).fork()).ldelim();return e.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkSubscribeAckFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.duplex=e.int32();break;case 2:r.allocations&&r.allocations.length||(r.allocations=[]),r.allocations.push(a.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:r.sdpAnswer=e.string();break;case 4:r.tracks&&r.tracks.length||(r.tracks=[]),r.tracks.push(a.SdkTrackMapping.decode(e,e.uint32()));break;case 5:r.compressedSdpAnswer=e.bytes();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.allocations!=null&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){var n=a.SdkStreamAllocation.verify(e.allocations[t]);if(n)return"allocations."+n}}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&!g.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(e.tracks!=null&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(var t=0;t<e.tracks.length;++t){var n=a.SdkTrackMapping.verify(e.tracks[t]);if(n)return"tracks."+n}}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&typeof e.compressedSdpAnswer.length=="number"||g.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkSubscribeAckFrame)return e;var t=new a.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var n=0;n<e.allocations.length;++n){if(typeof e.allocations[n]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[n]=a.SdkStreamAllocation.fromObject(e.allocations[n])}}if(e.sdpAnswer!=null&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(var n=0;n<e.tracks.length;++n){if(typeof e.tracks[n]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[n]=a.SdkTrackMapping.fromObject(e.tracks[n])}}return e.compressedSdpAnswer!=null&&(typeof e.compressedSdpAnswer=="string"?g.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=g.newBuffer(g.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.allocations=[],n.tracks=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpAnswer="",t.bytes===String?n.compressedSdpAnswer="":(n.compressedSdpAnswer=[],t.bytes!==Array&&(n.compressedSdpAnswer=g.newBuffer(n.compressedSdpAnswer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){n.allocations=[];for(var r=0;r<e.allocations.length;++r)n.allocations[r]=a.SdkStreamAllocation.toObject(e.allocations[r],t)}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&(n.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){n.tracks=[];for(var r=0;r<e.tracks.length;++r)n.tracks[r]=a.SdkTrackMapping.toObject(e.tracks[r],t)}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&(n.compressedSdpAnswer=t.bytes===String?g.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkIndexFrame=function(){function s(i){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkIndexFrame"),s.prototype.atCapacity=!1,s.prototype.sources=g.emptyArray,s.prototype.pausedAtSourceIds=g.emptyArray,s.prototype.numParticipants=0,s.prototype.supportedReceiveCodecIntersection=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.atCapacity!=null&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),e.sources!=null&&e.sources.length)for(var n=0;n<e.sources.length;++n)a.SdkStreamDescriptor.encode(e.sources[n],t.uint32(18).fork()).ldelim();if(e.pausedAtSourceIds!=null&&e.pausedAtSourceIds.length)for(var n=0;n<e.pausedAtSourceIds.length;++n)t.uint32(24).uint32(e.pausedAtSourceIds[n]);if(e.numParticipants!=null&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),e.supportedReceiveCodecIntersection!=null&&e.supportedReceiveCodecIntersection.length)for(var n=0;n<e.supportedReceiveCodecIntersection.length;++n)t.uint32(40).int32(e.supportedReceiveCodecIntersection[n]);return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkIndexFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.atCapacity=e.bool();break;case 2:r.sources&&r.sources.length||(r.sources=[]),r.sources.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(r.pausedAtSourceIds&&r.pausedAtSourceIds.length||(r.pausedAtSourceIds=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.pausedAtSourceIds.push(e.uint32());else r.pausedAtSourceIds.push(e.uint32());break;case 4:r.numParticipants=e.uint32();break;case 5:if(r.supportedReceiveCodecIntersection&&r.supportedReceiveCodecIntersection.length||(r.supportedReceiveCodecIntersection=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.supportedReceiveCodecIntersection.push(e.int32());else r.supportedReceiveCodecIntersection.push(e.int32());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&typeof e.atCapacity!="boolean")return"atCapacity: boolean expected";if(e.sources!=null&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var n=a.SdkStreamDescriptor.verify(e.sources[t]);if(n)return"sources."+n}}if(e.pausedAtSourceIds!=null&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var t=0;t<e.pausedAtSourceIds.length;++t)if(!g.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&!g.isInteger(e.numParticipants))return"numParticipants: integer expected";if(e.supportedReceiveCodecIntersection!=null&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 3:break}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkIndexFrame)return e;var t=new a.SdkIndexFrame;if(e.atCapacity!=null&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var n=0;n<e.sources.length;++n){if(typeof e.sources[n]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[n]=a.SdkStreamDescriptor.fromObject(e.sources[n])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(var n=0;n<e.pausedAtSourceIds.length;++n)t.pausedAtSourceIds[n]=e.pausedAtSourceIds[n]>>>0}if(e.numParticipants!=null&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");t.supportedReceiveCodecIntersection=[];for(var n=0;n<e.supportedReceiveCodecIntersection.length;++n)switch(e.supportedReceiveCodecIntersection[n]){default:case"VP8":case 1:t.supportedReceiveCodecIntersection[n]=1;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[n]=3;break;case"VP9_PROFILE_0":case 8:t.supportedReceiveCodecIntersection[n]=8;break;case"AV1_MAIN":case 11:t.supportedReceiveCodecIntersection[n]=11;break}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sources=[],n.pausedAtSourceIds=[],n.supportedReceiveCodecIntersection=[]),t.defaults&&(n.atCapacity=!1,n.numParticipants=0),e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&(n.atCapacity=e.atCapacity),e.sources&&e.sources.length){n.sources=[];for(var r=0;r<e.sources.length;++r)n.sources[r]=a.SdkStreamDescriptor.toObject(e.sources[r],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){n.pausedAtSourceIds=[];for(var r=0;r<e.pausedAtSourceIds.length;++r)n.pausedAtSourceIds[r]=e.pausedAtSourceIds[r]}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&(n.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length){n.supportedReceiveCodecIntersection=[];for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)n.supportedReceiveCodecIntersection[r]=t.enums===String?a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[r]]:e.supportedReceiveCodecIntersection[r]}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkPauseResumeFrame=function(){function s(i){if(this.streamIds=[],this.groupIds=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPauseResumeFrame"),s.prototype.streamIds=g.emptyArray,s.prototype.groupIds=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.streamIds!=null&&e.streamIds.length)for(var n=0;n<e.streamIds.length;++n)t.uint32(8).uint32(e.streamIds[n]);if(e.groupIds!=null&&e.groupIds.length)for(var n=0;n<e.groupIds.length;++n)t.uint32(16).uint32(e.groupIds[n]);return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPauseResumeFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:if(r.streamIds&&r.streamIds.length||(r.streamIds=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.streamIds.push(e.uint32());else r.streamIds.push(e.uint32());break;case 2:if(r.groupIds&&r.groupIds.length||(r.groupIds=[]),(c&7)===2)for(var p=e.uint32()+e.pos;e.pos<p;)r.groupIds.push(e.uint32());else r.groupIds.push(e.uint32());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamIds!=null&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!g.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(e.groupIds!=null&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(var t=0;t<e.groupIds.length;++t)if(!g.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkPauseResumeFrame)return e;var t=new a.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var n=0;n<e.streamIds.length;++n)t.streamIds[n]=e.streamIds[n]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");t.groupIds=[];for(var n=0;n<e.groupIds.length;++n)t.groupIds[n]=e.groupIds[n]>>>0}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streamIds=[],n.groupIds=[]),e.streamIds&&e.streamIds.length){n.streamIds=[];for(var r=0;r<e.streamIds.length;++r)n.streamIds[r]=e.streamIds[r]}if(e.groupIds&&e.groupIds.length){n.groupIds=[];for(var r=0;r<e.groupIds.length;++r)n.groupIds[r]=e.groupIds[r]}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkBitrateFrame=function(){function s(i){if(this.bitrates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkBitrateFrame"),s.prototype.bitrates=g.emptyArray,s.prototype.serverAvailableOutgoingBitrate=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.bitrates!=null&&e.bitrates.length)for(var n=0;n<e.bitrates.length;++n)a.SdkBitrate.encode(e.bitrates[n],t.uint32(10).fork()).ldelim();return e.serverAvailableOutgoingBitrate!=null&&Object.hasOwnProperty.call(e,"serverAvailableOutgoingBitrate")&&t.uint32(16).uint32(e.serverAvailableOutgoingBitrate),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkBitrateFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.bitrates&&r.bitrates.length||(r.bitrates=[]),r.bitrates.push(a.SdkBitrate.decode(e,e.uint32()));break;case 2:r.serverAvailableOutgoingBitrate=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var n=a.SdkBitrate.verify(e.bitrates[t]);if(n)return"bitrates."+n}}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&!g.isInteger(e.serverAvailableOutgoingBitrate)?"serverAvailableOutgoingBitrate: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkBitrateFrame)return e;var t=new a.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var n=0;n<e.bitrates.length;++n){if(typeof e.bitrates[n]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[n]=a.SdkBitrate.fromObject(e.bitrates[n])}}return e.serverAvailableOutgoingBitrate!=null&&(t.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bitrates=[]),t.defaults&&(n.serverAvailableOutgoingBitrate=0),e.bitrates&&e.bitrates.length){n.bitrates=[];for(var r=0;r<e.bitrates.length;++r)n.bitrates[r]=a.SdkBitrate.toObject(e.bitrates[r],t)}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&(n.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkStreamDescriptor=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkStreamDescriptor"),s.prototype.streamId=0,s.prototype.framerate=0,s.prototype.maxBitrateKbps=0,s.prototype.trackLabel="",s.prototype.groupId=0,s.prototype.avgBitrateBps=0,s.prototype.attendeeId="",s.prototype.mediaType=1,s.prototype.externalUserId="",s.prototype.width=0,s.prototype.height=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.framerate!=null&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),e.maxBitrateKbps!=null&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),e.width!=null&&Object.hasOwnProperty.call(e,"width")&&t.uint32(88).uint32(e.width),e.height!=null&&Object.hasOwnProperty.call(e,"height")&&t.uint32(96).uint32(e.height),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkStreamDescriptor;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.streamId=e.uint32();break;case 2:r.framerate=e.uint32();break;case 3:r.maxBitrateKbps=e.uint32();break;case 4:r.trackLabel=e.string();break;case 6:r.groupId=e.uint32();break;case 7:r.avgBitrateBps=e.uint32();break;case 8:r.attendeeId=e.string();break;case 9:r.mediaType=e.int32();break;case 10:r.externalUserId=e.string();break;case 11:r.width=e.uint32();break;case 12:r.height=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId))return"streamId: integer expected";if(e.framerate!=null&&e.hasOwnProperty("framerate")&&!g.isInteger(e.framerate))return"framerate: integer expected";if(e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&!g.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!g.isString(e.trackLabel))return"trackLabel: string expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!g.isInteger(e.groupId))return"groupId: integer expected";if(e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!g.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!g.isString(e.attendeeId))return"attendeeId: string expected";if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!g.isString(e.externalUserId)?"externalUserId: string expected":e.width!=null&&e.hasOwnProperty("width")&&!g.isInteger(e.width)?"width: integer expected":e.height!=null&&e.hasOwnProperty("height")&&!g.isInteger(e.height)?"height: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkStreamDescriptor)return e;var t=new a.SdkStreamDescriptor;switch(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.framerate!=null&&(t.framerate=e.framerate>>>0),e.maxBitrateKbps!=null&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.width!=null&&(t.width=e.width>>>0),e.height!=null&&(t.height=e.height>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.framerate=0,n.maxBitrateKbps=0,n.trackLabel="",n.groupId=0,n.avgBitrateBps=0,n.attendeeId="",n.mediaType=t.enums===String?"AUDIO":1,n.externalUserId="",n.width=0,n.height=0),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.framerate!=null&&e.hasOwnProperty("framerate")&&(n.framerate=e.framerate),e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&(n.maxBitrateKbps=e.maxBitrateKbps),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(n.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]:e.mediaType),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),e.width!=null&&e.hasOwnProperty("width")&&(n.width=e.width),e.height!=null&&e.hasOwnProperty("height")&&(n.height=e.height),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkStreamAllocation=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkStreamAllocation"),s.prototype.trackLabel="",s.prototype.streamId=0,s.prototype.groupId=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkStreamAllocation;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.trackLabel=e.string();break;case 2:r.streamId=e.uint32();break;case 3:r.groupId=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!g.isString(e.trackLabel)?"trackLabel: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId)?"streamId: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!g.isInteger(e.groupId)?"groupId: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkStreamAllocation)return e;var t=new a.SdkStreamAllocation;return e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.trackLabel="",n.streamId=0,n.groupId=0),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTrackMapping=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTrackMapping"),s.prototype.streamId=0,s.prototype.ssrc=0,s.prototype.trackLabel="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.ssrc!=null&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTrackMapping;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.streamId=e.uint32();break;case 2:r.ssrc=e.uint32();break;case 3:r.trackLabel=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId)?"streamId: integer expected":e.ssrc!=null&&e.hasOwnProperty("ssrc")&&!g.isInteger(e.ssrc)?"ssrc: integer expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!g.isString(e.trackLabel)?"trackLabel: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTrackMapping)return e;var t=new a.SdkTrackMapping;return e.streamId!=null&&(t.streamId=e.streamId>>>0),e.ssrc!=null&&(t.ssrc=e.ssrc>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.ssrc=0,n.trackLabel=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.ssrc!=null&&e.hasOwnProperty("ssrc")&&(n.ssrc=e.ssrc),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkBitrate=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkBitrate"),s.prototype.sourceStreamId=0,s.prototype.avgBitrateBps=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.sourceStreamId!=null&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkBitrate;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.sourceStreamId=e.uint32();break;case 2:r.avgBitrateBps=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&!g.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!g.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkBitrate)return e;var t=new a.SdkBitrate;return e.sourceStreamId!=null&&(t.sourceStreamId=e.sourceStreamId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.sourceStreamId=0,n.avgBitrateBps=0),e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&(n.sourceStreamId=e.sourceStreamId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioControlFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioControlFrame"),s.prototype.muted=!1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioControlFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.muted=e.bool();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioControlFrame)return e;var t=new a.SdkAudioControlFrame;return e.muted!=null&&(t.muted=Boolean(e.muted)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.muted=!1),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioMetadataFrame=function(){function s(i){if(this.attendeeStates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioMetadataFrame"),s.prototype.attendeeStates=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.attendeeStates!=null&&e.attendeeStates.length)for(var n=0;n<e.attendeeStates.length;++n)a.SdkAudioAttendeeState.encode(e.attendeeStates[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioMetadataFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.attendeeStates&&r.attendeeStates.length||(r.attendeeStates=[]),r.attendeeStates.push(a.SdkAudioAttendeeState.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.attendeeStates!=null&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var n=a.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(n)return"attendeeStates."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioMetadataFrame)return e;var t=new a.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var n=0;n<e.attendeeStates.length;++n){if(typeof e.attendeeStates[n]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[n]=a.SdkAudioAttendeeState.fromObject(e.attendeeStates[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){n.attendeeStates=[];for(var r=0;r<e.attendeeStates.length;++r)n.attendeeStates[r]=a.SdkAudioAttendeeState.toObject(e.attendeeStates[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioAttendeeState=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioAttendeeState"),s.prototype.audioStreamId=0,s.prototype.volume=0,s.prototype.muted=!1,s.prototype.signalStrength=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.volume!=null&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.signalStrength!=null&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioAttendeeState;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.audioStreamId=e.uint32();break;case 2:r.volume=e.uint32();break;case 3:r.muted=e.bool();break;case 4:r.signalStrength=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!g.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.volume!=null&&e.hasOwnProperty("volume")&&!g.isInteger(e.volume)?"volume: integer expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&!g.isInteger(e.signalStrength)?"signalStrength: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioAttendeeState)return e;var t=new a.SdkAudioAttendeeState;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.volume!=null&&(t.volume=e.volume>>>0),e.muted!=null&&(t.muted=Boolean(e.muted)),e.signalStrength!=null&&(t.signalStrength=e.signalStrength>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.volume=0,n.muted=!1,n.signalStrength=0),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),e.volume!=null&&e.hasOwnProperty("volume")&&(n.volume=e.volume),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&(n.signalStrength=e.signalStrength),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioStreamIdInfoFrame=function(){function s(i){if(this.streams=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioStreamIdInfoFrame"),s.prototype.streams=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.streams!=null&&e.streams.length)for(var n=0;n<e.streams.length;++n)a.SdkAudioStreamIdInfo.encode(e.streams[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioStreamIdInfoFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.streams&&r.streams.length||(r.streams=[]),r.streams.push(a.SdkAudioStreamIdInfo.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streams!=null&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var n=a.SdkAudioStreamIdInfo.verify(e.streams[t]);if(n)return"streams."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioStreamIdInfoFrame)return e;var t=new a.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var n=0;n<e.streams.length;++n){if(typeof e.streams[n]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[n]=a.SdkAudioStreamIdInfo.fromObject(e.streams[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streams=[]),e.streams&&e.streams.length){n.streams=[];for(var r=0;r<e.streams.length;++r)n.streams[r]=a.SdkAudioStreamIdInfo.toObject(e.streams[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioStreamIdInfo=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioStreamIdInfo"),s.prototype.audioStreamId=0,s.prototype.attendeeId="",s.prototype.muted=!1,s.prototype.externalUserId="",s.prototype.dropped=!1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),e.dropped!=null&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioStreamIdInfo;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.audioStreamId=e.uint32();break;case 2:r.attendeeId=e.string();break;case 3:r.muted=e.bool();break;case 4:r.externalUserId=e.string();break;case 5:r.dropped=e.bool();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!g.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!g.isString(e.attendeeId)?"attendeeId: string expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!g.isString(e.externalUserId)?"externalUserId: string expected":e.dropped!=null&&e.hasOwnProperty("dropped")&&typeof e.dropped!="boolean"?"dropped: boolean expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioStreamIdInfo)return e;var t=new a.SdkAudioStreamIdInfo;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.muted!=null&&(t.muted=Boolean(e.muted)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.dropped!=null&&(t.dropped=Boolean(e.dropped)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.attendeeId="",n.muted=!1,n.externalUserId="",n.dropped=!1),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),e.dropped!=null&&e.hasOwnProperty("dropped")&&(n.dropped=e.dropped),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkPingPongType=function(){var s={},i=Object.create(s);return i[s[1]="PING"]=1,i[s[2]="PONG"]=2,i}(),a.SdkPingPongFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPingPongFrame"),s.prototype.type=1,s.prototype.pingId=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPingPongFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.type=e.int32();break;case 2:r.pingId=e.uint32();break;default:e.skipType(c&7);break}}if(!r.hasOwnProperty("type"))throw g.ProtocolError("missing required 'type'",{instance:r});if(!r.hasOwnProperty("pingId"))throw g.ProtocolError("missing required 'pingId'",{instance:r});return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return g.isInteger(e.pingId)?null:"pingId: integer expected"},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkPingPongFrame)return e;var t=new a.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2;break}return e.pingId!=null&&(t.pingId=e.pingId>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"PING":1,n.pingId=0),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkPingPongType[e.type]:e.type),e.pingId!=null&&e.hasOwnProperty("pingId")&&(n.pingId=e.pingId),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkAudioStatusFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkAudioStatusFrame"),s.prototype.audioStatus=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkAudioStatusFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.audioStatus=e.uint32();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&!g.isInteger(e.audioStatus)?"audioStatus: integer expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkAudioStatusFrame)return e;var t=new a.SdkAudioStatusFrame;return e.audioStatus!=null&&(t.audioStatus=e.audioStatus>>>0),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStatus=0),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=e.audioStatus),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkMetric=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkMetric"),s.prototype.type=1,s.prototype.value=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkMetric;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.type=e.int32();break;case 2:r.value=e.double();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:break}return e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkMetric)return e;var t=new a.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89;break;case"VIDEO_FREEZE_DURATION":case 91:t.type=91;break;case"VIDEO_PAUSE_COUNT":case 92:t.type=92;break;case"VIDEO_PAUSE_DURATION":case 93:t.type=93;break;case"VIDEO_QUALITY_REASON":case 94:t.type=94;break;case"VIDEO_PROCESSING_TIME":case 95:t.type=95;break;case"RTC_SPK_AUDIO_LEVEL":case 96:t.type=96;break;case"RTC_MIC_AUDIO_LEVEL":case 97:t.type=97;case"RTC_SPK_TOTAL_LOST":case 98:t.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:t.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:t.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:t.type=101;break;case"RTC_SPK_TOTAL_LOST":case 98:t.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:t.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:t.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:t.type=101;break;case"VIDEO_QUALITY_LIMITATION_DURATION_CPU":case 102:t.type=102;break}return e.value!=null&&(t.value=Number(e.value)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,n.value=0),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkMetric.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,e[i[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,e[i[3]="VIDEO_RETRANSMIT_BITRATE"]=3,e[i[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,e[i[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,e[i[6]="VIDEO_BUCKET_DELAY_MS"]=6,e[i[7]="STUN_RTT_MS"]=7,e[i[8]="SOCKET_DISCARDED_PPS"]=8,e[i[9]="RTC_MIC_JITTER_MS"]=9,e[i[10]="RTC_MIC_PPS"]=10,e[i[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,e[i[12]="RTC_MIC_BITRATE"]=12,e[i[13]="RTC_MIC_RTT_MS"]=13,e[i[14]="RTC_SPK_PPS"]=14,e[i[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,e[i[16]="RTC_SPK_JITTER_MS"]=16,e[i[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,e[i[18]="RTC_SPK_BITRATE"]=18,e[i[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,e[i[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,e[i[21]="VIDEO_SENT_RTT_MS"]=21,e[i[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,e[i[23]="VIDEO_NACKS_RECEIVED"]=23,e[i[24]="VIDEO_PLIS_RECEIVED"]=24,e[i[25]="VIDEO_ENCODE_MS"]=25,e[i[26]="VIDEO_INPUT_FPS"]=26,e[i[27]="VIDEO_ENCODE_FPS"]=27,e[i[28]="VIDEO_SENT_FPS"]=28,e[i[29]="VIDEO_FIRS_RECEIVED"]=29,e[i[30]="VIDEO_SENT_PPS"]=30,e[i[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,e[i[32]="VIDEO_SENT_BITRATE"]=32,e[i[33]="VIDEO_DROPPED_FPS"]=33,e[i[34]="VIDEO_TARGET_DELAY_MS"]=34,e[i[35]="VIDEO_DECODE_MS"]=35,e[i[36]="VIDEO_OUTPUT_FPS"]=36,e[i[37]="VIDEO_RECEIVED_PPS"]=37,e[i[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,e[i[39]="VIDEO_RENDER_DELAY_MS"]=39,e[i[40]="VIDEO_RECEIVED_FPS"]=40,e[i[41]="VIDEO_DECODE_FPS"]=41,e[i[42]="VIDEO_NACKS_SENT"]=42,e[i[43]="VIDEO_FIRS_SENT"]=43,e[i[44]="VIDEO_RECEIVED_BITRATE"]=44,e[i[45]="VIDEO_CURRENT_DELAY_MS"]=45,e[i[46]="VIDEO_JITTER_BUFFER_MS"]=46,e[i[47]="VIDEO_DISCARDED_PPS"]=47,e[i[48]="VIDEO_PLIS_SENT"]=48,e[i[49]="VIDEO_RECEIVED_JITTER_MS"]=49,e[i[64]="VIDEO_ENCODE_HEIGHT"]=64,e[i[66]="VIDEO_SENT_QP_SUM"]=66,e[i[69]="VIDEO_DECODE_HEIGHT"]=69,e[i[72]="VIDEO_RECEIVED_QP_SUM"]=72,e[i[86]="VIDEO_ENCODE_WIDTH"]=86,e[i[87]="VIDEO_DECODE_WIDTH"]=87,e[i[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,e[i[89]="VIDEO_DECODER_IS_HARDWARE"]=89,e[i[90]="VIDEO_FREEZE_COUNT"]=90,e[i[91]="VIDEO_FREEZE_DURATION"]=91,e[i[92]="VIDEO_PAUSE_COUNT"]=92,e[i[93]="VIDEO_PAUSE_DURATION"]=93,e[i[94]="VIDEO_QUALITY_REASON"]=94,e[i[95]="VIDEO_PROCESSING_TIME"]=95,e[i[96]="RTC_SPK_AUDIO_LEVEL"]=96,e[i[97]="RTC_MIC_AUDIO_LEVEL"]=97,e[i[98]="RTC_SPK_TOTAL_LOST"]=98,e[i[99]="RTC_SPK_TOTAL_EXPECTED"]=99,e[i[100]="RTC_SPK_TOTAL_RECOVERED_RED"]=100,e[i[101]="RTC_SPK_TOTAL_RECOVERED_FEC"]=101,e[i[102]="VIDEO_QUALITY_LIMITATION_DURATION_CPU"]=102,e}(),s}(),a.SdkStreamMetricFrame=function(){function s(i){if(this.metrics=[],this.dimensions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkStreamMetricFrame"),s.prototype.streamId=0,s.prototype.groupId=0,s.prototype.metrics=g.emptyArray,s.prototype.dimensions=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),e.metrics!=null&&e.metrics.length)for(var n=0;n<e.metrics.length;++n)a.SdkMetric.encode(e.metrics[n],t.uint32(42).fork()).ldelim();if(e.dimensions!=null&&e.dimensions.length)for(var n=0;n<e.dimensions.length;++n)a.SdkStreamDimension.encode(e.dimensions[n],t.uint32(50).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkStreamMetricFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 3:r.streamId=e.uint32();break;case 4:r.groupId=e.uint32();break;case 5:r.metrics&&r.metrics.length||(r.metrics=[]),r.metrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 6:r.dimensions&&r.dimensions.length||(r.dimensions=[]),r.dimensions.push(a.SdkStreamDimension.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId))return"streamId: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!g.isInteger(e.groupId))return"groupId: integer expected";if(e.metrics!=null&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var n=a.SdkMetric.verify(e.metrics[t]);if(n)return"metrics."+n}}if(e.dimensions!=null&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(var t=0;t<e.dimensions.length;++t){var n=a.SdkStreamDimension.verify(e.dimensions[t]);if(n)return"dimensions."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkStreamMetricFrame)return e;var t=new a.SdkStreamMetricFrame;if(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var n=0;n<e.metrics.length;++n){if(typeof e.metrics[n]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[n]=a.SdkMetric.fromObject(e.metrics[n])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");t.dimensions=[];for(var n=0;n<e.dimensions.length;++n){if(typeof e.dimensions[n]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[n]=a.SdkStreamDimension.fromObject(e.dimensions[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metrics=[],n.dimensions=[]),t.defaults&&(n.streamId=0,n.groupId=0),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.metrics&&e.metrics.length){n.metrics=[];for(var r=0;r<e.metrics.length;++r)n.metrics[r]=a.SdkMetric.toObject(e.metrics[r],t)}if(e.dimensions&&e.dimensions.length){n.dimensions=[];for(var r=0;r<e.dimensions.length;++r)n.dimensions[r]=a.SdkStreamDimension.toObject(e.dimensions[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkClientMetricFrame=function(){function s(i){if(this.globalMetrics=[],this.streamMetricFrames=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkClientMetricFrame"),s.prototype.globalMetrics=g.emptyArray,s.prototype.streamMetricFrames=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.globalMetrics!=null&&e.globalMetrics.length)for(var n=0;n<e.globalMetrics.length;++n)a.SdkMetric.encode(e.globalMetrics[n],t.uint32(10).fork()).ldelim();if(e.streamMetricFrames!=null&&e.streamMetricFrames.length)for(var n=0;n<e.streamMetricFrames.length;++n)a.SdkStreamMetricFrame.encode(e.streamMetricFrames[n],t.uint32(18).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkClientMetricFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.globalMetrics&&r.globalMetrics.length||(r.globalMetrics=[]),r.globalMetrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 2:r.streamMetricFrames&&r.streamMetricFrames.length||(r.streamMetricFrames=[]),r.streamMetricFrames.push(a.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.globalMetrics!=null&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){var n=a.SdkMetric.verify(e.globalMetrics[t]);if(n)return"globalMetrics."+n}}if(e.streamMetricFrames!=null&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(var t=0;t<e.streamMetricFrames.length;++t){var n=a.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]);if(n)return"streamMetricFrames."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkClientMetricFrame)return e;var t=new a.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var n=0;n<e.globalMetrics.length;++n){if(typeof e.globalMetrics[n]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[n]=a.SdkMetric.fromObject(e.globalMetrics[n])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(var n=0;n<e.streamMetricFrames.length;++n){if(typeof e.streamMetricFrames[n]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[n]=a.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.globalMetrics=[],n.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){n.globalMetrics=[];for(var r=0;r<e.globalMetrics.length;++r)n.globalMetrics[r]=a.SdkMetric.toObject(e.globalMetrics[r],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){n.streamMetricFrames=[];for(var r=0;r<e.streamMetricFrames.length;++r)n.streamMetricFrames[r]=a.SdkStreamMetricFrame.toObject(e.streamMetricFrames[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkStreamDimension=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkStreamDimension"),s.prototype.type=1,s.prototype.value=null,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&a.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkStreamDimension;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.type=e.int32();break;case 2:r.value=a.SdkDimensionValue.decode(e,e.uint32());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}if(e.value!=null&&e.hasOwnProperty("value")){var t=a.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkStreamDimension)return e;var t=new a.SdkStreamDimension;switch(e.type){case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2;break}if(e.value!=null){if(typeof e.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");t.value=a.SdkDimensionValue.fromObject(e.value)}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ENCODER_NAME":1,n.value=null),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkStreamDimension.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(n.value=a.SdkDimensionValue.toObject(e.value,t)),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ENCODER_NAME"]=1,e[i[2]="VIDEO_DECODER_NAME"]=2,e}(),s}(),a.SdkDimensionValue=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkDimensionValue"),s.prototype.stringValue="",s.prototype.boolValue=!1,s.prototype.uintValue=g.Long?g.Long.fromBits(0,0,!0):0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),e.uintValue!=null&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkDimensionValue;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.stringValue=e.string();break;case 2:r.boolValue=e.bool();break;case 3:r.uintValue=e.uint64();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.stringValue!=null&&e.hasOwnProperty("stringValue")&&!g.isString(e.stringValue)?"stringValue: string expected":e.boolValue!=null&&e.hasOwnProperty("boolValue")&&typeof e.boolValue!="boolean"?"boolValue: boolean expected":e.uintValue!=null&&e.hasOwnProperty("uintValue")&&!g.isInteger(e.uintValue)&&!(e.uintValue&&g.isInteger(e.uintValue.low)&&g.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkDimensionValue)return e;var t=new a.SdkDimensionValue;return e.stringValue!=null&&(t.stringValue=String(e.stringValue)),e.boolValue!=null&&(t.boolValue=Boolean(e.boolValue)),e.uintValue!=null&&(g.Long?(t.uintValue=g.Long.fromValue(e.uintValue)).unsigned=!0:typeof e.uintValue=="string"?t.uintValue=parseInt(e.uintValue,10):typeof e.uintValue=="number"?t.uintValue=e.uintValue:typeof e.uintValue=="object"&&(t.uintValue=new g.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults)if(n.stringValue="",n.boolValue=!1,g.Long){var r=new g.Long(0,0,!0);n.uintValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.uintValue=t.longs===String?"0":0;return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(n.stringValue=e.stringValue),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(n.boolValue=e.boolValue),e.uintValue!=null&&e.hasOwnProperty("uintValue")&&(typeof e.uintValue=="number"?n.uintValue=t.longs===String?String(e.uintValue):e.uintValue:n.uintValue=t.longs===String?g.Long.prototype.toString.call(e.uintValue):t.longs===Number?new g.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkDataMessageFrame=function(){function s(i){if(this.messages=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkDataMessageFrame"),s.prototype.messages=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.messages!=null&&e.messages.length)for(var n=0;n<e.messages.length;++n)a.SdkDataMessagePayload.encode(e.messages[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkDataMessageFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(a.SdkDataMessagePayload.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.messages!=null&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n=a.SdkDataMessagePayload.verify(e.messages[t]);if(n)return"messages."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkDataMessageFrame)return e;var t=new a.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if(typeof e.messages[n]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[n]=a.SdkDataMessagePayload.fromObject(e.messages[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=a.SdkDataMessagePayload.toObject(e.messages[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkDataMessagePayload=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkDataMessagePayload"),s.prototype.topic="",s.prototype.data=g.newBuffer([]),s.prototype.lifetimeMs=0,s.prototype.senderAttendeeId="",s.prototype.ingestTimeNs=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.senderExternalUserId="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),e.lifetimeMs!=null&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),e.senderAttendeeId!=null&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),e.ingestTimeNs!=null&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),e.senderExternalUserId!=null&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkDataMessagePayload;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.topic=e.string();break;case 2:r.data=e.bytes();break;case 3:r.lifetimeMs=e.uint32();break;case 4:r.senderAttendeeId=e.string();break;case 5:r.ingestTimeNs=e.int64();break;case 6:r.senderExternalUserId=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.topic!=null&&e.hasOwnProperty("topic")&&!g.isString(e.topic)?"topic: string expected":e.data!=null&&e.hasOwnProperty("data")&&!(e.data&&typeof e.data.length=="number"||g.isString(e.data))?"data: buffer expected":e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&!g.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&!g.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&!g.isInteger(e.ingestTimeNs)&&!(e.ingestTimeNs&&g.isInteger(e.ingestTimeNs.low)&&g.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&!g.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkDataMessagePayload)return e;var t=new a.SdkDataMessagePayload;return e.topic!=null&&(t.topic=String(e.topic)),e.data!=null&&(typeof e.data=="string"?g.base64.decode(e.data,t.data=g.newBuffer(g.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),e.lifetimeMs!=null&&(t.lifetimeMs=e.lifetimeMs>>>0),e.senderAttendeeId!=null&&(t.senderAttendeeId=String(e.senderAttendeeId)),e.ingestTimeNs!=null&&(g.Long?(t.ingestTimeNs=g.Long.fromValue(e.ingestTimeNs)).unsigned=!1:typeof e.ingestTimeNs=="string"?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):typeof e.ingestTimeNs=="number"?t.ingestTimeNs=e.ingestTimeNs:typeof e.ingestTimeNs=="object"&&(t.ingestTimeNs=new g.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),e.senderExternalUserId!=null&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(n.topic="",t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=g.newBuffer(n.data))),n.lifetimeMs=0,n.senderAttendeeId="",g.Long){var r=new g.Long(0,0,!1);n.ingestTimeNs=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.ingestTimeNs=t.longs===String?"0":0;n.senderExternalUserId=""}return e.topic!=null&&e.hasOwnProperty("topic")&&(n.topic=e.topic),e.data!=null&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?g.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&(n.lifetimeMs=e.lifetimeMs),e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&(n.senderAttendeeId=e.senderAttendeeId),e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&(typeof e.ingestTimeNs=="number"?n.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:n.ingestTimeNs=t.longs===String?g.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new g.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&(n.senderExternalUserId=e.senderExternalUserId),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTurnCredentials=function(){function s(i){if(this.uris=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTurnCredentials"),s.prototype.username="",s.prototype.password="",s.prototype.ttl=0,s.prototype.uris=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),e.password!=null&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),e.uris!=null&&e.uris.length)for(var n=0;n<e.uris.length;++n)t.uint32(34).string(e.uris[n]);return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTurnCredentials;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.username=e.string();break;case 2:r.password=e.string();break;case 3:r.ttl=e.uint32();break;case 4:r.uris&&r.uris.length||(r.uris=[]),r.uris.push(e.string());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.username!=null&&e.hasOwnProperty("username")&&!g.isString(e.username))return"username: string expected";if(e.password!=null&&e.hasOwnProperty("password")&&!g.isString(e.password))return"password: string expected";if(e.ttl!=null&&e.hasOwnProperty("ttl")&&!g.isInteger(e.ttl))return"ttl: integer expected";if(e.uris!=null&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!g.isString(e.uris[t]))return"uris: string[] expected"}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTurnCredentials)return e;var t=new a.SdkTurnCredentials;if(e.username!=null&&(t.username=String(e.username)),e.password!=null&&(t.password=String(e.password)),e.ttl!=null&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var n=0;n<e.uris.length;++n)t.uris[n]=String(e.uris[n])}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uris=[]),t.defaults&&(n.username="",n.password="",n.ttl=0),e.username!=null&&e.hasOwnProperty("username")&&(n.username=e.username),e.password!=null&&e.hasOwnProperty("password")&&(n.password=e.password),e.ttl!=null&&e.hasOwnProperty("ttl")&&(n.ttl=e.ttl),e.uris&&e.uris.length){n.uris=[];for(var r=0;r<e.uris.length;++r)n.uris[r]=e.uris[r]}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptItem=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptItem"),s.prototype.content="",s.prototype.endTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.speakerAttendeeId="",s.prototype.speakerExternalUserId="",s.prototype.startTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.type=1,s.prototype.vocabularyFilterMatch=!1,s.prototype.confidence=0,s.prototype.stable=!1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),e.speakerAttendeeId!=null&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),e.speakerExternalUserId!=null&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),e.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),e.stable!=null&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptItem;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.content=e.string();break;case 2:r.endTime=e.int64();break;case 3:r.speakerAttendeeId=e.string();break;case 4:r.speakerExternalUserId=e.string();break;case 5:r.startTime=e.int64();break;case 6:r.type=e.int32();break;case 7:r.vocabularyFilterMatch=e.bool();break;case 8:r.confidence=e.double();break;case 9:r.stable=e.bool();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.content!=null&&e.hasOwnProperty("content")&&!g.isString(e.content))return"content: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!g.isInteger(e.endTime)&&!(e.endTime&&g.isInteger(e.endTime.low)&&g.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&!g.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&!g.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!g.isInteger(e.startTime)&&!(e.startTime&&g.isInteger(e.startTime.low)&&g.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&typeof e.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.stable!=null&&e.hasOwnProperty("stable")&&typeof e.stable!="boolean"?"stable: boolean expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptItem)return e;var t=new a.SdkTranscriptItem;switch(e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(g.Long?(t.endTime=g.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.speakerAttendeeId!=null&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),e.speakerExternalUserId!=null&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),e.startTime!=null&&(g.Long?(t.startTime=g.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2;break}return e.vocabularyFilterMatch!=null&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.stable!=null&&(t.stable=Boolean(e.stable)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(n.content="",g.Long){var r=new g.Long(0,0,!1);n.endTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.endTime=t.longs===String?"0":0;if(n.speakerAttendeeId="",n.speakerExternalUserId="",g.Long){var r=new g.Long(0,0,!1);n.startTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startTime=t.longs===String?"0":0;n.type=t.enums===String?"PRONUNCIATION":1,n.vocabularyFilterMatch=!1,n.confidence=0,n.stable=!1}return e.content!=null&&e.hasOwnProperty("content")&&(n.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?g.Long.prototype.toString.call(e.endTime):t.longs===Number?new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&(n.speakerAttendeeId=e.speakerAttendeeId),e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&(n.speakerExternalUserId=e.speakerExternalUserId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?g.Long.prototype.toString.call(e.startTime):t.longs===Number?new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkTranscriptItem.Type[e.type]:e.type),e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&(n.vocabularyFilterMatch=e.vocabularyFilterMatch),e.confidence!=null&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.stable!=null&&e.hasOwnProperty("stable")&&(n.stable=e.stable),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="PRONUNCIATION"]=1,e[i[2]="PUNCTUATION"]=2,e}(),s}(),a.SdkTranscriptEntity=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptEntity"),s.prototype.category="",s.prototype.confidence=0,s.prototype.content="",s.prototype.endTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.startTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.type="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.category!=null&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptEntity;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.category=e.string();break;case 2:r.confidence=e.double();break;case 3:r.content=e.string();break;case 4:r.endTime=e.int64();break;case 5:r.startTime=e.int64();break;case 6:r.type=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.category!=null&&e.hasOwnProperty("category")&&!g.isString(e.category)?"category: string expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.content!=null&&e.hasOwnProperty("content")&&!g.isString(e.content)?"content: string expected":e.endTime!=null&&e.hasOwnProperty("endTime")&&!g.isInteger(e.endTime)&&!(e.endTime&&g.isInteger(e.endTime.low)&&g.isInteger(e.endTime.high))?"endTime: integer|Long expected":e.startTime!=null&&e.hasOwnProperty("startTime")&&!g.isInteger(e.startTime)&&!(e.startTime&&g.isInteger(e.startTime.low)&&g.isInteger(e.startTime.high))?"startTime: integer|Long expected":e.type!=null&&e.hasOwnProperty("type")&&!g.isString(e.type)?"type: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptEntity)return e;var t=new a.SdkTranscriptEntity;return e.category!=null&&(t.category=String(e.category)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(g.Long?(t.endTime=g.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.startTime!=null&&(g.Long?(t.startTime=g.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type!=null&&(t.type=String(e.type)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(n.category="",n.confidence=0,n.content="",g.Long){var r=new g.Long(0,0,!1);n.endTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.endTime=t.longs===String?"0":0;if(g.Long){var r=new g.Long(0,0,!1);n.startTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startTime=t.longs===String?"0":0;n.type=""}return e.category!=null&&e.hasOwnProperty("category")&&(n.category=e.category),e.confidence!=null&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.content!=null&&e.hasOwnProperty("content")&&(n.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?g.Long.prototype.toString.call(e.endTime):t.longs===Number?new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?g.Long.prototype.toString.call(e.startTime):t.longs===Number?new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(n.type=e.type),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptAlternative=function(){function s(i){if(this.items=[],this.entities=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptAlternative"),s.prototype.items=g.emptyArray,s.prototype.transcript="",s.prototype.entities=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.items!=null&&e.items.length)for(var n=0;n<e.items.length;++n)a.SdkTranscriptItem.encode(e.items[n],t.uint32(10).fork()).ldelim();if(e.transcript!=null&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),e.entities!=null&&e.entities.length)for(var n=0;n<e.entities.length;++n)a.SdkTranscriptEntity.encode(e.entities[n],t.uint32(26).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptAlternative;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.items&&r.items.length||(r.items=[]),r.items.push(a.SdkTranscriptItem.decode(e,e.uint32()));break;case 2:r.transcript=e.string();break;case 3:r.entities&&r.entities.length||(r.entities=[]),r.entities.push(a.SdkTranscriptEntity.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.items!=null&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var n=a.SdkTranscriptItem.verify(e.items[t]);if(n)return"items."+n}}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&!g.isString(e.transcript))return"transcript: string expected";if(e.entities!=null&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(var t=0;t<e.entities.length;++t){var n=a.SdkTranscriptEntity.verify(e.entities[t]);if(n)return"entities."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptAlternative)return e;var t=new a.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var n=0;n<e.items.length;++n){if(typeof e.items[n]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[n]=a.SdkTranscriptItem.fromObject(e.items[n])}}if(e.transcript!=null&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");t.entities=[];for(var n=0;n<e.entities.length;++n){if(typeof e.entities[n]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[n]=a.SdkTranscriptEntity.fromObject(e.entities[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.items=[],n.entities=[]),t.defaults&&(n.transcript=""),e.items&&e.items.length){n.items=[];for(var r=0;r<e.items.length;++r)n.items[r]=a.SdkTranscriptItem.toObject(e.items[r],t)}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&(n.transcript=e.transcript),e.entities&&e.entities.length){n.entities=[];for(var r=0;r<e.entities.length;++r)n.entities[r]=a.SdkTranscriptEntity.toObject(e.entities[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptLanguageWithScore=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptLanguageWithScore"),s.prototype.languageCode="",s.prototype.score=0,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),e.score!=null&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptLanguageWithScore;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.languageCode=e.string();break;case 2:r.score=e.double();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!g.isString(e.languageCode)?"languageCode: string expected":e.score!=null&&e.hasOwnProperty("score")&&typeof e.score!="number"?"score: number expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptLanguageWithScore)return e;var t=new a.SdkTranscriptLanguageWithScore;return e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.score!=null&&(t.score=Number(e.score)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.languageCode="",n.score=0),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.score!=null&&e.hasOwnProperty("score")&&(n.score=t.json&&!isFinite(e.score)?String(e.score):e.score),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptResult=function(){function s(i){if(this.alternatives=[],this.languageIdentification=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptResult"),s.prototype.alternatives=g.emptyArray,s.prototype.channelId="",s.prototype.endTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.isPartial=!1,s.prototype.resultId="",s.prototype.startTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.languageCode="",s.prototype.languageIdentification=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.alternatives!=null&&e.alternatives.length)for(var n=0;n<e.alternatives.length;++n)a.SdkTranscriptAlternative.encode(e.alternatives[n],t.uint32(10).fork()).ldelim();if(e.channelId!=null&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),e.isPartial!=null&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),e.resultId!=null&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),e.languageIdentification!=null&&e.languageIdentification.length)for(var n=0;n<e.languageIdentification.length;++n)a.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[n],t.uint32(66).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptResult;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.alternatives&&r.alternatives.length||(r.alternatives=[]),r.alternatives.push(a.SdkTranscriptAlternative.decode(e,e.uint32()));break;case 2:r.channelId=e.string();break;case 3:r.endTime=e.int64();break;case 4:r.isPartial=e.bool();break;case 5:r.resultId=e.string();break;case 6:r.startTime=e.int64();break;case 7:r.languageCode=e.string();break;case 8:r.languageIdentification&&r.languageIdentification.length||(r.languageIdentification=[]),r.languageIdentification.push(a.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.alternatives!=null&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t){var n=a.SdkTranscriptAlternative.verify(e.alternatives[t]);if(n)return"alternatives."+n}}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&!g.isString(e.channelId))return"channelId: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!g.isInteger(e.endTime)&&!(e.endTime&&g.isInteger(e.endTime.low)&&g.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.isPartial!=null&&e.hasOwnProperty("isPartial")&&typeof e.isPartial!="boolean")return"isPartial: boolean expected";if(e.resultId!=null&&e.hasOwnProperty("resultId")&&!g.isString(e.resultId))return"resultId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!g.isInteger(e.startTime)&&!(e.startTime&&g.isInteger(e.startTime.low)&&g.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!g.isString(e.languageCode))return"languageCode: string expected";if(e.languageIdentification!=null&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(var t=0;t<e.languageIdentification.length;++t){var n=a.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]);if(n)return"languageIdentification."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptResult)return e;var t=new a.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var n=0;n<e.alternatives.length;++n){if(typeof e.alternatives[n]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[n]=a.SdkTranscriptAlternative.fromObject(e.alternatives[n])}}if(e.channelId!=null&&(t.channelId=String(e.channelId)),e.endTime!=null&&(g.Long?(t.endTime=g.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.isPartial!=null&&(t.isPartial=Boolean(e.isPartial)),e.resultId!=null&&(t.resultId=String(e.resultId)),e.startTime!=null&&(g.Long?(t.startTime=g.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");t.languageIdentification=[];for(var n=0;n<e.languageIdentification.length;++n){if(typeof e.languageIdentification[n]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[n]=a.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.alternatives=[],n.languageIdentification=[]),t.defaults){if(n.channelId="",g.Long){var r=new g.Long(0,0,!1);n.endTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.endTime=t.longs===String?"0":0;if(n.isPartial=!1,n.resultId="",g.Long){var r=new g.Long(0,0,!1);n.startTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startTime=t.longs===String?"0":0;n.languageCode=""}if(e.alternatives&&e.alternatives.length){n.alternatives=[];for(var c=0;c<e.alternatives.length;++c)n.alternatives[c]=a.SdkTranscriptAlternative.toObject(e.alternatives[c],t)}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?g.Long.prototype.toString.call(e.endTime):t.longs===Number?new g.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.isPartial!=null&&e.hasOwnProperty("isPartial")&&(n.isPartial=e.isPartial),e.resultId!=null&&e.hasOwnProperty("resultId")&&(n.resultId=e.resultId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?g.Long.prototype.toString.call(e.startTime):t.longs===Number?new g.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length){n.languageIdentification=[];for(var c=0;c<e.languageIdentification.length;++c)n.languageIdentification[c]=a.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[c],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscript=function(){function s(i){if(this.results=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscript"),s.prototype.results=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.results!=null&&e.results.length)for(var n=0;n<e.results.length;++n)a.SdkTranscriptResult.encode(e.results[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscript;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.results&&r.results.length||(r.results=[]),r.results.push(a.SdkTranscriptResult.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.results!=null&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var n=a.SdkTranscriptResult.verify(e.results[t]);if(n)return"results."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscript)return e;var t=new a.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var n=0;n<e.results.length;++n){if(typeof e.results[n]!="object")throw TypeError(".SdkTranscript.results: object expected");t.results[n]=a.SdkTranscriptResult.fromObject(e.results[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.results=[]),e.results&&e.results.length){n.results=[];for(var r=0;r<e.results.length;++r)n.results[r]=a.SdkTranscriptResult.toObject(e.results[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptionStatus=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptionStatus"),s.prototype.type=1,s.prototype.eventTime=g.Long?g.Long.fromBits(0,0,!1):0,s.prototype.transcriptionRegion="",s.prototype.transcriptionConfiguration="",s.prototype.message="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.eventTime!=null&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),e.transcriptionRegion!=null&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),e.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptionStatus;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.type=e.int32();break;case 2:r.eventTime=e.int64();break;case 3:r.transcriptionRegion=e.string();break;case 4:r.transcriptionConfiguration=e.string();break;case 5:r.message=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return e.eventTime!=null&&e.hasOwnProperty("eventTime")&&!g.isInteger(e.eventTime)&&!(e.eventTime&&g.isInteger(e.eventTime.low)&&g.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&!g.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&!g.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":e.message!=null&&e.hasOwnProperty("message")&&!g.isString(e.message)?"message: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptionStatus)return e;var t=new a.SdkTranscriptionStatus;switch(e.type){case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5;break}return e.eventTime!=null&&(g.Long?(t.eventTime=g.Long.fromValue(e.eventTime)).unsigned=!1:typeof e.eventTime=="string"?t.eventTime=parseInt(e.eventTime,10):typeof e.eventTime=="number"?t.eventTime=e.eventTime:typeof e.eventTime=="object"&&(t.eventTime=new g.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),e.transcriptionRegion!=null&&(t.transcriptionRegion=String(e.transcriptionRegion)),e.transcriptionConfiguration!=null&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),e.message!=null&&(t.message=String(e.message)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if(t.defaults){if(n.type=t.enums===String?"STARTED":1,g.Long){var r=new g.Long(0,0,!1);n.eventTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.eventTime=t.longs===String?"0":0;n.transcriptionRegion="",n.transcriptionConfiguration="",n.message=""}return e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkTranscriptionStatus.Type[e.type]:e.type),e.eventTime!=null&&e.hasOwnProperty("eventTime")&&(typeof e.eventTime=="number"?n.eventTime=t.longs===String?String(e.eventTime):e.eventTime:n.eventTime=t.longs===String?g.Long.prototype.toString.call(e.eventTime):t.longs===Number?new g.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&(n.transcriptionRegion=e.transcriptionRegion),e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&(n.transcriptionConfiguration=e.transcriptionConfiguration),e.message!=null&&e.hasOwnProperty("message")&&(n.message=e.message),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="STARTED"]=1,e[i[2]="INTERRUPTED"]=2,e[i[3]="RESUMED"]=3,e[i[4]="STOPPED"]=4,e[i[5]="FAILED"]=5,e}(),s}(),a.SdkTranscriptEvent=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}o(s,"SdkTranscriptEvent"),s.prototype.status=null,s.prototype.transcript=null;var i;return Object.defineProperty(s.prototype,"Event",{get:g.oneOfGetter(i=["status","transcript"]),set:g.oneOfSetter(i)}),s.create=o(function(t){return new s(t)},"create"),s.encode=o(function(t,n){return n||(n=u.create()),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&a.SdkTranscriptionStatus.encode(t.status,n.uint32(10).fork()).ldelim(),t.transcript!=null&&Object.hasOwnProperty.call(t,"transcript")&&a.SdkTranscript.encode(t.transcript,n.uint32(18).fork()).ldelim(),n},"encode"),s.encodeDelimited=o(function(t,n){return this.encode(t,n).ldelim()},"encodeDelimited"),s.decode=o(function(t,n){t instanceof f||(t=f.create(t));for(var r=n===void 0?t.len:t.pos+n,c=new a.SdkTranscriptEvent;t.pos<r;){var p=t.uint32();switch(p>>>3){case 1:c.status=a.SdkTranscriptionStatus.decode(t,t.uint32());break;case 2:c.transcript=a.SdkTranscript.decode(t,t.uint32());break;default:t.skipType(p&7);break}}return c},"decode"),s.decodeDelimited=o(function(t){return t instanceof f||(t=new f(t)),this.decode(t,t.uint32())},"decodeDelimited"),s.verify=o(function(t){if(typeof t!="object"||t===null)return"object expected";var n={};if(t.status!=null&&t.hasOwnProperty("status")){n.Event=1;{var r=a.SdkTranscriptionStatus.verify(t.status);if(r)return"status."+r}}if(t.transcript!=null&&t.hasOwnProperty("transcript")){if(n.Event===1)return"Event: multiple values";n.Event=1;{var r=a.SdkTranscript.verify(t.transcript);if(r)return"transcript."+r}}return null},"verify"),s.fromObject=o(function(t){if(t instanceof a.SdkTranscriptEvent)return t;var n=new a.SdkTranscriptEvent;if(t.status!=null){if(typeof t.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");n.status=a.SdkTranscriptionStatus.fromObject(t.status)}if(t.transcript!=null){if(typeof t.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");n.transcript=a.SdkTranscript.fromObject(t.transcript)}return n},"fromObject"),s.toObject=o(function(t,n){n||(n={});var r={};return t.status!=null&&t.hasOwnProperty("status")&&(r.status=a.SdkTranscriptionStatus.toObject(t.status,n),n.oneofs&&(r.Event="status")),t.transcript!=null&&t.hasOwnProperty("transcript")&&(r.transcript=a.SdkTranscript.toObject(t.transcript,n),n.oneofs&&(r.Event="transcript")),r},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkTranscriptFrame=function(){function s(i){if(this.events=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkTranscriptFrame"),s.prototype.events=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.events!=null&&e.events.length)for(var n=0;n<e.events.length;++n)a.SdkTranscriptEvent.encode(e.events[n],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkTranscriptFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.events&&r.events.length||(r.events=[]),r.events.push(a.SdkTranscriptEvent.decode(e,e.uint32()));break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.events!=null&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var n=a.SdkTranscriptEvent.verify(e.events[t]);if(n)return"events."+n}}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkTranscriptFrame)return e;var t=new a.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var n=0;n<e.events.length;++n){if(typeof e.events[n]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[n]=a.SdkTranscriptEvent.fromObject(e.events[n])}}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.events=[]),e.events&&e.events.length){n.events=[];for(var r=0;r<e.events.length;++r)n.events[r]=a.SdkTranscriptEvent.toObject(e.events[r],t)}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkRemoteVideoUpdateFrame=function(){function s(i){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkRemoteVideoUpdateFrame"),s.prototype.addedOrUpdatedVideoSubscriptions=g.emptyArray,s.prototype.removedVideoSubscriptionMids=g.emptyArray,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){if(t||(t=u.create()),e.addedOrUpdatedVideoSubscriptions!=null&&e.addedOrUpdatedVideoSubscriptions.length)for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n)a.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[n],t.uint32(10).fork()).ldelim();if(e.removedVideoSubscriptionMids!=null&&e.removedVideoSubscriptionMids.length)for(var n=0;n<e.removedVideoSubscriptionMids.length;++n)t.uint32(18).string(e.removedVideoSubscriptionMids[n]);return t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkRemoteVideoUpdateFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.addedOrUpdatedVideoSubscriptions&&r.addedOrUpdatedVideoSubscriptions.length||(r.addedOrUpdatedVideoSubscriptions=[]),r.addedOrUpdatedVideoSubscriptions.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;case 2:r.removedVideoSubscriptionMids&&r.removedVideoSubscriptionMids.length||(r.removedVideoSubscriptionMids=[]),r.removedVideoSubscriptionMids.push(e.string());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.addedOrUpdatedVideoSubscriptions!=null&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var n=a.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(n)return"addedOrUpdatedVideoSubscriptions."+n}}if(e.removedVideoSubscriptionMids!=null&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!g.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkRemoteVideoUpdateFrame)return e;var t=new a.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n){if(typeof e.addedOrUpdatedVideoSubscriptions[n]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[n]=a.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[n])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");t.removedVideoSubscriptionMids=[];for(var n=0;n<e.removedVideoSubscriptionMids.length;++n)t.removedVideoSubscriptionMids[n]=String(e.removedVideoSubscriptionMids[n])}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addedOrUpdatedVideoSubscriptions=[],n.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){n.addedOrUpdatedVideoSubscriptions=[];for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r)n.addedOrUpdatedVideoSubscriptions[r]=a.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[r],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length){n.removedVideoSubscriptionMids=[];for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)n.removedVideoSubscriptionMids[r]=e.removedVideoSubscriptionMids[r]}return n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkVideoQualityAdaptationPreference=function(){var s={},i=Object.create(s);return i[s[1]="BALANCED"]=1,i[s[2]="MAINTAIN_FRAMERATE"]=2,i[s[3]="MAINTAIN_RESOLUTION"]=3,i}(),a.SdkVideoSubscriptionConfiguration=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkVideoSubscriptionConfiguration"),s.prototype.mid="",s.prototype.attendeeId="",s.prototype.streamId=0,s.prototype.priority=0,s.prototype.targetBitrateKbps=0,s.prototype.groupId=0,s.prototype.qualityAdaptationPreference=1,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t.uint32(10).string(e.mid),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.priority!=null&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),e.targetBitrateKbps!=null&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.qualityAdaptationPreference!=null&&Object.hasOwnProperty.call(e,"qualityAdaptationPreference")&&t.uint32(56).int32(e.qualityAdaptationPreference),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkVideoSubscriptionConfiguration;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.mid=e.string();break;case 2:r.attendeeId=e.string();break;case 3:r.streamId=e.uint32();break;case 4:r.priority=e.uint32();break;case 5:r.targetBitrateKbps=e.uint32();break;case 6:r.groupId=e.uint32();break;case 7:r.qualityAdaptationPreference=e.int32();break;default:e.skipType(c&7);break}}if(!r.hasOwnProperty("mid"))throw g.ProtocolError("missing required 'mid'",{instance:r});return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(!g.isString(e.mid))return"mid: string expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!g.isString(e.attendeeId))return"attendeeId: string expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!g.isInteger(e.streamId))return"streamId: integer expected";if(e.priority!=null&&e.hasOwnProperty("priority")&&!g.isInteger(e.priority))return"priority: integer expected";if(e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&!g.isInteger(e.targetBitrateKbps))return"targetBitrateKbps: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!g.isInteger(e.groupId))return"groupId: integer expected";if(e.qualityAdaptationPreference!=null&&e.hasOwnProperty("qualityAdaptationPreference"))switch(e.qualityAdaptationPreference){default:return"qualityAdaptationPreference: enum value expected";case 1:case 2:case 3:break}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkVideoSubscriptionConfiguration)return e;var t=new a.SdkVideoSubscriptionConfiguration;switch(e.mid!=null&&(t.mid=String(e.mid)),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.priority!=null&&(t.priority=e.priority>>>0),e.targetBitrateKbps!=null&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.qualityAdaptationPreference){case"BALANCED":case 1:t.qualityAdaptationPreference=1;break;case"MAINTAIN_FRAMERATE":case 2:t.qualityAdaptationPreference=2;break;case"MAINTAIN_RESOLUTION":case 3:t.qualityAdaptationPreference=3;break}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.mid="",n.attendeeId="",n.streamId=0,n.priority=0,n.targetBitrateKbps=0,n.groupId=0,n.qualityAdaptationPreference=t.enums===String?"BALANCED":1),e.mid!=null&&e.hasOwnProperty("mid")&&(n.mid=e.mid),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.priority!=null&&e.hasOwnProperty("priority")&&(n.priority=e.priority),e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&(n.targetBitrateKbps=e.targetBitrateKbps),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.qualityAdaptationPreference!=null&&e.hasOwnProperty("qualityAdaptationPreference")&&(n.qualityAdaptationPreference=t.enums===String?a.SdkVideoQualityAdaptationPreference[e.qualityAdaptationPreference]:e.qualityAdaptationPreference),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkNotificationFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkNotificationFrame"),s.prototype.level=3,s.prototype.message="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.level!=null&&Object.hasOwnProperty.call(e,"level")&&t.uint32(8).int32(e.level),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkNotificationFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.level=e.int32();break;case 2:r.message=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.level!=null&&e.hasOwnProperty("level"))switch(e.level){default:return"level: enum value expected";case 1:case 2:case 3:break}return e.message!=null&&e.hasOwnProperty("message")&&!g.isString(e.message)?"message: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkNotificationFrame)return e;var t=new a.SdkNotificationFrame;switch(e.level){case"INFO":case 1:t.level=1;break;case"WARNING":case 2:t.level=2;break;case"ERROR":case 3:t.level=3;break}return e.message!=null&&(t.message=String(e.message)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.level=t.enums===String?"ERROR":3,n.message=""),e.level!=null&&e.hasOwnProperty("level")&&(n.level=t.enums===String?a.SdkNotificationFrame.NotificationLevel[e.level]:e.level),e.message!=null&&e.hasOwnProperty("message")&&(n.message=e.message),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s.NotificationLevel=function(){var i={},e=Object.create(i);return e[i[1]="INFO"]=1,e[i[2]="WARNING"]=2,e[i[3]="ERROR"]=3,e}(),s}(),a.SdkPrimaryMeetingJoinFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPrimaryMeetingJoinFrame"),s.prototype.credentials=null,s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.credentials!=null&&Object.hasOwnProperty.call(e,"credentials")&&a.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPrimaryMeetingJoinFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.credentials=a.SdkMeetingSessionCredentials.decode(e,e.uint32());break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.credentials!=null&&e.hasOwnProperty("credentials")){var t=a.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkPrimaryMeetingJoinFrame)return e;var t=new a.SdkPrimaryMeetingJoinFrame;if(e.credentials!=null){if(typeof e.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=a.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.credentials=null),e.credentials!=null&&e.hasOwnProperty("credentials")&&(n.credentials=a.SdkMeetingSessionCredentials.toObject(e.credentials,t)),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkPrimaryMeetingJoinAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPrimaryMeetingJoinAckFrame"),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPrimaryMeetingJoinAckFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=o(function(e){return e instanceof a.SdkPrimaryMeetingJoinAckFrame?e:new a.SdkPrimaryMeetingJoinAckFrame},"fromObject"),s.toObject=o(function(){return{}},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkPrimaryMeetingLeaveFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkPrimaryMeetingLeaveFrame"),s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkPrimaryMeetingLeaveFrame;e.pos<n;){var c=e.uint32();switch(c>>>3){default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=o(function(e){return e instanceof a.SdkPrimaryMeetingLeaveFrame?e:new a.SdkPrimaryMeetingLeaveFrame},"fromObject"),s.toObject=o(function(){return{}},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkMeetingSessionCredentials=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(s,"SdkMeetingSessionCredentials"),s.prototype.attendeeId="",s.prototype.externalUserId="",s.prototype.joinToken="",s.create=o(function(e){return new s(e)},"create"),s.encode=o(function(e,t){return t||(t=u.create()),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),e.joinToken!=null&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},"encode"),s.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=o(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,r=new a.SdkMeetingSessionCredentials;e.pos<n;){var c=e.uint32();switch(c>>>3){case 1:r.attendeeId=e.string();break;case 2:r.externalUserId=e.string();break;case 3:r.joinToken=e.string();break;default:e.skipType(c&7);break}}return r},"decode"),s.decodeDelimited=o(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!g.isString(e.attendeeId)?"attendeeId: string expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!g.isString(e.externalUserId)?"externalUserId: string expected":e.joinToken!=null&&e.hasOwnProperty("joinToken")&&!g.isString(e.joinToken)?"joinToken: string expected":null},"verify"),s.fromObject=o(function(e){if(e instanceof a.SdkMeetingSessionCredentials)return e;var t=new a.SdkMeetingSessionCredentials;return e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.joinToken!=null&&(t.joinToken=String(e.joinToken)),t},"fromObject"),s.toObject=o(function(e,t){t||(t={});var n={};return t.defaults&&(n.attendeeId="",n.externalUserId="",n.joinToken=""),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),e.joinToken!=null&&e.hasOwnProperty("joinToken")&&(n.joinToken=e.joinToken),n},"toObject"),s.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),s}(),a.SdkVideoCodecCapability=function(){var s={},i=Object.create(s);return i[s[1]="VP8"]=1,i[s[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,i[s[8]="VP9_PROFILE_0"]=8,i[s[11]="AV1_MAIN"]=11,i}(),j.exports=a,g.Long=void 0,S.configure()},f3u9:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("U9CR"));let u=o(class Yc{static fullbandSpeechMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new Yc(4e4,a)}static fullbandMusicMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new Yc(64e3,a)}static fullbandMusicStereo(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new Yc(128e3,a)}isStereo(){return this.audioBitrateBps===128e3}hasRedundancyEnabled(){return this.enableAudioRedundancy}constructor(a=null,s=!0){this.audioBitrateBps=a,this.enableAudioRedundancy=!new f.default().hasFirefoxWebRTC()&&s}},"AudioProfile");l.default=u},fCza:function(j,l,h){"use strict";var S=l;S.build="minimal",S.Writer=h("wDi9"),S.BufferWriter=h("PwtQ"),S.Reader=h("LDIi"),S.BufferReader=h("QhKv"),S.util=h("j4TH"),S.rpc=h("gCnV"),S.roots=h("3E7f"),S.configure=f;function f(){S.util._configure(),S.Writer._configure(S.BufferWriter),S.Reader._configure(S.BufferReader)}o(f,"configure"),f()},fGw7:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("hEYi"));let u=o(class{isConnectionTerminated(){switch(this.type){case f.default.WebSocketFailed:case f.default.WebSocketError:case f.default.WebSocketClosing:case f.default.WebSocketClosed:return!0;default:return!1}}constructor(a,s,i,e,t){this.client=a,this.type=s,this.message=i,this.closeCode=e,this.closeReason=t,this.timestampMs=Date.now()}},"SignalingClientEvent");l.default=u},fZkv:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("wXa7")),g=f(h("j+uH"));let a=o(class extends g.default{cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){return S(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let e=this.context.sdpAnswer;e=new u.default(e).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(e=new u.default(e).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(e=new u.default(e).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(e=new u.default(e).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp,this.context.currentVideoSendCodec=new u.default(e).highestPriorityVideoSendCodec()),this.logger.info(`processed remote description is >>>${e}<<<`);const t={type:"answer",sdp:e,toJSON:null};try{yield this.createICEConnectionCompletedPromise(t)}catch(n){throw n}})}createICEConnectionCompletedPromise(i){return new Promise((e,t)=>S(this,void 0,void 0,function*(){const n=o(()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",n),e())},"checkConnectionCompleted");this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",n),t(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",n);try{yield this.context.peer.setRemoteDescription(i),this.logger.info("set remote description, waiting for ICE connection"),n()}catch(r){t(r)}}))}constructor(i){super(i.logger),this.context=i,this.taskName="SetRemoteDescriptionTask"}},"SetRemoteDescriptionTask");l.default=a},fi20:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionLifecycleEventCondition=void 0;var S;(function(f){f[f.ConnectingNew=0]="ConnectingNew",f[f.ReconnectingExisting=1]="ReconnectingExisting",f[f.StartedNew=2]="StartedNew",f[f.StartedExisting=3]="StartedExisting",f[f.StartedAfterReconnect=4]="StartedAfterReconnect",f[f.StoppedCleanly=5]="StoppedCleanly",f[f.StoppedWithFailure=6]="StoppedWithFailure"})(S=l.MeetingSessionLifecycleEventCondition||(l.MeetingSessionLifecycleEventCondition={})),l.default=S},ftz4:function(j,l,h){"use strict";var S={},f=S,u=Object.prototype,g=u.hasOwnProperty;function a(i){for(var e=i.name+"",t=f[e],n=g.call(f,e)?t.length:0;n--;){var r=t[n],c=r.func;if(c==null||c==i)return r.name}return e}o(a,"getFuncName");var s=l.a=a},fxRI:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("ppUg")),g=h("XCDq"),a=f(h("j+uH"));let s=o(class extends a.default{run(){return S(this,void 0,void 0,function*(){const e=this.context.videoDuplexMode===g.SdkStreamServiceType.RX||this.context.videoDuplexMode===g.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=e?g.SdkStreamServiceType.DUPLEX:g.SdkStreamServiceType.TX:this.context.videoDuplexMode=e?g.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const t=this.context.videoTileController.getLocalVideoTile();let n;try{n=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const r=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(r.values()))}if(this.context.activeVideoInput=n,n){const r=n.getVideoTracks();if(!r||r.length===0)return;const c=this.context.meetingSessionConfiguration.credentials.attendeeId,p=new u.default(c).hasModality(u.default.MODALITY_CONTENT),m=r[0].getSettings();if(this.context.enableSimulcast&&!p){const y=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints();this.context.logger.info(`simulcast: choose constraint ${JSON.stringify(y)}`);try{yield r[0].applyConstraints(y)}catch{this.context.logger.info("simulcast: pass video without more constraint")}}const d=this.context.audioVideoController.configuration.credentials.externalUserId;t.bindVideoStream(c,!0,n,m.width,m.height,null,d);for(let y=0;y<r.length;y++){const E=r[y];this.logger.info(`using video device label=${E.label} id=${E.id}`),this.context.videoDeviceInformation.current_camera_name=E.label,this.context.videoDeviceInformation.current_camera_id=E.id}}})}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoInputTask"}},"ReceiveVideoInputTask");l.default=s},"g+gC":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"Attendee");l.default=S},gCnV:function(j,l,h){"use strict";var S=l;S.Service=h("vhAZ")},gLI0:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.BlurStrengthMapper=void 0;const S={LOW:7,MEDIUM:15,HIGH:30};let f=o(class{static getBlurAmount(g,a){if(g<=0)throw new Error(`invalid value for blur strength: ${g}`);return Math.round(g*a.height/this.BLUR_STRENGTH_DIVISOR)}},"BlurStrengthMapper");l.BlurStrengthMapper=f,f.BLUR_STRENGTH_DIVISOR=540,l.default=S},gTDO:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("qvnc")),u=S(h("TYXu")),g=S(h("ZIUS"));let a=o(class{realtimeSetLocalAttendeeId(i,e){this.state.localAttendeeId=i,this.state.localExternalUserId=e}realtimeSetAttendeeIdPresence(i,e,t,n,r){try{e&&(this.state.attendeeIdToExternalUserId[i]=t);for(const c of this.state.attendeeIdChangesCallbacks)c(i,e,t,n,r)}catch(c){this.onError(c)}}realtimeSubscribeToAttendeeIdPresence(i){try{this.state.attendeeIdChangesCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToAttendeeIdPresence(i){try{const e=this.state.attendeeIdChangesCallbacks.indexOf(i);e!==-1&&this.state.attendeeIdChangesCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSetCanUnmuteLocalAudio(i){try{if(this.state.canUnmute===i)return;this.state.canUnmute=i;for(const e of this.state.setCanUnmuteLocalAudioCallbacks)e(i)}catch(e){this.onError(e)}}realtimeSubscribeToSetCanUnmuteLocalAudio(i){try{this.state.setCanUnmuteLocalAudioCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(i){try{const e=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(i);e!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const i of this.state.muteAndUnmuteLocalAudioCallbacks)i(!0)}catch(i){this.onError(i)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const i of this.state.muteAndUnmuteLocalAudioCallbacks)i(!1);return!0}catch(i){return this.onError(i),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(i){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(i){try{const e=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(i);e!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(i,e){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(i)||(this.state.volumeIndicatorCallbacks[i]=[]),this.state.volumeIndicatorCallbacks[i].push(e),this.sendVolumeIndicatorChange(i,!0,!0,!0,this.state.attendeeIdToExternalUserId[i])}catch(t){this.onError(t)}}realtimeUnsubscribeFromVolumeIndicator(i,e){if(this.state.volumeIndicatorCallbacks[i])if(e){const n=this.state.volumeIndicatorCallbacks[i].indexOf(e);n>=0&&this.state.volumeIndicatorCallbacks[i].splice(n,1)}else delete this.state.volumeIndicatorCallbacks[i]}realtimeUpdateVolumeIndicator(i,e,t,n,r){try{t=this.applyLocalMuteOverride(i,t);const c=this.getVolumeIndicatorState(i);let p=!1,m=!1,d=!1;t!==null&&c.muted!==t&&(c.muted=t,m=!0,c.muted&&c.volume!==0&&(c.volume=0,p=!0)),!c.muted&&e!==null&&(c.volume!==e&&(c.volume=e,p=!0),c.muted===null&&(c.muted=!1,m=!0)),n!==null&&c.signalStrength!==n&&(c.signalStrength=n,d=!0),this.sendVolumeIndicatorChange(i,p,m,d,r)}catch(c){this.onError(c)}}realtimeSubscribeToLocalSignalStrengthChange(i){try{if(this.state.localSignalStrengthChangeCallbacks.push(i),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(e){this.onError(e)}}realtimeUnsubscribeToLocalSignalStrengthChange(i){try{const e=this.state.localSignalStrengthChangeCallbacks.indexOf(i);e!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSubscribeToSendDataMessage(i){try{this.state.sendDataMessageCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeFromSendDataMessage(i){try{const e=this.state.sendDataMessageCallbacks.indexOf(i);e!==-1&&this.state.sendDataMessageCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSendDataMessage(i,e,t){try{for(const n of this.state.sendDataMessageCallbacks)n(i,e,t)}catch(n){this.onError(n)}}realtimeSubscribeToReceiveDataMessage(i,e){try{this.state.receiveDataMessageCallbacks.has(i)?this.state.receiveDataMessageCallbacks.get(i).push(e):this.state.receiveDataMessageCallbacks.set(i,[e])}catch(t){this.onError(t)}}realtimeUnsubscribeFromReceiveDataMessage(i){try{this.state.receiveDataMessageCallbacks.delete(i)}catch(e){this.onError(e)}}realtimeReceiveDataMessage(i){try{if(this.state.receiveDataMessageCallbacks.has(i.topic))for(const e of this.state.receiveDataMessageCallbacks.get(i.topic))e(i)}catch(e){this.onError(e)}}realtimeSubscribeToFatalError(i){try{this.state.fatalErrorCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToFatalError(i){try{const e=this.state.fatalErrorCallbacks.indexOf(i);e!==-1&&this.state.fatalErrorCallbacks.splice(e,1)}catch(e){this.onError(e)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(i){i?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(i,e){const t=this.state.localAttendeeId,n=this.state.muted;return i!==t||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?e:n}sendVolumeIndicatorChange(i,e,t,n,r){if(this.sendLocalSignalStrengthChange(i,n),!this.state.volumeIndicatorCallbacks.hasOwnProperty(i))return;const c=this.getVolumeIndicatorState(i),p=new g.default;if(e&&(p.volume=c.volume),t&&(p.muted=c.muted),n&&(p.signalStrength=c.signalStrength),!this.stateIsEmpty(p))for(const m of this.state.volumeIndicatorCallbacks[i])m(i,p.volume,p.muted,p.signalStrength,r)}sendLocalSignalStrengthChange(i,e){if(!e||i!==this.state.localAttendeeId)return;const n=this.getVolumeIndicatorState(i).signalStrength;if(n!==null)for(const r of this.state.localSignalStrengthChangeCallbacks)r(n)}getVolumeIndicatorState(i){return this.state.volumeIndicatorState.hasOwnProperty(i)||(this.state.volumeIndicatorState[i]=new g.default),this.state.volumeIndicatorState[i]}stateIsEmpty(i){return i.volume===null&&i.muted===null&&i.signalStrength===null}onError(i){try{for(const e of this.state.fatalErrorCallbacks)e(i)}catch(e){try{console.error(i),console.error(e)}catch{}}}constructor(i,e){this.mediaStreamBroker=i,this.state=new u.default,this._transcriptionController=e||new f.default(this)}},"DefaultRealtimeController");l.default=a},ghxq:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(u){this.currentData=u}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const u=this.health();return u!==this.currentHealth?(this.currentHealth=u,u):null}constructor(u,g,a){this.minHealth=u.minHealth,this.maxHealth=u.maxHealth,this.currentHealth=u.initialHealth,this.currentData=g.clone(),this.name=a}},"BaseConnectionHealthPolicy");l.default=S},h4LR:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.STARTED="started",f.INTERRUPTED="interrupted",f.RESUMED="resumed",f.STOPPED="stopped",f.FAILED="failed"})(S||(S={})),l.default=S},h4op:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("uctb"));let u=o(class{info(a){for(const s of this._loggers)s.info(a)}warn(a){for(const s of this._loggers)s.warn(a)}error(a){for(const s of this._loggers)s.error(a)}debug(a){let s,i;typeof a=="string"?i=a:a?i=o(()=>(s||(s=a()),s),"memoized"):i=""+a;for(const e of this._loggers)e.debug(i)}setLogLevel(a){for(const s of this._loggers)s.setLogLevel(a)}getLogLevel(){for(const a of this._loggers)return a.getLogLevel();return f.default.OFF}constructor(...a){this._loggers=a}},"MultiLogger");l.default=u},h96U:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("w1x/"));let u=o(class Rd{partialCompare(a){return this.priority-a.priority}equals(a){return this.attendeeId===a.attendeeId&&this.targetSize===a.targetSize&&this.priority===a.priority}clone(){return new Rd(this.attendeeId,this.priority,this.targetSize)}targetSizeToBitrateKbps(a){switch(a){case f.default.Maximum:return Rd.MAXIMUM_BITRATE_KBPS;case f.default.High:return Rd.HIGH_BITRATE_KBPS;case f.default.Medium:return Rd.MID_BITRATE_KBPS;case f.default.Low:return Rd.LOW_BITRATE_KBPS}}constructor(a,s,i){this.attendeeId=a,this.priority=s,this.targetSize=i!==void 0?i:f.default.High}},"VideoPreference");l.default=u,u.LOW_BITRATE_KBPS=300,u.MID_BITRATE_KBPS=600,u.HIGH_BITRATE_KBPS=1400,u.MAXIMUM_BITRATE_KBPS=1e4},hAj8:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{getAuthenticationToken(){return this.authenticationToken}toJSON(){const u={};return u.type=this.type,u.v=this.v,u.meetingId=this.meetingId,u.attendeeId=this.attendeeId,u}constructor(u,g,a,s=[]){this.type="Meet",this.v=1,this.meetingId=u,this.attendeeId=g,this.eventsToIgnore=s,this.authenticationToken=a}},"MeetingEventsClientConfiguration");l.default=S},hEYi:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SignalingClientEventType=void 0;var S;(function(f){f[f.WebSocketConnecting=0]="WebSocketConnecting",f[f.WebSocketOpen=1]="WebSocketOpen",f[f.WebSocketError=2]="WebSocketError",f[f.WebSocketClosing=3]="WebSocketClosing",f[f.WebSocketClosed=4]="WebSocketClosed",f[f.WebSocketFailed=5]="WebSocketFailed",f[f.WebSocketMessage=6]="WebSocketMessage",f[f.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",f[f.WebSocketSentMessage=8]="WebSocketSentMessage",f[f.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",f[f.ReceivedSignalFrame=10]="ReceivedSignalFrame",f[f.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(S=l.SignalingClientEventType||(l.SignalingClientEventType={})),l.default=S},hGh8:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(Mo){return Mo&&Mo.__esModule?Mo:{default:Mo}};Object.defineProperty(l,"__esModule",{value:!0}),l.DefaultEventController=l.DefaultDevicePixelRatioMonitor=l.DefaultDeviceController=l.DefaultContentShareController=l.DefaultBrowserBehavior=l.DefaultAudioVideoFacade=l.DefaultAudioVideoController=l.DefaultAudioMixController=l.DefaultActiveSpeakerPolicy=l.DefaultActiveSpeakerDetector=l.DataMessage=l.CreateSDPTask=l.CreatePeerConnectionTask=l.ContentShareMediaStreamBroker=l.ContentShareConstants=l.ConsoleLogger=l.ConnectionHealthPolicyConfiguration=l.ConnectionHealthData=l.ClientVideoStreamReceivingReport=l.ClientMetricReportMediaType=l.ClientMetricReportDirection=l.ClientMetricReport=l.CleanStoppedSessionTask=l.CleanRestartedSessionTask=l.CheckVideoInputFeedback=l.CheckVideoConnectivityFeedback=l.CheckNetworkUDPConnectivityFeedback=l.CheckNetworkTCPConnectivityFeedback=l.CheckContentShareConnectivityFeedback=l.CheckCameraResolutionFeedback=l.CheckAudioOutputFeedback=l.CheckAudioInputFeedback=l.CheckAudioConnectivityFeedback=l.CanvasVideoFrameBuffer=l.CSPMonitor=l.BitrateParameters=l.BaseTask=l.BaseConnectionHealthPolicy=l.BackgroundReplacementVideoFrameProcessor=l.BackgroundFilterVideoFrameProcessor=l.BackgroundBlurVideoFrameProcessor=l.BackgroundBlurStrength=l.AudioVideoControllerState=l.AudioProfile=l.AudioLogEvent=l.Attendee=l.AttachMediaInputTask=l.AsyncScheduler=l.ApplicationMetadata=l.AllHighestVideoBandwidthPolicy=void 0,l.MeetingReadinessCheckerConfiguration=l.MeetingFeatures=l.MeetingEventsClientConfiguration=l.MediaDeviceProxyHandler=l.Maybe=l.LogLevel=l.Log=l.ListenForVolumeIndicatorsTask=l.LeaveAndReceiveLeaveAckTask=l.JoinAndReceiveIndexTask=l.IntervalScheduler=l.InMemoryJSONEventBuffer=l.GlobalMetricReport=l.GetUserMediaError=l.FullJitterLimitedBackoff=l.FullJitterBackoffFactory=l.FullJitterBackoff=l.FinishGatheringICECandidatesTask=l.EventIngestionConfiguration=l.EventBufferConfiguration=l.DeviceSelection=l.DevicePixelRatioWindowSource=l.DefaultWebSocketAdapter=l.DefaultVolumeIndicatorAdapter=l.DefaultVideoTransformDevice=l.DefaultVideoTileFactory=l.DefaultVideoTileController=l.DefaultVideoTile=l.DefaultVideoStreamIndex=l.DefaultVideoStreamIdSet=l.DefaultVideoFrameProcessorTimer=l.DefaultVideoFrameProcessorPipeline=l.DefaultVideoCaptureAndEncodeParameter=l.DefaultUserAgentParser=l.DefaultTranscriptionController=l.DefaultTransceiverController=l.DefaultSimulcastUplinkPolicyForContentShare=l.DefaultSimulcastUplinkPolicy=l.DefaultSignalingClient=l.DefaultSigV4=l.DefaultSessionStateController=l.DefaultReconnectController=l.DefaultRealtimeController=l.DefaultPingPong=l.DefaultModality=l.DefaultMessagingSession=l.DefaultMeetingSession=l.DefaultMeetingReadinessChecker=l.DefaultMeetingEventReporter=l.DefaultMediaDeviceFactory=void 0,l.RedundantAudioEncoder=l.ReconnectionHealthPolicy=l.ReceiveVideoStreamIndexTask=l.ReceiveVideoInputTask=l.ReceiveTURNCredentialsTask=l.ReceiveRemoteVideoPauseResumeTask=l.ReceiveAudioInputTask=l.RealtimeVolumeIndicator=l.RealtimeState=l.RealtimeAttendeePositionInFrame=l.PromoteToPrimaryMeetingTask=l.PromiseQueue=l.PrefetchSortBy=l.PrefetchOn=l.PermissionDeniedError=l.ParallelGroupTask=l.POSTLogger=l.OverconstrainedError=l.OpenSignalingConnectionTask=l.OnceTask=l.NotReadableError=l.NotFoundError=l.None=l.NoVideoUplinkBandwidthPolicy=l.NoVideoDownlinkBandwidthPolicy=l.NoOpVideoFrameProcessor=l.NoOpVideoElementFactory=l.NoOpTask=l.NoOpMediaStreamBroker=l.NoOpLogger=l.NoOpEventReporter=l.NoOpDeviceController=l.NoOpDebugLogger=l.NoOpAudioVideoController=l.NScaleVideoUplinkBandwidthPolicy=l.MutableVideoPreferences=l.MultiLogger=l.MonitorTask=l.ModelSpecBuilder=l.MessagingSessionConfiguration=l.Message=l.MeetingSessionVideoAvailability=l.MeetingSessionURLs=l.MeetingSessionTURNCredentials=l.MeetingSessionStatusCode=l.MeetingSessionStatus=l.MeetingSessionLifecycleEventCondition=l.MeetingSessionLifecycleEvent=l.MeetingSessionCredentials=l.MeetingSessionConfiguration=void 0,l.VideoFxProcessor=l.VideoCodecCapability=l.VideoAdaptiveProbePolicy=l.Versioning=l.UnusableAudioWarningConnectionHealthPolicy=l.TypeError=l.TranscriptionStatusType=l.TranscriptionStatus=l.TranscriptResult=l.TranscriptLanguageWithScore=l.TranscriptItemType=l.TranscriptItem=l.TranscriptEntity=l.TranscriptAlternative=l.Transcript=l.TimeoutTask=l.TimeoutScheduler=l.TaskStatus=l.TargetDisplaySize=l.SubscribeAndReceiveSubscribeAckTask=l.StreamMetricReport=l.Some=l.SingleNodeAudioTransformDevice=l.SimulcastVideoStreamIndex=l.SimulcastTransceiverController=l.SimulcastLayers=l.SimulcastContentShareTransceiverController=l.SignalingClientVideoSubscriptionConfiguration=l.SignalingClientSubscribe=l.SignalingClientJoin=l.SignalingClientEventType=l.SignalingClientEvent=l.SignalingClientConnectionRequest=l.SignalingAndMetricsConnectionMonitor=l.SetRemoteDescriptionTask=l.SetLocalDescriptionTask=l.SessionStateControllerTransitionResult=l.SessionStateControllerState=l.SessionStateControllerDeferPriority=l.SessionStateControllerAction=l.ServerSideNetworkAdaption=l.SerialGroupTask=l.SendingAudioFailureConnectionHealthPolicy=l.SendAndReceiveDataMessagesTask=l.SDPMediaSection=l.SDPCandidateType=l.SDP=l.RunnableTask=l.RedundantAudioRecoveryMetricReport=l.RedundantAudioEncoderWorkerCode=void 0,l.isVideoTransformDevice=l.isDestroyable=l.isAudioTransformDevice=l.ZLIBTextCompressor=l.WebSocketReadyState=l.WaitForAttendeePresenceTask=l.VoiceFocusTransformDevice=l.VoiceFocusDeviceTransformer=l.VideoTileState=l.VideoStreamDescription=l.VideoSource=l.VideoQualitySettings=l.VideoQualityAdaptationPreference=l.VideoPriorityBasedPolicyConfig=l.VideoPriorityBasedPolicy=l.VideoPreferences=l.VideoPreference=l.VideoOnlyTransceiverController=l.VideoLogEvent=void 0;const f=S(h("nYR4"));l.AllHighestVideoBandwidthPolicy=f.default;const u=S(h("9BEE"));l.ApplicationMetadata=u.default;const g=S(h("6/h7"));l.AsyncScheduler=g.default;const a=S(h("5ViG"));l.AttachMediaInputTask=a.default;const s=S(h("g+gC"));l.Attendee=s.default;const i=S(h("J+fJ"));l.AudioLogEvent=i.default;const e=S(h("SO8M"));l.AudioProfile=e.default;const t=S(h("rEUf"));l.AudioVideoControllerState=t.default;const n=S(h("vjEy"));l.BackgroundBlurStrength=n.default;const r=S(h("YH3u"));l.BackgroundBlurVideoFrameProcessor=r.default;const c=S(h("ywpn"));l.BackgroundFilterVideoFrameProcessor=c.default;const p=S(h("Agw+"));l.BackgroundReplacementVideoFrameProcessor=p.default;const m=S(h("ghxq"));l.BaseConnectionHealthPolicy=m.default;const d=S(h("aVV0"));l.BaseTask=d.default;const y=S(h("GxrV"));l.BitrateParameters=y.default;const E=S(h("Q8+J"));l.CSPMonitor=E.default;const w=S(h("KsuK"));l.CanvasVideoFrameBuffer=w.default;const k=S(h("Yvks"));l.CheckAudioConnectivityFeedback=k.default;const V=S(h("jmx1"));l.CheckAudioInputFeedback=V.default;const N=S(h("zN22"));l.CheckAudioOutputFeedback=N.default;const F=S(h("CPHI"));l.CheckCameraResolutionFeedback=F.default;const P=S(h("2Bsk"));l.CheckContentShareConnectivityFeedback=P.default;const B=S(h("aSsB"));l.CheckNetworkTCPConnectivityFeedback=B.default;const O=S(h("kph0"));l.CheckNetworkUDPConnectivityFeedback=O.default;const R=S(h("SdmA"));l.CheckVideoConnectivityFeedback=R.default;const D=S(h("NFcc"));l.CheckVideoInputFeedback=D.default;const J=S(h("yMiq"));l.CleanRestartedSessionTask=J.default;const X=S(h("teem"));l.CleanStoppedSessionTask=X.default;const $=S(h("uCvS"));l.ClientMetricReport=$.default;const he=S(h("LmyK"));l.ClientMetricReportDirection=he.default;const Ee=S(h("mpmV"));l.ClientMetricReportMediaType=Ee.default;const ke=S(h("ya0l"));l.ClientVideoStreamReceivingReport=ke.default;const ve=S(h("RfPO"));l.ConnectionHealthData=ve.default;const Be=S(h("wR/T"));l.ConnectionHealthPolicyConfiguration=Be.default;const pt=S(h("e/ca"));l.ConsoleLogger=pt.default;const Ve=S(h("34ho"));l.ContentShareConstants=Ve.default;const bt=S(h("Lrln"));l.ContentShareMediaStreamBroker=bt.default;const lt=S(h("Fyq9"));l.CreatePeerConnectionTask=lt.default;const mt=S(h("7W6Z"));l.CreateSDPTask=mt.default;const xt=S(h("CtrA"));l.DataMessage=xt.default;const at=S(h("1Cbm"));l.DefaultActiveSpeakerDetector=at.default;const Mt=S(h("UIXl"));l.DefaultActiveSpeakerPolicy=Mt.default;const kt=S(h("WHnE"));l.DefaultAudioMixController=kt.default;const Xe=S(h("2nae"));l.DefaultAudioVideoController=Xe.default;const on=S(h("HLgz"));l.DefaultAudioVideoFacade=on.default;const Wn=S(h("Sa54"));l.DefaultBrowserBehavior=Wn.default;const _n=S(h("0NFC"));l.DefaultContentShareController=_n.default;const On=S(h("RUbL"));l.DefaultDeviceController=On.default;const Xn=S(h("t9Fz"));l.DefaultDevicePixelRatioMonitor=Xn.default;const ci=S(h("eeYi"));l.DefaultEventController=ci.default;const Qn=S(h("Y8b2"));l.DefaultMediaDeviceFactory=Qn.default;const Kn=S(h("MFJ1"));l.DefaultMeetingEventReporter=Kn.default;const Ki=S(h("yx2K"));l.DefaultMeetingReadinessChecker=Ki.default;const ui=S(h("yvTz"));l.DefaultMeetingSession=ui.default;const Fi=S(h("JJ3a"));l.DefaultMessagingSession=Fi.default;const zi=S(h("bTau"));l.DefaultModality=zi.default;const qt=S(h("ML5K"));l.DefaultPingPong=qt.default;const Tn=S(h("gTDO"));l.DefaultRealtimeController=Tn.default;const vn=S(h("ULlC"));l.DefaultReconnectController=vn.default;const Ot=S(h("9ETa"));l.DefaultSessionStateController=Ot.default;const bn=S(h("PsbS"));l.DefaultSigV4=bn.default;const Lt=S(h("jP1N"));l.DefaultSignalingClient=Lt.default;const jn=S(h("LUct"));l.DefaultSimulcastUplinkPolicy=jn.default;const Xi=S(h("NWIo"));l.DefaultSimulcastUplinkPolicyForContentShare=Xi.default;const Gn=S(h("IBi3"));l.DefaultTransceiverController=Gn.default;const Ti=S(h("qvnc"));l.DefaultTranscriptionController=Ti.default;const Tr=S(h("X3Fi"));l.DefaultUserAgentParser=Tr.default;const er=S(h("XJrD"));l.DefaultVideoCaptureAndEncodeParameter=er.default;const cr=S(h("3zlU"));l.DefaultVideoFrameProcessorPipeline=cr.default;const fi=S(h("EkGV"));l.DefaultVideoFrameProcessorTimer=fi.default;const Wi=S(h("Zkgh"));l.DefaultVideoStreamIdSet=Wi.default;const Zn=S(h("ldli"));l.DefaultVideoStreamIndex=Zn.default;const Re=S(h("JTre"));l.DefaultVideoTile=Re.default;const Ce=S(h("+D+n"));l.DefaultVideoTileController=Ce.default;const _e=S(h("rcF0"));l.DefaultVideoTileFactory=_e.default;const et=S(h("FxSh"));l.DefaultVideoTransformDevice=et.default;const tt=S(h("P3Bx"));l.DefaultVolumeIndicatorAdapter=tt.default;const ht=S(h("jHTc"));l.DefaultWebSocketAdapter=ht.default;const gt=S(h("QzVx"));l.DevicePixelRatioWindowSource=gt.default;const zt=S(h("DbLV"));l.DeviceSelection=zt.default;const cn=S(h("8FET"));l.EventBufferConfiguration=cn.default;const sn=S(h("Y2s1"));l.EventIngestionConfiguration=sn.default;const Qt=S(h("N9oo"));l.FinishGatheringICECandidatesTask=Qt.default;const Vi=S(h("Np2I"));l.FullJitterBackoff=Vi.default;const Ci=S(h("mcAb"));l.FullJitterBackoffFactory=Ci.default;const gr=S(h("5/Tg"));l.FullJitterLimitedBackoff=gr.default;const tr=S(h("xzjI"));l.GetUserMediaError=tr.default;const Si=S(h("2oFa"));l.GlobalMetricReport=Si.default;const Ir=S(h("3EKQ"));l.InMemoryJSONEventBuffer=Ir.default;const ai=S(h("8wPz"));l.IntervalScheduler=ai.default;const lr=S(h("xJ9D"));l.JoinAndReceiveIndexTask=lr.default;const ti=S(h("FCN7"));l.LeaveAndReceiveLeaveAckTask=ti.default;const wr=S(h("curu"));l.ListenForVolumeIndicatorsTask=wr.default;const Qi=S(h("91j7"));l.Log=Qi.default;const Ur=S(h("uctb"));l.LogLevel=Ur.default;const Ar=S(h("tK6J"));l.MediaDeviceProxyHandler=Ar.default;const Zi=S(h("hAj8"));l.MeetingEventsClientConfiguration=Zi.default;const io=S(h("v9PG"));l.MeetingFeatures=io.default;const yt=S(h("+7ft"));l.MeetingReadinessCheckerConfiguration=yt.default;const ot=S(h("/U1e"));l.MeetingSessionConfiguration=ot.default;const ln=S(h("a16/"));l.MeetingSessionCredentials=ln.default;const Gt=S(h("tcc5"));l.MeetingSessionLifecycleEvent=Gt.default;const In=S(h("dPBs"));l.MeetingSessionLifecycleEventCondition=In.default;const Jn=S(h("6Bxv"));l.MeetingSessionStatus=Jn.default;const z=S(h("lUhs"));l.MeetingSessionStatusCode=z.default;const ce=S(h("V5IF"));l.MeetingSessionTURNCredentials=ce.default;const Me=S(h("iNgN"));l.MeetingSessionURLs=Me.default;const Ne=S(h("v8aG"));l.MeetingSessionVideoAvailability=Ne.default;const Ke=S(h("evlv"));l.Message=Ke.default;const vt=S(h("i+zQ"));l.MessagingSessionConfiguration=vt.default;const Et=S(h("J93s"));l.ModelSpecBuilder=Et.default;const Tt=S(h("3Ft5"));l.MonitorTask=Tt.default;const $e=S(h("h4op"));l.MultiLogger=$e.default;const At=S(h("hhlX"));l.NScaleVideoUplinkBandwidthPolicy=At.default;const Dt=S(h("Jsna"));l.NoOpAudioVideoController=Dt.default;const wn=S(h("ir/0"));l.NoOpDebugLogger=wn.default;const fn=S(h("zNm1"));l.NoOpDeviceController=fn.default;const Un=S(h("Ni8D"));l.NoOpEventReporter=Un.default;const li=S(h("2y31"));l.NoOpLogger=li.default;const Mi=S(h("r9Lw"));l.NoOpMediaStreamBroker=Mi.default;const Ai=S(h("Nzn3"));l.NoOpTask=Ai.default;const hi=S(h("ukPp"));l.NoOpVideoElementFactory=hi.default;const pi=S(h("Wjms"));l.NoOpVideoFrameProcessor=pi.default;const yn=S(h("otBB"));l.NoVideoDownlinkBandwidthPolicy=yn.default;const ji=S(h("DcUe"));l.NoVideoUplinkBandwidthPolicy=ji.default;const Ui=S(h("B7cK"));l.NotFoundError=Ui.default;const Hi=S(h("UW8m"));l.NotReadableError=Hi.default;const Or=S(h("V3UW"));l.OnceTask=Or.default;const Ii=S(h("mjQB"));l.OpenSignalingConnectionTask=Ii.default;const Sr=S(h("XhYu"));l.OverconstrainedError=Sr.default;const qn=S(h("e2MG"));l.POSTLogger=qn.default;const vi=S(h("mv1L"));l.ParallelGroupTask=vi.default;const mi=S(h("V4cD"));l.PermissionDeniedError=mi.default;const _i=S(h("p3mT"));l.PrefetchOn=_i.default;const Yn=S(h("Oxpw"));l.PrefetchSortBy=Yn.default;const Ut=S(h("o13v"));l.PromiseQueue=Ut.default;const nr=S(h("LNXf"));l.PromoteToPrimaryMeetingTask=nr.default;const Bs=S(h("rbNI"));l.RealtimeAttendeePositionInFrame=Bs.default;const Qr=S(h("TYXu"));l.RealtimeState=Qr.default;const dr=S(h("ZIUS"));l.RealtimeVolumeIndicator=dr.default;const Zr=S(h("LhvI"));l.ReceiveAudioInputTask=Zr.default;const qr=S(h("WRer"));l.ReceiveRemoteVideoPauseResumeTask=qr.default;const ur=S(h("cizm"));l.ReceiveTURNCredentialsTask=ur.default;const Fs=S(h("5z6C"));l.ReceiveVideoInputTask=Fs.default;const Vs=S(h("1J7j"));l.ReceiveVideoStreamIndexTask=Vs.default;const Li=S(h("kItj"));l.ReconnectionHealthPolicy=Li.default;const Pr=S(h("aNtF"));l.RedundantAudioEncoder=Pr.default;const xo=S(h("i2nt"));l.RedundantAudioEncoderWorkerCode=xo.default;const Us=S(h("Xf/8"));l.RedundantAudioRecoveryMetricReport=Us.default;const $r=S(h("2q7c"));l.RunnableTask=$r.default;const So=S(h("AUdx"));l.SDP=So.default;const ao=S(h("0YRd"));l.SDPCandidateType=ao.default;const Bo=S(h("Iwfh"));l.SDPMediaSection=Bo.default;const vs=S(h("0jNb"));l.SendAndReceiveDataMessagesTask=vs.default;const ys=S(h("LuEC"));l.SendingAudioFailureConnectionHealthPolicy=ys.default;const qo=S(h("8tla"));l.SerialGroupTask=qo.default;const bs=S(h("DUgj"));l.ServerSideNetworkAdaption=bs.default;const Cs=S(h("JHsX"));l.SessionStateControllerAction=Cs.default;const lo=S(h("hWev"));l.SessionStateControllerDeferPriority=lo.default;const eo=S(h("I0Bj"));l.SessionStateControllerState=eo.default;const ro=S(h("87Nr"));l.SessionStateControllerTransitionResult=ro.default;const co=S(h("ohOv"));l.SetLocalDescriptionTask=co.default;const vo=S(h("CRwe"));l.SetRemoteDescriptionTask=vo.default;const yo=S(h("8dVZ"));l.SignalingAndMetricsConnectionMonitor=yo.default;const Fo=S(h("5rM1"));l.SignalingClientConnectionRequest=Fo.default;const es=S(h("fGw7"));l.SignalingClientEvent=es.default;const vr=S(h("hEYi"));l.SignalingClientEventType=vr.default;const ts=S(h("COTZ"));l.SignalingClientJoin=ts.default;const Es=S(h("iFpF"));l.SignalingClientSubscribe=Es.default;const ns=S(h("/sFY"));l.SignalingClientVideoSubscriptionConfiguration=ns.default;const Kr=S(h("riOr"));l.SimulcastContentShareTransceiverController=Kr.default;const Vo=S(h("H7ma"));l.SimulcastLayers=Vo.default;const _r=S(h("OND3"));l.SimulcastTransceiverController=_r.default;const uo=S(h("nq15"));l.SimulcastVideoStreamIndex=uo.default;const fo=S(h("0Kz9"));l.SingleNodeAudioTransformDevice=fo.default;const Uo=S(h("NE7a"));l.StreamMetricReport=Uo.default;const oo=S(h("ZPwG"));l.SubscribeAndReceiveSubscribeAckTask=oo.default;const Hr=S(h("Lspx"));l.TargetDisplaySize=Hr.default;const bo=S(h("Sl5A"));l.TaskStatus=bo.default;const Co=S(h("yQ3g"));l.TimeoutScheduler=Co.default;const zr=S(h("L+i+"));l.TimeoutTask=zr.default;const ho=S(h("7nob"));l.Transcript=ho.default;const Ho=S(h("JMN+"));l.TranscriptAlternative=Ho.default;const Ts=S(h("2xSc"));l.TranscriptEntity=Ts.default;const Hs=S(h("Ol9i"));l.TranscriptItem=Hs.default;const kr=S(h("VWEK"));l.TranscriptItemType=kr.default;const is=S(h("SM5d"));l.TranscriptLanguageWithScore=is.default;const Wr=S(h("5rZr"));l.TranscriptResult=Wr.default;const zs=S(h("VoiG"));l.TranscriptionStatus=zs.default;const Ws=S(h("h4LR"));l.TranscriptionStatusType=Ws.default;const Jr=S(h("SgmS"));l.TypeError=Jr.default;const Eo=S(h("pCf5"));l.UnusableAudioWarningConnectionHealthPolicy=Eo.default;const rs=S(h("59sL"));l.Versioning=rs.default;const zo=S(h("5mR7"));l.VideoAdaptiveProbePolicy=zo.default;const Is=S(h("CLOt"));l.VideoCodecCapability=Is.default;const ir=S(h("rLvK"));l.VideoFxProcessor=ir.default;const Wo=S(h("DG83"));l.VideoLogEvent=Wo.default;const To=S(h("NUAg"));l.VideoOnlyTransceiverController=To.default;const os=S(h("uaNU"));l.VideoPreference=os.default;const ws=S(h("P7D+"));l.VideoPreferences=ws.default;const Yr=S(h("knPd"));l.VideoPriorityBasedPolicy=Yr.default;const js=S(h("J1op"));l.VideoPriorityBasedPolicyConfig=js.default;const jo=S(h("NBIk"));l.VideoQualityAdaptationPreference=jo.default;const fr=S(h("dWQL"));l.VideoQualitySettings=fr.default;const Go=S(h("aqWb"));l.VideoSource=Go.default;const ss=S(h("MhWp"));l.VideoStreamDescription=ss.default;const as=S(h("5mqp"));l.VideoTileState=as.default;const $o=S(h("6JeQ"));l.VoiceFocusDeviceTransformer=$o.default;const Io=S(h("25+x"));l.VoiceFocusTransformDevice=Io.default;const wo=S(h("yqyw"));l.WaitForAttendeePresenceTask=wo.default;const ls=S(h("4EN+"));l.WebSocketReadyState=ls.default;const ds=S(h("MelK"));l.ZLIBTextCompressor=ds.default;const Xr=h("P7D+");Object.defineProperty(l,"MutableVideoPreferences",{enumerable:!0,get:function(){return Xr.MutableVideoPreferences}});const to=h("KyYT");Object.defineProperty(l,"Some",{enumerable:!0,get:function(){return to.Some}}),Object.defineProperty(l,"None",{enumerable:!0,get:function(){return to.None}}),Object.defineProperty(l,"Maybe",{enumerable:!0,get:function(){return to.Maybe}});const jr=h("NDMw");Object.defineProperty(l,"isAudioTransformDevice",{enumerable:!0,get:function(){return jr.isAudioTransformDevice}});const Gs=h("rwhO");Object.defineProperty(l,"isDestroyable",{enumerable:!0,get:function(){return Gs.isDestroyable}});const Oo=h("dWP+");Object.defineProperty(l,"isVideoTransformDevice",{enumerable:!0,get:function(){return Oo.isVideoTransformDevice}})},hWev:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerDeferPriority=void 0;var S;(function(f){f[f.DoNotDefer=0]="DoNotDefer",f[f.Low=1]="Low",f[f.Medium=2]="Medium",f[f.High=3]="High",f[f.VeryHigh=4]="VeryHigh"})(S=l.SessionStateControllerDeferPriority||(l.SessionStateControllerDeferPriority={})),l.default=S},hhlX:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("XJrD"));let g=o(class Ad{reset(){this.numberOfPublishedVideoSources=void 0,this.optimalParameters=new u.default(0,0,0,0,!1),this.parametersInEffect=new u.default(0,0,0,0,!1),this.encodingParamMap.set(Ad.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(s){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(s){var i;let e=!0;this.transceiverController&&(e=this.transceiverController.hasVideoInput());const t=s.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(e?1:0),n=s.numberOfParticipants();if(this.numParticipants===n&&this.numberOfPublishedVideoSources===t){(i=this.logger)===null||i===void 0||i.debug("Skipping update index; Number of participants has not changed");return}this.numberOfPublishedVideoSources=t,this.numParticipants=n,this.updateOptimalParameters()}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}updateOptimalParameters(){let s=1;if(this.transceiverController){const i=this.getStreamCaptureSetting();i&&(s=this.calculateEncodingParameters(i).scaleResolutionDownBy)}this.optimalParameters=new u.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,s,this.enableSVC&&this.numParticipants>2&&this.isUsingSVCCodec)}captureWidth(){let s=640;return this.getNumberOfPublishedVideoSources()>4&&(s=320),s}captureHeight(){let s=384;return this.getNumberOfPublishedVideoSources()>4&&(s=192),s}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let s=0;return this.getNumberOfPublishedVideoSources()<=2?s=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?s=this.idealMaxBandwidthKbps*2/3:s=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(s)}setIdealMaxBandwidthKbps(s){this.idealMaxBandwidthKbps=s}setHasBandwidthPriority(s){this.hasBandwidthPriority=s}setTransceiverController(s){this.transceiverController=s}setSVCEnabled(s){var i;this.enableSVC=s,(i=this.logger)===null||i===void 0||i.info(`setSVCEnabled, enable: ${s}}`)}setHighResolutionFeatureEnabled(s){this.enableHighResolutionFeature=s}updateTransceiverController(){return S(this,void 0,void 0,function*(){const s=this.getStreamCaptureSetting();if(!s)return;const i=this.calculateEncodingParameters(s);this.shouldUpdateEndcodingParameters(i)&&(this.encodingParamMap.set(Ad.encodingMapKey,i),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(s){var i,e;const t=(e=(i=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||i===void 0?void 0:i.encodings)===null||e===void 0?void 0:e[0];return s.maxBitrate!==(t==null?void 0:t.maxBitrate)||s.scaleResolutionDownBy!==(t==null?void 0:t.scaleResolutionDownBy)||(s==null?void 0:s.scalabilityMode)!==(t==null?void 0:t.scalabilityMode)}calculateEncodingParameters(s){var i,e,t;const n=this.maxBandwidthKbps()*1e3;let r=1,c=720;if(s.height!==void 0&&s.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2&&(c=Ad.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),Ad.targetHeightArray.length-1)][this.enableHighResolutionFeature?1:0],c===480&&(!((i=this.browserBehavior)===null||i===void 0)&&i.disable480pResolutionScaleDown())&&(c=360),r=Math.max(Math.min(s.height,s.width)/c,1),(e=this.logger)===null||e===void 0||e.info(`Resolution scale factor is ${r} for capture resolution ${s.width}x${s.height}. New dimension is ${s.width/r}x${s.height/r}`)),this.enableSVC){let p;return this.numParticipants>=0&&this.numParticipants<3||!this.isUsingSVCCodec?p="L1T1":p=c>=720?"L3T3":c>=360?"L2T3":"L1T3",(t=this.logger)===null||t===void 0||t.info(`calculateEncodingParameters: SVC: ${this.enableSVC}    participants: ${this.numParticipants}     publishers: ${this.getNumberOfPublishedVideoSources()}     bitrate: ${n}  targetHeight: ${c}  scalabilityMode: ${p}   isUsingSVCCodec: ${this.isUsingSVCCodec}`),{scaleResolutionDownBy:r,maxBitrate:n,scalabilityMode:p}}else return{scaleResolutionDownBy:r,maxBitrate:n}}getStreamCaptureSetting(){var s,i,e,t;return(t=(e=(i=(s=this.transceiverController)===null||s===void 0?void 0:s.localVideoTransceiver())===null||i===void 0?void 0:i.sender)===null||e===void 0?void 0:e.track)===null||t===void 0?void 0:t.getSettings()}getNumberOfPublishedVideoSources(){var s;return(s=this.numberOfPublishedVideoSources)!==null&&s!==void 0?s:0}wantsVideoDependencyDescriptorRtpHeaderExtension(){return this.enableSVC}setMeetingSupportedVideoSendCodecs(s,i){const e=s??i,t=e.length>0&&Ad.SVCCodecNames.includes(e[0].codecName);t!==this.isUsingSVCCodec&&(this.isUsingSVCCodec=t,this.updateOptimalParameters())}constructor(s,i=!0,e=void 0,t=void 0){this.selfAttendeeId=s,this.scaleResolution=i,this.logger=e,this.browserBehavior=t,this.numberOfPublishedVideoSources=void 0,this.idealMaxBandwidthKbps=1500,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.enableHighResolutionFeature=!1,this.enableSVC=!1,this.isUsingSVCCodec=!0,this.numParticipants=0,this.reset()}},"NScaleVideoUplinkBandwidthPolicy");l.default=g,g.encodingMapKey="video",g.targetHeightArray=[[0,0],[0,0],[0,0],[540,720],[540,720],[480,540],[480,540],[480,540],[480,540],[360,480],[360,480],[360,480],[360,480],[270,360],[270,360],[270,360],[270,360],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270]],g.SVCCodecNames=["VP9"]},hl97:function(j,l,h){"use strict";j.exports=t;var S=h("kU+7"),f,u=S.LongBits,g=S.base64,a=S.utf8;function s(E,w,k){this.fn=E,this.len=w,this.next=void 0,this.val=k}o(s,"Op");function i(){}o(i,"noop");function e(E){this.head=E.head,this.tail=E.tail,this.len=E.len,this.next=E.states}o(e,"State");function t(){this.len=0,this.head=new s(i,0,0),this.tail=this.head,this.states=null}o(t,"Writer");var n=o(function(){return S.Buffer?o(function(){return(t.create=o(function(){return new f},"create_buffer"))()},"create_buffer_setup"):o(function(){return new t},"create_array")},"create");t.create=n(),t.alloc=o(function(w){return new S.Array(w)},"alloc"),S.Array!==Array&&(t.alloc=S.pool(t.alloc,S.Array.prototype.subarray)),t.prototype._push=o(function(w,k,V){return this.tail=this.tail.next=new s(w,k,V),this.len+=k,this},"push");function r(E,w,k){w[k]=E&255}o(r,"writeByte");function c(E,w,k){for(;E>127;)w[k++]=E&127|128,E>>>=7;w[k]=E}o(c,"writeVarint32");function p(E,w){this.len=E,this.next=void 0,this.val=w}o(p,"VarintOp"),p.prototype=Object.create(s.prototype),p.prototype.fn=c,t.prototype.uint32=o(function(w){return this.len+=(this.tail=this.tail.next=new p((w=w>>>0)<128?1:w<16384?2:w<2097152?3:w<268435456?4:5,w)).len,this},"write_uint32"),t.prototype.int32=o(function(w){return w<0?this._push(m,10,u.fromNumber(w)):this.uint32(w)},"write_int32"),t.prototype.sint32=o(function(w){return this.uint32((w<<1^w>>31)>>>0)},"write_sint32");function m(E,w,k){for(;E.hi;)w[k++]=E.lo&127|128,E.lo=(E.lo>>>7|E.hi<<25)>>>0,E.hi>>>=7;for(;E.lo>127;)w[k++]=E.lo&127|128,E.lo=E.lo>>>7;w[k++]=E.lo}o(m,"writeVarint64"),t.prototype.uint64=o(function(w){var k=u.from(w);return this._push(m,k.length(),k)},"write_uint64"),t.prototype.int64=t.prototype.uint64,t.prototype.sint64=o(function(w){var k=u.from(w).zzEncode();return this._push(m,k.length(),k)},"write_sint64"),t.prototype.bool=o(function(w){return this._push(r,1,w?1:0)},"write_bool");function d(E,w,k){w[k]=E&255,w[k+1]=E>>>8&255,w[k+2]=E>>>16&255,w[k+3]=E>>>24}o(d,"writeFixed32"),t.prototype.fixed32=o(function(w){return this._push(d,4,w>>>0)},"write_fixed32"),t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=o(function(w){var k=u.from(w);return this._push(d,4,k.lo)._push(d,4,k.hi)},"write_fixed64"),t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=o(function(w){return this._push(S.float.writeFloatLE,4,w)},"write_float"),t.prototype.double=o(function(w){return this._push(S.float.writeDoubleLE,8,w)},"write_double");var y=S.Array.prototype.set?o(function(w,k,V){k.set(w,V)},"writeBytes_set"):o(function(w,k,V){for(var N=0;N<w.length;++N)k[V+N]=w[N]},"writeBytes_for");t.prototype.bytes=o(function(w){var k=w.length>>>0;if(!k)return this._push(r,1,0);if(S.isString(w)){var V=t.alloc(k=g.length(w));g.decode(w,V,0),w=V}return this.uint32(k)._push(y,k,w)},"write_bytes"),t.prototype.string=o(function(w){var k=a.length(w);return k?this.uint32(k)._push(a.write,k,w):this._push(r,1,0)},"write_string"),t.prototype.fork=o(function(){return this.states=new e(this),this.head=this.tail=new s(i,0,0),this.len=0,this},"fork"),t.prototype.reset=o(function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(i,0,0),this.len=0),this},"reset"),t.prototype.ldelim=o(function(){var w=this.head,k=this.tail,V=this.len;return this.reset().uint32(V),V&&(this.tail.next=w.next,this.tail=k,this.len+=V),this},"ldelim"),t.prototype.finish=o(function(){for(var w=this.head.next,k=this.constructor.alloc(this.len),V=0;w;)w.fn(w.val,k,V),V+=w.len,w=w.next;return k},"finish"),t._configure=function(E){f=E,t.create=n(),f._configure()}},hlxM:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(d,y,E,w){function k(V){return V instanceof E?V:new E(function(N){N(V)})}return o(k,"adopt"),new(E||(E=Promise))(function(V,N){function F(O){try{B(w.next(O))}catch(R){N(R)}}o(F,"fulfilled");function P(O){try{B(w.throw(O))}catch(R){N(R)}}o(P,"rejected");function B(O){O.done?V(O.value):k(O.value).then(F,P)}o(B,"step"),B((w=w.apply(d,y||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.isOldChrome=l.supportsWASMStreaming=l.supportsSharedArrayBuffer=l.supportsWASM=l.supportsAudioWorklet=l.supportsWorker=l.supportsVoiceFocusWorker=l.supportsWASMPostMessage=l.isSafari=void 0;const f=h("GEtQ"),u=o(function(){return!!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/)},"isChrome"),g=o(function(){const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent,E=y.match(/Safari\//),w=y.match(/Chrom(?:e|ium)\//);return!!(E&&!w)},"isSafari");l.isSafari=g;const a=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;return l.isSafari(d)?!1:u(d)?(p(d)||0)<95:!0},"supportsWASMPostMessage");l.supportsWASMPostMessage=a;const s=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0,E=arguments.length>2?arguments[2]:void 0;return S(void 0,void 0,void 0,function*(){if(!l.supportsWorker(d,E))return!1;const w=`${y.paths.workers}worker-v1.js`;try{const k=yield f.loadWorker(w,"VoiceFocusTestWorker",y,E);try{k.terminate()}catch(V){E==null||E.debug("Failed to terminate worker.",V)}return!0}catch(k){return E==null||E.info("Failed to fetch and instantiate test worker",k),!1}})},"supportsVoiceFocusWorker");l.supportsVoiceFocusWorker=s;const i=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;try{return!!d.Worker}catch(E){return y==null||y.info("Does not support Worker",E),!1}},"supportsWorker");l.supportsWorker=i;const e=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;try{return!!d.AudioWorklet&&!!d.AudioWorkletNode}catch(E){return y==null||y.info("Does not support Audio Worklet",E),!1}},"supportsAudioWorklet");l.supportsAudioWorklet=e;const t=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;try{return!!d.WebAssembly&&(!!d.WebAssembly.compile||!!d.WebAssembly.compileStreaming)}catch(E){return y==null||y.info("Does not support WASM",E),!1}},"supportsWASM");l.supportsWASM=t;const n=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:globalThis,E=arguments.length>2?arguments[2]:void 0;try{return!!d.SharedArrayBuffer&&(!!y.chrome||!!d.crossOriginIsolated)}catch{return E==null||E.info("Does not support SharedArrayBuffer."),!1}},"supportsSharedArrayBuffer");l.supportsSharedArrayBuffer=n;const r=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;var E;try{return!!(!((E=d.WebAssembly)===null||E===void 0)&&E.compileStreaming)}catch(w){return y==null||y.info("Does not support WASM streaming compilation",w),!1}},"supportsWASMStreaming");l.supportsWASMStreaming=r;const c=90,p=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;try{if(!d.chrome)return}catch{}const y=d.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(y)return parseInt(y[1],10)},"chromeVersion"),m=o(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,y=arguments.length>1?arguments[1]:void 0;const E=p(d);return E&&E<c?(y==null||y.debug(`Chrome ${E} has incomplete SIMD support.`),!0):!1},"isOldChrome");l.isOldChrome=m},hrQK:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("jG7n")),g=h("gLI0"),a=f(h("FKpq"));let s=o(class extends u.default{validateOptions(e){if(super.validateOptions(e),!e.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:r,targetCanvas:c}=this,{width:p,height:m}=c;r.save(),r.clearRect(0,0,p,m),r.drawImage(this.scaledCanvas,0,0,p,m),r.globalCompositeOperation="source-in",r.drawImage(e,0,0,p,m),r.globalCompositeOperation="destination-over",r.filter=`blur(${this.blurAmount}px)`,r.drawImage(e,0,0,c.width,c.height),r.restore()}setBlurStrength(e){this._blurStrength=e,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=g.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}static isSupported(){return S(this,void 0,void 0,function*(){const e=document.createElement("canvas"),t=e.getContext("2d").filter!==void 0;return e.remove(),t})}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const e={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}constructor(e,t){super("background blur",e,t,new a.default),this.blurAmount=0,this.setBlurStrength(t.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: ${this.stringify(t)}`)}},"BackgroundBlurProcessorProvided");l.default=s},hspq:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(e,t,n,r){function c(p){return p instanceof n?p:new n(function(m){m(p)})}return o(c,"adopt"),new(n||(n=Promise))(function(p,m){function d(w){try{E(r.next(w))}catch(k){m(k)}}o(d,"fulfilled");function y(w){try{E(r.throw(w))}catch(k){m(k)}}o(y,"rejected");function E(w){w.done?p(w.value):c(w.value).then(d,y)}o(E,"step"),E((r=r.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("tA0R"),g=f(h("HbHZ")),a=h("XCDq"),s=f(h("j+uH"));let i=o(class extends s.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new u.MeetingSessionStatus(u.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((t,n)=>{let r=o(class{cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new u.MeetingSessionStatus(u.MeetingSessionStatusCode.SignalingRequestFailed)),t()}handleSignalingClientEvent(m){m.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new u.MeetingSessionStatus(u.MeetingSessionStatusCode.SignalingRequestFailed)),t()),m.type===g.default.ReceivedSignalFrame&&m.message.type===a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(u.MeetingSessionStatus.fromSignalFrame(m.message)),t())}constructor(m,d,y){this.signalingClient=m,this.completionCallback=d,this.logger=y}},"Interceptor");const c=new r(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=c,this.context.signalingClient.registerObserver(c)})}constructor(t,n,r){super(t.logger),this.context=t,this.credentials=n,this.completionCallback=r,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}},"PromoteToPrimaryMeetingTask");l.default=i},hxn6:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(k,V,N,F){function P(B){return B instanceof N?B:new N(function(O){O(B)})}return o(P,"adopt"),new(N||(N=Promise))(function(B,O){function R(X){try{J(F.next(X))}catch($){O($)}}o(R,"fulfilled");function D(X){try{J(F.throw(X))}catch($){O($)}}o(D,"rejected");function J(X){X.done?B(X.value):P(X.value).then(R,D)}o(J,"step"),J((F=F.apply(k,V||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.decideModel=l.measureAndDecideExecutionApproach=void 0;const f=h("EkyC"),u=h("KvYa"),g=3,a=2.5,s=2.63,i=.6,e=.65,t=.5,n=.7,r={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};let c=o(class{roundtrip(V,N,F){return new Promise((P,B)=>{this.worker.then(O=>{let R;R=o(D=>{const{message:J,key:X}=D.data;J===N&&X===F&&(O.removeEventListener("message",R),P(D.data))},"listener"),O.addEventListener("message",R),O.postMessage(V)}).catch(O=>{var R;(R=this.logger)===null||R===void 0||R.error("Failed to load worker.",O),B(O)})})}supportsSIMD(V){const N="simd",F=V||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,P={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:F,key:N};return this.roundtrip(P,"simd-support",N).then(B=>B.supports)}measure(V,N){const F=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,P=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,B=V?P:F,O=`bench:${V}`,R={message:"measure",fetchBehavior:this.fetchBehavior,budget:N,path:B,key:O};return this.roundtrip(R,"measurement",O).then(D=>{if(D.measurement)return D.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(V=>{var N;(N=this.logger)===null||N===void 0||N.debug("Stopping estimator worker."),V.terminate()}).catch(V=>{})}constructor(V,N){this.fetchConfig=V,this.logger=N;const F=`${V.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:V.headers,escapedQueryString:V.escapedQueryString},this.worker=f.loadWorker(F,"VoiceFocusEstimator",this.fetchBehavior,N)}},"Estimator");const p=o((k,V)=>k===1?i:V==="quality"?e*k:t*k,"inlineScoreMultiplier"),m=o(function(k){let{supportsSIMD:V,supportsSAB:N,duration:F,executionPreference:P="auto",simdPreference:B,variantPreference:O="auto",namePreference:R="default",usagePreference:D,executionQuantaPreference:J=g}=k,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,$=arguments.length>2?arguments[2]:void 0;const Ee=B==="force"||B!=="disable"&&V,ke=F!==-1,ve=ke?(Ee?a:s)/F:0,Be=Ee?X.simd:X.wasm,pt=ke?p(J,D)*ve:0,Ve=ke?n*ve:0,bt=R,lt=o(Mt=>({supported:!1,reason:Mt}),"unsupported");if(ke){if(ve<Be.noSupport)return lt(`Performance score ${ve} worse than threshold ${Be.noSupport}.`)}else if(P==="auto"||O==="auto")return lt(`Missing explicit execution (${P}) or variant (${O}) preference, but no scoring performed.`);$==null||$.debug(`Bench duration ${F} yields inline score ${pt} and worker score ${Ve}.`);const mt=o((Mt,kt,Xe)=>({supported:!0,useSIMD:Ee,processor:Mt,executionApproach:kt,variant:Xe,executionQuanta:kt==="inline"?J:void 0,name:bt}),"succeed"),xt=o((Mt,kt,Xe)=>kt!=="auto"?!ke||Mt>Xe[kt]?kt:"failed":Mt>Xe.c100?"c100":Mt>Xe.c50?"c50":Mt>Xe.c20?"c20":Mt>Xe.c10?"c10":"failed","resolveVariant"),at=o(Mt=>{switch(Mt||"auto"){case"auto":{let kt=at("inline"),Xe=at("worker");return $==null||$.debug(`Reducing auto preference: ${JSON.stringify(kt)} vs ${JSON.stringify(Xe)}`),kt.supported===!1||Xe.supported===!1?Xe:kt.variant===Xe.variant||kt.variant==="c50"?kt:Xe}case"worker":return u.supportsSharedArrayBuffer(globalThis,window,$)?at("worker-sab"):at("worker-postMessage");case"inline":{const kt=xt(pt,O,Be.inline);return kt==="failed"?lt(`Performance score ${pt} not sufficient for inline use with variant preference ${O}.`):mt("voicefocus-inline-processor","inline",kt)}case"worker-sab":{if(!N){const Xe="Requested worker-sab but no SharedArrayBuffer support.";return $==null||$.warn(Xe),{supported:!1,reason:Xe}}const kt=xt(Ve,O,Be.worker);return kt==="failed"?lt(`Performance score ${Ve} not sufficient for worker use with variant preference ${O}.`):mt("voicefocus-worker-sab-processor","worker-sab",kt)}case"worker-postMessage":{const kt=xt(Ve,O,Be.worker);if(kt==="failed")return lt(`Performance score ${Ve} not sufficient for worker use.`);if(bt==="ns_es"){const Xe="Requested echo suppression but postMessage executor does not support it.";return $==null||$.warn(Xe),{supported:!1,reason:Xe}}return mt("voicefocus-worker-postMessage-processor","worker-postMessage",kt)}}},"reducePreference");return at(P)},"decideExecutionApproach"),d=o((k,V,N,F)=>S(void 0,void 0,void 0,function*(){const P={supportsSIMD:k,supportsSAB:u.supportsSharedArrayBuffer(globalThis,window,N),duration:-1};if(k)return N==null||N.info("Supports SIMD: true (force)"),P;const B=!F,O=F||new c(V,N);try{const R=!u.isOldChrome(window,N)&&(yield O.supportsSIMD());return N==null||N.info(`Supports SIMD: ${R} (force: ${k})`),P.supportsSIMD=R,P}finally{B&&O.stop()}}),"featureCheck"),y=o((k,V,N,F)=>S(void 0,void 0,void 0,function*(){const P=new c(V,F);try{const B=yield d(k,V,F,P);if(B.supportsSIMD)try{return B.duration=yield P.measure(!0,N),F==null||F.info("SIMD timing:",B.duration),B}catch{F==null||F.warn("Failed SIMD estimation; falling back to non-SIMD."),B.supportsSIMD=!1}return B.duration=yield P.measure(!1,N),F==null||F.info("No-SIMD timing:",B.duration),B}catch(B){throw F==null||F.error("Could not feature check.",B),B}finally{P.stop()}}),"estimateAndFeatureCheck"),E=o(function(k,V,N){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;return S(void 0,void 0,void 0,function*(){let P=k.executionPreference;const{usagePreference:B,variantPreference:O,namePreference:R,simdPreference:D,estimatorBudget:J,executionQuantaPreference:X}=k;B==="interactivity"&&P!=="inline"&&(N==null||N.debug(`Overriding execution preference ${P} to reflect interactivity preference.`),P="inline");const $=D==="force",he=O!=="auto",Ee=P!=="auto";let ke;try{he&&Ee?ke=yield d($,V,N):ke=yield y($,V,J,N)}catch(ve){throw N==null||N.error("Could not load estimator.",ve),new Error("Could not load Voice Focus estimator.")}return m(Object.assign(Object.assign({},ke),{simdPreference:D,executionPreference:P,variantPreference:O,namePreference:R,usagePreference:B,executionQuantaPreference:X}),F,N)})},"measureAndDecideExecutionApproach");l.measureAndDecideExecutionApproach=E;const w=o(k=>{let{category:V,name:N,variant:F,simd:P,url:B}=k;return`${V}-${N}-${F}-v1${P?"_simd":""}`},"decideModel");l.decideModel=w},"i+zQ":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{generateSessionId(){const u=new Uint32Array(1);return window.crypto.getRandomValues(u)[0].toString()}constructor(u,g,a,s){this.userArn=u,this.messagingSessionId=g,this.endpointUrl=a,this.chimeClient=s,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}},"MessagingSessionConfiguration");l.default=S},i2nt:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=`class RedundantAudioEncoder {
    constructor() {
        // Each payload must be less than 1024 bytes to fit the 10 bit block length
        this.maxRedPacketSizeBytes = 1 << 10;
        // Limit payload to 1000 bytes to handle small MTU. 1000 is chosen because in Chromium-based browsers, writing audio
        // payloads larger than 1000 bytes using the WebRTC Insertable Streams API (which is used to enable dynamic audio
        // redundancy) will cause an error to be thrown and cause audio flow to permanently stop. See
        // https://crbug.com/1248479.
        this.maxAudioPayloadSizeBytes = 1000;
        // Each payload can encode a timestamp delta of 14 bits
        this.maxRedTimestampOffset = 1 << 14;
        // 4 byte RED header
        this.redHeaderSizeBytes = 4;
        // reduced size for last RED header
        this.redLastHeaderSizeBytes = 1;
        // P-Time for Opus 20 msec packets
        // We do not support other p-times or clock rates
        this.redPacketizationTime = 960;
        // distance between redundant payloads, Opus FEC handles a distance of 1
        // TODO(https://issues.amazon.com/issues/ChimeSDKAudio-55):
        // Consider making this dynamic
        this.redPacketDistance = 2;
        // maximum number of redundant payloads per RTP packet
        this.maxRedEncodings = 2;
        // Maximum number of encodings that can be recovered with a single RED packet, assuming the primary and redundant
        // payloads have FEC.
        this.redMaxRecoveryDistance = this.redPacketDistance * this.maxRedEncodings + 1;
        // maximum history of prior payloads to keep
        // generally we will expire old entries based on timestamp
        // this limit is in place just to make sure the history does not
        // grow too large in the case of erroneous timestamp inputs
        this.maxEncodingHistorySize = 10;
        // Current number of encodings we want to send
        // to the remote end. This will be dynamically
        // updated through the setNumEncodingsFromPacketloss API
        this.numRedundantEncodings = 0;
        // Used to enable or disable redundancy
        // in response to very high packet loss events
        this.redundancyEnabled = true;
        // Loss stats are reported to the main thread every 5 seconds.
        // Since timestamp differences between 2 consecutive packets
        // give us the number of samples in each channel, 1 second
        // is equivalent to 48000 samples:
        // P-time * (1000ms/1s)
        // = (960 samples/20ms) * (1000ms/1s)
        // = 48000 samples/s
        this.lossReportInterval = 48000 * 5;
        // Maximum distance of a packet from the most recent packet timestamp
        // that we will consider for recovery.
        this.maxOutOfOrderPacketDistance = 16;
        /**
         * Below are Opus helper methods and constants.
         */
        this.OPUS_BAD_ARG = -1;
        this.OPUS_INVALID_PACKET = -4;
        // Max number of Opus frames in an Opus packet is 48 (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5).
        this.OPUS_MAX_OPUS_FRAMES = 48;
        // Max number of bytes that any individual Opus frame can have.
        this.OPUS_MAX_FRAME_SIZE_BYTES = 1275;
        this.encodingHistory = new Array();
        this.opusPayloadType = 0;
        this.redPayloadType = 0;
        this.initializePacketLogs();
    }
    /**
     * Creates an instance of RedundantAudioEncoder and sets up callbacks.
     */
    static initializeWorker() {
        RedundantAudioEncoder.log('Initializing RedundantAudioEncoder');
        const encoder = new RedundantAudioEncoder();
        // RED encoding is done using WebRTC Encoded Transform
        // https://github.com/w3c/webrtc-encoded-transform/blob/main/explainer.md
        // Check the DedicatedWorkerGlobalScope for existence of
        // RTCRtpScriptTransformer interface. If exists, then
        // RTCRtpScriptTransform is supported by this browser.
        // @ts-ignore
        if (self.RTCRtpScriptTransformer) {
            // @ts-ignore
            self.onrtctransform = (event) => {
                if (event.transformer.options.type === 'SenderTransform') {
                    encoder.setupSenderTransform(event.transformer.readable, event.transformer.writable);
                }
                else if (event.transformer.options.type === 'ReceiverTransform') {
                    encoder.setupReceiverTransform(event.transformer.readable, event.transformer.writable);
                }
                else if (event.transformer.options.type === 'PassthroughTransform') {
                    encoder.setupPassthroughTransform(event.transformer.readable, event.transformer.writable);
                }
            };
        }
        self.onmessage = (event) => {
            if (event.data.msgType === 'StartRedWorker') {
                encoder.setupSenderTransform(event.data.send.readable, event.data.send.writable);
                encoder.setupReceiverTransform(event.data.receive.readable, event.data.receive.writable);
            }
            else if (event.data.msgType === 'RedPayloadType') {
                encoder.setRedPayloadType(event.data.payloadType);
            }
            else if (event.data.msgType === 'OpusPayloadType') {
                encoder.setOpusPayloadType(event.data.payloadType);
            }
            else if (event.data.msgType === 'UpdateNumRedundantEncodings') {
                encoder.setNumRedundantEncodings(event.data.numRedundantEncodings);
            }
            else if (event.data.msgType === 'Enable') {
                encoder.setRedundancyEnabled(true);
            }
            else if (event.data.msgType === 'Disable') {
                encoder.setRedundancyEnabled(false);
            }
        };
    }
    /**
     * Post logs to the main thread
     */
    static log(msg) {
        if (RedundantAudioEncoder.shouldLog) {
            // @ts-ignore
            self.postMessage({
                type: 'REDWorkerLog',
                log: \`[AudioRed] \${msg}\`,
            });
        }
    }
    /**
     * Returns the number of encodings based on packetLoss value. This is used by \`DefaultTransceiverController\` to
     * determine when to alert the encoder to update the number of encodings. It also determines if we need to
     * turn off red in cases of very high packet loss to avoid congestion collapse.
     */
    static getNumRedundantEncodingsForPacketLoss(packetLoss) {
        let recommendedRedundantEncodings = 0;
        let shouldTurnOffRed = false;
        if (packetLoss <= 8) {
            recommendedRedundantEncodings = 0;
        }
        else if (packetLoss <= 18) {
            recommendedRedundantEncodings = 1;
        }
        else if (packetLoss <= 75) {
            recommendedRedundantEncodings = 2;
        }
        else {
            recommendedRedundantEncodings = 0;
            shouldTurnOffRed = true;
        }
        return [recommendedRedundantEncodings, shouldTurnOffRed];
    }
    /**
     * Sets up a passthrough (no-op) transform for the given streams.
     */
    setupPassthroughTransform(readable, writable) {
        RedundantAudioEncoder.log('Setting up passthrough transform');
        readable.pipeTo(writable);
    }
    /**
     * Sets up the transform stream and pipes the outgoing encoded audio frames through the transform function.
     */
    setupSenderTransform(readable, writable) {
        RedundantAudioEncoder.log('Setting up sender RED transform');
        const transformStream = new TransformStream({
            transform: this.senderTransform.bind(this),
        });
        readable.pipeThrough(transformStream).pipeTo(writable);
        return;
    }
    /**
     * Sets up the transform stream and pipes the received encoded audio frames through the transform function.
     */
    setupReceiverTransform(readable, writable) {
        RedundantAudioEncoder.log('Setting up receiver RED transform');
        const transformStream = new TransformStream({
            transform: this.receivePacketLogTransform.bind(this),
        });
        readable.pipeThrough(transformStream).pipeTo(writable);
        return;
    }
    /**
     * Set the RED payload type ideally obtained from local offer.
     */
    setRedPayloadType(payloadType) {
        this.redPayloadType = payloadType;
        RedundantAudioEncoder.log(\`red payload type set to \${this.redPayloadType}\`);
    }
    /**
     * Set the opus payload type ideally obtained from local offer.
     */
    setOpusPayloadType(payloadType) {
        this.opusPayloadType = payloadType;
        RedundantAudioEncoder.log(\`opus payload type set to \${this.opusPayloadType}\`);
    }
    /**
     * Set the number of redundant encodings
     */
    setNumRedundantEncodings(numRedundantEncodings) {
        this.numRedundantEncodings = numRedundantEncodings;
        if (this.numRedundantEncodings > this.maxRedEncodings) {
            this.numRedundantEncodings = this.maxRedEncodings;
        }
        RedundantAudioEncoder.log(\`Updated numRedundantEncodings to \${this.numRedundantEncodings}\`);
    }
    /**
     * Enable or disable redundancy in response to
     * high packet loss event.
     */
    setRedundancyEnabled(enabled) {
        this.redundancyEnabled = enabled;
        RedundantAudioEncoder.log(\`redundancy \${this.redundancyEnabled ? 'enabled' : 'disabled'}\`);
    }
    /**
     * Helper function to only enqueue audio frames if they do not exceed the audio payload byte limit imposed by
     * Chromium-based browsers. Chromium will throw an error (https://crbug.com/1248479) if an audio payload larger than
     * 1000 bytes is enqueued. Any controller that attempts to enqueue an audio payload larger than 1000 bytes will
     * encounter this error and will permanently stop sending or receiving audio.
     */
    enqueueAudioFrameIfPayloadSizeIsValid(
    // @ts-ignore
    frame, controller) {
        if (frame.data.byteLength > this.maxAudioPayloadSizeBytes)
            return;
        controller.enqueue(frame);
    }
    /**
     * Receives encoded frames and modifies as needed before sending to transport.
     */
    senderTransform(
    // @ts-ignore
    frame, controller) {
        const frameMetadata = frame.getMetadata();
        // @ts-ignore
        if (frameMetadata.payloadType !== this.redPayloadType) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        const primaryPayloadBuffer = this.getPrimaryPayload(frame.timestamp, frame.data);
        if (!primaryPayloadBuffer) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        const encodedBuffer = this.encode(frame.timestamp, primaryPayloadBuffer);
        /* istanbul ignore next */
        if (!encodedBuffer) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        frame.data = encodedBuffer;
        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
        return;
    }
    /**
     * Get the primary payload from encoding
     */
    getPrimaryPayload(primaryTimestamp, frame) {
        const encodings = this.splitEncodings(primaryTimestamp, frame);
        if (!encodings || encodings.length < 1)
            return null;
        return encodings[encodings.length - 1].payload;
    }
    /**
     * Split up the encoding received into primary and redundant encodings
     * These will be ordered oldest to newest which is the same ordering
     * in the RTP red payload.
     */
    splitEncodings(primaryTimestamp, frame, getFecInfo = false, primarySequenceNumber = undefined) {
        // process RED headers (according to RFC 2198)
        //   0                   1                   2                   3
        //   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        //  |F|   block PT  |  timestamp offset         |   block length    |
        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        //
        // last header
        //   0 1 2 3 4 5 6 7
        //  +-+-+-+-+-+-+-+-+
        //  |0|   Block PT  |
        //  +-+-+-+-+-+-+-+-+
        const payload = new DataView(frame);
        let payloadSizeBytes = payload.byteLength;
        let totalPayloadSizeBytes = 0;
        let totalHeaderSizeBytes = 0;
        let primaryPayloadSizeBytes = 0;
        let payloadOffset = 0;
        let gotLastBlock = false;
        const encodings = new Array();
        const redundantEncodingBlockLengths = new Array();
        const redundantEncodingTimestamps = new Array();
        while (payloadSizeBytes > 0) {
            gotLastBlock = (payload.getUint8(payloadOffset) & 0x80) === 0;
            if (gotLastBlock) {
                // Bits 1 through 7 are payload type
                const payloadType = payload.getUint8(payloadOffset) & 0x7f;
                // Unexpected payload type. This is a bad packet.
                if (payloadType !== this.opusPayloadType) {
                    return null;
                }
                totalPayloadSizeBytes += this.redLastHeaderSizeBytes;
                totalHeaderSizeBytes += this.redLastHeaderSizeBytes;
                // Accumulated block lengths are equal to or larger than the buffer, which means there is no primary block. This
                // is a bad packet.
                if (totalPayloadSizeBytes >= payload.byteLength) {
                    return null;
                }
                primaryPayloadSizeBytes = payload.byteLength - totalPayloadSizeBytes;
                break;
            }
            else {
                if (payloadSizeBytes < this.redHeaderSizeBytes) {
                    return null;
                }
                // Bits 22 through 31 are payload length
                const blockLength = ((payload.getUint8(payloadOffset + 2) & 0x03) << 8) + payload.getUint8(payloadOffset + 3);
                redundantEncodingBlockLengths.push(blockLength);
                const timestampOffset = payload.getUint16(payloadOffset + 1) >> 2;
                const timestamp = primaryTimestamp - timestampOffset;
                redundantEncodingTimestamps.push(timestamp);
                totalPayloadSizeBytes += blockLength + this.redHeaderSizeBytes;
                totalHeaderSizeBytes += this.redHeaderSizeBytes;
                payloadOffset += this.redHeaderSizeBytes;
                payloadSizeBytes -= this.redHeaderSizeBytes;
            }
        }
        // The last block was never found. This is a bad packet.
        if (!gotLastBlock) {
            return null;
        }
        let redundantPayloadOffset = totalHeaderSizeBytes;
        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {
            const redundantPayloadBuffer = new ArrayBuffer(redundantEncodingBlockLengths[i]);
            const redundantPayloadArray = new Uint8Array(redundantPayloadBuffer);
            redundantPayloadArray.set(new Uint8Array(payload.buffer, redundantPayloadOffset, redundantEncodingBlockLengths[i]), 0);
            const encoding = {
                timestamp: redundantEncodingTimestamps[i],
                payload: redundantPayloadBuffer,
                isRedundant: true,
            };
            if (getFecInfo) {
                encoding.hasFec = this.opusPacketHasFec(new DataView(redundantPayloadBuffer), redundantPayloadBuffer.byteLength);
            }
            encodings.push(encoding);
            redundantPayloadOffset += redundantEncodingBlockLengths[i];
        }
        const primaryPayloadOffset = payload.byteLength - primaryPayloadSizeBytes;
        const primaryPayloadBuffer = new ArrayBuffer(primaryPayloadSizeBytes);
        const primaryArray = new Uint8Array(primaryPayloadBuffer);
        primaryArray.set(new Uint8Array(payload.buffer, primaryPayloadOffset, primaryPayloadSizeBytes), 0);
        const encoding = {
            timestamp: primaryTimestamp,
            payload: primaryPayloadBuffer,
            isRedundant: false,
            seq: primarySequenceNumber,
        };
        if (getFecInfo) {
            encoding.hasFec = this.opusPacketHasFec(new DataView(primaryPayloadBuffer), primaryPayloadBuffer.byteLength);
        }
        encodings.push(encoding);
        return encodings;
    }
    /**
     * Create a new encoding with current primary payload and the older payloads of choice.
     */
    encode(primaryTimestamp, primaryPayload) {
        const primaryPayloadSize = primaryPayload.byteLength;
        // Payload size needs to be valid.
        if (primaryPayloadSize === 0 ||
            primaryPayloadSize >= this.maxRedPacketSizeBytes ||
            primaryPayloadSize >= this.maxAudioPayloadSizeBytes) {
            return null;
        }
        const numRedundantEncodings = this.numRedundantEncodings;
        let headerSizeBytes = this.redLastHeaderSizeBytes;
        let payloadSizeBytes = primaryPayloadSize;
        let bytesAvailable = this.maxAudioPayloadSizeBytes - primaryPayloadSize - headerSizeBytes;
        const redundantEncodingTimestamps = new Array();
        const redundantEncodingPayloads = new Array();
        // If redundancy is disabled then only send the primary payload
        if (this.redundancyEnabled) {
            // Determine how much redundancy we can fit into our packet
            let redundantTimestamp = this.uint32WrapAround(primaryTimestamp - this.redPacketizationTime * this.redPacketDistance);
            for (let i = 0; i < numRedundantEncodings; i++) {
                // Do not add redundant encodings that are beyond the maximum timestamp offset.
                if (this.uint32WrapAround(primaryTimestamp - redundantTimestamp) >= this.maxRedTimestampOffset) {
                    break;
                }
                let findTimestamp = redundantTimestamp;
                let encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);
                if (!encoding) {
                    // If not found or not important then look for the previous packet.
                    // The current packet may have included FEC for the previous, so just
                    // use the previous packet instead provided that it has voice activity.
                    findTimestamp = this.uint32WrapAround(redundantTimestamp - this.redPacketizationTime);
                    encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);
                }
                if (encoding) {
                    const redundantEncodingSizeBytes = encoding.payload.byteLength;
                    // Only add redundancy if there are enough bytes available.
                    if (bytesAvailable < this.redHeaderSizeBytes + redundantEncodingSizeBytes)
                        break;
                    bytesAvailable -= this.redHeaderSizeBytes + redundantEncodingSizeBytes;
                    headerSizeBytes += this.redHeaderSizeBytes;
                    payloadSizeBytes += redundantEncodingSizeBytes;
                    redundantEncodingTimestamps.unshift(encoding.timestamp);
                    redundantEncodingPayloads.unshift(encoding.payload);
                }
                redundantTimestamp -= this.redPacketizationTime * this.redPacketDistance;
                redundantTimestamp = this.uint32WrapAround(redundantTimestamp);
            }
        }
        const redPayloadBuffer = new ArrayBuffer(headerSizeBytes + payloadSizeBytes);
        const redPayloadView = new DataView(redPayloadBuffer);
        // Add redundant encoding header(s) to new buffer
        let redPayloadOffset = 0;
        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {
            const timestampDelta = primaryTimestamp - redundantEncodingTimestamps[i];
            redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType | 0x80);
            redPayloadView.setUint16(redPayloadOffset + 1, (timestampDelta << 2) | (redundantEncodingPayloads[i].byteLength >> 8));
            redPayloadView.setUint8(redPayloadOffset + 3, redundantEncodingPayloads[i].byteLength & 0xff);
            redPayloadOffset += this.redHeaderSizeBytes;
        }
        // Add primary encoding header to new buffer
        redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType);
        redPayloadOffset += this.redLastHeaderSizeBytes;
        // Add redundant payload(s) to new buffer
        const redPayloadArray = new Uint8Array(redPayloadBuffer);
        for (let i = 0; i < redundantEncodingPayloads.length; i++) {
            redPayloadArray.set(new Uint8Array(redundantEncodingPayloads[i]), redPayloadOffset);
            redPayloadOffset += redundantEncodingPayloads[i].byteLength;
        }
        // Add primary payload to new buffer
        redPayloadArray.set(new Uint8Array(primaryPayload), redPayloadOffset);
        redPayloadOffset += primaryPayload.byteLength;
        /* istanbul ignore next */
        // Sanity check that we got the expected total payload size.
        if (redPayloadOffset !== headerSizeBytes + payloadSizeBytes)
            return null;
        this.updateEncodingHistory(primaryTimestamp, primaryPayload);
        return redPayloadBuffer;
    }
    /**
     * Update the encoding history with the latest primary encoding
     */
    updateEncodingHistory(primaryTimestamp, primaryPayload) {
        // Remove encodings from the history if they are too old.
        for (const encoding of this.encodingHistory) {
            const maxTimestampDelta = this.redPacketizationTime * this.redMaxRecoveryDistance;
            if (primaryTimestamp - encoding.timestamp >= maxTimestampDelta) {
                this.encodingHistory.shift();
            }
            else {
                break;
            }
        }
        // Only add an encoding to the history if the encoding is deemed to be important. An encoding is important if it is
        // a CELT-only packet or contains voice activity.
        const packet = new DataView(primaryPayload);
        if (this.opusPacketIsCeltOnly(packet) ||
            this.opusPacketHasVoiceActivity(packet, packet.byteLength) > 0) {
            // Check if adding an encoding will cause the length of the encoding history to exceed the maximum history size.
            // This is not expected to happen but could occur if we get incorrect timestamps. We want to make sure our memory
            // usage is bounded. In this case, just clear the history and start over from empty.
            if (this.encodingHistory.length + 1 > this.maxEncodingHistorySize)
                this.encodingHistory.length = 0;
            this.encodingHistory.push({ timestamp: primaryTimestamp, payload: primaryPayload });
        }
    }
    /**
     * Initialize packet logs and metric values.
     */
    initializePacketLogs() {
        // The extra space from the max RED recovery distance is to ensure that we do not incorrectly count recovery for
        // packets that have already been received but are outside of the max out-of-order distance.
        const packetLogSize = this.maxOutOfOrderPacketDistance + this.redMaxRecoveryDistance;
        this.primaryPacketLog = {
            window: new Array(packetLogSize),
            index: 0,
            windowSize: packetLogSize,
        };
        this.redRecoveryLog = {
            window: new Array(packetLogSize),
            index: 0,
            windowSize: packetLogSize,
        };
        this.fecRecoveryLog = {
            window: new Array(packetLogSize),
            index: 0,
            windowSize: packetLogSize,
        };
        this.totalAudioPacketsExpected = 0;
        this.totalAudioPacketsLost = 0;
        this.totalAudioPacketsRecoveredRed = 0;
        this.totalAudioPacketsRecoveredFec = 0;
    }
    /**
     * Receives encoded frames from the server
     * and adds the timestamps to a packet log
     * to calculate an approximate recovery metric.
     */
    receivePacketLogTransform(
    // @ts-ignore
    frame, controller) {
        const frameMetadata = frame.getMetadata();
        // @ts-ignore
        if (frameMetadata.payloadType !== this.redPayloadType) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        // @ts-ignore
        const encodings = this.splitEncodings(frame.timestamp, frame.data, 
        /*getFecInfo*/ true, frameMetadata.sequenceNumber);
        if (!encodings) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        for (let i = encodings.length - 1; i >= 0; i--) {
            if (this.updateLossStats(encodings[i])) {
                this.updateRedStats(encodings[i]);
                this.updateFecStats(encodings[i]);
            }
        }
        this.maybeReportLossStats(encodings[encodings.length - 1].timestamp, frameMetadata.synchronizationSource);
        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
    }
    /**
     * Adds a timestamp to the primary packet log.
     * This also updates totalAudioPacketsLost and totalAudioPacketsExpected by looking
     * at the difference between timestamps.
     *
     * @param encoding : The encoding to be analyzed
     * @returns false if sequence number was greater than max out of order distance
     *          true otherwise
     */
    updateLossStats(encoding) {
        if (encoding.isRedundant)
            return true;
        const timestamp = encoding.timestamp;
        const seq = encoding.seq;
        if (this.totalAudioPacketsExpected === 0) {
            this.totalAudioPacketsExpected = 1;
            this.newestSequenceNumber = seq;
            this.addTimestamp(this.primaryPacketLog, timestamp);
            return true;
        }
        const diff = this.int16(seq - this.newestSequenceNumber);
        if (diff < -this.maxOutOfOrderPacketDistance)
            return false;
        if (diff < 0) {
            if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {
                if (this.totalAudioPacketsLost > 0)
                    this.totalAudioPacketsLost--;
                this.addTimestamp(this.primaryPacketLog, timestamp);
                this.removeFromRecoveryWindows(timestamp);
            }
        }
        else if (diff > 1) {
            this.totalAudioPacketsLost += diff - 1;
        }
        if (diff > 0) {
            this.totalAudioPacketsExpected += diff;
            this.newestSequenceNumber = encoding.seq;
            this.addTimestamp(this.primaryPacketLog, timestamp);
        }
        return true;
    }
    /**
     * Adds a timestamp to the red recovery log if it is not present in
     * the primary packet log and if it's not too old.
     *
     * @param encoding : The encoding to be analyzed
     */
    updateRedStats(encoding) {
        if (!encoding.isRedundant || this.totalAudioPacketsLost === 0)
            return;
        const timestamp = encoding.timestamp;
        if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {
            if (!this.hasTimestamp(this.redRecoveryLog, timestamp)) {
                this.totalAudioPacketsRecoveredRed++;
                this.addTimestamp(this.redRecoveryLog, timestamp);
            }
            if (this.removeTimestamp(this.fecRecoveryLog, timestamp)) {
                /* istanbul ignore else */
                if (this.totalAudioPacketsRecoveredFec > 0)
                    this.totalAudioPacketsRecoveredFec--;
            }
        }
    }
    /**
     * Adds a timestamp to the fec recovery log if it is not present in
     * the primary packet log and red recovery log and if it is not too old.
     *
     * @param encoding : The encoding to be analyzed
     */
    updateFecStats(encoding) {
        if (!encoding.hasFec || this.totalAudioPacketsLost === 0)
            return;
        const fecTimestamp = encoding.timestamp - this.redPacketizationTime;
        if (this.hasTimestamp(this.primaryPacketLog, fecTimestamp) ||
            this.hasTimestamp(this.redRecoveryLog, fecTimestamp) ||
            this.hasTimestamp(this.fecRecoveryLog, fecTimestamp)) {
            return;
        }
        this.totalAudioPacketsRecoveredFec++;
        this.addTimestamp(this.fecRecoveryLog, fecTimestamp);
    }
    /**
     * Reports loss metrics to DefaultTransceiverController
     *
     * @param timestamp : Timestamp of most recent primary packet
     */
    maybeReportLossStats(timestamp, ssrc) {
        if (timestamp - this.lastLossReportTimestamp < this.lossReportInterval)
            return;
        /* istanbul ignore next */
        if (RedundantAudioEncoder.shouldReportStats) {
            // @ts-ignore
            self.postMessage({
                type: 'RedundantAudioEncoderStats',
                ssrc,
                totalAudioPacketsLost: this.totalAudioPacketsLost,
                totalAudioPacketsExpected: this.totalAudioPacketsExpected,
                totalAudioPacketsRecoveredRed: this.totalAudioPacketsRecoveredRed,
                totalAudioPacketsRecoveredFec: this.totalAudioPacketsRecoveredFec,
            });
        }
        this.lastLossReportTimestamp = timestamp;
    }
    /**
     * Adds a timestamp to a packet log
     *
     * @param packetLog : The packetlog to add the timestamp to
     * @param timestamp : The timestamp that should be added
     */
    addTimestamp(packetLog, timestamp) {
        packetLog.window[packetLog.index] = timestamp;
        packetLog.index = (packetLog.index + 1) % packetLog.windowSize;
    }
    /**
     * Checks if a timestamp is in a packetlog
     *
     * @param packetLog : The packetlog to search
     * @param timestamp : The timestamp to search for
     * @returns true if timestamp is present, false otherwise
     */
    hasTimestamp(packetLog, timestamp) {
        const element = packetLog.window.find(t => t === timestamp);
        return !!element;
    }
    /**
     * Removes a timestamp from a packet log
     *
     * @param packetLog : The packetlog from which the timestamp should be removed
     * @param timestamp : The timestamp to be removed
     * @returns true if timestamp was present in the log and removed, false otherwise
     */
    removeTimestamp(packetLog, timestamp) {
        const index = packetLog.window.indexOf(timestamp);
        if (index >= 0) {
            packetLog.window[index] = undefined;
            return true;
        }
        return false;
    }
    /**
     * Removes a timestamp from red and fec recovery windows.
     *
     * @param timestamp : The timestamp to be removed
     */
    removeFromRecoveryWindows(timestamp) {
        let removed = this.removeTimestamp(this.redRecoveryLog, timestamp);
        if (removed) {
            if (this.totalAudioPacketsRecoveredRed > 0)
                this.totalAudioPacketsRecoveredRed--;
        }
        removed = this.removeTimestamp(this.fecRecoveryLog, timestamp);
        if (removed) {
            if (this.totalAudioPacketsRecoveredFec > 0)
                this.totalAudioPacketsRecoveredFec--;
        }
    }
    /**
     * Converts the supplied argument to 32-bit unsigned integer
     */
    uint32WrapAround(num) {
        const mod = 4294967296; // 2^32
        let res = num;
        if (num >= mod) {
            res = num - mod;
        }
        else if (num < 0) {
            res = mod + num;
        }
        return res;
    }
    /**
     * Converts the supplied argument to 16-bit signed integer
     */
    int16(num) {
        return (num << 16) >> 16;
    }
    /**
     * Determines if an Opus packet is in CELT-only mode.
     *
     * @param packet Opus packet.
     * @returns \`true\` if the packet is in CELT-only mode.
     */
    opusPacketIsCeltOnly(packet) {
        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):
        //  0
        //  0 1 2 3 4 5 6 7
        // +-+-+-+-+-+-+-+-+
        // | config  |s| c |
        // +-+-+-+-+-+-+-+-+
        // Since CELT-only packets are represented using configurations 16 to 31, the highest 'config' bit will always be 1
        // for CELT-only packets.
        return !!(packet.getUint8(0) & 0x80);
    }
    /**
     * Gets the number of samples per frame from an Opus packet.
     *
     * @param packet Opus packet. This must contain at least one byte of data.
     * @param sampleRateHz 32-bit integer sampling rate in Hz. This must be a multiple of 400 or inaccurate results will
     *                     be returned.
     * @returns Number of samples per frame.
     */
    opusPacketGetSamplesPerFrame(packet, sampleRateHz) {
        // Sample rate must be a 32-bit integer.
        sampleRateHz = Math.round(sampleRateHz);
        sampleRateHz = Math.min(Math.max(sampleRateHz, -(Math.pow(2, 32))), Math.pow(2, 32) - 1);
        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):
        //  0
        //  0 1 2 3 4 5 6 7
        // +-+-+-+-+-+-+-+-+
        // | config  |s| c |
        // +-+-+-+-+-+-+-+-+
        let numSamples;
        let frameSizeOption;
        // Case for CELT-only packet.
        if (this.opusPacketIsCeltOnly(packet)) {
            // The lower 3 'config' bits indicate the frame size option.
            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;
            // The frame size options 0, 1, 2, 3 correspond to frame sizes of 2.5, 5, 10, 20 ms. Notice that the frame sizes
            // can be represented as (2.5 * 2^0), (2.5 * 2^1), (2.5 * 2^2), (2.5 * 2^3) ms. So, the number of samples can be
            // calculated as follows:
            // (sample/s) * (1s/1000ms) * (2.5ms) * 2^(frameSizeOption)
            // = (sample/s) * (1s/400) * 2^(frameSizeOption)
            // = (sample/s) * 2^(frameSizeOption) * (1s/400)
            numSamples = (sampleRateHz << frameSizeOption) / 400;
        }
        // Case for Hybrid packet. Since Hybrid packets are represented using configurations 12 to 15, bits 1 and 2 in the
        // above TOC byte diagram will both be 1.
        else if ((packet.getUint8(0) & 0x60) === 0x60) {
            // In the case of configuration 13 or 15, bit 4 in the above TOC byte diagram will be 1. Configurations 13 and 15
            // correspond to a 20ms frame size, so the number of samples is calculated as follows:
            // (sample/s) * (1s/1000ms) * (20ms)
            // = (sample/s) * (1s/50)
            //
            // In the case of configuration 12 or 14, bit 4 in the above TOC byte diagram will be 0. Configurations 12 and 14
            // correspond to a 10ms frame size, so the number of samples is calculated as follows:
            // (sample/s) * (1s/1000ms) * (10ms)
            // = (sample/s) * (1s/100)
            numSamples = packet.getUint8(0) & 0x08 ? sampleRateHz / 50 : sampleRateHz / 100;
        }
        // Case for SILK-only packet.
        else {
            // The lower 3 'config' bits indicate the frame size option for SILK-only packets.
            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;
            if (frameSizeOption === 3) {
                // Frame size option 3 corresponds to a frame size of 60ms, so the number of samples is calculated as follows:
                // (sample/s) * (1s/1000ms) * (60ms)
                // = (sample/s) * (60ms) * (1s/1000ms)
                numSamples = (sampleRateHz * 60) / 1000;
            }
            else {
                // The frame size options 0, 1, 2 correspond to frame sizes of 10, 20, 40 ms. Notice that the frame sizes can be
                // represented as (10 * 2^0), (10 * 2^1), (10 * 2^2) ms. So, the number of samples can be calculated as follows:
                // (sample/s) * (1s/1000ms) * (10ms) * 2^(frameSizeOption)
                // = (sample/s) * (1s/100) * 2^(frameSizeOption)
                // = (sample/s) * 2^(frameSizeOption) * (1s/100)
                numSamples = (sampleRateHz << frameSizeOption) / 100;
            }
        }
        return numSamples;
    }
    /**
     * Gets the number of SILK frames per Opus frame.
     *
     * @param packet Opus packet.
     * @returns Number of SILK frames per Opus frame.
     */
    opusNumSilkFrames(packet) {
        // For computing the frame length in ms, the sample rate is not important since it cancels out. We use 48 kHz, but
        // any valid sample rate would work.
        //
        // To calculate the length of a frame (with a 48kHz sample rate) in ms:
        // (samples/frame) * (1s/48000 samples) * (1000ms/s)
        // = (samples/frame) * (1000ms/48000 samples)
        // = (samples/frame) * (1ms/48 samples)
        let frameLengthMs = this.opusPacketGetSamplesPerFrame(packet, 48000) / 48;
        if (frameLengthMs < 10)
            frameLengthMs = 10;
        // The number of SILK frames per Opus frame is described in https://www.rfc-editor.org/rfc/rfc6716#section-4.2.2.
        switch (frameLengthMs) {
            case 10:
            case 20:
                return 1;
            case 40:
                return 2;
            case 60:
                return 3;
            // It is not possible to reach the default case since an Opus packet can only encode sizes of 2.5, 5, 10, 20, 40,
            // or 60 ms, so we ignore the default case for test coverage.
            /* istanbul ignore next */
            default:
                return 0;
        }
    }
    /**
     * Gets the number of channels from an Opus packet.
     *
     * @param packet Opus packet.
     * @returns Number of channels.
     */
    opusPacketGetNumChannels(packet) {
        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):
        //  0
        //  0 1 2 3 4 5 6 7
        // +-+-+-+-+-+-+-+-+
        // | config  |s| c |
        // +-+-+-+-+-+-+-+-+
        // The 's' bit indicates mono or stereo audio, with 0 indicating mono and 1 indicating stereo.
        return packet.getUint8(0) & 0x4 ? 2 : 1;
    }
    /**
     * Determine the size (in bytes) of an Opus frame.
     *
     * @param packet Opus packet.
     * @param byteOffset Offset (from the start of the packet) to the byte containing the size information.
     * @param remainingBytes Remaining number of bytes to parse from the Opus packet.
     * @param sizeBytes Variable to store the parsed frame size (in bytes).
     * @returns Number of bytes that were parsed to determine the frame size.
     */
    opusParseSize(packet, byteOffset, remainingBytes, sizeBytes) {
        // See https://www.rfc-editor.org/rfc/rfc6716#section-3.2.1 for an explanation of how frame size is represented.
        // If there are no remaining bytes to parse the size from, then the size cannot be determined.
        if (remainingBytes < 1) {
            sizeBytes[0] = -1;
            return -1;
        }
        // If the first byte is in the range 0...251, then this value is the size of the frame.
        else if (packet.getUint8(byteOffset) < 252) {
            sizeBytes[0] = packet.getUint8(byteOffset);
            return 1;
        }
        // If the first byte is in the range 252...255, a second byte is needed. If there is no second byte, then the size
        // cannot be determined.
        else if (remainingBytes < 2) {
            sizeBytes[0] = -1;
            return -1;
        }
        // The total size of the frame given two size bytes is:
        // (4 * secondSizeByte) + firstSizeByte
        else {
            sizeBytes[0] = 4 * packet.getUint8(byteOffset + 1) + packet.getUint8(byteOffset);
            return 2;
        }
    }
    /**
     * Parse binary data containing an Opus packet into one or more Opus frames.
     *
     * @param data Binary data containing an Opus packet to be parsed. The data should begin with the first byte (i.e the
     *             TOC byte) of an Opus packet. Note that the size of the data does not have to equal the size of the
     *             contained Opus packet.
     * @param lenBytes Size of the data (in bytes).
     * @param selfDelimited Indicates if the Opus packet is self-delimiting
     *                      (https://www.rfc-editor.org/rfc/rfc6716#appendix-B).
     * @param tocByte Optional variable to store the TOC (table of contents) byte.
     * @param frameOffsets Optional variable to store the offsets (from the start of the data) to the first bytes of each
     *                     Opus frame.
     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.
     * @param payloadOffset Optional variable to store the offset (from the start of the data) to the first byte of the
     *                      payload.
     * @param packetLenBytes Optional variable to store the length of the Opus packet (in bytes).
     * @returns Number of Opus frames.
     */
    opusPacketParseImpl(data, lenBytes, selfDelimited, tocByte, frameOffsets, frameSizes, payloadOffset, packetLenBytes) {
        if (!frameSizes || lenBytes < 0)
            return this.OPUS_BAD_ARG;
        if (lenBytes === 0)
            return this.OPUS_INVALID_PACKET;
        // The number of Opus frames in the packet.
        let numFrames;
        // Intermediate storage for the number of bytes parsed to determine the size of a frame.
        let numBytesParsed;
        // The number of the padding bytes (excluding the padding count bytes) in the packet.
        let paddingBytes = 0;
        // Indicates whether CBR (constant bitrate) framing is used.
        let cbr = false;
        // The TOC (table of contents) byte (https://www.rfc-editor.org/rfc/rfc6716#section-3.1).
        const toc = data.getUint8(0);
        // Store the TOC byte.
        if (tocByte)
            tocByte[0] = toc;
        // The remaining number of bytes to parse from the packet. Note that the TOC byte has already been parsed, hence the
        // minus 1.
        let remainingBytes = lenBytes - 1;
        // This keeps track of where we are in the packet. This starts at 1 since the TOC byte has already been read.
        let byteOffset = 1;
        // The size of the last Opus frame in bytes.
        let lastSizeBytes = remainingBytes;
        // Read the \`c\` bits (i.e. code bits) from the TOC byte.
        switch (toc & 0x3) {
            // A code 0 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.2) has one frame.
            case 0:
                numFrames = 1;
                break;
            // A code 1 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.3) has two CBR (constant bitrate) frames.
            case 1:
                numFrames = 2;
                cbr = true;
                if (!selfDelimited) {
                    // Undelimited code 1 packets must be an even number of data bytes, otherwise the packet is invalid.
                    if (remainingBytes & 0x1)
                        return this.OPUS_INVALID_PACKET;
                    // The sizes of both frames are equal (i.e. half of the number of data bytes).
                    lastSizeBytes = remainingBytes / 2;
                    // If \`lastSizeBytes\` is too large, we will catch it later.
                    frameSizes[0][0] = lastSizeBytes;
                }
                break;
            // A code 2 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.4) has two VBR (variable bitrate) frames.
            case 2:
                numFrames = 2;
                numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[0]);
                remainingBytes -= numBytesParsed;
                // The parsed size of the first frame cannot be larger than the number of remaining bytes in the packet.
                if (frameSizes[0][0] < 0 || frameSizes[0][0] > remainingBytes) {
                    return this.OPUS_INVALID_PACKET;
                }
                byteOffset += numBytesParsed;
                // The size of the second frame is the remaining number of bytes after the first frame.
                lastSizeBytes = remainingBytes - frameSizes[0][0];
                break;
            // A code 3 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5) has multiple CBR/VBR frames (from 0 to
            // 120 ms).
            default:
                // Code 3 packets must have at least 2 bytes (i.e. at least 1 byte after the TOC byte).
                if (remainingBytes < 1)
                    return this.OPUS_INVALID_PACKET;
                // Frame count byte format:
                //  0
                //  0 1 2 3 4 5 6 7
                // +-+-+-+-+-+-+-+-+
                // |v|p|     M     |
                // +-+-+-+-+-+-+-+-+
                //
                // Read the frame count byte, which immediately follows the TOC byte.
                const frameCountByte = data.getUint8(byteOffset++);
                --remainingBytes;
                // Read the 'M' bits of the frame count byte, which encode the number of frames.
                numFrames = frameCountByte & 0x3f;
                // The number of frames in a code 3 packet must not be 0.
                if (numFrames <= 0)
                    return this.OPUS_INVALID_PACKET;
                const samplesPerFrame = this.opusPacketGetSamplesPerFrame(data, 48000);
                // A single frame can have at most 2880 samples, which happens in the case where 60ms of 48kHz audio is encoded
                // per frame. A code 3 packet cannot contain more than 120ms of audio, so the total number of samples cannot
                // exceed 2880 * 2 = 5760.
                if (samplesPerFrame * numFrames > 5760)
                    return this.OPUS_INVALID_PACKET;
                // Parse padding bytes if the 'p' bit is 1.
                if (frameCountByte & 0x40) {
                    let paddingCountByte;
                    let numPaddingBytes;
                    // Remove padding bytes (including padding count bytes) from the remaining byte count.
                    do {
                        // Sanity check that there are enough bytes to parse and remove the padding.
                        if (remainingBytes <= 0)
                            return this.OPUS_INVALID_PACKET;
                        // Get the next padding count byte.
                        paddingCountByte = data.getUint8(byteOffset++);
                        --remainingBytes;
                        // If the padding count byte has a value in the range 0...254, then the total size of the padding is the
                        // value in the padding count byte.
                        //
                        // If the padding count byte has value 255, then the total size of the padding is 254 plus the value in the
                        // next padding count byte. Therefore, keep reading padding count bytes while the value is 255.
                        numPaddingBytes = paddingCountByte === 255 ? 254 : paddingCountByte;
                        remainingBytes -= numPaddingBytes;
                        paddingBytes += numPaddingBytes;
                    } while (paddingCountByte === 255);
                }
                // Sanity check that the remaining number of bytes is not negative after removing the padding.
                if (remainingBytes < 0)
                    return this.OPUS_INVALID_PACKET;
                // Read the 'v' bit (i.e. VBR bit).
                cbr = !(frameCountByte & 0x80);
                // VBR case
                if (!cbr) {
                    lastSizeBytes = remainingBytes;
                    // Let M be the number of frames. There will be M - 1 frame length indicators (which can be 1 or 2 bytes)
                    // corresponding to the lengths of frames 0 to M - 2. The size of the last frame (i.e. frame M - 1) is the
                    // number of data bytes after the end of frame M - 2 and before the start of the padding bytes.
                    for (let i = 0; i < numFrames - 1; ++i) {
                        numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[i]);
                        remainingBytes -= numBytesParsed;
                        // The remaining number of data bytes must be enough to contain each frame.
                        if (frameSizes[i][0] < 0 || frameSizes[i][0] > remainingBytes) {
                            return this.OPUS_INVALID_PACKET;
                        }
                        byteOffset += numBytesParsed;
                        lastSizeBytes -= numBytesParsed + frameSizes[i][0];
                    }
                    // Sanity check that the size of the last frame is not negative.
                    if (lastSizeBytes < 0)
                        return this.OPUS_INVALID_PACKET;
                }
                // CBR case
                else if (!selfDelimited) {
                    // The size of each frame is the number of data bytes divided by the number of frames.
                    lastSizeBytes = Math.trunc(remainingBytes / numFrames);
                    // The number of data bytes must be a non-negative integer multiple of the number of frames.
                    if (lastSizeBytes * numFrames !== remainingBytes)
                        return this.OPUS_INVALID_PACKET;
                    // All frames have equal size in the undelimited CBR case.
                    for (let i = 0; i < numFrames - 1; ++i) {
                        frameSizes[i][0] = lastSizeBytes;
                    }
                }
        }
        // Self-delimited framing uses an extra 1 or 2 bytes, immediately preceding the data bytes, to indicate either the
        // size of the last frame (for code 0, code 2, and VBR code 3 packets) or the size of all the frames (for code 1 and
        // CBR code 3 packets). See https://www.rfc-editor.org/rfc/rfc6716#appendix-B.
        if (selfDelimited) {
            // The extra frame size byte(s) will always indicate the size of the last frame.
            numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[numFrames - 1]);
            remainingBytes -= numBytesParsed;
            // There must be enough data bytes for the last frame.
            if (frameSizes[numFrames - 1][0] < 0 || frameSizes[numFrames - 1][0] > remainingBytes) {
                return this.OPUS_INVALID_PACKET;
            }
            byteOffset += numBytesParsed;
            // For CBR packets, the sizes of all the frames are equal.
            if (cbr) {
                // There must be enough data bytes for all the frames.
                if (frameSizes[numFrames - 1][0] * numFrames > remainingBytes) {
                    return this.OPUS_INVALID_PACKET;
                }
                for (let i = 0; i < numFrames - 1; ++i) {
                    frameSizes[i][0] = frameSizes[numFrames - 1][0];
                }
            }
            // At this point, \`lastSizeBytes\` contains the size of the last frame plus the size of the extra frame size
            // byte(s), so sanity check that \`lastSizeBytes\` is the upper bound for the size of the last frame.
            else if (!(numBytesParsed + frameSizes[numFrames - 1][0] <= lastSizeBytes)) {
                return this.OPUS_INVALID_PACKET;
            }
        }
        // Undelimited case
        else {
            // Because the size of the last packet is not encoded explicitly, it is possible that the size of the last packet
            // (or of all the packets, for the CBR case) is larger than maximum frame size.
            if (lastSizeBytes > this.OPUS_MAX_FRAME_SIZE_BYTES)
                return this.OPUS_INVALID_PACKET;
            frameSizes[numFrames - 1][0] = lastSizeBytes;
        }
        // Store the offset to the start of the payload.
        if (payloadOffset)
            payloadOffset[0] = byteOffset;
        // Store the offsets to the start of each frame.
        for (let i = 0; i < numFrames; ++i) {
            if (frameOffsets)
                frameOffsets[i][0] = byteOffset;
            byteOffset += frameSizes[i][0];
        }
        // Store the length of the Opus packet.
        if (packetLenBytes)
            packetLenBytes[0] = byteOffset + paddingBytes;
        return numFrames;
    }
    /**
     * Parse a single undelimited Opus packet into one or more Opus frames.
     *
     * @param packet Opus packet to be parsed.
     * @param lenBytes Size of the packet (in bytes).
     * @param tocByte Optional variable to store the TOC (table of contents) byte.
     * @param frameOffsets Optional variable to store the offsets (from the start of the packet) to the first bytes of
     *                     each Opus frame.
     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.
     * @param payloadOffset Optional variable to store the offset (from the start of the packet) to the first byte of the
     *                      payload.
     * @returns Number of Opus frames.
     */
    opusPacketParse(packet, lenBytes, tocByte, frameOffsets, frameSizes, payloadOffset) {
        return this.opusPacketParseImpl(packet, lenBytes, 
        /* selfDelimited */ false, tocByte, frameOffsets, frameSizes, payloadOffset, null);
    }
    /**
     * This function returns the SILK VAD (voice activity detection) information encoded in the Opus packet. For CELT-only
     * packets that do not have VAD information, it returns -1.
     *
     * @param packet Opus packet.
     * @param lenBytes Size of the packet (in bytes).
     * @returns  0: no frame had the VAD flag set.
     *           1: at least one frame had the VAD flag set.
     *          -1: VAD status could not be determined.
     */
    opusPacketHasVoiceActivity(packet, lenBytes) {
        if (!packet || lenBytes <= 0)
            return 0;
        // In CELT-only mode, we can not determine whether there is VAD.
        if (this.opusPacketIsCeltOnly(packet))
            return -1;
        const numSilkFrames = this.opusNumSilkFrames(packet);
        // It is not possible for \`opusNumSilkFrames()\` to return 0, so we ignore the next sanity check for test coverage.
        /* istanbul ignore next */
        if (numSilkFrames === 0)
            return -1;
        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);
        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);
        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {
            opusFrameOffsets[i] = [undefined];
            opusFrameSizes[i] = [undefined];
        }
        // Parse packet to get the Opus frames.
        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);
        // VAD status cannot be determined for invalid packets.
        if (numOpusFrames < 0)
            return -1;
        // Iterate over all Opus frames, which may contain multiple SILK frames, to determine the VAD status.
        for (let i = 0; i < numOpusFrames; ++i) {
            if (opusFrameSizes[i][0] < 1)
                continue;
            // LP layer header bits format (https://www.rfc-editor.org/rfc/rfc6716#section-4.2.3):
            //
            // Mono case:
            // +-----------------+----------+
            // | 1 to 3 VAD bits | LBRR bit |
            // +-----------------+----------+
            //
            // Stereo case:
            // +---------------------+--------------+----------------------+---------------+
            // | 1 to 3 mid VAD bits | mid LBRR bit | 1 to 3 side VAD bits | side LBRR bit |
            // +---------------------+--------------+----------------------+---------------+
            // The upper 1 to 3 bits (dependent on the number of SILK frames) of the LP layer contain VAD bits. If any of
            // these VAD bits are 1, then voice activity is present.
            if (packet.getUint8(opusFrameOffsets[i][0]) >> (8 - numSilkFrames))
                return 1;
            // In the stereo case, there is a second set of 1 to 3 VAD bits, so also check these VAD bits.
            const channels = this.opusPacketGetNumChannels(packet);
            if (channels === 2 &&
                (packet.getUint8(opusFrameOffsets[i][0]) << (numSilkFrames + 1)) >> (8 - numSilkFrames)) {
                return 1;
            }
        }
        // No voice activity was detected.
        return 0;
    }
    /**
     * This method is based on Definition of the Opus Audio Codec
     * (https://tools.ietf.org/html/rfc6716). Basically, this method is based on
     * parsing the LP layer of an Opus packet, particularly the LBRR flag.
     *
     * @param packet Opus packet.
     * @param lenBytes Size of the packet (in bytes).
     * @returns  true: packet has fec encoding about previous packet.
     *           false: no fec encoding present.
     */
    opusPacketHasFec(packet, lenBytes) {
        if (!packet || lenBytes <= 0)
            return false;
        // In CELT-only mode, packets should not have FEC.
        if (this.opusPacketIsCeltOnly(packet))
            return false;
        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);
        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);
        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {
            opusFrameOffsets[i] = [undefined];
            opusFrameSizes[i] = [undefined];
        }
        // Parse packet to get the Opus frames.
        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);
        if (numOpusFrames < 0)
            return false;
        /* istanbul ignore next */
        if (opusFrameSizes[0][0] <= 1)
            return false;
        const numSilkFrames = this.opusNumSilkFrames(packet);
        /* istanbul ignore next */
        if (numSilkFrames === 0)
            return false;
        const channels = this.opusPacketGetNumChannels(packet);
        /* istanbul ignore next */
        if (channels !== 1 && channels !== 2)
            return false;
        // A frame starts with the LP layer. The LP layer begins with two to eight
        // header bits.These consist of one VAD bit per SILK frame (up to 3),
        // followed by a single flag indicating the presence of LBRR frames.
        // For a stereo packet, these first flags correspond to the mid channel, and
        // a second set of flags is included for the side channel. Because these are
        // the first symbols decoded by the range coder and because they are coded
        // as binary values with uniform probability, they can be extracted directly
        // from the most significant bits of the first byte of compressed data.
        for (let i = 0; i < channels; i++) {
            if (packet.getUint8(opusFrameOffsets[0][0]) & (0x80 >> ((i + 1) * (numSilkFrames + 1) - 1)))
                return true;
        }
        return false;
    }
}
RedundantAudioEncoder.shouldLog = true;
RedundantAudioEncoder.shouldReportStats = true;
RedundantAudioEncoder.initializeWorker();
`;l.default=S},iA6Z:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}},"RealtimeAttendeePositionInFrame");l.default=S},iAlb:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=o(f=>{const u={};for(const[g,a]of Object.entries(f))if(!(a==null||a===""))if(typeof a=="number"||typeof a=="string")u[g]=a;else throw new TypeError("Unhandled type received while flattening attributes.");return u},"flattenEventAttributes");l.default=S},iFpF:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(u,g,a,s,i,e,t,n,r,c){this.attendeeId=u,this.sdpOffer=g,this.audioHost=a,this.audioMuted=s,this.audioCheckin=i,this.receiveStreamIds=e,this.localVideoEnabled=t,this.videoStreamDescriptions=n,this.connectionTypeHasVideo=r,this.compressedSdpOffer=c,this.videoSubscriptionConfiguration=[]}},"SignalingClientSubscribe");l.default=S},iNgN:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(u){this._audioHostURL=u}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(u){this._signalingURL=u}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(u){this._turnControlURL=u}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(u){this._eventIngestionURL=u}constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=u=>u}},"MeetingSessionURLs");l.default=S},iQPr:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("zcg+")),g=f(h("j+uH"));let a=o(class extends g.default{cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return S(this,void 0,void 0,function*(){const i=new u.default(this.timeoutMs);i.start(()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{i.stop()}this.logger.info(`timeout task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskToRunBeforeTimeout=e,this.timeoutMs=t,this.taskName=`Timeout${this.timeoutMs}ms`,e.setParent(this)}},"TimeoutTask");l.default=a},iRMv:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("J5JU")),u=S(h("9Bli")),g=S(h("vhVE"));let a=o(class{realtimeSetLocalAttendeeId(i,e){this.state.localAttendeeId=i,this.state.localExternalUserId=e}realtimeSetAttendeeIdPresence(i,e,t,n,r){try{e&&(this.state.attendeeIdToExternalUserId[i]=t);for(const c of this.state.attendeeIdChangesCallbacks)c(i,e,t,n,r)}catch(c){this.onError(c)}}realtimeSubscribeToAttendeeIdPresence(i){try{this.state.attendeeIdChangesCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToAttendeeIdPresence(i){try{const e=this.state.attendeeIdChangesCallbacks.indexOf(i);e!==-1&&this.state.attendeeIdChangesCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSetCanUnmuteLocalAudio(i){try{if(this.state.canUnmute===i)return;this.state.canUnmute=i;for(const e of this.state.setCanUnmuteLocalAudioCallbacks)e(i)}catch(e){this.onError(e)}}realtimeSubscribeToSetCanUnmuteLocalAudio(i){try{this.state.setCanUnmuteLocalAudioCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(i){try{const e=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(i);e!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const i of this.state.muteAndUnmuteLocalAudioCallbacks)i(!0)}catch(i){this.onError(i)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const i of this.state.muteAndUnmuteLocalAudioCallbacks)i(!1);return!0}catch(i){return this.onError(i),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(i){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(i){try{const e=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(i);e!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(i,e){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(i)||(this.state.volumeIndicatorCallbacks[i]=[]),this.state.volumeIndicatorCallbacks[i].push(e),this.sendVolumeIndicatorChange(i,!0,!0,!0,this.state.attendeeIdToExternalUserId[i])}catch(t){this.onError(t)}}realtimeUnsubscribeFromVolumeIndicator(i,e){if(this.state.volumeIndicatorCallbacks[i])if(e){const n=this.state.volumeIndicatorCallbacks[i].indexOf(e);n>=0&&this.state.volumeIndicatorCallbacks[i].splice(n,1)}else delete this.state.volumeIndicatorCallbacks[i]}realtimeUpdateVolumeIndicator(i,e,t,n,r){try{t=this.applyLocalMuteOverride(i,t);const c=this.getVolumeIndicatorState(i);let p=!1,m=!1,d=!1;t!==null&&c.muted!==t&&(c.muted=t,m=!0,c.muted&&c.volume!==0&&(c.volume=0,p=!0)),!c.muted&&e!==null&&(c.volume!==e&&(c.volume=e,p=!0),c.muted===null&&(c.muted=!1,m=!0)),n!==null&&c.signalStrength!==n&&(c.signalStrength=n,d=!0),this.sendVolumeIndicatorChange(i,p,m,d,r)}catch(c){this.onError(c)}}realtimeSubscribeToLocalSignalStrengthChange(i){try{if(this.state.localSignalStrengthChangeCallbacks.push(i),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(e){this.onError(e)}}realtimeUnsubscribeToLocalSignalStrengthChange(i){try{const e=this.state.localSignalStrengthChangeCallbacks.indexOf(i);e!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSubscribeToSendDataMessage(i){try{this.state.sendDataMessageCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeFromSendDataMessage(i){try{const e=this.state.sendDataMessageCallbacks.indexOf(i);e!==-1&&this.state.sendDataMessageCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSendDataMessage(i,e,t){try{for(const n of this.state.sendDataMessageCallbacks)n(i,e,t)}catch(n){this.onError(n)}}realtimeSubscribeToReceiveDataMessage(i,e){try{this.state.receiveDataMessageCallbacks.has(i)?this.state.receiveDataMessageCallbacks.get(i).push(e):this.state.receiveDataMessageCallbacks.set(i,[e])}catch(t){this.onError(t)}}realtimeUnsubscribeFromReceiveDataMessage(i){try{this.state.receiveDataMessageCallbacks.delete(i)}catch(e){this.onError(e)}}realtimeReceiveDataMessage(i){try{if(this.state.receiveDataMessageCallbacks.has(i.topic))for(const e of this.state.receiveDataMessageCallbacks.get(i.topic))e(i)}catch(e){this.onError(e)}}realtimeSubscribeToFatalError(i){try{this.state.fatalErrorCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToFatalError(i){try{const e=this.state.fatalErrorCallbacks.indexOf(i);e!==-1&&this.state.fatalErrorCallbacks.splice(e,1)}catch(e){this.onError(e)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(i){i?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(i,e){const t=this.state.localAttendeeId,n=this.state.muted;return i!==t||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?e:n}sendVolumeIndicatorChange(i,e,t,n,r){if(this.sendLocalSignalStrengthChange(i,n),!this.state.volumeIndicatorCallbacks.hasOwnProperty(i))return;const c=this.getVolumeIndicatorState(i),p=new g.default;if(e&&(p.volume=c.volume),t&&(p.muted=c.muted),n&&(p.signalStrength=c.signalStrength),!this.stateIsEmpty(p))for(const m of this.state.volumeIndicatorCallbacks[i])m(i,p.volume,p.muted,p.signalStrength,r)}sendLocalSignalStrengthChange(i,e){if(!e||i!==this.state.localAttendeeId)return;const n=this.getVolumeIndicatorState(i).signalStrength;if(n!==null)for(const r of this.state.localSignalStrengthChangeCallbacks)r(n)}getVolumeIndicatorState(i){return this.state.volumeIndicatorState.hasOwnProperty(i)||(this.state.volumeIndicatorState[i]=new g.default),this.state.volumeIndicatorState[i]}stateIsEmpty(i){return i.volume===null&&i.muted===null&&i.signalStrength===null}onError(i){try{for(const e of this.state.fatalErrorCallbacks)e(i)}catch(e){try{console.error(i),console.error(e)}catch{}}}constructor(i,e){this.mediaStreamBroker=i,this.state=new u.default,this._transcriptionController=e||new f.default(this)}},"DefaultRealtimeController");l.default=a},ig3o:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioInputFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied"})(S=l.CheckAudioInputFeedback||(l.CheckAudioInputFeedback={})),l.default=S},igcJ:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("F7zz")),u=S(h("BkFD")),g=S(h("HbHZ")),a=h("XCDq"),s=h("Aplu");let i=o(class{addObserver(t){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const n of this.observerQueue)f.default.nextTick(()=>{this.observerQueue.has(n)&&t(n)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver(n=>{s.Maybe.of(n.didMissPongs).map(r=>r.bind(n)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const t=a.SdkPingPongFrame.create();t.pingId=this.pingId,t.type=a.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(t),this.logger.debug(()=>`sent ping ${this.pingId}`)}pong(t){const n=a.SdkPingPongFrame.create();n.pingId=t,n.type=a.SdkPingPongType.PONG,this.signalingClient.pingPong(n)}handleSignalingClientEvent(t){switch(t.type){case g.default.WebSocketOpen:this.startPingInterval();break;case g.default.WebSocketFailed:case g.default.WebSocketError:this.logger.warn(`stopped pinging (${g.default[t.type]})`),this.stopPingInterval();break;case g.default.WebSocketClosing:case g.default.WebSocketClosed:this.logger.info(`stopped pinging (${g.default[t.type]})`),this.stopPingInterval();break;case g.default.ReceivedSignalFrame:if(t.message.type!==a.SdkSignalFrame.Type.PING_PONG)break;if(t.message.pingPong.type===a.SdkPingPongType.PONG){const n=t.message.pingPong.pingId;if(n!==this.pingId){this.logger.warn(`unexpected ping id ${n} (expected ${this.pingId})`);break}this.consecutivePongsUnaccountedFor=0;let r;if(typeof t.message.timestampMs=="number")r=t.message.timestampMs;else break;this.logger.debug(()=>`received pong ${n} with timestamp ${r}`);const p=t.timestampMs-this.pingTimestampLocalMs,m=Math.round(r-p/2),d=this.pingTimestampLocalMs-m;this.logger.info(`local clock skew estimate=${d}ms from ping-pong time=${p}ms`),this.forEachObserver(y=>{s.Maybe.of(y.didReceivePong).map(E=>E.bind(y)(n,d,p))})}else this.pong(t.message.pingPong.pingId);break}}constructor(t,n,r){this.signalingClient=t,this.intervalMs=n,this.logger=r,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new u.default(this.intervalMs),this.pingId=0}},"DefaultPingPong");l.default=i},ipyK:function(j,l,h){"use strict";var S=h("jLvU");function f(u,g){return g=typeof g=="function"?g:void 0,u&&u.length?Object(S.a)(u,void 0,g):[]}o(f,"uniqWith"),l.a=f},"ir/0":function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("uctb")),u=S(h("2y31"));let g=o(class extends u.default{constructor(){super(f.default.DEBUG)}},"NoOpDebugLogger");l.default=g},irli:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Sha256=void 0;var S=h("+br/"),f=h("9IN5"),u=h("vapa"),g=h("v4l7"),a=function(){function i(e){if(this.hash=new u.RawSha256,e){this.outer=new u.RawSha256;var t=s(e),n=new Uint8Array(f.BLOCK_SIZE);n.set(t);for(var r=0;r<f.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(var r=0;r<t.byteLength;r++)t[r]=0}}return o(i,"Sha2561"),i.prototype.update=function(e){if(!((0,g.isEmptyData)(e)||this.error))try{this.hash.update((0,g.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return S.__awaiter(this,void 0,void 0,function(){return S.__generator(this,function(e){return[2,this.digestSync()]})})},i}();l.Sha256=a;function s(i){var e=(0,g.convertToBuffer)(i);if(e.byteLength>f.BLOCK_SIZE){var t=new u.RawSha256;t.update(e),e=t.digest()}var n=new Uint8Array(f.BLOCK_SIZE);return n.set(e),n}o(s,"bufferFromSecret")},"j+uH":function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("ZnGd")),g=f(h("IGBW"));let a=o(class{once(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return new u.default(this.logger,this,e)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(i){this.parentTask=i}getStatus(){return this.status}logAndThrow(i){throw this.logger.info(i),new Error(i)}baseRun(i){return S(this,void 0,void 0,function*(){try{const e=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case g.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case g.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case g.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=g.default.RUNNING,yield i.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-e)} ms`)}catch(e){throw e}finally{this.status!==g.default.CANCELED&&(this.status=g.default.FINISHED)}})}baseCancel(i){if(this.status===g.default.CANCELED||this.status===g.default.FINISHED){this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`);return}this.logger.info(`canceling task ${this.name()}`),this.status=g.default.CANCELED,i.call(this)}constructor(i){this.logger=i,this.taskName="BaseTask",this.parentTask=null,this.status=g.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}},"BaseTask");l.default=a},j4TH:function(j,l,h){"use strict";(function(S){var f=l;f.asPromise=h("MFts"),f.base64=h("bnU+"),f.EventEmitter=h("aJe0"),f.float=h("KwGI"),f.inquire=h("/TZM"),f.utf8=h("yNTq"),f.pool=h("BEY9"),f.LongBits=h("ko9P"),f.isNode=Boolean(typeof S<"u"&&S&&S.process&&S.process.versions&&S.process.versions.node),f.global=f.isNode&&S||typeof window<"u"&&window||typeof self<"u"&&self||this,f.emptyArray=Object.freeze?Object.freeze([]):[],f.emptyObject=Object.freeze?Object.freeze({}):{},f.isInteger=Number.isInteger||o(function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},"isInteger"),f.isString=o(function(s){return typeof s=="string"||s instanceof String},"isString"),f.isObject=o(function(s){return s&&typeof s=="object"},"isObject"),f.isset=f.isSet=o(function(s,i){var e=s[i];return e!=null&&s.hasOwnProperty(i)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1},"isSet"),f.Buffer=function(){try{var a=f.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),f._Buffer_from=null,f._Buffer_allocUnsafe=null,f.newBuffer=o(function(s){return typeof s=="number"?f.Buffer?f._Buffer_allocUnsafe(s):new f.Array(s):f.Buffer?f._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},"newBuffer"),f.Array=typeof Uint8Array<"u"?Uint8Array:Array,f.Long=f.global.dcodeIO&&f.global.dcodeIO.Long||f.global.Long||f.inquire("long"),f.key2Re=/^true|false|0|1$/,f.key32Re=/^-?(?:0|[1-9][0-9]*)$/,f.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,f.longToHash=o(function(s){return s?f.LongBits.from(s).toHash():f.LongBits.zeroHash},"longToHash"),f.longFromHash=o(function(s,i){var e=f.LongBits.fromHash(s);return f.Long?f.Long.fromBits(e.lo,e.hi,i):e.toNumber(Boolean(i))},"longFromHash");function u(a,s,i){for(var e=Object.keys(s),t=0;t<e.length;++t)(a[e[t]]===void 0||!i)&&(a[e[t]]=s[e[t]]);return a}o(u,"merge"),f.merge=u,f.lcFirst=o(function(s){return s.charAt(0).toLowerCase()+s.substring(1)},"lcFirst");function g(a){function s(i,e){if(!(this instanceof s))return new s(i,e);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&u(this,e)}return o(s,"CustomError"),s.prototype=Object.create(Error.prototype,{constructor:{value:s,writable:!0,enumerable:!1,configurable:!0},name:{get:o(function(){return a},"get"),set:void 0,enumerable:!1,configurable:!0},toString:{value:o(function(){return this.name+": "+this.message},"value"),writable:!0,enumerable:!1,configurable:!0}}),s}o(g,"newError"),f.newError=g,f.ProtocolError=g("ProtocolError"),f.oneOfGetter=o(function(s){for(var i={},e=0;e<s.length;++e)i[s[e]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(i[t[n]]===1&&this[t[n]]!==void 0&&this[t[n]]!==null)return t[n]}},"getOneOf"),f.oneOfSetter=o(function(s){return function(i){for(var e=0;e<s.length;++e)s[e]!==i&&delete this[s[e]]}},"setOneOf"),f.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},f._configure=function(){var a=f.Buffer;if(!a){f._Buffer_from=f._Buffer_allocUnsafe=null;return}f._Buffer_from=a.from!==Uint8Array.from&&a.from||o(function(i,e){return new a(i,e)},"Buffer_from"),f._Buffer_allocUnsafe=a.allocUnsafe||o(function(i){return new a(i)},"Buffer_allocUnsafe")}}).call(this,h("yLpj"))},jG7n:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(t,n,r,c){function p(m){return m instanceof r?m:new r(function(d){d(m)})}return o(p,"adopt"),new(r||(r=Promise))(function(m,d){function y(k){try{w(c.next(k))}catch(V){d(V)}}o(y,"fulfilled");function E(k){try{w(c.throw(k))}catch(V){d(V)}}o(E,"rejected");function w(k){k.done?m(k.value):p(k.value).then(y,E)}o(w,"step"),w((c=c.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0}),l.BackgroundFilterMonitor=void 0;const u=h("EkyC"),g=f(h("Xv43")),a=f(h("ZXtA"));let s=o(class{whenNext(){return this.promise||(this.promise=new Promise(n=>this.resolve=n)),this.promise}next(n){this.value=n,this.resolve(n),delete this.promise}constructor(){this.value=void 0,this.resolve=null}},"DeferredObservable"),i=o(class qf{static createWorkerPromise(){const n={resolve:null,reject:null,promise:null};return n.promise=new Promise((r,c)=>{n.resolve=r,n.reject=c}),n}validateSpec(n){if(!n)throw new Error("processor has null spec");if(!n.model)throw new Error("processor spec has null model");if(!n.paths)throw new Error("processor spec has null paths")}validateOptions(n){if(!n)throw new Error("processor has null options");if(!n.logger)throw new Error("processor has null options - logger");if(!n.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!n.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(n){this.videoFramesPerFilterUpdate=1,this.frameCounter=new a.default(this.delegate,n.reportingPeriodMillis,n.filterCPUUtilization,this.logger),this.cpuMonitor=new e(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(n){return JSON.stringify(n,null,2)}handleInitialize(n){if(this.logger.info(`received initialize message: ${this.stringify(n)}`),!n.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const r=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:r.path,inputHeight:r.input.height,inputWidth:r.input.width,inputChannels:4,modelRangeMin:r.input.range[0],modelRangeMax:r.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(n){if(this.logger.info(`received load model message: ${this.stringify(n)}`),n.payload!==2){this.logger.error("failed to load model! status: "+n.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+n.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(n){this.mask$.next(n.payload.output)}handleWorkerEvent(n){const r=n.data;switch(r.msg){case"initialize":this.handleInitialize(r);break;case"loadModel":this.handleLoadModel(r);break;case"predict":this.handlePredict(r);break;default:this.logger.info(`unexpected event msg: ${this.stringify(r)}`);break}}loadAssets(){return S(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield u.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",n=>this.handleWorkerEvent(n)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(n){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${n.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)})}process(n){return S(this,void 0,void 0,function*(){if(this.destroyed)return n;this.frameCounter.frameReceived(n[0].framerate),this.cpuMonitor.frameReceived();const r=n[0].asCanvasElement();if(!r)return n;if(!this.modelInitialized)return n[0]=this.canvasVideoFrameBuffer,n;const c=r.width,p=r.height;if(c===0||p===0)return n;this.sourceWidth===0&&(this.sourceWidth=c,this.sourceHeight=p,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),(this.sourceWidth!==c||this.sourceHeight!==p)&&(this.sourceWidth=c,this.sourceHeight=p,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let m=this.mask$.value;const d=this.spec.model.input.width/r.width,y=this.spec.model.input.height/r.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const E=this.scaledCanvas.getContext("2d");E.save(),E.scale(d,y),E.drawImage(r,0,0),E.restore();const w=E.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const k=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:w},[w.data.buffer]),m=yield k}this.destroyed||this.drawImageWithMask(r,m)}catch(m){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${m}`),n}finally{this.frameCounter.filterComplete(),this.frameNumber++}return n[0]=this.canvasVideoFrameBuffer,n})}updateVideoFramesPerFilterUpdate(n){n!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=n,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var n,r,c,p;return S(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(n=this.worker)===null||n===void 0||n.postMessage({msg:"destroy"}),(r=this.worker)===null||r===void 0||r.postMessage({msg:"stop"}),(c=this.targetCanvas)===null||c===void 0||c.remove(),this.targetCanvas=void 0,(p=this.scaledCanvas)===null||p===void 0||p.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)})}constructor(n,r,c,p,m){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new g.default(this.targetCanvas),this.mask$=new s,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=qf.createWorkerPromise(),this.loadModelPromise=qf.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=n,this.validateSpec(r),this.validateOptions(c),this.spec=r,this.logger=c.logger,this.delegate=p,this.initCPUMonitor(c),this.eventController=m}},"BackgroundFilterProcessor");l.default=i;let e=o(class{filterCPUUtilizationHigh(){const n=Date.now();n-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=n,this.observer.reduceCPUUtilization())}frameReceived(){const n=Date.now();n-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=n,this.observer.increaseCPUUtilization())}constructor(n,r){this.monitoringPeriodMillis=n,this.observer=r,this.lastCPUChangeTimestamp=0}},"BackgroundFilterMonitor");l.BackgroundFilterMonitor=e},jHTc:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("59sL")),u=S(h("4EN+"));let g=o(class{create(s,i,e){this.connection=new WebSocket(e?s:f.default.urlWithVersion(s),i),this.connection.binaryType="arraybuffer"}send(s){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return s instanceof Uint8Array?this.connection.send(s.buffer):this.connection.send(s),!0}catch(i){return this.logger.debug(()=>`send error: ${i.message}, websocket state=${u.default[this.readyState()]}`),!1}}close(s,i){var e;(e=this.connection)===null||e===void 0||e.close(s,i)}destroy(){this.connection=void 0}addEventListener(s,i){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(s,i)}removeEventListener(s,i){var e;(e=this.connection)===null||e===void 0||e.removeEventListener(s,i)}readyState(){if(!this.connection)return u.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return u.default.Connecting;case WebSocket.OPEN:return u.default.Open;case WebSocket.CLOSING:return u.default.Closing;case WebSocket.CLOSED:return u.default.Closed}}constructor(s){this.logger=s}},"DefaultWebSocketAdapter");l.default=g},jP1N:function(j,l,h){"use strict";(function(S){var f=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Sa54")),g=f(h("yQ3g")),a=h("f2XL"),s=h("R4Nl"),i=f(h("59sL")),e=f(h("NBIk")),t=f(h("4EN+")),n=h("DUgj"),r=f(h("fGw7")),c=f(h("hEYi"));let p=o(class cc{registerObserver(d){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(d)}removeObserver(d){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(d)}openConnection(d){this.logger.info("adding connection request to queue: "+d.url()),this.connectionRequestQueue.push(d),this.closeConnection()}pingPong(d){this.logger.debug(()=>"sending ping");const y=a.SdkSignalFrame.create();return y.type=a.SdkSignalFrame.Type.PING_PONG,y.pingPong=d,this.sendMessage(y),y.timestampMs}join(d){this.logger.info("sending join");const y=a.SdkJoinFrame.create();y.protocolVersion=2,y.flags=a.SdkJoinFlags.HAS_STREAM_UPDATE;const E=new u.default,w={platformName:E.name(),platformVersion:E.version(),clientSource:i.default.sdkName,chimeSdkVersion:i.default.sdkVersion,clientUtcOffset:s.getFormattedOffset(new Date().getTimezoneOffset())};if(d.applicationMetadata){const{appName:V,appVersion:N}=d.applicationMetadata;w.appName=V,w.appVersion=N}y.clientDetails=a.SdkClientDetails.create(w),y.audioSessionId=this.audioSessionId,y.wantsCompressedSdp=cc.CLIENT_SUPPORTS_COMPRESSION,y.disablePeriodicKeyframeRequestOnContentSender=d.disablePeriodicKeyframeRequestOnContentSender,y.serverSideNetworkAdaption=n.convertServerSideNetworkAdaptionEnumToSignaled(d.serverSideNetworkAdaption),y.supportedServerSideNetworkAdaptions=d.supportedServerSideNetworkAdaptions.map(n.convertServerSideNetworkAdaptionEnumToSignaled),y.wantsAllTemporalLayersInIndex=d.wantsAllTemporalLayersInIndex;const k=a.SdkSignalFrame.create();k.type=a.SdkSignalFrame.Type.JOIN,k.join=y,this.sendMessage(k)}subscribe(d){const y=a.SdkSubscribeFrame.create();if(y.sendStreams=[],y.sdpOffer=d.sdpOffer,d.connectionTypeHasVideo&&(y.receiveStreamIds=d.receiveStreamIds),d.audioHost&&(y.audioCheckin=d.audioCheckin,y.audioHost=d.audioHost,y.audioMuted=d.audioMuted,!d.audioCheckin)){const w=a.SdkStreamDescriptor.create();w.mediaType=a.SdkStreamMediaType.AUDIO,w.trackLabel="AmazonChimeExpressAudio",w.attendeeId=d.attendeeId,w.streamId=1,w.groupId=1,w.framerate=15,w.maxBitrateKbps=600,w.avgBitrateBps=4e5,y.sendStreams.push(w)}if(y.compressedSdpOffer=d.compressedSdpOffer,y.duplex=a.SdkStreamServiceType.RX,d.localVideoEnabled){y.duplex=a.SdkStreamServiceType.DUPLEX;for(let w=0;w<d.videoStreamDescriptions.length;w++){const k=d.videoStreamDescriptions[w].clone();k.attendeeId=d.attendeeId,y.sendStreams.push(k.toStreamDescriptor())}}d.videoSubscriptionConfiguration.length>0&&(y.videoSubscriptionConfiguration=d.videoSubscriptionConfiguration.map(this.convertSignalingClientVideoSubscriptionConfiguration));const E=a.SdkSignalFrame.create();E.type=a.SdkSignalFrame.Type.SUBSCRIBE,E.sub=y,this.sendMessage(E)}remoteVideoUpdate(d,y){const E=a.SdkRemoteVideoUpdateFrame.create();E.addedOrUpdatedVideoSubscriptions=d.map(this.convertSignalingClientVideoSubscriptionConfiguration),E.removedVideoSubscriptionMids=y;const w=a.SdkSignalFrame.create();w.type=a.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,w.remoteVideoUpdate=E,this.sendMessage(w)}convertSignalingClientVideoSubscriptionConfiguration(d){const y=new a.SdkVideoSubscriptionConfiguration;switch(y.mid=d.mid,y.attendeeId=d.attendeeId,y.streamId=d.streamId,y.groupId=d.groupId,y.priority=d.priority,y.targetBitrateKbps=d.targetBitrateKbps,d.qualityAdaptationPreference){case e.default.Balanced:y.qualityAdaptationPreference=a.SdkVideoQualityAdaptationPreference.BALANCED;break;case e.default.MaintainFramerate:y.qualityAdaptationPreference=a.SdkVideoQualityAdaptationPreference.MAINTAIN_FRAMERATE;break;case e.default.MaintainResolution:y.qualityAdaptationPreference=a.SdkVideoQualityAdaptationPreference.MAINTAIN_RESOLUTION;break;default:y.qualityAdaptationPreference=a.SdkVideoQualityAdaptationPreference.BALANCED}return y}leave(){const d=a.SdkSignalFrame.create();d.type=a.SdkSignalFrame.Type.LEAVE,d.leave=a.SdkLeaveFrame.create(),this.sendMessage(d),this.logger.debug(()=>"sent leave")}sendClientMetrics(d){const y=a.SdkSignalFrame.create();y.type=a.SdkSignalFrame.Type.CLIENT_METRIC,y.clientMetric=d,this.sendMessage(y)}sendDataMessage(d){const y=a.SdkSignalFrame.create();y.type=a.SdkSignalFrame.Type.DATA_MESSAGE,y.dataMessage=d,this.sendMessage(y)}closeConnection(){var d,y;if(this.webSocket.readyState()!==t.default.None&&this.webSocket.readyState()!==t.default.Closed){this.isClosing=!0,this.sendEvent(new r.default(this,c.default.WebSocketClosing,null));const E=new g.default(cc.CLOSE_EVENT_TIMEOUT_MS),w=o(k=>{var V,N;(N=(V=this.webSocket).removeEventListener)===null||N===void 0||N.call(V,"close",w),E.stop(),this.closeEventHandler(k)},"handler");(y=(d=this.webSocket).removeEventListener)===null||y===void 0||y.call(d,"close",this.closeEventHandler),this.webSocket.addEventListener("close",w),E.start(()=>{w(new CloseEvent("close",{wasClean:!1,code:1006,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===t.default.Open&&!this.isClosing&&this.wasOpened}mute(d){const y=a.SdkSignalFrame.create();y.type=a.SdkSignalFrame.Type.AUDIO_CONTROL;const E=a.SdkAudioControlFrame.create();E.muted=d,y.audioControl=E,this.sendMessage(y)}pause(d){const y=a.SdkSignalFrame.create();y.type=a.SdkSignalFrame.Type.PAUSE,y.pause=a.SdkPauseResumeFrame.create(),y.pause.streamIds=d,this.sendMessage(y)}resume(d){const y=a.SdkSignalFrame.create();y.type=a.SdkSignalFrame.Type.RESUME,y.pause=a.SdkPauseResumeFrame.create(),y.pause.streamIds=d,this.sendMessage(y)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(d){d.timestampMs=Date.now(),this.logger.debug(()=>`sending: ${JSON.stringify(d)}`);const y=this.prependWithFrameTypeRTC(a.SdkSignalFrame.encode(d).finish());if(this.ready()){if(!this.webSocket.send(y)){this.sendEvent(new r.default(this,c.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new r.default(this,c.default.WebSocketSentMessage,null))}else this.sendEvent(new r.default(this,c.default.WebSocketSkippedMessage,null))}receiveMessage(d){let y;try{y=a.SdkSignalFrame.decode(d)}catch{this.logger.info(`failed to decode: ${d}`),this.sendEvent(new r.default(this,c.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>`received: ${JSON.stringify(y)}`),this.webSocket.readyState()===t.default.Open?this.sendEvent(new r.default(this,c.default.ReceivedSignalFrame,y)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(y)}`)}stripFrameTypeRTC(d){const y=d[0];return y!==cc.FRAME_TYPE_RTC&&y!==2&&this.logger.warn(`expected FrameTypeRTC for message but got ${y}`),d.slice(1)}prependWithFrameTypeRTC(d){const y=new Uint8Array(d.length+1);return y[0]=cc.FRAME_TYPE_RTC,y.set(d,1),y}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const d=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${d.url()}`),this.isClosing=!1,this.webSocket.create(d.url(),d.protocols()),this.setUpEventListeners(),this.sendEvent(new r.default(this,c.default.WebSocketConnecting,null))}sendEvent(d){switch(d.type){case c.default.WebSocketMessage:case c.default.ReceivedSignalFrame:case c.default.WebSocketSentMessage:this.logger.debug(()=>`notifying event: ${c.default[d.type]}`);break;case c.default.WebSocketSkippedMessage:this.logger.debug(()=>`notifying event: ${c.default[d.type]}, websocket state=${t.default[this.webSocket.readyState()]}`);break;default:this.logger.info(`notifying event: ${c.default[d.type]}`);break}for(const y of this.observerQueue)y.handleSignalingClientEvent(d)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new r.default(this,c.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",d=>{this.sendEvent(new r.default(this,c.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(d.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("ignoring error closing signaling while connecting");return}this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new r.default(this,c.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new r.default(this,c.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const d=S;d.window&&d.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const d=S;d.window&&d.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const d=new Uint32Array(1);return window.crypto.getRandomValues(d)[0]}promoteToPrimaryMeeting(d){const y=a.SdkMeetingSessionCredentials.create();y.attendeeId=d.attendeeId,y.externalUserId=d.externalUserId,y.joinToken=d.joinToken;const E=a.SdkPrimaryMeetingJoinFrame.create();E.credentials=y;const w=a.SdkSignalFrame.create();w.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,w.primaryMeetingJoin=E,this.sendMessage(w)}demoteFromPrimaryMeeting(){const d=a.SdkPrimaryMeetingLeaveFrame.create(),y=a.SdkSignalFrame.create();y.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,y.primaryMeetingLeave=d,this.sendMessage(y)}constructor(d,y){this.webSocket=d,this.logger=y,this.unloadHandler=null,this.closeEventHandler=E=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new r.default(this,c.default.WebSocketClosed,null,E.code,E.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}},"DefaultSignalingClient");l.default=p,p.FRAME_TYPE_RTC=5,p.CLOSE_EVENT_TIMEOUT_MS=2e3,p.CLIENT_SUPPORTS_COMPRESSION=!0}).call(this,h("yLpj"))},jSME:function(j,l,h){var S=h("M5uj");function f(u){if(Array.isArray(u))return S(u)}o(f,"_arrayWithoutHoles"),j.exports=f,j.exports.__esModule=!0,j.exports.default=j.exports},je3o:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Sha256=void 0;var S=h("7JaV"),f=h("vdHl"),u=h("cZ61"),g=h("pU0T"),a=function(){function i(e){this.secret=e,this.hash=new u.RawSha256,this.reset()}return o(i,"Sha256"),i.prototype.update=function(e){if(!((0,g.isEmptyData)(e)||this.error))try{this.hash.update((0,g.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return S.__awaiter(this,void 0,void 0,function(){return S.__generator(this,function(e){return[2,this.digestSync()]})})},i.prototype.reset=function(){if(this.hash=new u.RawSha256,this.secret){this.outer=new u.RawSha256;var e=s(this.secret),t=new Uint8Array(f.BLOCK_SIZE);t.set(e);for(var n=0;n<f.BLOCK_SIZE;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},i}();l.Sha256=a;function s(i){var e=(0,g.convertToBuffer)(i);if(e.byteLength>f.BLOCK_SIZE){var t=new u.RawSha256;t.update(e),e=t.digest()}var n=new Uint8Array(f.BLOCK_SIZE);return n.set(e),n}o(s,"bufferFromSecret")},jhQD:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0}),l.TranscriptEventConverter=void 0;const f=h("f2XL"),u=S(h("7nob")),g=S(h("VoiG")),a=S(h("h4LR")),s=S(h("VWEK")),i={[f.SdkTranscriptionStatus.Type.STARTED]:a.default.STARTED,[f.SdkTranscriptionStatus.Type.INTERRUPTED]:a.default.INTERRUPTED,[f.SdkTranscriptionStatus.Type.RESUMED]:a.default.RESUMED,[f.SdkTranscriptionStatus.Type.STOPPED]:a.default.STOPPED,[f.SdkTranscriptionStatus.Type.FAILED]:a.default.FAILED};let e=o(class{static from(n){let r;try{r=f.SdkTranscriptFrame.decode(n.data)}catch(p){throw new Error("Cannot decode transcript data message: "+p)}const c=[];for(const p of r.events)if(p.status){const m=i[p.status.type];if(!m)continue;const d=new g.default;d.type=m,d.eventTimeMs=p.status.eventTime,d.transcriptionRegion=p.status.transcriptionRegion,d.transcriptionConfiguration=p.status.transcriptionConfiguration,p.status.message&&(d.message=p.status.message),c.push(d)}else if(p.transcript){const m=new u.default;m.results=[];for(const d of p.transcript.results){const y={channelId:d.channelId,isPartial:d.isPartial,resultId:d.resultId,startTimeMs:d.startTime,endTimeMs:d.endTime,alternatives:[]};if(d.languageCode&&(y.languageCode=d.languageCode),d.languageIdentification&&d.languageIdentification.length>0){y.languageIdentification=[];for(const E of d.languageIdentification){const w={languageCode:E.languageCode,score:E.score};y.languageIdentification.push(w)}}for(const E of d.alternatives){const w={items:[],transcript:E.transcript};for(const k of E.items){const V={content:k.content,attendee:{attendeeId:k.speakerAttendeeId,externalUserId:k.speakerExternalUserId},startTimeMs:k.startTime,endTimeMs:k.endTime,type:null};switch(k.vocabularyFilterMatch&&(V.vocabularyFilterMatch=k.vocabularyFilterMatch),k.hasOwnProperty("stable")&&(V.stable=k.stable),k.hasOwnProperty("confidence")&&(V.confidence=k.confidence),k.type){case f.SdkTranscriptItem.Type.PRONUNCIATION:V.type=s.default.PRONUNCIATION;break;case f.SdkTranscriptItem.Type.PUNCTUATION:V.type=s.default.PUNCTUATION;break}w.items.push(V)}for(const k of E.entities){w.entities||(w.entities=[]);const V={category:k.category,confidence:k.confidence,content:k.content,startTimeMs:k.startTime,endTimeMs:k.endTime};k.type&&(V.type=k.type),w.entities.push(V)}y.alternatives.push(w)}m.results.push(y)}c.push(m)}return c}},"TranscriptEventConverter");l.TranscriptEventConverter=e},jmx1:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioInputFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied"})(S=l.CheckAudioInputFeedback||(l.CheckAudioInputFeedback={})),l.default=S},jqgp:function(j,l){function h(S){if(typeof Symbol<"u"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}o(h,"_iterableToArray"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},jtkq:function(j,l,h){var S;(function(f,u,g){if(!f)return;for(var a={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},e={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},t,n=1;n<20;++n)a[111+n]="f"+n;for(n=0;n<=9;++n)a[n+96]=n.toString();function r(O,R,D){if(O.addEventListener){O.addEventListener(R,D,!1);return}O.attachEvent("on"+R,D)}o(r,"_addEvent");function c(O,R,D){O.removeEventListener&&O.removeEventListener(R,D,!1)}o(c,"_removeEvent");function p(O){if(O.type=="keypress"){var R=String.fromCharCode(O.which);return O.shiftKey||(R=R.toLowerCase()),R}return a[O.which]?a[O.which]:s[O.which]?s[O.which]:String.fromCharCode(O.which).toLowerCase()}o(p,"_characterFromEvent");function m(O,R){return O.sort().join(",")===R.sort().join(",")}o(m,"_modifiersMatch");function d(O){var R=[];return O.shiftKey&&R.push("shift"),O.altKey&&R.push("alt"),O.ctrlKey&&R.push("ctrl"),O.metaKey&&R.push("meta"),R}o(d,"_eventModifiers");function y(O){if(O.preventDefault){O.preventDefault();return}O.returnValue=!1}o(y,"_preventDefault");function E(O){if(O.stopPropagation){O.stopPropagation();return}O.cancelBubble=!0}o(E,"_stopPropagation");function w(O){return O=="shift"||O=="ctrl"||O=="alt"||O=="meta"}o(w,"_isModifier");function k(){if(!t){t={};for(var O in a)O>95&&O<112||a.hasOwnProperty(O)&&(t[a[O]]=O)}return t}o(k,"_getReverseMap");function V(O,R,D){return D||(D=k()[O]?"keydown":"keypress"),D=="keypress"&&R.length&&(D="keydown"),D}o(V,"_pickBestAction");function N(O){return O==="+"?["+"]:(O=O.replace(/\+{2}/g,"+plus"),O.split("+"))}o(N,"_keysFromString");function F(O,R){var D,J,X,$=[];for(D=N(O),X=0;X<D.length;++X)J=D[X],e[J]&&(J=e[J]),R&&R!="keypress"&&i[J]&&(J=i[J],$.push("shift")),w(J)&&$.push(J);return R=V(J,$,R),{key:J,modifiers:$,action:R}}o(F,"_getKeyInfo");function P(O,R){return O===null||O===u?!1:O===R?!0:P(O.parentNode,R)}o(P,"_belongsTo");function B(O){var R=this;if(O=O||u,!(R instanceof B))return new B(O);R.target=O,R._callbacks={},R._directMap={};var D={},J,X=!1,$=!1,he=!1;function Ee(lt){lt=lt||{};var mt=!1,xt;for(xt in D){if(lt[xt]){mt=!0;continue}D[xt]=0}mt||(he=!1)}o(Ee,"_resetSequences");function ke(lt,mt,xt,at,Mt,kt){var Xe,on,Wn=[],_n=xt.type;if(!R._callbacks[lt])return[];for(_n=="keyup"&&w(lt)&&(mt=[lt]),Xe=0;Xe<R._callbacks[lt].length;++Xe)if(on=R._callbacks[lt][Xe],!(!at&&on.seq&&D[on.seq]!=on.level)&&_n==on.action&&(_n=="keypress"&&!xt.metaKey&&!xt.ctrlKey||m(mt,on.modifiers))){var On=!at&&on.combo==Mt,Xn=at&&on.seq==at&&on.level==kt;(On||Xn)&&R._callbacks[lt].splice(Xe,1),Wn.push(on)}return Wn}o(ke,"_getMatches");function ve(lt,mt,xt,at){R.stopCallback(mt,mt.target||mt.srcElement,xt,at)||lt(mt,xt)===!1&&(y(mt),E(mt))}o(ve,"_fireCallback"),R._handleKey=function(lt,mt,xt){var at=ke(lt,mt,xt),Mt,kt={},Xe=0,on=!1;for(Mt=0;Mt<at.length;++Mt)at[Mt].seq&&(Xe=Math.max(Xe,at[Mt].level));for(Mt=0;Mt<at.length;++Mt){if(at[Mt].seq){if(at[Mt].level!=Xe)continue;on=!0,kt[at[Mt].seq]=1,ve(at[Mt].callback,xt,at[Mt].combo,at[Mt].seq);continue}on||ve(at[Mt].callback,xt,at[Mt].combo)}var Wn=xt.type=="keypress"&&$;xt.type==he&&!w(lt)&&!Wn&&Ee(kt),$=on&&xt.type=="keydown"};function Be(lt){typeof lt.which!="number"&&(lt.which=lt.keyCode);var mt=p(lt);if(mt){if(lt.type=="keyup"&&X===mt){X=!1;return}R.handleKey(mt,d(lt),lt)}}o(Be,"_handleKeyEvent");function pt(){clearTimeout(J),J=setTimeout(Ee,1e3)}o(pt,"_resetSequenceTimer");function Ve(lt,mt,xt,at){D[lt]=0;function Mt(_n){return function(){he=_n,++D[lt],pt()}}o(Mt,"_increaseSequence");function kt(_n){ve(xt,_n,lt),at!=="keyup"&&(X=p(_n)),setTimeout(Ee,10)}o(kt,"_callbackAndReset");for(var Xe=0;Xe<mt.length;++Xe){var on=Xe+1===mt.length,Wn=on?kt:Mt(at||F(mt[Xe+1]).action);bt(mt[Xe],Wn,at,lt,Xe)}}o(Ve,"_bindSequence");function bt(lt,mt,xt,at,Mt){R._directMap[lt+":"+xt]=mt,lt=lt.replace(/\s+/g," ");var kt=lt.split(" "),Xe;if(kt.length>1){Ve(lt,kt,mt,xt);return}Xe=F(lt,xt),R._callbacks[Xe.key]=R._callbacks[Xe.key]||[],ke(Xe.key,Xe.modifiers,{type:Xe.action},at,lt,Mt),R._callbacks[Xe.key][at?"unshift":"push"]({callback:mt,modifiers:Xe.modifiers,action:Xe.action,seq:at,level:Mt,combo:lt})}o(bt,"_bindSingle"),R._bindMultiple=function(lt,mt,xt){for(var at=0;at<lt.length;++at)bt(lt[at],mt,xt)},R.destroy=function(){c(O,"keypress",Be),c(O,"keydown",Be),c(O,"keyup",Be),R.reset()},r(O,"keypress",Be),r(O,"keydown",Be),r(O,"keyup",Be)}o(B,"Mousetrap"),B.prototype.bind=function(O,R,D){var J=this;return O=O instanceof Array?O:[O],J._bindMultiple.call(J,O,R,D),J},B.prototype.unbind=function(O,R){var D=this;return D.bind.call(D,O,function(){},R)},B.prototype.trigger=function(O,R){var D=this;return D._directMap[O+":"+R]&&D._directMap[O+":"+R]({},O),D},B.prototype.reset=function(){var O=this;return O._callbacks={},O._directMap={},O},B.prototype.stopCallback=function(O,R){var D=this;return(" "+R.className+" ").indexOf(" mousetrap ")>-1||P(R,D.target)?!1:R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},B.prototype.handleKey=function(){var O=this;return O._handleKey.apply(O,arguments)},B.addKeycodes=function(O){for(var R in O)O.hasOwnProperty(R)&&(a[R]=O[R]);t=null},B.init=function(){var O=B(u);for(var R in O)R.charAt(0)!=="_"&&(B[R]=function(D){return function(){return O[D].apply(O,arguments)}}(R))},B.init(),f.Mousetrap=B,j.exports&&(j.exports=B),S=function(){return B}.call(l,h,l,j),S!==g&&(j.exports=S)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},k8sa:function(j,l,h){"use strict";j.exports={}},kGhG:function(j,l,h){var S=h("IVKD"),f=h("ml5h"),u=h("H/VS"),g=h("+JPr");function a(s,i){return S(s)||f(s,i)||u(s,i)||g()}o(a,"_slicedToArray"),j.exports=a,j.exports.__esModule=!0,j.exports.default=j.exports},kItj:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("ghxq"));let u=o(class aa extends f.default{health(){if(this.currentData.isConnectionStartRecent(aa.CONNECTION_WAIT_TIME_MS))return 1;const s=this.currentData.consecutiveStatsWithNoPackets>=aa.CONNECTION_UNHEALTHY_THRESHOLD,i=this.currentData.consecutiveMissedPongs>=aa.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>aa.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const e=this.audioDelayPointsOverMaximum>aa.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return e&&(this.audioDelayPointsOverMaximum=0),s||i||e?(this.logger.warn(`reconnection recommended due to: no packets received: ${s}, missed pongs: ${i}, bad audio delay: ${e}`),0):1}constructor(a,s,i){super(s,i,"Reconnection Health"),this.logger=a,this.audioDelayPointsOverMaximum=0,aa.CONNECTION_UNHEALTHY_THRESHOLD=s.connectionUnhealthyThreshold,aa.CONNECTION_WAIT_TIME_MS=s.connectionWaitTimeMs,aa.MISSED_PONGS_THRESHOLD=s.missedPongsUpperThreshold,aa.MAXIMUM_AUDIO_DELAY_MS=s.maximumAudioDelayMs,aa.MAXIMUM_AUDIO_DELAY_DATA_POINTS=s.maximumAudioDelayDataPoints}},"ReconnectionHealthPolicy");l.default=u},kQNw:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isEmptyData=void 0;function S(f){return typeof f=="string"?f.length===0:f.byteLength===0}o(S,"isEmptyData"),l.isEmptyData=S},"kU+7":function(j,l,h){"use strict";(function(S){var f=l;f.asPromise=h("MFts"),f.base64=h("bnU+"),f.EventEmitter=h("aJe0"),f.float=h("KwGI"),f.inquire=h("/TZM"),f.utf8=h("yNTq"),f.pool=h("BEY9"),f.LongBits=h("xGEd"),f.isNode=Boolean(typeof S<"u"&&S&&S.process&&S.process.versions&&S.process.versions.node),f.global=f.isNode&&S||typeof window<"u"&&window||typeof self<"u"&&self||this,f.emptyArray=Object.freeze?Object.freeze([]):[],f.emptyObject=Object.freeze?Object.freeze({}):{},f.isInteger=Number.isInteger||o(function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},"isInteger"),f.isString=o(function(s){return typeof s=="string"||s instanceof String},"isString"),f.isObject=o(function(s){return s&&typeof s=="object"},"isObject"),f.isset=f.isSet=o(function(s,i){var e=s[i];return e!=null&&s.hasOwnProperty(i)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1},"isSet"),f.Buffer=function(){try{var a=f.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),f._Buffer_from=null,f._Buffer_allocUnsafe=null,f.newBuffer=o(function(s){return typeof s=="number"?f.Buffer?f._Buffer_allocUnsafe(s):new f.Array(s):f.Buffer?f._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},"newBuffer"),f.Array=typeof Uint8Array<"u"?Uint8Array:Array,f.Long=f.global.dcodeIO&&f.global.dcodeIO.Long||f.global.Long||f.inquire("long"),f.key2Re=/^true|false|0|1$/,f.key32Re=/^-?(?:0|[1-9][0-9]*)$/,f.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,f.longToHash=o(function(s){return s?f.LongBits.from(s).toHash():f.LongBits.zeroHash},"longToHash"),f.longFromHash=o(function(s,i){var e=f.LongBits.fromHash(s);return f.Long?f.Long.fromBits(e.lo,e.hi,i):e.toNumber(Boolean(i))},"longFromHash");function u(a,s,i){for(var e=Object.keys(s),t=0;t<e.length;++t)(a[e[t]]===void 0||!i)&&(a[e[t]]=s[e[t]]);return a}o(u,"merge"),f.merge=u,f.lcFirst=o(function(s){return s.charAt(0).toLowerCase()+s.substring(1)},"lcFirst");function g(a){function s(i,e){if(!(this instanceof s))return new s(i,e);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&u(this,e)}return o(s,"CustomError"),s.prototype=Object.create(Error.prototype,{constructor:{value:s,writable:!0,enumerable:!1,configurable:!0},name:{get:o(function(){return a},"get"),set:void 0,enumerable:!1,configurable:!0},toString:{value:o(function(){return this.name+": "+this.message},"value"),writable:!0,enumerable:!1,configurable:!0}}),s}o(g,"newError"),f.newError=g,f.ProtocolError=g("ProtocolError"),f.oneOfGetter=o(function(s){for(var i={},e=0;e<s.length;++e)i[s[e]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(i[t[n]]===1&&this[t[n]]!==void 0&&this[t[n]]!==null)return t[n]}},"getOneOf"),f.oneOfSetter=o(function(s){return function(i){for(var e=0;e<s.length;++e)s[e]!==i&&delete this[s[e]]}},"setOneOf"),f.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},f._configure=function(){var a=f.Buffer;if(!a){f._Buffer_from=f._Buffer_allocUnsafe=null;return}f._Buffer_from=a.from!==Uint8Array.from&&a.from||o(function(i,e){return new a(i,e)},"Buffer_from"),f._Buffer_allocUnsafe=a.allocUnsafe||o(function(i){return new a(i)},"Buffer_allocUnsafe")}}).call(this,h("yLpj"))},kUL9:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("U9CR")),g=f(h("F7zz"));let a=o(class{bindAudioElement(i){return S(this,void 0,void 0,function*(){if(!i)throw new Error(`Cannot bind audio element: ${i}`);return this.audioElement=i,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(i=>{this.audioStream&&i.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(i){return S(this,void 0,void 0,function*(){if(i){this.audioStream=i;try{yield this.bindAudioMix()}catch(e){this.logger&&this.logger.warn(`Failed to bind audio stream: ${e}`)}}})}bindAudioDevice(i){return S(this,void 0,void 0,function*(){if(i&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=i,this.bindAudioMix()})}forEachObserver(i){for(const e of this.observers)g.default.nextTick(()=>{i(e)})}bindAudioMix(){var i,e;return S(this,void 0,void 0,function*(){if(!this.audioElement)return;const t=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),t!==this.audioStream&&this.forEachObserver(d=>{t&&d.meetingAudioStreamBecameInactive(t),this.audioStream&&d.meetingAudioStreamBecameActive(this.audioStream)});const n=((i=this.audioDevice)===null||i===void 0?void 0:i.deviceId)!==this.audioElement.sinkId;if(n&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const r=this.audioDevice?this.audioDevice.deviceId:"",c=this.audioElement.sinkId;if(r===c)return;const p=this.audioElement,m=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(p.srcObject=null),n)try{yield p.setSinkId(r)}catch(d){throw(e=this.logger)===null||e===void 0||e.error(`Failed to set sinkId for audio element: ${d}`),d}this.browserBehavior.hasChromiumWebRTC()&&(p.srcObject=m)})}getCurrentMeetingAudioStream(){return S(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(i){return S(this,void 0,void 0,function*(){this.observers.add(i)})}removeAudioMixObserver(i){return S(this,void 0,void 0,function*(){this.observers.delete(i)})}audioOutputDidChange(i){return S(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(i)})}constructor(i){this.logger=i,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new u.default,this.observers=new Set}},"DefaultAudioMixController");l.default=a},kabN:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class Xc{onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(u){let g=0;for(const a of u.streams){const s=!!a.attendeeId,i=!!a.externalUserId,e=a.hasOwnProperty("muted"),t=!!a.dropped;if(s){this.attendeeIdToStreamId[a.attendeeId]&&this.attendeeIdToStreamId[a.attendeeId]<a.audioStreamId&&delete this.attendeeIdToStreamId[a.attendeeId],this.streamIdToAttendeeId[a.audioStreamId]=a.attendeeId;const n=i?a.externalUserId:a.attendeeId;this.streamIdToExternalUserId[a.audioStreamId]=n,this.attendeeIdToStreamId[a.attendeeId]=a.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(a.attendeeId,!0,n,!1,{attendeeIndex:g++,attendeesInFrame:u.streams.length})}if(e){const n=this.streamIdToAttendeeId[a.audioStreamId],r=this.streamIdToExternalUserId[a.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(n,null,a.muted,null,r)}if(!s&&!e){const n=this.streamIdToAttendeeId[a.audioStreamId];if(n){const r=this.streamIdToExternalUserId[a.audioStreamId];delete this.streamIdToAttendeeId[a.audioStreamId],delete this.streamIdToExternalUserId[a.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[a.audioStreamId],this.attendeeIdToStreamId[n]===a.audioStreamId&&delete this.attendeeIdToStreamId[n];let c=!1;for(const p of Object.keys(this.streamIdToAttendeeId)){const m=parseInt(p);if(m>a.audioStreamId&&this.streamIdToAttendeeId[m]===n){c=!0;break}}c||this.realtimeController.realtimeSetAttendeeIdPresence(n,!1,r,t,{attendeeIndex:g++,attendeesInFrame:u.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(u),this.sessionReconnected=!1)}cleanUpState(u){const g=Object.values(this.streamIdToAttendeeId),a=u.streams.map(i=>i.attendeeId),s=g.filter(i=>!a.includes(i));for(const[i,e]of s.entries()){const t=this.attendeeIdToStreamId[e],n=this.streamIdToExternalUserId[t];if(delete this.streamIdToAttendeeId[t],delete this.streamIdToExternalUserId[t],delete this.warnedAboutMissingStreamIdMapping[t],delete this.attendeeIdToStreamId[e],e===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(e,!1,n,!1,{attendeeIndex:i,attendeesInFrame:e.length})}}sendRealtimeUpdatesForAudioMetadata(u){let g=null,a=null;for(const s of u.attendeeStates){const i=this.attendeeIdForStreamId(s.audioStreamId);s.hasOwnProperty("volume")&&(g===null&&(g={}),i!==null&&(g[i]=this.normalizedVolume(s))),s.hasOwnProperty("signalStrength")&&(a===null&&(a={}),i!==null&&(a[i]=this.normalizedSignalStrength(s)))}this.applyRealtimeUpdatesForAudioMetadata(g,a)}normalizedVolume(u){const a=1-(-u.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(a,0),1)}normalizedSignalStrength(u){const g=u.signalStrength/Xc.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(g,0),1)}applyRealtimeUpdatesForAudioMetadata(u,g){for(const a in this.streamIdToAttendeeId){const s=this.streamIdToAttendeeId[a],i=this.streamIdToExternalUserId[a];let e=null,t=null;u!==null&&(u.hasOwnProperty(s)?e=u[s]:e=Xc.IMPLICIT_VOLUME),g!==null&&(g.hasOwnProperty(s)?t=g[s]:t=Xc.IMPLICIT_SIGNAL_STRENGTH),(e!==null||t!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(s,e,null,t,i)}}attendeeIdForStreamId(u){if(u===0)return null;const g=this.streamIdToAttendeeId[u];return g||(this.warnedAboutMissingStreamIdMapping[u]||(this.warnedAboutMissingStreamIdMapping[u]=!0,this.logger.warn(`volume indicator stream id ${u} seen before being defined`)),null)}constructor(u,g,a,s,i){this.logger=u,this.realtimeController=g,this.minVolumeDecibels=a,this.maxVolumeDecibels=s,this.selfAttendeeId=i,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}},"DefaultVolumeIndicatorAdapter");l.default=S,S.MAX_SIGNAL_STRENGTH_LEVELS=2,S.IMPLICIT_VOLUME=0,S.IMPLICIT_SIGNAL_STRENGTH=1},knPd:function(j,l,h){"use strict";var S=this&&this.__createBinding||(Object.create?function(N,F,P,B){B===void 0&&(B=P),Object.defineProperty(N,B,{enumerable:!0,get:function(){return F[P]}})}:function(N,F,P,B){B===void 0&&(B=P),N[B]=F[P]}),f=this&&this.__setModuleDefault||(Object.create?function(N,F){Object.defineProperty(N,"default",{enumerable:!0,value:F})}:function(N,F){N.default=F}),u=this&&this.__importStar||function(N){if(N&&N.__esModule)return N;var F={};if(N!=null)for(var P in N)P!=="default"&&Object.prototype.hasOwnProperty.call(N,P)&&S(F,N,P);return f(F,N),F},g=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(l,"__esModule",{value:!0});const a=g(h("g+gC")),s=g(h("LmyK")),i=g(h("mpmV")),e=g(h("34ho")),t=h("uctb"),n=u(h("DUgj")),r=g(h("aqWb")),c=g(h("Zkgh")),p=g(h("nYR4")),m=g(h("Lspx")),d=g(h("uaNU")),y=h("P7D+"),E=g(h("J1op")),w=g(h("NBIk"));let k=o(class{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}},"LinkMediaStats"),V=o(class Vr{reset(){this.allHighestPolicy=new p.default(""),this.optimalReceiveSet=new c.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new c.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new c.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=Vr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=Vr.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new k,this.prevDownlinkStats=new k,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption,this.pendingActionAfterUpdatedPreferences=!1}bindToTileController(F){this.tileController=F,this.logger.info("tileController bound")}setWantsResubscribeObserver(F){this.wantsResubscribeObserver=F}chooseRemoteVideoSources(F){var P;if(!(!((P=this.videoPreferences)===null||P===void 0)&&P.equals(F))){if(this.videoPreferences=F==null?void 0:F.clone(),!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!0,this.wantsResubscribeObserver!==void 0&&(this.wantsResubscribeObserver(),this.pendingActionAfterUpdatedPreferences=!1),this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)){const B=new Array;for(const O of this.videoPreferences){const R=new r.default;R.attendee=new a.default,R.attendee.attendeeId=O.attendeeId,B.push(R)}this.allHighestPolicy.chooseRemoteVideoSources(B);return}this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(F)}`)}}updateIndex(F){this.videoIndex=F,this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption&&this.allHighestPolicy.updateIndex(F),this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const F=new Set;for(const R of this.videoIndex.remoteStreamDescriptions())F.add(R.attendeeId);const P=y.VideoPreferences.prepare(),B=F.size;let O=m.default.Maximum;B>8?O=m.default.Low:B>4&&(O=m.default.Medium);for(const R of F)P.add(new d.default(R,1,O));this.defaultVideoPreferences=P.build()}updateMetrics(F){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new k;const P=F.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=P.availableIncomingBitrate/1e3;for(const B in F.streamMetricReports){const O=Number.parseInt(B,10),R=F.streamMetricReports[O];R.direction===s.default.DOWNSTREAM&&R.mediaType===i.default.VIDEO&&(R.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=F.countPerSecond("nackCount",O)),R.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=F.countPerSecond("packetsLost",O)),R.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=F.bitsPerSecond("bytesReceived",O)/1e3))}}wantsResubscribe(){let F=!1;return!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(F||(F=this.pendingActionAfterUpdatedPreferences),this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)?F||this.allHighestPolicy.wantsResubscribe():(this.calculateOptimalReceiveSet(),F||(F=!this.subscribedReceiveSet.equal(this.optimalReceiveSet)),F)}chooseSubscriptions(){return!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!1,this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)?this.allHighestPolicy.chooseSubscriptions():(this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone())}addObserver(F){this.observerQueue.add(F)}removeObserver(F){this.observerQueue.delete(F)}forEachObserver(F){for(const P of this.observerQueue)F(P)}setVideoPriorityBasedPolicyConfigs(F){this.videoPriorityBasedPolicyConfig=F}calculateOptimalReceiveStreams(){var F;const P=[],B=this.videoIndex.remoteStreamDescriptions();if(B.length===0||!((F=this.videoPreferences)===null||F===void 0)&&F.isEmpty()){this.optimalReceiveStreams=[];return}const O=this.rateProbeState;this.cleanBwPausedTiles(B),this.handleAppPausedStreams(P,B);const R=new Map;for(const mt of this.getCurrentVideoPreferences())R.set(mt.attendeeId,mt);const D=B.filter(mt=>R.has(mt.attendeeId)),J=!this.streamsWithPreferenceDidChange(D),X=!this.startupPeriod&&J;if(X&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;D.sort((mt,xt)=>mt.maxBitrateKbps===xt.maxBitrateKbps?mt.streamId-xt.streamId:mt.maxBitrateKbps-xt.maxBitrateKbps);for(const mt of D)(mt.avgBitrateKbps===0||mt.avgBitrateKbps>mt.maxBitrateKbps)&&(mt.attendeeId.endsWith(e.default.Modality)&&mt.maxBitrateKbps<100?mt.maxBitrateKbps=mt.avgBitrateKbps:mt.avgBitrateKbps=mt.maxBitrateKbps);const $=new Set;for(const mt of this.getCurrentVideoPreferences()){const xt=D.filter(Xe=>Xe.attendeeId===mt.attendeeId);if(xt.length<3)continue;let at=15,Mt=320*480;xt.forEach(Xe=>{at=Math.max(at,Xe.maxFrameRate),Mt=Math.max(Mt,Xe.totalPixels())}),xt.sort((Xe,on)=>{if(mt.degradationPreference===w.default.MaintainResolution)return Math.abs(Xe.maxFrameRate-on.maxFrameRate)<2?Xe.totalPixels()-on.totalPixels():Xe.maxFrameRate-on.maxFrameRate;if(mt.degradationPreference===w.default.MaintainFramerate)return Xe.totalPixels()===on.totalPixels()?Xe.maxFrameRate-on.maxFrameRate:Xe.totalPixels()-on.totalPixels();{const On=o(Xn=>Xn.avgBitrateKbps*Math.pow(2,5*Xn.maxFrameRate/at*Math.pow(4,Xn.totalPixels()/Mt)),"weighByFramerate");return On(Xe)-On(on)}});let kt;for(const Xe of xt){if(kt!==void 0&&(Xe.maxFrameRate<kt.maxFrameRate&&Math.abs(kt.maxFrameRate-Xe.maxFrameRate)>2||Xe.totalPixels()<kt.totalPixels())){$.add(Xe.streamId);continue}kt=Xe}}const he=D.filter(mt=>!$.has(mt.streamId));this.logger.info(`Filtered to ${JSON.stringify(he)}`);const Ee={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};Ee.targetDownlinkBitrate=this.determineTargetRate();const ke=this.subscribedReceiveSet.size(),ve=this.downlinkStats.bandwidthEstimateKbps,Be=!this.videoPriorityBasedPolicyConfig.allowSubscribe(ke,ve);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=Vr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,X&&Be))return;const pt=this.priorityPolicy(Ee,he,P),Ve=!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption);let bt=0;if(!Ve&&!this.startupPeriod&&J?this.rateProbeState==="Probing"?bt=this.handleProbe(P,Ee.targetDownlinkBitrate):Ee.deltaToNextUpgrade!==0&&(bt=this.maybeOverrideOrProbe(P,Ee,pt)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.previousStreamsWithPreference=D,this.videoPreferencesUpdated=!1,bt===1){this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),this.prevTargetRateKbps=Ee.targetDownlinkBitrate;return}if(bt===2){const mt=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(D,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+mt);return}this.optimalNonPausedReceiveStreams=P.slice();const lt=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(D,P),this.logger.getLogLevel()<=t.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==O||this.optimalReceiveStreams.length!==P.length||lt!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(B,Ee.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=Ee.targetDownlinkBitrate,this.optimalReceiveStreams=P.slice()}calculateOptimalReceiveSet(){const F=new c.default;this.calculateOptimalReceiveStreams();for(const P of this.optimalReceiveStreams)F.add(P.streamId);if(!this.optimalReceiveSet.equal(F)){const P=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(F)} subscribedRate:${P}`)}this.optimalReceiveSet=F}determineTargetRate(){let F=0;const P=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=P),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>Vr.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||P-this.firstEstimateTimestamp>Vr.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?F=Vr.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<Vr.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),F=this.downlinkStats.usedBandwidthKbps+Vr.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):F=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?F=Vr.DEFAULT_BANDWIDTH_KBPS:F=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-Vr.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*Vr.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,F=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,F>15e3&&this.logger.warn("bwe: "+F+" exceeds maximum limit (15000). Limit TargetDisplaySize with VideoPreferences to avoid this."),Math.min(F,15e3)}setProbeState(F){if(this.rateProbeState===F)return!1;const P=Date.now();switch(F){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||P-this.lastProbeTimestamp>Vr.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=P;else return!1;break;case"Probing":if(P-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=P,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,Vr.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+F+" from "+this.rateProbeState),this.rateProbeState=F,!0}upgradeToStream(F,P){for(let B=0;B<F.length;B++)if(F[B].groupId===P.groupId){const O=P.avgBitrateKbps-F[B].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(F[B])+" to "+P),this.lastUpgradeRateKbps=O,F[B]=P,O}return F.push(P),this.lastUpgradeRateKbps=P.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(F,P){if(Date.now()-this.lastProbeTimestamp>Vr.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>Vr.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(Vr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const B=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(F)||P>B?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=Vr.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(F,P,B){const O=this.chosenStreamsSameAsLast(F);let R=0;const D=P.targetDownlinkBitrate>Vr.LOW_BITRATE_THRESHOLD_KBPS?Vr.TARGET_RATE_CHANGE_TRIGGER_PERCENT:Vr.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,J=P.targetDownlinkBitrate*D/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!O&&Math.abs(P.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<J?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),R=1):this.targetRateBaselineForDeltaCheckKbps=P.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,R;if(O||R===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(F,B),R=0);break}else this.setProbeState("Not Probing");return R}calculateSubscribeRate(F){let P=0;for(const B of F)!this.pausedStreamIds.contain(B.streamId)&&!this.pausedBwAttendeeIds.has(B.attendeeId)&&(P+=B.maxBitrateKbps);return P}handleAppPausedStreams(F,P){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new c.default;const B=this.tileController.getAllRemoteVideoTiles();for(const O of B){const R=O.state();if(R.paused&&!this.pausedBwAttendeeIds.has(R.boundAttendeeId)){let D=P.length;for(;D--;)P[D].attendeeId===R.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+R.boundAttendeeId+" streamId: "+P[D].streamId),this.pausedStreamIds.add(P[D].streamId),this.subscribedReceiveSet.contain(P[D].streamId)&&F.push(P[D]),P.splice(D,1))}}}processBwPausedStreams(F,P){if(!this.tileController){this.logger.warn("tileController not found!");return}const B=this.getCurrentVideoPreferences();if(B&&this.shouldPauseTiles){const O=this.tileController.getAllVideoTiles();for(const R of B){const D=this.getVideoTileForAttendeeId(R.attendeeId,O),J=(D==null?void 0:D.state().paused)||!1;if(P.some(X=>X.attendeeId===R.attendeeId))J&&this.pausedBwAttendeeIds.has(R.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${R.attendeeId} due to bandwidth`),this.forEachObserver(X=>{X.tileWillBeUnpausedByDownlinkPolicy(D.id())}),this.tileController.unpauseVideoTile(D.id()),this.pausedBwAttendeeIds.delete(R.attendeeId));else{const X=F.some($=>$.attendeeId===R.attendeeId);if(D&&X){const $=this.optimalReceiveStreams.find(he=>he.attendeeId===R.attendeeId);$!==void 0&&(J||(this.logger.info(`bwe: pausing streamId ${$.streamId} attendee ${R.attendeeId} due to bandwidth`),this.forEachObserver(he=>{he.tileWillBePausedByDownlinkPolicy(D.id())}),this.tileController.pauseVideoTile(D.id())),P.push($)),this.pausedBwAttendeeIds.add(R.attendeeId)}else if(X){const $=this.tileController.addVideoTile();$.bindVideoStream(R.attendeeId,!1,null,0,0,0,null),this.forEachObserver(he=>{he.tileWillBePausedByDownlinkPolicy($.id())}),$.pause(),this.logger.info(`bwe: Created video tile ${$.id()} for bw paused attendee ${R.attendeeId}`),this.pausedBwAttendeeIds.add(R.attendeeId)}}}}}cleanBwPausedTiles(F){if(!this.tileController){this.logger.warn("tileController not found!");return}const P=this.tileController.getAllRemoteVideoTiles(),B=this.getCurrentVideoPreferences();for(const O of P){const R=O.state();R.boundVideoStream||(F.some(D=>D.attendeeId===R.boundAttendeeId)?B!==void 0&&!B.some(D=>D.attendeeId===R.boundAttendeeId)&&this.tileController.removeVideoTile(R.tileId):(this.tileController.removeVideoTile(R.tileId),this.logger.info(`bwe: Removed video tile ${R.tileId} for bw paused attendee ${R.boundAttendeeId}`)))}}priorityPolicy(F,P,B){let O;const R=this.getCurrentVideoPreferences(),D=R.highestPriority();let J,X=D;for(;X!==-1;){J=-1;for(const $ of R)if($.priority===X)for(const he of P)he.attendeeId===$.attendeeId&&(B.some(Ee=>Ee.groupId===he.groupId)||(F.chosenTotalBitrate+he.avgBitrateKbps<=F.targetDownlinkBitrate?(B.push(he),F.chosenTotalBitrate+=he.avgBitrateKbps):F.deltaToNextUpgrade===0&&(F.deltaToNextUpgrade=he.avgBitrateKbps,O=he)));else if($.priority>X){J=$.priority;break}for(const $ of R)if($.priority===X){for(const he of P)if(he.attendeeId===$.attendeeId){const Ee=B.findIndex(ke=>ke.groupId===he.groupId&&ke.maxBitrateKbps<=he.maxBitrateKbps&&ke.avgBitrateKbps<he.avgBitrateKbps);if(Ee!==-1){const ke=he.avgBitrateKbps-B[Ee].avgBitrateKbps;this.hasSimulcastStreams(P,he.attendeeId,he.groupId)&&this.canUpgrade(he.avgBitrateKbps,$.targetSize,$.targetSizeToBitrateKbps($.targetSize),he.attendeeId.endsWith(e.default.Modality))?(this.logger.info(`bwe: attendee: ${he.attendeeId} group: ${he.groupId} has simulcast and can upgrade avgBitrate: ${he.avgBitrateKbps} target: ${$.targetSizeToBitrateKbps($.targetSize)} targetTotalBitrate: ${F.targetDownlinkBitrate}`),F.chosenTotalBitrate+ke<=F.targetDownlinkBitrate?(F.chosenTotalBitrate+=ke,B[Ee]=he):F.deltaToNextUpgrade===0&&(F.deltaToNextUpgrade=ke,O=he)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if($.priority>X)break;if(X===D&&F.deltaToNextUpgrade!==0)break;X=J}return O}getVideoTileForAttendeeId(F,P){for(const B of P)if(B.state().boundAttendeeId===F)return B;return null}canUpgrade(F,P,B,O){let R=!1;return(P===m.default.High||!O&&F<=B||O&&P===m.default.Medium&&F<=B)&&(R=!0),R?(this.logger.info(`bwe: canUpgrade: bitrateKbps: ${F} targetBitrateKbps: ${B}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbps: ${F} targetBitrateKbps: ${B}`),!1)}hasSimulcastStreams(F,P,B){let O=0;for(const R of F)R.attendeeId===P&&R.groupId===B&&O++;return this.logger.info(`bwe: attendeeId: ${P} groupId: ${B} hasSimulcastStreams: streamCount: ${O}`),O>1}streamsWithPreferenceDidChange(F){if(this.previousStreamsWithPreference===void 0||F.length!==this.previousStreamsWithPreference.length||this.videoPreferencesUpdated===!0)return!0;for(const P of F)if(this.previousStreamsWithPreference.find(O=>O.groupId===P.groupId&&O.streamId===P.streamId&&O.maxBitrateKbps===P.maxBitrateKbps)===void 0)return!0;return!1}chosenStreamsSameAsLast(F){if(this.optimalNonPausedReceiveStreams.length!==F.length)return!1;for(const P of this.optimalNonPausedReceiveStreams)if(!F.some(B=>B.streamId===P.streamId))return!1;return!0}policyStateLogStr(F,P){const B=this.calculateSubscribeRate(this.optimalReceiveStreams),O={targetBitrate:P,subscribedRate:B,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let R="remoteInfos: [";for(const J of F)R+=`{grpId:${J.groupId} strId:${J.streamId} maxBr:${J.maxBitrateKbps} avgBr:${J.avgBitrateKbps}}, `;R+="]";let D=`bwe: optimalReceiveSet ${JSON.stringify(O)}
bwe:   prev ${JSON.stringify(this.prevDownlinkStats)}
bwe:   now  ${JSON.stringify(this.downlinkStats)}
bwe:   ${R}
`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(D+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }
`),this.videoPreferences?D+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:D+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,D}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(F){this.serverSideNetworkAdaption=F,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[n.default.None,n.default.BandwidthProbing,n.default.BandwidthProbingAndRemoteVideoQualityAdaption]}getVideoPreferences(){let F=this.getCurrentVideoPreferences();return F||(F=y.VideoPreferences.prepare().build()),F}wantsAllTemporalLayersInIndex(){return!0}constructor(F,P=E.default.Default){this.logger=F,this.videoPriorityBasedPolicyConfig=P,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.wantsResubscribeObserver=void 0,this.reset()}},"VideoPriorityBasedPolicy");l.default=V,V.DEFAULT_BANDWIDTH_KBPS=2800,V.STARTUP_PERIOD_MS=6e3,V.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,V.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,V.LOW_BITRATE_THRESHOLD_KBPS=300,V.MIN_TIME_BETWEEN_PROBE_MS=5e3,V.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,V.MAX_HOLD_BEFORE_PROBE_MS=3e4,V.MAX_ALLOWED_PROBE_TIME_MS=6e4,V.SPURIOUS_PACKET_LOST_THRESHOLD=2,V.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},ko9P:function(j,l,h){"use strict";j.exports=f;var S=h("j4TH");function f(s,i){this.lo=s>>>0,this.hi=i>>>0}o(f,"LongBits");var u=f.zero=new f(0,0);u.toNumber=function(){return 0},u.zzEncode=u.zzDecode=function(){return this},u.length=function(){return 1};var g=f.zeroHash="\0\0\0\0\0\0\0\0";f.fromNumber=o(function(i){if(i===0)return u;var e=i<0;e&&(i=-i);var t=i>>>0,n=(i-t)/4294967296>>>0;return e&&(n=~n>>>0,t=~t>>>0,++t>4294967295&&(t=0,++n>4294967295&&(n=0))),new f(t,n)},"fromNumber"),f.from=o(function(i){if(typeof i=="number")return f.fromNumber(i);if(S.isString(i))if(S.Long)i=S.Long.fromString(i);else return f.fromNumber(parseInt(i,10));return i.low||i.high?new f(i.low>>>0,i.high>>>0):u},"from"),f.prototype.toNumber=o(function(i){if(!i&&this.hi>>>31){var e=~this.lo+1>>>0,t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+t*4294967296)}return this.lo+this.hi*4294967296},"toNumber"),f.prototype.toLong=o(function(i){return S.Long?new S.Long(this.lo|0,this.hi|0,Boolean(i)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(i)}},"toLong");var a=String.prototype.charCodeAt;f.fromHash=o(function(i){return i===g?u:new f((a.call(i,0)|a.call(i,1)<<8|a.call(i,2)<<16|a.call(i,3)<<24)>>>0,(a.call(i,4)|a.call(i,5)<<8|a.call(i,6)<<16|a.call(i,7)<<24)>>>0)},"fromHash"),f.prototype.toHash=o(function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},"toHash"),f.prototype.zzEncode=o(function(){var i=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^i)>>>0,this.lo=(this.lo<<1^i)>>>0,this},"zzEncode"),f.prototype.zzDecode=o(function(){var i=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this},"zzDecode"),f.prototype.length=o(function(){var i=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?e===0?i<16384?i<128?1:2:i<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:t<128?9:10},"length")},kph0:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckNetworkUDPConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",f[f.ConnectionFailed=2]="ConnectionFailed",f[f.ICENegotiationFailed=3]="ICENegotiationFailed"})(S=l.CheckNetworkUDPConnectivityFeedback||(l.CheckNetworkUDPConnectivityFeedback={})),l.default=S},kud1:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("jG7n")),g=f(h("83pg"));let a=o(class eh extends u.default{setImageBlob(i){return S(this,void 0,void 0,function*(){this.replacementBlob=i,this.replacementImage=yield eh.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(i,e){e||(e=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(e,0,0);const{canvasCtx:n,targetCanvas:r}=this,{width:c,height:p}=r;n.save(),n.clearRect(0,0,c,p),n.drawImage(this.scaledCanvas,0,0,c,p),n.globalCompositeOperation="source-in",n.drawImage(i,0,0,c,p),n.globalCompositeOperation="destination-over",n.drawImage(this.replacementImage,0,0,r.width,r.height),n.restore()}static loadImageExecutor(i,e,t){const n=new Image;n.crossOrigin="Anonymous",n.addEventListener("load",()=>{i(n)},!1),n.addEventListener("error",r=>{e(new Error(`Could not load replacement image ${n.src}: ${r.message}`))},!1),n.src=t}static loadImage(i){return S(this,void 0,void 0,function*(){return new Promise((e,t)=>this.loadImageExecutor(e,t,i))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const i=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return S(this,void 0,void 0,function*(){this.replacementImage=yield eh.loadImage(this.createReplacementObjectUrl()),i.loadAssets.call(this)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});return S(this,void 0,void 0,function*(){i.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(i){this.eventController?this.eventController=i:(this.eventController=i,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const i={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",i)}constructor(i,e){super("background replacement",i,e,new g.default),this.replacementBlob=e.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: ${this.stringify(e)}`)}},"BackgroundReplacementFilter");l.default=a},l7oq:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("zcg+"));let u=o(class _S{timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(a){this._isFirstConnection=a,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(a,s){const i=this.shouldReconnect&&!this.hasPastReconnectDeadline();return i&&(this.backoffCancel=s,this.backoffTimer=new f.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,a()})),i}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new _S(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(a){this.lastActiveTimestampMs=a}constructor(a,s){this.reconnectTimeoutMs=a,this.backoffPolicy=s,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}},"DefaultReconnectController");l.default=u},l8QA:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Czkq"));let u=o(class extends f.default{},"BackgroundBlurVideoFrameProcessorDelegate");l.default=u},lFzH:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("papz")),g=f(h("wXa7")),a=f(h("j+uH"));let s=o(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}sessionUsesAudio(){var e,t;return!!(!((t=(e=this.context.meetingSessionConfiguration)===null||e===void 0?void 0:e.urls)===null||t===void 0)&&t.audioHostURL)}sessionUsesVideo(){let t;this.context.transceiverController.useTransceivers()?t=this.context.transceiverController.hasVideoInput():t=this.context.videoTileController.hasStartedLocalVideoTile();const n=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),r=t||n;return this.context.logger.info(`uses video: ${r} (enabled: ${!0}, sending: ${t}, receiving: ${n})`),r}run(){return S(this,void 0,void 0,function*(){const e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(e)}`),yield new Promise((t,n)=>S(this,void 0,void 0,function*(){this.cancelPromise=r=>{n(r)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(e),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new g.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const r=new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.IncompatibleSDP}`);this.context.previousSdpOffer=null,n(r);return}t()}catch(r){n(r)}finally{delete this.cancelPromise}}))})}constructor(e){super(e.logger),this.context=e,this.taskName="CreateSDPTask"}},"CreateSDPTask");l.default=s},lUhs:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionStatusCode=void 0;var S;(function(f){f[f.OK=0]="OK",f[f.Left=1]="Left",f[f.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",f[f.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",f[f.AudioCallAtCapacity=4]="AudioCallAtCapacity",f[f.MeetingEnded=5]="MeetingEnded",f[f.AudioInternalServerError=6]="AudioInternalServerError",f[f.AudioServiceUnavailable=7]="AudioServiceUnavailable",f[f.AudioDisconnected=8]="AudioDisconnected",f[f.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",f[f.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",f[f.SignalingBadRequest=11]="SignalingBadRequest",f[f.SignalingInternalServerError=12]="SignalingInternalServerError",f[f.SignalingRequestFailed=13]="SignalingRequestFailed",f[f.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",f[f.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",f[f.RealtimeApiFailed=16]="RealtimeApiFailed",f[f.TaskFailed=17]="TaskFailed",f[f.IncompatibleSDP=18]="IncompatibleSDP",f[f.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",f[f.NoAttendeePresent=20]="NoAttendeePresent",f[f.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",f[f.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",f[f.AudioDisconnectAudio=23]="AudioDisconnectAudio"})(S=l.MeetingSessionStatusCode||(l.MeetingSessionStatusCode={})),l.default=S},ldli:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("f2XL"),u=S(h("Zkgh")),g=S(h("MhWp"));let a=o(class{localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(i){return i>0&&i<1e3?1:Math.trunc(i/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const i=[];return this.currentIndex.sources.forEach(e=>{const t=new g.default;t.attendeeId=e.attendeeId,t.groupId=e.groupId,t.streamId=e.streamId,t.maxBitrateKbps=e.maxBitrateKbps,t.avgBitrateKbps=this.convertBpsToKbps(e.avgBitrateBps),t.width=e.width,t.height=e.height,t.maxFrameRate=e.framerate,i.push(t)}),i}integrateUplinkPolicyDecision(i){if(i&&i.length){const e=i[0];this.videoStreamDescription.maxBitrateKbps=e.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=e.maxFramerate}}integrateIndexFrame(i){if(this.currentIndex=i,!i)return;const e=new Map;let t=!1;for(const n of i.sources){if(!e.has(n.attendeeId)){e.set(n.attendeeId,n.groupId);continue}const r=e.get(n.attendeeId);r<n.groupId&&(this.logger.warn(`Old group ID ${r} found for attendee ID ${n.attendeeId}, replacing with newer group ID ${n.groupId}`),e.set(n.attendeeId,n.groupId)),t=!0}t&&(this.currentIndex.sources=this.currentIndex.sources.filter(n=>e.get(n.attendeeId)===n.groupId)),this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}integrateSubscribeAckFrame(i){this.currentSubscribeAck=i,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToGroupMap=this.buildSSRCToGroupMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe),this.sendVideoStreamId=0,i.allocations&&i.allocations!==void 0&&i.allocations.length>0&&(this.sendVideoStreamId=i.allocations[0].streamId)}integrateBitratesFrame(i){if(this.currentIndex)for(const e of i.bitrates){const t=this.currentIndex.sources.find(n=>n.streamId===e.sourceStreamId);t!==void 0&&(t.avgBitrateBps=e.avgBitrateBps)}}allStreams(){const i=new u.default;if(this.currentIndex)for(const e of this.currentIndex.sources)i.add(e.streamId);return i}allVideoSendingSourcesExcludingSelf(i){const e=[],t=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const n of this.currentIndex.sources){const{attendeeId:r,externalUserId:c,mediaType:p}=n;r!==i&&p===f.SdkStreamMediaType.VIDEO&&(t.has(r)||(e.push({attendee:{attendeeId:r,externalUserId:c}}),t.add(r)))}return e}streamSelectionUnderBandwidthConstraint(i,e,t,n){const r=new Set;if(this.currentIndex)for(const y of this.currentIndex.sources)y.attendeeId===i||y.mediaType!==f.SdkStreamMediaType.VIDEO||!e.has(y.attendeeId)&&!t.has(y.attendeeId)&&r.add(y.attendeeId);const c=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i),p=new Map;let m=0;c.forEach((y,E)=>{p.set(E,y[0]),m+=y[0].maxBitrateKbps}),m=this.trySelectHighBitrateForAttendees(c,e,m,n,p),this.trySelectHighBitrateForAttendees(c,r,m,n,p);const d=new u.default;for(const y of p.values())d.add(y.streamId);return d}highestQualityStreamFromEachGroupExcludingSelf(i){const e=new u.default;if(this.currentIndex){const t=new Map;for(const n of this.currentIndex.sources)n.attendeeId===i||n.mediaType!==f.SdkStreamMediaType.VIDEO||(!t.has(n.groupId)||n.maxBitrateKbps>t.get(n.groupId).maxBitrateKbps)&&t.set(n.groupId,n);for(const n of t.values())e.add(n.streamId)}return e}numberOfVideoPublishingParticipantsExcludingSelf(i){return this.highestQualityStreamFromEachGroupExcludingSelf(i).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${i}`),"";const t=this.subscribeStreamToAttendeeMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known attendee`),"")}externalUserIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${i}`),"";const t=this.subscribeStreamToExternalUserIdMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(i){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const e=this.streamToAttendeeMap.get(i);return e||(this.logger.info(`stream ID ${i} does not correspond to a known attendee`),"")}attendeeIdForGroupId(i){if(!this.groupIdToAttendeeMap)if(this.currentIndex)this.groupIdToAttendeeMap=this.buildGroupIdToAttendeeMap(this.currentIndex);else return"";const e=this.groupIdToAttendeeMap.get(i);return e||(this.logger.info(`group ID ${i} does not correspond to a known attendee`),"")}groupIdForStreamId(i){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const e of this.currentIndex.sources)if(e.streamId===i)return e.groupId;if(this.indexForSubscribe){for(const e of this.indexForSubscribe.sources)if(e.streamId===i)return e.groupId}}}StreamIdsInSameGroup(i,e){return this.groupIdForStreamId(i)===this.groupIdForStreamId(e)}streamIdForTrack(i){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(i)}streamIdForSSRC(i){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(i)}overrideStreamIdMappings(i,e){if(this.subscribeTrackToStreamMap){for(const[t,n]of this.subscribeTrackToStreamMap.entries())if(i===n){this.subscribeTrackToStreamMap.set(t,e);break}}if(this.subscribeSsrcToStreamMap){for(const[t,n]of this.subscribeSsrcToStreamMap.entries())if(i===n){this.subscribeSsrcToStreamMap.set(t,e);break}}}groupIdForSSRC(i){if(this.subscribeSsrcToGroupMap)return this.subscribeSsrcToGroupMap.get(i)}streamsPausedAtSource(){const i=new u.default;if(this.currentIndex)for(const e of this.currentIndex.pausedAtSourceIds)i.add(e);return i}sendVideoStreamIdFromRid(i){return this.sendVideoStreamId}buildTrackToStreamMap(i){const e=new Map;this.logger.debug(()=>`trackMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.trackLabel,t.streamId);return e}buildSSRCToStreamMap(i){const e=new Map;this.logger.debug(()=>`ssrcMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,t.streamId);return e}buildSSRCToGroupMap(i){const e=new Map;for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,this.groupIdForStreamId(t.streamId));return e}buildStreamToAttendeeMap(i){const e=new Map;if(i)for(const t of i.sources)e.set(t.streamId,t.attendeeId);return e}buildGroupIdToAttendeeMap(i){const e=new Map;for(const t of i.sources)e.set(t.groupId,t.attendeeId);return e}buildStreamExternalUserIdMap(i){const e=new Map;if(i)for(const t of i.sources)t.externalUserId&&e.set(t.streamId,t.externalUserId);return e}trySelectHighBitrateForAttendees(i,e,t,n,r){for(const c of e){if(t>=n)break;if(i.has(c)){const p=i.get(c);for(const m of p.reverse())if(t-r.get(c).maxBitrateKbps+m.maxBitrateKbps<n){t=t-r.get(c).maxBitrateKbps+m.maxBitrateKbps,r.set(c,m);break}}}return t}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i){const e=new Map;if(this.currentIndex)for(const t of this.currentIndex.sources)t.attendeeId===i||t.mediaType!==f.SdkStreamMediaType.VIDEO||(e.has(t.attendeeId)?e.get(t.attendeeId).push(t):e.set(t.attendeeId,[t]));return e.forEach((t,n)=>{t.sort((r,c)=>r.maxBitrateKbps>c.maxBitrateKbps?1:r.maxBitrateKbps<c.maxBitrateKbps?-1:0)}),e}constructor(i){this.logger=i,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.subscribeSsrcToGroupMap=null,this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new g.default,this.sendVideoStreamId=0,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}},"DefaultVideoStreamIndex");l.default=a},lnWt:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.numToUint8=void 0;function S(f){return new Uint8Array([(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255])}o(S,"numToUint8"),l.numToUint8=S},"m/NO":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionLifecycleEvent=void 0;var S;(function(f){f[f.Connecting=0]="Connecting",f[f.Started=1]="Started",f[f.Stopped=2]="Stopped"})(S=l.MeetingSessionLifecycleEvent||(l.MeetingSessionLifecycleEvent={})),l.default=S},m0Av:function(j,l,h){"use strict";(function(S){h.d(l,"a",function(){return f});function f(u,g){var a;typeof g<"u"?a=g:typeof window<"u"?a=window:typeof self<"u"?a=self:a=S;var s=typeof a.document<"u"&&a.document.attachEvent;if(!s){var i=function(){var R=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||function(D){return a.setTimeout(D,20)};return function(D){return R(D)}}(),e=function(){var R=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.clearTimeout;return function(D){return R(D)}}(),t=o(function(D){var J=D.__resizeTriggers__,X=J.firstElementChild,$=J.lastElementChild,he=X.firstElementChild;$.scrollLeft=$.scrollWidth,$.scrollTop=$.scrollHeight,he.style.width=X.offsetWidth+1+"px",he.style.height=X.offsetHeight+1+"px",X.scrollLeft=X.scrollWidth,X.scrollTop=X.scrollHeight},"resetTriggers"),n=o(function(D){return D.offsetWidth!=D.__resizeLast__.width||D.offsetHeight!=D.__resizeLast__.height},"checkTriggers"),r=o(function(D){if(!(D.target.className&&typeof D.target.className.indexOf=="function"&&D.target.className.indexOf("contract-trigger")<0&&D.target.className.indexOf("expand-trigger")<0)){var J=this;t(this),this.__resizeRAF__&&e(this.__resizeRAF__),this.__resizeRAF__=i(function(){n(J)&&(J.__resizeLast__.width=J.offsetWidth,J.__resizeLast__.height=J.offsetHeight,J.__resizeListeners__.forEach(function(X){X.call(J,D)}))})}},"scrollListener"),c=!1,p="",m="animationstart",d="Webkit Moz O ms".split(" "),y="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),E="";{var w=a.document.createElement("fakeelement");if(w.style.animationName!==void 0&&(c=!0),c===!1){for(var k=0;k<d.length;k++)if(w.style[d[k]+"AnimationName"]!==void 0){E=d[k],p="-"+E.toLowerCase()+"-",m=y[k],c=!0;break}}}var V="resizeanim",N="@"+p+"keyframes "+V+" { from { opacity: 0; } to { opacity: 0; } } ",F=p+"animation: 1ms "+V+"; "}var P=o(function(D){if(!D.getElementById("detectElementResize")){var J=(N||"")+".resize-triggers { "+(F||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',X=D.head||D.getElementsByTagName("head")[0],$=D.createElement("style");$.id="detectElementResize",$.type="text/css",u!=null&&$.setAttribute("nonce",u),$.styleSheet?$.styleSheet.cssText=J:$.appendChild(D.createTextNode(J)),X.appendChild($)}},"createStyles"),B=o(function(D,J){if(s)D.attachEvent("onresize",J);else{if(!D.__resizeTriggers__){var X=D.ownerDocument,$=a.getComputedStyle(D);$&&$.position=="static"&&(D.style.position="relative"),P(X),D.__resizeLast__={},D.__resizeListeners__=[],(D.__resizeTriggers__=X.createElement("div")).className="resize-triggers";var he='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var Ee=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:o(function(){return he},"createHTML")});D.__resizeTriggers__.innerHTML=Ee.createHTML("")}else D.__resizeTriggers__.innerHTML=he;D.appendChild(D.__resizeTriggers__),t(D),D.addEventListener("scroll",r,!0),m&&(D.__resizeTriggers__.__animationListener__=o(function(ve){ve.animationName==V&&t(D)},"animationListener"),D.__resizeTriggers__.addEventListener(m,D.__resizeTriggers__.__animationListener__))}D.__resizeListeners__.push(J)}},"addResizeListener"),O=o(function(D,J){if(s)D.detachEvent("onresize",J);else if(D.__resizeListeners__.splice(D.__resizeListeners__.indexOf(J),1),!D.__resizeListeners__.length){D.removeEventListener("scroll",r,!0),D.__resizeTriggers__.__animationListener__&&(D.__resizeTriggers__.removeEventListener(m,D.__resizeTriggers__.__animationListener__),D.__resizeTriggers__.__animationListener__=null);try{D.__resizeTriggers__=!D.removeChild(D.__resizeTriggers__)}catch{}}},"removeResizeListener");return{addResizeListener:B,removeResizeListener:O}}o(f,"createDetectElementResize")}).call(this,h("yLpj"))},mYvd:function(j,l,h){"use strict";h.r(l),h.d(l,"Deflate",function(){return Fa}),h.d(l,"Inflate",function(){return pr}),h.d(l,"constants",function(){return Wa}),h.d(l,"default",function(){return ja}),h.d(l,"deflate",function(){return Va}),h.d(l,"deflateRaw",function(){return Ua}),h.d(l,"gzip",function(){return bl}),h.d(l,"inflate",function(){return As}),h.d(l,"inflateRaw",function(){return Ha}),h.d(l,"ungzip",function(){return za});/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const S=4,f=0,u=1,g=2;function a(C){let U=C.length;for(;--U>=0;)C[U]=0}o(a,"zero$1");const s=0,i=1,e=2,t=3,n=258,r=29,c=256,p=c+1+r,m=30,d=19,y=2*p+1,E=15,w=16,k=7,V=256,N=16,F=17,P=18,B=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),O=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J=512,X=new Array((p+2)*2);a(X);const $=new Array(m*2);a($);const he=new Array(J);a(he);const Ee=new Array(n-t+1);a(Ee);const ke=new Array(r);a(ke);const ve=new Array(m);a(ve);function Be(C,U,M,Y,G){this.static_tree=C,this.extra_bits=U,this.extra_base=M,this.elems=Y,this.max_length=G,this.has_stree=C&&C.length}o(Be,"StaticTreeDesc");let pt,Ve,bt;function lt(C,U){this.dyn_tree=C,this.max_code=0,this.stat_desc=U}o(lt,"TreeDesc");const mt=o(C=>C<256?he[C]:he[256+(C>>>7)],"d_code"),xt=o((C,U)=>{C.pending_buf[C.pending++]=U&255,C.pending_buf[C.pending++]=U>>>8&255},"put_short"),at=o((C,U,M)=>{C.bi_valid>w-M?(C.bi_buf|=U<<C.bi_valid&65535,xt(C,C.bi_buf),C.bi_buf=U>>w-C.bi_valid,C.bi_valid+=M-w):(C.bi_buf|=U<<C.bi_valid&65535,C.bi_valid+=M)},"send_bits"),Mt=o((C,U,M)=>{at(C,M[U*2],M[U*2+1])},"send_code"),kt=o((C,U)=>{let M=0;do M|=C&1,C>>>=1,M<<=1;while(--U>0);return M>>>1},"bi_reverse"),Xe=o(C=>{C.bi_valid===16?(xt(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):C.bi_valid>=8&&(C.pending_buf[C.pending++]=C.bi_buf&255,C.bi_buf>>=8,C.bi_valid-=8)},"bi_flush"),on=o((C,U)=>{const M=U.dyn_tree,Y=U.max_code,G=U.stat_desc.static_tree,re=U.stat_desc.has_stree,be=U.stat_desc.extra_bits,me=U.stat_desc.extra_base,Ze=U.stat_desc.max_length;let fe,Te,en,Ye,xe,It,Hn=0;for(Ye=0;Ye<=E;Ye++)C.bl_count[Ye]=0;for(M[C.heap[C.heap_max]*2+1]=0,fe=C.heap_max+1;fe<y;fe++)Te=C.heap[fe],Ye=M[M[Te*2+1]*2+1]+1,Ye>Ze&&(Ye=Ze,Hn++),M[Te*2+1]=Ye,!(Te>Y)&&(C.bl_count[Ye]++,xe=0,Te>=me&&(xe=be[Te-me]),It=M[Te*2],C.opt_len+=It*(Ye+xe),re&&(C.static_len+=It*(G[Te*2+1]+xe)));if(Hn!==0){do{for(Ye=Ze-1;C.bl_count[Ye]===0;)Ye--;C.bl_count[Ye]--,C.bl_count[Ye+1]+=2,C.bl_count[Ze]--,Hn-=2}while(Hn>0);for(Ye=Ze;Ye!==0;Ye--)for(Te=C.bl_count[Ye];Te!==0;)en=C.heap[--fe],!(en>Y)&&(M[en*2+1]!==Ye&&(C.opt_len+=(Ye-M[en*2+1])*M[en*2],M[en*2+1]=Ye),Te--)}},"gen_bitlen"),Wn=o((C,U,M)=>{const Y=new Array(E+1);let G=0,re,be;for(re=1;re<=E;re++)Y[re]=G=G+M[re-1]<<1;for(be=0;be<=U;be++){let me=C[be*2+1];me!==0&&(C[be*2]=kt(Y[me]++,me))}},"gen_codes"),_n=o(()=>{let C,U,M,Y,G;const re=new Array(E+1);for(M=0,Y=0;Y<r-1;Y++)for(ke[Y]=M,C=0;C<1<<B[Y];C++)Ee[M++]=Y;for(Ee[M-1]=Y,G=0,Y=0;Y<16;Y++)for(ve[Y]=G,C=0;C<1<<O[Y];C++)he[G++]=Y;for(G>>=7;Y<m;Y++)for(ve[Y]=G<<7,C=0;C<1<<O[Y]-7;C++)he[256+G++]=Y;for(U=0;U<=E;U++)re[U]=0;for(C=0;C<=143;)X[C*2+1]=8,C++,re[8]++;for(;C<=255;)X[C*2+1]=9,C++,re[9]++;for(;C<=279;)X[C*2+1]=7,C++,re[7]++;for(;C<=287;)X[C*2+1]=8,C++,re[8]++;for(Wn(X,p+1,re),C=0;C<m;C++)$[C*2+1]=5,$[C*2]=kt(C,5);pt=new Be(X,B,c+1,p,E),Ve=new Be($,O,0,m,E),bt=new Be(new Array(0),R,0,d,k)},"tr_static_init"),On=o(C=>{let U;for(U=0;U<p;U++)C.dyn_ltree[U*2]=0;for(U=0;U<m;U++)C.dyn_dtree[U*2]=0;for(U=0;U<d;U++)C.bl_tree[U*2]=0;C.dyn_ltree[V*2]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0},"init_block"),Xn=o(C=>{C.bi_valid>8?xt(C,C.bi_buf):C.bi_valid>0&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0},"bi_windup"),ci=o((C,U,M,Y)=>{Xn(C),Y&&(xt(C,M),xt(C,~M)),C.pending_buf.set(C.window.subarray(U,U+M),C.pending),C.pending+=M},"copy_block"),Qn=o((C,U,M,Y)=>{const G=U*2,re=M*2;return C[G]<C[re]||C[G]===C[re]&&Y[U]<=Y[M]},"smaller"),Kn=o((C,U,M)=>{const Y=C.heap[M];let G=M<<1;for(;G<=C.heap_len&&(G<C.heap_len&&Qn(U,C.heap[G+1],C.heap[G],C.depth)&&G++,!Qn(U,Y,C.heap[G],C.depth));)C.heap[M]=C.heap[G],M=G,G<<=1;C.heap[M]=Y},"pqdownheap"),Ki=o((C,U,M)=>{let Y,G,re=0,be,me;if(C.last_lit!==0)do Y=C.pending_buf[C.d_buf+re*2]<<8|C.pending_buf[C.d_buf+re*2+1],G=C.pending_buf[C.l_buf+re],re++,Y===0?Mt(C,G,U):(be=Ee[G],Mt(C,be+c+1,U),me=B[be],me!==0&&(G-=ke[be],at(C,G,me)),Y--,be=mt(Y),Mt(C,be,M),me=O[be],me!==0&&(Y-=ve[be],at(C,Y,me)));while(re<C.last_lit);Mt(C,V,U)},"compress_block"),ui=o((C,U)=>{const M=U.dyn_tree,Y=U.stat_desc.static_tree,G=U.stat_desc.has_stree,re=U.stat_desc.elems;let be,me,Ze=-1,fe;for(C.heap_len=0,C.heap_max=y,be=0;be<re;be++)M[be*2]!==0?(C.heap[++C.heap_len]=Ze=be,C.depth[be]=0):M[be*2+1]=0;for(;C.heap_len<2;)fe=C.heap[++C.heap_len]=Ze<2?++Ze:0,M[fe*2]=1,C.depth[fe]=0,C.opt_len--,G&&(C.static_len-=Y[fe*2+1]);for(U.max_code=Ze,be=C.heap_len>>1;be>=1;be--)Kn(C,M,be);fe=re;do be=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Kn(C,M,1),me=C.heap[1],C.heap[--C.heap_max]=be,C.heap[--C.heap_max]=me,M[fe*2]=M[be*2]+M[me*2],C.depth[fe]=(C.depth[be]>=C.depth[me]?C.depth[be]:C.depth[me])+1,M[be*2+1]=M[me*2+1]=fe,C.heap[1]=fe++,Kn(C,M,1);while(C.heap_len>=2);C.heap[--C.heap_max]=C.heap[1],on(C,U),Wn(M,Ze,C.bl_count)},"build_tree"),Fi=o((C,U,M)=>{let Y,G=-1,re,be=U[0*2+1],me=0,Ze=7,fe=4;for(be===0&&(Ze=138,fe=3),U[(M+1)*2+1]=65535,Y=0;Y<=M;Y++)re=be,be=U[(Y+1)*2+1],!(++me<Ze&&re===be)&&(me<fe?C.bl_tree[re*2]+=me:re!==0?(re!==G&&C.bl_tree[re*2]++,C.bl_tree[N*2]++):me<=10?C.bl_tree[F*2]++:C.bl_tree[P*2]++,me=0,G=re,be===0?(Ze=138,fe=3):re===be?(Ze=6,fe=3):(Ze=7,fe=4))},"scan_tree"),zi=o((C,U,M)=>{let Y,G=-1,re,be=U[0*2+1],me=0,Ze=7,fe=4;for(be===0&&(Ze=138,fe=3),Y=0;Y<=M;Y++)if(re=be,be=U[(Y+1)*2+1],!(++me<Ze&&re===be)){if(me<fe)do Mt(C,re,C.bl_tree);while(--me!==0);else re!==0?(re!==G&&(Mt(C,re,C.bl_tree),me--),Mt(C,N,C.bl_tree),at(C,me-3,2)):me<=10?(Mt(C,F,C.bl_tree),at(C,me-3,3)):(Mt(C,P,C.bl_tree),at(C,me-11,7));me=0,G=re,be===0?(Ze=138,fe=3):re===be?(Ze=6,fe=3):(Ze=7,fe=4)}},"send_tree"),qt=o(C=>{let U;for(Fi(C,C.dyn_ltree,C.l_desc.max_code),Fi(C,C.dyn_dtree,C.d_desc.max_code),ui(C,C.bl_desc),U=d-1;U>=3&&C.bl_tree[D[U]*2+1]===0;U--);return C.opt_len+=3*(U+1)+5+5+4,U},"build_bl_tree"),Tn=o((C,U,M,Y)=>{let G;for(at(C,U-257,5),at(C,M-1,5),at(C,Y-4,4),G=0;G<Y;G++)at(C,C.bl_tree[D[G]*2+1],3);zi(C,C.dyn_ltree,U-1),zi(C,C.dyn_dtree,M-1)},"send_all_trees"),vn=o(C=>{let U=4093624447,M;for(M=0;M<=31;M++,U>>>=1)if(U&1&&C.dyn_ltree[M*2]!==0)return f;if(C.dyn_ltree[9*2]!==0||C.dyn_ltree[10*2]!==0||C.dyn_ltree[13*2]!==0)return u;for(M=32;M<c;M++)if(C.dyn_ltree[M*2]!==0)return u;return f},"detect_data_type");let Ot=!1;const bn=o(C=>{Ot||(_n(),Ot=!0),C.l_desc=new lt(C.dyn_ltree,pt),C.d_desc=new lt(C.dyn_dtree,Ve),C.bl_desc=new lt(C.bl_tree,bt),C.bi_buf=0,C.bi_valid=0,On(C)},"_tr_init$1"),Lt=o((C,U,M,Y)=>{at(C,(s<<1)+(Y?1:0),3),ci(C,U,M,!0)},"_tr_stored_block$1"),jn=o(C=>{at(C,i<<1,3),Mt(C,V,X),Xe(C)},"_tr_align$1"),Xi=o((C,U,M,Y)=>{let G,re,be=0;C.level>0?(C.strm.data_type===g&&(C.strm.data_type=vn(C)),ui(C,C.l_desc),ui(C,C.d_desc),be=qt(C),G=C.opt_len+3+7>>>3,re=C.static_len+3+7>>>3,re<=G&&(G=re)):G=re=M+5,M+4<=G&&U!==-1?Lt(C,U,M,Y):C.strategy===S||re===G?(at(C,(i<<1)+(Y?1:0),3),Ki(C,X,$)):(at(C,(e<<1)+(Y?1:0),3),Tn(C,C.l_desc.max_code+1,C.d_desc.max_code+1,be+1),Ki(C,C.dyn_ltree,C.dyn_dtree)),On(C),Y&&Xn(C)},"_tr_flush_block$1"),Gn=o((C,U,M)=>(C.pending_buf[C.d_buf+C.last_lit*2]=U>>>8&255,C.pending_buf[C.d_buf+C.last_lit*2+1]=U&255,C.pending_buf[C.l_buf+C.last_lit]=M&255,C.last_lit++,U===0?C.dyn_ltree[M*2]++:(C.matches++,U--,C.dyn_ltree[(Ee[M]+c+1)*2]++,C.dyn_dtree[mt(U)*2]++),C.last_lit===C.lit_bufsize-1),"_tr_tally$1");var Ti=bn,Tr=Lt,er=Xi,cr=Gn,fi=jn,Wi={_tr_init:Ti,_tr_stored_block:Tr,_tr_flush_block:er,_tr_tally:cr,_tr_align:fi},Re=o((C,U,M,Y)=>{let G=C&65535|0,re=C>>>16&65535|0,be=0;for(;M!==0;){be=M>2e3?2e3:M,M-=be;do G=G+U[Y++]|0,re=re+G|0;while(--be);G%=65521,re%=65521}return G|re<<16|0},"adler32");const Ce=o(()=>{let C,U=[];for(var M=0;M<256;M++){C=M;for(var Y=0;Y<8;Y++)C=C&1?3988292384^C>>>1:C>>>1;U[M]=C}return U},"makeTable"),_e=new Uint32Array(Ce());var tt=o((C,U,M,Y)=>{const G=_e,re=Y+M;C^=-1;for(let be=Y;be<re;be++)C=C>>>8^G[(C^U[be])&255];return C^-1},"crc32"),ht={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:zt,_tr_stored_block:cn,_tr_flush_block:sn,_tr_tally:Qt,_tr_align:Vi}=Wi,{Z_NO_FLUSH:Ci,Z_PARTIAL_FLUSH:gr,Z_FULL_FLUSH:tr,Z_FINISH:Si,Z_BLOCK:Ir,Z_OK:ai,Z_STREAM_END:lr,Z_STREAM_ERROR:ti,Z_DATA_ERROR:wr,Z_BUF_ERROR:Qi,Z_DEFAULT_COMPRESSION:Ur,Z_FILTERED:Ar,Z_HUFFMAN_ONLY:Zi,Z_RLE:io,Z_FIXED:yt,Z_DEFAULT_STRATEGY:ot,Z_UNKNOWN:ln,Z_DEFLATED:Gt}=gt,In=9,Jn=15,z=8,ce=29,Ne=256+1+ce,Ke=30,vt=19,Et=2*Ne+1,Tt=15,$e=3,At=258,Dt=At+$e+1,wn=32,fn=42,Un=69,li=73,Mi=91,Ai=103,hi=113,pi=666,yn=1,ji=2,Ui=3,Hi=4,Or=3,Ii=o((C,U)=>(C.msg=ht[U],U),"err"),Sr=o(C=>(C<<1)-(C>4?9:0),"rank"),qn=o(C=>{let U=C.length;for(;--U>=0;)C[U]=0},"zero");let mi=o((C,U,M)=>(U<<C.hash_shift^M)&C.hash_mask,"HASH_ZLIB");const _i=o(C=>{const U=C.state;let M=U.pending;M>C.avail_out&&(M=C.avail_out),M!==0&&(C.output.set(U.pending_buf.subarray(U.pending_out,U.pending_out+M),C.next_out),C.next_out+=M,U.pending_out+=M,C.total_out+=M,C.avail_out-=M,U.pending-=M,U.pending===0&&(U.pending_out=0))},"flush_pending"),Yn=o((C,U)=>{sn(C,C.block_start>=0?C.block_start:-1,C.strstart-C.block_start,U),C.block_start=C.strstart,_i(C.strm)},"flush_block_only"),Ut=o((C,U)=>{C.pending_buf[C.pending++]=U},"put_byte"),nr=o((C,U)=>{C.pending_buf[C.pending++]=U>>>8&255,C.pending_buf[C.pending++]=U&255},"putShortMSB"),Bs=o((C,U,M,Y)=>{let G=C.avail_in;return G>Y&&(G=Y),G===0?0:(C.avail_in-=G,U.set(C.input.subarray(C.next_in,C.next_in+G),M),C.state.wrap===1?C.adler=Re(C.adler,U,G,M):C.state.wrap===2&&(C.adler=tt(C.adler,U,G,M)),C.next_in+=G,C.total_in+=G,G)},"read_buf"),Qr=o((C,U)=>{let M=C.max_chain_length,Y=C.strstart,G,re,be=C.prev_length,me=C.nice_match;const Ze=C.strstart>C.w_size-Dt?C.strstart-(C.w_size-Dt):0,fe=C.window,Te=C.w_mask,en=C.prev,Ye=C.strstart+At;let xe=fe[Y+be-1],It=fe[Y+be];C.prev_length>=C.good_match&&(M>>=2),me>C.lookahead&&(me=C.lookahead);do if(G=U,!(fe[G+be]!==It||fe[G+be-1]!==xe||fe[G]!==fe[Y]||fe[++G]!==fe[Y+1])){Y+=2,G++;do;while(fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&fe[++Y]===fe[++G]&&Y<Ye);if(re=At-(Ye-Y),Y=Ye-At,re>be){if(C.match_start=U,be=re,re>=me)break;xe=fe[Y+be-1],It=fe[Y+be]}}while((U=en[U&Te])>Ze&&--M!==0);return be<=C.lookahead?be:C.lookahead},"longest_match"),dr=o(C=>{const U=C.w_size;let M,Y,G,re,be;do{if(re=C.window_size-C.lookahead-C.strstart,C.strstart>=U+(U-Dt)){C.window.set(C.window.subarray(U,U+U),0),C.match_start-=U,C.strstart-=U,C.block_start-=U,Y=C.hash_size,M=Y;do G=C.head[--M],C.head[M]=G>=U?G-U:0;while(--Y);Y=U,M=Y;do G=C.prev[--M],C.prev[M]=G>=U?G-U:0;while(--Y);re+=U}if(C.strm.avail_in===0)break;if(Y=Bs(C.strm,C.window,C.strstart+C.lookahead,re),C.lookahead+=Y,C.lookahead+C.insert>=$e)for(be=C.strstart-C.insert,C.ins_h=C.window[be],C.ins_h=mi(C,C.ins_h,C.window[be+1]);C.insert&&(C.ins_h=mi(C,C.ins_h,C.window[be+$e-1]),C.prev[be&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=be,be++,C.insert--,!(C.lookahead+C.insert<$e)););}while(C.lookahead<Dt&&C.strm.avail_in!==0)},"fill_window"),Zr=o((C,U)=>{let M=65535;for(M>C.pending_buf_size-5&&(M=C.pending_buf_size-5);;){if(C.lookahead<=1){if(dr(C),C.lookahead===0&&U===Ci)return yn;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;const Y=C.block_start+M;if((C.strstart===0||C.strstart>=Y)&&(C.lookahead=C.strstart-Y,C.strstart=Y,Yn(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-Dt&&(Yn(C,!1),C.strm.avail_out===0))return yn}return C.insert=0,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):(C.strstart>C.block_start&&(Yn(C,!1),C.strm.avail_out===0),yn)},"deflate_stored"),qr=o((C,U)=>{let M,Y;for(;;){if(C.lookahead<Dt){if(dr(C),C.lookahead<Dt&&U===Ci)return yn;if(C.lookahead===0)break}if(M=0,C.lookahead>=$e&&(C.ins_h=mi(C,C.ins_h,C.window[C.strstart+$e-1]),M=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),M!==0&&C.strstart-M<=C.w_size-Dt&&(C.match_length=Qr(C,M)),C.match_length>=$e)if(Y=Qt(C,C.strstart-C.match_start,C.match_length-$e),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=$e){C.match_length--;do C.strstart++,C.ins_h=mi(C,C.ins_h,C.window[C.strstart+$e-1]),M=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart;while(--C.match_length!==0);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=mi(C,C.ins_h,C.window[C.strstart+1]);else Y=Qt(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(Y&&(Yn(C,!1),C.strm.avail_out===0))return yn}return C.insert=C.strstart<$e-1?C.strstart:$e-1,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):C.last_lit&&(Yn(C,!1),C.strm.avail_out===0)?yn:ji},"deflate_fast"),ur=o((C,U)=>{let M,Y,G;for(;;){if(C.lookahead<Dt){if(dr(C),C.lookahead<Dt&&U===Ci)return yn;if(C.lookahead===0)break}if(M=0,C.lookahead>=$e&&(C.ins_h=mi(C,C.ins_h,C.window[C.strstart+$e-1]),M=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=$e-1,M!==0&&C.prev_length<C.max_lazy_match&&C.strstart-M<=C.w_size-Dt&&(C.match_length=Qr(C,M),C.match_length<=5&&(C.strategy===Ar||C.match_length===$e&&C.strstart-C.match_start>4096)&&(C.match_length=$e-1)),C.prev_length>=$e&&C.match_length<=C.prev_length){G=C.strstart+C.lookahead-$e,Y=Qt(C,C.strstart-1-C.prev_match,C.prev_length-$e),C.lookahead-=C.prev_length-1,C.prev_length-=2;do++C.strstart<=G&&(C.ins_h=mi(C,C.ins_h,C.window[C.strstart+$e-1]),M=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart);while(--C.prev_length!==0);if(C.match_available=0,C.match_length=$e-1,C.strstart++,Y&&(Yn(C,!1),C.strm.avail_out===0))return yn}else if(C.match_available){if(Y=Qt(C,0,C.window[C.strstart-1]),Y&&Yn(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return yn}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(Y=Qt(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<$e-1?C.strstart:$e-1,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):C.last_lit&&(Yn(C,!1),C.strm.avail_out===0)?yn:ji},"deflate_slow"),Fs=o((C,U)=>{let M,Y,G,re;const be=C.window;for(;;){if(C.lookahead<=At){if(dr(C),C.lookahead<=At&&U===Ci)return yn;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=$e&&C.strstart>0&&(G=C.strstart-1,Y=be[G],Y===be[++G]&&Y===be[++G]&&Y===be[++G])){re=C.strstart+At;do;while(Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&Y===be[++G]&&G<re);C.match_length=At-(re-G),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=$e?(M=Qt(C,1,C.match_length-$e),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(M=Qt(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),M&&(Yn(C,!1),C.strm.avail_out===0))return yn}return C.insert=0,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):C.last_lit&&(Yn(C,!1),C.strm.avail_out===0)?yn:ji},"deflate_rle"),Vs=o((C,U)=>{let M;for(;;){if(C.lookahead===0&&(dr(C),C.lookahead===0)){if(U===Ci)return yn;break}if(C.match_length=0,M=Qt(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,M&&(Yn(C,!1),C.strm.avail_out===0))return yn}return C.insert=0,U===Si?(Yn(C,!0),C.strm.avail_out===0?Ui:Hi):C.last_lit&&(Yn(C,!1),C.strm.avail_out===0)?yn:ji},"deflate_huff");function Li(C,U,M,Y,G){this.good_length=C,this.max_lazy=U,this.nice_length=M,this.max_chain=Y,this.func=G}o(Li,"Config");const Pr=[new Li(0,0,0,0,Zr),new Li(4,4,8,4,qr),new Li(4,5,16,8,qr),new Li(4,6,32,32,qr),new Li(4,4,16,16,ur),new Li(8,16,32,32,ur),new Li(8,16,128,128,ur),new Li(8,32,128,256,ur),new Li(32,128,258,1024,ur),new Li(32,258,258,4096,ur)],xo=o(C=>{C.window_size=2*C.w_size,qn(C.head),C.max_lazy_match=Pr[C.level].max_lazy,C.good_match=Pr[C.level].good_length,C.nice_match=Pr[C.level].nice_length,C.max_chain_length=Pr[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=$e-1,C.match_available=0,C.ins_h=0},"lm_init");function Us(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Gt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Et*2),this.dyn_dtree=new Uint16Array((2*Ke+1)*2),this.bl_tree=new Uint16Array((2*vt+1)*2),qn(this.dyn_ltree),qn(this.dyn_dtree),qn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Tt+1),this.heap=new Uint16Array(2*Ne+1),qn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ne+1),qn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}o(Us,"DeflateState");const $r=o(C=>{if(!C||!C.state)return Ii(C,ti);C.total_in=C.total_out=0,C.data_type=ln;const U=C.state;return U.pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?fn:hi,C.adler=U.wrap===2?0:1,U.last_flush=Ci,zt(U),ai},"deflateResetKeep"),So=o(C=>{const U=$r(C);return U===ai&&xo(C.state),U},"deflateReset"),ao=o((C,U)=>!C||!C.state||C.state.wrap!==2?ti:(C.state.gzhead=U,ai),"deflateSetHeader"),Bo=o((C,U,M,Y,G,re)=>{if(!C)return ti;let be=1;if(U===Ur&&(U=6),Y<0?(be=0,Y=-Y):Y>15&&(be=2,Y-=16),G<1||G>In||M!==Gt||Y<8||Y>15||U<0||U>9||re<0||re>yt)return Ii(C,ti);Y===8&&(Y=9);const me=new Us;return C.state=me,me.strm=C,me.wrap=be,me.gzhead=null,me.w_bits=Y,me.w_size=1<<me.w_bits,me.w_mask=me.w_size-1,me.hash_bits=G+7,me.hash_size=1<<me.hash_bits,me.hash_mask=me.hash_size-1,me.hash_shift=~~((me.hash_bits+$e-1)/$e),me.window=new Uint8Array(me.w_size*2),me.head=new Uint16Array(me.hash_size),me.prev=new Uint16Array(me.w_size),me.lit_bufsize=1<<G+6,me.pending_buf_size=me.lit_bufsize*4,me.pending_buf=new Uint8Array(me.pending_buf_size),me.d_buf=1*me.lit_bufsize,me.l_buf=(1+2)*me.lit_bufsize,me.level=U,me.strategy=re,me.method=M,So(C)},"deflateInit2"),vs=o((C,U)=>Bo(C,U,Gt,Jn,z,ot),"deflateInit"),ys=o((C,U)=>{let M,Y;if(!C||!C.state||U>Ir||U<0)return C?Ii(C,ti):ti;const G=C.state;if(!C.output||!C.input&&C.avail_in!==0||G.status===pi&&U!==Si)return Ii(C,C.avail_out===0?Qi:ti);G.strm=C;const re=G.last_flush;if(G.last_flush=U,G.status===fn)if(G.wrap===2)C.adler=0,Ut(G,31),Ut(G,139),Ut(G,8),G.gzhead?(Ut(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),Ut(G,G.gzhead.time&255),Ut(G,G.gzhead.time>>8&255),Ut(G,G.gzhead.time>>16&255),Ut(G,G.gzhead.time>>24&255),Ut(G,G.level===9?2:G.strategy>=Zi||G.level<2?4:0),Ut(G,G.gzhead.os&255),G.gzhead.extra&&G.gzhead.extra.length&&(Ut(G,G.gzhead.extra.length&255),Ut(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(C.adler=tt(C.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=Un):(Ut(G,0),Ut(G,0),Ut(G,0),Ut(G,0),Ut(G,0),Ut(G,G.level===9?2:G.strategy>=Zi||G.level<2?4:0),Ut(G,Or),G.status=hi);else{let be=Gt+(G.w_bits-8<<4)<<8,me=-1;G.strategy>=Zi||G.level<2?me=0:G.level<6?me=1:G.level===6?me=2:me=3,be|=me<<6,G.strstart!==0&&(be|=wn),be+=31-be%31,G.status=hi,nr(G,be),G.strstart!==0&&(nr(G,C.adler>>>16),nr(G,C.adler&65535)),C.adler=1}if(G.status===Un)if(G.gzhead.extra){for(M=G.pending;G.gzindex<(G.gzhead.extra.length&65535)&&!(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),_i(C),M=G.pending,G.pending===G.pending_buf_size));)Ut(G,G.gzhead.extra[G.gzindex]&255),G.gzindex++;G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=li)}else G.status=li;if(G.status===li)if(G.gzhead.name){M=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),_i(C),M=G.pending,G.pending===G.pending_buf_size)){Y=1;break}G.gzindex<G.gzhead.name.length?Y=G.gzhead.name.charCodeAt(G.gzindex++)&255:Y=0,Ut(G,Y)}while(Y!==0);G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),Y===0&&(G.gzindex=0,G.status=Mi)}else G.status=Mi;if(G.status===Mi)if(G.gzhead.comment){M=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),_i(C),M=G.pending,G.pending===G.pending_buf_size)){Y=1;break}G.gzindex<G.gzhead.comment.length?Y=G.gzhead.comment.charCodeAt(G.gzindex++)&255:Y=0,Ut(G,Y)}while(Y!==0);G.gzhead.hcrc&&G.pending>M&&(C.adler=tt(C.adler,G.pending_buf,G.pending-M,M)),Y===0&&(G.status=Ai)}else G.status=Ai;if(G.status===Ai&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&_i(C),G.pending+2<=G.pending_buf_size&&(Ut(G,C.adler&255),Ut(G,C.adler>>8&255),C.adler=0,G.status=hi)):G.status=hi),G.pending!==0){if(_i(C),C.avail_out===0)return G.last_flush=-1,ai}else if(C.avail_in===0&&Sr(U)<=Sr(re)&&U!==Si)return Ii(C,Qi);if(G.status===pi&&C.avail_in!==0)return Ii(C,Qi);if(C.avail_in!==0||G.lookahead!==0||U!==Ci&&G.status!==pi){let be=G.strategy===Zi?Vs(G,U):G.strategy===io?Fs(G,U):Pr[G.level].func(G,U);if((be===Ui||be===Hi)&&(G.status=pi),be===yn||be===Ui)return C.avail_out===0&&(G.last_flush=-1),ai;if(be===ji&&(U===gr?Vi(G):U!==Ir&&(cn(G,0,0,!1),U===tr&&(qn(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),_i(C),C.avail_out===0))return G.last_flush=-1,ai}return U!==Si?ai:G.wrap<=0?lr:(G.wrap===2?(Ut(G,C.adler&255),Ut(G,C.adler>>8&255),Ut(G,C.adler>>16&255),Ut(G,C.adler>>24&255),Ut(G,C.total_in&255),Ut(G,C.total_in>>8&255),Ut(G,C.total_in>>16&255),Ut(G,C.total_in>>24&255)):(nr(G,C.adler>>>16),nr(G,C.adler&65535)),_i(C),G.wrap>0&&(G.wrap=-G.wrap),G.pending!==0?ai:lr)},"deflate$2"),qo=o(C=>{if(!C||!C.state)return ti;const U=C.state.status;return U!==fn&&U!==Un&&U!==li&&U!==Mi&&U!==Ai&&U!==hi&&U!==pi?Ii(C,ti):(C.state=null,U===hi?Ii(C,wr):ai)},"deflateEnd"),bs=o((C,U)=>{let M=U.length;if(!C||!C.state)return ti;const Y=C.state,G=Y.wrap;if(G===2||G===1&&Y.status!==fn||Y.lookahead)return ti;if(G===1&&(C.adler=Re(C.adler,U,M,0)),Y.wrap=0,M>=Y.w_size){G===0&&(qn(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0);let Ze=new Uint8Array(Y.w_size);Ze.set(U.subarray(M-Y.w_size,M),0),U=Ze,M=Y.w_size}const re=C.avail_in,be=C.next_in,me=C.input;for(C.avail_in=M,C.next_in=0,C.input=U,dr(Y);Y.lookahead>=$e;){let Ze=Y.strstart,fe=Y.lookahead-($e-1);do Y.ins_h=mi(Y,Y.ins_h,Y.window[Ze+$e-1]),Y.prev[Ze&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Ze,Ze++;while(--fe);Y.strstart=Ze,Y.lookahead=$e-1,dr(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=$e-1,Y.match_available=0,C.next_in=be,C.input=me,C.avail_in=re,Y.wrap=G,ai},"deflateSetDictionary");var Cs=vs,lo=Bo,eo=So,ro=$r,co=ao,vo=ys,yo=qo,Fo=bs,es="pako deflate (from Nodeca project)",vr={deflateInit:Cs,deflateInit2:lo,deflateReset:eo,deflateResetKeep:ro,deflateSetHeader:co,deflate:vo,deflateEnd:yo,deflateSetDictionary:Fo,deflateInfo:es};const ts=o((C,U)=>Object.prototype.hasOwnProperty.call(C,U),"_has");var Es=o(function(C){const U=Array.prototype.slice.call(arguments,1);for(;U.length;){const M=U.shift();if(M){if(typeof M!="object")throw new TypeError(M+"must be non-object");for(const Y in M)ts(M,Y)&&(C[Y]=M[Y])}}return C},"assign"),ns=o(C=>{let U=0;for(let Y=0,G=C.length;Y<G;Y++)U+=C[Y].length;const M=new Uint8Array(U);for(let Y=0,G=0,re=C.length;Y<re;Y++){let be=C[Y];M.set(be,G),G+=be.length}return M},"flattenChunks"),Kr={assign:Es,flattenChunks:ns};let Vo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Vo=!1}const _r=new Uint8Array(256);for(let C=0;C<256;C++)_r[C]=C>=252?6:C>=248?5:C>=240?4:C>=224?3:C>=192?2:1;_r[254]=_r[254]=1;var uo=o(C=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(C);let U,M,Y,G,re,be=C.length,me=0;for(G=0;G<be;G++)M=C.charCodeAt(G),(M&64512)===55296&&G+1<be&&(Y=C.charCodeAt(G+1),(Y&64512)===56320&&(M=65536+(M-55296<<10)+(Y-56320),G++)),me+=M<128?1:M<2048?2:M<65536?3:4;for(U=new Uint8Array(me),re=0,G=0;re<me;G++)M=C.charCodeAt(G),(M&64512)===55296&&G+1<be&&(Y=C.charCodeAt(G+1),(Y&64512)===56320&&(M=65536+(M-55296<<10)+(Y-56320),G++)),M<128?U[re++]=M:M<2048?(U[re++]=192|M>>>6,U[re++]=128|M&63):M<65536?(U[re++]=224|M>>>12,U[re++]=128|M>>>6&63,U[re++]=128|M&63):(U[re++]=240|M>>>18,U[re++]=128|M>>>12&63,U[re++]=128|M>>>6&63,U[re++]=128|M&63);return U},"string2buf");const fo=o((C,U)=>{if(U<65534&&C.subarray&&Vo)return String.fromCharCode.apply(null,C.length===U?C:C.subarray(0,U));let M="";for(let Y=0;Y<U;Y++)M+=String.fromCharCode(C[Y]);return M},"buf2binstring");var Uo=o((C,U)=>{const M=U||C.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(C.subarray(0,U));let Y,G;const re=new Array(M*2);for(G=0,Y=0;Y<M;){let be=C[Y++];if(be<128){re[G++]=be;continue}let me=_r[be];if(me>4){re[G++]=65533,Y+=me-1;continue}for(be&=me===2?31:me===3?15:7;me>1&&Y<M;)be=be<<6|C[Y++]&63,me--;if(me>1){re[G++]=65533;continue}be<65536?re[G++]=be:(be-=65536,re[G++]=55296|be>>10&1023,re[G++]=56320|be&1023)}return fo(re,G)},"buf2string"),oo=o((C,U)=>{U=U||C.length,U>C.length&&(U=C.length);let M=U-1;for(;M>=0&&(C[M]&192)===128;)M--;return M<0||M===0?U:M+_r[C[M]]>U?M:U},"utf8border"),Hr={string2buf:uo,buf2string:Uo,utf8border:oo};function bo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}o(bo,"ZStream");var Co=bo;const zr=Object.prototype.toString,{Z_NO_FLUSH:ho,Z_SYNC_FLUSH:Ho,Z_FULL_FLUSH:Ts,Z_FINISH:Hs,Z_OK:kr,Z_STREAM_END:is,Z_DEFAULT_COMPRESSION:Wr,Z_DEFAULT_STRATEGY:zs,Z_DEFLATED:Ws}=gt;function Jr(C){this.options=Kr.assign({level:Wr,method:Ws,chunkSize:16384,windowBits:15,memLevel:8,strategy:zs},C||{});let U=this.options;U.raw&&U.windowBits>0?U.windowBits=-U.windowBits:U.gzip&&U.windowBits>0&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Co,this.strm.avail_out=0;let M=vr.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(M!==kr)throw new Error(ht[M]);if(U.header&&vr.deflateSetHeader(this.strm,U.header),U.dictionary){let Y;if(typeof U.dictionary=="string"?Y=Hr.string2buf(U.dictionary):zr.call(U.dictionary)==="[object ArrayBuffer]"?Y=new Uint8Array(U.dictionary):Y=U.dictionary,M=vr.deflateSetDictionary(this.strm,Y),M!==kr)throw new Error(ht[M]);this._dict_set=!0}}o(Jr,"Deflate$1"),Jr.prototype.push=function(C,U){const M=this.strm,Y=this.options.chunkSize;let G,re;if(this.ended)return!1;for(U===~~U?re=U:re=U===!0?Hs:ho,typeof C=="string"?M.input=Hr.string2buf(C):zr.call(C)==="[object ArrayBuffer]"?M.input=new Uint8Array(C):M.input=C,M.next_in=0,M.avail_in=M.input.length;;){if(M.avail_out===0&&(M.output=new Uint8Array(Y),M.next_out=0,M.avail_out=Y),(re===Ho||re===Ts)&&M.avail_out<=6){this.onData(M.output.subarray(0,M.next_out)),M.avail_out=0;continue}if(G=vr.deflate(M,re),G===is)return M.next_out>0&&this.onData(M.output.subarray(0,M.next_out)),G=vr.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===kr;if(M.avail_out===0){this.onData(M.output);continue}if(re>0&&M.next_out>0){this.onData(M.output.subarray(0,M.next_out)),M.avail_out=0;continue}if(M.avail_in===0)break}return!0},Jr.prototype.onData=function(C){this.chunks.push(C)},Jr.prototype.onEnd=function(C){C===kr&&(this.result=Kr.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function Eo(C,U){const M=new Jr(U);if(M.push(C,!0),M.err)throw M.msg||ht[M.err];return M.result}o(Eo,"deflate$1");function rs(C,U){return U=U||{},U.raw=!0,Eo(C,U)}o(rs,"deflateRaw$1");function zo(C,U){return U=U||{},U.gzip=!0,Eo(C,U)}o(zo,"gzip$1");var Is=Jr,ir=Eo,Wo=rs,To=zo,os=gt,ws={Deflate:Is,deflate:ir,deflateRaw:Wo,gzip:To,constants:os};const Yr=30,js=12;var jo=o(function(U,M){let Y,G,re,be,me,Ze,fe,Te,en,Ye,xe,It,Hn,Zt,Bt,pn,Kt,Ge,tn,ze,Rt,nt,gn,Ft;const Ht=U.state;Y=U.next_in,gn=U.input,G=Y+(U.avail_in-5),re=U.next_out,Ft=U.output,be=re-(M-U.avail_out),me=re+(U.avail_out-257),Ze=Ht.dmax,fe=Ht.wsize,Te=Ht.whave,en=Ht.wnext,Ye=Ht.window,xe=Ht.hold,It=Ht.bits,Hn=Ht.lencode,Zt=Ht.distcode,Bt=(1<<Ht.lenbits)-1,pn=(1<<Ht.distbits)-1;e:do{It<15&&(xe+=gn[Y++]<<It,It+=8,xe+=gn[Y++]<<It,It+=8),Kt=Hn[xe&Bt];t:for(;;){if(Ge=Kt>>>24,xe>>>=Ge,It-=Ge,Ge=Kt>>>16&255,Ge===0)Ft[re++]=Kt&65535;else if(Ge&16){tn=Kt&65535,Ge&=15,Ge&&(It<Ge&&(xe+=gn[Y++]<<It,It+=8),tn+=xe&(1<<Ge)-1,xe>>>=Ge,It-=Ge),It<15&&(xe+=gn[Y++]<<It,It+=8,xe+=gn[Y++]<<It,It+=8),Kt=Zt[xe&pn];n:for(;;){if(Ge=Kt>>>24,xe>>>=Ge,It-=Ge,Ge=Kt>>>16&255,Ge&16){if(ze=Kt&65535,Ge&=15,It<Ge&&(xe+=gn[Y++]<<It,It+=8,It<Ge&&(xe+=gn[Y++]<<It,It+=8)),ze+=xe&(1<<Ge)-1,ze>Ze){U.msg="invalid distance too far back",Ht.mode=Yr;break e}if(xe>>>=Ge,It-=Ge,Ge=re-be,ze>Ge){if(Ge=ze-Ge,Ge>Te&&Ht.sane){U.msg="invalid distance too far back",Ht.mode=Yr;break e}if(Rt=0,nt=Ye,en===0){if(Rt+=fe-Ge,Ge<tn){tn-=Ge;do Ft[re++]=Ye[Rt++];while(--Ge);Rt=re-ze,nt=Ft}}else if(en<Ge){if(Rt+=fe+en-Ge,Ge-=en,Ge<tn){tn-=Ge;do Ft[re++]=Ye[Rt++];while(--Ge);if(Rt=0,en<tn){Ge=en,tn-=Ge;do Ft[re++]=Ye[Rt++];while(--Ge);Rt=re-ze,nt=Ft}}}else if(Rt+=en-Ge,Ge<tn){tn-=Ge;do Ft[re++]=Ye[Rt++];while(--Ge);Rt=re-ze,nt=Ft}for(;tn>2;)Ft[re++]=nt[Rt++],Ft[re++]=nt[Rt++],Ft[re++]=nt[Rt++],tn-=3;tn&&(Ft[re++]=nt[Rt++],tn>1&&(Ft[re++]=nt[Rt++]))}else{Rt=re-ze;do Ft[re++]=Ft[Rt++],Ft[re++]=Ft[Rt++],Ft[re++]=Ft[Rt++],tn-=3;while(tn>2);tn&&(Ft[re++]=Ft[Rt++],tn>1&&(Ft[re++]=Ft[Rt++]))}}else if(Ge&64){U.msg="invalid distance code",Ht.mode=Yr;break e}else{Kt=Zt[(Kt&65535)+(xe&(1<<Ge)-1)];continue n}break}}else if(Ge&64)if(Ge&32){Ht.mode=js;break e}else{U.msg="invalid literal/length code",Ht.mode=Yr;break e}else{Kt=Hn[(Kt&65535)+(xe&(1<<Ge)-1)];continue t}break}}while(Y<G&&re<me);tn=It>>3,Y-=tn,It-=tn<<3,xe&=(1<<It)-1,U.next_in=Y,U.next_out=re,U.avail_in=Y<G?5+(G-Y):5-(Y-G),U.avail_out=re<me?257+(me-re):257-(re-me),Ht.hold=xe,Ht.bits=It},"inflate_fast");const fr=15,Go=852,ss=592,as=0,$o=1,Io=2,wo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ls=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ds=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Xr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var jr=o((C,U,M,Y,G,re,be,me)=>{const Ze=me.bits;let fe=0,Te=0,en=0,Ye=0,xe=0,It=0,Hn=0,Zt=0,Bt=0,pn=0,Kt,Ge,tn,ze,Rt,nt=null,gn=0,Ft;const Ht=new Uint16Array(fr+1),no=new Uint16Array(fr+1);let hn=null,Cl=0,un,qs,Ps;for(fe=0;fe<=fr;fe++)Ht[fe]=0;for(Te=0;Te<Y;Te++)Ht[U[M+Te]]++;for(xe=Ze,Ye=fr;Ye>=1&&Ht[Ye]===0;Ye--);if(xe>Ye&&(xe=Ye),Ye===0)return G[re++]=1<<24|64<<16|0,G[re++]=1<<24|64<<16|0,me.bits=1,0;for(en=1;en<Ye&&Ht[en]===0;en++);for(xe<en&&(xe=en),Zt=1,fe=1;fe<=fr;fe++)if(Zt<<=1,Zt-=Ht[fe],Zt<0)return-1;if(Zt>0&&(C===as||Ye!==1))return-1;for(no[1]=0,fe=1;fe<fr;fe++)no[fe+1]=no[fe]+Ht[fe];for(Te=0;Te<Y;Te++)U[M+Te]!==0&&(be[no[U[M+Te]]++]=Te);if(C===as?(nt=hn=be,Ft=19):C===$o?(nt=wo,gn-=257,hn=ls,Cl-=257,Ft=256):(nt=ds,hn=Xr,Ft=-1),pn=0,Te=0,fe=en,Rt=re,It=xe,Hn=0,tn=-1,Bt=1<<xe,ze=Bt-1,C===$o&&Bt>Go||C===Io&&Bt>ss)return 1;for(;;){un=fe-Hn,be[Te]<Ft?(qs=0,Ps=be[Te]):be[Te]>Ft?(qs=hn[Cl+be[Te]],Ps=nt[gn+be[Te]]):(qs=32+64,Ps=0),Kt=1<<fe-Hn,Ge=1<<It,en=Ge;do Ge-=Kt,G[Rt+(pn>>Hn)+Ge]=un<<24|qs<<16|Ps|0;while(Ge!==0);for(Kt=1<<fe-1;pn&Kt;)Kt>>=1;if(Kt!==0?(pn&=Kt-1,pn+=Kt):pn=0,Te++,--Ht[fe]===0){if(fe===Ye)break;fe=U[M+be[Te]]}if(fe>xe&&(pn&ze)!==tn){for(Hn===0&&(Hn=xe),Rt+=en,It=fe-Hn,Zt=1<<It;It+Hn<Ye&&(Zt-=Ht[It+Hn],!(Zt<=0));)It++,Zt<<=1;if(Bt+=1<<It,C===$o&&Bt>Go||C===Io&&Bt>ss)return 1;tn=pn&ze,G[tn]=xe<<24|It<<16|Rt-re|0}}return pn!==0&&(G[Rt+pn]=fe-Hn<<24|64<<16|0),me.bits=xe,0},"inflate_table");const Gs=0,Oo=1,Mo=2,{Z_FINISH:Ro,Z_BLOCK:Os,Z_TREES:Ko,Z_OK:Ji,Z_STREAM_END:Ms,Z_NEED_DICT:Ao,Z_STREAM_ERROR:Ni,Z_DATA_ERROR:$s,Z_MEM_ERROR:Jo,Z_BUF_ERROR:po,Z_DEFLATED:hr}=gt,Ks=1,cs=2,Yo=3,us=4,Js=5,Ys=6,Xs=7,Qs=8,Rs=9,la=10,Xo=11,rr=12,Po=13,fs=14,ne=15,te=16,Z=17,A=18,Q=19,se=20,oe=21,Se=22,Ie=23,Pe=24,De=25,Le=26,je=27,Je=28,ct=29,Qe=30,Yt=31,nn=32,Cn=852,Rn=592,$n=15,ri=o(C=>(C>>>24&255)+(C>>>8&65280)+((C&65280)<<8)+((C&255)<<24),"zswap32");function ii(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}o(ii,"InflateState");const wi=o(C=>{if(!C||!C.state)return Ni;const U=C.state;return C.total_in=C.total_out=U.total=0,C.msg="",U.wrap&&(C.adler=U.wrap&1),U.mode=Ks,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new Int32Array(Cn),U.distcode=U.distdyn=new Int32Array(Rn),U.sane=1,U.back=-1,Ji},"inflateResetKeep"),ki=o(C=>{if(!C||!C.state)return Ni;const U=C.state;return U.wsize=0,U.whave=0,U.wnext=0,wi(C)},"inflateReset"),di=o((C,U)=>{let M;if(!C||!C.state)return Ni;const Y=C.state;return U<0?(M=0,U=-U):(M=(U>>4)+1,U<48&&(U&=15)),U&&(U<8||U>15)?Ni:(Y.window!==null&&Y.wbits!==U&&(Y.window=null),Y.wrap=M,Y.wbits=U,ki(C))},"inflateReset2"),yi=o((C,U)=>{if(!C)return Ni;const M=new ii;C.state=M,M.window=null;const Y=di(C,U);return Y!==Ji&&(C.state=null),Y},"inflateInit2"),or=o(C=>yi(C,$n),"inflateInit");let Ri=!0,Gi,Gr;const mo=o(C=>{if(Ri){Gi=new Int32Array(512),Gr=new Int32Array(32);let U=0;for(;U<144;)C.lens[U++]=8;for(;U<256;)C.lens[U++]=9;for(;U<280;)C.lens[U++]=7;for(;U<288;)C.lens[U++]=8;for(jr(Oo,C.lens,0,288,Gi,0,C.work,{bits:9}),U=0;U<32;)C.lens[U++]=5;jr(Mo,C.lens,0,32,Gr,0,C.work,{bits:5}),Ri=!1}C.lencode=Gi,C.lenbits=9,C.distcode=Gr,C.distbits=5},"fixedtables"),yr=o((C,U,M,Y)=>{let G;const re=C.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new Uint8Array(re.wsize)),Y>=re.wsize?(re.window.set(U.subarray(M-re.wsize,M),0),re.wnext=0,re.whave=re.wsize):(G=re.wsize-re.wnext,G>Y&&(G=Y),re.window.set(U.subarray(M-Y,M-Y+G),re.wnext),Y-=G,Y?(re.window.set(U.subarray(M-Y,M),0),re.wnext=Y,re.whave=re.wsize):(re.wnext+=G,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=G))),0},"updatewindow"),En=o((C,U)=>{let M,Y,G,re,be,me,Ze,fe,Te,en,Ye,xe,It,Hn,Zt=0,Bt,pn,Kt,Ge,tn,ze,Rt,nt;const gn=new Uint8Array(4);let Ft,Ht;const no=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return Ni;M=C.state,M.mode===rr&&(M.mode=Po),be=C.next_out,G=C.output,Ze=C.avail_out,re=C.next_in,Y=C.input,me=C.avail_in,fe=M.hold,Te=M.bits,en=me,Ye=Ze,nt=Ji;e:for(;;)switch(M.mode){case Ks:if(M.wrap===0){M.mode=Po;break}for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(M.wrap&2&&fe===35615){M.check=0,gn[0]=fe&255,gn[1]=fe>>>8&255,M.check=tt(M.check,gn,2,0),fe=0,Te=0,M.mode=cs;break}if(M.flags=0,M.head&&(M.head.done=!1),!(M.wrap&1)||(((fe&255)<<8)+(fe>>8))%31){C.msg="incorrect header check",M.mode=Qe;break}if((fe&15)!==hr){C.msg="unknown compression method",M.mode=Qe;break}if(fe>>>=4,Te-=4,Rt=(fe&15)+8,M.wbits===0)M.wbits=Rt;else if(Rt>M.wbits){C.msg="invalid window size",M.mode=Qe;break}M.dmax=1<<M.wbits,C.adler=M.check=1,M.mode=fe&512?la:rr,fe=0,Te=0;break;case cs:for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(M.flags=fe,(M.flags&255)!==hr){C.msg="unknown compression method",M.mode=Qe;break}if(M.flags&57344){C.msg="unknown header flags set",M.mode=Qe;break}M.head&&(M.head.text=fe>>8&1),M.flags&512&&(gn[0]=fe&255,gn[1]=fe>>>8&255,M.check=tt(M.check,gn,2,0)),fe=0,Te=0,M.mode=Yo;case Yo:for(;Te<32;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.head&&(M.head.time=fe),M.flags&512&&(gn[0]=fe&255,gn[1]=fe>>>8&255,gn[2]=fe>>>16&255,gn[3]=fe>>>24&255,M.check=tt(M.check,gn,4,0)),fe=0,Te=0,M.mode=us;case us:for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.head&&(M.head.xflags=fe&255,M.head.os=fe>>8),M.flags&512&&(gn[0]=fe&255,gn[1]=fe>>>8&255,M.check=tt(M.check,gn,2,0)),fe=0,Te=0,M.mode=Js;case Js:if(M.flags&1024){for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.length=fe,M.head&&(M.head.extra_len=fe),M.flags&512&&(gn[0]=fe&255,gn[1]=fe>>>8&255,M.check=tt(M.check,gn,2,0)),fe=0,Te=0}else M.head&&(M.head.extra=null);M.mode=Ys;case Ys:if(M.flags&1024&&(xe=M.length,xe>me&&(xe=me),xe&&(M.head&&(Rt=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Uint8Array(M.head.extra_len)),M.head.extra.set(Y.subarray(re,re+xe),Rt)),M.flags&512&&(M.check=tt(M.check,Y,xe,re)),me-=xe,re+=xe,M.length-=xe),M.length))break e;M.length=0,M.mode=Xs;case Xs:if(M.flags&2048){if(me===0)break e;xe=0;do Rt=Y[re+xe++],M.head&&Rt&&M.length<65536&&(M.head.name+=String.fromCharCode(Rt));while(Rt&&xe<me);if(M.flags&512&&(M.check=tt(M.check,Y,xe,re)),me-=xe,re+=xe,Rt)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=Qs;case Qs:if(M.flags&4096){if(me===0)break e;xe=0;do Rt=Y[re+xe++],M.head&&Rt&&M.length<65536&&(M.head.comment+=String.fromCharCode(Rt));while(Rt&&xe<me);if(M.flags&512&&(M.check=tt(M.check,Y,xe,re)),me-=xe,re+=xe,Rt)break e}else M.head&&(M.head.comment=null);M.mode=Rs;case Rs:if(M.flags&512){for(;Te<16;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(fe!==(M.check&65535)){C.msg="header crc mismatch",M.mode=Qe;break}fe=0,Te=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),C.adler=M.check=0,M.mode=rr;break;case la:for(;Te<32;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}C.adler=M.check=ri(fe),fe=0,Te=0,M.mode=Xo;case Xo:if(M.havedict===0)return C.next_out=be,C.avail_out=Ze,C.next_in=re,C.avail_in=me,M.hold=fe,M.bits=Te,Ao;C.adler=M.check=1,M.mode=rr;case rr:if(U===Os||U===Ko)break e;case Po:if(M.last){fe>>>=Te&7,Te-=Te&7,M.mode=je;break}for(;Te<3;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}switch(M.last=fe&1,fe>>>=1,Te-=1,fe&3){case 0:M.mode=fs;break;case 1:if(mo(M),M.mode=se,U===Ko){fe>>>=2,Te-=2;break e}break;case 2:M.mode=Z;break;case 3:C.msg="invalid block type",M.mode=Qe}fe>>>=2,Te-=2;break;case fs:for(fe>>>=Te&7,Te-=Te&7;Te<32;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if((fe&65535)!==(fe>>>16^65535)){C.msg="invalid stored block lengths",M.mode=Qe;break}if(M.length=fe&65535,fe=0,Te=0,M.mode=ne,U===Ko)break e;case ne:M.mode=te;case te:if(xe=M.length,xe){if(xe>me&&(xe=me),xe>Ze&&(xe=Ze),xe===0)break e;G.set(Y.subarray(re,re+xe),be),me-=xe,re+=xe,Ze-=xe,be+=xe,M.length-=xe;break}M.mode=rr;break;case Z:for(;Te<14;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(M.nlen=(fe&31)+257,fe>>>=5,Te-=5,M.ndist=(fe&31)+1,fe>>>=5,Te-=5,M.ncode=(fe&15)+4,fe>>>=4,Te-=4,M.nlen>286||M.ndist>30){C.msg="too many length or distance symbols",M.mode=Qe;break}M.have=0,M.mode=A;case A:for(;M.have<M.ncode;){for(;Te<3;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.lens[no[M.have++]]=fe&7,fe>>>=3,Te-=3}for(;M.have<19;)M.lens[no[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,Ft={bits:M.lenbits},nt=jr(Gs,M.lens,0,19,M.lencode,0,M.work,Ft),M.lenbits=Ft.bits,nt){C.msg="invalid code lengths set",M.mode=Qe;break}M.have=0,M.mode=Q;case Q:for(;M.have<M.nlen+M.ndist;){for(;Zt=M.lencode[fe&(1<<M.lenbits)-1],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(Kt<16)fe>>>=Bt,Te-=Bt,M.lens[M.have++]=Kt;else{if(Kt===16){for(Ht=Bt+2;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(fe>>>=Bt,Te-=Bt,M.have===0){C.msg="invalid bit length repeat",M.mode=Qe;break}Rt=M.lens[M.have-1],xe=3+(fe&3),fe>>>=2,Te-=2}else if(Kt===17){for(Ht=Bt+3;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}fe>>>=Bt,Te-=Bt,Rt=0,xe=3+(fe&7),fe>>>=3,Te-=3}else{for(Ht=Bt+7;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}fe>>>=Bt,Te-=Bt,Rt=0,xe=11+(fe&127),fe>>>=7,Te-=7}if(M.have+xe>M.nlen+M.ndist){C.msg="invalid bit length repeat",M.mode=Qe;break}for(;xe--;)M.lens[M.have++]=Rt}}if(M.mode===Qe)break;if(M.lens[256]===0){C.msg="invalid code -- missing end-of-block",M.mode=Qe;break}if(M.lenbits=9,Ft={bits:M.lenbits},nt=jr(Oo,M.lens,0,M.nlen,M.lencode,0,M.work,Ft),M.lenbits=Ft.bits,nt){C.msg="invalid literal/lengths set",M.mode=Qe;break}if(M.distbits=6,M.distcode=M.distdyn,Ft={bits:M.distbits},nt=jr(Mo,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,Ft),M.distbits=Ft.bits,nt){C.msg="invalid distances set",M.mode=Qe;break}if(M.mode=se,U===Ko)break e;case se:M.mode=oe;case oe:if(me>=6&&Ze>=258){C.next_out=be,C.avail_out=Ze,C.next_in=re,C.avail_in=me,M.hold=fe,M.bits=Te,jo(C,Ye),be=C.next_out,G=C.output,Ze=C.avail_out,re=C.next_in,Y=C.input,me=C.avail_in,fe=M.hold,Te=M.bits,M.mode===rr&&(M.back=-1);break}for(M.back=0;Zt=M.lencode[fe&(1<<M.lenbits)-1],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(pn&&!(pn&240)){for(Ge=Bt,tn=pn,ze=Kt;Zt=M.lencode[ze+((fe&(1<<Ge+tn)-1)>>Ge)],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Ge+Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}fe>>>=Ge,Te-=Ge,M.back+=Ge}if(fe>>>=Bt,Te-=Bt,M.back+=Bt,M.length=Kt,pn===0){M.mode=Le;break}if(pn&32){M.back=-1,M.mode=rr;break}if(pn&64){C.msg="invalid literal/length code",M.mode=Qe;break}M.extra=pn&15,M.mode=Se;case Se:if(M.extra){for(Ht=M.extra;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.length+=fe&(1<<M.extra)-1,fe>>>=M.extra,Te-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=Ie;case Ie:for(;Zt=M.distcode[fe&(1<<M.distbits)-1],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(!(pn&240)){for(Ge=Bt,tn=pn,ze=Kt;Zt=M.distcode[ze+((fe&(1<<Ge+tn)-1)>>Ge)],Bt=Zt>>>24,pn=Zt>>>16&255,Kt=Zt&65535,!(Ge+Bt<=Te);){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}fe>>>=Ge,Te-=Ge,M.back+=Ge}if(fe>>>=Bt,Te-=Bt,M.back+=Bt,pn&64){C.msg="invalid distance code",M.mode=Qe;break}M.offset=Kt,M.extra=pn&15,M.mode=Pe;case Pe:if(M.extra){for(Ht=M.extra;Te<Ht;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}M.offset+=fe&(1<<M.extra)-1,fe>>>=M.extra,Te-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){C.msg="invalid distance too far back",M.mode=Qe;break}M.mode=De;case De:if(Ze===0)break e;if(xe=Ye-Ze,M.offset>xe){if(xe=M.offset-xe,xe>M.whave&&M.sane){C.msg="invalid distance too far back",M.mode=Qe;break}xe>M.wnext?(xe-=M.wnext,It=M.wsize-xe):It=M.wnext-xe,xe>M.length&&(xe=M.length),Hn=M.window}else Hn=G,It=be-M.offset,xe=M.length;xe>Ze&&(xe=Ze),Ze-=xe,M.length-=xe;do G[be++]=Hn[It++];while(--xe);M.length===0&&(M.mode=oe);break;case Le:if(Ze===0)break e;G[be++]=M.length,Ze--,M.mode=oe;break;case je:if(M.wrap){for(;Te<32;){if(me===0)break e;me--,fe|=Y[re++]<<Te,Te+=8}if(Ye-=Ze,C.total_out+=Ye,M.total+=Ye,Ye&&(C.adler=M.check=M.flags?tt(M.check,G,Ye,be-Ye):Re(M.check,G,Ye,be-Ye)),Ye=Ze,(M.flags?fe:ri(fe))!==M.check){C.msg="incorrect data check",M.mode=Qe;break}fe=0,Te=0}M.mode=Je;case Je:if(M.wrap&&M.flags){for(;Te<32;){if(me===0)break e;me--,fe+=Y[re++]<<Te,Te+=8}if(fe!==(M.total&4294967295)){C.msg="incorrect length check",M.mode=Qe;break}fe=0,Te=0}M.mode=ct;case ct:nt=Ms;break e;case Qe:nt=$s;break e;case Yt:return Jo;case nn:default:return Ni}return C.next_out=be,C.avail_out=Ze,C.next_in=re,C.avail_in=me,M.hold=fe,M.bits=Te,(M.wsize||Ye!==C.avail_out&&M.mode<Qe&&(M.mode<je||U!==Ro))&&yr(C,C.output,C.next_out,Ye-C.avail_out),en-=C.avail_in,Ye-=C.avail_out,C.total_in+=en,C.total_out+=Ye,M.total+=Ye,M.wrap&&Ye&&(C.adler=M.check=M.flags?tt(M.check,G,Ye,C.next_out-Ye):Re(M.check,G,Ye,C.next_out-Ye)),C.data_type=M.bits+(M.last?64:0)+(M.mode===rr?128:0)+(M.mode===se||M.mode===ne?256:0),(en===0&&Ye===0||U===Ro)&&nt===Ji&&(nt=po),nt},"inflate$2"),$t=o(C=>{if(!C||!C.state)return Ni;let U=C.state;return U.window&&(U.window=null),C.state=null,Ji},"inflateEnd"),Wl=o((C,U)=>{if(!C||!C.state)return Ni;const M=C.state;return M.wrap&2?(M.head=U,U.done=!1,Ji):Ni},"inflateGetHeader"),kd=o((C,U)=>{const M=U.length;let Y,G,re;return!C||!C.state||(Y=C.state,Y.wrap!==0&&Y.mode!==Xo)?Ni:Y.mode===Xo&&(G=1,G=Re(G,U,M,0),G!==Y.check)?$s:(re=yr(C,U,M,M),re?(Y.mode=Yt,Jo):(Y.havedict=1,Ji))},"inflateSetDictionary");var pl=ki,sr=di,jl=wi,Na=or,va=yi,Dd=En,ml=$t,gl=Wl,Sl=kd,xa="pako inflate (from Nodeca project)",Mr={inflateReset:pl,inflateReset2:sr,inflateResetKeep:jl,inflateInit:Na,inflateInit2:va,inflate:Dd,inflateEnd:ml,inflateGetHeader:gl,inflateSetDictionary:Sl,inflateInfo:xa};function an(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}o(an,"GZheader");var ei=an;const Pt=Object.prototype.toString,{Z_NO_FLUSH:Ld,Z_FINISH:vl,Z_OK:hs,Z_STREAM_END:da,Z_NEED_DICT:ca,Z_STREAM_ERROR:Zs,Z_DATA_ERROR:ya,Z_MEM_ERROR:Nd}=gt;function ps(C){this.options=Kr.assign({chunkSize:1024*64,windowBits:15,to:""},C||{});const U=this.options;U.raw&&U.windowBits>=0&&U.windowBits<16&&(U.windowBits=-U.windowBits,U.windowBits===0&&(U.windowBits=-15)),U.windowBits>=0&&U.windowBits<16&&!(C&&C.windowBits)&&(U.windowBits+=32),U.windowBits>15&&U.windowBits<48&&(U.windowBits&15||(U.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Co,this.strm.avail_out=0;let M=Mr.inflateInit2(this.strm,U.windowBits);if(M!==hs)throw new Error(ht[M]);if(this.header=new ei,Mr.inflateGetHeader(this.strm,this.header),U.dictionary&&(typeof U.dictionary=="string"?U.dictionary=Hr.string2buf(U.dictionary):Pt.call(U.dictionary)==="[object ArrayBuffer]"&&(U.dictionary=new Uint8Array(U.dictionary)),U.raw&&(M=Mr.inflateSetDictionary(this.strm,U.dictionary),M!==hs)))throw new Error(ht[M])}o(ps,"Inflate$1"),ps.prototype.push=function(C,U){const M=this.strm,Y=this.options.chunkSize,G=this.options.dictionary;let re,be,me;if(this.ended)return!1;for(U===~~U?be=U:be=U===!0?vl:Ld,Pt.call(C)==="[object ArrayBuffer]"?M.input=new Uint8Array(C):M.input=C,M.next_in=0,M.avail_in=M.input.length;;){for(M.avail_out===0&&(M.output=new Uint8Array(Y),M.next_out=0,M.avail_out=Y),re=Mr.inflate(M,be),re===ca&&G&&(re=Mr.inflateSetDictionary(M,G),re===hs?re=Mr.inflate(M,be):re===ya&&(re=ca));M.avail_in>0&&re===da&&M.state.wrap>0&&C[M.next_in]!==0;)Mr.inflateReset(M),re=Mr.inflate(M,be);switch(re){case Zs:case ya:case ca:case Nd:return this.onEnd(re),this.ended=!0,!1}if(me=M.avail_out,M.next_out&&(M.avail_out===0||re===da))if(this.options.to==="string"){let Ze=Hr.utf8border(M.output,M.next_out),fe=M.next_out-Ze,Te=Hr.buf2string(M.output,Ze);M.next_out=fe,M.avail_out=Y-fe,fe&&M.output.set(M.output.subarray(Ze,Ze+fe),0),this.onData(Te)}else this.onData(M.output.length===M.next_out?M.output:M.output.subarray(0,M.next_out));if(!(re===hs&&me===0)){if(re===da)return re=Mr.inflateEnd(this.strm),this.onEnd(re),this.ended=!0,!0;if(M.avail_in===0)break}}return!0},ps.prototype.onData=function(C){this.chunks.push(C)},ps.prototype.onEnd=function(C){C===hs&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Kr.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function ba(C,U){const M=new ps(U);if(M.push(C),M.err)throw M.msg||ht[M.err];return M.result}o(ba,"inflate$1");function yl(C,U){return U=U||{},U.raw=!0,ba(C,U)}o(yl,"inflateRaw$1");var xd=ps,Bd=ba,Fd=yl,ua=ba,Gl=gt,Ca={Inflate:xd,inflate:Bd,inflateRaw:Fd,ungzip:ua,constants:Gl};const{Deflate:Ea,deflate:$l,deflateRaw:Ba,gzip:Vd}=ws,{Inflate:Kl,inflate:Ud,inflateRaw:Jl,ungzip:Hd}=Ca;var Fa=Ea,Va=$l,Ua=Ba,bl=Vd,pr=Kl,As=Ud,Ha=Jl,za=Hd,Wa=gt,ja={Deflate:Fa,deflate:Va,deflateRaw:Ua,gzip:bl,Inflate:pr,inflate:As,inflateRaw:Ha,ungzip:za,constants:Wa}},mZDK:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(u){}},"NoOpTask");l.default=S},mb4i:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={ChannelNotFound:"channel_not_found",InvalidChannelId:"invalid_channel_id"},t=Object(a.a)("conversations.teamConnections generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"conversations.teamConnections",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to conversations.teamConnections
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherconversationsTeamConnectionsFetcher",description:"conversations.teamConnections generated fetcher"}},mcAb:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Np2I")),u=S(h("5/Tg"));let g=o(class{create(){return new f.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(s){return new u.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,s)}constructor(s,i,e){this.fixedWaitMs=s,this.shortBackoffMs=i,this.longBackoffMs=e}},"FullJitterBackoffFactory");l.default=g},mgFs:function(j,l,h){"use strict";h.d(l,"b",function(){return S}),h.d(l,"a",function(){return f});var S;(function(u){u[u.ID=25]="ID",u[u.FRECENCY=0]="FRECENCY",u[u.RAW_FRECENCY=65]="RAW_FRECENCY",u[u.FRECENCY_BONUS=76]="FRECENCY_BONUS",u[u.FRECENCY_WEIGHT_HIT_VISITS=91]="FRECENCY_WEIGHT_HIT_VISITS",u[u.FRECENCY_HIT_COUNT=92]="FRECENCY_HIT_COUNT",u[u.FRECENCY_WEIGHT_ITEM_VISITS=93]="FRECENCY_WEIGHT_ITEM_VISITS",u[u.FRECENCY_ITEM_COUNT=94]="FRECENCY_ITEM_COUNT",u[u.FRECENCY_LOG_HIT_COUNT=105]="FRECENCY_LOG_HIT_COUNT",u[u.FRECENCY_LOG_HIT_COUNT_SCALED=106]="FRECENCY_LOG_HIT_COUNT_SCALED",u[u.FRECENCY_LOG_ITEM_COUNT=159]="FRECENCY_LOG_ITEM_COUNT",u[u.FRECENCY_LOG_ITEM_COUNT_SCALED=160]="FRECENCY_LOG_ITEM_COUNT_SCALED",u[u.FRECENCY_HIT_VISIT_DECAY_2H=162]="FRECENCY_HIT_VISIT_DECAY_2H",u[u.FRECENCY_HIT_VISIT_DECAY_7D=163]="FRECENCY_HIT_VISIT_DECAY_7D",u[u.FRECENCY_ITEM_VISIT_DECAY_2H=164]="FRECENCY_ITEM_VISIT_DECAY_2H",u[u.FRECENCY_ITEM_VISIT_DECAY_7D=165]="FRECENCY_ITEM_VISIT_DECAY_7D",u[u.FRECENCY_HIT_VISITS_4H=242]="FRECENCY_HIT_VISITS_4H",u[u.FRECENCY_HIT_VISITS_1D=243]="FRECENCY_HIT_VISITS_1D",u[u.FRECENCY_HIT_VISITS_3D=244]="FRECENCY_HIT_VISITS_3D",u[u.FRECENCY_HIT_VISITS_1W=245]="FRECENCY_HIT_VISITS_1W",u[u.FRECENCY_HIT_VISITS_1M=246]="FRECENCY_HIT_VISITS_1M",u[u.FRECENCY_HIT_VISITS_90D=247]="FRECENCY_HIT_VISITS_90D",u[u.FRECENCY_ITEM_VISITS_4H=248]="FRECENCY_ITEM_VISITS_4H",u[u.FRECENCY_ITEM_VISITS_1D=249]="FRECENCY_ITEM_VISITS_1D",u[u.FRECENCY_ITEM_VISITS_3D=250]="FRECENCY_ITEM_VISITS_3D",u[u.FRECENCY_ITEM_VISITS_1W=251]="FRECENCY_ITEM_VISITS_1W",u[u.FRECENCY_ITEM_VISITS_1M=252]="FRECENCY_ITEM_VISITS_1M",u[u.FRECENCY_ITEM_VISITS_90D=253]="FRECENCY_ITEM_VISITS_90D",u[u.TYPE_NAVIGATION_CHANNEL=2]="TYPE_NAVIGATION_CHANNEL",u[u.TYPE_NAVIGATION_LINK=172]="TYPE_NAVIGATION_LINK",u[u.TYPE_NAVIGATION_MPIM=4]="TYPE_NAVIGATION_MPIM",u[u.TYPE_NAVIGATION_MODAL=177]="TYPE_NAVIGATION_MODAL",u[u.TYPE_NAVIGATION_USER=5]="TYPE_NAVIGATION_USER",u[u.TYPE_QUERY=6]="TYPE_QUERY",u[u.TYPE_QUERY_HISTORY=7]="TYPE_QUERY_HISTORY",u[u.TYPE_EMOJI=178]="TYPE_EMOJI",u[u.ACTIVE_TOKEN_FILTER_IN=8]="ACTIVE_TOKEN_FILTER_IN",u[u.ACTIVE_TOKEN_FILTER_FROM=9]="ACTIVE_TOKEN_FILTER_FROM",u[u.ACTIVE_TOKEN_FILTER_TO=10]="ACTIVE_TOKEN_FILTER_TO",u[u.ACTIVE_TOKEN_FILTER_BEFORE=11]="ACTIVE_TOKEN_FILTER_BEFORE",u[u.ACTIVE_TOKEN_FILTER_DURING=12]="ACTIVE_TOKEN_FILTER_DURING",u[u.ACTIVE_TOKEN_FILTER_ON=13]="ACTIVE_TOKEN_FILTER_ON",u[u.ACTIVE_TOKEN_FILTER_AFTER=14]="ACTIVE_TOKEN_FILTER_AFTER",u[u.ACTIVE_TOKEN_FILTER_HAS=15]="ACTIVE_TOKEN_FILTER_HAS",u[u.ACTIVE_TOKEN_FILTER_IS=155]="ACTIVE_TOKEN_FILTER_IS",u[u.ACTIVE_TOKEN_FILTER_WITH=233]="ACTIVE_TOKEN_FILTER_WITH",u[u.ACTIVE_TOKEN_MEMBER=16]="ACTIVE_TOKEN_MEMBER",u[u.ACTIVE_TOKEN_STRING=17]="ACTIVE_TOKEN_STRING",u[u.ACTIVE_TOKEN_PHRASE=18]="ACTIVE_TOKEN_PHRASE",u[u.STRING_EXACT_MATCH=19]="STRING_EXACT_MATCH",u[u.STRING_EXACT_PREFIX_MATCH=20]="STRING_EXACT_PREFIX_MATCH",u[u.STRING_NORMAL_MATCH=21]="STRING_NORMAL_MATCH",u[u.STRING_NORMAL_PREFIX_MATCH=22]="STRING_NORMAL_PREFIX_MATCH",u[u.STRING_SAME_NUMBER_WORDS=23]="STRING_SAME_NUMBER_WORDS",u[u.EXCESS_STRING_LENGTH=24]="EXCESS_STRING_LENGTH",u[u.EXACT_MATCH_LOG_RESULTS=229]="EXACT_MATCH_LOG_RESULTS",u[u.FILE_SUGGESTION_SCORE=26]="FILE_SUGGESTION_SCORE",u[u.ACTIVE_TOKEN_QUERY_SUGGESTION=27]="ACTIVE_TOKEN_QUERY_SUGGESTION",u[u.QUERY_SUGGESTION_SCORE_V2=28]="QUERY_SUGGESTION_SCORE_V2",u[u.TYPE_NAVIGATION_TEAM=31]="TYPE_NAVIGATION_TEAM",u[u.TYPE_NAVIGATION_VIEW=32]="TYPE_NAVIGATION_VIEW",u[u.TYPE_USER_QUERY=33]="TYPE_USER_QUERY",u[u.NAV_EXACT_MATCH=35]="NAV_EXACT_MATCH",u[u.NAV_EXACT_PREFIX_MATCH=36]="NAV_EXACT_PREFIX_MATCH",u[u.NAV_NORMAL_MATCH=37]="NAV_NORMAL_MATCH",u[u.NAV_NORMAL_PREFIX_MATCH=75]="NAV_NORMAL_PREFIX_MATCH",u[u.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH=38]="CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH",u[u.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH=39]="CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH",u[u.CHANNEL_IS_ARCHIVED=40]="CHANNEL_IS_ARCHIVED",u[u.CHANNEL_IS_MEMBER=41]="CHANNEL_IS_MEMBER",u[u.CHANNEL_IS_STARRED=42]="CHANNEL_IS_STARRED",u[u.MPIM_IS_STARRED=43]="MPIM_IS_STARRED",u[u.CHANNEL_IS_UNREAD=44]="CHANNEL_IS_UNREAD",u[u.MPIM_IS_UNREAD=45]="MPIM_IS_UNREAD",u[u.CHANNEL_IS_OTHER_TEAM=46]="CHANNEL_IS_OTHER_TEAM",u[u.USER_IS_ACTIVE=47]="USER_IS_ACTIVE",u[u.USER_IS_CURRENT_USER=48]="USER_IS_CURRENT_USER",u[u.USER_DM_IS_STARRED=49]="USER_DM_IS_STARRED",u[u.USER_DM_IS_UNREAD=50]="USER_DM_IS_UNREAD",u[u.CHANNEL_PRIORITY=51]="CHANNEL_PRIORITY",u[u.CHANNEL_READ_AGE_DECAY_7D=52]="CHANNEL_READ_AGE_DECAY_7D",u[u.CHANNEL_READ_AGE_DECAY_2H=53]="CHANNEL_READ_AGE_DECAY_2H",u[u.MPIM_READ_AGE_DECAY_2H=54]="MPIM_READ_AGE_DECAY_2H",u[u.MPIM_READ_AGE_DECAY_7D=55]="MPIM_READ_AGE_DECAY_7D",u[u.USER_DM_READ_AGE_DECAY_7D=56]="USER_DM_READ_AGE_DECAY_7D",u[u.USER_DM_READ_AGE_DECAY_2H=57]="USER_DM_READ_AGE_DECAY_2H",u[u.USER_DM_READ_AGE_DECAY_7D_V2=274]="USER_DM_READ_AGE_DECAY_7D_V2",u[u.USER_DM_READ_AGE_DECAY_2H_V2=275]="USER_DM_READ_AGE_DECAY_2H_V2",u[u.QUERY_LENGTH=61]="QUERY_LENGTH",u[u.NAV_QUERY_LENGTH=62]="NAV_QUERY_LENGTH",u[u.SUGGESTION_TEXT_LENGTH=63]="SUGGESTION_TEXT_LENGTH",u[u.NAV_TEXT_LENGTH=64]="NAV_TEXT_LENGTH",u[u.MPIM_PRIORITY=66]="MPIM_PRIORITY",u[u.QUERY_RATIO_LENGTH_STRING=68]="QUERY_RATIO_LENGTH_STRING",u[u.NAV_QUERY_RATIO_LENGTH_STRING=69]="NAV_QUERY_RATIO_LENGTH_STRING",u[u.USER_QUERY_RATIO_LENGTH_STRING=70]="USER_QUERY_RATIO_LENGTH_STRING",u[u.CHANNEL_QUERY_RATIO_LENGTH_STRING=71]="CHANNEL_QUERY_RATIO_LENGTH_STRING",u[u.MPIM_QUERY_RATIO_LENGTH_STRING=72]="MPIM_QUERY_RATIO_LENGTH_STRING",u[u.FUZZY_SCORE=73]="FUZZY_SCORE",u[u.MPIM_WITH_DEACTIVATED_USER=74]="MPIM_WITH_DEACTIVATED_USER",u[u.USER_FIRST_NAME_EXACT_MATCH=81]="USER_FIRST_NAME_EXACT_MATCH",u[u.USER_FIRST_NAME_EXACT_PREFIX_MATCH=82]="USER_FIRST_NAME_EXACT_PREFIX_MATCH",u[u.USER_FIRST_NAME_NORMAL_MATCH=83]="USER_FIRST_NAME_NORMAL_MATCH",u[u.USER_FIRST_NAME_NORMAL_PREFIX_MATCH=84]="USER_FIRST_NAME_NORMAL_PREFIX_MATCH",u[u.USER_LAST_NAME_EXACT_MATCH=85]="USER_LAST_NAME_EXACT_MATCH",u[u.USER_LAST_NAME_EXACT_PREFIX_MATCH=86]="USER_LAST_NAME_EXACT_PREFIX_MATCH",u[u.USER_LAST_NAME_NORMAL_MATCH=87]="USER_LAST_NAME_NORMAL_MATCH",u[u.USER_LAST_NAME_NORMAL_PREFIX_MATCH=88]="USER_LAST_NAME_NORMAL_PREFIX_MATCH",u[u.USER_PRIORITY=89]="USER_PRIORITY",u[u.ONLY_MATCHES_PREVIOUS_NAME=90]="ONLY_MATCHES_PREVIOUS_NAME",u[u.NAV_NORMAL_MATCH_USER=95]="NAV_NORMAL_MATCH_USER",u[u.NAV_NORMAL_PREFIX_MATCH_USER=96]="NAV_NORMAL_PREFIX_MATCH_USER",u[u.NAV_NORMAL_MATCH_NO_USER=97]="NAV_NORMAL_MATCH_NO_USER",u[u.NAV_NORMAL_PREFIX_MATCH_NO_USER=98]="NAV_NORMAL_PREFIX_MATCH_NO_USER",u[u.CHANNEL_LATEST_MSG_AGE_DECAY_7D=99]="CHANNEL_LATEST_MSG_AGE_DECAY_7D",u[u.CHANNEL_LATEST_MSG_AGE_DECAY_2H=100]="CHANNEL_LATEST_MSG_AGE_DECAY_2H",u[u.MPIM_LATEST_MSG_AGE_DECAY_2H=101]="MPIM_LATEST_MSG_AGE_DECAY_2H",u[u.MPIM_LATEST_MSG_AGE_DECAY_7D=102]="MPIM_LATEST_MSG_AGE_DECAY_7D",u[u.USER_DM_LATEST_MSG_AGE_DECAY_7D=103]="USER_DM_LATEST_MSG_AGE_DECAY_7D",u[u.USER_DM_LATEST_MSG_AGE_DECAY_2H=104]="USER_DM_LATEST_MSG_AGE_DECAY_2H",u[u.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2=260]="USER_DM_LATEST_MSG_AGE_DECAY_7D_V2",u[u.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2=261]="USER_DM_LATEST_MSG_AGE_DECAY_2H_V2",u[u.FUZZY_SCORE_50=127]="FUZZY_SCORE_50",u[u.FUZZY_SCORE_25=128]="FUZZY_SCORE_25",u[u.FUZZY_SCORE_ALL=129]="FUZZY_SCORE_ALL",u[u.FUZZY_SCORE_SCALED_EXP=291]="FUZZY_SCORE_SCALED_EXP",u[u.FUZZY_SCORE_SCALED_FLIPPED=292]="FUZZY_SCORE_SCALED_FLIPPED",u[u.FUZZY_SCORE_SCALED_SUBTRACT=293]="FUZZY_SCORE_SCALED_SUBTRACT",u[u.HERE_KEYWORD=131]="HERE_KEYWORD",u[u.HERE_KEYWORD_EXACT_MATCH=132]="HERE_KEYWORD_EXACT_MATCH",u[u.IS_BROADCAST_KEYWORD=133]="IS_BROADCAST_KEYWORD",u[u.BROADCAST_KEYWORD_NORMAL_MATCH=134]="BROADCAST_KEYWORD_NORMAL_MATCH",u[u.MEMBER_OF_CURRENT_CHANNEL=153]="MEMBER_OF_CURRENT_CHANNEL",u[u.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL=154]="QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL",u[u.USER_EMAIL_MATCH=170]="USER_EMAIL_MATCH",u[u.USER_EMAIL_ONLY_MATCH=171]="USER_EMAIL_ONLY_MATCH",u[u.QUERY_IS_SELF=193]="QUERY_IS_SELF",u[u.CURRENT_USER_TEXTY=194]="CURRENT_USER_TEXTY",u[u.USER_IS_EXTERNAL=234]="USER_IS_EXTERNAL",u[u.USER_SAME_TEAM=235]="USER_SAME_TEAM",u[u.USER_IS_BOT=254]="USER_IS_BOT",u[u.CHANNEL_TEAM_CTR_90DD=189]="CHANNEL_TEAM_CTR_90DD",u[u.CHANNEL_USER_CTR_30DD=190]="CHANNEL_USER_CTR_30DD",u[u.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS=199]="NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS",u[u.HISTORY_AGE_DECAY_2H=230]="HISTORY_AGE_DECAY_2H",u[u.HISTORY_AGE_DECAY_7D=231]="HISTORY_AGE_DECAY_7D",u[u.HISTORY_POSITION=232]="HISTORY_POSITION",u[u.USER_DM_NULL=179]="USER_DM_NULL",u[u.USER_DM_EMPTY=180]="USER_DM_EMPTY",u[u.USER_DM_NOT_OPEN=181]="USER_DM_NOT_OPEN",u[u.USER_DM_OPEN=182]="USER_DM_OPEN",u[u.USER_DM_LATEST_OLDER_30D=183]="USER_DM_LATEST_OLDER_30D",u[u.USER_DM_LATEST_OLDER_90D=184]="USER_DM_LATEST_OLDER_90D",u[u.USER_DM_EMPTY_V2=257]="USER_DM_EMPTY_V2",u[u.USER_DM_LATEST_OLDER_30D_V2=258]="USER_DM_LATEST_OLDER_30D_V2",u[u.USER_DM_LATEST_OLDER_90D_V2=259]="USER_DM_LATEST_OLDER_90D_V2",u[u.USER_HAS_DMED=284]="USER_HAS_DMED",u[u.USER_DM_READ_AGE_DECAY_2H_V3=285]="USER_DM_READ_AGE_DECAY_2H_V3",u[u.USER_DM_READ_AGE_DECAY_7D_V3=286]="USER_DM_READ_AGE_DECAY_7D_V3",u[u.USER_DM_READ_OLDER_7D=287]="USER_DM_READ_OLDER_7D",u[u.USER_DM_READ_OLDER_30D=288]="USER_DM_READ_OLDER_30D",u[u.USER_DM_READ_OLDER_90D=289]="USER_DM_READ_OLDER_90D",u[u.USER_MPIM_READ_AGE_DECAY_7D=236]="USER_MPIM_READ_AGE_DECAY_7D",u[u.USER_MPIM_READ_AGE_DECAY_2H=237]="USER_MPIM_READ_AGE_DECAY_2H",u[u.USER_MPIM_LATEST_MSG_AGE_DECAY_7D=238]="USER_MPIM_LATEST_MSG_AGE_DECAY_7D",u[u.USER_MPIM_LATEST_MSG_AGE_DECAY_2H=239]="USER_MPIM_LATEST_MSG_AGE_DECAY_2H",u[u.USER_MPIM_FRECENCY_LOG_HIT_COUNT=240]="USER_MPIM_FRECENCY_LOG_HIT_COUNT",u[u.USER_MPIM_FRECENCY_LOG_ITEM_COUNT=241]="USER_MPIM_FRECENCY_LOG_ITEM_COUNT",u[u.MPIM_MEMBERS=166]="MPIM_MEMBERS",u[u.MPIM_MEMBER_NAME_MATCHES=167]="MPIM_MEMBER_NAME_MATCHES",u[u.MPIM_MEMBER_ALL_MATCHES=168]="MPIM_MEMBER_ALL_MATCHES",u[u.MPIM_MATCHER_SCORE=169]="MPIM_MATCHER_SCORE",u[u.MPIM_MATCHER_SCORE_0=173]="MPIM_MATCHER_SCORE_0",u[u.MPIM_MATCHER_SCORE_1=174]="MPIM_MATCHER_SCORE_1",u[u.MPIM_MATCHER_SCORE_2=175]="MPIM_MATCHER_SCORE_2",u[u.MPIM_MATCHER_SCORE_3=176]="MPIM_MATCHER_SCORE_3",u[u.MPIM_TEAM_CTR_90DD=187]="MPIM_TEAM_CTR_90DD",u[u.MPIM_USER_CTR_30DD=188]="MPIM_USER_CTR_30DD",u[u.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H=262]="MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H",u[u.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D=263]="MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D",u[u.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H=264]="MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H",u[u.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D=265]="MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D",u[u.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H=266]="MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H",u[u.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D=267]="MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D",u[u.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H=268]="MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H",u[u.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D=269]="MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D",u[u.MPIM_USERS_PCT_NON_EMPTY_DMS=270]="MPIM_USERS_PCT_NON_EMPTY_DMS",u[u.MPIM_USERS_PCT_NON_NULL_DMS=271]="MPIM_USERS_PCT_NON_NULL_DMS",u[u.MPIM_USERS_ALL_INTERNAL=272]="MPIM_USERS_ALL_INTERNAL",u[u.EMOJI_EXACT_MATCH=136]="EMOJI_EXACT_MATCH",u[u.EMOJI_QUERY_LENGTH_RATIO=150]="EMOJI_QUERY_LENGTH_RATIO",u[u.EMOJI_TOTAL_COMBO_BREAKS=151]="EMOJI_TOTAL_COMBO_BREAKS",u[u.EMOJI_COMBO_BREAK_0=161]="EMOJI_COMBO_BREAK_0",u[u.EMOJI_COMBO_BREAK_1=156]="EMOJI_COMBO_BREAK_1",u[u.EMOJI_COMBO_BREAK_2=157]="EMOJI_COMBO_BREAK_2",u[u.EMOJI_COMBO_BREAK_3=158]="EMOJI_COMBO_BREAK_3",u[u.EMOJI_TEAM_CTR_90DD=185]="EMOJI_TEAM_CTR_90DD",u[u.EMOJI_USER_CTR_30DD=186]="EMOJI_USER_CTR_30DD",u[u.CHANNEL_IS_FROZEN=146]="CHANNEL_IS_FROZEN",u[u.USER_DM_IS_FROZEN=147]="USER_DM_IS_FROZEN",u[u.CHANNEL_HAS_DRAFT=148]="CHANNEL_HAS_DRAFT",u[u.USER_DM_HAS_DRAFT=149]="USER_DM_HAS_DRAFT",u[u.QUERY_FRECENCY_RAW=107]="QUERY_FRECENCY_RAW",u[u.QUERY_FRECENCY_WEIGHT_HIT_VISITS=108]="QUERY_FRECENCY_WEIGHT_HIT_VISITS",u[u.QUERY_FRECENCY_HIT_COUNT=109]="QUERY_FRECENCY_HIT_COUNT",u[u.QUERY_FRECENCY_WEIGHT_ITEM_VISITS=110]="QUERY_FRECENCY_WEIGHT_ITEM_VISITS",u[u.QUERY_FRECENCY_ITEM_COUNT=111]="QUERY_FRECENCY_ITEM_COUNT",u[u.QUERY_FUZZY_SCORE=112]="QUERY_FUZZY_SCORE",u[u.QUERY_FRECENCY_BONUS=113]="QUERY_FRECENCY_BONUS",u[u.QUERY_LOG_HIT_COUNT=130]="QUERY_LOG_HIT_COUNT",u[u.QUERY_TOKEN_NORMAL_MATCH=137]="QUERY_TOKEN_NORMAL_MATCH",u[u.QUERY_TOKEN_NORMAL_PREFIX_MATCH=138]="QUERY_TOKEN_NORMAL_PREFIX_MATCH",u[u.QUERY_HISTORY_AGE_DECAY_30D=282]="QUERY_HISTORY_AGE_DECAY_30D",u[u.QUERY_HISTORY_LOG_INDEX=283]="QUERY_HISTORY_LOG_INDEX",u[u.FILTER_USER_IS_ACTIVE=114]="FILTER_USER_IS_ACTIVE",u[u.FILTER_USER_IS_CURRENT_USER=115]="FILTER_USER_IS_CURRENT_USER",u[u.FILTER_USER_DM_IS_STARRED=116]="FILTER_USER_DM_IS_STARRED",u[u.FILTER_USER_DM_IS_UNREAD=117]="FILTER_USER_DM_IS_UNREAD",u[u.FILTER_USER_DM_READ_AGE_DECAY_7D=118]="FILTER_USER_DM_READ_AGE_DECAY_7D",u[u.FILTER_USER_DM_READ_AGE_DECAY_2H=119]="FILTER_USER_DM_READ_AGE_DECAY_2H",u[u.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D=120]="FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D",u[u.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H=121]="FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H",u[u.FILTER_USER_FIRST_NAME_NORMAL_MATCH=122]="FILTER_USER_FIRST_NAME_NORMAL_MATCH",u[u.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH=123]="FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH",u[u.FILTER_USER_LAST_NAME_NORMAL_MATCH=124]="FILTER_USER_LAST_NAME_NORMAL_MATCH",u[u.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH=125]="FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH",u[u.FILTER_USER_PRIORITY=126]="FILTER_USER_PRIORITY",u[u.FILTER_CHANNEL_IS_ARCHIVED=139]="FILTER_CHANNEL_IS_ARCHIVED",u[u.FILTER_CHANNEL_IS_MEMBER=140]="FILTER_CHANNEL_IS_MEMBER",u[u.FILTER_CHANNEL_IS_STARRED=141]="FILTER_CHANNEL_IS_STARRED",u[u.FILTER_CHANNEL_IS_UNREAD=142]="FILTER_CHANNEL_IS_UNREAD",u[u.FILTER_CHANNEL_READ_AGE_DECAY_7D=143]="FILTER_CHANNEL_READ_AGE_DECAY_7D",u[u.FILTER_CHANNEL_READ_AGE_DECAY_2H=144]="FILTER_CHANNEL_READ_AGE_DECAY_2H",u[u.FILTER_CHANNEL_PRIORITY=145]="FILTER_CHANNEL_PRIORITY",u[u.USER_ENTITY_TYPE_CTR_30DD=191]="USER_ENTITY_TYPE_CTR_30DD",u[u.NUM_RESULTS=192]="NUM_RESULTS",u[u.TYPE_NAVIGATION_FILE=3]="TYPE_NAVIGATION_FILE",u[u.FILE_AGE_DECAY_7D=195]="FILE_AGE_DECAY_7D",u[u.FILE_AGE_DECAY_28D=196]="FILE_AGE_DECAY_28D",u[u.FILE_AGE_DECAY_90D=197]="FILE_AGE_DECAY_90D",u[u.FILE_FROM_CURRENT_USER=198]="FILE_FROM_CURRENT_USER",u[u.FILE_LOG_PRIVATE_SHARES=200]="FILE_LOG_PRIVATE_SHARES",u[u.FILE_LOG_PUBLIC_SHARES=201]="FILE_LOG_PUBLIC_SHARES",u[u.FILE_LOG_ACTIONS=202]="FILE_LOG_ACTIONS",u[u.FILE_LATEST_ACTION_AGE_DECAY_2H=203]="FILE_LATEST_ACTION_AGE_DECAY_2H",u[u.FILE_LATEST_ACTION_AGE_DECAY_7D=204]="FILE_LATEST_ACTION_AGE_DECAY_7D",u[u.FILE_LATEST_ACTION_AGE_DECAY_90D=205]="FILE_LATEST_ACTION_AGE_DECAY_90D",u[u.FILE_LATEST_SHARE_AGE_DECAY_2H=206]="FILE_LATEST_SHARE_AGE_DECAY_2H",u[u.FILE_LATEST_SHARE_AGE_DECAY_7D=207]="FILE_LATEST_SHARE_AGE_DECAY_7D",u[u.FILE_LATEST_SHARE_AGE_DECAY_90D=208]="FILE_LATEST_SHARE_AGE_DECAY_90D",u[u.FILE_CHANNEL_CTR=209]="FILE_CHANNEL_CTR",u[u.FILE_SUGGESTIONS_SEARCHER=210]="FILE_SUGGESTIONS_SEARCHER",u[u.FILE_USER_CTR=211]="FILE_USER_CTR",u[u.FILE_NAME_CONTAINS_QUERY_NORMALIZED=273]="FILE_NAME_CONTAINS_QUERY_NORMALIZED",u[u.FILE_IS_CANVAS=276]="FILE_IS_CANVAS",u[u.FILE_HAS_DMS_WITH_CREATOR=277]="FILE_HAS_DMS_WITH_CREATOR",u[u.FILE_LATEST_VIEW_BY_USER_OLDER_90D=278]="FILE_LATEST_VIEW_BY_USER_OLDER_90D",u[u.FILE_HAS_DMS_WITH_CREATOR_V2=290]="FILE_HAS_DMS_WITH_CREATOR_V2",u[u.APP_NAME_PREFIX_MATCH=215]="APP_NAME_PREFIX_MATCH",u[u.BEST_NAME_MATCH_LOG_RESULTS=218]="BEST_NAME_MATCH_LOG_RESULTS",u[u.SHORTCUT_ENTITY_TYPE_CTR=226]="SHORTCUT_ENTITY_TYPE_CTR",u[u.TYPE_SLASH_COMMAND=212]="TYPE_SLASH_COMMAND",u[u.SLASH_COMMAND_TEAM_CTR=227]="SLASH_COMMAND_TEAM_CTR",u[u.SLASH_COMMAND_USER_CTR=219]="SLASH_COMMAND_USER_CTR",u[u.TYPE_GLOBAL_ACTION=213]="TYPE_GLOBAL_ACTION",u[u.IS_INVITE_WORKSPACE=217]="IS_INVITE_WORKSPACE",u[u.GLOBAL_ACTION_TEAM_CTR=220]="GLOBAL_ACTION_TEAM_CTR",u[u.GLOBAL_ACTION_USER_CTR=221]="GLOBAL_ACTION_USER_CTR",u[u.TYPE_CHANNEL_ACTION=214]="TYPE_CHANNEL_ACTION",u[u.CHANNEL_ACTION_TEAM_CTR=222]="CHANNEL_ACTION_TEAM_CTR",u[u.CHANNEL_ACTION_USER_CTR=223]="CHANNEL_ACTION_USER_CTR",u[u.TYPE_APP_ACTION=152]="TYPE_APP_ACTION",u[u.APP_ACTION_TEAM_CTR=224]="APP_ACTION_TEAM_CTR",u[u.APP_ACTION_USER_CTR=225]="APP_ACTION_USER_CTR",u[u.OS_APP_ACTION=228]="OS_APP_ACTION",u[u.TYPE_APP=216]="TYPE_APP",u[u.TYPE_NAVIGATION_MESSAGE=255]="TYPE_NAVIGATION_MESSAGE",u[u.TYPE_WORKFLOW_TRIGGER=256]="TYPE_WORKFLOW_TRIGGER",u[u.WORKFLOW_TRIGGER_TEAM_CTR=279]="WORKFLOW_TRIGGER_TEAM_CTR",u[u.WORKFLOW_TRIGGER_USER_CTR=280]="WORKFLOW_TRIGGER_USER_CTR",u[u.HAS_CHANNEL_ASSOCIATION=281]="HAS_CHANNEL_ASSOCIATION",u[u.DEPRECATED_QUERY_SUGGESTION_SCORE=1]="DEPRECATED_QUERY_SUGGESTION_SCORE",u[u.DEPRECATED_TYPE_NAVIGATION_EXPERT_CHANNEL=29]="DEPRECATED_TYPE_NAVIGATION_EXPERT_CHANNEL",u[u.DEPRECATED_BM25_SCORE=30]="DEPRECATED_BM25_SCORE",u[u.DEPRECATED_NAV_EXCESS_STRING_LENGTH=34]="DEPRECATED_NAV_EXCESS_STRING_LENGTH",u[u.DEPRECATED_CHANNEL_EXCESS_STRING_LENGTH=58]="DEPRECATED_CHANNEL_EXCESS_STRING_LENGTH",u[u.DEPRECATED_USER_EXCESS_STRING_LENGTH=59]="DEPRECATED_USER_EXCESS_STRING_LENGTH",u[u.DEPRECATED_MPIM_EXCESS_STRING_LENGTH=60]="DEPRECATED_MPIM_EXCESS_STRING_LENGTH",u[u.DEPRECATED_LOG_FRECENCY=67]="DEPRECATED_LOG_FRECENCY",u[u.DEPRECATED_LOG_FRECENCY_BONUS=77]="DEPRECATED_LOG_FRECENCY_BONUS",u[u.DEPRECATED_LOG_FRECENCY_CHANNEL=78]="DEPRECATED_LOG_FRECENCY_CHANNEL",u[u.DEPRECATED_LOG_FRECENCY_USER=79]="DEPRECATED_LOG_FRECENCY_USER",u[u.DEPRECATED_LOG_FRECENCY_MPIM=80]="DEPRECATED_LOG_FRECENCY_MPIM",u[u.DEPRECATED_EMOJI_SCORE_BONUS=135]="DEPRECATED_EMOJI_SCORE_BONUS",u[u.TEST_FEATURE_1=1e3]="TEST_FEATURE_1",u[u.TEST_FEATURE_2=1001]="TEST_FEATURE_2",u[u.TEST_FEATURE_3=1002]="TEST_FEATURE_3",u[u.TEST_FEATURE_4=1003]="TEST_FEATURE_4",u[u.TEST_FEATURE_5=1004]="TEST_FEATURE_5",u[u.TEST_FEATURE_6=1005]="TEST_FEATURE_6",u[u.TEST_FEATURE_7=1006]="TEST_FEATURE_7",u[u.TEST_FEATURE_8=1007]="TEST_FEATURE_8",u[u.TEST_FEATURE_9=1008]="TEST_FEATURE_9",u[u.TEST_FEATURE_10=1009]="TEST_FEATURE_10"})(S||(S={}));var f;(function(u){u[u.NUMERICAL=1]="NUMERICAL",u[u.BINARY=2]="BINARY",u[u.TEXT=3]="TEXT"})(f||(f={}))},mjQB:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("5rM1")),g=f(h("hEYi")),a=f(h("aVV0"));let s=o(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){const e=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new u.default(e.urls.signalingURL,e.credentials.joinToken));const t=Date.now();try{yield new Promise((n,r)=>{let c=o(class{cancel(){this.signalingClient.removeObserver(this),r(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(d){switch(d.type){case g.default.WebSocketOpen:this.signalingClient.removeObserver(this),n();break;case g.default.WebSocketFailed:this.signalingClient.removeObserver(this),r(new Error("WebSocket connection failed"));break}}constructor(d){this.signalingClient=d}},"WebSocketOpenInterceptor");const p=new c(this.context.signalingClient);this.context.signalingClient.registerObserver(p),this.taskCanceler=p})}catch(n){throw n}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-t),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}})}constructor(e){super(e.logger),this.context=e,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}},"OpenSignalingConnectionTask");l.default=s},ml5h:function(j,l){function h(S,f){var u=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(u!=null){var g=[],a=!0,s=!1,i,e;try{for(u=u.call(S);!(a=(i=u.next()).done)&&(g.push(i.value),!(f&&g.length===f));a=!0);}catch(t){s=!0,e=t}finally{try{!a&&u.return!=null&&u.return()}finally{if(s)throw e}}return g}}o(h,"_iterableToArrayLimit"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},mlaT:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LogLevel=void 0;var S;(function(f){f[f.DEBUG=0]="DEBUG",f[f.INFO=1]="INFO",f[f.WARN=2]="WARN",f[f.ERROR=3]="ERROR",f[f.OFF=4]="OFF"})(S=l.LogLevel||(l.LogLevel={})),l.default=S},mpmV:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClientMetricReportMediaType=void 0;var S;(function(f){f[f.AUDIO=0]="AUDIO",f[f.VIDEO=1]="VIDEO"})(S=l.ClientMetricReportMediaType||(l.ClientMetricReportMediaType={})),l.default=S},mv1L:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("aVV0"));let g=o(class extends u.default{cancel(){for(const s of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${s.name()}`),s.cancel()}run(){return S(this,void 0,void 0,function*(){const s=[];for(const e of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${e.name()}`),s.push(e.run());const i=[];for(let e=0;e<s.length;e++){try{yield s[e]}catch(t){i.push(`task ${this.tasksToRunParallel[e].name()} failed: ${t.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[e].name()}`)}if(i.length>0){const e=i.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${e}`)}this.logger.info(`parallel group task ${this.name()} completed`)})}constructor(s,i,e){super(s),this.taskName=i,this.tasksToRunParallel=e;for(const t of e)t.setParent(this)}},"ParallelGroupTask");l.default=g},my46:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(u,g,a){this.videoWidth=u,this.videoHeight=g,this.videoFrameRate=a}},"VideoQualitySettings");l.default=S},nDuE:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("10yS")),g=f(h("j+uH"));let a=o(class extends g.default{run(){return S(this,void 0,void 0,function*(){const i=this.context.transceiverController;i.setPeer(this.context.peer);try{i.setupLocalTransceivers()}catch(n){throw n}const e=this.context.activeAudioInput;if(e){const n=e.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield i.setAudioInput(n.length?n[0]:null)}else yield i.setAudioInput(null),this.context.logger.info("no audio track");this.setAudioCodecPreferences();const t=this.context.activeVideoInput;if(t){const n=t.getVideoTracks(),r=n.length?n[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield i.setVideoInput(r),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const c=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();i.setEncodingParameters(c)}r&&this.context.statsCollector.logVideoEvent(u.default.InputAttached,this.context.videoDeviceInformation)}else yield i.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=i.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive)})}setAudioCodecPreferences(){const i=window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype,e=this.context.audioProfile.hasRedundancyEnabled();if(!i){this.context.logger.warn("Setting codec preferences not supported");return}const t=this.context.transceiverController.localAudioTransceiver(),{codecs:n}=RTCRtpSender.getCapabilities("audio");this.context.logger.debug(`Available audio codecs ${JSON.stringify(n,null,4)}`);const r=n.findIndex(c=>c.mimeType==="audio/red");if(!t){this.context.logger.error("audio transceiver is null");return}if(r>=0){const c=n[r];n.splice(r,1),e?(n.unshift(c),this.context.logger.info("audio/red set as preferred codec")):this.context.logger.info("audio/red removed from preferred codec"),t.setCodecPreferences(n);return}this.context.logger.info("audio/red codec not supported")}constructor(i){super(i.logger),this.context=i,this.taskName="AttachMediaInputTask"}},"AttachMediaInputTask");l.default=a},"nJ1/":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VoiceFocusAudioWorkletNode=void 0;let S=o(class extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||o(class{},"Sadness")){},"VoiceFocusAudioWorkletNode");l.VoiceFocusAudioWorkletNode=S},nSNv:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VoiceFocusAudioWorkletNode=void 0;let S=o(class extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||o(class{},"Sadness")){},"VoiceFocusAudioWorkletNode");l.VoiceFocusAudioWorkletNode=S},nWLk:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckCameraResolutionFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.ResolutionNotSupported=2]="ResolutionNotSupported",f[f.PermissionDenied=3]="PermissionDenied"})(S=l.CheckCameraResolutionFeedback||(l.CheckCameraResolutionFeedback={})),l.default=S},nWxe:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("hlxM"),u=h("nSNv"),g=5*1e3;let a=o(class extends u.VoiceFocusAudioWorkletNode{onModuleBufferLoaded(i,e){this.port.postMessage({message:"module-buffer",buffer:i,key:e})}onModuleLoaded(i,e){this.port.postMessage({message:"module",module:i,key:e})}enable(){return S(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var i;return S(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(i=this.worker)===null||i===void 0||i.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()})}onProcessorMessage(i){var e,t,n;const r=i.data;switch(r.message){case"cpu":this.cpuWarningCount++;const c=Date.now(),p=this.cpuWarningLastTriggered||c,m=Math.abs(c-p);(!this.cpuWarningLastTriggered||m>g)&&((e=this.logger)===null||e===void 0||e.warn(`CPU warning (count: ${this.cpuWarningCount}):`,r.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=c),(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;default:(n=this.logger)===null||n===void 0||n.debug("Ignoring processor message.")}}onWorkerMessage(i){const e=i.data;switch(e.message){case"module-buffer":if(!e.buffer||!e.key)return;this.onModuleBufferLoaded(e.buffer,e.key);break;case"module":if(!e.module||!e.key)return;this.onModuleLoaded(e.module,e.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}constructor(i,e){super(i,e.processor,e),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:t,worker:n,fetchBehavior:r,logger:c,delegate:p}=e;this.logger=c,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=p,c&&c.debug("VoiceFocusInlineNode:",t),this.worker=n,this.worker.onmessage=this.onWorkerMessage.bind(this);const m=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:m,key:"model",fetchBehavior:r,path:t})}},"VoiceFocusInlineNode");l.default=a},nXJe:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"TranscriptResult");l.default=S},nYR4:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Zkgh"));let u=o(class kS{reset(){this.optimalReceiveSet=new f.default,this.subscribedReceiveSet=new f.default,this.videoSources=void 0}updateIndex(a){this.videoIndex=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(a)}updateMetrics(a){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(a){this.videoSources=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(a){const s=new f.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return s;const i=a.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId),e=this.videoSources?this.videoSources:this.videoIndex.allVideoSendingSourcesExcludingSelf(this.selfAttendeeId),t=this.videoIndex.remoteStreamDescriptions(),n=new Map;for(const c of t)i.contain(c.streamId)&&n.set(c.attendeeId,c);let r=0;for(const c of e){const p=c.attendee.attendeeId;if(n.has(p)){const m=n.get(p);if(r+m.maxBitrateKbps<=kS.maxReceiveBitrateKbps)s.add(m.streamId),r+=m.maxBitrateKbps;else{console.warn("total bitrate "+(r+m.maxBitrateKbps)+" exceeds maximum limit (15000). Use chooseRemoteVideoSources to select a subset of participants to avoid this.");break}}}return s}constructor(a){this.selfAttendeeId=a,this.reset()}},"AllHighestVideoBandwidthPolicy");l.default=u,u.maxReceiveBitrateKbps=15e3},ngjY:function(j,l,h){"use strict";var S=h("+Xah"),f=h("YXGX"),u=f.a?function(yt,ot){return f.a.set(yt,ot),yt}:S.a,g=u,a=h("c3gm"),s=h("IzLi");function i(yt){return function(){var ot=arguments;switch(ot.length){case 0:return new yt;case 1:return new yt(ot[0]);case 2:return new yt(ot[0],ot[1]);case 3:return new yt(ot[0],ot[1],ot[2]);case 4:return new yt(ot[0],ot[1],ot[2],ot[3]);case 5:return new yt(ot[0],ot[1],ot[2],ot[3],ot[4]);case 6:return new yt(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]);case 7:return new yt(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5],ot[6])}var ln=Object(a.a)(yt.prototype),Gt=yt.apply(ln,ot);return Object(s.a)(Gt)?Gt:ln}}o(i,"createCtor");var e=i,t=h("Ju5/"),n=1;function r(yt,ot,ln){var Gt=ot&n,In=e(yt);function Jn(){var z=this&&this!==t.a&&this instanceof Jn?In:yt;return z.apply(Gt?ln:this,arguments)}return o(Jn,"wrapper"),Jn}o(r,"createBind");var c=r,p=h("uRGJ"),m=Math.max;function d(yt,ot,ln,Gt){for(var In=-1,Jn=yt.length,z=ln.length,ce=-1,Me=ot.length,Ne=m(Jn-z,0),Ke=Array(Me+Ne),vt=!Gt;++ce<Me;)Ke[ce]=ot[ce];for(;++In<z;)(vt||In<Jn)&&(Ke[ln[In]]=yt[In]);for(;Ne--;)Ke[ce++]=yt[In++];return Ke}o(d,"composeArgs");var y=d,E=Math.max;function w(yt,ot,ln,Gt){for(var In=-1,Jn=yt.length,z=-1,ce=ln.length,Me=-1,Ne=ot.length,Ke=E(Jn-ce,0),vt=Array(Ke+Ne),Et=!Gt;++In<Ke;)vt[In]=yt[In];for(var Tt=In;++Me<Ne;)vt[Tt+Me]=ot[Me];for(;++z<ce;)(Et||In<Jn)&&(vt[Tt+ln[z]]=yt[In++]);return vt}o(w,"composeArgsRight");var k=w;function V(yt,ot){for(var ln=yt.length,Gt=0;ln--;)yt[ln]===ot&&++Gt;return Gt}o(V,"countHolders");var N=V,F=h("Zhxc"),P=h("Ha6T"),B=Object(P.a)(g),O=B,R=/\{\n\/\* \[wrapped with (.+)\] \*/,D=/,? & /;function J(yt){var ot=yt.match(R);return ot?ot[1].split(D):[]}o(J,"getWrapDetails");var X=J,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function he(yt,ot){var ln=ot.length;if(!ln)return yt;var Gt=ln-1;return ot[Gt]=(ln>1?"& ":"")+ot[Gt],ot=ot.join(ln>2?", ":" "),yt.replace($,`{
/* [wrapped with `+ot+`] */
`)}o(he,"insertWrapDetails");var Ee=he,ke=h("xhnO"),ve=h("ILaC"),Be=h("cvt+"),pt=1,Ve=2,bt=8,lt=16,mt=32,xt=64,at=128,Mt=256,kt=512,Xe=[["ary",at],["bind",pt],["bindKey",Ve],["curry",bt],["curryRight",lt],["flip",kt],["partial",mt],["partialRight",xt],["rearg",Mt]];function on(yt,ot){return Object(ve.a)(Xe,function(ln){var Gt="_."+ln[0];ot&ln[1]&&!Object(Be.a)(yt,Gt)&&yt.push(Gt)}),yt.sort()}o(on,"updateWrapDetails");var Wn=on;function _n(yt,ot,ln){var Gt=ot+"";return Object(ke.a)(yt,Ee(Gt,Wn(X(Gt),ln)))}o(_n,"setWrapToString");var On=_n,Xn=1,ci=2,Qn=4,Kn=8,Ki=32,ui=64;function Fi(yt,ot,ln,Gt,In,Jn,z,ce,Me,Ne){var Ke=ot&Kn,vt=Ke?z:void 0,Et=Ke?void 0:z,Tt=Ke?Jn:void 0,$e=Ke?void 0:Jn;ot|=Ke?Ki:ui,ot&=~(Ke?ui:Ki),ot&Qn||(ot&=~(Xn|ci));var At=[yt,ot,In,Tt,vt,$e,Et,ce,Me,Ne],Dt=ln.apply(void 0,At);return Object(F.a)(yt)&&O(Dt,At),Dt.placeholder=Gt,On(Dt,yt,ot)}o(Fi,"createRecurry");var zi=Fi,qt=h("KSud"),Tn=h("eAQQ"),vn=h("cSlR"),Ot=Math.min;function bn(yt,ot){for(var ln=yt.length,Gt=Ot(ot.length,ln),In=Object(Tn.a)(yt);Gt--;){var Jn=ot[Gt];yt[Gt]=Object(vn.a)(Jn,ln)?In[Jn]:void 0}return yt}o(bn,"reorder");var Lt=bn,jn=h("nzLN"),Xi=1,Gn=2,Ti=8,Tr=16,er=128,cr=512;function fi(yt,ot,ln,Gt,In,Jn,z,ce,Me,Ne){var Ke=ot&er,vt=ot&Xi,Et=ot&Gn,Tt=ot&(Ti|Tr),$e=ot&cr,At=Et?void 0:e(yt);function Dt(){for(var wn=arguments.length,fn=Array(wn),Un=wn;Un--;)fn[Un]=arguments[Un];if(Tt)var li=Object(qt.a)(Dt),Mi=N(fn,li);if(Gt&&(fn=y(fn,Gt,In,Tt)),Jn&&(fn=k(fn,Jn,z,Tt)),wn-=Mi,Tt&&wn<Ne){var Ai=Object(jn.a)(fn,li);return zi(yt,ot,fi,Dt.placeholder,ln,fn,Ai,ce,Me,Ne-wn)}var hi=vt?ln:this,pi=Et?hi[yt]:yt;return wn=fn.length,ce?fn=Lt(fn,ce):$e&&wn>1&&fn.reverse(),Ke&&Me<wn&&(fn.length=Me),this&&this!==t.a&&this instanceof Dt&&(pi=At||e(pi)),pi.apply(hi,fn)}return o(Dt,"wrapper"),Dt}o(fi,"createHybrid");var Wi=fi;function Zn(yt,ot,ln){var Gt=e(yt);function In(){for(var Jn=arguments.length,z=Array(Jn),ce=Jn,Me=Object(qt.a)(In);ce--;)z[ce]=arguments[ce];var Ne=Jn<3&&z[0]!==Me&&z[Jn-1]!==Me?[]:Object(jn.a)(z,Me);if(Jn-=Ne.length,Jn<ln)return zi(yt,ot,Wi,In.placeholder,void 0,z,Ne,void 0,void 0,ln-Jn);var Ke=this&&this!==t.a&&this instanceof In?Gt:yt;return Object(p.a)(Ke,this,z)}return o(In,"wrapper"),In}o(Zn,"createCurry");var Re=Zn,Ce=1;function _e(yt,ot,ln,Gt){var In=ot&Ce,Jn=e(yt);function z(){for(var ce=-1,Me=arguments.length,Ne=-1,Ke=Gt.length,vt=Array(Ke+Me),Et=this&&this!==t.a&&this instanceof z?Jn:yt;++Ne<Ke;)vt[Ne]=Gt[Ne];for(;Me--;)vt[Ne++]=arguments[++ce];return Object(p.a)(Et,In?ln:this,vt)}return o(z,"wrapper"),z}o(_e,"createPartial");var et=_e,tt=h("+j7y"),ht="__lodash_placeholder__",gt=1,zt=2,cn=4,sn=8,Qt=128,Vi=256,Ci=Math.min;function gr(yt,ot){var ln=yt[1],Gt=ot[1],In=ln|Gt,Jn=In<(gt|zt|Qt),z=Gt==Qt&&ln==sn||Gt==Qt&&ln==Vi&&yt[7].length<=ot[8]||Gt==(Qt|Vi)&&ot[7].length<=ot[8]&&ln==sn;if(!(Jn||z))return yt;Gt&gt&&(yt[2]=ot[2],In|=ln&gt?0:cn);var ce=ot[3];if(ce){var Me=yt[3];yt[3]=Me?y(Me,ce,ot[4]):ce,yt[4]=Me?Object(jn.a)(yt[3],ht):ot[4]}return ce=ot[5],ce&&(Me=yt[5],yt[5]=Me?k(Me,ce,ot[6]):ce,yt[6]=Me?Object(jn.a)(yt[5],ht):ot[6]),ce=ot[7],ce&&(yt[7]=ce),Gt&Qt&&(yt[8]=yt[8]==null?ot[8]:Ci(yt[8],ot[8])),yt[9]==null&&(yt[9]=ot[9]),yt[0]=ot[0],yt[1]=In,yt}o(gr,"mergeData");var tr=gr,Si=h("fshX"),Ir="Expected a function",ai=1,lr=2,ti=8,wr=16,Qi=32,Ur=64,Ar=Math.max;function Zi(yt,ot,ln,Gt,In,Jn,z,ce){var Me=ot&lr;if(!Me&&typeof yt!="function")throw new TypeError(Ir);var Ne=Gt?Gt.length:0;if(Ne||(ot&=~(Qi|Ur),Gt=In=void 0),z=z===void 0?z:Ar(Object(Si.a)(z),0),ce=ce===void 0?ce:Object(Si.a)(ce),Ne-=In?In.length:0,ot&Ur){var Ke=Gt,vt=In;Gt=In=void 0}var Et=Me?void 0:Object(tt.a)(yt),Tt=[yt,ot,ln,Gt,In,Ke,vt,Jn,z,ce];if(Et&&tr(Tt,Et),yt=Tt[0],ot=Tt[1],ln=Tt[2],Gt=Tt[3],In=Tt[4],ce=Tt[9]=Tt[9]===void 0?Me?0:yt.length:Ar(Tt[9]-Ne,0),!ce&&ot&(ti|wr)&&(ot&=~(ti|wr)),!ot||ot==ai)var $e=c(yt,ot,ln);else ot==ti||ot==wr?$e=Re(yt,ot,ce):(ot==Qi||ot==(ai|Qi))&&!In.length?$e=et(yt,ot,ln,Gt):$e=Wi.apply(void 0,Tt);var At=Et?g:O;return On(At($e,Tt),yt,ot)}o(Zi,"createWrap");var io=l.a=Zi},nq15:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("f2XL"),u=S(h("ldli")),g=S(h("MhWp"));let a=o(class La extends u.default{localStreamDescriptions(){const i=[];return this._localStreamInfos.forEach(e=>{i.push(e.clone())}),i}integrateUplinkPolicyDecision(i){let e=!0,t=0;for(let n=0;n<i.length;n++){const r=i[n].maxBitrate/1e3,c=i[n].maxFramerate;if(!e||n===this._localStreamInfos.length){e=!1;const p=new g.default;p.maxBitrateKbps=r,p.maxFrameRate=c,p.disabledByUplinkPolicy=r===0,p.rid=i[n].rid,r!==0&&(p.timeEnabled=Date.now()),this._localStreamInfos.push(p),t++;continue}this._localStreamInfos[t].maxBitrateKbps===0&&r>0&&(this._localStreamInfos[t].timeEnabled=Date.now()),this._localStreamInfos[t].maxBitrateKbps=r,this._localStreamInfos[t].maxFrameRate=c,this._localStreamInfos[t].disabledByUplinkPolicy=r===0,this._localStreamInfos[t].disabledByUplinkPolicy===!0&&(this._localStreamInfos[t].disabledByWebRTC=!1),t++}e&&this._localStreamInfos.splice(t)}integrateBitratesFrame(i){super.integrateBitratesFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const n of i.bitrates)e.add(n.sourceStreamId),this.streamIdToBitrateKbpsMap.set(n.sourceStreamId,this.convertBpsToKbps(n.avgBitrateBps));for(const n of t)e.has(n)||(this.streamIdToBitrateKbpsMap.get(n)===La.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(n,La.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(n,La.NOT_SENDING_STREAM_BITRATE));for(let n=0;n<this._localStreamInfos.length;n++){this._localStreamInfos[n].disabledByWebRTC=!1;const r=this._localStreamInfos[n].streamId;this._localStreamInfos[n].disabledByUplinkPolicy||(this.streamIdToBitrateKbpsMap.has(r)?this.streamIdToBitrateKbpsMap.get(r)===La.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[n].timeEnabled>La.BitratesMsgFrequencyMs&&(this._localStreamInfos[n].disabledByWebRTC=!0):this._lastBitRateMsgTime-this._localStreamInfos[n].timeEnabled>La.BitratesMsgFrequencyMs&&(this._localStreamInfos[n].disabledByWebRTC=!0))}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let i="";for(const e of this._localStreamInfos)i+=`streamId=${e.streamId} maxBitrate=${e.maxBitrateKbps} disabledByWebRTC=${e.disabledByWebRTC} disabledByUplink=${e.disabledByUplinkPolicy}
`;this.logger.debug(()=>i)}integrateIndexFrame(i){super.integrateIndexFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const n of this.currentIndex.sources)n.mediaType===f.SdkStreamMediaType.VIDEO&&(e.add(n.streamId),this.streamIdToBitrateKbpsMap.has(n.streamId)||this.streamIdToBitrateKbpsMap.set(n.streamId,La.UNSEEN_STREAM_BITRATE));for(const n of t)e.has(n)||this.streamIdToBitrateKbpsMap.delete(n)}integrateSubscribeAckFrame(i){if(super.integrateSubscribeAckFrame(i),!i.allocations||i.allocations===void 0)return;let e=0;this._sendRidToVideoStreamIdMap.clear();for(const t of i.allocations){if(this._localStreamInfos.length<e+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[e].groupId=t.groupId,this._localStreamInfos[e].streamId=t.streamId,this.streamIdToBitrateKbpsMap.has(t.streamId)||this.streamIdToBitrateKbpsMap.set(t.streamId,La.UNSEEN_STREAM_BITRATE),this._sendRidToVideoStreamIdMap.set(this._localStreamInfos[e].rid,t.streamId),e++}}sendVideoStreamIdFromRid(i){let e=0;return this._sendRidToVideoStreamIdMap.has(i)&&(e=this._sendRidToVideoStreamIdMap.get(i)),e}constructor(i){super(i),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._sendRidToVideoStreamIdMap=new Map,this._lastBitRateMsgTime=Date.now()}},"SimulcastVideoStreamIndex");l.default=a,a.UNSEEN_STREAM_BITRATE=-2,a.RECENTLY_INACTIVE_STREAM_BITRATE=-1,a.NOT_SENDING_STREAM_BITRATE=0,a.BitratesMsgFrequencyMs=4e3},ntEb:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.supportsZeroByteGCM=l.supportsSubtleCrypto=l.supportsSecureRandom=l.supportsWebCrypto=void 0;var S=h("4vb1"),f=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function u(i){if(g(i)&&typeof i.crypto.subtle=="object"){var e=i.crypto.subtle;return a(e)}return!1}o(u,"supportsWebCrypto"),l.supportsWebCrypto=u;function g(i){if(typeof i=="object"&&typeof i.crypto=="object"){var e=i.crypto.getRandomValues;return typeof e=="function"}return!1}o(g,"supportsSecureRandom"),l.supportsSecureRandom=g;function a(i){return i&&f.every(function(e){return typeof i[e]=="function"})}o(a,"supportsSubtleCrypto"),l.supportsSubtleCrypto=a;function s(i){return S.__awaiter(this,void 0,void 0,function(){var e,t,n;return S.__generator(this,function(r){switch(r.label){case 0:if(!a(i))return[2,!1];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,i.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return e=r.sent(),[4,i.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},e,new Uint8Array(0))];case 3:return t=r.sent(),[2,t.byteLength===16];case 4:return n=r.sent(),[2,!1];case 5:return[2]}})})}o(s,"supportsZeroByteGCM"),l.supportsZeroByteGCM=s},ntxC:function(j,l,h){"use strict";var S=h("FUmc"),f=h("cSlR"),u=Array.prototype,g=u.splice;function a(s,i){for(var e=s?i.length:0,t=e-1;e--;){var n=i[e];if(e==t||n!==r){var r=n;Object(f.a)(n)?g.call(s,n,1):Object(S.a)(s,n)}}return s}o(a,"basePullAt"),l.a=a},nzLN:function(j,l,h){"use strict";var S="__lodash_placeholder__";function f(u,g){for(var a=-1,s=u.length,i=0,e=[];++a<s;){var t=u[a];(t===g||t===S)&&(u[a]=S,e[i++]=a)}return e}o(f,"replaceHolders"),l.a=f},o13v:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{add(u){return new Promise((g,a)=>{this.queue=this.queue.then(u).then(g).catch(a)})}constructor(){this.queue=Promise.resolve()}},"PromiseQueue");l.default=S},o1Pf:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={InvalidCallId:"invalid_call_id",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",TeamNotFound:"team_not_found",InvalidHuddle:"invalid_huddle",InvalidTranscriptionCache:"invalid_transcription_cache",ExternalApiFailed:"external_api_failed",PermissionDenied:"permission_denied"},t=Object(a.a)("rooms.stopTranscription generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"rooms.stopTranscription",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to rooms.stopTranscription
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherroomsStopTranscriptionFetcher",description:"rooms.stopTranscription generated fetcher"}},"o3U+":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isValidRevisionID=l.isValidAssetGroup=l.resolveURL=l.addQueryParams=l.withQueryString=l.withRequestHeaders=l.fetchWithBehavior=void 0;function S(t,n,r){if(!r)return fetch(t,n);const c=u(t,r),p=f(n,r);return fetch(c,p)}o(S,"fetchWithBehavior"),l.fetchWithBehavior=S;function f(t,n){return n!=null&&n.headers?t?Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers||{}),n.headers)}):{headers:n.headers}:t}o(f,"withRequestHeaders"),l.withRequestHeaders=f;function u(t,n){if(!(n!=null&&n.escapedQueryString))return t;const r=t.lastIndexOf("?")!==-1;return`${t}${r?"&":"?"}${n.escapedQueryString}`}o(u,"withQueryString"),l.withQueryString=u;function g(t,n){const r=Object.keys(n);if(!r.length)return t;const c=new URLSearchParams(t==null?void 0:t.escapedQueryString);for(const p of r)c.append(p,n[p]);return Object.assign(Object.assign({},t),{escapedQueryString:c.toString()})}o(g,"addQueryParams"),l.addQueryParams=g;const a={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function s(t,n){return S(t,a,n).then(r=>r.redirected?r.url:t)}o(s,"resolveURL"),l.resolveURL=s;function i(t){return!!t&&/^[-.a-zA-Z0-9]+$/.test(t)}o(i,"isValidAssetGroup"),l.isValidAssetGroup=i;function e(t){return!!t&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(t)}o(e,"isValidRevisionID"),l.isValidRevisionID=e},o4xN:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(O,R,D,J){function X($){return $ instanceof D?$:new D(function(he){he($)})}return o(X,"adopt"),new(D||(D=Promise))(function($,he){function Ee(Be){try{ve(J.next(Be))}catch(pt){he(pt)}}o(Ee,"fulfilled");function ke(Be){try{ve(J.throw(Be))}catch(pt){he(pt)}}o(ke,"rejected");function ve(Be){Be.done?$(Be.value):X(Be.value).then(Ee,ke)}o(ve,"step"),ve((J=J.apply(O,R||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.getAudioInput=l.createAudioContext=l.VoiceFocus=void 0;const f=h("riVe"),u=h("XEV2"),g=h("GEtQ"),a=h("hlxM"),s=h("nWxe"),i=h("TdKi"),e=h("M9Lm"),n={useVoiceFocusAGC:!1,useBuiltInAGC:!0},r="stable-v1",c="https://static.sdkassets.chime.aws",p={processors:`${c}/processors/`,workers:`${c}/workers/`,wasm:`${c}/wasm/`,models:`${c}/wasm/`},m={latencyHint:0},d={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},y=Object.assign(Object.assign({},d),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),E=Object.assign(Object.assign({},d),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),w={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:i.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:e.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:s.default}},k=o((O,R)=>{if(O!==void 0&&!u.isValidAssetGroup(O))throw new Error(`Invalid asset group ${O}`);if(R!==void 0&&!u.isValidRevisionID(R))throw new Error(`Invalid revision ID ${R}`)},"validateAssetSpec"),V=o((O,R)=>{let D;if(R.useBuiltInAGC?D=y:D=E,!O)return{audio:D};if(!O.audio)return O;if(O.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},O),{audio:O.audio===!0?D:Object.assign(Object.assign({},O.audio),D)})},"mungeConstraints"),N=o((O,R)=>`${R.models}${f.decideModel(O)}.wasm`,"urlForModel");let F=o(class DS{static isSupported(R,D){const{fetchBehavior:J,logger:X}=D||{};if(typeof globalThis>"u")return X==null||X.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!a.supportsAudioWorklet(globalThis,X))return X==null||X.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!a.supportsWASM(globalThis,X))return X==null||X.debug("Browser does not support WASM."),Promise.resolve(!1);a.supportsWASMStreaming(globalThis,X)||X==null||X.debug("Browser does not support streaming WASM compilation.");const{assetGroup:$=r,revisionID:he,paths:Ee=p}=R||{};k($,he);const ke=he?{revisionID:he}:{assetGroup:$},ve=u.addQueryParams(J,ke),Be=Object.assign(Object.assign({},ve),{paths:Ee});return a.supportsVoiceFocusWorker(globalThis,Be,X)}static mungeExecutionPreference(R,D){const J=R===void 0||R==="auto";if(a.isSafari(globalThis)){if(J||R==="inline")return"inline";if(!J)throw new Error(`Unsupported execution preference ${R}`)}if(R==="worker-sab"&&!a.supportsSharedArrayBuffer(globalThis,globalThis,D))throw new Error(`Unsupported execution preference ${R}`);return R||"auto"}static configure(R,D){return S(this,void 0,void 0,function*(){const{fetchBehavior:J,preResolve:X,logger:$}=D||{},{category:he="voicefocus",name:Ee="default",variant:ke="auto",assetGroup:ve=r,revisionID:Be,simd:pt="detect",executionPreference:Ve="auto",executionQuantaPreference:bt,usagePreference:lt="interactivity",estimatorBudget:mt=100,paths:xt=p,thresholds:at}=R||{};if($==null||$.debug("Configuring Voice Focus with spec",R),he!==void 0&&he!=="voicefocus")throw new Error(`Unrecognized category ${he}`);if(Ee!==void 0&&Ee!=="default"&&Ee!=="ns_es")throw new Error(`Unrecognized feature name ${Ee}`);if(ke!==void 0&&!["auto","c100","c50","c20","c10"].includes(ke))throw new Error(`Unrecognized feature variant ${ke}`);if(bt!==void 0&&![1,2,3].includes(bt))throw new Error(`Unrecognized execution quanta preference ${bt}`);if(k(ve,Be),pt!==void 0&&!["detect","force","disable"].includes(pt))throw new Error(`Unrecognized SIMD option ${pt}`);if(Ve!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(Ve))throw new Error(`Unrecognized execution preference ${Ve}`);if(lt!==void 0&&!["quality","interactivity"].includes(lt))throw new Error(`Unrecognized usage preference ${lt}`);const Mt={executionPreference:this.mungeExecutionPreference(Ve,$),usagePreference:lt,executionQuantaPreference:bt,variantPreference:ke,namePreference:Ee,simdPreference:pt,estimatorBudget:mt},kt=Be?{revisionID:Be}:{assetGroup:ve},Xe=u.addQueryParams(J,kt),on=Object.assign({paths:xt},Xe),Wn=yield f.measureAndDecideExecutionApproach(Mt,on,$,at);if(Wn.supported===!1)return{supported:!1,reason:Wn.reason};$==null||$.info("Decided execution approach",Wn);const{useSIMD:_n,processor:On,variant:Xn,executionQuanta:ci}=Wn,Qn={category:he||"voicefocus",name:Ee||"default",variant:Xn,simd:_n};if(X){const Kn=N(Qn,xt);Qn.url=yield u.resolveURL(Kn,Xe)}return{fetchConfig:on,model:Qn,processor:On,executionQuanta:ci,supported:!0}})}static init(R,D){let{delegate:J,preload:X=!0,logger:$}=D;return S(this,void 0,void 0,function*(){if(R.supported===!1)throw new Error("Voice Focus not supported. Reason: "+R.reason);const{model:he,processor:Ee,fetchConfig:ke,executionQuanta:ve}=R,{simd:Be,name:pt}=he,{paths:Ve}=ke;if(Ee!=="voicefocus-inline-processor"&&Ee!=="voicefocus-worker-postMessage-processor"&&Ee!=="voicefocus-worker-sab-processor")throw new Error(`Unknown processor ${Ee}`);const bt=he.url||N(he,Ve);$==null||$.debug(`Using model URL ${bt}.`);const lt=`${Ve.wasm}audio_buffer-v1${Be?"_simd":""}.wasm`,mt=`${Ve.wasm}resampler-v1${Be?"_simd":""}.wasm`,xt=`${Ve.workers}worker-v1.js`,{file:at,node:Mt}=w[Ee],kt=`${Ve.processors}${at}`,Xe=yield g.loadWorker(xt,"VoiceFocusWorker",ke,$);if(X){$==null||$.debug("Preloading",bt);let On=a.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";Xe.postMessage({message:On,preload:!0,key:"model",fetchBehavior:ke,path:bt})}const Wn={processor:Ee,worker:Xe,audioBufferURL:lt,resamplerURL:mt,fetchBehavior:ke,modelURL:bt,delegate:J,logger:$,numberOfInputs:pt==="ns_es"?2:1},_n=new DS(Xe,kt,Mt,Wn,ve);return Promise.resolve(_n)})}createNode(R,D){var J;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:X=R.sampleRate===16e3?16e3:48e3,enabled:$=!0,agc:he=n}=D||{},Ee=D==null?void 0:D.es,ke={voiceFocusSampleRate:X,enabled:$,sendBufferCount:10,prefill:6,agc:he,executionQuanta:this.executionQuanta,supportFarendStream:Ee},ve=u.withQueryString(this.processorURL,(J=this.nodeOptions)===null||J===void 0?void 0:J.fetchBehavior);return R.audioWorklet.addModule(ve).then(()=>new this.nodeConstructor(R,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:ke})))}applyToStream(R,D,J){return S(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const X=D.createMediaStreamSource(R),$=yield this.applyToSourceNode(X,D,J),he=D.createMediaStreamDestination();return $.connect(he),{node:$,source:X,destination:he,stream:he.stream}})}applyToSourceNode(R,D,J){return S(this,void 0,void 0,function*(){const X=yield this.createNode(D,J);return R.connect(X),X})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}constructor(R,D,J,X,$){this.processorURL=D,this.nodeConstructor=J,this.nodeOptions=X,this.executionQuanta=$,this.internal={worker:R,nodeOptions:X,isDestroyed:!1}}},"VoiceFocus");l.VoiceFocus=F;const P=o(function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;return new(window.AudioContext||window.webkitAudioContext)(O)},"createAudioContext");l.createAudioContext=P;const B=o((O,R,D)=>S(void 0,void 0,void 0,function*(){var J,X;const{constraints:$,spec:he,delegate:Ee,preload:ke=!0,options:ve}=R,{logger:Be}=D,pt=yield F.configure(he,D);if(!pt.supported)return(J=D.logger)===null||J===void 0||J.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia($);const Ve=yield F.init(pt,{delegate:Ee,preload:ke,logger:Be}),bt=((X=R.options)===null||X===void 0?void 0:X.agc)||n,lt=yield window.navigator.mediaDevices.getUserMedia(V($,bt));return Ve.applyToStream(lt,O,ve).then(mt=>mt.stream)}),"getAudioInput");l.getAudioInput=B},o5nl:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("cKqT")),u=S(h("HCbE"));let g=o(class{create(){return new f.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(s){return new u.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,s)}constructor(s,i,e){this.fixedWaitMs=s,this.shortBackoffMs=i,this.longBackoffMs=e}},"FullJitterBackoffFactory");l.default=g},oHvd:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(u){this.currentData=u}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const u=this.health();return u!==this.currentHealth?(this.currentHealth=u,u):null}constructor(u,g,a){this.minHealth=u.minHealth,this.maxHealth=u.maxHealth,this.currentHealth=u.initialHealth,this.currentData=g.clone(),this.name=a}},"BaseConnectionHealthPolicy");l.default=S},oJqn:function(j,l,h){"use strict";h.d(l,"a",function(){return i});var S=h("VDtp"),f=h.n(S);const u=S.Reader,g=S.Writer,a=S.util,s=S.roots.default||(S.roots.default={}),i=s.slack=(()=>{const e={};return e.calls=function(){const t={};return t.analytics=function(){const n={};return n.RecvMedia=function(){function r(p){if(p)for(let m=Object.keys(p),d=0;d<m.length;++d)p[m[d]]!=null&&(this[m[d]]=p[m[d]])}o(r,"RecvMedia"),r.prototype.peerId=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.bytesReceived=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.packetsReceived=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.fractionLost=0,r.prototype.jitter=0,r.prototype.packetsLost=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.codec=0,r.prototype.userId="",r.prototype.peerIdString="",r.prototype.audioStats=null,r.prototype.videoStats=null;let c;return Object.defineProperty(r.prototype,"mediaType",{get:a.oneOfGetter(c=["audioStats","videoStats"]),set:a.oneOfSetter(c)}),r.create=o(function(m){return new r(m)},"create"),r.encode=o(function(m,d){return d||(d=g.create()),m.peerId!=null&&Object.hasOwnProperty.call(m,"peerId")&&d.uint32(8).uint64(m.peerId),m.bytesReceived!=null&&Object.hasOwnProperty.call(m,"bytesReceived")&&d.uint32(16).uint64(m.bytesReceived),m.packetsReceived!=null&&Object.hasOwnProperty.call(m,"packetsReceived")&&d.uint32(24).uint64(m.packetsReceived),m.fractionLost!=null&&Object.hasOwnProperty.call(m,"fractionLost")&&d.uint32(33).double(m.fractionLost),m.jitter!=null&&Object.hasOwnProperty.call(m,"jitter")&&d.uint32(41).double(m.jitter),m.packetsLost!=null&&Object.hasOwnProperty.call(m,"packetsLost")&&d.uint32(48).uint64(m.packetsLost),m.codec!=null&&Object.hasOwnProperty.call(m,"codec")&&d.uint32(56).int32(m.codec),m.audioStats!=null&&Object.hasOwnProperty.call(m,"audioStats")&&s.slack.calls.analytics.RecvMedia.Audio.encode(m.audioStats,d.uint32(66).fork()).ldelim(),m.videoStats!=null&&Object.hasOwnProperty.call(m,"videoStats")&&s.slack.calls.analytics.RecvMedia.Video.encode(m.videoStats,d.uint32(74).fork()).ldelim(),m.userId!=null&&Object.hasOwnProperty.call(m,"userId")&&d.uint32(82).string(m.userId),m.peerIdString!=null&&Object.hasOwnProperty.call(m,"peerIdString")&&d.uint32(90).string(m.peerIdString),d},"encode"),r.encodeDelimited=o(function(m,d){return this.encode(m,d).ldelim()},"encodeDelimited"),r.decode=o(function(m,d){m instanceof u||(m=u.create(m));let y=d===void 0?m.len:m.pos+d,E=new s.slack.calls.analytics.RecvMedia;for(;m.pos<y;){let w=m.uint32();switch(w>>>3){case 1:{E.peerId=m.uint64();break}case 2:{E.bytesReceived=m.uint64();break}case 3:{E.packetsReceived=m.uint64();break}case 4:{E.fractionLost=m.double();break}case 5:{E.jitter=m.double();break}case 6:{E.packetsLost=m.uint64();break}case 7:{E.codec=m.int32();break}case 10:{E.userId=m.string();break}case 11:{E.peerIdString=m.string();break}case 8:{E.audioStats=s.slack.calls.analytics.RecvMedia.Audio.decode(m,m.uint32());break}case 9:{E.videoStats=s.slack.calls.analytics.RecvMedia.Video.decode(m,m.uint32());break}default:m.skipType(w&7);break}}return E},"decode"),r.decodeDelimited=o(function(m){return m instanceof u||(m=new u(m)),this.decode(m,m.uint32())},"decodeDelimited"),r.verify=o(function(m){if(typeof m!="object"||m===null)return"object expected";let d={};if(m.peerId!=null&&m.hasOwnProperty("peerId")&&!a.isInteger(m.peerId)&&!(m.peerId&&a.isInteger(m.peerId.low)&&a.isInteger(m.peerId.high)))return"peerId: integer|Long expected";if(m.bytesReceived!=null&&m.hasOwnProperty("bytesReceived")&&!a.isInteger(m.bytesReceived)&&!(m.bytesReceived&&a.isInteger(m.bytesReceived.low)&&a.isInteger(m.bytesReceived.high)))return"bytesReceived: integer|Long expected";if(m.packetsReceived!=null&&m.hasOwnProperty("packetsReceived")&&!a.isInteger(m.packetsReceived)&&!(m.packetsReceived&&a.isInteger(m.packetsReceived.low)&&a.isInteger(m.packetsReceived.high)))return"packetsReceived: integer|Long expected";if(m.fractionLost!=null&&m.hasOwnProperty("fractionLost")&&typeof m.fractionLost!="number")return"fractionLost: number expected";if(m.jitter!=null&&m.hasOwnProperty("jitter")&&typeof m.jitter!="number")return"jitter: number expected";if(m.packetsLost!=null&&m.hasOwnProperty("packetsLost")&&!a.isInteger(m.packetsLost)&&!(m.packetsLost&&a.isInteger(m.packetsLost.low)&&a.isInteger(m.packetsLost.high)))return"packetsLost: integer|Long expected";if(m.codec!=null&&m.hasOwnProperty("codec"))switch(m.codec){default:return"codec: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(m.userId!=null&&m.hasOwnProperty("userId")&&!a.isString(m.userId))return"userId: string expected";if(m.peerIdString!=null&&m.hasOwnProperty("peerIdString")&&!a.isString(m.peerIdString))return"peerIdString: string expected";if(m.audioStats!=null&&m.hasOwnProperty("audioStats")){d.mediaType=1;{let y=s.slack.calls.analytics.RecvMedia.Audio.verify(m.audioStats);if(y)return"audioStats."+y}}if(m.videoStats!=null&&m.hasOwnProperty("videoStats")){if(d.mediaType===1)return"mediaType: multiple values";d.mediaType=1;{let y=s.slack.calls.analytics.RecvMedia.Video.verify(m.videoStats);if(y)return"videoStats."+y}}return null},"verify"),r.fromObject=o(function(m){if(m instanceof s.slack.calls.analytics.RecvMedia)return m;let d=new s.slack.calls.analytics.RecvMedia;switch(m.peerId!=null&&(a.Long?(d.peerId=a.Long.fromValue(m.peerId)).unsigned=!0:typeof m.peerId=="string"?d.peerId=parseInt(m.peerId,10):typeof m.peerId=="number"?d.peerId=m.peerId:typeof m.peerId=="object"&&(d.peerId=new a.LongBits(m.peerId.low>>>0,m.peerId.high>>>0).toNumber(!0))),m.bytesReceived!=null&&(a.Long?(d.bytesReceived=a.Long.fromValue(m.bytesReceived)).unsigned=!0:typeof m.bytesReceived=="string"?d.bytesReceived=parseInt(m.bytesReceived,10):typeof m.bytesReceived=="number"?d.bytesReceived=m.bytesReceived:typeof m.bytesReceived=="object"&&(d.bytesReceived=new a.LongBits(m.bytesReceived.low>>>0,m.bytesReceived.high>>>0).toNumber(!0))),m.packetsReceived!=null&&(a.Long?(d.packetsReceived=a.Long.fromValue(m.packetsReceived)).unsigned=!0:typeof m.packetsReceived=="string"?d.packetsReceived=parseInt(m.packetsReceived,10):typeof m.packetsReceived=="number"?d.packetsReceived=m.packetsReceived:typeof m.packetsReceived=="object"&&(d.packetsReceived=new a.LongBits(m.packetsReceived.low>>>0,m.packetsReceived.high>>>0).toNumber(!0))),m.fractionLost!=null&&(d.fractionLost=Number(m.fractionLost)),m.jitter!=null&&(d.jitter=Number(m.jitter)),m.packetsLost!=null&&(a.Long?(d.packetsLost=a.Long.fromValue(m.packetsLost)).unsigned=!0:typeof m.packetsLost=="string"?d.packetsLost=parseInt(m.packetsLost,10):typeof m.packetsLost=="number"?d.packetsLost=m.packetsLost:typeof m.packetsLost=="object"&&(d.packetsLost=new a.LongBits(m.packetsLost.low>>>0,m.packetsLost.high>>>0).toNumber(!0))),m.codec){default:if(typeof m.codec=="number"){d.codec=m.codec;break}break;case"UNKNOWN":case 0:d.codec=0;break;case"OPUS":case 1:d.codec=1;break;case"VP8":case 2:d.codec=2;break;case"VP9":case 3:d.codec=3;break;case"H264":case 4:d.codec=4;break}if(m.userId!=null&&(d.userId=String(m.userId)),m.peerIdString!=null&&(d.peerIdString=String(m.peerIdString)),m.audioStats!=null){if(typeof m.audioStats!="object")throw TypeError(".slack.calls.analytics.RecvMedia.audioStats: object expected");d.audioStats=s.slack.calls.analytics.RecvMedia.Audio.fromObject(m.audioStats)}if(m.videoStats!=null){if(typeof m.videoStats!="object")throw TypeError(".slack.calls.analytics.RecvMedia.videoStats: object expected");d.videoStats=s.slack.calls.analytics.RecvMedia.Video.fromObject(m.videoStats)}return d},"fromObject"),r.toObject=o(function(m,d){d||(d={});let y={};if(d.defaults){if(a.Long){let E=new a.Long(0,0,!0);y.peerId=d.longs===String?E.toString():d.longs===Number?E.toNumber():E}else y.peerId=d.longs===String?"0":0;if(a.Long){let E=new a.Long(0,0,!0);y.bytesReceived=d.longs===String?E.toString():d.longs===Number?E.toNumber():E}else y.bytesReceived=d.longs===String?"0":0;if(a.Long){let E=new a.Long(0,0,!0);y.packetsReceived=d.longs===String?E.toString():d.longs===Number?E.toNumber():E}else y.packetsReceived=d.longs===String?"0":0;if(y.fractionLost=0,y.jitter=0,a.Long){let E=new a.Long(0,0,!0);y.packetsLost=d.longs===String?E.toString():d.longs===Number?E.toNumber():E}else y.packetsLost=d.longs===String?"0":0;y.codec=d.enums===String?"UNKNOWN":0,y.userId="",y.peerIdString=""}return m.peerId!=null&&m.hasOwnProperty("peerId")&&(typeof m.peerId=="number"?y.peerId=d.longs===String?String(m.peerId):m.peerId:y.peerId=d.longs===String?a.Long.prototype.toString.call(m.peerId):d.longs===Number?new a.LongBits(m.peerId.low>>>0,m.peerId.high>>>0).toNumber(!0):m.peerId),m.bytesReceived!=null&&m.hasOwnProperty("bytesReceived")&&(typeof m.bytesReceived=="number"?y.bytesReceived=d.longs===String?String(m.bytesReceived):m.bytesReceived:y.bytesReceived=d.longs===String?a.Long.prototype.toString.call(m.bytesReceived):d.longs===Number?new a.LongBits(m.bytesReceived.low>>>0,m.bytesReceived.high>>>0).toNumber(!0):m.bytesReceived),m.packetsReceived!=null&&m.hasOwnProperty("packetsReceived")&&(typeof m.packetsReceived=="number"?y.packetsReceived=d.longs===String?String(m.packetsReceived):m.packetsReceived:y.packetsReceived=d.longs===String?a.Long.prototype.toString.call(m.packetsReceived):d.longs===Number?new a.LongBits(m.packetsReceived.low>>>0,m.packetsReceived.high>>>0).toNumber(!0):m.packetsReceived),m.fractionLost!=null&&m.hasOwnProperty("fractionLost")&&(y.fractionLost=d.json&&!isFinite(m.fractionLost)?String(m.fractionLost):m.fractionLost),m.jitter!=null&&m.hasOwnProperty("jitter")&&(y.jitter=d.json&&!isFinite(m.jitter)?String(m.jitter):m.jitter),m.packetsLost!=null&&m.hasOwnProperty("packetsLost")&&(typeof m.packetsLost=="number"?y.packetsLost=d.longs===String?String(m.packetsLost):m.packetsLost:y.packetsLost=d.longs===String?a.Long.prototype.toString.call(m.packetsLost):d.longs===Number?new a.LongBits(m.packetsLost.low>>>0,m.packetsLost.high>>>0).toNumber(!0):m.packetsLost),m.codec!=null&&m.hasOwnProperty("codec")&&(y.codec=d.enums===String?s.slack.calls.analytics.Codec[m.codec]===void 0?m.codec:s.slack.calls.analytics.Codec[m.codec]:m.codec),m.audioStats!=null&&m.hasOwnProperty("audioStats")&&(y.audioStats=s.slack.calls.analytics.RecvMedia.Audio.toObject(m.audioStats,d),d.oneofs&&(y.mediaType="audioStats")),m.videoStats!=null&&m.hasOwnProperty("videoStats")&&(y.videoStats=s.slack.calls.analytics.RecvMedia.Video.toObject(m.videoStats,d),d.oneofs&&(y.mediaType="videoStats")),m.userId!=null&&m.hasOwnProperty("userId")&&(y.userId=m.userId),m.peerIdString!=null&&m.hasOwnProperty("peerIdString")&&(y.peerIdString=m.peerIdString),y},"toObject"),r.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),r.getTypeUrl=o(function(m){return m===void 0&&(m="type.googleapis.com"),m+"/slack.calls.analytics.RecvMedia"},"getTypeUrl"),r.Audio=function(){function p(m){if(m)for(let d=Object.keys(m),y=0;y<d.length;++y)m[d[y]]!=null&&(this[d[y]]=m[d[y]])}return o(p,"Audio"),p.prototype.audioLevel=0,p.prototype.jitterBufferDelay=0,p.prototype.concealmentEvents=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.concealedSamples=a.Long?a.Long.fromBits(0,0,!0):0,p.create=o(function(d){return new p(d)},"create"),p.encode=o(function(d,y){return y||(y=g.create()),d.audioLevel!=null&&Object.hasOwnProperty.call(d,"audioLevel")&&y.uint32(9).double(d.audioLevel),d.jitterBufferDelay!=null&&Object.hasOwnProperty.call(d,"jitterBufferDelay")&&y.uint32(17).double(d.jitterBufferDelay),d.concealmentEvents!=null&&Object.hasOwnProperty.call(d,"concealmentEvents")&&y.uint32(24).uint64(d.concealmentEvents),d.concealedSamples!=null&&Object.hasOwnProperty.call(d,"concealedSamples")&&y.uint32(32).uint64(d.concealedSamples),y},"encode"),p.encodeDelimited=o(function(d,y){return this.encode(d,y).ldelim()},"encodeDelimited"),p.decode=o(function(d,y){d instanceof u||(d=u.create(d));let E=y===void 0?d.len:d.pos+y,w=new s.slack.calls.analytics.RecvMedia.Audio;for(;d.pos<E;){let k=d.uint32();switch(k>>>3){case 1:{w.audioLevel=d.double();break}case 2:{w.jitterBufferDelay=d.double();break}case 3:{w.concealmentEvents=d.uint64();break}case 4:{w.concealedSamples=d.uint64();break}default:d.skipType(k&7);break}}return w},"decode"),p.decodeDelimited=o(function(d){return d instanceof u||(d=new u(d)),this.decode(d,d.uint32())},"decodeDelimited"),p.verify=o(function(d){return typeof d!="object"||d===null?"object expected":d.audioLevel!=null&&d.hasOwnProperty("audioLevel")&&typeof d.audioLevel!="number"?"audioLevel: number expected":d.jitterBufferDelay!=null&&d.hasOwnProperty("jitterBufferDelay")&&typeof d.jitterBufferDelay!="number"?"jitterBufferDelay: number expected":d.concealmentEvents!=null&&d.hasOwnProperty("concealmentEvents")&&!a.isInteger(d.concealmentEvents)&&!(d.concealmentEvents&&a.isInteger(d.concealmentEvents.low)&&a.isInteger(d.concealmentEvents.high))?"concealmentEvents: integer|Long expected":d.concealedSamples!=null&&d.hasOwnProperty("concealedSamples")&&!a.isInteger(d.concealedSamples)&&!(d.concealedSamples&&a.isInteger(d.concealedSamples.low)&&a.isInteger(d.concealedSamples.high))?"concealedSamples: integer|Long expected":null},"verify"),p.fromObject=o(function(d){if(d instanceof s.slack.calls.analytics.RecvMedia.Audio)return d;let y=new s.slack.calls.analytics.RecvMedia.Audio;return d.audioLevel!=null&&(y.audioLevel=Number(d.audioLevel)),d.jitterBufferDelay!=null&&(y.jitterBufferDelay=Number(d.jitterBufferDelay)),d.concealmentEvents!=null&&(a.Long?(y.concealmentEvents=a.Long.fromValue(d.concealmentEvents)).unsigned=!0:typeof d.concealmentEvents=="string"?y.concealmentEvents=parseInt(d.concealmentEvents,10):typeof d.concealmentEvents=="number"?y.concealmentEvents=d.concealmentEvents:typeof d.concealmentEvents=="object"&&(y.concealmentEvents=new a.LongBits(d.concealmentEvents.low>>>0,d.concealmentEvents.high>>>0).toNumber(!0))),d.concealedSamples!=null&&(a.Long?(y.concealedSamples=a.Long.fromValue(d.concealedSamples)).unsigned=!0:typeof d.concealedSamples=="string"?y.concealedSamples=parseInt(d.concealedSamples,10):typeof d.concealedSamples=="number"?y.concealedSamples=d.concealedSamples:typeof d.concealedSamples=="object"&&(y.concealedSamples=new a.LongBits(d.concealedSamples.low>>>0,d.concealedSamples.high>>>0).toNumber(!0))),y},"fromObject"),p.toObject=o(function(d,y){y||(y={});let E={};if(y.defaults){if(E.audioLevel=0,E.jitterBufferDelay=0,a.Long){let w=new a.Long(0,0,!0);E.concealmentEvents=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.concealmentEvents=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.concealedSamples=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.concealedSamples=y.longs===String?"0":0}return d.audioLevel!=null&&d.hasOwnProperty("audioLevel")&&(E.audioLevel=y.json&&!isFinite(d.audioLevel)?String(d.audioLevel):d.audioLevel),d.jitterBufferDelay!=null&&d.hasOwnProperty("jitterBufferDelay")&&(E.jitterBufferDelay=y.json&&!isFinite(d.jitterBufferDelay)?String(d.jitterBufferDelay):d.jitterBufferDelay),d.concealmentEvents!=null&&d.hasOwnProperty("concealmentEvents")&&(typeof d.concealmentEvents=="number"?E.concealmentEvents=y.longs===String?String(d.concealmentEvents):d.concealmentEvents:E.concealmentEvents=y.longs===String?a.Long.prototype.toString.call(d.concealmentEvents):y.longs===Number?new a.LongBits(d.concealmentEvents.low>>>0,d.concealmentEvents.high>>>0).toNumber(!0):d.concealmentEvents),d.concealedSamples!=null&&d.hasOwnProperty("concealedSamples")&&(typeof d.concealedSamples=="number"?E.concealedSamples=y.longs===String?String(d.concealedSamples):d.concealedSamples:E.concealedSamples=y.longs===String?a.Long.prototype.toString.call(d.concealedSamples):y.longs===Number?new a.LongBits(d.concealedSamples.low>>>0,d.concealedSamples.high>>>0).toNumber(!0):d.concealedSamples),E},"toObject"),p.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),p.getTypeUrl=o(function(d){return d===void 0&&(d="type.googleapis.com"),d+"/slack.calls.analytics.RecvMedia.Audio"},"getTypeUrl"),p}(),r.Video=function(){function p(m){if(m)for(let d=Object.keys(m),y=0;y<d.length;++y)m[d[y]]!=null&&(this[d[y]]=m[d[y]])}return o(p,"Video"),p.prototype.firCount=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.nackCount=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.pliCount=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.sliCount=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.frameHeight=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.frameWidth=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.framesPerSecond=0,p.prototype.framesCorrupted=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.framesDecoded=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.framesDropped=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.framesReceived=a.Long?a.Long.fromBits(0,0,!0):0,p.create=o(function(d){return new p(d)},"create"),p.encode=o(function(d,y){return y||(y=g.create()),d.firCount!=null&&Object.hasOwnProperty.call(d,"firCount")&&y.uint32(8).uint64(d.firCount),d.nackCount!=null&&Object.hasOwnProperty.call(d,"nackCount")&&y.uint32(16).uint64(d.nackCount),d.pliCount!=null&&Object.hasOwnProperty.call(d,"pliCount")&&y.uint32(24).uint64(d.pliCount),d.sliCount!=null&&Object.hasOwnProperty.call(d,"sliCount")&&y.uint32(32).uint64(d.sliCount),d.frameHeight!=null&&Object.hasOwnProperty.call(d,"frameHeight")&&y.uint32(40).uint64(d.frameHeight),d.frameWidth!=null&&Object.hasOwnProperty.call(d,"frameWidth")&&y.uint32(48).uint64(d.frameWidth),d.framesPerSecond!=null&&Object.hasOwnProperty.call(d,"framesPerSecond")&&y.uint32(57).double(d.framesPerSecond),d.framesCorrupted!=null&&Object.hasOwnProperty.call(d,"framesCorrupted")&&y.uint32(64).uint64(d.framesCorrupted),d.framesDecoded!=null&&Object.hasOwnProperty.call(d,"framesDecoded")&&y.uint32(72).uint64(d.framesDecoded),d.framesDropped!=null&&Object.hasOwnProperty.call(d,"framesDropped")&&y.uint32(80).uint64(d.framesDropped),d.framesReceived!=null&&Object.hasOwnProperty.call(d,"framesReceived")&&y.uint32(88).uint64(d.framesReceived),y},"encode"),p.encodeDelimited=o(function(d,y){return this.encode(d,y).ldelim()},"encodeDelimited"),p.decode=o(function(d,y){d instanceof u||(d=u.create(d));let E=y===void 0?d.len:d.pos+y,w=new s.slack.calls.analytics.RecvMedia.Video;for(;d.pos<E;){let k=d.uint32();switch(k>>>3){case 1:{w.firCount=d.uint64();break}case 2:{w.nackCount=d.uint64();break}case 3:{w.pliCount=d.uint64();break}case 4:{w.sliCount=d.uint64();break}case 5:{w.frameHeight=d.uint64();break}case 6:{w.frameWidth=d.uint64();break}case 7:{w.framesPerSecond=d.double();break}case 8:{w.framesCorrupted=d.uint64();break}case 9:{w.framesDecoded=d.uint64();break}case 10:{w.framesDropped=d.uint64();break}case 11:{w.framesReceived=d.uint64();break}default:d.skipType(k&7);break}}return w},"decode"),p.decodeDelimited=o(function(d){return d instanceof u||(d=new u(d)),this.decode(d,d.uint32())},"decodeDelimited"),p.verify=o(function(d){return typeof d!="object"||d===null?"object expected":d.firCount!=null&&d.hasOwnProperty("firCount")&&!a.isInteger(d.firCount)&&!(d.firCount&&a.isInteger(d.firCount.low)&&a.isInteger(d.firCount.high))?"firCount: integer|Long expected":d.nackCount!=null&&d.hasOwnProperty("nackCount")&&!a.isInteger(d.nackCount)&&!(d.nackCount&&a.isInteger(d.nackCount.low)&&a.isInteger(d.nackCount.high))?"nackCount: integer|Long expected":d.pliCount!=null&&d.hasOwnProperty("pliCount")&&!a.isInteger(d.pliCount)&&!(d.pliCount&&a.isInteger(d.pliCount.low)&&a.isInteger(d.pliCount.high))?"pliCount: integer|Long expected":d.sliCount!=null&&d.hasOwnProperty("sliCount")&&!a.isInteger(d.sliCount)&&!(d.sliCount&&a.isInteger(d.sliCount.low)&&a.isInteger(d.sliCount.high))?"sliCount: integer|Long expected":d.frameHeight!=null&&d.hasOwnProperty("frameHeight")&&!a.isInteger(d.frameHeight)&&!(d.frameHeight&&a.isInteger(d.frameHeight.low)&&a.isInteger(d.frameHeight.high))?"frameHeight: integer|Long expected":d.frameWidth!=null&&d.hasOwnProperty("frameWidth")&&!a.isInteger(d.frameWidth)&&!(d.frameWidth&&a.isInteger(d.frameWidth.low)&&a.isInteger(d.frameWidth.high))?"frameWidth: integer|Long expected":d.framesPerSecond!=null&&d.hasOwnProperty("framesPerSecond")&&typeof d.framesPerSecond!="number"?"framesPerSecond: number expected":d.framesCorrupted!=null&&d.hasOwnProperty("framesCorrupted")&&!a.isInteger(d.framesCorrupted)&&!(d.framesCorrupted&&a.isInteger(d.framesCorrupted.low)&&a.isInteger(d.framesCorrupted.high))?"framesCorrupted: integer|Long expected":d.framesDecoded!=null&&d.hasOwnProperty("framesDecoded")&&!a.isInteger(d.framesDecoded)&&!(d.framesDecoded&&a.isInteger(d.framesDecoded.low)&&a.isInteger(d.framesDecoded.high))?"framesDecoded: integer|Long expected":d.framesDropped!=null&&d.hasOwnProperty("framesDropped")&&!a.isInteger(d.framesDropped)&&!(d.framesDropped&&a.isInteger(d.framesDropped.low)&&a.isInteger(d.framesDropped.high))?"framesDropped: integer|Long expected":d.framesReceived!=null&&d.hasOwnProperty("framesReceived")&&!a.isInteger(d.framesReceived)&&!(d.framesReceived&&a.isInteger(d.framesReceived.low)&&a.isInteger(d.framesReceived.high))?"framesReceived: integer|Long expected":null},"verify"),p.fromObject=o(function(d){if(d instanceof s.slack.calls.analytics.RecvMedia.Video)return d;let y=new s.slack.calls.analytics.RecvMedia.Video;return d.firCount!=null&&(a.Long?(y.firCount=a.Long.fromValue(d.firCount)).unsigned=!0:typeof d.firCount=="string"?y.firCount=parseInt(d.firCount,10):typeof d.firCount=="number"?y.firCount=d.firCount:typeof d.firCount=="object"&&(y.firCount=new a.LongBits(d.firCount.low>>>0,d.firCount.high>>>0).toNumber(!0))),d.nackCount!=null&&(a.Long?(y.nackCount=a.Long.fromValue(d.nackCount)).unsigned=!0:typeof d.nackCount=="string"?y.nackCount=parseInt(d.nackCount,10):typeof d.nackCount=="number"?y.nackCount=d.nackCount:typeof d.nackCount=="object"&&(y.nackCount=new a.LongBits(d.nackCount.low>>>0,d.nackCount.high>>>0).toNumber(!0))),d.pliCount!=null&&(a.Long?(y.pliCount=a.Long.fromValue(d.pliCount)).unsigned=!0:typeof d.pliCount=="string"?y.pliCount=parseInt(d.pliCount,10):typeof d.pliCount=="number"?y.pliCount=d.pliCount:typeof d.pliCount=="object"&&(y.pliCount=new a.LongBits(d.pliCount.low>>>0,d.pliCount.high>>>0).toNumber(!0))),d.sliCount!=null&&(a.Long?(y.sliCount=a.Long.fromValue(d.sliCount)).unsigned=!0:typeof d.sliCount=="string"?y.sliCount=parseInt(d.sliCount,10):typeof d.sliCount=="number"?y.sliCount=d.sliCount:typeof d.sliCount=="object"&&(y.sliCount=new a.LongBits(d.sliCount.low>>>0,d.sliCount.high>>>0).toNumber(!0))),d.frameHeight!=null&&(a.Long?(y.frameHeight=a.Long.fromValue(d.frameHeight)).unsigned=!0:typeof d.frameHeight=="string"?y.frameHeight=parseInt(d.frameHeight,10):typeof d.frameHeight=="number"?y.frameHeight=d.frameHeight:typeof d.frameHeight=="object"&&(y.frameHeight=new a.LongBits(d.frameHeight.low>>>0,d.frameHeight.high>>>0).toNumber(!0))),d.frameWidth!=null&&(a.Long?(y.frameWidth=a.Long.fromValue(d.frameWidth)).unsigned=!0:typeof d.frameWidth=="string"?y.frameWidth=parseInt(d.frameWidth,10):typeof d.frameWidth=="number"?y.frameWidth=d.frameWidth:typeof d.frameWidth=="object"&&(y.frameWidth=new a.LongBits(d.frameWidth.low>>>0,d.frameWidth.high>>>0).toNumber(!0))),d.framesPerSecond!=null&&(y.framesPerSecond=Number(d.framesPerSecond)),d.framesCorrupted!=null&&(a.Long?(y.framesCorrupted=a.Long.fromValue(d.framesCorrupted)).unsigned=!0:typeof d.framesCorrupted=="string"?y.framesCorrupted=parseInt(d.framesCorrupted,10):typeof d.framesCorrupted=="number"?y.framesCorrupted=d.framesCorrupted:typeof d.framesCorrupted=="object"&&(y.framesCorrupted=new a.LongBits(d.framesCorrupted.low>>>0,d.framesCorrupted.high>>>0).toNumber(!0))),d.framesDecoded!=null&&(a.Long?(y.framesDecoded=a.Long.fromValue(d.framesDecoded)).unsigned=!0:typeof d.framesDecoded=="string"?y.framesDecoded=parseInt(d.framesDecoded,10):typeof d.framesDecoded=="number"?y.framesDecoded=d.framesDecoded:typeof d.framesDecoded=="object"&&(y.framesDecoded=new a.LongBits(d.framesDecoded.low>>>0,d.framesDecoded.high>>>0).toNumber(!0))),d.framesDropped!=null&&(a.Long?(y.framesDropped=a.Long.fromValue(d.framesDropped)).unsigned=!0:typeof d.framesDropped=="string"?y.framesDropped=parseInt(d.framesDropped,10):typeof d.framesDropped=="number"?y.framesDropped=d.framesDropped:typeof d.framesDropped=="object"&&(y.framesDropped=new a.LongBits(d.framesDropped.low>>>0,d.framesDropped.high>>>0).toNumber(!0))),d.framesReceived!=null&&(a.Long?(y.framesReceived=a.Long.fromValue(d.framesReceived)).unsigned=!0:typeof d.framesReceived=="string"?y.framesReceived=parseInt(d.framesReceived,10):typeof d.framesReceived=="number"?y.framesReceived=d.framesReceived:typeof d.framesReceived=="object"&&(y.framesReceived=new a.LongBits(d.framesReceived.low>>>0,d.framesReceived.high>>>0).toNumber(!0))),y},"fromObject"),p.toObject=o(function(d,y){y||(y={});let E={};if(y.defaults){if(a.Long){let w=new a.Long(0,0,!0);E.firCount=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.firCount=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.nackCount=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.nackCount=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.pliCount=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.pliCount=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.sliCount=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.sliCount=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.frameHeight=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.frameHeight=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.frameWidth=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.frameWidth=y.longs===String?"0":0;if(E.framesPerSecond=0,a.Long){let w=new a.Long(0,0,!0);E.framesCorrupted=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.framesCorrupted=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.framesDecoded=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.framesDecoded=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.framesDropped=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.framesDropped=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.framesReceived=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.framesReceived=y.longs===String?"0":0}return d.firCount!=null&&d.hasOwnProperty("firCount")&&(typeof d.firCount=="number"?E.firCount=y.longs===String?String(d.firCount):d.firCount:E.firCount=y.longs===String?a.Long.prototype.toString.call(d.firCount):y.longs===Number?new a.LongBits(d.firCount.low>>>0,d.firCount.high>>>0).toNumber(!0):d.firCount),d.nackCount!=null&&d.hasOwnProperty("nackCount")&&(typeof d.nackCount=="number"?E.nackCount=y.longs===String?String(d.nackCount):d.nackCount:E.nackCount=y.longs===String?a.Long.prototype.toString.call(d.nackCount):y.longs===Number?new a.LongBits(d.nackCount.low>>>0,d.nackCount.high>>>0).toNumber(!0):d.nackCount),d.pliCount!=null&&d.hasOwnProperty("pliCount")&&(typeof d.pliCount=="number"?E.pliCount=y.longs===String?String(d.pliCount):d.pliCount:E.pliCount=y.longs===String?a.Long.prototype.toString.call(d.pliCount):y.longs===Number?new a.LongBits(d.pliCount.low>>>0,d.pliCount.high>>>0).toNumber(!0):d.pliCount),d.sliCount!=null&&d.hasOwnProperty("sliCount")&&(typeof d.sliCount=="number"?E.sliCount=y.longs===String?String(d.sliCount):d.sliCount:E.sliCount=y.longs===String?a.Long.prototype.toString.call(d.sliCount):y.longs===Number?new a.LongBits(d.sliCount.low>>>0,d.sliCount.high>>>0).toNumber(!0):d.sliCount),d.frameHeight!=null&&d.hasOwnProperty("frameHeight")&&(typeof d.frameHeight=="number"?E.frameHeight=y.longs===String?String(d.frameHeight):d.frameHeight:E.frameHeight=y.longs===String?a.Long.prototype.toString.call(d.frameHeight):y.longs===Number?new a.LongBits(d.frameHeight.low>>>0,d.frameHeight.high>>>0).toNumber(!0):d.frameHeight),d.frameWidth!=null&&d.hasOwnProperty("frameWidth")&&(typeof d.frameWidth=="number"?E.frameWidth=y.longs===String?String(d.frameWidth):d.frameWidth:E.frameWidth=y.longs===String?a.Long.prototype.toString.call(d.frameWidth):y.longs===Number?new a.LongBits(d.frameWidth.low>>>0,d.frameWidth.high>>>0).toNumber(!0):d.frameWidth),d.framesPerSecond!=null&&d.hasOwnProperty("framesPerSecond")&&(E.framesPerSecond=y.json&&!isFinite(d.framesPerSecond)?String(d.framesPerSecond):d.framesPerSecond),d.framesCorrupted!=null&&d.hasOwnProperty("framesCorrupted")&&(typeof d.framesCorrupted=="number"?E.framesCorrupted=y.longs===String?String(d.framesCorrupted):d.framesCorrupted:E.framesCorrupted=y.longs===String?a.Long.prototype.toString.call(d.framesCorrupted):y.longs===Number?new a.LongBits(d.framesCorrupted.low>>>0,d.framesCorrupted.high>>>0).toNumber(!0):d.framesCorrupted),d.framesDecoded!=null&&d.hasOwnProperty("framesDecoded")&&(typeof d.framesDecoded=="number"?E.framesDecoded=y.longs===String?String(d.framesDecoded):d.framesDecoded:E.framesDecoded=y.longs===String?a.Long.prototype.toString.call(d.framesDecoded):y.longs===Number?new a.LongBits(d.framesDecoded.low>>>0,d.framesDecoded.high>>>0).toNumber(!0):d.framesDecoded),d.framesDropped!=null&&d.hasOwnProperty("framesDropped")&&(typeof d.framesDropped=="number"?E.framesDropped=y.longs===String?String(d.framesDropped):d.framesDropped:E.framesDropped=y.longs===String?a.Long.prototype.toString.call(d.framesDropped):y.longs===Number?new a.LongBits(d.framesDropped.low>>>0,d.framesDropped.high>>>0).toNumber(!0):d.framesDropped),d.framesReceived!=null&&d.hasOwnProperty("framesReceived")&&(typeof d.framesReceived=="number"?E.framesReceived=y.longs===String?String(d.framesReceived):d.framesReceived:E.framesReceived=y.longs===String?a.Long.prototype.toString.call(d.framesReceived):y.longs===Number?new a.LongBits(d.framesReceived.low>>>0,d.framesReceived.high>>>0).toNumber(!0):d.framesReceived),E},"toObject"),p.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),p.getTypeUrl=o(function(d){return d===void 0&&(d="type.googleapis.com"),d+"/slack.calls.analytics.RecvMedia.Video"},"getTypeUrl"),p}(),r}(),n.SendMedia=function(){function r(p){if(p)for(let m=Object.keys(p),d=0;d<m.length;++d)p[m[d]]!=null&&(this[m[d]]=p[m[d]])}o(r,"SendMedia"),r.prototype.peerId=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.bytesSent=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.packetsSent=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.codec=0,r.prototype.peerIdString="",r.prototype.audioStats=null,r.prototype.videoStats=null;let c;return Object.defineProperty(r.prototype,"mediaType",{get:a.oneOfGetter(c=["audioStats","videoStats"]),set:a.oneOfSetter(c)}),r.create=o(function(m){return new r(m)},"create"),r.encode=o(function(m,d){return d||(d=g.create()),m.peerId!=null&&Object.hasOwnProperty.call(m,"peerId")&&d.uint32(8).uint64(m.peerId),m.bytesSent!=null&&Object.hasOwnProperty.call(m,"bytesSent")&&d.uint32(16).uint64(m.bytesSent),m.packetsSent!=null&&Object.hasOwnProperty.call(m,"packetsSent")&&d.uint32(24).uint64(m.packetsSent),m.codec!=null&&Object.hasOwnProperty.call(m,"codec")&&d.uint32(32).int32(m.codec),m.audioStats!=null&&Object.hasOwnProperty.call(m,"audioStats")&&s.slack.calls.analytics.SendMedia.Audio.encode(m.audioStats,d.uint32(42).fork()).ldelim(),m.videoStats!=null&&Object.hasOwnProperty.call(m,"videoStats")&&s.slack.calls.analytics.SendMedia.Video.encode(m.videoStats,d.uint32(50).fork()).ldelim(),m.peerIdString!=null&&Object.hasOwnProperty.call(m,"peerIdString")&&d.uint32(58).string(m.peerIdString),d},"encode"),r.encodeDelimited=o(function(m,d){return this.encode(m,d).ldelim()},"encodeDelimited"),r.decode=o(function(m,d){m instanceof u||(m=u.create(m));let y=d===void 0?m.len:m.pos+d,E=new s.slack.calls.analytics.SendMedia;for(;m.pos<y;){let w=m.uint32();switch(w>>>3){case 1:{E.peerId=m.uint64();break}case 2:{E.bytesSent=m.uint64();break}case 3:{E.packetsSent=m.uint64();break}case 4:{E.codec=m.int32();break}case 7:{E.peerIdString=m.string();break}case 5:{E.audioStats=s.slack.calls.analytics.SendMedia.Audio.decode(m,m.uint32());break}case 6:{E.videoStats=s.slack.calls.analytics.SendMedia.Video.decode(m,m.uint32());break}default:m.skipType(w&7);break}}return E},"decode"),r.decodeDelimited=o(function(m){return m instanceof u||(m=new u(m)),this.decode(m,m.uint32())},"decodeDelimited"),r.verify=o(function(m){if(typeof m!="object"||m===null)return"object expected";let d={};if(m.peerId!=null&&m.hasOwnProperty("peerId")&&!a.isInteger(m.peerId)&&!(m.peerId&&a.isInteger(m.peerId.low)&&a.isInteger(m.peerId.high)))return"peerId: integer|Long expected";if(m.bytesSent!=null&&m.hasOwnProperty("bytesSent")&&!a.isInteger(m.bytesSent)&&!(m.bytesSent&&a.isInteger(m.bytesSent.low)&&a.isInteger(m.bytesSent.high)))return"bytesSent: integer|Long expected";if(m.packetsSent!=null&&m.hasOwnProperty("packetsSent")&&!a.isInteger(m.packetsSent)&&!(m.packetsSent&&a.isInteger(m.packetsSent.low)&&a.isInteger(m.packetsSent.high)))return"packetsSent: integer|Long expected";if(m.codec!=null&&m.hasOwnProperty("codec"))switch(m.codec){default:return"codec: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(m.peerIdString!=null&&m.hasOwnProperty("peerIdString")&&!a.isString(m.peerIdString))return"peerIdString: string expected";if(m.audioStats!=null&&m.hasOwnProperty("audioStats")){d.mediaType=1;{let y=s.slack.calls.analytics.SendMedia.Audio.verify(m.audioStats);if(y)return"audioStats."+y}}if(m.videoStats!=null&&m.hasOwnProperty("videoStats")){if(d.mediaType===1)return"mediaType: multiple values";d.mediaType=1;{let y=s.slack.calls.analytics.SendMedia.Video.verify(m.videoStats);if(y)return"videoStats."+y}}return null},"verify"),r.fromObject=o(function(m){if(m instanceof s.slack.calls.analytics.SendMedia)return m;let d=new s.slack.calls.analytics.SendMedia;switch(m.peerId!=null&&(a.Long?(d.peerId=a.Long.fromValue(m.peerId)).unsigned=!0:typeof m.peerId=="string"?d.peerId=parseInt(m.peerId,10):typeof m.peerId=="number"?d.peerId=m.peerId:typeof m.peerId=="object"&&(d.peerId=new a.LongBits(m.peerId.low>>>0,m.peerId.high>>>0).toNumber(!0))),m.bytesSent!=null&&(a.Long?(d.bytesSent=a.Long.fromValue(m.bytesSent)).unsigned=!0:typeof m.bytesSent=="string"?d.bytesSent=parseInt(m.bytesSent,10):typeof m.bytesSent=="number"?d.bytesSent=m.bytesSent:typeof m.bytesSent=="object"&&(d.bytesSent=new a.LongBits(m.bytesSent.low>>>0,m.bytesSent.high>>>0).toNumber(!0))),m.packetsSent!=null&&(a.Long?(d.packetsSent=a.Long.fromValue(m.packetsSent)).unsigned=!0:typeof m.packetsSent=="string"?d.packetsSent=parseInt(m.packetsSent,10):typeof m.packetsSent=="number"?d.packetsSent=m.packetsSent:typeof m.packetsSent=="object"&&(d.packetsSent=new a.LongBits(m.packetsSent.low>>>0,m.packetsSent.high>>>0).toNumber(!0))),m.codec){default:if(typeof m.codec=="number"){d.codec=m.codec;break}break;case"UNKNOWN":case 0:d.codec=0;break;case"OPUS":case 1:d.codec=1;break;case"VP8":case 2:d.codec=2;break;case"VP9":case 3:d.codec=3;break;case"H264":case 4:d.codec=4;break}if(m.peerIdString!=null&&(d.peerIdString=String(m.peerIdString)),m.audioStats!=null){if(typeof m.audioStats!="object")throw TypeError(".slack.calls.analytics.SendMedia.audioStats: object expected");d.audioStats=s.slack.calls.analytics.SendMedia.Audio.fromObject(m.audioStats)}if(m.videoStats!=null){if(typeof m.videoStats!="object")throw TypeError(".slack.calls.analytics.SendMedia.videoStats: object expected");d.videoStats=s.slack.calls.analytics.SendMedia.Video.fromObject(m.videoStats)}return d},"fromObject"),r.toObject=o(function(m,d){d||(d={});let y={};if(d.defaults){if(a.Long){let E=new a.Long(0,0,!0);y.peerId=d.longs===String?E.toString():d.longs===Number?E.toNumber():E}else y.peerId=d.longs===String?"0":0;if(a.Long){let E=new a.Long(0,0,!0);y.bytesSent=d.longs===String?E.toString():d.longs===Number?E.toNumber():E}else y.bytesSent=d.longs===String?"0":0;if(a.Long){let E=new a.Long(0,0,!0);y.packetsSent=d.longs===String?E.toString():d.longs===Number?E.toNumber():E}else y.packetsSent=d.longs===String?"0":0;y.codec=d.enums===String?"UNKNOWN":0,y.peerIdString=""}return m.peerId!=null&&m.hasOwnProperty("peerId")&&(typeof m.peerId=="number"?y.peerId=d.longs===String?String(m.peerId):m.peerId:y.peerId=d.longs===String?a.Long.prototype.toString.call(m.peerId):d.longs===Number?new a.LongBits(m.peerId.low>>>0,m.peerId.high>>>0).toNumber(!0):m.peerId),m.bytesSent!=null&&m.hasOwnProperty("bytesSent")&&(typeof m.bytesSent=="number"?y.bytesSent=d.longs===String?String(m.bytesSent):m.bytesSent:y.bytesSent=d.longs===String?a.Long.prototype.toString.call(m.bytesSent):d.longs===Number?new a.LongBits(m.bytesSent.low>>>0,m.bytesSent.high>>>0).toNumber(!0):m.bytesSent),m.packetsSent!=null&&m.hasOwnProperty("packetsSent")&&(typeof m.packetsSent=="number"?y.packetsSent=d.longs===String?String(m.packetsSent):m.packetsSent:y.packetsSent=d.longs===String?a.Long.prototype.toString.call(m.packetsSent):d.longs===Number?new a.LongBits(m.packetsSent.low>>>0,m.packetsSent.high>>>0).toNumber(!0):m.packetsSent),m.codec!=null&&m.hasOwnProperty("codec")&&(y.codec=d.enums===String?s.slack.calls.analytics.Codec[m.codec]===void 0?m.codec:s.slack.calls.analytics.Codec[m.codec]:m.codec),m.audioStats!=null&&m.hasOwnProperty("audioStats")&&(y.audioStats=s.slack.calls.analytics.SendMedia.Audio.toObject(m.audioStats,d),d.oneofs&&(y.mediaType="audioStats")),m.videoStats!=null&&m.hasOwnProperty("videoStats")&&(y.videoStats=s.slack.calls.analytics.SendMedia.Video.toObject(m.videoStats,d),d.oneofs&&(y.mediaType="videoStats")),m.peerIdString!=null&&m.hasOwnProperty("peerIdString")&&(y.peerIdString=m.peerIdString),y},"toObject"),r.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),r.getTypeUrl=o(function(m){return m===void 0&&(m="type.googleapis.com"),m+"/slack.calls.analytics.SendMedia"},"getTypeUrl"),r.Audio=function(){function p(m){if(m)for(let d=Object.keys(m),y=0;y<d.length;++y)m[d[y]]!=null&&(this[d[y]]=m[d[y]])}return o(p,"Audio"),p.prototype.audioLevel=0,p.prototype.echoReturnLoss=0,p.prototype.echoReturnLossEnhancement=0,p.prototype.totalAudioEnergy=0,p.prototype.totalSamplesDuration=0,p.create=o(function(d){return new p(d)},"create"),p.encode=o(function(d,y){return y||(y=g.create()),d.audioLevel!=null&&Object.hasOwnProperty.call(d,"audioLevel")&&y.uint32(9).double(d.audioLevel),d.echoReturnLoss!=null&&Object.hasOwnProperty.call(d,"echoReturnLoss")&&y.uint32(17).double(d.echoReturnLoss),d.echoReturnLossEnhancement!=null&&Object.hasOwnProperty.call(d,"echoReturnLossEnhancement")&&y.uint32(25).double(d.echoReturnLossEnhancement),d.totalAudioEnergy!=null&&Object.hasOwnProperty.call(d,"totalAudioEnergy")&&y.uint32(33).double(d.totalAudioEnergy),d.totalSamplesDuration!=null&&Object.hasOwnProperty.call(d,"totalSamplesDuration")&&y.uint32(41).double(d.totalSamplesDuration),y},"encode"),p.encodeDelimited=o(function(d,y){return this.encode(d,y).ldelim()},"encodeDelimited"),p.decode=o(function(d,y){d instanceof u||(d=u.create(d));let E=y===void 0?d.len:d.pos+y,w=new s.slack.calls.analytics.SendMedia.Audio;for(;d.pos<E;){let k=d.uint32();switch(k>>>3){case 1:{w.audioLevel=d.double();break}case 2:{w.echoReturnLoss=d.double();break}case 3:{w.echoReturnLossEnhancement=d.double();break}case 4:{w.totalAudioEnergy=d.double();break}case 5:{w.totalSamplesDuration=d.double();break}default:d.skipType(k&7);break}}return w},"decode"),p.decodeDelimited=o(function(d){return d instanceof u||(d=new u(d)),this.decode(d,d.uint32())},"decodeDelimited"),p.verify=o(function(d){return typeof d!="object"||d===null?"object expected":d.audioLevel!=null&&d.hasOwnProperty("audioLevel")&&typeof d.audioLevel!="number"?"audioLevel: number expected":d.echoReturnLoss!=null&&d.hasOwnProperty("echoReturnLoss")&&typeof d.echoReturnLoss!="number"?"echoReturnLoss: number expected":d.echoReturnLossEnhancement!=null&&d.hasOwnProperty("echoReturnLossEnhancement")&&typeof d.echoReturnLossEnhancement!="number"?"echoReturnLossEnhancement: number expected":d.totalAudioEnergy!=null&&d.hasOwnProperty("totalAudioEnergy")&&typeof d.totalAudioEnergy!="number"?"totalAudioEnergy: number expected":d.totalSamplesDuration!=null&&d.hasOwnProperty("totalSamplesDuration")&&typeof d.totalSamplesDuration!="number"?"totalSamplesDuration: number expected":null},"verify"),p.fromObject=o(function(d){if(d instanceof s.slack.calls.analytics.SendMedia.Audio)return d;let y=new s.slack.calls.analytics.SendMedia.Audio;return d.audioLevel!=null&&(y.audioLevel=Number(d.audioLevel)),d.echoReturnLoss!=null&&(y.echoReturnLoss=Number(d.echoReturnLoss)),d.echoReturnLossEnhancement!=null&&(y.echoReturnLossEnhancement=Number(d.echoReturnLossEnhancement)),d.totalAudioEnergy!=null&&(y.totalAudioEnergy=Number(d.totalAudioEnergy)),d.totalSamplesDuration!=null&&(y.totalSamplesDuration=Number(d.totalSamplesDuration)),y},"fromObject"),p.toObject=o(function(d,y){y||(y={});let E={};return y.defaults&&(E.audioLevel=0,E.echoReturnLoss=0,E.echoReturnLossEnhancement=0,E.totalAudioEnergy=0,E.totalSamplesDuration=0),d.audioLevel!=null&&d.hasOwnProperty("audioLevel")&&(E.audioLevel=y.json&&!isFinite(d.audioLevel)?String(d.audioLevel):d.audioLevel),d.echoReturnLoss!=null&&d.hasOwnProperty("echoReturnLoss")&&(E.echoReturnLoss=y.json&&!isFinite(d.echoReturnLoss)?String(d.echoReturnLoss):d.echoReturnLoss),d.echoReturnLossEnhancement!=null&&d.hasOwnProperty("echoReturnLossEnhancement")&&(E.echoReturnLossEnhancement=y.json&&!isFinite(d.echoReturnLossEnhancement)?String(d.echoReturnLossEnhancement):d.echoReturnLossEnhancement),d.totalAudioEnergy!=null&&d.hasOwnProperty("totalAudioEnergy")&&(E.totalAudioEnergy=y.json&&!isFinite(d.totalAudioEnergy)?String(d.totalAudioEnergy):d.totalAudioEnergy),d.totalSamplesDuration!=null&&d.hasOwnProperty("totalSamplesDuration")&&(E.totalSamplesDuration=y.json&&!isFinite(d.totalSamplesDuration)?String(d.totalSamplesDuration):d.totalSamplesDuration),E},"toObject"),p.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),p.getTypeUrl=o(function(d){return d===void 0&&(d="type.googleapis.com"),d+"/slack.calls.analytics.SendMedia.Audio"},"getTypeUrl"),p}(),r.Video=function(){function p(m){if(m)for(let d=Object.keys(m),y=0;y<d.length;++y)m[d[y]]!=null&&(this[d[y]]=m[d[y]])}return o(p,"Video"),p.prototype.frameHeight=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.frameWidth=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.framesPerSecond=0,p.prototype.framesSent=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.framesEncoded=a.Long?a.Long.fromBits(0,0,!0):0,p.prototype.hugeFramesSent=a.Long?a.Long.fromBits(0,0,!0):0,p.create=o(function(d){return new p(d)},"create"),p.encode=o(function(d,y){return y||(y=g.create()),d.frameHeight!=null&&Object.hasOwnProperty.call(d,"frameHeight")&&y.uint32(8).uint64(d.frameHeight),d.frameWidth!=null&&Object.hasOwnProperty.call(d,"frameWidth")&&y.uint32(16).uint64(d.frameWidth),d.framesPerSecond!=null&&Object.hasOwnProperty.call(d,"framesPerSecond")&&y.uint32(25).double(d.framesPerSecond),d.framesSent!=null&&Object.hasOwnProperty.call(d,"framesSent")&&y.uint32(32).uint64(d.framesSent),d.framesEncoded!=null&&Object.hasOwnProperty.call(d,"framesEncoded")&&y.uint32(40).uint64(d.framesEncoded),d.hugeFramesSent!=null&&Object.hasOwnProperty.call(d,"hugeFramesSent")&&y.uint32(48).uint64(d.hugeFramesSent),y},"encode"),p.encodeDelimited=o(function(d,y){return this.encode(d,y).ldelim()},"encodeDelimited"),p.decode=o(function(d,y){d instanceof u||(d=u.create(d));let E=y===void 0?d.len:d.pos+y,w=new s.slack.calls.analytics.SendMedia.Video;for(;d.pos<E;){let k=d.uint32();switch(k>>>3){case 1:{w.frameHeight=d.uint64();break}case 2:{w.frameWidth=d.uint64();break}case 3:{w.framesPerSecond=d.double();break}case 4:{w.framesSent=d.uint64();break}case 5:{w.framesEncoded=d.uint64();break}case 6:{w.hugeFramesSent=d.uint64();break}default:d.skipType(k&7);break}}return w},"decode"),p.decodeDelimited=o(function(d){return d instanceof u||(d=new u(d)),this.decode(d,d.uint32())},"decodeDelimited"),p.verify=o(function(d){return typeof d!="object"||d===null?"object expected":d.frameHeight!=null&&d.hasOwnProperty("frameHeight")&&!a.isInteger(d.frameHeight)&&!(d.frameHeight&&a.isInteger(d.frameHeight.low)&&a.isInteger(d.frameHeight.high))?"frameHeight: integer|Long expected":d.frameWidth!=null&&d.hasOwnProperty("frameWidth")&&!a.isInteger(d.frameWidth)&&!(d.frameWidth&&a.isInteger(d.frameWidth.low)&&a.isInteger(d.frameWidth.high))?"frameWidth: integer|Long expected":d.framesPerSecond!=null&&d.hasOwnProperty("framesPerSecond")&&typeof d.framesPerSecond!="number"?"framesPerSecond: number expected":d.framesSent!=null&&d.hasOwnProperty("framesSent")&&!a.isInteger(d.framesSent)&&!(d.framesSent&&a.isInteger(d.framesSent.low)&&a.isInteger(d.framesSent.high))?"framesSent: integer|Long expected":d.framesEncoded!=null&&d.hasOwnProperty("framesEncoded")&&!a.isInteger(d.framesEncoded)&&!(d.framesEncoded&&a.isInteger(d.framesEncoded.low)&&a.isInteger(d.framesEncoded.high))?"framesEncoded: integer|Long expected":d.hugeFramesSent!=null&&d.hasOwnProperty("hugeFramesSent")&&!a.isInteger(d.hugeFramesSent)&&!(d.hugeFramesSent&&a.isInteger(d.hugeFramesSent.low)&&a.isInteger(d.hugeFramesSent.high))?"hugeFramesSent: integer|Long expected":null},"verify"),p.fromObject=o(function(d){if(d instanceof s.slack.calls.analytics.SendMedia.Video)return d;let y=new s.slack.calls.analytics.SendMedia.Video;return d.frameHeight!=null&&(a.Long?(y.frameHeight=a.Long.fromValue(d.frameHeight)).unsigned=!0:typeof d.frameHeight=="string"?y.frameHeight=parseInt(d.frameHeight,10):typeof d.frameHeight=="number"?y.frameHeight=d.frameHeight:typeof d.frameHeight=="object"&&(y.frameHeight=new a.LongBits(d.frameHeight.low>>>0,d.frameHeight.high>>>0).toNumber(!0))),d.frameWidth!=null&&(a.Long?(y.frameWidth=a.Long.fromValue(d.frameWidth)).unsigned=!0:typeof d.frameWidth=="string"?y.frameWidth=parseInt(d.frameWidth,10):typeof d.frameWidth=="number"?y.frameWidth=d.frameWidth:typeof d.frameWidth=="object"&&(y.frameWidth=new a.LongBits(d.frameWidth.low>>>0,d.frameWidth.high>>>0).toNumber(!0))),d.framesPerSecond!=null&&(y.framesPerSecond=Number(d.framesPerSecond)),d.framesSent!=null&&(a.Long?(y.framesSent=a.Long.fromValue(d.framesSent)).unsigned=!0:typeof d.framesSent=="string"?y.framesSent=parseInt(d.framesSent,10):typeof d.framesSent=="number"?y.framesSent=d.framesSent:typeof d.framesSent=="object"&&(y.framesSent=new a.LongBits(d.framesSent.low>>>0,d.framesSent.high>>>0).toNumber(!0))),d.framesEncoded!=null&&(a.Long?(y.framesEncoded=a.Long.fromValue(d.framesEncoded)).unsigned=!0:typeof d.framesEncoded=="string"?y.framesEncoded=parseInt(d.framesEncoded,10):typeof d.framesEncoded=="number"?y.framesEncoded=d.framesEncoded:typeof d.framesEncoded=="object"&&(y.framesEncoded=new a.LongBits(d.framesEncoded.low>>>0,d.framesEncoded.high>>>0).toNumber(!0))),d.hugeFramesSent!=null&&(a.Long?(y.hugeFramesSent=a.Long.fromValue(d.hugeFramesSent)).unsigned=!0:typeof d.hugeFramesSent=="string"?y.hugeFramesSent=parseInt(d.hugeFramesSent,10):typeof d.hugeFramesSent=="number"?y.hugeFramesSent=d.hugeFramesSent:typeof d.hugeFramesSent=="object"&&(y.hugeFramesSent=new a.LongBits(d.hugeFramesSent.low>>>0,d.hugeFramesSent.high>>>0).toNumber(!0))),y},"fromObject"),p.toObject=o(function(d,y){y||(y={});let E={};if(y.defaults){if(a.Long){let w=new a.Long(0,0,!0);E.frameHeight=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.frameHeight=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.frameWidth=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.frameWidth=y.longs===String?"0":0;if(E.framesPerSecond=0,a.Long){let w=new a.Long(0,0,!0);E.framesSent=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.framesSent=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.framesEncoded=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.framesEncoded=y.longs===String?"0":0;if(a.Long){let w=new a.Long(0,0,!0);E.hugeFramesSent=y.longs===String?w.toString():y.longs===Number?w.toNumber():w}else E.hugeFramesSent=y.longs===String?"0":0}return d.frameHeight!=null&&d.hasOwnProperty("frameHeight")&&(typeof d.frameHeight=="number"?E.frameHeight=y.longs===String?String(d.frameHeight):d.frameHeight:E.frameHeight=y.longs===String?a.Long.prototype.toString.call(d.frameHeight):y.longs===Number?new a.LongBits(d.frameHeight.low>>>0,d.frameHeight.high>>>0).toNumber(!0):d.frameHeight),d.frameWidth!=null&&d.hasOwnProperty("frameWidth")&&(typeof d.frameWidth=="number"?E.frameWidth=y.longs===String?String(d.frameWidth):d.frameWidth:E.frameWidth=y.longs===String?a.Long.prototype.toString.call(d.frameWidth):y.longs===Number?new a.LongBits(d.frameWidth.low>>>0,d.frameWidth.high>>>0).toNumber(!0):d.frameWidth),d.framesPerSecond!=null&&d.hasOwnProperty("framesPerSecond")&&(E.framesPerSecond=y.json&&!isFinite(d.framesPerSecond)?String(d.framesPerSecond):d.framesPerSecond),d.framesSent!=null&&d.hasOwnProperty("framesSent")&&(typeof d.framesSent=="number"?E.framesSent=y.longs===String?String(d.framesSent):d.framesSent:E.framesSent=y.longs===String?a.Long.prototype.toString.call(d.framesSent):y.longs===Number?new a.LongBits(d.framesSent.low>>>0,d.framesSent.high>>>0).toNumber(!0):d.framesSent),d.framesEncoded!=null&&d.hasOwnProperty("framesEncoded")&&(typeof d.framesEncoded=="number"?E.framesEncoded=y.longs===String?String(d.framesEncoded):d.framesEncoded:E.framesEncoded=y.longs===String?a.Long.prototype.toString.call(d.framesEncoded):y.longs===Number?new a.LongBits(d.framesEncoded.low>>>0,d.framesEncoded.high>>>0).toNumber(!0):d.framesEncoded),d.hugeFramesSent!=null&&d.hasOwnProperty("hugeFramesSent")&&(typeof d.hugeFramesSent=="number"?E.hugeFramesSent=y.longs===String?String(d.hugeFramesSent):d.hugeFramesSent:E.hugeFramesSent=y.longs===String?a.Long.prototype.toString.call(d.hugeFramesSent):y.longs===Number?new a.LongBits(d.hugeFramesSent.low>>>0,d.hugeFramesSent.high>>>0).toNumber(!0):d.hugeFramesSent),E},"toObject"),p.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),p.getTypeUrl=o(function(d){return d===void 0&&(d="type.googleapis.com"),d+"/slack.calls.analytics.SendMedia.Video"},"getTypeUrl"),p}(),r}(),n.MemoryInfo=function(){function r(c){if(c)for(let p=Object.keys(c),m=0;m<p.length;++m)c[p[m]]!=null&&(this[p[m]]=c[p[m]])}return o(r,"MemoryInfo"),r.prototype.workingSetSize=0,r.prototype.peakWorkingSetSize=0,r.create=o(function(p){return new r(p)},"create"),r.encode=o(function(p,m){return m||(m=g.create()),p.workingSetSize!=null&&Object.hasOwnProperty.call(p,"workingSetSize")&&m.uint32(9).double(p.workingSetSize),p.peakWorkingSetSize!=null&&Object.hasOwnProperty.call(p,"peakWorkingSetSize")&&m.uint32(17).double(p.peakWorkingSetSize),m},"encode"),r.encodeDelimited=o(function(p,m){return this.encode(p,m).ldelim()},"encodeDelimited"),r.decode=o(function(p,m){p instanceof u||(p=u.create(p));let d=m===void 0?p.len:p.pos+m,y=new s.slack.calls.analytics.MemoryInfo;for(;p.pos<d;){let E=p.uint32();switch(E>>>3){case 1:{y.workingSetSize=p.double();break}case 2:{y.peakWorkingSetSize=p.double();break}default:p.skipType(E&7);break}}return y},"decode"),r.decodeDelimited=o(function(p){return p instanceof u||(p=new u(p)),this.decode(p,p.uint32())},"decodeDelimited"),r.verify=o(function(p){return typeof p!="object"||p===null?"object expected":p.workingSetSize!=null&&p.hasOwnProperty("workingSetSize")&&typeof p.workingSetSize!="number"?"workingSetSize: number expected":p.peakWorkingSetSize!=null&&p.hasOwnProperty("peakWorkingSetSize")&&typeof p.peakWorkingSetSize!="number"?"peakWorkingSetSize: number expected":null},"verify"),r.fromObject=o(function(p){if(p instanceof s.slack.calls.analytics.MemoryInfo)return p;let m=new s.slack.calls.analytics.MemoryInfo;return p.workingSetSize!=null&&(m.workingSetSize=Number(p.workingSetSize)),p.peakWorkingSetSize!=null&&(m.peakWorkingSetSize=Number(p.peakWorkingSetSize)),m},"fromObject"),r.toObject=o(function(p,m){m||(m={});let d={};return m.defaults&&(d.workingSetSize=0,d.peakWorkingSetSize=0),p.workingSetSize!=null&&p.hasOwnProperty("workingSetSize")&&(d.workingSetSize=m.json&&!isFinite(p.workingSetSize)?String(p.workingSetSize):p.workingSetSize),p.peakWorkingSetSize!=null&&p.hasOwnProperty("peakWorkingSetSize")&&(d.peakWorkingSetSize=m.json&&!isFinite(p.peakWorkingSetSize)?String(p.peakWorkingSetSize):p.peakWorkingSetSize),d},"toObject"),r.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),r.getTypeUrl=o(function(p){return p===void 0&&(p="type.googleapis.com"),p+"/slack.calls.analytics.MemoryInfo"},"getTypeUrl"),r}(),n.AppMetrics=function(){function r(c){if(c)for(let p=Object.keys(c),m=0;m<p.length;++m)c[p[m]]!=null&&(this[p[m]]=c[p[m]])}return o(r,"AppMetrics"),r.prototype.cpu=0,r.prototype.memory=null,r.create=o(function(p){return new r(p)},"create"),r.encode=o(function(p,m){return m||(m=g.create()),p.cpu!=null&&Object.hasOwnProperty.call(p,"cpu")&&m.uint32(9).double(p.cpu),p.memory!=null&&Object.hasOwnProperty.call(p,"memory")&&s.slack.calls.analytics.MemoryInfo.encode(p.memory,m.uint32(18).fork()).ldelim(),m},"encode"),r.encodeDelimited=o(function(p,m){return this.encode(p,m).ldelim()},"encodeDelimited"),r.decode=o(function(p,m){p instanceof u||(p=u.create(p));let d=m===void 0?p.len:p.pos+m,y=new s.slack.calls.analytics.AppMetrics;for(;p.pos<d;){let E=p.uint32();switch(E>>>3){case 1:{y.cpu=p.double();break}case 2:{y.memory=s.slack.calls.analytics.MemoryInfo.decode(p,p.uint32());break}default:p.skipType(E&7);break}}return y},"decode"),r.decodeDelimited=o(function(p){return p instanceof u||(p=new u(p)),this.decode(p,p.uint32())},"decodeDelimited"),r.verify=o(function(p){if(typeof p!="object"||p===null)return"object expected";if(p.cpu!=null&&p.hasOwnProperty("cpu")&&typeof p.cpu!="number")return"cpu: number expected";if(p.memory!=null&&p.hasOwnProperty("memory")){let m=s.slack.calls.analytics.MemoryInfo.verify(p.memory);if(m)return"memory."+m}return null},"verify"),r.fromObject=o(function(p){if(p instanceof s.slack.calls.analytics.AppMetrics)return p;let m=new s.slack.calls.analytics.AppMetrics;if(p.cpu!=null&&(m.cpu=Number(p.cpu)),p.memory!=null){if(typeof p.memory!="object")throw TypeError(".slack.calls.analytics.AppMetrics.memory: object expected");m.memory=s.slack.calls.analytics.MemoryInfo.fromObject(p.memory)}return m},"fromObject"),r.toObject=o(function(p,m){m||(m={});let d={};return m.defaults&&(d.cpu=0,d.memory=null),p.cpu!=null&&p.hasOwnProperty("cpu")&&(d.cpu=m.json&&!isFinite(p.cpu)?String(p.cpu):p.cpu),p.memory!=null&&p.hasOwnProperty("memory")&&(d.memory=s.slack.calls.analytics.MemoryInfo.toObject(p.memory,m)),d},"toObject"),r.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),r.getTypeUrl=o(function(p){return p===void 0&&(p="type.googleapis.com"),p+"/slack.calls.analytics.AppMetrics"},"getTypeUrl"),r}(),n.Codec=function(){const r={},c=Object.create(r);return c[r[0]="UNKNOWN"]=0,c[r[1]="OPUS"]=1,c[r[2]="VP8"]=2,c[r[3]="VP9"]=3,c[r[4]="H264"]=4,c}(),n.Protocol=function(){const r={},c=Object.create(r);return c[r[0]="UDP"]=0,c[r[1]="TCP"]=1,c}(),n.PathType=function(){const r={},c=Object.create(r);return c[r[0]="DIRECT"]=0,c[r[1]="RELAY"]=1,c}(),n.Report=function(){function r(c){if(this.recv=[],this.send=[],c)for(let p=Object.keys(c),m=0;m<p.length;++m)c[p[m]]!=null&&(this[p[m]]=c[p[m]])}return o(r,"Report"),r.prototype.totalBytesSent=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.totalBytesReceived=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.totalRoundTripTime=0,r.prototype.currentRoundTripTime=0,r.prototype.availableOutgoingBitrate=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.protocol=0,r.prototype.pathType=0,r.prototype.recv=a.emptyArray,r.prototype.send=a.emptyArray,r.prototype.clientTime=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.availableIncomingBitrate=a.Long?a.Long.fromBits(0,0,!0):0,r.prototype.appMetrics=null,r.create=o(function(p){return new r(p)},"create"),r.encode=o(function(p,m){if(m||(m=g.create()),p.totalBytesSent!=null&&Object.hasOwnProperty.call(p,"totalBytesSent")&&m.uint32(8).uint64(p.totalBytesSent),p.totalBytesReceived!=null&&Object.hasOwnProperty.call(p,"totalBytesReceived")&&m.uint32(16).uint64(p.totalBytesReceived),p.totalRoundTripTime!=null&&Object.hasOwnProperty.call(p,"totalRoundTripTime")&&m.uint32(25).double(p.totalRoundTripTime),p.currentRoundTripTime!=null&&Object.hasOwnProperty.call(p,"currentRoundTripTime")&&m.uint32(33).double(p.currentRoundTripTime),p.availableOutgoingBitrate!=null&&Object.hasOwnProperty.call(p,"availableOutgoingBitrate")&&m.uint32(40).uint64(p.availableOutgoingBitrate),p.protocol!=null&&Object.hasOwnProperty.call(p,"protocol")&&m.uint32(48).int32(p.protocol),p.pathType!=null&&Object.hasOwnProperty.call(p,"pathType")&&m.uint32(56).int32(p.pathType),p.recv!=null&&p.recv.length)for(let d=0;d<p.recv.length;++d)s.slack.calls.analytics.RecvMedia.encode(p.recv[d],m.uint32(66).fork()).ldelim();if(p.send!=null&&p.send.length)for(let d=0;d<p.send.length;++d)s.slack.calls.analytics.SendMedia.encode(p.send[d],m.uint32(74).fork()).ldelim();return p.clientTime!=null&&Object.hasOwnProperty.call(p,"clientTime")&&m.uint32(80).uint64(p.clientTime),p.availableIncomingBitrate!=null&&Object.hasOwnProperty.call(p,"availableIncomingBitrate")&&m.uint32(88).uint64(p.availableIncomingBitrate),p.appMetrics!=null&&Object.hasOwnProperty.call(p,"appMetrics")&&s.slack.calls.analytics.AppMetrics.encode(p.appMetrics,m.uint32(98).fork()).ldelim(),m},"encode"),r.encodeDelimited=o(function(p,m){return this.encode(p,m).ldelim()},"encodeDelimited"),r.decode=o(function(p,m){p instanceof u||(p=u.create(p));let d=m===void 0?p.len:p.pos+m,y=new s.slack.calls.analytics.Report;for(;p.pos<d;){let E=p.uint32();switch(E>>>3){case 1:{y.totalBytesSent=p.uint64();break}case 2:{y.totalBytesReceived=p.uint64();break}case 3:{y.totalRoundTripTime=p.double();break}case 4:{y.currentRoundTripTime=p.double();break}case 5:{y.availableOutgoingBitrate=p.uint64();break}case 6:{y.protocol=p.int32();break}case 7:{y.pathType=p.int32();break}case 8:{y.recv&&y.recv.length||(y.recv=[]),y.recv.push(s.slack.calls.analytics.RecvMedia.decode(p,p.uint32()));break}case 9:{y.send&&y.send.length||(y.send=[]),y.send.push(s.slack.calls.analytics.SendMedia.decode(p,p.uint32()));break}case 10:{y.clientTime=p.uint64();break}case 11:{y.availableIncomingBitrate=p.uint64();break}case 12:{y.appMetrics=s.slack.calls.analytics.AppMetrics.decode(p,p.uint32());break}default:p.skipType(E&7);break}}return y},"decode"),r.decodeDelimited=o(function(p){return p instanceof u||(p=new u(p)),this.decode(p,p.uint32())},"decodeDelimited"),r.verify=o(function(p){if(typeof p!="object"||p===null)return"object expected";if(p.totalBytesSent!=null&&p.hasOwnProperty("totalBytesSent")&&!a.isInteger(p.totalBytesSent)&&!(p.totalBytesSent&&a.isInteger(p.totalBytesSent.low)&&a.isInteger(p.totalBytesSent.high)))return"totalBytesSent: integer|Long expected";if(p.totalBytesReceived!=null&&p.hasOwnProperty("totalBytesReceived")&&!a.isInteger(p.totalBytesReceived)&&!(p.totalBytesReceived&&a.isInteger(p.totalBytesReceived.low)&&a.isInteger(p.totalBytesReceived.high)))return"totalBytesReceived: integer|Long expected";if(p.totalRoundTripTime!=null&&p.hasOwnProperty("totalRoundTripTime")&&typeof p.totalRoundTripTime!="number")return"totalRoundTripTime: number expected";if(p.currentRoundTripTime!=null&&p.hasOwnProperty("currentRoundTripTime")&&typeof p.currentRoundTripTime!="number")return"currentRoundTripTime: number expected";if(p.availableOutgoingBitrate!=null&&p.hasOwnProperty("availableOutgoingBitrate")&&!a.isInteger(p.availableOutgoingBitrate)&&!(p.availableOutgoingBitrate&&a.isInteger(p.availableOutgoingBitrate.low)&&a.isInteger(p.availableOutgoingBitrate.high)))return"availableOutgoingBitrate: integer|Long expected";if(p.protocol!=null&&p.hasOwnProperty("protocol"))switch(p.protocol){default:return"protocol: enum value expected";case 0:case 1:break}if(p.pathType!=null&&p.hasOwnProperty("pathType"))switch(p.pathType){default:return"pathType: enum value expected";case 0:case 1:break}if(p.recv!=null&&p.hasOwnProperty("recv")){if(!Array.isArray(p.recv))return"recv: array expected";for(let m=0;m<p.recv.length;++m){let d=s.slack.calls.analytics.RecvMedia.verify(p.recv[m]);if(d)return"recv."+d}}if(p.send!=null&&p.hasOwnProperty("send")){if(!Array.isArray(p.send))return"send: array expected";for(let m=0;m<p.send.length;++m){let d=s.slack.calls.analytics.SendMedia.verify(p.send[m]);if(d)return"send."+d}}if(p.clientTime!=null&&p.hasOwnProperty("clientTime")&&!a.isInteger(p.clientTime)&&!(p.clientTime&&a.isInteger(p.clientTime.low)&&a.isInteger(p.clientTime.high)))return"clientTime: integer|Long expected";if(p.availableIncomingBitrate!=null&&p.hasOwnProperty("availableIncomingBitrate")&&!a.isInteger(p.availableIncomingBitrate)&&!(p.availableIncomingBitrate&&a.isInteger(p.availableIncomingBitrate.low)&&a.isInteger(p.availableIncomingBitrate.high)))return"availableIncomingBitrate: integer|Long expected";if(p.appMetrics!=null&&p.hasOwnProperty("appMetrics")){let m=s.slack.calls.analytics.AppMetrics.verify(p.appMetrics);if(m)return"appMetrics."+m}return null},"verify"),r.fromObject=o(function(p){if(p instanceof s.slack.calls.analytics.Report)return p;let m=new s.slack.calls.analytics.Report;switch(p.totalBytesSent!=null&&(a.Long?(m.totalBytesSent=a.Long.fromValue(p.totalBytesSent)).unsigned=!0:typeof p.totalBytesSent=="string"?m.totalBytesSent=parseInt(p.totalBytesSent,10):typeof p.totalBytesSent=="number"?m.totalBytesSent=p.totalBytesSent:typeof p.totalBytesSent=="object"&&(m.totalBytesSent=new a.LongBits(p.totalBytesSent.low>>>0,p.totalBytesSent.high>>>0).toNumber(!0))),p.totalBytesReceived!=null&&(a.Long?(m.totalBytesReceived=a.Long.fromValue(p.totalBytesReceived)).unsigned=!0:typeof p.totalBytesReceived=="string"?m.totalBytesReceived=parseInt(p.totalBytesReceived,10):typeof p.totalBytesReceived=="number"?m.totalBytesReceived=p.totalBytesReceived:typeof p.totalBytesReceived=="object"&&(m.totalBytesReceived=new a.LongBits(p.totalBytesReceived.low>>>0,p.totalBytesReceived.high>>>0).toNumber(!0))),p.totalRoundTripTime!=null&&(m.totalRoundTripTime=Number(p.totalRoundTripTime)),p.currentRoundTripTime!=null&&(m.currentRoundTripTime=Number(p.currentRoundTripTime)),p.availableOutgoingBitrate!=null&&(a.Long?(m.availableOutgoingBitrate=a.Long.fromValue(p.availableOutgoingBitrate)).unsigned=!0:typeof p.availableOutgoingBitrate=="string"?m.availableOutgoingBitrate=parseInt(p.availableOutgoingBitrate,10):typeof p.availableOutgoingBitrate=="number"?m.availableOutgoingBitrate=p.availableOutgoingBitrate:typeof p.availableOutgoingBitrate=="object"&&(m.availableOutgoingBitrate=new a.LongBits(p.availableOutgoingBitrate.low>>>0,p.availableOutgoingBitrate.high>>>0).toNumber(!0))),p.protocol){default:if(typeof p.protocol=="number"){m.protocol=p.protocol;break}break;case"UDP":case 0:m.protocol=0;break;case"TCP":case 1:m.protocol=1;break}switch(p.pathType){default:if(typeof p.pathType=="number"){m.pathType=p.pathType;break}break;case"DIRECT":case 0:m.pathType=0;break;case"RELAY":case 1:m.pathType=1;break}if(p.recv){if(!Array.isArray(p.recv))throw TypeError(".slack.calls.analytics.Report.recv: array expected");m.recv=[];for(let d=0;d<p.recv.length;++d){if(typeof p.recv[d]!="object")throw TypeError(".slack.calls.analytics.Report.recv: object expected");m.recv[d]=s.slack.calls.analytics.RecvMedia.fromObject(p.recv[d])}}if(p.send){if(!Array.isArray(p.send))throw TypeError(".slack.calls.analytics.Report.send: array expected");m.send=[];for(let d=0;d<p.send.length;++d){if(typeof p.send[d]!="object")throw TypeError(".slack.calls.analytics.Report.send: object expected");m.send[d]=s.slack.calls.analytics.SendMedia.fromObject(p.send[d])}}if(p.clientTime!=null&&(a.Long?(m.clientTime=a.Long.fromValue(p.clientTime)).unsigned=!0:typeof p.clientTime=="string"?m.clientTime=parseInt(p.clientTime,10):typeof p.clientTime=="number"?m.clientTime=p.clientTime:typeof p.clientTime=="object"&&(m.clientTime=new a.LongBits(p.clientTime.low>>>0,p.clientTime.high>>>0).toNumber(!0))),p.availableIncomingBitrate!=null&&(a.Long?(m.availableIncomingBitrate=a.Long.fromValue(p.availableIncomingBitrate)).unsigned=!0:typeof p.availableIncomingBitrate=="string"?m.availableIncomingBitrate=parseInt(p.availableIncomingBitrate,10):typeof p.availableIncomingBitrate=="number"?m.availableIncomingBitrate=p.availableIncomingBitrate:typeof p.availableIncomingBitrate=="object"&&(m.availableIncomingBitrate=new a.LongBits(p.availableIncomingBitrate.low>>>0,p.availableIncomingBitrate.high>>>0).toNumber(!0))),p.appMetrics!=null){if(typeof p.appMetrics!="object")throw TypeError(".slack.calls.analytics.Report.appMetrics: object expected");m.appMetrics=s.slack.calls.analytics.AppMetrics.fromObject(p.appMetrics)}return m},"fromObject"),r.toObject=o(function(p,m){m||(m={});let d={};if((m.arrays||m.defaults)&&(d.recv=[],d.send=[]),m.defaults){if(a.Long){let y=new a.Long(0,0,!0);d.totalBytesSent=m.longs===String?y.toString():m.longs===Number?y.toNumber():y}else d.totalBytesSent=m.longs===String?"0":0;if(a.Long){let y=new a.Long(0,0,!0);d.totalBytesReceived=m.longs===String?y.toString():m.longs===Number?y.toNumber():y}else d.totalBytesReceived=m.longs===String?"0":0;if(d.totalRoundTripTime=0,d.currentRoundTripTime=0,a.Long){let y=new a.Long(0,0,!0);d.availableOutgoingBitrate=m.longs===String?y.toString():m.longs===Number?y.toNumber():y}else d.availableOutgoingBitrate=m.longs===String?"0":0;if(d.protocol=m.enums===String?"UDP":0,d.pathType=m.enums===String?"DIRECT":0,a.Long){let y=new a.Long(0,0,!0);d.clientTime=m.longs===String?y.toString():m.longs===Number?y.toNumber():y}else d.clientTime=m.longs===String?"0":0;if(a.Long){let y=new a.Long(0,0,!0);d.availableIncomingBitrate=m.longs===String?y.toString():m.longs===Number?y.toNumber():y}else d.availableIncomingBitrate=m.longs===String?"0":0;d.appMetrics=null}if(p.totalBytesSent!=null&&p.hasOwnProperty("totalBytesSent")&&(typeof p.totalBytesSent=="number"?d.totalBytesSent=m.longs===String?String(p.totalBytesSent):p.totalBytesSent:d.totalBytesSent=m.longs===String?a.Long.prototype.toString.call(p.totalBytesSent):m.longs===Number?new a.LongBits(p.totalBytesSent.low>>>0,p.totalBytesSent.high>>>0).toNumber(!0):p.totalBytesSent),p.totalBytesReceived!=null&&p.hasOwnProperty("totalBytesReceived")&&(typeof p.totalBytesReceived=="number"?d.totalBytesReceived=m.longs===String?String(p.totalBytesReceived):p.totalBytesReceived:d.totalBytesReceived=m.longs===String?a.Long.prototype.toString.call(p.totalBytesReceived):m.longs===Number?new a.LongBits(p.totalBytesReceived.low>>>0,p.totalBytesReceived.high>>>0).toNumber(!0):p.totalBytesReceived),p.totalRoundTripTime!=null&&p.hasOwnProperty("totalRoundTripTime")&&(d.totalRoundTripTime=m.json&&!isFinite(p.totalRoundTripTime)?String(p.totalRoundTripTime):p.totalRoundTripTime),p.currentRoundTripTime!=null&&p.hasOwnProperty("currentRoundTripTime")&&(d.currentRoundTripTime=m.json&&!isFinite(p.currentRoundTripTime)?String(p.currentRoundTripTime):p.currentRoundTripTime),p.availableOutgoingBitrate!=null&&p.hasOwnProperty("availableOutgoingBitrate")&&(typeof p.availableOutgoingBitrate=="number"?d.availableOutgoingBitrate=m.longs===String?String(p.availableOutgoingBitrate):p.availableOutgoingBitrate:d.availableOutgoingBitrate=m.longs===String?a.Long.prototype.toString.call(p.availableOutgoingBitrate):m.longs===Number?new a.LongBits(p.availableOutgoingBitrate.low>>>0,p.availableOutgoingBitrate.high>>>0).toNumber(!0):p.availableOutgoingBitrate),p.protocol!=null&&p.hasOwnProperty("protocol")&&(d.protocol=m.enums===String?s.slack.calls.analytics.Protocol[p.protocol]===void 0?p.protocol:s.slack.calls.analytics.Protocol[p.protocol]:p.protocol),p.pathType!=null&&p.hasOwnProperty("pathType")&&(d.pathType=m.enums===String?s.slack.calls.analytics.PathType[p.pathType]===void 0?p.pathType:s.slack.calls.analytics.PathType[p.pathType]:p.pathType),p.recv&&p.recv.length){d.recv=[];for(let y=0;y<p.recv.length;++y)d.recv[y]=s.slack.calls.analytics.RecvMedia.toObject(p.recv[y],m)}if(p.send&&p.send.length){d.send=[];for(let y=0;y<p.send.length;++y)d.send[y]=s.slack.calls.analytics.SendMedia.toObject(p.send[y],m)}return p.clientTime!=null&&p.hasOwnProperty("clientTime")&&(typeof p.clientTime=="number"?d.clientTime=m.longs===String?String(p.clientTime):p.clientTime:d.clientTime=m.longs===String?a.Long.prototype.toString.call(p.clientTime):m.longs===Number?new a.LongBits(p.clientTime.low>>>0,p.clientTime.high>>>0).toNumber(!0):p.clientTime),p.availableIncomingBitrate!=null&&p.hasOwnProperty("availableIncomingBitrate")&&(typeof p.availableIncomingBitrate=="number"?d.availableIncomingBitrate=m.longs===String?String(p.availableIncomingBitrate):p.availableIncomingBitrate:d.availableIncomingBitrate=m.longs===String?a.Long.prototype.toString.call(p.availableIncomingBitrate):m.longs===Number?new a.LongBits(p.availableIncomingBitrate.low>>>0,p.availableIncomingBitrate.high>>>0).toNumber(!0):p.availableIncomingBitrate),p.appMetrics!=null&&p.hasOwnProperty("appMetrics")&&(d.appMetrics=s.slack.calls.analytics.AppMetrics.toObject(p.appMetrics,m)),d},"toObject"),r.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),r.getTypeUrl=o(function(p){return p===void 0&&(p="type.googleapis.com"),p+"/slack.calls.analytics.Report"},"getTypeUrl"),r}(),n}(),t}(),e})()},ohOv:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(e,t,n,r){function c(p){return p instanceof n?p:new n(function(m){m(p)})}return o(c,"adopt"),new(n||(n=Promise))(function(p,m){function d(w){try{E(r.next(w))}catch(k){m(k)}}o(d,"fulfilled");function y(w){try{E(r.throw(w))}catch(k){m(k)}}o(y,"rejected");function E(w){w.done?p(w.value):c(w.value).then(d,y)}o(E,"step"),E((r=r.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Sa54")),g=f(h("bTau")),a=f(h("AUdx")),s=f(h("aVV0"));let i=o(class extends s.default{cancel(){if(this.cancelPromise){const t=new Error(`canceling ${this.name()}`);this.cancelPromise(t),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){const t=this.context.peer;let r=this.context.sdpOfferInit.sdp;this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(r=new a.default(r).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),this.context.browserBehavior.supportsDependencyDescriptorRtpHeaderExtension()&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension!==void 0&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension()&&(r=new a.default(r).withDependencyDescriptorRtpHeaderExtension(this.context.previousSdpOffer).sdp),new u.default().requiresDisablingH264Encoding()&&(r=new a.default(r).removeH264SupportFromSendSection().sdp);const c=this.context.audioVideoController.configuration.credentials.attendeeId;if(new g.default(c).hasModality(g.default.MODALITY_CONTENT)&&this.context.audioVideoController.configuration.enableSVC&&(r=new a.default(r).withStartingVideoSendBitrate(100).sdp),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(r=new a.default(r).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(r=new a.default(r).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(r=new a.default(r).withStereoAudio().sdp),this.context.audioProfile.hasRedundancyEnabled())){const d=new a.default(r).getAudioPayloadTypes();this.context.transceiverController&&this.context.transceiverController.setAudioPayloadTypes&&this.context.transceiverController.setAudioPayloadTypes(d)}this.logger.debug(()=>`local description is >>>${r}<<<`);const m={type:"offer",sdp:r,toJSON:null};yield new Promise((d,y)=>S(this,void 0,void 0,function*(){this.cancelPromise=E=>{y(E)};try{yield t.setLocalDescription(m),d()}catch(E){y(E)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}constructor(t){super(t.logger),this.context=t,this.taskName="SetLocalDescriptionTask"}},"SetLocalDescriptionTask");l.default=i},okoL:function(j,l,h){"use strict";var S=h("5iG2"),f=h("fshX");function u(g,a,s){var i=g==null?0:g.length;return i?(a=s||a===void 0?1:Object(f.a)(a),a=i-a,Object(S.a)(g,a<0?0:a,i)):[]}o(u,"takeRight"),l.a=u},on9F:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const S=h("K5tc"),f=h("JOZa"),u=h("AXyi"),g=h("Q2ix");let a=o(class{perform(i,e){const t=this.currentState;if(t===u.SessionStateControllerState.NotConnected&&i===S.SessionStateControllerAction.Connect)this.transition(u.SessionStateControllerState.Connecting,i);else if(t===u.SessionStateControllerState.Connecting&&i===S.SessionStateControllerAction.Fail)this.transition(u.SessionStateControllerState.Disconnecting,i);else if(t===u.SessionStateControllerState.Connecting&&i===S.SessionStateControllerAction.FinishConnecting)this.transition(u.SessionStateControllerState.Connected,i);else if(t===u.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Disconnect)this.transition(u.SessionStateControllerState.Disconnecting,i);else if(t===u.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Reconnect)this.transition(u.SessionStateControllerState.Connecting,i);else if(t===u.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Fail)this.transition(u.SessionStateControllerState.Disconnecting,i);else if(t===u.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Update)this.transition(u.SessionStateControllerState.Updating,i);else if(t===u.SessionStateControllerState.Updating&&i===S.SessionStateControllerAction.Fail)this.transition(u.SessionStateControllerState.Disconnecting,i);else if(t===u.SessionStateControllerState.Updating&&i===S.SessionStateControllerAction.FinishUpdating)this.transition(u.SessionStateControllerState.Connected,i);else if(t===u.SessionStateControllerState.Disconnecting&&i===S.SessionStateControllerAction.FinishDisconnecting)this.transition(u.SessionStateControllerState.NotConnected,i);else return this.canDefer(i)?(this.logger.info(`deferring transition from ${u.SessionStateControllerState[this.currentState]} with ${S.SessionStateControllerAction[i]}`),this.deferAction(i,e),g.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${u.SessionStateControllerState[this.currentState]} with ${S.SessionStateControllerAction[i]}`),g.SessionStateControllerTransitionResult.NoTransitionAvailable);try{e()}catch(n){return this.logger.error(`error during state ${u.SessionStateControllerState[this.currentState]} with action ${S.SessionStateControllerAction[i]}: ${n}`),this.logger.info(`rolling back transition to ${u.SessionStateControllerState[t]}`),this.currentState=t,g.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),g.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(i,e){this.logger.info(`transitioning from ${u.SessionStateControllerState[this.currentState]} to ${u.SessionStateControllerState[i]} with ${S.SessionStateControllerAction[e]}`),this.currentState=i}deferPriority(i){switch(i){case S.SessionStateControllerAction.Disconnect:return f.SessionStateControllerDeferPriority.VeryHigh;case S.SessionStateControllerAction.Fail:return f.SessionStateControllerDeferPriority.High;case S.SessionStateControllerAction.Reconnect:return f.SessionStateControllerDeferPriority.Medium;case S.SessionStateControllerAction.Update:return f.SessionStateControllerDeferPriority.Low;default:return f.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(i,e){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(i)||(this.deferredAction=i,this.deferredWork=e)}canDefer(i){return this.deferPriority(i)!==f.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===u.SessionStateControllerState.Connecting||this.currentState===u.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const i=this.deferredAction,e=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${S.SessionStateControllerAction[i]}`),this.perform(i,e)!==g.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${S.SessionStateControllerAction[i]} in state ${u.SessionStateControllerState[this.currentState]}`)}constructor(i){this.logger=i,this.currentState=u.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}},"DefaultSessionStateController");l.default=a},otBB:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Zkgh"));let u=o(class{reset(){}updateIndex(a){}updateMetrics(a){}wantsResubscribe(){return!1}chooseSubscriptions(){return new f.default}},"NoVideoDownlinkBandwidthPolicy");l.default=u},p3mT:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.Connect="connect"})(S||(S={})),l.default=S},p5Ac:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"BitrateParameters");l.default=S},p72H:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.EMPTY_DATA_SHA_256=l.SHA_256_HMAC_ALGO=l.SHA_256_HASH=void 0,l.SHA_256_HASH={name:"SHA-256"},l.SHA_256_HMAC_ALGO={name:"HMAC",hash:l.SHA_256_HASH},l.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},p7bP:function(j,l,h){"use strict";(function(S){Object.defineProperty(l,"__esModule",{value:!0});let f=o(class xs{static register(){!("document"in S)||!document.addEventListener||xs.shouldRegisterCSPMonitor&&(xs.added||(document.addEventListener("securitypolicyviolation",xs.listener),xs.added=!0))}static unregister(){!("document"in S)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",xs.listener),xs.loggers=new Set,xs.added=!1)}static disable(){xs.shouldRegisterCSPMonitor=!1,xs.unregister()}static addLogger(g){g&&xs.loggers.add(g)}static removeLogger(g){g&&xs.loggers.delete(g)}},"CSPMonitor");l.default=f,f.loggers=new Set,f.shouldRegisterCSPMonitor=!0,f.added=!1,f.listener=u=>{const g=`Security Policy Violation
Blocked URI: ${u.blockedURI}
Violated Directive: ${u.violatedDirective}
Original Policy: ${u.originalPolicy}
Document URI: ${u.documentURI}
Source File: ${u.sourceFile}
Line No.: ${u.lineNumber}
`;for(const a of f.loggers)a.error(g);f.loggers.size===0&&console.error(g)}}).call(this,h("yLpj"))},pCf5:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("ghxq"));let u=o(class extends f.default{calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const a=this.pastSamplesToConsider,s=a*this.packetsExpected;let i=0;for(let e=0;e<a;e++)i+=this.currentData.packetsReceivedInLastMinute[e];return Math.min(Math.max(1-i/s,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}constructor(a,s){super(a,s,"Unusable Audio Warning"),this.coolDownTimeMs=a.cooldownTimeMs,this.pastSamplesToConsider=a.pastSamplesToConsider,this.fractionalLoss=a.fractionalLoss,this.packetsExpected=a.packetsExpected,this.maximumTimesToWarn=a.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}},"UnusableAudioWarningConnectionHealthPolicy");l.default=u},pU0T:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=l.numToUint8=l.isEmptyData=l.convertToBuffer=void 0;var S=h("YcE2");Object.defineProperty(l,"convertToBuffer",{enumerable:!0,get:function(){return S.convertToBuffer}});var f=h("zW/2");Object.defineProperty(l,"isEmptyData",{enumerable:!0,get:function(){return f.isEmptyData}});var u=h("lnWt");Object.defineProperty(l,"numToUint8",{enumerable:!0,get:function(){return u.numToUint8}});var g=h("wiFD");Object.defineProperty(l,"uint32ArrayFrom",{enumerable:!0,get:function(){return g.uint32ArrayFrom}})},pacc:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(m,d,y,E){function w(k){return k instanceof y?k:new y(function(V){V(k)})}return o(w,"adopt"),new(y||(y=Promise))(function(k,V){function N(B){try{P(E.next(B))}catch(O){V(O)}}o(N,"fulfilled");function F(B){try{P(E.throw(B))}catch(O){V(O)}}o(F,"rejected");function P(B){B.done?k(B.value):w(B.value).then(N,F)}o(P,"step"),P((E=E.apply(m,d||[])).next())})},f=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("Zit3"),g=f(h("cKqT")),a=f(h("p7bP")),s=f(h("HXIC")),i=f(h("l7oq")),e=f(h("F7zz")),t=f(h("dPyZ")),n=f(h("3jln")),r=f(h("z8+u")),c=f(h("18tZ"));let p=o(class{addObserver(d){this.logger.info("adding messaging observer"),this.observerQueue.add(d)}removeObserver(d){this.logger.info("removing messaging observer"),this.observerQueue.delete(d)}start(){return S(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),a.default.removeLogger(this.logger))}forEachObserver(d){for(const y of this.observerQueue)e.default.nextTick(()=>{this.observerQueue.has(y)&&d(y)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",d=>{this.receiveMessageHandler(d.data)}),this.webSocket.addEventListener("close",d=>{this.closeEventHandler(d)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(d){return S(this,void 0,void 0,function*(){return yield this.startConnectingInternal(d),yield new Promise((y,E)=>{this.bootstrapResolved=y,this.bootstrapRejected=E})})}startConnectingInternal(d){var y;return S(this,void 0,void 0,function*(){let E=this.configuration.endpointUrl;if(d||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),d||E===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const k=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((y=k.Endpoint)===null||y===void 0)&&y.Url?E=k.Endpoint.Url:E=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else E=(yield this.configuration.chimeClient.send(new u.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${E}`)}catch(k){this.logger.error(`Messaging Session failed to resolve endpoint: ${k}`);const V=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(V);return}const w=yield this.prepareWebSocketUrl(E);this.logger.info(`opening connection to ${w}`),d||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(w,[],!0),this.forEachObserver(k=>{k.messagingSessionDidStartConnecting&&k.messagingSessionDidStartConnecting(d)}),this.setUpEventListeners()})}prepareWebSocketUrl(d){return S(this,void 0,void 0,function*(){const y=new Map;return y.set("userArn",[this.configuration.userArn]),y.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===c.default.Connect&&y.set("prefetch-on",[c.default.Connect]),this.configuration.prefetchSortBy&&y.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",d,"/connect","",y)})}isClosed(){return this.webSocket.readyState()===r.default.None||this.webSocket.readyState()===r.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(d){try{const y=JSON.parse(d),E=y.Headers["x-amz-chime-event-type"],w=new s.default(E,y.Headers,y.Payload||null);if(!this.isSessionEstablished&&E==="SESSION_ESTABLISHED"){this.forEachObserver(V=>{V.messagingSessionDidStart&&V.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const k=this.preBootstrapMessages.length;for(let V=0;V<k;V++){const N=this.preBootstrapMessages.shift();this.forEachObserver(F=>{this.sendMessageToObserver(F,N)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(w);return}this.forEachObserver(k=>{this.sendMessageToObserver(k,w)})}catch(y){this.logger.error(`Messaging parsing failed: ${y}`)}}sendMessageToObserver(d,y){d.messagingSessionDidReceiveMessage&&d.messagingSessionDidReceiveMessage(y)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>S(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(d){this.logger.info(`WebSocket close: ${d.code} ${d.reason}`),d.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(d.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(y=>{y.messagingSessionDidStop&&y.messagingSessionDidStop(d)}):this.bootstrapRejected(d))}canReconnect(d){return d===1001||d===1006||d>=1011&&d<=1014||d>4e3&&d!==4002&&d!==4003&&d!==4401}constructor(d,y,E,w,k){this.configuration=d,this.logger=y,this.webSocket=E,this.reconnectController=w,this.sigV4=k,this.observerQueue=new Set,this.webSocket||(this.webSocket=new n.default(this.logger)),this.reconnectController||(this.reconnectController=new i.default(d.reconnectTimeoutMs,new g.default(d.reconnectFixedWaitMs,d.reconnectShortBackoffMs,d.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new t.default(this.configuration.chimeClient)),a.default.addLogger(this.logger),a.default.register(),this.preBootstrapMessages=[]}},"DefaultMessagingSession");l.default=p},papz:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionStatusCode=void 0;var S;(function(f){f[f.OK=0]="OK",f[f.Left=1]="Left",f[f.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",f[f.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",f[f.AudioCallAtCapacity=4]="AudioCallAtCapacity",f[f.MeetingEnded=5]="MeetingEnded",f[f.AudioInternalServerError=6]="AudioInternalServerError",f[f.AudioServiceUnavailable=7]="AudioServiceUnavailable",f[f.AudioDisconnected=8]="AudioDisconnected",f[f.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",f[f.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",f[f.SignalingBadRequest=11]="SignalingBadRequest",f[f.SignalingInternalServerError=12]="SignalingInternalServerError",f[f.SignalingRequestFailed=13]="SignalingRequestFailed",f[f.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",f[f.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",f[f.RealtimeApiFailed=16]="RealtimeApiFailed",f[f.TaskFailed=17]="TaskFailed",f[f.IncompatibleSDP=18]="IncompatibleSDP",f[f.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",f[f.NoAttendeePresent=20]="NoAttendeePresent",f[f.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",f[f.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",f[f.AudioDisconnectAudio=23]="AudioDisconnectAudio",f[f.SignalChannelClosedUnexpectedly=24]="SignalChannelClosedUnexpectedly"})(S=l.MeetingSessionStatusCode||(l.MeetingSessionStatusCode={})),l.default=S},pewp:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("crgu"),g=f(h("sfTB"));let a=o(class{start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(i){this.logger.error(`Event Reporting - Error starting the event buffer ${i}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(i){this.logger.error(`Event Reporting - Error stopping the event buffer ${i}`)}}reportEvent(i,e,t){return S(this,void 0,void 0,function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${i}, ${e}, ${JSON.stringify(t)}`),this.eventsToIgnore.includes(e)){this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${e} event will be ignored as it is in events to ignore`);return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:i,name:e,attributes:t})}catch(n){this.logger.error(`Event Reporting - Error adding event to buffer ${n}`)}})}destroy(){return S(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),u.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}constructor(i,e){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded","deviceLabelTriggerFailed"],this.destroyed=!1;const{eventsClientConfiguration:t,ingestionURL:n,eventBufferConfiguration:r}=i,{eventsToIgnore:c}=t;this.eventBuffer=new g.default(r,t,n,this.importantEvents,e),this.logger=e,this.eventsToIgnore=c,this.start()}},"DefaultMeetingEventReporter");l.default=a},ppUg:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("r3TB"));let u=o(class Hl{id(){return this._id}base(){return this._id?this._id.split(Hl.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const a=this._id.split(Hl.MODALITY_SEPARATOR);return a.length===2?a[1]:""}hasModality(a){return a!==""&&this.modality()===a}withModality(a){const s=new Hl(this.base()+Hl.MODALITY_SEPARATOR+a);return a===""||this.base()===""||new Hl(s._id).modality()!==a?new Hl(this.base()):s}constructor(a){this._id=a}},"DefaultModality");l.default=u,u.MODALITY_SEPARATOR=f.default.Modality[0],u.MODALITY_CONTENT=f.default.Modality.substr(1)},qr10:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={UserNotFound:"user_not_found",AlreadyInCall:"already_in_call",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",InvalidResponse:"invalid_response",InviteNotFound:"invite_not_found",PermissionDenied:"permission_denied",TeamNotFound:"team_not_found"},t=Object(a.a)("rooms.inviteResponse generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"rooms.inviteResponse",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to rooms.inviteResponse
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherroomsInviteResponseFetcher",description:"rooms.inviteResponse generated fetcher"}},qvnc:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const S=h("jhQD");l.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";let f=o(class{subscribeToTranscriptEvent(g){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(l.TRANSCRIPTION_DATA_MESSAGE_TOPIC,a=>{for(const s of S.TranscriptEventConverter.from(a))for(const i of this.transcriptEventCallbacks)i(s)}),this.transcriptEventCallbacks.add(g)}unsubscribeFromTranscriptEvent(g){this.transcriptEventCallbacks.delete(g),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(l.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}constructor(g){this.realtimeController=g,this.transcriptEventCallbacks=new Set}},"DefaultTranscriptionController");l.default=f},r3TB:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S;(function(f){f.Modality="#content"})(S||(S={})),l.default=S},r7zX:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("KvYa"),u=h("nJ1/"),g={ready:0,enabled:1},a={disabled:0,enabled:1,stopped:2};let s=o(class extends u.VoiceFocusAudioWorkletNode{enable(){return S(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,g.enabled,a.enabled),Atomics.notify(this.state,g.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,g.enabled,a.disabled),Atomics.notify(this.state,g.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return S(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,g.enabled,a.stopped),Atomics.notify(this.state,g.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(e){var t;const n=e.data;switch(n.message){case"ready":if(!n.shared)throw new Error("No shared state.");this.state=new Int32Array(n.shared.state),this.port.postMessage(n);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(n);break;case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"processing":this.port.postMessage(n);break;default:return}}onProcessorMessage(e){var t;const n=e.data;switch(n.message){case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(n);break;default:}}constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:n,resamplerURL:r,worker:c,fetchBehavior:p,delegate:m}=t;this.delegate=m,this.worker=c,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:d,supportFarendStream:y}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:e.sampleRate===16e3?160:480,enabled:d,model:n,supportFarendStream:y});const E=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:E,key:"resampler",fetchBehavior:p,path:r})}},"VoiceFocusWorkerBufferNode");l.default=s},r9Lw:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(u){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(u){}removeMediaStreamBrokerObserver(u){}},"NoOpMediaStreamBroker");l.default=S},rCkh:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("r3TB")),u=S(h("h96U")),g=h("T44/"),a=S(h("5/lR"));let s=o(class extends a.default{reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(e){super.updateIndex(e);const t=g.VideoPreferences.prepare();let n=!1;const r=e.remoteStreamDescriptions();for(const c of r)t.some(p=>p.attendeeId===c.attendeeId)||(c.attendeeId.endsWith(f.default.Modality)?(t.add(new u.default(c.attendeeId,1)),n=!0):t.add(new u.default(c.attendeeId,2)));n?(this.videoPreferences=t.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(e){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}constructor(e){super(e),this.logger=e,super.shouldPauseTiles=!1,this.videoPreferences=void 0}},"VideoAdaptiveProbePolicy");l.default=s},rEUf:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;let S=o(class{resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptions=null,this.videoSubscriptionLimit=l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null}constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptionLimit=l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.enableSVC=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}},"AudioVideoControllerState");l.default=S},rIeS:function(j,l,h){"use strict";var S=l;S.Service=h("DJgg")},rLvK:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(y,E,w,k){function V(N){return N instanceof w?N:new w(function(F){F(N)})}return o(V,"adopt"),new(w||(w=Promise))(function(N,F){function P(R){try{O(k.next(R))}catch(D){F(D)}}o(P,"fulfilled");function B(R){try{O(k.throw(R))}catch(D){F(D)}}o(B,"rejected");function O(R){R.done?N(R.value):V(R.value).then(P,B)}o(O,"step"),O((k=k.apply(y,E||[])).next())})},f=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("XEV2"),g=h("GEtQ"),a=h("hlxM"),s=f(h("Sa54")),i=f(h("2y31")),e=h("R4Nl"),t=f(h("59sL")),n=f(h("KsuK")),r=h("2ede"),c=h("VcdL"),p=h("6qF3"),m=h("EjQB");let d=o(class Pd{process(E){return S(this,void 0,void 0,function*(){return E})}fxProcess(E){return S(this,void 0,void 0,function*(){const w=E[0].asCanvasElement();this.didStreamParametersChange(w)&&(yield this.adjustProcessorForNewStreamParameters(w));try{yield this.manageSegmentationMask(w)}catch(k){throw this.logger.error(k),new Error("Video stream could not be processed")}return yield this.renderer.render(w,this.segmentationMask),E[0]=this.canvasVideoFrameBuffer,E})}noOpProcess(E){return S(this,void 0,void 0,function*(){return E})}didStreamParametersChange(E){return E.width!==this.streamParameters.width||E.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(E){return S(this,void 0,void 0,function*(){this.streamParameters.width=E.width,this.streamParameters.height=E.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return S(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new r.DeferredPromise,this.engineWorker.postMessage({msg:p.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:p.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(E){return S(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const w=this.canvasOpsManager.getInferenceInputData(E);this.segmentationMask=yield this.generateSegmentationMask(w),this.segmentationRateManager.completeSegmentation()}}catch(w){throw this.logger.error(w.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(E){return S(this,void 0,void 0,function*(){Pd.isSharedArrayBufferSupported?(this.sharedImageData.set(E.data),this.engineWorker.postMessage({msg:p.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:p.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:E},[E.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(w){throw this.logger.error(w.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(E){return{backgroundBlur:{isEnabled:E.backgroundBlur.isEnabled,strength:E.backgroundBlur.strength},backgroundReplacement:{isEnabled:E.backgroundReplacement.isEnabled,backgroundImageURL:E.backgroundReplacement.backgroundImageURL,defaultColor:E.backgroundReplacement.defaultColor}}}setEffectConfig(E){return S(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(E,this.effectConfig))return;const w=this.cloneConfigFrom(E);try{yield this.validateEffectConfig(w)}catch(k){throw this.logger.error(k.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}w.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(w),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,w),this.effectConfig=w,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(E){return S(this,void 0,void 0,function*(){if(E.backgroundBlur.isEnabled&&E.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");E.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(E))})}validateReplacementConfig(E){return S(this,void 0,void 0,function*(){if(E.backgroundReplacement.backgroundImageURL&&E.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!E.backgroundReplacement.backgroundImageURL&&!E.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{E.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(E.backgroundReplacement.backgroundImageURL))}catch(k){throw this.logger.error(k.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const w=E.backgroundReplacement.defaultColor;if(w&&w!=="black"&&w!=="#000000"&&w!=="#000"){if(w.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(w))throw new Error(`Invalid hexadecimal color code for default replacement background: ${w}`);const V=document.createElement("canvas").getContext("2d"),N=V.fillStyle;if(V.fillStyle=w,V.fillStyle===N)throw new Error(`Invalid color for default replacement background: ${w}`)}})}validateProcessingBudgetPerFrame(E){if(E<p.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||E>p.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error(`Invalid resource constraint: cycle percentage must be within range of ${p.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${p.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return S(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const E=this.getVideoFxAssetParams();yield this.loadEngineWorker(E),yield this.buildEngine(E),yield this.loadFxLib(E),this.renderer=constructRenderer(p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(E){throw this.logger.error(E.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const E=e.getDefaultAssetSpec();return{assetGroup:E.assetGroup,revisionID:E.revisionID,sdk:encodeURIComponent(t.default.sdkVersion),ua:encodeURIComponent(t.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(E,w){const k=new URL(E);for(const[V,N]of Object.entries(w))if(N!==void 0){const F=encodeURIComponent(V),P=encodeURIComponent(N);k.searchParams.set(F,P)}return k.toString()}loadEngineWorker(E){return S(this,void 0,void 0,function*(){try{const w=this.getPathFromVideoFxAssetParams(p.CDN_BASE_PATH+p.WORKER_PATH,E);this.engineWorker=yield g.loadWorker(w,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",k=>this.engineWorkerReceiver(k))}catch(w){throw this.logger.error(w.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(E){return S(this,void 0,void 0,function*(){this.buildEnginePromise=new r.DeferredPromise,this.engineWorker.postMessage({msg:p.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:p.CDN_BASE_PATH,sdkVersioningParams:E}});try{yield this.buildEnginePromise.getPromise()}catch(w){throw this.logger.error(w.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(E){return S(this,void 0,void 0,function*(){const w=this.getPathFromVideoFxAssetParams(p.CDN_BASE_PATH+p.FXLIB_PATH,E),k={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const V=yield u.fetchWithBehavior(w,k,{});if(!V.ok)throw new Error("Fetch failed.");const N=window.URL.createObjectURL(yield V.blob());yield new Promise((F,P)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",N),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",F),this.fxLibScript.addEventListener("error",P),document.body.appendChild(this.fxLibScript)})}catch(V){throw this.logger.error(V.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(E){const w=E.data;switch(w.msg){case p.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(w.payload);break;case p.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(w.payload.output);break;case p.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case p.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(w)}`);break}}settleEngineBuildPromise(E){E!==p.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(E){E?this.segmentationRequestPromise.resolveAndReplacePromise(E):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const E=new ImageData(new Uint8ClampedArray(this.sharedImageData),p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(E)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new i.default,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return S(this,void 0,void 0,function*(){let k=!0;const V=o((P,B)=>{P&&(E.info(B),k=!1)},"checkEnv");V(typeof globalThis>"u","Browser does not have globalThis."),V(!a.supportsWorker(globalThis,E),"Browser does not support web workers."),V(!a.supportsWASM(globalThis,E),"Browser does not support wasm."),V(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const N=new s.default;V(!N.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const F=o(()=>S(this,void 0,void 0,function*(){if(w)try{const P=new Pd(E);yield P.loadAssets(),yield P.destroy()}catch{return E.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)}),"checkProcessor");return Promise.resolve(k?yield F():!1)})}static create(E,w){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME;return S(this,void 0,void 0,function*(){const V=new Pd(E,k);try{return yield V.loadAssets(),yield V.setEffectConfig(w),V}catch(N){throw E.error(N.toString()),V.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(E){this.eventController?this.eventController=E:(this.eventController=E,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const E={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",E)}sameVideoFxConfig(E,w){return E.backgroundBlur.isEnabled===w.backgroundBlur.isEnabled&&E.backgroundBlur.strength===w.backgroundBlur.strength&&E.backgroundReplacement.backgroundImageURL===w.backgroundReplacement.backgroundImageURL&&E.backgroundReplacement.defaultColor===w.backgroundReplacement.defaultColor&&E.backgroundReplacement.isEnabled===w.backgroundReplacement.isEnabled}constructor(E,w=p.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,k){this.logger=E,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new n.default(this.outputCanvas);try{this.validateProcessingBudgetPerFrame(w)}catch(V){throw this.logger.error(V),new Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${w}`)}k&&(this.eventController=k),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new r.DeferredPromise,this.segmentationRateManager=new m.VideoFxSegmentationRateManager(this.logger,w),this.streamParameters={framerate:p.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:p.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:p.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:p.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},Pd.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${Pd.isSharedArrayBufferSupported}`),this.canvasOpsManager=new c.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${w}`)}},"VideoFxProcessor");l.default=d,d.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u"},rU8T:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0})},raQ4:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("CmE0")),g=f(h("3ZJV"));let a=o(class th extends u.default{setImageBlob(i){return S(this,void 0,void 0,function*(){this.replacementBlob=i,this.replacementImage=yield th.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(i,e){e||(e=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(e,0,0);const{canvasCtx:n,targetCanvas:r}=this,{width:c,height:p}=r;n.save(),n.clearRect(0,0,c,p),n.drawImage(this.scaledCanvas,0,0,c,p),n.globalCompositeOperation="source-in",n.drawImage(i,0,0,c,p),n.globalCompositeOperation="destination-over",n.drawImage(this.replacementImage,0,0,r.width,r.height),n.restore()}static loadImageExecutor(i,e,t){const n=new Image;n.crossOrigin="Anonymous",n.addEventListener("load",()=>{i(n)},!1),n.addEventListener("error",r=>{e(new Error(`Could not load replacement image ${n.src}: ${r.message}`))},!1),n.src=t}static loadImage(i){return S(this,void 0,void 0,function*(){return new Promise((e,t)=>this.loadImageExecutor(e,t,i))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const i=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return S(this,void 0,void 0,function*(){this.replacementImage=yield th.loadImage(this.createReplacementObjectUrl()),i.loadAssets.call(this)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});return S(this,void 0,void 0,function*(){i.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(i){this.eventController?this.eventController=i:(this.eventController=i,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const i={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",i)}constructor(i,e){super("background replacement",i,e,new g.default),this.replacementBlob=e.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: ${this.stringify(e)}`)}},"BackgroundReplacementFilter");l.default=a},rbNI:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}},"RealtimeAttendeePositionInFrame");l.default=S},rcF0:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("JTre"));let u=o(class{makeTile(a,s,i,e){return new f.default(a,s,i,e)}},"DefaultVideoTileFactory");l.default=u},reWd:function(j,l,h){"use strict";(function(S){var f=this&&this.__awaiter||function(e,t,n,r){function c(p){return p instanceof n?p:new n(function(m){m(p)})}return o(c,"adopt"),new(n||(n=Promise))(function(p,m){function d(w){try{E(r.next(w))}catch(k){m(k)}}o(d,"fulfilled");function y(w){try{E(r.throw(w))}catch(k){m(k)}}o(y,"rejected");function E(w){w.done?p(w.value):c(w.value).then(d,y)}o(E,"step"),E((r=r.apply(e,t||[])).next())})},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const g=u(h("BkFD")),a=u(h("KCGh")),s=u(h("mlaT"));let i=o(class nh{addEventListener(){!this.eventListener||!("window"in S)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in S)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(t){s.default.DEBUG<this.logLevel||(typeof t=="string"?this.log(s.default.DEBUG,t):t?this.log(s.default.DEBUG,t()):this.log(s.default.DEBUG,""+t))}info(t){this.log(s.default.INFO,t)}warn(t){this.log(s.default.WARN,t)}error(t){this.log(s.default.ERROR,t)}setLogLevel(t){this.logLevel=t}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new g.default(this.intervalMs),this.intervalScheduler.start(()=>f(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const t=this.logCapture.slice(0,this.batchSize),n=this.makeRequestBody(t);try{(yield fetch(this.url,Object.assign({method:"POST",body:n},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(t.length))}catch(r){console.warn("[POSTLogger] "+r.message)}finally{this.lock=!1}}))}stop(){var t;(t=this.intervalScheduler)===null||t===void 0||t.stop(),this.intervalScheduler=void 0,this.removeEventListener();const n=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,n)}destroy(){return f(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(t){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:t}))}log(t,n){if(t<this.logLevel)return;const r=Date.now();this.logCapture.push(new a.default(this.sequenceNumber,n,r,s.default[t])),this.sequenceNumber+=1}constructor(t){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:n,batchSize:r=nh.BATCH_SIZE,intervalMs:c=nh.INTERVAL_MS,logLevel:p=s.default.WARN,metadata:m,headers:d}=t;this.url=n,this.batchSize=r,this.intervalMs=c,this.logLevel=p,this.metadata=m,this.headers=d,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}},"POSTLogger");l.default=i,i.BATCH_SIZE=85,i.INTERVAL_MS=2e3}).call(this,h("yLpj"))},rhlI:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class zl{static isTimestampRecent(u,g){return Date.now()<u+g}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}isConnectionStartRecent(u){return zl.isTimestampRecent(this.connectionStartTimestampMs,u)}isLastPacketLossRecent(u){return zl.isTimestampRecent(this.lastPacketLossInboundTimestampMs,u)}isGoodSignalRecent(u){return zl.isTimestampRecent(this.lastGoodSignalTimestampMs,u)}isWeakSignalRecent(u){return zl.isTimestampRecent(this.lastWeakSignalTimestampMs,u)}isNoSignalRecent(u){return zl.isTimestampRecent(this.lastNoSignalTimestampMs,u)}clone(){const u=new zl;return u.connectionStartTimestampMs=this.connectionStartTimestampMs,u.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,u.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,u.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,u.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,u.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,u.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,u.consecutiveMissedPongs=this.consecutiveMissedPongs,u.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),u.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),u.audioSpeakerDelayMs=this.audioSpeakerDelayMs,u}setConsecutiveMissedPongs(u){this.consecutiveMissedPongs=u}setConsecutiveStatsWithNoPackets(u){this.consecutiveStatsWithNoPackets=u}setConsecutiveStatsWithNoAudioPacketsSent(u){this.consecutiveStatsWithNoAudioPacketsSent=u}setLastPacketLossInboundTimestampMs(u){this.lastPacketLossInboundTimestampMs=u}setLastNoSignalTimestampMs(u){this.lastNoSignalTimestampMs=u}setLastWeakSignalTimestampMs(u){this.lastWeakSignalTimestampMs=u}setLastGoodSignalTimestampMs(u){this.lastGoodSignalTimestampMs=u}setAudioSpeakerDelayMs(u){this.audioSpeakerDelayMs=u}constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},"ConnectionHealthData");l.default=S},riOr:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("OND3"));let g=o(class Qc extends u.default{setEncodingParameters(s){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(s.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let n=0;n<t.encodings.length;n++)t.encodings[n].rid===u.default.LOW_LEVEL_NAME&&this.copyEncodingParams(s.get(u.default.LOW_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===u.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(s.get(u.default.HIGH_LEVEL_NAME),t.encodings[n]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}constructor(s,i,e){super(s,i,e);let t=2;this.videoQualityControlParameterMap=new Map;for(let n=0;n<Qc.NAME_ARR_ASCENDING.length;n++){const r=Qc.NAME_ARR_ASCENDING[n];this.videoQualityControlParameterMap.set(r,{rid:r,scaleResolutionDownBy:t,maxBitrate:Qc.BITRATE_ARR_ASCENDING[n]*1e3}),t=t/2}}},"SimulcastContentShareTransceiverController");l.default=g,g.NAME_ARR_ASCENDING=["low","hi"],g.BITRATE_ARR_ASCENDING=[300,1200]},riVe:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(k,V,N,F){function P(B){return B instanceof N?B:new N(function(O){O(B)})}return o(P,"adopt"),new(N||(N=Promise))(function(B,O){function R(X){try{J(F.next(X))}catch($){O($)}}o(R,"fulfilled");function D(X){try{J(F.throw(X))}catch($){O($)}}o(D,"rejected");function J(X){X.done?B(X.value):P(X.value).then(R,D)}o(J,"step"),J((F=F.apply(k,V||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.decideModel=l.measureAndDecideExecutionApproach=void 0;const f=h("GEtQ"),u=h("hlxM"),g=3,a=2.5,s=2.63,i=.6,e=.65,t=.5,n=.7,r={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};let c=o(class{roundtrip(V,N,F){return new Promise((P,B)=>{this.worker.then(O=>{let R;R=o(D=>{const{message:J,key:X}=D.data;J===N&&X===F&&(O.removeEventListener("message",R),P(D.data))},"listener"),O.addEventListener("message",R),O.postMessage(V)}).catch(O=>{var R;(R=this.logger)===null||R===void 0||R.error("Failed to load worker.",O),B(O)})})}supportsSIMD(V){const N="simd",F=V||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,P={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:F,key:N};return this.roundtrip(P,"simd-support",N).then(B=>B.supports)}measure(V,N){const F=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,P=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,B=V?P:F,O=`bench:${V}`,R={message:"measure",fetchBehavior:this.fetchBehavior,budget:N,path:B,key:O};return this.roundtrip(R,"measurement",O).then(D=>{if(D.measurement)return D.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(V=>{var N;(N=this.logger)===null||N===void 0||N.debug("Stopping estimator worker."),V.terminate()}).catch(V=>{})}constructor(V,N){this.fetchConfig=V,this.logger=N;const F=`${V.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:V.headers,escapedQueryString:V.escapedQueryString},this.worker=f.loadWorker(F,"VoiceFocusEstimator",this.fetchBehavior,N)}},"Estimator");const p=o((k,V)=>k===1?i:V==="quality"?e*k:t*k,"inlineScoreMultiplier"),m=o(function(k){let{supportsSIMD:V,supportsSAB:N,duration:F,executionPreference:P="auto",simdPreference:B,variantPreference:O="auto",namePreference:R="default",usagePreference:D,executionQuantaPreference:J=g}=k,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,$=arguments.length>2?arguments[2]:void 0;const Ee=B==="force"||B!=="disable"&&V,ke=F!==-1,ve=ke?(Ee?a:s)/F:0,Be=Ee?X.simd:X.wasm,pt=ke?p(J,D)*ve:0,Ve=ke?n*ve:0,bt=R,lt=o(Mt=>({supported:!1,reason:Mt}),"unsupported");if(ke){if(ve<Be.noSupport)return lt(`Performance score ${ve} worse than threshold ${Be.noSupport}.`)}else if(P==="auto"||O==="auto")return lt(`Missing explicit execution (${P}) or variant (${O}) preference, but no scoring performed.`);$==null||$.debug(`Bench duration ${F} yields inline score ${pt} and worker score ${Ve}.`);const mt=o((Mt,kt,Xe)=>({supported:!0,useSIMD:Ee,processor:Mt,executionApproach:kt,variant:Xe,executionQuanta:kt==="inline"?J:void 0,name:bt}),"succeed"),xt=o((Mt,kt,Xe)=>kt!=="auto"?!ke||Mt>Xe[kt]?kt:"failed":Mt>Xe.c100?"c100":Mt>Xe.c50?"c50":Mt>Xe.c20?"c20":Mt>Xe.c10?"c10":"failed","resolveVariant"),at=o(Mt=>{switch(Mt||"auto"){case"auto":{let kt=at("inline"),Xe=at("worker");return $==null||$.debug(`Reducing auto preference: ${JSON.stringify(kt)} vs ${JSON.stringify(Xe)}`),kt.supported===!1||Xe.supported===!1?Xe:kt.variant===Xe.variant||kt.variant==="c50"?kt:Xe}case"worker":return u.supportsSharedArrayBuffer(globalThis,window,$)?at("worker-sab"):at("worker-postMessage");case"inline":{const kt=xt(pt,O,Be.inline);return kt==="failed"?lt(`Performance score ${pt} not sufficient for inline use with variant preference ${O}.`):mt("voicefocus-inline-processor","inline",kt)}case"worker-sab":{if(!N){const Xe="Requested worker-sab but no SharedArrayBuffer support.";return $==null||$.warn(Xe),{supported:!1,reason:Xe}}const kt=xt(Ve,O,Be.worker);return kt==="failed"?lt(`Performance score ${Ve} not sufficient for worker use with variant preference ${O}.`):mt("voicefocus-worker-sab-processor","worker-sab",kt)}case"worker-postMessage":{const kt=xt(Ve,O,Be.worker);if(kt==="failed")return lt(`Performance score ${Ve} not sufficient for worker use.`);if(bt==="ns_es"){const Xe="Requested echo suppression but postMessage executor does not support it.";return $==null||$.warn(Xe),{supported:!1,reason:Xe}}return mt("voicefocus-worker-postMessage-processor","worker-postMessage",kt)}}},"reducePreference");return at(P)},"decideExecutionApproach"),d=o((k,V,N,F)=>S(void 0,void 0,void 0,function*(){const P={supportsSIMD:k,supportsSAB:u.supportsSharedArrayBuffer(globalThis,window,N),duration:-1};if(k)return N==null||N.info("Supports SIMD: true (force)"),P;const B=!F,O=F||new c(V,N);try{const R=!u.isOldChrome(window,N)&&(yield O.supportsSIMD());return N==null||N.info(`Supports SIMD: ${R} (force: ${k})`),P.supportsSIMD=R,P}finally{B&&O.stop()}}),"featureCheck"),y=o((k,V,N,F)=>S(void 0,void 0,void 0,function*(){const P=new c(V,F);try{const B=yield d(k,V,F,P);if(B.supportsSIMD)try{return B.duration=yield P.measure(!0,N),F==null||F.info("SIMD timing:",B.duration),B}catch{F==null||F.warn("Failed SIMD estimation; falling back to non-SIMD."),B.supportsSIMD=!1}return B.duration=yield P.measure(!1,N),F==null||F.info("No-SIMD timing:",B.duration),B}catch(B){throw F==null||F.error("Could not feature check.",B),B}finally{P.stop()}}),"estimateAndFeatureCheck"),E=o(function(k,V,N){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;return S(void 0,void 0,void 0,function*(){let P=k.executionPreference;const{usagePreference:B,variantPreference:O,namePreference:R,simdPreference:D,estimatorBudget:J,executionQuantaPreference:X}=k;B==="interactivity"&&P!=="inline"&&(N==null||N.debug(`Overriding execution preference ${P} to reflect interactivity preference.`),P="inline");const $=D==="force",he=O!=="auto",Ee=P!=="auto";let ke;try{he&&Ee?ke=yield d($,V,N):ke=yield y($,V,J,N)}catch(ve){throw N==null||N.error("Could not load estimator.",ve),new Error("Could not load Voice Focus estimator.")}return m(Object.assign(Object.assign({},ke),{simdPreference:D,executionPreference:P,variantPreference:O,namePreference:R,usagePreference:B,executionQuantaPreference:X}),F,N)})},"measureAndDecideExecutionApproach");l.measureAndDecideExecutionApproach=E;const w=o(k=>{let{category:V,name:N,variant:F,simd:P,url:B}=k;return`${V}-${N}-${F}-v1${P?"_simd":""}`},"decideModel");l.decideModel=w},rkwE:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("j+uH"));let g=o(class extends u.default{run(){var s,i;return S(this,void 0,void 0,function*(){if(!(!((i=(s=this.context.meetingSessionConfiguration)===null||s===void 0?void 0:s.urls)===null||i===void 0)&&i.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let e;try{e=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}e?this.context.activeAudioInput=e:this.context.logger.warn("an audio input is not available")})}constructor(s){super(s.logger),this.context=s,this.taskName="ReceiveAudioInputTask"}},"ReceiveAudioInputTask");l.default=g},rw3l:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(r,c,p,m){function d(y){return y instanceof p?y:new p(function(E){E(y)})}return o(d,"adopt"),new(p||(p=Promise))(function(y,E){function w(N){try{V(m.next(N))}catch(F){E(F)}}o(w,"fulfilled");function k(N){try{V(m.throw(N))}catch(F){E(F)}}o(k,"rejected");function V(N){N.done?y(N.value):d(N.value).then(w,k)}o(V,"step"),V((m=m.apply(r,c||[])).next())})},f=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("ZS2b")),g=f(h("ppUg")),a=f(h("CAce")),s=f(h("HbHZ")),i=h("XCDq"),e=h("Aplu"),t=f(h("j+uH"));let n=o(class extends t.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(c){if(c.type!==s.default.ReceivedSignalFrame||c.message.type!==i.SdkSignalFrame.Type.INDEX)return;const p=c.message.index;this.context.logger.info(`received new index ${JSON.stringify(p)}`),this.handleIndexFrame(p)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(c){if(!c)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=c;return}else this.pendingIndex=null;const p=this.context.audioVideoController.configuration.credentials.attendeeId;c.sources=c.sources.filter(k=>{const V=new g.default(k.attendeeId);return!(V.base()===p&&V.hasModality(g.default.MODALITY_CONTENT))});const{videoStreamIndex:m,videoDownlinkBandwidthPolicy:d,videoUplinkBandwidthPolicy:y}=this.context,E=m.allVideoSendingSourcesExcludingSelf(p);m.integrateIndexFrame(c),d.updateIndex(m),y.updateIndex(m),this.resubscribe(d,y),this.updateVideoAvailability(c),this.handleIndexVideosPausedAtSource(),c.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(c);const w=m.allVideoSendingSourcesExcludingSelf(p);this.areVideoSourcesEqual(E,w)||this.context.audioVideoController.forEachObserver(k=>{e.Maybe.of(k.remoteVideoSourcesDidChange).map(V=>V.bind(k)(w))})}areVideoSourcesEqual(c,p){if(c.length!==p.length)return!1;const m=o((E,w)=>E.attendee.attendeeId.localeCompare(w.attendee.attendeeId),"compare"),d=[...c].sort(m),y=[...p].sort(m);for(let E=0;E<d.length;E++)if(d[E].attendee.attendeeId!==y[E].attendee.attendeeId)return!1;return!0}resubscribe(c,p){const m=c.wantsResubscribe(),d=(this.context.videoDuplexMode===i.SdkStreamServiceType.TX||this.context.videoDuplexMode===i.SdkStreamServiceType.DUPLEX)&&p.wantsResubscribe(),y=m||d;if(this.logger.info(`should resubscribe: ${y} (downlink: ${m} uplink: ${d})`),!y)return;const E=c.chooseSubscriptions();this.context.videosToReceive=E.truncate(this.context.videoSubscriptionLimit),E.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=p.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${d} down=${m}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(c){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const p=new u.default;p.remoteVideoAvailable=!this.context.videosToReceive.empty(),p.canStartLocalVideo=!c.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(p))&&(this.context.lastKnownVideoAvailability=p.clone(),this.context.audioVideoController.forEachObserver(m=>{e.Maybe.of(m.videoAvailabilityDidChange).map(d=>d.bind(m)(p.clone()))}))}handleSupportedVideoReceiveCodecIntersection(c){if(this.context.videoSendCodecPreferences===void 0)return;const p=[];let m=!1;for(const d of this.context.videoSendCodecPreferences){let y=!1;for(const E of c.supportedReceiveCodecIntersection)if(d.equals(a.default.fromSignaled(E))){y=!0,p.push(d);break}this.context.currentVideoSendCodec!==void 0&&!y&&d.equals(this.context.currentVideoSendCodec)&&(m=!0)}p.length>0?this.context.meetingSupportedVideoSendCodecPreferences=p:(this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0),m&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const c=this.context.videoStreamIndex.streamsPausedAtSource();for(const p of this.context.videoTileController.getAllVideoTiles()){const m=p.state();c.contain(m.streamId)?p.markPoorConnection()&&this.logger.info(`marks the tile ${m.tileId} as having a poor connection`):p.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${m.tileId} as having a poor connection`)}}constructor(c){super(c.logger),this.context=c,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}},"ReceiveVideoStreamIndexTask");l.default=n},rwhO:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isDestroyable=void 0;function S(f){return f&&"destroy"in f}o(S,"isDestroyable"),l.isDestroyable=S},s0Ci:function(j,l,h){"use strict";j.exports=s;var S=h("kU+7"),f,u=S.LongBits,g=S.utf8;function a(c,p){return RangeError("index out of range: "+c.pos+" + "+(p||1)+" > "+c.len)}o(a,"indexOutOfRange");function s(c){this.buf=c,this.pos=0,this.len=c.length}o(s,"Reader");var i=typeof Uint8Array<"u"?o(function(p){if(p instanceof Uint8Array||Array.isArray(p))return new s(p);throw Error("illegal buffer")},"create_typed_array"):o(function(p){if(Array.isArray(p))return new s(p);throw Error("illegal buffer")},"create_array"),e=o(function(){return S.Buffer?o(function(m){return(s.create=o(function(y){return S.Buffer.isBuffer(y)?new f(y):i(y)},"create_buffer"))(m)},"create_buffer_setup"):i},"create");s.create=e(),s.prototype._slice=S.Array.prototype.subarray||S.Array.prototype.slice,s.prototype.uint32=o(function(){var p=4294967295;return o(function(){if(p=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(p=(p|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(p=(p|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(p=(p|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(p=(p|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return p;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return p},"read_uint32")},"read_uint32_setup")(),s.prototype.int32=o(function(){return this.uint32()|0},"read_int32"),s.prototype.sint32=o(function(){var p=this.uint32();return p>>>1^-(p&1)|0},"read_sint32");function t(){var c=new u(0,0),p=0;if(this.len-this.pos>4){for(;p<4;++p)if(c.lo=(c.lo|(this.buf[this.pos]&127)<<p*7)>>>0,this.buf[this.pos++]<128)return c;if(c.lo=(c.lo|(this.buf[this.pos]&127)<<28)>>>0,c.hi=(c.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return c;p=0}else{for(;p<3;++p){if(this.pos>=this.len)throw a(this);if(c.lo=(c.lo|(this.buf[this.pos]&127)<<p*7)>>>0,this.buf[this.pos++]<128)return c}return c.lo=(c.lo|(this.buf[this.pos++]&127)<<p*7)>>>0,c}if(this.len-this.pos>4){for(;p<5;++p)if(c.hi=(c.hi|(this.buf[this.pos]&127)<<p*7+3)>>>0,this.buf[this.pos++]<128)return c}else for(;p<5;++p){if(this.pos>=this.len)throw a(this);if(c.hi=(c.hi|(this.buf[this.pos]&127)<<p*7+3)>>>0,this.buf[this.pos++]<128)return c}throw Error("invalid varint encoding")}o(t,"readLongVarint"),s.prototype.bool=o(function(){return this.uint32()!==0},"read_bool");function n(c,p){return(c[p-4]|c[p-3]<<8|c[p-2]<<16|c[p-1]<<24)>>>0}o(n,"readFixed32_end"),s.prototype.fixed32=o(function(){if(this.pos+4>this.len)throw a(this,4);return n(this.buf,this.pos+=4)},"read_fixed32"),s.prototype.sfixed32=o(function(){if(this.pos+4>this.len)throw a(this,4);return n(this.buf,this.pos+=4)|0},"read_sfixed32");function r(){if(this.pos+8>this.len)throw a(this,8);return new u(n(this.buf,this.pos+=4),n(this.buf,this.pos+=4))}o(r,"readFixed64"),s.prototype.float=o(function(){if(this.pos+4>this.len)throw a(this,4);var p=S.float.readFloatLE(this.buf,this.pos);return this.pos+=4,p},"read_float"),s.prototype.double=o(function(){if(this.pos+8>this.len)throw a(this,4);var p=S.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,p},"read_double"),s.prototype.bytes=o(function(){var p=this.uint32(),m=this.pos,d=this.pos+p;if(d>this.len)throw a(this,p);if(this.pos+=p,Array.isArray(this.buf))return this.buf.slice(m,d);if(m===d){var y=S.Buffer;return y?y.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,m,d)},"read_bytes"),s.prototype.string=o(function(){var p=this.bytes();return g.read(p,0,p.length)},"read_string"),s.prototype.skip=o(function(p){if(typeof p=="number"){if(this.pos+p>this.len)throw a(this,p);this.pos+=p}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},"skip"),s.prototype.skipType=function(c){switch(c){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(c=this.uint32()&7)!==4;)this.skipType(c);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+c+" at offset "+this.pos)}return this},s._configure=function(c){f=c,s.create=e(),f._configure();var p=S.Long?"toLong":"toNumber";S.merge(s.prototype,{int64:o(function(){return t.call(this)[p](!1)},"read_int64"),uint64:o(function(){return t.call(this)[p](!0)},"read_uint64"),sint64:o(function(){return t.call(this).zzDecode()[p](!1)},"read_sint64"),fixed64:o(function(){return r.call(this)[p](!0)},"read_fixed64"),sfixed64:o(function(){return r.call(this)[p](!1)},"read_sfixed64")})}},s3Gi:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckContentShareConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied",f[f.TimedOut=3]="TimedOut",f[f.ConnectionFailed=4]="ConnectionFailed"})(S=l.CheckContentShareConnectivityFeedback||(l.CheckContentShareConnectivityFeedback={})),l.default=S},sTsL:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckVideoConnectivityFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.VideoInputRequestFailed=1]="VideoInputRequestFailed",f[f.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",f[f.ConnectionFailed=3]="ConnectionFailed",f[f.VideoNotSent=4]="VideoNotSent"})(S=l.CheckVideoConnectivityFeedback||(l.CheckVideoConnectivityFeedback={})),l.default=S},sd34:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.numToUint8=void 0;function S(f){return new Uint8Array([(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255])}o(S,"numToUint8"),l.numToUint8=S},sdHd:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{reportEvent(u,g,a){}start(){}stop(){}constructor(){}},"NoOpEventReporter");l.default=S},sf8V:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("KJDN"));let u=o(class extends f.default{constructor(a){super(a),this.name="TypeError"}},"TypeError");l.default=u},sfTB:function(j,l,h){"use strict";(function(S){var f=this&&this.__awaiter||function(n,r,c,p){function m(d){return d instanceof c?d:new c(function(y){y(d)})}return o(m,"adopt"),new(c||(c=Promise))(function(d,y){function E(V){try{k(p.next(V))}catch(N){y(N)}}o(E,"fulfilled");function w(V){try{k(p.throw(V))}catch(N){y(N)}}o(w,"rejected");function k(V){V.done?d(V.value):m(V.value).then(E,w)}o(k,"step"),k((p=p.apply(n,r||[])).next())})},u=this&&this.__rest||function(n,r){var c={};for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&r.indexOf(p)<0&&(c[p]=n[p]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,p=Object.getOwnPropertySymbols(n);m<p.length;m++)r.indexOf(p[m])<0&&Object.prototype.propertyIsEnumerable.call(n,p[m])&&(c[p[m]]=n[p[m]]);return c},g=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(l,"__esModule",{value:!0});const a=g(h("cKqT")),s=g(h("BkFD")),i=g(h("BEtg")),e=h("VCUZ");let t=o(class hl{addEventListeners(){!this.beaconEventListener||!("window"in S)||!window.addEventListener||!("document"in S)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(r){(r.type==="visibilitychange"&&document.visibilityState==="hidden"||r.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in S)||!window.removeEventListener||!("document"in S)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var r;this.removeEventListeners(),this.addEventListeners(),(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=new s.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var r;(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(r){return f(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(r)}`);const{name:c,ts:p,attributes:m}=r,d=m&&this.filterAttributes(m,this.attributesToFilter),y=Object.assign({name:c,ts:p},d);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(y)}`);const E=this.getSize(y);if(E>hl.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${E} bytes. Item cannot exceed max item size allowed of ${hl.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(c)){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(y)}`),this.sendEventImmediately({name:c,ts:p,attributes:d});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(y),this.ingestionEventSize+=E,this.bufferItemThresholdReached(E)){const w=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(w),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}})}filterAttributes(r,c){const p=new Set(c);return Object.keys(r).filter(d=>p.has(d)).forEach(d=>delete r[d]),r}initializeAndGetCurrentIngestionEvent(){const r={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(r),r}bufferItemThresholdReached(r){return r+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===hl.MAX_PAYLOAD_ITEMS}getSize(r){let c=0;if(typeof r=="object")for(const[p,m]of Object.entries(r))c+=this.getPrimitiveSize(p),c+=this.getSize(m);else c+=this.getPrimitiveSize(r);return c}getPrimitiveSize(r){let c=0;return typeof r=="string"?c+=r.length*2:typeof r=="number"&&(c+=8),c}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.isEmpty()?[]:(r=Math.min(this.buffer.length,r+1),this.buffer.splice(c,r))}makeBeaconRequestBody(r){const c={metadata:this.metadata,events:r,authorization:this.authenticationToken};return JSON.stringify(c)}makeRequestBody(r){const c={metadata:this.metadata,events:r};return JSON.stringify(c)}sendEventImmediately(r){return f(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(r)}`);const{name:c,ts:p,attributes:m}=r,d={type:this.type,v:this.v,payloads:[Object.assign({name:c,ts:p},m)]};let y=!1,E=null;const w=this.makeRequestBody([d]);try{if(E=yield this.send(w),E.ok){try{const k=yield E.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${w}, message: ${JSON.stringify(k)}`)}catch(k){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${k} for event ${w}`)}return}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${w} with response status ${E.status}`),y=!0}catch(k){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${w} to the ingestion endpoint ${k}.`),y=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const V=this.makeBeaconRequestBody([d]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${V}`),navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,V)?y=!1:y=!0}}catch{this.logger.warn(`Event Reporting - Error sending beacon for an important event ${w}`),y=!0}}y&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${w}`),this.failedIngestionEvents.push(d))})}send(r){return f(this,void 0,void 0,function*(){const c=new a.default(hl.RETRY_FIXED_BACKOFF_WAIT_MS,hl.RETRY_SHORT_BACKOFF_MS,hl.RETRY_LONG_BACKOFF_MS);try{let p=0;for(;p<this.retryCountLimit;){const m=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:r});if(m.ok||!hl.SENDING_FAILURE_CODES.has(m.status))return m;if(this.logger.warn(`Will retry sending failure for ${r} due to status code ${m.status}.`),p++,p<this.retryCountLimit){const d=c.nextBackoffAmountMs();yield e.wait(d)}}if(p===this.retryCountLimit)throw new Error(`Retry count limit reached for ${r}`)}catch(p){throw p}})}sendBeacon(){return f(this,void 0,void 0,function*(){const r=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(r)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const p=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);r.push(p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(p)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const p=this.failedIngestionEvents.map(m=>this.deepCopyCurrentIngestionEvent(m));r.push(...p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(p)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(p=>{r.push(...p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(p)}`)}),this.cancellableEvents.clear()),r.length===0)return;const c=this.makeBeaconRequestBody(r);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${c}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,c)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${c}`)}catch(p){this.logger.warn(`Event Reporting - Sending beacon data ${c} failed with error ${p}`)}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return f(this,void 0,void 0,function*(){this.stop(),this.reset()})}constructor(r,c,p,m,d){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=J=>({type:J.type,v:J.v,payloads:[...J.payloads]}),this.sendEvents=()=>f(this,void 0,void 0,function*(){if(this.lock)return;const J=this.getItems(this.flushSize);if(J.length===0)return;this.lock=!0;const X=this.makeRequestBody(J);let $=!1;const he=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(he,J);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${X}`);const Ee=yield this.send(X);if(this.cancellableEvents.delete(he),!Ee.ok)this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${X} with response status ${Ee.status}`),$=!0;else try{const ke=yield Ee.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${X} message: ${JSON.stringify(ke)}`)}catch(ke){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${ke} for events ${X}`)}}catch(Ee){$=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${X} to the ingestion endpoint ${Ee}`)}finally{this.lock=!1}$&&(this.cancellableEvents.delete(he),this.failedIngestionEvents.push(...J))});const y=new i.default(d).getParserResult(),{browserMajorVersion:E}=y,w=u(y,["browserMajorVersion"]),k=c.toJSON(),{type:V,v:N}=k,F=u(k,["type","v"]);this.authenticationToken=c.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},w),F),Object.keys(this.metadata).forEach(J=>this.attributesToFilter.push(J)),this.type=V,this.v=N,this.ingestionURL=p,this.logger=d,this.importantEvents=new Set(m);const{maxBufferCapacityKb:P,totalBufferItems:B,flushSize:O,flushIntervalMs:R,retryCountLimit:D}=r;this.maxBufferCapacityBytes=P*1024,this.totalBufferItems=B,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/B),this.flushIntervalMs=R,this.flushSize=O,this.retryCountLimit=D,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=J=>this.beaconEventHandler(J),this.addEventListeners()}},"InMemoryJSONEventBuffer");l.default=t,t.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),t.RETRY_FIXED_BACKOFF_WAIT_MS=0,t.RETRY_SHORT_BACKOFF_MS=1e3,t.RETRY_LONG_BACKOFF_MS=15e3,t.MAX_PAYLOAD_ITEMS=2,t.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3}).call(this,h("yLpj"))},sgfj:function(j,l,h){var S=h("v6w+");function f(u,g){if(u==null)return{};var a=S(u,g),s,i;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);for(i=0;i<e.length;i++)s=e[i],!(g.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(u,s)&&(a[s]=u[s])}return a}o(f,"_objectWithoutProperties"),j.exports=f,j.exports.__esModule=!0,j.exports.default=j.exports},sudc:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(O,R,D,J){function X($){return $ instanceof D?$:new D(function(he){he($)})}return o(X,"adopt"),new(D||(D=Promise))(function($,he){function Ee(Be){try{ve(J.next(Be))}catch(pt){he(pt)}}o(Ee,"fulfilled");function ke(Be){try{ve(J.throw(Be))}catch(pt){he(pt)}}o(ke,"rejected");function ve(Be){Be.done?$(Be.value):X(Be.value).then(Ee,ke)}o(ve,"step"),ve((J=J.apply(O,R||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.getAudioInput=l.createAudioContext=l.VoiceFocus=void 0;const f=h("hxn6"),u=h("o3U+"),g=h("EkyC"),a=h("KvYa"),s=h("tFDz"),i=h("r7zX"),e=h("9AGb"),n={useVoiceFocusAGC:!1,useBuiltInAGC:!0},r="stable-v1",c="https://static.sdkassets.chime.aws",p={processors:`${c}/processors/`,workers:`${c}/workers/`,wasm:`${c}/wasm/`,models:`${c}/wasm/`},m={latencyHint:0},d={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},y=Object.assign(Object.assign({},d),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),E=Object.assign(Object.assign({},d),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),w={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:i.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:e.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:s.default}},k=o((O,R)=>{if(O!==void 0&&!u.isValidAssetGroup(O))throw new Error(`Invalid asset group ${O}`);if(R!==void 0&&!u.isValidRevisionID(R))throw new Error(`Invalid revision ID ${R}`)},"validateAssetSpec"),V=o((O,R)=>{let D;if(R.useBuiltInAGC?D=y:D=E,!O)return{audio:D};if(!O.audio)return O;if(O.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},O),{audio:O.audio===!0?D:Object.assign(Object.assign({},O.audio),D)})},"mungeConstraints"),N=o((O,R)=>`${R.models}${f.decideModel(O)}.wasm`,"urlForModel");let F=o(class LS{static isSupported(R,D){const{fetchBehavior:J,logger:X}=D||{};if(typeof globalThis>"u")return X==null||X.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!a.supportsAudioWorklet(globalThis,X))return X==null||X.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!a.supportsWASM(globalThis,X))return X==null||X.debug("Browser does not support WASM."),Promise.resolve(!1);a.supportsWASMStreaming(globalThis,X)||X==null||X.debug("Browser does not support streaming WASM compilation.");const{assetGroup:$=r,revisionID:he,paths:Ee=p}=R||{};k($,he);const ke=he?{revisionID:he}:{assetGroup:$},ve=u.addQueryParams(J,ke),Be=Object.assign(Object.assign({},ve),{paths:Ee});return a.supportsVoiceFocusWorker(globalThis,Be,X)}static mungeExecutionPreference(R,D){const J=R===void 0||R==="auto";if(a.isSafari(globalThis)){if(J||R==="inline")return"inline";if(!J)throw new Error(`Unsupported execution preference ${R}`)}if(R==="worker-sab"&&!a.supportsSharedArrayBuffer(globalThis,globalThis,D))throw new Error(`Unsupported execution preference ${R}`);return R||"auto"}static configure(R,D){return S(this,void 0,void 0,function*(){const{fetchBehavior:J,preResolve:X,logger:$}=D||{},{category:he="voicefocus",name:Ee="default",variant:ke="auto",assetGroup:ve=r,revisionID:Be,simd:pt="detect",executionPreference:Ve="auto",executionQuantaPreference:bt,usagePreference:lt="interactivity",estimatorBudget:mt=100,paths:xt=p,thresholds:at}=R||{};if($==null||$.debug("Configuring Voice Focus with spec",R),he!==void 0&&he!=="voicefocus")throw new Error(`Unrecognized category ${he}`);if(Ee!==void 0&&Ee!=="default"&&Ee!=="ns_es")throw new Error(`Unrecognized feature name ${Ee}`);if(ke!==void 0&&!["auto","c100","c50","c20","c10"].includes(ke))throw new Error(`Unrecognized feature variant ${ke}`);if(bt!==void 0&&![1,2,3].includes(bt))throw new Error(`Unrecognized execution quanta preference ${bt}`);if(k(ve,Be),pt!==void 0&&!["detect","force","disable"].includes(pt))throw new Error(`Unrecognized SIMD option ${pt}`);if(Ve!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(Ve))throw new Error(`Unrecognized execution preference ${Ve}`);if(lt!==void 0&&!["quality","interactivity"].includes(lt))throw new Error(`Unrecognized usage preference ${lt}`);const Mt={executionPreference:this.mungeExecutionPreference(Ve,$),usagePreference:lt,executionQuantaPreference:bt,variantPreference:ke,namePreference:Ee,simdPreference:pt,estimatorBudget:mt},kt=Be?{revisionID:Be}:{assetGroup:ve},Xe=u.addQueryParams(J,kt),on=Object.assign({paths:xt},Xe),Wn=yield f.measureAndDecideExecutionApproach(Mt,on,$,at);if(Wn.supported===!1)return{supported:!1,reason:Wn.reason};$==null||$.info("Decided execution approach",Wn);const{useSIMD:_n,processor:On,variant:Xn,executionQuanta:ci}=Wn,Qn={category:he||"voicefocus",name:Ee||"default",variant:Xn,simd:_n};if(X){const Kn=N(Qn,xt);Qn.url=yield u.resolveURL(Kn,Xe)}return{fetchConfig:on,model:Qn,processor:On,executionQuanta:ci,supported:!0}})}static init(R,D){let{delegate:J,preload:X=!0,logger:$}=D;return S(this,void 0,void 0,function*(){if(R.supported===!1)throw new Error("Voice Focus not supported. Reason: "+R.reason);const{model:he,processor:Ee,fetchConfig:ke,executionQuanta:ve}=R,{simd:Be,name:pt}=he,{paths:Ve}=ke;if(Ee!=="voicefocus-inline-processor"&&Ee!=="voicefocus-worker-postMessage-processor"&&Ee!=="voicefocus-worker-sab-processor")throw new Error(`Unknown processor ${Ee}`);const bt=he.url||N(he,Ve);$==null||$.debug(`Using model URL ${bt}.`);const lt=`${Ve.wasm}audio_buffer-v1${Be?"_simd":""}.wasm`,mt=`${Ve.wasm}resampler-v1${Be?"_simd":""}.wasm`,xt=`${Ve.workers}worker-v1.js`,{file:at,node:Mt}=w[Ee],kt=`${Ve.processors}${at}`,Xe=yield g.loadWorker(xt,"VoiceFocusWorker",ke,$);if(X){$==null||$.debug("Preloading",bt);let On=a.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";Xe.postMessage({message:On,preload:!0,key:"model",fetchBehavior:ke,path:bt})}const Wn={processor:Ee,worker:Xe,audioBufferURL:lt,resamplerURL:mt,fetchBehavior:ke,modelURL:bt,delegate:J,logger:$,numberOfInputs:pt==="ns_es"?2:1},_n=new LS(Xe,kt,Mt,Wn,ve);return Promise.resolve(_n)})}createNode(R,D){var J;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:X=R.sampleRate===16e3?16e3:48e3,enabled:$=!0,agc:he=n}=D||{},Ee=D==null?void 0:D.es,ke={voiceFocusSampleRate:X,enabled:$,sendBufferCount:10,prefill:6,agc:he,executionQuanta:this.executionQuanta,supportFarendStream:Ee},ve=u.withQueryString(this.processorURL,(J=this.nodeOptions)===null||J===void 0?void 0:J.fetchBehavior);return R.audioWorklet.addModule(ve).then(()=>new this.nodeConstructor(R,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:ke})))}applyToStream(R,D,J){return S(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const X=D.createMediaStreamSource(R),$=yield this.applyToSourceNode(X,D,J),he=D.createMediaStreamDestination();return $.connect(he),{node:$,source:X,destination:he,stream:he.stream}})}applyToSourceNode(R,D,J){return S(this,void 0,void 0,function*(){const X=yield this.createNode(D,J);return R.connect(X),X})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}constructor(R,D,J,X,$){this.processorURL=D,this.nodeConstructor=J,this.nodeOptions=X,this.executionQuanta=$,this.internal={worker:R,nodeOptions:X,isDestroyed:!1}}},"VoiceFocus");l.VoiceFocus=F;const P=o(function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;return new(window.AudioContext||window.webkitAudioContext)(O)},"createAudioContext");l.createAudioContext=P;const B=o((O,R,D)=>S(void 0,void 0,void 0,function*(){var J,X;const{constraints:$,spec:he,delegate:Ee,preload:ke=!0,options:ve}=R,{logger:Be}=D,pt=yield F.configure(he,D);if(!pt.supported)return(J=D.logger)===null||J===void 0||J.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia($);const Ve=yield F.init(pt,{delegate:Ee,preload:ke,logger:Be}),bt=((X=R.options)===null||X===void 0?void 0:X.agc)||n,lt=yield window.navigator.mediaDevices.getUserMedia(V($,bt));return Ve.applyToStream(lt,O,ve).then(mt=>mt.stream)}),"getAudioInput");l.getAudioInput=B},syoQ:function(j){j.exports=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}')},t9Fz:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(u,g,a,s){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(p){try{c(s.next(p))}catch(m){t(m)}}o(n,"fulfilled");function r(p){try{c(s.throw(p))}catch(m){t(m)}}o(r,"rejected");function c(p){p.done?e(p.value):i(p.value).then(n,r)}o(c,"step"),c((s=s.apply(u,g||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let f=o(class{destroy(){return S(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(g){this.observerQueue.add(g),g.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(g){this.observerQueue.delete(g)}constructor(g,a){if(this.devicePixelRatioSource=g,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(i=>{i.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const s=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);typeof s.addEventListener=="function"?(s.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=s):typeof s.addListener=="function"?(s.addListener(this.mediaQueryListener),this.mediaQueryList=s):a.warn("ignoring DefaultDevicePixelRatioMonitor")}},"DefaultDevicePixelRatioMonitor");l.default=f},tA0R:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(to){return to&&to.__esModule?to:{default:to}};Object.defineProperty(l,"__esModule",{value:!0}),l.DefaultEventController=l.DefaultDevicePixelRatioMonitor=l.DefaultDeviceController=l.DefaultContentShareController=l.DefaultBrowserBehavior=l.DefaultAudioVideoFacade=l.DefaultAudioVideoController=l.DefaultAudioMixController=l.DefaultActiveSpeakerPolicy=l.DefaultActiveSpeakerDetector=l.DataMessage=l.CreateSDPTask=l.CreatePeerConnectionTask=l.ContentShareMediaStreamBroker=l.ContentShareConstants=l.ConsoleLogger=l.ConnectionHealthPolicyConfiguration=l.ConnectionHealthData=l.ClientVideoStreamReceivingReport=l.ClientMetricReportMediaType=l.ClientMetricReportDirection=l.ClientMetricReport=l.CleanStoppedSessionTask=l.CleanRestartedSessionTask=l.CheckVideoInputFeedback=l.CheckVideoConnectivityFeedback=l.CheckNetworkUDPConnectivityFeedback=l.CheckNetworkTCPConnectivityFeedback=l.CheckContentShareConnectivityFeedback=l.CheckCameraResolutionFeedback=l.CheckAudioOutputFeedback=l.CheckAudioInputFeedback=l.CheckAudioConnectivityFeedback=l.CanvasVideoFrameBuffer=l.CSPMonitor=l.BitrateParameters=l.BaseTask=l.BaseConnectionHealthPolicy=l.BackgroundReplacementVideoFrameProcessor=l.BackgroundFilterVideoFrameProcessor=l.BackgroundBlurVideoFrameProcessor=l.BackgroundBlurStrength=l.AudioVideoControllerState=l.AudioProfile=l.AudioLogEvent=l.Attendee=l.AttachMediaInputTask=l.AsyncScheduler=l.ApplicationMetadata=l.AllHighestVideoBandwidthPolicy=void 0,l.MeetingSessionCredentials=l.MeetingSessionConfiguration=l.MeetingReadinessCheckerConfiguration=l.MeetingEventsClientConfiguration=l.MediaDeviceProxyHandler=l.Maybe=l.LogLevel=l.Log=l.ListenForVolumeIndicatorsTask=l.LeaveAndReceiveLeaveAckTask=l.JoinAndReceiveIndexTask=l.IntervalScheduler=l.InMemoryJSONEventBuffer=l.GlobalMetricReport=l.GetUserMediaError=l.FullJitterLimitedBackoff=l.FullJitterBackoffFactory=l.FullJitterBackoff=l.FinishGatheringICECandidatesTask=l.EventIngestionConfiguration=l.EventBufferConfiguration=l.DeviceSelection=l.DevicePixelRatioWindowSource=l.DefaultWebSocketAdapter=l.DefaultVolumeIndicatorAdapter=l.DefaultVideoTransformDevice=l.DefaultVideoTileFactory=l.DefaultVideoTileController=l.DefaultVideoTile=l.DefaultVideoStreamIndex=l.DefaultVideoStreamIdSet=l.DefaultVideoFrameProcessorPipeline=l.DefaultVideoCaptureAndEncodeParameter=l.DefaultUserAgentParser=l.DefaultTranscriptionController=l.DefaultTransceiverController=l.DefaultSimulcastUplinkPolicyForContentShare=l.DefaultSimulcastUplinkPolicy=l.DefaultSignalingClient=l.DefaultSigV4=l.DefaultSessionStateController=l.DefaultReconnectController=l.DefaultRealtimeController=l.DefaultPingPong=l.DefaultModality=l.DefaultMessagingSession=l.DefaultMeetingSession=l.DefaultMeetingReadinessChecker=l.DefaultMeetingEventReporter=l.DefaultMediaDeviceFactory=void 0,l.RunnableTask=l.RedundantAudioRecoveryMetricReport=l.RedundantAudioEncoder=l.ReconnectionHealthPolicy=l.ReceiveVideoStreamIndexTask=l.ReceiveVideoInputTask=l.ReceiveTURNCredentialsTask=l.ReceiveRemoteVideoPauseResumeTask=l.ReceiveAudioInputTask=l.RealtimeVolumeIndicator=l.RealtimeState=l.RealtimeAttendeePositionInFrame=l.PromoteToPrimaryMeetingTask=l.PromiseQueue=l.PrefetchSortBy=l.PrefetchOn=l.PermissionDeniedError=l.ParallelGroupTask=l.POSTLogger=l.OverconstrainedError=l.OpenSignalingConnectionTask=l.OnceTask=l.NotReadableError=l.NotFoundError=l.None=l.NoVideoUplinkBandwidthPolicy=l.NoVideoDownlinkBandwidthPolicy=l.NoOpVideoFrameProcessor=l.NoOpVideoElementFactory=l.NoOpTask=l.NoOpMediaStreamBroker=l.NoOpLogger=l.NoOpEventReporter=l.NoOpDeviceController=l.NoOpDebugLogger=l.NoOpAudioVideoController=l.NScaleVideoUplinkBandwidthPolicy=l.MutableVideoPreferences=l.MultiLogger=l.MonitorTask=l.ModelSpecBuilder=l.MessagingSessionConfiguration=l.Message=l.MeetingSessionVideoAvailability=l.MeetingSessionURLs=l.MeetingSessionTURNCredentials=l.MeetingSessionStatusCode=l.MeetingSessionStatus=l.MeetingSessionLifecycleEventCondition=l.MeetingSessionLifecycleEvent=void 0,l.VideoPreference=l.VideoOnlyTransceiverController=l.VideoLogEvent=l.VideoFxProcessor=l.VideoCodecCapability=l.VideoAdaptiveProbePolicy=l.Versioning=l.UnusableAudioWarningConnectionHealthPolicy=l.TypeError=l.TranscriptionStatusType=l.TranscriptionStatus=l.TranscriptResult=l.TranscriptLanguageWithScore=l.TranscriptItemType=l.TranscriptItem=l.TranscriptEntity=l.TranscriptAlternative=l.Transcript=l.TimeoutTask=l.TimeoutScheduler=l.TaskStatus=l.TargetDisplaySize=l.SubscribeAndReceiveSubscribeAckTask=l.StreamMetricReport=l.Some=l.SingleNodeAudioTransformDevice=l.SimulcastVideoStreamIndex=l.SimulcastTransceiverController=l.SimulcastLayers=l.SimulcastContentShareTransceiverController=l.SignalingClientVideoSubscriptionConfiguration=l.SignalingClientSubscribe=l.SignalingClientJoin=l.SignalingClientEventType=l.SignalingClientEvent=l.SignalingClientConnectionRequest=l.SignalingAndMetricsConnectionMonitor=l.SetRemoteDescriptionTask=l.SetLocalDescriptionTask=l.SessionStateControllerTransitionResult=l.SessionStateControllerState=l.SessionStateControllerDeferPriority=l.SessionStateControllerAction=l.ServerSideNetworkAdaption=l.SerialGroupTask=l.SendingAudioFailureConnectionHealthPolicy=l.SendAndReceiveDataMessagesTask=l.SDPMediaSection=l.SDPCandidateType=l.SDP=void 0,l.isVideoTransformDevice=l.isDestroyable=l.isAudioTransformDevice=l.ZLIBTextCompressor=l.WebSocketReadyState=l.WaitForAttendeePresenceTask=l.VoiceFocusTransformDevice=l.VoiceFocusDeviceTransformer=l.VideoTileState=l.VideoStreamDescription=l.VideoSource=l.VideoQualitySettings=l.VideoPriorityBasedPolicyConfig=l.VideoPriorityBasedPolicy=l.VideoPreferences=void 0;const f=S(h("uTAD"));l.AllHighestVideoBandwidthPolicy=f.default;const u=S(h("DmQM"));l.ApplicationMetadata=u.default;const g=S(h("F7zz"));l.AsyncScheduler=g.default;const a=S(h("nDuE"));l.AttachMediaInputTask=a.default;const s=S(h("beBF"));l.Attendee=s.default;const i=S(h("PPZC"));l.AudioLogEvent=i.default;const e=S(h("f3u9"));l.AudioProfile=e.default;const t=S(h("1uai"));l.AudioVideoControllerState=t.default;const n=S(h("gLI0"));l.BackgroundBlurStrength=n.default;const r=S(h("Obod"));l.BackgroundBlurVideoFrameProcessor=r.default;const c=S(h("IsLT"));l.BackgroundFilterVideoFrameProcessor=c.default;const p=S(h("ySOd"));l.BackgroundReplacementVideoFrameProcessor=p.default;const m=S(h("oHvd"));l.BaseConnectionHealthPolicy=m.default;const d=S(h("j+uH"));l.BaseTask=d.default;const y=S(h("p5Ac"));l.BitrateParameters=y.default;const E=S(h("p7bP"));l.CSPMonitor=E.default;const w=S(h("Xv43"));l.CanvasVideoFrameBuffer=w.default;const k=S(h("PmG3"));l.CheckAudioConnectivityFeedback=k.default;const V=S(h("ig3o"));l.CheckAudioInputFeedback=V.default;const N=S(h("Rx4Y"));l.CheckAudioOutputFeedback=N.default;const F=S(h("nWLk"));l.CheckCameraResolutionFeedback=F.default;const P=S(h("s3Gi"));l.CheckContentShareConnectivityFeedback=P.default;const B=S(h("VKrp"));l.CheckNetworkTCPConnectivityFeedback=B.default;const O=S(h("M1uR"));l.CheckNetworkUDPConnectivityFeedback=O.default;const R=S(h("sTsL"));l.CheckVideoConnectivityFeedback=R.default;const D=S(h("6k9T"));l.CheckVideoInputFeedback=D.default;const J=S(h("7EAL"));l.CleanRestartedSessionTask=J.default;const X=S(h("wjYw"));l.CleanStoppedSessionTask=X.default;const $=S(h("6SO8"));l.ClientMetricReport=$.default;const he=S(h("bjg3"));l.ClientMetricReportDirection=he.default;const Ee=S(h("x8On"));l.ClientMetricReportMediaType=Ee.default;const ke=S(h("7JpI"));l.ClientVideoStreamReceivingReport=ke.default;const ve=S(h("rhlI"));l.ConnectionHealthData=ve.default;const Be=S(h("U++r"));l.ConnectionHealthPolicyConfiguration=Be.default;const pt=S(h("zd8f"));l.ConsoleLogger=pt.default;const Ve=S(h("r3TB"));l.ContentShareConstants=Ve.default;const bt=S(h("InPl"));l.ContentShareMediaStreamBroker=bt.default;const lt=S(h("7UVU"));l.CreatePeerConnectionTask=lt.default;const mt=S(h("lFzH"));l.CreateSDPTask=mt.default;const xt=S(h("3i7i"));l.DataMessage=xt.default;const at=S(h("HAqy"));l.DefaultActiveSpeakerDetector=at.default;const Mt=S(h("CxCb"));l.DefaultActiveSpeakerPolicy=Mt.default;const kt=S(h("kUL9"));l.DefaultAudioMixController=kt.default;const Xe=S(h("a6MJ"));l.DefaultAudioVideoController=Xe.default;const on=S(h("Fm4y"));l.DefaultAudioVideoFacade=on.default;const Wn=S(h("U9CR"));l.DefaultBrowserBehavior=Wn.default;const _n=S(h("egzF"));l.DefaultContentShareController=_n.default;const On=S(h("ZsEg"));l.DefaultDeviceController=On.default;const Xn=S(h("+DE9"));l.DefaultDevicePixelRatioMonitor=Xn.default;const ci=S(h("KEX5"));l.DefaultEventController=ci.default;const Qn=S(h("Gs2/"));l.DefaultMediaDeviceFactory=Qn.default;const Kn=S(h("pewp"));l.DefaultMeetingEventReporter=Kn.default;const Ki=S(h("PSPT"));l.DefaultMeetingReadinessChecker=Ki.default;const ui=S(h("CWxj"));l.DefaultMeetingSession=ui.default;const Fi=S(h("pacc"));l.DefaultMessagingSession=Fi.default;const zi=S(h("ppUg"));l.DefaultModality=zi.default;const qt=S(h("igcJ"));l.DefaultPingPong=qt.default;const Tn=S(h("iRMv"));l.DefaultRealtimeController=Tn.default;const vn=S(h("l7oq"));l.DefaultReconnectController=vn.default;const Ot=S(h("on9F"));l.DefaultSessionStateController=Ot.default;const bn=S(h("dPyZ"));l.DefaultSigV4=bn.default;const Lt=S(h("HG8V"));l.DefaultSignalingClient=Lt.default;const jn=S(h("BGMr"));l.DefaultSimulcastUplinkPolicy=jn.default;const Xi=S(h("VgUL"));l.DefaultSimulcastUplinkPolicyForContentShare=Xi.default;const Gn=S(h("ZdbB"));l.DefaultTransceiverController=Gn.default;const Ti=S(h("J5JU"));l.DefaultTranscriptionController=Ti.default;const Tr=S(h("BEtg"));l.DefaultUserAgentParser=Tr.default;const er=S(h("Biyp"));l.DefaultVideoCaptureAndEncodeParameter=er.default;const cr=S(h("eFki"));l.DefaultVideoFrameProcessorPipeline=cr.default;const fi=S(h("MpTp"));l.DefaultVideoStreamIdSet=fi.default;const Wi=S(h("0LIx"));l.DefaultVideoStreamIndex=Wi.default;const Zn=S(h("Z/hr"));l.DefaultVideoTile=Zn.default;const Re=S(h("yS4C"));l.DefaultVideoTileController=Re.default;const Ce=S(h("Wnnr"));l.DefaultVideoTileFactory=Ce.default;const _e=S(h("7TH8"));l.DefaultVideoTransformDevice=_e.default;const et=S(h("kabN"));l.DefaultVolumeIndicatorAdapter=et.default;const tt=S(h("3jln"));l.DefaultWebSocketAdapter=tt.default;const ht=S(h("R+jL"));l.DevicePixelRatioWindowSource=ht.default;const gt=S(h("6DYs"));l.DeviceSelection=gt.default;const zt=S(h("IKDz"));l.EventBufferConfiguration=zt.default;const cn=S(h("HK1f"));l.EventIngestionConfiguration=cn.default;const sn=S(h("tMH2"));l.FinishGatheringICECandidatesTask=sn.default;const Qt=S(h("cKqT"));l.FullJitterBackoff=Qt.default;const Vi=S(h("o5nl"));l.FullJitterBackoffFactory=Vi.default;const Ci=S(h("HCbE"));l.FullJitterLimitedBackoff=Ci.default;const gr=S(h("KJDN"));l.GetUserMediaError=gr.default;const tr=S(h("U3GI"));l.GlobalMetricReport=tr.default;const Si=S(h("sfTB"));l.InMemoryJSONEventBuffer=Si.default;const Ir=S(h("BkFD"));l.IntervalScheduler=Ir.default;const ai=S(h("Wdtm"));l.JoinAndReceiveIndexTask=ai.default;const lr=S(h("2vi8"));l.LeaveAndReceiveLeaveAckTask=lr.default;const ti=S(h("3taG"));l.ListenForVolumeIndicatorsTask=ti.default;const wr=S(h("KCGh"));l.Log=wr.default;const Qi=S(h("mlaT"));l.LogLevel=Qi.default;const Ur=S(h("zH6K"));l.MediaDeviceProxyHandler=Ur.default;const Ar=S(h("V2kw"));l.MeetingEventsClientConfiguration=Ar.default;const Zi=S(h("dazq"));l.MeetingReadinessCheckerConfiguration=Zi.default;const io=S(h("94P3"));l.MeetingSessionConfiguration=io.default;const yt=S(h("/N6y"));l.MeetingSessionCredentials=yt.default;const ot=S(h("m/NO"));l.MeetingSessionLifecycleEvent=ot.default;const ln=S(h("fi20"));l.MeetingSessionLifecycleEventCondition=ln.default;const Gt=S(h("aZba"));l.MeetingSessionStatus=Gt.default;const In=S(h("papz"));l.MeetingSessionStatusCode=In.default;const Jn=S(h("42jQ"));l.MeetingSessionTURNCredentials=Jn.default;const z=S(h("GZjp"));l.MeetingSessionURLs=z.default;const ce=S(h("ZS2b"));l.MeetingSessionVideoAvailability=ce.default;const Me=S(h("HXIC"));l.Message=Me.default;const Ne=S(h("wSXL"));l.MessagingSessionConfiguration=Ne.default;const Ke=S(h("DE61"));l.ModelSpecBuilder=Ke.default;const vt=S(h("Hi4k"));l.MonitorTask=vt.default;const Et=S(h("N8ne"));l.MultiLogger=Et.default;const Tt=S(h("P7Xm"));l.NScaleVideoUplinkBandwidthPolicy=Tt.default;const $e=S(h("4w5z"));l.NoOpAudioVideoController=$e.default;const At=S(h("ZHiL"));l.NoOpDebugLogger=At.default;const Dt=S(h("9oOt"));l.NoOpDeviceController=Dt.default;const wn=S(h("sdHd"));l.NoOpEventReporter=wn.default;const fn=S(h("aZJ3"));l.NoOpLogger=fn.default;const Un=S(h("3niY"));l.NoOpMediaStreamBroker=Un.default;const li=S(h("mZDK"));l.NoOpTask=li.default;const Mi=S(h("9bRS"));l.NoOpVideoElementFactory=Mi.default;const Ai=S(h("ZZPe"));l.NoOpVideoFrameProcessor=Ai.default;const hi=S(h("1i73"));l.NoVideoDownlinkBandwidthPolicy=hi.default;const pi=S(h("VWHd"));l.NoVideoUplinkBandwidthPolicy=pi.default;const yn=S(h("QUzi"));l.NotFoundError=yn.default;const ji=S(h("u3ud"));l.NotReadableError=ji.default;const Ui=S(h("ZnGd"));l.OnceTask=Ui.default;const Hi=S(h("uB5g"));l.OpenSignalingConnectionTask=Hi.default;const Or=S(h("wJ81"));l.OverconstrainedError=Or.default;const Ii=S(h("reWd"));l.POSTLogger=Ii.default;const Sr=S(h("W+eo"));l.ParallelGroupTask=Sr.default;const qn=S(h("wkYg"));l.PermissionDeniedError=qn.default;const vi=S(h("18tZ"));l.PrefetchOn=vi.default;const mi=S(h("aApz"));l.PrefetchSortBy=mi.default;const _i=S(h("FMuk"));l.PromiseQueue=_i.default;const Yn=S(h("hspq"));l.PromoteToPrimaryMeetingTask=Yn.default;const Ut=S(h("iA6Z"));l.RealtimeAttendeePositionInFrame=Ut.default;const nr=S(h("9Bli"));l.RealtimeState=nr.default;const Bs=S(h("vhVE"));l.RealtimeVolumeIndicator=Bs.default;const Qr=S(h("rkwE"));l.ReceiveAudioInputTask=Qr.default;const dr=S(h("5Y0c"));l.ReceiveRemoteVideoPauseResumeTask=dr.default;const Zr=S(h("uQRK"));l.ReceiveTURNCredentialsTask=Zr.default;const qr=S(h("fxRI"));l.ReceiveVideoInputTask=qr.default;const ur=S(h("rw3l"));l.ReceiveVideoStreamIndexTask=ur.default;const Fs=S(h("Zful"));l.ReconnectionHealthPolicy=Fs.default;const Vs=S(h("3sEM"));l.RedundantAudioEncoder=Vs.default;const Li=S(h("OcJO"));l.RedundantAudioRecoveryMetricReport=Li.default;const Pr=S(h("e/M0"));l.RunnableTask=Pr.default;const xo=S(h("wXa7"));l.SDP=xo.default;const Us=S(h("JsnC"));l.SDPCandidateType=Us.default;const $r=S(h("2wCG"));l.SDPMediaSection=$r.default;const So=S(h("D7wJ"));l.SendAndReceiveDataMessagesTask=So.default;const ao=S(h("1GR6"));l.SendingAudioFailureConnectionHealthPolicy=ao.default;const Bo=S(h("K+bq"));l.SerialGroupTask=Bo.default;const vs=S(h("/AJg"));l.ServerSideNetworkAdaption=vs.default;const ys=S(h("K5tc"));l.SessionStateControllerAction=ys.default;const qo=S(h("JOZa"));l.SessionStateControllerDeferPriority=qo.default;const bs=S(h("AXyi"));l.SessionStateControllerState=bs.default;const Cs=S(h("Q2ix"));l.SessionStateControllerTransitionResult=Cs.default;const lo=S(h("XzFx"));l.SetLocalDescriptionTask=lo.default;const eo=S(h("fZkv"));l.SetRemoteDescriptionTask=eo.default;const ro=S(h("da6e"));l.SignalingAndMetricsConnectionMonitor=ro.default;const co=S(h("Sz6V"));l.SignalingClientConnectionRequest=co.default;const vo=S(h("0JTw"));l.SignalingClientEvent=vo.default;const yo=S(h("HbHZ"));l.SignalingClientEventType=yo.default;const Fo=S(h("OV1w"));l.SignalingClientJoin=Fo.default;const es=S(h("VhCr"));l.SignalingClientSubscribe=es.default;const vr=S(h("bQ+R"));l.SignalingClientVideoSubscriptionConfiguration=vr.default;const ts=S(h("wQGL"));l.SimulcastContentShareTransceiverController=ts.default;const Es=S(h("ezoW"));l.SimulcastLayers=Es.default;const ns=S(h("VYs+"));l.SimulcastTransceiverController=ns.default;const Kr=S(h("LIUS"));l.SimulcastVideoStreamIndex=Kr.default;const Vo=S(h("GW5S"));l.SingleNodeAudioTransformDevice=Vo.default;const _r=S(h("Tsvd"));l.StreamMetricReport=_r.default;const uo=S(h("ZISg"));l.SubscribeAndReceiveSubscribeAckTask=uo.default;const fo=S(h("w1x/"));l.TargetDisplaySize=fo.default;const Uo=S(h("IGBW"));l.TaskStatus=Uo.default;const oo=S(h("zcg+"));l.TimeoutScheduler=oo.default;const Hr=S(h("iQPr"));l.TimeoutTask=Hr.default;const bo=S(h("VPK4"));l.Transcript=bo.default;const Co=S(h("Z0UI"));l.TranscriptAlternative=Co.default;const zr=S(h("XYJD"));l.TranscriptEntity=zr.default;const ho=S(h("epkm"));l.TranscriptItem=ho.default;const Ho=S(h("QPT4"));l.TranscriptItemType=Ho.default;const Ts=S(h("Ka3M"));l.TranscriptLanguageWithScore=Ts.default;const Hs=S(h("nXJe"));l.TranscriptResult=Hs.default;const kr=S(h("PbSJ"));l.TranscriptionStatus=kr.default;const is=S(h("HrOX"));l.TranscriptionStatusType=is.default;const Wr=S(h("sf8V"));l.TypeError=Wr.default;const zs=S(h("I/xa"));l.UnusableAudioWarningConnectionHealthPolicy=zs.default;const Ws=S(h("ac3q"));l.Versioning=Ws.default;const Jr=S(h("rCkh"));l.VideoAdaptiveProbePolicy=Jr.default;const Eo=S(h("CAce"));l.VideoCodecCapability=Eo.default;const rs=S(h("AtlK"));l.VideoFxProcessor=rs.default;const zo=S(h("10yS"));l.VideoLogEvent=zo.default;const Is=S(h("XJKy"));l.VideoOnlyTransceiverController=Is.default;const ir=S(h("h96U"));l.VideoPreference=ir.default;const Wo=S(h("T44/"));l.VideoPreferences=Wo.default;const To=S(h("5/lR"));l.VideoPriorityBasedPolicy=To.default;const os=S(h("BY2i"));l.VideoPriorityBasedPolicyConfig=os.default;const ws=S(h("my46"));l.VideoQualitySettings=ws.default;const Yr=S(h("7p5e"));l.VideoSource=Yr.default;const js=S(h("OEM7"));l.VideoStreamDescription=js.default;const jo=S(h("uQnq"));l.VideoTileState=jo.default;const fr=S(h("eWGP"));l.VoiceFocusDeviceTransformer=fr.default;const Go=S(h("aMTh"));l.VoiceFocusTransformDevice=Go.default;const ss=S(h("xeHQ"));l.WaitForAttendeePresenceTask=ss.default;const as=S(h("z8+u"));l.WebSocketReadyState=as.default;const $o=S(h("aTUL"));l.ZLIBTextCompressor=$o.default;const Io=h("T44/");Object.defineProperty(l,"MutableVideoPreferences",{enumerable:!0,get:function(){return Io.MutableVideoPreferences}});const wo=h("Aplu");Object.defineProperty(l,"Some",{enumerable:!0,get:function(){return wo.Some}}),Object.defineProperty(l,"None",{enumerable:!0,get:function(){return wo.None}}),Object.defineProperty(l,"Maybe",{enumerable:!0,get:function(){return wo.Maybe}});const ls=h("6k+I");Object.defineProperty(l,"isAudioTransformDevice",{enumerable:!0,get:function(){return ls.isAudioTransformDevice}});const ds=h("crgu");Object.defineProperty(l,"isDestroyable",{enumerable:!0,get:function(){return ds.isDestroyable}});const Xr=h("0OOd");Object.defineProperty(l,"isVideoTransformDevice",{enumerable:!0,get:function(){return Xr.isVideoTransformDevice}})},tFDz:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const f=h("KvYa"),u=h("nJ1/"),g=5*1e3;let a=o(class extends u.VoiceFocusAudioWorkletNode{onModuleBufferLoaded(i,e){this.port.postMessage({message:"module-buffer",buffer:i,key:e})}onModuleLoaded(i,e){this.port.postMessage({message:"module",module:i,key:e})}enable(){return S(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var i;return S(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(i=this.worker)===null||i===void 0||i.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()})}onProcessorMessage(i){var e,t,n;const r=i.data;switch(r.message){case"cpu":this.cpuWarningCount++;const c=Date.now(),p=this.cpuWarningLastTriggered||c,m=Math.abs(c-p);(!this.cpuWarningLastTriggered||m>g)&&((e=this.logger)===null||e===void 0||e.warn(`CPU warning (count: ${this.cpuWarningCount}):`,r.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=c),(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;default:(n=this.logger)===null||n===void 0||n.debug("Ignoring processor message.")}}onWorkerMessage(i){const e=i.data;switch(e.message){case"module-buffer":if(!e.buffer||!e.key)return;this.onModuleBufferLoaded(e.buffer,e.key);break;case"module":if(!e.module||!e.key)return;this.onModuleLoaded(e.module,e.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}constructor(i,e){super(i,e.processor,e),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:t,worker:n,fetchBehavior:r,logger:c,delegate:p}=e;this.logger=c,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=p,c&&c.debug("VoiceFocusInlineNode:",t),this.worker=n,this.worker.onmessage=this.onWorkerMessage.bind(this);const m=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:m,key:"model",fetchBehavior:r,path:t})}},"VoiceFocusInlineNode");l.default=a},tK6J:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("6/h7")),g=f(h("8wPz"));let a=o(class NS{sortedDeviceList(){return S(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((e,t)=>e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const i of this.deviceChangeListeners)u.default.nextTick(()=>{if(this.deviceChangeListeners.has(i)){const e=new Event("devicechange");typeof i=="function"?i(e):i.handleEvent(e)}})}constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(i,e,t)=>{if(!Reflect.has(i,e))return;if(!("ondevicechange"in navigator.mediaDevices)){if(e==="addEventListener")return this.patchAddEventListener(i,e,t);if(e==="removeEventListener")return this.patchRemoveEventListener(i,e,t)}const n=Reflect.get(i,e,t);return typeof n=="function"?n.bind(i):n},this.patchAddEventListener=(i,e,t)=>{const n=Reflect.get(i,e,t);return(r,c,p)=>{if(r==="devicechange")this.deviceChangeListeners.add(c),this.scheduler||(this.scheduler=new g.default(NS.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(n,i,[r,c,p])}},this.patchRemoveEventListener=(i,e,t)=>{const n=Reflect.get(i,e,t);return(r,c,p)=>{if(r==="devicechange")this.deviceChangeListeners.delete(c),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(n,i,[r,c,p])}},this.pollDeviceLists=()=>S(this,void 0,void 0,function*(){const i=yield this.sortedDeviceList();this.devices&&(i.length!==this.devices.length||i.some((t,n)=>t.deviceId!==this.devices[n].deviceId))&&this.handleDeviceChangeEvent(),this.devices=i})}},"MediaDeviceProxyHandler");l.default=a,a.INTERVAL_MS=1e3},tMH2:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("papz")),g=f(h("wXa7")),a=f(h("j+uH"));let s=o(class xS extends a.default{removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(e=e||new Error(`canceling ${this.name()}`),this.cancelPromise(e),delete this.cancelPromise)}run(){return S(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new g.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`);return}}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new g.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((e,t)=>{this.cancelPromise=n=>{this.removeEventListener(),t(n)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),e(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=n=>{if(this.context.logger.info(`ice candidate: ${n.candidate?n.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),n.candidate&&(g.default.isRTPCandidate(n.candidate.candidate)&&this.context.iceCandidates.push(n.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),e(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new g.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(t(new Error("no ice candidates were gathered")),delete this.cancelPromise):(e(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(e){throw e}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}constructor(e,t=xS.CHROME_VPN_TIMEOUT_MS){super(e.logger),this.context=e,this.chromeVpnTimeoutMs=t,this.taskName="FinishGatheringICECandidatesTask"}},"FinishGatheringICECandidatesTask");l.default=s,s.CHROME_VPN_TIMEOUT_MS=5e3},tcc5:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionLifecycleEvent=void 0;var S;(function(f){f[f.Connecting=0]="Connecting",f[f.Started=1]="Started",f[f.Stopped=2]="Stopped"})(S=l.MeetingSessionLifecycleEvent||(l.MeetingSessionLifecycleEvent={})),l.default=S},teem:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("hEYi")),g=f(h("aVV0"));let a=o(class extends g.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(i){throw i}finally{for(const e of this.context.removableObservers)e.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const i=this.context.videoTileController.getLocalVideoTile();i&&i.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((i,e)=>{let t=o(class{cancel(){this.signalingClient.removeObserver(this),e(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(c){c.type===u.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),i())}constructor(c){this.signalingClient=c}},"Interceptor");const n=new t(this.context.signalingClient);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)})}constructor(i){super(i.logger),this.context=i,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}},"CleanStoppedSessionTask");l.default=a},u3ud:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("KJDN"));let u=o(class extends f.default{constructor(a){super(a),this.name="NotReadableError"}},"NotReadableError");l.default=u},uB5g:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("Sz6V")),g=f(h("HbHZ")),a=f(h("j+uH"));let s=o(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){const e=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new u.default(e.urls.signalingURL,e.credentials.joinToken));const t=Date.now();try{yield new Promise((n,r)=>{let c=o(class{cancel(){this.signalingClient.removeObserver(this),r(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(d){switch(d.type){case g.default.WebSocketOpen:this.signalingClient.removeObserver(this),n();break;case g.default.WebSocketFailed:this.signalingClient.removeObserver(this),r(new Error("WebSocket connection failed"));break}}constructor(d){this.signalingClient=d}},"WebSocketOpenInterceptor");const p=new c(this.context.signalingClient);this.context.signalingClient.registerObserver(p),this.taskCanceler=p})}catch(n){throw n}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-t),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}})}constructor(e){super(e.logger),this.context=e,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}},"OpenSignalingConnectionTask");l.default=s},uCvS:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const f=h("f2XL"),u=S(h("LmyK")),g=S(h("mpmV")),a=S(h("2oFa"));let s=o(class BS{getMetricMap(e,t){switch(e){case g.default.AUDIO:switch(t){case u.default.UPSTREAM:return this.audioUpstreamMetricMap;case u.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case g.default.VIDEO:switch(t){case u.default.UPSTREAM:return this.videoUpstreamMetricMap;case u.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(e){if(this.overriddenObservableMetrics.has(e))return this.overriddenObservableMetrics.get(e);const t=this.observableMetricSpec[e],r=this.getMetricMap(t.media,t.dir)[t.source],{transform:c,source:p}=r;if(t.hasOwnProperty("media"))for(const m in this.streamMetricReports){const d=this.streamMetricReports[m];if(d.direction===t.dir&&d.mediaType===t.media)return c(p||t.source,Number(m))}else return c(p||t.source);return 0}getObservableVideoMetricValue(e,t){const n=this.observableVideoMetricSpec[e],c=this.getMetricMap(n.media,n.dir)[n.source],{transform:p,source:m}=c;return p(m||n.source,t)}getObservableMetrics(){const e={};for(const t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}getObservableVideoMetrics(){const e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(const t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===g.default.VIDEO){const n={};for(const m in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[m].dir===this.streamMetricReports[t].direction){const d=this.getObservableVideoMetricValue(m,Number(t));isNaN(d)||(n[m]=d)}const r=this.streamMetricReports[t].groupId,c=this.streamMetricReports[t].streamId;let p="";this.videoStreamIndex.attendeeIdForGroupId!==void 0?p=r?this.videoStreamIndex.attendeeIdForGroupId(r):this.selfAttendeeId:p=c?this.videoStreamIndex.attendeeIdForStreamId(c):this.selfAttendeeId,e[p]=e[p]?e[p]:{},e[p][t]=n}return e}getRTCStatsReport(){return this.rtcStatsReport}clone(){const e=new BS(this.logger,this.videoStreamIndex,this.selfAttendeeId);return e.globalMetricReport=this.globalMetricReport,e.streamMetricReports=this.streamMetricReports,e.rtcStatsReport=this.rtcStatsReport,e.customStatsReports=this.customStatsReports,e.currentTimestampMs=this.currentTimestampMs,e.previousTimestampMs=this.previousTimestampMs,e.overriddenObservableMetrics=this.overriddenObservableMetrics,e}print(){const e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>`Client Metric Report: ${JSON.stringify(e)}`)}removeDestroyedSsrcs(){for(const e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}overrideObservableMetric(e,t){this.overriddenObservableMetrics.set(e,t)}constructor(e,t,n){this.logger=e,this.videoStreamIndex=t,this.selfAttendeeId=n,this.globalMetricReport=new a.default,this.streamMetricReports={},this.rtcStatsReport={},this.customStatsReports=[],this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.overriddenObservableMetrics=new Map,this.identityValue=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;return Number(p.currentMetrics[r])},this.decoderLossPercent=(r,c)=>{const p=this.streamMetricReports[c],m=p.currentMetrics.concealedSamples-(p.previousMetrics.concealedSamples||0),d=p.currentMetrics.totalSamplesReceived-(p.previousMetrics.totalSamplesReceived||0);return d<=0||d-m<=0?0:m/d*100},this.packetLossPercent=(r,c)=>{const p=this.streamMetricReports[c],m=p.currentMetrics[r]-(p.previousMetrics[r]||0),d=p.currentMetrics.packetsLost-(p.previousMetrics.packetsLost||0),y=m+d;return y<=0||d<=0?0:d*100/y},this.jitterBufferMs=(r,c)=>{const p=this.streamMetricReports[c],m=p.currentMetrics.jitterBufferDelay-(p.previousMetrics.jitterBufferDelay||0),d=p.currentMetrics.jitterBufferEmittedCount-(p.previousMetrics.jitterBufferEmittedCount||0);return m<=0||d<=0?0:m/d*1e3},this.countPerSecond=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;let m=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(m<=0)return 0;this.previousTimestampMs<=0&&(m=1);const d=p.currentMetrics[r]-(p.previousMetrics[r]||0);return d<=0?0:Math.trunc(d/m)},this.bitsPerSecond=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;let m=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(m<=0)return 0;this.previousTimestampMs<=0&&(m=1);const d=(p.currentMetrics[r]-(p.previousMetrics[r]||0))*8;return d<=0?0:Math.trunc(d/m)},this.secondsToMilliseconds=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;return Number(p.currentMetrics[r]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(r,c)=>{const p=c?this.streamMetricReports[c]:this.globalMetricReport;let m=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(m<=0)return 0;this.previousTimestampMs<=0&&(m=1);const d=p.currentMetrics[r]-(p.previousMetrics[r]||0);return d<=0?0:d*1e3/m},this.averageCpuQualityLimitationDurationPerSecondInMilliseconds=(r,c)=>{const p=this.streamMetricReports[c];let m=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(m<=0)return 0;this.previousTimestampMs<=0&&(m=1);let d=0,y=0;for(const[w,k]of Object.entries(p.previousObjectMetrics[r]))w==="cpu"&&(d=k);for(const[w,k]of Object.entries(p.currentObjectMetrics[r]))w==="cpu"&&(y=k);const E=y-d;return E<=0?0:E*1e3/m},this.isHardwareImplementation=(r,c)=>{const p=this.streamMetricReports[c],m=String(p.currentStringMetrics[r]),d=m.includes("ExternalDecoder")||m.includes("ExternalEncoder")||m.includes("EncodeAccelerator")||m.includes("DecodeAccelerator"),y=m.includes("fallback from");return d&&!y?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:f.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.STUN_RTT_MS},audioLevel:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_MIC_AUDIO_LEVEL,source:"audioLevel"}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:f.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:f.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:f.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:f.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.RTC_SPK_BITRATE},audioLevel:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_AUDIO_LEVEL},totalAudioPacketsLost:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_LOST},totalAudioPacketsExpected:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_EXPECTED},totalAudioPacketsRecoveredRed:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_RED},totalAudioPacketsRecoveredFec:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_FEC}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:f.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE},qualityLimitationDurations:{transform:this.averageCpuQualityLimitationDurationPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_QUALITY_LIMITATION_DURATION_CPU}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:f.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:f.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE},totalFreezesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_FREEZE_DURATION},freezeCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FREEZE_COUNT},totalPausesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_PAUSE_DURATION},pauseCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PAUSE_COUNT},framesDropped:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_DROPPED_FPS}},this.streamDimensionMap={encoderImplementation:f.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:f.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:g.default.VIDEO,dir:u.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:g.default.VIDEO,dir:u.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:g.default.AUDIO,dir:u.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:g.default.AUDIO,dir:u.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:g.default.AUDIO,dir:u.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:g.default.VIDEO,dir:u.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:g.default.VIDEO,dir:u.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:g.default.AUDIO,dir:u.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:g.default.VIDEO,dir:u.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"},audioDownstreamLevel:{source:"audioLevel",media:g.default.AUDIO,dir:u.default.DOWNSTREAM},audioUpstreamLevel:{source:"audioLevel"}}}},"ClientMetricReport");l.default=s},uKXT:function(j,l,h){"use strict";var S=h("YBmv"),f=h("eP7z"),u=h("+Xah");function g(a){return a&&a.length?Object(S.a)(a,u.a,f.a):void 0}o(g,"min"),l.a=g},uQRK:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(t,n,r,c){function p(m){return m instanceof r?m:new r(function(d){d(m)})}return o(p,"adopt"),new(r||(r=Promise))(function(m,d){function y(k){try{w(c.next(k))}catch(V){d(V)}}o(y,"fulfilled");function E(k){try{w(c.throw(k))}catch(V){d(V)}}o(E,"rejected");function w(k){k.done?m(k.value):p(k.value).then(y,E)}o(w,"step"),w((c=c.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("papz")),g=f(h("42jQ")),a=f(h("ppUg")),s=f(h("ac3q")),i=f(h("j+uH"));let e=o(class extends i.default{cancel(){if(this.cancelPromise){const n=new Error(`canceling ${this.name()}`);this.cancelPromise(n),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){if(this.context.turnCredentials){this.context.logger.info("TURN credentials available, skipping credentials fetch");return}if(this.context.logger.error("missing TURN credentials - falling back to fetch"),!this.url){this.context.logger.info("TURN control url not supplied, skipping credentials fetch");return}const n={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new a.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})};this.context.logger.info(`requesting TURN credentials from ${this.url}`);const r=yield new Promise((c,p)=>S(this,void 0,void 0,function*(){this.cancelPromise=m=>{p(m)};try{const m=yield fetch(s.default.urlWithVersion(this.url),n);if(this.context.logger.info("received TURN credentials"),m.status&&m.status===403){p(new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.TURNCredentialsForbidden}`));return}if(m.status&&m.status===404){p(new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.MeetingEnded}`));return}c(yield m.json())}catch(m){p(m)}finally{delete this.cancelPromise}}));this.context.turnCredentials=new g.default,this.context.turnCredentials.password=r.password,this.context.turnCredentials.ttl=r.ttl,this.context.turnCredentials.uris=r.uris.map(c=>this.context.meetingSessionConfiguration.urls.urlRewriter(c)).filter(c=>!!c),this.context.turnCredentials.username=r.username})}constructor(n){super(n.logger),this.context=n,this.taskName="ReceiveTURNCredentialsTask",this.url=n.meetingSessionConfiguration.urls.turnControlURL,this.meetingId=n.meetingSessionConfiguration.meetingId,this.joinToken=n.meetingSessionConfiguration.credentials.joinToken}},"ReceiveTURNCredentialsTask");l.default=e},uQnq:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class FS{clone(){const u=new FS;return u.tileId=this.tileId,u.localTile=this.localTile,u.isContent=this.isContent,u.active=this.active,u.paused=this.paused,u.poorConnection=this.poorConnection,u.boundAttendeeId=this.boundAttendeeId,u.boundExternalUserId=this.boundExternalUserId,u.boundVideoStream=this.boundVideoStream,u.boundVideoElement=this.boundVideoElement,u.nameplate=this.nameplate,u.videoStreamContentWidth=this.videoStreamContentWidth,u.videoStreamContentHeight=this.videoStreamContentHeight,u.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,u.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,u.devicePixelRatio=this.devicePixelRatio,u.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,u.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,u.streamId=this.streamId,u}constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}},"VideoTileState");l.default=S},uTAD:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("MpTp"));let u=o(class{reset(){this.optimalReceiveSet=new f.default,this.subscribedReceiveSet=new f.default,this.videoSources=void 0}updateIndex(a){this.videoIndex=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(a)}updateMetrics(a){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(a){this.videoSources=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(a){const s=new f.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return s;const i=a.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId);if(this.videoSources===void 0)return i;const e=this.videoIndex.remoteStreamDescriptions(),t=new Map;for(const n of e)i.contain(n.streamId)&&t.set(n.attendeeId,n.streamId);for(const n of this.videoSources){const r=n.attendee.attendeeId;t.has(r)&&s.add(t.get(r))}return s}constructor(a){this.selfAttendeeId=a,this.reset()}},"AllHighestVideoBandwidthPolicy");l.default=u},uaNU:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("Lspx")),u=S(h("NBIk"));let g=o(class _d{partialCompare(s){return this.priority-s.priority}equals(s){return this.attendeeId===s.attendeeId&&this.targetSize===s.targetSize&&this.priority===s.priority&&this.degradationPreference===s.degradationPreference}clone(){return new _d(this.attendeeId,this.priority,this.targetSize,this.degradationPreference)}targetSizeToBitrateKbps(s){switch(s){case f.default.Maximum:return _d.MAXIMUM_BITRATE_KBPS;case f.default.High:return _d.HIGH_BITRATE_KBPS;case f.default.Medium:return _d.MID_BITRATE_KBPS;case f.default.Low:return _d.LOW_BITRATE_KBPS}}constructor(s,i,e,t){this.attendeeId=s,this.priority=i,this.targetSize=e!==void 0?e:f.default.Maximum,this.degradationPreference=t!==void 0?t:u.default.Balanced}},"VideoPreference");l.default=g,g.LOW_BITRATE_KBPS=300,g.MID_BITRATE_KBPS=600,g.HIGH_BITRATE_KBPS=1500,g.MAXIMUM_BITRATE_KBPS=1e4},uctb:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LogLevel=void 0;var S;(function(f){f[f.DEBUG=0]="DEBUG",f[f.INFO=1]="INFO",f[f.WARN=2]="WARN",f[f.ERROR=3]="ERROR",f[f.OFF=4]="OFF"})(S=l.LogLevel||(l.LogLevel={})),l.default=S},ukPp:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{create(){const u={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{u.paused=!0},play:()=>(u.paused=!1,Promise.resolve())};return u}},"NoOpVideoElementFactory");l.default=S},v4l7:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=l.numToUint8=l.isEmptyData=l.convertToBuffer=void 0;var S=h("AI3F");Object.defineProperty(l,"convertToBuffer",{enumerable:!0,get:function(){return S.convertToBuffer}});var f=h("N7sO");Object.defineProperty(l,"isEmptyData",{enumerable:!0,get:function(){return f.isEmptyData}});var u=h("sd34");Object.defineProperty(l,"numToUint8",{enumerable:!0,get:function(){return u.numToUint8}});var g=h("eeAN");Object.defineProperty(l,"uint32ArrayFrom",{enumerable:!0,get:function(){return g.uint32ArrayFrom}})},v5L4:function(j,l,h){"use strict";h.d(l,"a",function(){return t});var S=h("9oTK"),f=h.n(S),u=h("m8R6"),g=h("2XU3"),a=h("WCk1"),s=h("s4P+"),i=h("pjW8");const e={InvalidAccess:"invalid_access",EmptyQueryNotSupported:"empty_query_not_supported",InvalidSobjectApiName:"invalid_sobject_api_name",QueryTooShort:"query_too_short",AccessTokenExchangeFailed:"access_token_exchange_failed",TokenNotFound:"token_not_found",SalesforceOrgIdRequired:"salesforce_org_id_required"},t=Object(a.a)("sfdc.searchObjects generated fetcher",function(){var n=Object(S.coroutine)(function*(r,c,p){try{const m=["reason"],d=Object(u.a)(p,m),y=Object(i.b)(d);return yield r(Object(g.apiCall)({method:"sfdc.searchObjects",args:y,reason:p.reason}))}catch(m){throw Object(s.a)({getState:c}).error(`API call to sfdc.searchObjects
				with reason ${p.reason} failed, initiated by generated fetcher`),m}});return function(r,c,p){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetchersfdcSearchObjectsFetcher",description:"sfdc.searchObjects generated fetcher"}},"v6w+":function(j,l){function h(S,f){if(S==null)return{};var u={},g=Object.keys(S),a,s;for(s=0;s<g.length;s++)a=g[s],!(f.indexOf(a)>=0)&&(u[a]=S[a]);return u}o(h,"_objectWithoutPropertiesLoose"),j.exports=h,j.exports.__esModule=!0,j.exports.default=j.exports},v8aG:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class VS{equal(u){return this.remoteVideoAvailable===u.remoteVideoAvailable&&this.canStartLocalVideo===u.canStartLocalVideo}clone(){const u=new VS;return u.remoteVideoAvailable=this.remoteVideoAvailable,u.canStartLocalVideo=this.canStartLocalVideo,u}constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}},"MeetingSessionVideoAvailability");l.default=S},v9PG:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("dWQL"));let u=o(class US{clone(){return new US(this.videoMaxResolution,this.contentMaxResolution)}constructor(a=f.default.VideoResolutionHD,s=f.default.VideoResolutionFHD){this.videoMaxResolution=a,this.contentMaxResolution=s}},"MeetingFeatures");l.default=u},vapa:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.RawSha256=void 0;var S=h("9IN5"),f=function(){function u(){this.state=Int32Array.from(S.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o(u,"RawSha2561"),u.prototype.update=function(g){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,s=g.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>S.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=g[a++],s--,this.bufferLength===S.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},u.prototype.digest=function(){if(!this.finished){var g=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(a.setUint8(this.bufferLength++,128),s%S.BLOCK_SIZE>=S.BLOCK_SIZE-8){for(var i=this.bufferLength;i<S.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<S.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(S.BLOCK_SIZE-8,Math.floor(g/4294967296),!0),a.setUint32(S.BLOCK_SIZE-4,g),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(S.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},u.prototype.hashBuffer=function(){for(var g=this,a=g.buffer,s=g.state,i=s[0],e=s[1],t=s[2],n=s[3],r=s[4],c=s[5],p=s[6],m=s[7],d=0;d<S.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(a[d*4]&255)<<24|(a[d*4+1]&255)<<16|(a[d*4+2]&255)<<8|a[d*4+3]&255;else{var y=this.temp[d-2],E=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[d-15];var w=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[d]=(E+this.temp[d-7]|0)+(w+this.temp[d-16]|0)}var k=(((r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7))+(r&c^~r&p)|0)+(m+(S.KEY[d]+this.temp[d]|0)|0)|0,V=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;m=p,p=c,c=r,r=n+k|0,n=t,t=e,e=i,i=k+V|0}s[0]+=i,s[1]+=e,s[2]+=t,s[3]+=n,s[4]+=r,s[5]+=c,s[6]+=p,s[7]+=m},u}();l.RawSha256=f},vdHl:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MAX_HASHABLE_LENGTH=l.INIT=l.KEY=l.DIGEST_LENGTH=l.BLOCK_SIZE=void 0,l.BLOCK_SIZE=64,l.DIGEST_LENGTH=32,l.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],l.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},vhAZ:function(j,l,h){"use strict";j.exports=f;var S=h("j4TH");(f.prototype=Object.create(S.EventEmitter.prototype)).constructor=f;function f(u,g,a){if(typeof u!="function")throw TypeError("rpcImpl must be a function");S.EventEmitter.call(this),this.rpcImpl=u,this.requestDelimited=Boolean(g),this.responseDelimited=Boolean(a)}o(f,"Service"),f.prototype.rpcCall=o(function u(g,a,s,i,e){if(!i)throw TypeError("request must be specified");var t=this;if(!e)return S.asPromise(u,t,g,a,s,i);if(!t.rpcImpl){setTimeout(function(){e(Error("already ended"))},0);return}try{return t.rpcImpl(g,a[t.requestDelimited?"encodeDelimited":"encode"](i).finish(),o(function(r,c){if(r)return t.emit("error",r,g),e(r);if(c===null){t.end(!0);return}if(!(c instanceof s))try{c=s[t.responseDelimited?"decodeDelimited":"decode"](c)}catch(p){return t.emit("error",p,g),e(p)}return t.emit("data",c,g),e(null,c)},"rpcCallback"))}catch(n){t.emit("error",n,g),setTimeout(function(){e(n)},0);return}},"rpcCall"),f.prototype.end=o(function(g){return this.rpcImpl&&(g||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},"end")},vhVE:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}},"RealtimeVolumeIndicator");l.default=S},viNG:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.WebCryptoSha256=l.Ie11Sha256=void 0;var S=h("D3pN");S.__exportStar(h("ZIxo"),l);var f=h("dFEU");Object.defineProperty(l,"Ie11Sha256",{enumerable:!0,get:function(){return f.Sha256}});var u=h("b4Ml");Object.defineProperty(l,"WebCryptoSha256",{enumerable:!0,get:function(){return u.Sha256}})},vjEy:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.BlurStrengthMapper=void 0;const S={LOW:7,MEDIUM:15,HIGH:30};let f=o(class{static getBlurAmount(g,a){if(g<=0)throw new Error(`invalid value for blur strength: ${g}`);return Math.round(g*a.height/this.BLUR_STRENGTH_DIVISOR)}},"BlurStrengthMapper");l.BlurStrengthMapper=f,f.BLUR_STRENGTH_DIVISOR=540,l.default=S},"w1x/":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TargetDisplaySize=void 0;var S;(function(f){f[f.Low=0]="Low",f[f.Medium=1]="Medium",f[f.High=2]="High",f[f.Maximum=3]="Maximum"})(S=l.TargetDisplaySize||(l.TargetDisplaySize={})),l.default=S},wDi9:function(j,l,h){"use strict";j.exports=t;var S=h("j4TH"),f,u=S.LongBits,g=S.base64,a=S.utf8;function s(E,w,k){this.fn=E,this.len=w,this.next=void 0,this.val=k}o(s,"Op");function i(){}o(i,"noop");function e(E){this.head=E.head,this.tail=E.tail,this.len=E.len,this.next=E.states}o(e,"State");function t(){this.len=0,this.head=new s(i,0,0),this.tail=this.head,this.states=null}o(t,"Writer");var n=o(function(){return S.Buffer?o(function(){return(t.create=o(function(){return new f},"create_buffer"))()},"create_buffer_setup"):o(function(){return new t},"create_array")},"create");t.create=n(),t.alloc=o(function(w){return new S.Array(w)},"alloc"),S.Array!==Array&&(t.alloc=S.pool(t.alloc,S.Array.prototype.subarray)),t.prototype._push=o(function(w,k,V){return this.tail=this.tail.next=new s(w,k,V),this.len+=k,this},"push");function r(E,w,k){w[k]=E&255}o(r,"writeByte");function c(E,w,k){for(;E>127;)w[k++]=E&127|128,E>>>=7;w[k]=E}o(c,"writeVarint32");function p(E,w){this.len=E,this.next=void 0,this.val=w}o(p,"VarintOp"),p.prototype=Object.create(s.prototype),p.prototype.fn=c,t.prototype.uint32=o(function(w){return this.len+=(this.tail=this.tail.next=new p((w=w>>>0)<128?1:w<16384?2:w<2097152?3:w<268435456?4:5,w)).len,this},"write_uint32"),t.prototype.int32=o(function(w){return w<0?this._push(m,10,u.fromNumber(w)):this.uint32(w)},"write_int32"),t.prototype.sint32=o(function(w){return this.uint32((w<<1^w>>31)>>>0)},"write_sint32");function m(E,w,k){for(;E.hi;)w[k++]=E.lo&127|128,E.lo=(E.lo>>>7|E.hi<<25)>>>0,E.hi>>>=7;for(;E.lo>127;)w[k++]=E.lo&127|128,E.lo=E.lo>>>7;w[k++]=E.lo}o(m,"writeVarint64"),t.prototype.uint64=o(function(w){var k=u.from(w);return this._push(m,k.length(),k)},"write_uint64"),t.prototype.int64=t.prototype.uint64,t.prototype.sint64=o(function(w){var k=u.from(w).zzEncode();return this._push(m,k.length(),k)},"write_sint64"),t.prototype.bool=o(function(w){return this._push(r,1,w?1:0)},"write_bool");function d(E,w,k){w[k]=E&255,w[k+1]=E>>>8&255,w[k+2]=E>>>16&255,w[k+3]=E>>>24}o(d,"writeFixed32"),t.prototype.fixed32=o(function(w){return this._push(d,4,w>>>0)},"write_fixed32"),t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=o(function(w){var k=u.from(w);return this._push(d,4,k.lo)._push(d,4,k.hi)},"write_fixed64"),t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=o(function(w){return this._push(S.float.writeFloatLE,4,w)},"write_float"),t.prototype.double=o(function(w){return this._push(S.float.writeDoubleLE,8,w)},"write_double");var y=S.Array.prototype.set?o(function(w,k,V){k.set(w,V)},"writeBytes_set"):o(function(w,k,V){for(var N=0;N<w.length;++N)k[V+N]=w[N]},"writeBytes_for");t.prototype.bytes=o(function(w){var k=w.length>>>0;if(!k)return this._push(r,1,0);if(S.isString(w)){var V=t.alloc(k=g.length(w));g.decode(w,V,0),w=V}return this.uint32(k)._push(y,k,w)},"write_bytes"),t.prototype.string=o(function(w){var k=a.length(w);return k?this.uint32(k)._push(a.write,k,w):this._push(r,1,0)},"write_string"),t.prototype.fork=o(function(){return this.states=new e(this),this.head=this.tail=new s(i,0,0),this.len=0,this},"fork"),t.prototype.reset=o(function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(i,0,0),this.len=0),this},"reset"),t.prototype.ldelim=o(function(){var w=this.head,k=this.tail,V=this.len;return this.reset().uint32(V),V&&(this.tail.next=w.next,this.tail=k,this.len+=V),this},"ldelim"),t.prototype.finish=o(function(){for(var w=this.head.next,k=this.constructor.alloc(this.len),V=0;w;)w.fn(w.val,k,V),V+=w.len,w=w.next;return k},"finish"),t._configure=function(E){f=E,t.create=n(),f._configure()}},wJ81:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("KJDN"));let u=o(class extends f.default{constructor(a,s){super(a),this.constraint=s,this.name="OverconstrainedError"}},"OverconstrainedError");l.default=u},wQGL:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("VYs+"));let g=o(class Zc extends u.default{setEncodingParameters(s){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(s.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let n=0;n<t.encodings.length;n++)t.encodings[n].rid===u.default.LOW_LEVEL_NAME&&this.copyEncodingParams(s.get(u.default.LOW_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===u.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(s.get(u.default.HIGH_LEVEL_NAME),t.encodings[n]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}constructor(s,i,e){super(s,i,e);let t=2;this.videoQualityControlParameterMap=new Map;for(let n=0;n<Zc.NAME_ARR_ASCENDING.length;n++){const r=Zc.NAME_ARR_ASCENDING[n];this.videoQualityControlParameterMap.set(r,{rid:r,scaleResolutionDownBy:t,maxBitrate:Zc.BITRATE_ARR_ASCENDING[n]*1e3}),t=t/2}}},"SimulcastContentShareTransceiverController");l.default=g,g.NAME_ARR_ASCENDING=["low","hi"],g.BITRATE_ARR_ASCENDING=[300,1200]},"wR/T":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3}},"ConnectionHealthPolicyConfiguration");l.default=S},wSXL:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{generateSessionId(){const u=new Uint32Array(1);return window.crypto.getRandomValues(u)[0].toString()}constructor(u,g,a,s){this.userArn=u,this.messagingSessionId=g,this.endpointUrl=a,this.chimeClient=s,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}},"MessagingSessionConfiguration");l.default=S},wXa7:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("JsnC")),u=S(h("2wCG")),g=S(h("CAce"));let a=o(class mn{clone(){return new mn(this.sdp)}static isRTPCandidate(i){const e=/candidate[:](\S+) (\d+)/g.exec(i);return!(e===null||e[2]!=="1")}static linesToSDP(i){return new mn(i.join(mn.CRLF))}static candidateTypeFromString(i){switch(i){case f.default.Host:return f.default.Host;case f.default.ServerReflexive:return f.default.ServerReflexive;case f.default.PeerReflexive:return f.default.PeerReflexive;case f.default.Relay:return f.default.Relay}return null}static candidateType(i){const e=/a[=]candidate[:].* typ ([a-z]+) /g.exec(i);return e===null?null:mn.candidateTypeFromString(e[1])}static mediaType(i){const e=/m=(audio|video)/g.exec(i);if(e!==null)return e[1]}static mid(i){if(i.includes("a=mid:"))return i.replace(/^(a=mid:)/,"")}static direction(i){const e=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(i);if(e!==null)return e[1]}static splitLines(i){return i.trim().split(`
`).map(e=>e.trim())}static splitSections(i){return i.split(`
m=`).map((t,n)=>(n>0?"m="+t:t).trim()+mn.CRLF)}static findActiveCameraSection(i){let e=0,t=!1;for(const n of i){if(/^m=video/.test(n)&&(n.indexOf("sendrecv")>-1||n.indexOf("sendonly")===-1&&n.indexOf("recvonly")===-1&&n.indexOf("inactive")===-1)){t=!0;break}e++}return t===!1&&(e=-1),e}static extractSSRCsFromFIDGroupLine(i){return/^a=ssrc-group:FID\s(.+)/.exec(i)[1]}static matchPrefix(i,e){return mn.splitLines(i).filter(t=>t.indexOf(e)===0)}lines(){return this.sdp.split(mn.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(i){return mn.linesToSDP(this.lines().filter(e=>mn.candidateType(e)!==i))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(f.default.ServerReflexive)}withAudioMaxAverageBitrate(i){if(!i)return this.clone();i=Math.trunc(Math.min(Math.max(i,mn.rfc7587LowestBitrate),mn.rfc7587HighestBitrate));const e=this.lines(),t=mn.findOpusFmtpAttributes(e),n=mn.updateOpusFmtpAttributes(e,t,[`maxaveragebitrate=${i}`]);return mn.linesToSDP(n)}withStereoAudio(){const i=this.lines(),e=mn.findOpusFmtpAttributes(i),t=mn.updateOpusFmtpAttributes(i,e,["stereo=1","sprop-stereo=1"]);return mn.linesToSDP(t)}static findOpusFmtpAttributes(i){const e=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let t=!1;const n=[];for(const r of i)if(r.startsWith("m=audio")&&(n.push(null),t=!0),r.startsWith("m=video")&&(t=!1),t){const c=e.exec(r);c!==null&&(n[n.length-1]=`a=fmtp:${c[1]} `)}return n}static updateOpusFmtpAttributes(i,e,t){const n=[];let r=0,c=null;for(const p of i)if(p.startsWith("m=audio")&&(c=e[r],r++),p.startsWith("m=video")&&(c=null),c&&p.startsWith(c)){const m=p.slice(c.length).split(";"),d=[];for(const y of m)t.findIndex(w=>w.startsWith(y.split("=")[0]))<0&&d.push(y);for(const y of t)d.push(y);n.push(c+d.join(";"))}else n.push(p);return n}withUnifiedPlanFormat(){let i=this.sdp;return i.includes("mozilla")?this.clone():(i=i.replace("o=-","o=mozilla-chrome"),new mn(i))}getUniqueRtpHeaderExtensionId(i){const e=[];for(const n of i)if(/^a=extmap:/.test(n.trim())){const c=+n.split("a=extmap:")[1].split(" ")[0];e.includes(c)||e.push(c)}e.sort((n,r)=>n-r);let t=0;for(const n of e){if(n-t>1)return t+1;t=n}return t===14?-1:t+1}withVideoLayersAllocationRtpHeaderExtension(i){const e="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",t=i?i.getRtpHeaderExtensionId(e):-1,n=t===-1?this.getUniqueRtpHeaderExtensionId(mn.splitLines(this.sdp)):t,r=mn.splitSections(this.sdp),c=[];for(let m of r){if(/^m=video/.test(m)&&mn.getRtpHeaderExtensionIdInSection(m,e)===-1){const d=mn.splitLines(m),y=[];if(n===-1||this.hasRtpHeaderExtensionId(n)){c.push(m);continue}for(const E of d)if(y.push(E),/^a=sendrecv/.test(E.trim())){const w="a=extmap:"+n+" "+e;y.push(w)}m=y.join(mn.CRLF)+mn.CRLF}else if(t!==-1&&/^m=video/.test(m)&&mn.getRtpHeaderExtensionIdInSection(m,e)!==t){const d=mn.splitLines(m),y=[];for(const E of d){if(/^a=extmap:/.test(E.trim())&&E.split("a=extmap:")[1].split(" ")[1]===e){if(!this.hasRtpHeaderExtensionId(t)){const k="a=extmap:"+t+" "+e;y.push(k)}continue}y.push(E)}m=y.join(mn.CRLF)+mn.CRLF}c.push(m)}const p=c.join("");return new mn(p)}ssrcForVideoSendingSection(){const i=this.sdp,e=mn.splitSections(i);if(e.length<2)return"";const t=mn.findActiveCameraSection(e);if(t===-1)return"";const n=mn.matchPrefix(e[t],"a=ssrc-group:FID ");if(n.length<1)return"";const r=mn.extractSSRCsFromFIDGroupLine(n[0]),[c]=r.split(" ").map(p=>parseInt(p,10));return c.toString()}videoSendSectionHasDifferentSSRC(i){const e=this.ssrcForVideoSendingSection(),t=i.ssrcForVideoSendingSection();if(e===""||t==="")return!1;const n=parseInt(e,10),r=parseInt(t,10);return n!==r}removeH264SupportFromSendSection(){const i=this.sdp,e=mn.splitSections(i),t=mn.findActiveCameraSection(e);if(t===-1)return new mn(this.sdp);const n=e[t],r=mn.splitLines(n),c=[],p=new Map;r.forEach(E=>{if(/^a=rtpmap:/.test(E)){const w=/^a=rtpmap:([0-9]+)\s/.exec(E);w&&E.toLowerCase().includes("h264")&&c.push(parseInt(w[1],10))}if(/^a=fmtp:/.test(E)){const w=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(E);if(w&&w.length===3){const k=parseInt(w[1],10),V=parseInt(w[2],10);p.has(V)?p.get(V).push(k):p.set(V,[k])}}});const m=new Set;for(const E of c){m.add(E);const w=p.get(E);if(w)for(const k of w)m.add(k)}if(c.length>0){const E=r[0].split(" ");r[0]=E.filter(w=>!m.has(parseInt(w))).join(" ")}const d=r.filter(E=>{if(!E.includes("rtpmap")&&!E.includes("rtcp-fb")&&!E.includes("fmtp"))return!0;for(const w of m)if(E.includes(w.toString()))return!1;return!0});e[t]=d.join(mn.CRLF)+mn.CRLF;const y=e.join("");return new mn(y)}mediaSections(){const i=mn.splitSections(this.sdp);if(i.length<2)return[];const e=[];for(let t=1;t<i.length;t++){const n=new u.default,r=mn.splitLines(i[t]);for(const c of r){const p=mn.mediaType(c);if(p!==void 0){n.mediaType=p;continue}const m=mn.direction(c);if(m!==void 0){n.direction=m;continue}const d=mn.mid(c);if(d!==void 0){n.mid=d;continue}}e.push(n)}return e}static getRtpHeaderExtensionIdInSection(i,e){const t=mn.splitLines(i);for(const n of t)if(/^a=extmap:/.test(n.trim())){const r=n.split("a=extmap:")[1].split(" "),c=+r[0];if(r[1]===e)return c}return-1}getRtpHeaderExtensionId(i){const e=mn.splitSections(this.sdp);for(const t of e)if(/^m=video/.test(t)){const n=mn.getRtpHeaderExtensionIdInSection(t,i);if(n!==-1)return n}return-1}hasRtpHeaderExtensionId(i){const e=mn.splitLines(this.sdp);for(const t of e)if(/^a=extmap:/.test(t.trim())&&+t.split("a=extmap:")[1].split(" ")[0]===i)return!0;return!1}withVideoSendCodecPreferences(i){const e=this.sdp,t=mn.splitSections(e),n=mn.findActiveCameraSection(t);if(n===-1)return new mn(this.sdp);t[n]=this.sectionWithCodecPreferences(t[n],i);const r=t.join("");return new mn(r)}sectionWithCodecPreferences(i,e){const t=new Map,n=mn.splitLines(i);n.forEach(m=>{if(/^a=rtpmap:/.test(m))for(const d of e){if(!m.includes(`${d.codecName}/${d.codecCapability.clockRate}`))continue;const y=/^a=rtpmap:([0-9]+)\s/.exec(m);let E=!1;if(d.codecCapability.sdpFmtpLine!==void 0){for(const w of n)if(w.startsWith(`a=fmtp:${y[1]} ${d.codecCapability.sdpFmtpLine}`)){E=!0;break}}else E=!0;if(E){t.set(d.codecName,y[1]);break}}});const r=new Set(t.values()),c=n[0].split(" ").filter(m=>!r.has(m)),p=Array.from(t.values()).sort((m,d)=>{const y=e.findIndex(w=>t.get(w.codecName)===m),E=e.findIndex(w=>t.get(w.codecName)===d);return y-E});return c.splice(3,0,...p.values()),n[0]=c.join(" "),n.join(mn.CRLF)+mn.CRLF}highestPriorityVideoSendCodec(){const i=this.sdp,e=mn.splitSections(i),t=mn.findActiveCameraSection(e);if(t===-1)return;const n=mn.splitLines(e[t]),r=n[0].split(" ");if(r.length<4)return;const c=r[3];let p,m,d;for(const y of n){const E=/^a=rtpmap:([0-9]+)\s/.exec(y);if(E===null||E.length<2||E[1]!==c)continue;const k=y.split(" ")[1].split("/");if(!(k===void 0||k.length<2)){p=k[0],m=k[1];for(const V of n)if(V.startsWith(`a=fmtp:${c}`)){const N=V.split(" ");if(N===void 0||N.length<2)return;d=N[1];continue}break}}if(p!==void 0)return new g.default(p,{clockRate:parseInt(m),mimeType:`video/${p}`,sdpFmtpLine:d})}getAudioPayloadTypes(){const i=new Map,e=this.sdp,t=mn.splitSections(e);return i.set("opus",mn.findAudioPayloadType("opus",t)),i.set("red",mn.findAudioPayloadType("red",t)),i}static findAudioPayloadType(i,e){const t=`a=rtpmap:\\s*(\\d+)\\s+${i}\\/48000`,n=new RegExp(t);for(const r of e)if(/^m=audio/.test(r)){const c=n.exec(r);if(c!==null)return Number(c[1])}return 0}constructor(i){this.sdp=i}},"SDP");l.default=a,a.CRLF=`\r
`,a.rfc7587LowestBitrate=6e3,a.rfc7587HighestBitrate=51e4},wcin:function(j,l){(function(){var h=["user-blocking","user-visible","background"];class S{constructor(){this.channel_=new MessageChannel,this.sendPort_=this.channel_.port2,this.messages_={},this.nextMessageHandle_=1,this.channel_.port1.onmessage=t=>this.onMessageReceived_(t)}queueCallback(t){var n=this.nextMessageHandle_++;return this.messages_[n]=t,this.sendPort_.postMessage(n),n}cancelCallback(t){delete this.messages_[t]}onMessageReceived_(t){var n=t.data;if(n in this.messages_){var r=this.messages_[n];delete this.messages_[n],r()}}}o(S,"t");function f(){return f.instance_||(f.instance_=new S),f.instance_}o(f,"i");class u{constructor(t,n,r){r===void 0&&(r=0),this.callback_=t,this.callbackType_=null,this.handle_=null,this.canceled_=!1,this.schedule_(n,r)}isIdleCallback(){return this.callbackType_===0}isMessageChannelCallback(){return this.callbackType_===2}cancel(){if(!this.canceled_)switch(this.canceled_=!0,this.callbackType_){case 0:cancelIdleCallback(this.handle_);break;case 1:clearTimeout(this.handle_);break;case 2:f().cancelCallback(this.handle_);break;default:throw new TypeError("Unknown CallbackType")}}schedule_(t,n){if(n&&n>0)return this.callbackType_=1,void(this.handle_=setTimeout(()=>{this.runCallback_()},n));if(!h.includes(t))throw new TypeError("Invalid task priority : "+t);return t==="background"&&typeof requestIdleCallback=="function"?(this.callbackType_=0,void(this.handle_=requestIdleCallback(()=>{this.runCallback_()}))):typeof MessageChannel=="function"?(this.callbackType_=2,void(this.handle_=f().queueCallback(()=>{this.runCallback_()}))):(this.callbackType_=1,void(this.handle_=setTimeout(()=>{this.runCallback_()})))}runCallback_(){this.canceled_||this.callback_()}}o(u,"s");var g=0;class a{constructor(){this.head_=null,this.tail_=null}isEmpty(){return this.head_==null}push(t){if(typeof t!="object")throw new TypeError("Task must be an Object");t.tq_sequence_=g++,this.isEmpty()?(t.tq_prev_=null,this.head_=t):(t.tq_prev_=this.tail_,this.tail_.tq_next_=t),t.tq_next_=null,this.tail_=t}takeNextTask(){if(this.isEmpty())return null;var t=this.head_;return this.remove_(t),t}merge(t,n){if(typeof n!="function")throw new TypeError("Must provide a selector function.");if(t==null)throw new Error("sourceQueue cannot be null");for(var r=this.head_,c=null,p=t.head_;p;){var m=p;if(p=p.tq_next_,n(m)){for(t.remove_(m);r&&r.tq_sequence_<m.tq_sequence_;)c=r,r=r.tq_next_;this.insert_(m,c),c=m}}}toArray(){for(var t=this.head_,n=[];t!==null;)n.push(t),t=t.tq_next_;return n}insert_(t,n){if(n!=this.tail_){var r=n?n.tq_next_:this.head_;t.tq_next_=r,r.tq_prev_=t,t.tq_prev_=n,n!=null?n.tq_next_=t:this.head_=t}else this.push(t)}remove_(t){if(t==null)throw new Error("Expected task to be non-null");t===this.head_&&(this.head_=t.tq_next_),t===this.tail_&&(this.tail_=this.tail_.tq_prev_),t.tq_next_&&(t.tq_next_.tq_prev_=t.tq_prev_),t.tq_prev_&&(t.tq_prev_.tq_next_=t.tq_next_)}}o(a,"a");class s extends Event{constructor(t,n){if(!n||!h.includes(n.previousPriority))throw new TypeError("Invalid task priority: '"+n.previousPriority+"'");super(t),this.previousPriority=n.previousPriority}}o(s,"n");class i extends AbortController{constructor(t){if(t===void 0&&(t={}),super(),t==null&&(t={}),typeof t!="object")throw new TypeError("'init' is not an object");var n,r,c=t.priority===void 0?"user-visible":t.priority;if(!h.includes(c))throw new TypeError("Invalid task priority: '"+c+"'");this.priority_=c,this.isPriorityChanging_=!1,r=(n=this).signal,Object.defineProperties(r,{priority:{get:function(){return n.priority_},enumerable:!0},onprioritychange:{value:null,writable:!0,enumerable:!0}}),r.addEventListener("prioritychange",p=>{r.onprioritychange&&r.onprioritychange(p)})}setPriority(t){if(!h.includes(t))throw new TypeError("Invalid task priority: "+t);if(this.isPriorityChanging_)throw new DOMException("","NotAllowedError");if(this.signal.priority!==t){this.isPriorityChanging_=!0;var n=this.priority_;this.priority_=t;var r=new s("prioritychange",{previousPriority:n});this.signal.dispatchEvent(r),this.isPriorityChanging_=!1}}}o(i,"l"),self.scheduler===void 0&&(self.scheduler=new class{constructor(){this.queues_={},h.forEach(e=>{this.queues_[e]=new a}),this.pendingHostCallback_=null,this.signals_=new WeakMap}postTask(e,t){if((t=Object.assign({},t)).signal!==void 0){if(t.signal===null||!("aborted"in t.signal)||typeof t.signal.addEventListener!="function")return Promise.reject(new TypeError("'signal' is not a valid 'AbortSignal'"));if(t.signal&&t.signal.priority&&!h.includes(t.signal.priority))return Promise.reject(new TypeError("Invalid task priority: '"+t.signal.priority+"'"))}if(t.priority!==void 0&&(t.priority===null||!h.includes(t.priority)))return Promise.reject(new TypeError("Invalid task priority: '"+t.priority+"'"));if(t.delay===void 0&&(t.delay=0),t.delay=Number(t.delay),t.delay<0)return Promise.reject(new TypeError("'delay' must be a positive number."));var n={callback:e,options:t,resolve:null,reject:null,hostCallback:null,abortCallback:null,onTaskCompleted:function(){this.options.signal&&this.abortCallback&&(this.options.signal.removeEventListener("abort",this.abortCallback),this.abortCallback=null)},onTaskAborted:function(){this.hostCallback&&(this.hostCallback.cancel(),this.hostCallback=null),this.options.signal.removeEventListener("abort",this.abortCallback),this.abortCallback=null,this.reject(this.options.signal.reason)},isAborted:function(){return this.options.signal&&this.options.signal.aborted}},r=new Promise((c,p)=>{n.resolve=c,n.reject=p});return this.schedule_(n),r}schedule_(e){var t=e.options.signal;if(t){if(t.aborted)return void e.reject(t.reason);e.abortCallback=()=>{e.onTaskAborted()},t.addEventListener("abort",e.abortCallback)}e.options.delay>0?e.hostCallback=new u(()=>{e.hostCallback=null,this.onTaskDelayExpired_(e)},null,e.options.delay):(this.pushTask_(e),this.scheduleHostCallbackIfNeeded_())}onTaskDelayExpired_(e){this.pushTask_(e),this.pendingHostCallback_&&(this.pendingHostCallback_.cancel(),this.pendingHostCallback_=null),this.schedulerEntryCallback_()}onPriorityChange_(e){var t=this.signals_.get(e);if(t===void 0)throw new Error("Attempting to change priority on an unregistered signal");t!==e.priority&&(this.queues_[e.priority].merge(this.queues_[t],n=>n.options.signal===e),this.signals_.set(e,e.priority))}schedulerEntryCallback_(){this.pendingHostCallback_=null,this.runNextTask_(),this.scheduleHostCallbackIfNeeded_()}scheduleHostCallbackIfNeeded_(){var e=this.nextTaskPriority_();e!=null&&(e!=="background"&&this.pendingHostCallback_&&this.pendingHostCallback_.isIdleCallback()&&(this.pendingHostCallback_.cancel(),this.pendingHostCallback_=null),this.pendingHostCallback_||(this.pendingHostCallback_=new u(()=>{this.schedulerEntryCallback_()},e,0)))}pushTask_(e){var t;if(!h.includes(t=e.options.priority?e.options.priority:e.options.signal&&e.options.signal.priority?e.options.signal.priority:"user-visible"))throw new TypeError("Invalid task priority: "+t);if(e.options.signal&&e.options.signal.priority){var n=e.options.signal;this.signals_.has(n)||(n.addEventListener("prioritychange",()=>{this.onPriorityChange_(n)}),this.signals_.set(n,n.priority))}this.queues_[t].push(e)}runNextTask_(){var e=null;do{var t=this.nextTaskPriority_();if(t==null)return;e=this.queues_[t].takeNextTask()}while(e.isAborted());try{var n=e.callback();e.resolve(n)}catch(r){e.reject(r)}finally{e.onTaskCompleted()}}nextTaskPriority_(){for(var e=0;e<h.length;e++){var t=h[e];if(!this.queues_[t].isEmpty())return t}return null}},self.TaskController=i,self.TaskPriorityChangeEvent=s)})()},wiFD:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=void 0;function S(f){if(!Uint32Array.from){for(var u=new Uint32Array(f.length),g=0;g<f.length;)u[g]=f[g],g+=1;return u}return Uint32Array.from(f)}o(S,"uint32ArrayFrom"),l.uint32ArrayFrom=S},wjYw:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("HbHZ")),g=f(h("j+uH"));let a=o(class extends g.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(i){throw i}finally{for(const e of this.context.removableObservers)e.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const i=this.context.videoTileController.getLocalVideoTile();i&&i.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((i,e)=>{let t=o(class{cancel(){this.signalingClient.removeObserver(this),e(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(c){c.type===u.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),i())}constructor(c){this.signalingClient=c}},"Interceptor");const n=new t(this.context.signalingClient);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)})}constructor(i){super(i.logger),this.context=i,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}},"CleanStoppedSessionTask");l.default=a},wkYg:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("KJDN"));let u=o(class extends f.default{constructor(a,s){super(a,s),this.name="PermissionDeniedError"}},"PermissionDeniedError");l.default=u},wpDl:function(j,l,h){"use strict";var S=h("Ju5/"),f=h("fshX"),u=h("SiRs"),g=h("efZk"),a=S.a.isFinite,s=Math.min;function i(e){var t=Math[e];return function(n,r){if(n=Object(u.a)(n),r=r==null?0:s(Object(f.a)(r),292),r&&a(n)){var c=(Object(g.a)(n)+"e").split("e"),p=t(c[0]+"e"+(+c[1]+r));return c=(Object(g.a)(p)+"e").split("e"),+(c[0]+"e"+(+c[1]-r))}return t(n)}}o(i,"createRound"),l.a=i},x8On:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClientMetricReportMediaType=void 0;var S;(function(f){f[f.AUDIO=0]="AUDIO",f[f.VIDEO=1]="VIDEO"})(S=l.ClientMetricReportMediaType||(l.ClientMetricReportMediaType={})),l.default=S},xGEd:function(j,l,h){"use strict";j.exports=f;var S=h("kU+7");function f(s,i){this.lo=s>>>0,this.hi=i>>>0}o(f,"LongBits");var u=f.zero=new f(0,0);u.toNumber=function(){return 0},u.zzEncode=u.zzDecode=function(){return this},u.length=function(){return 1};var g=f.zeroHash="\0\0\0\0\0\0\0\0";f.fromNumber=o(function(i){if(i===0)return u;var e=i<0;e&&(i=-i);var t=i>>>0,n=(i-t)/4294967296>>>0;return e&&(n=~n>>>0,t=~t>>>0,++t>4294967295&&(t=0,++n>4294967295&&(n=0))),new f(t,n)},"fromNumber"),f.from=o(function(i){if(typeof i=="number")return f.fromNumber(i);if(S.isString(i))if(S.Long)i=S.Long.fromString(i);else return f.fromNumber(parseInt(i,10));return i.low||i.high?new f(i.low>>>0,i.high>>>0):u},"from"),f.prototype.toNumber=o(function(i){if(!i&&this.hi>>>31){var e=~this.lo+1>>>0,t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+t*4294967296)}return this.lo+this.hi*4294967296},"toNumber"),f.prototype.toLong=o(function(i){return S.Long?new S.Long(this.lo|0,this.hi|0,Boolean(i)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(i)}},"toLong");var a=String.prototype.charCodeAt;f.fromHash=o(function(i){return i===g?u:new f((a.call(i,0)|a.call(i,1)<<8|a.call(i,2)<<16|a.call(i,3)<<24)>>>0,(a.call(i,4)|a.call(i,5)<<8|a.call(i,6)<<16|a.call(i,7)<<24)>>>0)},"fromHash"),f.prototype.toHash=o(function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},"toHash"),f.prototype.zzEncode=o(function(){var i=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^i)>>>0,this.lo=(this.lo<<1^i)>>>0,this},"zzEncode"),f.prototype.zzDecode=o(function(){var i=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this},"zzDecode"),f.prototype.length=o(function(){var i=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?e===0?i<16384?i<128?1:2:i<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:t<128?9:10},"length")},xJ9D:function(j,l,h){"use strict";var S=this&&this.__createBinding||(Object.create?function(d,y,E,w){w===void 0&&(w=E),Object.defineProperty(d,w,{enumerable:!0,get:function(){return y[E]}})}:function(d,y,E,w){w===void 0&&(w=E),d[w]=y[E]}),f=this&&this.__setModuleDefault||(Object.create?function(d,y){Object.defineProperty(d,"default",{enumerable:!0,value:y})}:function(d,y){d.default=y}),u=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var y={};if(d!=null)for(var E in d)E!=="default"&&Object.prototype.hasOwnProperty.call(d,E)&&S(y,d,E);return f(y,d),y},g=this&&this.__awaiter||function(d,y,E,w){function k(V){return V instanceof E?V:new E(function(N){N(V)})}return o(k,"adopt"),new(E||(E=Promise))(function(V,N){function F(O){try{B(w.next(O))}catch(R){N(R)}}o(F,"fulfilled");function P(O){try{B(w.throw(O))}catch(R){N(R)}}o(P,"rejected");function B(O){O.done?V(O.value):k(O.value).then(F,P)}o(B,"step"),B((w=w.apply(d,y||[])).next())})},a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(l,"__esModule",{value:!0});const s=a(h("6Bxv")),i=a(h("lUhs")),e=a(h("V5IF")),t=u(h("DUgj")),n=a(h("hEYi")),r=a(h("COTZ")),c=h("f2XL"),p=a(h("aVV0"));let m=o(class extends p.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return g(this,void 0,void 0,function*(){const y=yield new Promise((E,w)=>{const k=this.context;k.turnCredentials=null;let V=o(class{cancel(){this.signalingClient.removeObserver(this),w(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(B){if(B.type===n.default.WebSocketClosed){let R=`The signaling connection was closed with code ${B.closeCode} and reason: ${B.closeReason}`;k.logger.warn(R);let D=i.default.SignalingBadRequest;B.closeCode===4410?(R="The meeting already ended.",k.logger.warn(R),D=i.default.MeetingEnded):B.closeCode>=4500&&B.closeCode<4600&&(D=i.default.SignalingInternalServerError),k.audioVideoController.handleMeetingSessionStatus(new s.default(D),new Error(R));return}if(B.type!==n.default.ReceivedSignalFrame)return;if(B.message.type===c.SdkSignalFrame.Type.JOIN_ACK){const R=B.message.joinack;if(R&&R.videoSubscriptionLimit&&(k.videoSubscriptionLimit=R.videoSubscriptionLimit),k.serverSupportsCompression=R==null?void 0:R.wantsCompressedSdp,(R==null?void 0:R.defaultServerSideNetworkAdaption)!==void 0&&R.defaultServerSideNetworkAdaption!==t.default.Default&&k.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const D=R.defaultServerSideNetworkAdaption;k.logger.info(`Overriding server side network adaption value to ${D}`),k.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(t.convertServerSideNetworkAdaptionEnumFromSignaled(D))}R&&R.turnCredentials?(k.turnCredentials=new e.default,k.turnCredentials.username=R.turnCredentials.username,k.turnCredentials.password=R.turnCredentials.password,k.turnCredentials.ttl=R.turnCredentials.ttl,k.turnCredentials.uris=R.turnCredentials.uris.map(D=>k.meetingSessionConfiguration.urls.urlRewriter(D)).filter(D=>!!D)):k.logger.error("missing TURN credentials in JoinAckFrame");return}if(B.message.type!==c.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const O=B.message.index;E(O)}constructor(B){this.signalingClient=B}},"IndexFrameInterceptor");const N=new V(this.context.signalingClient);this.context.signalingClient.registerObserver(N),this.taskCanceler=N,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const F=new r.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(F.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),F.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex!==void 0&&(F.wantsAllTemporalLayersInIndex=this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex()),F.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(F)});this.context.logger.info(`received first index ${JSON.stringify(y)}`),this.context.indexFrame=y})}constructor(y){super(y.logger),this.context=y,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}},"JoinAndReceiveIndexTask");l.default=m},xeHQ:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("papz")),g=f(h("j+uH"));let a=o(class extends g.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.NoAttendeePresent}`);this.cancelPromise(i),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){const i=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((e,t)=>{const n=o((r,c,p,m,d)=>{i===r&&c&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),e(),delete this.cancelPromise)},"handler");this.cancelPromise=r=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),t(r)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(n)})})}constructor(i){super(i.logger),this.context=i,this.taskName="WaitForAttendeePresenceTask"}},"WaitForAttendeePresenceTask");l.default=a},xsFo:function(j,l,h){"use strict";(function(S){Object.defineProperty(l,"__esModule",{value:!0}),l.convertToBuffer=void 0;var f=h("f/KM"),u=typeof S<"u"&&S.from?function(a){return S.from(a,"utf8")}:f.fromUtf8;function g(a){return a instanceof Uint8Array?a:typeof a=="string"?u(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}o(g,"convertToBuffer"),l.convertToBuffer=g}).call(this,h("HDXh").Buffer)},xxdO:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=h("7JaV");S.__exportStar(h("je3o"),l)},xzjI:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class extends Error{constructor(u,g){super(g||"Error fetching device."),this.cause=u,this.name="GetUserMediaError"}},"GetUserMediaError");l.default=S},yMiq:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(a,s,i,e){function t(n){return n instanceof i?n:new i(function(r){r(n)})}return o(t,"adopt"),new(i||(i=Promise))(function(n,r){function c(d){try{m(e.next(d))}catch(y){r(y)}}o(c,"fulfilled");function p(d){try{m(e.throw(d))}catch(y){r(y)}}o(p,"rejected");function m(d){d.done?n(d.value):t(d.value).then(c,p)}o(m,"step"),m((e=e.apply(a,s||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("aVV0"));let g=o(class extends u.default{run(){return S(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}constructor(s){super(s.logger),this.context=s,this.taskName="CleanRestartedSessionTask"}},"CleanRestartedSessionTask");l.default=g},yQ3g:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{start(u){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),u()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}constructor(u){this.timeoutMs=u,this.timer=null}},"TimeoutScheduler");l.default=S},yS4C:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(e,t,n,r){function c(p){return p instanceof n?p:new n(function(m){m(p)})}return o(c,"adopt"),new(n||(n=Promise))(function(p,m){function d(w){try{E(r.next(w))}catch(k){m(k)}}o(d,"fulfilled");function y(w){try{E(r.throw(w))}catch(k){m(k)}}o(y,"rejected");function E(w){w.done?p(w.value):c(w.value).then(d,y)}o(E,"step"),E((r=r.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("+DE9")),g=f(h("R+jL")),a=h("Aplu"),s=f(h("Z/hr"));let i=o(class{createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new u.default(new g.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return S(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const t=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,t.destroy()})}bindVideoElement(t,n){const r=this.getVideoTile(t);if(r===null){this.logger.warn(`Ignoring video element binding for unknown tile id ${t}`);return}r.bindVideoElement(n)}unbindVideoElement(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.getVideoTile(t);if(r===null){this.logger.warn(`Ignoring video element unbinding for unknown tile id ${t}`);return}this.logger.info("Unbinding the video element");const c=r.stateRef().boundVideoElement;r.bindVideoElement(null),n&&(this.logger.info("Cleaning up the video element"),s.default.disconnectVideoStreamFromVideoElement(c,!1))}startLocalVideoTile(){const t=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),t.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(t){const n=this.getVideoTile(t);n&&(this.currentPausedTilesByIds.has(t)||(this.audioVideoController.pauseReceivingStream(n.stateRef().streamId),this.currentPausedTilesByIds.add(t)),n.pause())}unpauseVideoTile(t){const n=this.getVideoTile(t);n&&(this.currentPausedTilesByIds.has(t)&&(this.audioVideoController.resumeReceivingStream(n.stateRef().streamId),this.currentPausedTilesByIds.delete(t)),n.unpause())}getVideoTile(t){return this.tileMap.has(t)?this.tileMap.get(t):null}getVideoTileArea(t){const n=t.state();let r=0,c=0;return n.boundVideoElement&&(r=n.boundVideoElement.clientHeight*n.devicePixelRatio,c=n.boundVideoElement.clientWidth*n.devicePixelRatio),r*c}getAllRemoteVideoTiles(){const t=new Array;return this.tileMap.forEach((n,r)=>{(!this.currentLocalTile||r!==this.currentLocalTile.id())&&t.push(n)}),t}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const r=this.tileFactory.makeTile(n,t,this,this.devicePixelRatioMonitor);return this.tileMap.set(n,r),r}removeVideoTile(t){if(!this.tileMap.has(t))return;const n=this.tileMap.get(t);this.currentLocalTile===n&&(this.currentLocalTile=null),n.destroy(),this.tileMap.delete(t),this.audioVideoController.forEachObserver(r=>{a.Maybe.of(r.videoTileWasRemoved).map(c=>c.bind(r)(t))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(t){const n=[];for(const r of this.getAllVideoTiles()){const c=r.state();c.boundAttendeeId===t&&(this.removeVideoTile(c.tileId),n.push(c.tileId))}return n}removeAllVideoTiles(){const t=Array.from(this.tileMap.keys());for(const n of t)this.removeVideoTile(n)}sendTileStateUpdate(t){this.audioVideoController.forEachObserver(n=>{a.Maybe.of(n.videoTileDidUpdate).map(r=>r.bind(n)(t))})}haveVideoTilesWithStreams(){for(const t of this.getAllVideoTiles())if(t.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(t){return!!this.getVideoTileForAttendeeId(t)}getVideoTileForAttendeeId(t){for(const n of this.getAllVideoTiles())if(n.state().boundAttendeeId===t)return n}captureVideoTile(t){const n=this.getVideoTile(t);return n?n.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}constructor(t,n,r){this.tileFactory=t,this.audioVideoController=n,this.logger=r,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=n.configuration.keepLastFrameWhenPaused}},"DefaultVideoTileController");l.default=i},ySOd:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(n,r,c,p){function m(d){return d instanceof c?d:new c(function(y){y(d)})}return o(m,"adopt"),new(c||(c=Promise))(function(d,y){function E(V){try{k(p.next(V))}catch(N){y(N)}}o(E,"fulfilled");function w(V){try{k(p.throw(V))}catch(N){y(N)}}o(w,"rejected");function k(V){V.done?d(V.value):m(V.value).then(E,w)}o(k,"step"),k((p=p.apply(n,r||[])).next())})},f=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("IsLT")),g=f(h("zd8f")),a=f(h("mlaT")),s=f(h("ZZPe")),i=f(h("kud1"));let e=o(class extends s.default{loadAssets(){return S(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return S(this,void 0,void 0,function*(){})}},"NoOpBackgroundReplacementProcessor"),t=o(class HS extends u.default{static create(r,c){return S(this,void 0,void 0,function*(){r=this.resolveSpec(r),c=this.resolveOptions(c),yield this.resolveOptionsAsync(c);const{logger:p}=c;if(!(yield HS.isSupported(r,c)))return p.warn("Using no-op processor because background replacement is not supported"),new e;p.info("Using background replacement filter");const d=new i.default(r,c);return yield d.loadAssets(),d})}static resolveOptions(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c=Object.assign({},r);return c.logger||(c.logger=new g.default("BackgroundReplacementProcessor",a.default.INFO)),super.resolveOptions(c)}static resolveOptionsAsync(r){return S(this,void 0,void 0,function*(){if(!r.imageBlob){const c=document.createElement("canvas");c.width=100,c.height=100;const p=c.getContext("2d");p.fillStyle="blue",p.fillRect(0,0,100,100);const m=yield new Promise(d=>{c.toBlob(d)});r.imageBlob=m}})}static isSupported(r,c){const p=Object.create(null,{isSupported:{get:()=>super.isSupported}});return S(this,void 0,void 0,function*(){r=this.resolveSpec(r),c=this.resolveOptions(c),yield this.resolveOptionsAsync(c);const m=c.imageBlob,d=URL.createObjectURL(m);try{yield i.default.loadImage(d)}catch(y){return c.logger.info(`Failed to fetch load replacement image ${y.message}`),!1}finally{URL.revokeObjectURL(d)}return p.isSupported.call(this,r,c)})}},"BackgroundReplacementVideoFrameProcessor");l.default=t},ya0l:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{},"ClientVideoStreamReceivingReport");l.default=S},yqyw:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("lUhs")),g=f(h("aVV0"));let a=o(class extends g.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()} due to the meeting status code: ${u.default.NoAttendeePresent}`);this.cancelPromise(i),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){const i=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((e,t)=>{const n=o((r,c,p,m,d)=>{i===r&&c&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),e(),delete this.cancelPromise)},"handler");this.cancelPromise=r=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),t(r)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(n)})})}constructor(i){super(i.logger),this.context=i,this.taskName="WaitForAttendeePresenceTask"}},"WaitForAttendeePresenceTask");l.default=a},yvTz:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(d,y,E,w){function k(V){return V instanceof E?V:new E(function(N){N(V)})}return o(k,"adopt"),new(E||(E=Promise))(function(V,N){function F(O){try{B(w.next(O))}catch(R){N(R)}}o(F,"fulfilled");function P(O){try{B(w.throw(O))}catch(R){N(R)}}o(P,"rejected");function B(O){O.done?V(O.value):k(O.value).then(F,P)}o(B,"step"),B((w=w.apply(d,y||[])).next())})},f=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("2nae")),g=f(h("HLgz")),a=f(h("Np2I")),s=f(h("Sa54")),i=f(h("Lrln")),e=f(h("0NFC")),t=f(h("Q8+J")),n=h("rwhO"),r=f(h("eeYi")),c=f(h("ULlC")),p=f(h("jHTc"));let m=o(class{get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return S(this,void 0,void 0,function*(){n.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),n.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),n.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),t.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const y=new s.default,E=`${y.name()} ${y.majorVersion()} (${y.version()})`;if(this.logger.info(`browser is ${E}`),y.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${y.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!y.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(y.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${y.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")),this._configuration.enableSVC&&(this._configuration.enableSVC=!1,this.logger.info("SVC is not successfully enabled since simulcast is enabled"))),this._configuration.enableSVC&&!y.supportsScalableVideoCoding()&&(this._configuration.enableSVC=!1,this.logger.info("SVC is only supported on Chromium-based browsers with version 111 or above"))}isSimulcastUplinkPolicy(y){return!!(y&&y.addObserver)}constructor(y,E,w,k){this._eventController=k,this._configuration=y,this._logger=E,this.checkBrowserSupportAndFeatureConfiguration(),t.default.addLogger(this._logger),t.default.register(),this._eventController||(this._eventController=new r.default(y,E)),w.eventController||(w.eventController=this.eventController),this.audioVideoController=new u.default(this._configuration,this._logger,new p.default(this._logger),w,new c.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=w,this.logger.info(`MeetingFeatures: ${JSON.stringify(y.meetingFeatures)}`);const V=new i.default(this._logger);this.contentShareController=new e.default(V,new u.default(e.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new p.default(this._logger),V,new c.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new g.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}},"DefaultMeetingSession");l.default=m},ywpn:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(c,p,m,d){function y(E){return E instanceof m?E:new m(function(w){w(E)})}return o(y,"adopt"),new(m||(m=Promise))(function(E,w){function k(F){try{N(d.next(F))}catch(P){w(P)}}o(k,"fulfilled");function V(F){try{N(d.throw(F))}catch(P){w(P)}}o(V,"rejected");function N(F){F.done?E(F.value):y(F.value).then(k,V)}o(N,"step"),N((d=d.apply(c,p||[])).next())})},f=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0});const u=h("GEtQ"),g=h("hlxM"),a=f(h("J93s")),s=f(h("Sa54")),i=f(h("59sL")),e=o(()=>a.default.builder().withSelfieSegmentationDefaults().build(),"CREATE_DEFAULT_MODEL_SPEC"),t="https://static.sdkassets.chime.aws",n={worker:`${t}/bgblur/workers/worker.js`,wasm:`${t}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${t}/bgblur/wasm/_cwt-wasm-simd.wasm`};let r=o(class{static defaultAssetSpec(){const p=i.default.sdkVersionSemVer;return{assetGroup:`sdk-${p.major}.${p.minor}`}}static createUrlWithParams(p,m){const d=new URL(p),y=Object.keys(m);for(const E of y)m[E]!==void 0&&d.searchParams.set(E,m[E]);return d.toString()}static resolveSpec(p){const{paths:m=n,model:d=e(),assetGroup:y=this.defaultAssetSpec().assetGroup,revisionID:E=this.defaultAssetSpec().revisionID}=p||{},w={assetGroup:y,revisionID:E,sdk:encodeURIComponent(i.default.sdkVersion),ua:encodeURIComponent(i.default.sdkUserAgentLowResolution)};return m.worker=this.createUrlWithParams(m.worker,w),m.wasm=this.createUrlWithParams(m.wasm,w),m.simd=this.createUrlWithParams(m.simd,w),d.path=this.createUrlWithParams(d.path,w),{paths:m,model:d,assetGroup:y,revisionID:E}}static resolveOptions(p){p.reportingPeriodMillis||(p.reportingPeriodMillis=1e3);const m=30;return p.filterCPUUtilization?(p.filterCPUUtilization<0||p.filterCPUUtilization>100)&&(p.logger.warn(`filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ${m} percent`),p.filterCPUUtilization=m):p.filterCPUUtilization=m,p}static isSupported(p,m){const{logger:d}=m;return typeof globalThis>"u"?(d.info("Browser does not have globalThis."),Promise.resolve(!1)):new s.default().supportsBackgroundFilter()?g.supportsWASM(globalThis,d)?this.supportsBackgroundFilter(globalThis,p,d):(d.info("Browser does not support WASM."),Promise.resolve(!1)):(d.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,m=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0;return S(this,void 0,void 0,function*(){if(!g.supportsWorker(p,d))return d.info("Browser does not support web workers."),!1;const y=m.paths.worker;try{const E=yield u.loadWorker(y,"BackgroundFilterWorker",{},null);try{E.terminate()}catch(w){d.info(`Failed to terminate worker. ${w.message}`)}return!0}catch(E){return d.info(`Failed to fetch and instantiate test worker ${E.message}`),!1}})}},"BackgroundFilterVideoFrameProcessor");l.default=r},yx2K:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(V,N,F,P){function B(O){return O instanceof F?O:new F(function(R){R(O)})}return o(B,"adopt"),new(F||(F=Promise))(function(O,R){function D($){try{X(P.next($))}catch(he){R(he)}}o(D,"fulfilled");function J($){try{X(P.throw($))}catch(he){R(he)}}o(J,"rejected");function X($){$.done?O($.value):B($.value).then(D,J)}o(X,"step"),X((P=P.apply(V,N||[])).next())})},f=this&&this.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("WHnE")),g=f(h("Sa54")),a=f(h("RUbL")),s=f(h("V4cD")),i=f(h("aVV0")),e=f(h("L+i+")),t=f(h("Yvks")),n=f(h("jmx1")),r=f(h("zN22")),c=f(h("CPHI")),p=f(h("2Bsk")),m=f(h("aSsB")),d=f(h("kph0")),y=f(h("SdmA")),E=f(h("NFcc")),w=f(h("+7ft"));let k=o(class zS{static delay(N){return S(this,void 0,void 0,function*(){return new Promise(F=>setTimeout(F,N))})}checkAudioInput(N){return S(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(N),yield this.meetingSession.audioVideo.stopAudioInput(),n.default.Succeeded}catch(F){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${F}`),F instanceof s.default?n.default.PermissionDenied:n.default.Failed}})}checkAudioOutput(N,F){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return S(this,void 0,void 0,function*(){try{const B=N?a.default.getIntrinsicDeviceId(N):"";return yield this.playTone(B,this.configuration.audioOutputFrequency,P),(yield F())?r.default.Succeeded:r.default.Failed}catch(B){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${B}`),r.default.Failed}finally{this.stopTone()}})}playTone(N,F,P){return S(this,void 0,void 0,function*(){const O=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=a.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=F,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const D=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,D),this.gainNode.gain.linearRampToValueAtTime(O,D+.1),this.oscillatorNode.start();const J=new u.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield J.bindAudioDevice({deviceId:N}))}catch(X){this.logger.error(`Failed to bind audio device: ${X}`)}try{yield J.bindAudioElement(P||new Audio)}catch(X){this.logger.error(`Failed to bind audio element: ${X}`)}yield J.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const N=1,F=.1,P=this.configuration.audioOutputGain,B=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(P,B+F+N),this.gainNode.gain.linearRampToValueAtTime(0,B+F*2+N),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(N){return S(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(N),yield this.meetingSession.audioVideo.stopVideoInput(),E.default.Succeeded}catch(F){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${F}`),F instanceof s.default?E.default.PermissionDenied:E.default.Failed}})}checkCameraResolution(N,F,P){return S(this,void 0,void 0,function*(){let B;try{const O=a.default.getIntrinsicDeviceId(N),R={video:this.calculateVideoConstraint(O,F,P)};B=yield navigator.mediaDevices.getUserMedia(R)}catch(O){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${F} height ${P} failed with error ${O}`),O&&O.name==="OverconstrainedError"?c.default.ResolutionNotSupported:O&&O.name==="NotAllowedError"?c.default.PermissionDenied:c.default.Failed}finally{B&&B.getTracks().forEach(function(O){O.stop()})}return c.default.Succeeded})}calculateVideoConstraint(N,F,P){const B=this.browserBehavior.requiresResolutionAlignment(F,P),O={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(O.deviceId=N,O.width=F,O.height=P):(O.deviceId={exact:N},O.width={exact:B[0]},O.height={exact:B[1]}),O}checkContentShareConnectivity(N){return S(this,void 0,void 0,function*(){let F=!1,P=!1;const B={contentShareDidStart:()=>{F=!0}},O={audioVideoDidStart:()=>{P=!0}};try{return this.meetingSession.audioVideo.addObserver(O),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(B),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(N),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return P&&F})),P?(yield this.stopMeeting(),F?p.default.Succeeded:p.default.TimedOut):p.default.ConnectionFailed}catch(R){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${R}`),R.name==="NotAllowedError"?p.default.PermissionDenied:p.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(O),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(B)}})}checkAudioConnectivity(N){return S(this,void 0,void 0,function*(){let F=!1;const P={packetsReceived:0},B=this.meetingSession.audioVideo,O={metricsDidReceive(D){D.getRTCStatsReport().forEach(J=>{J.type==="inbound-rtp"&&J.mediaType==="audio"&&(P.packetsReceived=J.packetsReceived)})}},R=o((D,J,X,$)=>{D===this.meetingSession.configuration.credentials.attendeeId&&J&&(F=!0)},"attendeePresenceHandler");try{yield B.startAudioInput(N)}catch(D){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${D}`),D instanceof s.default?t.default.AudioInputPermissionDenied:t.default.AudioInputRequestFailed}return B.realtimeSubscribeToAttendeeIdPresence(R),B.addObserver(O),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(F,P)})),B.removeObserver(O),B.realtimeUnsubscribeToAttendeeIdPresence(R),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(F,P)?t.default.Succeeded:t.default.AudioNotReceived):(B.removeObserver(O),B.realtimeUnsubscribeToAttendeeIdPresence(R),yield this.meetingSession.audioVideo.stopAudioInput(),t.default.ConnectionFailed)})}checkVideoConnectivity(N){return S(this,void 0,void 0,function*(){const F=this.meetingSession.audioVideo;let P=0;const B={metricsDidReceive(O){O.getRTCStatsReport().forEach(D=>{D.type==="outbound-rtp"&&D.mediaType==="video"&&(P=D.packetsSent)})}};try{yield F.startVideoInput(N)}catch(O){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${O}`),O instanceof s.default?y.default.VideoInputPermissionDenied:y.default.VideoInputRequestFailed}return F.addObserver(B),(yield this.startMeeting())?(F.startLocalVideoTile(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return P>0})),yield F.stopVideoInput(),yield this.stopMeeting(),F.removeObserver(B),P<=0?y.default.VideoNotSent:y.default.Succeeded):y.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return S(this,void 0,void 0,function*(){let N=!1;const F={metricsDidReceive(B){B.getRTCStatsReport().forEach(R=>{R.type==="candidate-pair"&&R.state==="succeeded"&&(N=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(B){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${B}`),d.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=B=>{const O=this.originalURLRewriter(B);return O.includes("transport=tcp")?"":O};const P=this.meetingSession.audioVideo;return P.addObserver(F),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return N})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),P.removeObserver(F),N?d.default.Succeeded:d.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,d.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return S(this,void 0,void 0,function*(){let N=!1;const F={metricsDidReceive(B){B.getRTCStatsReport().forEach(R=>{R.type==="candidate-pair"&&R.state==="succeeded"&&(N=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(B){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${B}`),m.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=B=>{const O=this.originalURLRewriter(B);return O.includes("transport=udp")?"":O};const P=this.meetingSession.audioVideo;return P.addObserver(F),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return N})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),P.removeObserver(F),N?m.default.Succeeded:m.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,m.default.ConnectionFailed)})}startMeeting(){return S(this,void 0,void 0,function*(){let N=!1;const F={audioVideoDidStart:()=>{N=!0}};return this.meetingSession.audioVideo.addObserver(F),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return N})),this.meetingSession.audioVideo.removeObserver(F),N})}stopMeeting(){return S(this,void 0,void 0,function*(){let N=!1;const F={audioVideoDidStop:P=>{N=!0}};return this.meetingSession.audioVideo.addObserver(F),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return N})),this.meetingSession.audioVideo.removeObserver(F),N})}executeTimeoutTask(N){return S(this,void 0,void 0,function*(){let F=!1,P=o(class extends i.default{cancel(){this.isCancelled=!0}run(){return S(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield N()){F=!0;break}yield zS.delay(this.waitDurationMs)}})}constructor(R,D){super(R),this.waitDurationMs=D,this.isCancelled=!1}},"CheckForConditionTask");return yield new e.default(this.logger,new P(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),F})}isAudioConnectionSuccessful(N,F){return N&&F.packetsReceived>0}constructor(N,F,P=new w.default){this.logger=N,this.meetingSession=F,this.configuration=P,this.browserBehavior=new g.default}},"DefaultMeetingReadinessChecker");l.default=k},"z8+u":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.WebSocketReadyState=void 0;var S;(function(f){f[f.None=0]="None",f[f.Connecting=1]="Connecting",f[f.Open=2]="Open",f[f.Closing=3]="Closing",f[f.Closed=4]="Closed"})(S=l.WebSocketReadyState||(l.WebSocketReadyState={})),l.default=S},zH6K:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(s,i,e,t){function n(r){return r instanceof e?r:new e(function(c){c(r)})}return o(n,"adopt"),new(e||(e=Promise))(function(r,c){function p(y){try{d(t.next(y))}catch(E){c(E)}}o(p,"fulfilled");function m(y){try{d(t.throw(y))}catch(E){c(E)}}o(m,"rejected");function d(y){y.done?r(y.value):n(y.value).then(p,m)}o(d,"step"),d((t=t.apply(s,i||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const u=f(h("F7zz")),g=f(h("BkFD"));let a=o(class WS{sortedDeviceList(){return S(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((e,t)=>e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const i of this.deviceChangeListeners)u.default.nextTick(()=>{if(this.deviceChangeListeners.has(i)){const e=new Event("devicechange");typeof i=="function"?i(e):i.handleEvent(e)}})}constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(i,e,t)=>{if(!Reflect.has(i,e))return;if(!("ondevicechange"in navigator.mediaDevices)){if(e==="addEventListener")return this.patchAddEventListener(i,e,t);if(e==="removeEventListener")return this.patchRemoveEventListener(i,e,t)}const n=Reflect.get(i,e,t);return typeof n=="function"?n.bind(i):n},this.patchAddEventListener=(i,e,t)=>{const n=Reflect.get(i,e,t);return(r,c,p)=>{if(r==="devicechange")this.deviceChangeListeners.add(c),this.scheduler||(this.scheduler=new g.default(WS.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(n,i,[r,c,p])}},this.patchRemoveEventListener=(i,e,t)=>{const n=Reflect.get(i,e,t);return(r,c,p)=>{if(r==="devicechange")this.deviceChangeListeners.delete(c),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(n,i,[r,c,p])}},this.pollDeviceLists=()=>S(this,void 0,void 0,function*(){const i=yield this.sortedDeviceList();this.devices&&(i.length!==this.devices.length||i.some((t,n)=>t.deviceId!==this.devices[n].deviceId))&&this.handleDeviceChangeEvent(),this.devices=i})}},"MediaDeviceProxyHandler");l.default=a,a.INTERVAL_MS=1e3},zN22:function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioOutputFeedback=void 0;var S;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed"})(S=l.CheckAudioOutputFeedback||(l.CheckAudioOutputFeedback={})),l.default=S},zNm1:function(j,l,h){"use strict";var S=this&&this.__awaiter||function(i,e,t,n){function r(c){return c instanceof t?c:new t(function(p){p(c)})}return o(r,"adopt"),new(t||(t=Promise))(function(c,p){function m(E){try{y(n.next(E))}catch(w){p(w)}}o(m,"fulfilled");function d(E){try{y(n.throw(E))}catch(w){p(w)}}o(d,"rejected");function y(E){E.done?c(E.value):r(E.value).then(m,d)}o(y,"step"),y((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0}),l.NoOpDeviceControllerWithEventController=void 0;const u=f(h("r9Lw")),g=f(h("dWQL"));let a=o(class extends u.default{destroy(){return S(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(e){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(e){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(e){return Promise.reject()}addDeviceChangeObserver(e){}removeDeviceChangeObserver(e){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(e){}stopVideoPreviewForVideoInput(e){}setDeviceLabelTrigger(e){}mixIntoAudioInput(e){return null}chooseVideoInputQuality(e,t,n){}getVideoInputQualitySettings(){return g.default.VideoDisabled}constructor(e){super(),this.destroyed=!1}},"NoOpDeviceController");l.default=a;let s=o(class extends a{constructor(e){super(),this.eventController=e}},"NoOpDeviceControllerWithEventController");l.NoOpDeviceControllerWithEventController=s},"zW/2":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isEmptyData=void 0;function S(f){return typeof f=="string"?f.length===0:f.byteLength===0}o(S,"isEmptyData"),l.isEmptyData=S},"zcg+":function(j,l,h){"use strict";Object.defineProperty(l,"__esModule",{value:!0});let S=o(class{start(u){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),u()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}constructor(u){this.timeoutMs=u,this.timer=null}},"TimeoutScheduler");l.default=S},zd8f:function(j,l,h){"use strict";var S=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const f=S(h("mlaT"));let u=o(class{info(a){this.log(f.default.INFO,a)}warn(a){this.log(f.default.WARN,a)}error(a){this.log(f.default.ERROR,a)}debug(a){f.default.DEBUG<this.level||(typeof a=="string"?this.log(f.default.DEBUG,a):a?this.log(f.default.DEBUG,a()):this.log(f.default.DEBUG,""+a))}setLogLevel(a){this.level=a}getLogLevel(){return this.level}log(a,s){if(a<this.level)return;const e=`${new Date().toISOString()} [${f.default[a]}] ${this.name} - ${s}`;switch(a){case f.default.ERROR:console.error(e);break;case f.default.WARN:console.warn(e);break;case f.default.DEBUG:console.debug(e.replace(/\\r\\n/g,`
`));break;case f.default.INFO:console.info(e);break}}constructor(a,s=f.default.WARN){this.name=a,this.level=s}},"ConsoleLogger");l.default=u}}]);})();
